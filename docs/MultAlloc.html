<!DOCTYPE html><html><head><title>Help for package MultAlloc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MultAlloc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BSSM_FC'><p>Optimal Allocation - Minimum Sample Size</p></a></li>
<li><a href='#BSSM_FD'><p>Optimal Allocation - Minimum Sum of Relative Variances</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Optimal Allocation in Stratified Sampling</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-12-26</td>
</tr>
<tr>
<td>Author:</td>
<td>Jose Brito, Pedro Silva, Nelson Maculan and Gustavo Semaan</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jose Brito &lt;jambrito@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Integer Programming Formulations Applied to Univariate and Multivariate Allocation Problems.</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rglpk</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-12-26 22:11:58 UTC; andre</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-12-27 10:25:54</td>
</tr>
</table>
<hr>
<h2 id='BSSM_FC'>Optimal Allocation - Minimum Sample Size</h2><span id='topic+BSSM_FC'></span>

<h3>Description</h3>

<p>Allocation of the overall sample size n to the strata for the following purpose:
</p>
<p>The total variable survey cost C (c1.n1+c2.n2+...+cH.nH)is minimized, subject to having Coefficients of Variation (CVs) for the estimates of totals of the m survey variables below specified thresholds.
</p>
<p>If the unit level survey costs for sampling from the various strata are unknown or are assumed to be the same, then c1,c2,...,cH may all be set to one and the alternative objective function to minimize is n1+n2+...+nH.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BSSM_FC(Nh,Sh2j,Yj,cvt,nmin,ch,certain)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BSSM_FC_+3A_nh">Nh</code></td>
<td>
<p>Vector with total number of population units in each stratum (h=1,...,H)</p>
</td></tr>
<tr><td><code id="BSSM_FC_+3A_sh2j">Sh2j</code></td>
<td>
<p>Matrix (or vector) mxH (m = number of variables and H =number of strata) with Population variance for each variable of the hth  stratum</p>
</td></tr>
<tr><td><code id="BSSM_FC_+3A_yj">Yj</code></td>
<td>
<p>Vector with population total Yj for the jth survey variable</p>
</td></tr>
<tr><td><code id="BSSM_FC_+3A_cvt">cvt</code></td>
<td>
<p>Vector with target cvs asociated with survey variables</p>
</td></tr>
<tr><td><code id="BSSM_FC_+3A_nmin">nmin</code></td>
<td>
<p>Smallest possible sample size in any stratum</p>
</td></tr>
<tr><td><code id="BSSM_FC_+3A_ch">ch</code></td>
<td>
<p>Vector with the unit level survey costs for sampling from stratum h</p>
</td></tr>
<tr><td><code id="BSSM_FC_+3A_certain">certain</code></td>
<td>
<p>if (nH=NH) =&gt; certain=TRUE else certain=FALSE </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function that uses an integer programming formulation</p>


<h3>Value</h3>

<table>
<tr><td><code>n</code></td>
<td>
<p>Sample size</p>
</td></tr>
<tr><td><code>nh</code></td>
<td>
<p>Sample of size by stratum</p>
</td></tr>
<tr><td><code>cvs</code></td>
<td>
<p>Coefficients of variation for the estimators of totals of the survey variables considered</p>
</td></tr>
<tr><td><code>time_cpu</code></td>
<td>
<p>Time consumed by the algorithm (seconds)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Brito (jambrito@gmail.com), Pedro Silva, Gustavo Semaan and Nelson Maculan
</p>


<h3>References</h3>

<p>Brito, J.A.M, Silva, P.L.N.,Semaan, G.S. and Maculan, N. (2015). Integer Programming Formulations Applied to Optimal Allocation in Stratified Sampling. Survey Methodology, 41, No.2, pp.427-442.</p>


<h3>See Also</h3>

<p>BSSM_FD</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Example1 - Number of survey variables (m=2) and seven strata (H=7)
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-c(542350,56089251)
Sh2j&lt;-rbind(c(4436978,5581445,33454902,5763294,8689167,3716130,13938505),
            c(11034299660,40919330279,33519355946,18228286901,74247764986,49062224184,5783096806))
cvt&lt;-c(0.02,0.02)
result&lt;-BSSM_FC(Nh,Sh2j,Yj,cvt)

#Example2
#nmin&gt;2
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-c(542350,56089251)
Sh2j&lt;-rbind(c(4436978,5581445,33454902,5763294,8689167,3716130,13938505),
            c(11034299660,40919330279,33519355946,18228286901,74247764986,49062224184,5783096806))
cvt&lt;-c(0.1,0.1)
nmin&lt;-20
result&lt;-BSSM_FC(Nh,Sh2j,Yj,cvt,nmin)

#Example3
#certain=TRUE
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-c(542350,56089251)
Sh2j&lt;-rbind(c(4436978,5581445,33454902,5763294,8689167,3716130,13938505),
            c(11034299660,40919330279,33519355946,18228286901,74247764986,49062224184,5783096806))
cvt&lt;-c(0.1,0.1)
result&lt;-BSSM_FC(Nh,Sh2j,Yj,cvt,certain=TRUE)


#Example4
#Number of survey variables m=1
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-542350
Sh2j&lt;-c(4436978,5581445,33454902,5763294,8689167,3716130,13938505)
cvt&lt;-0.1
result&lt;-BSSM_FC(Nh,Sh2j,Yj,cvt)
</code></pre>

<hr>
<h2 id='BSSM_FD'>Optimal Allocation - Minimum Sum of Relative Variances</h2><span id='topic+BSSM_FD'></span>

<h3>Description</h3>

<p>Allocation of the overall sample size n to the strata for the following purpose:
</p>
<p>A weighted sum of variances (or relative variances) of the estimates of totals for the m survey variables is minimized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BSSM_FD(Nh,Sh2j,Yj,Cust,nmin,ch,w,certain)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BSSM_FD_+3A_nh">Nh</code></td>
<td>
<p>Vector with total number of population units in each stratum (h=1,...,H)</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_sh2j">Sh2j</code></td>
<td>
<p>Matrix (or vector) mxH (m = number of variables and H =number of strata) with Population variance for each variable of the hth  stratum</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_yj">Yj</code></td>
<td>
<p>Vector with population total Yj for the jth survey variable</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_cust">Cust</code></td>
<td>
<p>Corresponds to the overall variable cost budget for the survey C</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_nmin">nmin</code></td>
<td>
<p>Smallest possible sample size in any stratum</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_ch">ch</code></td>
<td>
<p>Vector with the unit level survey costs for sampling from stratum h</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_w">w</code></td>
<td>
<p>Vector with Variable-specific weights, set a priori to represent the relative importance of the survey variables</p>
</td></tr>
<tr><td><code id="BSSM_FD_+3A_certain">certain</code></td>
<td>
<p>if (nH=NH) =&gt; certain=TRUE else certain=FALSE </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function that uses an integer programming formulation</p>


<h3>Value</h3>

<table>
<tr><td><code>n</code></td>
<td>
<p>Sample size</p>
</td></tr>
<tr><td><code>nh</code></td>
<td>
<p>Sample of size by stratum</p>
</td></tr>
<tr><td><code>cvs</code></td>
<td>
<p>Coefficients of variation for the estimators of totals of the survey variables considered</p>
</td></tr>
<tr><td><code>time_cpu</code></td>
<td>
<p>Time consumed by the algorithm (seconds)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Brito (jambrito@gmail.com), Pedro Silva, Gustavo Semaan and Nelson Maculan
</p>


<h3>References</h3>

<p>Brito, J.A.M, Silva, P.L.N.,Semaan, G.Srogramming Formulations Applied to Optimal Allocation in Stratified Sampling. Survey Methodology, 41, No.2, pp.427-442.</p>


<h3>See Also</h3>

<p>BSSM_FC</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Example1
#Unit level survey costs for sampling from the strata are assumed to be the same.
#Number of survey variables (m=2) and seven strata (H=7)
#ch=1 ==&gt; Cust = n
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-c(542350,56089251)
Sh2j&lt;-rbind(c(4436978,5581445,33454902,5763294,8689167,3716130,13938505),
            c(11034299660,40919330279,33519355946,18228286901,74247764986,49062224184,5783096806))
n&lt;-200 #sample size
result&lt;-BSSM_FD(Nh,Sh2j,Yj,Cust=n)

#Example2
#Unit level survey costs for sampling from the strata are assumed to be the same.
#ch=1 ==&gt; Cust = n
#nmin&gt;2
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-c(542350,56089251)
Sh2j&lt;-rbind(c(4436978,5581445,33454902,5763294,8689167,3716130,13938505),
            c(11034299660,40919330279,33519355946,18228286901,74247764986,49062224184,5783096806))
nmin&lt;-20
n&lt;-200
result&lt;-BSSM_FD(Nh,Sh2j,Yj,nmin,Cust=n)

#Example3
#certain=TRUE
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-c(542350,56089251)
Sh2j&lt;-rbind(c(4436978,5581445,33454902,5763294,8689167,3716130,13938505),
            c(11034299660,40919330279,33519355946,18228286901,74247764986,49062224184,5783096806))
n&lt;-200
result&lt;-BSSM_FD(Nh,Sh2j,Yj,Cust=n,certain=TRUE)


#Example4
#Relative importance of the survey variables is different
w&lt;-c(0.3,0.7)
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-c(542350,56089251)
Sh2j&lt;-rbind(c(4436978,5581445,33454902,5763294,8689167,3716130,13938505),
            c(11034299660,40919330279,33519355946,18228286901,74247764986,49062224184,5783096806))
n&lt;-200
result&lt;-BSSM_FD(Nh,Sh2j,Yj,Cust=n,w=w)


#Example5
#Number of survey variables m=1
Nh&lt;-c(49,78,20,39,73,82,89)
Yj&lt;-542350
Sh2j&lt;-c(4436978,5581445,33454902,5763294,8689167,3716130,13938505)
n&lt;-100
result&lt;-BSSM_FD(Nh,Sh2j,Yj,Cust=n)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

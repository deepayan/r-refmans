<!DOCTYPE html><html lang="en"><head><title>Help for package LexisPlotR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {LexisPlotR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lexis_age'><p>Emphasize a certain age in Lexis grid</p></a></li>
<li><a href='#lexis_cohort'><p>Emphasize a certain cohort in a Lexis grid</p></a></li>
<li><a href='#lexis_grid'><p>Plot a Lexis grid</p></a></li>
<li><a href='#lexis_lifeline'><p>Plot lifelines into a Lexis grid</p></a></li>
<li><a href='#lexis_polygon'><p>Plot a polygon inside a Lexis grid</p>
Takes an existing Lexis grid and adds a polygon.</a></li>
<li><a href='#lexis_year'><p>Emphasize a certain year in Lexis grid.</p></a></li>
<li><a href='#lexis.age'><p>Deprecated. Emphasize a certain age in Lexis grid</p></a></li>
<li><a href='#lexis.cohort'><p>Deprecated. Emphasize a certain cohort in a Lexis grid</p></a></li>
<li><a href='#lexis.grid'><p>Deprecated. Plot a Lexis grid</p></a></li>
<li><a href='#lexis.grid2'><p>Deprecated. Plot a Lexis grid</p></a></li>
<li><a href='#lexis.hmd'><p>Deprecated. Fill Lexis triangles by HMD data</p></a></li>
<li><a href='#lexis.lifeline'><p>Deprecated. Plot lifelines into a Lexis grid</p></a></li>
<li><a href='#lexis.survey'><p>Deprecated. Emphasize a survey range in a Lexis grid</p>
Takes an existing Lexis grid and adds a coloured parallelogram to highlight a survey range.</a></li>
<li><a href='#lexis.year'><p>Deprecated. Emphasize a certain year in Lexis grid.</p></a></li>
<li><a href='#lifelines_sample'><p>Data for 300 random lifelines</p></a></li>
<li><a href='#prepare.hmd'><p>Deprecated. Prepare HMD data for <code>lexis.hmd()</code></p></a></li>
<li><a href='#tidy_triangle_data'><p>Tidy triangular data (Lexis triangles)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Plot Lexis Diagrams for Demographic Purposes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philipp Ottolinger &lt;philipp@ottolinger.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Plots empty Lexis grids, adds lifelines and highlights certain areas of the grid, like cohorts and age groups.</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, dplyr, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, HMDHFDplus</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ottlngr/LexisPlotR">https://github.com/ottlngr/LexisPlotR</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-01-12 13:10:25 UTC; philipp</td>
</tr>
<tr>
<td>Author:</td>
<td>Philipp Ottolinger [cre, aut],
  Marieke Smilde-Becker [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-01-12 13:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='lexis_age'>Emphasize a certain age in Lexis grid</h2><span id='topic+lexis_age'></span>

<h3>Description</h3>

<p>Add a coloured rectangle to an existing Lexis grid to highlight a certain age in that Lexis grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis_age(lg, age, delta = 1, fill = lexisplotr_colours()[1],
  alpha = 0.7)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis_age_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis_grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis_age_+3A_age">age</code></td>
<td>
<p>numeric, set the age to highlight.</p>
</td></tr>
<tr><td><code id="lexis_age_+3A_delta">delta</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
<tr><td><code id="lexis_age_+3A_fill">fill</code></td>
<td>
<p>character, set colour to fill the rectangle.</p>
</td></tr>
<tr><td><code id="lexis_age_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set alpha, the level of transparency for <code>fill</code>. Default is <code>0.5</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle that highlights all triangles belonging to a certain age.
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(LexisPlotR)
lexis &lt;- lexis_grid(year_start = 1900, year_end = 1905, age_start = 0, age_end = 5)
lexis &lt;- lexis_age(lg = lexis, age = 3)
</code></pre>

<hr>
<h2 id='lexis_cohort'>Emphasize a certain cohort in a Lexis grid</h2><span id='topic+lexis_cohort'></span>

<h3>Description</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to highlight a certain cohort.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis_cohort(lg, cohort, delta = 1, fill = lexisplotr_colours()[3],
  alpha = 0.7)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis_cohort_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis_grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis_cohort_+3A_cohort">cohort</code></td>
<td>
<p>numeric, set the cohort to highlight.</p>
</td></tr>
<tr><td><code id="lexis_cohort_+3A_delta">delta</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
<tr><td><code id="lexis_cohort_+3A_fill">fill</code></td>
<td>
<p>character, set the colour of the rectangle.</p>
</td></tr>
<tr><td><code id="lexis_cohort_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set the level of transparency of the rectangle. Default is <code>0.5</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to the plot. The rectangle will highlight a certain cohort in the Lexis grid.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(LexisPlotR)
lg &lt;- lexis_grid(year_start = 1900, year_end = 1905, age_start = 0, age_end = 5)
lexis_cohort(lg = lg, cohort = 1901)
</code></pre>

<hr>
<h2 id='lexis_grid'>Plot a Lexis grid</h2><span id='topic+lexis_grid'></span>

<h3>Description</h3>

<p>lexis_grid() plots the basic Lexis grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis_grid(year_start, year_end, age_start, age_end, delta = 1,
  lwd = 0.3, force_equal = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis_grid_+3A_year_start">year_start</code></td>
<td>
<p>integer, set the year the Lexis Diagram starts with.</p>
</td></tr>
<tr><td><code id="lexis_grid_+3A_year_end">year_end</code></td>
<td>
<p>integer, set the year the Lexis Diagram ends with.</p>
</td></tr>
<tr><td><code id="lexis_grid_+3A_age_start">age_start</code></td>
<td>
<p>integer, set the age the Lexis Diagram starts with.</p>
</td></tr>
<tr><td><code id="lexis_grid_+3A_age_end">age_end</code></td>
<td>
<p>integer, set the age the Lexis Diagram ends with.</p>
</td></tr>
<tr><td><code id="lexis_grid_+3A_delta">delta</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
<tr><td><code id="lexis_grid_+3A_lwd">lwd</code></td>
<td>
<p>numeric, set the linewidth of the grid.</p>
</td></tr>
<tr><td><code id="lexis_grid_+3A_force_equal">force_equal</code></td>
<td>
<p>logical, by default <code>lexis.grid</code> uses <code>ggplot2::coord_fixed()</code> to ensure isosceles trianlges. Set <code>FALSE</code> to allow for a non-isosceles appearance.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function determines the aspect ratio of the x- and y-axis to enforce
isosceles triangles. The aspect ratio will not be effected by defining
<code>width</code> and <code>height</code> in <code>pdf()</code> or other graphic devices.
</p>
<p>Because the returned object is a ggplot2 graph, the overall appearence of
the graph can be edited by adding <code>themes()</code> to the plot.
</p>


<h3>Value</h3>

<p>A ggplot object.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(LexisPlotR)
lexis_grid(year_start = 1900, year_end = 1905, age_start = 0, age_end = 5)
</code></pre>

<hr>
<h2 id='lexis_lifeline'>Plot lifelines into a Lexis grid</h2><span id='topic+lexis_lifeline'></span>

<h3>Description</h3>

<p>Add lifelines to an existing Lexis grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis_lifeline(lg, birth, entry = NA, exit = NA, lineends = FALSE,
  colour = lexisplotr_colours()[5], alpha = 1, lwd = 0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis_lifeline_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis_grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis_lifeline_+3A_birth">birth</code></td>
<td>
<p>character, set the birth date of an individual in format <code>"YYYY-MM-DD"</code>.</p>
</td></tr>
<tr><td><code id="lexis_lifeline_+3A_entry">entry</code></td>
<td>
<p>character, set the entry of an individual in format <code>"YYYY-MM-DD"</code>. Optional.</p>
</td></tr>
<tr><td><code id="lexis_lifeline_+3A_exit">exit</code></td>
<td>
<p>character, set the exit or death date of an individual in format <code>"YYYY-MM-DD"</code>. Optional.</p>
</td></tr>
<tr><td><code id="lexis_lifeline_+3A_lineends">lineends</code></td>
<td>
<p>logical, if <code>TRUE</code> lineends will be marked. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lexis_lifeline_+3A_colour">colour</code></td>
<td>
<p>character, set the colour of the lifelines.</p>
</td></tr>
<tr><td><code id="lexis_lifeline_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set the transparency of the lifelines. Default is <code>1</code> (no transparency).</p>
</td></tr>
<tr><td><code id="lexis_lifeline_+3A_lwd">lwd</code></td>
<td>
<p>numeric, set the linewidth of the lifelines. Default is <code>0.5</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds lifelines to the grid. Input can be a single dates or dates from a vector.
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- lexis_grid(year_start = 1900, year_end = 1905, age_start = 0, age_end = 5)
lexis_lifeline(lg = lg, birth = "1901-09-23")
lexis_lifeline(lg = lg, birth = "1901-09-23", entry = "1902-04-01")
lexis_lifeline(lg = lg, birth = "1901-09-23", exit = "1904-10-31")
</code></pre>

<hr>
<h2 id='lexis_polygon'>Plot a polygon inside a Lexis grid
Takes an existing Lexis grid and adds a polygon.</h2><span id='topic+lexis_polygon'></span>

<h3>Description</h3>

<p>Plot a polygon inside a Lexis grid
Takes an existing Lexis grid and adds a polygon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis_polygon(lg, x, y, group = 1, fill = lexisplotr_colours()[4],
  alpha = 0.7)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis_polygon_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis_grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis_polygon_+3A_x">x</code></td>
<td>
<p>vector describing the x coordinates of the polygon. Format: YYYY-MM-DD.</p>
</td></tr>
<tr><td><code id="lexis_polygon_+3A_y">y</code></td>
<td>
<p>vector describing the y coordinates of the polygon</p>
</td></tr>
<tr><td><code id="lexis_polygon_+3A_group">group</code></td>
<td>
<p>vector describing the groups of coordinates.</p>
</td></tr>
<tr><td><code id="lexis_polygon_+3A_fill">fill</code></td>
<td>
<p>character, fill colour of the polygon.</p>
</td></tr>
<tr><td><code id="lexis_polygon_+3A_alpha">alpha</code></td>
<td>
<p>numeric, transparency of the fill colour. Default: 0.7.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function can be used to plot a polygon inside a Lexis grid.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
lg &lt;- lexis_grid(year_start = 1900, year_end = 1905, age_start = 0, age_end = 5)
lexis_polygon(lg, x = c("1901-06-30", "1904-06-30", "1904-06-30", "1901-06-30"), y = c(2,2,4,4))

## End(Not run)
</code></pre>

<hr>
<h2 id='lexis_year'>Emphasize a certain year in Lexis grid.</h2><span id='topic+lexis_year'></span>

<h3>Description</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to highlight a certain age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis_year(lg, year, delta = 1, fill = lexisplotr_colours()[2],
  alpha = 0.7)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis_year_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis_grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis_year_+3A_year">year</code></td>
<td>
<p>numeric, set the year to highlight.</p>
</td></tr>
<tr><td><code id="lexis_year_+3A_delta">delta</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
<tr><td><code id="lexis_year_+3A_fill">fill</code></td>
<td>
<p>character, set the colour of the rectangle.</p>
</td></tr>
<tr><td><code id="lexis_year_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set the transparency of the rectangle. Default is <code>0.5</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to the plot. The rectangle will highlight a certain year in the grid.
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottoliner
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- lexis_grid(year_start = 1900, year_end = 1905, age_start = 0, age_end = 5)
lexis_year(lg = lg, year = 1902)
</code></pre>

<hr>
<h2 id='lexis.age'>Deprecated. Emphasize a certain age in Lexis grid</h2><span id='topic+lexis.age'></span>

<h3>Description</h3>

<p>Add a coloured rectangle to an existing Lexis grid to highlight a certain age in that Lexis grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.age(lg, age, fill = lpr_colours()[2], alpha = 0.7, d = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.age_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis.grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis.age_+3A_age">age</code></td>
<td>
<p>numeric, set the age to highlight.</p>
</td></tr>
<tr><td><code id="lexis.age_+3A_fill">fill</code></td>
<td>
<p>character, set colour to fill the rectangle. Default is <code>"yellow"</code>.</p>
</td></tr>
<tr><td><code id="lexis.age_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set alpha, the level of transparency for <code>fill</code>. Default is <code>0.5</code>.</p>
</td></tr>
<tr><td><code id="lexis.age_+3A_d">d</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle that highlights all triangles belonging to a certain age.
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
lexis &lt;- lexis.grid2(year.start = 1900, year.end = 1905, age.start = 0, age.end = 5)
lexis &lt;- lexis.age(lg = lexis, age = 3)

## End(Not run)
</code></pre>

<hr>
<h2 id='lexis.cohort'>Deprecated. Emphasize a certain cohort in a Lexis grid</h2><span id='topic+lexis.cohort'></span>

<h3>Description</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to highlight a certain cohort.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.cohort(lg, cohort, fill = lpr_colours()[4], alpha = 0.7, d = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.cohort_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis.grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis.cohort_+3A_cohort">cohort</code></td>
<td>
<p>numeric, set the cohort to highlight.</p>
</td></tr>
<tr><td><code id="lexis.cohort_+3A_fill">fill</code></td>
<td>
<p>character, set the colour of the rectangle. Default is <code>"green"</code>.</p>
</td></tr>
<tr><td><code id="lexis.cohort_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set the level of transparency of the rectangle. Default is <code>0.5</code>.</p>
</td></tr>
<tr><td><code id="lexis.cohort_+3A_d">d</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to the plot. The rectangle will highlight a certain cohort in the Lexis grid.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
lg &lt;- lexis.grid(year.start = 1900, year.end = 1905, age.start = 0, age.end = 5)
lexis.cohort(lg = lg, cohort = 1901)

## End(Not run)
</code></pre>

<hr>
<h2 id='lexis.grid'>Deprecated. Plot a Lexis grid</h2><span id='topic+lexis.grid'></span>

<h3>Description</h3>

<p>lexis.grid() plots the basic Lexis grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.grid(year.start, year.end, age.start, age.end, lwd = 0.3,
  force.equal = T)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.grid_+3A_year.start">year.start</code></td>
<td>
<p>integer, set the year the Lexis Diagram starts with.</p>
</td></tr>
<tr><td><code id="lexis.grid_+3A_year.end">year.end</code></td>
<td>
<p>integer, set the year the Lexis Diagram ends with.</p>
</td></tr>
<tr><td><code id="lexis.grid_+3A_age.start">age.start</code></td>
<td>
<p>integer, set the age the Lexis Diagram starts with.</p>
</td></tr>
<tr><td><code id="lexis.grid_+3A_age.end">age.end</code></td>
<td>
<p>integer, set the age the Lexis Diagram ends with.</p>
</td></tr>
<tr><td><code id="lexis.grid_+3A_lwd">lwd</code></td>
<td>
<p>numeric, set the linewidth of the grid.</p>
</td></tr>
<tr><td><code id="lexis.grid_+3A_force.equal">force.equal</code></td>
<td>
<p>logical, by default <code>lexis.grid</code> uses <code>ggplot2::coord_fixed()</code> to ensure isosceles trianlges. Set <code>FALSE</code> to allow for a non-isosceles appearance.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function determines the aspect ratio of the x- and y-axis to enforce
isosceles triangles. The aspect ratio will not be effected by defining
<code>width</code> and <code>height</code> in <code>pdf()</code> or other graphic devices.
</p>
<p>Because the returned object is a ggplot2 graph, the overall appearence of
the graph can be edited by adding <code>themes()</code> to the plot.
</p>


<h3>Value</h3>

<p>The functions returns a ggplot2-plot.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
lexis.grid(year.start = 1900, year.end = 1905, age.start = 0, age.end = 5)

## End(Not run)
</code></pre>

<hr>
<h2 id='lexis.grid2'>Deprecated. Plot a Lexis grid</h2><span id='topic+lexis.grid2'></span>

<h3>Description</h3>

<p>lexis.grid() plots the basic Lexis grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.grid2(year.start, year.end, age.start, age.end, lwd = 0.3,
  force.equal = T, d = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.grid2_+3A_year.start">year.start</code></td>
<td>
<p>integer, set the year the Lexis Diagram starts with.</p>
</td></tr>
<tr><td><code id="lexis.grid2_+3A_year.end">year.end</code></td>
<td>
<p>integer, set the year the Lexis Diagram ends with.</p>
</td></tr>
<tr><td><code id="lexis.grid2_+3A_age.start">age.start</code></td>
<td>
<p>integer, set the age the Lexis Diagram starts with.</p>
</td></tr>
<tr><td><code id="lexis.grid2_+3A_age.end">age.end</code></td>
<td>
<p>integer, set the age the Lexis Diagram ends with.</p>
</td></tr>
<tr><td><code id="lexis.grid2_+3A_lwd">lwd</code></td>
<td>
<p>numeric, set the linewidth of the grid.</p>
</td></tr>
<tr><td><code id="lexis.grid2_+3A_force.equal">force.equal</code></td>
<td>
<p>logical, by default <code>lexis.grid</code> uses <code>ggplot2::coord_fixed()</code> to ensure isosceles trianlges. Set <code>FALSE</code> to allow for a non-isosceles appearance.</p>
</td></tr>
<tr><td><code id="lexis.grid2_+3A_d">d</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function determines the aspect ratio of the x- and y-axis to enforce
isosceles triangles. The aspect ratio will not be effected by defining
<code>width</code> and <code>height</code> in <code>pdf()</code> or other graphic devices.
</p>
<p>Because the returned object is a ggplot2 graph, the overall appearence of
the graph can be edited by adding <code>themes()</code> to the plot.
</p>


<h3>Value</h3>

<p>The functions returns a ggplot2-plot.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
lexis.grid(year.start = 1900, year.end = 1905, age.start = 0, age.end = 5)

## End(Not run)
</code></pre>

<hr>
<h2 id='lexis.hmd'>Deprecated. Fill Lexis triangles by HMD data</h2><span id='topic+lexis.hmd'></span>

<h3>Description</h3>

<p>The function opens an existing Lexis grid and fill the triangles according to data from the Human Mortality Database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.hmd(lg, hmd.data, column)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.hmd_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis.grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis.hmd_+3A_hmd.data">hmd.data</code></td>
<td>
<p>a data.frame created with <code>prepare.hmd()</code>.</p>
</td></tr>
<tr><td><code id="lexis.hmd_+3A_column">column</code></td>
<td>
<p>character, the name of the column of <code>hmd.data</code> the triangles shall be filled with.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function creates a subset of <code>hmd.data</code> that fits in the dimensions of the existing Lexis grid.
The triangles will be filled according to the data in <code>column</code>.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
lg &lt;- lexis.grid(year.start = 1980, year.end = 1985, age.start = 0, age.end = 5)
# Load sample data
path &lt;- system.file("extdata", "Deaths_lexis_sample.txt", package = "LexisPlotR")
deaths.triangles &lt;- prepare.hmd(path)
lexis.hmd(lg = lg, hmd.data = deaths.triangles, column = "Total")

### Plot data not explicitly present in HMD data
deaths.triangles$RatioMale &lt;- deaths.triangles$Male / deaths.triangles$Total
lexis.hmd(lg, deaths.triangles, "RatioMale")

## End(Not run)
</code></pre>

<hr>
<h2 id='lexis.lifeline'>Deprecated. Plot lifelines into a Lexis grid</h2><span id='topic+lexis.lifeline'></span>

<h3>Description</h3>

<p>Add lifelines to an existing Lexis grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.lifeline(lg, entry, exit = NA, lineends = F,
  colour = lpr_colours()[7], alpha = 1, lwd = 0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.lifeline_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis.grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis.lifeline_+3A_entry">entry</code></td>
<td>
<p>character, set the entry or birth date of an individual in format <code>"YYYY-MM-DD"</code>.</p>
</td></tr>
<tr><td><code id="lexis.lifeline_+3A_exit">exit</code></td>
<td>
<p>character, set the exit or death date of an individual in format <code>"YYYY-MM-DD"</code>. Default is <code>NA</code> (no exit or death observed).</p>
</td></tr>
<tr><td><code id="lexis.lifeline_+3A_lineends">lineends</code></td>
<td>
<p>logical, if <code>TRUE</code> lineends will be marked. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lexis.lifeline_+3A_colour">colour</code></td>
<td>
<p>character, set the colour of the lifelines. Default is <code>"red"</code>.</p>
</td></tr>
<tr><td><code id="lexis.lifeline_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set the transparency of the lifelines. Default is <code>1</code> (no transparency).</p>
</td></tr>
<tr><td><code id="lexis.lifeline_+3A_lwd">lwd</code></td>
<td>
<p>numeric, set the linewidth of the lifelines. Default is <code>0.5</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds lifelines to the grid. Input can be a single dates or dates from a vector.
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
lg &lt;- lexis.grid(year.start = 1900, year.end = 1905, age.start = 0, age.end = 5)
lexis.lifeline(lg = lg, entry = "1901-09-23")
lexis.lifeline(lg = lg, entry = "1901-09-23", exit = "1904-03-03")

## End(Not run)

</code></pre>

<hr>
<h2 id='lexis.survey'>Deprecated. Emphasize a survey range in a Lexis grid
Takes an existing Lexis grid and adds a coloured parallelogram to highlight a survey range.</h2><span id='topic+lexis.survey'></span>

<h3>Description</h3>

<p>Deprecated. Emphasize a survey range in a Lexis grid
Takes an existing Lexis grid and adds a coloured parallelogram to highlight a survey range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.survey(lg, from_date, to_date, from_age, to_age,
  fill = lpr_colours()[6], alpha = 0.7)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.survey_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis.grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis.survey_+3A_from_date">from_date</code></td>
<td>
<p>character, set the beginning of the survey in format <code>"YYYY-MM-DD"</code>.</p>
</td></tr>
<tr><td><code id="lexis.survey_+3A_to_date">to_date</code></td>
<td>
<p>character, set the end of the survey in format <code>"YYYY-MM-DD"</code>.</p>
</td></tr>
<tr><td><code id="lexis.survey_+3A_from_age">from_age</code></td>
<td>
<p>numeric, set the starting age of the survey.</p>
</td></tr>
<tr><td><code id="lexis.survey_+3A_to_age">to_age</code></td>
<td>
<p>numeric, set the ending age of the survey.</p>
</td></tr>
<tr><td><code id="lexis.survey_+3A_fill">fill</code></td>
<td>
<p>character, set the colour to fill the parallelogram. Default is <code>"orange"</code>.</p>
</td></tr>
<tr><td><code id="lexis.survey_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set the transparency of the fill colour. Default is <code>0.5</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function can be used to plot the time and age range of a survey. Use <code>from_date</code> and <code>to_date</code> to specify the time range the survey took place and <code>from_age</code> and <code>to_age</code> to define the considered ages of participants/observations.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
lg &lt;- lexis.grid(year.start = 1980, year.end = 1990, age.start = 30, age.end = 40)
lexis.survey(lg, from_date = "1982-09-01", to_date = "1986-03-01", from_age = 32, to_age = 36)

## End(Not run)
</code></pre>

<hr>
<h2 id='lexis.year'>Deprecated. Emphasize a certain year in Lexis grid.</h2><span id='topic+lexis.year'></span>

<h3>Description</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to highlight a certain age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lexis.year(lg, year, fill = lpr_colours()[3], alpha = 0.7, d = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lexis.year_+3A_lg">lg</code></td>
<td>
<p>an existing object originally created with <code>lexis.grid()</code>.</p>
</td></tr>
<tr><td><code id="lexis.year_+3A_year">year</code></td>
<td>
<p>numeric, set the year to highlight.</p>
</td></tr>
<tr><td><code id="lexis.year_+3A_fill">fill</code></td>
<td>
<p>character, set the colour of the rectangle. Default is <code>"blue"</code>.</p>
</td></tr>
<tr><td><code id="lexis.year_+3A_alpha">alpha</code></td>
<td>
<p>numeric, set the transparency of the rectangle. Default is <code>0.5</code>.</p>
</td></tr>
<tr><td><code id="lexis.year_+3A_d">d</code></td>
<td>
<p>numeric, set the size of the age groups. Default is 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Takes an existing Lexis grid and adds a coloured rectangle to the plot. The rectangle will highlight a certain year in the grid.
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottoliner
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
lg &lt;- lexis.grid(year.start = 1900, year.end = 1905, age.start = 0, age.end = 5)
lexis.year(lg = lg, year = 1902)

## End(Not run)
</code></pre>

<hr>
<h2 id='lifelines_sample'>Data for 300 random lifelines</h2><span id='topic+lifelines_sample'></span>

<h3>Description</h3>

<p>This dataset contains 300 random entry dates and 150 exit dates for demonstration purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lifelines_sample
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 2 variables:
</p>

<dl>
<dt>entry</dt><dd><p>entry or birth dates.</p>
</dd>
<dt>exit</dt><dd><p>exit or death dates, <code>NA</code> if not observed.</p>
</dd>
</dl>

<hr>
<h2 id='prepare.hmd'>Deprecated. Prepare HMD data for <code>lexis.hmd()</code></h2><span id='topic+prepare.hmd'></span>

<h3>Description</h3>

<p><code>prepare.hmd()</code> prepares the raw 'Deaths by Lexis triangles' HMD data for further use by <code>lexis.hmd</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare.hmd(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepare.hmd_+3A_file">file</code></td>
<td>
<p>the name of the 'Deaths by Lexis triangles' file downloaded from the Human Mortality Database.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function reads the raw data into R and transforms data to <code>numeric</code> and <code>Date</code>.
Furthermore seven columns (<code>upper, x1, x2, x3, y1, y2, y3</code>) that contain the coordinates of the triangles will be added.
The age group <code>110+</code> will be removed from the data.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(LexisPlotR)
# Load sample data
path &lt;- system.file("extdata", "Deaths_lexis_sample.txt", package = "LexisPlotR")
deaths.triangles &lt;- prepare.hmd(path)

## End(Not run)
</code></pre>

<hr>
<h2 id='tidy_triangle_data'>Tidy triangular data (Lexis triangles)</h2><span id='topic+tidy_triangle_data'></span>

<h3>Description</h3>

<p>Take raw data from a data source (e.g. Human Mortality Database) and make it 'tidy'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_triangle_data(triangle_data, source = "HMD")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tidy_triangle_data_+3A_triangle_data">triangle_data</code></td>
<td>
<p>data.frame, A data.frame containing raw triangle data.</p>
</td></tr>
<tr><td><code id="tidy_triangle_data_+3A_source">source</code></td>
<td>
<p>character, The source of the raw data. Supported sources: HMD.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When using raw triangular data from HMD or other sources, the data is not well prepared for further use. <code>tidy_triangular_data</code> does some transformations to prepare the data, mainly for visualization using <code>ggplot2</code>.
</p>


<h3>Value</h3>

<p>A data.frame.
</p>


<h3>Author(s)</h3>

<p>Philipp Ottolinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
triangles &lt;- readHMDweb("RUS", "Deaths_lexis", "your@email.com", "your_password")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package MNLpred</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MNLpred}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gles'><p>German Longitudinal Election Study</p></a></li>
<li><a href='#mnl_fd_ova'><p>Multinomial First Differences Prediction (Observed Value Approach)</p></a></li>
<li><a href='#mnl_fd2_ova'><p>Multinomial First Differences Predictions For Two Values (Observed Value Approach)</p></a></li>
<li><a href='#mnl_pred_ova'><p>Multinomial Prediction Function (Observed Value Approach)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Simulated Predicted Probabilities for Multinomial Logit Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to easily return simulated predicted probabilities and
    first differences for multinomial logit models. It takes a specified 
    scenario and a multinomial model to predict probabilities with a set of
    coefficients, drawn from a simulated sampling distribution. The simulated 
    predictions allow for meaningful plots with means and confidence intervals.
    The methodological approach is based on the principles laid out by King,
    Tomz, and Wittenberg (2000) &lt;<a href="https://doi.org/10.2307%2F2669316">doi:10.2307/2669316</a>&gt; and Hanmer and Ozan Kalkan 
    (2016) &lt;<a href="https://doi.org/10.1111%2Fj.1540-5907.2012.00602.x">doi:10.1111/j.1540-5907.2012.00602.x</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, nnet, magrittr, ggplot2, scales</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>MASS, stats</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-15 08:59:17 UTC; homeoffice</td>
</tr>
<tr>
<td>Author:</td>
<td>Manuel Neumann <a href="https://orcid.org/0000-0002-7953-3939"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Manuel Neumann &lt;manuel.neumann@mzes.uni-mannheim.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-16 07:40:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='gles'>German Longitudinal Election Study</h2><span id='topic+gles'></span>

<h3>Description</h3>

<p>A sample of 1,000 respondents in the Rolling Cross Sectional
study in the German Longitudinal Election Study in 2017.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(gles)
</code></pre>


<h3>Format</h3>

<p>An data frame with 1,000 observations and 6 variables:
</p>

<dl>
<dt>vote</dt><dd><p>Voting decision for party</p>
</dd>
<dt>egoposition_immigration</dt><dd><p>Ego-position toward immigration (0 = very open to 10 = very restrictive )</p>
</dd>
<dt>ostwest</dt><dd><p>Dummy for respondents from Eastern Germany (= 1)</p>
</dd>
<dt>political_interest</dt><dd><p>Measurement for political interst (0 = low, 4 = high)</p>
</dd>
<dt>income</dt><dd><p>Self-reported income satisfaction (0 = low, 4 = high)</p>
</dd>
<dt>gender</dt><dd><p>Self-reported gender (binary coding with 1 = female)</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.doi.org/10.4232/1.13213">GESIS Datenarchiv</a>
</p>


<h3>References</h3>

<p>Roßteutscher, Sigrid et al. 2019.
“Rolling Cross-Section-Wahlkampfstudie mit Nachwahl-Panelwelle (GLES 2017).”
ZA6803 Datenfile Version 4.0.1.
(<a href="https://www.doi.org/10.4232/1.13213">GESIS Datenarchiv</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gles)
table(gles$vote)
</code></pre>

<hr>
<h2 id='mnl_fd_ova'>Multinomial First Differences Prediction (Observed Value Approach)</h2><span id='topic+mnl_fd_ova'></span>

<h3>Description</h3>

<p>This function predicts values for two different scenarios over a range of
values. It then takes the differences between the different simulations to
return first differences for each value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mnl_fd_ova(
  model,
  data,
  x,
  z,
  z_values,
  xvari,
  scenname,
  scenvalues,
  by = NULL,
  nsim = 1000,
  seed = "random",
  probs = c(0.025, 0.975)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mnl_fd_ova_+3A_model">model</code></td>
<td>
<p>the multinomial model, from a <code><a href="nnet.html#topic+multinom">multinom</a></code>()-function call (see the <code><a href="nnet.html#topic+nnet">nnet</a></code> package)</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_data">data</code></td>
<td>
<p>the data with which the model was estimated</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_x">x</code></td>
<td>
<p>the name of the variable that should be varied (the x-axis variable in prediction plots)</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_z">z</code></td>
<td>
<p>define the variable for which you want to compute the difference.</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_z_values">z_values</code></td>
<td>
<p>determine the two values at which value you want to fix the scenario (<code>z</code>). The first differences will be computed by subtracting the values of the first supplied scenario from the second one.</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_xvari">xvari</code></td>
<td>
<p>former argument for <code>x</code> (deprecated).</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_scenname">scenname</code></td>
<td>
<p>former argument for <code>z</code> (deprecated).</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_scenvalues">scenvalues</code></td>
<td>
<p>former argument for <code>z_values</code> (deprecated).</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_by">by</code></td>
<td>
<p>define the steps of <code>x</code>.</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_nsim">nsim</code></td>
<td>
<p>numbers of simulations</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_seed">seed</code></td>
<td>
<p>set a seed for replication purposes.</p>
</td></tr>
<tr><td><code id="mnl_fd_ova_+3A_probs">probs</code></td>
<td>
<p>a vector with two numbers, defining the significance levels. Default to 5% significance level: <code>c(0.025, 0.975)</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function uses the <code><a href="#topic+mnl_pred_ova">mnl_pred_ova</a></code> function for each scenario.
The results of these predictions are also returned and can therefore be
easily accessed. If you need predictions for multiple scenarios, you can use
this function to both plot the predictions for each scenario and the
differences between them.
</p>


<h3>Value</h3>

<p>The function returns a list with several elements. Most importantly the list includes the simulated draws 'S', the simulated predictions 'P', and a data set for plotting 'plotdata'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(nnet)
library(MASS)

dataset &lt;- data.frame(y = c(rep("a", 10), rep("b", 10), rep("c", 10)),
                      x1 = rnorm(30),
                      x2 = rnorm(30, mean = 1),
                      x3 = sample(1:10, 30, replace = TRUE))

mod &lt;- multinom(y ~ x1 + x2 + x3, data = dataset, Hess = TRUE)

fdif &lt;- mnl_fd_ova(model = mod, data = dataset,
                   x = "x1", z = "x3",
                   z_values = c(min(dataset$x3), max(dataset$x3)),
                   nsim = 10)

</code></pre>

<hr>
<h2 id='mnl_fd2_ova'>Multinomial First Differences Predictions For Two Values (Observed Value Approach)</h2><span id='topic+mnl_fd2_ova'></span>

<h3>Description</h3>

<p>Multinomial First Differences Predictions For Two Values (Observed Value Approach)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mnl_fd2_ova(
  model,
  data,
  x,
  value1,
  value2,
  xvari,
  nsim = 1000,
  seed = "random",
  probs = c(0.025, 0.975)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mnl_fd2_ova_+3A_model">model</code></td>
<td>
<p>the multinomial model, from a <code><a href="nnet.html#topic+multinom">multinom</a></code>()-function call (see the <code><a href="nnet.html#topic+nnet">nnet</a></code> package)</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_data">data</code></td>
<td>
<p>the data with which the model was estimated</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_x">x</code></td>
<td>
<p>the name of the variable that should be varied</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_value1">value1</code></td>
<td>
<p>first value for the difference</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_value2">value2</code></td>
<td>
<p>second value for the difference</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_xvari">xvari</code></td>
<td>
<p>former argument for <code>x</code> (deprecated).</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_nsim">nsim</code></td>
<td>
<p>numbers of simulations</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_seed">seed</code></td>
<td>
<p>set a seed for replication purposes.</p>
</td></tr>
<tr><td><code id="mnl_fd2_ova_+3A_probs">probs</code></td>
<td>
<p>a vector with two numbers, defining the significance levels. Default to 5% significance level: <code>c(0.025, 0.975)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a list with several elements. Most importantly the list includes the simulated draws 'S', the simulated predictions 'P', the first differences of the predictions 'P_fd', a data set for plotting 'plotdata' the predicted probabilities, and one for the first differences 'plotdata_fd'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(nnet)
library(MASS)

dataset &lt;- data.frame(y = c(rep("a", 10), rep("b", 10), rep("c", 10)),
                      x1 = rnorm(30),
                      x2 = rnorm(30, mean = 1),
                      x3 = sample(1:10, 30, replace = TRUE))

mod &lt;- multinom(y ~ x1 + x2 + x3, data = dataset, Hess = TRUE)

fdi1 &lt;- mnl_fd2_ova(model = mod, data = dataset,
                    x = "x1",
                    value1 = min(dataset$x1),
                    value2 = max(dataset$x1),
                    nsim = 10)



</code></pre>

<hr>
<h2 id='mnl_pred_ova'>Multinomial Prediction Function (Observed Value Approach)</h2><span id='topic+mnl_pred_ova'></span>

<h3>Description</h3>

<p>This function predicts probabilities for all choices of a multinomial logit
model over a specified span of values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mnl_pred_ova(
  model,
  data,
  x,
  by = NULL,
  z = NULL,
  z_value = NULL,
  xvari,
  scenname,
  scenvalue,
  nsim = 1000,
  seed = "random",
  probs = c(0.025, 0.975)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mnl_pred_ova_+3A_model">model</code></td>
<td>
<p>the multinomial model, from a <code><a href="nnet.html#topic+multinom">multinom</a></code>()-function call (see the <code><a href="nnet.html#topic+nnet">nnet</a></code> package)</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_data">data</code></td>
<td>
<p>the data with which the model was estimated</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_x">x</code></td>
<td>
<p>the name of the variable that should be varied (the x-axis variable in prediction plots)</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_by">by</code></td>
<td>
<p>define the steps of <code>x</code>.</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_z">z</code></td>
<td>
<p>if you want to hold a specific variable stable over all scenarios, you can name it here (optional).</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_z_value">z_value</code></td>
<td>
<p>determine at which value you want to fix the <code>z</code>.</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_xvari">xvari</code></td>
<td>
<p>former argument for <code>x</code> (deprecated).</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_scenname">scenname</code></td>
<td>
<p>former argument for <code>z</code> (deprecated).</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_scenvalue">scenvalue</code></td>
<td>
<p>former argument for <code>z_value</code> (deprecated).</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_nsim">nsim</code></td>
<td>
<p>numbers of simulations</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_seed">seed</code></td>
<td>
<p>set a seed for replication purposes.</p>
</td></tr>
<tr><td><code id="mnl_pred_ova_+3A_probs">probs</code></td>
<td>
<p>a vector with two numbers, defining the significance levels. Default to 5% significance level: <code>c(0.025, 0.975)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a list with several elements. Most importantly the list includes the simulated draws 'S', the simulated predictions 'P', and a data set for plotting 'plotdata'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(nnet)
library(MASS)

dataset &lt;- data.frame(y = c(rep("a", 10), rep("b", 10), rep("c", 10)),
                      x1 = rnorm(30),
                      x2 = rnorm(30, mean = 1),
                      x3 = sample(1:10, 30, replace = TRUE))

mod &lt;- multinom(y ~ x1 + x2 + x3, data = dataset, Hess = TRUE)

pred &lt;- mnl_pred_ova(model = mod, data = dataset,
                     x = "x1",
                     nsim = 10)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

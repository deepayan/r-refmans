<!DOCTYPE html><html lang="en"><head><title>Help for package poth</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {poth}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#poth-package'><p>poth: Brief overview of methods and general hints</p></a></li>
<li><a href='#cumul.poth'><p>Cumulative method for precision of treatment hierarchy (POTH) metric</p></a></li>
<li><a href='#loo.poth'><p>Leave-one-out method for precision of treatment hierarchy (POTH) metric</p></a></li>
<li><a href='#plot.cumul.poth'><p>Plot cumulative precision of treatment hierarchy (POTH) values</p></a></li>
<li><a href='#plot.loo.poth'><p>Plot results of leave-one-out method</p></a></li>
<li><a href='#poth'><p>Calculate precision of treatment hierarchy (POTH) metric</p></a></li>
<li><a href='#pscores'><p>Calculate P-scores from a set of relative effects and standard errors</p></a></li>
<li><a href='#rankMCMC'><p>Calculate a ranking probabilities matrix from MCMC samples</p></a></li>
<li><a href='#subset.poth'><p>Calculate the local POTH for a subset of treatments</p></a></li>
<li><a href='#Xu2018'><p>Safety of Immune Checkpoint Inhibitors in Cancer</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Precision of Treatment Hierarchy (POTH)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2-0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-10-11</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, stringr, netmeta</td>
</tr>
<tr>
<td>Suggests:</td>
<td>mvtnorm</td>
</tr>
<tr>
<td>Author:</td>
<td>Augustine Wigle <a href="https://orcid.org/0000-0003-0225-1949"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Guido Schwarzer <a href="https://orcid.org/0000-0001-6214-9087"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Augustine Wigle &lt;amhwigle@uwaterloo.ca&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate POTH for treatment hierarchies from frequentist and Bayesian network meta-analysis. POTH quantifies the certainty in a treatment hierarchy. Subset POTH, POTH residuals, and cumulative POTH can also be calculated to improve interpretation of treatment hierarchies.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/augustinewigle/poth">https://github.com/augustinewigle/poth</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/augustinewigle/poth/issues">https://github.com/augustinewigle/poth/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-29 17:26:38 UTC; augus</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-01 14:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='poth-package'>poth: Brief overview of methods and general hints</h2><span id='topic+poth-package'></span>

<h3>Description</h3>

<p>R package <b>poth</b> allows to calculate the precision of treatment hierarchy (POTH)
metric to quantify the uncertainty in a treatment hierarchy in network
meta-analysis (Wigle et al., 2024).
</p>


<h3>Details</h3>

<p>R package <b>poth</b> provides the following methods:
</p>

<ul>
<li><p> Calculate the separation in ranking metric (<code><a href="#topic+poth">poth</a></code>)
</p>
</li>
<li><p> Conduct leave-one-out analysis (<code><a href="#topic+loo.poth">loo.poth</a></code>)
</p>
</li></ul>

<p>Type <code>help(package = "poth")</code> for a listing of R functions
available in <b>poth</b>.
</p>
<p>Type <code>citation("poth")</code> on how to cite <b>poth</b> in
publications.
</p>
<p>The development version of <b>poth</b> is available on GitHub
<a href="https://github.com/augustinewigle/poth">https://github.com/augustinewigle/poth</a>.
</p>


<h3>Author(s)</h3>

<p>Augustine Wigle <a href="mailto:amhwigle@uwaterloo.ca">amhwigle@uwaterloo.ca</a>,
Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Wigle, A., Béliveau, A., Salanti, G., Rücker, G., Schwarzer, G., Mavridis, D.,
Nikolakopoulou, A. (2024):
Precision of Treatment Hierarchy: A Metric for Quantifying Uncertainty in Treatment
Hierarchies in Network Meta-Analysis
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/augustinewigle/poth">https://github.com/augustinewigle/poth</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/augustinewigle/poth/issues">https://github.com/augustinewigle/poth/issues</a>
</p>
</li></ul>


<hr>
<h2 id='cumul.poth'>Cumulative method for precision of treatment hierarchy (POTH) metric</h2><span id='topic+cumul.poth'></span><span id='topic+print.cumul.poth'></span><span id='topic+cumul'></span>

<h3>Description</h3>

<p>Cumulative method for precision of treatment hierarchy (POTH) metric
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'poth'
cumul(x, sort = TRUE, ...)

## S3 method for class 'cumul.poth'
print(x, digits = 3, legend = TRUE, ...)

cumul(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cumul.poth_+3A_x">x</code></td>
<td>
<p>An R object of class <code>poth</code>.</p>
</td></tr>
<tr><td><code id="cumul.poth_+3A_sort">sort</code></td>
<td>
<p>A logical indicating whether results should be sorted
by decreasing ranking metric.</p>
</td></tr>
<tr><td><code id="cumul.poth_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
<tr><td><code id="cumul.poth_+3A_digits">digits</code></td>
<td>
<p>Minimal number of significant digits, see
<code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
<tr><td><code id="cumul.poth_+3A_legend">legend</code></td>
<td>
<p>A logical indicating whether a legend should be
printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with additional class <code>cumul.poth</code> and the
following variables:
</p>
<table role = "presentation">
<tr><td><code>trt</code></td>
<td>
<p>Name of added treatment.</p>
</td></tr>
<tr><td><code>rank</code></td>
<td>
<p>Treatment rank (global).</p>
</td></tr>
<tr><td><code>score</code></td>
<td>
<p>Ranking metric (global).</p>
</td></tr>
<tr><td><code>poth_cum</code></td>
<td>
<p>Cumulative POTH.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
library("netmeta")
data(Senn2013)
net1 &lt;- netmeta(TE, seTE, treat1.long, treat2.long, studlab,
  data = Senn2013, sm = "MD", random = FALSE)

# Cumulative method
c1 &lt;- cumul(poth(net1))
c1
plot(c1)
plot(c1, labels = TRUE)
c2 &lt;- cumul(poth(net1), sort = FALSE)
c2
plot(c2)
plot(c2, labels = TRUE)


</code></pre>

<hr>
<h2 id='loo.poth'>Leave-one-out method for precision of treatment hierarchy (POTH) metric</h2><span id='topic+loo.poth'></span><span id='topic+loo'></span><span id='topic+print.loo.poth'></span>

<h3>Description</h3>

<p>Leave-one-out method for precision of treatment hierarchy (POTH) metric
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'poth'
loo(x, ...)

loo(x, ...)

## S3 method for class 'loo.poth'
print(x, digits = 3, legend = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loo.poth_+3A_x">x</code></td>
<td>
<p>An R object of class <code>poth</code>.</p>
</td></tr>
<tr><td><code id="loo.poth_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
<tr><td><code id="loo.poth_+3A_digits">digits</code></td>
<td>
<p>Minimal number of significant digits, see
<code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
<tr><td><code id="loo.poth_+3A_legend">legend</code></td>
<td>
<p>A logical indicating whether a legend should be
printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with additional class <code>loo.poth</code> and the following
variables:
</p>
<table role = "presentation">
<tr><td><code>trt</code></td>
<td>
<p>Treatment names.</p>
</td></tr>
<tr><td><code>rank</code></td>
<td>
<p>Treatment rank (global).</p>
</td></tr>
<tr><td><code>score</code></td>
<td>
<p>Ranking metric (global).</p>
</td></tr>
<tr><td><code>poth_loo</code></td>
<td>
<p>Leave-one-out POTH.</p>
</td></tr>
<tr><td><code>resid</code></td>
<td>
<p>Residuals (global POTH minus leave-one-out POTH.</p>
</td></tr>
<tr><td><code>ratio</code></td>
<td>
<p>Ratio of residual devided by absolute sum of residuals.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library("netmeta")
data(smokingcessation)
p1 &lt;- pairwise(list(treat1, treat2, treat3),
  event = list(event1, event2, event3), n = list(n1, n2, n3),
  data = smokingcessation, sm = "OR")
net1 &lt;- netmeta(p1, random = FALSE)

# Leave-one-out method
loo1 &lt;- loo(poth(net1))
loo1

</code></pre>

<hr>
<h2 id='plot.cumul.poth'>Plot cumulative precision of treatment hierarchy (POTH) values</h2><span id='topic+plot.cumul.poth'></span>

<h3>Description</h3>

<p>Plot cumulative precision of treatment hierarchy (POTH) values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cumul.poth'
plot(x, labels = FALSE, nchar.trts = 4, digits = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.cumul.poth_+3A_x">x</code></td>
<td>
<p>R object of class <code>cumul.poth</code>.</p>
</td></tr>
<tr><td><code id="plot.cumul.poth_+3A_labels">labels</code></td>
<td>
<p>A logical indicating whether treatment names should be
shown in the plot.</p>
</td></tr>
<tr><td><code id="plot.cumul.poth_+3A_nchar.trts">nchar.trts</code></td>
<td>
<p>Number of characters to keep for each treatment name if labels = TRUE.</p>
</td></tr>
<tr><td><code id="plot.cumul.poth_+3A_digits">digits</code></td>
<td>
<p>Minimal number of significant digits for cumulative POTH, see
<code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
<tr><td><code id="plot.cumul.poth_+3A_...">...</code></td>
<td>
<p>Additional arguments (ignored).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plot results of cumulative method for precision of treatment hierarchy (POTH) metric
(Wigle et al., 2024).
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Augustine Wigle <a href="mailto:amhwigle@uwaterloo.ca">amhwigle@uwaterloo.ca</a>,
Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Wigle, A., Béliveau, A., Salanti, G., Rücker, G., Schwarzer, G., Mavridis, D.,
Nikolakopoulou, A. (2024):
Precision of Treatment Hierarchy: A Metric for Quantifying Uncertainty in Treatment
Hierarchies in Network Meta-Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library("netmeta")
data(Senn2013)
net1 &lt;- netmeta(TE, seTE, treat1.long, treat2.long, studlab,
  data = Senn2013, sm = "MD", random = FALSE)

# Cumulative method
c1 &lt;- cumul(poth(net1))
c1
plot(c1)
plot(c1, labels = TRUE)
c2 &lt;- cumul(poth(net1), sort = FALSE)
c2
plot(c2)
plot(c2, labels = TRUE)

</code></pre>

<hr>
<h2 id='plot.loo.poth'>Plot results of leave-one-out method</h2><span id='topic+plot.loo.poth'></span>

<h3>Description</h3>

<p>Plot results of leave-one-out method for precision of treatment hierarchy (POTH) metric
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'loo.poth'
plot(x, labels = TRUE, digits = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.loo.poth_+3A_x">x</code></td>
<td>
<p>R object of class <code>poth</code>.</p>
</td></tr>
<tr><td><code id="plot.loo.poth_+3A_labels">labels</code></td>
<td>
<p>A logical indicating whether treatment names should be
shown in the plot.</p>
</td></tr>
<tr><td><code id="plot.loo.poth_+3A_digits">digits</code></td>
<td>
<p>Minimal number of significant digits for global POTH, see
<code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
<tr><td><code id="plot.loo.poth_+3A_...">...</code></td>
<td>
<p>Additional arguments (ignored).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plot results of leave-one-out method for precision of treatment hierarchy (POTH) metric
(Wigle et al., 2024).
</p>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Author(s)</h3>

<p>Augustine Wigle <a href="mailto:amhwigle@uwaterloo.ca">amhwigle@uwaterloo.ca</a>,
Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Wigle, A., Béliveau, A., Salanti, G., Rücker, G., Schwarzer, G., Mavridis, D.,
Nikolakopoulou, A. (2024):
Precision of Treatment Hierarchy: A Metric for Quantifying Uncertainty in Treatment
Hierarchies in Network Meta-Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("netmeta")
data(smokingcessation)
p1 &lt;- pairwise(list(treat1, treat2, treat3),
  event = list(event1, event2, event3), n = list(n1, n2, n3),
  data = smokingcessation, sm = "OR")
net1 &lt;- netmeta(p1, random = FALSE)

# Leave-one-out method
loo1 &lt;- loo(poth(net1))
loo1
plot(loo1)


data(Senn2013)
net2 &lt;- netmeta(TE, seTE, treat1.long, treat2.long, studlab,
                data = Senn2013, sm = "MD", random = FALSE)

# Leave-one-out method (without sorting by ranking metric)
loo2 &lt;- loo(poth(net2), sort = FALSE)
loo2
plot(loo2)

</code></pre>

<hr>
<h2 id='poth'>Calculate precision of treatment hierarchy (POTH) metric</h2><span id='topic+poth'></span><span id='topic+print.poth'></span><span id='topic+summary.poth'></span><span id='topic+print.summary.poth'></span>

<h3>Description</h3>

<p>Precision of treatment hierarchy (POTH) is a metric to quantify the uncertainty in
a treatment hierarchy in network meta-analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poth(x, se = NULL, small.values, pooled, trts = NULL)

## S3 method for class 'poth'
print(x, sort = TRUE, digits = 3, ...)

## S3 method for class 'poth'
summary(object, ...)

## S3 method for class 'summary.poth'
print(x, sort = TRUE, digits = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="poth_+3A_x">x</code></td>
<td>
<p>Mandatory argument with suitable information on the treatment
hierarchy (see Details).</p>
</td></tr>
<tr><td><code id="poth_+3A_se">se</code></td>
<td>
<p>Matrix of estimated standard errors for relative effects.</p>
</td></tr>
<tr><td><code id="poth_+3A_small.values">small.values</code></td>
<td>
<p>A character string specifying whether small
outcome values indicate a beneficial (<code>"desirable"</code>) or
harmful (<code>"undesirable"</code>) effect, can be abbreviated.</p>
</td></tr>
<tr><td><code id="poth_+3A_pooled">pooled</code></td>
<td>
<p>A character string indicating whether the treatment hierarchy
is based on a common or random effects model. Either <code>"common"</code> or
<code>"random"</code>, can be abbreviated.</p>
</td></tr>
<tr><td><code id="poth_+3A_trts">trts</code></td>
<td>
<p>An optional vector with treatment names. Must match the
order of treatments provided for argument <code>x</code>.</p>
</td></tr>
<tr><td><code id="poth_+3A_sort">sort</code></td>
<td>
<p>A logical indicating whether printout should be sorted
by decreasing ranking metric.</p>
</td></tr>
<tr><td><code id="poth_+3A_digits">digits</code></td>
<td>
<p>Minimal number of significant digits, see
<code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
<tr><td><code id="poth_+3A_...">...</code></td>
<td>
<p>Additional arguments (ignored).</p>
</td></tr>
<tr><td><code id="poth_+3A_object">object</code></td>
<td>
<p>An object of class <code>summary.poth</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the precision of treatment hierarchy (POTH) metric to quantify
the uncertainty in a treatment hierarchy in network meta-analysis
(Wigle et al., 2024).
</p>
<p>Argument <code>x</code> providing information on the treatment hierarchy is the
only mandatory argument. The following input formats can be provided:
</p>

<ol>
<li><p> vector representing a ranking metric, i.e., SUCRAs or P-scores,
</p>
</li>
<li><p> square matrix with the probabilities for each possible rank
(with treatments in rows and ranks in columns),
</p>
</li>
<li><p> MCMC samples (with samples in rows and treatments in columns),
</p>
</li>
<li><p> relative effect matrix,
</p>
</li>
<li><p> R object created with <code><a href="netmeta.html#topic+netmeta">netmeta</a></code>,
<code><a href="netmeta.html#topic+netrank">netrank</a></code>, or <code><a href="netmeta.html#topic+rankogram">rankogram</a></code>
object from R package <b>netmeta</b>.
</p>
</li></ol>

<p>Argument <code>se</code> must be provided if argument <code>x</code> is a matrix with
relative effects. Otherwise, argument <code>se</code> is ignored.
</p>
<p>Argument <code>small.values</code> must be provided if argument <code>x</code> contains
MCMC samples, relative effects, or is an object created with
<code><a href="netmeta.html#topic+netmeta">netmeta</a></code>. This argument can be provided for an R
object created with <code><a href="netmeta.html#topic+netrank">netrank</a></code> or
<code><a href="netmeta.html#topic+rankogram">rankogram</a></code> and is ignored otherwise.
</p>
<p>Argument <code>trts</code> is ignored for <code><a href="netmeta.html#topic+netmeta">netmeta</a></code>,
<code><a href="netmeta.html#topic+netrank">netrank</a></code>, and <code><a href="netmeta.html#topic+rankogram">rankogram</a></code> objects.
</p>


<h3>Value</h3>

<p>An object of class <code>poth</code> with corresponding <code>print</code>
function. The object is a list containing the following components:
</p>
<table role = "presentation">
<tr><td><code>poth</code></td>
<td>
<p>Separation in ranking metric.</p>
</td></tr>
<tr><td><code>ranking</code></td>
<td>
<p>A named numeric vector with rankings, i.e.,
SUCRAs or P-scores.</p>
</td></tr>
<tr><td><code>ranking.matrix</code></td>
<td>
<p>A square matrix with the probabilities
for each possible rank (if information is available).</p>
</td></tr>
<tr><td><code>pooled</code></td>
<td>
<p>As defined above.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Augustine Wigle <a href="mailto:amhwigle@uwaterloo.ca">amhwigle@uwaterloo.ca</a>,
Guido Schwarzer <a href="mailto:guido.schwarzer@uniklinik-freiburg.de">guido.schwarzer@uniklinik-freiburg.de</a>
</p>


<h3>References</h3>

<p>Wigle, A., Béliveau, A., Salanti, G., Rücker, G., Schwarzer, G., Mavridis, D.,
Nikolakopoulou, A. (2024):
Precision of Treatment Hierarchy: A Metric for Quantifying Uncertainty in Treatment
Hierarchies in Network Meta-Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library("netmeta")
data(smokingcessation)
p1 &lt;- pairwise(list(treat1, treat2, treat3),
  event = list(event1, event2, event3), n = list(n1, n2, n3),
  data = smokingcessation, sm = "OR")
net1 &lt;- netmeta(p1, random = FALSE)

# Calculate probabilities for each possible rank
set.seed(1909) # make results reproducible
rg1 &lt;- rankogram(net1)
rg1

# Calculate POTH
s1 &lt;- poth(rg1)
s1

# Also print probabilities for each possible rank
summary(s1)

# Use SUCRAs to calculate POTH
nr1 &lt;- netrank(rg1)
nr1
poth(nr1)
poth(nr1$ranking.common)

data(Senn2013)
net2 &lt;- netmeta(TE, seTE, treat1.long, treat2.long, studlab,
                data = Senn2013, sm = "MD", random = FALSE)

# Use P-scores to calculate POTH
nr2 &lt;- netrank(net2)
nr2
poth(nr2)

</code></pre>

<hr>
<h2 id='pscores'>Calculate P-scores from a set of relative effects and standard errors</h2><span id='topic+pscores'></span>

<h3>Description</h3>

<p>Calculate P-scores from a set of relative effects and standard errors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pscores(TE, seTE, small.values = "desirable", trts = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pscores_+3A_te">TE</code></td>
<td>
<p>Matrix of relative effects</p>
</td></tr>
<tr><td><code id="pscores_+3A_sete">seTE</code></td>
<td>
<p>Matrix of estimated standard errors for relative effects</p>
</td></tr>
<tr><td><code id="pscores_+3A_small.values">small.values</code></td>
<td>
<p>A character string specifying whether small
outcome values indicate a beneficial (<code>"desirable"</code>) or
harmful (<code>"undesirable"</code>) effect, can be abbreviated.</p>
</td></tr>
<tr><td><code id="pscores_+3A_trts">trts</code></td>
<td>
<p>optional; vector of treatment names matching order in TE and sds</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named vector of P-scores
</p>

<hr>
<h2 id='rankMCMC'>Calculate a ranking probabilities matrix from MCMC samples</h2><span id='topic+rankMCMC'></span>

<h3>Description</h3>

<p>Calculate a ranking probabilities matrix from MCMC samples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rankMCMC(x, small.values = "desirable", trts = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rankMCMC_+3A_x">x</code></td>
<td>
<p>a matrix or data.frame of MCMC samples, where rows are MCMC samples and columns are relative effects (relative to anchor) for treatments.
must have column names that are the name of each treatment.</p>
</td></tr>
<tr><td><code id="rankMCMC_+3A_small.values">small.values</code></td>
<td>
<p>A character string specifying whether small
outcome values indicate a beneficial (<code>"desirable"</code>) or
harmful (<code>"undesirable"</code>) effect, can be abbreviated.</p>
</td></tr>
<tr><td><code id="rankMCMC_+3A_trts">trts</code></td>
<td>
<p>character vector of treatment names, optional if samples has column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of ranking probabilities where rows are treatments and columns are ranks
</p>

<hr>
<h2 id='subset.poth'>Calculate the local POTH for a subset of treatments</h2><span id='topic+subset.poth'></span>

<h3>Description</h3>

<p>Calculate the local POTH for a subset of treatments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'poth'
subset(x, subset, top, bottom, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subset.poth_+3A_x">x</code></td>
<td>
<p>An object of class <code>poth</code>.</p>
</td></tr>
<tr><td><code id="subset.poth_+3A_subset">subset</code></td>
<td>
<p>A character vector of treatment names to consider as the set
of competing treatments.</p>
</td></tr>
<tr><td><code id="subset.poth_+3A_top">top</code></td>
<td>
<p>A single integer to define the number of treatments with the
largest ranking metric to consider in subset.</p>
</td></tr>
<tr><td><code id="subset.poth_+3A_bottom">bottom</code></td>
<td>
<p>A single integer to define the number of treatments with the
smallest ranking metric to consider in subset.</p>
</td></tr>
<tr><td><code id="subset.poth_+3A_...">...</code></td>
<td>
<p>Additional arguments (ignored).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An R object of class <code>poth</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("netmeta")
data(smokingcessation)
p1 &lt;- pairwise(list(treat1, treat2, treat3),
  event = list(event1, event2, event3), n = list(n1, n2, n3),
  data = smokingcessation, sm = "OR")
net1 &lt;- netmeta(p1, random = FALSE)

# Use P-scores to calculate local POTH for treatments "A" and "C"
subset(poth(net1), subset = c("A", "C"))

# Use P-scores to calculate local POTH for first three treatments
subset(poth(net1), top = 3)

# Use P-scores to calculate local POTH for first three treatments
subset(poth(net1), bottom = 3)

</code></pre>

<hr>
<h2 id='Xu2018'>Safety of Immune Checkpoint Inhibitors in Cancer</h2><span id='topic+Xu2018'></span>

<h3>Description</h3>

<p>Data from a network meta-analysis on immune checkpoint inhibitors (ICIs)
to assess the safety of ICI drugs as cancer treatment (Xu et al., 2018).
</p>


<h3>Format</h3>

<p>A data frame with the following columns:
</p>

<table>
<tr>
 <td style="text-align: right;">
<b><em>studyID</em></b></td><td style="text-align: left;"> study id </td>
</tr>
<tr>
 <td style="text-align: right;">
<b><em>treatment</em></b></td><td style="text-align: left;"> treatment name </td>
</tr>
<tr>
 <td style="text-align: right;">
<b><em>adverse</em></b></td><td style="text-align: left;"> number of adverse events </td>
</tr>
<tr>
 <td style="text-align: right;">
<b><em>n</em></b></td><td style="text-align: left;"> group sample size
</td>
</tr>

</table>



<h3>Details</h3>

<p>Data were obtained from Rosenberger et al. (2021), who re-analysed the data.
There are seven treatments and 23 studies. The outcome of interest is the
number of treatment-related adverse events, so smaller values indicate a
safer treatment.
</p>


<h3>Source</h3>

<p>Rosenberger, K.J., Duan, R., Chen, Y. et al. (2021):
Predictive P-score for treatment ranking in Bayesian network meta-analysis.
<em>BMC Med Res Methodol</em> <b>21</b>, 213.
<a href="https://doi.org/10.1186/s12874-021-01397-5">doi:10.1186/s12874-021-01397-5</a>
</p>


<h3>See Also</h3>

<p><code><a href="netmeta.html#topic+netmeta">netmeta</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Xu2018)
head(Xu2018)

library("netmeta")
pw &lt;- pairwise(treat = treatment, event = adverse, n = n,
  studlab = studyID, data = Xu2018, sm = "OR")
#
net &lt;- netmeta(pw, small.values = "desirable", method.tau = "REML",
  common = FALSE)
#
poth(net)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

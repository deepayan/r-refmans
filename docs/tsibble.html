<!DOCTYPE html><html><head><title>Help for package tsibble</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tsibble}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_tibble.tbl_ts'><p>Coerce to a tibble or data frame</p></a></li>
<li><a href='#as_tsibble'><p>Coerce to a tsibble object</p></a></li>
<li><a href='#as.ts.tbl_ts'><p>Coerce a tsibble to a time series</p></a></li>
<li><a href='#build_tsibble'><p>Low-level constructor for a tsibble object</p></a></li>
<li><a href='#build_tsibble_meta'><p>Low-level &amp; high-performance constructor for a tsibble object</p></a></li>
<li><a href='#count_gaps'><p>Count implicit gaps</p></a></li>
<li><a href='#default_time_units'><p>Time units from tsibble's &quot;interval&quot; class used for <code>seq(by = )</code></p></a></li>
<li><a href='#difference'><p>Lagged differences</p></a></li>
<li><a href='#fill_gaps'><p>Turn implicit missing values into explicit missing values</p></a></li>
<li><a href='#filter_index'><p>A shorthand for filtering time index for a tsibble</p></a></li>
<li><a href='#group_by_key'><p>Group by key variables</p></a></li>
<li><a href='#guess_frequency'><p>Guess a time frequency from other index objects</p></a></li>
<li><a href='#has_gaps'><p>Does a tsibble have implicit gaps in time?</p></a></li>
<li><a href='#holiday_aus'><p>Australian national and state-based public holiday</p></a></li>
<li><a href='#index'><p>Return index variable from a tsibble</p></a></li>
<li><a href='#index_by'><p>Group by time index and collapse with <code>summarise()</code></p></a></li>
<li><a href='#index_valid'><p>Add custom index support for a tsibble</p></a></li>
<li><a href='#interval'><p>Meta-information of a tsibble</p></a></li>
<li><a href='#interval_pull'><p>Pull time interval from a vector</p></a></li>
<li><a href='#is_duplicated'><p>Test duplicated observations determined by key and index variables</p></a></li>
<li><a href='#is_tsibble'><p>If the object is a tsibble</p></a></li>
<li><a href='#is.tsibble'><p>Deprecated functions</p></a></li>
<li><a href='#key'><p>Return key variables</p></a></li>
<li><a href='#key_data'><p>Key metadata</p></a></li>
<li><a href='#key_drop_default'><p>Default value for .drop argument for key</p></a></li>
<li><a href='#measures'><p>Return measured variables</p></a></li>
<li><a href='#new_data'><p>New tsibble data and append new observations to a tsibble</p></a></li>
<li><a href='#new_interval'><p>Interval constructor for a tsibble</p></a></li>
<li><a href='#new_tsibble'><p>Create a subclass of a tsibble</p></a></li>
<li><a href='#pedestrian'><p>Pedestrian counts in the city of Melbourne</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#scan_gaps'><p>Scan a tsibble for implicit missing observations</p></a></li>
<li><a href='#slide_tsibble'><p>Perform sliding windows on a tsibble by row</p></a></li>
<li><a href='#stretch_tsibble'><p>Perform stretching windows on a tsibble by row</p></a></li>
<li><a href='#tile_tsibble'><p>Perform tiling windows on a tsibble by row</p></a></li>
<li><a href='#time_in'><p>If time falls in the ranges using compact expressions</p></a></li>
<li><a href='#tourism'><p>Australian domestic overnight trips</p></a></li>
<li><a href='#tsibble'><p>Create a tsibble object</p></a></li>
<li><a href='#tsibble-package'><p>tsibble: tidy temporal data frames and tools</p></a></li>
<li><a href='#tsibble-scales'><p>tsibble scales for ggplot2</p></a></li>
<li><a href='#tsibble-tidyverse'><p>Tidyverse methods for tsibble</p></a></li>
<li><a href='#tsibble-vctrs'><p>Internal vctrs methods</p></a></li>
<li><a href='#unnest_tsibble'><p>Unnest a data frame consisting of tsibbles to a tsibble</p></a></li>
<li><a href='#update_tsibble'><p>Update key and index for a tsibble</p></a></li>
<li><a href='#yearmonth'><p>Represent year-month</p></a></li>
<li><a href='#yearquarter'><p>Represent year-quarter</p></a></li>
<li><a href='#yearweek'><p>Represent year-week based on the ISO 8601 standard (with flexible start day)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tidy Temporal Data Frames and Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a 'tbl_ts' class (the 'tsibble') for
    temporal data in an data- and model-oriented format. The 'tsibble'
    provides tools to easily manipulate and analyse temporal data, such as
    filling in time gaps and aggregating over calendar periods.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://tsibble.tidyverts.org">https://tsibble.tidyverts.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tidyverts/tsibble/issues">https://github.com/tidyverts/tsibble/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>anytime (&ge; 0.3.1), dplyr (&ge; 1.0.0), ellipsis (&ge; 0.3.0),
generics, lifecycle, lubridate (&ge; 1.7.0), methods, rlang (&ge;
0.4.6), tibble (&ge; 3.0.0), tidyselect (&ge; 1.0.0), vctrs (&ge;
0.3.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2 (&ge; 3.3.0), hms, knitr, nanotime, nycflights13
(&ge; 1.0.0), rmarkdown, scales (&ge; 1.1.0), spelling, testthat
(&ge; 3.0.0), tidyr (&ge; 1.1.0), timeDate</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>lifecycle</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-09 02:31:47 UTC; earo</td>
</tr>
<tr>
<td>Author:</td>
<td>Earo Wang <a href="https://orcid.org/0000-0001-6448-5260"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Di Cook <a href="https://orcid.org/0000-0002-3813-7155"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, ths],
  Rob Hyndman <a href="https://orcid.org/0000-0002-2140-5352"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, ths],
  Mitchell O'Hara-Wild <a href="https://orcid.org/0000-0001-6729-7695"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Tyler Smith [ctb],
  Wil Davis [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Earo Wang &lt;earo.wang@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-09 03:20:02 UTC</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; ; 2023-07-04 10:19:16 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='as_tibble.tbl_ts'>Coerce to a tibble or data frame</h2><span id='topic+as_tibble.tbl_ts'></span>

<h3>Description</h3>

<p>Coerce to a tibble or data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tbl_ts'
as_tibble(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_tibble.tbl_ts_+3A_x">x</code></td>
<td>
<p>A <code>tbl_ts</code>.</p>
</td></tr>
<tr><td><code id="as_tibble.tbl_ts_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>as_tibble(pedestrian)
</code></pre>

<hr>
<h2 id='as_tsibble'>Coerce to a tsibble object</h2><span id='topic+as_tsibble'></span><span id='topic+as_tsibble.ts'></span><span id='topic+as_tsibble.mts'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_tsibble(
  x,
  key = NULL,
  index,
  regular = TRUE,
  validate = TRUE,
  .drop = TRUE,
  ...
)

## S3 method for class 'ts'
as_tsibble(x, ..., tz = "UTC")

## S3 method for class 'mts'
as_tsibble(x, ..., tz = "UTC", pivot_longer = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_tsibble_+3A_x">x</code></td>
<td>
<p>Other objects to be coerced to a tsibble (<code>tbl_ts</code>).</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_key">key</code></td>
<td>
<p>Variable(s) that uniquely determine time indices. <code>NULL</code> for
empty key, and <code>c()</code> for multiple variables. It works with tidy selector
(e.g. <code><a href="dplyr.html#topic+reexports">dplyr::starts_with()</a></code>).</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_index">index</code></td>
<td>
<p>A variable to specify the time index variable.</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_regular">regular</code></td>
<td>
<p>Regular time interval (<code>TRUE</code>) or irregular (<code>FALSE</code>). The
interval is determined by the greatest common divisor of index column, if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_validate">validate</code></td>
<td>
<p><code>TRUE</code> suggests to verify that each key or each combination
of key variables leads to unique time indices (i.e. a valid tsibble). If you
are sure that it's a valid input, specify <code>FALSE</code> to skip the checks.</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_.drop">.drop</code></td>
<td>
<p>If <code>TRUE</code>, empty key groups are dropped.</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to individual methods.</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_tz">tz</code></td>
<td>
<p>Time zone. May be useful when a <code>ts</code> object is more frequent than
daily.</p>
</td></tr>
<tr><td><code id="as_tsibble_+3A_pivot_longer">pivot_longer</code></td>
<td>
<p><code>TRUE</code> gives a &quot;longer&quot; form of the data, otherwise as is.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A tsibble is sorted by its key first and index.
</p>


<h3>Value</h3>

<p>A tsibble object.
</p>


<h3>Index</h3>

<p>An extensive range of indices are supported by tsibble:
</p>

<ul>
<li><p> native time classes in R (such as <code>Date</code>, <code>POSIXct</code>, and <code>difftime</code>)
</p>
</li>
<li><p> tsibble's new additions (such as <a href="tsibble.html#topic+yearweek">yearweek</a>, <a href="tsibble.html#topic+yearmonth">yearmonth</a>, and <a href="tsibble.html#topic+yearquarter">yearquarter</a>).
</p>
</li>
<li><p> other commonly-used classes: <code>ordered</code>, <code>hms::hms</code>, <code>lubridate::period</code>,
and <code>nanotime::nanotime</code>.
</p>
</li></ul>

<p>For a <code>tbl_ts</code> of regular interval, a choice of index representation has to
be made. For example, a monthly data should correspond to time index created
by <a href="tsibble.html#topic+yearmonth">yearmonth</a>, instead of <code>Date</code> or <code>POSIXct</code>. Because months in a year
ensures the regularity, 12 months every year. However, if using <code>Date</code>, a
month containing days ranges from 28 to 31 days, which results in irregular
time space. This is also applicable to year-week and year-quarter.
</p>
<p>Tsibble supports arbitrary index classes, as long as they can be ordered from
past to future. To support a custom class, you need to define <code><a href="tsibble.html#topic+index_valid">index_valid()</a></code>
for the class and calculate the interval through <code><a href="tsibble.html#topic+interval_pull">interval_pull()</a></code>.
</p>


<h3>Key</h3>

<p>Key variable(s) together with the index uniquely identifies each record:
</p>

<ul>
<li><p> Empty: an implicit variable. <code>NULL</code> resulting in a univariate time series.
</p>
</li>
<li><p> A single variable: For example, <code>data(pedestrian)</code> uses <code>Sensor</code> as the key.
</p>
</li>
<li><p> Multiple variables: For example, Declare <code>key = c(Region, State, Purpose)</code>
for <code>data(tourism)</code>.
Key can be created in conjunction with tidy selectors like <code>starts_with()</code>.
</p>
</li></ul>



<h3>Interval</h3>

<p>The <a href="lubridate.html#topic+interval">interval</a> function returns the interval associated with the tsibble.
</p>

<ul>
<li><p> Regular: the value and its time unit including &quot;nanosecond&quot;, &quot;microsecond&quot;,
&quot;millisecond&quot;, &quot;second&quot;, &quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;quarter&quot;,
&quot;year&quot;. An unrecognisable time interval is labelled as &quot;unit&quot;.
</p>
</li>
<li><p> Irregular: <code>as_tsibble(regular = FALSE)</code> gives the irregular tsibble. It is
marked with <code>!</code>.
</p>
</li>
<li><p> Unknown: Not determined (<code style="white-space: pre;">&#8288;?&#8288;</code>), if it's an empty tsibble, or one entry for
each key variable.
</p>
</li></ul>

<p>An interval is obtained based on the corresponding index representation:
</p>

<ul>
<li><p> integerish numerics between 1582 and 2499: &quot;year&quot; (<code>Y</code>). Note the year of
1582 saw the beginning of the Gregorian Calendar switch.
</p>
</li>
<li> <p><code>yearquarter</code>: &quot;quarter&quot; (<code>Q</code>)
</p>
</li>
<li> <p><code>yearmonth</code>: &quot;month&quot; (<code>M</code>)
</p>
</li>
<li> <p><code>yearweek</code>: &quot;week&quot; (<code>W</code>)
</p>
</li>
<li> <p><code>Date</code>: &quot;day&quot; (<code>D</code>)
</p>
</li>
<li> <p><code>difftime</code>: &quot;week&quot; (<code>W</code>), &quot;day&quot; (D), &quot;hour&quot; (<code>h</code>), &quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>)
</p>
</li>
<li> <p><code>POSIXt</code>/<code>hms</code>: &quot;hour&quot; (<code>h</code>), &quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>), &quot;millisecond&quot; (<code>us</code>),
&quot;microsecond&quot; (<code>ms</code>)
</p>
</li>
<li> <p><code>period</code>: &quot;year&quot; (<code>Y</code>), &quot;month&quot; (<code>M</code>), &quot;day&quot; (<code>D</code>), &quot;hour&quot; (<code>h</code>),
&quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>), &quot;millisecond&quot; (<code>us</code>), &quot;microsecond&quot; (<code>ms</code>)
</p>
</li>
<li> <p><code>nanotime</code>: &quot;nanosecond&quot; (<code>ns</code>)
</p>
</li>
<li><p> other numerics &amp;<code>ordered</code> (ordered factor): &quot;unit&quot;
When the interval cannot be obtained due to the mismatched index format, an
error is issued.
</p>
</li></ul>

<p>The interval is invariant to subsetting, such as <code>filter()</code>, <code>slice()</code>, and <code style="white-space: pre;">&#8288;[.tbl_ts&#8288;</code>.
However, if the result is an empty tsibble, the interval is always unknown.
When joining a tsibble with other data sources and aggregating to different
time scales, the interval gets re-calculated.
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+tsibble">tsibble</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># coerce tibble to tsibble w/o a key
tbl1 &lt;- tibble(
  date = as.Date("2017-01-01") + 0:9,
  value = rnorm(10)
)
as_tsibble(tbl1)
# supply the index to suppress the message
as_tsibble(tbl1, index = date)

# coerce tibble to tsibble with a single variable for key
# use `yearquarter()` to represent quarterly data
tbl2 &lt;- tibble(
  qtr = rep(yearquarter("2010 Q1") + 0:9, 3),
  group = rep(c("x", "y", "z"), each = 10),
  value = rnorm(30)
)
# "qtr" is automatically considered as the index var
as_tsibble(tbl2, key = group)
as_tsibble(tbl2, key = group, index = qtr)

# create a tsibble with multiple variables for key
# use `yearmonth()` to represent monthly data
tbl3 &lt;- tibble(
  mth = rep(yearmonth("2010 Jan") + 0:8, each = 3),
  xyz = rep(c("x", "y", "z"), each = 9),
  abc = rep(letters[1:3], times = 9),
  value = rnorm(27)
)
as_tsibble(tbl3, key = c(xyz, abc))
# coerce ts to tsibble
as_tsibble(AirPassengers)
as_tsibble(sunspot.year)
as_tsibble(sunspot.month)
as_tsibble(austres)
# coerce mts to tsibble
z &lt;- ts(matrix(rnorm(300), 100, 3), start = c(1961, 1), frequency = 12)
as_tsibble(z)
as_tsibble(z, pivot_longer = FALSE)
</code></pre>

<hr>
<h2 id='as.ts.tbl_ts'>Coerce a tsibble to a time series</h2><span id='topic+as.ts.tbl_ts'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tbl_ts'
as.ts(x, value, frequency = NULL, fill = NA_real_, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.ts.tbl_ts_+3A_x">x</code></td>
<td>
<p>A <code>tbl_ts</code> object.</p>
</td></tr>
<tr><td><code id="as.ts.tbl_ts_+3A_value">value</code></td>
<td>
<p>A measured variable of interest to be spread over columns, if
multiple measures.</p>
</td></tr>
<tr><td><code id="as.ts.tbl_ts_+3A_frequency">frequency</code></td>
<td>
<p>A smart frequency with the default <code>NULL</code>. If set, the
preferred frequency is passed to <code>ts()</code>.</p>
</td></tr>
<tr><td><code id="as.ts.tbl_ts_+3A_fill">fill</code></td>
<td>
<p>A value to replace missing values.</p>
</td></tr>
<tr><td><code id="as.ts.tbl_ts_+3A_...">...</code></td>
<td>
<p>Ignored for the function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ts</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a monthly series
x1 &lt;- as_tsibble(AirPassengers)
as.ts(x1)
</code></pre>

<hr>
<h2 id='build_tsibble'>Low-level constructor for a tsibble object</h2><span id='topic+build_tsibble'></span>

<h3>Description</h3>

<p><code>build_tsibble()</code> creates a <code>tbl_ts</code> object with more controls. It is useful
for creating a <code>tbl_ts</code> internally inside a function, and it allows developers to
determine if the time needs ordering and the interval needs calculating.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_tsibble(
  x,
  key = NULL,
  key_data = NULL,
  index,
  index2 = index,
  ordered = NULL,
  interval = TRUE,
  validate = TRUE,
  .drop = key_drop_default(x)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_tsibble_+3A_x">x</code></td>
<td>
<p>A <code>data.frame</code>, <code>tbl_df</code>, <code>tbl_ts</code>, or other tabular objects.</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_key">key</code></td>
<td>
<p>Variable(s) that uniquely determine time indices. <code>NULL</code> for
empty key, and <code>c()</code> for multiple variables. It works with tidy selector
(e.g. <code><a href="dplyr.html#topic+reexports">dplyr::starts_with()</a></code>).</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_key_data">key_data</code></td>
<td>
<p>A data frame containing key variables and <code>.rows</code>. When a data
frame is supplied, the argument <code>key</code> will be ignored.</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_index">index</code></td>
<td>
<p>A variable to specify the time index variable.</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_index2">index2</code></td>
<td>
<p>A candidate of <code>index</code> to update the index to a new one when
<a href="tsibble.html#topic+index_by">index_by</a>. By default, it's identical to <code>index</code>.</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_ordered">ordered</code></td>
<td>
<p>The default of <code>NULL</code> arranges the key variable(s) first and
then index from past to future. <code>TRUE</code> suggests to skip the ordering as <code>x</code> in
the correct order. <code>FALSE</code> checks the ordering and may give a warning.</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_interval">interval</code></td>
<td>
<p><code>TRUE</code> automatically calculates the interval, and <code>FALSE</code> for
irregular interval. Use the specified interval via <code><a href="tsibble.html#topic+new_interval">new_interval()</a></code> as is.</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_validate">validate</code></td>
<td>
<p><code>TRUE</code> suggests to verify that each key or each combination
of key variables leads to unique time indices (i.e. a valid tsibble). If you
are sure that it's a valid input, specify <code>FALSE</code> to skip the checks.</p>
</td></tr>
<tr><td><code id="build_tsibble_+3A_.drop">.drop</code></td>
<td>
<p>If <code>TRUE</code>, empty key groups are dropped.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Prepare `pedestrian` to use a new index `Date` ----
pedestrian %&gt;%
  build_tsibble(
    key = !!key_vars(.), index = !!index(.), index2 = Date,
    interval = interval(.)
  )
</code></pre>

<hr>
<h2 id='build_tsibble_meta'>Low-level &amp; high-performance constructor for a tsibble object</h2><span id='topic+build_tsibble_meta'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p><code>build_tsibble_meta()</code> does much less checks than <code>build_tsibble()</code> for
high performance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_tsibble_meta(
  x,
  key_data = NULL,
  index,
  index2,
  ordered = NULL,
  interval = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_tsibble_meta_+3A_x">x</code></td>
<td>
<p>A <code>data.frame</code>, <code>tbl_df</code>, <code>tbl_ts</code>, or other tabular objects.</p>
</td></tr>
<tr><td><code id="build_tsibble_meta_+3A_key_data">key_data</code></td>
<td>
<p>A data frame containing key variables and <code>.rows</code>. When a data
frame is supplied, the argument <code>key</code> will be ignored.</p>
</td></tr>
<tr><td><code id="build_tsibble_meta_+3A_index">index</code>, <code id="build_tsibble_meta_+3A_index2">index2</code></td>
<td>
<p>Quoted variable name.</p>
</td></tr>
<tr><td><code id="build_tsibble_meta_+3A_ordered">ordered</code></td>
<td>
<p><code>TRUE</code> suggests to skip the ordering as <code>x</code> in
the correct order. <code>FALSE</code> checks the ordering and may give a warning.</p>
</td></tr>
<tr><td><code id="build_tsibble_meta_+3A_interval">interval</code></td>
<td>
<p><code>TRUE</code> automatically calculates the interval, and <code>FALSE</code> for
irregular interval. Use the specified interval via <code><a href="tsibble.html#topic+new_interval">new_interval()</a></code> as is.</p>
</td></tr>
</table>

<hr>
<h2 id='count_gaps'>Count implicit gaps</h2><span id='topic+count_gaps'></span>

<h3>Description</h3>

<p>Count implicit gaps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_gaps(
  .data,
  .full = FALSE,
  .name = c(".from", ".to", ".n"),
  .start = NULL,
  .end = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count_gaps_+3A_.data">.data</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="count_gaps_+3A_.full">.full</code></td>
<td>

<ul>
<li> <p><code>FALSE</code> inserts <code>NA</code> for each keyed unit within its own period.
</p>
</li>
<li> <p><code>TRUE</code> fills <code>NA</code> over the entire time span of the data (a.k.a. fully balanced panel).
</p>
</li>
<li> <p><code>start()</code> pad <code>NA</code> to the same starting point (i.e. <code style="white-space: pre;">&#8288;min(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li>
<li> <p><code>end()</code> pad <code>NA</code> to the same ending point (i.e. <code style="white-space: pre;">&#8288;max(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li></ul>
</td></tr>
<tr><td><code id="count_gaps_+3A_.name">.name</code></td>
<td>
<p>Strings to name new columns.</p>
</td></tr>
<tr><td><code id="count_gaps_+3A_.start">.start</code>, <code id="count_gaps_+3A_.end">.end</code></td>
<td>
<p>Set custom starting/ending time that allows to expand the
existing time spans.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble contains:
</p>

<ul>
<li><p> the &quot;key&quot; of the <code>tbl_ts</code>
</p>
</li>
<li><p> &quot;.from&quot;: the starting time point of the gap
</p>
</li>
<li><p> &quot;.to&quot;: the ending time point of the gap
</p>
</li>
<li><p> &quot;.n&quot;: the number of implicit missing observations during the time period
</p>
</li></ul>



<h3>See Also</h3>

<p>Other implicit gaps handling: 
<code><a href="tsibble.html#topic+fill_gaps">fill_gaps</a>()</code>,
<code><a href="tsibble.html#topic+has_gaps">has_gaps</a>()</code>,
<code><a href="tsibble.html#topic+scan_gaps">scan_gaps</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ped_gaps &lt;- pedestrian %&gt;%
  count_gaps(.full = TRUE)
ped_gaps
if (!requireNamespace("ggplot2", quietly = TRUE)) {
  stop("Please install the ggplot2 package to run these following examples.")
}
library(ggplot2)
ggplot(ped_gaps, aes(x = Sensor, colour = Sensor)) +
  geom_linerange(aes(ymin = .from, ymax = .to)) +
  geom_point(aes(y = .from)) +
  geom_point(aes(y = .to)) +
  coord_flip() +
  theme(legend.position = "bottom")
</code></pre>

<hr>
<h2 id='default_time_units'>Time units from tsibble's &quot;interval&quot; class used for <code>seq(by = )</code></h2><span id='topic+default_time_units'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_time_units(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="default_time_units_+3A_x">x</code></td>
<td>
<p>An interval.</p>
</td></tr>
</table>

<hr>
<h2 id='difference'>Lagged differences</h2><span id='topic+difference'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>difference(x, lag = 1, differences = 1, default = NA, order_by = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="difference_+3A_x">x</code></td>
<td>
<p>Vector of values</p>
</td></tr>
<tr><td><code id="difference_+3A_lag">lag</code></td>
<td>
<p>A positive integer indicating which lag to use.</p>
</td></tr>
<tr><td><code id="difference_+3A_differences">differences</code></td>
<td>
<p>A positive integer indicating the order of the difference.</p>
</td></tr>
<tr><td><code id="difference_+3A_default">default</code></td>
<td>
<p>Value used for non-existent rows. Defaults to <code>NA</code>.</p>
</td></tr>
<tr><td><code id="difference_+3A_order_by">order_by</code></td>
<td>
<p>Override the default ordering to use another vector or column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of the same length as <code>x</code>.
</p>


<h3>See Also</h3>

<p><a href="dplyr.html#topic+lead-lag">dplyr::lead</a> and <a href="dplyr.html#topic+lead-lag">dplyr::lag</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># examples from base
difference(1:10, 2)
difference(1:10, 2, 2)
x &lt;- cumsum(cumsum(1:10))
difference(x, lag = 2)
difference(x, differences = 2)
# Use order_by if data not already ordered (example from dplyr)
library(dplyr, warn.conflicts = FALSE)
tsbl &lt;- tsibble(year = 2000:2005, value = (0:5)^2, index = year)
scrambled &lt;- tsbl %&gt;% slice(sample(nrow(tsbl)))

wrong &lt;- mutate(scrambled, diff = difference(value))
arrange(wrong, year)

right &lt;- mutate(scrambled, diff = difference(value, order_by = year))
arrange(right, year)
</code></pre>

<hr>
<h2 id='fill_gaps'>Turn implicit missing values into explicit missing values</h2><span id='topic+fill_gaps'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fill_gaps(.data, ..., .full = FALSE, .start = NULL, .end = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fill_gaps_+3A_.data">.data</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="fill_gaps_+3A_...">...</code></td>
<td>
<p>A set of name-value pairs. The values provided will only replace
missing values that were marked as &quot;implicit&quot;, and will leave previously
existing <code>NA</code> untouched.
</p>

<ul>
<li><p> empty: filled with default <code>NA</code>.
</p>
</li>
<li><p> filled by values or functions.
</p>
</li></ul>
</td></tr>
<tr><td><code id="fill_gaps_+3A_.full">.full</code></td>
<td>

<ul>
<li> <p><code>FALSE</code> inserts <code>NA</code> for each keyed unit within its own period.
</p>
</li>
<li> <p><code>TRUE</code> fills <code>NA</code> over the entire time span of the data (a.k.a. fully balanced panel).
</p>
</li>
<li> <p><code>start()</code> pad <code>NA</code> to the same starting point (i.e. <code style="white-space: pre;">&#8288;min(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li>
<li> <p><code>end()</code> pad <code>NA</code> to the same ending point (i.e. <code style="white-space: pre;">&#8288;max(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li></ul>
</td></tr>
<tr><td><code id="fill_gaps_+3A_.start">.start</code>, <code id="fill_gaps_+3A_.end">.end</code></td>
<td>
<p>Set custom starting/ending time that allows to expand the
existing time spans.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="tidyr.html#topic+fill">tidyr::fill</a>, <a href="tidyr.html#topic+replace_na">tidyr::replace_na</a> for handling missing values <code>NA</code>.
</p>
<p>Other implicit gaps handling: 
<code><a href="tsibble.html#topic+count_gaps">count_gaps</a>()</code>,
<code><a href="tsibble.html#topic+has_gaps">has_gaps</a>()</code>,
<code><a href="tsibble.html#topic+scan_gaps">scan_gaps</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>harvest &lt;- tsibble(
  year = c(2010, 2011, 2013, 2011, 2012, 2014),
  fruit = rep(c("kiwi", "cherry"), each = 3),
  kilo = sample(1:10, size = 6),
  key = fruit, index = year
)

# gaps as default `NA`
fill_gaps(harvest, .full = TRUE)
fill_gaps(harvest, .full = start())
fill_gaps(harvest, .full = end())
fill_gaps(harvest, .start = 2009, .end = 2016)
full_harvest &lt;- fill_gaps(harvest, .full = FALSE)
full_harvest

# replace gaps with a specific value
harvest %&gt;%
  fill_gaps(kilo = 0L)

# replace gaps using a function by variable
harvest %&gt;%
  fill_gaps(kilo = sum(kilo))

# replace gaps using a function for each group
harvest %&gt;%
  group_by_key() %&gt;%
  fill_gaps(kilo = sum(kilo))

# leaves existing `NA` untouched
harvest[2, 3] &lt;- NA
harvest %&gt;%
  group_by_key() %&gt;%
  fill_gaps(kilo = sum(kilo, na.rm = TRUE))

# replace NA
pedestrian %&gt;%
  group_by_key() %&gt;%
  fill_gaps(Count = as.integer(median(Count)))

if (!requireNamespace("tidyr", quietly = TRUE)) {
  stop("Please install the 'tidyr' package to run these following examples.")
}
# use fill() to fill `NA` by previous/next entry
pedestrian %&gt;%
  group_by_key() %&gt;%
  fill_gaps() %&gt;%
  tidyr::fill(Count, .direction = "down")
</code></pre>

<hr>
<h2 id='filter_index'>A shorthand for filtering time index for a tsibble</h2><span id='topic+filter_index'></span>

<h3>Description</h3>

<p>This shorthand respects time zones and encourages compact expressions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_index(.data, ..., .preserve = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_index_+3A_.data">.data</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="filter_index_+3A_...">...</code></td>
<td>
<p>Formulas that specify start and end periods (inclusive), or strings.
</p>

<ul>
<li> <p><code>~ end</code> or <code>. ~ end</code>: from the very beginning to a specified ending period.
</p>
</li>
<li> <p><code>start ~ end</code>: from specified beginning to ending periods.
</p>
</li>
<li> <p><code>start ~ .</code>: from a specified beginning to the very end of the data.
Supported index type: <code>POSIXct</code> (to seconds), <code>Date</code>, <code>yearweek</code>, <code>yearmonth</code>/<code>yearmon</code>,
<code>yearquarter</code>/<code>yearqtr</code>, <code>hms</code>/<code>difftime</code> &amp; <code>numeric</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="filter_index_+3A_.preserve">.preserve</code></td>
<td>
<p>Relevant when the <code>.data</code> input is grouped.
If <code>.preserve = FALSE</code> (the default), the grouping structure
is recalculated based on the resulting data, otherwise the grouping is kept as is.</p>
</td></tr>
</table>


<h3>System Time Zone (&quot;Europe/London&quot;)</h3>

<p>There is a known issue of an extra hour gained for a machine setting time
zone to &quot;Europe/London&quot;, regardless of the time zone associated with
the POSIXct inputs. It relates to <em>anytime</em> and <em>Boost</em>. Use <code>Sys.timezone()</code>
to check if the system time zone is &quot;Europe/London&quot;. It would be recommended to
change the global environment &quot;TZ&quot; to other equivalent names: GB, GB-Eire,
Europe/Belfast, Europe/Guernsey, Europe/Isle_of_Man and Europe/Jersey as
documented in <code>?Sys.timezone()</code>, using <code>Sys.setenv(TZ = "GB")</code> for example.
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+time_in">time_in</a> for a vector of time index
</p>


<h3>Examples</h3>

<pre><code class='language-R'># from the starting time to the end of Feb, 2015
pedestrian %&gt;%
  filter_index(~ "2015-02")

# entire Feb 2015, &amp; from the beginning of Aug 2016 to the end
pedestrian %&gt;%
  filter_index("2015-02", "2016-08" ~ .)

# multiple time windows
pedestrian %&gt;%
  filter_index(~"2015-02", "2015-08" ~ "2015-09", "2015-12" ~ "2016-02")

# entire 2015
pedestrian %&gt;%
  filter_index("2015")

# specific
pedestrian %&gt;%
  filter_index("2015-03-23" ~ "2015-10")
pedestrian %&gt;%
  filter_index("2015-03-23" ~ "2015-10-31")
pedestrian %&gt;%
  filter_index("2015-03-23 10" ~ "2015-10-31 12")
</code></pre>

<hr>
<h2 id='group_by_key'>Group by key variables</h2><span id='topic+group_by_key'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group_by_key(.data, ..., .drop = key_drop_default(.data))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="group_by_key_+3A_.data">.data</code></td>
<td>
<p>A <code>tbl_ts</code> object.</p>
</td></tr>
<tr><td><code id="group_by_key_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
<tr><td><code id="group_by_key_+3A_.drop">.drop</code></td>
<td>
<p>Drop groups formed by factor levels that don't appear in the
data? The default is <code>TRUE</code> except when <code>.data</code> has been previously
grouped with <code>.drop = FALSE</code>. See <code><a href="dplyr.html#topic+group_by_drop_default">group_by_drop_default()</a></code> for details.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tourism %&gt;%
  group_by_key()
</code></pre>

<hr>
<h2 id='guess_frequency'>Guess a time frequency from other index objects</h2><span id='topic+guess_frequency'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>A possible frequency passed to the <code>ts()</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guess_frequency(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="guess_frequency_+3A_x">x</code></td>
<td>
<p>An index object including &quot;yearmonth&quot;, &quot;yearquarter&quot;, &quot;Date&quot; and others.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a series of observations are collected more frequently than
weekly, it is more likely to have multiple seasonalities. This function
returns a frequency value at its smallest. For example, hourly data would
have daily, weekly and annual frequencies of 24, 168 and 8766 respectively,
and hence it gives 24.
</p>


<h3>References</h3>

<p><a href="https://robjhyndman.com/hyndsight/seasonal-periods/">https://robjhyndman.com/hyndsight/seasonal-periods/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>guess_frequency(yearquarter("2016 Q1") + 0:7)
guess_frequency(yearmonth("2016 Jan") + 0:23)
guess_frequency(seq(as.Date("2017-01-01"), as.Date("2017-01-31"), by = 1))
guess_frequency(seq(
  as.POSIXct("2017-01-01 00:00"), as.POSIXct("2017-01-10 23:00"),
  by = "1 hour"
))
</code></pre>

<hr>
<h2 id='has_gaps'>Does a tsibble have implicit gaps in time?</h2><span id='topic+has_gaps'></span>

<h3>Description</h3>

<p>Does a tsibble have implicit gaps in time?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_gaps(.data, .full = FALSE, .name = ".gaps", .start = NULL, .end = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_gaps_+3A_.data">.data</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="has_gaps_+3A_.full">.full</code></td>
<td>

<ul>
<li> <p><code>FALSE</code> inserts <code>NA</code> for each keyed unit within its own period.
</p>
</li>
<li> <p><code>TRUE</code> fills <code>NA</code> over the entire time span of the data (a.k.a. fully balanced panel).
</p>
</li>
<li> <p><code>start()</code> pad <code>NA</code> to the same starting point (i.e. <code style="white-space: pre;">&#8288;min(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li>
<li> <p><code>end()</code> pad <code>NA</code> to the same ending point (i.e. <code style="white-space: pre;">&#8288;max(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li></ul>
</td></tr>
<tr><td><code id="has_gaps_+3A_.name">.name</code></td>
<td>
<p>Strings to name new columns.</p>
</td></tr>
<tr><td><code id="has_gaps_+3A_.start">.start</code>, <code id="has_gaps_+3A_.end">.end</code></td>
<td>
<p>Set custom starting/ending time that allows to expand the
existing time spans.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble contains &quot;key&quot; variables and new column <code>.gaps</code> of <code>TRUE</code>/<code>FALSE</code>.
</p>


<h3>See Also</h3>

<p>Other implicit gaps handling: 
<code><a href="tsibble.html#topic+count_gaps">count_gaps</a>()</code>,
<code><a href="tsibble.html#topic+fill_gaps">fill_gaps</a>()</code>,
<code><a href="tsibble.html#topic+scan_gaps">scan_gaps</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>harvest &lt;- tsibble(
  year = c(2010, 2011, 2013, 2011, 2012, 2013),
  fruit = rep(c("kiwi", "cherry"), each = 3),
  kilo = sample(1:10, size = 6),
  key = fruit, index = year
)
has_gaps(harvest)
has_gaps(harvest, .full = TRUE)
has_gaps(harvest, .full = start())
has_gaps(harvest, .full = end())
</code></pre>

<hr>
<h2 id='holiday_aus'>Australian national and state-based public holiday</h2><span id='topic+holiday_aus'></span>

<h3>Description</h3>

<p>Australian national and state-based public holiday
</p>


<h3>Usage</h3>

<pre><code class='language-R'>holiday_aus(year, state = "national")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="holiday_aus_+3A_year">year</code></td>
<td>
<p>A vector of integer(s) indicating year(s).</p>
</td></tr>
<tr><td><code id="holiday_aus_+3A_state">state</code></td>
<td>
<p>A state in Australia including &quot;ACT&quot;, &quot;NSW&quot;, &quot;NT&quot;, &quot;QLD&quot;, &quot;SA&quot;,
&quot;TAS&quot;, &quot;VIC&quot;, &quot;WA&quot;, as well as &quot;national&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Not documented public holidays:
</p>

<ul>
<li><p> AFL public holidays for Victoria
</p>
</li>
<li><p> Queen's Birthday for Western Australia
</p>
</li>
<li><p> Royal Queensland Show for Queensland, which is for Brisbane only
</p>
</li></ul>

<p>This function requires &quot;timeDate&quot; to be installed.
</p>


<h3>Value</h3>

<p>A tibble consisting of <code>holiday</code> labels and their associated dates
in the year(s).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>holiday_aus(2016, state = "VIC")
holiday_aus(2013:2016, state = "ACT")
</code></pre>

<hr>
<h2 id='index'>Return index variable from a tsibble</h2><span id='topic+index'></span><span id='topic+index_var'></span><span id='topic+index2'></span><span id='topic+index2_var'></span>

<h3>Description</h3>

<p>Return index variable from a tsibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index(x)

index_var(x)

index2(x)

index2_var(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="index_+3A_x">x</code></td>
<td>
<p>A tsibble object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>index(pedestrian)
index_var(pedestrian)
</code></pre>

<hr>
<h2 id='index_by'>Group by time index and collapse with <code>summarise()</code></h2><span id='topic+index_by'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p><code>index_by()</code> is the counterpart of <code>group_by()</code> in temporal context, but it
only groups the time index. The following operation is applied to each partition
of the index, similar to <code>group_by()</code> but dealing with index only.
<code>index_by()</code> + <code>summarise()</code> will update the grouping index variable to be
the new index. Use <code>ungroup()</code> to remove the index grouping vars.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index_by(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="index_by_+3A_.data">.data</code></td>
<td>
<p>A <code>tbl_ts</code>.</p>
</td></tr>
<tr><td><code id="index_by_+3A_...">...</code></td>
<td>
<p>If empty, grouping the current index. If not empty, a single
expression is required for either an existing variable or a name-value pair.
A lambda expression is supported, for example <code>~ as.Date(.)</code> where <code>.</code> refers
to the index variable.
The index functions that can be used, but not limited:
</p>

<ul>
<li> <p><a href="lubridate.html#topic+year">lubridate::year</a>: yearly aggregation
</p>
</li>
<li> <p><a href="tsibble.html#topic+yearquarter">yearquarter</a>: quarterly aggregation
</p>
</li>
<li> <p><a href="tsibble.html#topic+yearmonth">yearmonth</a>: monthly aggregation
</p>
</li>
<li> <p><a href="tsibble.html#topic+yearweek">yearweek</a>: weekly aggregation
</p>
</li>
<li> <p><a href="base.html#topic+as.Date">as.Date</a> or <a href="lubridate.html#topic+as_date">lubridate::as_date</a>: daily aggregation
</p>
</li>
<li> <p><a href="lubridate.html#topic+round_date">lubridate::ceiling_date</a>, <a href="lubridate.html#topic+round_date">lubridate::floor_date</a>, or <a href="lubridate.html#topic+round_date">lubridate::round_date</a>:
fine-resolution aggregation
</p>
</li>
<li><p> Extract time components functions, such as <code><a href="lubridate.html#topic+hour">lubridate::hour()</a></code> &amp; <code><a href="lubridate.html#topic+day">lubridate::day()</a></code>
</p>
</li>
<li><p> other index functions from other packages or self-defined functions
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> A <code>index_by()</code>-ed tsibble is indicated by <code>@</code> in the &quot;Groups&quot; when
displaying on the screen.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>pedestrian %&gt;% index_by()
# Monthly counts across sensors
library(dplyr, warn.conflicts = FALSE)
monthly_ped &lt;- pedestrian %&gt;%
  group_by_key() %&gt;%
  index_by(Year_Month = ~ yearmonth(.)) %&gt;%
  summarise(
    Max_Count = max(Count),
    Min_Count = min(Count)
  )
monthly_ped
index(monthly_ped)

# Using existing variable
pedestrian %&gt;%
  group_by_key() %&gt;%
  index_by(Date) %&gt;%
  summarise(
    Max_Count = max(Count),
    Min_Count = min(Count)
  )

# Attempt to aggregate to 4-hour interval, with the effects of DST
pedestrian %&gt;%
  group_by_key() %&gt;%
  index_by(Date_Time4 = ~ lubridate::floor_date(., "4 hour")) %&gt;%
  summarise(Total_Count = sum(Count))

library(lubridate, warn.conflicts = FALSE)
# Annual trips by Region and State
tourism %&gt;%
  index_by(Year = ~ year(.)) %&gt;%
  group_by(Region, State) %&gt;%
  summarise(Total = sum(Trips))

# Rounding to financial year, using a custom function
financial_year &lt;- function(date) {
  year &lt;- year(date)
  ifelse(quarter(date) &lt;= 2, year, year + 1)
}
tourism %&gt;%
  index_by(Year = ~ financial_year(.)) %&gt;%
  summarise(Total = sum(Trips))
</code></pre>

<hr>
<h2 id='index_valid'>Add custom index support for a tsibble</h2><span id='topic+index_valid'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>S3 method to add an index type support for a tsibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index_valid(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="index_valid_+3A_x">x</code></td>
<td>
<p>An object of index type supported by tsibble.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method is primarily used for adding an index type support in
<a href="fable.html#topic+as_tsibble">as_tsibble</a>.
</p>


<h3>Value</h3>

<p><code>TRUE</code>/<code>FALSE</code> or <code>NA</code> (unsure)
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+interval_pull">interval_pull</a> for obtaining interval for regularly spaced time.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>index_valid(seq(as.Date("2017-01-01"), as.Date("2017-01-10"), by = 1))
</code></pre>

<hr>
<h2 id='interval'>Meta-information of a tsibble</h2><span id='topic+interval'></span><span id='topic+is_regular'></span><span id='topic+is_ordered'></span>

<h3>Description</h3>


<ul>
<li> <p><code>interval()</code> returns an interval of a tsibble.
</p>
</li>
<li> <p><code>is_regular</code> checks if a tsibble is spaced at regular time or not.
</p>
</li>
<li> <p><code>is_ordered</code> checks if a tsibble is ordered by key and index.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>interval(x)

is_regular(x)

is_ordered(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interval_+3A_x">x</code></td>
<td>
<p>A tsibble object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>interval(pedestrian)
is_regular(pedestrian)
is_ordered(pedestrian)
</code></pre>

<hr>
<h2 id='interval_pull'>Pull time interval from a vector</h2><span id='topic+interval_pull'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Assuming regularly spaced time, the <code>interval_pull()</code> returns a list of time
components as the &quot;interval&quot; class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interval_pull(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interval_pull_+3A_x">x</code></td>
<td>
<p>A vector of index-like class.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Extend tsibble to support custom time indexes by defining S3 generics
<code>index_valid()</code> and <code>interval_pull()</code> for them.
</p>


<h3>Value</h3>

<p>An &quot;interval&quot; class (a list) includes &quot;year&quot;,
&quot;quarter&quot;, &quot;month&quot;, &quot;week&quot;, &quot;day&quot;, &quot;hour&quot;, &quot;minute&quot;, &quot;second&quot;, &quot;millisecond&quot;,
&quot;microsecond&quot;, &quot;nanosecond&quot;, &quot;unit&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(as.Date("2017-10-01"), as.Date("2017-10-31"), by = 3)
interval_pull(x)
</code></pre>

<hr>
<h2 id='is_duplicated'>Test duplicated observations determined by key and index variables</h2><span id='topic+is_duplicated'></span><span id='topic+are_duplicated'></span><span id='topic+duplicates'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>

<ul>
<li> <p><code>is_duplicated()</code>: a logical scalar if the data exist duplicated observations.
</p>
</li>
<li> <p><code>are_duplicated()</code>: a logical vector, the same length as the row number of <code>data</code>.
</p>
</li>
<li> <p><code>duplicates()</code>: identical key-index data entries.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>is_duplicated(data, key = NULL, index)

are_duplicated(data, key = NULL, index, from_last = FALSE)

duplicates(data, key = NULL, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_duplicated_+3A_data">data</code></td>
<td>
<p>A data frame for creating a tsibble.</p>
</td></tr>
<tr><td><code id="is_duplicated_+3A_key">key</code></td>
<td>
<p>Variable(s) that uniquely determine time indices. <code>NULL</code> for
empty key, and <code>c()</code> for multiple variables. It works with tidy selector
(e.g. <code><a href="dplyr.html#topic+reexports">dplyr::starts_with()</a></code>).</p>
</td></tr>
<tr><td><code id="is_duplicated_+3A_index">index</code></td>
<td>
<p>A variable to specify the time index variable.</p>
</td></tr>
<tr><td><code id="is_duplicated_+3A_from_last">from_last</code></td>
<td>
<p><code>TRUE</code> does the duplication check from the last of identical
elements.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>harvest &lt;- tibble(
  year = c(2010, 2011, 2013, 2011, 2012, 2014, 2014),
  fruit = c(rep(c("kiwi", "cherry"), each = 3), "cherry"),
  kilo = sample(1:10, size = 7)
)
is_duplicated(harvest, key = fruit, index = year)
are_duplicated(harvest, key = fruit, index = year)
are_duplicated(harvest, key = fruit, index = year, from_last = TRUE)
duplicates(harvest, key = fruit, index = year)
</code></pre>

<hr>
<h2 id='is_tsibble'>If the object is a tsibble</h2><span id='topic+is_tsibble'></span><span id='topic+is_grouped_ts'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_tsibble(x)

is_grouped_ts(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_tsibble_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the object inherits from the tbl_ts class.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A tibble is not a tsibble ----
tbl &lt;- tibble(
  date = seq(as.Date("2017-10-01"), as.Date("2017-10-31"), by = 1),
  value = rnorm(31)
)
is_tsibble(tbl)

# A tsibble ----
tsbl &lt;- as_tsibble(tbl, index = date)
is_tsibble(tsbl)
</code></pre>

<hr>
<h2 id='is.tsibble'>Deprecated functions</h2><span id='topic+is.tsibble'></span>

<h3>Description</h3>


<ul>
<li> <p><code>is.tsibble()</code> <a href="https://lifecycle.r-lib.org/articles/stages.html#defunct"><img src="../help/figures/lifecycle-defunct.svg" alt='[Defunct]' /></a>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>is.tsibble(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.tsibble_+3A_x">x</code></td>
<td>
<p>Other objects.</p>
</td></tr>
</table>

<hr>
<h2 id='key'>Return key variables</h2><span id='topic+key'></span><span id='topic+key_vars'></span>

<h3>Description</h3>

<p><code>key()</code> returns a list of symbols; <code>key_vars()</code> gives a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>key(x)

key_vars(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="key_+3A_x">x</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>key(pedestrian)
key_vars(pedestrian)

key(tourism)
key_vars(tourism)
</code></pre>

<hr>
<h2 id='key_data'>Key metadata</h2><span id='topic+key_data'></span><span id='topic+key_rows'></span><span id='topic+key_size'></span><span id='topic+n_keys'></span>

<h3>Description</h3>

<p>Key metadata
</p>


<h3>Usage</h3>

<pre><code class='language-R'>key_data(.data)

key_rows(.data)

key_size(x)

n_keys(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="key_data_+3A_.data">.data</code>, <code id="key_data_+3A_x">x</code></td>
<td>
<p>A tsibble</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="dplyr.html#topic+group_data">dplyr::group_data</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>key_data(pedestrian)
</code></pre>

<hr>
<h2 id='key_drop_default'>Default value for .drop argument for key</h2><span id='topic+key_drop_default'></span>

<h3>Description</h3>

<p>Default value for .drop argument for key
</p>


<h3>Usage</h3>

<pre><code class='language-R'>key_drop_default(.tbl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="key_drop_default_+3A_.tbl">.tbl</code></td>
<td>
<p>A data frame</p>
</td></tr>
</table>

<hr>
<h2 id='measures'>Return measured variables</h2><span id='topic+measures'></span><span id='topic+measured_vars'></span>

<h3>Description</h3>

<p>Return measured variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>measures(x)

measured_vars(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="measures_+3A_x">x</code></td>
<td>
<p>A <code>tbl_ts</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>measures(pedestrian)
measures(tourism)

measured_vars(pedestrian)
measured_vars(tourism)
</code></pre>

<hr>
<h2 id='new_data'>New tsibble data and append new observations to a tsibble</h2><span id='topic+new_data'></span><span id='topic+new_data.tbl_ts'></span><span id='topic+append_row'></span><span id='topic+append_case'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p><code>append_row()</code>: add new rows to the start/end of a tsibble by filling a key-index
pair and <code>NA</code> for measured variables.
</p>
<p><code>append_case()</code> is an alias of <code>append_row()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_data(.data, n = 1L, ...)

## S3 method for class 'tbl_ts'
new_data(.data, n = 1L, keep_all = FALSE, ...)

append_row(.data, n = 1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_data_+3A_.data">.data</code></td>
<td>
<p>A <code>tbl_ts</code>.</p>
</td></tr>
<tr><td><code id="new_data_+3A_n">n</code></td>
<td>
<p>An integer indicates the number of key-index pair to append. If
</p>

<ul>
<li> <p><code>n &gt; 0</code>, future observations
</p>
</li>
<li> <p><code>n &lt; 0</code>, past observations
</p>
</li></ul>
</td></tr>
<tr><td><code id="new_data_+3A_...">...</code></td>
<td>
<p>Passed to individual S3 method.</p>
</td></tr>
<tr><td><code id="new_data_+3A_keep_all">keep_all</code></td>
<td>
<p>If <code>TRUE</code> keep all the measured variables as well as index
and key, otherwise only index and key.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>new_data(pedestrian)
new_data(pedestrian, keep_all = TRUE)
new_data(pedestrian, n = 3)
new_data(pedestrian, n = -2)

tsbl &lt;- tsibble(
  date = rep(as.Date("2017-01-01") + 0:2, each = 2),
  group = rep(letters[1:2], 3),
  value = rnorm(6),
  key = group
)
append_row(tsbl)
append_row(tsbl, n = 2)
append_row(tsbl, n = -2)
</code></pre>

<hr>
<h2 id='new_interval'>Interval constructor for a tsibble</h2><span id='topic+new_interval'></span><span id='topic+is_regular_interval'></span><span id='topic+gcd_interval'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>

<ul>
<li> <p><code>new_interval()</code> creates an interval object.
</p>
</li>
<li> <p><code>gcd_interval()</code> computes the greatest common divisor for the difference
of numerics.
</p>
</li>
<li> <p><code>is_regular_interval()</code> checks if the interval is regular.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>new_interval(..., .regular = TRUE, .others = list())

is_regular_interval(x)

gcd_interval(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_interval_+3A_...">...</code></td>
<td>
<p>A set of name-value pairs to specify default interval units: &quot;year&quot;,
&quot;quarter&quot;, &quot;month&quot;, &quot;week&quot;, &quot;day&quot;, &quot;hour&quot;, &quot;minute&quot;, &quot;second&quot;, &quot;millisecond&quot;,
&quot;microsecond&quot;, &quot;nanosecond&quot;, &quot;unit&quot;.</p>
</td></tr>
<tr><td><code id="new_interval_+3A_.regular">.regular</code></td>
<td>
<p>Logical. <code>FALSE</code> gives an irregular interval, and will ignore
the <code>...</code> argument.</p>
</td></tr>
<tr><td><code id="new_interval_+3A_.others">.others</code></td>
<td>
<p>A list name-value pairs that are not included in the <code>...</code>,
to allow custom interval.</p>
</td></tr>
<tr><td><code id="new_interval_+3A_x">x</code></td>
<td>
<p>An interval.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an &quot;interval&quot; class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x &lt;- new_interval(hour = 1, minute = 30))
(y &lt;- new_interval(.regular = FALSE)) # irregular interval
new_interval() # unknown interval
new_interval(.others = list(semester = 1)) # custom interval
is_regular_interval(x)
is_regular_interval(y)
gcd_interval(c(1, 3, 5, 6))
</code></pre>

<hr>
<h2 id='new_tsibble'>Create a subclass of a tsibble</h2><span id='topic+new_tsibble'></span>

<h3>Description</h3>

<p>Create a subclass of a tsibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_tsibble(x, ..., class = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_tsibble_+3A_x">x</code></td>
<td>
<p>A <code>tbl_ts</code>, required.</p>
</td></tr>
<tr><td><code id="new_tsibble_+3A_...">...</code></td>
<td>
<p>Name-value pairs defining new attributes other than a tsibble.</p>
</td></tr>
<tr><td><code id="new_tsibble_+3A_class">class</code></td>
<td>
<p>Subclasses to assign to the new object, default: none.</p>
</td></tr>
</table>

<hr>
<h2 id='pedestrian'>Pedestrian counts in the city of Melbourne</h2><span id='topic+pedestrian'></span>

<h3>Description</h3>

<p>A dataset containing the hourly pedestrian counts from 2015-01-01 to
2016-12-31 at 4 sensors in the city of Melbourne.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pedestrian
</code></pre>


<h3>Format</h3>

<p>A tsibble with 66,071 rows and 5 variables:
</p>

<ul>
<li> <p><strong>Sensor</strong>: Sensor names (key)
</p>
</li>
<li> <p><strong>Date_Time</strong>: Date time when the pedestrian counts are recorded (index)
</p>
</li>
<li> <p><strong>Date</strong>: Date when the pedestrian counts are recorded
</p>
</li>
<li> <p><strong>Time</strong>: Hour associated with Date_Time
</p>
</li>
<li> <p><strong>Counts</strong>: Hourly pedestrian counts
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://data.melbourne.vic.gov.au/Transport-Movement/Pedestrian-volume-updated-monthly-/b2ak-trbp">Melbourne Open Data Portal</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
data(pedestrian)
# make implicit missingness to be explicit ----
pedestrian %&gt;% fill_gaps()
# compute daily maximum counts across sensors ----
pedestrian %&gt;%
  group_by_key() %&gt;%
  index_by(Date) %&gt;% # group by Date and use it as new index
  summarise(MaxC = max(Count))
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic+as_tibble'></span><span id='topic+tibble'></span><span id='topic+union'></span><span id='topic+intersect'></span><span id='topic+setdiff'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+setops">intersect</a></code>, <code><a href="generics.html#topic+setops">setdiff</a></code>, <code><a href="generics.html#topic+setops">union</a></code></p>
</dd>
<dt>tibble</dt><dd><p><code><a href="tibble.html#topic+as_tibble">as_tibble</a></code>, <code><a href="tibble.html#topic+tibble">tibble</a></code></p>
</dd>
</dl>

<hr>
<h2 id='scan_gaps'>Scan a tsibble for implicit missing observations</h2><span id='topic+scan_gaps'></span>

<h3>Description</h3>

<p>Scan a tsibble for implicit missing observations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scan_gaps(.data, .full = FALSE, .start = NULL, .end = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scan_gaps_+3A_.data">.data</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="scan_gaps_+3A_.full">.full</code></td>
<td>

<ul>
<li> <p><code>FALSE</code> inserts <code>NA</code> for each keyed unit within its own period.
</p>
</li>
<li> <p><code>TRUE</code> fills <code>NA</code> over the entire time span of the data (a.k.a. fully balanced panel).
</p>
</li>
<li> <p><code>start()</code> pad <code>NA</code> to the same starting point (i.e. <code style="white-space: pre;">&#8288;min(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li>
<li> <p><code>end()</code> pad <code>NA</code> to the same ending point (i.e. <code style="white-space: pre;">&#8288;max(&lt;index&gt;)&#8288;</code>) across units.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scan_gaps_+3A_.start">.start</code>, <code id="scan_gaps_+3A_.end">.end</code></td>
<td>
<p>Set custom starting/ending time that allows to expand the
existing time spans.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other implicit gaps handling: 
<code><a href="tsibble.html#topic+count_gaps">count_gaps</a>()</code>,
<code><a href="tsibble.html#topic+fill_gaps">fill_gaps</a>()</code>,
<code><a href="tsibble.html#topic+has_gaps">has_gaps</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>scan_gaps(pedestrian)
</code></pre>

<hr>
<h2 id='slide_tsibble'>Perform sliding windows on a tsibble by row</h2><span id='topic+slide_tsibble'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#questioning"><img src="../help/figures/lifecycle-questioning.svg" alt='[Questioning]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slide_tsibble(.x, .size = 1, .step = 1, .id = ".id")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slide_tsibble_+3A_.x">.x</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="slide_tsibble_+3A_.size">.size</code></td>
<td>
<p>A positive integer for window size.</p>
</td></tr>
<tr><td><code id="slide_tsibble_+3A_.step">.step</code></td>
<td>
<p>A positive integer for calculating at every specified step
instead of every single step.</p>
</td></tr>
<tr><td><code id="slide_tsibble_+3A_.id">.id</code></td>
<td>
<p>A character naming the new column <code>.id</code> containing the partition.</p>
</td></tr>
</table>


<h3>Rolling tsibble</h3>

<p><code>slide_tsibble()</code>, <code>tile_tsibble()</code>, and <code>stretch_tsibble()</code> provide fast
and shorthand for rolling over a tsibble by observations. That said, if the
supplied tsibble has time gaps, these rolling helpers will ignore those gaps
and proceed.
</p>
<p>They are useful for preparing the tsibble for time series cross validation.
They all return a tsibble including a new column <code>.id</code> as part of the key. The
output dimension will increase considerably with <code>slide_tsibble()</code> and
<code>stretch_tsibble()</code>, which is likely to run out of memory when the data is
large.
</p>


<h3>See Also</h3>

<p>Other rolling tsibble: 
<code><a href="tsibble.html#topic+stretch_tsibble">stretch_tsibble</a>()</code>,
<code><a href="tsibble.html#topic+tile_tsibble">tile_tsibble</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>harvest &lt;- tsibble(
  year = rep(2010:2012, 2),
  fruit = rep(c("kiwi", "cherry"), each = 3),
  kilo = sample(1:10, size = 6),
  key = fruit, index = year
)
harvest %&gt;%
  slide_tsibble(.size = 2)
</code></pre>

<hr>
<h2 id='stretch_tsibble'>Perform stretching windows on a tsibble by row</h2><span id='topic+stretch_tsibble'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#questioning"><img src="../help/figures/lifecycle-questioning.svg" alt='[Questioning]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stretch_tsibble(.x, .step = 1, .init = 1, .id = ".id")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stretch_tsibble_+3A_.x">.x</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="stretch_tsibble_+3A_.step">.step</code></td>
<td>
<p>A positive integer for incremental step.</p>
</td></tr>
<tr><td><code id="stretch_tsibble_+3A_.init">.init</code></td>
<td>
<p>A positive integer for an initial window size.</p>
</td></tr>
<tr><td><code id="stretch_tsibble_+3A_.id">.id</code></td>
<td>
<p>A character naming the new column <code>.id</code> containing the partition.</p>
</td></tr>
</table>


<h3>Rolling tsibble</h3>

<p><code>slide_tsibble()</code>, <code>tile_tsibble()</code>, and <code>stretch_tsibble()</code> provide fast
and shorthand for rolling over a tsibble by observations. That said, if the
supplied tsibble has time gaps, these rolling helpers will ignore those gaps
and proceed.
</p>
<p>They are useful for preparing the tsibble for time series cross validation.
They all return a tsibble including a new column <code>.id</code> as part of the key. The
output dimension will increase considerably with <code>slide_tsibble()</code> and
<code>stretch_tsibble()</code>, which is likely to run out of memory when the data is
large.
</p>


<h3>See Also</h3>

<p>Other rolling tsibble: 
<code><a href="tsibble.html#topic+slide_tsibble">slide_tsibble</a>()</code>,
<code><a href="tsibble.html#topic+tile_tsibble">tile_tsibble</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>harvest &lt;- tsibble(
  year = rep(2010:2012, 2),
  fruit = rep(c("kiwi", "cherry"), each = 3),
  kilo = sample(1:10, size = 6),
  key = fruit, index = year
)
harvest %&gt;%
  stretch_tsibble()
</code></pre>

<hr>
<h2 id='tile_tsibble'>Perform tiling windows on a tsibble by row</h2><span id='topic+tile_tsibble'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#questioning"><img src="../help/figures/lifecycle-questioning.svg" alt='[Questioning]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tile_tsibble(.x, .size = 1, .id = ".id")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tile_tsibble_+3A_.x">.x</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="tile_tsibble_+3A_.size">.size</code></td>
<td>
<p>A positive integer for window size.</p>
</td></tr>
<tr><td><code id="tile_tsibble_+3A_.id">.id</code></td>
<td>
<p>A character naming the new column <code>.id</code> containing the partition.</p>
</td></tr>
</table>


<h3>Rolling tsibble</h3>

<p><code>slide_tsibble()</code>, <code>tile_tsibble()</code>, and <code>stretch_tsibble()</code> provide fast
and shorthand for rolling over a tsibble by observations. That said, if the
supplied tsibble has time gaps, these rolling helpers will ignore those gaps
and proceed.
</p>
<p>They are useful for preparing the tsibble for time series cross validation.
They all return a tsibble including a new column <code>.id</code> as part of the key. The
output dimension will increase considerably with <code>slide_tsibble()</code> and
<code>stretch_tsibble()</code>, which is likely to run out of memory when the data is
large.
</p>


<h3>See Also</h3>

<p>Other rolling tsibble: 
<code><a href="tsibble.html#topic+slide_tsibble">slide_tsibble</a>()</code>,
<code><a href="tsibble.html#topic+stretch_tsibble">stretch_tsibble</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>harvest &lt;- tsibble(
  year = rep(2010:2012, 2),
  fruit = rep(c("kiwi", "cherry"), each = 3),
  kilo = sample(1:10, size = 6),
  key = fruit, index = year
)
harvest %&gt;%
  tile_tsibble(.size = 2)
</code></pre>

<hr>
<h2 id='time_in'>If time falls in the ranges using compact expressions</h2><span id='topic+time_in'></span>

<h3>Description</h3>

<p>This function respects time zone and encourages compact expressions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_in(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_in_+3A_x">x</code></td>
<td>
<p>A vector of time index, such as classes <code>POSIXct</code>, <code>Date</code>, <code>yearweek</code>,
<code>yearmonth</code>, <code>yearquarter</code>, <code>hms</code>/<code>difftime</code>, and <code>numeric</code>.</p>
</td></tr>
<tr><td><code id="time_in_+3A_...">...</code></td>
<td>
<p>Formulas that specify start and end periods (inclusive), or strings.
</p>

<ul>
<li> <p><code>~ end</code> or <code>. ~ end</code>: from the very beginning to a specified ending period.
</p>
</li>
<li> <p><code>start ~ end</code>: from specified beginning to ending periods.
</p>
</li>
<li> <p><code>start ~ .</code>: from a specified beginning to the very end of the data.
Supported index type: <code>POSIXct</code> (to seconds), <code>Date</code>, <code>yearweek</code>, <code>yearmonth</code>/<code>yearmon</code>,
<code>yearquarter</code>/<code>yearqtr</code>, <code>hms</code>/<code>difftime</code> &amp; <code>numeric</code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>logical vector
</p>


<h3>System Time Zone (&quot;Europe/London&quot;)</h3>

<p>There is a known issue of an extra hour gained for a machine setting time
zone to &quot;Europe/London&quot;, regardless of the time zone associated with
the POSIXct inputs. It relates to <em>anytime</em> and <em>Boost</em>. Use <code>Sys.timezone()</code>
to check if the system time zone is &quot;Europe/London&quot;. It would be recommended to
change the global environment &quot;TZ&quot; to other equivalent names: GB, GB-Eire,
Europe/Belfast, Europe/Guernsey, Europe/Isle_of_Man and Europe/Jersey as
documented in <code>?Sys.timezone()</code>, using <code>Sys.setenv(TZ = "GB")</code> for example.
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+filter_index">filter_index</a> for filtering tsibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- unique(pedestrian$Date_Time)
lgl &lt;- time_in(x, ~"2015-02", "2015-08" ~ "2015-09", "2015-12" ~ "2016-02")
lgl[1:10]
# more specific
lgl2 &lt;- time_in(x, "2015-03-23 10" ~ "2015-10-31 12")
lgl2[1:10]

library(dplyr)
pedestrian %&gt;%
  filter(time_in(Date_Time, "2015-03-23 10" ~ "2015-10-31 12"))
pedestrian %&gt;%
  filter(time_in(Date_Time, "2015")) %&gt;%
  mutate(Season = ifelse(
    time_in(Date_Time, "2015-03" ~ "2015-08"),
    "Autumn-Winter", "Spring-Summer"
  ))
</code></pre>

<hr>
<h2 id='tourism'>Australian domestic overnight trips</h2><span id='topic+tourism'></span>

<h3>Description</h3>

<p>A dataset containing the quarterly overnight trips from 1998 Q1 to 2016 Q4
across Australia.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tourism
</code></pre>


<h3>Format</h3>

<p>A tsibble with 23,408 rows and 5 variables:
</p>

<ul>
<li> <p><strong>Quarter</strong>: Year quarter (index)
</p>
</li>
<li> <p><strong>Region</strong>: The tourism regions are formed through the aggregation of
Statistical Local Areas (SLAs) which are defined by the various State and
Territory tourism authorities according to their research and marketing
needs
</p>
</li>
<li> <p><strong>State</strong>: States and territories of Australia
</p>
</li>
<li> <p><strong>Purpose</strong>: Stopover purpose of visit:
</p>

<ul>
<li><p> &quot;Holiday&quot;
</p>
</li>
<li><p> &quot;Visiting friends and relatives&quot;
</p>
</li>
<li><p> &quot;Business&quot;
</p>
</li>
<li><p> &quot;Other reason&quot;
</p>
</li></ul>

</li>
<li> <p><strong>Trips</strong>: Overnight trips in thousands
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://www.tra.gov.au">Tourism Research Australia</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
data(tourism)
# Total trips over geographical regions
tourism %&gt;%
  group_by(Region, State) %&gt;%
  summarise(Total_Trips = sum(Trips))
</code></pre>

<hr>
<h2 id='tsibble'>Create a tsibble object</h2><span id='topic+tsibble'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsibble(..., key = NULL, index, regular = TRUE, .drop = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsibble_+3A_...">...</code></td>
<td>
<p>A set of name-value pairs.</p>
</td></tr>
<tr><td><code id="tsibble_+3A_key">key</code></td>
<td>
<p>Variable(s) that uniquely determine time indices. <code>NULL</code> for
empty key, and <code>c()</code> for multiple variables. It works with tidy selector
(e.g. <code><a href="dplyr.html#topic+reexports">dplyr::starts_with()</a></code>).</p>
</td></tr>
<tr><td><code id="tsibble_+3A_index">index</code></td>
<td>
<p>A variable to specify the time index variable.</p>
</td></tr>
<tr><td><code id="tsibble_+3A_regular">regular</code></td>
<td>
<p>Regular time interval (<code>TRUE</code>) or irregular (<code>FALSE</code>). The
interval is determined by the greatest common divisor of index column, if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tsibble_+3A_.drop">.drop</code></td>
<td>
<p>If <code>TRUE</code>, empty key groups are dropped.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A tsibble is sorted by its key first and index.
</p>


<h3>Value</h3>

<p>A tsibble object.
</p>


<h3>Index</h3>

<p>An extensive range of indices are supported by tsibble:
</p>

<ul>
<li><p> native time classes in R (such as <code>Date</code>, <code>POSIXct</code>, and <code>difftime</code>)
</p>
</li>
<li><p> tsibble's new additions (such as <a href="tsibble.html#topic+yearweek">yearweek</a>, <a href="tsibble.html#topic+yearmonth">yearmonth</a>, and <a href="tsibble.html#topic+yearquarter">yearquarter</a>).
</p>
</li>
<li><p> other commonly-used classes: <code>ordered</code>, <code>hms::hms</code>, <code>lubridate::period</code>,
and <code>nanotime::nanotime</code>.
</p>
</li></ul>

<p>For a <code>tbl_ts</code> of regular interval, a choice of index representation has to
be made. For example, a monthly data should correspond to time index created
by <a href="tsibble.html#topic+yearmonth">yearmonth</a>, instead of <code>Date</code> or <code>POSIXct</code>. Because months in a year
ensures the regularity, 12 months every year. However, if using <code>Date</code>, a
month containing days ranges from 28 to 31 days, which results in irregular
time space. This is also applicable to year-week and year-quarter.
</p>
<p>Tsibble supports arbitrary index classes, as long as they can be ordered from
past to future. To support a custom class, you need to define <code><a href="tsibble.html#topic+index_valid">index_valid()</a></code>
for the class and calculate the interval through <code><a href="tsibble.html#topic+interval_pull">interval_pull()</a></code>.
</p>


<h3>Key</h3>

<p>Key variable(s) together with the index uniquely identifies each record:
</p>

<ul>
<li><p> Empty: an implicit variable. <code>NULL</code> resulting in a univariate time series.
</p>
</li>
<li><p> A single variable: For example, <code>data(pedestrian)</code> uses <code>Sensor</code> as the key.
</p>
</li>
<li><p> Multiple variables: For example, Declare <code>key = c(Region, State, Purpose)</code>
for <code>data(tourism)</code>.
Key can be created in conjunction with tidy selectors like <code>starts_with()</code>.
</p>
</li></ul>



<h3>Interval</h3>

<p>The <a href="lubridate.html#topic+interval">interval</a> function returns the interval associated with the tsibble.
</p>

<ul>
<li><p> Regular: the value and its time unit including &quot;nanosecond&quot;, &quot;microsecond&quot;,
&quot;millisecond&quot;, &quot;second&quot;, &quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;quarter&quot;,
&quot;year&quot;. An unrecognisable time interval is labelled as &quot;unit&quot;.
</p>
</li>
<li><p> Irregular: <code>as_tsibble(regular = FALSE)</code> gives the irregular tsibble. It is
marked with <code>!</code>.
</p>
</li>
<li><p> Unknown: Not determined (<code style="white-space: pre;">&#8288;?&#8288;</code>), if it's an empty tsibble, or one entry for
each key variable.
</p>
</li></ul>

<p>An interval is obtained based on the corresponding index representation:
</p>

<ul>
<li><p> integerish numerics between 1582 and 2499: &quot;year&quot; (<code>Y</code>). Note the year of
1582 saw the beginning of the Gregorian Calendar switch.
</p>
</li>
<li> <p><code>yearquarter</code>: &quot;quarter&quot; (<code>Q</code>)
</p>
</li>
<li> <p><code>yearmonth</code>: &quot;month&quot; (<code>M</code>)
</p>
</li>
<li> <p><code>yearweek</code>: &quot;week&quot; (<code>W</code>)
</p>
</li>
<li> <p><code>Date</code>: &quot;day&quot; (<code>D</code>)
</p>
</li>
<li> <p><code>difftime</code>: &quot;week&quot; (<code>W</code>), &quot;day&quot; (D), &quot;hour&quot; (<code>h</code>), &quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>)
</p>
</li>
<li> <p><code>POSIXt</code>/<code>hms</code>: &quot;hour&quot; (<code>h</code>), &quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>), &quot;millisecond&quot; (<code>us</code>),
&quot;microsecond&quot; (<code>ms</code>)
</p>
</li>
<li> <p><code>period</code>: &quot;year&quot; (<code>Y</code>), &quot;month&quot; (<code>M</code>), &quot;day&quot; (<code>D</code>), &quot;hour&quot; (<code>h</code>),
&quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>), &quot;millisecond&quot; (<code>us</code>), &quot;microsecond&quot; (<code>ms</code>)
</p>
</li>
<li> <p><code>nanotime</code>: &quot;nanosecond&quot; (<code>ns</code>)
</p>
</li>
<li><p> other numerics &amp;<code>ordered</code> (ordered factor): &quot;unit&quot;
When the interval cannot be obtained due to the mismatched index format, an
error is issued.
</p>
</li></ul>

<p>The interval is invariant to subsetting, such as <code>filter()</code>, <code>slice()</code>, and <code style="white-space: pre;">&#8288;[.tbl_ts&#8288;</code>.
However, if the result is an empty tsibble, the interval is always unknown.
When joining a tsibble with other data sources and aggregating to different
time scales, the interval gets re-calculated.
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+build_tsibble">build_tsibble</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a tsibble w/o a key
tsibble(
  date = as.Date("2017-01-01") + 0:9,
  value = rnorm(10)
)

# create a tsibble with a single variable for key
tsibble(
  qtr = rep(yearquarter("2010 Q1") + 0:9, 3),
  group = rep(c("x", "y", "z"), each = 10),
  value = rnorm(30),
  key = group
)

# create a tsibble with multiple variables for key
tsibble(
  mth = rep(yearmonth("2010 Jan") + 0:8, each = 3),
  xyz = rep(c("x", "y", "z"), each = 9),
  abc = rep(letters[1:3], times = 9),
  value = rnorm(27),
  key = c(xyz, abc)
)

# create a tsibble containing "key" and "index" as column names
tsibble(!!!list(
  index = rep(yearquarter("2010 Q1") + 0:9, 3),
  key = rep(c("x", "y", "z"), each = 10),
  value = rnorm(30)),
  key = key, index = index
)
</code></pre>

<hr>
<h2 id='tsibble-package'>tsibble: tidy temporal data frames and tools</h2><span id='topic+tsibble-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='text-align: right;' alt="logo.png" />
The <strong>tsibble</strong> package provides a data class of <code>tbl_ts</code> to represent tidy
temporal data. A tsibble consists of a time index, key, and other measured
variables in a data-centric format, which is built on top of the tibble.
</p>


<h3>Index</h3>

<p>An extensive range of indices are supported by tsibble:
</p>

<ul>
<li><p> native time classes in R (such as <code>Date</code>, <code>POSIXct</code>, and <code>difftime</code>)
</p>
</li>
<li><p> tsibble's new additions (such as <a href="tsibble.html#topic+yearweek">yearweek</a>, <a href="tsibble.html#topic+yearmonth">yearmonth</a>, and <a href="tsibble.html#topic+yearquarter">yearquarter</a>).
</p>
</li>
<li><p> other commonly-used classes: <code>ordered</code>, <code>hms::hms</code>, <code>lubridate::period</code>,
and <code>nanotime::nanotime</code>.
</p>
</li></ul>

<p>For a <code>tbl_ts</code> of regular interval, a choice of index representation has to
be made. For example, a monthly data should correspond to time index created
by <a href="tsibble.html#topic+yearmonth">yearmonth</a>, instead of <code>Date</code> or <code>POSIXct</code>. Because months in a year
ensures the regularity, 12 months every year. However, if using <code>Date</code>, a
month containing days ranges from 28 to 31 days, which results in irregular
time space. This is also applicable to year-week and year-quarter.
</p>
<p>Tsibble supports arbitrary index classes, as long as they can be ordered from
past to future. To support a custom class, you need to define <code><a href="tsibble.html#topic+index_valid">index_valid()</a></code>
for the class and calculate the interval through <code><a href="tsibble.html#topic+interval_pull">interval_pull()</a></code>.
</p>


<h3>Key</h3>

<p>Key variable(s) together with the index uniquely identifies each record:
</p>

<ul>
<li><p> Empty: an implicit variable. <code>NULL</code> resulting in a univariate time series.
</p>
</li>
<li><p> A single variable: For example, <code>data(pedestrian)</code> uses <code>Sensor</code> as the key.
</p>
</li>
<li><p> Multiple variables: For example, Declare <code>key = c(Region, State, Purpose)</code>
for <code>data(tourism)</code>.
Key can be created in conjunction with tidy selectors like <code>starts_with()</code>.
</p>
</li></ul>



<h3>Interval</h3>

<p>The <a href="lubridate.html#topic+interval">interval</a> function returns the interval associated with the tsibble.
</p>

<ul>
<li><p> Regular: the value and its time unit including &quot;nanosecond&quot;, &quot;microsecond&quot;,
&quot;millisecond&quot;, &quot;second&quot;, &quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;quarter&quot;,
&quot;year&quot;. An unrecognisable time interval is labelled as &quot;unit&quot;.
</p>
</li>
<li><p> Irregular: <code>as_tsibble(regular = FALSE)</code> gives the irregular tsibble. It is
marked with <code>!</code>.
</p>
</li>
<li><p> Unknown: Not determined (<code style="white-space: pre;">&#8288;?&#8288;</code>), if it's an empty tsibble, or one entry for
each key variable.
</p>
</li></ul>

<p>An interval is obtained based on the corresponding index representation:
</p>

<ul>
<li><p> integerish numerics between 1582 and 2499: &quot;year&quot; (<code>Y</code>). Note the year of
1582 saw the beginning of the Gregorian Calendar switch.
</p>
</li>
<li> <p><code>yearquarter</code>: &quot;quarter&quot; (<code>Q</code>)
</p>
</li>
<li> <p><code>yearmonth</code>: &quot;month&quot; (<code>M</code>)
</p>
</li>
<li> <p><code>yearweek</code>: &quot;week&quot; (<code>W</code>)
</p>
</li>
<li> <p><code>Date</code>: &quot;day&quot; (<code>D</code>)
</p>
</li>
<li> <p><code>difftime</code>: &quot;week&quot; (<code>W</code>), &quot;day&quot; (D), &quot;hour&quot; (<code>h</code>), &quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>)
</p>
</li>
<li> <p><code>POSIXt</code>/<code>hms</code>: &quot;hour&quot; (<code>h</code>), &quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>), &quot;millisecond&quot; (<code>us</code>),
&quot;microsecond&quot; (<code>ms</code>)
</p>
</li>
<li> <p><code>period</code>: &quot;year&quot; (<code>Y</code>), &quot;month&quot; (<code>M</code>), &quot;day&quot; (<code>D</code>), &quot;hour&quot; (<code>h</code>),
&quot;minute&quot; (<code>m</code>), &quot;second&quot; (<code>s</code>), &quot;millisecond&quot; (<code>us</code>), &quot;microsecond&quot; (<code>ms</code>)
</p>
</li>
<li> <p><code>nanotime</code>: &quot;nanosecond&quot; (<code>ns</code>)
</p>
</li>
<li><p> other numerics &amp;<code>ordered</code> (ordered factor): &quot;unit&quot;
When the interval cannot be obtained due to the mismatched index format, an
error is issued.
</p>
</li></ul>

<p>The interval is invariant to subsetting, such as <code>filter()</code>, <code>slice()</code>, and <code style="white-space: pre;">&#8288;[.tbl_ts&#8288;</code>.
However, if the result is an empty tsibble, the interval is always unknown.
When joining a tsibble with other data sources and aggregating to different
time scales, the interval gets re-calculated.
</p>


<h3>Time zone</h3>

<p>Time zone corresponding to index will be displayed if index is <code>POSIXct</code>.
<code style="white-space: pre;">&#8288;?&#8288;</code> means that the obtained time zone is a zero-length character &quot;&quot;.
</p>


<h3>Print options</h3>

<p>The tsibble package fully utilises the <code>print</code> method from the tibble. Please
refer to <a href="tibble.html#topic+tibble-package">tibble::tibble-package</a> to change display options.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Earo Wang <a href="mailto:earo.wang@gmail.com">earo.wang@gmail.com</a> (<a href="https://orcid.org/0000-0001-6448-5260">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Di Cook (<a href="https://orcid.org/0000-0002-3813-7155">ORCID</a>) [thesis advisor]
</p>
</li>
<li><p> Rob Hyndman (<a href="https://orcid.org/0000-0002-2140-5352">ORCID</a>) [thesis advisor]
</p>
</li>
<li><p> Mitchell O'Hara-Wild (<a href="https://orcid.org/0000-0001-6729-7695">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Tyler Smith [contributor]
</p>
</li>
<li><p> Wil Davis <a href="mailto:william.davis@worthingtonindustries.com">william.davis@worthingtonindustries.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://tsibble.tidyverts.org">https://tsibble.tidyverts.org</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/tidyverts/tsibble/issues">https://github.com/tidyverts/tsibble/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># create a tsibble w/o a key ----
tsibble(
  date = as.Date("2017-01-01") + 0:9,
  value = rnorm(10)
)

# create a tsibble with one key ----
tsibble(
  qtr = rep(yearquarter("2010-01") + 0:9, 3),
  group = rep(c("x", "y", "z"), each = 10),
  value = rnorm(30),
  key = group
)
</code></pre>

<hr>
<h2 id='tsibble-scales'>tsibble scales for ggplot2</h2><span id='topic+tsibble-scales'></span><span id='topic+scale_x_yearquarter'></span><span id='topic+scale_y_yearquarter'></span><span id='topic+scale_colour_yearquarter'></span><span id='topic+scale_color_yearquarter'></span><span id='topic+scale_alpha_yearquarter'></span><span id='topic+scale_fill_yearquarter'></span><span id='topic+scale_size_yearquarter'></span><span id='topic+scale_x_yearmonth'></span><span id='topic+scale_y_yearmonth'></span><span id='topic+scale_colour_yearmonth'></span><span id='topic+scale_color_yearmonth'></span><span id='topic+scale_alpha_yearmonth'></span><span id='topic+scale_fill_yearmonth'></span><span id='topic+scale_size_yearmonth'></span><span id='topic+scale_x_yearweek'></span><span id='topic+scale_y_yearweek'></span><span id='topic+scale_colour_yearweek'></span><span id='topic+scale_color_yearweek'></span><span id='topic+scale_alpha_yearweek'></span><span id='topic+scale_fill_yearweek'></span><span id='topic+scale_size_yearweek'></span>

<h3>Description</h3>

<p>Defines ggplot2 scales for tsibble custom index: <a href="tsibble.html#topic+yearweek">yearweek</a>, <a href="tsibble.html#topic+yearmonth">yearmonth</a>,
and <a href="tsibble.html#topic+yearquarter">yearquarter</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_x_yearquarter(...)

scale_y_yearquarter(...)

scale_x_yearmonth(...)

scale_y_yearmonth(...)

scale_x_yearweek(...)

scale_y_yearweek(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsibble-scales_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="ggplot2.html#topic+scale_date">ggplot2::scale_x_date()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggproto object inheriting from <code>Scale</code>
</p>

<hr>
<h2 id='tsibble-tidyverse'>Tidyverse methods for tsibble</h2><span id='topic+tsibble-tidyverse'></span>

<h3>Description</h3>

<p>Current dplyr verbs that tsibble has support for:
</p>

<ul>
<li> <p><code><a href="dplyr.html#topic+filter">dplyr::filter()</a></code>, <code><a href="dplyr.html#topic+slice">dplyr::slice()</a></code>, <code><a href="dplyr.html#topic+arrange">dplyr::arrange()</a></code>
</p>
</li>
<li> <p><code><a href="dplyr.html#topic+select">dplyr::select()</a></code>, <code><a href="dplyr.html#topic+mutate">dplyr::transmute()</a></code>, <code><a href="dplyr.html#topic+mutate">dplyr::mutate()</a></code>, <code><a href="dplyr.html#topic+relocate">dplyr::relocate()</a></code>,
<code><a href="dplyr.html#topic+summarise">dplyr::summarise()</a></code>, <code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code>
</p>
</li>
<li> <p><code><a href="dplyr.html#topic+mutate-joins">dplyr::left_join()</a></code>, <code><a href="dplyr.html#topic+mutate-joins">dplyr::right_join()</a></code>, <code><a href="dplyr.html#topic+mutate-joins">dplyr::full_join()</a></code>,
<code><a href="dplyr.html#topic+mutate-joins">dplyr::inner_join()</a></code>, <code><a href="dplyr.html#topic+filter-joins">dplyr::semi_join()</a></code>, <code><a href="dplyr.html#topic+filter-joins">dplyr::anti_join()</a></code>,
<code><a href="dplyr.html#topic+nest_join">dplyr::nest_join()</a></code>
</p>
</li>
<li> <p><code><a href="dplyr.html#topic+bind">dplyr::bind_rows()</a></code>, <code><a href="dplyr.html#topic+bind">dplyr::bind_cols()</a></code>
</p>
</li></ul>

<p>Current tidyr verbs that tsibble has support for:
</p>

<ul>
<li> <p><code><a href="tidyr.html#topic+pivot_longer">tidyr::pivot_longer()</a></code>, <code><a href="tidyr.html#topic+pivot_wider">tidyr::pivot_wider()</a></code>,
<code><a href="tidyr.html#topic+gather">tidyr::gather()</a></code>, <code><a href="tidyr.html#topic+spread">tidyr::spread()</a></code>
</p>
</li>
<li> <p><code><a href="tidyr.html#topic+nest">tidyr::nest()</a></code>, <code><a href="tidyr.html#topic+fill">tidyr::fill()</a></code>, <code><a href="tidyr.html#topic+drop_na">tidyr::drop_na()</a></code>
</p>
</li></ul>



<h3>Column-wise verbs</h3>


<ul>
<li><p> The index variable cannot be dropped for a tsibble object.
</p>
</li>
<li><p> When any key variable is modified, a check on the validity of the resulting
tsibble will be performed internally.
</p>
</li>
<li><p> Use <code>as_tibble()</code> to convert tsibble to a general data frame.
</p>
</li></ul>



<h3>Row-wise verbs</h3>

<p>A warning is likely to be issued, if observations are not arranged in
past-to-future order.
</p>


<h3>Join verbs</h3>

<p>Joining with other data sources triggers the check on the validity of the
resulting tsibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr, warn.conflicts = FALSE)
# `summarise()` a tsibble always aggregates over time
# Sum over sensors
pedestrian %&gt;%
  index_by() %&gt;%
  summarise(Total = sum(Count))
# shortcut
pedestrian %&gt;%
  summarise(Total = sum(Count))
# Back to tibble
pedestrian %&gt;%
  as_tibble() %&gt;%
  summarise(Total = sum(Count))

library(tidyr)
stocks &lt;- tsibble(
  time = as.Date("2009-01-01") + 0:9,
  X = rnorm(10, 0, 1),
  Y = rnorm(10, 0, 2),
  Z = rnorm(10, 0, 4)
)
(stocksm &lt;- stocks %&gt;%
  pivot_longer(-time, names_to = "stock", values_to = "price"))
stocksm %&gt;%
  pivot_wider(names_from = stock, values_from = price)
</code></pre>

<hr>
<h2 id='tsibble-vctrs'>Internal vctrs methods</h2><span id='topic+tsibble-vctrs'></span><span id='topic+vec_ptype2.tbl_ts'></span><span id='topic+vec_cast.tbl_ts'></span><span id='topic+vec_cast.yearmonth'></span><span id='topic+vec_ptype2.yearmonth'></span><span id='topic+vec_arith.yearmonth'></span><span id='topic+obj_print_data.yearmonth'></span><span id='topic+vec_cast.yearquarter'></span><span id='topic+vec_ptype2.yearquarter'></span><span id='topic+vec_arith.yearquarter'></span><span id='topic+obj_print_data.yearquarter'></span><span id='topic+vec_cast.yearweek'></span><span id='topic+vec_ptype2.yearweek'></span><span id='topic+vec_arith.yearweek'></span>

<h3>Description</h3>

<p>These methods are the extensions that allow tsibble objects to
work with vctrs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_ptype2.tbl_ts(x, y, ...)

vec_cast.tbl_ts(x, to, ...)

vec_cast.yearmonth(x, to, ...)

vec_ptype2.yearmonth(x, y, ...)

## S3 method for class 'yearmonth'
vec_arith(op, x, y, ...)

## S3 method for class 'yearmonth'
obj_print_data(x, ...)

vec_cast.yearquarter(x, to, ...)

vec_ptype2.yearquarter(x, y, ...)

## S3 method for class 'yearquarter'
vec_arith(op, x, y, ...)

## S3 method for class 'yearquarter'
obj_print_data(x, ...)

vec_cast.yearweek(x, to, ...)

vec_ptype2.yearweek(x, y, ...)

## S3 method for class 'yearweek'
vec_arith(op, x, y, ...)
</code></pre>

<hr>
<h2 id='unnest_tsibble'>Unnest a data frame consisting of tsibbles to a tsibble</h2><span id='topic+unnest_tsibble'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_tsibble(data, cols, key = NULL, validate = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unnest_tsibble_+3A_data">data</code></td>
<td>
<p>A data frame contains homogenous tsibbles in the list-columns.</p>
</td></tr>
<tr><td><code id="unnest_tsibble_+3A_cols">cols</code></td>
<td>
<p>Names of columns to unnest.</p>
</td></tr>
<tr><td><code id="unnest_tsibble_+3A_key">key</code></td>
<td>
<p>Variable(s) that uniquely determine time indices. <code>NULL</code> for
empty key, and <code>c()</code> for multiple variables. It works with tidy selector
(e.g. <code><a href="dplyr.html#topic+reexports">dplyr::starts_with()</a></code>).</p>
</td></tr>
<tr><td><code id="unnest_tsibble_+3A_validate">validate</code></td>
<td>
<p><code>TRUE</code> suggests to verify that each key or each combination
of key variables leads to unique time indices (i.e. a valid tsibble). If you
are sure that it's a valid input, specify <code>FALSE</code> to skip the checks.</p>
</td></tr>
</table>

<hr>
<h2 id='update_tsibble'>Update key and index for a tsibble</h2><span id='topic+update_tsibble'></span>

<h3>Description</h3>

<p>Update key and index for a tsibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_tsibble(
  x,
  key,
  index,
  regular = is_regular(x),
  validate = TRUE,
  .drop = key_drop_default(x)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_tsibble_+3A_x">x</code></td>
<td>
<p>A tsibble.</p>
</td></tr>
<tr><td><code id="update_tsibble_+3A_key">key</code></td>
<td>
<p>Variable(s) that uniquely determine time indices. <code>NULL</code> for
empty key, and <code>c()</code> for multiple variables. It works with tidy selector
(e.g. <code><a href="dplyr.html#topic+reexports">dplyr::starts_with()</a></code>).</p>
</td></tr>
<tr><td><code id="update_tsibble_+3A_index">index</code></td>
<td>
<p>A variable to specify the time index variable.</p>
</td></tr>
<tr><td><code id="update_tsibble_+3A_regular">regular</code></td>
<td>
<p>Regular time interval (<code>TRUE</code>) or irregular (<code>FALSE</code>). The
interval is determined by the greatest common divisor of index column, if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="update_tsibble_+3A_validate">validate</code></td>
<td>
<p><code>TRUE</code> suggests to verify that each key or each combination
of key variables leads to unique time indices (i.e. a valid tsibble). If you
are sure that it's a valid input, specify <code>FALSE</code> to skip the checks.</p>
</td></tr>
<tr><td><code id="update_tsibble_+3A_.drop">.drop</code></td>
<td>
<p>If <code>TRUE</code>, empty key groups are dropped.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unspecified arguments will inherit the attributes from <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># update index
library(dplyr)
pedestrian %&gt;%
  group_by_key() %&gt;%
  mutate(Hour_Since = Date_Time - min(Date_Time)) %&gt;%
  update_tsibble(index = Hour_Since)

# update key: drop the variable "State" from the key
tourism %&gt;%
  update_tsibble(key = c(Purpose, Region))
</code></pre>

<hr>
<h2 id='yearmonth'>Represent year-month</h2><span id='topic+yearmonth'></span><span id='topic+make_yearmonth'></span><span id='topic+yearmonth.character'></span><span id='topic+is_yearmonth'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Create or coerce using <code>yearmonth()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yearmonth(x, ...)

make_yearmonth(year = 1970L, month = 1L)

## S3 method for class 'character'
yearmonth(x, format = NULL, ...)

is_yearmonth(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="yearmonth_+3A_x">x</code></td>
<td>
<p>Other object.</p>
</td></tr>
<tr><td><code id="yearmonth_+3A_...">...</code></td>
<td>
<p>Further arguments to methods.</p>
</td></tr>
<tr><td><code id="yearmonth_+3A_year">year</code>, <code id="yearmonth_+3A_month">month</code></td>
<td>
<p>A vector of numerics give years and months.</p>
</td></tr>
<tr><td><code id="yearmonth_+3A_format">format</code></td>
<td>
<p>A vector of strings to specify additional formats of <code>x</code> (e.g. <code style="white-space: pre;">&#8288;%Y%m&#8288;</code>),
if a warning or an error occurs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>year-month (<code>yearmonth</code>) objects.
</p>


<h3>Display</h3>

<p>Use <code>format()</code> to display <code>yearweek</code>, <code>yearmonth</code>, and <code>yearquarter</code> objects
in required formats.
Please see <code><a href="base.html#topic+strptime">strptime()</a></code> details for supported conversion specifications.
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+scale_x_yearmonth">scale_x_yearmonth</a> and others for ggplot2 scales
</p>
<p>Other index functions: 
<code><a href="tsibble.html#topic+yearquarter">yearquarter</a>()</code>,
<code><a href="tsibble.html#topic+yearweek">yearweek</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># coerce POSIXct/Dates to yearmonth
x &lt;- seq(as.Date("2016-01-01"), as.Date("2016-12-31"), by = "1 month")
yearmonth(x)

# parse characters
yearmonth(c("2018 Jan", "2018-01", "2018 January"))

# seq() and arithmetic
mth &lt;- yearmonth("2017-11")
seq(mth, length.out = 10, by = 1) # by 1 month
mth + 0:9

# display formats
format(mth, format = "%y %m")

# units since 1970 Jan
as.double(yearmonth("1969 Jan") + 0:24)

make_yearmonth(year = 2021, month = 10:11)
make_yearmonth(year = 2020:2021, month = 10:11)
</code></pre>

<hr>
<h2 id='yearquarter'>Represent year-quarter</h2><span id='topic+yearquarter'></span><span id='topic+make_yearquarter'></span><span id='topic+is_yearquarter'></span><span id='topic+fiscal_year'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Create or coerce using <code>yearquarter()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yearquarter(x, fiscal_start = 1)

make_yearquarter(year = 1970L, quarter = 1L, fiscal_start = 1)

is_yearquarter(x)

fiscal_year(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="yearquarter_+3A_x">x</code></td>
<td>
<p>Other object.</p>
</td></tr>
<tr><td><code id="yearquarter_+3A_fiscal_start">fiscal_start</code></td>
<td>
<p>numeric indicating the starting month of a fiscal year.</p>
</td></tr>
<tr><td><code id="yearquarter_+3A_year">year</code>, <code id="yearquarter_+3A_quarter">quarter</code></td>
<td>
<p>A vector of numerics give years and quarters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>year-quarter (<code>yearquarter</code>) objects.
</p>


<h3>Display</h3>

<p>Use <code>format()</code> to display <code>yearweek</code>, <code>yearmonth</code>, and <code>yearquarter</code> objects
in required formats.
Please see <code><a href="base.html#topic+strptime">strptime()</a></code> details for supported conversion specifications.
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+scale_x_yearquarter">scale_x_yearquarter</a> and others for ggplot2 scales
</p>
<p>Other index functions: 
<code><a href="tsibble.html#topic+yearmonth">yearmonth</a>()</code>,
<code><a href="tsibble.html#topic+yearweek">yearweek</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># coerce POSIXct/Dates to yearquarter
x &lt;- seq(as.Date("2016-01-01"), as.Date("2016-12-31"), by = "1 quarter")
yearquarter(x)
yearquarter(x, fiscal_start = 6)

# parse characters
yearquarter(c("2018 Q1", "2018 Qtr1", "2018 Quarter 1"))

# seq() and arithmetic
qtr &lt;- yearquarter("2017 Q1")
seq(qtr, length.out = 10, by = 1) # by 1 quarter
qtr + 0:9

# display formats
format(qtr, format = "%y Qtr%q")

make_yearquarter(year = 2021, quarter = 2:3)
make_yearquarter(year = 2020:2021, quarter = 2:3)

# `fiscal_year()` helps to extract fiscal year
y &lt;- yearquarter(as.Date("2020-06-01"), fiscal_start = 6)
fiscal_year(y)
lubridate::year(y) # calendar years
</code></pre>

<hr>
<h2 id='yearweek'>Represent year-week based on the ISO 8601 standard (with flexible start day)</h2><span id='topic+yearweek'></span><span id='topic+make_yearweek'></span><span id='topic+is_yearweek'></span><span id='topic+is_53weeks'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Create or coerce using <code>yearweek()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yearweek(x, week_start = getOption("lubridate.week.start", 1))

make_yearweek(
  year = 1970L,
  week = 1L,
  week_start = getOption("lubridate.week.start", 1)
)

is_yearweek(x)

is_53weeks(year, week_start = getOption("lubridate.week.start", 1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="yearweek_+3A_x">x</code></td>
<td>
<p>Other object.</p>
</td></tr>
<tr><td><code id="yearweek_+3A_week_start">week_start</code></td>
<td>
<p>An integer between 1 (Monday) and 7 (Sunday) to specify
the day on which week starts following ISO conventions. Default to 1 (Monday).
Use <code>options(lubridate.week.start = 7)</code> to set this parameter globally.</p>
</td></tr>
<tr><td><code id="yearweek_+3A_year">year</code>, <code id="yearweek_+3A_week">week</code></td>
<td>
<p>A vector of numerics give years and weeks.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>year-week (<code>yearweek</code>) objects.
</p>
<p><code>TRUE</code>/<code>FALSE</code> if the year has 53 ISO weeks.
</p>


<h3>Display</h3>

<p>Use <code>format()</code> to display <code>yearweek</code>, <code>yearmonth</code>, and <code>yearquarter</code> objects
in required formats.
Please see <code><a href="base.html#topic+strptime">strptime()</a></code> details for supported conversion specifications.
</p>


<h3>See Also</h3>

<p><a href="tsibble.html#topic+scale_x_yearweek">scale_x_yearweek</a> and others for ggplot2 scales
</p>
<p>Other index functions: 
<code><a href="tsibble.html#topic+yearmonth">yearmonth</a>()</code>,
<code><a href="tsibble.html#topic+yearquarter">yearquarter</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># coerce POSIXct/Dates to yearweek
x &lt;- seq(as.Date("2016-01-01"), as.Date("2016-12-31"), by = "1 week")
yearweek(x)
yearweek(x, week_start = 7)

# parse characters
yearweek(c("2018 W01", "2018 Wk01", "2018 Week 1"))

# seq() and arithmetic
wk1 &lt;- yearweek("2017 W50")
wk2 &lt;- yearweek("2018 W12")
seq(from = wk1, to = wk2, by = 2)
wk1 + 0:9

# display formats
format(c(wk1, wk2), format = "%V/%Y")

make_yearweek(year = 2021, week = 10:11)
make_yearweek(year = 2020:2021, week = 10:11)

is_53weeks(2015:2016)
is_53weeks(1969)
is_53weeks(1969, week_start = 7)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

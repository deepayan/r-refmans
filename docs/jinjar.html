<!DOCTYPE html><html><head><title>Help for package jinjar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {jinjar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#jinjar-package'><p>jinjar: Template Engine Inspired by 'Jinja'</p></a></li>
<li><a href='#jinjar_config'><p>Configure the templating engine</p></a></li>
<li><a href='#loader'><p>Template loaders</p></a></li>
<li><a href='#parse'><p>Parse a template</p></a></li>
<li><a href='#print.jinjar_template'><p>Print a template</p></a></li>
<li><a href='#render'><p>Render a template</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Template Engine Inspired by 'Jinja'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Template engine powered by the 'inja' C++ library. Users
    write a template document, using syntax inspired by the 'Jinja' Python
    package, and then render the final document by passing data from R.
    The template syntax supports features such as variables, loops,
    conditions and inheritance.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://davidchall.github.io/jinjar/">https://davidchall.github.io/jinjar/</a>,
<a href="https://github.com/davidchall/jinjar">https://github.com/davidchall/jinjar</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/davidchall/jinjar/issues">https://github.com/davidchall/jinjar/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, fs, jsonlite, rlang (&ge; 1.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>cpp11</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-01 15:37:29 UTC; davidhall</td>
</tr>
<tr>
<td>Author:</td>
<td>David Hall <a href="https://orcid.org/0000-0002-2193-0480"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Lars Berscheid [cph] (Author of bundled inja library),
  Niels Lohmann [cph] (Author of bundled json library)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Hall &lt;david.hall.physics@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-01 15:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='jinjar-package'>jinjar: Template Engine Inspired by 'Jinja'</h2><span id='topic+jinjar'></span><span id='topic+jinjar-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Template engine powered by the 'inja' C++ library. Users write a template document, using syntax inspired by the 'Jinja' Python package, and then render the final document by passing data from R. The template syntax supports features such as variables, loops, conditions and inheritance.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: David Hall <a href="mailto:david.hall.physics@gmail.com">david.hall.physics@gmail.com</a> (<a href="https://orcid.org/0000-0002-2193-0480">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Lars Berscheid (Author of bundled inja library) [copyright holder]
</p>
</li>
<li><p> Niels Lohmann (Author of bundled json library) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://davidchall.github.io/jinjar/">https://davidchall.github.io/jinjar/</a>
</p>
</li>
<li> <p><a href="https://github.com/davidchall/jinjar">https://github.com/davidchall/jinjar</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/davidchall/jinjar/issues">https://github.com/davidchall/jinjar/issues</a>
</p>
</li></ul>


<hr>
<h2 id='jinjar_config'>Configure the templating engine</h2><span id='topic+jinjar_config'></span><span id='topic+default_config'></span>

<h3>Description</h3>

<p>Create an object to configure the templating engine behavior (e.g. customize
the syntax). The default values have been chosen to match the Jinja defaults.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jinjar_config(
  loader = NULL,
  block_open = "{%",
  block_close = "%}",
  variable_open = "{{",
  variable_close = "}}",
  comment_open = "{#",
  comment_close = "#}",
  line_statement = NULL,
  trim_blocks = FALSE,
  lstrip_blocks = FALSE,
  ignore_missing_files = FALSE
)

default_config()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jinjar_config_+3A_loader">loader</code></td>
<td>
<p>How the engine discovers templates. Choices:
</p>

<ul>
<li> <p><code>NULL</code> (default), disables search for templates.
</p>
</li>
<li><p> Path to template directory.
</p>
</li>
<li><p> A <code><a href="#topic+loader">loader</a></code> object.
</p>
</li></ul>
</td></tr>
<tr><td><code id="jinjar_config_+3A_block_open">block_open</code>, <code id="jinjar_config_+3A_block_close">block_close</code></td>
<td>
<p>The opening and closing delimiters
for control blocks. Default: <code style="white-space: pre;">&#8288;"{%"&#8288;</code> and <code style="white-space: pre;">&#8288;"%}"&#8288;</code>.</p>
</td></tr>
<tr><td><code id="jinjar_config_+3A_variable_open">variable_open</code>, <code id="jinjar_config_+3A_variable_close">variable_close</code></td>
<td>
<p>The opening and closing delimiters
for print statements. Default: <code>"{{"</code> and <code>"}}"</code>.</p>
</td></tr>
<tr><td><code id="jinjar_config_+3A_comment_open">comment_open</code>, <code id="jinjar_config_+3A_comment_close">comment_close</code></td>
<td>
<p>The opening and closing delimiters
for comments. Default: <code>"{#"</code> and <code>"#}"</code>.</p>
</td></tr>
<tr><td><code id="jinjar_config_+3A_line_statement">line_statement</code></td>
<td>
<p>The prefix for an inline statement. If <code>NULL</code> (the
default), inline statements are disabled.</p>
</td></tr>
<tr><td><code id="jinjar_config_+3A_trim_blocks">trim_blocks</code></td>
<td>
<p>Remove first newline after a block. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="jinjar_config_+3A_lstrip_blocks">lstrip_blocks</code></td>
<td>
<p>Remove inline whitespace before a block. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="jinjar_config_+3A_ignore_missing_files">ignore_missing_files</code></td>
<td>
<p>Ignore <code>include</code> or <code>extends</code> statements when
the auxiliary template cannot be found. If <code>FALSE</code> (default), then an error
is raised.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>"jinjar_config"</code> object.
</p>


<h3>Note</h3>

<p>The equivalent Jinja class is <code>Environment</code>, but this term has special
significance in R (see <code><a href="base.html#topic+environment">environment()</a></code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>jinjar_config()
</code></pre>

<hr>
<h2 id='loader'>Template loaders</h2><span id='topic+loader'></span><span id='topic+path_loader'></span><span id='topic+package_loader'></span><span id='topic+list_loader'></span>

<h3>Description</h3>

<p>Loaders are responsible for exposing templates to the templating engine.
</p>
<p><code>path_loader()</code> loads templates from a directory in the file system.
</p>
<p><code>package_loader()</code> loads templates from a directory in an R package.
</p>
<p><code>list_loader()</code> loads templates from a named list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>path_loader(...)

package_loader(package, ...)

list_loader(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loader_+3A_...">...</code></td>
<td>
<p>Strings specifying path components.</p>
</td></tr>
<tr><td><code id="loader_+3A_package">package</code></td>
<td>
<p>Name of the package in which to search.</p>
</td></tr>
<tr><td><code id="loader_+3A_x">x</code></td>
<td>
<p>Named list mapping template names to template sources.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>"jinjar_loader"</code> object.
</p>


<h3>See Also</h3>

<p>The loader is an argument to <code><a href="#topic+jinjar_config">jinjar_config()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path_loader(getwd())

package_loader("base", "demo")

list_loader(list(
  header = "Title: {{ title }}",
  content = "Hello {{ person }}!"
))
</code></pre>

<hr>
<h2 id='parse'>Parse a template</h2><span id='topic+parse'></span><span id='topic+parse_template'></span><span id='topic+parse_template.character'></span><span id='topic+parse_template.fs_path'></span>

<h3>Description</h3>

<p>Sometimes you want to render multiple copies of a template, using different
sets of data variables. <code><a href="#topic+parse_template">parse_template()</a></code> returns an intermediate version
of the template, so you can <code><a href="#topic+render">render()</a></code> repeatedly without re-parsing the
template syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_template(.x, .config)

## S3 method for class 'character'
parse_template(.x, .config = default_config())

## S3 method for class 'fs_path'
parse_template(.x, .config = default_config())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_+3A_.x">.x</code></td>
<td>
<p>The template. Choices:
</p>

<ul>
<li><p> A template string.
</p>
</li>
<li><p> A path to a template file (use <code><a href="fs.html#topic+path">fs::path()</a></code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="parse_+3A_.config">.config</code></td>
<td>
<p>The engine configuration. The default matches Jinja defaults,
but you can use <code><a href="#topic+jinjar_config">jinjar_config()</a></code> to customize things like syntax delimiters,
whitespace control, and loading auxiliary templates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>"jinjar_template"</code> object.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+render">render()</a></code> to render the final document using data variables.
</p>
</li>
<li> <p><code><a href="#topic+print.jinjar_template">print()</a></code> for pretty printing.
</p>
</li>
<li> <p><code>vignette("template-syntax")</code> describes how to write templates.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- parse_template("Hello {{ name }}!")

render(x, name = "world")
</code></pre>

<hr>
<h2 id='print.jinjar_template'>Print a template</h2><span id='topic+print.jinjar_template'></span>

<h3>Description</h3>

<p>Once a template has been parsed, it can be printed with color highlighting of
the templating blocks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'jinjar_template'
print(x, ..., n = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.jinjar_template_+3A_x">x</code></td>
<td>
<p>A parsed template (use <code><a href="#topic+parse_template">parse_template()</a></code>).</p>
</td></tr>
<tr><td><code id="print.jinjar_template_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="print.jinjar_template_+3A_n">n</code></td>
<td>
<p>Number of lines to show. If <code>Inf</code>, will print all lines. Default: <code>10</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>input &lt;- '&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;title&gt;{{ title }}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;ul id="navigation"&gt;
    {% for item in navigation -%}
        &lt;li&gt;&lt;a href="{{ item.href }}"&gt;{{ item.caption }}&lt;/a&gt;&lt;/li&gt;
    {% endfor -%}
    &lt;/ul&gt;
{# a comment #}
&lt;/body&gt;
&lt;/html&gt;'

x &lt;- parse_template(input)

print(x)

print(x, n = Inf)
</code></pre>

<hr>
<h2 id='render'>Render a template</h2><span id='topic+render'></span><span id='topic+render.character'></span><span id='topic+render.fs_path'></span><span id='topic+render.jinjar_template'></span>

<h3>Description</h3>

<p>Data is passed to a template to render the final document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render(.x, ...)

## S3 method for class 'character'
render(.x, ..., .config = default_config())

## S3 method for class 'fs_path'
render(.x, ..., .config = default_config())

## S3 method for class 'jinjar_template'
render(.x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_+3A_.x">.x</code></td>
<td>
<p>The template. Choices:
</p>

<ul>
<li><p> A template string.
</p>
</li>
<li><p> A path to a template file (use <code><a href="fs.html#topic+path">fs::path()</a></code>).
</p>
</li>
<li><p> A parsed template (use <code><a href="#topic+parse_template">parse_template()</a></code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="render_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; Data passed to the template.
</p>
<p>By default, a length-1 vector is passed as a scalar variable. Use <code><a href="base.html#topic+I">I()</a></code> to
declare that a vector should be passed as an array variable. This preserves
a length-1 vector as an array.</p>
</td></tr>
<tr><td><code id="render_+3A_.config">.config</code></td>
<td>
<p>The engine configuration. The default matches Jinja defaults,
but you can use <code><a href="#topic+jinjar_config">jinjar_config()</a></code> to customize things like syntax delimiters,
whitespace control, and loading auxiliary templates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String containing rendered template.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+parse_template">parse_template()</a></code> supports parsing a template once and rendering multiple
times with different data variables.
</p>
</li>
<li> <p><code>vignette("template-syntax")</code> describes how to write templates.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># pass data as arguments
render("Hello {{ name }}!", name = "world")

# pass length-1 vector as array
render("Hello {{ name.0 }}!", name = I("world"))

# pass data programmatically
params &lt;- list(name = "world")
render("Hello {{ name }}!", !!!params)

# render template file
## Not run: 
render(fs::path("template.txt"), name = "world")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

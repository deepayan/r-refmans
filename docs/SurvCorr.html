<!DOCTYPE html><html><head><title>Help for package SurvCorr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SurvCorr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#diabetes'><p>Diabetes Data</p></a></li>
<li><a href='#kidney'><p>Kidney Data</p></a></li>
<li><a href='#plot.survcorr'>
<p>Plot Correlated Bivariate Survival Times</p></a></li>
<li><a href='#print.survcorr'>
<p>Print Method for survcorr Objects</p></a></li>
<li><a href='#summary.survcorr'>
<p>Summary Method for survcorr Objects</p></a></li>
<li><a href='#survcorr'>
<p>Correlation Analysis of Survival Times by Iterative Multiple Imputation</p></a></li>
<li><a href='#SurvCorr-package'>
<p>Correlation Analysis of Survival Times by Iterative Multiple Imputation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Correlation of Bivariate Survival Times</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-11-08</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>survival, fields</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimates correlation coefficients with associated
   confidence limits for bivariate, partially censored survival times. Uses
   the iterative multiple imputation approach proposed
   by Schemper, Kaider, Wakounig and Heinze (2013) &lt;<a href="https://doi.org/10.1002%2Fsim.5874">doi:10.1002/sim.5874</a>&gt;. Provides a scatterplot function to visualize the bivariate 
   distribution, either on the original time scale or as copula.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-08 11:38:20 UTC; Gregor</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-08 14:10:12 UTC</td>
</tr>
<tr>
<td>Author:</td>
<td>Georg Heinze [aut, cre],
  Meinhard Ploner [aut],
  Alexandra Kaider [aut],
  Gregor Steiner [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Georg Heinze &lt;georg.heinze@meduniwien.ac.at&gt;</td>
</tr>
</table>
<hr>
<h2 id='diabetes'>Diabetes Data</h2><span id='topic+diabetes'></span>

<h3>Description</h3>

<p>Diabetic retinopathy: how strongly are times to blindness of a treated and an untreated eye correlated in patients suffering from diabetic retinopathy? The analysis is based on a sample of n=197 paired failure times (censoring 73% and 49% for the treated and untreated eyes, respectively) described by Huster, Brookmeyer, and Self (1989). Both eyes of an individual are observed for the same time, and therefore dots on the diagonal generally indicate pairs of censored times. </p>


<h3>Usage</h3>

<pre><code class='language-R'>data(diabetes)</code></pre>


<h3>Format</h3>

<p>A data.frame containing 197 rows.</p>


<h3>Source</h3>

<p><a href="https://www.mayo.edu/research/documents/diabeteshtml/DOC-10027460/">https://www.mayo.edu/research/documents/diabeteshtml/DOC-10027460/</a></p>


<h3>References</h3>

<p>Huster WJ, Brookmeyer R, Self SG. Modelling paired survival data with covariates. Biometrics 1989; 45:145-156.
</p>

<hr>
<h2 id='kidney'>Kidney Data</h2><span id='topic+kidney'></span>

<h3>Description</h3>

<p>Infections under dialysis: does time until infection of the first application of a portable dialysis machine correlate with the time until recurrence of infection during the second application? The infection occurs at the point of insertion of the catheter, and, when it occurs, the catheter is removed. After successful treatment of the infection, the catheter is reinserted again. In the data set of 38 patients, the times until infection in both periods are reported as well as corresponding censoring indicators. Censoring of the times till infection occurs if the catheter is removed because of other reasons than infection. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(kidney)</code></pre>


<h3>Format</h3>

<p>A data.frame containing 38 rows and 5 variables (ID, time1, status1, time2, status2).</p>


<h3>Source</h3>

<p>McGilchrist and Aisbett (1991)</p>


<h3>References</h3>

<p>McGilchrist CA, Aisbett CW.Regression with frailty in survival analysis. Biometrics 1991; 47:461-466.
</p>

<hr>
<h2 id='plot.survcorr'>
Plot Correlated Bivariate Survival Times
</h2><span id='topic+plot.survcorr'></span><span id='topic+plot'></span>

<h3>Description</h3>

<p>Produces a scatterplot of bivariate survival times, either on the original times scale or as copula (uniform marginal distributions). Censored observations are inserted either by their imputed values (copula plot) or marked by arrows (survival times plot). The first time variable will be plotted on the y-axis, the second on the x-axis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survcorr'
plot(x, what = "uniform", imputation = 1, 
  xlab = switch(what, copula= expression(hat(F)(t[2])),
    uniform = expression(hat(F)(t[2])), 
  times = expression(t[2])), 
  ylab = switch(what, copula = expression(hat(F)(t[1])), 
    uniform = expression(hat(F)(t[1])), 
  times = expression(t[1])), xlim, ylim, 
  main = switch(what, copula = "Bivariate Copula",uniform = "Bivariate Copula", 
    times = "Bivariate Survival Times"), 
  legend = TRUE, cex.legend = switch(what, copula = 0.8, uniform = 0.8, times = 0.7), 
  pch = "*", colEvent = "black", colImput = "gray", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.survcorr_+3A_x">x</code></td>
<td>

<p>an object of class <code>survcorr</code>
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_what">what</code></td>
<td>

<p>what should be plotted: <code>"uniform"</code> or <code>"copula"</code> to plot the bivariate copula, <code>"times"</code> to plot the survival times. The default is to plot the copula.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_imputation">imputation</code></td>
<td>

<p>If the copula is plotted, then the index of the imputated data set to be used to replace censored observation can be given (e.g., <code>imputation=1:5</code>. Default: <code>imputation=1</code>)
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_xlab">xlab</code></td>
<td>

<p>An optional x-axis label.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_ylab">ylab</code></td>
<td>

<p>An optional y-axis label.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_xlim">xlim</code></td>
<td>

<p>Optional limits for x-axis.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_ylim">ylim</code></td>
<td>

<p>Optional limits for y-axis.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_main">main</code></td>
<td>

<p>Optional title.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_legend">legend</code></td>
<td>

<p>Optional legend.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_cex.legend">cex.legend</code></td>
<td>

<p>Optional font size of legend.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_pch">pch</code></td>
<td>

<p>Optional plot character.
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_colevent">colEvent</code></td>
<td>

<p>Color of symbols representing uncensored times (default=<code>"black"</code>).
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_colimput">colImput</code></td>
<td>

<p>Color of symbols representing imputations for censored times (default=<code>"gray"</code>).
</p>
</td></tr>
<tr><td><code id="plot.survcorr_+3A_...">...</code></td>
<td>

<p>Further options to be passed to the <code>plot</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>no return value; function is called for its side effects
</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner, Alexandra Kaider, Georg Heinze
</p>


<h3>References</h3>

<p>Schemper,M., Kaider,A., Wakounig,S. &amp; Heinze,G. (2013): &quot;Estimating the correlation of bivariate failure times under censoring&quot;, Statistics in Medicine, 32, 4781-4790 <a href="https://doi.org/10.1002/sim.5874">doi:10.1002/sim.5874</a>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 2
data(diabetes)
obj &lt;- survcorr(formula1=Surv(TIME1, STATUS1) ~ 1, formula2=Surv(TIME2, STATUS2) ~ 1, 
  data=diabetes, M=100, MCMCSteps=10, alpha=0.05, epsilon=0.001)
plot(obj, "times")
plot(obj, "copula", imputation=1)
plot(obj, "copula", imputation=7)

</code></pre>

<hr>
<h2 id='print.survcorr'>
Print Method for survcorr Objects
</h2><span id='topic+print'></span><span id='topic+print.survcorr'></span>

<h3>Description</h3>

<p>Print method for <code>survcorr</code> objects (correlation of bivariate survival times). Summarizes most important results: estimated correlation coefficient and confidence interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survcorr'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.survcorr_+3A_x">x</code></td>
<td>

<p>a survcorr object
</p>
</td></tr>
<tr><td><code id="print.survcorr_+3A_...">...</code></td>
<td>

<p>additional options passed to <code>print</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>print method for objects of class <code>survcorr</code>
</p>


<h3>Value</h3>

<p>the estimated correlation coefficient and lower and upper (1-alpha) confidence limits
</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner, Alexandra Kaider, Georg Heinze
</p>


<h3>References</h3>

<p>Schemper,M., Kaider,A., Wakounig,S. &amp; Heinze,G. (2013): &quot;Estimating the correlation of bivariate failure times under censoring&quot;, Statistics in Medicine, 32, 4781-4790 <a href="https://doi.org/10.1002/sim.5874">doi:10.1002/sim.5874</a>.
</p>

<hr>
<h2 id='summary.survcorr'>
Summary Method for survcorr Objects
</h2><span id='topic+summary.survcorr'></span><span id='topic+summary'></span>

<h3>Description</h3>

<p>Summarizes results of a correlation analysis of bivariate survival times</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survcorr'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.survcorr_+3A_object">object</code></td>
<td>

<p>a survcorr object</p>
</td></tr>
<tr><td><code id="summary.survcorr_+3A_...">...</code></td>
<td>

<p>further arguments passed to summary
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Summarizes the results of a correlation analysis of bivariate survival times. Beside of the calculated correlation coefficient
and its confidence interval, a contingency table of the bivariate event status, some of the most important input parameters, as well as posterior mean and variance of the transformed correlation coefficients are printed.
</p>


<h3>Value</h3>

<p>NULL
</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner, Alexandra Kaider, Georg Heinze
</p>


<h3>References</h3>

<p>Schemper,M., Kaider,A., Wakounig,S. &amp; Heinze,G. (2013): &quot;Estimating the correlation of bivariate failure times under censoring&quot;, Statistics in Medicine, 32, 4781-4790 <a href="https://doi.org/10.1002/sim.5874">doi:10.1002/sim.5874</a>.
</p>

<hr>
<h2 id='survcorr'>
Correlation Analysis of Survival Times by Iterative Multiple Imputation
</h2><span id='topic+survcorr'></span><span id='topic+Surv'></span>

<h3>Description</h3>

<p>This R-package implements the iterative multiple imputation algorithm as proposed by Schemper, Kaider, Wakounig and Heinze (2013) for estimation of a correlation coefficient for bivariate possibly censored time-to-event data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survcorr(formula1, formula2, 
    data, methods = "imi", alpha = 0.05, intra = FALSE, 
    M = 10, MCMCSteps = 10, epsilon = 0.001, maxiter = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survcorr_+3A_formula1">formula1</code></td>
<td>

<p>Survival object for first time-to-event variable, e.g. <code>Surv(time1, status1)~1</code>
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_formula2">formula2</code></td>
<td>

<p>Survival object for second time-to-event variable, e.g. <code>Surv(time2, status2)~1</code>
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_data">data</code></td>
<td>

<p>Data set to look up variables
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_methods">methods</code></td>
<td>

<p>Correlation method(s). Currently, only <code>"imi"</code> (iterative multiple imputation) is implemented.
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_alpha">alpha</code></td>
<td>

<p>One minus confidence level (for confidence interval computation)
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_intra">intra</code></td>
<td>

<p>If TRUE, an intraclass correlation coefficient will be computed, assuming that the two time-to-event variables are interchangeable in each observation.
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_m">M</code></td>
<td>

<p>Number of imputations (for IMI)
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_mcmcsteps">MCMCSteps</code></td>
<td>

<p>Number of MCMCSteps (for IMI)
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_epsilon">epsilon</code></td>
<td>

<p>Accuracy of numerical estimation of correlation coefficients
</p>
</td></tr>
<tr><td><code id="survcorr_+3A_maxiter">maxiter</code></td>
<td>

<p>Maximum number of iterations in IMI
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The analysis of correlations within pairs of survival times is of interest to many research topics in medicine, such as the correlation of survival-type endpoints of twins, the correlation of times till failure in paired organs, or the correlation of survival time with a surrogate endpoint. The dependence of such times is assumed monotonic and thus quantification by rank correlation coefficients appropriate. The typical censoring of such times requires more involved methods of estimation and inference as have been developed in recent years.   As an alternative to the maximum likelihood methodology for the normal copula approach (NCE) this package implements an iterative multiple imputation (IMI) method which requires only about 0.05% of the computing time of NCE, without sacrificing statistical performance. For IMI, survival probabilities at death or censoring times are first transformed to normal deviates. Then, those deviates which relate to censored times are iteratively augmented, by conditional multiple imputation, until convergence is obtained for the normal scores rank correlation, which is similar to Spearman's rank correlation. Schemper, Kaider, Wakounig and Heinze (2013) compared statistical properties of NCE and IMI  by means of a Monte Carlo study and by means of three real data sets; two of them are available in this package.
</p>


<h3>Value</h3>








<table>
<tr><td><code>rho</code></td>
<td>
<p>estimated correlation coefficient</p>
</td></tr>
<tr><td><code>ci.lower</code></td>
<td>
<p>lower limit of confidence interval for rho</p>
</td></tr>
<tr><td><code>ci.upper</code></td>
<td>
<p>upper limit of confidence interval for rho</p>
</td></tr>
<tr><td><code>simData</code></td>
<td>
<p>imputed data sets for each iteration, with components M (number of imputations), z1M, z2M (imputed normal deviates), delta1, delta2 (censoring indicators), t1, t2 (imputed non-censored survival times)</p>
</td></tr>
<tr><td><code>M</code></td>
<td>
<p>number of imputations</p>
</td></tr>
<tr><td><code>MCMCSteps</code></td>
<td>
<p>number of MCMC steps in iterative imputation</p>
</td></tr>
<tr><td><code>rj.trans</code></td>
<td>
<p>the M atanh-transformed correlation coefficients from M imputed data sets</p>
</td></tr>
<tr><td><code>rj.t.mean</code></td>
<td>
<p>the posterior mean of the atanh-transofmred correlation coefficients over the M imputations</p>
</td></tr>
<tr><td><code>var</code></td>
<td>
<p>the variance of atanh(rho), with components within, between and total</p>
</td></tr>
<tr><td><code>df</code></td>
<td>
<p>the number of degrees of freedom (important for confidence interval computation)</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>1-confidence level</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the function call (useful for making use of update(obj))</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Meinhard Ploner, Alexandra Kaider, Georg Heinze
</p>


<h3>References</h3>

<p>Schemper,M., Kaider,A., Wakounig,S. &amp; Heinze,G. (2013): &quot;Estimating the correlation of bivariate failure times under censoring&quot;, Statistics in Medicine, 32, 4781-4790 <a href="https://doi.org/10.1002/sim.5874">doi:10.1002/sim.5874</a>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1
data(kidney)
obj = survcorr(formula1=Surv(TIME1, STATUS1) ~ 1, formula2=Surv(TIME2, STATUS2) ~ 1, 
  data=kidney, M=1000, MCMCSteps=10, alpha=0.05, epsilon=0.001)

## Example 2
data(diabetes)
obj = survcorr(formula1=Surv(TIME1, STATUS1) ~ 1, formula2=Surv(TIME2, STATUS2) ~ 1, 
  data=diabetes, M=100, MCMCSteps=10, alpha=0.05, epsilon=0.001)
plot(obj, "times")


</code></pre>

<hr>
<h2 id='SurvCorr-package'>
Correlation Analysis of Survival Times by Iterative Multiple Imputation
</h2><span id='topic+SurvCorr-package'></span><span id='topic+SurvCorr'></span>

<h3>Description</h3>

<p>This R-package implements the iterative multiple imputation algorithm as proposed by Schemper, Kaider, Wakounig and Heinze (2013) for estimation of a correlation coefficient for bivariate possibly censored time-to-event data.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> SurvCorr</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2015-02-25</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The analysis of correlations within pairs of survival times is of interest to many research topics in medicine, such as the correlation of survival-type endpoints of twins, the correlation of times till failure in paired organs, or the correlation of survival time with a surrogate endpoint. The dependence of such times is assumed monotonic and thus quantification by rank correlation coefficients appropriate. The typical censoring of such times requires more involved methods of estimation and inference as have been developed in recent years.   As an alternative to the maximum likelihood methodology for the normal copula approach (NCE) this package implements an iterative multiple imputation (IMI) method which requires only about 0.05% of the computing time of NCE, without sacrificing statistical performance. For IMI, survival probabilities at death or censoring times are first transformed to normal deviates. Then, those deviates which relate to censored times are iteratively augmented, by conditional multiple imputation, until convergence is obtained for the normal scores rank correlation, which is similar to Spearman's rank correlation. Schemper, Kaider, Wakounig and Heinze (2013) compared statistical properties of NCE and IMI  by means of a Monte Carlo study and by means of three real data sets; two of them are available in this package.
</p>
<p>The package's main function is <code>survcorr</code>, accompanied by appropriate <code>print</code> and <code>summary</code> methods. A <code>plot</code> method can be used to visualize the bivariate distribution either as a copula, or as distribution of survival times. In the former case, one can plot original (uncensored) values along with univariately or bivariately imputed values.
</p>


<h3>Author(s)</h3>

<p>Meinhard Ploner, Alexandra Kaider and Georg Heinze (e-mail: georg.heinze@meduniwien.ac.at)
</p>


<h3>References</h3>

<p>Schemper,M., Kaider,A., Wakounig,S. &amp; Heinze,G. (2013): &quot;Estimating the correlation of bivariate failure times under censoring&quot;, Statistics in Medicine, 32, 4781-4790 <a href="https://doi.org/10.1002/sim.5874">doi:10.1002/sim.5874</a>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

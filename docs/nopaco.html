<!DOCTYPE html><html><head><title>Help for package nopaco</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nopaco}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+24+2CConcordanceTest-method'><p>Extract argument values from a ConcordanceTest object</p></a></li>
<li><a href='#coef'><p>Extract test results from the results of a concordance.test</p></a></li>
<li><a href='#concordance.test'><p>Perform a nonparametric concordance test.</p></a></li>
<li><a href='#ConcordanceTest-class'><p>Class ConcordanceTest</p></a></li>
<li><a href='#getPsi'><p>Obtain concordance coefficients.</p></a></li>
<li><a href='#names+2CConcordanceTest-method'><p>Extract argument names from a ConcordanceTest object</p></a></li>
<li><a href='#rfromPsi'><p>Convertion between Pearson correlation and the non paramtric concordance coefficient</p></a></li>
<li><a href='#scores'><p>Hypothetical data of outcomes for two risk models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Non-Parametric Concordance Coefficient</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-06-01</td>
</tr>
<tr>
<td>Description:</td>
<td>A non-parametric test for multi-observer concordance and
    differences between concordances in (un)balanced data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, Matrix (&ge; 1.1.5), parallel, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>MASS</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-30 13:41:10 UTC; rkuiper</td>
</tr>
<tr>
<td>Author:</td>
<td>Rowan Kuiper <a href="https://orcid.org/0000-0002-3703-1762"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Remco Hoogenboezem [aut],
  Sjoerd Huisman <a href="https://orcid.org/0000-0002-4322-8289"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Pieter Sonneveld [ths],
  Mark van Duin [ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rowan Kuiper &lt;r.kuiper.emc@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-30 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+24+2CConcordanceTest-method'>Extract argument values from a ConcordanceTest object</h2><span id='topic++24+2CConcordanceTest-method'></span><span id='topic+get+2CConcordanceTest-method'></span>

<h3>Description</h3>

<p>Extracts argument values from a <code><a href="#topic+ConcordanceTest-class">ConcordanceTest-class</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ConcordanceTest'
x$name
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B24+2B2CConcordanceTest-method_+3A_x">x</code></td>
<td>
<p>An object of <code><a href="#topic+ConcordanceTest-class">ConcordanceTest-class</a></code></p>
</td></tr>
<tr><td><code id="+2B24+2B2CConcordanceTest-method_+3A_name">name</code></td>
<td>
<p>The argument to get the value of</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of the requested argument
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
matRandom &lt;- matrix(rnorm(3*20),20,3)
testResult &lt;- concordance.test(matRandom)
names(testResult)
testResult$psi
</code></pre>

<hr>
<h2 id='coef'>Extract test results from the results of a concordance.test</h2><span id='topic+coef'></span><span id='topic+coef+2CConcordanceTest-method'></span>

<h3>Description</h3>

<p><code>coef</code> extract the test results from the results of a concordance.test
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ConcordanceTest'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef_+3A_object">object</code></td>
<td>
<p>An object of <code><a href="#topic+ConcordanceTest-class">ConcordanceTest-class</a></code></p>
</td></tr>
<tr><td><code id="coef_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix
</p>


<h3>See Also</h3>

<p>Other concordance functions: 
<code><a href="#topic+concordance.test">concordance.test</a>()</code>,
<code><a href="#topic+getPsi">getPsi</a>()</code>,
<code><a href="#topic+rfromPsi">rfromPsi</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
matRandom &lt;- matrix(rnorm(3*20),20,3)
testResult &lt;- concordance.test(matRandom)
getPsi(testResult)
coef(testResult)

</code></pre>

<hr>
<h2 id='concordance.test'>Perform a nonparametric concordance test.</h2><span id='topic+concordance.test'></span><span id='topic+nopaco'></span>

<h3>Description</h3>

<p><code>concordance.test</code> performs a test for a random concordance (if a single matrix is given) or tests for equal concordance between two matrices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>concordance.test(x, y = NULL, alternative = NULL, alpha = 0.05, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="concordance.test_+3A_x">x</code></td>
<td>
<p>a numeric matrix, subjects in the rows, repeated measurements in the columns</p>
</td></tr>
<tr><td><code id="concordance.test_+3A_y">y</code></td>
<td>
<p>(optional) a numeric matrix of equal size as argument <code>x</code></p>
</td></tr>
<tr><td><code id="concordance.test_+3A_alternative">alternative</code></td>
<td>
<p>&quot;less&quot;, &quot;greater&quot; or &quot;two.sided&quot;. Only used when <code>y</code> is given.</p>
</td></tr>
<tr><td><code id="concordance.test_+3A_alpha">alpha</code></td>
<td>
<p>significance level (default = 0.05)</p>
</td></tr>
<tr><td><code id="concordance.test_+3A_...">...</code></td>
<td>
<p>see details</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Testing the deviation from random concordance: if only one matrix is given (i.e. argument <code>x</code>), its concordance will be tested against the alternative hypothesis of finding a higher concordance under random sampling conditions. For small matrices (depending on number of replicate measurements) an exact method will be used to determine a p-value. In case of larger matrices, where the exact approach in not feasible, either the revised-beta approach (default), a beta approximation, or a normal approximation is used. To enforce the use of either one method, the <code>method</code> argument can be used with value &quot;exact&quot;,&quot;Rbeta&quot;,&quot;beta&quot; or &quot;normal&quot;.
</p>
</li>
<li><p> Testing for a difference between concordances: if both arguments <code>x</code> and <code>y</code> have been given, the equality of concordances of both matrices is tested. The default alternative hypothesis is 'two.sided'. Both matrices must be of equal size and have corresponding missing entries (<code>NA</code> values). In case of missing data in one matrix, the same entries in the other matrix will also be set to missing. This method involves bootstrapping to estimate variance and confidence estimates, with adjustable options via the global R options &quot;nopaco.nCPU&quot; (default=2), &quot;nopaco.nDraws.CI&quot; (default=1e4) and &quot;nopaco.seed&quot; (default = 1). 
</p>
</li></ul>

<p>Unbalanced data due to randomly missing data or an unequal number of repeated measurements per subject is allowed. In that case, missing or unknown values must be set to <code>NA</code>.
</p>


<h3>Value</h3>

<p>An object of <code><a href="#topic+ConcordanceTest-class">ConcordanceTest-class</a></code>
</p>


<h3>References</h3>

<p>P.Rothery (1979) Biometrika 66(3):629-639
</p>


<h3>See Also</h3>

<p>Other concordance functions: 
<code><a href="#topic+coef">coef</a>()</code>,
<code><a href="#topic+getPsi">getPsi</a>()</code>,
<code><a href="#topic+rfromPsi">rfromPsi</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(MASS) ##to use the 'mvrnorm' function

#Generate a matrix without concordance
# for three observers in two samples
matRandom &lt;- matrix(rnorm(3*20),20,3)
concordance.test(matRandom) 

#Generate a corresponding matrix with strong concordance
sigma&lt;-matrix(0.8,3,3)
diag(sigma)&lt;-1
matConcordant &lt;- mvrnorm(20,mu=rep(0,3),Sigma=sigma)
concordance.test(matConcordant)

#Test concordances between the two matrices
aTest &lt;- concordance.test(matConcordant, matRandom)

getPsi(aTest)
coef(aTest)

</code></pre>

<hr>
<h2 id='ConcordanceTest-class'>Class ConcordanceTest</h2><span id='topic+ConcordanceTest-class'></span>

<h3>Description</h3>

<p>This class stores results obtained from a concordance test.
</p>


<h3>Details</h3>

<p>Class <code>ConcordanceTest</code> stores results from a concordance test.
</p>


<h3>Slots</h3>


<dl>
<dt><code>pvalue</code></dt><dd><p>The pvalue</p>
</dd>
<dt><code>psi1</code></dt><dd><p>The concordance in matrix <code>x</code></p>
</dd>
<dt><code>psi2</code></dt><dd><p>The concordance in matrix <code>y</code></p>
</dd>
<dt><code>method</code></dt><dd><p>The method used to obtain the pvalue</p>
</dd>
<dt><code>alternative</code></dt><dd><p>The alternative hypothesis</p>
</dd>
<dt><code>ci.lower</code></dt><dd><p>The lower confidence boudary</p>
</dd>
<dt><code>ci.upper</code></dt><dd><p>The upper confidence boudary</p>
</dd>
<dt><code>ci.method</code></dt><dd><p>The method used to obtain the confidence interval</p>
</dd>
<dt><code>alpha</code></dt><dd><p>The significance level</p>
</dd>
<dt><code>call</code></dt><dd><p>The call made to the <code><a href="#topic+concordance.test">concordance.test</a></code> function</p>
</dd>
</dl>

<hr>
<h2 id='getPsi'>Obtain concordance coefficients.</h2><span id='topic+getPsi'></span><span id='topic+getPsi+2CConcordanceTest+2Cmissing-method'></span><span id='topic+getPsi+2Cmatrix+2Cmissing-method'></span><span id='topic+getPsi+2Cdata.frame+2Cmissing-method'></span><span id='topic+getPsi+2Cdata.frame+2Cdata.frame-method'></span><span id='topic+getPsi+2Cmatrix+2CNULL-method'></span><span id='topic+getPsi+2Cmatrix+2Cmatrix-method'></span>

<h3>Description</h3>

<p><code>getPsi</code> returns the concordance coefficient(s) from a matrix or a result obtained by the <code><a href="#topic+concordance.test">concordance.test</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPsi(x, y, ...)

## S4 method for signature 'ConcordanceTest,missing'
getPsi(x)

## S4 method for signature 'matrix,missing'
getPsi(x, y, ...)

## S4 method for signature 'data.frame,missing'
getPsi(x, y, ...)

## S4 method for signature 'data.frame,data.frame'
getPsi(x, y, ...)

## S4 method for signature 'matrix,'NULL''
getPsi(x, y, ...)

## S4 method for signature 'matrix,matrix'
getPsi(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPsi_+3A_x">x</code></td>
<td>
<p>A numeric matrix or an object <code><a href="#topic+ConcordanceTest-class">ConcordanceTest-class</a></code></p>
</td></tr>
<tr><td><code id="getPsi_+3A_y">y</code></td>
<td>
<p>A numeric matrix (optional)</p>
</td></tr>
<tr><td><code id="getPsi_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector with coefficient(s)
</p>


<h3>References</h3>

<p>P.Rothery (1979) Biometrika 66(3):629-639
</p>


<h3>See Also</h3>

<p>Other concordance functions: 
<code><a href="#topic+coef">coef</a>()</code>,
<code><a href="#topic+concordance.test">concordance.test</a>()</code>,
<code><a href="#topic+rfromPsi">rfromPsi</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
matRandom &lt;- matrix(rnorm(30),10,3)
testResult &lt;- concordance.test(matRandom)
getPsi(testResult)
getPsi(matRandom)
</code></pre>

<hr>
<h2 id='names+2CConcordanceTest-method'>Extract argument names from a ConcordanceTest object</h2><span id='topic+names+2CConcordanceTest-method'></span>

<h3>Description</h3>

<p><code>names</code> extracts argument names from a <code><a href="#topic+ConcordanceTest-class">ConcordanceTest-class</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ConcordanceTest'
names(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="names+2B2CConcordanceTest-method_+3A_x">x</code></td>
<td>
<p>An object of <code><a href="#topic+ConcordanceTest-class">ConcordanceTest-class</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
matRandom &lt;- matrix(rnorm(3*20),20,3)
testResult &lt;- concordance.test(matRandom)
names(testResult)
</code></pre>

<hr>
<h2 id='rfromPsi'>Convertion between Pearson correlation and the non paramtric concordance coefficient</h2><span id='topic+rfromPsi'></span><span id='topic+psifromR'></span>

<h3>Description</h3>

<p>Convertion between Pearson correlation and the non paramtric concordance coefficient
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfromPsi(psi)

psifromR(r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rfromPsi_+3A_psi">psi</code></td>
<td>
<p>a (vector of) non paramtric concordance coefficient(s)</p>
</td></tr>
<tr><td><code id="rfromPsi_+3A_r">r</code></td>
<td>
<p>a (vector of) Pearson correlation coefficient(s)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The convertion is performed following the relationship described by Rothery (1979).
<code>2*cos(pi*(1-psi))-1</code>
</p>


<h3>Value</h3>

<p>A (vector of) corresponding Pearson correlation coefficient(s).
</p>


<h3>References</h3>

<p>Rothery, P. 'A nonparametric measure of intraclass correlation', Biometrika, 66, 3, 629-639  (1979).
</p>


<h3>See Also</h3>

<p>Other concordance functions: 
<code><a href="#topic+coef">coef</a>()</code>,
<code><a href="#topic+concordance.test">concordance.test</a>()</code>,
<code><a href="#topic+getPsi">getPsi</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Generate a matrix without concordance
matRandom &lt;- matrix(rnorm(30),10,3)
result&lt;-concordance.test(matRandom)
getPsi(result) #concordance coefficient
result$ci      #95% confidence interval

#Corresonding Pearson correlation
rfromPsi(getPsi(result))
rfromPsi(result$ci)

#Plot the relation between Pearson correlation and the nonparamatric concordance coefficient.
r&lt;-seq(-1,1,0.01)
psi&lt;-psifromR(r)
plot(r,psi,type='l',xlab="Pearson correlation", ylab="nonparametric concordance")

</code></pre>

<hr>
<h2 id='scores'>Hypothetical data of outcomes for two risk models</h2><span id='topic+scores'></span>

<h3>Description</h3>

<p>This data is generated as explained in the nopaco vignette. 
It represents the outcomes of the risk models (model A and model B). 
Both models were applied to gene expression profiles 100 subjects, each 
run in duplo.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(scores)
</code></pre>


<h3>Format</h3>

<p>A list with two elements named 'modelA' and 'modelB' both containing a 
dataframe with outcome scores for 100 subjects in the rows each having two 
replicate measurements in the columns.
</p>


<h3>Source</h3>

<p><code>vignette("nopaco", package = "nopaco")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(scores)
str(scores)
plot(scores[['modelA']])
plot(scores[['modelB']])
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package TideTables</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {TideTables}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BuildTT'><p>Builds a TideTable model</p></a></li>
<li><a href='#ComputeAfunc'><p>Returns predictor vector for design matrix</p></a></li>
<li><a href='#EstimateTmhwi'><p>Calculates tmhwi</p></a></li>
<li><a href='#FindOmega'><p>Returns omegas and their ranks.</p></a></li>
<li><a href='#Funcs'><p>Returns predictor vector for design matrix</p></a></li>
<li><a href='#NumCulm'><p>Calculates numm and k4</p></a></li>
<li><a href='#observation'><p>Sample file of high and low water times and heights</p></a></li>
<li><a href='#SynTT'><p>Synthesizes a tide table</p></a></li>
<li><a href='#TideTable'><p>Computes a tide table</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tide Analysis and Prediction of Predominantly Semi-Diurnal Tides</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-12-15</td>
</tr>
<tr>
<td>Description:</td>
<td>Tide analysis and prediction of predominantly semi-diurnal tides
    with two high waters and two low waters during one lunar day (~24.842 hours,
    ~1.035 days). The analysis should preferably cover an observation period of at
    least 19 years. For shorter periods, for example, the nodal cycle can not be
    taken into account, which particularly affects the height calculation. The main
    objective of this package is to produce tide tables.</td>
</tr>
<tr>
<td>Imports:</td>
<td>chron (&ge; 2.3-54), data.table (&ge; 1.13.2)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-12-15 17:30:16 UTC; Moritz</td>
</tr>
<tr>
<td>Author:</td>
<td>Moritz Mueller-Navarra [aut, cre],
  Sylvin Mueller-Navarra [aut] ((2019)
    &lt;https://doi.org/10.5194/os-15-1363-2019&gt;),
  Andreas Boesch [ctb] ((2019) &lt;https://doi.org/10.5194/os-15-1363-2019&gt;)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Moritz Mueller-Navarra &lt;muellernavarra@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-12-15 19:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='BuildTT'>Builds a TideTable model</h2><span id='topic+BuildTT'></span>

<h3>Description</h3>

<p>Builds a TideTable model of class &quot;tidetable&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BuildTT(
  dataInput,
  otz = 1,
  asdate,
  astime,
  aedate,
  aetime,
  hwi = "99:99",
  sharp_hwi = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BuildTT_+3A_datainput">dataInput</code></td>
<td>
<p>the data frame with observation date, observation time and height.</p>
</td></tr>
<tr><td><code id="BuildTT_+3A_otz">otz</code></td>
<td>
<p>time zone of the observations. Default is 1 (UTC + 1)</p>
</td></tr>
<tr><td><code id="BuildTT_+3A_asdate">asdate</code></td>
<td>
<p>The start date.Format: &quot;yyyy/mm/dd&quot;</p>
</td></tr>
<tr><td><code id="BuildTT_+3A_astime">astime</code></td>
<td>
<p>The start time. Format: &quot;hh:mm:ss&quot;</p>
</td></tr>
<tr><td><code id="BuildTT_+3A_aedate">aedate</code></td>
<td>
<p>The end date. Format: &quot;yyyy/mm/dd&quot;</p>
</td></tr>
<tr><td><code id="BuildTT_+3A_aetime">aetime</code></td>
<td>
<p>The end time. Format: &quot;hh:mm:ss&quot;</p>
</td></tr>
<tr><td><code id="BuildTT_+3A_hwi">hwi</code></td>
<td>
<p>The high water interval. Format: &quot;hh::mm&quot;</p>
</td></tr>
<tr><td><code id="BuildTT_+3A_sharp_hwi">sharp_hwi</code></td>
<td>
<p>should the hwi computation be sharp? Default is TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a object of class &quot;tidetable&quot; which contains following elements:
</p>
<table>
<tr><td><code>fitting.coeff</code></td>
<td>
<p>Coefficients for the eight fitted linear models used in the synthesis</p>
</td></tr>
<tr><td><code>diff.analyse</code></td>
<td>
<p>Time in days spanning the analysis</p>
</td></tr>
<tr><td><code>omega_t</code></td>
<td>
<p>Return value of FindOmega()</p>
</td></tr>
<tr><td><code>tm24</code></td>
<td>
<p>Internal constant</p>
</td></tr>
<tr><td><code>tplus</code></td>
<td>
<p>Internal constant</p>
</td></tr>
<tr><td><code>tmhwi</code></td>
<td>
<p>Mean high water interval</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://www.bsh.de/DE/PUBLIKATIONEN/_Anlagen/Downloads/Meer_und_Umwelt/Berichte-des-BSH/Berichte-des-BSH_50_de.pdf?__blob=publicationFile&amp;v=13/">https://www.bsh.de/DE/PUBLIKATIONEN/_Anlagen/Downloads/Meer_und_Umwelt/Berichte-des-BSH/Berichte-des-BSH_50_de.pdf?__blob=publicationFile&amp;v=13/</a>
</p>
<p><a href="https://doi.org/10.5194/os-15-1363-2019">https://doi.org/10.5194/os-15-1363-2019</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BuildTT(dataInput = observation, asdate = "1991/01/01", 
astime ="12:00:00", aedate = "1992/01/01", aetime = "12:00:00")
</code></pre>

<hr>
<h2 id='ComputeAfunc'>Returns predictor vector for design matrix</h2><span id='topic+ComputeAfunc'></span>

<h3>Description</h3>

<p>Returns predictor vector for design matrix from 39 astronomical angular velocities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ComputeAfunc(omega = NULL, xi = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ComputeAfunc_+3A_omega">omega</code></td>
<td>
<p>The return value of FindOmega().</p>
</td></tr>
<tr><td><code id="ComputeAfunc_+3A_xi">xi</code></td>
<td>
<p>Transit index</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the selected angular velocities, their ranks and the predictor vector (values between -1, 1).
</p>

<hr>
<h2 id='EstimateTmhwi'>Calculates tmhwi</h2><span id='topic+EstimateTmhwi'></span>

<h3>Description</h3>

<p>This functions computes an estimate for the mean high water interval (tmhwi) in UTC
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EstimateTmhwi(input, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EstimateTmhwi_+3A_input">input</code></td>
<td>
<p>Should be a data.table object with three columns d_days, high_low and height, where 
d_days is a vector of fraction of days since 1900/01/01 00:00:00, high_low indicating a high water(1)
or a low water(0), height is the corresponding height</p>
</td></tr>
<tr><td><code id="EstimateTmhwi_+3A_strict">strict</code></td>
<td>
<p>If strict is true (default), the computations are more sharp.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the mean high water interval in UTC
</p>

<hr>
<h2 id='FindOmega'>Returns omegas and their ranks.</h2><span id='topic+FindOmega'></span>

<h3>Description</h3>

<p>Returns omegas and their ranks from 39 astronomical angular velocities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FindOmega(tdiff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FindOmega_+3A_tdiff">tdiff</code></td>
<td>
<p>Length of input time series.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the selected angular velocities and their ranks.
</p>

<hr>
<h2 id='Funcs'>Returns predictor vector for design matrix</h2><span id='topic+Funcs'></span>

<h3>Description</h3>

<p>Returns predictor vector for design matrix from 39 astronomical angular velocities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Funcs(tdiff, xi)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Funcs_+3A_tdiff">tdiff</code></td>
<td>
<p>Length of input time series.</p>
</td></tr>
<tr><td><code id="Funcs_+3A_xi">xi</code></td>
<td>
<p>Transit index</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the selected angular velocities, their ranks and the predictor vector (Values between -1, 1).
</p>

<hr>
<h2 id='NumCulm'>Calculates numm and k4</h2><span id='topic+NumCulm'></span>

<h3>Description</h3>

<p>Calculates transit number (numm) and high (1, 3) or low (2, 4) water number (k4).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NumCulm(t, tmhwi)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NumCulm_+3A_t">t</code></td>
<td>
<p>Time in days after 1900/01/01 00:00:00 UTC.</p>
</td></tr>
<tr><td><code id="NumCulm_+3A_tmhwi">tmhwi</code></td>
<td>
<p>Mean high water interval (Greenwich meridian).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list containing numm and k4.
</p>

<hr>
<h2 id='observation'>Sample file of high and low water times and heights</h2><span id='topic+observation'></span>

<h3>Description</h3>

<p>A sample dataset containing observation date, time and height of high and low water
</p>


<h3>Usage</h3>

<pre><code class='language-R'>observation
</code></pre>


<h3>Format</h3>

<p>A data frame with 26819 rows and 4 variables
</p>

<dl>
<dt>observation_date</dt><dd><p>date of tide, &quot;yyyy/mm/dd&quot; format, character</p>
</dd>
<dt>observation_time</dt><dd><p>time of tide, &quot;hh:mm:ss&quot; format, character</p>
</dd>
<dt>high_or_low_water</dt><dd><p>indication whether high (1) or low water (0) was present given date and time, integer</p>
</dd>
<dt>height</dt><dd><p>height of the tide, numeric</p>
</dd>
</dl>


<hr>
<h2 id='SynTT'>Synthesizes a tide table</h2><span id='topic+SynTT'></span>

<h3>Description</h3>

<p>Synthesizes a tide table, built with BuildTT().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SynTT(tmodel = NULL, ssdate, sstime, sedate, setime)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SynTT_+3A_tmodel">tmodel</code></td>
<td>
<p>The model you built with BuildTT()</p>
</td></tr>
<tr><td><code id="SynTT_+3A_ssdate">ssdate</code></td>
<td>
<p>Start date of the synthesis. Format: &quot;yyyy/mm/dd&quot;</p>
</td></tr>
<tr><td><code id="SynTT_+3A_sstime">sstime</code></td>
<td>
<p>Start time of the synthesis Format: &quot;hh:mm:ss&quot;.</p>
</td></tr>
<tr><td><code id="SynTT_+3A_sedate">sedate</code></td>
<td>
<p>End date of the synthesis. Format: &quot;yyyy/mm/dd&quot;</p>
</td></tr>
<tr><td><code id="SynTT_+3A_setime">setime</code></td>
<td>
<p>End time of the synthesis. Format: &quot;hh:mm:ss&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tide table as a data.table, which is identical to c.table computed with TideTable().
</p>


<h3>References</h3>

<p><a href="https://www.bsh.de/DE/PUBLIKATIONEN/_Anlagen/Downloads/Meer_und_Umwelt/Berichte-des-BSH/Berichte-des-BSH_50_de.pdf?__blob=publicationFile&amp;v=13/">https://www.bsh.de/DE/PUBLIKATIONEN/_Anlagen/Downloads/Meer_und_Umwelt/Berichte-des-BSH/Berichte-des-BSH_50_de.pdf?__blob=publicationFile&amp;v=13/</a>
</p>
<p><a href="https://doi.org/10.5194/os-15-1363-2019">https://doi.org/10.5194/os-15-1363-2019</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: SynTT(tmodel = tt_model, ssdate = "1991/01/01", 
sstime = "12:00:00", sedate = "1992/01/01", setime = "12:00:00")
## End(Not run)
</code></pre>

<hr>
<h2 id='TideTable'>Computes a tide table</h2><span id='topic+TideTable'></span>

<h3>Description</h3>

<p>Takes a data frame as input with date time, high water and height information and returns a tide table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TideTable(
  dataInput,
  otz = 1,
  hwi = "99:99",
  sharp_hwi = TRUE,
  asdate,
  astime,
  aedate,
  aetime,
  ssdate,
  sstime,
  sedate,
  setime,
  stz = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TideTable_+3A_datainput">dataInput</code></td>
<td>
<p>A data frame with the columns observation_date, observation_time, high_or_low_water and height. See attached data for correct formats.</p>
</td></tr>
<tr><td><code id="TideTable_+3A_otz">otz</code></td>
<td>
<p>The time zone of the observations</p>
</td></tr>
<tr><td><code id="TideTable_+3A_hwi">hwi</code></td>
<td>
<p>The average of all intervals between the Moon's transit (upper or lower) over the Greenwich meridian and the following high or low waters for all phases of the Moon is known as mean high water lunitidal interval and is abbreviated to high              water interval (hwi). Please only supply a value, when you are sure. Otherwise leave the default value &quot;99:99&quot; untouched.            hwi is then computed for you.</p>
</td></tr>
<tr><td><code id="TideTable_+3A_sharp_hwi">sharp_hwi</code></td>
<td>
<p>Default is TRUE, which results in a sharp hwi computation. Set on FALSE if you analyze shorter time intervals and EstimateTmhwi function returns NA.</p>
</td></tr>
<tr><td><code id="TideTable_+3A_asdate">asdate</code></td>
<td>
<p>A string indication the date you want the analysis to start with. Format: &quot;yyyy/mm/dd&quot;.</p>
</td></tr>
<tr><td><code id="TideTable_+3A_astime">astime</code></td>
<td>
<p>A string indicating the time you want the analysis to start with. Format: &quot;hh:mm:ss&quot;</p>
</td></tr>
<tr><td><code id="TideTable_+3A_aedate">aedate</code></td>
<td>
<p>A string indication the date you want the analysis to end with. Format: &quot;yyyy/mm/dd&quot;.</p>
</td></tr>
<tr><td><code id="TideTable_+3A_aetime">aetime</code></td>
<td>
<p>A string indicating the time you want the analysis to end with. Format: &quot;hh:mm:ss&quot;</p>
</td></tr>
<tr><td><code id="TideTable_+3A_ssdate">ssdate</code></td>
<td>
<p>Synthesis start date. This indicates the date you want your tide table to start with. Format: See above</p>
</td></tr>
<tr><td><code id="TideTable_+3A_sstime">sstime</code></td>
<td>
<p>Synthesis start time. The starting time for your tide table. Format: See above</p>
</td></tr>
<tr><td><code id="TideTable_+3A_sedate">sedate</code></td>
<td>
<p>Synthesis end date. Format: See above</p>
</td></tr>
<tr><td><code id="TideTable_+3A_setime">setime</code></td>
<td>
<p>Synthesis end time. Format: See above</p>
</td></tr>
<tr><td><code id="TideTable_+3A_stz">stz</code></td>
<td>
<p>Dummy for later extension to modify target time zone.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with elements of the analysis, fitting and the tide table for given data 
</p>
<table>
<tr><td><code>c.table</code></td>
<td>
<p>The complete synthesis data as a data.table object</p>
</td></tr>
<tr><td><code>tide.table</code></td>
<td>
<p>The tide table as a data.table object</p>
</td></tr>
<tr><td><code>lm.coeff</code></td>
<td>
<p>Coefficients for the eight fitted linear models used in the synthesis</p>
</td></tr>
<tr><td><code>diff.analyse</code></td>
<td>
<p>Time in days spanning the analysis</p>
</td></tr>
<tr><td><code>i.analyse</code></td>
<td>
<p>How many different cases where used in the analysis</p>
</td></tr>
</table>


<h3>References</h3>

<p>Horn, W. (1960) Some Recent Approaches to Tidal Problems. Int. Hydrogr. Rev. 37(2), 65-84
</p>
<p>Godin, Gabriel (1972) The Analysis of Tides. Toronto, 264pp
</p>
<p><a href="https://www.bsh.de/DE/PUBLIKATIONEN/_Anlagen/Downloads/Meer_und_Umwelt/Berichte-des-BSH/Berichte-des-BSH_50_de.pdf?__blob=publicationFile&amp;v=13/">https://www.bsh.de/DE/PUBLIKATIONEN/_Anlagen/Downloads/Meer_und_Umwelt/Berichte-des-BSH/Berichte-des-BSH_50_de.pdf?__blob=publicationFile&amp;v=13/</a>
</p>
<p><a href="https://doi.org/10.5194/os-15-1363-2019">https://doi.org/10.5194/os-15-1363-2019</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>TideTable(dataInput = observation, asdate = "1991/01/01", 
astime = "12:00:00", 
aedate = "1992/01/01", aetime = "12:00:00", ssdate = "1991/01/01", 
sstime = "00:00:00", sedate = "1991/01/31", setime = "21:00:00")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

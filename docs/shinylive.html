<!DOCTYPE html><html><head><title>Help for package shinylive</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinylive}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#assets_download'><p>Manage shinylive assets</p></a></li>
<li><a href='#assets_install_copy'><p>Install shinylive assets from from a local directory</p></a></li>
<li><a href='#export'><p>Export a Shiny app to a directory</p></a></li>
<li><a href='#quarto_ext'><p>Quarto extension for shinylive</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Run 'shiny' Applications in the Browser</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Exporting 'shiny' applications with 'shinylive' allows you to run them entirely in a web browser, without the need for a separate R server. The traditional way of deploying 'shiny' applications involves in a separate server and client: the server runs R and 'shiny', and clients connect via the web browser. When an application is deployed with 'shinylive', R and 'shiny' run in the web browser (via 'webR'): the browser is effectively both the client and server for the application. This allows for your 'shiny' application exported by 'shinylive' to be hosted by a static web server.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/posit-dev/r-shinylive/issues">https://github.com/posit-dev/r-shinylive/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://posit-dev.github.io/r-shinylive/">https://posit-dev.github.io/r-shinylive/</a>,
<a href="https://github.com/posit-dev/r-shinylive">https://github.com/posit-dev/r-shinylive</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>archive, brio, fs, httr2 (&ge; 1.0.0), jsonlite, progress,
rappdirs, rlang, tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>httpuv (&ge; 1.6.12), spelling, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-04 19:52:16 UTC; barret</td>
</tr>
<tr>
<td>Author:</td>
<td>Barret Schloerke <a href="https://orcid.org/0000-0001-9986-114X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Winston Chang <a href="https://orcid.org/0000-0002-1576-2126"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  George Stagg [ctb],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Barret Schloerke &lt;barret@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-04 20:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='assets_download'>Manage shinylive assets</h2><span id='topic+assets_download'></span><span id='topic+assets_ensure'></span><span id='topic+assets_cleanup'></span><span id='topic+assets_remove'></span><span id='topic+assets_info'></span><span id='topic+assets_version'></span>

<h3>Description</h3>

<p>Helper methods for managing shinylive assets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assets_download(
  version = assets_version(),
  ...,
  dir = assets_cache_dir(),
  url = assets_bundle_url(version)
)

assets_ensure(
  version = assets_version(),
  ...,
  dir = assets_cache_dir(),
  url = assets_bundle_url(version)
)

assets_cleanup(..., dir = assets_cache_dir())

assets_remove(versions, ..., dir = assets_cache_dir())

assets_info()

assets_version()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assets_download_+3A_version">version</code></td>
<td>
<p>The version of the assets to download.</p>
</td></tr>
<tr><td><code id="assets_download_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
<tr><td><code id="assets_download_+3A_dir">dir</code></td>
<td>
<p>The asset cache directory. Unless testing, the default behavior
should be used.</p>
</td></tr>
<tr><td><code id="assets_download_+3A_url">url</code></td>
<td>
<p>The URL to download the assets from. Unless testing, the default
behavior should be used.</p>
</td></tr>
<tr><td><code id="assets_download_+3A_versions">versions</code></td>
<td>
<p>The assets versions to remove.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>assets_version()</code> returns the version of the currently supported Shinylive.
</p>
<p>All other methods return <code>invisible()</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>assets_download()</code>: Downloads the shinylive assets bundle from GitHub and
extracts it to the specified directory. The bundle will always be
downloaded from GitHub, even if it already exists in the cache directory
(<code style="white-space: pre;">&#8288;dir=&#8288;</code>).
</p>
</li>
<li> <p><code>assets_ensure()</code>: Ensures a local copy of shinylive is installed. If a local
copy of shinylive is not installed, it will be downloaded and installed.
If a local copy of shinylive is installed, its path will be returned.
</p>
</li>
<li> <p><code>assets_cleanup()</code>: Removes local copies of shinylive web assets, except for
the one used by the current version of <span class="pkg">shinylive</span>.
</p>
</li>
<li> <p><code>assets_remove()</code>: Removes a local copies of shinylive web assets.
</p>
</li>
<li> <p><code>assets_info()</code>: Prints information about the local shinylive
assets that have been installed.
</p>
</li>
<li> <p><code>assets_version()</code>: Returns the version of the currently supported Shinylive
assets version.
</p>
</li></ul>

<hr>
<h2 id='assets_install_copy'>Install shinylive assets from from a local directory</h2><span id='topic+assets_install_copy'></span><span id='topic+assets_install_link'></span>

<h3>Description</h3>

<p>Helper methods for testing updates to shinylive assets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assets_install_copy(
  assets_repo_dir,
  ...,
  dir = assets_cache_dir(),
  version = package_json_version(assets_repo_dir)
)

assets_install_link(
  assets_repo_dir,
  ...,
  dir = assets_cache_dir(),
  version = package_json_version(assets_repo_dir)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assets_install_copy_+3A_assets_repo_dir">assets_repo_dir</code></td>
<td>
<p>The local repository directory for shinylive assets
(e.g. <a href="https://github.com/posit-dev/py-shinylive"><code>posit-dev/shinylive</code></a>)</p>
</td></tr>
<tr><td><code id="assets_install_copy_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
<tr><td><code id="assets_install_copy_+3A_dir">dir</code></td>
<td>
<p>The asset cache directory. Unless testing, the default behavior
should be used.</p>
</td></tr>
<tr><td><code id="assets_install_copy_+3A_version">version</code></td>
<td>
<p>The version of the assets being installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>All method return <code>invisible()</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>assets_install_copy()</code>: Copies all shinylive assets from a local shinylive
repository (e.g.
<a href="https://github.com/posit-dev/py-shinylive"><code>posit-dev/shinylive</code></a>). This
must be repeated for any change in the assets.
</p>
</li>
<li> <p><code>assets_install_link()</code>: Creates a symlink of the local shinylive assets to the
cached assets directory. After the first installation, the assets will the
same as the source due to the symlink.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+assets_download">assets_download()</a></code>, <code><a href="#topic+assets_ensure">assets_ensure()</a></code>, <code><a href="#topic+assets_cleanup">assets_cleanup()</a></code>
</p>

<hr>
<h2 id='export'>Export a Shiny app to a directory</h2><span id='topic+export'></span>

<h3>Description</h3>

<p>This function exports a Shiny app to a directory, which can then be served
using <code>httpuv</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export(appdir, destdir, ..., subdir = "", verbose = is_interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_+3A_appdir">appdir</code></td>
<td>
<p>Directory containing the application.</p>
</td></tr>
<tr><td><code id="export_+3A_destdir">destdir</code></td>
<td>
<p>Destination directory.</p>
</td></tr>
<tr><td><code id="export_+3A_...">...</code></td>
<td>
<p>Ignored</p>
</td></tr>
<tr><td><code id="export_+3A_subdir">subdir</code></td>
<td>
<p>Subdirectory of <code>destdir</code> to write the app to.</p>
</td></tr>
<tr><td><code id="export_+3A_verbose">verbose</code></td>
<td>
<p>Print verbose output. Defaults to <code>TRUE</code> if running
interactively.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. The app is exported to <code>destdir</code>. Instructions for serving
the directory are printed to stdout.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
app_dir &lt;- system.file("examples", "01_hello", package = "shiny")
out_dir &lt;- tempfile("shinylive-export")

# Export the app to a directory
export(app_dir, out_dir)

# Serve the exported directory
if (require(httpuv)) {
  httpuv::runStaticServer(out_dir)
}

</code></pre>

<hr>
<h2 id='quarto_ext'>Quarto extension for shinylive</h2><span id='topic+quarto_ext'></span>

<h3>Description</h3>

<p>Integration with https://github.com/quarto-ext/shinylive
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quarto_ext(
  args = commandArgs(trailingOnly = TRUE),
  ...,
  pretty = is_interactive()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="quarto_ext_+3A_args">args</code></td>
<td>
<p>Command line arguments passed by the extension. See details for more information.</p>
</td></tr>
<tr><td><code id="quarto_ext_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
<tr><td><code id="quarto_ext_+3A_pretty">pretty</code></td>
<td>
<p>Whether to pretty print the JSON output.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. Values are printed to stdout.
</p>


<h3>Command arguments</h3>

<p>The first argument must be <code>"extension"</code>. This is done to match
<code>py-shinylive</code> so that it can nest other sub-commands under the <code>extension</code>
argument to minimize the api clutter the user can see.
</p>


<h4>CLI Interface</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;extension info&#8288;</code>
</p>

<ul>
<li><p> Prints information about the extension including:
</p>

<ul>
<li> <p><code>version</code>: The version of the R package
</p>
</li>
<li> <p><code>assets_version</code>: The version of the web assets
</p>
</li>
<li> <p><code>scripts</code>: A list of paths scripts that are used by the extension,
mainly <code>codeblock-to-json</code>
</p>
</li></ul>

</li>
<li><p> Example
</p>
<div class="sourceCode"><pre>{
  "version": "0.1.0",
  "assets_version": "0.2.0",
  "scripts": {
    "codeblock-to-json": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/scripts/codeblock-to-json.js"
  }
}
</pre></div>
</li></ul>

</li>
<li> <p><code style="white-space: pre;">&#8288;extension base-htmldeps&#8288;</code>
</p>

<ul>
<li><p> Prints the language agnostic quarto html dependencies as a JSON array.
</p>

<ul>
<li><p> The first html dependency is the <code>shinylive</code> service workers.
</p>
</li>
<li><p> The second html dependency is the <code>shinylive</code> base dependencies. This
dependency will contain the core <code>shinylive</code> asset scripts (JS files
automatically sourced), stylesheets (CSS files that are automatically
included), and resources (additional files that the JS and CSS files can
source).
</p>
</li></ul>

</li>
<li><p> Example
</p>
<div class="sourceCode"><pre>[
  {
    "name": "shinylive-serviceworker",
    "version": "0.2.0",
    "meta": { "shinylive:serviceworker_dir": "." },
    "serviceworkers": [
      {
        "source": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive-sw.js",
        "destination": "/shinylive-sw.js"
      }
    ]
  },
  {
    "name": "shinylive",
    "version": "0.2.0",
    "scripts": [{
      "name": "shinylive/load-shinylive-sw.js",
      "path": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive/load-shinylive-sw.js",
        "attribs": { "type": "module" }
    }],
    "stylesheets": [{
      "name": "shinylive/shinylive.css",
      "path": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive/shinylive.css"
    }],
    "resources": [
      {
        "name": "shinylive/shinylive.js",
        "path": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive/shinylive.js"
      },
      ... # [ truncated ]
    ]
  }
]
</pre></div>
</li></ul>

</li>
<li> <p><code style="white-space: pre;">&#8288;extension language-resources&#8288;</code>
</p>

<ul>
<li><p> Prints the language-specific resource files as JSON that should be added to the quarto html dependency.
</p>

<ul>
<li><p> For r-shinylive, this includes the webr resource files
</p>
</li>
<li><p> For py-shinylive, this includes the pyodide and pyright resource files.
</p>
</li></ul>

</li>
<li><p> Example
</p>
<div class="sourceCode"><pre>[
  {
    "name": "shinylive/webr/esbuild.d.ts",
    "path": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive/webr/esbuild.d.ts"
  },
  {
    "name": "shinylive/webr/libRblas.so",
    "path": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive/webr/libRblas.so"
  },
  ... # [ truncated ]
]
</pre></div>
</li></ul>

</li>
<li> <p><code style="white-space: pre;">&#8288;extension app-resources&#8288;</code>
</p>

<ul>
<li><p> Prints app-specific resource files as JSON that should be added to the <code>"shinylive"</code> quarto html dependency.
</p>
</li>
<li><p> Currently, r-shinylive does not return any resource files.
</p>
</li>
<li><p> Example
</p>
<div class="sourceCode"><pre>[
  {
    "name": "shinylive/pyodide/anyio-3.7.0-py3-none-any.whl",
    "path": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive/pyodide/anyio-3.7.0-py3-none-any.whl"
  },
  {
    "name": "shinylive/pyodide/appdirs-1.4.4-py2.py3-none-any.whl",
    "path": "/&lt;ASSETS_CACHE_DIR&gt;/shinylive-0.2.0/shinylive/pyodide/appdirs-1.4.4-py2.py3-none-any.whl"
  },
  ... # [ truncated ]
]
</pre></div>
</li></ul>

</li></ul>



</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

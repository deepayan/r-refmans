<!DOCTYPE html><html lang="pt-BR"><head><title>Help for package epe4md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {epe4md}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#epe4md_calcula'><p>Roda o modelo 4MD</p></a></li>
<li><a href='#epe4md_calibra_curva_s'><p>Calibra o modelo de Bass com dados históricos e gera curvas S de adoção.</p></a></li>
<li><a href='#epe4md_casos_payback'><p>Cria a base de casos para serem simulados posteriormente no cálculo do</p>
payback.</a></li>
<li><a href='#epe4md_fatores_publicacao'><p>Altera fatores para facilitar entendimento em publicações</p></a></li>
<li><a href='#epe4md_graf_geracao_ano'><p>Gráfico da geração anual em MWmed</p></a></li>
<li><a href='#epe4md_graf_geracao_mes'><p>Gráfico da geração mensal em MWmed</p></a></li>
<li><a href='#epe4md_graf_part_fonte_geracao'><p>Gráfico da participação de cada tecnologia na geração de energia</p></a></li>
<li><a href='#epe4md_graf_part_fonte_potencia'><p>Gráfico da participação de capacidade por fonte</p></a></li>
<li><a href='#epe4md_graf_part_segmento'><p>Gráfico da evolução da participação por segmento</p></a></li>
<li><a href='#epe4md_graf_pot_acum'><p>Gráfico da capacidade instalada acumulada</p></a></li>
<li><a href='#epe4md_graf_pot_anual'><p>Gráfico da capacidade instalada anual</p></a></li>
<li><a href='#epe4md_graf_pot_regiao'><p>Gráfico da capacidade instalada acumulada por região</p></a></li>
<li><a href='#epe4md_graf_pot_segmento'><p>Gráfico da capacidade instalada acumulada por segmento</p></a></li>
<li><a href='#epe4md_investimentos'><p>Calcula o montante investido</p></a></li>
<li><a href='#epe4md_mercado_potencial'><p>Cria a base do mercado potencial inicial para a adoção.</p></a></li>
<li><a href='#epe4md_payback'><p>Roda um fluxo de caixa para cada caso e retorna métricas financeiras.</p></a></li>
<li><a href='#epe4md_prepara_base'><p>Prepara a base de dados da ANEEL com geradores existentes para ser utilizada</p>
nas funções seguintes.</a></li>
<li><a href='#epe4md_proj_adotantes'><p>Realiza a projeção do número de adotantes de micro e minigeração distribuída</p></a></li>
<li><a href='#epe4md_proj_geracao'><p>Estima a geração de eletricidade a partir da projeção de potência</p></a></li>
<li><a href='#epe4md_proj_mensal'><p>Faz a abertura mensal da projeção de potência</p></a></li>
<li><a href='#epe4md_proj_potencia'><p>Realiza a projecao da capacidade instalada de micro e minigeracao distribuida</p></a></li>
<li><a href='#epe4md_sumariza_resultados'><p>Resume os resultados de capacidade instalada</p></a></li>
<li><a href='#paleta_epe'><p>Paleta de cores da EPE</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>EPE's 4MD Model to Forecast the Adoption of Distributed
Generation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Language:</td>
<td>pt-BR</td>
</tr>
<tr>
<td>Description:</td>
<td>EPE's (Empresa de Pesquisa Energética) 4MD (Modelo de Mercado da Micro e Minigeração Distribuída - Micro and Mini Distributed Generation Market Model) model to forecast the adoption of Distributed Generation. Given the user's assumptions, it is possible to estimate how many consumer units will have distributed generation in Brazil over the next 10 years, for example. In addition, it is possible to estimate the installed capacity, the amount of investments that will be made in the country and the monthly energy contribution of this type of generation. <a href="https://www.epe.gov.br/sites-pt/publicacoes-dados-abertos/publicacoes/PublicacoesArquivos/publicacao-689/topico-639/NT_Metodologia_4MD_PDE_2032_VF.pdf">https://www.epe.gov.br/sites-pt/publicacoes-dados-abertos/publicacoes/PublicacoesArquivos/publicacao-689/topico-639/NT_Metodologia_4MD_PDE_2032_VF.pdf</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown, tidyverse</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.1.1), scales, purrr, tidyr, readxl, jrvFinance,
janitor, stats, furrr, zoo, lubridate, tsibble, stringr,
fabletools, feasts, tibble, assertthat, forcats, future,
magrittr, readr, utils, ggplot2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://epe-gov-br.github.io/epe4md/">https://epe-gov-br.github.io/epe4md/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-03 16:42:41 UTC; joao.santos</td>
</tr>
<tr>
<td>Author:</td>
<td>Gabriel Konzen [aut, cre],
  Bruno Crotman [aut],
  João Santos [aut],
  Leticia Minini [aut],
  Empresa de Pesquisa Energética [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gabriel Konzen &lt;gabriel.konzen@epe.gov.br&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-05 14:23:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='epe4md_calcula'>Roda o modelo 4MD</h2><span id='topic+epe4md_calcula'></span>

<h3>Description</h3>

<p>O resultado do modelo 4MD são projeções de capacidade instalada, número de
adotantes e geração de energia em base mensal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_calcula(
  premissas_reg,
  ano_base,
  sequencial = FALSE,
  filtro_de_uf = "N",
  filtro_nome4md = "N",
  filtro_de_segmento = "N",
  filtro_de_custo_unitario_max = NULL,
  ano_max_resultado = 2050,
  altera_sistemas_existentes = FALSE,
  ano_decisao_alteracao = 2023,
  inflacao = 0.0375,
  taxa_desconto_nominal = 0.13,
  custo_reforco_rede = 200,
  ano_troca_inversor = 11,
  pagamento_disponibilidade = 0.3,
  disponibilidade_kwh_mes = 100,
  filtro_renda_domicilio = "maior_3sm",
  desconto_capex_local = 0,
  anos_desconto = 0,
  tx_cresc_grupo_a = 0.016,
  spb = 0.3,
  p_max = 0.01,
  q_max = 1,
  filtro_comercial = NA_real_,
  ajuste_ano_corrente = FALSE,
  ultimo_mes_ajuste = NA_integer_,
  metodo_ajuste = NA_character_,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_calcula_+3A_premissas_reg">premissas_reg</code></td>
<td>
<p>data.frame. Input de premissas regulatórias para serem
consideradas nos cálculos. O dataframe deve ter as seguintes colunas
</p>

<ul>
<li><p> ano, numérico
</p>
</li>
<li><p> alternativa, numérico. Uma das seguintes opções:
</p>

<ul>
<li><p> 0: Consumidor compensa todas as componentes tarifárias;
</p>
</li>
<li><p> 1: Paga TUSD Distribuição;
</p>
</li>
<li><p> 2: Anterior + TUSD Transmissão.
</p>
</li>
<li><p> 3: Anterior + TUSD Encargos.
</p>
</li>
<li><p> 4: Anterior + TUSD Perdas.
</p>
</li>
<li><p> 5: Anterior + TE Encargos. Ou seja, compensa somente a TE Energia.
</p>
</li></ul>

</li>
<li><p> p_transicao, numérico. Parcela do custo da alternativa escolhida no parâmetro alternativa
a ser pago pelo consumidor
</p>
</li>
<li><p> binomia e, binário. Define se há cobrança de uma
tarifa binômia na baixa tensão, em que as
componentes TUSD Distribuição e TUSD Transmissão passariam a ser cobradas de forma fixa, não sendo passíveis de compensação
</p>
</li>
<li><p> demanda_g, binário. Define se há cobrança de TUSDg para a demanda de consumidores do
grupo A. Caso seja <code>FALSE</code>, é considerada a cobrança da TUSD consumo.
</p>
</li></ul>

<p>Um arquivo excel
instalado com este pacote, acessível via
<code>system.file("dados_premissas/2021/premissas_reg.xlsx", package = "epe4md")</code>,
contém um exemplo de premissas de entrada.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_sequencial">sequencial</code></td>
<td>
<p>logic. Parâmetro que define se a projeção deve ser
realizada de forma sequencial ou paralela. Para executar a projeção de forma
sequencial defina o parâmetro como TRUE. Default FALSE.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_filtro_de_uf">filtro_de_uf</code></td>
<td>
<p>string. Parâmetro que define uma unidade federativa (UF) a
ser filtrada. Caso uma UF não seja indicada ou seja informado um valor inválido,
o resultado será apresentado sem filtros.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_filtro_nome4md">filtro_nome4md</code></td>
<td>
<p>string. Parâmetro que define o nome de uma concessionária
de energia a ser filtrado. Caso não seja informado um valor ou seja informado um
valor inválido o resultado será apresentado sem filtro.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_filtro_de_segmento">filtro_de_segmento</code></td>
<td>
<p>string. Parâmetro que define um segmento a ser
filtrado. Pode se escolher entre &quot;comercial_at&quot;, &quot;comercial_at_remoto&quot;,
&quot;comercial_bt&quot;, &quot;residencial&quot; e &quot;residencial_remoto&quot;.  Caso não seja
informado um valor ou seja informado um valor inválido o resultado será
apresentado sem filtro.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_filtro_de_custo_unitario_max">filtro_de_custo_unitario_max</code></td>
<td>
<p>numeric. Parâmetro que define o valor
máximo do custo unitário para ser utilizado no cálculo do payback. Default
igual a NULL.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_ano_max_resultado">ano_max_resultado</code></td>
<td>
<p>numeric. Ano final para apresentação dos resultados.
Máximo igual a 2050. Default igual a 2050.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_altera_sistemas_existentes">altera_sistemas_existentes</code></td>
<td>
<p>logic. TRUE se alterações regulatórias
afetam investimentos realizados em anos anteriores à revisão da regulação.
Default igual a FALSE.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_ano_decisao_alteracao">ano_decisao_alteracao</code></td>
<td>
<p>numeric. Ano em que são definidas novas regras e
se tornam de conhecimento público. Esse parâmetro só tem efeito caso o
anterior seja igual a TRUE. Default igual a 2023.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_inflacao">inflacao</code></td>
<td>
<p>mumeric. Taxa anual de inflacao considerada no reajuste das
tarifas e para calcular o retorno real de projetos. Default igual a 0.0375.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_taxa_desconto_nominal">taxa_desconto_nominal</code></td>
<td>
<p>numeric. Taxa de desconto nominal considerada
nos cálculos de payback descontado. Default igual a 0.13.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_custo_reforco_rede">custo_reforco_rede</code></td>
<td>
<p>numeric. Custo em R$/kW aplicado a projetos de
geracao remota em Alta Tensão. Representa um custo pago pelo empreendedor
para reforços na rede. Default igual a 200.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_ano_troca_inversor">ano_troca_inversor</code></td>
<td>
<p>numeric. Ano, a partir do ano de instalação, em que
é realizada a troca do inversor fotovoltaico. Default igual a 11.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_pagamento_disponibilidade">pagamento_disponibilidade</code></td>
<td>
<p>numeric. Percentual de meses em que o
consumidor residencial paga custo de disponbilidade em função da
variabilidade da geração FV. Default igual a 0.3.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_disponibilidade_kwh_mes">disponibilidade_kwh_mes</code></td>
<td>
<p>numeric. Consumo de disponbilidade do
consumidor em kWh/mês. Default igual a 100, equivalente a um consumidor
trifásico.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_filtro_renda_domicilio">filtro_renda_domicilio</code></td>
<td>
<p>string. Define o filtro aplicado a consumidores
residenciais, de acordo com a renda mensal do responsável, em salários
mínimos. Permite: &quot;total&quot;, &quot;maior_1sm&quot;, maior_2sm&quot;, &quot;maior_3sm&quot; ou
&quot;maior_5sm&quot;. Default igual a &quot;maior_3sm&quot;.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_desconto_capex_local">desconto_capex_local</code></td>
<td>
<p>numeric. Percentual de desconto a ser aplicado no
CAPEX de sistemas de geração local(ex: 0.1) para simulação de incentivos.
Default igual a 0.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_anos_desconto">anos_desconto</code></td>
<td>
<p>vector. Anos em que há a incidência do desconto no
CAPEX. Default igual a 0.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_tx_cresc_grupo_a">tx_cresc_grupo_a</code></td>
<td>
<p>numeric. Taxa de crescimento anual dos consumidores
cativos do Grupo A. Default igual a 0.016 representa crescimento entre
2006 e 2019.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_spb">spb</code></td>
<td>
<p>numeric. Fator de Sensibilidade ao Payback (SPB).
Default igual a 0.3.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_p_max">p_max</code></td>
<td>
<p>numeric. Fator de inovação (p) máximo. Default igual a 0.01.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_q_max">q_max</code></td>
<td>
<p>numeric. Fator de imitação (q) máximo. Default igual a 1.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_filtro_comercial">filtro_comercial</code></td>
<td>
<p>numeric. Fator percentual para definir o nicho do
segmento comercial. Default é calculado pelo modelo com base no nicho
residencial.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_ajuste_ano_corrente">ajuste_ano_corrente</code></td>
<td>
<p>logic. Se TRUE indica que a projeção deverá
incorporar o histórico mensal recente, verificado em parte do primeiro ano
após o ano base. Default igual a FALSE. O arquivo base_mmgd.xlsx deve
incorporar esse histórico.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_ultimo_mes_ajuste">ultimo_mes_ajuste</code></td>
<td>
<p>numeric. Último mês com dados completos na
base_ano_corrente. Default igual a NA. Só tem efeito caso ajuste_ano_corrente
seja igual a TRUE.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_metodo_ajuste">metodo_ajuste</code></td>
<td>
<p>string. Se igual a &quot;extrapola&quot; o modelo irá extrapolar a
potência e o número de adotantes até o final do ano base + 1 com base no
verificado até o ultimo_mes_ajuste. Default igual a NA. Só tem efeito caso
ajuste_ano_corrente seja igual a TRUE.</p>
</td></tr>
<tr><td><code id="epe4md_calcula_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas. Se esse
parâmetro não for passado, a função usa os dados default que são instalados
com o pacote. É importante que os nomes dos arquivos sejam os mesmos da
pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame com os resultados da projeção de capacidade instalada
de micro e minigeração distribuída, número de adotantes e geração
mensal de energia.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  
    premissas_regulatorias &lt;- structure(
    list(ano = 2021,
         alternativa = 0,
         p_transicao = 1,
         binomia = FALSE,
         demanda_g = FALSE),
    class = c("tbl_df", "tbl", "data.frame"),
    row.names = c(NA, -1L)
    )

    resultado &lt;- epe4md_calcula(premissas_reg = premissas_regulatorias,
                                ano_base = 2021,
                                sequencial = FALSE,
                                filtro_de_uf = "RR",
                                filtro_de_segmento = "comercial_at",
                                filtro_de_custo_unitario_max = 6,
                                ano_max_resultado = 2021)
  
</code></pre>

<hr>
<h2 id='epe4md_calibra_curva_s'>Calibra o modelo de Bass com dados históricos e gera curvas S de adoção.</h2><span id='topic+epe4md_calibra_curva_s'></span>

<h3>Description</h3>

<p>Calibra o modelo de Bass com dados históricos e gera curvas S de adoção.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_calibra_curva_s(
  resultado_payback,
  consumidores,
  ano_base,
  ano_max_resultado = 2050,
  spb = 0.3,
  p_max = 0.01,
  q_max = 1,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_calibra_curva_s_+3A_resultado_payback">resultado_payback</code></td>
<td>
<p>data.frame. Resultado da função
<a href="#topic+epe4md_payback">epe4md_payback</a>.</p>
</td></tr>
<tr><td><code id="epe4md_calibra_curva_s_+3A_consumidores">consumidores</code></td>
<td>
<p>list. Resultado da função
<a href="#topic+epe4md_mercado_potencial">epe4md_mercado_potencial</a>.</p>
</td></tr>
<tr><td><code id="epe4md_calibra_curva_s_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_calibra_curva_s_+3A_ano_max_resultado">ano_max_resultado</code></td>
<td>
<p>numeric. Ano final para apresentação dos resultados.
Máximo igual a 2050. Default igual a 2050.</p>
</td></tr>
<tr><td><code id="epe4md_calibra_curva_s_+3A_spb">spb</code></td>
<td>
<p>numeric. Fator de Sensibilidade ao Payback (SPB). Default igual a
0.3.</p>
</td></tr>
<tr><td><code id="epe4md_calibra_curva_s_+3A_p_max">p_max</code></td>
<td>
<p>numeric. Fator de inovação (p) máximo. Default igual a 0.01.</p>
</td></tr>
<tr><td><code id="epe4md_calibra_curva_s_+3A_q_max">q_max</code></td>
<td>
<p>numeric. Fator de imitação (q) máximo. Default igual a 1.</p>
</td></tr>
<tr><td><code id="epe4md_calibra_curva_s_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas. Se esse
parâmetro não for passado, a função usa os dados default que são instalados
com o pacote. É importante que os nomes dos arquivos sejam os mesmos da
pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame com curvas de difusão e mercado potencial
</p>


<h3>Examples</h3>

<pre><code class='language-R'>resultado_payback &lt;- structure(
  list(segmento = c("comercial_at", "comercial_at", "comercial_at",
                    "comercial_at", "comercial_at"),
       fonte_resumo = c("Fotovoltaica", "Fotovoltaica", "Fotovoltaica",
                        "Fotovoltaica", "Fotovoltaica"),
       fator_autoconsumo = c(0.8, 0.8, 0.8, 0.8, 0.8),
       oem_anual = c(0.01, 0.01, 0.01, 0.01, 0.01),
       nome_4md = c("RORAIMA", "RORAIMA", "RORAIMA", "RORAIMA", "RORAIMA"),
       fc = c(0.150559213009562, 0.150559213009562, 0.150559213009562,
              0.150559213009562, 0.150559213009562),
       vida_util = c(25, 25, 25, 25, 25),
       degradacao = c(0.005, 0.005, 0.005, 0.005, 0.005),
       pot_sistemas = c(70, 70, 70, 70, 70),
       geracao_1_kwh = c(92322.9094174635, 92322.9094174635,
                         92322.9094174635, 92322.9094174635,
                         92322.9094174635),
       ano = c(2017, 2018, 2019, 2020, 2021),
       custo_unitario = c(4.6, 4.23, 3.4, 3.62, 3.81),
       custo_inversor = c(0.69, 0.6345, 0.51, 0.543, 0.5715),
       capex_inicial = c(322000, 296100, 238000, 253400, 266700),
       capex_inversor = c(69795.6224290695, 64181.6267119487,
                          51588.0687519209, 54926.1202593981,
                          57808.9829249466),
       uf = c("RR", "RR", "RR", "RR", "RR"),
       subsistema = c("MAN", "MAN", "MAN", "MAN", "MAN"),
       regiao = c("N", "N", "N", "N", "N"),
       payback = c(9.8778051007831, 6.84888025046529, 5.42743545180765,
                   6.58428138751385, 6.57787077623868),
       payback_desc = c(25, 12.9151902647661, 7.76175962915069,
                        11.9207871041042, 11.8969973448089),
       tir_nominal = c(0.117295199807788, 0.177811894010469,
                       0.237962995155112, 0.186855919654218,
                       0.1870853811094),
       tir_real = c(0.0769110359593141, 0.135240379769127,
                    0.193217344727818, 0.143957512919728,
                    0.144178680587373)),
  class = c("tbl_df", "tbl", "data.frame"),
  row.names = c(NA, -5L)
)

consumidores &lt;- list(
  consumidores = structure(
    list(nome_4md = c("RORAIMA", "RORAIMA", "RORAIMA", "RORAIMA", "RORAIMA"),
         ano = c(2017, 2018, 2019, 2020, 2021),
         segmento = c("comercial_at", "comercial_at", "comercial_at",
                      "comercial_at", "comercial_at"),
         consumidores = c(656, 678, 751, 764, 791)),
    row.names = c(NA, -5L),
    class = c("tbl_df", "tbl", "data.frame")),
  consumidores_totais = structure(
    list(ano = c(2017, 2018, 2019, 2020, 2021),
         total_ucs = c(187922, 187853, 184276, 182048, 181394),
         segmento = c("comercial_at", "comercial_at", "comercial_at",
                      "comercial_at", "comercial_at")),
    row.names = c(NA, -5L),
    class = c("tbl_df", "tbl", "data.frame"))
  )

casos_otimizados &lt;-
  epe4md_calibra_curva_s(resultado_payback = resultado_payback,
                         consumidores = consumidores,
                         ano_base = 2021,
                         ano_max_resultado = 2050,
                         spb = 0.3,
                         p_max = 0.01,
                         q_max = 1,
                         dir_dados_premissas = NA_character_
  )
</code></pre>

<hr>
<h2 id='epe4md_casos_payback'>Cria a base de casos para serem simulados posteriormente no cálculo do
payback.</h2><span id='topic+epe4md_casos_payback'></span>

<h3>Description</h3>

<p>Cria a base de casos para serem simulados posteriormente no cálculo do
payback.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_casos_payback(
  ano_base,
  ano_max_resultado = 2050,
  inflacao = 0.0375,
  ano_troca_inversor = 11,
  fator_custo_inversor = 0.15,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_casos_payback_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_casos_payback_+3A_ano_max_resultado">ano_max_resultado</code></td>
<td>
<p>numeric. Ano final para apresentação dos resultados.
Máximo igual a 2050. Default igual a 2050.</p>
</td></tr>
<tr><td><code id="epe4md_casos_payback_+3A_inflacao">inflacao</code></td>
<td>
<p>numeric. Taxa de inflacão considerada no reajuste das tarifas
e para calcular o retorno real de projetos.</p>
</td></tr>
<tr><td><code id="epe4md_casos_payback_+3A_ano_troca_inversor">ano_troca_inversor</code></td>
<td>
<p>numeric. Ano, a partir do ano de instalação, em que
é realizada a troca do inversor fotovoltaico. Default igual a 11.</p>
</td></tr>
<tr><td><code id="epe4md_casos_payback_+3A_fator_custo_inversor">fator_custo_inversor</code></td>
<td>
<p>numeric. Custo do inversor para a substituição em
percentual do CAPEX total do sistema de geração. Default igual a 0.15.</p>
</td></tr>
<tr><td><code id="epe4md_casos_payback_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas. Se esse
parâmetro não for passado, a função usa os dados default que são instalados
com o pacote. É importante que os nomes dos arquivos sejam os mesmos da
pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame. Casos para serem simulados posteriormente no cálculo do
payback.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
casos_payback &lt;-
  epe4md_casos_payback(
    ano_base = 2021,
    ano_max_resultado = 2050,
    inflacao = 0.0375,
    ano_troca_inversor = 11,
    fator_custo_inversor = 0.15,
    dir_dados_premissas = NA_character_
)
</code></pre>

<hr>
<h2 id='epe4md_fatores_publicacao'>Altera fatores para facilitar entendimento em publicações</h2><span id='topic+epe4md_fatores_publicacao'></span>

<h3>Description</h3>

<p>Altera fatores para facilitar entendimento em publicações
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_fatores_publicacao(dados)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_fatores_publicacao_+3A_dados">dados</code></td>
<td>
<p>data.frame. Base de dados para ser alterada.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame com nomes dos segmentos alterados.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- tibble::tibble(
  fonte_resumo = c("comercial_bt",
                   "comercial_at_remoto",
                   "comercial_at",
                   "residencial_remoto",
                   "residencial")
)

fatores &lt;- epe4md_fatores_publicacao(dados)
</code></pre>

<hr>
<h2 id='epe4md_graf_geracao_ano'>Gráfico da geração anual em MWmed</h2><span id='topic+epe4md_graf_geracao_ano'></span>

<h3>Description</h3>

<p>Gráfico de área que mostra a geração de energia em MWmed agrupada por ano.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_geracao_ano(
  dados,
  ano_inicio = 2013,
  cor = "#953735",
  tamanho = 14
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_geracao_ano_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_geracao_ano_+3A_ano_inicio">ano_inicio</code></td>
<td>
<p>numeric. Define o ano em que se inicia o eixo x. Default igual a 2013.</p>
</td></tr>
<tr><td><code id="epe4md_graf_geracao_ano_+3A_cor">cor</code></td>
<td>
<p>string. Escolha da cor do gráfico. Default igual a Vermelho.</p>
</td></tr>
<tr><td><code id="epe4md_graf_geracao_ano_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera o tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico de área que mostra a geração de energia em MWmed agrupada por ano.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(data = structure(c(17928, 20485, 19997), class = "Date"),
       ano = c(2019, 2026, 2024),
       mes = c(2, 2, 10),
       nome_4md = c("EDP ES", "EQUATORIAL AL", "EFLJC"),
       subsistema = c("SE", "NE", "S"),
       uf = c("ES", "AL", "SC"),
       segmento = c("comercial_at", "comercial_at_remoto", "residencial"),
       fonte_resumo = c("Termelétrica", "Termelétrica", "Fotovoltaica"),
       energia_mwh = c(103.488, 624.740392156863, 41.7707091331081),
       energia_autoc_mwh = c(51.744, 0, 16.7082836532433),
       energia_inj_mwh = c(51.744, 624.740392156863, 25.0624254798649),
       energia_mwmed = c(Feb = 0.154, Feb = 0.929673202614379, Oct = 0.0561434262541776),
       pot_mes_mw = c(0, 0, 0.0118333352680657),
       adotantes_mes = c(0, 0, 3),
       p = c(0.000329161453402278, 0.000197086794290392, 0.00025238142355137),
       q = c(1, 1, 0.676434758626127),
       regiao = c("SE", "NE", "S")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

graf_geracao_ano &lt;- epe4md_graf_geracao_ano(
  dados = dados,
  ano_inicio = 2021,
  cor = "#953735",
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_geracao_mes'>Gráfico da geração mensal em MWmed</h2><span id='topic+epe4md_graf_geracao_mes'></span>

<h3>Description</h3>

<p>Gráfico de área que mostra a soma da geração de energia em MWmed agrupada por mês.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_geracao_mes(
  dados,
  ano_inicio = 2013,
  cor = "#953735",
  tamanho = 14
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_geracao_mes_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_geracao_mes_+3A_ano_inicio">ano_inicio</code></td>
<td>
<p>numeric. Define o ano em que se inicia o eixo x. Default igual a 2013.</p>
</td></tr>
<tr><td><code id="epe4md_graf_geracao_mes_+3A_cor">cor</code></td>
<td>
<p>string. Escolha da cor do gráfico. Default igual a Vermelho.</p>
</td></tr>
<tr><td><code id="epe4md_graf_geracao_mes_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera o tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico de área que mostra a soma da geração de energia em MWmed agrupada por mês.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(data = structure(c(17928, 20485, 19997), class = "Date"),
       ano = c(2019, 2026, 2024),
       mes = c(2, 2, 10),
       nome_4md = c("EDP ES", "EQUATORIAL AL", "EFLJC"),
       subsistema = c("SE", "NE", "S"),
       uf = c("ES", "AL", "SC"),
       segmento = c("comercial_at", "comercial_at_remoto", "residencial"),
       fonte_resumo = c("Termelétrica", "Termelétrica", "Fotovoltaica"),
       energia_mwh = c(103.488, 624.740392156863, 41.7707091331081),
       energia_autoc_mwh = c(51.744, 0, 16.7082836532433),
       energia_inj_mwh = c(51.744, 624.740392156863, 25.0624254798649),
       energia_mwmed = c(Feb = 0.154, Feb = 0.929673202614379, Oct = 0.0561434262541776),
       pot_mes_mw = c(0, 0, 0.0118333352680657),
       adotantes_mes = c(0, 0, 3),
       p = c(0.000329161453402278, 0.000197086794290392, 0.00025238142355137),
       q = c(1, 1, 0.676434758626127),
       regiao = c("SE", "NE", "S")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

graf_geracao_mes &lt;- epe4md_graf_geracao_mes(
  dados = dados,
  ano_inicio = 2021,
  cor = "#953735",
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_part_fonte_geracao'>Gráfico da participação de cada tecnologia na geração de energia</h2><span id='topic+epe4md_graf_part_fonte_geracao'></span>

<h3>Description</h3>

<p>Gráfico de barras que mostra a participação de cada fonte ('Fotovoltaica', 'Termelétrica', 'Hidro', 'Eólica')
na geração de energia somente no parâmetro <code>ano_max_resultado</code> passado na função <code>epe4md::epe4md_calcula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_part_fonte_geracao(dados, cor = "#953735", tamanho = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_part_fonte_geracao_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_part_fonte_geracao_+3A_cor">cor</code></td>
<td>
<p>string. Escolha da cor do gráfico. Default igual a Vermelho.</p>
</td></tr>
<tr><td><code id="epe4md_graf_part_fonte_geracao_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera o tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plota um gráfico de barras que mostra a participação de cada fonte ('Fotovoltaica', 'Termelétrica', 'Hidro', 'Eólica')
na geração de energia somente no parâmetro <code>ano_max_resultado</code> passado na função <code>epe4md::epe4md_calcula</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(data = structure(c(17928, 20485, 19997), class = "Date"),
       ano = c(2019, 2026, 2024),
       mes = c(2, 2, 10),
       nome_4md = c("EDP ES", "EQUATORIAL AL", "EFLJC"),
       subsistema = c("SE", "NE", "S"),
       uf = c("ES", "AL", "SC"),
       segmento = c("comercial_at", "comercial_at_remoto", "residencial"),
       fonte_resumo = c("Termelétrica", "Termelétrica", "Fotovoltaica"),
       energia_mwh = c(103.488, 624.740392156863, 41.7707091331081),
       energia_autoc_mwh = c(51.744, 0, 16.7082836532433),
       energia_inj_mwh = c(51.744, 624.740392156863, 25.0624254798649),
       energia_mwmed = c(Feb = 0.154, Feb = 0.929673202614379, Oct = 0.0561434262541776),
       pot_mes_mw = c(0, 0, 0.0118333352680657),
       adotantes_mes = c(0, 0, 3),
       p = c(0.000329161453402278, 0.000197086794290392, 0.00025238142355137),
       q = c(1, 1, 0.676434758626127),
       regiao = c("SE", "NE", "S")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

graf_part_fonte_geracao &lt;- epe4md_graf_part_fonte_geracao(
  dados = dados,
  cor = "#953735",
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_part_fonte_potencia'>Gráfico da participação de capacidade por fonte</h2><span id='topic+epe4md_graf_part_fonte_potencia'></span>

<h3>Description</h3>

<p>Gráfico de barras que mostra a participação de cada fonte ('Fotovoltaica', 'Termelétrica', 'Hidro' e 'Eólica')
na capacidade instalada.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_part_fonte_potencia(
  dados,
  cor = "#112446",
  tamanho = 14
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_part_fonte_potencia_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_part_fonte_potencia_+3A_cor">cor</code></td>
<td>
<p>string. Escolha da cor do gráfico.</p>
</td></tr>
<tr><td><code id="epe4md_graf_part_fonte_potencia_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera o tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico de barras que mostra a participação de cada fonte ('Fotovoltaica', 'Termelétrica', 'Hidro' e 'Eólica')
na capacidade instalada.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(data = structure(c(17928, 20485, 19997), class = "Date"),
       ano = c(2019, 2026, 2024),
       mes = c(2, 2, 10),
       nome_4md = c("EDP ES", "EQUATORIAL AL", "EFLJC"),
       subsistema = c("SE", "NE", "S"),
       uf = c("ES", "AL", "SC"),
       segmento = c("comercial_at", "comercial_at_remoto", "residencial"),
       fonte_resumo = c("Termelétrica", "Termelétrica", "Fotovoltaica"),
       energia_mwh = c(103.488, 624.740392156863, 41.7707091331081),
       energia_autoc_mwh = c(51.744, 0, 16.7082836532433),
       energia_inj_mwh = c(51.744, 624.740392156863, 25.0624254798649),
       energia_mwmed = c(Feb = 0.154, Feb = 0.929673202614379, Oct = 0.0561434262541776),
       pot_mes_mw = c(0, 0, 0.0118333352680657),
       adotantes_mes = c(0, 0, 3),
       p = c(0.000329161453402278, 0.000197086794290392, 0.00025238142355137),
       q = c(1, 1, 0.676434758626127),
       regiao = c("SE", "NE", "S")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

graf_part_fonte_potencia &lt;- epe4md_graf_part_fonte_potencia(
  dados = dados,
  cor = "#112446",
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_part_segmento'>Gráfico da evolução da participação por segmento</h2><span id='topic+epe4md_graf_part_segmento'></span>

<h3>Description</h3>

<p>Gráfico de colunas que mostra a participação de cada segmento 'Comercial (AT)', 'Comercial(BT)', 'Comercial Remoto (AT/BT)', Residencial' e 'Residencial Remoto' na geração de energia em cada ano.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_part_segmento(dados, ano_inicio = 2013, tamanho = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_part_segmento_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_part_segmento_+3A_ano_inicio">ano_inicio</code></td>
<td>
<p>numeric. Define o ano em que se inicia o eixo x. Default igual a 2013.</p>
</td></tr>
<tr><td><code id="epe4md_graf_part_segmento_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera o tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico de colunas que mostra a participação de cada segmento 'Comercial (AT)', 'Comercial(BT)', 'Comercial Remoto (AT/BT)', Residencial' e 'Residencial Remoto' na geração de energia em cada ano.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(
    data = structure(c(18932, 17956, 18201), class = "Date"),
    ano = c(2021, 2019, 2019),
    mes = c(11, 3, 11),
    nome_4md = c("RORAIMA", "RORAIMA", "RORAIMA"),
    subsistema = c("MAN", "MAN", "MAN"),
    uf = c("RR", "RR", "RR"),
    segmento = c("comercial_at", "comercial_at", "comercial_at"),
    fonte_resumo = c("Fotovoltaica", "Fotovoltaica", "Fotovoltaica"),
    energia_mwh = c(627.959044043851, 42.0777734281515, 42.5086240693568),
    energia_autoc_mwh = c(502.36723523508, 33.6622187425212, 34.0068992554854),
    energia_inj_mwh = c(125.59180880877, 8.41555468563031, 8.50172481387135),
    energia_mwmed = c(Nov = 0.872165338949792, Mar = 0.0565561470808488,
                      Nov = 0.0590397556518844),
    pot_mes_mw = c(0.01199, 0, 0),
    adotantes_mes = c(1, 0, 0),
    p = c(0.000122298434419402, 0.000122298434419402, 0.000122298434419402),
    q = c(1, 1, 1),
    regiao = c("N", "N", "N")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
  )

graf_part_segmento &lt;- epe4md_graf_part_segmento(
  dados = dados,
  ano_inicio = 2021,
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_pot_acum'>Gráfico da capacidade instalada acumulada</h2><span id='topic+epe4md_graf_pot_acum'></span>

<h3>Description</h3>

<p>Mostra a soma acumulada das potências entre os parâmetros <code>ano_inicio</code> e <code>ano_max_resultado</code>
passado na função <code>epe4md::epe4md_calcula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_pot_acum(dados, ano_inicio = 2013, cor = "#13475d", tamanho = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_pot_acum_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_acum_+3A_ano_inicio">ano_inicio</code></td>
<td>
<p>numeric. Define o ano em que se inicia o eixo x. Default igual a 2013.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_acum_+3A_cor">cor</code></td>
<td>
<p>string. Escolha da cor do gráfico. Default igual a Azul Escuro.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_acum_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera o tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico que mostra a soma acumulada das potências entre os parâmetros <code>ano_inicio</code> e <code>ano_max_resultado</code>
passado na função <code>epe4md::epe4md_calcula</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
    list(data = structure(c(17928, 20485, 19997), class = "Date"),
         ano = c(2019, 2026, 2024),
         mes = c(2, 2, 10),
         nome_4md = c("EDP ES", "EQUATORIAL AL", "EFLJC"),
         subsistema = c("SE", "NE", "S"),
         uf = c("ES", "AL", "SC"),
         segmento = c("comercial_at", "comercial_at_remoto", "residencial"),
         fonte_resumo = c("Termelétrica", "Termelétrica", "Fotovoltaica"),
         energia_mwh = c(103.488, 624.740392156863, 41.7707091331081),
         energia_autoc_mwh = c(51.744, 0, 16.7082836532433),
         energia_inj_mwh = c(51.744, 624.740392156863, 25.0624254798649),
         energia_mwmed = c(Feb = 0.154, Feb = 0.929673202614379, Oct = 0.0561434262541776),
         pot_mes_mw = c(0, 0, 0.0118333352680657),
         adotantes_mes = c(0, 0, 3),
         p = c(0.000329161453402278, 0.000197086794290392, 0.00025238142355137),
         q = c(1, 1, 0.676434758626127),
         regiao = c("SE", "NE", "S")),
    row.names = c(NA, -3L),
    class = c("tbl_df", "tbl", "data.frame")
)

graf_pot_acum &lt;- epe4md_graf_pot_acum(
  dados = dados,
  ano_inicio = 2021,
  cor = "#13475d",
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_pot_anual'>Gráfico da capacidade instalada anual</h2><span id='topic+epe4md_graf_pot_anual'></span>

<h3>Description</h3>

<p>Gráfico de colunas que mostra a soma simples da potência em cada ano, entre os parâmetros <code>ano_inicio</code> e
<code>ano_max_resultado</code> passado na função <code>epe4md::epe4md_calcula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_pot_anual(dados, ano_inicio = 2013, cor = "#13475d", tamanho = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_pot_anual_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_anual_+3A_ano_inicio">ano_inicio</code></td>
<td>
<p>numeric. Define o ano em que se inicia o eixo x. Default igual a 2013.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_anual_+3A_cor">cor</code></td>
<td>
<p>string. Escolha da cor do gráfico. Default igual a Azul Escuro.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_anual_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera o tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico de colunas que mostra a soma simples da potência em cada ano, entre os parâmetros <code>ano_inicio</code> e
<code>ano_max_resultado</code> passado na função <code>epe4md::epe4md_calcula</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(data = structure(c(17928, 20485, 19997), class = "Date"),
       ano = c(2019, 2026, 2024),
       mes = c(2, 2, 10),
       nome_4md = c("EDP ES", "EQUATORIAL AL", "EFLJC"),
       subsistema = c("SE", "NE", "S"),
       uf = c("ES", "AL", "SC"),
       segmento = c("comercial_at", "comercial_at_remoto", "residencial"),
       fonte_resumo = c("Termelétrica", "Termelétrica", "Fotovoltaica"),
       energia_mwh = c(103.488, 624.740392156863, 41.7707091331081),
       energia_autoc_mwh = c(51.744, 0, 16.7082836532433),
       energia_inj_mwh = c(51.744, 624.740392156863, 25.0624254798649),
       energia_mwmed = c(Feb = 0.154, Feb = 0.929673202614379, Oct = 0.0561434262541776),
       pot_mes_mw = c(0, 0, 0.0118333352680657),
       adotantes_mes = c(0, 0, 3),
       p = c(0.000329161453402278, 0.000197086794290392, 0.00025238142355137),
       q = c(1, 1, 0.676434758626127),
       regiao = c("SE", "NE", "S")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

graf_pot_anual &lt;- epe4md_graf_pot_anual(
  dados = dados,
  ano_inicio = 2021,
  cor = "#13475d",
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_pot_regiao'>Gráfico da capacidade instalada acumulada por região</h2><span id='topic+epe4md_graf_pot_regiao'></span>

<h3>Description</h3>

<p>Gráfico da capacidade instalada acumulada por região.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_pot_regiao(dados, ano_inicio = 2013, tamanho = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_pot_regiao_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_regiao_+3A_ano_inicio">ano_inicio</code></td>
<td>
<p>numeric. Define o ano em que se inicia o eixo x. Default igual a 2013.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_regiao_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico da capacidade instalada acumulada por região.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(
    data = structure(c(16587, 16953, 17348), class = "Date"),
    ano = c(2015, 2016, 2017),
    mes = c(6, 6, 7),
    nome_4md = c("EQUATORIAL PA", "AME", "AME"),
    subsistema = c("N", "MAN", "MAN"),
    uf = c("PA", "AM", "AM"),
    segmento = c("comercial_at", "comercial_at", "residencial"),
    fonte_resumo = c("Fotovoltaica", "Fotovoltaica", "Fotovoltaica"),
    energia_mwh = c(2.91887385534686, 1.47730302655558, 6.59899395709866),
    energia_autoc_mwh = c(2.33509908427749, 1.18184242124447, 2.63959758283946),
    energia_inj_mwh = c(0.583774771069372, 0.295460605311116, 3.9593963742592),
    energia_mwmed = c(Jun = 0.00405399146575953, Jun = 0.00205180975910497,
                      Jul = 0.00886961553373476),
    pot_mes_mw = c(0, 0, 0),
    adotantes_mes = c(0, 0, 0),
    p = c(0.000218228349678747, 0.000336532886429228, 0.000109941017035186),
    q = c(1, 0.677467408094237, 0.68352139010882),
    regiao = c("N", "N", "N")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

graf_pot_regiao &lt;- epe4md_graf_pot_regiao(
  dados = dados,
  ano_inicio = 2013,
  tamanho = 14
)
</code></pre>

<hr>
<h2 id='epe4md_graf_pot_segmento'>Gráfico da capacidade instalada acumulada por segmento</h2><span id='topic+epe4md_graf_pot_segmento'></span>

<h3>Description</h3>

<p>Mostra a soma acumulada da potência entre o intervalo de anos solicitado, agrupada entre os segmentos : ' Comercial (AT) ',
Comercial (BT) ', ' Comercial Remoto (AT/BT) ', ' Residencial ' e ' Residencial Remoto '.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_graf_pot_segmento(dados, ano_inicio = 2013, tamanho = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_graf_pot_segmento_+3A_dados">dados</code></td>
<td>
<p>data.frame. Resultados mensais de potência e energia.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_segmento_+3A_ano_inicio">ano_inicio</code></td>
<td>
<p>numeric. Define o ano em que se inicia o eixo x. Default igual a 2013.</p>
</td></tr>
<tr><td><code id="epe4md_graf_pot_segmento_+3A_tamanho">tamanho</code></td>
<td>
<p>numeric. Altera tamanho da fonte da legenda. Default igual a 14.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plota um gráfico que mostra a soma acumulada da potência entre o intervalo de anos solicitado, agrupada entre os segmentos : ' Comercial (AT) ', Comercial (BT) ', ' Comercial Remoto (AT/BT) ', ' Residencial ' e ' Residencial Remoto '.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dados &lt;- structure(
  list(data = structure(c(16953, 17167, 17532), class = "Date"),
       ano = c(2016, 2017, 2018),
       mes = c(6, 1, 1),
       nome_4md = c("RORAIMA", "RORAIMA", "RORAIMA"),
       subsistema = c("MAN", "MAN", "MAN"),
       uf = c("RR", "RR", "RR"),
       segmento = c("residencial", "residencial", "comercial_at"),
       fonte_resumo = c("Fotovoltaica", "Fotovoltaica", "Fotovoltaica"),
       energia_mwh = c(0.14901698211027, 0.31989258307487, 21.4846247221392),
       energia_autoc_mwh = c(0.0596067928441078, 0.127957033229948,
                             17.1876997777114),
       energia_inj_mwh = c(0.0894101892661617, 0.191935549844922,
                           4.29692494442784),
       energia_mwmed = c(Jun = 0.000206968030708708, Jan = 0.00042996314929418,
                         Jan = 0.0288771837663161),
       pot_mes_mw = c(0.00297, 0, 0),
       adotantes_mes = c(1, 0, 0),
       p = c(1e-04, 1e-04, 0.000122345127598721),
       q = c(0.779421829099793, 0.779421829099793, 1),
       regiao = c("N", "N", "N")),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

graf_pot_segmento &lt;- epe4md_graf_pot_segmento(
  dados = dados,
  ano_inicio = 2013,
  tamanho = 14
)

</code></pre>

<hr>
<h2 id='epe4md_investimentos'>Calcula o montante investido</h2><span id='topic+epe4md_investimentos'></span>

<h3>Description</h3>

<p>Calcula o montante investido
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_investimentos(
  resultados_mensais,
  ano_base,
  ano_max_resultado = 2050,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_investimentos_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_investimentos_+3A_ano_max_resultado">ano_max_resultado</code></td>
<td>
<p>numeric. Ano final para apresentação dos resultados.
Máximo igual a 2050. Default igual a 2050.</p>
</td></tr>
<tr><td><code id="epe4md_investimentos_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas.
Se esse parâmetro não for passado, a função usa os dados default que são
instalados com o pacote. É importante que os nomes dos arquivos sejam os
mesmos da pasta default.</p>
</td></tr>
<tr><td><code id="epe4md_investimentos_+3A_resultados_mensais">resultados_mensais</code></td>
<td>
<p>Resultado da função <a href="#topic+epe4md_calcula">epe4md_calcula</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame com o montante estimado de investimentos relativos à
expansão da capacidade instalada de micro e minigeração distribuída.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
resultados_mensais &lt;- tibble::tibble(
    data = c('2021-01-01', '2021-01-01', '2021-01-01'),
    ano = 2021,
    nome_4md = c("ENEL RJ", "ENF", "LIGHT"),
    subsistema = "SE",
    uf = "RJ",
    segmento = "comercial_at",
    fonte_resumo = "Fotovoltaica",
    energica_mwh = c(2019.6225, 69.06433, 2303.18754),
    energica_autoc_mwh = c(1615.698, 55.25146, 1842.55003),
    energia_inj_mwh = c(403.92450, 13.81287, 460.63751),
    energia_mwmed = c(2.714546380, 0.092828390, 3.095682180),
    pot_mes_mw = c(1.5275, 0.0000, 3.09568218),
    adotantes_mes = c(21, 0, 4),
    p = c(0.00027826110, 0.00060785180, 0.00137570060),
    q = c(1.0000000, 1.0000000, 0.5282319)
)

investimentos &lt;- epe4md_investimentos(
  resultados_mensais = resultados_mensais,
  ano_base = 2021,
  ano_max_resultado = 2050,
  dir_dados_premissas = NA_character_
)
</code></pre>

<hr>
<h2 id='epe4md_mercado_potencial'>Cria a base do mercado potencial inicial para a adoção.</h2><span id='topic+epe4md_mercado_potencial'></span>

<h3>Description</h3>

<p>Cria a base do mercado potencial inicial para a adoção.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_mercado_potencial(
  ano_base,
  filtro_renda_domicilio = "maior_3sm",
  filtro_comercial = NA,
  tx_cresc_grupo_a = 0.016,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_mercado_potencial_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_mercado_potencial_+3A_filtro_renda_domicilio">filtro_renda_domicilio</code></td>
<td>
<p>string. Define o filtro aplicado a consumidores
residenciais, de acordo com a renda mensal do responsável, em salários
mínimos. Permite: &quot;total&quot;, &quot;maior_1sm, maior_2sm&quot;, &quot;maior_3sm&quot; ou
&quot;maior_5sm&quot;. Default igual a &quot;maior_3sm&quot;.</p>
</td></tr>
<tr><td><code id="epe4md_mercado_potencial_+3A_filtro_comercial">filtro_comercial</code></td>
<td>
<p>numeric. Fator percentual para definir o nicho do
segmento comercial. Default é calculado pelo modelo com base no nicho
residencial.</p>
</td></tr>
<tr><td><code id="epe4md_mercado_potencial_+3A_tx_cresc_grupo_a">tx_cresc_grupo_a</code></td>
<td>
<p>numeric. Taxa de crescimento anual dos consumidores
cativos do Grupo A. Default igual a 0.016 representa crescimento
entre 2006 e 2019.</p>
</td></tr>
<tr><td><code id="epe4md_mercado_potencial_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas. Se esse
parâmetro não for passado, a função usa os dados default que são instalados
com o pacote. É importante que os nomes dos arquivos sejam os mesmos da pasta
default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list com dois data.frames. &quot;consumidores&quot; possui o mercado
potencial inicial. &quot;consumidores_totais&quot; possui dados de mercado total.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mercado_potencial &lt;- epe4md_mercado_potencial(
  ano_base = 2021,
  filtro_renda_domicilio = "maior_3sm",
  filtro_comercial = NA,
  tx_cresc_grupo_a = 0.016,
  dir_dados_premissas = NA_character_
)
</code></pre>

<hr>
<h2 id='epe4md_payback'>Roda um fluxo de caixa para cada caso e retorna métricas financeiras.</h2><span id='topic+epe4md_payback'></span>

<h3>Description</h3>

<p>Roda um fluxo de caixa para cada caso e retorna métricas financeiras.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_payback(
  casos_payback,
  premissas_reg,
  ano_base,
  sequencial,
  filtro_de_uf,
  filtro_de_segmento,
  filtro_de_custo_unitario_max,
  altera_sistemas_existentes = TRUE,
  ano_decisao_alteracao = 2023,
  inflacao = 0.0375,
  taxa_desconto_nominal = 0.13,
  custo_reforco_rede = 200,
  ano_troca_inversor = 11,
  pagamento_disponibilidade = 0.3,
  disponibilidade_kwh_mes = 100,
  desconto_capex_local = 0,
  anos_desconto = 0,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_payback_+3A_casos_payback">casos_payback</code></td>
<td>
<p>data.frame. Base gerada pela função
<a href="#topic+epe4md_casos_payback">epe4md_casos_payback</a></p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_premissas_reg">premissas_reg</code></td>
<td>
<p>data.frame. Input de premissas regulatórias para serem
consideradas nos cálculos.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_sequencial">sequencial</code></td>
<td>
<p>logic. Parâmetro que define se a projeção deve ser
realizada de forma sequencial ou paralela. Para executar a projeção de forma
sequencial defina o parâmetro como TRUE. Para executar a projeção de forma
paralela, defina o parâmetro como FALSE.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_filtro_de_uf">filtro_de_uf</code></td>
<td>
<p>string. Parâmetro que define uma unidade federativa (UF) a
ser filtrada. Caso uma UF não seja indicada ou seja informado um valor inválido,
o resultado será apresentado sem filtros.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_filtro_de_segmento">filtro_de_segmento</code></td>
<td>
<p>string. Parâmetro que define um segmento a ser
filtrado. Pode se escolher entre &quot;comercial_at&quot;, &quot;comercial_at_remoto&quot;,
&quot;comercial_bt&quot;, &quot;residencial&quot; e &quot;residencial_remoto&quot;.  Caso não seja
informado um valor ou seja informado um valor inválido o resultado será
apresentado sem filtro.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_filtro_de_custo_unitario_max">filtro_de_custo_unitario_max</code></td>
<td>
<p>numeric. Parâmetro que define o valor
máximo do custo unitário para ser utilizado no cálculo do payback. Default
igual a NULL.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_altera_sistemas_existentes">altera_sistemas_existentes</code></td>
<td>
<p>logic. TRUE se alterações regulatórias
afetam investimentos realizados em anos anteriores à revisão da regulação.
Default igual a FALSE.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_ano_decisao_alteracao">ano_decisao_alteracao</code></td>
<td>
<p>numeric. Ano em que são definidas novas regras e
se tornam de conhecimento público. Esse parâmetro só tem efeito caso o
anterior seja igual a TRUE. Default igual a 2021.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_inflacao">inflacao</code></td>
<td>
<p>mumeric. Taxa anual de inflacao considerada no reajuste das
tarifas e para calcular o retorno real de projetos. Default igual a 0.0375.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_taxa_desconto_nominal">taxa_desconto_nominal</code></td>
<td>
<p>numeric. Taxa de desconto nominal considerada
nos cálculos de payback descontado. Default igual a 0.13.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_custo_reforco_rede">custo_reforco_rede</code></td>
<td>
<p>numeric. Custo em R$/kW aplicado a projetos de
geracao remota em Alta Tensão. Representa um custo pago pelo empreendedor
para reforços na rede. Default igual a 200.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_ano_troca_inversor">ano_troca_inversor</code></td>
<td>
<p>numeric. Ano, a partir do ano de instalação, em que
é realizada a troca do inversor fotovoltaico. Default igual a 11.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_pagamento_disponibilidade">pagamento_disponibilidade</code></td>
<td>
<p>numeric. Percentual de meses em que o
consumidor residencial paga custo de disponbilidade em função da
variabilidade da geração FV. Default igual a 0.3. Tem efeito somente até o
ano de 2022.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_disponibilidade_kwh_mes">disponibilidade_kwh_mes</code></td>
<td>
<p>numeric. Consumo de disponbilidade do
consumidor em kWh/mês. Default igual a 100, equivalente a um consumidor
trifásico. Tem efeito somente até o ano de 2022.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_desconto_capex_local">desconto_capex_local</code></td>
<td>
<p>numeric. Percentual de desconto a ser aplicado no
CAPEX de sistemas de geração local(ex: 0.1) para simulação de incentivos.
Default igual a 0.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_anos_desconto">anos_desconto</code></td>
<td>
<p>vector. Anos em que há a incidência do desconto no
CAPEX. Default igual a 0.</p>
</td></tr>
<tr><td><code id="epe4md_payback_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas. Se esse
parâmetro não for passado, a função usa os dados default que são instalados
com o pacote. É importante que os nomes dos arquivos sejam os mesmos da
pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame. Métricas financeiras para cada caso.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
casos_payback &lt;- tibble::tibble(
  segmento = "comercial_at",
  fonte_resumo = "Fotovoltaica",
  fator_autoconsumo = 0.8,
  oem_anual = 0.01,
  nome_4md = c("OUTRA", "RGE", "RORAIMA", "SULGIPE", "UHENPAL"),
  fc = c(0.1633388, 0.1513311, 0.1505592, 0.1649651, 0.1481121),
  vida_util = 25,
  degradacao = 0.005,
  pot_sistemas = 70,
  geracao_1_kwh = c(100159.36, 92796.22, 92322.91, 101156.62, 90822.36),
  ano = 2021,
  custo_unitario = 3.81,
  custo_inversor = 0.5715,
  capex_inicial = 266700,
  capex_inversor = 57808.98
)

premissas_regulatorias &lt;- tibble::tibble(
  ano = 2021,
  alternativa = 0,
  p_transicao = 1.00,
  binomia = FALSE,
  demanda_g = FALSE
)

payback &lt;- epe4md_payback(
  casos_payback = casos_payback,
  premissas_reg = premissas_regulatorias,
  ano_base = 2021,
  sequencial = TRUE,
  filtro_de_uf = "RR",
  filtro_de_segmento = "comercial_at",
  filtro_de_custo_unitario_max = 6,
  altera_sistemas_existentes = TRUE,
  ano_decisao_alteracao = 2023,
  inflacao = 0.0375,
  taxa_desconto_nominal = 0.13,
  custo_reforco_rede = 200,
  ano_troca_inversor = 11,
  pagamento_disponibilidade = 0.3,
  disponibilidade_kwh_mes = 100,
  desconto_capex_local = 0,
  anos_desconto = 0,
  dir_dados_premissas = NA_character_
)
</code></pre>

<hr>
<h2 id='epe4md_prepara_base'>Prepara a base de dados da ANEEL com geradores existentes para ser utilizada
nas funções seguintes.</h2><span id='topic+epe4md_prepara_base'></span>

<h3>Description</h3>

<p>Prepara a base de dados da ANEEL com geradores existentes para ser utilizada
nas funções seguintes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_prepara_base(
  base_aneel,
  ano_base,
  resumida = TRUE,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_prepara_base_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a
função irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_prepara_base_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas. Se esse
parâmetro não for passado, a função usa os dados default que são instalados
com o pacote. É importante que os nomes dos arquivos sejam os mesmos da
pasta default.</p>
</td></tr>
<tr><td><code id="epe4md_prepara_base_+3A_base_aneel">base_aneel</code></td>
<td>
<p>Dataframe com a base de dados disponibilizada pela ANEEL
na sua página de dados abertos com dados individualizados dos micro e
minigeradores distribuídos. Sugestão ler base com read.csv2</p>
</td></tr>
<tr><td><code id="epe4md_prepara_base_+3A_resumida">resumida</code></td>
<td>
<p>Logic. Se TRUE, retorna a base resumida (Default). Se
FALSE retorna base com mais desagregações.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame. Base tratada e resumida.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
base &lt;- tibble::tibble(
  DatGeracaoConjuntoDados = "2023-03-22",
  AnmPeriodoReferencia = "03/2023",
  NumCNPJDistribuidora = c(3.467321e+12, 8.644416e+13, 2.508603e+13),
  SigAgente = c("EMT", "CEGERO", "ETO"),
  NomAgente = c("Energisa Mato Grosso - Distribuidora de Energia S.A.",
  "COOPERATIVA DE ELETRICIDADE DE S&lt;c3&gt;O LUDGERO",
  "ENERGISA TOCANTINS DISTRIBUIDORA DE ENERGIA S.A."),
  CodClasseConsumo = c(1, 3, 1),
  DscClasseConsumo = c("Residencial", "Rural", "Residencial"),
  CodSubGrupoTarifario = c(9, 10, 9),
  DscSubGrupoTarifario = c("B1", "B2", "B1"),
  codUFibge = c(51, 42, 17),
  SigUF = c("MT", "SC", "TO"),
  codRegiao = c(5102, 4206, 1702),
  NomRegiao = c("Centro Oeste", "Sul", "Norte"),
  CodMunicipioIbge = c(5101803, 4211702, 1721000),
  NomMunicipio = c("Barra do Gar&lt;e7&gt;as", "Orleans", "Palmas"),
  CodCEP = c("78600***", "88870***", "77000***"),
  SigTipoConsumidor = "PF",
  NumCPFCNPJ = c("***.529.008-**", "***.075.129-**", "***.730.731-**"),
  NomeTitularEmpreendimento = "***",
  CodEmpreendimento = c("GD.MT.000.001.703", "GD.SC.000.051.177", "GD.TO.000.000.763"),
  DthAtualizaCadastralEmpreend = c("2016-04-08", "2018-12-04", "2016-09-29"),
  SigModalidadeEmpreendimento = c("R", "P", "P"),
  DscModalidadeHabilitado = c("Caracterizada como Autoconsumo remoto",
  "Com Microgeracao ou Minigeracao distribuida",
  "Com Microgeracao ou Minigeracao distribuida"),
  QtdUCRecebeCredito = c(2, 1, 1),
  SigTipoGeracao = "UFV",
  DscFonteGeracao = "Radia&lt;e7&gt;&lt;e3&gt;o solar",
  DscPorte = "Microgeracao",
  MdaPotenciaInstaladaKW = c(3.00, 5.00, 4.00),
  NumCoordNEmpreendimento = NA,
  NumCoordEEmpreendimento = NA,
  NomSubEstacao = NA,
  NumCoordESub = NA,
  NumCoordNSub = NA
)

base &lt;- epe4md_prepara_base(
  base_aneel = base,
  ano_base = 2021,
  resumida = TRUE,
  dir_dados_premissas = NA_character_
)
</code></pre>

<hr>
<h2 id='epe4md_proj_adotantes'>Realiza a projeção do número de adotantes de micro e minigeração distribuída</h2><span id='topic+epe4md_proj_adotantes'></span>

<h3>Description</h3>

<p>Realiza a projeção do número de adotantes de micro e minigeração distribuída
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_proj_adotantes(
  casos_otimizados,
  consumidores,
  ano_base,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_proj_adotantes_+3A_casos_otimizados">casos_otimizados</code></td>
<td>
<p>data.frame. Resultado da funcao
<a href="#topic+epe4md_calibra_curva_s">epe4md_calibra_curva_s</a>.</p>
</td></tr>
<tr><td><code id="epe4md_proj_adotantes_+3A_consumidores">consumidores</code></td>
<td>
<p>list. Resultado da função
<a href="#topic+epe4md_mercado_potencial">epe4md_mercado_potencial</a>.</p>
</td></tr>
<tr><td><code id="epe4md_proj_adotantes_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_proj_adotantes_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas. Se esse
parâmetro não for passado, a função usa os dados default que são instalados
com o pacote. É importante que os nomes dos arquivos sejam os mesmos
da pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list com dois data.frames. &quot;proj_adotantes&quot; possui os resultados da
projeção de adotantes de micro e minigeração distribuída. &quot;part_adotantes&quot;
possui o resultado em termos de participação do número de adotantes frente
ao total de unidades consumidoras.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>casos_otimizados &lt;-
  structure(
    list(nome_4md = c("MUXENERGIA", "EPB", "EFLJC"),
         segmento = c("comercial_bt", "comercial_at", "residencial"),
         p = c(0.01, 0.000316252847258369, 0.00025238142355137),
         q = c(1, 1, 0.676434758626127),
         spb = c(0.3, 0.3, 0.3),
         ano = c(2029, 2025, 2026),
         Ft = c(0.999996472365327, 0.992930172901814, 0.829136572246132),
         consumidores = c(257, 1871, 847),
         payback = c(4.38236607048146, 7.216158855616, 4.25745937192023),
         mercado_potencial = c(69, 215, 236)),
    row.names = c(NA, -3L),
    class = c("tbl_df", "tbl", "data.frame"))

consumidores &lt;-
  list(
    structure(
      list(nome_4md = c("CPFL PIRATININGA", "EMS", "RGE"),
           ano = c(2020, 2028, 2034),
           segmento = c("comercial_at_remoto", "residencial", "comercial_at"),
           consumidores = c(6736, 113412, 13515)),
      class = c("tbl_df", "tbl", "data.frame"),
      row.names = c(NA, -3L)),
    structure(
      list(ano = c(2017, 2035, 2031),
           total_ucs = c(67352162.358959, 88092914.3204848, 83828643.0017198),
           segmento = c("residencial", "residencial", "residencial")),
      row.names = c(NA, -3L),
      class = c("tbl_df", "tbl", "data.frame"))
    )

names(consumidores) &lt;- c("consumidores", "consumidores_totais")

proj_adotantes &lt;- epe4md_proj_adotantes(
casos_otimizados = casos_otimizados,
consumidores = consumidores,
ano_base = 2021
)
</code></pre>

<hr>
<h2 id='epe4md_proj_geracao'>Estima a geração de eletricidade a partir da projeção de potência</h2><span id='topic+epe4md_proj_geracao'></span>

<h3>Description</h3>

<p>Estima a geração de eletricidade a partir da projeção de potência
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_proj_geracao(
  proj_mensal,
  ano_base,
  filtro_de_uf,
  filtro_de_segmento,
  dir_dados_premissas = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_proj_geracao_+3A_proj_mensal">proj_mensal</code></td>
<td>
<p>dataframe. Resultado da função
<a href="#topic+epe4md_proj_mensal">epe4md_proj_mensal</a>.</p>
</td></tr>
<tr><td><code id="epe4md_proj_geracao_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_proj_geracao_+3A_filtro_de_uf">filtro_de_uf</code></td>
<td>
<p>string. Parâmetro que define uma unidade federativa (UF) a
ser filtrada. Caso uma UF não seja indicada ou seja informado um valor inválido,
o resultado será apresentado sem filtros.</p>
</td></tr>
<tr><td><code id="epe4md_proj_geracao_+3A_filtro_de_segmento">filtro_de_segmento</code></td>
<td>
<p>string. Parâmetro que define um segmento a ser
filtrado. Pode se escolher entre &quot;comercial_at&quot;, &quot;comercial_at_remoto&quot;,
&quot;comercial_bt&quot;, &quot;residencial&quot; e &quot;residencial_remoto&quot;.  Caso não seja
informado um valor ou seja informado um valor inválido o resultado será
apresentado sem filtro.</p>
</td></tr>
<tr><td><code id="epe4md_proj_geracao_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas.
Se esse parâmetro não for passado, a função usa os dados default que são
instalados com o pacote. É importante que os nomes dos arquivos sejam os
mesmos da pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame com os resultados da projeção de capacidade instalada
de micro e minigeração distribuída, número de adotantes e geração
mensal de energia.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
projecao_mensal &lt;- structure(
  list(ano = c(2018, 2019, 2020),
       nome_4md = c("COSERN", "EQUATORIAL AL", "ERO"),
       fonte_resumo = c("Fotovoltaica", "Fotovoltaica", "Fotovoltaica"),
       segmento = c("residencial", "comercial_bt", "residencial_remoto"),
       adotantes_mes = c(29, 38, 4),
       pot_mes_mw = c(0.16773, 0.42818, 0.01418),
       mes_ano = c("2018 jul 1", "2019 jun 1", "2020 ago 1"),
       mes = c(7, 6, 8),
       p = c(1e-04, 0.000321082460336051, 1e-04),
       q = c(0.999129117163193, 1, 0.788982959999952),
       Ft = c(0.0385425368844212, 0.260610809377481, 0.0652161787454779)),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

projecao_mensal &lt;- dplyr::mutate(projecao_mensal, mes_ano = strptime(mes_ano, "%Y %b %d"))

proj_geracao &lt;- epe4md_proj_geracao(
  proj_mensal = projecao_mensal,
  ano_base = 2021,
  filtro_de_uf = "N",
  filtro_de_segmento = "comercial_at",
  dir_dados_premissas = NA_character_
)
</code></pre>

<hr>
<h2 id='epe4md_proj_mensal'>Faz a abertura mensal da projeção de potência</h2><span id='topic+epe4md_proj_mensal'></span>

<h3>Description</h3>

<p>Faz a abertura mensal da projeção de potência
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_proj_mensal(
  lista_potencia,
  ano_base,
  filtro_nome4md,
  filtro_de_segmento,
  ano_max_resultado = 2050,
  ajuste_ano_corrente = FALSE,
  ultimo_mes_ajuste = NA,
  metodo_ajuste = NA,
  dir_dados_premissas = "inst/dados_premissas"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_proj_mensal_+3A_lista_potencia">lista_potencia</code></td>
<td>
<p>list. Resultado da função
<a href="#topic+epe4md_proj_potencia">epe4md_proj_potencia</a>.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_filtro_nome4md">filtro_nome4md</code></td>
<td>
<p>string. Parâmetro que define o nome de uma concessionária
de energia a ser filtrado. Caso não seja informado um valor ou seja informado um
valor inválido o resultado será apresentado sem filtro.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_filtro_de_segmento">filtro_de_segmento</code></td>
<td>
<p>string. Parâmetro que define um segmento a ser
filtrado. Pode se escolher entre &quot;comercial_at&quot;, &quot;comercial_at_remoto&quot;,
&quot;comercial_bt&quot;, &quot;residencial&quot; e &quot;residencial_remoto&quot;.  Caso não seja
informado um valor ou seja informado um valor inválido o resultado será
apresentado sem filtro.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_ano_max_resultado">ano_max_resultado</code></td>
<td>
<p>numeric. Ano final para apresentação dos resultados.
Máximo igual a 2050. Default igual a 2050.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_ajuste_ano_corrente">ajuste_ano_corrente</code></td>
<td>
<p>logic. Se TRUE indica que a projeção deverá
incorporar o histórico mensal recente, verificado em parte do primeiro ano
após o ano base. Default igual a FALSE. O arquivo base_mmgd.xlsx deve
incorporar esse histórico.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_ultimo_mes_ajuste">ultimo_mes_ajuste</code></td>
<td>
<p>numeric. Último mês com dados completos na
base_ano_corrente. Default igual a NA. Só tem efeito caso ajuste_ano_corrente
seja igual a TRUE.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_metodo_ajuste">metodo_ajuste</code></td>
<td>
<p>string. Se igual a &quot;extrapola&quot; o modelo irá extrapolar a
potência e o número de adotantes até o final do ano base + 1 com base no
verificado até o ultimo_mes_ajuste. Se igual a &quot;substitui&quot;, o modelo
substitui a projeção até o ultimo_mes_ajuste e mantém o restante do ano com a
projeção normal. Só tem efeito caso ajuste_ano_corrente seja igual a TRUE.</p>
</td></tr>
<tr><td><code id="epe4md_proj_mensal_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas.
Se esse parâmetro não for passado, a função usa os dados default que são
instalados com o pacote. É importante que os nomes dos arquivos sejam os
mesmos da pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame com os resultados da projeção de capacidade instalada
de micro e minigeração distribuída e número de adotantes mensal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lista_potencia &lt;- list(
 proj_potencia = structure(
   list(nome_4md = c("RORAIMA", "RORAIMA", "RORAIMA", "RORAIMA", "RORAIMA"),
        segmento = c("comercial_at", "comercial_at", "comercial_at",
        "comercial_at", "comercial_at"),
        p = c(0.000122298434419402, 0.000122298434419402,
        0.000122298434419402, 0.000122298434419402, 0.000122298434419402),
        q = c(1, 1, 1, 1, 1),
        spb = c(0.3, 0.3, 0.3, 0.3, 0.3),
        ano = c(2017, 2018, 2019, 2020, 2021),
        Ft = c(0.0177177153816275, 0.0469352065606947, 0.118237854106428,
        0.267268529395706, 0.497952210651889),
        consumidores = c(656, 678, 751, 764, 791),
        payback = c(25, 12.9151902647661, 7.76175962915069,
        11.9207871041042, 11.8969973448089),
        mercado_potencial = c(0.25, 3.5, 18.25, 5.25, 5.5),
        adotantes_ano = c(3, 1, 1, 3, 6),
        adotantes_acum = c(3, 4, 5, 8, 14),
        fonte_resumo = c("Fotovoltaica", "Fotovoltaica", "Fotovoltaica",
        "Fotovoltaica", "Fotovoltaica"),
        part_fonte = c(1, 1, 1, 1, 1),
        adotantes_hist = c(3, 1, 1, 3, 6),
        pot_media = c(353.694375, 353.694375, 353.694375, 353.694375,
        353.694375),
        pot_ano = c(199, 80, 94, 4602, 529.11),
        pot_hist = c(199, 80, 94, 4602, 529.11),
        pot_ano_mw = c(0.199, 0.08, 0.094, 4.602, 0.52911),
        pot_acum_mw = c(0.199, 0.279, 0.373, 4.975, 5.50411)),
   class = c("tbl_df", "tbl", "data.frame"),
   row.names = c(NA, -5L)
 ),
 part_adotantes = structure(
   list(ano = c(2017, 2018, 2019, 2020, 2021),
        segmento = c("comercial_at", "comercial_at", "comercial_at",
        "comercial_at", "comercial_at"),
        adotantes = c(3, 4, 5, 8, 14),
        mercado_potencial = c(1, 14, 73, 21, 22),
        total_ucs = c(187922, 187853, 184276, 182048, 181394),
        penetracao_total = c(1.5964070199338e-05, 2.12932452502755e-05,
        2.71332132236428e-05, 4.39444542098787e-05, 7.71800610825055e-05),
        mercado_nicho = c(187922, 187853, 184276, 182048, 181394),
        penetracao_nicho = c(1.5964070199338e-05, 2.12932452502755e-05,
        2.71332132236428e-05, 4.39444542098787e-05, 7.71800610825055e-05),
        penetracao_potencial = c(3, 0.285714285714286, 0.0684931506849315,
        0.380952380952381, 0.636363636363636)),
   row.names = c(NA, -5L),
   class = c("tbl_df", "tbl", "data.frame")
 )
)

proj_mensal &lt;- epe4md_proj_mensal(
 lista_potencia = lista_potencia,
 ano_base = 2021,
 filtro_nome4md = "RORAIMA",
 filtro_de_segmento = "comercial_at",
 ano_max_resultado = 2021
)
</code></pre>

<hr>
<h2 id='epe4md_proj_potencia'>Realiza a projecao da capacidade instalada de micro e minigeracao distribuida</h2><span id='topic+epe4md_proj_potencia'></span>

<h3>Description</h3>

<p>Realiza a projecao da capacidade instalada de micro e minigeracao distribuida
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_proj_potencia(
  lista_adotantes,
  ano_base,
  dir_dados_premissas = "inst/dados_premissas"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_proj_potencia_+3A_lista_adotantes">lista_adotantes</code></td>
<td>
<p>data.frame. Data.frame que contém dados relativos aos
adotantes.</p>
</td></tr>
<tr><td><code id="epe4md_proj_potencia_+3A_ano_base">ano_base</code></td>
<td>
<p>numeric. Ano base da projeção. Define o ano em que a função
irá buscar a base de dados. Último ano completo realizado.</p>
</td></tr>
<tr><td><code id="epe4md_proj_potencia_+3A_dir_dados_premissas">dir_dados_premissas</code></td>
<td>
<p>Diretório onde se encontram as premissas.
Se esse parâmetro não for passado, a função usa os dados default que são
instalados com o pacote. É importante que os nomes dos arquivos sejam os
mesmos da pasta default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list com dois data.frames. &quot;proj_potencia&quot; possui os resultados da
projeção de capacidade instalada de micro e minigeração distribuída.
&quot;part_adotantes&quot; possui o resultado em termos de participação do
número de adotantes frente ao total de unidades consumidoras.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lista_adotantes &lt;- list(
  structure(
    list(nome_4md = c("CEB", "EQUATORIAL MA", "LIGHT"),
         segmento = c("comercial_at_remoto", "comercial_bt", "comercial_at_remoto"),
         p = c(0.000314088483901221, 0.000326288160094334, 0.01),
         q = c(0.860602105239079, 0.796618861208451, 0.0771175699573262),
         spb = c(0.3, 0.3, 0.3),
         ano = c(2024, 2028, 2022),
         Ft = c(0.917955265426745, 0.992968921614641, 0.137575817915978),
         consumidores = c(12146, 47955, 22878),
         payback = c(5.00924084667372, 4.40202323859729, 8.53878219211533),
         mercado_potencial = c(675.75, 3200.75, 441.5),
         adotantes_ano = c(309, 0, 4),
         adotantes_acum = c(2361, 0, 42),
         fonte_resumo = c("Fotovoltaica", "Eólica", "Fotovoltaica"),
         part_fonte = c(1, 0, 0.186666666666667),
         adotantes_hist = c(NA_real_, NA_real_, NA_real_)),
    row.names = c(NA, -3L),
    class = c("tbl_df", "tbl", "data.frame")),
  structure(
    list(ano = c(2030, 2016, 2020),
         segmento = c("comercial_bt", "residencial", "residencial"),
         adotantes = c(694432, 7214, 357386),
         mercado_potencial = c(620539, 857786, 2931122),
         total_ucs = c(14858570, 66148593.0147109, 71001451.6735913),
         penetracao_total = c(0.0467361260202025, 0.000109057497238009, 0.00503350271826806),
         mercado_nicho = c(2541888, 10668970, 11014026),
         penetracao_nicho = c(0.273195357151849, 0.000676166490298501, 0.0324482618798975),
         penetracao_potencial = c(1.11907873638885, 0.00841002301273278, 0.121928053489415)),
    row.names = c(NA, -3L),
    class = c("tbl_df", "tbl", "data.frame"))
  )

names(lista_adotantes) &lt;- c("proj_adotantes", "part_adotantes")

proj_potencia &lt;- epe4md_proj_potencia(
  lista_adotantes = lista_adotantes,
  ano_base = 2021
)
</code></pre>

<hr>
<h2 id='epe4md_sumariza_resultados'>Resume os resultados de capacidade instalada</h2><span id='topic+epe4md_sumariza_resultados'></span>

<h3>Description</h3>

<p>Resume os resultados de capacidade instalada
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epe4md_sumariza_resultados(resultados_mensais)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="epe4md_sumariza_resultados_+3A_resultados_mensais">resultados_mensais</code></td>
<td>
<p>data.frame. Saída da função
<code>epe4md::epe4md_calcula</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame com projeção de capacidade instalada nacional, em GW e
geração de energia, em GWh e MWméd.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
resultados_mensais &lt;- structure(
  list(data = structure(c(18628, 18628, 18628),
       class = "Date"),
       ano = c(2021, 2021, 2021),
       mes = c(1, 1, 1),
       nome_4md = c("RORAIMA", "SULGIPE", "UHENPAL"),
       subsistema = c("MAN", "NE", "S"),
       uf = c("RR", "SE", "RS"),
       segmento = c("comercial_at", "comercial_at", "comercial_bt"),
       fonte_resumo = c("Fotovoltaica", "Fotovoltaica", "Fotovoltaica"),
       energia_mwh = c(536.436102870736, 83.2181016179793, 128.993567632682),
       energia_autoc_mwh = c(429.148882296589, 66.5744812943834, 64.4967838163411),
       energia_inj_mwh = c(107.287220574147, 16.6436203235959, 64.4967838163411),
       energia_mwmed = c(Jan = 0.721016267299377, Jan = 0.11185228712094, Jan = 0.173378451119196),
       pot_mes_mw = c(0, 0, 0.05441),
       adotantes_mes = c(0, 0, 5),
       p = c(0.000122345127598721, 0.000242743031345856, 0.00368794049368357),
       q = c(1, 1, 0.550183036478482)),
  row.names = c(NA, -3L),
  class = c("tbl_df", "tbl", "data.frame")
)

resultado &lt;- epe4md_sumariza_resultados(resultados_mensais)
</code></pre>

<hr>
<h2 id='paleta_epe'>Paleta de cores da EPE</h2><span id='topic+paleta_epe'></span>

<h3>Description</h3>

<p>Vetor contendo 11 cores diferentes referentes às cores utilizadas pela EPE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paleta_epe</code></pre>


<h3>Format</h3>

<p>Um vetor com 11 cores.</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package sivs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sivs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#coef.sivs'><p>Extract Coefficients from sivs object</p></a></li>
<li><a href='#is.sivs'><p>Validate sivs Object</p></a></li>
<li><a href='#plot.sivs'><p>A plotting function for sivs object</p></a></li>
<li><a href='#sivs'><p>Stable Iterative Variable Selection</p></a></li>
<li><a href='#str.sivs'><p>Structure of sivs object</p></a></li>
<li><a href='#suggest'><p>Cutoff Suggestion for sivs Object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Stable Iterative Variable Selection</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.10</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-31</td>
</tr>
<tr>
<td>Imports:</td>
<td>doParallel, parallel, foreach, glmnet, pROC, varhandle, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>markdown, knitr</td>
</tr>
<tr>
<td>Description:</td>
<td>An iterative feature selection method (manuscript submitted) that
    internally utilizes various Machine Learning methods that have embedded
    feature reduction in order to shrink down the feature space into a small
    and yet robust set.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mmahmoudian/sivs">https://github.com/mmahmoudian/sivs</a>,
<a href="https://doi.org/10.1093/bioinformatics/btab501">https://doi.org/10.1093/bioinformatics/btab501</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mmahmoudian/sivs/issues">https://github.com/mmahmoudian/sivs/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>markdown, knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-31 11:53:14 UTC; mehrad</td>
</tr>
<tr>
<td>Author:</td>
<td>Mehrad Mahmoudian <a href="https://orcid.org/0000-0001-7650-1862"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Mikko Venäläinen <a href="https://orcid.org/0000-0003-1777-4259"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, rev],
  Riku Klèn <a href="https://orcid.org/0000-0002-0982-8360"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    ths],
  Laura Elo <a href="https://orcid.org/0000-0001-5648-4532"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    ths, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mehrad Mahmoudian &lt;m.mahmoudian@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-31 16:20:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='coef.sivs'>Extract Coefficients from sivs object</h2><span id='topic+coef.sivs'></span>

<h3>Description</h3>

<p>A function to extract the coefficients of &quot;iterative.res&quot; step
or any part of &quot;rfe&quot; such as &quot;sivs_object$rfe$baseline&quot; from a sivs object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sivs'
coef(object, step = "iterative.res", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.sivs_+3A_object">object</code></td>
<td>
<p>An object of class &quot;sivs&quot;</p>
</td></tr>
<tr><td><code id="coef.sivs_+3A_step">step</code></td>
<td>
<p>A a character string of length 1. It should either specify the
step (&quot;iterative.res&quot; or &quot;rfe&quot;), or step$subsetp (e.g &quot;rfe$baseline&quot;).</p>
</td></tr>
<tr><td><code id="coef.sivs_+3A_...">...</code></td>
<td>
<p>potential further arguments (required for Method/Generic reasons).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a data.frame that has features as rows and
different runs as columns, with the addition of the first column which
contains the feature name.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# getting the coefficients of features for the baseline runs in rfe
coef(object = sivs_object, step = "rfe$baseline")

## End(Not run)

## WORKING EXAMPLE
## Note that this example does not logically make sense as iris data has only
## 4 columns and there is no need for SIVS to take care of feature selection
## therefore this example is only here for testing purposes.

tmp &lt;- subset(x = iris, subset = Species != "setosa")

tmp &lt;- varhandle::unfactor(tmp)

sivs_obj &lt;- sivs(x = tmp[, c("Sepal.Length", "Sepal.Width",
                             "Petal.Length", "Petal.Width")],
                 y = factor(tmp$Species),
                 family = "binomial",
                 verbose = "detailed",
                 progressbar = FALSE,
                 nfolds = 3,
                 parallel.cores = FALSE,
                 iter.count = 20)

coef(sivs_obj)


</code></pre>

<hr>
<h2 id='is.sivs'>Validate sivs Object</h2><span id='topic+is.sivs'></span>

<h3>Description</h3>

<p>A function to validate if the given object is truely from sivs function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.sivs(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.sivs_+3A_object">object</code></td>
<td>
<p>Idealy the object that is produced by the sivs function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function will return TRUE if it detects the function is truely a
sivs object, otherwise it will return FALSE.
</p>

<hr>
<h2 id='plot.sivs'>A plotting function for sivs object</h2><span id='topic+plot.sivs'></span>

<h3>Description</h3>

<p>A function to plot the object of the sivs function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sivs'
plot(
  x,
  type = c("frequency", "coef", "rfe"),
  suggestion_strictness = c(0.01, 0.05),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.sivs_+3A_x">x</code></td>
<td>
<p>The object that is produced by the sivs function.</p>
</td></tr>
<tr><td><code id="plot.sivs_+3A_type">type</code></td>
<td>
<p>Which plot do you want to have. Acceptable values are &quot;frequency&quot;, &quot;coef&quot;, and &quot;rfe&quot;.</p>
</td></tr>
<tr><td><code id="plot.sivs_+3A_suggestion_strictness">suggestion_strictness</code></td>
<td>
<p>The strictness value that indicates how much the thresholds should be strict. For more details visit help page of 'suggest()' function. If you want ru suppress the suggestion on the plot, set this to NULL.</p>
</td></tr>
<tr><td><code id="plot.sivs_+3A_...">...</code></td>
<td>
<p>The other argument you might want to pass to each plot.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The rfe plot ignores the existance of intercept since intercept
cannot be removed in the recursive feature elimination step. This
is the reason that the number of features with vimp greater than 0
are differnt from the presented &quot;Number of Features Left&quot; in the
rfe plot by 1.
</p>


<h3>Value</h3>

<p>Does not return anything. This function is only used for plotting
and is not meant to return any value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# to see all plots
layout(mat = matrix(c(1,2,3,3), nrow = 2, byrow = TRUE))
plot(x = sivs_object)
layout(1)

# to plot only the Recursive Feature Elimination (rfe) results
plot(x = sivs_object, type = "rfe")

# suppress suggestion on rfe plot
plot(x = sivs_object, type = "rfe", suggestion_strictness = NULL)

## End(Not run)

## WORKING EXAMPLE
## Note that this example does not logically make sense as iris data has only
## 4 columns and there is no need for SIVS to take care of feature selection
## therefore this example is only here for testing purposes.

tmp &lt;- subset(x = iris, subset = Species != "setosa")

tmp &lt;- varhandle::unfactor(tmp)

sivs_obj &lt;- sivs(x = tmp[, c("Sepal.Length", "Sepal.Width",
                             "Petal.Length", "Petal.Width")],
                 y = factor(tmp$Species),
                 family = "binomial",
                 verbose = "detailed",
                 progressbar = FALSE,
                 nfolds = 3,
                 parallel.cores = FALSE,
                 iter.count = 20)
plot(sivs_obj, type = "frequency")
plot(sivs_obj, type = "coef")
plot(sivs_obj, type = "rfe")


</code></pre>

<hr>
<h2 id='sivs'>Stable Iterative Variable Selection</h2><span id='topic+sivs'></span>

<h3>Description</h3>

<p>The name is an acronym for Stable Iterative Variable Selection.
This function will iteratively run a machine learning method that can
incorporate a shrinkage method using multiple random seeds in order to find
the smallest set of features that can robustly be predictive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sivs(
  x,
  y,
  test.ratio = 1/3,
  method = "glmnet",
  iter.count = 100,
  nfolds = 10,
  sample.grouping = NULL,
  parallel.cores = "grace",
  progressbar = TRUE,
  verbose = "general",
  return.fits = FALSE,
  return.roc = FALSE,
  return.sessionInfo = TRUE,
  lib.paths = .libPaths(),
  debug.mode = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sivs_+3A_x">x</code></td>
<td>
<p>The input data. Each row should represent a sample and each column should represent a feature.</p>
</td></tr>
<tr><td><code id="sivs_+3A_y">y</code></td>
<td>
<p>Response variable. It should be of class factor for classification and of class Surv for survival.</p>
</td></tr>
<tr><td><code id="sivs_+3A_test.ratio">test.ratio</code></td>
<td>
<p>How much of the data should be cut and used for testing</p>
</td></tr>
<tr><td><code id="sivs_+3A_method">method</code></td>
<td>
<p>The internal machine learning method to be used</p>
</td></tr>
<tr><td><code id="sivs_+3A_iter.count">iter.count</code></td>
<td>
<p>How many iterations should the function go through</p>
</td></tr>
<tr><td><code id="sivs_+3A_nfolds">nfolds</code></td>
<td>
<p>How many folds should the training cross-validations have</p>
</td></tr>
<tr><td><code id="sivs_+3A_sample.grouping">sample.grouping</code></td>
<td>
<p>A character, numeric or factor vector to specify how the samples should be grouped/bundled together in the cross-validation binning. If set to NULL the grouping will be skipped. Samples with the same value will always be kept together in the same bins in cross-validation. This is especially useful when having multiple samples from the same individual. Default is NULL.</p>
</td></tr>
<tr><td><code id="sivs_+3A_parallel.cores">parallel.cores</code></td>
<td>
<p>How many cores should be used in the iterative process. The value should be the number of threads in numeric form, or any of these values: &quot;max&quot;, &quot;grace&quot;, FALSE, NULL. If set to &quot;max&quot;, all cores will be used and in large datasets you might face your computer struggling and ultimately errors. If set to &quot;grace&quot;, one core will be left out so that it can be used by other processes in the machine. If set to NULL of FALSE, the code will run sequentially and without the parallel backend.</p>
</td></tr>
<tr><td><code id="sivs_+3A_progressbar">progressbar</code></td>
<td>
<p>Logical. If the progressbar should be shown. Default is TRUE.</p>
</td></tr>
<tr><td><code id="sivs_+3A_verbose">verbose</code></td>
<td>
<p>Character. How detailed the progress should be reported. The value should be a character vector of length 1. &quot;detailed&quot; will report every single step. &quot;general&quot; will report only main steps. &quot;none&quot; or FALSE will suppress any reporting.</p>
</td></tr>
<tr><td><code id="sivs_+3A_return.fits">return.fits</code></td>
<td>
<p>Logical. Whether the fit object for each iterative run should be returned. Having the fits in the final object would significantly increase the final object size. Default is FALSE.</p>
</td></tr>
<tr><td><code id="sivs_+3A_return.roc">return.roc</code></td>
<td>
<p>Logical. Whether the ROC object for each iterative run should be returned. Having the fits in the final object would significantly increase the final object size. Default is FALSE.</p>
</td></tr>
<tr><td><code id="sivs_+3A_return.sessioninfo">return.sessionInfo</code></td>
<td>
<p>Logical. Whether the utils::sessionInfo() be included in the final object. This is useful for reproducibility purposes. Default is TRUE.</p>
</td></tr>
<tr><td><code id="sivs_+3A_lib.paths">lib.paths</code></td>
<td>
<p>A character vector that contains the paths that the dependency libraries are in it. REMEMBER to set this if you are using packrat.</p>
</td></tr>
<tr><td><code id="sivs_+3A_debug.mode">debug.mode</code></td>
<td>
<p>Whether or not the debug mode should be enabled.</p>
</td></tr>
<tr><td><code id="sivs_+3A_...">...</code></td>
<td>
<p>Other parameters to be passed to the training method. For example the value of alpha in glmnet.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with S3 class &quot;sivs&quot;.
run.info$call:         The call that produced this object
run.info$sessionInfo:  The object produced by utils::sessionInfo()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# considering that you have your data object as `DATA` where you have rows
# as samples and columns as features, and the response value as a vector
# named `RESP`:

# simple defult run
sivs_object &lt;- sivs(x = DATA, y = RESP)

# simple run with using only 3 CPU cores
sivs_object &lt;- sivs(x = DATA, y = RESP, parallel.cores = 3)


# get the variable importance values
sivs_object$vimp

# get the condision that the sivs was ran in
sivs_object$run.info$call
sivs_object$run.info$sessionInfo

## End(Not run)

## WORKING EXAMPLE
## Note that this example does not logically make sense as iris data has only
## 4 columns and there is no need for SIVS to take care of feature selection
## therefore this example is only here for testing purposes.

tmp &lt;- subset(x = iris, subset = Species != "setosa")

tmp &lt;- varhandle::unfactor(tmp)

sivs_obj &lt;- sivs(x = tmp[, c("Sepal.Length", "Sepal.Width",
                             "Petal.Length", "Petal.Width")],
                 y = factor(tmp$Species),
                 family = "binomial",
                 verbose = "detailed",
                 progressbar = FALSE,
                 nfolds = 3,
                 parallel.cores = FALSE,
                 iter.count = 20)


</code></pre>

<hr>
<h2 id='str.sivs'>Structure of sivs object</h2><span id='topic+str.sivs'></span>

<h3>Description</h3>

<p>This function shows the structure of a an object of either class
&quot;sivs&quot; or &quot;list&quot; and shows the internal structure of the object in
human-readable format. sivs object is a complex S3 object and it might be a
deterrent to users to get to know if better. This function is aiming to
facilitate the experience of user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sivs'
str(
  object,
  max_depth = 2,
  max_leaves = 2,
  max_width = options("width")$width,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="str.sivs_+3A_object">object</code></td>
<td>
<p>An object of class &quot;sivs&quot; or &quot;list&quot;.</p>
</td></tr>
<tr><td><code id="str.sivs_+3A_max_depth">max_depth</code></td>
<td>
<p>A numerical value of length 1 indicating how many layers the
function should dive into.</p>
</td></tr>
<tr><td><code id="str.sivs_+3A_max_leaves">max_leaves</code></td>
<td>
<p>A numericl vector of length 1 indicating how many of the
objects of each list should be shown.</p>
</td></tr>
<tr><td><code id="str.sivs_+3A_max_width">max_width</code></td>
<td>
<p>A numerical vector of length 1 indicating the maximum width
of the terminal that should be used by the function. If there are any lines
larger than this value, they will be truncated. Default is the terminal size
that is retuned by R.</p>
</td></tr>
<tr><td><code id="str.sivs_+3A_...">...</code></td>
<td>
<p>potential further arguments (required for Method/Generic reasons).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function uses 'cat' to output general structure of sivs object
in human readable format in a tree-like structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## WORKING EXAMPLE
## Note that this example does not logically make sense as iris data has only
## 4 columns and there is no need for SIVS to take care of feature selection
## therefore this example is only here for testing purposes.

tmp &lt;- subset(x = iris, subset = Species != "setosa")

tmp &lt;- varhandle::unfactor(tmp)

sivs_obj &lt;- sivs(x = tmp[, c("Sepal.Length", "Sepal.Width",
                             "Petal.Length", "Petal.Width")],
                 y = factor(tmp$Species),
                 family = "binomial",
                 verbose = "detailed",
                 progressbar = FALSE,
                 nfolds = 3,
                 parallel.cores = FALSE,
                 iter.count = 20)

str(sivs_obj)


</code></pre>

<hr>
<h2 id='suggest'>Cutoff Suggestion for sivs Object</h2><span id='topic+suggest'></span>

<h3>Description</h3>

<p>A function to suggest the user a set of features based on sivs object and the provided strictness
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suggest(object, strictness = 0.01, plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="suggest_+3A_object">object</code></td>
<td>
<p>The object that is produced by the sivs function.</p>
</td></tr>
<tr><td><code id="suggest_+3A_strictness">strictness</code></td>
<td>
<p>A numerical vector of length 1 showing how strict the suggestion should be, ranging from 0 to 1 where 0 is less strict and 1 is the most strict. Default value is 0.01. For more information, check the Details section.</p>
</td></tr>
<tr><td><code id="suggest_+3A_plot">plot</code></td>
<td>
<p>A logical vector of length 1 indicating whether the suggestion should also be plotted in the &quot;rfe&quot; plot. The same plot can be generated via plot.sivs() function when the suggestion_strictness is set according to the strictness argument of this function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function tries to narrow down the list of VIMP features in sivs object into a smaller feature list based on provided strictness coefficient. This function practically defines a threshold for AUCs in the rfe (Recursive Feature Elimination) step of sivs. Any run with any set of features that are above the AUC threshold will be eliminated and all the features that were contributing into having an AUC lower than the threshold are returned. The cutoff is defined as:
((1 - strictness) * (max(median_AUROCs) - min(median_AUROCs))) + min(median_AUROCs)
where median_AUROCs is the median of AUROCs for each run in rfe step of
sivs. Note that this function is supposed to give the feature space based
on the cutoff and hence the intercept (if exists in the VIMP) will be
excluded from the output.
</p>


<h3>Value</h3>

<p>A character vector that contains the names of suggested features based
on the defined strictness. If the provided sivs object does not have any feature with VIMP score higher than zero, you will get an empty vector along with a warning. If the provided vector has some features with VIMP&gt;0 but after applying the strictness and filtering, we don't end up with any feature left to suggest, you will recieve an empty vector along with a message. Both warnings and messages can be suppressed in R by 'suppressWarnings()' and 'suppressMessages()' respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Defult use
suggest(sivs_object)

# get the suggested features and also plot it with strictness of 0.01
suggest(object = sivs_object, strictness = 0.01, plot = TRUE)

## End(Not run)

## WORKING EXAMPLE
## Note that this example does not logically make sense as iris data has only
## 4 columns and there is no need for SIVS to take care of feature selection
## therefore this example is only here for testing purposes.

tmp &lt;- subset(x = iris, subset = Species != "setosa")

tmp &lt;- varhandle::unfactor(tmp)

sivs_obj &lt;- sivs(x = tmp[, c("Sepal.Length", "Sepal.Width",
                             "Petal.Length", "Petal.Width")],
                 y = factor(tmp$Species),
                 family = "binomial",
                 verbose = "detailed",
                 progressbar = FALSE,
                 nfolds = 3,
                 parallel.cores = FALSE,
                 iter.count = 20)

suggest(sivs_obj)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

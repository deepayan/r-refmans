<!DOCTYPE html><html><head><title>Help for package Rmonize</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rmonize}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_data_dict'><p>Objects exported from other packages</p></a></li>
<li><a href='#as_data_proc_elem'><p>Validate and coerce as a Data Processing Elements object</p></a></li>
<li><a href='#as_dataschema'><p>Validate and coerce as a DataSchema object</p></a></li>
<li><a href='#as_dataschema_mlstr'><p>Validate and coerce as a DataSchema object with specific format restrictions</p></a></li>
<li><a href='#as_dataset'><p>Objects exported from other packages</p></a></li>
<li><a href='#as_dossier'><p>Objects exported from other packages</p></a></li>
<li><a href='#as_harmonized_dossier'><p>Validate and coerce as a harmonized dossier object</p></a></li>
<li><a href='#bookdown_open'><p>Objects exported from other packages</p></a></li>
<li><a href='#data_dict_apply'><p>Objects exported from other packages</p></a></li>
<li><a href='#data_dict_evaluate'><p>Objects exported from other packages</p></a></li>
<li><a href='#data_dict_extract'><p>Objects exported from other packages</p></a></li>
<li><a href='#dataschema_evaluate'><p>Generate an assessment report for a DataSchema</p></a></li>
<li><a href='#dataschema_extract'><p>Generate a DataSchema based on Data Processing Elements</p></a></li>
<li><a href='#dataset_evaluate'><p>Objects exported from other packages</p></a></li>
<li><a href='#dataset_summarize'><p>Objects exported from other packages</p></a></li>
<li><a href='#dataset_visualize'><p>Objects exported from other packages</p></a></li>
<li><a href='#dossier_create'><p>Objects exported from other packages</p></a></li>
<li><a href='#dossier_evaluate'><p>Objects exported from other packages</p></a></li>
<li><a href='#dossier_summarize'><p>Objects exported from other packages</p></a></li>
<li><a href='#harmo_process'><p>Generate harmonized dataset(s) and associated metadata</p></a></li>
<li><a href='#harmonized_dossier_evaluate'><p>Generate an assessment report for a harmonized dossier</p></a></li>
<li><a href='#harmonized_dossier_summarize'><p>Generate an assessment report and summary of a harmonized dossier</p></a></li>
<li><a href='#harmonized_dossier_visualize'><p>Generate a web-based visual report for a harmonized dossier</p></a></li>
<li><a href='#is_data_proc_elem'><p>Test for a valid Data Processing Elements object</p></a></li>
<li><a href='#is_dataschema'><p>Test for a valid DataSchema object</p></a></li>
<li><a href='#is_dataschema_mlstr'><p>Test for a valid DataSchema object with specific format restrictions</p></a></li>
<li><a href='#pooled_harmonized_dataset_create'><p>Generate a pooled harmonized dataset from a harmonized dossier</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#Rmonize_DEMO'><p>Demo objects to provide illustrative examples</p></a></li>
<li><a href='#Rmonize_help'><p>Call to online documentation</p></a></li>
<li><a href='#Rmonize_templates'><p>Call to online documentation to download templates</p></a></li>
<li><a href='#Rmonize-package'><p>Rmonize: Support Retrospective Harmonization of Data</p></a></li>
<li><a href='#show_harmo_error'><p>Print a summary of data processing in the console</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Support Retrospective Harmonization of Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Guillaume Fabre &lt;guijoseph.fabre@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to support rigorous retrospective data harmonization 
    processing, evaluation, and documentation across datasets from different 
    studies based on Maelstrom Research guidelines. The package includes the 
    core functions to evaluate and format the main inputs that define the 
    harmonization process, apply specified processing rules to generate 
    harmonized data, diagnose processing errors, and summarize and evaluate 
    harmonized outputs. The main inputs that define the processing are a 
    DataSchema (list and definitions of harmonized variables to be generated) 
    and Data Processing Elements (processing rules to be applied to generate 
    harmonized variables from study-specific variables). The main outputs of 
    processing are harmonized datasets, associated metadata, and tabular and 
    visual summary reports. As described in 
    Maelstrom Research guidelines for rigorous retrospective data 
    harmonization (Fortier I and al. (2017) &lt;<a href="https://doi.org/10.1093%2Fije%2Fdyw075">doi:10.1093/ije/dyw075</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.1.0), rlang, stringr, tidyr, crayon, haven, utils,
fs, fabR (&ge; 2.0.0), madshapR</td>
</tr>
<tr>
<td>Suggests:</td>
<td>janitor, car, knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/maelstrom-research/Rmonize/">https://github.com/maelstrom-research/Rmonize/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/maelstrom-research/Rmonize/issues">https://github.com/maelstrom-research/Rmonize/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-20 16:52:38 UTC; guill</td>
</tr>
<tr>
<td>Author:</td>
<td>Guillaume Fabre <a href="https://orcid.org/0000-0002-0124-9970"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Maelstrom-research group [fnd]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-21 16:30:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_data_dict'>Objects exported from other packages</h2><span id='topic+as_data_dict'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+as_data_dict">as_data_dict</a></code></p>
</dd>
</dl>

<hr>
<h2 id='as_data_proc_elem'>Validate and coerce as a Data Processing Elements object</h2><span id='topic+as_data_proc_elem'></span>

<h3>Description</h3>

<p>Checks if an object is a valid Data Processing Elements and returns it with
the appropriate <code>Rmonize::class</code> attribute. This function mainly helps
validate inputs within other functions of the package but could be used
separately to ensure that an object has an appropriate structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_data_proc_elem(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_data_proc_elem_+3A_object">object</code></td>
<td>
<p>A potential Data Processing Elements object to be coerced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>


<h3>Value</h3>

<p>A data frame with <code>Rmonize::class</code> 'data_proc_elem'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# Use Rmonize_DEMO to run examples.
library(dplyr)

glimpse(head(as_data_proc_elem(Rmonize_DEMO$`data_processing_elements - final`),3))

}

</code></pre>

<hr>
<h2 id='as_dataschema'>Validate and coerce as a DataSchema object</h2><span id='topic+as_dataschema'></span>

<h3>Description</h3>

<p>Checks if an object is a valid DataSchema and returns it with the appropriate
<code>Rmonize::class</code> attribute. This function mainly helps validate inputs within
other functions of the package but could be used separately to ensure that an
object has an appropriate structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_dataschema(object, as_dataschema_mlstr = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_dataschema_+3A_object">object</code></td>
<td>
<p>A potential DataSchema object to be coerced.</p>
</td></tr>
<tr><td><code id="as_dataschema_+3A_as_dataschema_mlstr">as_dataschema_mlstr</code></td>
<td>
<p>Whether the output DataSchema should be coerced
with specific format restrictions for compatibility with other
Maelstrom Research software. FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) named 'Variables' and (if any) 'Categories',
with <code>Rmonize::class</code> 'dataschema'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# Use Rmonize_DEMO to run examples.
library(dplyr)

glimpse(as_dataschema(Rmonize_DEMO$`dataschema - final`))

}

</code></pre>

<hr>
<h2 id='as_dataschema_mlstr'>Validate and coerce as a DataSchema object with specific format restrictions</h2><span id='topic+as_dataschema_mlstr'></span>

<h3>Description</h3>

<p>Checks if an object is a valid DataSchema with specific format restrictions
for compatibility with other Maelstrom Research software and returns it with
the appropriate <code>Rmonize::class</code> attribute. This function mainly helps validate
inputs within other functions of the package but could be used separately to
ensure that an object has an appropriate structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_dataschema_mlstr(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_dataschema_mlstr_+3A_object">object</code></td>
<td>
<p>A potential DataSchema object to be coerced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) named 'Variables' and (if any) 'Categories', with
<code>Rmonize::class</code> 'dataschema_mlstr'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# Use Rmonize_DEMO to run examples.
library(dplyr)

glimpse(as_dataschema_mlstr(Rmonize_DEMO$`dataschema - final`))

}

</code></pre>

<hr>
<h2 id='as_dataset'>Objects exported from other packages</h2><span id='topic+as_dataset'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+as_dataset">as_dataset</a></code></p>
</dd>
</dl>

<hr>
<h2 id='as_dossier'>Objects exported from other packages</h2><span id='topic+as_dossier'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+as_dossier">as_dossier</a></code></p>
</dd>
</dl>

<hr>
<h2 id='as_harmonized_dossier'>Validate and coerce as a harmonized dossier object</h2><span id='topic+as_harmonized_dossier'></span>

<h3>Description</h3>

<p>Checks if an object is a valid harmonized dossier and returns it with the
appropriate <code>Rmonize::class</code> attribute. This function mainly helps validate
inputs within other functions of the package but could be used separately to
ensure that an object has an appropriate structure. The function
has two arguments that can optionally be declared by the user
(<code>unique_col_dataset</code> and <code>unique_col_id</code>). <code>unique_col_dataset</code> refers to
the columns which contains name of each harmonized dataset. <code>unique_col_id</code>
refers to the column in harmonized datasets which identifies unique
combinations of observation/dataset. These two columns are added to ensure
that there is always a unique entity identifier when datasets are pooled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_harmonized_dossier(
  object,
  dataschema = attributes(object)$`Rmonize::DataSchema`,
  data_proc_elem = attributes(object)$`Rmonize::Data Processing Elements`,
  harmonized_col_id = attributes(object)$`Rmonize::harmonized_col_id`,
  harmonized_col_dataset = attributes(object)$`Rmonize::harmonized_col_dataset`,
  harmonized_data_dict_apply = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_harmonized_dossier_+3A_object">object</code></td>
<td>
<p>A A potential harmonized dossier object to be coerced.</p>
</td></tr>
<tr><td><code id="as_harmonized_dossier_+3A_dataschema">dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td></tr>
<tr><td><code id="as_harmonized_dossier_+3A_data_proc_elem">data_proc_elem</code></td>
<td>
<p>A Data Processing Elements object.</p>
</td></tr>
<tr><td><code id="as_harmonized_dossier_+3A_harmonized_col_id">harmonized_col_id</code></td>
<td>
<p>A character string identifying the name of the
column present in every dataset to use as a dataset identifier.</p>
</td></tr>
<tr><td><code id="as_harmonized_dossier_+3A_harmonized_col_dataset">harmonized_col_dataset</code></td>
<td>
<p>A character string identifying the column
to use for dataset names.</p>
</td></tr>
<tr><td><code id="as_harmonized_dossier_+3A_harmonized_data_dict_apply">harmonized_data_dict_apply</code></td>
<td>
<p>Whether to apply the dataschema to each
harmonized dataset. FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.
</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>


<h3>Value</h3>

<p>A list of data frame(s), containing harmonized dataset(s).
The DataSchema and Data Processing Elements are preserved as attributes of
the output harmonized dossier.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# Use Rmonize_DEMO to run examples.
library(dplyr)

glimpse(as_harmonized_dossier(Rmonize_DEMO$harmonized_dossier))
  
}

</code></pre>

<hr>
<h2 id='bookdown_open'>Objects exported from other packages</h2><span id='topic+bookdown_open'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+bookdown_open">bookdown_open</a></code></p>
</dd>
</dl>

<hr>
<h2 id='data_dict_apply'>Objects exported from other packages</h2><span id='topic+data_dict_apply'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+data_dict_apply">data_dict_apply</a></code></p>
</dd>
</dl>

<hr>
<h2 id='data_dict_evaluate'>Objects exported from other packages</h2><span id='topic+data_dict_evaluate'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+data_dict_evaluate">data_dict_evaluate</a></code></p>
</dd>
</dl>

<hr>
<h2 id='data_dict_extract'>Objects exported from other packages</h2><span id='topic+data_dict_extract'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+data_dict_extract">data_dict_extract</a></code></p>
</dd>
</dl>

<hr>
<h2 id='dataschema_evaluate'>Generate an assessment report for a DataSchema</h2><span id='topic+dataschema_evaluate'></span>

<h3>Description</h3>

<p>Assesses the content and structure of a DataSchema object and generates
reports of the results. This function can be used to evaluate data structure,
presence of specific fields, coherence across elements, and data dictionary
formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataschema_evaluate(dataschema, taxonomy = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataschema_evaluate_+3A_dataschema">dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td></tr>
<tr><td><code id="dataschema_evaluate_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal//">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A list of data frames containing assessment reports.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use Rmonize_DEMO provided by the package

library(dplyr)
library(madshapR) # data_dict_filter

dataschema &lt;- 
  Rmonize_DEMO$`dataschema - final` %&gt;%
  data_dict_filter("name == 'adm_unique_id'")
  
dataschema_evaluate(dataschema)

}

</code></pre>

<hr>
<h2 id='dataschema_extract'>Generate a DataSchema based on Data Processing Elements</h2><span id='topic+dataschema_extract'></span>

<h3>Description</h3>

<p>Generates a DataSchema from a Data Processing Elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataschema_extract(data_proc_elem)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataschema_extract_+3A_data_proc_elem">data_proc_elem</code></td>
<td>
<p>A Data Processing Elements object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>


<h3>Value</h3>

<p>A list of data frame(s) named 'Variables' and (if any) 'Categories', with
<code>Rmonize::class</code> 'dataschema'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# Use Rmonize_DEMO to run examples.
library(dplyr)

glimpse(dataschema_extract(
  data_proc_elem = Rmonize_DEMO$`data_processing_elements - final`))
}

</code></pre>

<hr>
<h2 id='dataset_evaluate'>Objects exported from other packages</h2><span id='topic+dataset_evaluate'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dataset_evaluate">dataset_evaluate</a></code></p>
</dd>
</dl>

<hr>
<h2 id='dataset_summarize'>Objects exported from other packages</h2><span id='topic+dataset_summarize'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dataset_summarize">dataset_summarize</a></code></p>
</dd>
</dl>

<hr>
<h2 id='dataset_visualize'>Objects exported from other packages</h2><span id='topic+dataset_visualize'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dataset_visualize">dataset_visualize</a></code></p>
</dd>
</dl>

<hr>
<h2 id='dossier_create'>Objects exported from other packages</h2><span id='topic+dossier_create'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dossier_create">dossier_create</a></code></p>
</dd>
</dl>

<hr>
<h2 id='dossier_evaluate'>Objects exported from other packages</h2><span id='topic+dossier_evaluate'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dossier_evaluate">dossier_evaluate</a></code></p>
</dd>
</dl>

<hr>
<h2 id='dossier_summarize'>Objects exported from other packages</h2><span id='topic+dossier_summarize'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dossier_summarize">dossier_summarize</a></code></p>
</dd>
</dl>

<hr>
<h2 id='harmo_process'>Generate harmonized dataset(s) and associated metadata</h2><span id='topic+harmo_process'></span>

<h3>Description</h3>

<p>Reads a DataSchema and Data Processing Elements to generate a
harmonized dossier from input dataset(s) in a dossier and associated
metadata. The function
has one argument that can optionally be declared by the user
(<code>unique_col_dataset</code>). It refers to the columns which contains name of
each harmonized dataset. These two columns are added to ensure that there
is always a unique entity identifier when datasets are pooled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmo_process(
  dossier,
  dataschema = attributes(dossier)$`Rmonize::DataSchema`,
  data_proc_elem = attributes(dossier)$`Rmonize::Data Processing Elements`,
  harmonized_col_dataset = attributes(dossier)$`Rmonize::harmonized_col_dataset`,
  harmonized_col_id = attributes(dossier)$`Rmonize::harmonized_col_id`
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmo_process_+3A_dossier">dossier</code></td>
<td>
<p>List of data frame(s) containing input dataset(s).</p>
</td></tr>
<tr><td><code id="harmo_process_+3A_dataschema">dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td></tr>
<tr><td><code id="harmo_process_+3A_data_proc_elem">data_proc_elem</code></td>
<td>
<p>A Data Processing Elements object.</p>
</td></tr>
<tr><td><code id="harmo_process_+3A_harmonized_col_dataset">harmonized_col_dataset</code></td>
<td>
<p>A character string identifying the column
to use for dataset names. NULL by default.</p>
</td></tr>
<tr><td><code id="harmo_process_+3A_harmonized_col_id">harmonized_col_id</code></td>
<td>
<p>A character string identifying the name of the
column present in every dataset to use as a dataset identifier.
NULL by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dossier is a named list containing one or more data frames, which are
input datasets. The name of each data frame in the dossier will be used as
the name of the associated harmonized dataset produced by <code><a href="#topic+harmo_process">harmo_process()</a></code>.
</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>


<h3>Value</h3>

<p>A list of data frame(s), containing harmonized dataset(s). The DataSchema
and Data Processing Elements are preserved as attributes of the
output harmonized dossier.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# Use Rmonize_DEMO to run examples.

library(dplyr)
library(madshapR) # data_dict_filter

dataset_MELBOURNE &lt;- Rmonize_DEMO$dataset_MELBOURNE[1]
dossier &lt;- dossier_create(list(dataset_MELBOURNE))

dataschema &lt;- 
  Rmonize_DEMO$`dataschema - final` %&gt;%
  data_dict_filter('name == "adm_unique_id"')

data_proc_elem &lt;- Rmonize_DEMO$`data_processing_elements - final` %&gt;%
  dplyr::filter(dataschema_variable == 'adm_unique_id',
         input_dataset == 'dataset_MELBOURNE')

# perform harmonization
harmonized_dossier &lt;- harmo_process(dossier,dataschema,data_proc_elem)
glimpse(harmonized_dossier)

}

</code></pre>

<hr>
<h2 id='harmonized_dossier_evaluate'>Generate an assessment report for a harmonized dossier</h2><span id='topic+harmonized_dossier_evaluate'></span>

<h3>Description</h3>

<p>Assesses the content and structure of a harmonized dossier and generates
reports of the results. This function can be used to evaluate data structure,
presence of specific fields, coherence across elements, and data dictionary
formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonized_dossier_evaluate(
  harmonized_dossier,
  dataschema = attributes(harmonized_dossier)$`Rmonize::DataSchema`,
  taxonomy = NULL,
  as_dataschema_mlstr = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonized_dossier_evaluate_+3A_harmonized_dossier">harmonized_dossier</code></td>
<td>
<p>A list containing the harmonized dataset(s).</p>
</td></tr>
<tr><td><code id="harmonized_dossier_evaluate_+3A_dataschema">dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_evaluate_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_evaluate_+3A_as_dataschema_mlstr">as_dataschema_mlstr</code></td>
<td>
<p>Whether the output DataSchema should be coerced
with specific format restrictions for compatibility with other
Maelstrom Research software. TRUE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.
</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal//">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frames containing assessment reports for each harmonized dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

#' # use Rmonize_DEMO provided by the package
library(dplyr)

glimpse(harmonized_dossier_evaluate(Rmonize_DEMO$harmonized_dossier))

}

</code></pre>

<hr>
<h2 id='harmonized_dossier_summarize'>Generate an assessment report and summary of a harmonized dossier</h2><span id='topic+harmonized_dossier_summarize'></span>

<h3>Description</h3>

<p>Assesses and summarizes the content and structure of a harmonized dossier and
generates reports of the results. This function can be used to evaluate data
structure, presence of specific fields, coherence across elements, and
data dictionary formats, and to summarize additional information about
variable distributions and descriptive statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonized_dossier_summarize(
  harmonized_dossier,
  group_by = attributes(harmonized_dossier)$`Rmonize::harmonized_col_dataset`,
  dataschema = attributes(harmonized_dossier)$`Rmonize::DataSchema`,
  data_proc_elem = attributes(harmonized_dossier)$`Rmonize::Data Processing Element`,
  taxonomy = NULL,
  valueType_guess = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonized_dossier_summarize_+3A_harmonized_dossier">harmonized_dossier</code></td>
<td>
<p>A list containing the harmonized dataset(s).</p>
</td></tr>
<tr><td><code id="harmonized_dossier_summarize_+3A_group_by">group_by</code></td>
<td>
<p>A character string identifying the column in the dataset
to use as a grouping variable. Elements will be grouped by this
column.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_summarize_+3A_dataschema">dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_summarize_+3A_data_proc_elem">data_proc_elem</code></td>
<td>
<p>A Data Processing Elements object.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_summarize_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_summarize_+3A_valuetype_guess">valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.
</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal//">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using valueType_list. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A list of data frames containing overall assessment reports and summaries
grouped by harmonized dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

harmonized_dossier &lt;- Rmonize_DEMO$harmonized_dossier

# summary harmonization
harmonized_dossier_summarize(harmonized_dossier)

}

</code></pre>

<hr>
<h2 id='harmonized_dossier_visualize'>Generate a web-based visual report for a harmonized dossier</h2><span id='topic+harmonized_dossier_visualize'></span>

<h3>Description</h3>

<p>Generates a visual report of a harmonized dossier in an HTML bookdown
document, with summary figures and statistics for each harmonized variable.
The report outputs can be grouped by a categorical variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonized_dossier_visualize(
  harmonized_dossier,
  bookdown_path,
  group_by = attributes(harmonized_dossier)$`Rmonize::harmonized_col_dataset`,
  harmonized_dossier_summary = NULL,
  dataschema = attributes(harmonized_dossier)$`Rmonize::DataSchema`,
  data_proc_elem = attributes(harmonized_dossier)$`Rmonize::Data Processing Element`,
  valueType_guess = FALSE,
  taxonomy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="harmonized_dossier_visualize_+3A_harmonized_dossier">harmonized_dossier</code></td>
<td>
<p>A list containing the harmonized dataset(s).</p>
</td></tr>
<tr><td><code id="harmonized_dossier_visualize_+3A_bookdown_path">bookdown_path</code></td>
<td>
<p>A character string identifying the folder path where
the bookdown report files will be saved.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_visualize_+3A_group_by">group_by</code></td>
<td>
<p>A character string identifying the column in the dataset
to use as a grouping variable. Elements will be grouped by this
column.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_visualize_+3A_harmonized_dossier_summary">harmonized_dossier_summary</code></td>
<td>
<p>A list which identifies an existing
summary produced by <code><a href="#topic+harmonized_dossier_summarize">harmonized_dossier_summarize()</a></code> of the harmonized
variables.
Using this parameter can save time in generating the visual report.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_visualize_+3A_dataschema">dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_visualize_+3A_data_proc_elem">data_proc_elem</code></td>
<td>
<p>A Data Processing Elements object.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_visualize_+3A_valuetype_guess">valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td></tr>
<tr><td><code id="harmonized_dossier_visualize_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.
</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using valueType_list. The valueType can be used to
coerce the variable to the corresponding data type.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal//">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A folder containing files for the bookdown site. To open the bookdown site
in a browser, open 'docs/index.html', or use <code><a href="#topic+bookdown_open">bookdown_open()</a></code> with the
folder path.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dataset_visualize">dataset_visualize()</a></code>
<code><a href="#topic+bookdown_open">bookdown_open()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# Use Rmonize_DEMO to run examples.

library(fs)
 
harmonized_dossier &lt;- Rmonize_DEMO$harmonized_dossier
harmonized_dossier_summary &lt;- Rmonize_DEMO$harmonized_dossier_summary
 
if(dir_exists(tempdir())) dir_delete(tempdir())
bookdown_path &lt;- tempdir()
 
harmonized_dossier_visualize(
   harmonized_dossier,
   bookdown_path = bookdown_path,
   harmonized_dossier_summary = harmonized_dossier_summary)

# To open the file in browser, open 'bookdown_path/docs/index.html'.
# Or use bookdown_open(bookdown_path) function

}

</code></pre>

<hr>
<h2 id='is_data_proc_elem'>Test for a valid Data Processing Elements object</h2><span id='topic+is_data_proc_elem'></span>

<h3>Description</h3>

<p>Tests if the input is a valid Data Processing Elements object. This function
mainly helps validate input within other functions of the package but could
be used to check if an object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_data_proc_elem(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_data_proc_elem_+3A_object">object</code></td>
<td>
<p>A potential Data Processing Elements object to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use Rmonize_DEMO provided by the package

data_proc_elem &lt;- Rmonize_DEMO$`data_processing_elements - final`
is_data_proc_elem(data_proc_elem)
is_data_proc_elem(iris)

}

</code></pre>

<hr>
<h2 id='is_dataschema'>Test for a valid DataSchema object</h2><span id='topic+is_dataschema'></span>

<h3>Description</h3>

<p>Tests if the input is a valid DataSchema object. This function mainly helps
validate input within other functions of the package but could be used to
check if an object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dataschema(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dataschema_+3A_object">object</code></td>
<td>
<p>A potential DataSchema object to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+dataschema_evaluate">dataschema_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use Rmonize_DEMO provided by the package

dataschema &lt;- Rmonize_DEMO$`dataschema - final`
is_dataschema(dataschema)
is_dataschema(iris)

}

</code></pre>

<hr>
<h2 id='is_dataschema_mlstr'>Test for a valid DataSchema object with specific format restrictions</h2><span id='topic+is_dataschema_mlstr'></span>

<h3>Description</h3>

<p>Tests if an object is a valid DataSchema object with specific format
restrictions for compatibility with other Maelstrom Research software. This
function mainly helps validate input within other functions of the package
but could be used to check if an object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dataschema_mlstr(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dataschema_mlstr_+3A_object">object</code></td>
<td>
<p>A potential DataSchema object to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+dataschema_evaluate">dataschema_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use Rmonize_DEMO provided by the package

dataschema &lt;- Rmonize_DEMO$`dataschema - final`
is_dataschema_mlstr(dataschema)
is_dataschema_mlstr(iris)

}

</code></pre>

<hr>
<h2 id='pooled_harmonized_dataset_create'>Generate a pooled harmonized dataset from a harmonized dossier</h2><span id='topic+pooled_harmonized_dataset_create'></span>

<h3>Description</h3>

<p>Generates a pooled harmonized dataset from a harmonized dossier. The function
has two arguments that can optionally be declared by the user
(<code>unique_col_dataset</code> and <code>unique_col_id</code>). <code>unique_col_dataset</code> refers to
the columns which contains name of each harmonized dataset. <code>unique_col_id</code>
refers to the column in harmonized datasets which identifies unique
combinations of observation/dataset. These two columns are added to ensure
that there is always a unique entity identifier when datasets are pooled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pooled_harmonized_dataset_create(
  harmonized_dossier,
  harmonized_col_dataset =
    attributes(harmonized_dossier)$`Rmonize::harmonized_col_dataset`,
  harmonized_col_id = attributes(harmonized_dossier)$`Rmonize::harmonized_col_id`,
  add_col_dataset = FALSE,
  dataschema = attributes(harmonized_dossier)$`Rmonize::DataSchema`,
  data_proc_elem = attributes(harmonized_dossier)$`Rmonize::Data Processing Elements`
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pooled_harmonized_dataset_create_+3A_harmonized_dossier">harmonized_dossier</code></td>
<td>
<p>A list containing the harmonized dataset(s).</p>
</td></tr>
<tr><td><code id="pooled_harmonized_dataset_create_+3A_harmonized_col_dataset">harmonized_col_dataset</code></td>
<td>
<p>A character string identifying the column
to use for dataset names.</p>
</td></tr>
<tr><td><code id="pooled_harmonized_dataset_create_+3A_harmonized_col_id">harmonized_col_id</code></td>
<td>
<p>A character string identifying the name of the
column present in every dataset to use as a dataset identifier.</p>
</td></tr>
<tr><td><code id="pooled_harmonized_dataset_create_+3A_add_col_dataset">add_col_dataset</code></td>
<td>
<p>Whether to add an extra column to each
harmonized dataset. The resulting data frame will have an additional column
and its data dictionary will be updated accordingly adding categories for
this variable if necessary. FALSE by default.</p>
</td></tr>
<tr><td><code id="pooled_harmonized_dataset_create_+3A_dataschema">dataschema</code></td>
<td>
<p>A DataSchema object.</p>
</td></tr>
<tr><td><code id="pooled_harmonized_dataset_create_+3A_data_proc_elem">data_proc_elem</code></td>
<td>
<p>A Data Processing Elements object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.
</p>
<p>A DataSchema is the list of core variables to generate across datasets and
related metadata. A DataSchema object is a list of data frames with elements
named 'Variables' (required) and 'Categories' (if any). The 'Variables'
element must contain at least the <code>name</code> column, and the 'Categories'
element must contain at least the <code>variable</code> and <code>name</code> columns to be usable
in any function. In 'Variables' the <code>name</code> column must also have unique
entries, and in 'Categories' the combination of <code>variable</code> and <code>name</code> columns
must also be unique.
</p>
<p>The Data Processing Elements specifies the algorithms used to process input
variables into harmonized variables in the DataSchema format. It is also
contains metadata used to generate documentation of the processing.
A Data Processing Elements object is a data frame with specific columns
used in data processing: <code>dataschema_variable</code>, <code>input_dataset</code>,
<code>input_variables</code>, <code>Mlstr_harmo::rule_category</code> and <code>Mlstr_harmo::algorithm</code>.
To initiate processing, the first entry must be the creation of a harmonized
primary identifier variable (e.g., participant unique ID).
</p>


<h3>Value</h3>

<p>A data frame containing the pooled harmonized dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

harmonized_dossier &lt;- Rmonize_DEMO$harmonized_dossier

glimpse(pooled_harmonized_dataset_create(
  harmonized_dossier,harmonized_col_id = 'adm_unique_id'))
  
}

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+as_data_dict_mlstr'></span><span id='topic+as_taxonomy'></span><span id='topic+as_valueType'></span><span id='topic+as_category'></span><span id='topic+is_category'></span><span id='topic+data_extract'></span><span id='topic+dataset_zap_data_dict'></span><span id='topic+is_data_dict'></span><span id='topic+is_data_dict_mlstr'></span><span id='topic+is_dataset'></span><span id='topic+is_dossier'></span><span id='topic+is_taxonomy'></span><span id='topic+valueType_adjust'></span><span id='topic+col_id'></span><span id='topic+data_dict_filter'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+as_category">as_category</a></code>, <code><a href="madshapR.html#topic+as_data_dict_mlstr">as_data_dict_mlstr</a></code>, <code><a href="madshapR.html#topic+as_taxonomy">as_taxonomy</a></code>, <code><a href="madshapR.html#topic+as_valueType">as_valueType</a></code>, <code><a href="madshapR.html#topic+col_id">col_id</a></code>, <code><a href="madshapR.html#topic+data_dict_filter">data_dict_filter</a></code>, <code><a href="madshapR.html#topic+data_extract">data_extract</a></code>, <code><a href="madshapR.html#topic+dataset_zap_data_dict">dataset_zap_data_dict</a></code>, <code><a href="madshapR.html#topic+is_category">is_category</a></code>, <code><a href="madshapR.html#topic+is_data_dict">is_data_dict</a></code>, <code><a href="madshapR.html#topic+is_data_dict_mlstr">is_data_dict_mlstr</a></code>, <code><a href="madshapR.html#topic+is_dataset">is_dataset</a></code>, <code><a href="madshapR.html#topic+is_dossier">is_dossier</a></code>, <code><a href="madshapR.html#topic+is_taxonomy">is_taxonomy</a></code>, <code><a href="madshapR.html#topic+valueType_adjust">valueType_adjust</a></code></p>
</dd>
</dl>

<hr>
<h2 id='Rmonize_DEMO'>Demo objects to provide illustrative examples</h2><span id='topic+Rmonize_DEMO'></span>

<h3>Description</h3>

<p>Demo input datasets, input data dictionaries, DataSchema,
Data Processing Elements, and other objects to provide illustrative examples
of objects used by Rmonize.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rmonize_DEMO
</code></pre>


<h3>Format</h3>



<h4><code>list</code></h4>

<p>A list with 13 elements (data frames and lists) providing example objects
for testing the package:
</p>

<dl>
<dt>data_processing_elements - final</dt><dd><p>Example Data Processing Elements</p>
</dd>
<dt>data_processing_elements - with error</dt><dd><p>Example
Data Processing Elements containing errors</p>
</dd>
<dt>data_processing_elements - work in progress</dt><dd><p>Example incomplete
Data processing Element</p>
</dd>
<dt>dataschema - final</dt><dd><p>Example DataSchema</p>
</dd>
<dt>pooled_harmonized_dataset</dt><dd><p>Example pooled harmonized dataset</p>
</dd>
<dt>harmonized_dossier</dt><dd><p>Example of harmonized dossier</p>
</dd>
<dt>harmonized_dossier_summary</dt><dd><p>Example harmonized variables summary</p>
</dd>
<dt>data_dict_MELBOURNE</dt><dd><p>Example Data dictionary for Melbourne dataset</p>
</dd>
<dt>data_dict_PARIS</dt><dd><p>Example Data dictionary for Paris dataset</p>
</dd>
<dt>data_dict_TOKYO</dt><dd><p>Example Data dictionary for Tokyo dataset</p>
</dd>
<dt>dataset_MELBOURNE</dt><dd><p>Example Dataset for Melbourne</p>
</dd>
<dt>dataset_PARIS</dt><dd><p>Example Dataset for Paris</p>
</dd>
<dt>dataset_TOKYO</dt><dd><p>Example Dataset for Tokyo</p>
</dd>
</dl>
<p>...

</p>



<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

glimpse(Rmonize_DEMO$`dataschema - final`)

}
</code></pre>

<hr>
<h2 id='Rmonize_help'>Call to online documentation</h2><span id='topic+Rmonize_help'></span>

<h3>Description</h3>

<p>Direct call to the online documentation for the package, which includes a
description of the latest version of the package, vignettes, user guides,
and a reference list of functions and help pages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rmonize_help()
</code></pre>


<h3>Value</h3>

<p>Nothing to be returned. The function opens a web page.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

Rmonize_help()

}

</code></pre>

<hr>
<h2 id='Rmonize_templates'>Call to online documentation to download templates</h2><span id='topic+Rmonize_templates'></span>

<h3>Description</h3>

<p>Direct call to online documentation to download templates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rmonize_templates()
</code></pre>


<h3>Value</h3>

<p>Nothing to be returned. The function opens a web page.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

Rmonize_templates()

}

</code></pre>

<hr>
<h2 id='Rmonize-package'>Rmonize: Support Retrospective Harmonization of Data</h2><span id='topic+Rmonize'></span><span id='topic+Rmonize-package'></span>

<h3>Description</h3>

<p>Functions to support rigorous retrospective data harmonization processing, evaluation, and documentation across datasets from different studies based on Maelstrom Research guidelines. The package includes the core functions to evaluate and format the main inputs that define the harmonization process, apply specified processing rules to generate harmonized data, diagnose processing errors, and summarize and evaluate harmonized outputs. The main inputs that define the processing are a DataSchema (list and definitions of harmonized variables to be generated) and Data Processing Elements (processing rules to be applied to generate harmonized variables from study-specific variables). The main outputs of processing are harmonized datasets, associated metadata, and tabular and visual summary reports. As described in Maelstrom Research guidelines for rigorous retrospective data harmonization (Fortier I and al. (2017) <a href="https://doi.org/10.1093/ije/dyw075">doi:10.1093/ije/dyw075</a>).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Guillaume Fabre <a href="mailto:guijoseph.fabre@gmail.com">guijoseph.fabre@gmail.com</a> (<a href="https://orcid.org/0000-0002-0124-9970">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Maelstrom-research group [funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/maelstrom-research/Rmonize/">https://github.com/maelstrom-research/Rmonize/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/maelstrom-research/Rmonize/issues">https://github.com/maelstrom-research/Rmonize/issues</a>
</p>
</li></ul>


<hr>
<h2 id='show_harmo_error'>Print a summary of data processing in the console</h2><span id='topic+show_harmo_error'></span>

<h3>Description</h3>

<p>Reads a harmonized dossier, product of <code><a href="#topic+harmo_process">harmo_process()</a></code>, to list processes,
any errors, and an overview of each harmonization rule. The output printed
in the console can help in correcting any errors that occurred during
data processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_harmo_error(harmonized_dossier)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_harmo_error_+3A_harmonized_dossier">harmonized_dossier</code></td>
<td>
<p>A list containing the harmonized dataset(s).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A harmonized dossier is a named list containing one or more data frames,
which are harmonized datasets. A harmonized dossier is generally the
product of applying processing to a dossier object The name of each
harmonized dataset (data frame) is taken from the reference input dataset.
A harmonized dossier also contains the DataSchema and
Data Processing Elements used in processing as attributes.
</p>


<h3>Value</h3>

<p>Nothing to be returned. The function prints messages in the console,
showing any errors in the processing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

  harmonized_dossier &lt;- Rmonize_DEMO$harmonized_dossier
  show_harmo_error(harmonized_dossier)

}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

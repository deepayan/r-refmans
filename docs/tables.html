<!DOCTYPE html><html><head><title>Help for package tables</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tables}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#All'>
<p>Include all columns of a dataframe.</p></a></li>
<li><a href='#AllObs'>
<p>Display all observations in a table.</p></a></li>
<li><a href='#Arguments'>
<p><code>Arguments</code> pseudo-function</p></a></li>
<li><a href='#as.matrix.tabular'>
<p>Convert tabular object to matrix</p></a></li>
<li><a href='#as.tabular'>
<p>Convert matrix or dataframe to tabular object.</p></a></li>
<li><a href='#DropEmpty'>
<p><code>DropEmpty</code> pseudo-function</p></a></li>
<li><a href='#Format'>
<p><code>Format</code> pseudo-function</p></a></li>
<li><a href='#Heading'>
<p><code>Heading</code> pseudo-function</p></a></li>
<li><a href='#Hline'>
<p>Add a horizontal line to a LaTeX table.</p></a></li>
<li><a href='#html.tabular'>
<p>Display a tabular object using HTML.</p></a></li>
<li><a href='#HTMLfootnotes'>
<p>Construct footnotes</p></a></li>
<li><a href='#Justify'>
<p><code>Justify</code> pseudo-function</p></a></li>
<li><a href='#knit_print.tabular'>
<p>Custom printing of <code>tabular</code> objects.</p></a></li>
<li><a href='#labels'>
<p>Retrieve or modify the row or column labels.</p></a></li>
<li><a href='#labelSubset'>
<p>Add a label to a logical vector.</p></a></li>
<li><a href='#latex.tabular'>
<p>Display a tabular object using LaTeX.</p></a></li>
<li><a href='#latexNumeric'>
<p>Process numeric LaTeX or HTML values.</p></a></li>
<li><a href='#latexTable'>
<p>Create table in full table environment</p></a></li>
<li><a href='#Literal'>
<p>Insert a literal entry into a table margin.</p></a></li>
<li><a href='#matrix_form.tabular'>
<p>Transform tabular object to matrices printable by formatters package</p></a></li>
<li><a href='#Paste'>
<p>Generate terms to paste values together in table.</p></a></li>
<li><a href='#Percent'>
<p>Pseudo-function to compute a statistic relative to a reference</p>
set.</a></li>
<li><a href='#PlusMinus'>
<p>Generate <code>x +/- y</code> terms in table.</p></a></li>
<li><a href='#RowFactor'>
<p>Use a variable as a factor to give rows in a table.</p></a></li>
<li><a href='#table_options'>
<p>Set or query options for the table formatting.</p></a></li>
<li><a href='#tabular'>
<p>Compute complex table</p></a></li>
<li><a href='#toKable'>
<p>Convert <code>tabular</code> object to <code>knitr_kable</code> format.</p></a></li>
<li><a href='#toTinytable'>
<p>Convert <code>tabular</code> object to <code>tinytable</code> format.</p></a></li>
<li><a href='#useGroupLabels'>
<p>Format table with groups of lines</p></a></li>
<li><a href='#write.csv.tabular'>
<p>Write table to file in CSV or other format.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Formula-Driven Table Generation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.28</td>
</tr>
<tr>
<td>Author:</td>
<td>Duncan Murdoch</td>
</tr>
<tr>
<td>Description:</td>
<td>Computes and displays complex tables of summary statistics.
  Output may be in LaTeX, HTML, plain text, or an R
  matrix for further processing.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Duncan Murdoch &lt;murdoch.duncan@gmail.com&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.12.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, knitr, htmltools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>magrittr, kableExtra (&ge; 0.9.0), Hmisc, bookdown, rmarkdown,
pkgdown, formatters, tinytable (&ge; 0.0.5)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>rmarkdown</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://dmurdoch.github.io/tables/">https://dmurdoch.github.io/tables/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dmurdoch/tables/issues">https://github.com/dmurdoch/tables/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc (&gt;= 1.12.3) for vignettes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-26 17:29:14 UTC; murdoch</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-26 17:50:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='All'>
Include all columns of a dataframe.
</h2><span id='topic+All'></span>

<h3>Description</h3>

<p>This constructs a formula object for all the columns of a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>All(df, numeric=TRUE, character=FALSE, logical=FALSE, factor=FALSE, 
        complex=FALSE, raw=FALSE, other=FALSE,
        texify=getOption("tables.texify", FALSE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="All_+3A_df">df</code></td>
<td>

<p>The dataframe in which to find the columns.
</p>
</td></tr>
<tr><td><code id="All_+3A_numeric">numeric</code>, <code id="All_+3A_character">character</code>, <code id="All_+3A_logical">logical</code>, <code id="All_+3A_factor">factor</code>, <code id="All_+3A_complex">complex</code>, <code id="All_+3A_raw">raw</code></td>
<td>

<p>Whether to include columns of specified types.  See the Details below.
</p>
</td></tr>
<tr><td><code id="All_+3A_other">other</code></td>
<td>

<p>Whether to include columns that match none of the previous types.
</p>
</td></tr>
<tr><td><code id="All_+3A_texify">texify</code></td>
<td>

<p>Whether to escape LaTeX special characters in column names.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function constructs a formula from the columns of a dataframe.
By default, only numeric columns are included.  The arguments 
<code>numeric</code>, <code>character</code>, <code>logical</code>, <code>factor</code>, <code>complex</code>
and <code>raw</code> control the inclusion of columns of the corresponding types.  
The argument <code>other</code> controls inclusion of any other columns.
</p>
<p>If these arguments are <code>TRUE</code>, such columns will be included in
the formula.
</p>
<p>If a function (or the name of a function given as a character string)
is passed, such columns will be transformed by the function before
inclusion.  For example, <code>All(df, factor=as.character)</code> will
convert all factor columns into their character representation for
inclusion.
</p>
<p>In other cases, the columns will be skipped.
</p>


<h3>Value</h3>

<p>Language to insert into the table formula to achieve the desired table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Show mean and sd of all numeric columns in the iris data
tabular( Species  ~ 
       All(iris)*(mean + sd), data=iris )
</code></pre>

<hr>
<h2 id='AllObs'>
Display all observations in a table.
</h2><span id='topic+AllObs'></span><span id='topic+RowNum'></span>

<h3>Description</h3>

<p>These functions generate the code for a <code><a href="#topic+tabular">tabular</a></code> table
to include all observations in a dataset, possibly divided up according
to other factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AllObs(data = NULL, show = FALSE, label = "Obsn.", within = NULL)
RowNum(within = NULL, perrow = 5, show = FALSE, label = "Row", data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AllObs_+3A_data">data</code></td>
<td>

<p>The full dataset, used only to find the number of observations.
</p>
</td></tr>
<tr><td><code id="AllObs_+3A_show">show</code></td>
<td>

<p>Whether to show the observation number or row number in the table.
</p>
</td></tr>
<tr><td><code id="AllObs_+3A_label">label</code></td>
<td>

<p>The label to use when <code>show = TRUE</code>.
</p>
</td></tr>
<tr><td><code id="AllObs_+3A_within">within</code></td>
<td>

<p>A factor or list of factors by which to break up the observations.
</p>
</td></tr>
<tr><td><code id="AllObs_+3A_perrow">perrow</code></td>
<td>

<p>How many observations per row when <code>RowNum</code> is used in 
the row specification, or per column when it is part of the
column specification.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>AllObs</code> is used to display all of the observations in a dataset.
It generates a (usually undisplayed) factor with a different level for each observation,
sets a function to display the value, and calls <code><a href="#topic+DropEmpty">DropEmpty</a></code>
to suppress display of empty rows, columns or cells.
</p>
<p>If the <code>within</code> argument is specified in <code>AllObs</code>, the 
factor levels are restarted within each grouping.  (<code>within</code>
is interpreted as the <code>INDEX</code> argument of <code><a href="base.html#topic+tapply">tapply</a></code>,
with one exception described below.)  This may be useful when
displaying the observation number, and is definitely useful
if <code>AllObs</code> is used as a column specification in the table.
It will also save some computation time if the table is very
large, since fewer factor levels will be generated and 
later dropped.
</p>
<p><code>RowNum</code> is unlikely to be useful in a table by itself,
but is helpful when displaying large datasets with <code>AllObs</code>.
It allows a large number of observations to be broken into
several rows and columns.  
</p>
<p>Because <code>RowNum</code> affects both rows and
columns, its use is somewhat unusual.  Normally it should be called
before calling <code><a href="#topic+tabular">tabular</a></code>, and its result saved in a
variable.  That variable (e.g. <code>rownum</code>) is used in the
row specification for the table wrapped in <code><a href="base.html#topic+I">I</a>()</code>, and
in the column specification of the table in the <code>within</code>
argument to <code>AllObs</code>.  (This is the exception mentioned above.)
</p>
<p>Despite its name, <code>RowNum</code> can be used as a column specifier,
if you'd prefer column-major ordering of the values displayed 
in the table.
</p>


<h3>Value</h3>

<p>Both <code>AllObs</code> and <code>RowNum</code> return language objects
to be used on <code><a href="#topic+tabular">tabular</a></code> formulas.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tabular">tabular</a></code>, <code><a href="#topic+DropEmpty">DropEmpty</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tabular(Factor(cyl)*Factor(gear)*AllObs(mtcars) ~ 
               rownames(mtcars) + mpg, data=mtcars)
    
rownum &lt;- with(mtcars, RowNum(list(cyl, gear)))
tabular(Factor(cyl)*Factor(gear)*I(rownum) ~
        mpg * AllObs(mtcars, within = list(cyl, gear, rownum)), 
        data=mtcars)
</code></pre>

<hr>
<h2 id='Arguments'>
<code>Arguments</code> pseudo-function
</h2><span id='topic+Arguments'></span>

<h3>Description</h3>

<p>The <code>Arguments</code> pseudo-function enables the use
of analysis functions that take multiple arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Arguments(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Arguments_+3A_...">...</code></td>
<td>

<p>Arguments to pass to the analysis function.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments to <code>Arguments</code>
are evaluated in full, then those which are length <code>n</code> are subsetted for
each cell in the table.
</p>
<p>If no analysis variable has been specified, but <code>Arguments()</code> has been, then 
the analysis function will be called with arguments matching those
given in <code>...</code>.  If an analysis variable was specified, it will
be inserted as an unnamed first argument to the analysis function.
</p>
<p>The <code>Arguments()</code> entry will not create a heading.
</p>
<p>Only one <code>Arguments()</code> specification may be active in any
term in the tabular formula.
</p>


<h3>Pseudo-functions</h3>

<p>This is a &ldquo;pseudo-function&rdquo;:  it takes the form of a function call, but is
never actually called:  it is 
handled specially by <code><a href="#topic+tabular">tabular</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Percent">Percent</a></code> for a different way to specify
a multiple argument analysis function.</p>


<h3>Examples</h3>

<pre><code class='language-R'># This is the example from the weighted.mean help page
wt &lt;- c(5,  5,  4,  1)/15
x &lt;- c(3.7,3.3,3.5,2.8)
gp &lt;- c(1,1,2,2)
tabular( (Factor(gp) + 1) 
	  ~ weighted.mean*x*Arguments(w = wt) )
</code></pre>

<hr>
<h2 id='as.matrix.tabular'>
Convert tabular object to matrix
</h2><span id='topic+as.matrix.tabular'></span>

<h3>Description</h3>

<p>Convert a tabular object to a matrix of the strings that would print, or a matrix of values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tabular'
as.matrix(x, format = TRUE, 
    rowLabels = TRUE, colLabels = TRUE, justification = "n", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.matrix.tabular_+3A_x">x</code></td>
<td>

<p>A <code>"tabular"</code> object.
</p>
</td></tr>
<tr><td><code id="as.matrix.tabular_+3A_format">format</code></td>
<td>

<p>How to format; see Details below.
</p>
</td></tr>
<tr><td><code id="as.matrix.tabular_+3A_rowlabels">rowLabels</code>, <code id="as.matrix.tabular_+3A_collabels">colLabels</code></td>
<td>

<p>Whether to include the row or column labels; only used
if <code>format = TRUE</code>.
</p>
</td></tr>
<tr><td><code id="as.matrix.tabular_+3A_justification">justification</code></td>
<td>

<p>How to justify values; only used if <code>format = TRUE</code>.
</p>
</td></tr>
<tr><td><code id="as.matrix.tabular_+3A_...">...</code></td>
<td>

<p>Other parameters to pass to <code><a href="#topic+format.tabular">format.tabular</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>format=TRUE</code>, then a matrix of formatted strings is produced.  If not, then
the <code>format</code> argument is assumed to be a function (or name of a function passed as
a character vector) to convert the list-mode matrix to another mode, e.g. <code>as.numeric</code>.
</p>


<h3>Value</h3>

<p>A matrix.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
table &lt;-
    tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )

print(table)
as.matrix(table)
as.matrix(table, format=as.numeric)
</code></pre>

<hr>
<h2 id='as.tabular'>
Convert matrix or dataframe to tabular object.
</h2><span id='topic+as.tabular'></span><span id='topic+as.tabular.default'></span><span id='topic+as.tabular.data.frame'></span>

<h3>Description</h3>

<p>These functions construct or copy labels onto an existing
matrix or dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.tabular(x, like = NULL)
## Default S3 method:
as.tabular(x, like = NULL)
## S3 method for class 'data.frame'
as.tabular(x, like = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.tabular_+3A_x">x</code></td>
<td>

<p>The object to convert.
</p>
</td></tr>
<tr><td><code id="as.tabular_+3A_like">like</code></td>
<td>

<p>If not <code>NULL</code>, should be a tabular object with the
same number of rows and columns as <code>x</code>.  Its labels
will be used on the result.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tabular</code> object.
</p>


<h3>See Also</h3>

<p><code>as.matrix.tabular</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model &lt;- tabular( (Species + 1) ~ (n=1) + Sepal.Length + Sepal.Width, data=iris )
model
as.tabular(matrix(1:12, 4,3), like=model)
</code></pre>

<hr>
<h2 id='DropEmpty'>
<code>DropEmpty</code> pseudo-function
</h2><span id='topic+DropEmpty'></span>

<h3>Description</h3>

<p>Pseudo-function to indicate that rows or columns containing
no observations should be dropped.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DropEmpty(empty = "", which = c("row", "col", "cell"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DropEmpty_+3A_empty">empty</code></td>
<td>

<p>String to use in empty cells.  
</p>
</td></tr>
<tr><td><code id="DropEmpty_+3A_which">which</code></td>
<td>

<p>A vector indicating what should be dropped.  See the Details
below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the <code>which</code> argument contains <code>"row"</code>, then
any row in the table in which all cells are empty will be dropped.
Similarly, if it contains <code>"col"</code>, empty columns
will be dropped.  If it contains <code>"cell"</code>, then cells
in rows and columns that are not dropped will be set to
the <code>empty</code> string.
</p>


<h3>Pseudo-functions</h3>

<p>This is a &ldquo;pseudo-function&rdquo;:  it takes the form of a function call, but is
never actually called:  it is 
handled specially by <code><a href="#topic+tabular">tabular</a></code>. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(row = factor(1:10), value = rnorm(10))
subset &lt;- df[sample(10, 5),, drop = FALSE]

# Some rows did not get selected, so this looks ugly
tabular(row ~ value*mean, data = subset)

# This only shows rows with data in them
tabular(row*DropEmpty() ~ value*mean, data = subset)

# This shows empty cells as "(empty)"
tabular(row*DropEmpty("(empty)", "cell") ~ value*mean, data = subset)
</code></pre>

<hr>
<h2 id='Format'>
<code>Format</code> pseudo-function
</h2><span id='topic+Format'></span><span id='topic+.Format'></span>

<h3>Description</h3>

<p><code>Format</code> controls the formatting
of the cells it applies to.  <code>.Format</code> is mainly for internal use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Format(...)
.Format(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Format_+3A_...">...</code></td>
<td>

<p>Arguments to pass to a formatting function, or a call to a formatting function.
</p>
</td></tr>
<tr><td><code id="Format_+3A_n">n</code></td>
<td>

<p>A format number.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>Format</code> pseudo-function changes the
formatting of table cells, and it specifies that all values it applies to will be
formatted together. 
</p>
<p>In the first form, the &ldquo;call&rdquo; to <code>Format</code> looks like a call to
<code>format</code>, but without specifying the argument <code>x</code>.  When
<code>tabular()</code> formats the output it will construct <code>x</code> from
the entries in the table governed by the <code>Format()</code>
specification, and pass it to the standard <code><a href="base.html#topic+format">format</a></code> function
along with the other arguments.
</p>
<p>In the second form, the &ldquo;call&rdquo; to <code>Format</code> contains a 
call to a function to do the formatting.  Again, an argument
<code>x</code> will be added to the call, containing the values to be formatted.
</p>
<p>In the first form, or if the explicit function is named <code>format</code>, any cells
in the table with character values will not be formatted.  This is
done so that a column can have mixed numeric and character values, and
the numerics are not converted to character before formatting.
</p>
<p>The pseudo-function <code>.Format</code> is mainly intended for internal
use. It takes a single integer argument, saying that data governed by
this call uses the same formatting as the format specification
indicated by the integer. In this way entries can be commonly
formatted even when they are not contiguous. The integers are assigned
sequentially as the format specification is parsed; users will likely
need trial and error to find the right value in a complicated table
with multiple formats.
</p>


<h3>Pseudo-functions</h3>

<p>This is a &ldquo;pseudo-function&rdquo;:  it takes the form of a function call, but is
never actually called:  it is 
handled specially by <code><a href="#topic+tabular">tabular</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using the first form
tabular( (Sepal.Length+Sepal.Width) ~ 
         Format(digits=2)*(mean + sd), data=iris )
         
# The same table, using the second form
tabular( (Sepal.Length+Sepal.Width) ~ 
         Format(format(digits=2))*(mean + sd), data=iris )

</code></pre>

<hr>
<h2 id='Heading'>
<code>Heading</code> pseudo-function
</h2><span id='topic+Heading'></span>

<h3>Description</h3>

<p>The <code>Heading</code> pseudo-function normally overrides the automatic
heading on the following items in a table.  Setting 
<code>override=FALSE</code> is used in automatically 
generated expressions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Heading(name = NULL, override = TRUE, character.only = FALSE, nearData = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Heading_+3A_name">name</code></td>
<td>

<p>A legal R variable name, or a character constant.
</p>
</td></tr>
<tr><td><code id="Heading_+3A_override">override</code></td>
<td>

<p>Whether this heading should override one that is already present.
</p>
</td></tr>
<tr><td><code id="Heading_+3A_character.only">character.only</code></td>
<td>

<p>If <code>TRUE</code>, the <code>name</code> argument will be interpreted
as an expression evaluating to a character value.
</p>
</td></tr>
<tr><td><code id="Heading_+3A_neardata">nearData</code></td>
<td>

<p>See Details below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This replaces the automatic heading or row label on the following item
with the <code>name</code> or string as specified.  If no argument
is given, the heading or label is suppressed.  
</p>
<p>An alternative form of <code>Heading(name)</code> is <code>(name=...)</code>, where
<code>...</code> is an expression to be displayed in the table.
</p>
<p>If <code>override = FALSE</code>, the label is only supplied if there is no other label.
This is used in the code for <code><a href="#topic+Factor">Factor</a></code>.
</p>
<p>The <code>nearData</code> argument is rarely used.  It
affects the situation where <code>"+"</code> is used to
join tables with different numbers of labels.  
If <code>nearData = TRUE</code> (the default), the shorter
list of labels are pushed close to the data, i.e.
to the right side for row labels, the bottom for
column labels.  If <code>FALSE</code>, they are pushed
to the opposite side.
</p>


<h3>Pseudo-functions</h3>

<p>This is a &ldquo;pseudo-function&rdquo;:  it takes the form of a function call, but is
never actually called:  it is 
handled specially by <code><a href="#topic+tabular">tabular</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tabular( (Sepal.Length+Sepal.Width) ~ 
         (Heading(Mean)*mean + (S.D.=sd)), data=iris )

heading &lt;- "Variable Heading"
tabular( (Sepal.Length+Sepal.Width) ~ 
         (Heading(heading, character.only = TRUE)*mean + (S.D.=sd)), 
         data=iris )
</code></pre>

<hr>
<h2 id='Hline'>
Add a horizontal line to a LaTeX table.
</h2><span id='topic+Hline'></span>

<h3>Description</h3>

<p>This function inserts a LaTeX directive to draw a full or partial 
line in a table.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Hline(columns, nearData = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Hline_+3A_columns">columns</code></td>
<td>

<p>Which columns should receive the line?
</p>
</td></tr>
<tr><td><code id="Hline_+3A_neardata">nearData</code></td>
<td>

<p>See the Details section of <code><a href="#topic+Heading">Heading</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Hline()</code> is not very flexible:  it must be the leftmost header in a row specification
for the table, i.e. <code>mean * Hline()</code> is not allowed.  Anything to the right of the
<code>Hline()</code> factor will be ignored.
</p>


<h3>Value</h3>

<p>Produces an expression to insert a label which will be interpreted by LaTeX as a request
for a horizontal line.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toLatex( tabular( Species + Hline() + 1 ~ mean*Sepal.Width, data=iris) )
</code></pre>

<hr>
<h2 id='html.tabular'>
Display a tabular object using HTML.
</h2><span id='topic+html.tabular'></span><span id='topic+toHTML'></span><span id='topic+writeCSS'></span>

<h3>Description</h3>

<p>This is similar to <code><a href="#topic+print.tabular">print.tabular</a></code>, but it inserts the code to
display the table in an HTML table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toHTML(object, file = "", options = NULL, 
                       id = NULL, append = FALSE, 
                       browsable = TRUE, ...)
html.tabular(object, ...)
writeCSS(CSS = htmloptions()$CSS, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="html.tabular_+3A_object">object</code></td>
<td>

<p>The tabular object.
</p>
</td></tr>
<tr><td><code id="html.tabular_+3A_file">file</code></td>
<td>

<p>A filename or connection to which to write the HTML code, or
<code>""</code> to write to the console.
</p>
</td></tr>
<tr><td><code id="html.tabular_+3A_options">options</code></td>
<td>

<p>A list of options to set for the duration of the call.
</p>
</td></tr>
<tr><td><code id="html.tabular_+3A_id">id</code></td>
<td>

<p>A unique identifier to set for this table and the associated
CSS style, or <code>NULL</code>, for no id.
</p>
</td></tr>
<tr><td><code id="html.tabular_+3A_append">append</code></td>
<td>

<p>If <code>TRUE</code>, opens <code>file</code> for appending (if it is
a filename rather than a connection).
</p>
</td></tr>
<tr><td><code id="html.tabular_+3A_browsable">browsable</code></td>
<td>

<p>Should the output be marked as browsable?  
</p>
</td></tr>
<tr><td><code id="html.tabular_+3A_...">...</code></td>
<td>

<p>Settings for default formatting.  See Details below.
</p>
</td></tr>  
<tr><td><code id="html.tabular_+3A_css">CSS</code></td>
<td>

<p>A character vector to use as CSS.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>toHTML()</code> function produces HTML output suitable for inclusion in an HTML page.
</p>
<p>The <code>html.tabular</code> function is set up
to work as a method for the <code>html</code> generic in <span class="pkg">Hmisc</span>,
but is not registered as a method, so that <span class="pkg">tables</span> can
work when <span class="pkg">Hmisc</span> is not installed.
</p>
<p>In HTML, it is mainly the CSS style sheet that determines the look of the table.  
When formatting a table, <code>html.tabular</code> sets the CSS class according to the
table's <code>Justify</code> setting; justifications of <code>c("l", "c", "r")</code> are
translated to classes <code>c("left", "center", "right")</code> respectively; other strings
will be passed through and used directly as class names.  
If the <code>id</code> value is not <code>NULL</code>, then it will be used
as the CSS id selector when searching for a style.
See <code><a href="#topic+table_options">table_options</a></code> for a number of options that control formatting, including
the default style sheet.
</p>


<h3>Value</h3>

<p>If <code>file = ""</code> (the default), the <code>toHTML()</code>
function creates an HTML object using the
<code>htmltools::HTML</code> function and returns it. 
If <code>file</code> is a character value or a connection, the results are written there and the HTML object is returned
invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.tabular">print.tabular</a></code>, <code><a href="#topic+toLatex.tabular">toLatex.tabular</a></code>, <code><a href="Hmisc.html#topic+html">html</a></code>, <code><a href="#topic+htmloptions">htmloptions</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
X &lt;- rnorm(125, sd=100)
Group &lt;- factor(sample(letters[1:5], 125, rep=TRUE))

tab &lt;- tabular( Group ~ (N=1)+Format(digits=2)*X*((Mean=mean) + Heading("Std Dev")*sd) )

save &lt;- table_options()
table_options(rowlabeljustification="c")

f &lt;- tempfile(fileext=".html")
con &lt;- file(f, "wt")

if (interactive())
  toHTML(tab, con, options=htmloptions(head=TRUE, table=FALSE))

writeLines("&lt;p&gt;This table has pad = FALSE.  The centered numbers look
sloppy.&lt;br&gt;", con)

if (interactive())
  toHTML(tab, con, options=htmloptions(head=FALSE, table=TRUE, pad=FALSE))

writeLines("&lt;p&gt;This table has pad = FALSE and justification=\"r\".
The justification makes the columns of numbers look all right (except
for the hyphens used as minus signs), but they are placed poorly
relative to the labels.&lt;br&gt;", con)

if (interactive())
  toHTML(tab, con, options=htmloptions(head=FALSE, table=TRUE, pad=FALSE, justification="r"))

writeLines("&lt;p&gt;This one has pad = TRUE. It looks best, but if you cut
and paste, the spacing characters may cause problems.&lt;br&gt;", con)

if (interactive())
  toHTML(tab, con, options=htmloptions(head=FALSE, table=TRUE, pad=TRUE))

table_options(save)
close(con)
if (interactive())
  browseURL(f)

</code></pre>

<hr>
<h2 id='HTMLfootnotes'>
Construct footnotes
</h2><span id='topic+HTMLfootnotes'></span>

<h3>Description</h3>

<p>This function constructs HTML code for footnotes
to insert at the bottom of the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HTMLfootnotes(tab, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HTMLfootnotes_+3A_tab">tab</code></td>
<td>

<p>A tabular object, used only so
that the column width of the footnotes matches.
</p>
</td></tr>
<tr><td><code id="HTMLfootnotes_+3A_...">...</code></td>
<td>

<p>The footnotes.  If named, will be preceded with the
name as a superscript.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing HTML code for the
footnotes.  Use this in <code><a href="#topic+table_options">table_options</a>(HTMLfooter = ...)</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tab &lt;- tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )
footnote &lt;- HTMLfootnotes(tab, 
                          "This is a footnote with no marker.", 
                          "*" = "This is a footnote with an asterisk.")
if (interactive())
  toHTML(tab, options = list(doFooter = TRUE,
                           HTMLfooter = footnote))
</code></pre>

<hr>
<h2 id='Justify'>
<code>Justify</code> pseudo-function
</h2><span id='topic+Justify'></span>

<h3>Description</h3>

<p>The <code>Justify</code> pseudo-function sets the justification
of the following items in the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Justify(labels, data=labels)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Justify_+3A_labels">labels</code></td>
<td>

<p>Justification to use for labels
</p>
</td></tr>
<tr><td><code id="Justify_+3A_data">data</code></td>
<td>

<p>Justification to use for data.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The justification can be an R name if that is syntactically valid, 
or a quoted string.
</p>


<h3>Pseudo-functions</h3>

<p>This is a &ldquo;pseudo-function&rdquo;:  it takes the form of a function call, but is
never actually called:  it is 
handled specially by <code><a href="#topic+tabular">tabular</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tabular( Justify(c,l)*Heading(Var)*(Sepal.Length+Sepal.Width) ~ 
         Justify(c)*(mean + sd), data=iris )
</code></pre>

<hr>
<h2 id='knit_print.tabular'>
Custom printing of <code>tabular</code> objects.
</h2><span id='topic+knit_print.tabular'></span>

<h3>Description</h3>

<p>Automatically print <code>tabular</code> objects with formatting when
in a <span class="pkg">knitr</span> document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tabular'
knit_print(x, format = getKnitrFormat(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="knit_print.tabular_+3A_x">x</code></td>
<td>

<p>A <code>tabular</code> object.
</p>
</td></tr>
<tr><td><code id="knit_print.tabular_+3A_format">format</code></td>
<td>

<p>Which output format?  <code>"latex"</code> and <code>"html"</code> are supported.
</p>
</td></tr>
<tr><td><code id="knit_print.tabular_+3A_...">...</code></td>
<td>

<p>Other parameters, currently ignored.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is not normally called by a user.  It is designed to
be called by <span class="pkg">knitr</span> while processing a &lsquo;<span class="file">.Rmd</span>&rsquo; or &lsquo;<span class="file">.Rnw</span>&rsquo; document.
</p>
<p>If <code>table_options()$knit_print</code> is <code>TRUE</code> and the output
format is supported, this method will prepare output suitable for
formatted printing in a <span class="pkg">knitr</span> document using <code><a href="knitr.html#topic+asis_output">asis_output</a></code>.  Otherwise,
the usual unformatted print display will be done by <code><a href="knitr.html#topic+normal_print">normal_print</a></code>.
</p>


<h3>Value</h3>

<p>An object marked for printing in a <span class="pkg">knitr</span> document.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tab &lt;- tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )
knitr::knit_print(tab)
</code></pre>

<hr>
<h2 id='labels'>
Retrieve or modify the row or column labels.
</h2><span id='topic+rowLabels'></span><span id='topic+rowLabels+3C-'></span><span id='topic+colLabels'></span><span id='topic+colLabels+3C-'></span><span id='topic++5B.tabularColLabels'></span><span id='topic++5B.tabularRowLabels'></span>

<h3>Description</h3>

<p>These functions allow the row or column labels of a tabular
object to be retrieved or modified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rowLabels(x)
rowLabels(x) &lt;- value
colLabels(x)
colLabels(x) &lt;- value
## S3 method for class 'tabularRowLabels'
x[i, j, ..., drop = FALSE]
## S3 method for class 'tabularColLabels'
x[i, j, ..., drop = FALSE]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labels_+3A_x">x</code></td>
<td>

<p>A <code>"tabular"</code>, <code>"tabularRowLabels"</code> or <code>"tabularColLabels"</code> object.
</p>
</td></tr>
<tr><td><code id="labels_+3A_value">value</code></td>
<td>

<p>A replacement
</p>
</td></tr>
<tr><td><code id="labels_+3A_i">i</code>, <code id="labels_+3A_j">j</code>, <code id="labels_+3A_...">...</code>, <code id="labels_+3A_drop">drop</code></td>
<td>

<p>Arguments used for subsetting the labels.  See Details below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Subsetting the row labels does not allow the number of rows
to be changed; likewise, subsetting the column labels does
not allow the number of columns to be changed.  To change both, 
subset the original <code>"tabular"</code> object.
</p>


<h3>Value</h3>

<p><code>rowLabels</code> and the corresponding subsetting method
return an object of class <code>"tabularRowLabels"</code>.
</p>
<p><code>colLabels</code> and the corresponding subsetting method 
return an object of class <code>"tabularColLabels"</code>.
</p>
<p>The assignment functions return <code>"tabular"</code> objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic++5B.tabular">[.tabular</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tab &lt;- tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )
colLabels(tab)
colLabels(tab) &lt;- colLabels(tab)[1,]
tab
</code></pre>

<hr>
<h2 id='labelSubset'>
Add a label to a logical vector.
</h2><span id='topic+labelSubset'></span>

<h3>Description</h3>

<p>This function is mainly for internal use.  It adds a label to 
a logical vector, so that the <code><a href="#topic+Percent">Percent</a></code> pseudo-function
can ignore it when forming a denominator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labelSubset(subset, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labelSubset_+3A_subset">subset</code></td>
<td>

<p>A logical vector describing a subset of the dataset.
</p>
</td></tr>
<tr><td><code id="labelSubset_+3A_label">label</code></td>
<td>

<p>A character label to use to describe this subset in a call
to <code>Equal</code> or <code>Unequal</code> within <code><a href="#topic+Percent">Percent</a></code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of class <code>"labelledSubset"</code> with the label 
recorded as an attribute.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Percent">Percent</a></code>
</p>

<hr>
<h2 id='latex.tabular'>
Display a tabular object using LaTeX.
</h2><span id='topic+toLatex'></span><span id='topic+latex.tabular'></span><span id='topic+toLatex.tabular'></span>

<h3>Description</h3>

<p>This is similar to <code><a href="#topic+print.tabular">print.tabular</a></code>, but it inserts the code to
display the table in a LaTeX tabular environment.  The <code>toLatex.tabular</code> method works with the <code><a href="#topic+toLatex">toLatex</a></code> generic
from <span class="pkg">utils</span>.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toLatex(object, ...)
## S3 method for class 'tabular'
toLatex(object, file = "", options = NULL, append = FALSE, ...)
latex.tabular(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latex.tabular_+3A_object">object</code></td>
<td>

<p>The tabular object.
</p>
</td></tr>
<tr><td><code id="latex.tabular_+3A_file">file</code></td>
<td>

<p>A filename or connection to which to write the LaTeX code, or
<code>""</code> to write to the standard output.
</p>
</td></tr>
<tr><td><code id="latex.tabular_+3A_options">options</code></td>
<td>

<p>A list of options to set for the duration of the call.
</p>
</td></tr>
<tr><td><code id="latex.tabular_+3A_append">append</code></td>
<td>

<p>If <code>TRUE</code>, opens <code>file</code> for appending (if it is
a filename rather than a connection).
</p>
</td></tr>
<tr><td><code id="latex.tabular_+3A_...">...</code></td>
<td>

<p>Settings for default formatting.  See Details below.
</p>
</td></tr>  
</table>


<h3>Details</h3>

<p>The <code>toLatex()</code> method produces LaTeX output suitable for inclusion in a <code><a href="utils.html#topic+Sweave">Sweave</a></code> document. 
</p>
<p>The <code>latex.tabular</code> function is set up
to work as a method for the <code>latex</code> generic in <span class="pkg">Hmisc</span>,
but is not registered as a method, so that <span class="pkg">tables</span> can
work when <span class="pkg">Hmisc</span> is not installed.
</p>


<h3>Value</h3>

<p>The <code>toLatex()</code> method returns <code>x</code> invisibly, and prints the LaTeX script to the console.
</p>
<p><code>table_options()</code> and <code>booktabs()</code> return the previous settings.
</p>


<h3>Note</h3>

<p>For historical reasons, the <code>toLatex()</code> function with a non-empty <code>file</code> argument
doesn't write to the file until the returned value is printed.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.tabular">print.tabular</a></code>, <code><a href="#topic+table_options">table_options</a></code>,
<code><a href="#topic+toLatex">toLatex</a></code>, <code><a href="Hmisc.html#topic+latex">latex</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tab &lt;- tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )
toLatex(tab)
save &lt;- booktabs()
toLatex(tab)
table_options(save)
</code></pre>

<hr>
<h2 id='latexNumeric'>
Process numeric LaTeX or HTML values.
</h2><span id='topic+latexNumeric'></span><span id='topic+htmlNumeric'></span>

<h3>Description</h3>

<p>This takes formatted strings as produced by <code><a href="base.html#topic+format">format</a></code> from numeric
values, and modifies them to LaTeX or HTML code that retains the spacing, and renders
minus signs properly.  The default formatting in <code><a href="#topic+tabular">tabular</a></code>
uses this to maintain proper alignment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latexNumeric(chars, minus = TRUE, leftpad = TRUE, rightpad = TRUE, mathmode = TRUE)
htmlNumeric(chars, minus = TRUE, leftpad = TRUE, rightpad = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latexNumeric_+3A_chars">chars</code></td>
<td>

<p>A character vector of numeric values.
</p>
</td></tr>
<tr><td><code id="latexNumeric_+3A_minus">minus</code></td>
<td>

<p>Whether to pad cases with no minus sign with spacing of the same width.
</p>
</td></tr>
<tr><td><code id="latexNumeric_+3A_leftpad">leftpad</code>, <code id="latexNumeric_+3A_rightpad">rightpad</code></td>
<td>

<p>Whether to pad cases that have leading or trailing blanks with spacing matching a digit width per space.
</p>
</td></tr>
<tr><td><code id="latexNumeric_+3A_mathmode">mathmode</code></td>
<td>

<p>Whether to wrap the result in dollar signs, so LaTeX renders minus signs properly.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length as <code>chars</code>, with modifications
to render properly in LaTeX.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latexNumeric(format(c(1.1,-1,10,-10)))
htmlNumeric(format(c(1.1,-1,10,-10)))
</code></pre>

<hr>
<h2 id='latexTable'>
Create table in full table environment
</h2><span id='topic+latexTable'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+tabular">tabular</a></code> function creates a table which usually 
renders as a <code style="white-space: pre;">&#8288;tabular&#8288;</code> environment when displayed in LaTeX, 
not as a &quot;float&quot; with caption, label, etc.  This function
wraps the <code><a href="#topic+tabular">tabular</a></code> result in the result of a call to the
<code>knitr::<a href="knitr.html#topic+kable">kable</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latexTable(table, format = "latex", longtable = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latexTable_+3A_table">table</code></td>
<td>

<p>Either a formula to be passed to <code><a href="#topic+tabular">tabular</a></code>, or the
result of a call to that function.
</p>
</td></tr>
<tr><td><code id="latexTable_+3A_format">format</code></td>
<td>

<p>Currently only <code>"latex"</code> format output is supported.
</p>
</td></tr>
<tr><td><code id="latexTable_+3A_longtable">longtable</code>, <code id="latexTable_+3A_...">...</code></td>
<td>

<p>Additional arguments to be passed to the <code>knitr::<a href="knitr.html#topic+kable">kable</a></code>
function.  See details below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Rather than redoing all the work of generating LaTeX code to wrap the
<code><a href="#topic+tabular">tabular</a></code> result, this function works by generating a dummy
<code><a href="knitr.html#topic+kable">kable</a></code> table, and replaces the <code style="white-space: pre;">&#8288;tabular&#8288;</code> part
with the <code><a href="#topic+tabular">tabular</a></code> result.
</p>
<p>Many of the arguments to <code><a href="knitr.html#topic+kable">kable</a></code> deal with the
content of the table, not the wrapper.  These will be ignored with a
warning.  Currently the arguments that will not be ignored, with their
defaults, are:
</p>

<dl>
<dt><code>caption = NULL</code></dt><dd><p>The caption to use on the table.</p>
</dd>
<dt><code>label = NULL</code></dt><dd><p>Part of the LaTeX label to use on the table.  The
full label will have <code>"tab:"</code> prepended by  <code><a href="knitr.html#topic+kable">kable</a></code>.</p>
</dd>
<dt><code>escape = TRUE</code></dt><dd><p>Whether to escape special characters in the caption.</p>
</dd>
<dt><code>booktabs = FALSE, longtable = FALSE</code></dt><dd><p>Logical values to indicate that style
of table.  These must also be specified to <code><a href="#topic+tabular">tabular</a></code>; see
the main <a href="../doc/index.html">vignette</a> for details.</p>
</dd>
<dt><code>position = ""</code></dt><dd><p>The instruction to LaTeX about how to position
the float in the document.</p>
</dd>
<dt><code>centering = TRUE</code></dt><dd><p>Whether to center the table in the float.</p>
</dd>
<dt><code>caption.short = ""</code></dt><dd><p>Abbreviated caption to use in TOC.</p>
</dd>
<dt><code>table.envir = if (!is.null(caption)) "table"</code></dt><dd><p>Name of
outer environment.</p>
</dd>
</dl>

<p>These arguments are all defined in the <span class="pkg">knitr</span> package, and 
may change in the future.
</p>


<h3>Value</h3>

<p>An object of class <code>"knitr_kable"</code> suitable to include in a <code><a href="utils.html#topic+Sweave">Sweave</a></code> or <span class="pkg">knitr</span> &lsquo;<span class="file">.Rnw</span>&rsquo; document.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(latexTable(tabular((Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris ),
    caption = "Iris sepal data", label = "sepals"))
</code></pre>

<hr>
<h2 id='Literal'>
Insert a literal entry into a table margin.
</h2><span id='topic+Literal'></span>

<h3>Description</h3>

<p>This allows insertion of arbitrary LaTeX text into a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Literal(x, nearData = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Literal_+3A_x">x</code></td>
<td>

<p>A character string to insert.
</p>
</td></tr>
<tr><td><code id="Literal_+3A_neardata">nearData</code></td>
<td>

<p>See the Details section of <code><a href="#topic+Heading">Heading</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In LaTeX the <code>literal</code> string should usually end with a <code>%</code> comment
character to avoid having a blank line inserted.
</p>


<h3>Value</h3>

<p>Produces an expression to insert a label containing the literal text.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Hline">Hline</a></code>, which uses this to insert lines.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tabular( (Literal("Some text") + Species)  ~ 
       All(iris)*mean, data=iris )
</code></pre>

<hr>
<h2 id='matrix_form.tabular'>
Transform tabular object to matrices printable by formatters package
</h2><span id='topic+matrix_form.tabular'></span>

<h3>Description</h3>

<p>The <span class="pkg">formatters</span> package provides methods for displaying
and breaking up tables into smaller pieces.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrix_form.tabular(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrix_form.tabular_+3A_df">df</code></td>
<td>

<p>A tabular object.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <span class="pkg">formatters</span> package provides a <code>matrix_form</code>
generic function for S4 objects.  <code>"tabular"</code> objects
are S3 objects, so it won't dispatch to this function, 
which must be fully specified when called.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch with help from Gabe Becker.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("formatters")) {
  Sex &lt;- factor(sample(c("Male", "Female"), 100, rep=TRUE))
  Status &lt;- factor(sample(c("low", "medium", "high"), 100, rep=TRUE))
  z &lt;- rnorm(100) + 5
  fmt &lt;- function(x) {
  s &lt;- format(x, digits=2)
  even &lt;- ((1:length(s)) %% 2) == 0
  s[even] &lt;- sprintf("(%s)", s[even])
  s
}
  tab &lt;- tabular( Justify(c)*Heading()*z*Sex*Heading(Statistic)*Format(fmt())*(mean+sd) 
                  ~ Status )
  mform &lt;- matrix_form.tabular(tab)
  page &lt;- 1
  cat("Page ", page, " Full table\n\n")
  cat(formatters::toString(mform))
  
  # This shows automatic pagination, breaking up the
  # table by rows
  byrow &lt;- formatters::pag_indices_inner(formatters::mf_rinfo(mform),
                              rlpp = 2,
                              min_siblings = 1)
  for (i in seq_along(byrow)) {
    mform2 &lt;- matrix_form.tabular(tab[byrow[[i]], ])
    page &lt;- page + 1
    cat("\nPage ", page, " Rows", byrow[[i]], "\n\n")
    cat(formatters::toString(mform2))
  }
  
  # This gives the breaks by columns, counting the
  # row label columns.  
  # The formatters::vert_pag_indices function had an incompatible
  # change in v0.5.8
  if ("fontspec" %in% names(formals(formatters::vert_pag_indices)))
    bycol &lt;- formatters::vert_pag_indices(mform, cpp = 30,  rep_cols = 2,
                                        fontspec = NULL)
  else
    bycol &lt;- formatters::vert_pag_indices(mform, cpp = 30,  rep_cols = 2)
  # Display the table with both kinds of breaks
  for (i in seq_along(byrow)) {
    rows &lt;- byrow[[i]]
    for (j in seq_along(bycol)) {
      cols &lt;- bycol[[j]]
      cols &lt;- cols[cols &gt; 2] - 2  # cols includes the row labels
      mform3 &lt;- matrix_form.tabular(tab[rows, cols, drop = FALSE])
      page &lt;- page + 1
      cat("\nPage ", page, "Rows", rows, "column", cols, "\n\n")
      cat(formatters::toString(mform3))
    }
  }
}
</code></pre>

<hr>
<h2 id='Paste'>
Generate terms to paste values together in table.
</h2><span id='topic+Paste'></span>

<h3>Description</h3>

<p>This function generates a component of a table formula to output
multiple columns with punctuation between.  It is 
designed only for LaTeX output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Paste(..., head, digits=2, justify="c", prefix="", sep="", postfix="",
      character.only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Paste_+3A_...">...</code></td>
<td>

<p>Expressions to be displayed in the columns of the table.  If they are
named, they will get those names as headings, otherwise they will not be labelled.
</p>
</td></tr>
<tr><td><code id="Paste_+3A_head">head</code></td>
<td>

<p>If not missing, this will be used as a column heading for the combined columns.
</p>
</td></tr>
<tr><td><code id="Paste_+3A_digits">digits</code></td>
<td>

<p>Will be passed to the <code><a href="base.html#topic+format">format</a></code> function.  If <code>digits</code> is
length one, all expressions use a common format; otherwise they are
formatted separately.
</p>
</td></tr>
<tr><td><code id="Paste_+3A_justify">justify</code></td>
<td>

<p>One or more justifications to use on the individual columns.
</p>
</td></tr>
<tr><td><code id="Paste_+3A_sep">sep</code></td>
<td>

<p>One or more separators to use between columns.  
</p>
</td></tr>
<tr><td><code id="Paste_+3A_prefix">prefix</code>, <code id="Paste_+3A_postfix">postfix</code></td>
<td>

<p>Additional text to insert before and after the group of columns.
</p>
</td></tr>
<tr><td><code id="Paste_+3A_character.only">character.only</code></td>
<td>

<p>If <code>TRUE</code>, the <code>head</code> argument will be interpreted
as an expression evaluating to a character value.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An expression which will produce the requested output in LaTeX. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stderr &lt;- function(x) sd(x)/sqrt(length(x))
lcl &lt;- function(x) mean(x) - qt(0.975, df=length(x)-1)*stderr(x)
ucl &lt;- function(x) mean(x) + qt(0.975, df=length(x)-1)*stderr(x)
toLatex( tabular( (Species+1) ~ All(iris)*
          Paste(lcl, ucl, digits = 2, 
                head="95\% CI", 
                prefix = "[", sep = ",", postfix = "]"), 
          data=iris ) )
</code></pre>

<hr>
<h2 id='Percent'>
Pseudo-function to compute a statistic relative to a reference
set.
</h2><span id='topic+Percent'></span><span id='topic+Equal'></span><span id='topic+Unequal'></span>

<h3>Description</h3>

<p>The <code>Percent</code> pseudo-function is used to specify
a statistic that depends on other values in the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Percent(denom = "all", fn = percent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Percent_+3A_denom">denom</code></td>
<td>

<p>How the reference set (the denominator in case
of a percentage calculation) should be calculated.  See below.
</p>
</td></tr>
<tr><td><code id="Percent_+3A_fn">fn</code></td>
<td>

<p>The two argument function to calculate the statistic.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>fn</code> will be called with two
arguments.  The first argument is the usual &ldquo;value vector&rdquo; 
of values
corresponding to this cell in the table,
and the second 
is another vector of reference values, determined
by <code>denom</code>.  
</p>
<p>The default value of <code>fn</code> is the <code>percent</code> function,
defined as <code>function(x, y) 100*length(x)/length(y)</code>.  This
gives the ratio of the number of values in the current cell
relative to the reference values, expressed as a percentage.
Using <code>fn = function(x, y) 100*sum(x)/sum(y)</code> would give
the percentage of the sum of the values in the current cell to
the sum in the reference set.
</p>
<p>With the default <code>denom = "all"</code>, all values of the
analysis variable in the dataset are used as the reference.  Other possibilities
are <code>denom = "row"</code> or <code>denom = "col"</code>, for which
the values of the variable corresponding to the current row
or column subset are used.  
</p>
<p>The special syntax <code>denom = Equal(...)</code> will record 
each expression in <code>...</code>.  The
reference set will be the cases with equal values of all
expressions in <code>...</code> to those of the current cell.
The similar form <code>denom = Unequal(...)</code>
sets the reference values to be those that differ in any
of the <code>...</code> expressions from the current cell.  (In
fact, these can be used somewhat more generally; see the 
vignette for details.)
</p>
<p>Finally, other possible <code>denom</code> values 
are a logical vector, in which
case the values marked <code>TRUE</code> are used, or anything else, which will
be passed to <code>fn</code> as <code>y</code> without any subsetting.  (To pass a variable with subsetting,
use the <code><a href="#topic+Arguments">Arguments</a></code> pseudo-function instead.)
</p>


<h3>Pseudo-functions</h3>

<p><code>Percent</code> is a &ldquo;pseudo-function&rdquo;:  it takes the form of a function call, but is
never actually called:  it is 
handled specially by <code><a href="#topic+tabular">tabular</a></code>.  <code>Equal</code> and <code>Unequal</code>
are also pseudo-functions, but are only special when used
in the <code>denom</code> argument to <code>Percent</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Arguments">Arguments</a></code> for a different way to specify
a multiple argument analysis function.</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- factor(sample(LETTERS[1:2], 1000, rep=TRUE))
y &lt;- factor(sample(letters[3:4], 1000, rep=TRUE))
z &lt;- factor(sample(LETTERS[5:6], 1000, rep=TRUE))

# These both do the same thing:
tabular( (x + 1)*(y + 1) ~ (z + 1)*(1+(RowPct=Percent("row"))))
tabular( (x + 1)*(y + 1) ~ (z + 1)*(1+(xyPct=Percent(Equal(x, y)))))
</code></pre>

<hr>
<h2 id='PlusMinus'>
Generate <code>x +/- y</code> terms in table.
</h2><span id='topic+PlusMinus'></span>

<h3>Description</h3>

<p>This function generates a component of a table formula to output
two columns separated by a <code>+/-</code> sign.  It is 
designed only for LaTeX output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlusMinus(x, y, head, xhead, yhead, digits = 2, 
          character.only = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlusMinus_+3A_x">x</code>, <code id="PlusMinus_+3A_y">y</code></td>
<td>

<p>Expressions to be displayed in the columns on the left and right of the <code>+/-</code> sign,
respectively.
</p>
</td></tr>
<tr><td><code id="PlusMinus_+3A_head">head</code></td>
<td>

<p>If not missing, this will be used as a column heading for the two columns.
</p>
</td></tr>
<tr><td><code id="PlusMinus_+3A_xhead">xhead</code>, <code id="PlusMinus_+3A_yhead">yhead</code></td>
<td>

<p>If not missing, these will be used as individual column headings.
</p>
</td></tr>
<tr><td><code id="PlusMinus_+3A_digits">digits</code>, <code id="PlusMinus_+3A_...">...</code></td>
<td>

<p>Parameters to pass to the <code><a href="base.html#topic+format">format</a></code> function.
</p>
</td></tr>
<tr><td><code id="PlusMinus_+3A_character.only">character.only</code></td>
<td>

<p>If <code>TRUE</code>, the <code>head</code>, <code>xhead</code> and <code>yhead</code> 
arguments will be interpreted
as expressions evaluating to character values.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An expression which will produce the requested output in LaTeX. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stderr &lt;- function(x) sd(x)/sqrt(length(x))
toLatex( tabular( (Species+1) ~ Sepal.Length*
          PlusMinus(mean, stderr, digits=1), data=iris ) )
</code></pre>

<hr>
<h2 id='RowFactor'>
Use a variable as a factor to give rows in a table.
</h2><span id='topic+Factor'></span><span id='topic+RowFactor'></span><span id='topic+Multicolumn'></span>

<h3>Description</h3>

<p>The functions take a variable and treat it as a factor in a table.
<code>RowFactor</code> is designed for LaTeX output, adding extra spacing to
make the table more readable.  <code>Multicolumn</code> also works only in
LaTeX, and displays the label in a style with the level on a line by
itself, spanning multiple columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Factor(x, name = deparse(expr), levelnames = levels(x), 
       texify = getOption("tables.texify", FALSE), 
       expr = substitute(x), override = TRUE)
RowFactor(x, name = deparse(expr), 
	  levelnames = levels(x), 
          spacing = 3, space = 1, suppressfirst = TRUE,
          nopagebreak = "\\nopagebreak ",
          texify = getOption("tables.texify", FALSE), 
          expr = substitute(x),
          override = TRUE)
Multicolumn(x, name = deparse(expr), levelnames = levels(x), 
            width=2, first=1, justify="l",
            texify = getOption("tables.texify", FALSE), 
            expr = substitute(x),
            override = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RowFactor_+3A_x">x</code></td>
<td>

<p>A variable to be treated as a factor.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_name">name</code></td>
<td>

<p>The display name for the factor.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_levelnames">levelnames</code></td>
<td>

<p>The strings to use as levels of <code>x</code>.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_texify">texify</code></td>
<td>

<p>If <code>TRUE</code>, characters that would be interpreted specially by LaTeX 
are escaped (using <code><a href="Hmisc.html#topic+latexTranslate">latexTranslate</a></code>) so
they will print properly.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_expr">expr</code></td>
<td>

<p>The expression to use in evaluating the factor.  Generally the same
as the expression passed as <code>x</code>, but internal uses
may differ.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_override">override</code></td>
<td>

<p>Should the name for the factor override any previously specified
<code>Heading()</code> setting?
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_spacing">spacing</code></td>
<td>

<p>Extra spacing will be added before every <code>spacing</code> lines.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_space">space</code></td>
<td>

<p>How much extra space to add, in <code>ex</code> units.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_suppressfirst">suppressfirst</code></td>
<td>

<p>Whether to suppress the spacing in the first group.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_nopagebreak">nopagebreak</code></td>
<td>

<p>LaTeX macro to insert to suppress page breaks except between groups.
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_width">width</code></td>
<td>

<p>How many columns should the label span?
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_first">first</code></td>
<td>

<p>Which is the first column in which this label appears?
</p>
</td></tr>
<tr><td><code id="RowFactor_+3A_justify">justify</code></td>
<td>

<p>How should the label be justified in the columns?
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Language to insert into the table formula to achieve the desired table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tabular( Factor(1:10, "row") ~
       All(iris[1:10,])*Heading()*identity )
toLatex( tabular( RowFactor(1:10, "", 5)  ~ 
       All(iris[1:10,])*Heading()*identity )) 
</code></pre>

<hr>
<h2 id='table_options'>
Set or query options for the table formatting.
</h2><span id='topic+table_options'></span><span id='topic+booktabs'></span><span id='topic+htmloptions'></span>

<h3>Description</h3>

<p>These functions set or query options for table formatting in LaTeX or HTML output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_options(...)
booktabs(...)
htmloptions(head=TRUE, table=TRUE, pad=FALSE, 
            ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="table_options_+3A_head">head</code></td>
<td>
<p>logical; enables all of the HTML header options</p>
</td></tr>
<tr><td><code id="table_options_+3A_table">table</code></td>
<td>
<p>logical; enables output of all parts of the table itself</p>
</td></tr>
<tr><td><code id="table_options_+3A_pad">pad</code></td>
<td>
<p>logical; enables all of the HTML padding options</p>
</td></tr>
<tr><td><code id="table_options_+3A_...">...</code></td>
<td>

<p>Any of the options listed in the Details below.
</p>
</td></tr>  
</table>


<h3>Details</h3>

<p>The <code>table_options()</code> function sets a number of options that control formatting.  Currently the 
options that affect both LaTeX and HTML output are:
</p>

<dl>
<dt><code>justification = "c"</code></dt><dd>
<p>Default justification for the data columns in the table.
</p>
</dd>
<dt><code>rowlabeljustification = "l"</code></dt><dd>
<p>Default justification for row labels.
</p>
</dd>
<dt><code>doBegin, doHeader, doBody, doFooter, doEnd</code></dt><dd>
<p>These logical values (all defaults are <code>TRUE</code>) control the inclusion of specific parts of
the output table.</p>
</dd>
<dt><code>knit_print = TRUE</code></dt><dd>
<p>Do auto formatting when printing in a <span class="pkg">knitr</span> document.
</p>
</dd>
</dl>

<p>These options are only used for LaTeX output:
</p>

<dl>
<dt><code>tabular = "tabular"</code></dt><dd>
<p>The LaTeX environment to use for the table.  Other choices such as <code>"longtable"</code> might
make sense.
</p>
</dd>
<dt><code>toprule, midrule, bottomrule</code></dt><dd>
<p>The LaTeX macros to use for the lines in the table.  By default they are all <code>"\hline"</code>.
</p>
</dd>
<dt><code>titlerule = NULL</code></dt><dd>
<p>The LaTeX macro to use to underline multicolumn titles.  If <code>NULL</code>, no underlining
is done.  
</p>
</dd>
<dt><code>latexleftpad, latexrightpad, latexminus, mathmode</code></dt><dd>
<p>These control formatting of numbers in the table.  If <code>TRUE</code> (the default), blanks
in <span class="rlang"><b>R</b></span>'s formatting are converted to hard spaces in the LaTeX output, and negative
signs are rendered properly.  Generally this makes output look better, but
the &lsquo;<span class="file">.tex</span>&rsquo; input may be harder to read.
</p>
</dd>
</dl>

<p>These options are only used for HTML output:
</p>

<dl>
<dt><code>doHTMLheader, doCSS, doHTMLbody</code></dt><dd>
<p>These control output of the material at the top of an HTML page.
</p>
</dd>
<dt><code>HTMLhead, CSS, HTMLbody</code></dt><dd>
<p>These are the default strings to output when the corresponding element is selected.
If present, the string <code>"CHARSET"</code> will be replaced with the result of
<code><a href="utils.html#topic+localeToCharset">localeToCharset</a>()</code> in the <code>HTMLhead</code>.  The string
<code>"#ID"</code> will be replaced with <code>"#"</code> followed by the <code>id</code>
argument to <code><a href="#topic+html.tabular">html.tabular</a></code> (or removed if that is blank).
</p>
</dd>
<dt><code>HTMLcaption</code></dt><dd>
<p>This is an optional HTML caption for the table.  If <code>NULL</code>, no
caption is emitted.
</p>
</dd>
<dt><code>HTMLleftpad, HTMLrightpad, HTMLminus</code></dt><dd>
<p>These control formatting of numbers in the table.  If <code>TRUE</code>, blanks
in <span class="rlang"><b>R</b></span>'s formatting are converted to hard spaces in the HTML output, and negative
signs are rendered properly.  Generally this makes output look better, but 
cut and paste from the table may include these special characters
and not be recognized by other software.  The default is <code>FALSE</code>.
</p>
</dd>
<dt><code>HTMLattributes</code></dt><dd>
<p>This is a string to add to the <code>"&lt;table&gt;"</code> declaration at the top of the table.  By
default, the attributes are <code>'frame="hsides" rules="groups"'</code>.
These set horizontal rules on the top and bottom of the table and between the header,
body, and footer (if present).
</p>
</dd>
<dt><code>HTMLfooter</code></dt><dd>
<p>This is <code>NULL</code> for no footer, or HTML code to insert in the table.  Note
that in HTML the footer should be specified before the body of the table;
<code><a href="#topic+html.tabular">html.tabular</a></code> will do this if both are written in the same call.
</p>
</dd>
</dl>

<p>These may be set persistently by calling <code>table_options()</code>, or just for the duration
of the call by passing them in a list via <code>latex(options=list( ... ))</code>.  Additional 
<code>...</code> arguments to <code>latex</code> are passed to <code><a href="base.html#topic+format">format</a></code>.
</p>
<p>The <code>booktabs()</code> function sets the <code>table_options()</code> values to different defaults, 
suitable for use with the <span class="pkg">booktabs</span> LaTeX package.
</p>
<p>The <code>htmloptions()</code> function constructs a list suitable for the <code>options</code>
argument to <code><a href="#topic+html.tabular">html.tabular</a></code>, with grouping of options that
rarely differ from each other.
</p>
<p>Note that any LaTeX code can be used in the rule options; for example, see
the <code>longtable</code> example in the vignette.  Material to go above the headers
goes into <code>toprule</code>, material between the headers and the body goes into <code>midrule</code>,
and material at the bottom of the table goes into <code>bottomrule</code>.
</p>


<h3>Value</h3>

<p><code>table_options()</code> and <code>booktabs()</code> return the previous settings.
</p>
<p><code>htmloptions()</code> returns a list of settings without changing the defaults.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+latex.tabular">latex.tabular</a></code>,  <code><a href="#topic+html.tabular">html.tabular</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tab &lt;- tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )
toLatex(tab)
save &lt;- booktabs()
toLatex(tab)
table_options(save)


f &lt;- tempfile(fileext = ".html")
if (interactive())
  toHTML(tab, f, 
    options=htmloptions(HTMLcaption="Table of Iris Data",
                      pad = TRUE))

</code></pre>

<hr>
<h2 id='tabular'>
Compute complex table
</h2><span id='topic+tabular'></span><span id='topic+tabular.default'></span><span id='topic+tabular.formula'></span><span id='topic+print.tabular'></span><span id='topic+format.tabular'></span><span id='topic++5B.tabular'></span><span id='topic+cbind.tabular'></span><span id='topic+rbind.tabular'></span>

<h3>Description</h3>

<p>Computes a table of summary statistics, cross-classified by various variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tabular(table, ...)
## Default S3 method:
tabular(table, ...)
## S3 method for class 'formula'
tabular(table, data = NULL, n, suppressLabels = 0, ...)
## S3 method for class 'tabular'
print(x, justification="n", ...)
## S3 method for class 'tabular'
format(x, digits=4, justification="n", latex=FALSE, html=FALSE, 
                         leftpad = TRUE, rightpad = TRUE, minus = TRUE, 
			 mathmode = TRUE, ...)
## S3 method for class 'tabular'
x[i, j, ..., drop=FALSE]
## S3 method for class 'tabular'
cbind(..., deparse.level = 1)
## S3 method for class 'tabular'
rbind(..., deparse.level = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tabular_+3A_table">table</code></td>
<td>

<p>A table expression.  See the Details below.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_data">data</code></td>
<td>

<p>An optional dataframe, list or environment in which to look for variables in the table.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_n">n</code></td>
<td>

<p>An optional value giving the length of the data.  See the Details below.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_suppresslabels">suppressLabels</code></td>
<td>

<p>How many initial labels to suppress?
</p>
</td></tr>
<tr><td><code id="tabular_+3A_x">x</code></td>
<td>
 
<p>The object to print, format, or subset.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_digits">digits</code>, <code id="tabular_+3A_...">...</code></td>
<td>

<p>In the print and format methods, how many significant digits or other parameters to show by default?  See
Formatting below.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_justification">justification</code></td>
<td>

<p>The default justification to use in the table.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_latex">latex</code></td>
<td>

<p>If <code>TRUE</code>, the <code><a href="#topic+latexNumeric">latexNumeric</a></code> function will be applied when formatting
numeric columns after <code><a href="base.html#topic+format">format</a></code>, to maintain spacing and handle signs properly.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_html">html</code></td>
<td>

<p>If <code>TRUE</code>, the <code><a href="#topic+htmlNumeric">htmlNumeric</a></code> function will be applied when formatting
numeric columns after <code><a href="base.html#topic+format">format</a></code>, to maintain spacing and handle signs properly.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_leftpad">leftpad</code>, <code id="tabular_+3A_rightpad">rightpad</code>, <code id="tabular_+3A_minus">minus</code>, <code id="tabular_+3A_mathmode">mathmode</code></td>
<td>

<p>Options to pass to <code><a href="#topic+latexNumeric">latexNumeric</a></code> or <code><a href="#topic+htmlNumeric">htmlNumeric</a></code> to
control details of formatting.  See those pages for details.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_i">i</code>, <code id="tabular_+3A_j">j</code>, <code id="tabular_+3A_drop">drop</code></td>
<td>

<p>The usual arguments for matrix indexing, but see the Details below.
</p>
</td></tr>
<tr><td><code id="tabular_+3A_deparse.level">deparse.level</code></td>
<td>

<p>Ignored.  (Present because the generic requires it.)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the purposes of this function, a &quot;table&quot; is a rectangular array of values, computed
using a formula expression.  The left hand side of the formula describes the rows
of the table, the right hand side describes the columns.
</p>
<p>Within the expression for the rows or columns, the operators <code>+</code>, <code>*</code>
and <code>=</code> have special meanings.  
</p>
<p>The <code>+</code> operator represents concatenation, so that <code>x + y ~ z</code> says to
show the rows corresponding to <code>x</code> above the rows corresponding to <code>y</code>.
</p>
<p>The <code>*</code> operator represents nesting, so that <code>x*y ~ z</code> says to
show the rows of <code>y</code> within each row corresponding to <code>x</code>.
</p>
<p>The <code>=</code> operator sets a new name for a term; it is an abbreviation
for the <code>Heading()</code> pseudo-function.  (&ldquo;Pseudo-functions&rdquo; are
described in the <code>tables</code> vignette.)  Note that
<code>=</code> has low operator precedence and may be confused by the parser
with setting function arguments, so parentheses are usually needed.
</p>
<p>Parentheses may be used to group terms in the usual arithmetic way, so 
<code>(x + y)*(u + v)</code> is equivalent to <code>x*u + x*v + y*u + y*v</code>.
</p>
<p>The names <code>Format</code>, <code>.Format</code>
and <code>Heading</code> have special meaning; see the section on Formatting below.
</p>
<p>The interpretation of other terms in the formulas depends on how they evaluate.  
</p>
<p>If the term evaluates to a function, it should be a summary function that 
produces a scalar value when applied to a vector of values, and that scalar will be displayed
in the table.  For example, <code> (mean + var) ~ x </code> will display the mean of
<code>x</code> above the variance of <code>x</code>.  If no function is specified, <code>length</code>
is assumed, so the table will display counts.  (At most one summary function may
be specified in any one term, so <code>mean*var</code> would be an error.)
</p>
<p>If the term evaluates to a logical vector, it is assumed to specify a subset.  For example,
<code> ~ (x &gt; 3) + (x &gt; 5)</code> will tabulate the counts of those two subsets.  
</p>
<p>If the term evaluates to a factor, it generates multiple rows or columns, corresponding
to the different levels of the factor.  For example if <code>A</code> has three levels, then
<code>A ~ mean*x</code> will calculate the mean of <code>x</code> within each level of <code>A</code>.
</p>
<p>If the term evaluates to a language object, it is treated as a macro, and expanded 
in place in the formula.
</p>
<p>Other terms are assumed to be R expressions producing a vector of values to be
summarized in the table.  Only one vector of values can be specified in any given term,
but different terms can summarize different values.  <code><a href="base.html#topic+is.atomic">is.atomic</a></code> must 
evaluate to <code>TRUE</code> for these values for them to be recognized.
</p>
<p>All logical, factor or other values in the table should be the same length, as if
they were columns in a dataframe (but they can be computed values).  If <code>n</code> is
missing but <code>data</code> is a dataframe, <code>n</code> is set from that.  Otherwise, if terms such
as <code>1</code> appear in a table, the length is assumed to be the same as for previous terms.
As a last resort, set the <code>n</code> argument in the call to <code>tabular()</code> explicitly.
</p>
<p>The <code>"["</code> method extracts a subset of the table.
For indexing, consider the table to consist of a matrix containing the values.
If <code>drop=TRUE</code>, the labels and attributes are dropped.  If <code>drop=FALSE</code>,
the default, the <code>i</code> and <code>j</code> indices must select 
a rectangular block of the table; matrix indexing (using a two column
matrix or a full matrix of logical values) is not supported.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>"tabular"</code>.  This is a matrix of mode list,
whose entries are computed summary values, with the following attributes:
</p>
<table>
<tr><td><code>rowLabels</code></td>
<td>
<p>A matrix of labels for the rows.  This will have the same number of rows
as the main matrix, but may have multiple columns for different nested levels of labels.
If a label covers multiple rows, it is entered in the first row, and <code>NA</code> is used to
fill following rows.</p>
</td></tr>
<tr><td><code>colLabels</code></td>
<td>
<p>Like <code>rowLabels</code>, but labelling the columns.</p>
</td></tr>
<tr><td><code>table</code></td>
<td>
<p>The original table expression being displayed.  A list of the original
format specifications are attached as a <code>"fmtlist"</code> attribute.</p>
</td></tr>
<tr><td><code>formats</code></td>
<td>
<p>A matrix of the same shape as the main result, containing <code>NA</code>
for default formatting, or an index into the format list.</p>
</td></tr>
</table>


<h3>Formatting</h3>

<p>The <code>tabular()</code> function does no formatting of computed values, but 
it records requests for formatting.
The <code>format.tabular()</code>, <code>print.tabular()</code> and <code>latex.tabular()</code> 
functions make use of these requests.
</p>
<p>By default, columns are formatted using the <code><a href="base.html#topic+format">format</a></code> function, with
arguments <code>digits</code> and any other arguments passed in <code>...</code>.  Each
column is formatted separately, similarly to how a matrix is printed by default.
</p>
<p>To request special formatting, four pseudo-functions are provided.  The first is
<code>Format</code>.  Normally it includes arguments to pass to the <code>format()</code>
function, e.g. <code>Format(digits=2)</code>.  It may instead include
a call to a function, e.g. <code>Format(sprintf("%.2f")</code>.  In either case
the summary values from
cells in the table that are nested below the <code>Format</code> specification
will be passed to that function in an argument named <code>x</code>, i.e. in the first
example, the values would be formatted using <code>format(digits=2, x=values)</code>, 
and in the second, using <code>sprintf("%.2f", x=values)</code>.  Users can supply
their own function to be used for formatting; it should take values in a named
argument <code>x</code> and return a character vector of the same length.
</p>
<p>This can be used to control formatting in multiple columns at once.  For example,
<code>Format(digits=2)*(mean + sd)</code> will print both the mean and standard deviation
in a single call to <code><a href="base.html#topic+format">format</a></code>, guaranteeing that the same number of decimal
places is used in both.  (The <code>iris</code> example below demonstrates this.)
</p>
<p>If the <code>latex</code> argument to <code>latex.tabular</code> is <code>TRUE</code>, then 
an effort is made to retain spacing, and to convert minus signs to the 
appropriate type of dash using the <code><a href="#topic+latexNumeric">latexNumeric</a></code> function. 
</p>
<p>The second pseudo-function <code>.Format</code> is mainly intended for internal use.  It
takes a single integer argument, saying that data governed by this call uses the
same formatting as another format specification.  In this way entries can be
commonly formatted even when they are not contiguous.  The integers are assigned
sequentially as the format specification is parsed; users will likely need
trial and error to find the right value in a complicated table with multiple formats.
</p>
<p>A third pseudo-function is <code>Justify</code>.  It takes character values or names as arguments;
how they are treated depends on the output format.  In <code>format.tabular</code>, coarse
justification is done to left, right or center, using <code>l</code>, <code>r</code> or <code>c</code>
respectively.
For LaTeX formatting, any string acceptable as a justification
string to LaTeX will be passed on.
</p>
<p>A final pseudo-function is <code>Heading</code>.  Use this function in the
row definitions to set a heading on the following column of row
labels.  (Internally this is how the headings on factor columns are
implemented.) If it is called with no argument, it suppresses the
following heading.  The <code>suppressLabels=n</code> argument to
<code>tabular()</code> is equivalent to repeating <code>Heading()</code> <code>n</code>
times at the start of the table formula.  The <code>=</code> operator is an
abbreviation for <code>Heading()</code>; see above.
</p>


<h3><code>tabular</code> methods</h3>

<p>The default <code>tabular</code> method just applies <code><a href="stats.html#topic+as.formula">as.formula</a></code> to
<code>table</code>, and then calls <code>tabular.formula</code>.
</p>
<p>The <code>tabular.formula</code> method is the main workhorse of the
package.  Other authors who wish to produce tables directly from their
own structures should normally create a formula whose environment
contains all mentioned variables and call <code>tabular.formula</code> with
appropriate arguments. 
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>References</h3>

<p>This function was inspired by my 20 year old memories of the SAS TABULATE procedure.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+table">table</a></code> and <code><a href="stats.html#topic+ftable">ftable</a></code> are base R functions which produce
tables of counts.  The <code>tables</code> vignette has many more examples and displays the
formatted output.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )

# This example shows some of the less common options         
Sex &lt;- factor(sample(c("Male", "Female"), 100, rep=TRUE))
Status &lt;- factor(sample(c("low", "medium", "high"), 100, rep=TRUE))
z &lt;- rnorm(100)+5
fmt &lt;- function(x) {
  s &lt;- format(x, digits=2)
  even &lt;- ((1:length(s)) %% 2) == 0
  s[even] &lt;- sprintf("(%s)", s[even])
  s
}
tab &lt;- tabular( Justify(c)*Heading()*z*Sex*Heading(Statistic)*Format(fmt())*(mean+sd) 
                ~ Status )
tab
tab[1:2, c(2,3,1)]
</code></pre>

<hr>
<h2 id='toKable'>
Convert <code>tabular</code> object to <code>knitr_kable</code> format.
</h2><span id='topic+toKable'></span><span id='topic+getKnitrFormat'></span>

<h3>Description</h3>

<p>Converts the output of the <code><a href="#topic+tabular">tabular</a></code> and related
functions to a format consistent with the output of the
<code><a href="knitr.html#topic+kable">kable</a></code> function, so that it can be 
customized using the <span class="pkg">kableExtra</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toKable(table, format = getKnitrFormat(), booktabs = TRUE, ...)
getKnitrFormat(default = "latex")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toKable_+3A_table">table</code></td>
<td>

<p>An object of class <code>tabular</code>.
</p>
</td></tr>
<tr><td><code id="toKable_+3A_format">format</code></td>
<td>

<p>The type of <code>knitr_kable</code> object desired; currently
only <code>"latex"</code> and <code>"html"</code> are supported.
</p>
</td></tr>
<tr><td><code id="toKable_+3A_booktabs">booktabs</code></td>
<td>

<p>Should the table be rendered in <code><a href="#topic+booktabs">booktabs</a></code> style?
This only affects LaTeX output.
</p>
</td></tr>
<tr><td><code id="toKable_+3A_...">...</code></td>
<td>

<p>Additional arguments to pass to <code><a href="#topic+html.tabular">html.tabular</a></code> or <code><a href="#topic+latex.tabular">latex.tabular</a></code>.
</p>
</td></tr>
<tr><td><code id="toKable_+3A_default">default</code></td>
<td>

<p>The default type of output if not running in a <span class="pkg">knitr</span>
document.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>knitr_kable</code>, suitable for passing
to functions in the <span class="pkg">kableExtra</span> package.
</p>


<h3>See Also</h3>

<p><code><a href="kableExtra.html#topic+kableExtra-package">kableExtra-package</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("kableExtra") &amp;&amp; 
    (!requireNamespace("pkgdown") || !pkgdown::in_pkgdown())) {
  tab &lt;-  tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
          (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )
  print(kableExtra::kable_styling(toKable(tab), latex_options = "striped"))
  cat("\n")
  toKable(tab, format = "html", options = list(HTMLcaption = "Fisher's iris data"))
}
</code></pre>

<hr>
<h2 id='toTinytable'>
Convert <code>tabular</code> object to <code>tinytable</code> format.
</h2><span id='topic+toTinytable'></span>

<h3>Description</h3>

<p>Converts the output of the <code><a href="#topic+tabular">tabular</a></code> and related
functions to a format consistent with the output of the
<code><a href="tinytable.html#topic+tt">tt</a></code> function, so that it can be 
customized using the <span class="pkg">tinytable</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toTinytable(table, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toTinytable_+3A_table">table</code></td>
<td>

<p>An object of class <code>tabular</code>.
</p>
</td></tr>
<tr><td><code id="toTinytable_+3A_...">...</code></td>
<td>

<p>Additional arguments to pass to <code><a href="tinytable.html#topic+tt">tt</a></code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>tinytable</code>, suitable for passing
to functions in the <span class="pkg">tinytable</span> package. These tables
can be exported to several formats, including LaTeX, HTML,
Markdown, Word, Typst, PDF, and PNG.
</p>


<h3>See Also</h3>

<p><code><a href="tinytable.html#topic+tinytable-package">tinytable-package</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("tinytable")) {

  tab &lt;-  tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
          (Sepal.Length + Sepal.Width)*(mean + sd), data=iris )
  tab &lt;- toTinytable(tab, theme = "striped")
  tab &lt;- tinytable::style_tt(tab, i = 1:2, background = "teal", color = "white")
  tab

}

</code></pre>

<hr>
<h2 id='useGroupLabels'>
Format table with groups of lines
</h2><span id='topic+useGroupLabels'></span>

<h3>Description</h3>

<p>When a factor level applies to multiple lines in a table,
normally an extra column of row labels is added to 
show the levels.  This function merges that column
into another column in the labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>useGroupLabels(tab, col = 1, 
               indent = "  ", 
               newcolumn = 1,
               singleRow = TRUE,
               extraLines = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="useGroupLabels_+3A_tab">tab</code></td>
<td>

<p>A tabular object.
</p>
</td></tr>
<tr><td><code id="useGroupLabels_+3A_col">col</code></td>
<td>

<p>Which column defines the groups?
</p>
</td></tr>
<tr><td><code id="useGroupLabels_+3A_indent">indent</code></td>
<td>

<p>A prefix to add to existing entries in the new column.
</p>
</td></tr>
<tr><td><code id="useGroupLabels_+3A_newcolumn">newcolumn</code></td>
<td>
<p>Which column gets the 
group headings?</p>
</td></tr>
<tr><td><code id="useGroupLabels_+3A_singlerow">singleRow</code></td>
<td>
<p>If a group has a single row
and there is no entry in <code>newcolumn</code> in that row,
put the group label in the same row rather than in
a separate row.</p>
</td></tr>
<tr><td><code id="useGroupLabels_+3A_extralines">extraLines</code></td>
<td>
<p>Add this many blank lines to separate
the groups in addition to the line containing the group
label.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>newcolumn</code> is less than 1 or greater than the 
number of row label columns (after removing column <code>col</code>), extra columns will be added.
</p>


<h3>Value</h3>

<p>A tabular object, modified to include header rows
as specified.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)
n &lt;- 10
df &lt;- data.frame(a = factor(sample(1:3, n, replace=TRUE)),
                 b = factor(sample(1:3, n, replace=TRUE)),
                 x = rnorm(n))
levels(df$a) &lt;- c("Long name 1", "Long name 2", "Long name 3")
levels(df$b) &lt;- c("a", "abc", "abcdef")
library(tables)
tab &lt;- tabular(a*Heading()*b ~ mean*x, data = df)
tab &lt;- tab[!is.na(tab[,1])]
useGroupLabels(tab)
</code></pre>

<hr>
<h2 id='write.csv.tabular'>
Write table to file in CSV or other format.
</h2><span id='topic+write.csv.tabular'></span><span id='topic+write.table.tabular'></span>

<h3>Description</h3>

<p>This writes the formatted table into a CSV or other delimeted
file, for import into a spreadsheet or other 
report writer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.csv.tabular(x, file="", 
    justification = "n", row.names=FALSE, ...)
write.table.tabular(x, file="", 
    justification = "n", row.names=FALSE, col.names=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.csv.tabular_+3A_x">x</code></td>
<td>

<p>An object from <code><a href="#topic+tabular">tabular</a></code>.
</p>
</td></tr>
<tr><td><code id="write.csv.tabular_+3A_file">file</code></td>
<td>

<p>A filename or connection to which to write.
</p>
</td></tr>
<tr><td><code id="write.csv.tabular_+3A_justification">justification</code></td>
<td>

<p>Parameter to pass to <code><a href="#topic+format.tabular">format.tabular</a></code>.
</p>
</td></tr>
<tr><td><code id="write.csv.tabular_+3A_row.names">row.names</code>, <code id="write.csv.tabular_+3A_col.names">col.names</code></td>
<td>

<p>Parameters to pass to <code><a href="utils.html#topic+write.csv">write.csv</a></code> or <code><a href="utils.html#topic+write.table">write.table</a></code>
</p>
</td></tr>
<tr><td><code id="write.csv.tabular_+3A_...">...</code></td>
<td>

<p>Parameters to pass to <code><a href="#topic+format.tabular">format.tabular</a></code> or <code><a href="utils.html#topic+write.table">write.table</a></code>;
see Details below.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>write.csv.tabular</code> writes a simple version of the table (similar
to what is produced by <code><a href="#topic+print.tabular">print.tabular</a></code>) to the given
connection in CSV format, using <code><a href="utils.html#topic+write.csv">write.csv</a></code>.
<code>write.table.tabular</code> does similarly using the more general
<code><a href="utils.html#topic+write.table">write.table</a></code>.
</p>
<p>The optional arguments in <code>...</code> are sent to <code>write.csv/write.table</code>
if their names exactly match parameters to <code>write.table</code>; otherwise, they
are sent to <code>format.tabular</code>.
</p>


<h3>Value</h3>

<p>The return value from <code><a href="utils.html#topic+write.csv">write.csv</a></code> or <code><a href="utils.html#topic+write.table">write.table</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# This writes a table to the clipboard on Windows using tab delimiters, for
# easy import into a spreadsheet.

write.table.tabular( 
    tabular( (Species + 1) ~ (n=1) + Format(digits=2)*
         (Sepal.Length + Sepal.Width)*(mean + sd), data=iris ),
    "clipboard", sep="\t")

## End(Not run)    
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

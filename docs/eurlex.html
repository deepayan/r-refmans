<!DOCTYPE html><html lang="en-US"><head><title>Help for package eurlex</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {eurlex}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#elx_curia_list'><p>Scrape list of court cases from Curia</p></a></li>
<li><a href='#elx_download_xml'><p>Download XML notice associated with a URL</p></a></li>
<li><a href='#elx_fetch_data'><p>Retrieve additional data on EU documents</p></a></li>
<li><a href='#elx_label_eurovoc'><p>Label EuroVoc concepts</p></a></li>
<li><a href='#elx_make_query'><p>Create SPARQL queries</p></a></li>
<li><a href='#elx_run_query'><p>Execute SPARQL queries</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Retrieve Data on European Union Law</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.8</td>
</tr>
<tr>
<td>Description:</td>
<td>Access to data on European Union laws and court decisions made easy with pre-defined 'SPARQL' queries and 'GET' requests. See Ovadek (2021) &lt;<a href="https://doi.org/10.1080%2F2474736X.2020.1870150">doi:10.1080/2474736X.2020.1870150</a>&gt; .</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, dplyr, xml2, tidyr, httr, curl, rvest, rlang,
stringr, pdftools, antiword</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, tidytext, wordcloud, purrr, ggplot2,
ggiraph, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://michalovadek.github.io/eurlex/">https://michalovadek.github.io/eurlex/</a>,
<a href="https://github.com/michalovadek/eurlex">https://github.com/michalovadek/eurlex</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/michalovadek/eurlex/issues">https://github.com/michalovadek/eurlex/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-03 00:26:56 UTC; uctqova</td>
</tr>
<tr>
<td>Author:</td>
<td>Michal Ovadek <a href="https://orcid.org/0000-0002-2552-2580"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michal Ovadek &lt;michal.ovadek@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-03 07:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='elx_curia_list'>Scrape list of court cases from Curia</h2><span id='topic+elx_curia_list'></span>

<h3>Description</h3>

<p>Harvests data from lists of EU court cases from curia.europa.eu.
CELEX identifiers are extracted from hyperlinks where available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elx_curia_list(
  data = c("all", "ecj_old", "ecj_new", "gc_all", "cst_all"),
  parse = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elx_curia_list_+3A_data">data</code></td>
<td>
<p>Data to be scraped from four separate lists of cases maintained by Curia, defaults to &quot;all&quot;
which contains cases from Court of Justice, General Court and Civil Service Tribunal.</p>
</td></tr>
<tr><td><code id="elx_curia_list_+3A_parse">parse</code></td>
<td>
<p>If <code>TRUE</code>, references to cases and appeals are parsed out from <code>case_info</code> into separate columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing case identifiers and information as character columns. Where the case id
contains a hyperlink to Eur-Lex, the CELEX identifier is retrieved as well. Hyperlinks to Eur-Lex
disappeared from more recent cases.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
elx_curia_list(data = "cst_all", parse = FALSE)

</code></pre>

<hr>
<h2 id='elx_download_xml'>Download XML notice associated with a URL</h2><span id='topic+elx_download_xml'></span>

<h3>Description</h3>

<p>Downloads an XML notice of a given type associated with a Cellar resource.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elx_download_xml(
  url,
  file = paste(basename(url), ".xml", sep = ""),
  notice = c("tree", "branch", "object"),
  language_1 = "en",
  language_2 = "fr",
  language_3 = "de",
  mode = "wb"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elx_download_xml_+3A_url">url</code></td>
<td>
<p>A valid url as character vector of length one based on a resource identifier such as CELEX or Cellar URI.</p>
</td></tr>
<tr><td><code id="elx_download_xml_+3A_file">file</code></td>
<td>
<p>A character string with the name where the downloaded file is saved.</p>
</td></tr>
<tr><td><code id="elx_download_xml_+3A_notice">notice</code></td>
<td>
<p>The type of notice requested controls what kind of metadata are returned.</p>
</td></tr>
<tr><td><code id="elx_download_xml_+3A_language_1">language_1</code></td>
<td>
<p>The priority language in which the data will be attempted to be retrieved, in ISO 639 2-char code</p>
</td></tr>
<tr><td><code id="elx_download_xml_+3A_language_2">language_2</code></td>
<td>
<p>If data not available in <code>language_1</code>, try <code>language_2</code></p>
</td></tr>
<tr><td><code id="elx_download_xml_+3A_language_3">language_3</code></td>
<td>
<p>If data not available in <code>language_2</code>, try <code>language_3</code></p>
</td></tr>
<tr><td><code id="elx_download_xml_+3A_mode">mode</code></td>
<td>
<p>A character string specifying the mode with which to write the file. Useful values are &quot;w&quot;, &quot;wb&quot; (binary), &quot;a&quot; (append) and &quot;ab&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To retrieve all identifiers associated with a url, use elx_fetch_data(type = &quot;ids&quot;).
</p>


<h3>Value</h3>

<p>Path of downloaded file (invisibly) if server validates request (http status code has to be 200). For more information about notices, see Cellar documentation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
temploc &lt;- paste(tempdir(), "elxnotice.xml", sep = "\\")
elx_download_xml(url = "http://publications.europa.eu/resource/celex/32022D0154",
 file = temploc, notice = "object")
unlink(temploc)

</code></pre>

<hr>
<h2 id='elx_fetch_data'>Retrieve additional data on EU documents</h2><span id='topic+elx_fetch_data'></span>

<h3>Description</h3>

<p>Get titles, texts, identifiers and XML notices for EU resources.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elx_fetch_data(
  url,
  type = c("title", "text", "ids", "notice"),
  notice = c("tree", "branch", "object"),
  language_1 = "en",
  language_2 = "fr",
  language_3 = "de",
  include_breaks = TRUE,
  html_text = c("text2", "text")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elx_fetch_data_+3A_url">url</code></td>
<td>
<p>A valid url as character vector of length one based on a resource identifier such as CELEX or Cellar URI.</p>
</td></tr>
<tr><td><code id="elx_fetch_data_+3A_type">type</code></td>
<td>
<p>The type of data to be retrieved. When type = &quot;text&quot;, the returned list contains named elements reflecting the source of each text. When type = &quot;notice&quot;, the results return an XML notice associated with the url.</p>
</td></tr>
<tr><td><code id="elx_fetch_data_+3A_notice">notice</code></td>
<td>
<p>If type = &quot;notice&quot;, controls what kind of metadata are returned by the notice.</p>
</td></tr>
<tr><td><code id="elx_fetch_data_+3A_language_1">language_1</code></td>
<td>
<p>The priority language in which the data will be attempted to be retrieved, in ISO 639 2-char code</p>
</td></tr>
<tr><td><code id="elx_fetch_data_+3A_language_2">language_2</code></td>
<td>
<p>If data not available in <code>language_1</code>, try <code>language_2</code></p>
</td></tr>
<tr><td><code id="elx_fetch_data_+3A_language_3">language_3</code></td>
<td>
<p>If data not available in <code>language_2</code>, try <code>language_3</code></p>
</td></tr>
<tr><td><code id="elx_fetch_data_+3A_include_breaks">include_breaks</code></td>
<td>
<p>If TRUE, text includes tags showing where pages (&quot;&mdash;pagebreak&mdash;&quot;, for pdfs) and documents (&quot;&mdash;documentbreak&mdash;&quot;) were concatenated</p>
</td></tr>
<tr><td><code id="elx_fetch_data_+3A_html_text">html_text</code></td>
<td>
<p>Choose whether to read text from html using <code><a href="rvest.html#topic+html_text">rvest::html_text2()</a></code> (&quot;text2&quot;) or <code><a href="rvest.html#topic+html_text">rvest::html_text()</a></code> (&quot;text&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length one containing the result. When <code>type = "text"</code>, named character vector where the name contains the source of the text.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
elx_fetch_data(url = "http://publications.europa.eu/resource/celex/32014R0001", type = "title")

</code></pre>

<hr>
<h2 id='elx_label_eurovoc'>Label EuroVoc concepts</h2><span id='topic+elx_label_eurovoc'></span>

<h3>Description</h3>

<p>Create a look-up table with labels for EuroVoc concept URIs. Only unique identifiers are returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elx_label_eurovoc(uri_eurovoc = "", alt_labels = FALSE, language = "en")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elx_label_eurovoc_+3A_uri_eurovoc">uri_eurovoc</code></td>
<td>
<p>Character vector with valid EuroVoc URIs</p>
</td></tr>
<tr><td><code id="elx_label_eurovoc_+3A_alt_labels">alt_labels</code></td>
<td>
<p>If <code>TRUE</code>, results include comma-separated alternative labels in addition to the preferred label</p>
</td></tr>
<tr><td><code id="elx_label_eurovoc_+3A_language">language</code></td>
<td>
<p>Language in which to return the labels, in ISO 639 2-char code</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing EuroVoc unique concept identifiers and labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
elx_label_eurovoc(uri_eurovoc = "http://eurovoc.europa.eu/5760", language = "fr")

</code></pre>

<hr>
<h2 id='elx_make_query'>Create SPARQL queries</h2><span id='topic+elx_make_query'></span>

<h3>Description</h3>

<p>Generates pre-defined or manual SPARQL queries to retrieve document ids from Cellar.
List of available resource types: http://publications.europa.eu/resource/authority/resource-type .
Note that not all resource types are compatible with default parameter values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elx_make_query(
  resource_type = c("any", "directive", "regulation", "decision", "recommendation",
    "intagr", "caselaw", "manual", "proposal", "national_impl"),
  manual_type = "",
  directory = NULL,
  sector = NULL,
  include_corrigenda = FALSE,
  include_celex = TRUE,
  include_lbs = FALSE,
  include_date = FALSE,
  include_date_force = FALSE,
  include_date_endvalid = FALSE,
  include_date_transpos = FALSE,
  include_date_lodged = FALSE,
  include_force = FALSE,
  include_eurovoc = FALSE,
  include_citations = FALSE,
  include_citations_detailed = FALSE,
  include_author = FALSE,
  include_directory = FALSE,
  include_directory_code = FALSE,
  include_sector = FALSE,
  include_ecli = FALSE,
  include_court_procedure = FALSE,
  include_judge_rapporteur = FALSE,
  include_advocate_general = FALSE,
  include_court_formation = FALSE,
  include_court_scholarship = FALSE,
  include_court_origin = FALSE,
  include_original_language = FALSE,
  include_proposal = FALSE,
  order = FALSE,
  limit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elx_make_query_+3A_resource_type">resource_type</code></td>
<td>
<p>Type of resource to be retrieved via SPARQL query</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_manual_type">manual_type</code></td>
<td>
<p>Define manually the type of resource to be retrieved</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_directory">directory</code></td>
<td>
<p>Restrict the results to a given directory code</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_sector">sector</code></td>
<td>
<p>Restrict the results to a given sector code</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_corrigenda">include_corrigenda</code></td>
<td>
<p>If <code>TRUE</code>, results include corrigenda</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_celex">include_celex</code></td>
<td>
<p>If <code>TRUE</code>, results include CELEX identifier for each resource URI</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_lbs">include_lbs</code></td>
<td>
<p>If <code>TRUE</code>, results include legal bases of legislation</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_date">include_date</code></td>
<td>
<p>If <code>TRUE</code>, results include document date</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_date_force">include_date_force</code></td>
<td>
<p>If <code>TRUE</code>, results include date of entry into force</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_date_endvalid">include_date_endvalid</code></td>
<td>
<p>If <code>TRUE</code>, results include date of end of validity</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_date_transpos">include_date_transpos</code></td>
<td>
<p>If <code>TRUE</code>, results include date of transposition deadline for directives</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_date_lodged">include_date_lodged</code></td>
<td>
<p>If <code>TRUE</code>, results include date a court case was lodged with the court</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_force">include_force</code></td>
<td>
<p>If <code>TRUE</code>, results include whether legislation is in force</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_eurovoc">include_eurovoc</code></td>
<td>
<p>If <code>TRUE</code>, results include EuroVoc descriptors of subject matter</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_citations">include_citations</code></td>
<td>
<p>If <code>TRUE</code>, results include citations (CELEX-labelled)</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_citations_detailed">include_citations_detailed</code></td>
<td>
<p>If <code>TRUE</code>, results include citations (CELEX-labelled) with additional details</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_author">include_author</code></td>
<td>
<p>If <code>TRUE</code>, results include document author(s)</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_directory">include_directory</code></td>
<td>
<p>If <code>TRUE</code>, results include the label of the Eur-Lex directory code</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_directory_code">include_directory_code</code></td>
<td>
<p>If <code>TRUE</code>, results include the Eur-Lex directory code</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_sector">include_sector</code></td>
<td>
<p>If <code>TRUE</code>, results include the Eur-Lex sector code</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_ecli">include_ecli</code></td>
<td>
<p>If <code>TRUE</code>, results include the ECLI identifier for court documents</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_court_procedure">include_court_procedure</code></td>
<td>
<p>If <code>TRUE</code>, results include type of court procedure and outcome</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_judge_rapporteur">include_judge_rapporteur</code></td>
<td>
<p>If <code>TRUE</code>, results include the Judge-Rapporteur</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_advocate_general">include_advocate_general</code></td>
<td>
<p>If <code>TRUE</code>, results include the Advocate General</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_court_formation">include_court_formation</code></td>
<td>
<p>If <code>TRUE</code>, results include the court formation</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_court_scholarship">include_court_scholarship</code></td>
<td>
<p>If <code>TRUE</code>, results include court-curated relevant scholarship</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_court_origin">include_court_origin</code></td>
<td>
<p>If <code>TRUE</code>, results include country of origin of court case</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_original_language">include_original_language</code></td>
<td>
<p>If <code>TRUE</code>, results include authentic language of document (usually case)</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_include_proposal">include_proposal</code></td>
<td>
<p>If <code>TRUE</code>, results include the CELEX of the proposal of the adopted legal act</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_order">order</code></td>
<td>
<p>Order results by ids</p>
</td></tr>
<tr><td><code id="elx_make_query_+3A_limit">limit</code></td>
<td>
<p>Limit the number of results, for testing purposes mainly</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing the SPARQL query
</p>


<h3>Examples</h3>

<pre><code class='language-R'>elx_make_query(resource_type = "directive", include_date = TRUE, include_force = TRUE)
elx_make_query(resource_type = "regulation", include_corrigenda = TRUE, order = TRUE)
elx_make_query(resource_type = "any", sector = 2)
elx_make_query(resource_type = "manual", manual_type = "SWD")
</code></pre>

<hr>
<h2 id='elx_run_query'>Execute SPARQL queries</h2><span id='topic+elx_run_query'></span>

<h3>Description</h3>

<p>Executes cURL request to a pre-defined endpoint of the EU Publications Office.
Relies on elx_make_query to generate valid SPARQL queries.
Results are capped at 1 million rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elx_run_query(
  query = "",
  endpoint = "http://publications.europa.eu/webapi/rdf/sparql"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elx_run_query_+3A_query">query</code></td>
<td>
<p>A valid SPARQL query specified by <code><a href="#topic+elx_make_query">elx_make_query()</a></code> or manually</p>
</td></tr>
<tr><td><code id="elx_run_query_+3A_endpoint">endpoint</code></td>
<td>
<p>SPARQL endpoint</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the results of the SPARQL query.
Column <code>work</code> contains the Cellar URI of the resource.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
elx_run_query(elx_make_query("directive", include_force = TRUE, limit = 10))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package idem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {idem}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#idem-package'><p>Inference in Randomized Clinical Trials with Death and Missingness</p></a></li>
<li><a href='#abc'><p>Example dataset</p></a></li>
<li><a href='#imData'><p>Create data for IDEM analysis</p></a></li>
<li><a href='#imFitModel'><p>Imputation model fitting</p></a></li>
<li><a href='#imImpAll'><p>Impute missing data</p></a></li>
<li><a href='#imImpAll_mice'><p>Impute missing data by mice</p></a></li>
<li><a href='#imImpSingle'><p>Impute missing data for MCMC convergence checking</p></a></li>
<li><a href='#imInfer'><p>Treatment effect estimation and hypothesis testing</p></a></li>
<li><a href='#imShiny'><p>Run Web-Based <code>idem</code> application</p></a></li>
<li><a href='#plot.IDEMDATA'><p>Plot of IDEMDATA object</p></a></li>
<li><a href='#plot.IDEMFIT'><p>Plot model fitting results</p></a></li>
<li><a href='#plot.IDEMIMP'><p>Plot imputation results</p></a></li>
<li><a href='#plot.IDEMINFER'><p>Plot hypothesis testing results</p></a></li>
<li><a href='#plot.IDEMSINGLE'><p>Plot MCMC mixing results</p></a></li>
<li><a href='#plot.summary.IDEMINFER'><p>Plot survivors only and SACE analysis results</p></a></li>
<li><a href='#print.IDEMDATA'><p>Print IDEMDATA object</p></a></li>
<li><a href='#print.IDEMERROR'><p>Print error messages</p></a></li>
<li><a href='#print.IDEMFIT'><p>Print model fitting results</p></a></li>
<li><a href='#print.IDEMIMP'><p>Print imputation results</p></a></li>
<li><a href='#print.IDEMINFER'><p>Print inference results</p></a></li>
<li><a href='#print.IDEMSINGLE'><p>Print MCMC mixing checking result</p></a></li>
<li><a href='#print.summary.IDEMINFER'><p>Print survivors only or SACE analysis results</p></a></li>
<li><a href='#summary.IDEMDATA'><p>Summary of IDEMDATA object</p></a></li>
<li><a href='#summary.IDEMINFER'><p>Summary of the inference results</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Inference in Randomized Controlled Trials with Death and
Missingness</td>
</tr>
<tr>
<td>Version:</td>
<td>5.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Chenguang Wang [aut, cre],
    Andrew Leroux [aut, cre],
    Elizabeth Colantuoni [aut],
    Daniel O Scharfstein [aut],
    Trustees of Columbia University [cph] (tools/make_cpp.R, R/stanmodels.R)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chenguang Wang &lt;cwang68@jhmi.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>In randomized studies involving severely ill patients, functional
    outcomes are often unobserved due to missed clinic visits, premature
    withdrawal or death. It is well known that if these unobserved functional
    outcomes are not handled properly, biased treatment comparisons can be
    produced. In this package, we implement a procedure for comparing treatments
    that is based on the composite endpoint of both the functional outcome and
    survival. The procedure was proposed in Wang et al. (2016) &lt;<a href="https://doi.org/10.1111%2Fbiom.12594">doi:10.1111/biom.12594</a>&gt;
    and Wang et al. (2020) &lt;<a href="https://doi.org/10.18637%2Fjss.v093.i12">doi:10.18637/jss.v093.i12</a>&gt;. It considers missing data
    imputation with different sensitivity
    analysis strategies to handle the unobserved functional outcomes not due to
    death.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), Rcpp (&ge; 0.12.0), methods</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>StanHeaders (&ge; 2.18.0), rstan (&ge; 2.18.1), BH (&ge; 1.66.0),
Rcpp (&ge; 0.12.0), RcppEigen (&ge; 0.3.3.3.0), RcppParallel (&ge;
5.0.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rstan (&ge; 2.18.1), RcppParallel (&ge; 5.0.1), rstantools (&ge;
2.1.1), sqldf (&ge; 0.4), survival (&ge; 2.38), mice (&ge; 3.9.0),
parallel (&ge; 3.2)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, shiny, rmarkdown, pander, DT, shinythemes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/olssol/idem/">https://github.com/olssol/idem/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-08 01:29:26 UTC; zilu</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-09 10:30:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='idem-package'>Inference in Randomized Clinical Trials with Death and Missingness</h2><span id='topic+idem-package'></span><span id='topic+idem'></span>

<h3>Description</h3>

<p>This package contains the functions for drawing inference in randomized
clinical trials with death and intermittent missingness.
</p>


<h3>Notation</h3>

<p>Consider a two-arm randomized study. Let <code class="reqn">Y_k</code> denote outcome measured at
time <code class="reqn">t_k</code> and <code class="reqn">Z</code> denote a functional endpoint that is a function of
<code class="reqn">Y</code>. Let <code class="reqn">L</code> denote the survival time. Let <code class="reqn">X</code> denote the
baseline covariates and <code class="reqn">T</code> denote the treatment assignment.
</p>


<h3>Ranking</h3>

<p>If two subject were both alive at the end of the study, they are ranked based
on functional outcome <code class="reqn">Z</code>. If at least one subject was dead at the end of
the study, they are ranked based on survival time <code class="reqn">L</code>.
</p>
<p>Treatment effect, <code class="reqn">\theta</code> is defined as the probability that the outcome
for a random individual randomized to treatment <code class="reqn">T=0</code> is less than the
outcome of a random individual randomized to treatment <code class="reqn">T=1</code> minus the
probability that the outcome for a random individual randomized to treatment
<code class="reqn">T=0</code> is greater than the outcome of a random individual randomized to treatment
<code class="reqn">T=1</code>.
</p>


<h3>Missingness</h3>

<p>In order to estimate <code class="reqn">\theta</code> in the presence of missing data, we need to
impute <code class="reqn">Z</code> for subjects alive at the end of the study with <code class="reqn">Y_k</code> missing
for some <code class="reqn">k</code>.
</p>
<p>The benchmark assumption we consider for the imputation is the complete case
missing value (CCMV) restrictions. We then consider exponential tilting
models for introducing sensitivity parameters for evaluating the robustness
of the findings with regards to different missing data mechanism assumptions.
The models are as follows:
</p>
<p style="text-align: center;"><code class="reqn"> f(Y^{(s)}_{mis} | Y^{(s)}_{obs}, Y_0, X, T,S=s) \propto \exp(
\beta_T Z) f(Y^{(s)}_{mis} | Y^{(s)}_{obs}, Y_0, X, T,S=1)
</code>
</p>

<p>where <code class="reqn">S</code> denotes the missingness patterns, <code class="reqn">S=1</code> denotes the
completers and <code class="reqn">\beta_T</code> denotes the sensitivity parameter for arm <code class="reqn">T</code>.
</p>


<h3>Graphical user interface (GUI)</h3>

<p>This package provides a web-based GUI. See <code><a href="#topic+imShiny">imShiny</a></code> for
details.
</p>


<h3>References</h3>

<p>Wang C, Scharfstein DO, Colantuoni E, Girard T, Yan Y (2016). Inference in
Randomized Trials with Death and Missingness. &lt;DOI:10.1111/biom.12594&gt;
</p>
<p>Wang C, Colantuoni E, Leroux A, Scharfstein DO (2020). idem: An R Package for
Inferences in Clinical Trials with Death and Missingness.
&lt;DOI:10.18637/jss.v093.i12&gt;
</p>

<hr>
<h2 id='abc'>Example dataset</h2><span id='topic+abc'></span>

<h3>Description</h3>

<p>The Awakening and Breathing Controlled (ABC) trial randomized critically ill
patients receiving mechanical ventilation 1:1 within each study site to
management with a paired sedation plus ventilator weaning protocol involving
daily interruption of sedative through spontaneous awakening trials (SATs)
and spontaneous breathing trials (SBTs) or sedation per usual care
(UC) and SBTs.
</p>
<p>The example dataset is from a single site substudy in ABC. The researchers
assessed differences in cognitive, psychological and functional outcomes at 3
and 12 months after randomization.
</p>


<h3>Format</h3>

<p>A dataframe with 5 variables:
</p>

<dl>
<dt>AGE</dt><dd><p>Age</p>
</dd>
<dt>TRT</dt><dd><p>Treatment assignment. 0: UC + SBT, 1: SAT + SBT</p>
</dd>
<dt>SURV</dt><dd><p>Survival days</p>
</dd>
<dt>Y2</dt><dd><p>Cognitive score at 12 months</p>
</dd>
<dt>Y1</dt><dd><p>Cognitive score at 3 months</p>
</dd>
</dl>



<h3>References</h3>

<p>T. D. Girard, J. P. Kress, B. D. Fuchs, J. W. W. Thomason, W. D. Schweickert,
B. T. Pun, D. B. Taichman, J. G. Dunn, A. S. Pohlman, P. A. Kinniry, J. C.
Jackson, A. E. Canonico, R. W. Light, A. K. Shintani, J. L. Thompson, S. M.
Gordon, J. B. Hall, R. S. Dittus, G. R. Bernard, and E. W. Ely. Efficacy and
safety of a paired sedation and ventilator weaning protocol for mechanically
ventilated patients in intensive care (awakening and breathing controlled
trial): a randomised controlled trial. Lancet, 371:126-134, 2008.
</p>

<hr>
<h2 id='imData'>Create data for IDEM analysis</h2><span id='topic+imData'></span>

<h3>Description</h3>

<p>Create a class <code>IDEMDATA</code> object for IDEM analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imData(
  data,
  trt = NULL,
  surv = NULL,
  outcome = NULL,
  endfml = NULL,
  y0 = NULL,
  cov = NULL,
  duration = 9999,
  bounds = NULL,
  trt.label = NULL,
  unitTime = "days",
  err.terminate = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imData_+3A_data">data</code></td>
<td>
<p>Original dataset</p>
</td></tr>
<tr><td><code id="imData_+3A_trt">trt</code></td>
<td>
<p>Variable name for the Control (0) and Intervention (1) treatment
assignments in the dataset</p>
</td></tr>
<tr><td><code id="imData_+3A_surv">surv</code></td>
<td>
<p>Variable name for the survival (time to event) variable in the
dataset</p>
</td></tr>
<tr><td><code id="imData_+3A_outcome">outcome</code></td>
<td>
<p>Chronologically ordered vector of variable names for clinical
outcomes in the dataset excluding baseline</p>
</td></tr>
<tr><td><code id="imData_+3A_endfml">endfml</code></td>
<td>
<p><code>R</code> expression indicating the user-specified final outcome of
interest. This is the function for <code class="reqn">Z</code> of one or more of <code class="reqn">Y_k</code>'s</p>
</td></tr>
<tr><td><code id="imData_+3A_y0">y0</code></td>
<td>
<p>Variable name of the baseline clinical outcome</p>
</td></tr>
<tr><td><code id="imData_+3A_cov">cov</code></td>
<td>
<p>Vector of variable names for the covariates used in the imputation
procedure for missing clinical outcomes</p>
</td></tr>
<tr><td><code id="imData_+3A_duration">duration</code></td>
<td>
<p>Length of the study. This is the time at which subjects' are
assumed to be censored</p>
</td></tr>
<tr><td><code id="imData_+3A_bounds">bounds</code></td>
<td>
<p>Numeric vector of lower and upper bounds for subjects' imputed
clinical outcomes</p>
</td></tr>
<tr><td><code id="imData_+3A_trt.label">trt.label</code></td>
<td>
<p>label of the treatment arms</p>
</td></tr>
<tr><td><code id="imData_+3A_unittime">unitTime</code></td>
<td>
<p>Unit of time measurement for survival and function outcome time points</p>
</td></tr>
<tr><td><code id="imData_+3A_err.terminate">err.terminate</code></td>
<td>
<p>When there is error in the specification, the program
should be stopped with an error message if err.terminate is true.
Otherwise, the error message will be returned and the program will continue.</p>
</td></tr>
<tr><td><code id="imData_+3A_...">...</code></td>
<td>
<p>Additional specifications</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When there are errors in the specification, i.e. <code>trt</code> is not a column
of <code>data</code>, a class <code>IDEMERROR</code> object will be returned. The
detailed errors can be checked by calling <code>print</code> of the
<code>IDEMERROR</code> object.
</p>


<h3>Value</h3>

<p>When the specifications are correct, a class <code>IDEMDATA</code> list will be
returned. The list contains
</p>

<dl>
<dt>data</dt><dd><p>Original dataset</p>
</dd>
<dt>lst.var</dt><dd><p>List of the specifications</p>
</dd></dl>



<h3>Examples</h3>

<pre><code class='language-R'>rst.data &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                   y0=NULL, endfml="Y2",
                   trt.label = c("UC+SBT", "SAT+SBT"),
                   cov=c("AGE"), duration=365, bounds=c(0,100));

</code></pre>

<hr>
<h2 id='imFitModel'>Imputation model fitting</h2><span id='topic+imFitModel'></span>

<h3>Description</h3>

<p>Fit linear imputation models to the observed data from complete survivors for
each treatment arm at each time point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imFitModel(im.data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imFitModel_+3A_im.data">im.data</code></td>
<td>
<p>A class <code>IDEMDATA</code> object generated by <code><a href="#topic+imData">imData</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A class <code>IDEMFIT</code> list of modeling fitting results with the following items
</p>

<dl>
<dt>im.data</dt><dd><p>Original class <code>IDEMDATA</code> object</p>
</dd>
<dt>rst.mdl</dt><dd><p>A list of modeling fitting results for each model with
</p>

<dl>
<dt>lm</dt><dd><p>results from function <code>lm</code></p>
</dd>
<dt>formula</dt><dd><p>model formula</p>
</dd>
<dt>coef</dt><dd><p>model coefficients</p>
</dd>
<dt>res</dt><dd><p>residuals</p>
</dd>
<dt>h</dt><dd><p>bandwidth of residuals for kernel density estimation</p>
</dd></dl>

</dd></dl>



<h3>See Also</h3>

<p><code><a href="#topic+imData">imData</a></code>, <code><a href="#topic+idem-package">idem-package</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>im.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
im.fit &lt;- imFitModel(im.abc);

</code></pre>

<hr>
<h2 id='imImpAll'>Impute missing data</h2><span id='topic+imImpAll'></span>

<h3>Description</h3>

<p>Conduct imputation under benchmark assumptions or for sensitivity analysis
for a given set of subjects using the model fitting results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imImpAll(
  fit.rst,
  data.all = NULL,
  deltas = 0,
  normal = TRUE,
  n.imp = 5,
  endponly = TRUE,
  update.progress = NULL,
  imputeNone = FALSE,
  ...,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imImpAll_+3A_fit.rst">fit.rst</code></td>
<td>
<p>A class <code>IDEMFIT</code> results generated by
<code><a href="#topic+imFitModel">imFitModel</a></code>.</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_data.all">data.all</code></td>
<td>
<p>A dataframe containing subjects with missing data. The
default value is NULL, in which case the function will impute missing
data for subjects in the original dataset in the class <code>IDEMFIT</code>
object <code>fit.rst</code></p>
</td></tr>
<tr><td><code id="imImpAll_+3A_deltas">deltas</code></td>
<td>
<p>Vector of imputation sensitivity parameters</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_normal">normal</code></td>
<td>
<p>Logical variable indicating whether normality assumption should
be made for the residuals</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_n.imp">n.imp</code></td>
<td>
<p>Number of complete datasets required</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_endponly">endponly</code></td>
<td>
<p>Logical variable that indicates whether clinical outcomes not
used in calculating the functional outcome are considered as missing and
should be imputed. The default is <code>FALSE</code>, indicating that all
missing clinical outcomes will be imputed sequentially</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_update.progress">update.progress</code></td>
<td>
<p>Parameter reserved for run <code>idem</code> in GUI mode</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_imputenone">imputeNone</code></td>
<td>
<p>If <code>TRUE</code>, no imputation will be conducted. The data
from subjects that do not need imputation will be returned</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_...">...</code></td>
<td>
<p>options to call STAN sampling. These options include
<code>chains</code>, <code>iter</code>, <code>warmup</code>, <code>thin</code>, <code>algorithm</code>.
See <code>rstan::sampling</code> for details.</p>
</td></tr>
<tr><td><code id="imImpAll_+3A_seed">seed</code></td>
<td>
<p>Random seed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>imputeNone</code> is TRUE, return a dataset with the original data for the
subset of subjects who died at the end of the study or had no missing outcomes.
</p>
<p>Otherwise, return a class <code>IDEMIMP</code> list with components
</p>

<dl>
<dt>lst.var</dt><dd><p>List of parameters</p>
</dd>
<dt>complete</dt><dd><p>A dataset with  the original data for
the subset of subjects who died at the end of the study or had no missing
outcomes and the <code>n.imp</code> imputed missing outcomes for subjects who need
missing value imputation.
</p>
</dd>
<dt>n.imp</dt><dd><p>Number of imputed complete datasets</p>
</dd>
<dt>deltas</dt><dd><p>Imputation sensitivity parameters</p>
</dd>
<dt>org.data</dt><dd><p>Original dataset</p>
</dd>
<dt>normal</dt><dd><p>Normal assumption for the imputation</p>
</dd>
<dt>stan.par</dt><dd><p>STAN options</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
rst.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.fit  &lt;- imFitModel(rst.abc);
rst.imp &lt;- imImpAll(rst.fit, deltas=c(-0.25,0,0.25),
                    normal=TRUE, chains = 2, iter = 2000, warmup = 1000);
## End(Not run)

</code></pre>

<hr>
<h2 id='imImpAll_mice'>Impute missing data by mice</h2><span id='topic+imImpAll_mice'></span>

<h3>Description</h3>

<p>Conduct imputation using the NARFCS model implemented in the <code>mice</code>
package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imImpAll_mice(
  im.data,
  deltas = 0,
  n.imp = 5,
  endponly = TRUE,
  seed = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imImpAll_mice_+3A_im.data">im.data</code></td>
<td>
<p>A class <code>IDEMDATA</code> object generated by <code><a href="#topic+imData">imData</a></code></p>
</td></tr>
<tr><td><code id="imImpAll_mice_+3A_deltas">deltas</code></td>
<td>
<p>Vector of imputation sensitivity parameters</p>
</td></tr>
<tr><td><code id="imImpAll_mice_+3A_n.imp">n.imp</code></td>
<td>
<p>Number of complete datasets required</p>
</td></tr>
<tr><td><code id="imImpAll_mice_+3A_endponly">endponly</code></td>
<td>
<p>Logical variable that indicates whether clinical outcomes not
used in calculating the functional outcome are considered as missing and
should be imputed. The default is <code>FALSE</code>, indicating that all
missing clinical outcomes will be imputed sequentially</p>
</td></tr>
<tr><td><code id="imImpAll_mice_+3A_seed">seed</code></td>
<td>
<p>Random seed</p>
</td></tr>
<tr><td><code id="imImpAll_mice_+3A_...">...</code></td>
<td>
<p>Parameters for <code>mice</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A class <code>IDEMIMP</code> list with components </p>
 <dl>
<dt>lst.var</dt><dd><p>List of
parameters</p>
</dd> <dt>complete</dt><dd><p>A dataset with the original data for the subset
of subjects who died at the end of the study or had no missing outcomes and
the <code>n.imp</code> imputed missing outcomes for subjects who need missing value
imputation. </p>
</dd> <dt>n.imp</dt><dd><p>Number of imputed complete datasets</p>
</dd>
<dt>deltas</dt><dd><p>Imputation sensitivity parameters</p>
</dd> <dt>org.data</dt><dd><p>Original
dataset</p>
</dd> </dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
rst.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.imp &lt;- imImpAll_mice(rst.abc, deltas=c(-0.25,0,0.25));
## End(Not run)

</code></pre>

<hr>
<h2 id='imImpSingle'>Impute missing data for MCMC convergence checking</h2><span id='topic+imImpSingle'></span>

<h3>Description</h3>

<p>Call STAN model to impute missing data for an individual subject under
benchmark assumption for MCMC convergence checking
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imImpSingle(
  dsub,
  fit.rst,
  normal = TRUE,
  chains = 4,
  iter = 5000,
  warmup = 1000,
  control = list(adapt_delta = 0.95),
  ...,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imImpSingle_+3A_dsub">dsub</code></td>
<td>
<p>original individual subject data</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_fit.rst">fit.rst</code></td>
<td>
<p>A class <code>IDEMFIT</code> results generated by
<code><a href="#topic+imFitModel">imFitModel</a></code>.</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_normal">normal</code></td>
<td>
<p>Logical variable indicating whether normality assumption should
be made for the residuals</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_chains">chains</code></td>
<td>
<p>STAN parameter. Number of Markov chainsm</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_iter">iter</code></td>
<td>
<p>STAN parameter. Number of iterations</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_warmup">warmup</code></td>
<td>
<p>STAN parameter. Number of burnin.</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_control">control</code></td>
<td>
<p>STAN parameter. See <code>rstan::stan</code> for details.</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_...">...</code></td>
<td>
<p>other options to call STAN sampling such as <code>thin</code>,
<code>algorithm</code>. See <code>rstan::sampling</code> for details.</p>
</td></tr>
<tr><td><code id="imImpSingle_+3A_seed">seed</code></td>
<td>
<p>Random seed</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> if there is no missing data in <code>dsub</code>
</p>
<p>Otherwise, return a class <code>IDEMSINGLE</code> object that contains a list with
components </p>
 <dl>
<dt>dsub</dt><dd><p>original data of the subject</p>
</dd>
<dt>rst.stan</dt><dd><p>A <code>stan.fit</code> class result returned from
<code>rstan::sampling</code></p>
</dd> <dt>complete</dt><dd><p>A dataframe with complete data for
the selected subject</p>
</dd> </dl>



<h3>Examples</h3>

<pre><code class='language-R'>im.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
im.fit &lt;- imFitModel(im.abc);
im.imp &lt;- imImpSingle(abc[1,], im.fit, chains = 4, iter = 200, warmup = 100);

</code></pre>

<hr>
<h2 id='imInfer'>Treatment effect estimation and hypothesis testing</h2><span id='topic+imInfer'></span>

<h3>Description</h3>

<p>Estimate treatment effect size. Estimate variation and conduct hypothesis
testing by bootstrap analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imInfer(
  imp.rst,
  n.boot = 0,
  n.cores = 1,
  update.progress = NULL,
  effect.quantiles = c(0.25, 0.5, 0.75),
  quant.ci = c(0.025, 0.975),
  ...,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imInfer_+3A_imp.rst">imp.rst</code></td>
<td>
<p>A class <code>IDEMIMP</code> object returned from
<code><a href="#topic+imImpAll">imImpAll</a></code></p>
</td></tr>
<tr><td><code id="imInfer_+3A_n.boot">n.boot</code></td>
<td>
<p>Number of bootstrap samples</p>
</td></tr>
<tr><td><code id="imInfer_+3A_n.cores">n.cores</code></td>
<td>
<p>Number of cores for parallel computation. Fixed at 1 for Windows.</p>
</td></tr>
<tr><td><code id="imInfer_+3A_update.progress">update.progress</code></td>
<td>
<p>Parameter reserved for run <code>idem</code> in GUI mode</p>
</td></tr>
<tr><td><code id="imInfer_+3A_effect.quantiles">effect.quantiles</code></td>
<td>
<p>Composite quantiles of interest for measuring
treatment effect</p>
</td></tr>
<tr><td><code id="imInfer_+3A_quant.ci">quant.ci</code></td>
<td>
<p>Quantiles for extracting bootstrap confidence intervals</p>
</td></tr>
<tr><td><code id="imInfer_+3A_...">...</code></td>
<td>
<p>Extra options for ranking subjects using the composite endpoint
that include </p>
 <ul>
<li><p><code>cut.z</code>:  Clinically meaningful difference in
the functional outcome </p>
</li>
<li><p><code>cut.surv</code>:  Clinically meaningful difference
in survival time</p>
</li></ul>
</td></tr>
<tr><td><code id="imInfer_+3A_seed">seed</code></td>
<td>
<p>Random seed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>n.boot=0</code>, bootstrap analysis will not be conducted. Instead, only
the treatment effect size will be estimated using the imputed data.
</p>


<h3>Value</h3>

<p>A class <code>IDEMTEST</code> list containing
</p>

<dl>
<dt>lst.var</dt><dd><p>List of specification parameters</p>
</dd>
<dt>deltas</dt><dd><p>Vector of sensitivity parameters</p>
</dd>
<dt>theta</dt><dd><p>A data frame with columns
</p>

<ul>
<li> <p><code>Delta0</code>: Sensitivity parameter for control arm
</p>
</li>
<li> <p><code>Delta1</code>: Sensitivity parameter for intervention arm
</p>
</li>
<li> <p><code>Theta</code>: Estimated <code class="reqn">\theta</code>
</p>
</li>
<li> <p><code>SD</code>: Standard deviation (when <code>n.boot &gt;0</code>)
</p>
</li>
<li> <p><code>PValue</code>: p-value (when <code>n.boot &gt;0</code></p>
</li></ul>

</dd>
<dt>effect.quantiles</dt><dd><p>A data frame with columns
</p>

<ul>
<li> <p><code>Delta</code>:Sensitivity parameter
</p>
</li>
<li> <p><code>TRT</code>:Treatment arm
</p>
</li>
<li> <p><code>Q</code>: Quantiles of the composite endpoint to be estimated
</p>
</li>
<li> <p><code>QuantY</code>: Estimated quantiles if the quantiles correspond to
functional outcome (when <code>n.boot &gt;0</code>)
</p>
</li>
<li> <p><code>QuantSurv</code>: Estimated quantiles if the quantiles correspond to
survival days (when <code>n.boot &gt;0</code>)
</p>
</li>
<li> <p><code>Q</code>: Boostrap quantiles for the QuantY (when <code>n.boot &gt;0</code>)
</p>
</li>
<li> <p><code>QSurv</code>: Boostrap quantiles for the QuantSurv (when
<code>n.boot &gt;0</code>) </p>
</li></ul>
</dd>
<dt>bootstrap</dt><dd><p>A list with length <code>n.boot</code>. The <code class="reqn">i</code>th item is the
class <code>IDEMEST</code> list corresponding to the <code class="reqn">i</code>th bootstrap
sample</p>
</dd> </dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rst.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.fit  &lt;- imFitModel(rst.abc);
rst.imp &lt;- imImpAll(rst.fit, deltas=c(-0.25,0,0.25),
                    normal=TRUE, chains = 2, iter = 2000, warmup = 1000);
rst.est &lt;- imInfer(rst.imp, n.boot = 0, effect.quantiles = c(0.25,0.5,0.75));
rst.test &lt;- imInfer(rst.imp, n.boot = 100, effect.quantiles = c(0.25,0.5,0.75));
## End(Not run)

</code></pre>

<hr>
<h2 id='imShiny'>Run Web-Based <code>idem</code> application</h2><span id='topic+imShiny'></span>

<h3>Description</h3>

<p>Call Shiny to run <code>idem</code> as a web-based application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imShiny()
</code></pre>


<h3>Details</h3>

<p>A web browser will be brought up for users to access the GUI of <code>idem</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
run.idem()
## End(Not run)


</code></pre>

<hr>
<h2 id='plot.IDEMDATA'>Plot of IDEMDATA object</h2><span id='topic+plot.IDEMDATA'></span>

<h3>Description</h3>

<p>Generate different types of plots for class <code>IDEMDATA</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMDATA'
plot(
  x,
  opt = c("survivor", "missing", "KM"),
  cols = c("black", "blue"),
  fname = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.IDEMDATA_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMDATA</code> object generated by <code><a href="#topic+imData">imData</a></code></p>
</td></tr>
<tr><td><code id="plot.IDEMDATA_+3A_opt">opt</code></td>
<td>
<p>Types of the plot
</p>

<ul>
<li><p><code>survivor: </code>Spaghetti plot for subjects alive at the end of the
study
</p>
</li>
<li><p><code>missing</code>: Plot the missing patterns of the observed data
</p>
</li>
<li><p><code>KM</code>: Plot Kaplan-Meier survival curves
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot.IDEMDATA_+3A_cols">cols</code></td>
<td>
<p>Curve colors of the treatment and control arm for survival plot
or colors of the observed and missing data for missingness plot.</p>
</td></tr>
<tr><td><code id="plot.IDEMDATA_+3A_fname">fname</code></td>
<td>
<p>File name of the result pdf file. If <code>fname</code> is null,
result pdf file will not be generated</p>
</td></tr>
<tr><td><code id="plot.IDEMDATA_+3A_...">...</code></td>
<td>
<p>Extra arguments for <code>plot</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imData">imData</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rst.data &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
plot(rst.data, opt = "survivor");
plot(rst.data, opt = "missing", cols = c("blue", "gray"));
plot(rst.data, opt = "KM");

</code></pre>

<hr>
<h2 id='plot.IDEMFIT'>Plot model fitting results</h2><span id='topic+plot.IDEMFIT'></span>

<h3>Description</h3>

<p>Plot method of the class <code>IDEMFIT</code> to generate model fitting diagnosis
plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMFIT'
plot(x, trt = NULL, mfrow = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.IDEMFIT_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMFIT</code> object generated by <code><a href="#topic+imFitModel">imFitModel</a></code></p>
</td></tr>
<tr><td><code id="plot.IDEMFIT_+3A_trt">trt</code></td>
<td>
<p>Treatment arm selected for the diagnostic plots. If <code>NULL</code>,
all treatment arms are included</p>
</td></tr>
<tr><td><code id="plot.IDEMFIT_+3A_mfrow">mfrow</code></td>
<td>
<p>Plot option</p>
</td></tr>
<tr><td><code id="plot.IDEMFIT_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imFitModel">imFitModel</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>im.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
im.fit &lt;- imFitModel(im.abc);
plot(im.fit, mfrow=c(2,4));

</code></pre>

<hr>
<h2 id='plot.IDEMIMP'>Plot imputation results</h2><span id='topic+plot.IDEMIMP'></span>

<h3>Description</h3>

<p>Generate different types of plots for class <code>IDEMIMP</code> objects generated
by <code><a href="#topic+imImpAll">imImpAll</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMIMP'
plot(x, opt = c("imputed", "composite"), fname = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.IDEMIMP_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMIMP</code> object returned from <code><a href="#topic+imImpAll">imImpAll</a></code></p>
</td></tr>
<tr><td><code id="plot.IDEMIMP_+3A_opt">opt</code></td>
<td>
<p>Types of the plot
</p>

<ul>
<li><p><code>imputed</code>: Plot density of imputed values and the density of the observed outcomes
</p>
</li>
<li><p><code>composite</code>: Generate cumulative plot of the composite survival and functional outcome
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot.IDEMIMP_+3A_fname">fname</code></td>
<td>
<p>File name of the result pdf file. If <code>fname</code> is null,
result pdf file will not be generated</p>
</td></tr>
<tr><td><code id="plot.IDEMIMP_+3A_...">...</code></td>
<td>
<p>Options for generating the plots.
</p>

<dl>
<dt>type = imputed</dt><dd>


<ul>
<li><p><code>deltas</code>: Imputation sensitivity parameter for which to generate
the results
</p>
</li>
<li><p><code>endp</code>: If <code>TRUE</code>, plot the densities of the imputed
functional outcomes. Otherwise, plot the densities of the imputed
outcomes
</p>
</li>
<li><p><code>adj</code><code>density</code> estimation option
</p>
</li>
<li><p><code>cols</code><code>plot</code> option for colors
</p>
</li>
<li><p><code>ltys</code><code>plot</code> options for line types
</p>
</li>
<li><p><code>xlim</code><code>plot</code> options
</p>
</li>
<li><p><code>ylim</code><code>plot</code> options
</p>
</li>
<li><p><code>mfrow</code><code>plot</code> options
</p>
</li></ul>
</dd>
<dt>type = composite</dt><dd>

 <ul>
<li><p><code>at.surv</code>: Sets the range of the survival times to
plot in the cumulative distribution function. By default the range is the
range of survival values up to the duration of the study
</p>
</li>
<li><p><code>at.z</code>: Sets the range of the functional outcome to plot in the
cumulative distribution function. By defualt this is the range of the
functional outcomes plus the buffer amount to improve visibility in the
transition from survival to functional outcome
</p>
</li>
<li><p><code>p.death</code>: Proportion
of the plot width devoted to Survival. By default the cumulative
distribution will devote horizontal space to the survival portion that is
proportional to the number of subjects who die prior to duration
</p>
</li>
<li><p><code>buffer</code>: Small horizontal gap used to better visually distinguish
the transition from survival to functional outcome
</p>
</li>
<li><p><code>delta</code>: Imputation sensitivity parameter for which to generate the
results
</p>
</li>
<li><p><code>seg.lab</code>: Labels for the two components of the composite
outcome
</p>
</li>
<li><p><code>main</code>: <code>plot</code> options
</p>
</li></ul>
</dd>
</dl>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imImpAll">imImpAll</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
im.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.fit  &lt;- imFitModel(im.abc);
rst.imp &lt;- imImpAll(rst.fit, deltas=c(-0.25,0,0.25),
                    normal=TRUE, chains = 2, iter = 2000, warmup = 1000);
plot(rst.imp, opt = "imputed"),
plot(rst.imp, opt = "composite")
## End(Not run)
</code></pre>

<hr>
<h2 id='plot.IDEMINFER'>Plot hypothesis testing results</h2><span id='topic+plot.IDEMINFER'></span>

<h3>Description</h3>

<p>Generate contour plot of p-values or treatment effect theta for sensitivity
analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMINFER'
plot(x, con.v = 0.05, nlevels = 30, opt = c("pvalue", "effect"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.IDEMINFER_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMINFER</code> list generated by <code><a href="#topic+imInfer">imInfer</a></code></p>
</td></tr>
<tr><td><code id="plot.IDEMINFER_+3A_con.v">con.v</code></td>
<td>
<p>Levels of contour plot</p>
</td></tr>
<tr><td><code id="plot.IDEMINFER_+3A_nlevels">nlevels</code></td>
<td>
<p>Levels of color scale</p>
</td></tr>
<tr><td><code id="plot.IDEMINFER_+3A_opt">opt</code></td>
<td>
<p>contour plots of <code>pvalue</code> or <code>effect</code></p>
</td></tr>
<tr><td><code id="plot.IDEMINFER_+3A_...">...</code></td>
<td>
<p>Options for <code>filled.contour</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot will only be generated when bootstrap analysis has been conducted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rst.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.fit  &lt;- imFitModel(rst.abc);
rst.imp &lt;- imImpAll(rst.fit, deltas=c(-0.25,0,0.25),
                    normal=TRUE, chains = 2, iter = 2000, warmup = 1000);
rst.est &lt;- imInfer(rst.imp, n.boot = 100);
plot(rst.est);
## End(Not run)

</code></pre>

<hr>
<h2 id='plot.IDEMSINGLE'>Plot MCMC mixing results</h2><span id='topic+plot.IDEMSINGLE'></span>

<h3>Description</h3>

<p>Plot method of the class <code>IDEMSINGLE</code> to generate traceplot of the imputed missing
outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMSINGLE'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.IDEMSINGLE_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMSINGLE</code> object returned from <code><a href="#topic+imImpSingle">imImpSingle</a></code></p>
</td></tr>
<tr><td><code id="plot.IDEMSINGLE_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imImpSingle">imImpSingle</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>im.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
im.fit &lt;- imFitModel(im.abc);
im.imp.single &lt;- imImpSingle(abc[1,], im.fit,
                             chains = 4, iter = 200, warmup = 100);
plot(im.imp.single);

</code></pre>

<hr>
<h2 id='plot.summary.IDEMINFER'>Plot survivors only and SACE analysis results</h2><span id='topic+plot.summary.IDEMINFER'></span>

<h3>Description</h3>

<p>Generate a plot of survivor only and survivor average causal effect values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.IDEMINFER'
plot(
  x,
  opt = c("pvalue", "effect"),
  by.sace = TRUE,
  delta0 = 0,
  delta1 = 0,
  sace.delta = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.summary.IDEMINFER_+3A_x">x</code></td>
<td>
<p>A class <code>summary.IDEMSACE</code> object generated by summary of
<code>IDEMINFER</code></p>
</td></tr>
<tr><td><code id="plot.summary.IDEMINFER_+3A_opt">opt</code></td>
<td>
<p>contour plots of <code>pvalue</code> or <code>effect</code></p>
</td></tr>
<tr><td><code id="plot.summary.IDEMINFER_+3A_by.sace">by.sace</code></td>
<td>
<p>Logical value. If True, create a contour plot for given SACE
sensitivity parameter. Otherwise, create a plot for treatment effect for
given imputation sensitivity parameters</p>
</td></tr>
<tr><td><code id="plot.summary.IDEMINFER_+3A_delta0">delta0</code></td>
<td>
<p>Selected treatment arm 0 sensitivity parameters</p>
</td></tr>
<tr><td><code id="plot.summary.IDEMINFER_+3A_delta1">delta1</code></td>
<td>
<p>Selected treatment arm 1 sensitivity parameters</p>
</td></tr>
<tr><td><code id="plot.summary.IDEMINFER_+3A_sace.delta">sace.delta</code></td>
<td>
<p>Single SACE sensitivity parameter</p>
</td></tr>
<tr><td><code id="plot.summary.IDEMINFER_+3A_...">...</code></td>
<td>
<p>Options for <code>plot</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot function will only generate the contour plot of p-values or
treatment effects on functional outcomes for survivors only analyses.
</p>
<p>For SACE analysis, the plot function generates contour plot of line plot
based on the value of <code>by.sace</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rst.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.fit  &lt;- imFitModel(rst.abc);
rst.imp &lt;- imImpAll(rst.fit, deltas=c(-0.25,0,0.25),
                    normal=TRUE, chains = 2, iter = 2000, warmup = 1000);
rst.infer &lt;- imInfer(rst.imp, n.boot = 100, effect.quantiles = c(0.25,0.5,0.75));
rst.survivors &lt;- summary(rst.infer, opt="survivor");
plot(rst.survivors);
## End(Not run)

</code></pre>

<hr>
<h2 id='print.IDEMDATA'>Print IDEMDATA object</h2><span id='topic+print.IDEMDATA'></span>

<h3>Description</h3>

<p>Print the specification details of class <code>IDEMDATA</code> objects generated by
<code><a href="#topic+imData">imData</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMDATA'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.IDEMDATA_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMDATA</code> object generated by <code><a href="#topic+imData">imData</a></code></p>
</td></tr>
<tr><td><code id="print.IDEMDATA_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imData">imData</a></code>
</p>

<hr>
<h2 id='print.IDEMERROR'>Print error messages</h2><span id='topic+print.IDEMERROR'></span>

<h3>Description</h3>

<p>Print error messages in the parameter specifications generated by
<code><a href="#topic+imData">imData</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMERROR'
print(x, html = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.IDEMERROR_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMERROR</code> object returned by
<code><a href="#topic+imData">imData</a></code> when there are misspecifications</p>
</td></tr>
<tr><td><code id="print.IDEMERROR_+3A_html">html</code></td>
<td>
<p>Logical indicator for the format of the error messages. When <code>TRUE</code>,
the error messages are formatted in HTML format</p>
</td></tr>
<tr><td><code id="print.IDEMERROR_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imData">imData</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rst.data &lt;- imData(abc, trt="TRT", outcome=c("Y1","Y2"), y0=NULL,
                   endfml="Y3", bounds=c(10,20), duration=365,
                   err.terminate=FALSE);
print(rst.data);
## End(Not run)

</code></pre>

<hr>
<h2 id='print.IDEMFIT'>Print model fitting results</h2><span id='topic+print.IDEMFIT'></span>

<h3>Description</h3>

<p>Print method of the class <code>IDEMFIT</code> generated by
<code><a href="#topic+imFitModel">imFitModel</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMFIT'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.IDEMFIT_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMFIT</code> object generated by <code><a href="#topic+imFitModel">imFitModel</a></code></p>
</td></tr>
<tr><td><code id="print.IDEMFIT_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Print the results from <code>lm</code> for all the models
</p>


<h3>See Also</h3>

<p><code><a href="#topic+imFitModel">imFitModel</a></code>
</p>

<hr>
<h2 id='print.IDEMIMP'>Print imputation results</h2><span id='topic+print.IDEMIMP'></span>

<h3>Description</h3>

<p>Print method for class <code>IDEMIMP</code> objects generated
by <code><a href="#topic+imImpAll">imImpAll</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMIMP'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.IDEMIMP_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMIMP</code> object returned from <code><a href="#topic+imImpAll">imImpAll</a></code></p>
</td></tr>
<tr><td><code id="print.IDEMIMP_+3A_...">...</code></td>
<td>
<p>Extra arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imImpAll">imImpAll</a></code>
</p>

<hr>
<h2 id='print.IDEMINFER'>Print inference results</h2><span id='topic+print.IDEMINFER'></span>

<h3>Description</h3>

<p>Print method of class <code>IDEMINFER</code> for treatment effect estimation and
hypothesis testing results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMINFER'
print(x, delta0 = NULL, delta1 = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.IDEMINFER_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMINFER</code> list generated by <code><a href="#topic+imInfer">imInfer</a></code></p>
</td></tr>
<tr><td><code id="print.IDEMINFER_+3A_delta0">delta0</code></td>
<td>
<p>Selected treatment arm 0 sensitivity parameters</p>
</td></tr>
<tr><td><code id="print.IDEMINFER_+3A_delta1">delta1</code></td>
<td>
<p>Selected treatment arm 1 sensitivity parameters</p>
</td></tr>
<tr><td><code id="print.IDEMINFER_+3A_...">...</code></td>
<td>
<p>Extra arguments</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
rst.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.fit &lt;- imFitModel(rst.abc);
rst.imp &lt;- imImpAll(rst.fit, deltas=c(-0.25,0,0.25),
                    normal=TRUE, chains = 2, iter = 2000, warmup = 1000);
rst.test &lt;- imInfer(rst.imp, n.boot = 100);
print(rst.test, delta0 = 0, delta1  = 0.15)
## End(Not run)

</code></pre>

<hr>
<h2 id='print.IDEMSINGLE'>Print MCMC mixing checking result</h2><span id='topic+print.IDEMSINGLE'></span>

<h3>Description</h3>

<p>Print method for class <code>IDEMSINGLE</code> objects generated
by <code><a href="#topic+imImpSingle">imImpSingle</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMSINGLE'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.IDEMSINGLE_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMSINGLE</code> object returned from <code><a href="#topic+imImpSingle">imImpSingle</a></code></p>
</td></tr>
<tr><td><code id="print.IDEMSINGLE_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+imImpSingle">imImpSingle</a></code>
</p>

<hr>
<h2 id='print.summary.IDEMINFER'>Print survivors only or SACE analysis results</h2><span id='topic+print.summary.IDEMINFER'></span>

<h3>Description</h3>

<p>Print survivors only or SACE analysis results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.IDEMINFER'
print(x, delta0 = NULL, delta1 = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.summary.IDEMINFER_+3A_x">x</code></td>
<td>
<p>A class <code>IDEMINFER</code> list generated by <code><a href="#topic+imInfer">imInfer</a></code></p>
</td></tr>
<tr><td><code id="print.summary.IDEMINFER_+3A_delta0">delta0</code></td>
<td>
<p>Selected treatment arm 0 sensitivity parameters</p>
</td></tr>
<tr><td><code id="print.summary.IDEMINFER_+3A_delta1">delta1</code></td>
<td>
<p>Selected treatment arm 1 sensitivity parameters</p>
</td></tr>
<tr><td><code id="print.summary.IDEMINFER_+3A_...">...</code></td>
<td>
<p>Extra arguments</p>
</td></tr>
</table>

<hr>
<h2 id='summary.IDEMDATA'>Summary of IDEMDATA object</h2><span id='topic+summary.IDEMDATA'></span>

<h3>Description</h3>

<p>Summarize the missing data information for class <code>IDEMDATA</code> objects
generated by <code><a href="#topic+imData">imData</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMDATA'
summary(object, opt = c("misstable", "missid", "trt"), endponly = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.IDEMDATA_+3A_object">object</code></td>
<td>
<p>A class <code>IDEMDATA</code> object returned by <code><a href="#topic+imData">imData</a></code></p>
</td></tr>
<tr><td><code id="summary.IDEMDATA_+3A_opt">opt</code></td>
<td>
<p>Types of the summarization
</p>

<ul>
<li><p><code>misstable</code>: Summarize the frequencies of each missing pattern
</p>
</li>
<li><p><code>missid</code>: Summarize the indices of subjects that need
imputation, i.e. survivors with functional endpoint missing
</p>
</li>
<li><p><code>trt</code>: Treatment arms
</p>
</li></ul>
</td></tr>
<tr><td><code id="summary.IDEMDATA_+3A_endponly">endponly</code></td>
<td>
<p>Logical variable that indicates whether clinical outcomes not
used in calculating the functional outcome are considered as missing and
should be imputed. The default is <code>FALSE</code>, indicating that all
missing clinical outcomes will be imputed sequentially</p>
</td></tr>
<tr><td><code id="summary.IDEMDATA_+3A_...">...</code></td>
<td>
<p>Extra arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with frequencies of each missing pattern when opt is <code>misstable</code>.
</p>
<p>A vector of indices of subjects that need imputation when opt is <code>missid</code>.
</p>
<p>A vector of treatment arms in the data when opt is <code>trt</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+imData">imData</a></code>
</p>

<hr>
<h2 id='summary.IDEMINFER'>Summary of the inference results</h2><span id='topic+summary.IDEMINFER'></span>

<h3>Description</h3>

<p>Summarize survivors only or Survivor Averaged Causal Effect (SACE) based on
the imputation and bootstrap analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'IDEMINFER'
summary(object, opt = c("survivor", "SACE"), sace.deltas = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.IDEMINFER_+3A_object">object</code></td>
<td>
<p>A class <code>IDEMINFER</code> list generated by <code><a href="#topic+imInfer">imInfer</a></code></p>
</td></tr>
<tr><td><code id="summary.IDEMINFER_+3A_opt">opt</code></td>
<td>
<p>Types of the summary
</p>

<ul>
<li><p><code>survivor</code>: Survivors only analysis
</p>
</li>
<li><p><code>SACE</code>: Survivor Averaged Causal Effect
</p>
</li></ul>
</td></tr>
<tr><td><code id="summary.IDEMINFER_+3A_sace.deltas">sace.deltas</code></td>
<td>
<p>Vector of sensitivity parameters for SACE estimation. If
<code>NULL</code>, the values will be generated based on the standard
deviations of the estimated differences in the functional outcomes
between the treatment and control arms</p>
</td></tr>
<tr><td><code id="summary.IDEMINFER_+3A_...">...</code></td>
<td>
<p>Optional arguments for summary</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For SACE, the default sensitivity parameters will be determined by the
standard deviation of the treatment effect size on the functional outcomes.
</p>


<h3>Value</h3>

<p>A class <code>summary.IDEMINFER</code> list containing
</p>

<dl>
<dt>deltas</dt><dd><p>imputation sensitivity parameters</p>
</dd>
<dt>n.boot</dt><dd><p>number of bootstrap samples in bootstrap analysis</p>
</dd>
<dt>sace.deltas</dt><dd><p>SACE sensitivity parameters when <code>opt = SACE</code></p>
</dd>
<dt>rst</dt><dd><p>A data frame with columns
</p>

<ul>
<li> <p><code>Delta0</code>: Imputation sensitivity parameter for control arm,
</p>
</li>
<li> <p><code>Delta1</code>: Imputation sensitivity parameter for intervention arm
</p>
</li>
<li> <p><code>SACE_Delta</code>: SACE sensitivity parameter when <code>opt = SACE</code>
</p>
</li>
<li> <p><code>Effect</code>: SACE estimate
</p>
</li>
<li> <p><code>LB</code>: Lower bound of the 95
</p>
</li>
<li> <p><code>UB</code>: Upper bound of the 95
</p>
</li>
<li> <p><code>PValue</code>: p-value when when <code>n.boot &gt; 0</code> in the <code>IDEMINFER</code> object
</p>
</li></ul>
</dd></dl>



<h3>References</h3>

<p>Chiba Y, VanderWeele TJ (2011). A simple method for principal strata effects when
the outcome has been truncated due to death. American Journal of Epidemiology 173(7):745-751.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rst.abc &lt;- imData(abc, trt="TRT", surv="SURV", outcome=c("Y1","Y2"),
                 y0=NULL, endfml="Y2",
                 trt.label = c("UC+SBT", "SAT+SBT"),
                 cov=c("AGE"), duration=365, bounds=c(0,100));
rst.fit  &lt;- imFitModel(rst.abc);
rst.imp &lt;- imImpAll(rst.fit, deltas=c(-0.25,0,0.25),
                    normal=TRUE, chains = 2, iter = 2000, warmup = 1000);
rst.infer &lt;- imInfer(rst.imp, n.boot = 100, effect.quantiles = c(0.25,0.5,0.75));
rst.sace  &lt;- summary(rst.infer, opt = "SACE")
## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

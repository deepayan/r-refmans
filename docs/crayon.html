<!DOCTYPE html><html lang="en"><head><title>Help for package crayon</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {crayon}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#crayon'><p>Colored terminal output</p></a></li>
<li><a href='#chr'><p>Convert to character</p></a></li>
<li><a href='#col_align'><p>Align an ANSI colored string</p></a></li>
<li><a href='#col_nchar'><p>Count number of characters in an ANSI colored string</p></a></li>
<li><a href='#col_strsplit'><p>Split an ANSI colored string</p></a></li>
<li><a href='#col_substr'><p>Substring(s) of an ANSI colored string</p></a></li>
<li><a href='#col_substring'><p>Substring(s) of an ANSI colored string</p></a></li>
<li><a href='#combine_styles'><p>Combine two or more ANSI styles</p></a></li>
<li><a href='#concat'><p>Concatenate character vectors</p></a></li>
<li><a href='#drop_style'><p>Remove a style</p></a></li>
<li><a href='#has_color'><p>Does the current R session support ANSI colors?</p></a></li>
<li><a href='#has_style'><p>Check if a string has some ANSI styling</p></a></li>
<li><a href='#hyperlink'><p>Terminal Hyperlinks</p></a></li>
<li><a href='#make_style'><p>Create an ANSI color style</p></a></li>
<li><a href='#num_ansi_colors'><p>Detect the number of ANSI colors to use</p></a></li>
<li><a href='#num_colors'><p>Number of colors the terminal supports</p></a></li>
<li><a href='#show_ansi_colors'><p>Show the ANSI color table on the screen</p></a></li>
<li><a href='#start.crayon'><p>Switch on or off a style</p></a></li>
<li><a href='#strip_style'><p>Remove ANSI escape sequences from a string</p></a></li>
<li><a href='#style'><p>Add style to a string</p></a></li>
<li><a href='#styles'><p>ANSI escape sequences of crayon styles</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Colored Terminal Output</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.3</td>
</tr>
<tr>
<td>Description:</td>
<td>The crayon package is now superseded. Please use the 'cli'
    package for new projects.  Colored terminal output on terminals that
    support 'ANSI' color and highlight codes. It also works in 'Emacs'
    'ESS'. 'ANSI' color support is automatically detected. Colors and
    highlighting can be combined and nested. New styles can also be
    created easily.  This package was inspired by the 'chalk' 'JavaScript'
    project.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-lib.github.io/crayon/">https://r-lib.github.io/crayon/</a>, <a href="https://github.com/r-lib/crayon">https://github.com/r-lib/crayon</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/crayon/issues">https://github.com/r-lib/crayon/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, methods, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>mockery, rstudioapi, testthat, withr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'aaa-rstudio-detect.R' 'aaaa-rematch2.R'
'aab-num-ansi-colors.R' 'aac-num-ansi-colors.R' 'ansi-256.R'
'ansi-palette.R' 'combine.R' 'string.R' 'utils.R'
'crayon-package.R' 'disposable.R' 'enc-utils.R' 'has_ansi.R'
'has_color.R' 'link.R' 'styles.R' 'machinery.R' 'parts.R'
'print.R' 'style-var.R' 'show.R' 'string_operations.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-20 11:49:08 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>Gábor Csárdi [aut, cre],
  Brodie Gaslam [ctb],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gábor Csárdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-20 13:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='crayon'>Colored terminal output</h2><span id='topic+crayon-package'></span><span id='topic+crayon'></span><span id='topic+reset'></span><span id='topic+bold'></span><span id='topic+blurred'></span><span id='topic+italic'></span><span id='topic+underline'></span><span id='topic+inverse'></span><span id='topic+hidden'></span><span id='topic+strikethrough'></span><span id='topic+black'></span><span id='topic+red'></span><span id='topic+green'></span><span id='topic+yellow'></span><span id='topic+blue'></span><span id='topic+magenta'></span><span id='topic+cyan'></span><span id='topic+white'></span><span id='topic+silver'></span><span id='topic+bgBlack'></span><span id='topic+bgRed'></span><span id='topic+bgGreen'></span><span id='topic+bgYellow'></span><span id='topic+bgBlue'></span><span id='topic+bgMagenta'></span><span id='topic+bgCyan'></span><span id='topic+bgWhite'></span>

<h3>Description</h3>

<p>With crayon it is easy to add color to terminal output, create styles
for notes, warnings, errors; and combine styles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Simple styles
red(...)
bold(...)
# ...

## See more styling below
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="crayon_+3A_...">...</code></td>
<td>
<p>Strings to style.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>ANSI color support is automatically detected and used. Crayon was largely
inspired by chalk <a href="https://github.com/chalk/chalk">https://github.com/chalk/chalk</a>.
</p>
<p>Crayon defines several styles, that can be combined. Each style in the list
has a corresponding function with the same name.
</p>


<h3>Genaral styles</h3>


<ul>
<li><p> reset
</p>
</li>
<li><p> bold
</p>
</li>
<li><p> blurred (usually called &lsquo;dim&rsquo;, renamed to avoid name clash)
</p>
</li>
<li><p> italic (not widely supported)
</p>
</li>
<li><p> underline
</p>
</li>
<li><p> inverse
</p>
</li>
<li><p> hidden
</p>
</li>
<li><p> strikethrough (not widely supported)
</p>
</li></ul>



<h3>Text colors</h3>


<ul>
<li><p> black
</p>
</li>
<li><p> red
</p>
</li>
<li><p> green
</p>
</li>
<li><p> yellow
</p>
</li>
<li><p> blue
</p>
</li>
<li><p> magenta
</p>
</li>
<li><p> cyan
</p>
</li>
<li><p> white
</p>
</li>
<li><p> silver (usually called &lsquo;gray&rsquo;, renamed to avoid name clash)
</p>
</li></ul>



<h3>Background colors</h3>


<ul>
<li><p> bgBlack
</p>
</li>
<li><p> bgRed
</p>
</li>
<li><p> bgGreen
</p>
</li>
<li><p> bgYellow
</p>
</li>
<li><p> bgBlue
</p>
</li>
<li><p> bgMagenta
</p>
</li>
<li><p> bgCyan
</p>
</li>
<li><p> bgWhite
</p>
</li></ul>



<h3>Styling</h3>

<p>The styling functions take any number of character vectors as arguments,
and they concatenate and style them: </p>
<pre>  library(crayon)
  cat(blue("Hello", "world!\n"))
</pre>
<p>Crayon defines the <code>%+%</code> string concatenation operator, to make it easy
to assemble stings with different styles. </p>
<pre>  cat("... to highlight the " %+% red("search term") %+%
      " in a block of text\n")
</pre>
<p>Styles can be combined using the <code>$</code> operator: </p>
<pre>  cat(yellow$bgMagenta$bold('Hello world!\n'))
</pre><p> See also <code><a href="#topic+combine_styles">combine_styles()</a></code>.
</p>
<p>Styles can also be nested, and then inner style takes
precedence: </p>
<pre>  cat(green(
    'I am a green line ' %+%
    blue$underline$bold('with a blue substring') %+%
    ' that becomes green again!\n'
  ))
</pre>
<p>It is easy to define your own themes: </p>
<pre>  error &lt;- red $ bold
  warn &lt;- magenta $ underline
  note &lt;- cyan
  cat(error("Error: subscript out of bounds!\n"))
  cat(warn("Warning: shorter argument was recycled.\n"))
  cat(note("Note: no such directory.\n"))
</pre>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gábor Csárdi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Brodie Gaslam <a href="mailto:brodie.gaslam@yahoo.com">brodie.gaslam@yahoo.com</a> [contributor]
</p>
</li>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://r-lib.github.io/crayon/">https://r-lib.github.io/crayon/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/crayon">https://github.com/r-lib/crayon</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/crayon/issues">https://github.com/r-lib/crayon/issues</a>
</p>
</li></ul>

<p><code><a href="#topic+make_style">make_style()</a></code> for using the 256 ANSI colors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(blue("Hello", "world!"))

cat("... to highlight the " %+% red("search term") %+%
    " in a block of text")

cat(yellow$bgMagenta$bold('Hello world!'))

cat(green(
 'I am a green line ' %+%
 blue$underline$bold('with a blue substring') %+%
 ' that becomes green again!'
))

error &lt;- red $ bold
warn &lt;- magenta $ underline
note &lt;- cyan
cat(error("Error: subscript out of bounds!\n"))
cat(warn("Warning: shorter argument was recycled.\n"))
cat(note("Note: no such directory.\n"))

</code></pre>

<hr>
<h2 id='chr'>Convert to character</h2><span id='topic+chr'></span>

<h3>Description</h3>

<p>This function just calls <code><a href="base.html#topic+as.character">as.character()</a></code>, but it is
easier to type and read.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chr_+3A_x">x</code></td>
<td>
<p>Object to be coerced.</p>
</td></tr>
<tr><td><code id="chr_+3A_...">...</code></td>
<td>
<p>Further arguments to pass to <code>as.character()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character value.
</p>

<hr>
<h2 id='col_align'>Align an ANSI colored string</h2><span id='topic+col_align'></span>

<h3>Description</h3>

<p>Align an ANSI colored string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col_align(
  text,
  width = getOption("width"),
  align = c("left", "center", "right"),
  type = "width"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="col_align_+3A_text">text</code></td>
<td>
<p>The character vector to align.</p>
</td></tr>
<tr><td><code id="col_align_+3A_width">width</code></td>
<td>
<p>Width of the field to align in.</p>
</td></tr>
<tr><td><code id="col_align_+3A_align">align</code></td>
<td>
<p>Whether to align <code>"left"</code>, <code>"center"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="col_align_+3A_type">type</code></td>
<td>
<p>Passed on to <code><a href="#topic+col_nchar">col_nchar()</a></code> and there to <code><a href="base.html#topic+nchar">nchar()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The aligned character vector.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="#topic+col_nchar">col_nchar</a>()</code>,
<code><a href="#topic+col_strsplit">col_strsplit</a>()</code>,
<code><a href="#topic+col_substr">col_substr</a>()</code>,
<code><a href="#topic+col_substring">col_substring</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>col_align(red("foobar"), 20, "left")
col_align(red("foobar"), 20, "center")
col_align(red("foobar"), 20, "right")
</code></pre>

<hr>
<h2 id='col_nchar'>Count number of characters in an ANSI colored string</h2><span id='topic+col_nchar'></span>

<h3>Description</h3>

<p>This is a color-aware counterpart of <code><a href="base.html#topic+nchar">base::nchar()</a></code>,
which does not do well, since it also counts the ANSI control
characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col_nchar(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="col_nchar_+3A_x">x</code></td>
<td>
<p>Character vector, potentially ANSO styled, or a vector to be
coarced to character.</p>
</td></tr>
<tr><td><code id="col_nchar_+3A_...">...</code></td>
<td>
<p>Additional arguments, passed on to <code>base::nchar()</code>
after removing ANSI escape sequences.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector, the length of the strings in the character
vector.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="#topic+col_align">col_align</a>()</code>,
<code><a href="#topic+col_strsplit">col_strsplit</a>()</code>,
<code><a href="#topic+col_substr">col_substr</a>()</code>,
<code><a href="#topic+col_substring">col_substring</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- paste(
  red("red"),
  "default",
  green("green")
)

cat(str, "\n")
nchar(str)
col_nchar(str)
nchar(strip_style(str))
</code></pre>

<hr>
<h2 id='col_strsplit'>Split an ANSI colored string</h2><span id='topic+col_strsplit'></span>

<h3>Description</h3>

<p>This is the color-aware counterpart of <code><a href="base.html#topic+strsplit">base::strsplit()</a></code>.
It works almost exactly like the original, but keeps the colors in the
substrings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col_strsplit(x, split, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="col_strsplit_+3A_x">x</code></td>
<td>
<p>Character vector, potentially ANSI styled, or a vector to
coarced to character.</p>
</td></tr>
<tr><td><code id="col_strsplit_+3A_split">split</code></td>
<td>
<p>Character vector of length 1 (or object which can be coerced to
such) containing regular expression(s) (unless <code>fixed = TRUE</code>) to use
for splitting.  If empty matches occur, in particular if <code>split</code> has
zero characters, <code>x</code> is split into single characters.</p>
</td></tr>
<tr><td><code id="col_strsplit_+3A_...">...</code></td>
<td>
<p>Extra arguments are passed to <code>base::strsplit()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the same length as <code>x</code>, the <code class="reqn">i</code>-th element of
which contains the vector of splits of <code>x[i]</code>. ANSI styles are
retained.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="#topic+col_align">col_align</a>()</code>,
<code><a href="#topic+col_nchar">col_nchar</a>()</code>,
<code><a href="#topic+col_substr">col_substr</a>()</code>,
<code><a href="#topic+col_substring">col_substring</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- red("I am red---") %+%
  green("and I am green-") %+%
  underline("I underlined")

cat(str, "\n")

# split at dashes, keep color
cat(col_strsplit(str, "[-]+")[[1]], sep = "\n")
strsplit(strip_style(str), "[-]+")

# split to characters, keep color
cat(col_strsplit(str, "")[[1]], "\n", sep = " ")
strsplit(strip_style(str), "")
</code></pre>

<hr>
<h2 id='col_substr'>Substring(s) of an ANSI colored string</h2><span id='topic+col_substr'></span>

<h3>Description</h3>

<p>This is a color-aware counterpart of <code><a href="base.html#topic+substr">base::substr()</a></code>.
It works exactly like the original, but keeps the colors
in the substrings. The ANSI escape sequences are ignored when
calculating the positions within the string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col_substr(x, start, stop)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="col_substr_+3A_x">x</code></td>
<td>
<p>Character vector, potentially ANSI styled, or a vector to
coarced to character.</p>
</td></tr>
<tr><td><code id="col_substr_+3A_start">start</code></td>
<td>
<p>Starting index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
<tr><td><code id="col_substr_+3A_stop">stop</code></td>
<td>
<p>Ending index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the same length as <code>x</code>, containing
the requested substrings. ANSI styles are retained.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="#topic+col_align">col_align</a>()</code>,
<code><a href="#topic+col_nchar">col_nchar</a>()</code>,
<code><a href="#topic+col_strsplit">col_strsplit</a>()</code>,
<code><a href="#topic+col_substring">col_substring</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- paste(
  red("red"),
  "default",
  green("green")
)

cat(str, "\n")
cat(col_substr(str, 1, 5), "\n")
cat(col_substr(str, 1, 15), "\n")
cat(col_substr(str, 3, 7), "\n")

substr(strip_style(str), 1, 5)
substr(strip_style(str), 1, 15)
substr(strip_style(str), 3, 7)

str2 &lt;- "another " %+%
  red("multi-", sep = "", underline("style")) %+%
  " text"

cat(str2, "\n")
cat(col_substr(c(str, str2), c(3,5), c(7, 18)), sep = "\n")
substr(strip_style(c(str, str2)), c(3,5), c(7, 18))
</code></pre>

<hr>
<h2 id='col_substring'>Substring(s) of an ANSI colored string</h2><span id='topic+col_substring'></span>

<h3>Description</h3>

<p>This is the color-aware counterpart of <code><a href="base.html#topic+substr">base::substring()</a></code>.
It works exactly like the original, but keeps the colors in the
substrings. The ANSI escape sequences are ignored when
calculating the positions within the string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col_substring(text, first, last = 1000000L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="col_substring_+3A_text">text</code></td>
<td>
<p>Character vector, potentially ANSI styled, or a vector to
coarced to character. It is recycled to the longest of <code>first</code>
and <code>last</code>.</p>
</td></tr>
<tr><td><code id="col_substring_+3A_first">first</code></td>
<td>
<p>Starting index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
<tr><td><code id="col_substring_+3A_last">last</code></td>
<td>
<p>Ending index or indices, recycled to match the length
of <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the same length as <code>x</code>, containing
the requested substrings. ANSI styles are retained.
</p>


<h3>See Also</h3>

<p>Other ANSI string operations: 
<code><a href="#topic+col_align">col_align</a>()</code>,
<code><a href="#topic+col_nchar">col_nchar</a>()</code>,
<code><a href="#topic+col_strsplit">col_strsplit</a>()</code>,
<code><a href="#topic+col_substr">col_substr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- paste(
  red("red"),
  "default",
  green("green")
)

cat(str, "\n")
cat(col_substring(str, 1, 5), "\n")
cat(col_substring(str, 1, 15), "\n")
cat(col_substring(str, 3, 7), "\n")

substring(strip_style(str), 1, 5)
substring(strip_style(str), 1, 15)
substring(strip_style(str), 3, 7)

str2 &lt;- "another " %+%
  red("multi-", sep = "", underline("style")) %+%
  " text"

cat(str2, "\n")
cat(col_substring(str2, c(3,5), c(7, 18)), sep = "\n")
substring(strip_style(str2), c(3,5), c(7, 18))
</code></pre>

<hr>
<h2 id='combine_styles'>Combine two or more ANSI styles</h2><span id='topic+combine_styles'></span><span id='topic++24.crayon'></span>

<h3>Description</h3>

<p>Combine two or more styles or style functions into a new style function
that can be called on strings to style them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_styles(...)

## S3 method for class 'crayon'
crayon$style
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="combine_styles_+3A_...">...</code></td>
<td>
<p>The styles to combine. They will be applied from
right to left.</p>
</td></tr>
<tr><td><code id="combine_styles_+3A_crayon">crayon</code></td>
<td>
<p>A style function.</p>
</td></tr>
<tr><td><code id="combine_styles_+3A_style">style</code></td>
<td>
<p>A style name that is included in <code>names(styles())</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It does not usually make sense to combine two foreground
colors (or two background colors), because only the first one
applied will be used.
</p>
<p>It does make sense to combine different kind of styles,
e.g. background color, foreground color, bold font.
</p>
<p>The <code>$</code> operator can also be used to combine styles.
Note that the left hand side of <code>$</code> is a style function,
and the right hand side is the name of a style in <code><a href="#topic+styles">styles()</a></code>.
</p>


<h3>Value</h3>

<p>The combined style function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use style names
alert &lt;- combine_styles("bold", "red4", "bgCyan")
cat(alert("Warning!"), "\n")

## Or style functions
alert &lt;- combine_styles(bold, red, bgCyan)
cat(alert("Warning!"), "\n")

## Combine a composite style
alert &lt;- combine_styles(bold, combine_styles(red, bgCyan))
cat(alert("Warning!"), "\n")

## Shorter notation
alert &lt;- bold $ red $ bgCyan
cat(alert("Warning!"), "\n")
</code></pre>

<hr>
<h2 id='concat'>Concatenate character vectors</h2><span id='topic+concat'></span><span id='topic++25+2B+25'></span>

<h3>Description</h3>

<p>The length of the two arguments must match, or
one of them must be of length one. If the length of
one argument is one, then the output's length will
match the length of the other argument. See examples
below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %+% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="concat_+3A_lhs">lhs</code></td>
<td>
<p>Left hand side, character vector.</p>
</td></tr>
<tr><td><code id="concat_+3A_rhs">rhs</code></td>
<td>
<p>Right hand side, character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Concatenated vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>"foo" %+% "bar"

letters[1:10] %+% chr(1:10)

letters[1:10] %+% "-" %+% chr(1:10)

## This is empty (unlike for parse)
character() %+% "*"
</code></pre>

<hr>
<h2 id='drop_style'>Remove a style</h2><span id='topic+drop_style'></span>

<h3>Description</h3>

<p>Remove a style
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_style(style)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop_style_+3A_style">style</code></td>
<td>
<p>The name of the style to remove. No error is given
for non-existing names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing.
</p>


<h3>See Also</h3>

<p>Other styles: 
<code><a href="#topic+make_style">make_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>make_style(new_style = "maroon", bg = TRUE)
cat(style("I am maroon", "new_style"), "\n")
drop_style("new_style")
"new_style" %in% names(styles())
</code></pre>

<hr>
<h2 id='has_color'>Does the current R session support ANSI colors?</h2><span id='topic+has_color'></span>

<h3>Description</h3>

<p>From crayon 2.0.0, this function is simply a wrapper on
<code><a href="#topic+num_ansi_colors">num_ansi_colors()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_color()
</code></pre>


<h3>Value</h3>

<p><code>TRUE</code> if the current R session supports color.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>has_color()
</code></pre>

<hr>
<h2 id='has_style'>Check if a string has some ANSI styling</h2><span id='topic+has_style'></span>

<h3>Description</h3>

<p>Check if a string has some ANSI styling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_style(string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_style_+3A_string">string</code></td>
<td>
<p>The string to check. It can also be a character
vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector, <code>TRUE</code> for the strings that have some
ANSI styling.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## The second one has style if crayon is enabled
has_style("foobar")
has_style(red("foobar"))
</code></pre>

<hr>
<h2 id='hyperlink'>Terminal Hyperlinks</h2><span id='topic+hyperlink'></span><span id='topic+has_hyperlink'></span>

<h3>Description</h3>

<p>Terminal Hyperlinks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hyperlink(text, url)

has_hyperlink()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hyperlink_+3A_text">text</code></td>
<td>
<p>Text to show. <code>text</code> and <code>url</code> are recycled to match their
length, via a <code>paste0()</code> call.</p>
</td></tr>
<tr><td><code id="hyperlink_+3A_url">url</code></td>
<td>
<p>URL to link to.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>hyperlink()' creates an ANSI hyperlink.
</p>
<p><code>has_hyperlink()</code> checks if the current <code>stdout()</code> supports hyperlinks.
terminal links.
</p>
<p>See also
<a href="https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda">https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda</a>.
</p>


<h3>Value</h3>

<p>Logical scalar, for <code>has_hyperlink()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat("This is an", hyperlink("R", "https://r-project.org"), "link.\n")
has_hyperlink()
</code></pre>

<hr>
<h2 id='make_style'>Create an ANSI color style</h2><span id='topic+make_style'></span>

<h3>Description</h3>

<p>Create a style, or a style function, or both. This function
is intended for those who wish to use 256 ANSI colors,
instead of the more widely supported eight colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_style(..., bg = FALSE, grey = FALSE, colors = num_colors())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_style_+3A_...">...</code></td>
<td>
<p>The style to create. See details and examples below.</p>
</td></tr>
<tr><td><code id="make_style_+3A_bg">bg</code></td>
<td>
<p>Whether the color applies to the background.</p>
</td></tr>
<tr><td><code id="make_style_+3A_grey">grey</code></td>
<td>
<p>Whether to specifically create a grey color.
This flag is included because ANSI 256 has a finer color scale
for greys than the usual 0:5 scale for R, G and B components.
It is only used for RGB color specifications (either numerically
or via a hexa string) and is ignored on eigth color ANSI
terminals.</p>
</td></tr>
<tr><td><code id="make_style_+3A_colors">colors</code></td>
<td>
<p>Number of colors, detected automatically
by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The crayon package comes with predefined styles (see
<code><a href="#topic+styles">styles()</a></code> for a list) and functions for the basic eight-color
ANSI standard (<code>red</code>, <code>blue</code>, etc., see <a href="#topic+crayon">crayon</a>).
</p>
<p>There are no predefined styles or style functions for the 256 color
ANSI mode, however, because we simply did not want to create that
many styles and functions. Instead, <code>make_style()</code> can be
used to create a style (or a style function, or both).
</p>
<p>There are two ways to use this function: </p>

<ol>
<li><p> If its first argument is not named, then it returns a function
that can be used to color strings.
</p>
</li>
<li><p> If its first argument is named, then it also creates a
style with the given name. This style can be used in
<code><a href="#topic+style">style()</a></code>. One can still use the return value
of the function, to create a style function.
</p>
</li></ol>

<p>The style (the <code>...</code> argument) can be anything of the
following: </p>

<ul>
<li><p> An R color name, see <code><a href="grDevices.html#topic+colors">colors()</a></code>.
</p>
</li>
<li><p> A 6- or 8-digit hexa color string, e.g. <code style="white-space: pre;">&#8288;#ff0000&#8288;</code> means
red. Transparency (alpha channel) values are ignored.
</p>
</li>
<li><p> A one-column matrix with three rows for the red, green
and blue channels, as returned by <code>col2rgb</code> (in the base
grDevices package).
</p>
</li></ul>

<p><code>make_style()</code> detects the number of colors to use
automatically (this can be overridden using the <code>colors</code>
argument). If the number of colors is less than 256 (detected or given),
then it falls back to the color in the ANSI eight color mode that
is closest to the specified (RGB or R) color.
</p>
<p>See the examples below.
</p>


<h3>Value</h3>

<p>A function that can be used to color strings.
</p>


<h3>See Also</h3>

<p>Other styles: 
<code><a href="#topic+drop_style">drop_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create a style function without creating a style
pink &lt;- make_style("pink")
bgMaroon &lt;- make_style(rgb(0.93, 0.19, 0.65), bg = TRUE)
cat(bgMaroon(pink("I am pink if your terminal wants it, too.\n")))

## Create a new style for pink and maroon background
make_style(pink = "pink")
make_style(bgMaroon = rgb(0.93, 0.19, 0.65), bg = TRUE)
"pink" %in% names(styles())
"bgMaroon" %in% names(styles())
cat(style("I am pink, too!\n", "pink", bg = "bgMaroon"))
</code></pre>

<hr>
<h2 id='num_ansi_colors'>Detect the number of ANSI colors to use</h2><span id='topic+num_ansi_colors'></span><span id='topic+detect_tty_colors'></span>

<h3>Description</h3>

<p>Certain Unix and Windows terminals, and also certain R GUIs, e.g.
RStudio, support styling terminal output using special control
sequences (ANSI sequences).
</p>
<p><code>num_ansi_colors()</code> detects if the current R session supports ANSI
sequences, and if it does how many colors are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_ansi_colors(stream = "auto")

detect_tty_colors()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="num_ansi_colors_+3A_stream">stream</code></td>
<td>
<p>The stream that will be used for output, an R connection
object. It can also be a string, one of <code>"auto"</code>, <code>"message"</code>,
<code>"stdout"</code>, <code>"stderr"</code>. <code>"auto"</code> will select <code>stdout()</code> if the session is
interactive and there are no sinks, otherwise it will select <code>stderr()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The detection mechanism is quite involved and it is designed to work
out of the box on most systems. If it does not work on your system,
please report a bug. Setting options and environment variables to turn
on ANSI support is error prone, because they are inherited in other
environments, e.g. knitr, that might not have ANSI support.
</p>
<p>If you want to <em>turn off</em> ANSI colors, set the <code>NO_COLOR</code> environment
variable to a non-empty value.
</p>
<p>The exact detection mechanism is as follows:
</p>

<ol>
<li><p> If the <code>cli.num_colors</code> options is set, that is returned.
</p>
</li>
<li><p> If the <code>R_CLI_NUM_COLORS</code> environment variable is set to a
non-empty value, then it is used.
</p>
</li>
<li><p> If the <code>crayon.enabled</code> option is set to <code>FALSE</code>, 1L is returned.
(This is for compatibility with code that uses the crayon package.)
</p>
</li>
<li><p> If the <code>crayon.enabled</code> option is set to <code>TRUE</code> and the
<code>crayon.colors</code> option is not set, then the value of the
<code>cli.default_num_colors</code> option, or if it is unset, then 8L is
returned.
</p>
</li>
<li><p> If the <code>crayon.enabled</code> option is set to <code>TRUE</code> and the
<code>crayon.colors</code> option is also set, then the latter is returned.
(This is for compatibility with code that uses the crayon package.)
</p>
</li>
<li><p> If the <code>NO_COLOR</code> environment variable is set, then 1L is returned.
</p>
</li>
<li><p> If we are in knitr, then 1L is returned, to turn off colors in
<code>.Rmd</code> chunks.
</p>
</li>
<li><p> If <code>stream</code> is <code>"auto"</code> (the default) and there is an active
sink (either for <code>"output"</code> or <code>"message"</code>), then we return 1L.
(In theory we would only need to check the stream that will be
be actually used, but there is no easy way to tell that.)
</p>
</li>
<li><p> If <code>stream</code> is not <code>"auto"</code>, but it is <code>stderr()</code> and there is an
active sink for it, then 1L is returned.
(If a sink is active for &quot;output&quot;, then R changes the <code>stdout()</code>
stream, so this check is not needed.)
</p>
</li>
<li><p> If the <code>cli.default_num_colors</code> option is set, then we use that.
</p>
</li>
<li><p> If R is running inside RGui on Windows, or R.app on macOS, then we
return 1L.
</p>
</li>
<li><p> If R is running inside RStudio, with color support, then the
appropriate number of colors is returned, usually 256L.
</p>
</li>
<li><p> If R is running on Windows, inside an Emacs version that is recent
enough to support ANSI colors, then the value of the
<code>cli.default_num_colors</code> option, or if unset 8L is returned.
(On Windows, Emacs has <code>isatty(stdout()) == FALSE</code>, so we need to
check for this here before dealing with terminals.)
</p>
</li>
<li><p> If <code>stream</code> is not the standard output or standard error  in a
terminal, then 1L is returned.
</p>
</li>
<li><p> Otherwise we use and cache the result of the terminal color
detection (see below).
</p>
</li></ol>

<p>The terminal color detection algorithm:
</p>

<ol>
<li><p> If the <code>COLORTERM</code> environment variable is set to <code>truecolor</code> or
<code style="white-space: pre;">&#8288;24bit&#8288;</code>, then we return 16 million colors.
</p>
</li>
<li><p> If the <code>COLORTERM</code> environment variable is set to anything else,
then we return the value of the <code>cli.num_default_colors</code> option,
8L if unset.
</p>
</li>
<li><p> If R is running on Unix, inside an Emacs version that is recent
enough to support ANSI colors, then the value of the
<code>cli.default_num_colors</code> option is returned, or 8L if unset.
</p>
</li>
<li><p> If we are on Windows in an RStudio terminal, then apparently
we only have eight colors, but the <code>cli.default_num_colors</code> option
can be used to override this.
</p>
</li>
<li><p> If we are in a recent enough Windows 10 terminal, then there
is either true color (from build 14931) or 256 color (from
build 10586) support. You can also use the <code>cli.default_num_colors</code>
option to override these.
</p>
</li>
<li><p> If we are on Windows, under ConEmu or cmder, or ANSICON is loaded,
then the value of <code>cli.default_num_colors</code>, or 8L if unset, is
returned.
</p>
</li>
<li><p> Otherwise if we are on Windows, return 1L.
</p>
</li>
<li><p> Otherwise we are on Unix and try to run <code style="white-space: pre;">&#8288;tput colors&#8288;</code> to determine
the number of colors. If this succeeds, we return its return value.
If the <code>TERM</code> environment variable is <code>xterm</code> and <code>tput</code>
returned 8L, we return 256L, because xterm compatible terminals
tend to support 256 colors
(<a href="https://github.com/r-lib/crayon/issues/17">https://github.com/r-lib/crayon/issues/17</a>)
You can override this with the <code>cli.default_num_colors</code> option.
</p>
</li>
<li><p> If <code>TERM</code> is set to <code>dumb</code>, we return 1L.
</p>
</li>
<li><p> If <code>TERM</code> starts with <code>screen</code>, <code>xterm</code>, or <code>vt100</code>, we return 8L.
</p>
</li>
<li><p> If <code>TERM</code> contains <code>color</code>, <code>ansi</code>, <code>cygwin</code> or <code>linux</code>, we return 8L.
</p>
</li>
<li><p> Otherwise we return 1L.
</p>
</li></ol>



<h3>Value</h3>

<p>Integer, the number of ANSI colors the current R session
supports for <code>stream</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>num_ansi_colors()

</code></pre>

<hr>
<h2 id='num_colors'>Number of colors the terminal supports</h2><span id='topic+num_colors'></span>

<h3>Description</h3>

<p>From crayon version 2.0.0, this function is a simple wrapper on
<code><a href="#topic+num_ansi_colors">num_ansi_colors()</a></code>, with the additional twist that the <code>crayon.colors</code>
option is still obseved, and takes precedence, for compatibility.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_colors(forget = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="num_colors_+3A_forget">forget</code></td>
<td>
<p>Ignored. Included for backwards compatibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Number of ANSI colors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>num_colors()
</code></pre>

<hr>
<h2 id='show_ansi_colors'>Show the ANSI color table on the screen</h2><span id='topic+show_ansi_colors'></span>

<h3>Description</h3>

<p>Show the ANSI color table on the screen
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_ansi_colors(colors = num_colors())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_ansi_colors_+3A_colors">colors</code></td>
<td>
<p>Number of colors to show, meaningful values
are 8 and 256. It is automatically set to the number of
supported colors, if not specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The printed string, invisibly.
</p>

<hr>
<h2 id='start.crayon'>Switch on or off a style</h2><span id='topic+start.crayon'></span><span id='topic+finish'></span><span id='topic+finish.crayon'></span>

<h3>Description</h3>

<p>Make a style active. The text printed to the screen from now
on will use this style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'crayon'
start(x, ...)

finish(x, ...)

## S3 method for class 'crayon'
finish(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="start.crayon_+3A_x">x</code></td>
<td>
<p>Style.</p>
</td></tr>
<tr><td><code id="start.crayon_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is very rarely needed, e.g. for colored user
input. For other reasons, just call the style as a function on
the string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## The input is red (if color is supported)
get_name &lt;- function() {
  cat("Enter your name:", start(red))
  input &lt;- readline()
  cat(finish(red))
  input
}
name &lt;- get_name()
name
</code></pre>

<hr>
<h2 id='strip_style'>Remove ANSI escape sequences from a string</h2><span id='topic+strip_style'></span>

<h3>Description</h3>

<p>Remove ANSI escape sequences from a string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strip_style(string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="strip_style_+3A_string">string</code></td>
<td>
<p>The input string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The cleaned up string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>strip_style(red("foobar")) == "foobar"
</code></pre>

<hr>
<h2 id='style'>Add style to a string</h2><span id='topic+style'></span>

<h3>Description</h3>

<p>See <code>names(styles)</code>, or the crayon manual for available styles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style(string, as = NULL, bg = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="style_+3A_string">string</code></td>
<td>
<p>Character vector to style.</p>
</td></tr>
<tr><td><code id="style_+3A_as">as</code></td>
<td>
<p>Style function to apply, either the function object,
or its name, or an object to pass to <code><a href="#topic+make_style">make_style()</a></code>.</p>
</td></tr>
<tr><td><code id="style_+3A_bg">bg</code></td>
<td>
<p>Background style, a style function, or a name that
is passed to <code><a href="#topic+make_style">make_style()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Styled character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## These are equivalent
style("foobar", bold)
style("foobar", "bold")
bold("foobar")
</code></pre>

<hr>
<h2 id='styles'>ANSI escape sequences of crayon styles</h2><span id='topic+styles'></span>

<h3>Description</h3>

<p>You can use this function to list all availables crayon styles,
via <code>names(styles())</code>, or to explicitly apply an ANSI
escape seauence to a string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>styles()
</code></pre>


<h3>Value</h3>

<p>A named list. Each list element is a list of two
strings, named &lsquo;open&rsquo; and &lsquo;close&rsquo;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crayon">crayon()</a></code> for the beginning of the crayon manual.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names(styles())
cat(styles()[["bold"]]$close)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

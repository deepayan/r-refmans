<!DOCTYPE html><html><head><title>Help for package Ghost</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Ghost}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addtoList'><p> addtoList</p></a></li>
<li><a href='#appendOffset'>
<p>appendOffset</p></a></li>
<li><a href='#check'><p>Checking the variables and functions.</p></a></li>
<li><a href='#chr'><p>chr:Number to char</p></a></li>
<li><a href='#constraint_check'><p>Converting the column name to the column number of the dataset.</p></a></li>
<li><a href='#countNulls'><p>countNulls</p></a></li>
<li><a href='#exactidentical.norowname'><p> Checking the equality of two parts of the dataset.</p></a></li>
<li><a href='#hasNullRow'><p> hasNullRow</p></a></li>
<li><a href='#ht'><p>ht is a list of Hash objects.</p></a></li>
<li><a href='#HTCls'><p>HTCls</p></a></li>
<li><a href='#identical.norowname'>
<p>Checking the equality of two rows of the dataset.</p></a></li>
<li><a href='#MissCls'><p>MissCls</p></a></li>
<li><a href='#out_csv'>
<p>Exporting a .csv file to the special path in pc.</p></a></li>
<li><a href='#reconstruct'><p>reconstruct: Missing Data Segments Imputation in Multivariate Streams</p>
</p></a></li>
<li><a href='#resolveNoSignal_revised'><p>Reconstructing the missing section.</p></a></li>
<li><a href='#sax_test'>
<p>A simple dataset.</p></a></li>
<li><a href='#saxTransform'><p>saxTransform</p></a></li>
<li><a href='#slidewindow'>
<p>slidewindow</p></a></li>
<li><a href='#test_ghost_csv'>
<p>A simple .csv file to use in the reconstruct function.</p></a></li>
<li><a href='#write2file_revised'><p>write2file_revised</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Missing Data Segments Imputation in Multivariate Streams</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Siyavash Shabani, Reza Rawassizadeh </td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Siyavash Shabani &lt;s.shabani.aut@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Helper functions provide an accurate imputation algorithm for reconstructing the missing segment in a multi-variate data streams. Inspired by single-shot learning, it reconstructs the missing segment by identifying the first similar segment in the stream. Nevertheless, there should be one column of data available, i.e. a constraint column. The values of columns can be characters (A, B, C, etc.). The result of the imputed dataset will be returned a .csv file. For more details see Reza Rawassizadeh (2019) &lt;<a href="https://doi.org/10.1109%2FTKDE.2019.2914653">doi:10.1109/TKDE.2019.2914653</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.researchgate.net/publication/332779980_Ghost_Imputation_Accurately_Reconstructing_Missing_Data_of_the_Off_Period">https://www.researchgate.net/publication/332779980_Ghost_Imputation_Accurately_Reconstructing_Missing_Data_of_the_Off_Period</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-03-23 22:25:06 UTC; lorman</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.1</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-03-25 16:50:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='addtoList'> addtoList
</h2><span id='topic+addtoList'></span>

<h3>Description</h3>

<p>This function saves a section of the dataset in a list of objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addtoList(inHTCls, inHT)
</code></pre>

<hr>
<h2 id='appendOffset'>
appendOffset</h2><span id='topic+appendOffset'></span>

<h3>Description</h3>

<p>This function is used in the addtolist function for analysis of the offsets for each one of rows.</p>


<h3>Usage</h3>

<pre><code class='language-R'>appendOffset(curoffsets, newoffsets)
</code></pre>

<hr>
<h2 id='check'>Checking the variables and functions. </h2><span id='topic+check'></span>

<h3>Description</h3>

<p> This function is used to determine a variable or function is defined or not.</p>


<h3>Usage</h3>

<pre><code class='language-R'>check(x)
</code></pre>

<hr>
<h2 id='chr'>chr:Number to char</h2><span id='topic+chr'></span>

<h3>Description</h3>

<p>A function that covert the numbers to the charecters. </p>


<h3>Usage</h3>

<pre><code class='language-R'>chr(n)
</code></pre>

<hr>
<h2 id='constraint_check'>Converting the column name to the column number of the dataset.
</h2><span id='topic+constraint_check'></span>

<h3>Description</h3>

<p>This Function checks the validation of the inserted name of the constraint column and after that, the column name will be converted to column number of the dataset.</p>


<h3>Usage</h3>

<pre><code class='language-R'>constraint_check(constraintCol, data_frame)
</code></pre>

<hr>
<h2 id='countNulls'>countNulls</h2><span id='topic+countNulls'></span>

<h3>Description</h3>

<p>This function determines the number of missing parts in a special part of the dataset.</p>

<hr>
<h2 id='exactidentical.norowname'> Checking the equality of two parts of the dataset.</h2><span id='topic+exactidentical.norowname'></span>

<h3>Description</h3>

<p>Exactidentical.norowname function is one of the best ways to test whether two parts of the dataset are exactly equal. Exactidentical.norowname function returns TRUE when two parts of the dataset are equal and it returns FALSE when two parts of the dataset are not equal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exactidentical.norowname(df1,df2)
</code></pre>

<hr>
<h2 id='hasNullRow'> hasNullRow</h2><span id='topic+hasNullRow'></span>

<h3>Description</h3>

<p>This function checks to have the missing rows for the special part of the dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hasNullRow(indf)
</code></pre>

<hr>
<h2 id='ht'>ht is a list of Hash objects.</h2><span id='topic+ht'></span>

<h3>Description</h3>

<p>This is the collection of all Hash objects with in their offest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ht
</code></pre>

<hr>
<h2 id='HTCls'>HTCls</h2><span id='topic+HTCls'></span>

<h3>Description</h3>

<p>An internal function.</p>

<hr>
<h2 id='identical.norowname'>
Checking the equality of two rows of the dataset.</h2><span id='topic+identical.norowname'></span>

<h3>Description</h3>

<p>Identical.norowname function is one of the best ways to test whether two rows of the dataset are equal. Identical.norowname function returns TRUE when two parts of the dataset are equal and it returns FALSE when two parts of the dataset are not equal.Epsilon is a threshold for determining the equality for two rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>identical.norowname(df1, df2, epsilon)
</code></pre>

<hr>
<h2 id='MissCls'>MissCls</h2><span id='topic+MissCls'></span>

<h3>Description</h3>

<p>An internal function.</p>

<hr>
<h2 id='out_csv'>
Exporting a .csv file to the special path in pc.</h2><span id='topic+out_csv'></span>

<h3>Description</h3>

<p>This function gets a dataset and convert that to .csv file and finally save that to a special path in pc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>out_csv(data_frame, direction_save)
</code></pre>

<hr>
<h2 id='reconstruct'>reconstruct: Missing Data Segments Imputation in Multivariate Streams
</h2><span id='topic+reconstruct'></span>

<h3>Description</h3>

<p>Ghost is an accurate imputation algorithm for reconstructing the missing segment in multi-variate data streams. Inspired by single-shot learning, it reconstructs the missing segment by identifying the first similar segment in the stream. Nevertheless, there should be one column of data available, i.e. a constraint column. The values of columns can be characters ( A, B, C,etc.). The result of the imputed dataset will be returned a .csv file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reconstruct(data_frame, constraintCol, wSize, direction_save,epsilon)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reconstruct_+3A_data_frame">data_frame</code></td>
<td>

<p>A data frame with missing values.
</p>
</td></tr>
<tr><td><code id="reconstruct_+3A_constraintcol">constraintCol</code></td>
<td>

<p>The column number that all of its fields have data (without missing values). This column is considered as a constraint and it can always produce data, even if the system is shut down.
</p>
</td></tr>
<tr><td><code id="reconstruct_+3A_wsize">wSize</code></td>
<td>

<p>Length of a window that is used for data reconstruction, before and after the missing row(s).
</p>
</td></tr>
<tr><td><code id="reconstruct_+3A_direction_save">direction_save</code></td>
<td>

<p>A direction for saving the output .CSV file(see details).
</p>
</td></tr>
<tr><td><code id="reconstruct_+3A_epsilon">epsilon</code></td>
<td>

<p>A similarity coefficient that is used for searching in the algorithm (see details).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>More information about operation of algorithm is prepared in algorithm's article:
https://www.researchgate.net/publication/332779980_Ghost_Imputation_Accurately_Reconstructing_Missing_Data_of_the_Off_Period
</p>
<p>Epsilon:
The algorithm searches the data for the closest similar segment. As the first step, the algorithm determines prior and posterior segments missing part (the size of the segment will be given by wSize). As the second step, the algorithm starts to find the similar segment that passes the segment size and constraint similiarty condition. Sometimes, finding windows with exact similarity is impossible in a dataset. To mitigate this issue, and finding windows with approximate similarities the user can define the minimum percentage of similarity for searching the dataset with Epsilon coefficient.
</p>
<p>direction_save:
If the user inserts the Direction_save, the output file will be saved in the specified folder. Contrarily, if the user does not insert the Direction_save, the output file will be saved in the Environment R.
</p>


<h3>Author(s)</h3>

<p>Siyavash Shabani,s.shabani.aut@gmail.com
Reza Rawassizadeh,rrawassizadeh@acm.org
</p>


<h3>References</h3>

<p>Rawassizadeh, Reza, Hamidreza Keshavarz, and Michael Pazzani. &quot;Ghost Imputation: Accurately Reconstructing Missing Data of the Off Period.&quot; IEEE Transactions on Knowledge and Data Engineering (to appear).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#An example of the operation of the Algorithm.

data(test_ghost_csv)

## sample dataset----------------------------------
#   S0 S1 S2 S3
#1   5  F  G  H
#2   5  B  N  T
#3   4     P  O
#4   1  X  C  B
#5   1  N     X
#6   1  R  R  R
#7   1  W     W
#8   1  W  W  W
#9   2
#10  2
#11  1  O  K  O
#12  1  B     O
#13  2     S  D
#14  1  W  W
#15  1  W  S  W
#16  2  P  I  M
#17  2  R  U
#18  1  O  K  O
#19  1  B     O
#20  1  R  R  R
#21  5  F  G  H
#22  5  B  N  T
#23  4
#24  1  X  C  B
#25  1  N     X


reconstruct(test_ghost_csv,1,2,epsilon=0.4)

### output---------------------------------------------------
#   S0 S1 S2 S3
#1   5  F  G  H
#2   5  B  N  T
#3   4     P  O
#4   1  X  C  B
#5   1  N     X
#6   1  R  R  R
#7   1  W     W
#8   1  W  W  W
#9   2  P  I  M
#10  2  R  U
#11  1  O  K  O
#12  1  B     O
#13  2     S  D
#14  1  W  W
#15  1  W  S  W
#16  2  P  I  M
#17  2  R  U
#18  1  O  K  O
#19  1  B     O
#20  1  R  R  R
#21  5  F  G  H
#22  5  B  N  T
#23  4     P  O
#24  1  X  C  B
#25  1  N     X

</code></pre>

<hr>
<h2 id='resolveNoSignal_revised'>Reconstructing the missing section.
</h2><span id='topic+resolveNoSignal_revised'></span>

<h3>Description</h3>

<p>This function finds a possible section of the dataset for repacing with the missing section.
</p>

<hr>
<h2 id='sax_test'>
A simple dataset.
</h2><span id='topic+sax_test'></span>

<h3>Description</h3>

<p>A simple file to use in the saxTransform function. </p>


<h3>Usage</h3>

<pre><code class='language-R'>data("sax_test")</code></pre>

<hr>
<h2 id='saxTransform'>saxTransform
</h2><span id='topic+saxTransform'></span>

<h3>Description</h3>

<p>This function is added to the package to enable users converting numeric data to discrete data. This is due to the fact that Ghost designed for discrete data and this function discretize numeric data and prepare them for the ghost algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saxTransform(data_frame, buckets,skipColumnVec,constraint_row)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saxTransform_+3A_data_frame">data_frame</code></td>
<td>

<p>A data frame with numeric values.
</p>
</td></tr>
<tr><td><code id="saxTransform_+3A_buckets">buckets</code></td>
<td>

<p>The Input data range is divided to this number.
</p>
</td></tr>
<tr><td><code id="saxTransform_+3A_skipcolumnvec">skipColumnVec</code></td>
<td>

<p>Column number that is not used in the algorithm.
</p>
</td></tr>
<tr><td><code id="saxTransform_+3A_constraint_row">constraint_row</code></td>
<td>

<p>Column number that is considered for constant column.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Siyavash Shabani, s.shabani.aut@gmail.com, Reza Rawassizadeh, rrawassizadeh@acm.org
</p>


<h3>References</h3>

<p>1- Rawassizadeh, Reza, Hamidreza Keshavarz, and Michael Pazzani. &quot;Ghost Imputation: Accurately Reconstructing Missing Data of the Off Period.&quot; IEEE Transactions on Knowledge and Data Engineering (to appear).
</p>
<p>2- Lin, J., Keogh, E., Lonardi, S., &amp; Chiu, B. (2003). A symbolic representation of time series, with implications for streaming algorithms. In Proceedings of the 8th ACM SIGMOD workshop on Research issues in data mining and knowledge discovery (pp. 2-11). ACM.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(sax_test)

#### Input dataframe-----------------------
#   S0  S1  S2 S3
#1   1   2  54 65
#2   1  NA  21 54
#3   2  34  32 87
#4   1  23  58 52
#5   1  43  75 56
#6   2  12  20 95
#7   1  54  14 87
#8   3  -6  NA 30
#9   2   5 -60 32
#10  1 -85  58 25
#11  2  78  95 45
#12  3  52  52 62
#13  2  20  NA 58
#14  3  NA -62 78
#15  1  20 -10 96
#16  1  30  -6 NA
#17  1  12 -85 45
#18  1  NA  78 20
#19  1  23  95 NA

saxTransform(sax_test,buckets =10,skipColumnVec=1, constraint_row=1)

### Output data----------------------------------------------
#     S0  S1  S2   S3
# [1,] "1" "2" "54" "65"
# [2,] "1" ""  "f"  "h"
# [3,] "2" "g" "g"  "j"
# [4,] "1" "g" "h"  "h"
# [5,] "1" "h" "i"  "h"
# [6,] "2" "f" "f"  "k"
# [7,] "1" "h" "f"  "j"
# [8,] "3" "e" ""   "g"
# [9,] "2" "f" "b"  "g"
#[10,] "1" "a" "h"  "g"
#[11,] "2" "j" "k"  "h"
#[12,] "3" "h" "h"  "i"
#[13,] "2" "f" ""   "h"
#[14,] "3" ""  "b"  "j"
#[15,] "1" "f" "e"  "k"
#[16,] "1" "g" "e"  ""
#[17,] "1" "f" "a"  "h"
#[18,] "1" ""  "j"  "f"
#[19,] "1" "g" "k"  ""
</code></pre>

<hr>
<h2 id='slidewindow'>
slidewindow</h2><span id='topic+slidewindow'></span>

<h3>Description</h3>

<p>This function divides the dataset into different parts and saves them in an object.</p>


<h3>Usage</h3>

<pre><code class='language-R'>slidewindow(indf, constraintCol, windowS)
</code></pre>

<hr>
<h2 id='test_ghost_csv'>
A simple .csv file to use in the reconstruct function.
</h2><span id='topic+test_ghost_csv'></span>

<h3>Description</h3>

<p>A simple .csv file to use in the reconstruct function. </p>


<h3>Usage</h3>

<pre><code class='language-R'>data("test_ghost_csv")</code></pre>

<hr>
<h2 id='write2file_revised'>write2file_revised
</h2><span id='topic+write2file_revised'></span>

<h3>Description</h3>

<p>This function replaces the finded section with the missing section. </p>


<h3>Usage</h3>

<pre><code class='language-R'>write2file_revised(inObj, missidx, wSize, cnt, df1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

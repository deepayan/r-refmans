<!DOCTYPE html><html lang="en-GB"><head><title>Help for package ZLAvian</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ZLAvian}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Java.sparrow.notes'><p>Java sparrow note duration and frequency.</p></a></li>
<li><a href='#plotZLA'><p>Web plots to illustrate Zipf's law of abbreviation</p></a></li>
<li><a href='#testZLA'><p>Assess evidence for Zipf's law of abbreviation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Zipf's Law of Abbreviation in Animal Vocalisations</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Assesses evidence for Zipf's Law of Abbreviation in animal vocalisation using IDs, note class and note duration. The package also provides a web plot function for visualisation.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/CDr-er/ZLAvian">https://github.com/CDr-er/ZLAvian</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/CDr-er/ZLAvian/issues">https://github.com/CDr-er/ZLAvian/issues</a></td>
</tr>
<tr>
<td>Maintainer:</td>
<td>CD Durrant &lt;cbdurrantant@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>lme4 (&ge; 1.1-34), performance (&ge; 0.10.4), doParallel (&ge;
1.0.17)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-15 08:39:06 UTC; mqbsstg5</td>
</tr>
<tr>
<td>Author:</td>
<td>CD Durrant [com, cre, cph],
  Tucker Gilman [aut, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-15 11:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='Java.sparrow.notes'>Java sparrow note duration and frequency.</h2><span id='topic+Java.sparrow.notes'></span>

<h3>Description</h3>

<p>This dataset reports the durations and frequencies of use for 22,970 notes in 676 undirected songs produced by 73 Java sparrows (<em>Padda oryzivora</em>). Songs were recorded by Masayo Soma and colleagues and notes were assigned to types by Rebecca Lewis (Lewis et al. 2021; Lewis et al. 2023).</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Java.sparrow.notes")</code></pre>


<h3>Format</h3>

<p>A list with 22,970 observations of the following 3 variables.
</p>

<dl>
<dt><code>duration</code></dt><dd><p>duration, in ms, of each note in the dataset</p>
</dd>
<dt><code>note</code></dt><dd><p>note type to which each note was assigned</p>
</dd>
<dt><code>ID</code></dt><dd><p>identifier of the individual bird that produced each note</p>
</dd>
</dl>



<h3>Source</h3>

<p>&lt;https://figshare.manchester.ac.uk/articles/dataset/Code_and_Data_from_Lewis_et_al_2023_Animal_Behavior/22550149&gt;</p>


<h3>References</h3>

<p>Lewis, R.N., Soma, M., de Kort, S.R., Gilman, R.T. (2021) Like father like son: cultural and genetic contributions to song inheritance in an Estrildid finch. <em>Frontiers in Psychology</em> 12, 654198. (doi.org/10.3389/fpsyg.2021.654198)
</p>
<p>Lewis, R.N., Kwong, A., Soma, M., de Kort, S.R., Gilman, R.T. (2023) Inheritance of temporal song features in Java sparrows. <em>Animal Behaviour</em> 206, 61-74. (doi.org/10.1016/j.anbehav.2023.09.012)</p>


<h3>Examples</h3>

<pre><code class='language-R'>  head(Java.sparrow.notes)
</code></pre>

<hr>
<h2 id='plotZLA'>Web plots to illustrate Zipf's law of abbreviation</h2><span id='topic+plotZLA'></span>

<h3>Description</h3>

<p>Produces a web plot. Requires data from the testZLA function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotZLA(
  inputObject,
  title = "",
  ylab = "duration (s)",
  x.scale = "log",
  y.base = 2
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotZLA_+3A_inputobject">inputObject</code></td>
<td>
<p>output from the function testZLA</p>
</td></tr>
<tr><td><code id="plotZLA_+3A_title">title</code></td>
<td>
<p>a title to be printed over the web plot</p>
</td></tr>
<tr><td><code id="plotZLA_+3A_ylab">ylab</code></td>
<td>
<p>a label for the y-axis</p>
</td></tr>
<tr><td><code id="plotZLA_+3A_x.scale">x.scale</code></td>
<td>
<p>takes values &quot;log&quot; or &quot;linear.&quot; Sets scaling for the x-axis.</p>
</td></tr>
<tr><td><code id="plotZLA_+3A_y.base">y.base</code></td>
<td>
<p>takes values 2 or 10. Controls tick mark positions on the y-axis. When set to 2, tick marks indicate that values differ by a factor of 2. When set to 10, tick marks indicate that values differ by a factor of 10. If data was not log transformed in the analysis being illustrated, then the y-axis is linear and this argument is ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the figure produced by plotZLA, each point represents a note or phrase type in the population repertoire. Note types are joined by a line if at least one individual produces both note types. The weight of the line is proportional to the number of individuals that produce both note types. The color of the lines indicates whether there is a positive (blue) or negative (red) concordance between the duration and frequency of use of the note types. Negative concordances are consistent with Zipf's law of abbreviation. Shades between blue and red indicate that the concordance is positive in some individuals and negative in others. For example, this can happen if some individuals use the note types more frequently than others, such that the rank order of frequency of use varies among individuals. Grey crosses centered on each point show the longest and shortest durations of the note type (vertical) and the highest and lowest frequencies of use (horizontal) in the population.
</p>


<h3>Value</h3>

<p>Produces a web plot illustrating concordance between note duration and frequency of use within individuals. Requires output from the testZLA function.
</p>


<h3>Author(s)</h3>

<p>CD Durrant and R. Tucker Gilman (2024)
</p>


<h3>References</h3>

<p>Davis, M. K. and Chen, G. (2007) Graphic Kendall's tau. <em>Computational Statistics &amp; Data Analysis</em>, 51(5), 2373-2378. (doi.org/10.2307/2346786)
</p>
<p>Gilman, R. T., Durrant, C. D., Malpas, L., and Lewis, R. N. (2023) Does Zipf’s law of abbreviation shape birdsong? <em>bioRXiv</em> (doi.org/10.1101/2023.12.06.569773)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Test for evidence of ZLA in the songs of 73 Java sparrows
#and produce a web plot to illustrate the result. In testZLA,
#"null" is set to the minimum value to make the example run
#quickly, and thus the p-values reported are likely to be
#imprecise. This will not affect the web plot, because plotZLA
#does not rely on accurate p-values or null distributions.

ZLA.object=testZLA(Java.sparrow.notes, null = 99)

plotZLA(ZLA.object, ylab = "duration (ms)", x.scale = "linear")
</code></pre>

<hr>
<h2 id='testZLA'>Assess evidence for Zipf's law of abbreviation</h2><span id='topic+testZLA'></span>

<h3>Description</h3>

<p>Assesses evidence for Zipf's Law of Abbreviation in a population where samples from the population repertoire can be assigned to individuals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testZLA(
  data,
  minimum = 1,
  null = 999,
  est = "mean",
  cores = 2,
  transform = "log"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="testZLA_+3A_data">data</code></td>
<td>
<p>a dataframe containing columns &quot;note&quot; (factor/character; identifies the note/phrase type of each token), &quot;duration&quot; (numeric; describes the duration of each token), and &quot;ID&quot; (factor; identifies the individual that produced each token). Other columns in the dataframe are ignored.</p>
</td></tr>
<tr><td><code id="testZLA_+3A_minimum">minimum</code></td>
<td>
<p>the minimum number of times a note type must appear in the data set to be included in the analysis. Must be a positive integer.</p>
</td></tr>
<tr><td><code id="testZLA_+3A_null">null</code></td>
<td>
<p>the number of permutations used to estimate the null distribution. Must be a positive integer 99 or greater.</p>
</td></tr>
<tr><td><code id="testZLA_+3A_est">est</code></td>
<td>
<p>takes values &quot;mixed,&quot; &quot;mean,&quot; or &quot;median.&quot; If est = &quot;mixed&quot; then the expected logged duration for each note type in the population is computed as the intercept from an intercept-only mixed effects model, fit using the lmer() function of lme4 (Bates et al. 2015), that includes a random effect of individual ID. This computes a weighted mean across birds, and accords greater weights to birds that produce the note type more frequently. If est = &quot;mean&quot; then the expected logged duration for each note type in the population is computed as the mean of the means for the individual birds, with each individual bird weighted equally. This is faster than the &quot;mixed&quot; method. If est = &quot;median&quot; then the expected logged duration for each note type within birds is taken to be the median logged duration of the note type when produced by that bird, and the expected logged duration for each note type in the population is taken to be the median of the medians for the birds that produced that note type. The expected durations for note types are used in the permutation algorithm.</p>
</td></tr>
<tr><td><code id="testZLA_+3A_cores">cores</code></td>
<td>
<p>divides (parallelizes) computation of the null distribution among cores. Cores must be an integer between 1 and the number of cores available on the users machine, inclusive.</p>
</td></tr>
<tr><td><code id="testZLA_+3A_transform">transform</code></td>
<td>
<p>takes values &quot;log&quot; or &quot;none.&quot; Indicates how duration data should be transformed prior to analysis. Gilman and colleagues (2023) argue that log transformation may often be appropriate for duration data, but some other measures might be better analysed as raw (untransformed) values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with components:
</p>
<table role = "presentation">
<tr><td><code>overview</code></td>
<td>
<p>reports summary statistics for the dataset. These are &quot;total notes,&quot; the total number of notes in the dataset; &quot;total individuals,&quot; the number of individual birds in the dataset; &quot;total note classes,&quot; the total number of note types represented in the dataset; &quot;notes per individual,&quot; the average number of notes produced by individuals in the dataset; and &quot;classes per individual,&quot; the average number of note classes that each individual produces.</p>
</td></tr>
<tr><td><code>shannon</code></td>
<td>
<p>the Shannon diversity of note types in the full dataset, and the mean Shannon diversity of note types produced by individuals in the dataset.</p>
</td></tr>
<tr><td><code>stats</code></td>
<td>
<p>a matrix reporting &quot;individual level tau,&quot; the weighted mean concordance between note duration and frequency of use of notes within individuals, computed over all individuals in the dataset, with the concordance within each individual weighted by its inverse variance; &quot;population level tau,&quot; the concordance between note duration and frequency of use in the full dataset, independent of the individuals that produced each note; and the p-values associated with each measure of concordance.</p>
</td></tr>
<tr><td><code>unweighted</code></td>
<td>
<p>the &quot;individual level tau&quot; and associated p-value, computed when concordances within individuals are not weighted by their inverse variances.</p>
</td></tr>
<tr><td><code>plotObject</code></td>
<td>
<p>data available to the function plotZLA and used to produce web plots illustrating individual level concordances.</p>
</td></tr>
<tr><td><code>thresholds</code></td>
<td>
<p>a matrix reporting the strength of concordance that would be needed to find significant (alpha = 0.05) evidence consistent with or contrary to ZLA in the study population. These are the 90 percent confidence intervals for the null distributions of tau (ie, individual level concordance). Values are reported for both the inverse-variance weighted and unweighted versions of tau.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>CD Durrant and R. Tucker Gilman (2024)
</p>


<h3>References</h3>

<p>Bates, D., Maechler, M., Bolker, B., Walker, S. (2015).Fitting Linear Mixed-Effects Models Using lme4. <em>Journal of Statistical Software</em>, 67(1), 1-48. (doi.org/10.18637/jss.v067.i01)
</p>
<p>Gilman, R. T., Durrant, C. D., Malpas, L., and Lewis, R. N. (2023) Does Zipf’s law of abbreviation shape birdsong? <em>bioRxiv</em> (doi.org/10.1101/2023.12.06.569773)
</p>
<p>Lewis, R. N., Kwong, A., Soma, M., de Kort, S. R., Gilman, R. T. (2023) Java sparrow song conforms to Mezerath’s law but not to Zipf’s law of abbreviation. <em>bioRxiv</em> (doi.org/10.1101/2023.12.13.571437)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Test for evidence of ZLA in the songs of 73 Java sparrows.
#Most parameters are set to their default values, but
#"null" is set to the minimum value to make the example run
#quickly. Thus, the taus reported will be accurate, but the
#p-values will be imprecise.

testZLA(Java.sparrow.notes, null = 99)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

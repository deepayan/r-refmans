<!DOCTYPE html><html lang="en"><head><title>Help for package CADF</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CADF}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#annualhalfing_LL'><p>Likelihood maximization for annual halfing customer retention model</p></a></li>
<li><a href='#annualhalfingmodel'><p>Annual Halfing Model</p></a></li>
<li><a href='#bass.answeringmachines'><p>Answering machine data</p></a></li>
<li><a href='#bigT_expand_via_apply'><p>bigT_expand_via_apply</p></a></li>
<li><a href='#billionaire'><p>Billionaires</p></a></li>
<li><a href='#ca_SRM'><p>ca_SRM</p></a></li>
<li><a href='#ca_SRM_time_varying'><p>Time varying Simple retention model</p>
Estimates retention rate using logistic regression and the simple regression model
Mostly used for contractual models where there are clear opportunities for cancellation.
Could be used in non-contractional
situations although the cancellation opportunities should be defined.  Not recommended
for use with services that consumers use rotating-door style.  Use the migration model there.</a></li>
<li><a href='#ca_to_ps_matrix'><p>CADF to purchase string</p>
Extracts purchase strings from the CADF and formats as a R matrix.</a></li>
<li><a href='#cadf'><p>cadf.</p></a></li>
<li><a href='#CADF_to_annualhalfing_data'><p>Convert CADF dataset into annualhalfing model dataset</p></a></li>
<li><a href='#CADF_to_btyd_pareto_nbd'><p>CADF to btyd pareto nbd model</p></a></li>
<li><a href='#CADF_to_logistic_regression'><p>CADF to logistic regression</p></a></li>
<li><a href='#CADF_to_migration_model'><p>CADF_to_migration_model converts CADF data to migration model data</p></a></li>
<li><a href='#CADF_to_nth_purchase'><p>CADF_to_nth_purchase</p></a></li>
<li><a href='#CADF_to_nth_purchase_allrows'><p>CADF_to_nth_purchase_allrows inputs CADF data and the desired purchase number that you want to count the nth result of.</p></a></li>
<li><a href='#cadf.data.sample'><p>CADF-formatted sample data</p></a></li>
<li><a href='#create.purchase.string'><p>Function called during Customer$new() (the Customer R6 class) to create purchase string for the customer.</p></a></li>
<li><a href='#create.recency.string'><p>create_recency_string</p></a></li>
<li><a href='#Customer'><p>R6 Class representing a customer.  Otherwise known as the CADF.</p></a></li>
<li><a href='#discretechoice'><p>Discrete choice</p></a></li>
<li><a href='#exceldata'><p>Excel data</p></a></li>
<li><a href='#f_CustomerModelingMatrix'><p>For each customer, return a modeling matrix that is utilized for logistic regression</p></a></li>
<li><a href='#f_CustomerSurvivalModelingMatrix'><p>For each customer, return a survival modeling matrix that is utilized for survival analysis</p></a></li>
<li><a href='#f_intMonths'><p>Compute the months between two purchase dates</p></a></li>
<li><a href='#fp'><p>Health Data</p></a></li>
<li><a href='#frequency_from_ps'><p>Purchase string to frequency count</p></a></li>
<li><a href='#frequency_from_rle'><p>RLE object to frequency count</p></a></li>
<li><a href='#gammagamma'><p>Gamma gamma spend model data</p></a></li>
<li><a href='#generate_date_template'><p>generate_date_template</p></a></li>
<li><a href='#id_to_CADF'><p>Convert to CADF for a single customer id</p></a></li>
<li><a href='#ld_sample_customer_matrix'><p>LD functions are utilized for learning and diagnostic use.</p></a></li>
<li><a href='#ltv.transactions'><p>LTV transactions data</p></a></li>
<li><a href='#modeling.annualhalfing.likelihood'><p>Likelihood function for annual halfing model</p></a></li>
<li><a href='#modeling.LL.gamma_spend'><p>LL function for the gamma gamma spend model</p></a></li>
<li><a href='#pdf_gamma'><p>PDF probability function for gamma distribution</p></a></li>
<li><a href='#pdf_gamma2'><p>Probability density function for gamma distribution</p></a></li>
<li><a href='#print.glossary'><p>The glossary for the CADF data format</p></a></li>
<li><a href='#ps_to_T_custom'><p>Calculates T from a purchase string.  Custom.</p></a></li>
<li><a href='#ps_to_T_strict_quitter'><p>Calculates T from a purchase string</p></a></li>
<li><a href='#ps_to_T_strict_stayer'><p>Calculates T from a purchase string under the &quot;strict stayer&quot; assumption.</p></a></li>
<li><a href='#psmatrix_to_psstring'><p>psmatrix_to_psstring</p></a></li>
<li><a href='#psmatrix_to_recency_attimeof_matrix'><p>accepts a psmatrix</p>
converts 1/0 purchase strings to recency at timeof</a></li>
<li><a href='#qc_transactional_data'><p>The customer analytics data format (CADF) relays heavily on correct input data.</p>
Transactional data must:
1.) be a data frame with two columns
2.) Column one is the customer id
3.) Column 2 is the transaction date.  Column 2 must be formatted as a date object in R.</a></li>
<li><a href='#segltv'><p>Segmentation and LTV data</p></a></li>
<li><a href='#simple_migration'><p>Simple Migration</p></a></li>
<li><a href='#split.transaction.file_to_CADF'><p>Create a CADF dataset from a dataframe</p></a></li>
<li><a href='#srm_data'><p>#' Simple retention model data</p></a></li>
<li><a href='#srm_summaries'><p>SRM model data</p></a></li>
<li><a href='#stocks'><p>Stockmarket put/call data</p></a></li>
<li><a href='#transactions'><p>Transactions data</p></a></li>
<li><a href='#transactions.merged'><p>#' Transaction data</p></a></li>
<li><a href='#transitions'><p>Calculate transition periods between two timeperiods</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Title:</td>
<td>Customer Analytics Data Formatting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Converts customer transaction data (ID, purchase date) into a R6 class called customer.  The class stores various customer analytics calculations at the customer level. The package also contains functionality to convert data in the R6 class to data.frames that can serve as inputs for various customer analytics models.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, lubridate, markovchain, utils, survival</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ludwig Steven &lt;steven.ludwig@u.northwestern.edu&gt;</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-28 23:36:43 UTC; steve</td>
</tr>
<tr>
<td>Author:</td>
<td>Ludwig Steven [aut, cre]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-31 14:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='annualhalfing_LL'>Likelihood maximization for annual halfing customer retention model</h2><span id='topic+annualhalfing_LL'></span>

<h3>Description</h3>

<p>Likelihood maximization for annual halfing customer retention model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annualhalfing_LL(grid, dta)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annualhalfing_LL_+3A_grid">grid</code></td>
<td>
<p>model parameters</p>
</td></tr>
<tr><td><code id="annualhalfing_LL_+3A_dta">dta</code></td>
<td>
<p>dataset</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Annual halfing Likelihood in optimization routine
</p>

<hr>
<h2 id='annualhalfingmodel'>Annual Halfing Model</h2><span id='topic+annualhalfingmodel'></span>

<h3>Description</h3>

<p>A recency-frequency model used in non-contractual situations.
Model assumptions:
1.) Increasing recency leads to higher probability of quitting.
2.) Frequency is related to exponential learning curves
Reference: Segmentation and Lifetime Value Modeling in SAS (Edward Malthouse)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annualhalfingmodel(cadf.data, starting.values)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annualhalfingmodel_+3A_cadf.data">cadf.data</code></td>
<td>
<p>cadf-formatted dataset</p>
</td></tr>
<tr><td><code id="annualhalfingmodel_+3A_starting.values">starting.values</code></td>
<td>
<p>parameter starting values for model</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns model parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dta &lt;- lapply(CADF::cadf.data.sample, function(x) tail(x$data, 1))
dta &lt;- do.call(rbind, dta)
starting.values &lt;- c(.5,.9,.2,-.9)
annualhalfingmodel(cadf.data.sample, starting.values)
</code></pre>

<hr>
<h2 id='bass.answeringmachines'>Answering machine data</h2><span id='topic+bass.answeringmachines'></span>

<h3>Description</h3>

<p>Answering machine data
</p>


<h3>Format</h3>

<p>A data frame with 9 rows and two columns
</p>

<hr>
<h2 id='bigT_expand_via_apply'>bigT_expand_via_apply</h2><span id='topic+bigT_expand_via_apply'></span>

<h3>Description</h3>

<p>bigT_expand_via_apply
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bigT_expand_via_apply(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bigT_expand_via_apply_+3A_x">x</code></td>
<td>
<p>vector containing bigT, cancel and count</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(3, 1, 5)
bigT_expand_via_apply(x)
</code></pre>

<hr>
<h2 id='billionaire'>Billionaires</h2><span id='topic+billionaire'></span>

<h3>Description</h3>

<p>Billionaires
</p>


<h3>Format</h3>

<p>data frame
</p>

<hr>
<h2 id='ca_SRM'>ca_SRM</h2><span id='topic+ca_SRM'></span>

<h3>Description</h3>

<p>ca_SRM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ca_SRM(df_logistic)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ca_SRM_+3A_df_logistic">df_logistic</code></td>
<td>
<p>data frame containing the data for logistic regression</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>customertype1 &lt;- c(3, 1, 5)
customertype2 &lt;- c(12, 0, 3)
cust1 &lt;- bigT_expand_via_apply(customertype1)
cust2 &lt;- bigT_expand_via_apply(customertype2)
df_logistic &lt;- rbind(cust1, cust2)
model &lt;- ca_SRM(df_logistic)
</code></pre>

<hr>
<h2 id='ca_SRM_time_varying'>Time varying Simple retention model
Estimates retention rate using logistic regression and the simple regression model
Mostly used for contractual models where there are clear opportunities for cancellation.  
Could be used in non-contractional
situations although the cancellation opportunities should be defined.  Not recommended
for use with services that consumers use rotating-door style.  Use the migration model there.</h2><span id='topic+ca_SRM_time_varying'></span>

<h3>Description</h3>

<p>Time varying Simple retention model
Estimates retention rate using logistic regression and the simple regression model
Mostly used for contractual models where there are clear opportunities for cancellation.  
Could be used in non-contractional
situations although the cancellation opportunities should be defined.  Not recommended
for use with services that consumers use rotating-door style.  Use the migration model there.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ca_SRM_time_varying(df_logistic, reference_level = 12, maxT = 12)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ca_SRM_time_varying_+3A_df_logistic">df_logistic</code></td>
<td>
<p>A data frame, formatted for logistic regression.
1 row for each customer id/timeperiod.  1/0 for purchase.</p>
</td></tr>
<tr><td><code id="ca_SRM_time_varying_+3A_reference_level">reference_level</code></td>
<td>
<p>All coefficients will be judged relevant to the reference level.  It defaults to 
time period 12.  (Note interpretation will change based on how T is formulated.)</p>
</td></tr>
<tr><td><code id="ca_SRM_time_varying_+3A_maxt">maxT</code></td>
<td>
<p>The number of timeperiods to build.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns logistic model results (the glm model)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(stats)
x &lt;- c(3, 1, 5)
df_logistic &lt;- bigT_expand_via_apply(x)
model &lt;- ca_SRM_time_varying(df_logistic, reference_level = 3)
</code></pre>

<hr>
<h2 id='ca_to_ps_matrix'>CADF to purchase string 
Extracts purchase strings from the CADF and formats as a R matrix.</h2><span id='topic+ca_to_ps_matrix'></span>

<h3>Description</h3>

<p>CADF to purchase string 
Extracts purchase strings from the CADF and formats as a R matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ca_to_ps_matrix(ca.data, maxT)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ca_to_ps_matrix_+3A_ca.data">ca.data</code></td>
<td>
<p>Data in the CADF format generated by the CADF _to_CADF functions and Customer class.</p>
</td></tr>
<tr><td><code id="ca_to_ps_matrix_+3A_maxt">maxT</code></td>
<td>
<p>Number of columns in the matrix</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Output is a matrix.  Rows are number of customers; columns = maxT
</p>


<h3>Value</h3>

<p>Matrix with dimensions C x maxT  (number of customers by maxT)
library(CADF)
data(&quot;transactions&quot;)
customer &lt;- subset(transactions, transactions$ID == 40)
today.study.cutoff &lt;- max(customer$PURCHASE_DATE)
customer.40.CADF &lt;- list(Customer$new(customer, today.study.cutoff))
psmatrix &lt;- customer.40.CADF$purchase_string_as_matrix
psmatrix2 &lt;- ca_to_ps_matrix(customer.40.CADF, 15)
</p>

<hr>
<h2 id='cadf'>cadf.</h2><span id='topic+cadf'></span>

<h3>Description</h3>

<p>cadf.
</p>

<hr>
<h2 id='CADF_to_annualhalfing_data'>Convert CADF dataset into annualhalfing model dataset</h2><span id='topic+CADF_to_annualhalfing_data'></span>

<h3>Description</h3>

<p>Converts CADF output to dataset for annual halfing model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADF_to_annualhalfing_data(cadf.data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADF_to_annualhalfing_data_+3A_cadf.data">cadf.data</code></td>
<td>
<p>CADF dataset</p>
</td></tr>
</table>

<hr>
<h2 id='CADF_to_btyd_pareto_nbd'>CADF to btyd pareto nbd model</h2><span id='topic+CADF_to_btyd_pareto_nbd'></span>

<h3>Description</h3>

<p>Converts a CADF dataset to a dataset for btyd pareto nbd modeling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADF_to_btyd_pareto_nbd(cadf.data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADF_to_btyd_pareto_nbd_+3A_cadf.data">cadf.data</code></td>
<td>
<p>CADF-formatted dataset</p>
</td></tr>
</table>

<hr>
<h2 id='CADF_to_logistic_regression'>CADF to logistic regression</h2><span id='topic+CADF_to_logistic_regression'></span>

<h3>Description</h3>

<p>Convert a CADF dataset to a dataset for logistic regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADF_to_logistic_regression(CADF)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADF_to_logistic_regression_+3A_cadf">CADF</code></td>
<td>
<p>CADF-formatted dataset</p>
</td></tr>
</table>

<hr>
<h2 id='CADF_to_migration_model'>CADF_to_migration_model converts CADF data to migration model data</h2><span id='topic+CADF_to_migration_model'></span>

<h3>Description</h3>

<p>Builds transition matrix for a migration model.
T is the maximum time cutoff which defaults to 5.   
The output will be a transition matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADF_to_migration_model(cadf.data, maxT = 5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADF_to_migration_model_+3A_cadf.data">cadf.data</code></td>
<td>
<p>Data in R list format processed by CADF functions</p>
</td></tr>
<tr><td><code id="CADF_to_migration_model_+3A_maxt">maxT</code></td>
<td>
<p>If time is greater than maxT it will be converted into a + category</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tmatrix &lt;- CADF_to_migration_model(cadf.data.sample)
</code></pre>

<hr>
<h2 id='CADF_to_nth_purchase'>CADF_to_nth_purchase</h2><span id='topic+CADF_to_nth_purchase'></span>

<h3>Description</h3>

<p>CADF_to_nth_purchase
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADF_to_nth_purchase(cadf.data, n)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADF_to_nth_purchase_+3A_cadf.data">cadf.data</code></td>
<td>
<p>Data in R list format processed by CADF functions</p>
</td></tr>
<tr><td><code id="CADF_to_nth_purchase_+3A_n">n</code></td>
<td>
<p>the nth purchase you want to analyze</p>
</td></tr>
</table>

<hr>
<h2 id='CADF_to_nth_purchase_allrows'>CADF_to_nth_purchase_allrows inputs CADF data and the desired purchase number that you want to count the nth result of.</h2><span id='topic+CADF_to_nth_purchase_allrows'></span>

<h3>Description</h3>

<p>CADF_to_nth_purchase_allrows inputs CADF data and the desired purchase number that you want to count the nth result of.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADF_to_nth_purchase_allrows(cadf.data, n)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CADF_to_nth_purchase_allrows_+3A_cadf.data">cadf.data</code></td>
<td>
<p>Data in R list format processed by CADF functions</p>
</td></tr>
<tr><td><code id="CADF_to_nth_purchase_allrows_+3A_n">n</code></td>
<td>
<p>the nth purchase</p>
</td></tr>
</table>

<hr>
<h2 id='cadf.data.sample'>CADF-formatted sample data</h2><span id='topic+cadf.data.sample'></span>

<h3>Description</h3>

<p>CADF-formatted sample data
</p>


<h3>Format</h3>

<p>List with 2,185 customers, in CADF format
</p>

<hr>
<h2 id='create.purchase.string'>Function called during Customer$new() (the Customer R6 class) to create purchase string for the customer.</h2><span id='topic+create.purchase.string'></span>

<h3>Description</h3>

<p>Function called during Customer$new() (the Customer R6 class) to create purchase string for the customer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.purchase.string(x, id.column, date.column, return.mode = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create.purchase.string_+3A_x">x</code></td>
<td>
<p>Transactional data associated with customer id.</p>
</td></tr>
<tr><td><code id="create.purchase.string_+3A_id.column">id.column</code></td>
<td>
<p>Description goes here.</p>
</td></tr>
<tr><td><code id="create.purchase.string_+3A_date.column">date.column</code></td>
<td>
<p>Description goes here.</p>
</td></tr>
<tr><td><code id="create.purchase.string_+3A_return.mode">return.mode</code></td>
<td>
<p>Set to matrix if you want result returned as a matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>purchase string in 0/1 format.  Returned as string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("transactions")
customer &lt;- subset(transactions, transactions$ID == 5)
create.purchase.string(customer, "ID", "PURCHASE_DATE")
</code></pre>

<hr>
<h2 id='create.recency.string'>create_recency_string</h2><span id='topic+create.recency.string'></span>

<h3>Description</h3>

<p>Tracks cumulative recency
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.recency.string(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create.recency.string_+3A_x">x</code></td>
<td>
<p>vector of zeros and ones</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>head(cadf.data.sample)
</code></pre>

<hr>
<h2 id='Customer'>R6 Class representing a customer.  Otherwise known as the CADF.</h2><span id='topic+Customer'></span>

<h3>Description</h3>

<p>A short description...
</p>


<h3>Details</h3>

<p>Call Customer$new() to convert transactional data to CADF format
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>output</code></dt><dd><p>Stores all information 
in R format at the customer level.</p>
</dd>
<dt><code>payload</code></dt><dd><p>Stores all computed customer information 
in JSON format for integration into other systems.  
This is not quite an API but designed 
so that customer information can be imported to other 
formats and systems.</p>
</dd>
<dt><code>data</code></dt><dd><p>a data frame that stores purchase 
information for a single customer.  Input data 
for various calculations in initialize (df_customer)</p>
</dd>
<dt><code>id</code></dt><dd><p>The customer id.  This will be the same ID 
as provided in the input transaction file.</p>
</dd>
<dt><code>study_name</code></dt><dd><p>A name to associate with the cohort study.
#The name can be whatever is easiest to associate with the set 
of customer id and dates included in
the analysis.</p>
</dd>
<dt><code>study_begin_date</code></dt><dd><p>Begin date of the customer study. 
In theory this should be min(TRANSACTION_DATE) 
for each customer in the dataset.</p>
</dd>
<dt><code>timing</code></dt><dd><p>Monthly timing computes T as months. 
Most commonly utilized and is the default.</p>
</dd>
<dt><code>transaction_dates</code></dt><dd><p>All transaction dates for the customer</p>
</dd>
<dt><code>transaction_months</code></dt><dd><p>All YYYY_MM transaction dates
for the customer</p>
</dd>
<dt><code>first_purchase_date</code></dt><dd><p>First purchase date for the customer.</p>
</dd>
<dt><code>last_purchase_date</code></dt><dd><p>Last purchase date for the customer.
#' @field repeat_customer repeat_customer
if the following conditions
are true.  The customer has more 
than one transaction.  The second transaction
date is greater than the first transaction date.</p>
</dd>
<dt><code>repeat_customer_by_day</code></dt><dd><p>description</p>
</dd>
<dt><code>today</code></dt><dd><p>today
#' @field  T a measure of time between first
date of activity and purchase.</p>
</dd>
<dt><code>T_ss</code></dt><dd><p>T_ss</p>
</dd>
<dt><code>transaction_range_complete</code></dt><dd><p>shows a 
consecutive sequence usually beginning at 1</p>
</dd>
<dt><code>purchase_count</code></dt><dd><p>purchase count</p>
</dd>
<dt><code>purchase_string</code></dt><dd><p>description</p>
</dd>
<dt><code>purchase_string_as_matrix</code></dt><dd><p>purchase string as matrix</p>
</dd>
<dt><code>recency_string_as_matrix</code></dt><dd><p>recency string as matrix</p>
</dd>
<dt><code>Freq</code></dt><dd><p>frequency count</p>
</dd>
<dt><code>logistic_modeling_matrix</code></dt><dd><p>Stores customer's 
logistic modeling matrix.  (One row for each time period 
(T), 1 = purchase; 0 = no purchase)</p>
</dd>
<dt><code>logistic_modeling_matrix_ss</code></dt><dd><p>logistic_modeling_matrix_ss</p>
</dd>
<dt><code>logistic_modeling_matrix_custom</code></dt><dd><p>logistic_modeling_matrix_custom</p>
</dd>
<dt><code>survival_modeling_matrix</code></dt><dd><p>Stores customer's 
modeling matrix for survival analysis.  For survival analysis '1' 
means that the customer has stopped being a customer.  
'0' means that the customer is continuing to be a customer.</p>
</dd>
<dt><code>survival_modeling_matrix_ss</code></dt><dd><p>survival_modeling_matrix_ss</p>
</dd>
<dt><code>survival_modeling_matrix_custom</code></dt><dd><p>survival_modeling_matrix_custom</p>
</dd>
<dt><code>repeat_customer</code></dt><dd><p>This can be used to filter out 
repeat customers from analysis.  Repeat customer 
based on YYYY_MM.  (Customer with only two purchases
in January would not be a repeat customer)
however it's by day instead of YYYY_MM.
PURCHASE STRINGS
purchase_string Utilizes the 'create.purchase.string' 
function to create a purchase string.  &quot;1&quot; if 
purchase was made during the
purchase period; &quot;0&quot; otherwise.  
No special rules are applied and the purchase string 
reflects true purchase history.
df_customer:  data frame for single customer, id column,
purchase date column</p>
</dd>
<dt><code>T</code></dt><dd><p>T is a cancellation time.  CADF offers 
different ways to estimate the cancellation time
strict_quitter:  Customer leaves after first period 
of inactivity.  Example purchase string 11001.  T=3
strict_stayer:   T is the last period of transaction in 
the purchase string. 11001.  T=5
As T becomes longer strict_quitter will have a tendancy 
to underestimate retention.  Strict_stayer will have a
tendancey to overestimate
If you know your customers come and go at free
will you can utilize a Migration model or choose 
T between strict quitter and strict stayer
</p>
<p>T_ss T_ss</p>
</dd>
<dt><code>T_custom</code></dt><dd><p>T_custom
logistic_modeling_matrix  Stores rows for 
the customer that contribute to a logistic 
modeling matrix.
Assumes strict/perm cancellations.  
Customer relationship starts at time 1 and 
ends at time N (with perm cancellation and no pauses in between)
This is usually known as a contractual relationship 
logistic_modeling_matrix_sc Assumes strict stayer assumption
$field logistic_modeling_matrix_custom
survival_modeling_matrix  Stores rows for 
the customer that contribute to a survival 
modeling matrix.
$field logistic_modeling_matrix_custom
cleanup and data storage
empty working df_customer data frame 
and place the result in the class, name it 'data'</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Customer-new"><code>Customer$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Customer-clone"><code>Customer$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Customer-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates a CADF profile for a given customer
based on the input transactional data
usually an R list
</p>


<h5>Usage</h5>

<div class="r"><pre>Customer$new(df_customer = NA, today = NA)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>df_customer</code></dt><dd><p>description</p>
</dd>
<dt><code>today</code></dt><dd></dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new 'Customer' object.  Converted transactional data to CADF format.
To access cadf[[1]], etc...
Represents customer data (for a particular id) in the &quot;CADF&quot; format
df_customer$Tdays df_customer data frame column:
to compute &quot;days from first purchase&quot;
df_customer$month_yr date converted to YYYY_MM format
df_customer$Tmonths Number of months between purchase date 
and first purchase date.  Rounded up to nearest month
id the customerid which identifies the customer
in the CADF class.  
transaction_dates All unique transaction 
dates for customer
All unique YYYY_MM combinations 
for customer transactions.  This is used for building purchase strings.
</p>


<hr>
<a id="method-Customer-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Customer$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>library(CADF)
data("transactions")
customer &lt;- subset(transactions, transactions$ID == 40)
today.study.cutoff &lt;- max(customer$PURCHASE_DATE)
customer.40.CADF &lt;- Customer$new(customer, today.study.cutoff)
</code></pre>

<hr>
<h2 id='discretechoice'>Discrete choice</h2><span id='topic+discretechoice'></span>

<h3>Description</h3>

<p>Discrete choice
</p>


<h3>Format</h3>

<p>##'discretechoice'
</p>

<hr>
<h2 id='exceldata'>Excel data</h2><span id='topic+exceldata'></span>

<h3>Description</h3>

<p>Excel data
</p>


<h3>Format</h3>

<p>Data frame with 50 rows and 9 columns
</p>

<hr>
<h2 id='f_CustomerModelingMatrix'>For each customer, return a modeling matrix that is utilized for logistic regression</h2><span id='topic+f_CustomerModelingMatrix'></span>

<h3>Description</h3>

<p>'f_CustomerModelingMatrix' inputs are cancellation_time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_CustomerModelingMatrix(cancellation_time)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_CustomerModelingMatrix_+3A_cancellation_time">cancellation_time</code></td>
<td>
<p>= cancellation time</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Description here
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_CustomerModelingMatrix(10)
</code></pre>

<hr>
<h2 id='f_CustomerSurvivalModelingMatrix'>For each customer, return a survival modeling matrix that is utilized for survival analysis</h2><span id='topic+f_CustomerSurvivalModelingMatrix'></span>

<h3>Description</h3>

<p>'f_CustomerSurvivalModelingMatrix' inputs are T.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_CustomerSurvivalModelingMatrix(cancellation_time)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_CustomerSurvivalModelingMatrix_+3A_cancellation_time">cancellation_time</code></td>
<td>
<p>cancellation time</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Description here
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_CustomerSurvivalModelingMatrix(10)
</code></pre>

<hr>
<h2 id='f_intMonths'>Compute the months between two purchase dates</h2><span id='topic+f_intMonths'></span>

<h3>Description</h3>

<p>Compute the months between two purchase dates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_intMonths(a, b)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_intMonths_+3A_a">a</code></td>
<td>
<p>starting date</p>
</td></tr>
<tr><td><code id="f_intMonths_+3A_b">b</code></td>
<td>
<p>ending date
</p>
<p>Description here</p>
</td></tr>
</table>

<hr>
<h2 id='fp'>Health Data</h2><span id='topic+fp'></span>

<h3>Description</h3>

<p>Health Data
</p>


<h3>Format</h3>

<p>data frame with 5,432 rows and 36 columns
</p>

<hr>
<h2 id='frequency_from_ps'>Purchase string to frequency count</h2><span id='topic+frequency_from_ps'></span>

<h3>Description</h3>

<p>Purchase string to frequency count
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frequency_from_ps(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="frequency_from_ps_+3A_x">x</code></td>
<td>
<p>rle object</p>
</td></tr>
</table>

<hr>
<h2 id='frequency_from_rle'>RLE object to frequency count</h2><span id='topic+frequency_from_rle'></span>

<h3>Description</h3>

<p>RLE object to frequency count
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frequency_from_rle(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="frequency_from_rle_+3A_x">x</code></td>
<td>
<p>rle object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># example code
x &lt;- c(1,1,0,1,0,0,1,0,0,0)
x.rle &lt;- rle(x)
frequency_from_rle(x.rle)
</code></pre>

<hr>
<h2 id='gammagamma'>Gamma gamma spend model data</h2><span id='topic+gammagamma'></span>

<h3>Description</h3>

<p>Gamma gamma spend model data
</p>


<h3>Format</h3>

<p>data frame with 2,357 rows and 6 columns
</p>

<hr>
<h2 id='generate_date_template'>generate_date_template</h2><span id='topic+generate_date_template'></span>

<h3>Description</h3>

<p>generate_date_template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_date_template()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>dates &lt;- generate_date_template()
</code></pre>

<hr>
<h2 id='id_to_CADF'>Convert to CADF for a single customer id</h2><span id='topic+id_to_CADF'></span>

<h3>Description</h3>

<p>'id_to_CADF' inputs is coming from a lapply operation on a split customer dataset.  If variable a is the split customer dataset then a$'1' is customer with ID 1
</p>


<h3>Usage</h3>

<pre><code class='language-R'>id_to_CADF(data, today.study.cutoff)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="id_to_CADF_+3A_data">data</code></td>
<td>
<p>Transactional Data for one customerid</p>
</td></tr>
<tr><td><code id="id_to_CADF_+3A_today.study.cutoff">today.study.cutoff</code></td>
<td>
<p>Separate data an holdout</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Description here
</p>

<hr>
<h2 id='ld_sample_customer_matrix'>LD functions are utilized for learning and diagnostic use.</h2><span id='topic+ld_sample_customer_matrix'></span>

<h3>Description</h3>

<p>LD functions are utilized for learning and diagnostic use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ld_sample_customer_matrix(numCustomers, maxT, purchaseAtT0 = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ld_sample_customer_matrix_+3A_numcustomers">numCustomers</code></td>
<td>
<p>number of customers to simulate</p>
</td></tr>
<tr><td><code id="ld_sample_customer_matrix_+3A_maxt">maxT</code></td>
<td>
<p>number of timeperiods</p>
</td></tr>
<tr><td><code id="ld_sample_customer_matrix_+3A_purchaseatt0">purchaseAtT0</code></td>
<td>
<p>by default sets first column of matrix to 1</p>
</td></tr>
</table>

<hr>
<h2 id='ltv.transactions'>LTV transactions data</h2><span id='topic+ltv.transactions'></span>

<h3>Description</h3>

<p>LTV transactions data
</p>


<h3>Format</h3>

<p>data frame with 53,998 rows and 4 columns
</p>

<hr>
<h2 id='modeling.annualhalfing.likelihood'>Likelihood function for annual halfing model</h2><span id='topic+modeling.annualhalfing.likelihood'></span>

<h3>Description</h3>

<p>Likelihood function for annual halfing model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modeling.annualhalfing.likelihood(grid2, rec, freq, targetBuy)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modeling.annualhalfing.likelihood_+3A_grid2">grid2</code></td>
<td>
<p>Modeling parameters</p>
</td></tr>
<tr><td><code id="modeling.annualhalfing.likelihood_+3A_rec">rec</code></td>
<td>
<p>recency</p>
</td></tr>
<tr><td><code id="modeling.annualhalfing.likelihood_+3A_freq">freq</code></td>
<td>
<p>frequency</p>
</td></tr>
<tr><td><code id="modeling.annualhalfing.likelihood_+3A_targetbuy">targetBuy</code></td>
<td>
<p>indicator if purchase was made in holdout period</p>
</td></tr>
</table>

<hr>
<h2 id='modeling.LL.gamma_spend'>LL function for the gamma gamma spend model</h2><span id='topic+modeling.LL.gamma_spend'></span>

<h3>Description</h3>

<p>LL function for the gamma gamma spend model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modeling.LL.gamma_spend(p, q, gamma, y = data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modeling.LL.gamma_spend_+3A_p">p</code></td>
<td>
<p>p</p>
</td></tr>
<tr><td><code id="modeling.LL.gamma_spend_+3A_q">q</code></td>
<td>
<p>q</p>
</td></tr>
<tr><td><code id="modeling.LL.gamma_spend_+3A_gamma">gamma</code></td>
<td>
<p>gamma</p>
</td></tr>
<tr><td><code id="modeling.LL.gamma_spend_+3A_y">y</code></td>
<td>
<p>data</p>
</td></tr>
</table>

<hr>
<h2 id='pdf_gamma'>PDF probability function for gamma distribution</h2><span id='topic+pdf_gamma'></span>

<h3>Description</h3>

<p>PDF probability function for gamma distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdf_gamma(x, r, a)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pdf_gamma_+3A_x">x</code></td>
<td>
<p>between 0 and 1 for pdf</p>
</td></tr>
<tr><td><code id="pdf_gamma_+3A_r">r</code></td>
<td>
<p>shape parameter</p>
</td></tr>
<tr><td><code id="pdf_gamma_+3A_a">a</code></td>
<td>
<p>scale parameter</p>
</td></tr>
</table>

<hr>
<h2 id='pdf_gamma2'>Probability density function for gamma distribution</h2><span id='topic+pdf_gamma2'></span>

<h3>Description</h3>

<p>Probability density function for gamma distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdf_gamma2(x, shape, scale)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pdf_gamma2_+3A_x">x</code></td>
<td>
<p>x</p>
</td></tr>
<tr><td><code id="pdf_gamma2_+3A_shape">shape</code></td>
<td>
<p>shape parameter</p>
</td></tr>
<tr><td><code id="pdf_gamma2_+3A_scale">scale</code></td>
<td>
<p>scale parameter</p>
</td></tr>
</table>

<hr>
<h2 id='print.glossary'>The glossary for the CADF data format</h2><span id='topic+print.glossary'></span>

<h3>Description</h3>

<p>The glossary for the CADF data format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glossary'
print()
</code></pre>

<hr>
<h2 id='ps_to_T_custom'>Calculates T from a purchase string.  Custom.</h2><span id='topic+ps_to_T_custom'></span>

<h3>Description</h3>

<p>Calculates T from a purchase string.  Custom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ps_to_T_custom(ps, skips = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ps_to_T_custom_+3A_ps">ps</code></td>
<td>
<p>Purchase string.</p>
</td></tr>
<tr><td><code id="ps_to_T_custom_+3A_skips">skips</code></td>
<td>
<p>Number of non purchase periods that the customer is still considered a customer for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sum of <code>x</code> and <code>y</code>.
</p>

<hr>
<h2 id='ps_to_T_strict_quitter'>Calculates T from a purchase string</h2><span id='topic+ps_to_T_strict_quitter'></span>

<h3>Description</h3>

<p>Calculates T from a purchase string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ps_to_T_strict_quitter(ps)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ps_to_T_strict_quitter_+3A_ps">ps</code></td>
<td>
<p>Purchase string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sum of <code>x</code> and <code>y</code>.
</p>

<hr>
<h2 id='ps_to_T_strict_stayer'>Calculates T from a purchase string under the &quot;strict stayer&quot; assumption.</h2><span id='topic+ps_to_T_strict_stayer'></span>

<h3>Description</h3>

<p>Calculates T from a purchase string under the &quot;strict stayer&quot; assumption.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ps_to_T_strict_stayer(ps)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ps_to_T_strict_stayer_+3A_ps">ps</code></td>
<td>
<p>Purchase string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The numeric value for T, which is the position of the last 1 in the purchase string
</p>

<hr>
<h2 id='psmatrix_to_psstring'>psmatrix_to_psstring</h2><span id='topic+psmatrix_to_psstring'></span>

<h3>Description</h3>

<p>psmatrix_to_psstring
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psmatrix_to_psstring(psmatrix)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psmatrix_to_psstring_+3A_psmatrix">psmatrix</code></td>
<td>
<p>purchase string of 1's and 0's in matrix format</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cadf.data.sample[[4]]$purchase_string_as_matrix
</code></pre>

<hr>
<h2 id='psmatrix_to_recency_attimeof_matrix'>accepts a psmatrix
converts 1/0 purchase strings to recency at timeof</h2><span id='topic+psmatrix_to_recency_attimeof_matrix'></span>

<h3>Description</h3>

<p>accepts a psmatrix
converts 1/0 purchase strings to recency at timeof
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psmatrix_to_recency_attimeof_matrix(psmatrix)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psmatrix_to_recency_attimeof_matrix_+3A_psmatrix">psmatrix</code></td>
<td>
<p>a psmatrix</p>
</td></tr>
</table>

<hr>
<h2 id='qc_transactional_data'>The customer analytics data format (CADF) relays heavily on correct input data.
Transactional data must:
1.) be a data frame with two columns
2.) Column one is the customer id
3.) Column 2 is the transaction date.  Column 2 must be formatted as a date object in R.</h2><span id='topic+qc_transactional_data'></span>

<h3>Description</h3>

<p>The customer analytics data format (CADF) relays heavily on correct input data.
Transactional data must:
1.) be a data frame with two columns
2.) Column one is the customer id
3.) Column 2 is the transaction date.  Column 2 must be formatted as a date object in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qc_transactional_data(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qc_transactional_data_+3A_x">x</code></td>
<td>
<p>R dataframe representing ..</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A number representing whether it passes or not.
</p>

<hr>
<h2 id='segltv'>Segmentation and LTV data</h2><span id='topic+segltv'></span>

<h3>Description</h3>

<p>Segmentation and LTV data
</p>


<h3>Format</h3>

<p>A data frame with 53998 rows and 4 columns
</p>

<hr>
<h2 id='simple_migration'>Simple Migration</h2><span id='topic+simple_migration'></span>

<h3>Description</h3>

<p>Function used for simulation and scenario planning
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_migration(num.customers, pct.buy.buy, pct.nobuy.buy, n.periods)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simple_migration_+3A_num.customers">num.customers</code></td>
<td>
<p>Number of customers for the simulation.</p>
</td></tr>
<tr><td><code id="simple_migration_+3A_pct.buy.buy">pct.buy.buy</code></td>
<td>
<p>percentage of customers that buy in the nxt period</p>
</td></tr>
<tr><td><code id="simple_migration_+3A_pct.nobuy.buy">pct.nobuy.buy</code></td>
<td>
<p>percentage of non buyers that convert over to buyers</p>
</td></tr>
<tr><td><code id="simple_migration_+3A_n.periods">n.periods</code></td>
<td>
<p>number of periods</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>simple_migration(200, .80, .20, 12)

</code></pre>

<hr>
<h2 id='split.transaction.file_to_CADF'>Create a CADF dataset from a dataframe</h2><span id='topic+split.transaction.file_to_CADF'></span>

<h3>Description</h3>

<p>Create a CADF dataset from a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'transaction.file_to_CADF'
split(data, today.study.cutoff)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="split.transaction.file_to_CADF_+3A_data">data</code></td>
<td>
<p>data frame for a single customer id</p>
</td></tr>
<tr><td><code id="split.transaction.file_to_CADF_+3A_today.study.cutoff">today.study.cutoff</code></td>
<td>
<p>separate analysis and holdout data</p>
</td></tr>
</table>

<hr>
<h2 id='srm_data'>#' Simple retention model data</h2><span id='topic+srm_data'></span>

<h3>Description</h3>

<p>#' Simple retention model data
</p>


<h3>Format</h3>

<p>A data frame with 5828 rows and two columns
</p>

<dl>
<dt>bigT</dt><dd><p>Time period</p>
</dd>
<dt>cancel</dt><dd><p>Whether or not there was a cancellation in the time period</p>
</dd>
</dl>
<p>...

</p>

<hr>
<h2 id='srm_summaries'>SRM model data</h2><span id='topic+srm_summaries'></span>

<h3>Description</h3>

<p>SRM model data
</p>


<h3>Format</h3>

<p>Data frame with 22 rows and 3 columns
</p>

<hr>
<h2 id='stocks'>Stockmarket put/call data</h2><span id='topic+stocks'></span>

<h3>Description</h3>

<p>Stockmarket put/call data
</p>


<h3>Format</h3>

<p>A data frame with 770 rows and 20 columns
</p>

<hr>
<h2 id='transactions'>Transactions data</h2><span id='topic+transactions'></span>

<h3>Description</h3>

<p>Transactions data
</p>


<h3>Format</h3>

<p>data frame with 69659 rows and 4 columns
</p>

<hr>
<h2 id='transactions.merged'>#' Transaction data</h2><span id='topic+transactions.merged'></span>

<h3>Description</h3>

<p>#' Transaction data
</p>


<h3>Format</h3>

<p>A data frame with 67,944 rows and 4 columns
</p>

<dl>
<dt>ID</dt><dd><p>Customer ID</p>
</dd>
<dt>PURCHASE_DATE</dt><dd><p>Purchase date</p>
</dd>
<dt>NUM_ITEMS</dt><dd><p>Number of items purchased</p>
</dd>
<dt>TOTAL</dt><dd><p>Total transaction amount</p>
</dd>
</dl>
<p>...

</p>

<hr>
<h2 id='transitions'>Calculate transition periods between two timeperiods</h2><span id='topic+transitions'></span>

<h3>Description</h3>

<p>Calculate transition periods between two timeperiods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transitions(timeperiod0, timeperiod1, buyvar = "Y", nobuyvar = "N")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transitions_+3A_timeperiod0">timeperiod0</code></td>
<td>
<p>Column representing the 'from' side of the transition probability</p>
</td></tr>
<tr><td><code id="transitions_+3A_timeperiod1">timeperiod1</code></td>
<td>
<p>Column representing the 'to' side of the transition probability</p>
</td></tr>
<tr><td><code id="transitions_+3A_buyvar">buyvar</code></td>
<td>
<p>field value that represents a buy, defaults to Y</p>
</td></tr>
<tr><td><code id="transitions_+3A_nobuyvar">nobuyvar</code></td>
<td>
<p>field value that represents not buy, defaults to N</p>
</td></tr>
</table>


<h3>Value</h3>

<p>2 x 2 transaction matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>timeperiod0 &lt;- c("Y", "Y", "Y", "Y", "Y")
timeperiod1 &lt;- c("N", "Y", "N", "Y", "N")
transitions(timeperiod0, timeperiod1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ctrialsgov</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ctrialsgov}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cancer_studies'><p>Sample of Industry Cancer Trials from 2021</p></a></li>
<li><a href='#ctgov_create_data'><p>Initialize the connection</p></a></li>
<li><a href='#ctgov_gantt_labeller'><p>Create a Gantt Labeler for Timeline Tooltips</p></a></li>
<li><a href='#ctgov_kwic'><p>Keywords in Context</p></a></li>
<li><a href='#ctgov_load_cache'><p>Download and/or load cached data</p></a></li>
<li><a href='#ctgov_load_sample'><p>Load sample dataset</p></a></li>
<li><a href='#ctgov_plot_timeline'><p>Plot a Timeline for a Set of Clinical Trials</p></a></li>
<li><a href='#ctgov_query'><p>Query the ClinicalTrials.gov dataset</p></a></li>
<li><a href='#ctgov_query_terms'><p>Query the ClinicalTrials.gov dataset</p></a></li>
<li><a href='#ctgov_schema'><p>Get and Set the Default Schema</p></a></li>
<li><a href='#ctgov_text_similarity'><p>Similarity Matrix</p></a></li>
<li><a href='#ctgov_tfidf'><p>TF-IDF Keywords</p></a></li>
<li><a href='#ctgov_to_plotly'><p>Convert a ctrialsgov Visualization to Plotly</p></a></li>
<li><a href='#has_term'><p>Does a Term Appear in a Vector of Strings?</p></a></li>
<li><a href='#tbl_join_sample'><p>Sample Clinical Trials Dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Query Data from U.S. National Library of Medicine's Clinical
Trials Database</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.5</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Taylor Arnold &lt;tarnold2@richmond.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to create and query database from the U.S. National Library
  of Medicine's Clinical Trials database <a href="https://clinicaltrials.gov/">https://clinicaltrials.gov/</a>. Functions
  provide access a variety of techniques for searching the data using range
  queries, categorical filtering, and by searching for full-text keywords. 
  Minimal graphical tools are also provided for interactively exploring the
  constructed data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, utils, ggplot2, lubridate, plotly, purrr, rlang,
stringi, tibble, DBI, methods, Matrix, htmlwidgets</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat (&ge; 3.0.0), usethis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>bzip2</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-18 02:25:35 UTC; admin</td>
</tr>
<tr>
<td>Author:</td>
<td>Taylor Arnold <a href="https://orcid.org/0000-0003-0576-0669"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Auston Wei [aut],
  Michael J. Kane <a href="https://orcid.org/0000-0003-1899-6662"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-18 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cancer_studies'>Sample of Industry Cancer Trials from 2021</h2><span id='topic+cancer_studies'></span>

<h3>Description</h3>

<p>Cancer clinical trials based on a query where:
'study_type' is &quot;Interventional&quot;;
'sponsor_type' is &quot;Industry&quot;;
'date_range' is trials from 2021-01-01 or newer;
The 'description' includes the keyword &quot;cancer&quot;;
'phase' is reported (not NA);
'primary_purpose' is &quot;Treatment&quot;;
'minimum_enrollment' is 100.
</p>

<hr>
<h2 id='ctgov_create_data'>Initialize the connection</h2><span id='topic+ctgov_create_data'></span>

<h3>Description</h3>

<p>This function must be run prior to other functions in the package. It
creates a parsed and cached version of the clinical trials dataset in
memory in R. This makes other function calls relatively efficient. other
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_create_data(con, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_create_data_+3A_con">con</code></td>
<td>
<p>an DBI connection object to the database</p>
</td></tr>
<tr><td><code id="ctgov_create_data_+3A_verbose">verbose</code></td>
<td>
<p>logical flag; should progress messages be printed?;
defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>does not return any value; used only for side effects
</p>


<h3>Author(s)</h3>

<p>Taylor B. Arnold, <a href="mailto:taylor.arnold@acm.org">taylor.arnold@acm.org</a>
</p>

<hr>
<h2 id='ctgov_gantt_labeller'>Create a Gantt Labeler for Timeline Tooltips</h2><span id='topic+ctgov_gantt_labeller'></span>

<h3>Description</h3>

<p>Create a Gantt Labeler for Timeline Tooltips
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_gantt_labeller(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_gantt_labeller_+3A_x">x</code></td>
<td>
<p>the data.frame object returned from a query.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a string that can be used as a label in ggplotly
</p>

<hr>
<h2 id='ctgov_kwic'>Keywords in Context</h2><span id='topic+ctgov_kwic'></span>

<h3>Description</h3>

<p>Takes a keyword and vector of text and returns instances where the keyword
is found within the text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_kwic(
  term,
  text,
  names = NULL,
  n = Inf,
  ignore_case = TRUE,
  use_color = FALSE,
  width = 20L,
  output = c("cat", "character", "data.frame")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_kwic_+3A_term">term</code></td>
<td>
<p>search term as a string</p>
</td></tr>
<tr><td><code id="ctgov_kwic_+3A_text">text</code></td>
<td>
<p>vector of text to search</p>
</td></tr>
<tr><td><code id="ctgov_kwic_+3A_names">names</code></td>
<td>
<p>optional vector of names corresponding to the text</p>
</td></tr>
<tr><td><code id="ctgov_kwic_+3A_n">n</code></td>
<td>
<p>number of results to return; default is Inf</p>
</td></tr>
<tr><td><code id="ctgov_kwic_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should search ignore case? default is TRUE</p>
</td></tr>
<tr><td><code id="ctgov_kwic_+3A_use_color">use_color</code></td>
<td>
<p>printed results include ASCII color escape sequences;
these are set to <code>FALSE</code> because they only work
correctly when returned in the terminal</p>
</td></tr>
<tr><td><code id="ctgov_kwic_+3A_width">width</code></td>
<td>
<p>how many characters to show as context</p>
</td></tr>
<tr><td><code id="ctgov_kwic_+3A_output">output</code></td>
<td>
<p>what kind of output to provide; default prints the
results using <code>cat</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>either nothing, character vector, or data frame depending on the
the requested return type
</p>

<hr>
<h2 id='ctgov_load_cache'>Download and/or load cached data</h2><span id='topic+ctgov_load_cache'></span>

<h3>Description</h3>

<p>This function downloads a saved version of the full clinical trials dataset
from the package's development repository on GitHub (~150MB) and loads it
into R for querying. The data will be cached so that it can be re-loaded
without downloading. We try to update the cache frequently so this is a
convenient way of grabbing the data if you do not need the most up-to-date
version of the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_load_cache(force_download = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_load_cache_+3A_force_download">force_download</code></td>
<td>
<p>logical flag; should the cache be re-downloaded if
it already exists? defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>does not return any value; used only for side effects
</p>


<h3>Author(s)</h3>

<p>Taylor B. Arnold, <a href="mailto:taylor.arnold@acm.org">taylor.arnold@acm.org</a>
</p>

<hr>
<h2 id='ctgov_load_sample'>Load sample dataset</h2><span id='topic+ctgov_load_sample'></span>

<h3>Description</h3>

<p>This function loads a sample dataset for testing and prototyping purposes.
after running, all of the functions in the package can then be used with
this sample data. It consists of a 2.5
from ClinicalTrials.gov at the time of the package creation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_load_sample()
</code></pre>


<h3>Value</h3>

<p>does not return any value; used only for side effects
</p>


<h3>Author(s)</h3>

<p>Taylor B. Arnold, <a href="mailto:taylor.arnold@acm.org">taylor.arnold@acm.org</a>
</p>

<hr>
<h2 id='ctgov_plot_timeline'>Plot a Timeline for a Set of Clinical Trials</h2><span id='topic+ctgov_plot_timeline'></span>

<h3>Description</h3>

<p>Plot a Timeline for a Set of Clinical Trials
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_plot_timeline(
  x,
  start_date = "start_date",
  completion_date = "primary_completion_date",
  label_column = "nct_id",
  color = label_column,
  tooltip = ctgov_gantt_labeller(x)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_plot_timeline_+3A_x">x</code></td>
<td>
<p>the data.frame object returned from a query.</p>
</td></tr>
<tr><td><code id="ctgov_plot_timeline_+3A_start_date">start_date</code></td>
<td>
<p>the start date column name. (Default is &quot;start_date&quot;)</p>
</td></tr>
<tr><td><code id="ctgov_plot_timeline_+3A_completion_date">completion_date</code></td>
<td>
<p>the date the trial is set to be complete.
(Default &quot;primary_completion_date&quot;).
(Default is &quot;primary_completion_date&quot;)</p>
</td></tr>
<tr><td><code id="ctgov_plot_timeline_+3A_label_column">label_column</code></td>
<td>
<p>the column denoting the labels for the y-axis.
(Default is &quot;nct_id&quot;)</p>
</td></tr>
<tr><td><code id="ctgov_plot_timeline_+3A_color">color</code></td>
<td>
<p>the column to be used for coloring. (Default is label_column)</p>
</td></tr>
<tr><td><code id="ctgov_plot_timeline_+3A_tooltip">tooltip</code></td>
<td>
<p>the tooltips for each of trials.
(Default is 'ctgov_gantt_labeller(x)').</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>ctgov_gantt_labeller
</p>

<hr>
<h2 id='ctgov_query'>Query the ClinicalTrials.gov dataset</h2><span id='topic+ctgov_query'></span>

<h3>Description</h3>

<p>This function selects a subset of the clinical trials data by using a
a variety of different search parameters. These include free text search
keywords, range queries for the continuous variables, and exact matches for
categorical fields. The function <code>ctgov_query_terms</code> shows the
categorical levels for the latter. The function will either take the entire
dataset loaded into the package environment or a previously queried input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_query(
  data = NULL,
  description_kw = NULL,
  sponsor_kw = NULL,
  brief_title_kw = NULL,
  official_title_kw = NULL,
  criteria_kw = NULL,
  intervention_kw = NULL,
  intervention_desc_kw = NULL,
  outcome_kw = NULL,
  outcome_desc_kw = NULL,
  conditions_kw = NULL,
  population_kw = NULL,
  date_range = NULL,
  enrollment_range = NULL,
  minimum_age_range = NULL,
  maximum_age_range = NULL,
  study_type = NULL,
  allocation = NULL,
  intervention_model = NULL,
  observational_model = NULL,
  primary_purpose = NULL,
  time_perspective = NULL,
  masking_description = NULL,
  sampling_method = NULL,
  phase = NULL,
  gender = NULL,
  sponsor_type = NULL,
  ignore_case = TRUE,
  match_all = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_query_+3A_data">data</code></td>
<td>
<p>a dataset to search over; set to <code>NULL</code>
to use the full dataset that is currently
loaded</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_description_kw">description_kw</code></td>
<td>
<p>character vector of keywords to search in the
intervention description field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_sponsor_kw">sponsor_kw</code></td>
<td>
<p>character vector of keywords to search in the
sponsor (the company that submitted the study).
Set to <code>NULL</code> to avoid searching this
field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_brief_title_kw">brief_title_kw</code></td>
<td>
<p>character vector of keywords to search in the
brief title field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_official_title_kw">official_title_kw</code></td>
<td>
<p>character vector of keywords to search in the
official title field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_criteria_kw">criteria_kw</code></td>
<td>
<p>character vector of keywords to search in the
criteria field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_intervention_kw">intervention_kw</code></td>
<td>
<p>character vector of keywords to search in the
intervention names field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_intervention_desc_kw">intervention_desc_kw</code></td>
<td>
<p>character vector of keywords to search in the
intervention description field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_outcome_kw">outcome_kw</code></td>
<td>
<p>character vector of keywords to search in the
outcome measures field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_outcome_desc_kw">outcome_desc_kw</code></td>
<td>
<p>character vector of keywords to search in the
outcome description field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_conditions_kw">conditions_kw</code></td>
<td>
<p>character vector of keywords to search in the
conditions field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_population_kw">population_kw</code></td>
<td>
<p>character vector of keywords to search in the
population field. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_date_range">date_range</code></td>
<td>
<p>string of length two formatted as &quot;YYYY-MM-DD&quot;
describing the earliest and latest data to
include in the results. Use a missing value
for either value search all dates. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_enrollment_range">enrollment_range</code></td>
<td>
<p>numeric of length two describing the smallest
and largest enrollment sizes to
include in the results. Use a missing value
for either value to avoid filtering. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_minimum_age_range">minimum_age_range</code></td>
<td>
<p>numeric of length two describing the smallest
and largest minmum age (in years) to
include in the results. Use a missing value
for either value to avoid filtering. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_maximum_age_range">maximum_age_range</code></td>
<td>
<p>numeric of length two describing the smallest
and largest maximum age (in years) to
include in the results. Use a missing value
for either value to avoid filtering. Set to
<code>NULL</code> to avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_study_type">study_type</code></td>
<td>
<p>character vector of study types to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_allocation">allocation</code></td>
<td>
<p>character vector of allocations to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_intervention_model">intervention_model</code></td>
<td>
<p>character vector of interventions to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_observational_model">observational_model</code></td>
<td>
<p>character vector of observations to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_primary_purpose">primary_purpose</code></td>
<td>
<p>character vector of primary purposes to
include in the output. Set to <code>NULL</code> to
avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_time_perspective">time_perspective</code></td>
<td>
<p>character vector of time perspectives to
include in the output. Set to <code>NULL</code> to
avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_masking_description">masking_description</code></td>
<td>
<p>character vector of maskings to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_sampling_method">sampling_method</code></td>
<td>
<p>character vector of sampling methods to
include in the output. Set to <code>NULL</code> to
avoid searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_phase">phase</code></td>
<td>
<p>character vector of phases to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_gender">gender</code></td>
<td>
<p>character vector of genders to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_sponsor_type">sponsor_type</code></td>
<td>
<p>character vector of sponsor types to include
in the output. Set to <code>NULL</code> to avoid
searching this field.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_ignore_case">ignore_case</code></td>
<td>
<p>logical. Should the search ignore
capitalization. The default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="ctgov_query_+3A_match_all">match_all</code></td>
<td>
<p>logical. Should the results required matching
all the keywords? The default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble object queried from the loaded database
</p>


<h3>Author(s)</h3>

<p>Taylor B. Arnold, <a href="mailto:taylor.arnold@acm.org">taylor.arnold@acm.org</a>
</p>

<hr>
<h2 id='ctgov_query_terms'>Query the ClinicalTrials.gov dataset</h2><span id='topic+ctgov_query_terms'></span>

<h3>Description</h3>

<p>Returns a list showing the available category levels for querying the data
with the <code>ctgov_query</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_query_terms()
</code></pre>


<h3>Value</h3>

<p>a named list of allowed categorical values for the query
</p>

<hr>
<h2 id='ctgov_schema'>Get and Set the Default Schema</h2><span id='topic+ctgov_schema'></span><span id='topic+ctgov_get_schema'></span><span id='topic+ctgov_set_schema'></span>

<h3>Description</h3>

<p>This function sets the schema in which tables in which
the CT Trials tables reside.
</p>
<p>Get the current schema eiter of the following.
</p>
<p>ctgov_schema()
ctgov_get_schema()
</p>
<p>Set the current schema with the following.
</p>
<p>ctgov_schema(&lt;SCHEMA NAME&gt;)
ctgov_set_schema(&lt;SCHEMA NAME&gt;)
</p>
<p>A return of &quot;&quot; from the get functions indicates a schema is not specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_schema(schema = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_schema_+3A_schema">schema</code></td>
<td>
<p>the name of the schema. (Default is NULL - None)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>no return value; used for side effects
</p>

<hr>
<h2 id='ctgov_text_similarity'>Similarity Matrix</h2><span id='topic+ctgov_text_similarity'></span>

<h3>Description</h3>

<p>Takes one or more vectors of text and returns a similarity matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_text_similarity(
  ...,
  max_terms = 10000,
  tolower = TRUE,
  min_df = 0,
  max_df = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_text_similarity_+3A_...">...</code></td>
<td>
<p>one or more vectors of text to search; must all be the
same length</p>
</td></tr>
<tr><td><code id="ctgov_text_similarity_+3A_max_terms">max_terms</code></td>
<td>
<p>maximum number of terms to consider for keywords</p>
</td></tr>
<tr><td><code id="ctgov_text_similarity_+3A_tolower">tolower</code></td>
<td>
<p>should keywords respect the case of the raw terms</p>
</td></tr>
<tr><td><code id="ctgov_text_similarity_+3A_min_df">min_df</code></td>
<td>
<p>minimum proportion of documents that a term should
be present in to be included in the keywords</p>
</td></tr>
<tr><td><code id="ctgov_text_similarity_+3A_max_df">max_df</code></td>
<td>
<p>maximum proportion of documents that a term should
be present in to be included in the keywords</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a distance matrix
</p>

<hr>
<h2 id='ctgov_tfidf'>TF-IDF Keywords</h2><span id='topic+ctgov_tfidf'></span>

<h3>Description</h3>

<p>Takes one or more vectors of text and returns a vector of keywords.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_tfidf(
  ...,
  max_terms = 10000,
  tolower = TRUE,
  nterms = 5L,
  min_df = 0,
  max_df = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_tfidf_+3A_...">...</code></td>
<td>
<p>one or more vectors of text to search; must all be the
same length</p>
</td></tr>
<tr><td><code id="ctgov_tfidf_+3A_max_terms">max_terms</code></td>
<td>
<p>maximum number of terms to consider for keywords</p>
</td></tr>
<tr><td><code id="ctgov_tfidf_+3A_tolower">tolower</code></td>
<td>
<p>should keywords respect the case of the raw terms</p>
</td></tr>
<tr><td><code id="ctgov_tfidf_+3A_nterms">nterms</code></td>
<td>
<p>number of keyord terms to include</p>
</td></tr>
<tr><td><code id="ctgov_tfidf_+3A_min_df">min_df</code></td>
<td>
<p>minimum proportion of documents that a term should
be present in to be included in the keywords</p>
</td></tr>
<tr><td><code id="ctgov_tfidf_+3A_max_df">max_df</code></td>
<td>
<p>maximum proportion of documents that a term should
be present in to be included in the keywords</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of detected keywords
</p>

<hr>
<h2 id='ctgov_to_plotly'>Convert a ctrialsgov Visualization to Plotly</h2><span id='topic+ctgov_to_plotly'></span>

<h3>Description</h3>

<p>Convert a ctrialsgov Visualization to Plotly
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctgov_to_plotly(p, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ctgov_to_plotly_+3A_p">p</code></td>
<td>
<p>the plot returned by 'ctgov_plot_timeline()'.</p>
</td></tr>
<tr><td><code id="ctgov_to_plotly_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Plotly object
</p>

<hr>
<h2 id='has_term'>Does a Term Appear in a Vector of Strings?</h2><span id='topic+has_term'></span>

<h3>Description</h3>

<p>Does a Term Appear in a Vector of Strings?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_term(s, pattern, ignore_case = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_term_+3A_s">s</code></td>
<td>
<p>the vector of strings.</p>
</td></tr>
<tr><td><code id="has_term_+3A_pattern">pattern</code></td>
<td>
<p>the pattern to search for.</p>
</td></tr>
<tr><td><code id="has_term_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should the case be ignored? Default TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single logical value
</p>

<hr>
<h2 id='tbl_join_sample'>Sample Clinical Trials Dataset</h2><span id='topic+tbl_join_sample'></span>

<h3>Description</h3>

<p>Data frame containing a 2.5 percent random sample of clinical trials.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

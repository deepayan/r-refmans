<!DOCTYPE html><html><head><title>Help for package IETD</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {IETD}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AAEA'><p>Average annual number of events analysis</p></a></li>
<li><a href='#AutoA'><p>Autocorrelation analysis</p></a></li>
<li><a href='#CVA'><p>Coefficient of variation analysis</p></a></li>
<li><a href='#drawre'><p>Extraction of independent rainfall events from a sub-daily time series</p></a></li>
<li><a href='#five_minute_time_series'><p>5-min rainfall time series</p></a></li>
<li><a href='#hourly_time_series'><p>Hourly rainfall time series</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Inter-Event Time Definition</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Luis F. Duque &lt;lfduquey@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Luis F. Duque &lt;lfduquey@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Computes characteristics of independent rainfall events (duration, total rainfall depth, and intensity) 
  extracted from a sub-daily rainfall time series based on the inter-event time definition (IETD) method. To have a 
  reference value of IETD, it also analyzes/computes IETD values through three methods: autocorrelation analysis, the 
  average annual number of events analysis, and coefficient of variation analysis. Ideal for analyzing the sensitivity 
  of IETD to characteristics of independent rainfall events.
  Adams B, Papa F (2000) &lt;ISBN: 978-0-471-33217-6&gt;.
  Joo J et al. (2014) &lt;<a href="https://doi.org/10.3390%2Fw6010045">doi:10.3390/w6010045</a>&gt;.
  Restrepo-Posada P, Eagleson P (1982) &lt;<a href="https://doi.org/10.1016%2F0022-1694%2882%2990136-6">doi:10.1016/0022-1694(82)90136-6</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rdpack,foreach,parallel,doParallel,ggplot2,dplyr,lubridate,stats</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-03-03 09:21:37 UTC; ASUS</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-03-10 08:50:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='AAEA'>Average annual number of events analysis</h2><span id='topic+AAEA'></span>

<h3>Description</h3>

<p>This function provides the required figure to define the inter-event time definition (IETD) based on
the average annual number of events analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AAEA(Time_series,MaxIETD,xlabel,ylabel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AAEA_+3A_time_series">Time_series</code></td>
<td>
<p>A dataframe. The first column contains the time and day of a rainfall pulse and the second one the depth
of rainfall in each time step. The date must be as POSIXct class.</p>
</td></tr>
<tr><td><code id="AAEA_+3A_maxietd">MaxIETD</code></td>
<td>
<p>The maximum value of IETD to be analyzed (in hours). Default value 24.</p>
</td></tr>
<tr><td><code id="AAEA_+3A_xlabel">xlabel</code></td>
<td>
<p>Label of the x-axis.</p>
</td></tr>
<tr><td><code id="AAEA_+3A_ylabel">ylabel</code></td>
<td>
<p>Label of the y-axis.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This analysis is based on the computation of the average annual number of events (AAE) for several IETD values, the appropriate value
of IETD is determined as the point where increasing IETD does not change AAE significantly (Joo et al. 2014; Adams and Papa 2000).
The analyst, thus, uses the plot of IETD vs AAE to define that value.
</p>


<h3>Value</h3>

<p>A list with the figure of IETD (in hours) vs AAE and a dataframe with its values.
</p>


<h3>Note</h3>

<p>To review the concept of IETD, go to the details of  <code><a href="#topic+drawre">drawre</a></code> function.
</p>


<h3>Author(s)</h3>

<p>Luis F. Duque &lt;lfduquey@gmail.com&gt; &lt;l.f.duque-yaguache2@newcastle.ac.uk&gt;
</p>


<h3>References</h3>

<p>Adams BJ, Papa F (2000).
<em>Urban Storm water Management Planning with Analytical Probabilistic Models</em>.
John Wiley and Sons, New York, NY.
ISBN 0-471-35641-7.<br /><br /> Joo J, Lee J, Kim JH, Jun H, Jo D (2014).
&ldquo;Inter-event time definition setting procedure for urban drainage systems.&rdquo;
<em>Water (Switzerland)</em>.
ISSN 20734441, doi: <a href="https://doi.org/10.3390/w6010045">10.3390/w6010045</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>AAEA(Time_series=hourly_time_series)
</code></pre>

<hr>
<h2 id='AutoA'>Autocorrelation analysis</h2><span id='topic+AutoA'></span>

<h3>Description</h3>

<p>This function provides the required figure (an autocorrelogram) to define the inter-event time definition (IETD) based on
the autocorrelation analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AutoA(Time_series,MaxLag,CL,xlabel,ylabel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AutoA_+3A_time_series">Time_series</code></td>
<td>
<p>A dataframe. The first column contains the time and day of a rainfall pulse and the second one the depth
of rainfall in each time step. The date must be as POSIXct class.</p>
</td></tr>
<tr><td><code id="AutoA_+3A_maxlag">MaxLag</code></td>
<td>
<p>The maximum lag time to be analyzed (in hours). Default value 24.</p>
</td></tr>
<tr><td><code id="AutoA_+3A_cl">CL</code></td>
<td>
<p>The confidence level of the autocorrelation function (ACF)(in percentage). Default value 95%.</p>
</td></tr>
<tr><td><code id="AutoA_+3A_xlabel">xlabel</code></td>
<td>
<p>Label of the x-axis of the autocorrelogram.</p>
</td></tr>
<tr><td><code id="AutoA_+3A_ylabel">ylabel</code></td>
<td>
<p>Label of the y-axis of the autocorrelogram.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>IETD is here defined as the lag time where the autocorrelation coefficient of
rain pulses, i.e., the autocorrelation function(ACF), converges to zero (Joo et al. 2014; Adams and Papa 2000). The
analyst uses an autocorrelogram to define that value within a specific level of tolerance. This function is
based on the function <code><a href="stats.html#topic+acf">acf</a></code> of the <code><a href="stats.html#topic+stats">stats</a></code> package.
</p>


<h3>Value</h3>

<p>A list with a figure of lag time (in hours) vs ACF, i.e., an autocorrelogram, and a dataframe with its values.
</p>


<h3>Note</h3>

<p>To review the concept of IETD, go to the details of  <code><a href="#topic+drawre">drawre</a></code> function.
</p>


<h3>Author(s)</h3>

<p>Luis F. Duque &lt;lfduquey@gmail.com&gt; &lt;l.f.duque-yaguache2@newcastle.ac.uk&gt;
</p>


<h3>References</h3>

<p>Adams BJ, Papa F (2000).
<em>Urban Storm water Management Planning with Analytical Probabilistic Models</em>.
John Wiley and Sons, New York, NY.
ISBN 0-471-35641-7.<br /><br /> Joo J, Lee J, Kim JH, Jun H, Jo D (2014).
&ldquo;Inter-event time definition setting procedure for urban drainage systems.&rdquo;
<em>Water (Switzerland)</em>.
ISSN 20734441, doi: <a href="https://doi.org/10.3390/w6010045">10.3390/w6010045</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>AutoA(Time_series=hourly_time_series)
</code></pre>

<hr>
<h2 id='CVA'>Coefficient of variation analysis</h2><span id='topic+CVA'></span>

<h3>Description</h3>

<p>This function computes the inter-event time definition (IETD) based on the coefficient of variation analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CVA(Time_series,MaxIETD,xlabel,ylabel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CVA_+3A_time_series">Time_series</code></td>
<td>
<p>A dataframe. The first column contains the time and day of a rainfall pulse and the second one the depth
of rainfall in each time step. The date must be as POSIXct class.</p>
</td></tr>
<tr><td><code id="CVA_+3A_maxietd">MaxIETD</code></td>
<td>
<p>The maximum value of IETD to be analyzed (in hours). Default value 24.</p>
</td></tr>
<tr><td><code id="CVA_+3A_xlabel">xlabel</code></td>
<td>
<p>Label of the x-axis of the figure IETD vs CV.</p>
</td></tr>
<tr><td><code id="CVA_+3A_ylabel">ylabel</code></td>
<td>
<p>Label of the y-axis of the figure IETD vs CV.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method assumes that inter-event times (b) are represented well by a exponential distribution. Since
by definition b&gt;= IETD, IETD is computed as the value whose resulting coefficient of variation (CV) of b equal to unity (Restrepo-Posada and Eagleson 1982; Adams and Papa 2000).
This analysis is done by testing several values of IETD and analyzing the resulting CV. The computed IETD is obtained via interpolation from the figure of
IETD vs CV.
</p>


<h3>Value</h3>

<p>A list with a figure of IETD vs CV, a dataframe with the values of that figure, and the computed value of IETD.
</p>


<h3>Note</h3>

<p>To review the concepts of b and IETD, go to the details of  <code><a href="#topic+drawre">drawre</a></code> function.
</p>


<h3>Author(s)</h3>

<p>Luis F. Duque &lt;lfduquey@gmail.com&gt; &lt;l.f.duque-yaguache2@newcastle.ac.uk&gt;
</p>


<h3>References</h3>

<p>Adams BJ, Papa F (2000).
<em>Urban Storm water Management Planning with Analytical Probabilistic Models</em>.
John Wiley and Sons, New York, NY.
ISBN 0-471-35641-7.<br /><br /> Restrepo-Posada PJ, Eagleson PS (1982).
&ldquo;Identification of independent rainstorms.&rdquo;
<em>Journal of Hydrology</em>.
ISSN 00221694, doi: <a href="https://doi.org/10.1016/0022-1694(82)90136-6">10.1016/0022-1694(82)90136-6</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>CVA (Time_series=hourly_time_series)
</code></pre>

<hr>
<h2 id='drawre'>Extraction of independent rainfall events from a sub-daily time series</h2><span id='topic+drawre'></span>

<h3>Description</h3>

<p>This function draws rainfall events from a sub-daily rainfall time series based on the inter-event
time definition (IETD) method and computes the event characteristics such as duration, total rainfall depth, and
intensity. The function allows slight rainfall events to be characterized, which are, in turn, not considered in
the extraction of rainfall events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drawre(Time_series,IETD,Thres)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drawre_+3A_time_series">Time_series</code></td>
<td>
<p>A dataframe. The first column contains the time and day of a rainfall pulse and the second one the depth
of rainfall in each time step. The date must be as POSIXct class.</p>
</td></tr>
<tr><td><code id="drawre_+3A_ietd">IETD</code></td>
<td>
<p>The minimum rainless period or dry period (hours) to be considered between two independent rainfall events.</p>
</td></tr>
<tr><td><code id="drawre_+3A_thres">Thres</code></td>
<td>
<p>A rainfall depth threshold to define slight rainfall events (default value 0.5).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>IETD is defined as the minimum dry or rainless period between two independent events. This time interval is
applied to a continuous time series: if two groups of consecutive pulses of rainfall are separated by a rainless period
longer than or equal to IETD, they are considered as two independent rainfall events; otherwise, these two groups are categorized
as belonging to the same event (Restrepo-Posada and Eagleson 1982; Adams and Papa 2000). A rainless period between two independent
events is known as inter-event time (b) and by definition b&gt;= IETD. A rainfall event whose rainfall pulses are lower than the
threshold Thres is characterized as a slight rainfall event.
</p>


<h3>Value</h3>

<p>A list with a dataframe, named Rainfall_Characteristics, and a sublist, named Rainfall_Events, is provided.
Rainfall_Characteristics contains the main information of each extracted rainfall event such as event number,
the beginning and end of the event, duration (in hours), total rainfall depth, and average intensity (total rainfall depth/duration).
Rainfall_Events contains several dataframes with the values of rainfall pulses of each extracted rainfall event.
The first dataframe in Rainfall_Events corresponds to the first event in Rainfall_Characteristics, the second
dataframe in Rainfall_Events corresponds to the second event in Rainfall_Characteristics, and so on.
</p>


<h3>Note</h3>

<p>This function does not accept missing values in the sub-daily rainfall time series.
</p>


<h3>Author(s)</h3>

<p>Luis F. Duque &lt;lfduquey@gmail.com&gt; &lt;l.f.duque-yaguache2@newcastle.ac.uk&gt;
</p>


<h3>References</h3>

<p>Adams BJ, Papa F (2000).
<em>Urban Storm water Management Planning with Analytical Probabilistic Models</em>.
John Wiley and Sons, New York, NY.
ISBN 0-471-35641-7.<br /><br /> Restrepo-Posada PJ, Eagleson PS (1982).
&ldquo;Identification of independent rainstorms.&rdquo;
<em>Journal of Hydrology</em>.
ISSN 00221694, doi: <a href="https://doi.org/10.1016/0022-1694(82)90136-6">10.1016/0022-1694(82)90136-6</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>drawre(Time_series=hourly_time_series,IETD=5,Thres=0.5)
</code></pre>

<hr>
<h2 id='five_minute_time_series'>5-min rainfall time series</h2><span id='topic+five_minute_time_series'></span>

<h3>Description</h3>

<p>An artificial 5-min rainfall dataset to test the functions of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>five_minute_time_series
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>Date</dt><dd><p>The time and day of the rainfall pulse</p>
</dd>
<dt>Rainfall.depth</dt><dd><p>The depth of rainfall in each time step</p>
</dd>
</dl>


<h3>Source</h3>

<p>Artificial data, it does not come from any source.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 five_minute_time_series

## End(Not run)
</code></pre>

<hr>
<h2 id='hourly_time_series'>Hourly rainfall time series</h2><span id='topic+hourly_time_series'></span>

<h3>Description</h3>

<p>An artificial hourly rainfall dataset to test the functions of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hourly_time_series
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>Date</dt><dd><p>The time and day of the rainfall pulse</p>
</dd>
<dt>Rainfall.depth</dt><dd><p>The depth of rainfall in each time step</p>
</dd>
</dl>


<h3>Source</h3>

<p>Artificial data, it does not come from any source.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 hourly_time_series

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

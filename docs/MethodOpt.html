<!DOCTYPE html><html lang="en"><head><title>Help for package MethodOpt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MethodOpt}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#anovaben'><p>Computes ANOVA test</p></a></li>
<li><a href='#area'><p>Computes areas of peaks</p></a></li>
<li><a href='#blc'><p>Baseline correction</p></a></li>
<li><a href='#gauss'><p>Generate a Gaussian fit</p></a></li>
<li><a href='#MethodOpt'><p>Method optimization GUI</p></a></li>
<li><a href='#opt'><p>Optimization algorithm</p></a></li>
<li><a href='#peaks'><p>Peak searching algorithm without retention times</p></a></li>
<li><a href='#peaks_rts'><p>peak calculations with retention times</p></a></li>
<li><a href='#widths'><p>Calculate widths</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Advanced Method Optimization for Spectra-Generating Sampling and
Analysis Instrumentation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A graphical user interface to apply an advanced method optimization algorithm to various sampling and analysis instruments. This includes generating experimental designs, uploading and viewing data, and performing various analyses to determine the optimal method. Details of the techniques used in this package are published in Gamble, Granger, &amp; Mannion (2024) &lt;<a href="https://doi.org/10.1021%2Facs.analchem.3c05763">doi:10.1021/acs.analchem.3c05763</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>magrittr (&ge; 2.0.3)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny (&ge; 1.7.5.1), shinyFeedback (&ge; 0.4.0), shinyalert (&ge;
3.0.0), htmltools (&ge; 0.5.8.1), FrF2 (&ge; 2.3.3), DT (&ge; 0.30),
ggplot2 (&ge; 3.4.4), stats (&ge; 4.3.2), dplyr (&ge; 1.1.3), shinyjs
(&ge; 2.1.0), tibble (&ge; 3.2.1), glue (&ge; 1.6.2), rlang (&ge;
1.1.2), DoE.wrapper (&ge; 0.12), gtools (&ge; 3.9.5), zip (&ge;
2.3.0), zoo (&ge; 1.8.12), purrr (&ge; 1.0.2), shinyBS (&ge; 0.61.1)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-25 13:09:40 UTC; k9638</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin Luke [aut],
  Stephanie Gamble [aut, cre],
  Battelle Savannah River Alliance [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stephanie Gamble &lt;stephanie.gamble@srnl.doe.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-30 09:50:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='anovaben'>Computes ANOVA test</h2><span id='topic+anovaben'></span>

<h3>Description</h3>

<p>Runs an ANOVA test for any variables that were selected by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>anovaben(objectives, data, ffd, obj_results, alpha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="anovaben_+3A_objectives">objectives</code></td>
<td>
<p>User selected objectives.</p>
</td></tr>
<tr><td><code id="anovaben_+3A_data">data</code></td>
<td>
<p>Peak information (all times, heights, etc.).</p>
</td></tr>
<tr><td><code id="anovaben_+3A_ffd">ffd</code></td>
<td>
<p>Fractional factorial design</p>
</td></tr>
<tr><td><code id="anovaben_+3A_obj_results">obj_results</code></td>
<td>
<p>Calculated objectives.</p>
</td></tr>
<tr><td><code id="anovaben_+3A_alpha">alpha</code></td>
<td>
<p>Alpha value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing the results of ANOVA on the data from the FFD
(including p-values and which parameters are significant), the suggested
changes to add a level for a BBD, suggested values for the BBD, row indices
for the results, and the data frame of the FFD with objective results included
</p>

<hr>
<h2 id='area'>Computes areas of peaks</h2><span id='topic+area'></span>

<h3>Description</h3>

<p>Computes the areas beneath the specified maxima.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>area(data, hts, tms)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="area_+3A_data">data</code></td>
<td>
<p>dataframe of time versus intensity.</p>
</td></tr>
<tr><td><code id="area_+3A_hts">hts</code></td>
<td>
<p>heights of peaks in chronological order.</p>
</td></tr>
<tr><td><code id="area_+3A_tms">tms</code></td>
<td>
<p>time locations of peaks in chronological order.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>area for each peak
</p>

<hr>
<h2 id='blc'>Baseline correction</h2><span id='topic+blc'></span>

<h3>Description</h3>

<p>Generates the baseline of the spectra, interpolates between points, and subtracts from the intensity to generate corrected baseline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blc(frame, noise = 10^5, subtract = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="blc_+3A_frame">frame</code></td>
<td>
<p>data frame of time versus intensity.</p>
</td></tr>
<tr><td><code id="blc_+3A_noise">noise</code></td>
<td>
<p>strength of the baseline subtraction.</p>
</td></tr>
<tr><td><code id="blc_+3A_subtract">subtract</code></td>
<td>
<p>how much intensity to initially subtract.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame of of data that has been baseline corrected
</p>

<hr>
<h2 id='gauss'>Generate a Gaussian fit</h2><span id='topic+gauss'></span>

<h3>Description</h3>

<p>Generate a Gaussian fit with given parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gauss(a, b, c, t)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gauss_+3A_a">a</code></td>
<td>
<p>amplitute.</p>
</td></tr>
<tr><td><code id="gauss_+3A_b">b</code></td>
<td>
<p>phase shift.</p>
</td></tr>
<tr><td><code id="gauss_+3A_c">c</code></td>
<td>
<p>standard deviation.</p>
</td></tr>
<tr><td><code id="gauss_+3A_t">t</code></td>
<td>
<p>time at which to fit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>value of Gaussian function
</p>

<hr>
<h2 id='MethodOpt'>Method optimization GUI</h2><span id='topic+MethodOpt'></span>

<h3>Description</h3>

<p>'MethodOpt()' runs the GUI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MethodOpt()
</code></pre>


<h3>Details</h3>

<p>No arguments are needed to initiate the GUI. 'MethodOpt()' is split into three main tabs.
</p>


<h3>Value</h3>

<p>No return value, opens and runs the GUI
</p>


<h3>Fractional factorial design</h3>

<p>The first step in method optimization is to build an experimental design. Hence,
the first tab of the GUI is dedicated to designing a fractional factorial experimental design.
Parameters are input with their corresponding low and high values. Pressing &quot;Generate FFD&quot; will
yield the experimental design. The user will run experiments according to each method.
</p>


<h3>ANOVA</h3>

<p>The second step in method optimization is to run an ANOVA test. This is carried out
under the &quot;Analysis&quot; tab. Raw experimental screening data is uploaded, and the spectra
can be viewed. In subtabs, the spectra peaks must be identified (either by an uploaded retention time
file or by a built-in identification algorithm), objectives must be selected, and the initial
experimental design must be uploaded; then the ANOVA test may be run.
Statistically significant parameters are indicated.
</p>


<h3>Box-Behnken design</h3>

<p>The third step is to generate a three-level Box-Behnken experimental design with the
significant parameters. Low, middle, and high values are input with their corresponding
parameters. The design can be generated by pressing &quot;Generate BBD.&quot;
</p>


<h3>Optimization</h3>

<p>The final step is to run the optimization with the results of the Box-Behnken design.
Similarly to the second step, raw data is uploaded in the &quot;Analysis&quot; tab. Spectra peaks
must be identified, objectives
must be selected, and the experimental design must be uploaded; then the optimal
values can be calculated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Please see the vignette for the MethodOpt package for a full example of how
# to use the GUI launched by MethodOpt::MethodOpt().

</code></pre>

<hr>
<h2 id='opt'>Optimization algorithm</h2><span id='topic+opt'></span>

<h3>Description</h3>

<p>Calculate the optimal parameter values for given objectives.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt(objectives, bbd, results, lim_fac, valid_range_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_+3A_objectives">objectives</code></td>
<td>
<p>objectives input by user.</p>
</td></tr>
<tr><td><code id="opt_+3A_bbd">bbd</code></td>
<td>
<p>Box-Behnken design.</p>
</td></tr>
<tr><td><code id="opt_+3A_results">results</code></td>
<td>
<p>objective results.</p>
</td></tr>
<tr><td><code id="opt_+3A_lim_fac">lim_fac</code></td>
<td>
<p>limiting factors.</p>
</td></tr>
<tr><td><code id="opt_+3A_valid_range_data">valid_range_data</code></td>
<td>
<p>ranges of validity corresponding to the limiting factors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing the parameters which cannot be set to the unbounded
solution, the maximum value of the objectives, and the unbounded parameter
solutions
</p>

<hr>
<h2 id='peaks'>Peak searching algorithm without retention times</h2><span id='topic+peaks'></span>

<h3>Description</h3>

<p>Returns the maxima, the times they occur at, the index location of the maxima, and the next viable peaks with times after the first 'keep'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>peaks(
  data,
  begin_search = NULL,
  end_search = NULL,
  keep = 11,
  precision = 15,
  factor = 10,
  bl_noise = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="peaks_+3A_data">data</code></td>
<td>
<p>time versus intensity dataframe.</p>
</td></tr>
<tr><td><code id="peaks_+3A_begin_search">begin_search</code></td>
<td>
<p>time at which to start the search for the peaks.</p>
</td></tr>
<tr><td><code id="peaks_+3A_end_search">end_search</code></td>
<td>
<p>time at which to stop the search for the peaks.</p>
</td></tr>
<tr><td><code id="peaks_+3A_keep">keep</code></td>
<td>
<p>a whole number indicating how many peaks to search for and return.</p>
</td></tr>
<tr><td><code id="peaks_+3A_precision">precision</code></td>
<td>
<p>an integer indicating the size of the window for searching for local maxima.</p>
</td></tr>
<tr><td><code id="peaks_+3A_factor">factor</code></td>
<td>
<p>constant of proportionality indicating the cutoff peak height (i.e., peaks greater than 'factor' times height are not returned as viable peaks).</p>
</td></tr>
<tr><td><code id="peaks_+3A_bl_noise">bl_noise</code></td>
<td>
<p>constant level at which response should be considered as noise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing spectra maxima,the times they occur at, the index
location of the maxima, and the the same info for the next viable peaks with
times after the first 'keep'.
</p>

<hr>
<h2 id='peaks_rts'>peak calculations with retention times</h2><span id='topic+peaks_rts'></span>

<h3>Description</h3>

<p>Locate the maxima of the peaks corresponding to the retention times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>peaks_rts(raw_data, retention_times, rt_index, bl_noise = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="peaks_rts_+3A_raw_data">raw_data</code></td>
<td>
<p>time versus intensity dataframe.</p>
</td></tr>
<tr><td><code id="peaks_rts_+3A_retention_times">retention_times</code></td>
<td>
<p>retention time file.</p>
</td></tr>
<tr><td><code id="peaks_rts_+3A_rt_index">rt_index</code></td>
<td>
<p>which method to evaluate for.</p>
</td></tr>
<tr><td><code id="peaks_rts_+3A_bl_noise">bl_noise</code></td>
<td>
<p>constant level at which response should be considered as noise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing the peaks' heights, times where they occur, the full
data TIC, full time index, and the peaks' widths
</p>

<hr>
<h2 id='widths'>Calculate widths</h2><span id='topic+widths'></span>

<h3>Description</h3>

<p>Calculate the widths (standard deviation) for each identified peak.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>widths(data, hts, tms)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="widths_+3A_data">data</code></td>
<td>
<p>time versus intensity dataframe.</p>
</td></tr>
<tr><td><code id="widths_+3A_hts">hts</code></td>
<td>
<p>heights of peaks.</p>
</td></tr>
<tr><td><code id="widths_+3A_tms">tms</code></td>
<td>
<p>times of peaks.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>width for each peak
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package optimLanduse</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {optimLanduse}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#autoSearch'><p>Optimize all possible indicator combinations</p></a></li>
<li><a href='#calcPerformance'><p>Attach portfolio performance and distance to target</p></a></li>
<li><a href='#dataPreparation'><p>Transform data into the expected format</p></a></li>
<li><a href='#exampleData'><p>Exemplary data in the required format</p></a></li>
<li><a href='#initScenario'><p>Initialize the robust optimization</p></a></li>
<li><a href='#solveScenario'><p>Perform the optimization</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Robust Land-Use Optimization</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Robust multi-criteria land-allocation optimization that explicitly accounts for the uncertainty of the indicators in the objective function. Solves the problem of allocating scarce land to various land-use options with regard to multiple, coequal indicators. The method aims to find the land allocation that represents the indicator composition with the best possible trade-off under uncertainty. optimLanduse includes the actual optimization procedure as described by Knoke et al. (2016) &lt;<a href="https://doi.org/10.1038%2Fncomms11877">doi:10.1038/ncomms11877</a>&gt; and the post-hoc calculation of the portfolio performance as presented by Gosling et al. (2020) &lt;<a href="https://doi.org/10.1016%2Fj.jenvman.2020.110248">doi:10.1016/j.jenvman.2020.110248</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>lpSolveAPI (&ge; 5.5.2.0-17.7), tidyr (&ge; 1.1.2), dplyr (&ge;
1.0.0), future (&ge; 1.28.0), future.apply (&ge; 1.9.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>readxl, ggplot2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Forest-Economics-Goettingen/optimLanduse/">https://github.com/Forest-Economics-Goettingen/optimLanduse/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-21 14:59:14 UTC; khusman1</td>
</tr>
<tr>
<td>Author:</td>
<td>Kai Husmann <a href="https://orcid.org/0000-0003-2970-4709"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Volker von Groß <a href="https://orcid.org/0000-0001-7372-0066"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Jasper Fuchs <a href="https://orcid.org/0000-0001-5951-7897"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Kai Bödeker <a href="https://orcid.org/0000-0002-5307-5108"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Carola Paul <a href="https://orcid.org/0000-0002-6257-2026"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Thomas Knoke <a href="https://orcid.org/0000-0003-0535-5946"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Goettingen University - Forest Economics and Sustainable Land-use
    Planning [cph, fnd],
  TUM School of Life Sciences - Forest Management [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kai Husmann &lt;kai.husmann@uni-goettingen.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-21 15:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='autoSearch'>Optimize all possible indicator combinations</h2><span id='topic+autoSearch'></span>

<h3>Description</h3>

<p>This iterative search function generates a list of all possible indicator combinations.
All indicator combinations are converted into a list format, where each
combination corresponds to a list entry. For each of these list entries, an
optimization is performed using the <em>initScenario</em> and
<em>solveScenario</em> functions of the package. How these functions work
in detail (incl. example code) can be seen in the help of the respective
function in the package and the README from Husmann et al. (2022).
The results are entirely saved into the respective list entry. In addition, each entry is
appended with the currently observed land-use portfolio and the land-use
portfolio when all indicators are optimized together. Out of this list, we
use the Bray-Curtis measure of dissimilarity to identify the indicators driving current
land-use decisions. An example and further explanation is given in the README
<a href="https://github.com/Forest-Economics-Goettingen/optimLanduse/">GitHub project page</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>autoSearch(
  coefTable,
  landUseObs,
  uValue = 1,
  optimisticRule = "expectation",
  fixDistance = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoSearch_+3A_coeftable">coefTable</code></td>
<td>
<p>Coefficient table in the expected <em>optimLanduse</em> format.</p>
</td></tr>
<tr><td><code id="autoSearch_+3A_landuseobs">landUseObs</code></td>
<td>
<p>Data frame with two columns. The first column has to
contain the land-use options. The second column the respective shares.</p>
</td></tr>
<tr><td><code id="autoSearch_+3A_uvalue">uValue</code></td>
<td>
<p><em>u</em> Value. The uncertainty value delivered in the coefTable is
multiplied with this u value. The value, therefore, enables scenario analyses with differing
uncertainties in relation to indicator values. Higher u values can be interpreted as a higher
risk aversion of the decision maker.</p>
</td></tr>
<tr><td><code id="autoSearch_+3A_optimisticrule">optimisticRule</code></td>
<td>
<p>Either <em>expectation</em> or <em>uncertaintyAdjustedExpectation</em>.
The rule indicates whether the optimistic outcomes of an indicator are directly
reflected by their expectations or if the indicator is calculated as expectation +
uncertainty when &quot;more is better&quot; or expectation - uncertainty respectively when &quot;less is better&quot;.
An optimization based on <em>expectation</em> considers only downside risks.</p>
</td></tr>
<tr><td><code id="autoSearch_+3A_fixdistance">fixDistance</code></td>
<td>
<p>This optional numeric value allows to define distinct uncertainty levels for the
calculation of the uncertainty space and the averaged distances of a certain land-cover composition
(see Equation 9 in Husmann et al. (2020)). Passing NA disables fixDistance. In this case,
the uncertainty space is defined by uValue.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with all possible indicator combinations, their respective optimization results and the
indicator set best describing the observed land-use decision.
</p>


<h3>References</h3>

<p>Husmann, K., von Groß, V., Bödeker, K., Fuchs, J. M., Paul, C., &amp; Knoke, T. (2022). optimLanduse: A package for multiobjective land-cover composition optimization under uncertainty. Methods in Ecology and Evolution, 00, 1– 10. https://doi.org/10.1111/2041-210X.14000
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(readxl)
require(future.apply)
plan(multisession)

coefTable &lt;- read_xlsx(exampleData("exampleGosling.xlsx"))

# Subset to save computation time

coefTable &lt;- coefTable[coefTable$indicator %in% c("Long-term income",
                                                 "Liquidity",
                                                 "Protecting soil resources"),]

obsLU &lt;- data.frame(landUse = c("Pasture", "Crops", "Forest", "Plantation",
                                "Alley Cropping", "Silvopasture"),
                    share = c(0.59, 0.26, 0.14, 0.01, 0, 0))

combList &lt;- autoSearch(coefTable = coefTable,
                       landUseObs = obsLU,
                       uValue = 2,
                       optimisticRule = "expectation",
                       fixDistance = 3)
plan(sequential)

</code></pre>

<hr>
<h2 id='calcPerformance'>Attach portfolio performance and distance to target</h2><span id='topic+calcPerformance'></span>

<h3>Description</h3>

<p>The Portfolio performances are calculated and attached to the solved
optimLanduse object. Each performance measure describes the relative
proportion to the maximum achievable (the &quot;target&quot;) of the indicator,
given the current land use distribution and the uncertainty scenario set.
The lowest performing scenario of all indicators is the degree of minimal
fulfillment under the worst-possible outcome.
It can thus be interpreted as the guaranteed performance.
At least this proportion will be achieved across all indicators.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcPerformance(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcPerformance_+3A_x">x</code></td>
<td>
<p>An optimized optimLanduse object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For further information and calculation, see the supplement of Gosling et al. (2020),
Formula S5 (in the supplement of the paper) and also the paragraph
optimLanduse functions and workflow - Post-processing in Husmann et al. (2022).
</p>


<h3>Value</h3>

<p>An optimized optimLanduse object with attached portfolio performance.
</p>


<h3>References</h3>

<p>Gosling, E., Reith, E., Knoke T., Gerique, A., Paul, C. (2020): Exploring
farmer perceptions of agroforestry via multi-objective optimisation: a test application
in Eastern Panama. <em>Agroforestry Systems</em> <strong>94</strong>. <a href="https://doi.org/10.1007/s10457-020-00519-0">doi:10.1007/s10457-020-00519-0</a>
</p>
<p>Husmann, K., von Groß, V., Bödeker, K., Fuchs, J. M., Paul, C., &amp; Knoke, T. (2022). optimLanduse: A package for multiobjective land-cover composition optimization under uncertainty. Methods in Ecology and Evolution, 00, 1– 10. https://doi.org/10.1111/2041-210X.14000
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(ggplot2)
require(readxl)

dat &lt;- read_xlsx(exampleData("exampleGosling.xlsx"))
init &lt;- initScenario(dat, uValue = 2,
                     optimisticRule = "expectation",
                     fixDistance = 3)
result &lt;- solveScenario(x = init)
performance &lt;- calcPerformance(result)

# Visualize the distance

ggplot(performance$scenarioTable,
       aes(x = indicator,
           y = performance,
           color = indicator)) +
geom_point() +
geom_hline(yintercept =
           min(performance$scenarioTable$performance),
          linetype = "dashed", color = "red") +
ylim(0, 1)
</code></pre>

<hr>
<h2 id='dataPreparation'>Transform data into the expected format</h2><span id='topic+dataPreparation'></span>

<h3>Description</h3>

<p>The input data must suit the specific expected optimLanduse format prior to
initialization and optimization. This function
provides the possibility to easily transform data from the commonly used form
of the exemplary data
<code><a href="#topic+exampleData">exampleData</a></code> into the expected format. Please consider that the application of this function
is not mandatory and in most cases not required. Best practice is to
transform your data yourself into the expected format. Detailed information
about the expected format and possible data processing can be found on the
<a href="https://github.com/Forest-Economics-Goettingen/optimLanduse/">GitHub project page</a>.
Note that incomplete rows, which include NA-values will be deleted
and an error message will be thrown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataPreparation(dat, uncertainty = "SE", expVAL = "mean")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataPreparation_+3A_dat">dat</code></td>
<td>
<p>Data frame or tibble in the format of the <code><a href="#topic+exampleData">exampleData</a></code>.
Please refer to the <a href="https://github.com/Forest-Economics-Goettingen/optimLanduse/">GitHub project page</a>
for more details.</p>
</td></tr>
<tr><td><code id="dataPreparation_+3A_uncertainty">uncertainty</code></td>
<td>
<p>Indicates the column name of the uncertainty measure.
Typical is &quot;SE&quot; for standard
error or &quot;SD&quot; for standard deviation.</p>
</td></tr>
<tr><td><code id="dataPreparation_+3A_expval">expVAL</code></td>
<td>
<p>Indicates the column name of the expected value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted coefficients table with land-use options and indicator values ready for initialization via <code><a href="#topic+initScenario">initScenario</a></code>.
</p>


<h3>References</h3>

<p>Gosling, E., Reith, E., Knoke, T. et al. Exploring farmer perceptions of agroforestry via multi-objective optimisation:
a test application in Eastern Panama. Agroforest Syst 94, 2003–2020 (2020). https://doi.org/10.1007/s10457-020-00519-0
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(readxl)
dat &lt;- read_xlsx(exampleData("exampleGosling_dataPrep.xlsx"), col_names = TRUE)
dat &lt;- dataPreparation(dat, uncertainty = "sd", expVAL = "mean")
</code></pre>

<hr>
<h2 id='exampleData'>Exemplary data in the required format</h2><span id='topic+exampleData'></span>

<h3>Description</h3>

<p>optimLanduse comes bundled with exemplary data for land-use optimization. The
files can also be found on your computer in the package folder './extdata'. These examples
provide some quick applications of the package for demonstration and an example of the expected data
structure of the data. Consider also the
<a href="https://github.com/Forest-Economics-Goettingen/optimLanduse/">GitHub project page</a> for
exemplary applications of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleData(fileName = "exampleGosling.xlsx")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exampleData_+3A_filename">fileName</code></td>
<td>
<p>Name of the example file. See 'details' section for further explanation of all provided examples.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><em>exampleGosling.xlsx</em> contains the freely available data from Gosling et al. (2020). <em>exampleEmpty.xlsx</em>
contains a template for your data.
</p>


<h3>Value</h3>

<p>The path to the example file on your computer.
</p>


<h3>References</h3>

<p>Gosling, E., Reith, E., Knoke, T. et al. Exploring farmer perceptions of agroforestry via multi-objective optimisation:
a test application in Eastern Panama. Agroforest Syst 94, 2003–2020 (2020). https://doi.org/10.1007/s10457-020-00519-0
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(readxl)
path &lt;- exampleData()
read_xlsx(path, col_names = FALSE)
path &lt;- exampleData("exampleGosling.xlsx")
read_xlsx(path, col_names = FALSE)

</code></pre>

<hr>
<h2 id='initScenario'>Initialize the robust optimization</h2><span id='topic+initScenario'></span>

<h3>Description</h3>

<p>The function initializes an <em>optimLanduse</em> S3 object on the
basis of a coefficients table. Please note that the coefficients table must follow
the expected <em>optimLanduse</em> format. The expected format is explained in the example on the
<a href="https://github.com/Forest-Economics-Goettingen/optimLanduse/">GitHub project page</a> and in the publication in Methods in Ecology and Evolution (Husmann et al. ,2022)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initScenario(
  coefTable,
  uValue = 1,
  optimisticRule = "expectation",
  fixDistance = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initScenario_+3A_coeftable">coefTable</code></td>
<td>
<p>Coefficient table in the expected <em>optimLanduse</em> format.</p>
</td></tr>
<tr><td><code id="initScenario_+3A_uvalue">uValue</code></td>
<td>
<p><em>u</em> Value. The uncertainty value delivered in the coefTable is
multiplied with this u value. The value, therefore, enables scenario analyses with differing
uncertainties in relation to indicator values. Higher u values can be interpreted as a higher
risk aversion of the decision maker.</p>
</td></tr>
<tr><td><code id="initScenario_+3A_optimisticrule">optimisticRule</code></td>
<td>
<p>Either <em>expectation</em> or <em>uncertaintyAdjustedExpectation</em>.
The rule indicates whether the optimistic outcomes of an indicator are directly
reflected by their expectations or if the indicator is calculated as expectation +
uncertainty when &quot;more is better&quot; or expectation - uncertainty respectively when &quot;less is better&quot;.
An optimization based on <em>expectation</em> considers only downside risks.</p>
</td></tr>
<tr><td><code id="initScenario_+3A_fixdistance">fixDistance</code></td>
<td>
<p>This optional numeric value allows to define distinct uncertainty levels for the
calculation of the uncertainty space and the averaged distances of a certain land-cover composition
(see Equation 9 in Husmann et al. (2020)). Passing NA disables fixDistance. In this case,
the uncertainty space is defined by uValue.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Separating the initialization from the optimization is to save
computation time in batch analysis. The separated function calls allow the
user to perform multiple
optimizations from one initialized object. This could save time in the scenario or
sensitivity analysis.
</p>
<p>A detailed description of the input parameters can be found in Husmann et al. (2022).
</p>


<h3>Value</h3>

<p>An initialized optimLanduse S3 object ready for optimization.
</p>


<h3>References</h3>

<p>Husmann, K., von Groß, V., Bödeker, K., Fuchs, J. M., Paul, C., &amp; Knoke, T. (2022). optimLanduse: A package for multiobjective land-cover composition optimization under uncertainty. Methods in Ecology and Evolution, 00, 1– 10. https://doi.org/10.1111/2041-210X.14000
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(readxl)
dat &lt;- read_xlsx(exampleData("exampleGosling.xlsx"))

init &lt;- initScenario(dat,
                     uValue = 2,
                     optimisticRule = "expectation",
                     fixDistance = 3)
</code></pre>

<hr>
<h2 id='solveScenario'>Perform the optimization</h2><span id='topic+solveScenario'></span>

<h3>Description</h3>

<p>The function solves the optimization framework specified by the initialized <em>optimLanduse</em> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>solveScenario(x, digitsPrecision = 4, lowerBound = 0, upperBound = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solveScenario_+3A_x">x</code></td>
<td>
<p>The initialized <em>optimLanduse</em> object. See <code><a href="#topic+initScenario">initScenario</a></code> for the initialization.</p>
</td></tr>
<tr><td><code id="solveScenario_+3A_digitsprecision">digitsPrecision</code></td>
<td>
<p>Precision of the loss value. digitsPrecision is the
possibility to influence the calculation time.</p>
</td></tr>
<tr><td><code id="solveScenario_+3A_lowerbound">lowerBound</code></td>
<td>
<p>Optional lower bounds for the land-use options. Must be 0 or a vector in the dimension of the land-use options.</p>
</td></tr>
<tr><td><code id="solveScenario_+3A_upperbound">upperBound</code></td>
<td>
<p>Optional upper bounds for the land-use options. Must be 1 or a vector in the dimension of the land-use options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The methodological background and the formulation of the optimization
framework are described in Knoke et al. (2016) and in Husmann et al. (2022)
</p>


<h3>Value</h3>

<p>A solved landUse portfolio ready for export or further data processing.
</p>


<h3>References</h3>

<p>Knoke, T., Paul, C., Hildebrandt, P. et al. (2016): Compositional diversity
of rehabilitated tropical lands supports multiple ecosystem services and
buffers uncertainties. <em>Nat Commun</em> <strong>7</strong>, 11877. <a href="https://doi.org/10.1038/ncomms11877">doi:10.1038/ncomms11877</a>
</p>
<p>Husmann, K., von Groß, V., Bödeker, K., Fuchs, J. M., Paul, C., &amp; Knoke, T. (2022). optimLanduse: A package for multiobjective land-cover composition optimization under uncertainty. Methods in Ecology and Evolution, 00, 1– 10. https://doi.org/10.1111/2041-210X.14000
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(readxl)
dat &lt;- read_xlsx(exampleData("exampleGosling.xlsx"))
init &lt;- initScenario(dat, uValue = 2,
                     optimisticRule = "expectation",
                     fixDistance = 3)
result &lt;- solveScenario(x = init)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

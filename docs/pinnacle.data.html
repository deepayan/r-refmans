<!DOCTYPE html><html><head><title>Help for package pinnacle.data</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pinnacle.data}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#MLB2016'><p>MLB2016.</p></a></li>
<li><a href='#USA_Election_2016'><p>USA_Election_2016</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Market Odds Data from Pinnacle</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Author:</td>
<td>Marco Blume, Michael Yan</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marco Blume &lt;marco.blume@pinnaclesports.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Market odds from from Pinnacle, an online sports betting bookmaker (see <a href="https://www.pinnacle.com">https://www.pinnacle.com</a> for more information). Included are datasets for the Major League Baseball (MLB) 2016 season and the USA election 2016. These datasets can be used to build models and compare statistical information with the information from prediction markets.The Major League Baseball (MLB) 2016 dataset can be used for sabermetrics analysis and also can be used in conjunction with other popular Major League Baseball (MLB) datasets such as Retrosheets or the Lahman package by merging by GameID.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/marcoblume/pinnacle.data">https://github.com/marcoblume/pinnacle.data</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>odds.converter, tidyverse, pinnacle.API, Lahman</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-06-29 13:46:09 UTC; MarcoB</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-06-29 15:30:31 UTC</td>
</tr>
</table>
<hr>
<h2 id='MLB2016'>MLB2016.</h2><span id='topic+MLB2016'></span>

<h3>Description</h3>

<p>Major League Baseball (MLB) data for the 2016 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MLB2016
</code></pre>


<h3>Format</h3>

<p>A tibble with 20 variables:
</p>

<dl>
<dt><code>GameID</code></dt><dd><p>same format as Retrosheets and BaseballReference data</p>
</dd>
<dt><code>EventDateTimeUTC</code></dt><dd><p>Time of the game in UTC</p>
</dd>
<dt><code>EventDateTimeET</code></dt><dd><p>Time of the game in Eastern Standardtime</p>
</dd>
<dt><code>AwayTeam</code></dt><dd><p>Team name of the Away Team</p>
</dd>
<dt><code>HomeTeam</code></dt><dd><p>Team name of the Home Team</p>
</dd>
<dt><code>DoubleHeaderGame</code></dt><dd><p>Indicates if this was a double Header</p>
</dd>
<dt><code>AwayStartingPitcher</code></dt><dd><p>Starting pitcher Away Team</p>
</dd>
<dt><code>HomeStartingPicher</code></dt><dd><p>Starting pitcher Home Team</p>
</dd>
<dt><code>FinalScoreAway</code></dt><dd><p>Runs scored by Away Team</p>
</dd>
<dt><code>FinalScoreHome</code></dt><dd><p>Runs scored by Home Team</p>
</dd>
<dt><code>EnteredDateTimeUTC</code></dt><dd><p>Time of the wager line in UTC</p>
</dd>
<dt><code>EnteredDateTimeET</code></dt><dd><p>Time of the wager line in Eastern Standardtime</p>
</dd>
<dt><code>SpreadTeam1</code></dt><dd><p>Spread Handicap for Away Team</p>
</dd>
<dt><code>SpreadUS1</code></dt><dd><p>Spread US odds for Away Team</p>
</dd>
<dt><code>SpreadUS2</code></dt><dd><p>Spread US odds for Home Team</p>
</dd>
<dt><code>MoneyUS1</code></dt><dd><p>Moneyline US odds for Away Team</p>
</dd>
<dt><code>MoneyUS2</code></dt><dd><p>Moneyline US odds for Home Team</p>
</dd>
<dt><code>TotalPoints</code></dt><dd><p>Total runs handicap</p>
</dd>
<dt><code>TotalUSOver</code></dt><dd><p>Total runs US odds for Over</p>
</dd>
<dt><code>TotalUSUnder</code></dt><dd><p>Total runs US odds for Under</p>
</dd>
</dl>


<h3>Details</h3>

<p>All wagering lines from Pinnacle for the 2016  MLB season
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("tidyverse")) {
library(tidyverse)
# What was the range of expected total runs according to the prediction market at Pinnacle?
MLB2016 %&gt;% 
 unnest() %&gt;% 
 group_by(GameID) %&gt;% 
 arrange(desc(EnteredDateTimeUTC)) %&gt;% 
 slice(1) %&gt;% 
 ungroup() %&gt;% 
 group_by(TotalPoints) %&gt;% 
 summarize(Count = n())

# How many games went Over/Under/Landed on the total?
MLB2016 %&gt;% 
 unnest() %&gt;% 
 group_by(GameID) %&gt;% 
 arrange(desc(EnteredDateTimeUTC)) %&gt;% 
 slice(1) %&gt;% 
 ungroup() %&gt;% 
 select(GameID,TotalPoints,FinalScoreAway,FinalScoreHome) %&gt;% 
 mutate(TotalOutcome = case_when(
   FinalScoreAway + FinalScoreHome &gt; TotalPoints ~ "Over",
   FinalScoreAway + FinalScoreHome &lt; TotalPoints ~ "Under",
   FinalScoreAway + FinalScoreHome == TotalPoints ~ "Landed"
 )
 ) %&gt;% 
 group_by(TotalPoints,TotalOutcome) %&gt;% 
 summarize(Count = n()) %&gt;% 
 print(n=100)
}
</code></pre>

<hr>
<h2 id='USA_Election_2016'>USA_Election_2016</h2><span id='topic+USA_Election_2016'></span>

<h3>Description</h3>

<p>US Presidential Election data 2016.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>USA_Election_2016
</code></pre>


<h3>Format</h3>

<p>A data.frame with 5 variables:
</p>

<dl>
<dt><code>EnteredDateTime</code></dt><dd><p>Time of the wager line in UTC</p>
</dd>
<dt><code>TeamName1</code></dt><dd><p>Team name of the Away Team</p>
</dd>
<dt><code>TeamName2</code></dt><dd><p>Team name of the Home Team</p>
</dd>
<dt><code>MoneyUS1</code></dt><dd><p>Moneyline US odds for Away Team</p>
</dd>
<dt><code>MoneyUS2</code></dt><dd><p>Moneyline US odds for Home Team</p>
</dd>
</dl>


<h3>Details</h3>

<p>All lines from Pinnacle for the 2016 US Presidential Election
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("odds.converter")) {
library(tidyverse)
# What is Hilary Clinton's the highest implied winning probability at Pinnacle?

USA_Election_2016[which.min(USA_Election_2016$MoneyUS1),"EnteredDateTime"]
odds.converter::odds.us2prob(min(USA_Election_2016$MoneyUS1))
}

# What time on election night that Trump's implied winning probability surpassed Clinton's?
if (require("tidyverse")) {
library(tidyverse)
USA_Election_2016 %&gt;% 
 filter(MoneyUS1&gt;MoneyUS2) %&gt;%
 slice(1)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

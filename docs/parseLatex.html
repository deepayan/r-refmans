<!DOCTYPE html><html lang="en"><head><title>Help for package parseLatex</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {parseLatex}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#parseLatex_pkg'><p>The parseLatex package</p></a></li>
<li><a href='#as_LaTeX2'><p>Coerce to LaTeX2</p></a></li>
<li><a href='#defaultCatcodes'><p>The default &quot;catcodes&quot; used by parseLatex.</p></a></li>
<li><a href='#deparseLatex'><p>Convert latex object into character vector</p></a></li>
<li><a href='#find_pattern'><p>Find a pattern in deparsed items</p></a></li>
<li><a href='#find_sequence'><p>Find a code sequence</p></a></li>
<li><a href='#find_tableContent'><p>Functions relating to the data content of a table</p></a></li>
<li><a href='#find_tableRow'><p>Functions to work with rows in tables</p></a></li>
<li><a href='#finders'><p>Miscellaneous low-level finders</p></a></li>
<li><a href='#get_contents'><p>Convenience functions to get or set contents of item</p></a></li>
<li><a href='#get_leftovers'><p>Retrieve source from beyond the end of the document.</p></a></li>
<li><a href='#LaTeX2range'><p>Ranges within LaTeX2 lists.</p></a></li>
<li><a href='#names'><p>Utility functions finding names and types of objects</p></a></li>
<li><a href='#options'><p>Find or modify macro or environment options</p></a></li>
<li><a href='#parseLatex_fn'><p>Parse LaTeX code</p></a></li>
<li><a href='#path_to'><p>Find path to a particular kind of item</p></a></li>
<li><a href='#reduce_whitespace'><p>Remove excess whitespace recursively</p></a></li>
<li><a href='#set_range'><p>Set items in a LaTeX2 object</p></a></li>
<li><a href='#tablecalcs'><p>Calculations on tables</p></a></li>
<li><a href='#tableCell'><p>Work with table cells</p></a></li>
<li><a href='#tableOption'><p>Functions related to table options.</p></a></li>
<li><a href='#tableRule'><p>Work with rules in tables</p></a></li>
<li><a href='#tables'><p>Functions related to parsing LaTeX tables</p></a></li>
<li><a href='#tests'><p>Test objects</p></a></li>
<li><a href='#Utilities'><p>Miscellaneous utilities</p></a></li>
<li><a href='#vector_to_latex2'><p>Convert vector to items</p></a></li>
<li><a href='#vector_to_row'><p>Convert vector to table row</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Parse 'LaTeX' Code</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Exports an enhanced version of the tools::parseLatex()
    function to handle 'LaTeX' syntax more accurately.  Also
    includes numerous functions for searching and modifying
    'LaTeX' source.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dmurdoch/parseLatex">https://github.com/dmurdoch/parseLatex</a>,
<a href="https://dmurdoch.github.io/parseLatex/">https://dmurdoch.github.io/parseLatex/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dmurdoch/parseLatex/issues">https://github.com/dmurdoch/parseLatex/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>kableExtra, knitr, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-20 15:30:01 UTC; murdoch</td>
</tr>
<tr>
<td>Author:</td>
<td>Duncan Murdoch [aut, cre],
  The R Core Team [ctb, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Duncan Murdoch &lt;murdoch.duncan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-20 16:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='parseLatex_pkg'>The parseLatex package</h2><span id='topic+parseLatex-package'></span><span id='topic+parseLatex_pkg'></span>

<h3>Description</h3>

<p>Exports an enhanced version of the tools::parseLatex() function to handle 'LaTeX' syntax more accurately. Also includes numerous functions for searching and modifying 'LaTeX' source.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Duncan Murdoch <a href="mailto:murdoch.duncan@gmail.com">murdoch.duncan@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> The R Core Team [contributor, copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/dmurdoch/parseLatex">https://github.com/dmurdoch/parseLatex</a>
</p>
</li>
<li> <p><a href="https://dmurdoch.github.io/parseLatex/">https://dmurdoch.github.io/parseLatex/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/dmurdoch/parseLatex/issues">https://github.com/dmurdoch/parseLatex/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_LaTeX2'>Coerce to LaTeX2</h2><span id='topic+as_LaTeX2'></span><span id='topic+latex2'></span>

<h3>Description</h3>

<p>Coerce to LaTeX2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_LaTeX2(x)

latex2(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_LaTeX2_+3A_x">x</code></td>
<td>
<p>An object to convert to a <a href="#topic+LaTeX2">LaTeX2</a> object.</p>
</td></tr>
<tr><td><code id="as_LaTeX2_+3A_...">...</code></td>
<td>
<p>Objects to concatenate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>as_LaTeX2()</code> converts <code>x</code> to a <a href="#topic+LaTeX2">LaTeX2</a> object.
</p>
<p><code>latex2()</code> converts the arguments to <a href="#topic+LaTeX2">LaTeX2</a> objects
and concatenates them into a new <a href="#topic+LaTeX2">LaTeX2</a> object.
</p>

<hr>
<h2 id='defaultCatcodes'>The default &quot;catcodes&quot; used by <a href="#topic+parseLatex">parseLatex</a>.</h2><span id='topic+defaultCatcodes'></span>

<h3>Description</h3>

<p>The default &quot;catcodes&quot; used by <a href="#topic+parseLatex">parseLatex</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>defaultCatcodes
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 13 rows and 2 columns.
</p>


<h3>Details</h3>

<p><code>defaultCatcodes</code> is a dataframe containing the
default catcode definitions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># \makeatletter has no effect by default...
unclass(parseLatex("\\makeatletter\\internal@macro"))
# ... but the effect can be simulated
atletter &lt;- rbind(defaultCatcodes,
                  data.frame(char="@", catcode=11))
unclass(parseLatex("\\makeatletter\\internal@macro",
                   catcodes = atletter))

</code></pre>

<hr>
<h2 id='deparseLatex'>Convert latex object into character vector</h2><span id='topic+deparseLatex'></span>

<h3>Description</h3>

<p>Convert latex object into character vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deparseLatex(x, dropBraces = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deparseLatex_+3A_x">x</code></td>
<td>
<p>A latex object.</p>
</td></tr>
<tr><td><code id="deparseLatex_+3A_dropbraces">dropBraces</code></td>
<td>
<p>Whether to drop unnecessary braces.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>deparseLatex</code> returns character vector corresponding
to the parsed Latex.
</p>

<hr>
<h2 id='find_pattern'>Find a pattern in deparsed items</h2><span id='topic+find_pattern'></span>

<h3>Description</h3>

<p>Searches a <a href="#topic+LaTeX2">LaTeX2</a> list for text using <code>grepl()</code> on deparsed versions of parts of the code.
It attempts to find the narrowest match(es) that lie
within a single container.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_pattern(items, pattern, ..., all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_pattern_+3A_items">items</code></td>
<td>
<p>A list of latex items.</p>
</td></tr>
<tr><td><code id="find_pattern_+3A_pattern">pattern</code></td>
<td>
<p>Pattern to use in <code>grepl()</code>.</p>
</td></tr>
<tr><td><code id="find_pattern_+3A_...">...</code></td>
<td>
<p>Additional parameters to pass to <code>grepl</code>.</p>
</td></tr>
<tr><td><code id="find_pattern_+3A_all">all</code></td>
<td>
<p>Find all matching, or the first?</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>find_pattern()</code> does a recursive search in the order
items appear in the deparse.  If the pattern matches,
it attempts to narrow the match by recursing into
containers and dropping earlier and later items.
It should always return syntactically correct LaTeX
code in which the pattern appears.
</p>


<h3>Value</h3>

<p><code>find_pattern()</code> returns a <a href="#topic+LaTeX2range">LaTeX2range</a> object
or (if <code>all</code> is <code>TRUE</code>) a list of them.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex", caption = "Sample table")
parsed &lt;- parseLatex(latex)
parsed
loc &lt;- find_pattern(parsed, "RX4 Wag", fixed = TRUE)
loc
print(loc, source = parsed)
</code></pre>

<hr>
<h2 id='find_sequence'>Find a code sequence</h2><span id='topic+find_sequence'></span><span id='topic+items_are_equal'></span>

<h3>Description</h3>

<p>Find a code sequence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_sequence(items, sequence, all = FALSE, ignore_whitespace = TRUE)

items_are_equal(items1, items2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_sequence_+3A_items">items</code>, <code id="find_sequence_+3A_sequence">sequence</code></td>
<td>
<p><a href="#topic+LaTeX2">LaTeX2</a> objects or lists.</p>
</td></tr>
<tr><td><code id="find_sequence_+3A_all">all</code></td>
<td>
<p>Whether to return all matches, or just the first.</p>
</td></tr>
<tr><td><code id="find_sequence_+3A_ignore_whitespace">ignore_whitespace</code></td>
<td>
<p>Whether to ignore whitespace in comparisons.</p>
</td></tr>
<tr><td><code id="find_sequence_+3A_items1">items1</code>, <code id="find_sequence_+3A_items2">items2</code></td>
<td>
<p>Two <a href="#topic+LaTeX2">LaTeX2</a> or <a href="#topic+LaTeX2item">LaTeX2item</a> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>find_sequence()</code> returns a path or list of paths where <code>sequence</code>
occurs within <code>items</code>.
</p>
<p><code>items_are_equal</code> returns a logical indicator of equality after removing source references.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_sequence(parseLatex("a &amp; b &amp; c"), "b &amp; c")
</code></pre>

<hr>
<h2 id='find_tableContent'>Functions relating to the data content of a table</h2><span id='topic+find_tableContent'></span><span id='topic+tableContent'></span><span id='topic+tableContent+3C-'></span>

<h3>Description</h3>

<p>Functions relating to the data content of a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_tableContent(table)

tableContent(table)

tableContent(table, asis = FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_tableContent_+3A_table">table</code></td>
<td>
<p>A tabular-like environment to work with.</p>
</td></tr>
<tr><td><code id="find_tableContent_+3A_asis">asis</code></td>
<td>
<p>Should newlines be added around the
value?</p>
</td></tr>
<tr><td><code id="find_tableContent_+3A_value">value</code></td>
<td>
<p>The content to be inserted into the cell.  This
can be a <a href="#topic+LaTeX2">LaTeX2</a> object, or a character string that will be
converted to one.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>asis = TRUE</code>, <code>tableContent(table) &lt;- value</code>
will add newlines
at the start end end if not present, to make the result
more readable.
</p>


<h3>Value</h3>

<p><code>find_tableContent()</code> returns the indices of the
entries corresponding to content of the table.
</p>
<p><code>tableContent()</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing
all of the table content after the options.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex")
parsed &lt;- parseLatex(latex)
table &lt;- parsed[[find_tabular(parsed)]]
table
tableContent(table)

tableContent(table) &lt;- "Mazda RX4 &amp; 21 &amp; 6\\\\"
table
tableContent(table, asis = TRUE) &lt;- "Mazda RX4 &amp; 21 &amp; 6\\\\"
table

</code></pre>

<hr>
<h2 id='find_tableRow'>Functions to work with rows in tables</h2><span id='topic+find_tableRow'></span><span id='topic+tableRow'></span><span id='topic+tableRow+3C-'></span>

<h3>Description</h3>

<p>Functions to work with rows in tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_tableRow(table, row)

tableRow(table, row)

tableRow(table, row, asis = FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_tableRow_+3A_table">table</code></td>
<td>
<p>A tabular-like environment to work with.</p>
</td></tr>
<tr><td><code id="find_tableRow_+3A_row">row</code></td>
<td>
<p>row in the table (1 is top row), including
rows of labels.</p>
</td></tr>
<tr><td><code id="find_tableRow_+3A_asis">asis</code></td>
<td>
<p>Should a linebreak and newline be added after the
value?</p>
</td></tr>
<tr><td><code id="find_tableRow_+3A_value">value</code></td>
<td>
<p>The content to be inserted into the cell.  This
can be a <a href="#topic+LaTeX2">LaTeX2</a> object, or a character string that will be
converted to one.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>asis = TRUE</code>, <code>tableContent(table) &lt;- value</code>
will add &quot;\&quot; and a newline
at the end if not present.
</p>
<p>If the <code>row</code> value is higher than the number of rows
in the table, blank rows will be added to fill the
space between.
</p>


<h3>Value</h3>

<p><code>find_tableRow()</code> returns the indices of the
entries corresponding to the content of row i of the table.
</p>
<p><code>tableRow()</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing
all of the table content in the row.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex")
parsed &lt;- parseLatex(latex)
table &lt;- parsed[[find_tabular(parsed)]]
find_tableRow(table, 1)

tableRow(table, 1)

tableRow(table, 5) &lt;- "a &amp; b &amp; c"
table

</code></pre>

<hr>
<h2 id='finders'>Miscellaneous low-level finders</h2><span id='topic+finders'></span><span id='topic+find_whitespace'></span><span id='topic+find_env'></span><span id='topic+find_macro'></span><span id='topic+find_catcode'></span><span id='topic+find_tags'></span><span id='topic+find_char'></span>

<h3>Description</h3>

<p>Miscellaneous low-level finders
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_whitespace(items)

find_env(items, envtypes)

find_macro(items, macros)

find_catcode(items, codes)

find_tags(items, tags)

find_char(items, char)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="finders_+3A_items">items</code></td>
<td>
<p>A list of latex items.</p>
</td></tr>
<tr><td><code id="finders_+3A_envtypes">envtypes</code></td>
<td>
<p>Which types of environment to look for.</p>
</td></tr>
<tr><td><code id="finders_+3A_macros">macros</code></td>
<td>
<p>Which types of macros to look for.</p>
</td></tr>
<tr><td><code id="finders_+3A_codes">codes</code></td>
<td>
<p>Which codes to look for.</p>
</td></tr>
<tr><td><code id="finders_+3A_tags">tags</code></td>
<td>
<p>Which tags to look for.</p>
</td></tr>
<tr><td><code id="finders_+3A_char">char</code></td>
<td>
<p>Which character to look for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>find_whitespace()</code> returns the indices of
whitespace in <code>items</code>.
</p>
<p><code>find_env()</code> returns the indices within <code>items</code>
of environments in <code>envtypes</code>.
</p>
<p><code>find_macro()</code> returns the index within <code>items</code>
of instances in <code>macros</code>.
</p>
<p><code>find_catcode()</code> returns the index within <code>items</code>.
of specials matching <code>code</code>.
</p>
<p><code>find_tags()</code> returns the index within <code>items</code>.
of items with tags matching <code>tags</code>.
</p>
<p><code>find_char()</code> returns the index within <code>items</code>
of characters matching <code>char</code>.  Only characters
marked as SPECIAL by the parser will be found.
</p>

<hr>
<h2 id='get_contents'>Convenience functions to get or set contents of item</h2><span id='topic+get_contents'></span><span id='topic+set_contents'></span>

<h3>Description</h3>

<p>Convenience functions to get or set contents of item
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_contents(item)

set_contents(item, value)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_contents_+3A_item">item</code></td>
<td>
<p>An item from a Latex list (or a <a href="#topic+LaTeX2">LaTeX2</a> list with one item).</p>
</td></tr>
<tr><td><code id="get_contents_+3A_value">value</code></td>
<td>
<p>An object that can be coerced to be
a <a href="#topic+LaTeX2">LaTeX2</a> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>get_contents</code> returns the contents of the item as a <a href="#topic+LaTeX2">LaTeX2</a> list.
</p>
<p>The original <code>item</code> with the contents
replaced by <code>value</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_contents(parseLatex("{abc}"))

set_contents(parseLatex("{abc}"), "def")
</code></pre>

<hr>
<h2 id='get_leftovers'>Retrieve source from beyond the end of the document.</h2><span id='topic+get_leftovers'></span>

<h3>Description</h3>

<p>Retrieve source from beyond the end of the document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_leftovers(text, items = parseLatex(text))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_leftovers_+3A_text">text</code></td>
<td>
<p>Character vector holding source.</p>
</td></tr>
<tr><td><code id="get_leftovers_+3A_items">items</code></td>
<td>
<p>Parsed version of <code>text</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The part of <code>text</code> that follows <code style="white-space: pre;">&#8288;\end{document}&#8288;</code>
other than a single newline, named according to the
original line numbers.
</p>


<h3>Note</h3>

<p>The line numbering in the output matches what a
text editor would see; embedded newlines in <code>text</code> will
result in separate lines in the output.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># line:  1                  2                3
text &lt;- "\\begin{document}\n\\end{document}\nnotes"
get_leftovers(text)
</code></pre>

<hr>
<h2 id='LaTeX2range'>Ranges within LaTeX2 lists.</h2><span id='topic+LaTeX2range'></span><span id='topic+print.LaTeX2range'></span>

<h3>Description</h3>

<p>Ranges within LaTeX2 lists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LaTeX2range(path, range)

## S3 method for class 'LaTeX2range'
print(x, source = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LaTeX2range_+3A_path">path</code></td>
<td>
<p>An integer vector to use as a path.</p>
</td></tr>
<tr><td><code id="LaTeX2range_+3A_range">range</code></td>
<td>
<p>A range of values within the path.</p>
</td></tr>
<tr><td><code id="LaTeX2range_+3A_x">x</code></td>
<td>
<p>Object to print.</p>
</td></tr>
<tr><td><code id="LaTeX2range_+3A_source">source</code></td>
<td>
<p>Optional parsed list from which to
extract the range.</p>
</td></tr>
<tr><td><code id="LaTeX2range_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>LaTeX2range objects are lists with <code>path</code> and <code>range</code> entries.  <code>path</code> is a recursive index
into a <a href="#topic+LaTeX2">LaTeX2</a> list, and <code>range</code> is a range of
entries in the result.
</p>
<p>If <code>path</code> is <code>NULL</code>, the object refers to the entire
source object.  If <code>range</code> is <code>NULL</code>, it refers
to the whole <a href="#topic+LaTeX2item">LaTeX2item</a> given by the <code>path</code>.
</p>


<h3>Value</h3>

<p><code>LaTeX2range()</code> returns a constructed <code>LaTeX2range</code> object.
</p>

<hr>
<h2 id='names'>Utility functions finding names and types of objects</h2><span id='topic+names'></span><span id='topic+latexTag'></span><span id='topic+catcode'></span><span id='topic+envName'></span><span id='topic+macroName'></span>

<h3>Description</h3>

<p>Utility functions finding names and types of objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latexTag(item)

catcode(item)

envName(item)

macroName(item)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="names_+3A_item">item</code></td>
<td>
<p>A single latex item.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>latexTag()</code> returns the <a href="#topic+LaTeX2">LaTeX2</a> tag for the item or <code>NULL</code>.
</p>
<p><code>catcode()</code> returns the TeX catcode for the item, or <code>NULL</code>.
</p>
<p><code>envName()</code> returns the Latex environment name for an item, or <code>NULL</code>.
</p>
<p><code>macroName()</code> returns the Latex macro, or <code>NULL</code>.
</p>

<hr>
<h2 id='options'>Find or modify macro or environment options</h2><span id='topic+options'></span><span id='topic+find_bracket_options'></span><span id='topic+bracket_options'></span><span id='topic+bracket_options+3C-'></span><span id='topic+find_brace_options'></span><span id='topic+brace_options'></span><span id='topic+brace_options+3C-'></span>

<h3>Description</h3>

<p>Many Latex environments and macros take optional parameters
wrapped in square brackets.  <code>find_bracket_options</code> finds those,
assuming they come immediately after the macro.
</p>
<p>Some Latex environments and macros take optional parameters
wrapped in curly brackets (braces). <code>find_brace_options</code> finds those
if they immediately follow the environment or macro (and possibly
some bracketed options).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_bracket_options(items, which = 1, start = 1)

bracket_options(items, which = 1, start = 1)

bracket_options(items, which = 1, start = 1, asis = FALSE) &lt;- value

find_brace_options(items, which = 1, start = 1)

brace_options(items, which = 1, start = 1)

brace_options(items, which = 1, start = 1, asis = FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="options_+3A_items">items</code></td>
<td>
<p>A list of latex items.</p>
</td></tr>
<tr><td><code id="options_+3A_which">which</code></td>
<td>
<p>Which options do you want?  Some
macros support more than one set.</p>
</td></tr>
<tr><td><code id="options_+3A_start">start</code></td>
<td>
<p>Start looking at <code>items[[start]]</code>.</p>
</td></tr>
<tr><td><code id="options_+3A_asis">asis</code></td>
<td>
<p>Should newlines be added around the
value?</p>
</td></tr>
<tr><td><code id="options_+3A_value">value</code></td>
<td>
<p>The content to be inserted into the cell.  This
can be a <a href="#topic+LaTeX2">LaTeX2</a> object, or a character string that will be
converted to one.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>find_bracket_options</code> returns indices into <code>items</code> of the options (including the
brackets).
</p>
<p><code>bracket_options</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing
the specified options.
</p>
<p><code>find_brace_options</code> returns the index of the block containing the options.
</p>
<p><code>brace_options</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing
the specified options.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parsed &lt;- parseLatex("\\section[a]{b}")
macro &lt;- find_macro(parsed, "\\section")
bracket_options(parsed, start = macro + 1)

bracket_options(parsed, start = macro + 1) &lt;- "Short Title"
parsed

brace_options(parsed, start = macro + 1)

brace_options(parsed, start = macro + 1) &lt;- "Long Title"
parsed

</code></pre>

<hr>
<h2 id='parseLatex_fn'>Parse LaTeX code</h2><span id='topic+parseLatex_fn'></span><span id='topic+parseLatex'></span><span id='topic+LaTeX2'></span><span id='topic+LaTeX2item'></span><span id='topic+print.LaTeX2item'></span><span id='topic+print.LaTeX2'></span>

<h3>Description</h3>

<p>The <code>parseLatex</code> function parses LaTeX source, producing a structured object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseLatex(
  text,
  verbose = FALSE,
  verbatim = c("verbatim", "verbatim*", "Sinput", "Soutput"),
  verb = "\\Sexpr",
  defcmd = c("\\newcommand", "\\renewcommand", "\\providecommand", "\\def",
    "\\let"),
  defenv = c("\\newenvironment", "\\renewenvironment"),
  catcodes = defaultCatcodes,
  recover = FALSE
)

## S3 method for class 'LaTeX2item'
print(x, ...)

## S3 method for class 'LaTeX2'
print(x, tags = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parseLatex_fn_+3A_text">text</code></td>
<td>
<p>A character vector containing LaTeX source code.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code>, print debug error messages.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_verbatim">verbatim</code></td>
<td>
<p>A character vector containing the names of LaTeX environments holding verbatim text.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_verb">verb</code></td>
<td>
<p>A character vector containing LaTeX macros that
should be assumed to hold verbatim text.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_defcmd">defcmd</code>, <code id="parseLatex_fn_+3A_defenv">defenv</code></td>
<td>
<p>Character vectors of macros that
are assumed to define new macro commands or environments
respectively.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_catcodes">catcodes</code></td>
<td>
<p>A list or dataframe holding LaTeX &quot;catcodes&quot;,
such as <a href="#topic+defaultCatcodes">defaultCatcodes</a>.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_recover">recover</code></td>
<td>
<p>If <code>TRUE</code>, convert errors to warnings and
continue parsing.  See Details below.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_x">x</code></td>
<td>
<p>Object to work on.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_...">...</code></td>
<td>
<p>Extra parameters to pass to <code>deparseLatex</code>.</p>
</td></tr>
<tr><td><code id="parseLatex_fn_+3A_tags">tags</code></td>
<td>
<p>Whether to display LaTeX2 tags.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some versions of LaTeX such as <code>pdflatex</code> only handle ASCII
inputs, while others such as <code>xelatex</code> allow Unicode input.
<code>parseLatex</code> allows Unicode input.
</p>
<p>During processing of LaTeX input, an interpreter can change
the handling of characters as it goes, using the <code style="white-space: pre;">&#8288;\catcode&#8288;</code> macro
or others such as <code style="white-space: pre;">&#8288;\makeatletter&#8288;</code>.  However, <code>parseLatex()</code> is purely
a parser, not an interpreter, so it can't do that, but
the user can change handling for the whole call using the
<code>catcodes</code> argument.
</p>
<p><code>catcodes</code> should be a list or dataframe
with at least two columns:
</p>

<ul>
<li> <p><code>char</code> should be a column of single characters.
</p>
</li>
<li> <p><code>catcode</code> should be a column of integers in the range 0 to 15
giving the corresponding catcode.
</p>
</li></ul>

<p>During parsing, <code>parseLatex</code> will check these values first.
If the input character doesn't match anything, then it will
be categorized:
</p>

<ul>
<li><p> as a letter (catcode 11) using the ICU function
<code>u_hasBinaryProperty(c, UCHAR_ALPHABETIC)</code> (or <code>iswalpha(c)</code> on
Windows),
</p>
</li>
<li><p> as a control
character (catcode 15) if its code point is less than 32,
</p>
</li>
<li><p> as &quot;other&quot; (catcode 12) otherwise.
</p>
</li></ul>

<p>When <code>recover = TRUE</code>, the parser will mark each error
in the output, and attempt to continue parsing.  This
may lead to a cascade of errors, but will sometimes
help in locating the first error.  The section of text
related to the error will be marked as an item with
tag <code>ERROR</code>.
</p>


<h3>Value</h3>

<p><code>parseLatex</code> returns parsed Latex in a list with class <code>"LaTeX2"</code>.  Items in the list have class <code>"LaTeX2item"</code>.
</p>


<h3>See Also</h3>

<p>LaTeX2, LaTeX2item
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parsed &lt;- parseLatex(r"(fran\c{c}ais)")
parsed
</code></pre>

<hr>
<h2 id='path_to'>Find path to a particular kind of item</h2><span id='topic+path_to'></span><span id='topic+get_item'></span><span id='topic+set_item'></span><span id='topic+get_container'></span><span id='topic+get_which'></span>

<h3>Description</h3>

<p>Find path to a particular kind of item
</p>


<h3>Usage</h3>

<pre><code class='language-R'>path_to(items, is_fn, ..., all = FALSE)

get_item(items, path)

set_item(items, path, value)

get_container(items, path)

get_which(path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="path_to_+3A_items">items</code></td>
<td>
<p>A list of latex items.</p>
</td></tr>
<tr><td><code id="path_to_+3A_is_fn">is_fn</code></td>
<td>
<p>Which test function to use.</p>
</td></tr>
<tr><td><code id="path_to_+3A_...">...</code></td>
<td>
<p>Additional parameters to pass to <code>is_fn</code>.</p>
</td></tr>
<tr><td><code id="path_to_+3A_all">all</code></td>
<td>
<p>Find all matching, or the first?</p>
</td></tr>
<tr><td><code id="path_to_+3A_path">path</code></td>
<td>
<p>Integer vector of subitems</p>
</td></tr>
<tr><td><code id="path_to_+3A_value">value</code></td>
<td>
<p>A <a href="#topic+LaTeX2item">LaTeX2item</a> to set as a value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>path_to()</code> does a recursive search in the order
items appear in the deparse.
</p>


<h3>Value</h3>

<p><code>path_to()</code> returns the recursive path to the
first example matching the <code>is_fn</code> conditions,
or a list of paths to all matching items.
</p>
<p><code>get_item()</code> returns the item at the given path.
</p>
<p><code>set_item()</code> replaces the item at the given path, and returns the modified version of <code>items</code>.
</p>
<p><code>get_container()</code> returns the item
containing the given path
</p>
<p><code>get_which()</code> returns the index
of the item within its container.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex", caption = "Sample table")
parsed &lt;- parseLatex(latex)
parsed
path &lt;- path_to(parsed, is_fn = is_env,
                        envtypes = "tabular")
get_item(parsed, path)
</code></pre>

<hr>
<h2 id='reduce_whitespace'>Remove excess whitespace recursively</h2><span id='topic+reduce_whitespace'></span>

<h3>Description</h3>

<p>Remove excess whitespace recursively
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reduce_whitespace(items, recursive = TRUE, all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reduce_whitespace_+3A_items">items</code></td>
<td>
<p>A <a href="#topic+LaTeX2">LaTeX2</a> object.</p>
</td></tr>
<tr><td><code id="reduce_whitespace_+3A_recursive">recursive</code></td>
<td>
<p>Apply to all lists within <code>items</code>.</p>
</td></tr>
<tr><td><code id="reduce_whitespace_+3A_all">all</code></td>
<td>
<p>If <code>TRUE</code>, remove all white space, not just doubles.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>items</code> with double spaces or double newlines set to single,
and trailing spaces removed (or all whitespace removed, if <code>all</code> is <code>TRUE</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parsed &lt;- parseLatex("a  {b\n\nc}")
parsed
reduce_whitespace(parsed)
</code></pre>

<hr>
<h2 id='set_range'>Set items in a <a href="#topic+LaTeX2">LaTeX2</a> object</h2><span id='topic+set_range'></span>

<h3>Description</h3>

<p>Set items in a <a href="#topic+LaTeX2">LaTeX2</a> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_range(items, range, values)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_range_+3A_items">items</code></td>
<td>
<p>A <a href="#topic+LaTeX2">LaTeX2</a> object or other list of
<a href="#topic+LaTeX2item">LaTeX2item</a> objects.</p>
</td></tr>
<tr><td><code id="set_range_+3A_range">range</code></td>
<td>
<p>A <a href="#topic+LaTeX2range">LaTeX2range</a> object.</p>
</td></tr>
<tr><td><code id="set_range_+3A_values">values</code></td>
<td>
<p>An object that can be coerced to
a <a href="#topic+LaTeX2">LaTeX2</a> object or (if <code>range$range</code> is <code>NULL</code>)
a <a href="#topic+LaTeX2item">LaTeX2item</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>set_range()</code> replaces the item(s) at the given path, and returns the modified version of <code>items</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex", caption = "Sample table")
parsed &lt;- parseLatex(latex)
tablepath &lt;- path_to(parsed, is_env, envtypes = "tabular")
range &lt;- LaTeX2range(tablepath, 8)
set_range(parsed, range, "The 8th item")
</code></pre>

<hr>
<h2 id='tablecalcs'>Calculations on tables</h2><span id='topic+tablecalcs'></span><span id='topic+tableNrow'></span><span id='topic+tableNcol'></span><span id='topic+tableDim'></span>

<h3>Description</h3>

<p>Calculations on tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableNrow(table)

tableNcol(table)

tableDim(table)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tablecalcs_+3A_table">table</code></td>
<td>
<p>A known tabular-like environment object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>tableNrow()</code> returns the number of rows in the table.
</p>
<p><code>tableNcol()</code> returns the number of columns in the table.
</p>
<p><code>tableDim()</code> returns the number of rows and columns in the table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:3], format = "latex")
parsed &lt;- parseLatex(latex)
table &lt;- parsed[[find_tabular(parsed)]]
table
tableNrow(table)
tableNcol(table)
tableDim(table)
</code></pre>

<hr>
<h2 id='tableCell'>Work with table cells</h2><span id='topic+tableCell'></span><span id='topic+find_tableCell'></span><span id='topic+tableCell+3C-'></span>

<h3>Description</h3>

<p>These functions work with the content of cells in
tabular-like environments.  Cells are numbered with the first
row (typically column titles) being row 1.  Rules (i.e.
horizontal lines) are not considered part of a cell.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_tableCell(table, row, col)

tableCell(table, row, col)

tableCell(table, row, col, asis = FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tableCell_+3A_table">table</code></td>
<td>
<p>A tabular-like environment to work with.</p>
</td></tr>
<tr><td><code id="tableCell_+3A_row">row</code>, <code id="tableCell_+3A_col">col</code></td>
<td>
<p>row and column in the table.</p>
</td></tr>
<tr><td><code id="tableCell_+3A_asis">asis</code></td>
<td>
<p>Should blanks be added around the value?</p>
</td></tr>
<tr><td><code id="tableCell_+3A_value">value</code></td>
<td>
<p>The content to be inserted into the cell.  This
can be a <a href="#topic+LaTeX2">LaTeX2</a> object, or a character string that will be
converted to one.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>find_tableCell()</code> returns <code>NA</code> if the requested
cell is missing because an earlier cell covered multiple
columns.  It signals an error if a request is made beyond
the bounds of the table.
</p>
<p>Unless <code>asis = TRUE</code>, <code>tableContent(table) &lt;- value</code>
will add blanks
at the start end end if not present, to make the result
more readable.
</p>
<p>If <code>col</code> is higher than the current table width,
the assignment will fail with an error.  If only <code>row</code>
is too high, blank lines will be added and it should
succeed.
</p>


<h3>Value</h3>

<p><code>find_tableCell()</code> returns the indices of the
entries corresponding to the content of the cell (row, col) of the table.
</p>
<p><code>tableCell()</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing
all of the table content in the cell (but not the &amp;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex")
parsed &lt;- parseLatex(latex)
table &lt;- parsed[[find_tabular(parsed)]]
find_tableCell(table, 1, 2)

tableCell(table, 1, 2)

tableCell(table, 5, 2) &lt;- " d "
table

</code></pre>

<hr>
<h2 id='tableOption'>Functions related to table options.</h2><span id='topic+tableOption'></span><span id='topic+find_posOption'></span><span id='topic+posOption'></span><span id='topic+posOption+3C-'></span><span id='topic+find_widthOption'></span><span id='topic+widthOption'></span><span id='topic+widthOption+3C-'></span><span id='topic+find_columnOptions'></span><span id='topic+columnOptions'></span><span id='topic+columnOptions+3C-'></span>

<h3>Description</h3>

<p>Functions related to table options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_posOption(table)

posOption(table)

posOption(table, asis = FALSE) &lt;- value

find_widthOption(table)

widthOption(table)

widthOption(table, asis = FALSE) &lt;- value

find_columnOptions(table)

columnOptions(table)

columnOptions(table, asis = FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tableOption_+3A_table">table</code></td>
<td>
<p>A known tabular-like environment object,
or the contents of one.</p>
</td></tr>
<tr><td><code id="tableOption_+3A_asis">asis</code></td>
<td>
<p>Whether to make small modifications in replacement functions.</p>
</td></tr>
<tr><td><code id="tableOption_+3A_value">value</code></td>
<td>
<p>A character string or <a href="#topic+LaTeX2">LaTeX2</a> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>asis == TRUE</code>, the value for <code>value</code> in <code>posOption(table) &lt;- value</code>
can be specified with or without the enclosing brackets.
</p>


<h3>Value</h3>

<p><code>find_posOption()</code> returns the indices of the
entries corresponding to the &quot;pos&quot; option, including the
brackets, within the table.
</p>
<p><code>posOption()</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing the
&quot;pos&quot; option.
</p>
<p><code>find_widthOption()</code> returns the index of the
block corresponding to the &quot;width&quot; option, if there is one.
Only some tabular-like environments have these.
</p>
<p><code>widthOption()</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing the
&quot;width&quot; option, if the table has one.
</p>
<p><code>find_columnOptions()</code> returns the index of the
block corresponding to the column spec.
</p>
<p><code>columnOptions()</code> returns a <a href="#topic+LaTeX2">LaTeX2</a> object containing the
&quot;column&quot; options.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex")
parsed &lt;- parseLatex(latex)
table &lt;- parsed[[find_tabular(parsed)]]
table
find_posOption(table)

posOption(table)

posOption(table) &lt;- "h"
posOption(table)
find_widthOption(table)

widthOption(table)

find_columnOptions(table)
columnOptions(table)

columnOptions(table) &lt;- "lrr"
table
</code></pre>

<hr>
<h2 id='tableRule'>Work with rules in tables</h2><span id='topic+tableRule'></span><span id='topic+find_rules'></span><span id='topic+rules'></span><span id='topic+find_rule'></span><span id='topic+rule'></span><span id='topic+rule+3C-'></span>

<h3>Description</h3>

<p>In LaTeX, &quot;rules&quot; are horizontal lines in a table.
These functions let rules be extracted or modified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_rules(table)

rules(table)

find_rule(table, row)

rule(table, row)

rule(table, row, asis = FALSE) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tableRule_+3A_table">table</code></td>
<td>
<p>A tabular-like environment to work with.</p>
</td></tr>
<tr><td><code id="tableRule_+3A_row">row</code></td>
<td>
<p>The rules will precede the contents of this row.
The rule after the final row uses <code>row = tableNrow(table) + 1</code>.</p>
</td></tr>
<tr><td><code id="tableRule_+3A_asis">asis</code></td>
<td>
<p>Should a newline be added after the
value?  If <code>asis = TRUE</code>, it will not be.</p>
</td></tr>
<tr><td><code id="tableRule_+3A_value">value</code></td>
<td>
<p>The content to be inserted into the cell.  This
can be a <a href="#topic+LaTeX2">LaTeX2</a> object, or a character string that will be
converted to one.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>find_rules()</code> returns a list of the indices
of rules before each row, including the whitespace
following each one.
</p>
<p><code>rules(table)</code> returns a list of the rules
before each row.  The last entry will be the rule(s)
following the last row.
</p>
<p><code>find_rule(table, row)</code> returns the indices
of the rule(s) before <code>row</code>.
</p>
<p><code>rule(table, row)</code> returns the indices
rule(s) before <code>row</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex")
parsed &lt;- parseLatex(latex)
table &lt;- parsed[[find_tabular(parsed)]]
table
find_rules(table)

rules(table)

find_rule(table, 1)

rule(table, 1)

rule(table, 2) &lt;- "\\midrule"
table
</code></pre>

<hr>
<h2 id='tables'>Functions related to parsing LaTeX tables</h2><span id='topic+tables'></span><span id='topic+is_Tabular'></span><span id='topic+find_tabular'></span>

<h3>Description</h3>

<p>Functions related to parsing LaTeX tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_Tabular(item)

find_tabular(items, start = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tables_+3A_item">item</code></td>
<td>
<p>An item from a <a href="#topic+LaTeX2">LaTeX2</a> list object.</p>
</td></tr>
<tr><td><code id="tables_+3A_items">items</code></td>
<td>
<p>A <a href="#topic+LaTeX2">LaTeX2</a> list object.</p>
</td></tr>
<tr><td><code id="tables_+3A_start">start</code></td>
<td>
<p>Where to start looking.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>is_Tabular()</code> returns boolean indicating if this is
a tabular-like environment.
</p>
<p><code>find_tabular()</code> returns the index of the first
tabular-like environment, or <code>NA</code> if none is found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>latex &lt;- kableExtra::kbl(mtcars[1:2, 1:2], format = "latex")
parsed &lt;- parseLatex(latex)
is_Tabular(parsed[[2]])


find_tabular(parsed)
table &lt;- parsed[[find_tabular(parsed)]]
table

</code></pre>

<hr>
<h2 id='tests'>Test objects</h2><span id='topic+tests'></span><span id='topic+is_env'></span><span id='topic+is_macro'></span><span id='topic+is_block'></span><span id='topic+is_bracket'></span><span id='topic+is_whitespace'></span>

<h3>Description</h3>

<p>Test objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_env(item, envtypes = NULL)

is_macro(item, macros = NULL)

is_block(item)

is_bracket(item, bracket)

is_whitespace(item)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tests_+3A_item">item</code></td>
<td>
<p>An object of class <a href="#topic+LaTeX2item">LaTeX2item</a> to test.</p>
</td></tr>
<tr><td><code id="tests_+3A_envtypes">envtypes</code></td>
<td>
<p>Types of Latex environment to check for,
e.g. <code>"table"</code>.</p>
</td></tr>
<tr><td><code id="tests_+3A_macros">macros</code></td>
<td>
<p>Which macros to match, e.g. <code>"\\\\caption"</code>.</p>
</td></tr>
<tr><td><code id="tests_+3A_bracket">bracket</code></td>
<td>
<p>Which bracket are we looking for?</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>is_env()</code> returns a boolean if the item matches.
</p>
<p><code>is_macro()</code> returns a boolean indicating the match.
</p>
<p><code>is_block()</code> returns a boolean indicating whether the <code>item</code> is a block wrapped in curly braces.
</p>
<p><code>is_bracket()</code> returns a boolean indicating that the <code>item</code> is a bracket of the
specified type.
</p>
<p><code>is_whitespace()</code> returns a boolean indicating if the
<code>item</code> is a space, tab or newline.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_bracket(parseLatex("[]")[[1]], "[")
</code></pre>

<hr>
<h2 id='Utilities'>Miscellaneous utilities</h2><span id='topic+Utilities'></span><span id='topic+drop_items'></span><span id='topic+select_items'></span><span id='topic+drop_whitespace'></span><span id='topic+include_whitespace'></span><span id='topic+split_list'></span><span id='topic+split_latex'></span><span id='topic+new_block'></span>

<h3>Description</h3>

<p>Miscellaneous utilities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_items(items, which)

select_items(items, which)

drop_whitespace(items)

include_whitespace(items, which)

split_list(items, splits)

split_latex(items, splits)

new_block(items)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Utilities_+3A_items">items</code></td>
<td>
<p>A <a href="#topic+LaTeX2">LaTeX2</a> object or list of items.</p>
</td></tr>
<tr><td><code id="Utilities_+3A_which">which</code></td>
<td>
<p>Which items to operate on.</p>
</td></tr>
<tr><td><code id="Utilities_+3A_splits">splits</code></td>
<td>
<p>Which items divide the parts?</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>drop_items()</code> returns the list of items with specific items removed.
</p>
<p><code>select_items()</code> returns the list of subsetted items.
</p>
<p><code>drop_whitespace()</code> returns the items with
whitespace (blanks, tabs, newlines) removed.
</p>
<p><code>include_whitespace()</code> returns <code>which</code> with
following whitespace (blanks, tabs, newlines) included.
</p>
<p><code>split_list()</code> returns a list of pieces
separated at the splits.
</p>
<p><code>split_latex()</code> returns a list of pieces
separated at the splits.  Each piece is marked as
a <a href="#topic+LaTeX2">LaTeX2</a> object.
</p>
<p>A BLOCK item containing the items.
</p>


<h3>Note</h3>

<p><code>drop_whitespace()</code> will drop the whitespace that separates text items, so deparsing will merge
them into a single item.
</p>


<h3>See Also</h3>

<p><code>drop_whitespace()</code> does not act recursively; use <a href="#topic+reduce_whitespace">reduce_whitespace</a> for that.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>new_block(parseLatex("abc"))
</code></pre>

<hr>
<h2 id='vector_to_latex2'>Convert vector to items</h2><span id='topic+vector_to_latex2'></span>

<h3>Description</h3>

<p>Convert vector to items
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vector_to_latex2(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vector_to_latex2_+3A_x">x</code></td>
<td>
<p>A list or vector to convert.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+LaTeX2">LaTeX2</a> object containing the entries
of <code>x</code> concatenated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(vector_to_latex2(1:3), tags = TRUE)
</code></pre>

<hr>
<h2 id='vector_to_row'>Convert vector to table row</h2><span id='topic+vector_to_row'></span>

<h3>Description</h3>

<p>Convert vector to table row
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vector_to_row(cells, asis = FALSE, linebreak = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vector_to_row_+3A_cells">cells</code></td>
<td>
<p>A list or vector of cell contents.</p>
</td></tr>
<tr><td><code id="vector_to_row_+3A_asis">asis</code></td>
<td>
<p>If <code>FALSE</code>, add blanks around cell contents.</p>
</td></tr>
<tr><td><code id="vector_to_row_+3A_linebreak">linebreak</code></td>
<td>
<p>If <code>TRUE</code>, add a line break marker.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+LaTeX2">LaTeX2</a> object which could be a row
in a tabular object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vector_to_row(1:3)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package saeME</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {saeME}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataME'><p>dataME</p></a></li>
<li><a href='#datamix'><p>datamix</p></a></li>
<li><a href='#FHme'><p>Fay-Herriot Model with Measurement Error</p></a></li>
<li><a href='#mse_FHme'><p>Mean Squared Error Estimator of the EBLUP under a Fay-Herriot Model with Measurement Error</p></a></li>
<li><a href='#saeME-package'><p>saeME: Small Area Estimation with Measurement Error</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Small Area Estimation with Measurement Error</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Muhammad Rifqi Mubarak &lt;rifqi.mubarak@bps.go.id&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of functions and datasets implementation of small area estimation when auxiliary variable is measured with error. These functions provide a empirical best linear unbiased prediction (EBLUP) estimator and mean squared error (MSE) estimator of the EBLUP. These models were developed by Ybarra and Lohr (2008) &lt;<a href="https://doi.org/10.1093%2Fbiomet%2Fasn048">doi:10.1093/biomet/asn048</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>MASS, stats</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-21 01:06:32 UTC; user</td>
</tr>
<tr>
<td>Author:</td>
<td>Azka Ubaidillah [aut],
  Muhammad Rifqi Mubarak [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-21 04:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataME'>dataME</h2><span id='topic+dataME'></span>

<h3>Description</h3>

<p>This data generated by simulation based on Fay-Herriot with Measurement Error Model by following these steps:
</p>

<ol>
<li><p> Generate <code class="reqn">x_{i}</code> from a UNIF(5, 10) distribution, <code class="reqn">\psi_{i}</code> = 3, <code class="reqn">c_{i}</code> = 0.25, and <code class="reqn">\sigma_{v}^{2}</code> = 2.
</p>
</li>
<li><p> Generate <code class="reqn">u_{i}</code> from a N(0, <code class="reqn">c_{i}</code>) distribution, <code class="reqn">e_{i}</code> from a N(0, <code class="reqn">\psi_{i}</code>) distribution, and <code class="reqn">v_{i}</code> from a N(0, <code class="reqn">\sigma_{v}^{2}</code>) distribution.
</p>
</li>
<li><p> Generate <code class="reqn">\hat{x}_{i}</code> = <code class="reqn">x_{i}</code> + <code class="reqn">u_{i}</code>.
</p>
</li>
<li><p> Then for each iteration, we generated <code class="reqn">Y_{i}</code> = <code class="reqn">2 + 0.5 \hat{x}_{i} + v_{i}</code> and <code class="reqn">y_{i}</code> = <code class="reqn">Y_{i} + e_{i}</code>.
</p>
</li></ol>

<p>Direct estimator <code>y</code>, auxiliary variable <code class="reqn">\hat{x}</code>, sampling variance <code class="reqn">\psi</code>, and  <code class="reqn">c</code> are arranged in a dataframe called <code>dataME</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataME)
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 observations on the following 4 variables.
</p>

<dl>
<dt><code>small_area</code></dt><dd><p>areas of interest.</p>
</dd>
<dt><code>y</code></dt><dd><p>direct estimator for each domain.</p>
</dd>
<dt><code>x.hat</code></dt><dd><p>auxiliary variable for each domain.</p>
</dd>
<dt><code>vardir</code></dt><dd><p>sampling variances for each domain.</p>
</dd>
<dt><code>var.x</code></dt><dd><p>mean squared error of auxiliary variable and sorted as <code>x.hat</code></p>
</dd>
</dl>


<hr>
<h2 id='datamix'>datamix</h2><span id='topic+datamix'></span>

<h3>Description</h3>

<p>This data generated by simulation based on Fay-Herriot with Measurement Error Model by following these steps:
</p>

<ol>
<li><p> Generate <code class="reqn">x_{1i}</code> from a UNIF(5, 10) distribution, <code class="reqn">x_{2i}</code> from a UNIF(9, 11) distribution, <code class="reqn">\psi_{i}</code> = 3, <code class="reqn">c_{1i}</code> = <code class="reqn">c_{2i}</code> = 0.25, and <code class="reqn">\sigma_{v}^{2}</code> = 2.
</p>
</li>
<li><p> Generate <code class="reqn">u_{1i}</code> from a N(0, <code class="reqn">c_{1i}</code>) distribution, <code class="reqn">u_{2i}</code> from a N(0, <code class="reqn">c_{2i}</code>) distribution, <code class="reqn">e_{i}</code> from a N(0, <code class="reqn">\psi_{i}</code>) distribution, and <code class="reqn">v_{i}</code> from a N(0, <code class="reqn">\sigma_{v}^{2}</code>) distribution.
</p>
</li>
<li><p> Generate <code class="reqn">x_{3i}</code> from a UNIF(1, 5) distribution and <code class="reqn">x_{4i}</code> from a UNIF(10, 14) distribution.
</p>
</li>
<li><p> Generate <code class="reqn">\hat{x}_{1i}</code> = <code class="reqn">x_{1i}</code> + <code class="reqn">u_{1i}</code> and <code class="reqn">\hat{x}_{2i}</code> = <code class="reqn">x_{2i}</code> + <code class="reqn">u_{2i}</code>.
</p>
</li>
<li><p> Then for each iteration, we generated <code class="reqn">Y_{i}</code> = <code class="reqn">2 + 0.5 \hat{x}_{1i} + 0.5 \hat{x}_{2i} + 2 x_{3i} + 0.5 x_{4i} + v_{i}</code> and <code class="reqn">y_{i}</code> = <code class="reqn">Y_{i} + e_{i}</code>.
</p>
</li></ol>

<p>This data contain combination between auxiliary variable measured with error and without error.
Direct estimator <code>y</code>, auxiliary variable <code class="reqn">\hat{x}_{1}</code> <code class="reqn">\hat{x}_{2}</code> <code class="reqn">x_{3}</code> <code class="reqn">x_{4}</code>, sampling variance <code class="reqn">\psi</code>, and <code class="reqn">c_{1} c_{2}</code> are arranged in a dataframe called <code>datamix</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(datamix)
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 observations on the following 8 variables.
</p>

<dl>
<dt><code>small_area</code></dt><dd><p>areas of interest.</p>
</dd>
<dt><code>y</code></dt><dd><p>direct estimator for each domain.</p>
</dd>
<dt><code>x.hat1</code></dt><dd><p>auxiliary variable (measured with error) for each domain.</p>
</dd>
<dt><code>x.hat2</code></dt><dd><p>auxiliary variable (measured with error) for each domain.</p>
</dd>
<dt><code>x3</code></dt><dd><p>auxiliary variable (measured without error) for each domain.</p>
</dd>
<dt><code>x4</code></dt><dd><p>auxiliary variable (measured without error) for each domain.</p>
</dd>
<dt><code>vardir</code></dt><dd><p>sampling variances for each domain.</p>
</dd>
<dt><code>var.x1</code></dt><dd><p>mean squared error of auxiliary variable and sorted as <code>x.hat1</code></p>
</dd>
<dt><code>var.x2</code></dt><dd><p>mean squared error of auxiliary variable and sorted as <code>x.hat2</code></p>
</dd>
</dl>


<hr>
<h2 id='FHme'>Fay-Herriot Model with Measurement Error</h2><span id='topic+FHme'></span>

<h3>Description</h3>

<p>This function gives the EBLUP estimator based on Fay-Herriot model with measurement error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FHme(
  formula,
  vardir,
  var.x,
  type.x = "witherror",
  MAXITER = 1000,
  PRECISION = 1e-04,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FHme_+3A_formula">formula</code></td>
<td>
<p>an object of class <code><a href="stats.html#topic+formula">formula</a></code> (or one that can be coerced to that class): a symbolic description of the model to be fitted. The variables included <code>formula</code> must have a length equal to the number of domains <code>m</code>. This formula can provide auxiliary variable either measured with error or without error or combination between them. If the auxiliary variable are combination between <code>noerror</code> and <code>witherror</code> variable, input all <code>witherror</code> variable first then <code>noerror</code> variable.</p>
</td></tr>
<tr><td><code id="FHme_+3A_vardir">vardir</code></td>
<td>
<p>vector containing the <code>m</code> sampling variances of direct estimators for each domain. The values must be sorted as the <code>Y</code>.</p>
</td></tr>
<tr><td><code id="FHme_+3A_var.x">var.x</code></td>
<td>
<p>vector containing mean squared error of <code>X</code> . The values must be sorted as the <code>X</code>. if you use optional <code>data</code>, input this parameter use <code>c("")</code>, example: <code>var.x = c("c1") or var.x = c("c1","c2")</code>.</p>
</td></tr>
<tr><td><code id="FHme_+3A_type.x">type.x</code></td>
<td>
<p>type of auxiliary variable used in the model. Either source measured with <code>noerror</code>, <code>witherror</code> and <code>mix</code>. Default value is <code>witherror</code>.</p>
</td></tr>
<tr><td><code id="FHme_+3A_maxiter">MAXITER</code></td>
<td>
<p>maximum number of iterations allowed. Default value is <code>1000</code> iterations.</p>
</td></tr>
<tr><td><code id="FHme_+3A_precision">PRECISION</code></td>
<td>
<p>convergence tolerance limit. Default value is <code>0.0001</code>.</p>
</td></tr>
<tr><td><code id="FHme_+3A_data">data</code></td>
<td>
<p>optional data frame containing the variables named in formula, vardir, and var.x.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A formula has an implied intercept term. To remove this use either y ~ x - 1 or y ~ 0 + x. See <code><a href="stats.html#topic+formula">formula</a></code>  for more details of allowed formulae.
</p>


<h3>Value</h3>

<p>The function returns a list with the following objects:
</p>

<dl>
<dt><code>eblup</code></dt><dd><p>vector with the values of the estimators for the domains.</p>
</dd>
<dt><code>fit</code></dt><dd><p>a list containing the following objects:</p>
</dd>
</dl>

<ul>
<li> <p><code>method</code> : type of fitting method.
</p>
</li>
<li> <p><code>convergence</code> : a logical value of convergence when calculating estimated beta and estimated random effects.
</p>
</li>
<li> <p><code>iterations</code> : number of iterations when calculating estimated beta and estimated random effects.
</p>
</li>
<li> <p><code>estcoef</code> : a data frame with the estimated model coefficient (<code>beta</code>) in the first column, their standard error (<code>std.error</code>) in the second column, the t-statistics (<code>t.statistics</code>) in the third column, and the p-values of the significance of each coefficient (<code>pvalue</code>) in the last column.
</p>
</li>
<li> <p><code>refvar</code> : a value of estimated random effects.
</p>
</li>
<li> <p><code>gamma</code> : vector with values of the estimated gamma for each domains.
</p>
</li></ul>




<h3>See Also</h3>

<p><code><a href="#topic+mse_FHme">mse_FHme</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataME)
data(datamix)
sae.me &lt;- FHme(formula = y ~ x.hat, vardir = vardir, var.x = c("var.x"), data = dataME)
sae.mix &lt;- FHme(formula = y ~ x.hat1 + x.hat2 + x3 + x4,
            vardir = vardir, var.x = c("var.x1", "var.x2"), type.x = "mix", data = datamix)

</code></pre>

<hr>
<h2 id='mse_FHme'>Mean Squared Error Estimator of the EBLUP under a Fay-Herriot Model with Measurement Error</h2><span id='topic+mse_FHme'></span>

<h3>Description</h3>

<p>This function gives the mean squared error estimator of the EBLUP based on Fay-Herriot model with measurement error using jackknife method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mse_FHme(
  formula,
  vardir,
  var.x,
  type.x = "witherror",
  MAXITER = 1000,
  PRECISION = 1e-04,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mse_FHme_+3A_formula">formula</code></td>
<td>
<p>an object of class <code><a href="stats.html#topic+formula">formula</a></code> (or one that can be coerced to that class): a symbolic description of the model to be fitted. The variables included  <code>formula</code> must have a length equal to the number of domains <code>m</code>. This formula can provide auxiliary variable either measured with error or without error or combination between them. If the auxiliary variable are combination between <code>noerror</code> and <code>witherror</code> variable, input all <code>witherror</code> variable first then <code>noerror</code> variable.</p>
</td></tr>
<tr><td><code id="mse_FHme_+3A_vardir">vardir</code></td>
<td>
<p>vector containing the <code>m</code> sampling variances of direct estimators for each domain. The values must be sorted as the <code>Y</code>.</p>
</td></tr>
<tr><td><code id="mse_FHme_+3A_var.x">var.x</code></td>
<td>
<p>vector containing mean squared error of <code>X</code> . The values must be sorted as the <code>X</code>. if you use optional <code>data</code>, input this parameter use <code>c("")</code>, example: <code>var.x = c("c1") or var.x = c("c1","c2")</code>.</p>
</td></tr>
<tr><td><code id="mse_FHme_+3A_type.x">type.x</code></td>
<td>
<p>type of auxiliary variable used in the model. Either source measured with <code>noerror</code>, <code>witherror</code> and <code>mix</code>. Default value is <code>witherror</code>.</p>
</td></tr>
<tr><td><code id="mse_FHme_+3A_maxiter">MAXITER</code></td>
<td>
<p>maximum number of iterations allowed. Default value is <code>1000</code> iterations.</p>
</td></tr>
<tr><td><code id="mse_FHme_+3A_precision">PRECISION</code></td>
<td>
<p>convergence tolerance limit. Default value is <code>0.0001</code>.</p>
</td></tr>
<tr><td><code id="mse_FHme_+3A_data">data</code></td>
<td>
<p>optional data frame containing the variables named in formula, vardir, and var.x.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A formula has an implied intercept term. To remove this use either y ~ x - 1 or y ~ 0 + x. See <code><a href="stats.html#topic+formula">formula</a></code>  for more details of allowed formulae.
</p>


<h3>Value</h3>

<p>The function returns a list with the following objects:
</p>

<dl>
<dt><code>mse</code></dt><dd><p>vector with the values of the mean squared errors of the EBLUPs for each domain.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(dataME)
data(datamix)

mse.sae.me &lt;- mse_FHme(formula = y ~ x.hat, vardir = vardir, var.x = c("var.x"), data = dataME)
mse.sae.mix &lt;- mse_FHme(formula = y ~ x.hat1 + x.hat2 + x3 + x4,
                vardir = vardir, var.x = c("var.x1", "var.x2"), type.x = "mix", data = datamix)

</code></pre>

<hr>
<h2 id='saeME-package'>saeME: Small Area Estimation with Measurement Error</h2><span id='topic+saeME'></span><span id='topic+saeME-package'></span>

<h3>Description</h3>

<p>The sae with measurement error provides function for small area estimation when auxiliary variable is measured with error,
and function for mean squared error estimation using jackknife method.
This package implement model of Fay Herriot with Measurement Error developed by Ybarra and Lohr (2008).
</p>


<h3>Authors</h3>

<p>Muhammad Rifqi Mubarak, Azka Ubaidillah
</p>


<h3>Email</h3>

<p>Muhammad Rifqi Mubarak <a href="mailto:16.9304@stis.ac.id">16.9304@stis.ac.id</a>
</p>


<h3>Functions</h3>


<dl>
<dt><code><a href="#topic+FHme">FHme</a></code></dt><dd><p>Gives the EBLUP for each domain based on Fay-Herriot with measurement error model.</p>
</dd>
<dt><code><a href="#topic+mse_FHme">mse_FHme</a></code></dt><dd><p>Gives the MSE for each domain using the jackknife method.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Muhammad Rifqi Mubarak <a href="mailto:rifqi.mubarak@bps.go.id">rifqi.mubarak@bps.go.id</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Azka Ubaidillah <a href="mailto:azka@stis.ac.id">azka@stis.ac.id</a>
</p>
</li></ul>



<h3>References</h3>

<p>Ybarra, L.M. and Lohr, S. L. (2008). Small area estimation when auxiliary information is measured with error. Biometrika 95, 919-931.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

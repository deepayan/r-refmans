<!DOCTYPE html><html lang="en"><head><title>Help for package RCTRecruit</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RCTRecruit}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RCTRecruit-package'><p>RCTRecruit: Non-Parametric Recruitment Prediction for Randomized Clinical Trials</p></a></li>
<li><a href='#GetDistance'><p>Euclidean distance between predicted and actual recruitment</p></a></li>
<li><a href='#GetWeekPredCI'><p>Calculate median recruitment with 95% CI for the next 104 weeks (two years)</p></a></li>
<li><a href='#gripsYR1'><p>Daily recruitment data for the 1st year of the GRIPS study</p></a></li>
<li><a href='#gripsYR2'><p>Daily recruitment data for the 2nd year of the GRIPS study</p></a></li>
<li><a href='#gripsYR2Weekly'><p>Weekly recruitment data for the 2nd year of the GRIPS study</p></a></li>
<li><a href='#LoadData'><p>Load recruitment data.</p></a></li>
<li><a href='#Time2Nsubjects'><p>Simulate the number of weeks needed to recruit a given number of subjects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Non-Parametric Recruitment Prediction for Randomized Clinical
Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.24</td>
</tr>
<tr>
<td>Description:</td>
<td>Accurate prediction of subject recruitment for Randomized Clinical
    Trials (RCT) remains an ongoing challenge. Many previous prediction models rely
    on parametric assumptions. We present functions for non-parametric RCT
    recruitment prediction under several scenarios.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>lubridate, methods, Rcpp</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/imalagaris/RCTRecruit">https://github.com/imalagaris/RCTRecruit</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/imalagaris/RCTRecruit/issues">https://github.com/imalagaris/RCTRecruit/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, magrittr, testthat (&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-14 22:29:52 UTC; iomalaga</td>
</tr>
<tr>
<td>Author:</td>
<td>Ioannis Malagaris <a href="https://orcid.org/0000-0001-5126-2068"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Alejandro Villasante-Tezanos [aut],
  Christopher Kurinec [aut],
  Xiaoying Yu [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ioannis Malagaris &lt;iomalaga@utmb.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-15 19:00:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='RCTRecruit-package'>RCTRecruit: Non-Parametric Recruitment Prediction for Randomized Clinical Trials</h2><span id='topic+RCTRecruit'></span><span id='topic+RCTRecruit-package'></span>

<h3>Description</h3>

<p>Accurate prediction of subject recruitment for Randomized Clinical Trials (RCT) remains an ongoing challenge. Many previous prediction models rely on parametric assumptions. We present functions for non-parametric RCT recruitment prediction under several scenarios.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   Package: </td><td style="text-align: left;"> RCTRecruit </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   Type: </td><td style="text-align: left;"> Package </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   Version: </td><td style="text-align: left;"> 0.1.24 </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   Date: </td><td style="text-align: left;"> 2025-01-14 </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   License: </td><td style="text-align: left;"> MIT + file LICENSE </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   Functions: </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> <a href="#topic+GetDistance">GetDistance</a> </td><td style="text-align: left;"> Euclidean distance between predicted and actual recruitment </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> <a href="#topic+GetWeekPredCI">GetWeekPredCI</a> </td><td style="text-align: left;"> Calculate median recruitment with 95% CI for the next 104 weeks (two years) </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> <a href="#topic+LoadData">LoadData</a> </td><td style="text-align: left;"> Load recruitment data. </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> <a href="#topic+Time2Nsubjects">Time2Nsubjects</a> </td><td style="text-align: left;"> Simulate the number of weeks needed to recruit a given number of subjects </td>
</tr>
<tr>
 <td style="text-align: left;">
   Datasets: </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> <a href="#topic+gripsYR1">gripsYR1</a> </td><td style="text-align: left;"> Daily recruitment data for the 1st year of the GRIPS study </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> <a href="#topic+gripsYR2">gripsYR2</a> </td><td style="text-align: left;"> Daily recruitment data for the 2nd year of the GRIPS study </td>
</tr>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;"> <a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a> </td><td style="text-align: left;"> Weekly recruitment data for the 2nd year of the GRIPS study </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Ioannis Malagaris <a href="mailto:iomalaga@utmb.edu">iomalaga@utmb.edu</a> (<a href="https://orcid.org/0000-0001-5126-2068">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Alejandro Villasante-Tezanos <a href="mailto:alvillas@utmb.edu">alvillas@utmb.edu</a>
</p>
</li>
<li><p> Christopher Kurinec <a href="mailto:chkurine@utmb.edu">chkurine@utmb.edu</a>
</p>
</li>
<li><p> Xiaoying Yu <a href="mailto:xiyu@utmb.edu">xiyu@utmb.edu</a>
</p>
</li></ul>



<h3>References</h3>


<ol>
<li><p> Villasante-Tezanos A, Kuo Y, Kurinec C, Li Y, Yu X (2024). &quot;A
non-parametric approach to predict the recruitment for randomized
clinical trials: an example in elderly inpatient settings.&quot; <em>BMC
medical research methodology</em>, <em>24</em>, 189. ISSN 1471-2288,
<a href="https://pubmed.ncbi.nlm.nih.gov/39210285/">https://pubmed.ncbi.nlm.nih.gov/39210285/</a>.
</p>
</li>
<li><p> Gajewski BJ, Simon SD, Carlson SE (2008). &quot;Predicting accrual in
clinical trials with Bayesian posterior predictive distributions.&quot;
<em>Statistics in medicine</em>, <em>27</em>, 2328-40. ISSN 0277-6715,
<a href="https://pubmed.ncbi.nlm.nih.gov/17979152/">https://pubmed.ncbi.nlm.nih.gov/17979152/</a>.
</p>
</li>
<li><p> Jiang Y, Simon S, Mayo MS, Gajewski BJ (2015). &quot;Modeling and validating
Bayesian accrual models on clinical data and simulations using adaptive
priors.&quot; <em>Statistics in medicine</em>, <em>34</em>, 613-29. ISSN 1097-0258,
<a href="https://pubmed.ncbi.nlm.nih.gov/25376910/">https://pubmed.ncbi.nlm.nih.gov/25376910/</a>.
</p>
</li></ol>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/imalagaris/RCTRecruit">https://github.com/imalagaris/RCTRecruit</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/imalagaris/RCTRecruit/issues">https://github.com/imalagaris/RCTRecruit/issues</a>
</p>
</li></ul>

<p>Packages:<br>
</p>

<ul>
<li><p> Liu J, Jiang Y, Wu C, Simon S, Mayo MS, Raghavan R, Gajewski BJ (2023).
<em>accrual: Bayesian Accrual Prediction</em>. R package version 1.4,
<a href="https://CRAN.R-project.org/package=accrual">https://CRAN.R-project.org/package=accrual</a>.
</p>
</li></ul>

<p>Other Links: 
<code><a href="#topic+GetDistance">GetDistance</a>()</code>,
<code><a href="#topic+GetWeekPredCI">GetWeekPredCI</a>()</code>,
<code><a href="#topic+LoadData">LoadData</a>()</code>,
<code><a href="#topic+Time2Nsubjects">Time2Nsubjects</a>()</code>,
<code><a href="#topic+gripsYR1">gripsYR1</a></code>,
<code><a href="#topic+gripsYR2">gripsYR2</a></code>,
<code><a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a></code>
</p>

<hr>
<h2 id='GetDistance'>Euclidean distance between predicted and actual recruitment</h2><span id='topic+GetDistance'></span>

<h3>Description</h3>

<p>Euclidean distance between predicted and actual recruitment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetDistance(
  target,
  nSim = 10000L,
  fillGaps = FALSE,
  cauchyWt = FALSE,
  efficiencyFactor = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GetDistance_+3A_target">target</code></td>
<td>
<p>A vector with the actual recruitment by week</p>
</td></tr>
<tr><td><code id="GetDistance_+3A_nsim">nSim</code></td>
<td>
<p>Number of simulations to run (default = 1e4L). Accepted values are in the <br>
range of 1 to 10,000.</p>
</td></tr>
<tr><td><code id="GetDistance_+3A_fillgaps">fillGaps</code></td>
<td>
<p>Whether to fill recruitment gaps in the data (default = FALSE).<br>
Recruitment gaps are defined as any full week (Monday through Sunday) with<br>
no dates recorded in the loaded data. If at least one date is present within<br>
a given week, that week will not be considered a gap in recruitment.</p>
</td></tr>
<tr><td><code id="GetDistance_+3A_cauchywt">cauchyWt</code></td>
<td>
<p>Whether to use Cauchy weights for sampling.
If FALSE (default),<br>
binomial weights are used.</p>
</td></tr>
<tr><td><code id="GetDistance_+3A_efficiencyfactor">efficiencyFactor</code></td>
<td>
<p>An efficiency coefficient to apply to the recruitment rate (default = 1).<br>
If the efficiency of the recruitment process is expected to match<br>
the provided data, this value should be set to 1. If the recruitment<br>
process is expected to be slower, this value should less than 1. Finally,<br>
if the recruitment process is expected to proceed faster, this value should be<br>
greater than 1. Accepted values range from 0.1 to 2:<br>
</p>

<ul>
<li><p> 0.1: Indicates that the recruitment rate is expected to be 10% of the original rate.
</p>
</li>
<li><p> 2.0: Indicates that the recruitment rate is expected to be double the original rate.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>RCTDist</code> class with four elements.
</p>

<ol>
<li> <p><code>dist</code>:
A numeric vector with length equal to <code>nSim</code> containing the simulated<br>
Euclidean distance.
</p>
</li>
<li> <p><code>CI</code>: A numeric vector with the median and the 95% CI Euclidean distance.
</p>
</li>
<li> <p><code>call.</code>: The call (deparsed) that created the object
</p>
</li>
<li> <p><code>cargs</code>: A list with the arguments of the call that created the object<br>
including the default arguments
</p>
</li></ol>



<h3>See Also</h3>

<p>Other Links: 
<code><a href="#topic+GetWeekPredCI">GetWeekPredCI</a>()</code>,
<code><a href="#topic+LoadData">LoadData</a>()</code>,
<code><a href="#topic+RCTRecruit-package">RCTRecruit-package</a></code>,
<code><a href="#topic+Time2Nsubjects">Time2Nsubjects</a>()</code>,
<code><a href="#topic+gripsYR1">gripsYR1</a></code>,
<code><a href="#topic+gripsYR2">gripsYR2</a></code>,
<code><a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>LoadData(gripsYR1, ScreenDt, Enrolled)
(res &lt;- GetDistance(gripsYR2Weekly$enrolled))
str(res)
</code></pre>

<hr>
<h2 id='GetWeekPredCI'>Calculate median recruitment with 95% CI for the next 104 weeks (two years)</h2><span id='topic+GetWeekPredCI'></span>

<h3>Description</h3>

<p>Calculate median recruitment with 95% CI for the next 104 weeks (two years)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetWeekPredCI(
  nSim = 10000L,
  fillGaps = FALSE,
  cauchyWt = FALSE,
  efficiencyFactor = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GetWeekPredCI_+3A_nsim">nSim</code></td>
<td>
<p>Number of simulations to run (default = 1e4L). Accepted values are in the <br>
range of 1 to 10,000.</p>
</td></tr>
<tr><td><code id="GetWeekPredCI_+3A_fillgaps">fillGaps</code></td>
<td>
<p>Whether to fill recruitment gaps in the data (default = FALSE).<br>
Recruitment gaps are defined as any full week (Monday through Sunday) with<br>
no dates recorded in the loaded data. If at least one date is present within<br>
a given week, that week will not be considered a gap in recruitment.</p>
</td></tr>
<tr><td><code id="GetWeekPredCI_+3A_cauchywt">cauchyWt</code></td>
<td>
<p>Whether to use Cauchy weights for sampling.
If FALSE (default),<br>
binomial weights are used.</p>
</td></tr>
<tr><td><code id="GetWeekPredCI_+3A_efficiencyfactor">efficiencyFactor</code></td>
<td>
<p>An efficiency coefficient to apply to the recruitment rate (default = 1).<br>
If the efficiency of the recruitment process is expected to match<br>
the provided data, this value should be set to 1. If the recruitment<br>
process is expected to be slower, this value should less than 1. Finally,<br>
if the recruitment process is expected to proceed faster, this value should be<br>
greater than 1. Accepted values range from 0.1 to 2:<br>
</p>

<ul>
<li><p> 0.1: Indicates that the recruitment rate is expected to be 10% of the original rate.
</p>
</li>
<li><p> 2.0: Indicates that the recruitment rate is expected to be double the original rate.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>RCTPredCI</code> class with 5 elements.
</p>

<ol>
<li> <p><code>predCI</code>: An 104x3 matrix with the 2.5%, 50% and 97.5% weekly percentiles
</p>
</li>
<li> <p><code>plot(yMax = NULL, Title = NULL)</code>:<br>
Function which plots the results. It accepts the following arguments:
</p>

<ul>
<li> <p><code>yMax</code> sets the upper limit of the y-axis
</p>
</li>
<li> <p><code>Title</code> sets the main title for the plot
</p>
</li></ul>

</li>
<li> <p><code>pargs</code>:<br>
An environment which contains objects and functions used to construct<br>
the plot. Additional plot configuration to what the <code>plot()</code> function<br>
currently supports, can be achieved by modifying those objects
</p>
</li>
<li> <p><code>call.</code>: The call (deparsed) that created the object
</p>
</li>
<li> <p><code>cargs</code>: A list with the arguments of the call that created the object<br>
including the default arguments
</p>
</li></ol>



<h3>See Also</h3>

<p>Other Links: 
<code><a href="#topic+GetDistance">GetDistance</a>()</code>,
<code><a href="#topic+LoadData">LoadData</a>()</code>,
<code><a href="#topic+RCTRecruit-package">RCTRecruit-package</a></code>,
<code><a href="#topic+Time2Nsubjects">Time2Nsubjects</a>()</code>,
<code><a href="#topic+gripsYR1">gripsYR1</a></code>,
<code><a href="#topic+gripsYR2">gripsYR2</a></code>,
<code><a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>LoadData(gripsYR1, ScreenDt, Enrolled)
(res &lt;- GetWeekPredCI(fillGaps = TRUE, efficiencyFactor = 1.5))
scenarios &lt;- list(
  sc1 = GetWeekPredCI(),
  sc2 = GetWeekPredCI(cauchyWt = TRUE),
  sc3 = GetWeekPredCI(fillGaps = TRUE),
  sc4 = GetWeekPredCI(fillGaps = TRUE, efficiencyFactor = 1.2)
)
maxY &lt;- sapply(scenarios, \(x) x$pargs$maxY) |&gt; max()
defaultGraphicParams &lt;- par(no.readonly = TRUE)
graphics::par(mfrow = c(2, 2), oma = c(0, 1, 0, 7), mar = c(4, 4, 3, 1))
for (x in scenarios) x$plot(yMax = maxY, Title = x$call.)
do.call(par, defaultGraphicParams)
</code></pre>

<hr>
<h2 id='gripsYR1'>Daily recruitment data for the 1st year of the GRIPS study</h2><span id='topic+gripsYR1'></span>

<h3>Description</h3>

<p>Modified recruitment data from the first year of the GRIPS study. This
dataset includes the number or participants recruited for each calendar date
during active recruitment periods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gripsYR1
</code></pre>


<h3>Format</h3>

<p>A data frame with <strong>159</strong> observations of <strong>2</strong> variables</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,1] </td><td style="text-align: left;"> ScreenDt </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> Calendar date of the screening process for recruitment in the study </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,2] </td><td style="text-align: left;"> Enrolled </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Number of new subjects enrolled in the study on that date </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Source</h3>

<p>Villasante-Tezanos A, Kuo Y, Kurinec C, Li Y, Yu X (2024). &quot;A
non-parametric approach to predict the recruitment for randomized
clinical trials: an example in elderly inpatient settings.&quot; <em>BMC
medical research methodology</em>, <em>24</em>, 189. ISSN 1471-2288,
<a href="https://pubmed.ncbi.nlm.nih.gov/39210285/">https://pubmed.ncbi.nlm.nih.gov/39210285/</a>.
</p>


<h3>See Also</h3>

<p>Other Links: 
<code><a href="#topic+GetDistance">GetDistance</a>()</code>,
<code><a href="#topic+GetWeekPredCI">GetWeekPredCI</a>()</code>,
<code><a href="#topic+LoadData">LoadData</a>()</code>,
<code><a href="#topic+RCTRecruit-package">RCTRecruit-package</a></code>,
<code><a href="#topic+Time2Nsubjects">Time2Nsubjects</a>()</code>,
<code><a href="#topic+gripsYR2">gripsYR2</a></code>,
<code><a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a></code>
</p>

<hr>
<h2 id='gripsYR2'>Daily recruitment data for the 2nd year of the GRIPS study</h2><span id='topic+gripsYR2'></span>

<h3>Description</h3>

<p>Modified recruitment data from the second year of the GRIPS study. This
dataset includes the number or participants recruited for each calendar date
during active recruitment periods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gripsYR2
</code></pre>


<h3>Format</h3>

<p>A data frame with <strong>292</strong> observations of <strong>2</strong> variables</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,1] </td><td style="text-align: left;"> ScreenDt </td><td style="text-align: left;"> <code>character</code> </td><td style="text-align: left;"> Calendar date of the screening process for recruitment in the study </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,2] </td><td style="text-align: left;"> Enrolled </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Number of new subjects enrolled in the study on that date </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Source</h3>

<p>Villasante-Tezanos A, Kuo Y, Kurinec C, Li Y, Yu X (2024). &quot;A
non-parametric approach to predict the recruitment for randomized
clinical trials: an example in elderly inpatient settings.&quot; <em>BMC
medical research methodology</em>, <em>24</em>, 189. ISSN 1471-2288,
<a href="https://pubmed.ncbi.nlm.nih.gov/39210285/">https://pubmed.ncbi.nlm.nih.gov/39210285/</a>.
</p>


<h3>See Also</h3>

<p>Other Links: 
<code><a href="#topic+GetDistance">GetDistance</a>()</code>,
<code><a href="#topic+GetWeekPredCI">GetWeekPredCI</a>()</code>,
<code><a href="#topic+LoadData">LoadData</a>()</code>,
<code><a href="#topic+RCTRecruit-package">RCTRecruit-package</a></code>,
<code><a href="#topic+Time2Nsubjects">Time2Nsubjects</a>()</code>,
<code><a href="#topic+gripsYR1">gripsYR1</a></code>,
<code><a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a></code>
</p>

<hr>
<h2 id='gripsYR2Weekly'>Weekly recruitment data for the 2nd year of the GRIPS study</h2><span id='topic+gripsYR2Weekly'></span>

<h3>Description</h3>

<p>Modified recruitment data from the second year of the GRIPS study,
aggregated by calendar week.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gripsYR2Weekly
</code></pre>


<h3>Format</h3>

<p>A data frame with <strong>52</strong> observations of <strong>4</strong> variables</p>

<table>
<tr>
 <td style="text-align: left;">
    </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,1] </td><td style="text-align: left;"> week </td><td style="text-align: left;"> <code>double</code> </td><td style="text-align: left;"> Calendar week </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,2] </td><td style="text-align: left;"> year </td><td style="text-align: left;"> <code>double</code> </td><td style="text-align: left;"> Calendar year </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,3] </td><td style="text-align: left;"> enrolled </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Number of people enrolled that week </td>
</tr>
<tr>
 <td style="text-align: left;">
   [,4] </td><td style="text-align: left;"> activeDays </td><td style="text-align: left;"> <code>integer</code> </td><td style="text-align: left;"> Number of days in that week when recruitment was active </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Source</h3>

<p>Villasante-Tezanos A, Kuo Y, Kurinec C, Li Y, Yu X (2024). &quot;A
non-parametric approach to predict the recruitment for randomized
clinical trials: an example in elderly inpatient settings.&quot; <em>BMC
medical research methodology</em>, <em>24</em>, 189. ISSN 1471-2288,
<a href="https://pubmed.ncbi.nlm.nih.gov/39210285/">https://pubmed.ncbi.nlm.nih.gov/39210285/</a>.
</p>


<h3>See Also</h3>

<p>Other Links: 
<code><a href="#topic+GetDistance">GetDistance</a>()</code>,
<code><a href="#topic+GetWeekPredCI">GetWeekPredCI</a>()</code>,
<code><a href="#topic+LoadData">LoadData</a>()</code>,
<code><a href="#topic+RCTRecruit-package">RCTRecruit-package</a></code>,
<code><a href="#topic+Time2Nsubjects">Time2Nsubjects</a>()</code>,
<code><a href="#topic+gripsYR1">gripsYR1</a></code>,
<code><a href="#topic+gripsYR2">gripsYR2</a></code>
</p>

<hr>
<h2 id='LoadData'>Load recruitment data.</h2><span id='topic+LoadData'></span>

<h3>Description</h3>

<p>This function must be called before any other function in this package. LoadData<br>
checks the input data and stores the results internally for the session.<br>
Calling this function more than once in the same session will overwrite the<br>
previously created internal data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LoadData(data, date, enrolled)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LoadData_+3A_data">data</code></td>
<td>
<p>Main dataset containing at least two columns:
</p>

<ul>
<li><p> A <code>date</code> column with the calendar date of the screening
</p>
</li>
<li><p> A <code>enrolled</code> column with the number of subjects enrolled
</p>
</li></ul>

<p>If the entries cover a period longer than 1 year, only the entries within <br>
one year prior to the latest date will be retained.<br>
<br></p>
</td></tr>
<tr><td><code id="LoadData_+3A_date">date</code></td>
<td>
<p>The name (symbol or string) of the column in the dataset with the calendar<br>
dates of active screening. All active calendar dates should be included, even<br>
if the recruitment for that date is 0. Only dates with truly non-active<br>
recruitment should be omitted. The date column must be:
</p>

<ul>
<li><p> an object inheriting from class the <code>Date</code> class
</p>
</li>
<li><p> or a character vector with a valid date format.
</p>
</li></ul>
</td></tr>
<tr><td><code id="LoadData_+3A_enrolled">enrolled</code></td>
<td>
<p>The name (symbol or string) of the column in the dataset with the number of<br>
subjects recruited on the corresponding calendar date. It must be a numeric vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return any value. It runs several tests and proccesses<br>
the data and stores internally the results. It prints a message to the console<br>
if the data is successfully loaded  or an error message if there is an issue<br>
with the input data. Once the dataset is loaded, the following functions can<br>
be used:
</p>

<ul>
<li> <p><code><a href="#topic+Time2Nsubjects">Time2Nsubjects()</a></code>: simulates the number of weeks needed to recruit a<br>
given number of subjects
</p>
</li>
<li> <p><code><a href="#topic+GetDistance">GetDistance()</a></code>: calculates the Euclidean distance between the<br>
predicted and actual recruitment
</p>
</li>
<li> <p><code><a href="#topic+GetWeekPredCI">GetWeekPredCI()</a></code>: calculates the median recruitment with 95% CI for<br>
up to the next 104 weeks (two years)
</p>
</li></ul>



<h3>See Also</h3>

<p>Other Links: 
<code><a href="#topic+GetDistance">GetDistance</a>()</code>,
<code><a href="#topic+GetWeekPredCI">GetWeekPredCI</a>()</code>,
<code><a href="#topic+RCTRecruit-package">RCTRecruit-package</a></code>,
<code><a href="#topic+Time2Nsubjects">Time2Nsubjects</a>()</code>,
<code><a href="#topic+gripsYR1">gripsYR1</a></code>,
<code><a href="#topic+gripsYR2">gripsYR2</a></code>,
<code><a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load using names as symbols
LoadData(gripsYR1, ScreenDt, Enrolled)

# Load using names as strings
LoadData(gripsYR1, "ScreenDt", "Enrolled")

# Load using base pipe operator
gripsYR1 |&gt; LoadData(ScreenDt, Enrolled)

# Load using magrittr pipe operator
if (base::requireNamespace("magrittr", quietly = TRUE)) {
  library(magrittr)
  gripsYR1 %&gt;% LoadData(ScreenDt, Enrolled) 
}
</code></pre>

<hr>
<h2 id='Time2Nsubjects'>Simulate the number of weeks needed to recruit a given number of subjects</h2><span id='topic+Time2Nsubjects'></span>

<h3>Description</h3>

<p>Simulate the number of weeks needed to recruit a given number of subjects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Time2Nsubjects(
  nSub = 50L,
  nSim = 10000L,
  fillGaps = FALSE,
  cauchyWt = FALSE,
  efficiencyFactor = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Time2Nsubjects_+3A_nsub">nSub</code></td>
<td>
<p>Number of subjects to recruit (default = 50L)</p>
</td></tr>
<tr><td><code id="Time2Nsubjects_+3A_nsim">nSim</code></td>
<td>
<p>Number of simulations to run (default = 1e4L). Accepted values are in the <br>
range of 1 to 10,000.</p>
</td></tr>
<tr><td><code id="Time2Nsubjects_+3A_fillgaps">fillGaps</code></td>
<td>
<p>Whether to fill recruitment gaps in the data (default = FALSE).<br>
Recruitment gaps are defined as any full week (Monday through Sunday) with<br>
no dates recorded in the loaded data. If at least one date is present within<br>
a given week, that week will not be considered a gap in recruitment.</p>
</td></tr>
<tr><td><code id="Time2Nsubjects_+3A_cauchywt">cauchyWt</code></td>
<td>
<p>Whether to use Cauchy weights for sampling.
If FALSE (default),<br>
binomial weights are used.</p>
</td></tr>
<tr><td><code id="Time2Nsubjects_+3A_efficiencyfactor">efficiencyFactor</code></td>
<td>
<p>An efficiency coefficient to apply to the recruitment rate (default = 1).<br>
If the efficiency of the recruitment process is expected to match<br>
the provided data, this value should be set to 1. If the recruitment<br>
process is expected to be slower, this value should less than 1. Finally,<br>
if the recruitment process is expected to proceed faster, this value should be<br>
greater than 1. Accepted values range from 0.1 to 2:<br>
</p>

<ul>
<li><p> 0.1: Indicates that the recruitment rate is expected to be 10% of the original rate.
</p>
</li>
<li><p> 2.0: Indicates that the recruitment rate is expected to be double the original rate.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>RCTNWeeks</code> class with four elements.
</p>

<ol>
<li> <p><code>weeks</code> is an integer vector with length equal to <code>nSim</code> containing the
simulation results.
</p>
</li>
<li> <p><code>CI</code> shows the median and the 95% CI.
</p>
</li>
<li> <p><code>call.</code>: The call (deparsed) that created the object
</p>
</li>
<li> <p><code>cargs</code>: A list with the arguments of the call that created the object<br>
including the default arguments
</p>
</li></ol>



<h3>See Also</h3>

<p>Other Links: 
<code><a href="#topic+GetDistance">GetDistance</a>()</code>,
<code><a href="#topic+GetWeekPredCI">GetWeekPredCI</a>()</code>,
<code><a href="#topic+LoadData">LoadData</a>()</code>,
<code><a href="#topic+RCTRecruit-package">RCTRecruit-package</a></code>,
<code><a href="#topic+gripsYR1">gripsYR1</a></code>,
<code><a href="#topic+gripsYR2">gripsYR2</a></code>,
<code><a href="#topic+gripsYR2Weekly">gripsYR2Weekly</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>LoadData(gripsYR1, ScreenDt, Enrolled)
(res &lt;- Time2Nsubjects())
str(res)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

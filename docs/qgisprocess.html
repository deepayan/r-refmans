<!DOCTYPE html><html><head><title>Help for package qgisprocess</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {qgisprocess}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#qgisprocess-package'><p>qgisprocess: Use 'QGIS' Processing Algorithms</p></a></li>
<li><a href='#as_qgis_argument'><p>Type coercion for arguments to QGIS processing algorithms</p></a></li>
<li><a href='#has_qgis'><p>Check availability of QGIS, a plugin, a provider or an algorithm</p></a></li>
<li><a href='#qgis_algorithms'><p>List algorithms, processing providers or plugins</p></a></li>
<li><a href='#qgis_argument_spec'><p>Specify QGIS argument types</p></a></li>
<li><a href='#qgis_as_raster'><p>Convert a qgis_result object or one of its elements to a raster object</p></a></li>
<li><a href='#qgis_as_terra'><p>Convert a qgis_result object or one of its elements to a terra object</p></a></li>
<li><a href='#qgis_clean_result'><p>Clean processing results</p></a></li>
<li><a href='#qgis_configure'><p>Configure qgisprocess</p></a></li>
<li><a href='#qgis_delete_old_cachefiles'><p>Delete old cache files</p></a></li>
<li><a href='#qgis_detect_paths'><p>Detect QGIS installations with 'qgis_process' on Windows and macOS</p></a></li>
<li><a href='#qgis_enable_plugins'><p>Enable or disable QGIS plugins</p></a></li>
<li><a href='#qgis_extract_output'><p>Access processing output</p></a></li>
<li><a href='#qgis_function'><p>Create a wrapper function that runs one algorithm</p></a></li>
<li><a href='#qgis_list_input'><p>Prepare a compound input argument</p></a></li>
<li><a href='#qgis_path'><p>Get metadata about the used 'qgis_process' command</p></a></li>
<li><a href='#qgis_result_status'><p>Access processing results: extra tools</p></a></li>
<li><a href='#qgis_run'><p>Call the 'qgis_process' command directly</p></a></li>
<li><a href='#qgis_run_algorithm'><p>Run an algorithm using 'qgis_process'</p></a></li>
<li><a href='#qgis_run_algorithm_p'><p>Run an algorithm using 'qgis_process': pipe-friendly wrapper</p></a></li>
<li><a href='#qgis_search_algorithms'><p>Search geoprocessing algorithms</p></a></li>
<li><a href='#qgis_show_help'><p>Get detailed information about one algorithm</p></a></li>
<li><a href='#qgis_tmp_file'><p>Manage temporary files</p></a></li>
<li><a href='#qgis_unconfigure'><p>Clean the package cache</p></a></li>
<li><a href='#qgis_using_json_input'><p>Report if JSON objects are used for input to and output from 'qgis_process'</p></a></li>
<li><a href='#qgisprocess-deprecated'><p>Deprecated functions</p></a></li>
<li><a href='#st_as_sf'><p>Convert a qgis_result object or one of its elements to an sf object</p></a></li>
<li><a href='#st_as_stars'><p>Convert a qgis_result object or one of its elements to a stars object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Use 'QGIS' Processing Algorithms</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides seamless access to the 'QGIS'
    (<a href="https://qgis.org/en/site/">https://qgis.org/en/site/</a>) processing toolbox using the standalone
    'qgis_process' command-line utility.  Both native and third-party
    (plugin) processing providers are supported.  Beside referring data
    sources from file, also common objects from 'sf', 'terra' and 'stars'
    are supported. The native processing algorithms are documented by QGIS.org 
    (2024) <a href="https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/">https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-spatial.github.io/qgisprocess/">https://r-spatial.github.io/qgisprocess/</a>,
<a href="https://github.com/r-spatial/qgisprocess">https://github.com/r-spatial/qgisprocess</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-spatial/qgisprocess/issues">https://github.com/r-spatial/qgisprocess/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, glue, jsonlite, processx (&ge; 3.5.2), rappdirs,
rlang, stats, stringr, tibble, vctrs, withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, knitr, mapview, raster, rmarkdown, rprojroot, sf,
spDataLarge, stars, stringi, terra, testthat, tidyr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Additional_repositories:</td>
<td><a href="https://geocompr.r-universe.dev">https://geocompr.r-universe.dev</a></td>
</tr>
<tr>
<td>Config/checklist/communities:</td>
<td>inbo</td>
</tr>
<tr>
<td>Config/checklist/keywords:</td>
<td>R; package; QGIS</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>'QGIS' latest or long-term release currently
supported according to the 'QGIS' release schedule
(&lt;https://www.qgis.org/en/site/getinvolved/development/roadmap.html&gt;).
Older 'QGIS' releases are not officially supported, but may
work since 'QGIS' 3.16.</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-06 20:10:12 UTC; floris</td>
</tr>
<tr>
<td>Author:</td>
<td>Dewey Dunnington <a href="https://orcid.org/0000-0002-9415-4582"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut] (Voltron Data),
  Floris Vanderhaeghe
    <a href="https://orcid.org/0000-0002-6378-6229"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]
    (Research Institute for Nature and Forest (INBO)),
  Jan Caha <a href="https://orcid.org/0000-0003-0165-0606"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jannes Muenchow <a href="https://orcid.org/0000-0001-7834-4717"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Antony Barja <a href="https://orcid.org/0000-0001-5921-2858"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Robin Lovelace <a href="https://orcid.org/0000-0001-5679-6536"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Jakub Nowosad <a href="https://orcid.org/0000-0002-1057-3721"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Research Institute for Nature and Forest (INBO) [cph, fnd]
    (https://www.inbo.be/en/)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Floris Vanderhaeghe &lt;floris.vanderhaeghe@inbo.be&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-07 10:30:17 UTC</td>
</tr>
</table>
<hr>
<h2 id='qgisprocess-package'>qgisprocess: Use 'QGIS' Processing Algorithms</h2><span id='topic+qgisprocess'></span><span id='topic+qgisprocess-package'></span>

<h3>Description</h3>

<p>Provides seamless access to the 'QGIS' (<a href="https://qgis.org/en/site/">https://qgis.org/en/site/</a>) processing toolbox using the standalone 'qgis_process' command-line utility. Both native and third-party (plugin) processing providers are supported. Beside referring data sources from file, also common objects from 'sf', 'terra' and 'stars' are supported. The native processing algorithms are documented by QGIS.org (2023) <a href="https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/">https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/</a>.
</p>


<h3>Note</h3>

<p>A structured overview of the available functions can be consulted at
<a href="https://r-spatial.github.io/qgisprocess/reference/index.html">https://r-spatial.github.io/qgisprocess/reference/index.html</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Floris Vanderhaeghe <a href="mailto:floris.vanderhaeghe@inbo.be">floris.vanderhaeghe@inbo.be</a> (<a href="https://orcid.org/0000-0002-6378-6229">ORCID</a>) (Research Institute for Nature and Forest (INBO))
</p>
<p>Authors:
</p>

<ul>
<li><p> Dewey Dunnington <a href="mailto:dewey@fishandwhistle.net">dewey@fishandwhistle.net</a> (<a href="https://orcid.org/0000-0002-9415-4582">ORCID</a>) (Voltron Data)
</p>
</li>
<li><p> Jan Caha <a href="mailto:jan.caha@outlook.com">jan.caha@outlook.com</a> (<a href="https://orcid.org/0000-0003-0165-0606">ORCID</a>)
</p>
</li>
<li><p> Jannes Muenchow <a href="mailto:malnamalja@gmx.de">malnamalja@gmx.de</a> (<a href="https://orcid.org/0000-0001-7834-4717">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Antony Barja <a href="mailto:antony.barja8@gmail.com">antony.barja8@gmail.com</a> (<a href="https://orcid.org/0000-0001-5921-2858">ORCID</a>) [contributor]
</p>
</li>
<li><p> Robin Lovelace <a href="mailto:rob00x@gmail.com">rob00x@gmail.com</a> (<a href="https://orcid.org/0000-0001-5679-6536">ORCID</a>) [contributor]
</p>
</li>
<li><p> Jakub Nowosad <a href="mailto:nowosad.jakub@gmail.com">nowosad.jakub@gmail.com</a> (<a href="https://orcid.org/0000-0002-1057-3721">ORCID</a>) [contributor]
</p>
</li>
<li><p> Research Institute for Nature and Forest (INBO) (https://www.inbo.be/en/) [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://r-spatial.github.io/qgisprocess/">https://r-spatial.github.io/qgisprocess/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-spatial/qgisprocess">https://github.com/r-spatial/qgisprocess</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-spatial/qgisprocess/issues">https://github.com/r-spatial/qgisprocess/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_qgis_argument'>Type coercion for arguments to QGIS processing algorithms</h2><span id='topic+as_qgis_argument'></span><span id='topic+qgis_clean_argument'></span>

<h3>Description</h3>

<p>Calls to <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code> can and should contain R objects that
need to be serialized before they are passed to the command line. In
some cases (e.g., sf objects), temporary files need to be written and
cleaned up. The <code>as_qgis_argument()</code> and <code>qgis_clean_argument()</code> S3
generics provide hooks for argument values to be serialized correctly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_qgis_argument(x, spec = qgis_argument_spec(), use_json_input = FALSE)

qgis_clean_argument(value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_qgis_argument_+3A_x">x</code></td>
<td>
<p>An object passed to a QGIS processing algorithm</p>
</td></tr>
<tr><td><code id="as_qgis_argument_+3A_spec">spec</code></td>
<td>
<p>A <code>list()</code> with values for <code>algorithm</code>, <code>name</code>,
<code>description</code>, and <code>qgis_type</code>. See <code><a href="#topic+qgis_argument_spec">qgis_argument_spec()</a></code> to
create a blank <code>spec</code> for testing.</p>
</td></tr>
<tr><td><code id="as_qgis_argument_+3A_use_json_input">use_json_input</code></td>
<td>
<p>TRUE if the arguments will be
serialized as JSON instead of serialized as a command-line argument.</p>
</td></tr>
<tr><td><code id="as_qgis_argument_+3A_value">value</code></td>
<td>
<p>The result of <code><a href="#topic+as_qgis_argument">as_qgis_argument()</a></code> after the QGIS processing
algorithm has been run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The returned object class and form depends on the class and form of <code>x</code> and
on the targeted <code>qgis_type</code>.
</p>
<p>If <code>x</code> is a <code>qgis_list_input</code> or a <code>qgis_dict_input</code> object, the same class
is returned but with <code>as_qgis_argument()</code> applied to each element.
</p>
<p>In all other cases, the outcome can depend on the value of <code>use_json_input</code>
and this also holds for the elements of <code>qgis_list_input</code> and
<code>qgis_dict_input</code> objects:
</p>

<ul>
<li><p> if <code>use_json_input = FALSE</code>: a string.
</p>
</li>
<li><p> if <code>use_json_input = TRUE</code>: various classes can be returned that will be
correctly serialized as JSON.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
qgisprocess::as_qgis_argument(
  c("a", "b"),
  spec = list(qgis_type = "range"),
  use_json_input = FALSE
)
qgisprocess::as_qgis_argument(
  c(1, 2),
  spec = list(qgis_type = "range"),
  use_json_input = FALSE
)
qgisprocess::as_qgis_argument(
  c("a", "b"),
  spec = list(qgis_type = "range"),
  use_json_input = TRUE
)
qgisprocess::as_qgis_argument(
  c(1, 2),
  spec = list(qgis_type = "range"),
  use_json_input = TRUE
)
mat &lt;- matrix(1:12, ncol = 3)
mat
qgisprocess::as_qgis_argument(
  mat,
  spec = list(qgis_type = "matrix"),
  use_json_input = FALSE
)
qgisprocess::as_qgis_argument(
  mat,
  spec = list(qgis_type = "matrix"),
  use_json_input = TRUE
)

</code></pre>

<hr>
<h2 id='has_qgis'>Check availability of QGIS, a plugin, a provider or an algorithm</h2><span id='topic+has_qgis'></span><span id='topic+qgis_has_plugin'></span><span id='topic+qgis_has_provider'></span><span id='topic+qgis_has_algorithm'></span>

<h3>Description</h3>

<p><code>has_qgis()</code> checks whether the loaded qgisprocess cache is populated,
which means that a QGIS installation was accessible and responsive when
loading the package.
<code>qgis_has_plugin()</code>, <code>qgis_has_provider()</code> and <code>qgis_has_algorithm()</code> check
for the availability of one or several plugins, processing providers and
algorithms, respectively.
They are vectorized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_qgis()

qgis_has_plugin(plugin, query = FALSE, quiet = TRUE)

qgis_has_provider(provider, query = FALSE, quiet = TRUE)

qgis_has_algorithm(algorithm, query = FALSE, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_qgis_+3A_plugin">plugin</code></td>
<td>
<p>A plugin name (e.g., <code>"native"</code>).
Can be a vector of names.</p>
</td></tr>
<tr><td><code id="has_qgis_+3A_query">query</code></td>
<td>
<p>Use <code>TRUE</code> to refresh the cached value.</p>
</td></tr>
<tr><td><code id="has_qgis_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>FALSE</code> to display more information,
possibly useful for debugging.</p>
</td></tr>
<tr><td><code id="has_qgis_+3A_provider">provider</code></td>
<td>
<p>A provider name (e.g., <code>"native"</code>).
Can be a vector of names.</p>
</td></tr>
<tr><td><code id="has_qgis_+3A_algorithm">algorithm</code></td>
<td>
<p>A qualified algorithm name
(e.g., <code>"native:buffer"</code>).
Can be a vector of names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical, with length 1 in case of <code>has_qgis()</code>.
</p>


<h3>Note</h3>

<p>Only plugins that implement processing providers are supported.
</p>


<h3>See Also</h3>

<p>Other topics about reporting the QGIS state: 
<code><a href="#topic+qgis_algorithms">qgis_algorithms</a>()</code>,
<code><a href="#topic+qgis_path">qgis_path</a>()</code>,
<code><a href="#topic+qgis_using_json_input">qgis_using_json_input</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>has_qgis()
if (has_qgis()) qgis_has_algorithm("native:filedownloader")
if (has_qgis()) qgis_has_provider("native")
if (has_qgis()) qgis_has_plugin(c("grassprovider", "processing_saga_nextgen"))

</code></pre>

<hr>
<h2 id='qgis_algorithms'>List algorithms, processing providers or plugins</h2><span id='topic+qgis_algorithms'></span><span id='topic+qgis_providers'></span><span id='topic+qgis_plugins'></span>

<h3>Description</h3>

<p>Functions that return metadata about the installed and enabled algorithms or
processing providers, or about the installed plugins that implement
processing providers.
See the <a href="https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/qgis/index.html">QGIS docs</a>
for a detailed description of the algorithms provided
'out of the box' on QGIS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_algorithms(query = FALSE, quiet = TRUE, include_deprecated = TRUE)

qgis_providers(query = FALSE, quiet = TRUE, include_deprecated = TRUE)

qgis_plugins(which = "all", query = FALSE, quiet = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_algorithms_+3A_query">query</code></td>
<td>
<p>Use <code>TRUE</code> to refresh the cached value.</p>
</td></tr>
<tr><td><code id="qgis_algorithms_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>FALSE</code> to display more information,
possibly useful for debugging.</p>
</td></tr>
<tr><td><code id="qgis_algorithms_+3A_include_deprecated">include_deprecated</code></td>
<td>
<p>Logical. Should deprecated algorithms be included?</p>
</td></tr>
<tr><td><code id="qgis_algorithms_+3A_which">which</code></td>
<td>
<p>String defining which plugins to select, based on their
status in QGIS (enabled or disabled).
Must be one of: <code>"all"</code>, <code>"enabled"</code>, <code>"disabled"</code>.</p>
</td></tr>
<tr><td><code id="qgis_algorithms_+3A_...">...</code></td>
<td>
<p>Only used by other functions calling this function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>include_deprecated</code> argument in <code>qgis_algorithms()</code> does not affect the
cached value. The latter always includes deprecated algorithms if these are
returned by 'qgis_process' (this requires the JSON output method).
</p>


<h3>Value</h3>

<p>A tibble of algorithms, processing providers or plugins, with metadata.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qgis_enable_plugins">qgis_enable_plugins()</a></code>, <code><a href="#topic+qgis_disable_plugins">qgis_disable_plugins()</a></code>
</p>
<p>Other topics about information on algorithms &amp; processing providers: 
<code><a href="#topic+qgis_search_algorithms">qgis_search_algorithms</a>()</code>,
<code><a href="#topic+qgis_show_help">qgis_show_help</a>()</code>
</p>
<p>Other topics about reporting the QGIS state: 
<code><a href="#topic+has_qgis">has_qgis</a>()</code>,
<code><a href="#topic+qgis_path">qgis_path</a>()</code>,
<code><a href="#topic+qgis_using_json_input">qgis_using_json_input</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_algorithms()
qgis_algorithms(include_deprecated = FALSE)
qgis_providers()
qgis_plugins(quiet = FALSE)
qgis_plugins(which = "disabled")

</code></pre>

<hr>
<h2 id='qgis_argument_spec'>Specify QGIS argument types</h2><span id='topic+qgis_argument_spec'></span>

<h3>Description</h3>

<p>Specify QGIS argument types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_argument_spec(
  algorithm = NA_character_,
  name = NA_character_,
  description = NA_character_,
  qgis_type = NA_character_,
  available_values = character(0),
  acceptable_values = character(0)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_argument_spec_+3A_algorithm">algorithm</code></td>
<td>
<p>A qualified algorithm name (e.g., <code>"native:buffer"</code>) or
a path to a QGIS model file.</p>
</td></tr>
<tr><td><code id="qgis_argument_spec_+3A_name">name</code>, <code id="qgis_argument_spec_+3A_description">description</code>, <code id="qgis_argument_spec_+3A_qgis_type">qgis_type</code>, <code id="qgis_argument_spec_+3A_available_values">available_values</code>, <code id="qgis_argument_spec_+3A_acceptable_values">acceptable_values</code></td>
<td>
<p>Column values of <code>arguments</code> denoting
the argument name, description, and acceptable values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+list">list()</a></code> with an element for each input argument.
</p>


<h3>Note</h3>

<p>This is an internal function.
</p>

<hr>
<h2 id='qgis_as_raster'>Convert a qgis_result object or one of its elements to a raster object</h2><span id='topic+qgis_as_raster'></span><span id='topic+qgis_as_brick'></span><span id='topic+qgis_as_raster.qgis_outputRaster'></span><span id='topic+qgis_as_brick.qgis_outputRaster'></span><span id='topic+qgis_as_raster.qgis_outputLayer'></span><span id='topic+qgis_as_brick.qgis_outputLayer'></span><span id='topic+qgis_as_raster.qgis_result'></span><span id='topic+qgis_as_brick.qgis_result'></span>

<h3>Description</h3>

<p>Convert a qgis_result object or one of its elements to a raster object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_as_raster(x, ...)

qgis_as_brick(x, ...)

## S3 method for class 'qgis_outputRaster'
qgis_as_raster(x, ...)

## S3 method for class 'qgis_outputRaster'
qgis_as_brick(x, ...)

## S3 method for class 'qgis_outputLayer'
qgis_as_raster(x, ...)

## S3 method for class 'qgis_outputLayer'
qgis_as_brick(x, ...)

## S3 method for class 'qgis_result'
qgis_as_raster(x, ...)

## S3 method for class 'qgis_result'
qgis_as_brick(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_as_raster_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object from <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code> or a
<code style="white-space: pre;">&#8288;qgis_output*&#8288;</code> object from one of the <code><a href="#topic+qgis_extract_output">qgis_extract_output()</a></code> functions.</p>
</td></tr>
<tr><td><code id="qgis_as_raster_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="raster.html#topic+raster">raster::raster()</a></code> or <code><a href="raster.html#topic+brick">raster::brick()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>RasterLayer</code> or a <code>RasterBrick</code> object.
</p>


<h3>See Also</h3>

<p>Other topics about coercing processing output: 
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>
<p>Other topics about accessing or managing processing results: 
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+qgis_clean_result">qgis_clean_result</a>()</code>,
<code><a href="#topic+qgis_extract_output">qgis_extract_output</a>()</code>,
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# not running below examples in R CMD check to save time
result &lt;- qgis_run_algorithm(
  "native:slope",
  INPUT = system.file("longlake/longlake_depth.tif", package = "qgisprocess")
)

# most direct approach, autoselecting a `qgis_outputRaster` type
# output from the `result` object and reading as RasterLayer:
qgis_as_raster(result)

# if you need more control, extract the needed output element first:
output_raster &lt;- qgis_extract_output(result, "OUTPUT")
qgis_as_raster(output_raster)


</code></pre>

<hr>
<h2 id='qgis_as_terra'>Convert a qgis_result object or one of its elements to a terra object</h2><span id='topic+qgis_as_terra'></span><span id='topic+qgis_as_terra.qgis_outputRaster'></span><span id='topic+qgis_as_terra.qgis_outputLayer'></span><span id='topic+qgis_as_terra.qgis_outputVector'></span><span id='topic+qgis_as_terra.qgis_result'></span>

<h3>Description</h3>

<p>This function performs coercion to one of the terra classes
<code>SpatRaster</code>, <code>SpatVector</code> or <code>SpatVectorProxy</code> (add <code>proxy = TRUE</code> for the
latter).
The distinction between <code>SpatRaster</code> and <code>SpatVector</code> is based on the
output type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_as_terra(x, ...)

## S3 method for class 'qgis_outputRaster'
qgis_as_terra(x, ...)

## S3 method for class 'qgis_outputLayer'
qgis_as_terra(x, ...)

## S3 method for class 'qgis_outputVector'
qgis_as_terra(x, ...)

## S3 method for class 'qgis_result'
qgis_as_terra(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_as_terra_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object from <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code> or a
<code style="white-space: pre;">&#8288;qgis_output*&#8288;</code> object from one of the <code><a href="#topic+qgis_extract_output">qgis_extract_output()</a></code> functions.</p>
</td></tr>
<tr><td><code id="qgis_as_terra_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="terra.html#topic+rast">terra::rast()</a></code> or <code><a href="terra.html#topic+vect">terra::vect()</a></code>, depending
on the output type of <code>x</code> (or one of its elements, if <code>x</code> is a
<code>qgis_result</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SpatRaster</code>, <code>SpatVector</code> or <code>SpatVectorProxy</code> object.
</p>


<h3>See Also</h3>

<p>Other topics about coercing processing output: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>
<p>Other topics about accessing or managing processing results: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_clean_result">qgis_clean_result</a>()</code>,
<code><a href="#topic+qgis_extract_output">qgis_extract_output</a>()</code>,
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# not running below examples in R CMD check to save time
result &lt;- qgis_run_algorithm(
  "native:slope",
  INPUT = system.file("longlake/longlake_depth.tif", package = "qgisprocess")
)

# most direct approach, autoselecting a `qgis_outputRaster` type
# output from the `result` object and reading as SpatRaster:
qgis_as_terra(result)

# if you need more control, extract the needed output element first:
output_raster &lt;- qgis_extract_output(result, "OUTPUT")
qgis_as_terra(output_raster)

# Same holds for coercion to SpatVector
result2 &lt;- qgis_run_algorithm(
  "native:buffer",
  INPUT = system.file("longlake/longlake.gpkg", package = "qgisprocess"),
  DISTANCE = 100
)

qgis_as_terra(result2)
output_vector &lt;- qgis_extract_output(result2, "OUTPUT")
qgis_as_terra(output_vector)

# SpatVectorProxy:
qgis_as_terra(result2, proxy = TRUE)


</code></pre>

<hr>
<h2 id='qgis_clean_result'>Clean processing results</h2><span id='topic+qgis_clean_result'></span>

<h3>Description</h3>

<p>Deletes any temporary files that are defined in a
<code>qgis_result</code> object.
These may comprise both input and output files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_clean_result(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_clean_result_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object returned by <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>qgis_result</code> object passed to the function is returned
invisibly.
</p>


<h3>See Also</h3>

<p>Other topics about accessing or managing processing results: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+qgis_extract_output">qgis_extract_output</a>()</code>,
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
result &lt;- qgis_run_algorithm(
  "native:buffer",
  INPUT = system.file("longlake/longlake_depth.gpkg", package = "qgisprocess"),
  DISTANCE = 10
)

file.exists(qgis_extract_output(result))
qgis_clean_result(result)
file.exists(qgis_extract_output(result))

</code></pre>

<hr>
<h2 id='qgis_configure'>Configure qgisprocess</h2><span id='topic+qgis_configure'></span>

<h3>Description</h3>

<p>Run <code>qgis_configure()</code> to bring the package configuration in line with
QGIS and to save this configuration to a persistent cache.
See the <em>Details</em> section for more information about setting the path of
the 'qgis_process' command line tool.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_configure(quiet = FALSE, use_cached_data = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_configure_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>FALSE</code> to display more information,
possibly useful for debugging.</p>
</td></tr>
<tr><td><code id="qgis_configure_+3A_use_cached_data">use_cached_data</code></td>
<td>
<p>Use the cached algorithm list and <code>path</code> found when
configuring qgisprocess during the last session. This saves some time
loading the package.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The qgisprocess package is a wrapper around the 'qgis_process' command line
tool distributed with QGIS (&gt;=3.14). Several functions use heuristics to
detect the location of the 'qgis_process' executable.
</p>
<p>When loading the package, the configuration is automatically read from the
cache with <code>qgis_configure(use_cached_data = TRUE, quiet = TRUE)</code> in order
to save time.
Run <code>qgis_configure(use_cached_data = TRUE)</code> manually to get more details.
</p>
<p>Use <code>qgis_algorithms()</code>, <code>qgis_providers()</code>, <code>qgis_plugins()</code>,
<code>qgis_using_json_output()</code>, <code>qgis_path()</code> and <code>qgis_version()</code> to inspect cache
contents.
</p>
<p>If the configuration
fails or you have more than one QGIS installation, you can set
<code>options(qgisprocess.path = "path/to/qgis_process")</code> or the
<code>R_QGISPROCESS_PATH</code> environment variable (useful on CI). On Linux the
'qgis_process' executable is generally available on the user's PATH,
on MacOS the executable is within the QGIS*.app/Contents/MacOS/bin folder,
and on Windows the executable is named qgis_process-qgis.bat or
qgis_process-qgis-dev.bat and is located in Program Files/QGIS*/bin or
OSGeo4W(64)/bin.
</p>


<h3>Value</h3>

<p>The result of <code><a href="processx.html#topic+run">processx::run()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qgis_unconfigure">qgis_unconfigure()</a></code>
</p>
<p><code><a href="#topic+qgis_path">qgis_path()</a></code>, <code><a href="#topic+qgis_version">qgis_version()</a></code>
</p>
<p>Other topics about configuring QGIS and qgisprocess: 
<code><a href="#topic+qgis_enable_plugins">qgis_enable_plugins</a>()</code>,
<code><a href="#topic+qgis_run">qgis_run</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# not running in R CMD check to save time
qgis_configure(use_cached_data = TRUE)


## Not run: 
# package reconfiguration
# (not run in example() as it rewrites the package cache file)
qgis_configure()

## End(Not run)

</code></pre>

<hr>
<h2 id='qgis_delete_old_cachefiles'>Delete old cache files</h2><span id='topic+qgis_delete_old_cachefiles'></span>

<h3>Description</h3>

<p>Delete old cache files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_delete_old_cachefiles(
  type = "all",
  age_days = NULL,
  quiet = FALSE,
  startup = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_delete_old_cachefiles_+3A_type">type</code></td>
<td>
<p>A string; either <code>"all"</code>, <code>"package"</code> or <code>"help"</code>.
This selects the type of cache files to delete.</p>
</td></tr>
<tr><td><code id="qgis_delete_old_cachefiles_+3A_age_days">age_days</code></td>
<td>
<p>A number that expresses a cache file's age that must
be exceeded for it to be deleted, with age defined as days elapsed since the
file's last modification date.
The default value of 90 days can also be changed with the option
<code>qgisprocess.cachefiles_days_keep</code> or the  environment variable
<code>R_QGISPROCESS_CACHEFILES_DAYS_KEEP</code>.</p>
</td></tr>
<tr><td><code id="qgis_delete_old_cachefiles_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>FALSE</code> to display more information,
possibly useful for debugging.</p>
</td></tr>
<tr><td><code id="qgis_delete_old_cachefiles_+3A_startup">startup</code></td>
<td>
<p>Logical.
Is this command being run while loading the package?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a currently used package cache file will never be deleted.
</p>
<p>This function is called when loading the package.
</p>


<h3>Note</h3>

<p>This is an internal function.
</p>

<hr>
<h2 id='qgis_detect_paths'>Detect QGIS installations with 'qgis_process' on Windows and macOS</h2><span id='topic+qgis_detect_paths'></span><span id='topic+qgis_detect_windows_paths'></span><span id='topic+qgis_detect_macos_paths'></span>

<h3>Description</h3>

<p>Discovers existing 'qgis_process' executables on the system and returns their
filepath.
Only available for Windows and macOS systems.
<code>qgis_detect_paths()</code> is a shortcut to <code>qgis_detect_windows_paths()</code> on
Windows and <code>qgis_detect_macos_paths()</code> on macOS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_detect_paths(drive_letter = strsplit(R.home(), ":")[[1]][1])

qgis_detect_windows_paths(drive_letter = strsplit(R.home(), ":")[[1]][1])

qgis_detect_macos_paths()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_detect_paths_+3A_drive_letter">drive_letter</code></td>
<td>
<p>The drive letter on which to search. By default,
this is the same drive letter as the R executable.
Only applicable to Windows.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of possible paths to the 'qgis_process'
executable.
</p>


<h3>Note</h3>

<p>These functions do not verify whether the discovered 'qgis_process'
executables successfully run.
You can run <code>qgis_path(query = TRUE, quiet = FALSE)</code> to discover and cache
the first 'qgis_process' in the list that works.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qgis_configure">qgis_configure()</a></code>, <code><a href="#topic+qgis_path">qgis_path()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (.Platform$OS.type == "windows") {
  qgis_detect_paths()
  identical(qgis_detect_windows_paths(), qgis_detect_paths())
}
if (Sys.info()["sysname"] == "Darwin") {
  qgis_detect_paths()
  identical(qgis_detect_macos_paths(), qgis_detect_paths())
}
</code></pre>

<hr>
<h2 id='qgis_enable_plugins'>Enable or disable QGIS plugins</h2><span id='topic+qgis_enable_plugins'></span><span id='topic+qgis_disable_plugins'></span>

<h3>Description</h3>

<p>Processing plugins, installed in QGIS, can be in an 'enabled' or 'disabled'
state in QGIS.
The plugin state can be controlled from R.
<code>qgis_enable_plugins()</code> enables plugins while <code>qgis_disable_plugins()</code>
does the reverse.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_enable_plugins(names = NULL, quiet = FALSE)

qgis_disable_plugins(names = NULL, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_enable_plugins_+3A_names">names</code></td>
<td>
<p>Optional character vector of plugin names.</p>
</td></tr>
<tr><td><code id="qgis_enable_plugins_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>FALSE</code> to display more information,
possibly useful for debugging.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The cache is immediately updated upon enabling or disabling plugins from R.
</p>
<p>Run <code><a href="#topic+qgis_plugins">qgis_plugins()</a></code> to list the available plugins that implement processing
providers.
</p>
<p>If you installed, removed, enabled or disabled plugins in the QGIS GUI, then
run <code><a href="#topic+qgis_configure">qgis_configure()</a></code> to make those changes available in R.
</p>
<p>If <code>names</code> is not provided to <code>qgis_enable_plugins()</code>, it is assumed that all
<em>disabled</em> plugins are to be enabled.
If <code>names</code> is not provided to <code>qgis_disable_plugins()</code>, it is assumed that all
<em>enabled</em> plugins are to be disabled.
Note that the 'processing' plugin is ignored, because it is always available
to 'qgis_process' (not QGIS though).
</p>


<h3>Value</h3>

<p>A tibble of plugins, invisibly.
</p>


<h3>Note</h3>

<p>Only plugins that implement processing providers are supported.
Installing or removing plugins is not supported.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qgis_plugins">qgis_plugins()</a></code>
</p>
<p>Other topics about configuring QGIS and qgisprocess: 
<code><a href="#topic+qgis_configure">qgis_configure</a>()</code>,
<code><a href="#topic+qgis_run">qgis_run</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_enable_plugins("name_of_plugin")

</code></pre>

<hr>
<h2 id='qgis_extract_output'>Access processing output</h2><span id='topic+qgis_extract_output'></span><span id='topic+qgis_extract_output_by_name'></span><span id='topic+qgis_extract_output_by_position'></span><span id='topic+qgis_extract_output_by_class'></span>

<h3>Description</h3>

<p>These functions extract one output element from the result of
<code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>, potentially more than one in the case of
<code>qgis_extract_output_by_class()</code>.
An output element can be extracted based on its name, its position in the
printed <code>qgis_result</code> object returned by <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>, or its
class.
</p>
<p><code>qgis_extract_output()</code> is an alias to <code>qgis_extract_output_by_name()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_extract_output_by_name(x, name = "OUTPUT", first = TRUE)

qgis_extract_output(x, name = "OUTPUT", first = TRUE)

qgis_extract_output_by_position(x, which)

qgis_extract_output_by_class(x, class, single = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_extract_output_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object returned by <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>.</p>
</td></tr>
<tr><td><code id="qgis_extract_output_+3A_name">name</code></td>
<td>
<p>The name of an output.</p>
</td></tr>
<tr><td><code id="qgis_extract_output_+3A_first">first</code></td>
<td>
<p>Logical.
Should <code>qgis_extract_output_by_name()</code> fall back to the first
output element if the default <code>OUTPUT</code> or <code>output</code> element is not available?
Only takes effect if <code>name</code> is equal to <code>OUTPUT</code> or <code>output</code>, but not found.</p>
</td></tr>
<tr><td><code id="qgis_extract_output_+3A_which">which</code></td>
<td>
<p>The index of an output.</p>
</td></tr>
<tr><td><code id="qgis_extract_output_+3A_class">class</code></td>
<td>
<p>Character vector of classes.
At least one class must be inherited by an element of <code>x</code> for that element
to be selected.</p>
</td></tr>
<tr><td><code id="qgis_extract_output_+3A_single">single</code></td>
<td>
<p>Logical.
Ensures the selection of a single output in <code>qgis_extract_output_by_class()</code>.
The <code>OUTPUT</code> or <code>output</code> element is taken if available and on condition that
it inherits a specified class; otherwise falls back
to the first element that inherits a specified class.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;qgis_output*&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other topics about accessing or managing processing results: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+qgis_clean_result">qgis_clean_result</a>()</code>,
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
result &lt;- qgis_run_algorithm(
  "native:buffer",
  INPUT = system.file("longlake/longlake_depth.gpkg", package = "qgisprocess"),
  DISTANCE = 10
)

# the print() method of a qgis_result only prints its output elements:
result

# nevertheless, more elements are included:
length(result)
names(result)

# extract the output element 'OUTPUT':
qgis_extract_output(result)

</code></pre>

<hr>
<h2 id='qgis_function'>Create a wrapper function that runs one algorithm</h2><span id='topic+qgis_function'></span>

<h3>Description</h3>

<p>As opposed to <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>, <code><a href="#topic+qgis_function">qgis_function()</a></code> creates a callable
function based on the argument metadata provided by <code><a href="#topic+qgis_get_argument_specs">qgis_get_argument_specs()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_function(algorithm, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_function_+3A_algorithm">algorithm</code></td>
<td>
<p>A qualified algorithm name
(e.g., <code>"native:buffer"</code>).</p>
</td></tr>
<tr><td><code id="qgis_function_+3A_...">...</code></td>
<td>
<p>Algorithm arguments.
These values are evaluated once and immediately, so you shouldn't
call <code><a href="#topic+qgis_tmp_file">qgis_tmp_file()</a></code> here.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The logic of <code>qgis_function()</code> has been implemented in R package
<a href="https://github.com/JanCaha/r_package_qgis">qgis</a>.
This package also provides the QGIS documentation of each processing
algorithm as corresponding R function documentation.
</p>


<h3>Value</h3>

<p>A function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_buffer &lt;- qgis_function("native:buffer")
qgis_buffer(
  system.file(
    "longlake/longlake_depth.gpkg",
    package = "qgisprocess"
  ),
  DISTANCE = 10
)

</code></pre>

<hr>
<h2 id='qgis_list_input'>Prepare a compound input argument</h2><span id='topic+qgis_list_input'></span><span id='topic+qgis_dict_input'></span>

<h3>Description</h3>

<p>Some algorithm arguments require a compound object, consisting of
several layers or elements.
These functions apply strict validation rules when generating this object and
are recommended.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_list_input(...)

qgis_dict_input(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_list_input_+3A_...">...</code></td>
<td>
<p>Named values for <code>qgis_dict_input()</code> or
unnamed values for <code>qgis_list_input()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>qgis_list_input()</code> generates an unnamed list of class <code>qgis_list_input</code>.
The use of <code>qgis_list_input()</code> instead of list() is <em>required</em> for compound
arguments <em>in case of no-JSON input</em> (see <code><a href="#topic+qgis_using_json_input">qgis_using_json_input()</a></code>).
Since it applies strict validation rules, it is recommended in all cases
though.
</p>
<p><code>qgis_dict_input()</code> generates a named list of class <code>qgis_dict_input</code>.
<code>qgis_dict_input()</code> is only supported when the JSON input method applies
(see <code><a href="#topic+qgis_using_json_input">qgis_using_json_input()</a></code>), where it can be interchanged with a named <code>list()</code>.
It can only be used for arguments requiring <em>named</em> lists.
Since it applies strict validation rules, it is recommended above <code>list()</code>.
</p>
<p>Some QGIS argument types that need a compount object are the <code>multilayer</code>,
<code>aggregates</code>, <code>fields_mapping</code>, <code>tininputlayers</code> and
<code>vectortilewriterlayers</code> argument types.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>qgis_list_input()</code>: An object of class 'qgis_list_input'
</p>
</li>
<li> <p><code>qgis_dict_input()</code>: An object of class 'qgis_dict_input'
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>qgis_list_input(1, 2, 3)
qgis_dict_input(a = 1, b = 2, c = 3)

</code></pre>

<hr>
<h2 id='qgis_path'>Get metadata about the used 'qgis_process' command</h2><span id='topic+qgis_path'></span><span id='topic+qgis_version'></span>

<h3>Description</h3>

<p><code>qgis_path()</code> returns the filepath of the 'qgis_process' command, while
<code>qgis_version()</code> returns the QGIS version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_path(query = FALSE, quiet = TRUE)

qgis_version(query = FALSE, quiet = TRUE, full = TRUE, debug = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_path_+3A_query">query</code></td>
<td>
<p>Use <code>TRUE</code> to refresh the cached value.</p>
</td></tr>
<tr><td><code id="qgis_path_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>FALSE</code> to display more information,
possibly useful for debugging.</p>
</td></tr>
<tr><td><code id="qgis_path_+3A_full">full</code></td>
<td>
<p>Logical.
If <code>FALSE</code>, only return the <code>"x.y.z"</code> version string instead of the full
version string that includes the name.
Defaults to <code>TRUE</code>; ignored if <code>debug = TRUE</code>.</p>
</td></tr>
<tr><td><code id="qgis_path_+3A_debug">debug</code></td>
<td>
<p>Logical.
If <code>TRUE</code>, also output the version of QGIS, the operating system and all
relevant libraries, as reported by the 'qgis_process' command.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qgis_configure">qgis_configure()</a></code>
</p>
<p>Other topics about reporting the QGIS state: 
<code><a href="#topic+has_qgis">has_qgis</a>()</code>,
<code><a href="#topic+qgis_algorithms">qgis_algorithms</a>()</code>,
<code><a href="#topic+qgis_using_json_input">qgis_using_json_input</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_path()
qgis_path(quiet = FALSE)
qgis_version()
qgis_version(full = FALSE)
qgis_version(debug = TRUE)

</code></pre>

<hr>
<h2 id='qgis_result_status'>Access processing results: extra tools</h2><span id='topic+qgis_result_status'></span><span id='topic+qgis_result_stdout'></span><span id='topic+qgis_result_stderr'></span><span id='topic+qgis_result_args'></span>

<h3>Description</h3>

<p>A <code>qgis_result</code> object is a list that, next to the output elements,
also contains other elements that can be useful in scripting.
Several of these can be extracted with convenience functions:
the exit status of the process, standard output and standard error of
'qgis_process', arguments passed to 'qgis_process'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_result_status(x)

qgis_result_stdout(x)

qgis_result_stderr(x)

qgis_result_args(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_result_status_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object returned by <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> A number in case of <code>qgis_result_status()</code>.
</p>
</li>
<li><p> A string in case of <code>qgis_result_stdout()</code> and <code>qgis_result_stderr()</code>.
</p>
</li>
<li><p> A list in case of <code>qgis_result_args()</code>.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other topics about programming or debugging utilities: 
<code><a href="#topic+qgis_run">qgis_run</a>()</code>,
<code><a href="#topic+qgis_tmp_file">qgis_tmp_file</a>()</code>,
<code><a href="#topic+qgis_unconfigure">qgis_unconfigure</a>()</code>,
<code><a href="#topic+qgis_using_json_input">qgis_using_json_input</a>()</code>
</p>
<p>Other topics about accessing or managing processing results: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+qgis_clean_result">qgis_clean_result</a>()</code>,
<code><a href="#topic+qgis_extract_output">qgis_extract_output</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
result &lt;- qgis_run_algorithm(
  "native:buffer",
  INPUT = system.file("longlake/longlake_depth.gpkg", package = "qgisprocess"),
  DISTANCE = 10
)

qgis_result_status(result)
stdout &lt;- qgis_result_stdout(result)
cat(substr(stdout, 1, 335))
qgis_result_stderr(result)
qgis_result_args(result)

</code></pre>

<hr>
<h2 id='qgis_run'>Call the 'qgis_process' command directly</h2><span id='topic+qgis_run'></span>

<h3>Description</h3>

<p><code>qgis_run()</code> offers full access to 'qgis_process'.
Run <code>cat(qgis_run("--help")$stdout)</code> to get the command's help.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_run(args = character(), ..., env = qgis_env(), path = qgis_path())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_run_+3A_args">args</code></td>
<td>
<p>Command-line arguments</p>
</td></tr>
<tr><td><code id="qgis_run_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="processx.html#topic+run">processx::run()</a></code>.</p>
</td></tr>
<tr><td><code id="qgis_run_+3A_env">env</code></td>
<td>
<p>A <code><a href="base.html#topic+list">list()</a></code> of environment variables.
Defaults to
<code>getOption("qgisprocess.env", list(QT_QPA_PLATFORM = "offscreen"))</code>.</p>
</td></tr>
<tr><td><code id="qgis_run_+3A_path">path</code></td>
<td>
<p>A path to the 'qgis_process' executable. Defaults to
<code><a href="#topic+qgis_path">qgis_path()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="processx.html#topic+run">processx::run()</a></code> return value, i.e. a list with <code>status</code>, <code>stdout</code>,
<code>stderr</code> and <code>timeout</code> elements.
</p>


<h3>See Also</h3>

<p>Other topics about programming or debugging utilities: 
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+qgis_tmp_file">qgis_tmp_file</a>()</code>,
<code><a href="#topic+qgis_unconfigure">qgis_unconfigure</a>()</code>,
<code><a href="#topic+qgis_using_json_input">qgis_using_json_input</a>()</code>
</p>
<p>Other topics about configuring QGIS and qgisprocess: 
<code><a href="#topic+qgis_configure">qgis_configure</a>()</code>,
<code><a href="#topic+qgis_enable_plugins">qgis_enable_plugins</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
processx_list &lt;- qgis_run(args = "--help")
cat(processx_list$stdout)

</code></pre>

<hr>
<h2 id='qgis_run_algorithm'>Run an algorithm using 'qgis_process'</h2><span id='topic+qgis_run_algorithm'></span>

<h3>Description</h3>

<p>Runs an algorithm using 'qgis_process'.
See the <a href="https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/">QGIS docs</a>
for a detailed description of the algorithms provided
'out of the box' on QGIS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_run_algorithm(
  algorithm,
  ...,
  PROJECT_PATH = NULL,
  ELLIPSOID = NULL,
  .raw_json_input = NULL,
  .quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_run_algorithm_+3A_algorithm">algorithm</code></td>
<td>
<p>A qualified algorithm name (e.g., <code>"native:buffer"</code>) or
a path to a QGIS model file.</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_+3A_...">...</code></td>
<td>
<p>Named key-value pairs as arguments for the algorithm. Features of
<code><a href="rlang.html#topic+list2">rlang::list2()</a></code> are supported. These arguments
are converted to strings using <code><a href="#topic+as_qgis_argument">as_qgis_argument()</a></code>.</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_+3A_project_path">PROJECT_PATH</code>, <code id="qgis_run_algorithm_+3A_ellipsoid">ELLIPSOID</code></td>
<td>
<p>Global values for QGIS project file and
ellipsoid name for distance calculations.</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_+3A_.raw_json_input">.raw_json_input</code></td>
<td>
<p>The raw JSON to use as input in place of <code>...</code>.
See <em>Details</em> section.</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_+3A_.quiet">.quiet</code></td>
<td>
<p>Use <code>FALSE</code> to get extra output from 'qgis_process'.
This can be useful in debugging.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>qgis_run_algorithm()</code> accepts various R objects as algorithm arguments.
An overview is given by <code>vignette("qgis_arguments")</code>.
Examples include an R matrix or data frame for the
argument type 'matrix', R colors for the argument type 'color',
sf or terra (SpatVector) objects for the argument type 'vector' and
raster/terra/stars objects for the argument type 'raster', but there are many
more.
<code>qgis_run_algorithm()</code> preprocesses the provided objects into the format that
QGIS expects for a given argument.
</p>
<p>Providing R objects that cannot be converted to the applicable argument type
will lead to an error.
</p>
<p>Algorithm arguments can be passed as arguments of <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>, but
they can also be combined as a JSON string and fed into the <code>.raw_json_input</code>
argument.
A JSON string can be obtained from the QGIS GUI, either from the
processing tool dialog or from the processing history dialog, by selecting
'Copy as JSON' in the 'Advanced' dropdown menu.
So a user can first try out a geoprocessing step in the QGIS GUI, and
once the chosen algorithm arguments are satisfactory, copy the JSON string
to reproduce the operation in R.
A screenshot is available at the package homepage.
</p>


<h3>Value</h3>

<p>A <code>qgis_result</code> object.
</p>


<h3>Running QGIS models and Python scripts</h3>

<p>QGIS models and Python scripts can be added to the Processing Toolbox in the
QGIS GUI, by pointing at their corresponding file.
This will put the model or script below the provider 'Models' or
'Scripts', respectively.
Next, it is necessary to run <code><a href="#topic+qgis_configure">qgis_configure()</a></code> in R in order to make the
model or script available to qgisprocess (even reloading the package won't
detect it, since these providers have dynamic content, not tied to a
plugin or to a QGIS version).
You can check the outcome with <code><a href="#topic+qgis_providers">qgis_providers()</a></code> and
<code><a href="#topic+qgis_search_algorithms">qgis_search_algorithms()</a></code>.
Now, just as with other algorithms, you can provide the <code style="white-space: pre;">&#8288;model:&lt;name&gt;&#8288;</code> or
<code style="white-space: pre;">&#8288;script:&lt;name&gt;&#8288;</code> identifier to the <code>algorithm</code> argument of
<code>qgis_run_algorithm()</code>.
</p>
<p>As the output argument name of a QGIS model can have an R-unfriendly
syntax, you may need to take the JSON parameter string from the QGIS
processing dialog and feed the JSON string to the <code>.raw_json_input</code> argument
of <code>qgis_run_algorithm()</code> instead of providing separate arguments.
</p>
<p>Although the 'qgis_process' backend also supports replacing the 'algorithm'
parameter by the file path of a model file or a Python script, it is not
planned to implement this in qgisprocess, as it would bypass argument
preprocessing in R (including checks).
</p>


<h3>See Also</h3>

<p><code>vignette("qgis_arguments")</code>
</p>
<p>Other functions to run one geoprocessing algorithm: 
<code><a href="#topic+qgis_run_algorithm_p">qgis_run_algorithm_p</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_run_algorithm(
  "native:buffer",
  INPUT = system.file("longlake/longlake_depth.gpkg", package = "qgisprocess"),
  DISTANCE = 10
)

</code></pre>

<hr>
<h2 id='qgis_run_algorithm_p'>Run an algorithm using 'qgis_process': pipe-friendly wrapper</h2><span id='topic+qgis_run_algorithm_p'></span>

<h3>Description</h3>

<p><code><a href="#topic+qgis_run_algorithm_p">qgis_run_algorithm_p()</a></code> wraps <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>, passing
its first argument to the first argument of the QGIS <code>algorithm</code>.
This makes it more convenient in a pipeline (hence '_p' in the name).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_run_algorithm_p(
  .data,
  algorithm,
  ...,
  .select = "OUTPUT",
  .clean = TRUE,
  .quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_run_algorithm_p_+3A_.data">.data</code></td>
<td>
<p>Passed to the first input of <code>algorithm</code>.
If <code>.data</code> is a <code>qgis_result</code> (the result of a previous processing
step), <code>.data[[.select]]</code> is passed instead.</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_p_+3A_algorithm">algorithm</code></td>
<td>
<p>A qualified algorithm name
(e.g., <code>"native:buffer"</code>).</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_p_+3A_...">...</code></td>
<td>
<p>Other algorithm arguments.
These values are evaluated once and immediately, so you shouldn't
call <code><a href="#topic+qgis_tmp_file">qgis_tmp_file()</a></code> here.</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_p_+3A_.select">.select</code></td>
<td>
<p>String.
The name of the element to select from <code>.data</code> if the latter is a
<code>qgis_result</code>.
Defaults to <code>"OUTPUT"</code>.</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_p_+3A_.clean">.clean</code></td>
<td>
<p>Logical.
Should an incoming <code>qgis_result</code> be cleaned (using <code><a href="#topic+qgis_clean_result">qgis_clean_result()</a></code>)
after processing?</p>
</td></tr>
<tr><td><code id="qgis_run_algorithm_p_+3A_.quiet">.quiet</code></td>
<td>
<p>Use <code>FALSE</code> to get extra output from 'qgis_process'.
This can be useful in debugging.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses <code><a href="#topic+qgis_function">qgis_function()</a></code> under the hood.
</p>


<h3>Value</h3>

<p>A <code>qgis_result</code> object.
</p>


<h3>See Also</h3>

<p>Other functions to run one geoprocessing algorithm: 
<code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
system.file(
  "longlake/longlake_depth.gpkg",
  package = "qgisprocess"
) |&gt;
  qgis_run_algorithm_p(
    "native:buffer",
    DISTANCE = 10
  )

</code></pre>

<hr>
<h2 id='qgis_search_algorithms'>Search geoprocessing algorithms</h2><span id='topic+qgis_search_algorithms'></span>

<h3>Description</h3>

<p>Searches for algorithms using a regular expression.
In its simplest form
that is just a string that must match part of a character value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_search_algorithms(
  algorithm = NULL,
  provider = NULL,
  group = NULL,
  include_deprecated = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_search_algorithms_+3A_algorithm">algorithm</code></td>
<td>
<p>Regular expression to match the <code>algorithm</code> or
<code>algorithm_title</code> value from the output of <code><a href="#topic+qgis_algorithms">qgis_algorithms()</a></code>.</p>
</td></tr>
<tr><td><code id="qgis_search_algorithms_+3A_provider">provider</code></td>
<td>
<p>Regular expression to match the <code>provider</code> or
<code>provider_title</code> value from the output of <code><a href="#topic+qgis_algorithms">qgis_algorithms()</a></code>.</p>
</td></tr>
<tr><td><code id="qgis_search_algorithms_+3A_group">group</code></td>
<td>
<p>Regular expression to match the <code>group</code> value
from the output of <code><a href="#topic+qgis_algorithms">qgis_algorithms()</a></code>.</p>
</td></tr>
<tr><td><code id="qgis_search_algorithms_+3A_include_deprecated">include_deprecated</code></td>
<td>
<p>Logical. Should deprecated algorithms be included?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When using multiple arguments in combination, only the algorithms are
returned that fulfill all conditions.
</p>
<p>All regular expressions that <code><a href="stringr.html#topic+str_detect">stringr::str_detect()</a></code> can handle, are
accepted.
Have a look at <code><a href="stringi.html#topic+about_search_regex">stringi::search_regex()</a></code> to get a nice overview.
</p>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>See Also</h3>

<p>Other topics about information on algorithms &amp; processing providers: 
<code><a href="#topic+qgis_algorithms">qgis_algorithms</a>()</code>,
<code><a href="#topic+qgis_show_help">qgis_show_help</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_search_algorithms(
  algorithm = "point.*line",
  provider = "^native$"
)

</code></pre>

<hr>
<h2 id='qgis_show_help'>Get detailed information about one algorithm</h2><span id='topic+qgis_show_help'></span><span id='topic+qgis_get_description'></span><span id='topic+qgis_get_argument_specs'></span><span id='topic+qgis_get_output_specs'></span>

<h3>Description</h3>

<p>Get detailed information about one algorithm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_show_help(algorithm)

qgis_get_description(algorithm)

qgis_get_argument_specs(algorithm, ...)

qgis_get_output_specs(algorithm, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_show_help_+3A_algorithm">algorithm</code></td>
<td>
<p>A qualified algorithm name
(e.g., <code>"native:buffer"</code>).</p>
</td></tr>
<tr><td><code id="qgis_show_help_+3A_...">...</code></td>
<td>
<p>For internal use only.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>qgis_get_description()</code>: a string.
</p>
</li>
<li> <p><code>qgis_get_argument_specs()</code>, <code>qgis_get_output_specs()</code>: a tibble.
</p>
</li>
<li> <p><code>qgis_show_help()</code>: the algorithm name, invisibly.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other topics about information on algorithms &amp; processing providers: 
<code><a href="#topic+qgis_algorithms">qgis_algorithms</a>()</code>,
<code><a href="#topic+qgis_search_algorithms">qgis_search_algorithms</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_get_description("native:filedownloader")

# not running below examples in R CMD check to save time
qgis_get_argument_specs("native:filedownloader")
qgis_get_output_specs("native:filedownloader")
qgis_show_help("native:filedownloader")


</code></pre>

<hr>
<h2 id='qgis_tmp_file'>Manage temporary files</h2><span id='topic+qgis_tmp_file'></span><span id='topic+qgis_tmp_folder'></span><span id='topic+qgis_tmp_vector'></span><span id='topic+qgis_tmp_raster'></span><span id='topic+qgis_tmp_base'></span><span id='topic+qgis_clean_tmp'></span>

<h3>Description</h3>

<p>These functions create temporary files that can be used
in calls to <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code> or elsewhere. These
files are created in a special temporary directory
(<code><a href="#topic+qgis_tmp_base">qgis_tmp_base()</a></code>) that should be periodically cleaned up
using <code><a href="#topic+qgis_clean_tmp">qgis_clean_tmp()</a></code>. You can set your preferred
vector and/or raster file extension using
<code>options(qgisprocess.tmp_vector_ext = "...")</code> and/or
<code>options(qgisprocess.tmp_raster_ext = "...")</code>, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_tmp_file(ext)

qgis_tmp_folder()

qgis_tmp_vector(ext = getOption("qgisprocess.tmp_vector_ext", ".gpkg"))

qgis_tmp_raster(ext = getOption("qgisprocess.tmp_raster_ext", ".tif"))

qgis_tmp_base()

qgis_clean_tmp()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_tmp_file_+3A_ext">ext</code></td>
<td>
<p>The file extension to be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector indicating the location of a
(not yet created) temporary file.
</p>


<h3>See Also</h3>

<p>Other topics about programming or debugging utilities: 
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+qgis_run">qgis_run</a>()</code>,
<code><a href="#topic+qgis_unconfigure">qgis_unconfigure</a>()</code>,
<code><a href="#topic+qgis_using_json_input">qgis_using_json_input</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>qgis_tmp_base()
qgis_tmp_file(".csv")
qgis_tmp_vector()
qgis_tmp_raster()

</code></pre>

<hr>
<h2 id='qgis_unconfigure'>Clean the package cache</h2><span id='topic+qgis_unconfigure'></span>

<h3>Description</h3>

<p>Empties the qgisprocess cache environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_unconfigure()
</code></pre>


<h3>Value</h3>

<p><code>NULL</code>, invisibly.
</p>


<h3>See Also</h3>

<p>Other topics about programming or debugging utilities: 
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+qgis_run">qgis_run</a>()</code>,
<code><a href="#topic+qgis_tmp_file">qgis_tmp_file</a>()</code>,
<code><a href="#topic+qgis_using_json_input">qgis_using_json_input</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# not running this function in example() as it clears the cache environment.
qgis_unconfigure()

## End(Not run)

# undoing qgis_unconfigure() by repopulating the cache environment from file:

# not running in R CMD check to save time
qgis_configure(use_cached_data = TRUE)


</code></pre>

<hr>
<h2 id='qgis_using_json_input'>Report if JSON objects are used for input to and output from 'qgis_process'</h2><span id='topic+qgis_using_json_input'></span><span id='topic+qgis_using_json_output'></span>

<h3>Description</h3>

<p>Returns a logical that reveals whether the JSON input and output methods are
used, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qgis_using_json_input()

qgis_using_json_output(query = FALSE, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgis_using_json_input_+3A_query">query</code></td>
<td>
<p>Logical.
Should the outcome of <code>qgis_using_json_output()</code> ignore the cached value?
The argument has effect on condition that no user setting 'use_json_output'
is in place (see Details).
</p>

<ul>
<li><p> If set as <code>TRUE</code>, the function simply returns <code>TRUE</code> and the cached value
for the current session is set as <code>TRUE</code>.
</p>
</li>
<li><p> If set as <code>FALSE</code> (default), the function returns the cached value on
condition that it does not conflict with a 'use_json_<strong>in</strong>put' user setting.
</p>
</li></ul>
</td></tr>
<tr><td><code id="qgis_using_json_input_+3A_quiet">quiet</code></td>
<td>
<p>Use <code>FALSE</code> to display more information,
possibly useful for debugging.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since QGIS 3.24 the JSON input method of 'qgis_process' is used by default
when calling the command.
It allows to use certain algorithms that
require a more complex input argument, e.g. a list of lists (see
<code><a href="#topic+qgis_list_input">qgis_list_input()</a></code>).
</p>
<p>Likewise, JSON output is the default output format requested from
'qgis_process'.
Using the JSON input method of 'qgis_process' automatically implies
using the JSON output method; when <em>not</em> using the JSON input method it is
possible (but not the default) to also not use the JSON output method.
</p>
<p>The defaults can be overruled with the options
<code>qgisprocess.use_json_input</code> or <code>qgisprocess.use_json_output</code>, and with the
environment variables <code>R_QGISPROCESS_USE_JSON_INPUT</code> or
<code>R_QGISPROCESS_USE_JSON_OUTPUT</code>.
</p>
<p>The returned JSON output method is always
cached during the current session by <code>qgis_using_json_output()</code>.
Given that <code>qgis_using_json_output()</code> is called by various functions
in the package, having a user setting 'use_json_output' in place (see above)
will have effect during subsequent usage of the package.
To cache the value between sessions, <code><a href="#topic+qgis_configure">qgis_configure()</a></code> needs to be called
to update the value stored in the persistent package cache file.
</p>
<p>The JSON input method is not cached but simply determined on the fly, based
on QGIS version, the JSON output method and the user setting if present.
</p>
<p>There is good reason for having 'use_json_output' in the persistent package
cache: the values of <code><a href="#topic+qgis_algorithms">qgis_algorithms()</a></code> and <code><a href="#topic+qgis_plugins">qgis_plugins()</a></code> are different
with or without the JSON output method, and are also stored in the cache.
</p>


<h3>Value</h3>

<p>A logical of length 1.
</p>


<h3>See Also</h3>

<p>Other topics about programming or debugging utilities: 
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+qgis_run">qgis_run</a>()</code>,
<code><a href="#topic+qgis_tmp_file">qgis_tmp_file</a>()</code>,
<code><a href="#topic+qgis_unconfigure">qgis_unconfigure</a>()</code>
</p>
<p>Other topics about reporting the QGIS state: 
<code><a href="#topic+has_qgis">has_qgis</a>()</code>,
<code><a href="#topic+qgis_algorithms">qgis_algorithms</a>()</code>,
<code><a href="#topic+qgis_path">qgis_path</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qgis_using_json_input()
qgis_using_json_output()

</code></pre>

<hr>
<h2 id='qgisprocess-deprecated'>Deprecated functions</h2><span id='topic+qgisprocess-deprecated'></span><span id='topic+qgis_output'></span><span id='topic+qgis_result_single'></span><span id='topic+qgis_detect_windows'></span><span id='topic+qgis_detect_macos'></span><span id='topic+qgis_use_json_input'></span><span id='topic+qgis_use_json_output'></span><span id='topic+qgis_description'></span><span id='topic+qgis_arguments'></span><span id='topic+qgis_outputs'></span><span id='topic+qgis_pipe'></span><span id='topic+qgis_tmp_clean'></span><span id='topic+qgis_result_clean'></span>

<h3>Description</h3>


<ul>
<li><p> Instead of <code>qgis_output()</code>, use <code><a href="#topic+qgis_extract_output">qgis_extract_output()</a></code> and related
functions.
</p>
</li>
<li><p> Instead of <code>qgis_result_single()</code>, use <code><a href="#topic+qgis_extract_output">qgis_extract_output()</a></code> and related
functions.
</p>
</li>
<li><p> Instead of <code>qgis_detect_windows()</code>, use <code><a href="#topic+qgis_detect_windows_paths">qgis_detect_windows_paths()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_detect_macos()</code>, use <code><a href="#topic+qgis_detect_macos_paths">qgis_detect_macos_paths()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_use_json_input()</code>, use <code><a href="#topic+qgis_using_json_input">qgis_using_json_input()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_use_json_output()</code>, use <code><a href="#topic+qgis_using_json_output">qgis_using_json_output()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_description()</code>, use <code><a href="#topic+qgis_get_description">qgis_get_description()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_arguments()</code>, use <code><a href="#topic+qgis_get_argument_specs">qgis_get_argument_specs()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_outputs()</code>, use <code><a href="#topic+qgis_get_output_specs">qgis_get_output_specs()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_pipe()</code>, use <code><a href="#topic+qgis_run_algorithm_p">qgis_run_algorithm_p()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_tmp_clean()</code>, use <code><a href="#topic+qgis_clean_tmp">qgis_clean_tmp()</a></code>.
</p>
</li>
<li><p> Instead of <code>qgis_result_clean()</code>, use <code><a href="#topic+qgis_clean_result">qgis_clean_result()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>qgis_output(x, which)

qgis_result_single(x, what)

qgis_detect_windows(...)

qgis_detect_macos()

qgis_use_json_input()

qgis_use_json_output(...)

qgis_description(...)

qgis_arguments(...)

qgis_outputs(...)

qgis_pipe(...)

qgis_tmp_clean(...)

qgis_result_clean(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qgisprocess-deprecated_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object returned by <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code>.</p>
</td></tr>
<tr><td><code id="qgisprocess-deprecated_+3A_which">which</code></td>
<td>
<p>The index of an output.</p>
</td></tr>
<tr><td><code id="qgisprocess-deprecated_+3A_what">what</code></td>
<td>
<p>Character vector of classes.</p>
</td></tr>
<tr><td><code id="qgisprocess-deprecated_+3A_...">...</code></td>
<td>
<p>Arguments passed to the new function.
This is done for functions where only the function name changed at
time of deprecation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A value as described in the documentation of the corresponding new function.
</p>

<hr>
<h2 id='st_as_sf'>Convert a qgis_result object or one of its elements to an sf object</h2><span id='topic+st_as_sf'></span><span id='topic+st_as_sf.qgis_result'></span><span id='topic+st_as_sf.qgis_outputVector'></span><span id='topic+st_as_sf.qgis_outputLayer'></span>

<h3>Description</h3>

<p>Convert a qgis_result object or one of its elements to an sf object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'qgis_result'
st_as_sf(x, ...)

## S3 method for class 'qgis_outputVector'
st_as_sf(x, ...)

## S3 method for class 'qgis_outputLayer'
st_as_sf(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="st_as_sf_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object from <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code> or a
<code style="white-space: pre;">&#8288;qgis_output*&#8288;</code> object from one of the <code><a href="#topic+qgis_extract_output">qgis_extract_output()</a></code> functions.</p>
</td></tr>
<tr><td><code id="st_as_sf_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="sf.html#topic+st_read">sf::read_sf()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The sf package must be loaded explicitly to use these methods.
</p>


<h3>Value</h3>

<p>An <code>sf</code> object.
</p>


<h3>See Also</h3>

<p>Other topics about coercing processing output: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>
<p>Other topics about accessing or managing processing results: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+qgis_clean_result">qgis_clean_result</a>()</code>,
<code><a href="#topic+qgis_extract_output">qgis_extract_output</a>()</code>,
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+st_as_stars">st_as_stars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# not running below examples in R CMD check to save time
result &lt;- qgis_run_algorithm(
  "native:buffer",
  INPUT = system.file("longlake/longlake_depth.gpkg", package = "qgisprocess"),
  DISTANCE = 10
)

# most direct approach, autoselecting a `qgis_outputVector` type
# output from the `result` object and reading as sf object:
sf::st_as_sf(result)

# if you need more control, extract the needed output element first:
output_vector &lt;- qgis_extract_output(result, "OUTPUT")
sf::st_as_sf(output_vector)


</code></pre>

<hr>
<h2 id='st_as_stars'>Convert a qgis_result object or one of its elements to a stars object</h2><span id='topic+st_as_stars'></span><span id='topic+st_as_stars.qgis_outputRaster'></span><span id='topic+st_as_stars.qgis_outputLayer'></span><span id='topic+st_as_stars.qgis_result'></span>

<h3>Description</h3>

<p>Convert a qgis_result object or one of its elements to a stars object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'qgis_outputRaster'
st_as_stars(x, ...)

## S3 method for class 'qgis_outputLayer'
st_as_stars(x, ...)

## S3 method for class 'qgis_result'
st_as_stars(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="st_as_stars_+3A_x">x</code></td>
<td>
<p>A <code>qgis_result</code> object from <code><a href="#topic+qgis_run_algorithm">qgis_run_algorithm()</a></code> or a
<code style="white-space: pre;">&#8288;qgis_output*&#8288;</code> object from one of the <code><a href="#topic+qgis_extract_output">qgis_extract_output()</a></code> functions.</p>
</td></tr>
<tr><td><code id="st_as_stars_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="stars.html#topic+read_stars">stars::read_stars()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The stars package must be loaded explicitly to use these methods.
</p>


<h3>Value</h3>

<p>A <code>stars</code> or a <code>stars_proxy</code> object.
</p>


<h3>See Also</h3>

<p>Other topics about coercing processing output: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>
</p>
<p>Other topics about accessing or managing processing results: 
<code><a href="#topic+qgis_as_raster">qgis_as_raster</a>()</code>,
<code><a href="#topic+qgis_as_terra">qgis_as_terra</a>()</code>,
<code><a href="#topic+qgis_clean_result">qgis_clean_result</a>()</code>,
<code><a href="#topic+qgis_extract_output">qgis_extract_output</a>()</code>,
<code><a href="#topic+qgis_result_status">qgis_result_status</a>()</code>,
<code><a href="#topic+st_as_sf">st_as_sf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# not running below examples in R CMD check to save time
result &lt;- qgis_run_algorithm(
  "native:slope",
  INPUT = system.file("longlake/longlake_depth.tif", package = "qgisprocess")
)

# most direct approach, autoselecting a `qgis_outputRaster` type
# output from the `result` object and reading as stars or stars_proxy:
stars::st_as_stars(result)
stars::st_as_stars(result, proxy = TRUE)

# if you need more control, extract the needed output element first:
output_raster &lt;- qgis_extract_output(result, "OUTPUT")
stars::st_as_stars(output_raster)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

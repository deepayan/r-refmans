<!DOCTYPE html><html lang="en"><head><title>Help for package PhenotypeR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PhenotypeR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PhenotypeR-package'><p>PhenotypeR: Assess Study Cohorts Using a Common Data Model</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#addCodelistAttribute'><p>Adds the cohort_codelist attribute to a cohort</p></a></li>
<li><a href='#codelistDiagnostics'><p>Run codelist-level diagnostics</p></a></li>
<li><a href='#cohortDiagnostics'><p>Run cohort-level diagnostics</p></a></li>
<li><a href='#cohortDoc'><p>Helper for consistent documentation of 'cohort'.</p></a></li>
<li><a href='#databaseDiagnostics'><p>Database diagnostics</p></a></li>
<li><a href='#directoryDoc'><p>Helper for consistent documentation of 'directory'.</p></a></li>
<li><a href='#matchedDiagnostics'><p>Compare characteristics of cohort matched to database population</p></a></li>
<li><a href='#matchedSampleDoc'><p>Helper for consistent documentation of 'matchedSample'.</p></a></li>
<li><a href='#mockPhenotypeR'><p>Function to create a mock cdm reference for mockPhenotypeR</p></a></li>
<li><a href='#phenotypeDiagnostics'><p>Phenotype a cohort</p></a></li>
<li><a href='#populationDiagnostics'><p>Population-level diagnostics</p></a></li>
<li><a href='#populationSampleDoc'><p>Helper for consistent documentation of 'populationSample'.</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#resultDoc'><p>Helper for consistent documentation of 'result'.</p></a></li>
<li><a href='#shinyDiagnostics'><p>Create a shiny app summarising your phenotyping results</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Assess Study Cohorts Using a Common Data Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Phenotype study cohorts in data mapped to the 
    Observational Medical Outcomes Partnership Common Data Model. Diagnostics 
    are run at the database, code list, cohort, and population level to assess 
    whether study cohorts are ready for research.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>CDMConnector (&ge; 1.6.1), duckdb, DBI, gt, omock, testthat (&ge;
3.0.0), knitr, visOmopResults (&ge; 0.5.0), glue, RPostgres,
PatientProfiles (&ge; 1.2.2), ggplot2, ggpubr, stringr, shiny,
DiagrammeR, DiagrammeRsvg, reactable, reactablefmtr, rsvg,
sortable, shinycssloaders, here, DT, bslib, shinyWidgets,
plotly, tidyr, scales, usethis</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>CodelistGenerator (&ge; 3.3.2), CohortCharacteristics (&ge;
0.4.0), CohortConstructor (&ge; 0.3.5), cli, dplyr,
IncidencePrevalence (&ge; 1.0.0), omopgenerics (&ge; 0.4.1),
OmopSketch (&ge; 0.2.1), magrittr, purrr, rlang, vctrs</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ohdsi.github.io/PhenotypeR/">https://ohdsi.github.io/PhenotypeR/</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-16 23:03:55 UTC; eburn</td>
</tr>
<tr>
<td>Author:</td>
<td>Edward Burn <a href="https://orcid.org/0000-0002-9286-1128"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Marti Catala <a href="https://orcid.org/0000-0003-3308-9905"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Xihang Chen <a href="https://orcid.org/0009-0001-8112-8959"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Marta Alcalde-Herraiz
    <a href="https://orcid.org/0009-0002-4405-1814"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Albert Prats-Uribe
    <a href="https://orcid.org/0000-0003-1202-9153"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Edward Burn &lt;edward.burn@ndorms.ox.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-16 23:40:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='PhenotypeR-package'>PhenotypeR: Assess Study Cohorts Using a Common Data Model</h2><span id='topic+PhenotypeR'></span><span id='topic+PhenotypeR-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Phenotype study cohorts in data mapped to the Observational Medical Outcomes Partnership Common Data Model. Diagnostics are run at the database, code list, cohort, and population level to assess whether study cohorts are ready for research.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Edward Burn <a href="mailto:edward.burn@ndorms.ox.ac.uk">edward.burn@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9286-1128">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Marti Catala <a href="mailto:marti.catalasabate@ndorms.ox.ac.uk">marti.catalasabate@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-3308-9905">ORCID</a>)
</p>
</li>
<li><p> Xihang Chen <a href="mailto:xihang.chen@ndorms.ox.ac.uk">xihang.chen@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0009-0001-8112-8959">ORCID</a>)
</p>
</li>
<li><p> Marta Alcalde-Herraiz <a href="mailto:marta.alcaldeherraiz@ndorms.ox.ac.uk">marta.alcaldeherraiz@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0009-0002-4405-1814">ORCID</a>)
</p>
</li>
<li><p> Albert Prats-Uribe <a href="mailto:albert.prats-uribe@ndorms.ox.ac.uk">albert.prats-uribe@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-1202-9153">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ohdsi.github.io/PhenotypeR/">https://ohdsi.github.io/PhenotypeR/</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='addCodelistAttribute'>Adds the cohort_codelist attribute to a cohort</h2><span id='topic+addCodelistAttribute'></span>

<h3>Description</h3>

<p>'addCodelistAttribute()' allows the users to add a codelist to a cohort in
OMOP CDM.
</p>
<p>This is particularly important for the use of 'codelistDiagnostics()', as the
underlying assumption is that the cohort that is fed into
'codelistDiagnostics()' has a cohort_codelist attribute attached to it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCodelistAttribute(cohort, codelist, cohortName = names(codelist))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addCodelistAttribute_+3A_cohort">cohort</code></td>
<td>
<p>Cohort table in a cdm reference</p>
</td></tr>
<tr><td><code id="addCodelistAttribute_+3A_codelist">codelist</code></td>
<td>
<p>Named list of concepts</p>
</td></tr>
<tr><td><code id="addCodelistAttribute_+3A_cohortname">cohortName</code></td>
<td>
<p>For each element of the codelist, the name of the cohort in
'cohort' to which the codelist refers</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A cohort
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

cohort &lt;- addCodelistAttribute(cohort = cdm$my_cohort, codelist = list("cohort_1" = 1L))
attr(cohort, "cohort_codelist")

CDMConnector::cdmDisconnect(cdm)

</code></pre>

<hr>
<h2 id='codelistDiagnostics'>Run codelist-level diagnostics</h2><span id='topic+codelistDiagnostics'></span>

<h3>Description</h3>

<p>'codelistDiagnostics()' runs phenotypeR diagnostics on the cohort_codelist
attribute on the cohort. Thus codelist attribute of the cohort must be
populated. If it is missing then it could be populated using
'addCodelistAttribute()' function.
</p>
<p>Furthermore 'codelistDiagnostics()' requires achilles tables to be present in
the cdm so that concept counts could be derived.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codelistDiagnostics(cohort)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="codelistDiagnostics_+3A_cohort">cohort</code></td>
<td>
<p>A cohort table in a cdm reference. The cohort_codelist
attribute must be populated. The cdm reference must contain achilles
tables as these will be used for deriving concept counts.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(CohortConstructor)
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

cdm$arthropathies &lt;- conceptCohort(cdm,
                                   conceptSet = list("arthropathies" = c(40475132)),
                                   name = "arthropathies")

result &lt;- codelistDiagnostics(cdm$arthropathies)

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='cohortDiagnostics'>Run cohort-level diagnostics</h2><span id='topic+cohortDiagnostics'></span>

<h3>Description</h3>

<p>Runs phenotypeR diagnostics on the cohort.
The diganostics include:
* Age groups and sex summarised.
* A summary of visits of everyone in the cohort using visit_occurrence table.
* A summary of age and sex density of the cohort.
* Attritions of the cohorts.
* Overlap between cohorts (if more than one cohort is being used).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cohortDiagnostics(cohort)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cohortDiagnostics_+3A_cohort">cohort</code></td>
<td>
<p>Cohort table in a cdm reference</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

result &lt;- cohortDiagnostics(cdm$my_cohort)

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='cohortDoc'>Helper for consistent documentation of 'cohort'.</h2><span id='topic+cohortDoc'></span>

<h3>Description</h3>

<p>Helper for consistent documentation of 'cohort'.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cohortDoc_+3A_cohort">cohort</code></td>
<td>
<p>Cohort table in a cdm reference</p>
</td></tr>
</table>

<hr>
<h2 id='databaseDiagnostics'>Database diagnostics</h2><span id='topic+databaseDiagnostics'></span>

<h3>Description</h3>

<p>phenotypeR diagnostics on the cdm object.
</p>
<p>Diagnostics include:
* Summarise a cdm_reference object, creating a snapshot with the metadata of the cdm_reference object.
* Summarise the observation period table getting some overall statistics in a summarised_result object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>databaseDiagnostics(cdm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="databaseDiagnostics_+3A_cdm">cdm</code></td>
<td>
<p>CDM reference</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

result &lt;- databaseDiagnostics(cdm)

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='directoryDoc'>Helper for consistent documentation of 'directory'.</h2><span id='topic+directoryDoc'></span>

<h3>Description</h3>

<p>Helper for consistent documentation of 'directory'.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="directoryDoc_+3A_directory">directory</code></td>
<td>
<p>Directory where to save report</p>
</td></tr>
</table>

<hr>
<h2 id='matchedDiagnostics'>Compare characteristics of cohort matched to database population</h2><span id='topic+matchedDiagnostics'></span>

<h3>Description</h3>

<p>A summary of the cohort that is matched to the original cohort that has been
given by the user. Such summary contains basic cohort summary including
number of visits within one year prior of the cohort_start_date, as well as
a large scale charactersitics using the following domians of OMOP CDM:
</p>
<p>* condition_occurrence
* visit_occurrence
* measurement
* procedure_occurrence
* observation
* drug_exposure
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchedDiagnostics(cohort, matchedSample = 1000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="matchedDiagnostics_+3A_cohort">cohort</code></td>
<td>
<p>Cohort table in a cdm reference</p>
</td></tr>
<tr><td><code id="matchedDiagnostics_+3A_matchedsample">matchedSample</code></td>
<td>
<p>The number of people to take a random sample for
matching. If NULL, no sampling will be performed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

result &lt;- matchedDiagnostics(cdm$my_cohort)

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='matchedSampleDoc'>Helper for consistent documentation of 'matchedSample'.</h2><span id='topic+matchedSampleDoc'></span>

<h3>Description</h3>

<p>Helper for consistent documentation of 'matchedSample'.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="matchedSampleDoc_+3A_matchedsample">matchedSample</code></td>
<td>
<p>The number of people to take a random sample for
matching. If NULL, no sampling will be performed.</p>
</td></tr>
</table>

<hr>
<h2 id='mockPhenotypeR'>Function to create a mock cdm reference for mockPhenotypeR</h2><span id='topic+mockPhenotypeR'></span>

<h3>Description</h3>

<p>'mockPhenotypeR()' creates an example dataset that can be used to show how
the package works
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockPhenotypeR(
  nPerson = 100,
  con = DBI::dbConnect(duckdb::duckdb()),
  writeSchema = "main",
  seed = 111
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockPhenotypeR_+3A_nperson">nPerson</code></td>
<td>
<p>number of people in the cdm.</p>
</td></tr>
<tr><td><code id="mockPhenotypeR_+3A_con">con</code></td>
<td>
<p>A DBI connection to create the cdm mock object.</p>
</td></tr>
<tr><td><code id="mockPhenotypeR_+3A_writeschema">writeSchema</code></td>
<td>
<p>Name of an schema on the same connection with writing
permissions.</p>
</td></tr>
<tr><td><code id="mockPhenotypeR_+3A_seed">seed</code></td>
<td>
<p>seed to use when creating the mock data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cdm object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

cdm

</code></pre>

<hr>
<h2 id='phenotypeDiagnostics'>Phenotype a cohort</h2><span id='topic+phenotypeDiagnostics'></span>

<h3>Description</h3>

<p>This comprises all the diagnostics that are being offered in this package,
this includes:
</p>
<p>* A diagnostics on the database via 'databaseDiagnostics'.
* A diagnostics on the cohort_codelist attribute of the cohort via 'codelistDiagnostics'.
* A diagnostics on the cohort via 'cohortDiagnostics'.
* A diagnostics on the population via 'populationDiagnostics'.
* A diagnostics on the matched cohort via 'matchedDiagnostics'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phenotypeDiagnostics(
  cohort,
  databaseDiagnostics = TRUE,
  codelistDiagnostics = TRUE,
  cohortDiagnostics = TRUE,
  populationDiagnostics = TRUE,
  populationSample = 1e+06,
  populationDateRange = as.Date(c(NA, NA)),
  matchedDiagnostics = TRUE,
  matchedSample = 1000
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="phenotypeDiagnostics_+3A_cohort">cohort</code></td>
<td>
<p>Cohort table in a cdm reference</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_databasediagnostics">databaseDiagnostics</code></td>
<td>
<p>If TRUE, database diagnostics will be run.</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_codelistdiagnostics">codelistDiagnostics</code></td>
<td>
<p>If TRUE, codelist diagnostics will be run.</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_cohortdiagnostics">cohortDiagnostics</code></td>
<td>
<p>If TRUE, cohort diagnostics will be run.</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_populationdiagnostics">populationDiagnostics</code></td>
<td>
<p>If TRUE, population diagnostics will be run.</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_populationsample">populationSample</code></td>
<td>
<p>Number of people from the cdm to sample. If NULL no
sampling will be performed</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_populationdaterange">populationDateRange</code></td>
<td>
<p>Two dates. The first indicating the earliest cohort
start date and the second indicating the latest possible cohort end date. If
NULL or the first date is set as missing, the earliest observation_start_date
in the observation_period table will be used for the former. If  NULL or the
second date is set as missing, the latest observation_end_date in the
observation_period table will be used for the latter.</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_matcheddiagnostics">matchedDiagnostics</code></td>
<td>
<p>If TRUE, cohort to population
diagnostics will be run.</p>
</td></tr>
<tr><td><code id="phenotypeDiagnostics_+3A_matchedsample">matchedSample</code></td>
<td>
<p>The number of people to take a random sample for
matching. If NULL, no sampling will be performed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

result &lt;- phenotypeDiagnostics(cdm$my_cohort)

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='populationDiagnostics'>Population-level diagnostics</h2><span id='topic+populationDiagnostics'></span>

<h3>Description</h3>

<p>phenotypeR diagnostics on the cohort of input with relation to a denomination
population. Diagnostics include:
</p>
<p>* Incidence
* Prevalence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>populationDiagnostics(
  cohort,
  populationSample = 1e+06,
  populationDateRange = as.Date(c(NA, NA))
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="populationDiagnostics_+3A_cohort">cohort</code></td>
<td>
<p>Cohort table in a cdm reference</p>
</td></tr>
<tr><td><code id="populationDiagnostics_+3A_populationsample">populationSample</code></td>
<td>
<p>Number of people from the cdm to sample. If NULL no
sampling will be performed</p>
</td></tr>
<tr><td><code id="populationDiagnostics_+3A_populationdaterange">populationDateRange</code></td>
<td>
<p>Two dates. The first indicating the earliest cohort
start date and the second indicating the latest possible cohort end date. If
NULL or the first date is set as missing, the earliest observation_start_date
in the observation_period table will be used for the former. If  NULL or the
second date is set as missing, the latest observation_end_date in the
observation_period table will be used for the latter.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)
library(dplyr)

cdm &lt;- mockPhenotypeR()

dateStart &lt;- cdm$my_cohort |&gt;
  summarise(start = min(cohort_start_date, na.rm = TRUE)) |&gt;
  pull("start")
dateEnd   &lt;- cdm$my_cohort |&gt;
  summarise(start = max(cohort_start_date, na.rm = TRUE)) |&gt;
  pull("start")

result &lt;- cdm$my_cohort |&gt;
  populationDiagnostics(populationDateRange = c(dateStart, dateEnd))

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='populationSampleDoc'>Helper for consistent documentation of 'populationSample'.</h2><span id='topic+populationSampleDoc'></span>

<h3>Description</h3>

<p>Helper for consistent documentation of 'populationSample'.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="populationSampleDoc_+3A_populationsample">populationSample</code></td>
<td>
<p>Number of people from the cdm to sample. If NULL no
sampling will be performed</p>
</td></tr>
<tr><td><code id="populationSampleDoc_+3A_populationdaterange">populationDateRange</code></td>
<td>
<p>Two dates. The first indicating the earliest cohort
start date and the second indicating the latest possible cohort end date. If
NULL or the first date is set as missing, the earliest observation_start_date
in the observation_period table will be used for the former. If  NULL or the
second date is set as missing, the latest observation_end_date in the
observation_period table will be used for the latter.</p>
</td></tr>
</table>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+suppress'></span><span id='topic+settings'></span><span id='topic+bind'></span><span id='topic+importSummarisedResult'></span><span id='topic+exportSummarisedResult'></span><span id='topic+summariseAchillesCodeUse'></span><span id='topic+summariseCohortCodeUse'></span><span id='topic+summariseCodeUse'></span><span id='topic+summariseOrphanCodes'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>CodelistGenerator</dt><dd><p><code><a href="CodelistGenerator.html#topic+summariseAchillesCodeUse">summariseAchillesCodeUse</a></code>, <code><a href="CodelistGenerator.html#topic+summariseCodeUse">summariseCodeUse</a></code>, <code><a href="CodelistGenerator.html#topic+summariseCohortCodeUse">summariseCohortCodeUse</a></code>, <code><a href="CodelistGenerator.html#topic+summariseOrphanCodes">summariseOrphanCodes</a></code></p>
</dd>
<dt>omopgenerics</dt><dd><p><code><a href="omopgenerics.html#topic+bind">bind</a></code>, <code><a href="omopgenerics.html#topic+exportSummarisedResult">exportSummarisedResult</a></code>, <code><a href="omopgenerics.html#topic+importSummarisedResult">importSummarisedResult</a></code>, <code><a href="omopgenerics.html#topic+settings">settings</a></code>, <code><a href="omopgenerics.html#topic+suppress">suppress</a></code></p>
</dd>
</dl>

<hr>
<h2 id='resultDoc'>Helper for consistent documentation of 'result'.</h2><span id='topic+resultDoc'></span>

<h3>Description</h3>

<p>Helper for consistent documentation of 'result'.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="resultDoc_+3A_result">result</code></td>
<td>
<p>A summarised result</p>
</td></tr>
</table>

<hr>
<h2 id='shinyDiagnostics'>Create a shiny app summarising your phenotyping results</h2><span id='topic+shinyDiagnostics'></span>

<h3>Description</h3>

<p>A shiny app that is designed for any diagnostics results from phenotypeR, this
includes:
</p>
<p>* A diagnostics on the database via 'databaseDiagnostics'.
* A diagnostics on the cohort_codelist attribute of the cohort via 'codelistDiagnostics'.
* A diagnostics on the cohort via 'cohortDiagnostics'.
* A diagnostics on the population via 'populationDiagnostics'.
* A diagnostics on the matched cohort via 'matchedDiagnostics'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shinyDiagnostics(
  result,
  directory,
  minCellCount = 5,
  open = rlang::is_interactive()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinyDiagnostics_+3A_result">result</code></td>
<td>
<p>A summarised result</p>
</td></tr>
<tr><td><code id="shinyDiagnostics_+3A_directory">directory</code></td>
<td>
<p>Directory where to save report</p>
</td></tr>
<tr><td><code id="shinyDiagnostics_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Minimum cell count for suppression when exporting results.</p>
</td></tr>
<tr><td><code id="shinyDiagnostics_+3A_open">open</code></td>
<td>
<p>If TRUE, the shiny app will be launched in a new session. If
FALSE, the shiny app will be created but not launched.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A shiny app
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PhenotypeR)

cdm &lt;- mockPhenotypeR()

result &lt;- phenotypeDiagnostics(cdm$my_cohort)

shinyDiagnostics(result, tempdir())

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

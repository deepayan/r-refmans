<!DOCTYPE html><html lang="en-US"><head><title>Help for package tactile</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tactile}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tactile-package'><p>tactile: New and Extended Plots, Methods, and Panel Functions for 'lattice'</p></a></li>
<li><a href='#bubbleplot'><p>Bubbleplots</p></a></li>
<li><a href='#bwplot2'><p>An extended box and whiskers plot</p></a></li>
<li><a href='#diag.panel.splom.density'><p>Diagonal Density Panels</p></a></li>
<li><a href='#dont_plot'><p>Suppress Plotting</p></a></li>
<li><a href='#feldspar'><p>Ternary feldspar experiments and thermodynamic models</p></a></li>
<li><a href='#get_fun'><p>Retrieve a Function by Name or Definition</p></a></li>
<li><a href='#grid_wrap'><p>Wrapper for grid.arrange</p></a></li>
<li><a href='#make_bubbles'><p>Make Bubbles</p></a></li>
<li><a href='#panel.bubbleplot'><p>Panel Function for Bubble Plots</p></a></li>
<li><a href='#panel.ci'><p>Panel function for confidence interval</p></a></li>
<li><a href='#panel.qqmathci'><p>Q-Q Diagram Confidence Intervals Panels</p></a></li>
<li><a href='#panel.ternaryplot'><p>Panel Function for Ternary Plots</p></a></li>
<li><a href='#panel.ternaryplot.clip'><p>Plot Region Clipping for Ternary Plots</p></a></li>
<li><a href='#panel.ternaryplot.density'><p>Two-Dimensional Density Estimation for Ternary Plots</p></a></li>
<li><a href='#panel.ternaryplot.grid'><p>Reference Grid for Ternary Plot</p></a></li>
<li><a href='#panel.ternaryplot.response'><p>Response Panels for Ternary Plots</p></a></li>
<li><a href='#panel.ternaryplot.scales'><p>Axes and Labels for Ternary Plots</p></a></li>
<li><a href='#panel.ternaryplot.xyplot'><p>Ternary Plot Wrapper for lattice::xyplot</p></a></li>
<li><a href='#prepanel.ci'><p>Prepanel for ciplot</p></a></li>
<li><a href='#qqmath.zoo'><p>Q-Q Plots for Zoo Objects</p></a></li>
<li><a href='#require_pkg'><p>Throw An Error if A Required Package Is Unavailable</p></a></li>
<li><a href='#rescale'><p>Uniform Rescaling</p></a></li>
<li><a href='#seq_pal'><p>Sequential palette helper.</p></a></li>
<li><a href='#setup_key'><p>Key Setup</p></a></li>
<li><a href='#tactile.theme'><p>Tactile Theme</p></a></li>
<li><a href='#ternaryplot'><p>Ternary Plot</p></a></li>
<li><a href='#updateList'><p>Update a List with User Input</p></a></li>
<li><a href='#xyplot.acf'><p>Plot Autocovariance and Autocorrelation Functions</p></a></li>
<li><a href='#xyplot.Arima'><p>Diagnostic Plots for ARIMA Models</p></a></li>
<li><a href='#xyplot.forecast'><p>Plot Forecasts with Trellis Graphics</p></a></li>
<li><a href='#xyplot.lm'><p>Lattice plot diagnostics for lm objects</p></a></li>
<li><a href='#xyz_to_xy'><p>Convert a formula from z ~ x * y to y ~ x</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>New and Extended Plots, Methods, and Panel Functions for
'lattice'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Extensions to 'lattice', providing new high-level
    functions, methods for existing functions, panel functions, and a theme.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), lattice</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, grid, gridExtra, latticeExtra, MASS, RColorBrewer,
stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, forecast, knitr, rmarkdown, spelling, testthat, zoo</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jolars/tactile">https://github.com/jolars/tactile</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jolars/tactile/issues">https://github.com/jolars/tactile/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-24 10:11:18 UTC; gerd-jln</td>
</tr>
<tr>
<td>Author:</td>
<td>Johan Larsson <a href="https://orcid.org/0000-0002-4029-5945"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Deepayan Sarkar [ctb, cph] (lattice),
  Brian Ripley [ctb] (stats::plot.acf)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Johan Larsson &lt;johanlarsson@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-24 10:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tactile-package'>tactile: New and Extended Plots, Methods, and Panel Functions for 'lattice'</h2><span id='topic+tactile'></span><span id='topic+tactile-package'></span>

<h3>Description</h3>

<p>Extensions to 'lattice', providing new high-level functions, methods for existing functions, panel functions, and a theme.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Johan Larsson <a href="mailto:johanlarsson@outlook.com">johanlarsson@outlook.com</a> (<a href="https://orcid.org/0000-0002-4029-5945">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Deepayan Sarkar (lattice) [contributor, copyright holder]
</p>
</li>
<li><p> Brian Ripley (stats::plot.acf) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/jolars/tactile">https://github.com/jolars/tactile</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/jolars/tactile/issues">https://github.com/jolars/tactile/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bubbleplot'>Bubbleplots</h2><span id='topic+bubbleplot'></span><span id='topic+bubbleplot.formula'></span>

<h3>Description</h3>

<p>Draws bubbleblots &ndash; trivariate plots where the third dimension is mapped
to the size of the points drawn on the screen.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bubbleplot(x, data = NULL, ...)

## S3 method for class 'formula'
bubbleplot(
  x,
  data = NULL,
  maxsize = 3,
  bubblekey = TRUE,
  panel = panel.bubbleplot,
  groups = NULL,
  subset = TRUE,
  drop.unused.levels = lattice.getOption("drop.unused.levels"),
  ...,
  outer,
  allow.multiple
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bubbleplot_+3A_x">x</code></td>
<td>
<p>A formula of the form <code>z ~ x * y</code>, where <code>x</code> and <code>y</code> have the usual
interpretation in trellis graphics (see <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>) and <code>z</code> is
mapped to the size of bubbles.</p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_data">data</code></td>
<td>
<p>A data.frame, list or environment wherein the formula and
groups arguments can be evaluated.</p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_...">...</code></td>
<td>
<p>Further arguments to pass to <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>.</p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_maxsize">maxsize</code></td>
<td>
<p>Maximum size (in cex) for the bubbles.</p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_bubblekey">bubblekey</code></td>
<td>
<p>Set to <code>TRUE</code> to draw an informative legend about the
bubbles. Uses <code><a href="lattice.html#topic+draw.key">lattice::draw.key()</a></code>. See the <strong>key</strong> section of the
documentation in <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>. If both <code>auto.key</code> and <code>bubblekey</code>
are given and their <code>space</code> arguments (positions) conflict, bubblekey
will silently override the position of <code>auto.key</code>.</p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_panel">panel</code></td>
<td>
<p>See <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>. Here, we are passing an additional
variable, <code>z</code>, which is then used in <code><a href="#topic+panel.bubbleplot">panel.bubbleplot()</a></code>.</p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_groups">groups</code></td>
<td>
<p>See <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code></p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_subset">subset</code></td>
<td>
<p>See <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code></p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_drop.unused.levels">drop.unused.levels</code></td>
<td>
<p>See <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code></p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_outer">outer</code></td>
<td>
<p>Ignored.</p>
</td></tr>
<tr><td><code id="bubbleplot_+3A_allow.multiple">allow.multiple</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>. The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to
update components of the object and the
<code><a href="lattice.html#topic+print.trellis">print</a></code> method (usually called by
default) will plot it on an appropriate plotting device.
</p>


<h3>Author(s)</h3>

<p>Johan Larsson
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bubbleplot(disp ~ hp * wt, groups = cyl, data = mtcars, auto.key = TRUE)
bubbleplot(disp ~ hp * mpg | factor(cyl), groups = gear, data = mtcars,
           auto.key = TRUE)
</code></pre>

<hr>
<h2 id='bwplot2'>An extended box and whiskers plot</h2><span id='topic+bwplot2'></span><span id='topic+bwplot2.formula'></span><span id='topic+bwplot2.numeric'></span>

<h3>Description</h3>

<p>An extended version of <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code>. The only modification is to
group and stack box plots if <code>groups</code> is provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bwplot2(x, data = NULL, ...)

## S3 method for class 'formula'
bwplot2(
  x,
  data = NULL,
  allow.multiple = is.null(groups) || outer,
  outer = FALSE,
  auto.key = FALSE,
  groups = NULL,
  drop.unused.levels = lattice.getOption("drop.unused.levels"),
  ...,
  subset = TRUE
)

## S3 method for class 'numeric'
bwplot2(x, data = NULL, xlab = deparse(substitute(x)), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bwplot2_+3A_x">x</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_data">data</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_...">...</code></td>
<td>
<p>arguments passed down to <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_allow.multiple">allow.multiple</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_outer">outer</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_auto.key">auto.key</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_groups">groups</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_drop.unused.levels">drop.unused.levels</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_subset">subset</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
<tr><td><code id="bwplot2_+3A_xlab">xlab</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::bwplot()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>. The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to
update components of the object and the
<code><a href="lattice.html#topic+print.trellis">print</a></code> method (usually called by
default) will plot it on an appropriate plotting device.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bwplot2(variety ~ yield,
        groups = site,
        data = barley,
        par.settings = tactile.theme())
</code></pre>

<hr>
<h2 id='diag.panel.splom.density'>Diagonal Density Panels</h2><span id='topic+diag.panel.splom.density'></span>

<h3>Description</h3>

<p>Plots univariate density estimates estimates to be used in a
<code><a href="lattice.html#topic+splom">lattice::splom()</a></code> call with the <code>diag.panel</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag.panel.splom.density(
  x,
  bw = "nrd0",
  adjust = 1,
  kernel = "gaussian",
  weights = NULL,
  n = 512,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="diag.panel.splom.density_+3A_x">x</code></td>
<td>
<p>data vector corresponding to that row / column (which will be the
same for diagonal 'panels').</p>
</td></tr>
<tr><td><code id="diag.panel.splom.density_+3A_bw">bw</code></td>
<td>
<p>the smoothing bandwidth to be used.  The kernels are scaled
such that this is the standard deviation of the smoothing kernel.
(Note this differs from the reference books cited below, and from S-PLUS.)
</p>
<p><code>bw</code> can also be a character string giving a rule to choose the
bandwidth.  See <code><a href="stats.html#topic+bw.nrd">bw.nrd</a></code>. <br /> The default,
<code>"nrd0"</code>, has remained the default for historical and
compatibility reasons, rather than as a general recommendation,
where e.g., <code>"SJ"</code> would rather fit, see also Venables and
Ripley (2002).
</p>
<p>The specified (or computed) value of <code>bw</code> is multiplied by
<code>adjust</code>.
</p>
</td></tr>
<tr><td><code id="diag.panel.splom.density_+3A_adjust">adjust</code></td>
<td>
<p>the bandwidth used is actually <code>adjust*bw</code>.
This makes it easy to specify values like &lsquo;half the default&rsquo;
bandwidth.</p>
</td></tr>
<tr><td><code id="diag.panel.splom.density_+3A_kernel">kernel</code></td>
<td>
<p>the smoothing kernel to be used. See <code><a href="stats.html#topic+density">stats::density()</a></code> for
options.</p>
</td></tr>
<tr><td><code id="diag.panel.splom.density_+3A_weights">weights</code></td>
<td>
<p>numeric vector of non-negative observation weights,
hence of same length as <code>x</code>. The default <code>NULL</code> is
equivalent to <code>weights = rep(1/nx, nx)</code> where <code>nx</code> is the
length of (the finite entries of) <code>x[]</code>.  If <code>na.rm = TRUE</code>
and there are <code>NA</code>'s in <code>x</code>, they <em>and</em> the
corresponding weights are removed before computations.  In that case,
when the original weights have summed to one, they are re-scaled to
keep doing so.
</p>
<p>Note that weights are <em>not</em> taken into account for automatic
bandwidth rules, i.e., when <code>bw</code> is a string.  When the weights
are proportional to true counts <code>cn</code>, <code>density(x = rep(x, cn))</code>
may be used instead of <code>weights</code>.
</p>
</td></tr>
<tr><td><code id="diag.panel.splom.density_+3A_n">n</code></td>
<td>
<p>the number of equally spaced points at which the density is
to be estimated.  When <code>n &gt; 512</code>, it is rounded up to a power
of 2 during the calculations (as <code><a href="stats.html#topic+fft">fft</a></code> is used) and the
final result is interpolated by <code><a href="stats.html#topic+approx">approx</a></code>.  So it almost
always makes sense to specify <code>n</code> as a power of two.
</p>
</td></tr>
<tr><td><code id="diag.panel.splom.density_+3A_...">...</code></td>
<td>
<p>Further arguments passed on to <code><a href="lattice.html#topic+panel.pairs">lattice::diag.panel.splom()</a></code> and
<code><a href="lattice.html#topic+llines">lattice::panel.lines()</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="lattice.html#topic+panel.pairs">lattice::diag.panel.splom()</a></code>, <code><a href="lattice.html#topic+splom">lattice::splom()</a></code>,
<code><a href="stats.html#topic+density">stats::density()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>splom(~ iris[1:4],
  data = iris,
  diag.panel = diag.panel.splom.density,
  pscales = 0
)
</code></pre>

<hr>
<h2 id='dont_plot'>Suppress Plotting</h2><span id='topic+dont_plot'></span>

<h3>Description</h3>

<p>Suppress Plotting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dont_plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dont_plot_+3A_x">x</code></td>
<td>
<p>Object to call <code><a href="graphics.html#topic+plot.default">graphics::plot()</a></code> on.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns whatever <code>plot(x)</code> would normally returns, but
does not plot anything (which is the point).
</p>

<hr>
<h2 id='feldspar'>Ternary feldspar experiments and thermodynamic models</h2><span id='topic+feldspar'></span>

<h3>Description</h3>

<p>A data set that has been manually transcribed from Table 5 of
Elkins and Grove's <em>Ternary feldspar experiments and thermodynamic models</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>feldspar
</code></pre>


<h3>Format</h3>

<p>A data frame of 40 rows and 7 columns:
</p>

<dl>
<dt>Experiment</dt><dd><p>The ID of the experiment</p>
</dd>
<dt>Feldspar</dt><dd><p>Coexisting feldspars, <em>Alkali</em> or <em>Plagioclase</em></p>
</dd>
<dt>Or</dt><dd><p>Proportion of orthoclase</p>
</dd>
<dt>An</dt><dd><p>Proportion of anorthite</p>
</dd>
<dt>Ab</dt><dd><p>Proportion of albite</p>
</dd>
<dt>Temperature</dt><dd><p>Temperature of the reaction (degrees centigrade)</p>
</dd>
<dt>Pressure</dt><dd><p>Pressure of the reaction (bars)</p>
</dd>
</dl>



<h3>Abstract</h3>

<p>This paper reports the results of 20 experiments in which mixes of two or
three feldspars were reacted to produce coexisting plagioclase feldspar (PF)
and alkali feldspar (AF). Starting materials with similar bulk compositions
were prepared using different combinations of two and three minerals, and
experiments were designed to produce similar AF and PF minerals in the
experimental products from different starting binary and ternary
compositions. The coexisting AF and PF compositions produced as products
define compositional fields that are elongate parallel to the ternary solvus.
In 11 experiments reaction was sufficient to product fields of coexisting AF
and PF, or AF, PF, and melt with a bulk composition close to that of the
starting mixture. In six experiments significant reaction occurred in the
form of reaction rim overgrowths on seeds of the starting materials. Three
experiments produced AF, PF, and melt from a natural granite starting
material. A two-feldspar thermometer is presented in which temperature is
constrained by equilibria among all three components - Albite, Orthoclase,
and Anorthite - in coexisting ternary feldspars.
</p>


<h3>Source</h3>

<p>Elkins LT, Grove TL. Ternary feldspar experiments and thermodynamic
models. American Mineralogist. 1990;75(5-6):544-59.
</p>

<hr>
<h2 id='get_fun'>Retrieve a Function by Name or Definition</h2><span id='topic+get_fun'></span>

<h3>Description</h3>

<p>Retrieve a Function by Name or Definition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fun(fun)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_fun_+3A_fun">fun</code></td>
<td>
<p>Character or function.</p>
</td></tr>
</table>

<hr>
<h2 id='grid_wrap'>Wrapper for grid.arrange</h2><span id='topic+grid_wrap'></span>

<h3>Description</h3>

<p>Wrapper for grid.arrange
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grid_wrap(x, layout = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid_wrap_+3A_x">x</code></td>
<td>
<p>List of trellis objects.</p>
</td></tr>
<tr><td><code id="grid_wrap_+3A_layout">layout</code></td>
<td>
<p>A layout matrix or vector specifying rows and columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>trellis</code> objects.
</p>

<hr>
<h2 id='make_bubbles'>Make Bubbles</h2><span id='topic+make_bubbles'></span>

<h3>Description</h3>

<p>Map <code>z</code> to the area of bubbles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_bubbles(x, maxsize)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_bubbles_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="make_bubbles_+3A_maxsize">maxsize</code></td>
<td>
<p>The max size (in cex) of the bubbles.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the new bubbles as well as pretty breakpoints along with
their respective cex values.
</p>

<hr>
<h2 id='panel.bubbleplot'>Panel Function for Bubble Plots</h2><span id='topic+panel.bubbleplot'></span>

<h3>Description</h3>

<p>Panel Function for Bubble Plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.bubbleplot(x, y, z, groups = NULL, subscripts, cex = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.bubbleplot_+3A_x">x</code>, <code id="panel.bubbleplot_+3A_y">y</code></td>
<td>
<p> variables to be plotted in the scatterplot </p>
</td></tr>
<tr><td><code id="panel.bubbleplot_+3A_z">z</code></td>
<td>
<p>A numeric vector that areas of circles will be mapped to.</p>
</td></tr>
<tr><td><code id="panel.bubbleplot_+3A_groups">groups</code></td>
<td>
<p>Grouping variable (see <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>).</p>
</td></tr>
<tr><td><code id="panel.bubbleplot_+3A_subscripts">subscripts</code></td>
<td>
<p>A vector of indexes to specify which observation to plot.
Normally does not need to be provided by the user.</p>
</td></tr>
<tr><td><code id="panel.bubbleplot_+3A_cex">cex</code></td>
<td>
<p>Is used internally and user settings will be ignored.</p>
</td></tr>
<tr><td><code id="panel.bubbleplot_+3A_...">...</code></td>
<td>
<p>Further arguments to pass to <code><a href="lattice.html#topic+panel.xyplot">lattice::panel.xyplot()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>

<hr>
<h2 id='panel.ci'>Panel function for confidence interval</h2><span id='topic+panel.ci'></span>

<h3>Description</h3>

<p>Panel function for confidence interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ci(
  x,
  y,
  lower,
  upper,
  groups = NULL,
  subscripts,
  col,
  fill = if (is.null(groups)) plot.line$col else superpose.line$col,
  alpha = 0.15,
  lty = 0,
  lwd = if (is.null(groups)) plot.line$lwd else superpose.line$lwd,
  grid = FALSE,
  ...,
  col.line = if (is.null(groups)) plot.line$col else superpose.line$col
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ci_+3A_x">x</code>, <code id="panel.ci_+3A_y">y</code></td>
<td>
<p> variables to be plotted in the scatterplot </p>
</td></tr>
<tr><td><code id="panel.ci_+3A_lower">lower</code></td>
<td>
<p>lower confidence limits</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_upper">upper</code></td>
<td>
<p>upper confidence limits</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_groups">groups</code></td>
<td>
<p> an optional grouping variable.  If present,
<code><a href="lattice.html#topic+panel.superpose">panel.superpose</a></code> will be used instead to display each
subgroup </p>
</td></tr>
<tr><td><code id="panel.ci_+3A_subscripts">subscripts</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code></p>
</td></tr>
<tr><td><code id="panel.ci_+3A_col">col</code></td>
<td>
<p>line color</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_fill">fill</code></td>
<td>
<p>fill color</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_alpha">alpha</code></td>
<td>
<p>opacity for the fill</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_lty">lty</code></td>
<td>
<p>line type</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_grid">grid</code></td>
<td>

<p>A logical flag, character string, or list specifying whether and how
a background grid should be drawn.  This provides the same
functionality as <code>type="g"</code>, but is the preferred alternative
as the effect <code>type="g"</code> is conceptually different from that of
other <code>type</code> values (which are all data-dependent).  Using the
<code>grid</code> argument also allows more flexibility.
</p>
<p>Most generally, <code>grid</code> can be a list of arguments to be
supplied to <code><a href="lattice.html#topic+panel.grid">panel.grid</a></code>, which is called with those
arguments.  Three shortcuts are available:
</p>

<dl>
<dt><code>TRUE</code>:</dt><dd><p> roughly equivalent to <code>list(h = -1, v = -1)</code> </p>
</dd>
<dt><code>"h"</code>:</dt><dd><p> roughly equivalent to <code>list(h = -1, v = 0)</code> </p>
</dd>
<dt><code>"v"</code>:</dt><dd><p> roughly equivalent to <code>list(h = 0, v = -1)</code> </p>
</dd>
</dl>

<p>No grid is drawn if <code>grid = FALSE</code>.
</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_...">...</code></td>
<td>

<p>Extra arguments, if any, for <code>panel.xyplot</code>.  Usually passed on
as graphical parameters to low level plotting functions, or to the
panel functions performing smoothing, if applicable.
</p>
</td></tr>
<tr><td><code id="panel.ci_+3A_col.line">col.line</code></td>
<td>
<p>line color. Supersedes <code>col</code> if both are specified.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- lm(Petal.Width ~ Petal.Length * Species, data = iris)
newdat &lt;- expand.grid(
  Petal.Length = seq(1, 7, by = 0.1),
  Species = c("setosa", "versicolor", "virginica")
)
pred &lt;- predict(mod, newdat, interval = "confidence")
dd &lt;- cbind(newdat, pred)

xyplot(
  fit ~ Petal.Length,
  groups = Species, data = dd,
  prepanel = prepanel.ci, auto.key = list(lines = TRUE, points = FALSE),
  ylab = "Petal Width",
  xlab = "Petal Length",
  lower = dd$lwr, upper = dd$upr, type = "l",
  panel = function(...) {
    panel.ci(..., alpha = 0.15, grid = TRUE)
    panel.xyplot(...)
  }
)

</code></pre>

<hr>
<h2 id='panel.qqmathci'>Q-Q Diagram Confidence Intervals Panels</h2><span id='topic+panel.qqmathci'></span>

<h3>Description</h3>

<p>Panel function to go along with <code><a href="lattice.html#topic+qqmath">lattice::qqmath()</a></code> and
<code><a href="lattice.html#topic+panel.qqmathline">lattice::panel.qqmathline()</a></code>. Adds filled confidence bands to the Q-Q-plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.qqmathci(
  x,
  y = x,
  distribution = qnorm,
  probs = c(0.25, 0.75),
  qtype = 7,
  groups = NULL,
  ci = 0.95,
  alpha = 0.25,
  col = trellis.par.get("plot.line")$col,
  ...,
  col.line
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.qqmathci_+3A_x">x</code></td>
<td>
<p> The original sample, possibly reduced to a fewer number of
quantiles, as determined by the <code>f.value</code> argument to
<code>qqmath</code>
</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_y">y</code></td>
<td>

<p>an alias for <code>x</code> for backwards compatibility
</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_distribution">distribution</code></td>
<td>

<p>quantile function for reference theoretical distribution.
</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_probs">probs</code></td>
<td>

<p>numeric vector of length two, representing probabilities.
Corresponding quantile pairs define the line drawn.
</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_qtype">qtype</code></td>
<td>

<p>the <code>type</code> of quantile computation used in
<code><a href="stats.html#topic+quantile">quantile</a></code>
</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_groups">groups</code></td>
<td>

<p>optional grouping variable.  If non-null, a line will be drawn for
each group.
</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_ci">ci</code></td>
<td>
<p>Confidence level</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_alpha">alpha</code></td>
<td>
<p>Alpha level for the color fill</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_col">col</code></td>
<td>
<p>Color fill for the confidence bands.</p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="lattice.html#topic+panel.superpose">lattice::panel.superpose()</a></code> and
<code><a href="lattice.html#topic+llines">lattice::panel.polygon()</a></code></p>
</td></tr>
<tr><td><code id="panel.qqmathci_+3A_col.line">col.line</code></td>
<td>
<p>Color fill for the confidence bands. Is used internally
by <code><a href="lattice.html#topic+panel.superpose">lattice::panel.superpose()</a></code> and should generally not be changed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function tries to figure out the density function counterpart to
that provided in the argument <code>distribution</code> by regular expressions.
</p>


<h3>Value</h3>

<p>Augments a trellis plot panel, such as that
created by <code><a href="lattice.html#topic+qqmath">lattice::qqmath()</a></code>, with confidence levels.
</p>


<h3>Author(s)</h3>

<p>Johan Larsson.
</p>


<h3>See Also</h3>

<p><code><a href="lattice.html#topic+panel.qqmathline">lattice::panel.qqmathline()</a></code>, <code><a href="lattice.html#topic+qqmath">lattice::qqmath()</a></code>, and
<code><a href="lattice.html#topic+panel.qqmath">lattice::panel.qqmath()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>qqmath(~ height | voice.part, aspect = "xy", data = singer,
       prepanel = prepanel.qqmathline,
       panel = function(x, ...) {
         panel.qqmathci(x, ...)
         panel.qqmathline(x, ...)
         panel.qqmath(x, ...)
       })
</code></pre>

<hr>
<h2 id='panel.ternaryplot'>Panel Function for Ternary Plots</h2><span id='topic+panel.ternaryplot'></span>

<h3>Description</h3>

<p>Panel Function for Ternary Plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ternaryplot(
  x,
  y,
  z,
  subscripts,
  response = NULL,
  density = FALSE,
  region = density || !is.null(response),
  contour = density || !is.null(response),
  labels = !is.null(response),
  points = TRUE,
  grid = TRUE,
  density_breaks = NULL,
  xlab,
  ylab,
  zlab,
  xlab.default,
  ylab.default,
  zlab.default,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ternaryplot_+3A_x">x</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_y">y</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_z">z</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_subscripts">subscripts</code></td>
<td>
<p>See <code><a href="lattice.html#topic+panel.xyplot">lattice::panel.xyplot()</a></code>.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_response">response</code></td>
<td>
<p>An optional response variable</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_density">density</code></td>
<td>
<p>Compute two-dimensional density estimates via <code><a href="MASS.html#topic+kde2d">MASS::kde2d()</a></code>.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_region">region</code></td>
<td>
<p>Fill density or response estimates with a color gradient.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_contour">contour</code></td>
<td>
<p>Draw contour lines for density and response estimates.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_labels">labels</code></td>
<td>
<p>Label contour lines.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_points">points</code></td>
<td>
<p>Draw points (via <code><a href="#topic+panel.ternaryplot.xyplot">panel.ternaryplot.xyplot()</a></code>).</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_grid">grid</code></td>
<td>
<p>Draw a reference grid.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_density_breaks">density_breaks</code></td>
<td>
<p>Breaks for the density plot if used (see
<code><a href="#topic+panel.ternaryplot.density">panel.ternaryplot.density()</a></code>).</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_xlab">xlab</code></td>
<td>
<p>X axis label (the left dimension)</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_ylab">ylab</code></td>
<td>
<p>Y axis label (the right dimension)</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_zlab">zlab</code></td>
<td>
<p>Z axis label (the top dimension)</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_xlab.default">xlab.default</code></td>
<td>
<p>Internal argument</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_ylab.default">ylab.default</code></td>
<td>
<p>Internal argument</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_zlab.default">zlab.default</code></td>
<td>
<p>Internal argument</p>
</td></tr>
<tr><td><code id="panel.ternaryplot_+3A_...">...</code></td>
<td>
<p>Arguments passed down to subsequent panel functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>


<h3>See Also</h3>

<p>The building blocks of this function are available as the separate
panel functions <code><a href="#topic+panel.ternaryplot.xyplot">panel.ternaryplot.xyplot()</a></code>, <code><a href="#topic+panel.ternaryplot.grid">panel.ternaryplot.grid()</a></code>,
<code><a href="#topic+panel.ternaryplot.scales">panel.ternaryplot.scales()</a></code>, <code><a href="#topic+panel.ternaryplot.clip">panel.ternaryplot.clip()</a></code>,
<code><a href="#topic+panel.ternaryplot.response">panel.ternaryplot.response()</a></code>, and <code><a href="#topic+panel.ternaryplot.density">panel.ternaryplot.density()</a></code> in case
the user would like to get complete control of the customization.
</p>

<hr>
<h2 id='panel.ternaryplot.clip'>Plot Region Clipping for Ternary Plots</h2><span id='topic+panel.ternaryplot.clip'></span>

<h3>Description</h3>

<p>Plot Region Clipping for Ternary Plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ternaryplot.clip(
  xl = current.panel.limits()$x,
  yl = current.panel.limits()$y,
  border = "transparent",
  col = if (background$col == "transparent") "#FFFFFF" else background$col
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ternaryplot.clip_+3A_xl">xl</code></td>
<td>
<p>X axis limits</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.clip_+3A_yl">yl</code></td>
<td>
<p>Y axis limits</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.clip_+3A_border">border</code></td>
<td>
<p>Border color</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.clip_+3A_col">col</code></td>
<td>
<p>Polygon fill</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>

<hr>
<h2 id='panel.ternaryplot.density'>Two-Dimensional Density Estimation for Ternary Plots</h2><span id='topic+panel.ternaryplot.density'></span>

<h3>Description</h3>

<p>Two-Dimensional Density Estimation for Ternary Plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ternaryplot.density(
  x,
  y,
  z,
  subscripts,
  n = 100,
  region = TRUE,
  contour = FALSE,
  labels = isTRUE(contour),
  density_breaks = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ternaryplot.density_+3A_x">x</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_y">y</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_z">z</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_subscripts">subscripts</code></td>
<td>
<p>See <code><a href="lattice.html#topic+panel.xyplot">lattice::panel.xyplot()</a></code>.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_n">n</code></td>
<td>

<p>Number of grid points in each direction.  Can be scalar or a length-2
integer vector.
</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_region">region</code></td>
<td>
<p>Fill density or response estimates with a color gradient.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_contour">contour</code></td>
<td>
<p>Draw contour lines for density and response estimates.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_labels">labels</code></td>
<td>
<p>Label contour lines.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_density_breaks">density_breaks</code></td>
<td>
<p>Breaks for the density plot if used (see
<code><a href="#topic+panel.ternaryplot.density">panel.ternaryplot.density()</a></code>).</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.density_+3A_...">...</code></td>
<td>
<p>Arguments that will be passed on to <code><a href="lattice.html#topic+llines">lattice::panel.lines()</a></code>,
<code><a href="lattice.html#topic+llines">lattice::panel.polygon()</a></code>, and <code><a href="lattice.html#topic+llines">lattice::panel.text()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>

<hr>
<h2 id='panel.ternaryplot.grid'>Reference Grid for Ternary Plot</h2><span id='topic+panel.ternaryplot.grid'></span>

<h3>Description</h3>

<p>Reference Grid for Ternary Plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ternaryplot.grid(
  at = seq.int(0, 1, by = 0.2),
  alpha = reference.line$alpha,
  col = reference.line$col,
  lty = reference.line$lty,
  lwd = reference.line$lwd
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ternaryplot.grid_+3A_at">at</code></td>
<td>
<p>Where to draw the reference lines</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.grid_+3A_alpha">alpha</code></td>
<td>
<p>Alpha</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.grid_+3A_col">col</code></td>
<td>
<p>Color</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.grid_+3A_lty">lty</code></td>
<td>
<p>Line type</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.grid_+3A_lwd">lwd</code></td>
<td>
<p>Line weight</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>

<hr>
<h2 id='panel.ternaryplot.response'>Response Panels for Ternary Plots</h2><span id='topic+panel.ternaryplot.response'></span>

<h3>Description</h3>

<p>Response Panels for Ternary Plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ternaryplot.response(
  x,
  y,
  z,
  subscripts,
  response,
  region = TRUE,
  contour = TRUE,
  labels = isTRUE(contour),
  fun = c("glm", "lm"),
  formula = response ~ poly(x, y),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ternaryplot.response_+3A_x">x</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_y">y</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_z">z</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_subscripts">subscripts</code></td>
<td>
<p>See <code><a href="lattice.html#topic+panel.xyplot">lattice::panel.xyplot()</a></code>.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_response">response</code></td>
<td>
<p>An optional response variable</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_region">region</code></td>
<td>
<p>Fill density or response estimates with a color gradient.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_contour">contour</code></td>
<td>
<p>Draw contour lines for density and response estimates.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_labels">labels</code></td>
<td>
<p>Label contour lines.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_fun">fun</code></td>
<td>
<p>Function to apply to the response variable.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_formula">formula</code></td>
<td>
<p>Formula for the function.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.response_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="lattice.html#topic+llines">lattice::panel.lines()</a></code>,
<code><a href="lattice.html#topic+llines">lattice::panel.polygon()</a></code>, <code><a href="lattice.html#topic+llines">lattice::panel.text()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>

<hr>
<h2 id='panel.ternaryplot.scales'>Axes and Labels for Ternary Plots</h2><span id='topic+panel.ternaryplot.scales'></span>

<h3>Description</h3>

<p>Axes and Labels for Ternary Plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ternaryplot.scales(
  xlab,
  ylab,
  zlab,
  xlab.default,
  ylab.default,
  zlab.default,
  at = seq.int(0, 1, by = 0.2),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ternaryplot.scales_+3A_xlab">xlab</code>, <code id="panel.ternaryplot.scales_+3A_ylab">ylab</code>, <code id="panel.ternaryplot.scales_+3A_zlab">zlab</code></td>
<td>

<p>Labels, have to be lists. Typically the user will not manipulate
these, but instead control this via arguments to <code>cloud</code>
directly.
</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.scales_+3A_xlab.default">xlab.default</code></td>
<td>
<p> for internal use  </p>
</td></tr>
<tr><td><code id="panel.ternaryplot.scales_+3A_ylab.default">ylab.default</code></td>
<td>
<p> for internal use  </p>
</td></tr>
<tr><td><code id="panel.ternaryplot.scales_+3A_zlab.default">zlab.default</code></td>
<td>
<p> for internal use  </p>
</td></tr>
<tr><td><code id="panel.ternaryplot.scales_+3A_at">at</code></td>
<td>
<p>Where to draw tick marks.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.scales_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>

<hr>
<h2 id='panel.ternaryplot.xyplot'>Ternary Plot Wrapper for lattice::xyplot</h2><span id='topic+panel.ternaryplot.xyplot'></span>

<h3>Description</h3>

<p>This mainly exists to enable users to string together their own ternary plot
functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>panel.ternaryplot.xyplot(x, y, z, subscripts, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="panel.ternaryplot.xyplot_+3A_x">x</code></td>
<td>
<p>Numeric vector of values in the original space</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.xyplot_+3A_y">y</code></td>
<td>
<p>Numeric vector of values in the original space</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.xyplot_+3A_z">z</code></td>
<td>
<p>Numeric vector of values in the original space</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.xyplot_+3A_subscripts">subscripts</code></td>
<td>
<p>see <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>.</p>
</td></tr>
<tr><td><code id="panel.ternaryplot.xyplot_+3A_...">...</code></td>
<td>
<p>Arguments that are passed on to <code><a href="lattice.html#topic+panel.xyplot">lattice::panel.xyplot()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a layer inside a panel of a <code>lattice</code> plot.
</p>

<hr>
<h2 id='prepanel.ci'>Prepanel for ciplot</h2><span id='topic+prepanel.ci'></span>

<h3>Description</h3>

<p>Prepanel for ciplot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepanel.ci(x, y, lower, upper, subscripts, groups = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepanel.ci_+3A_x">x</code>, <code id="prepanel.ci_+3A_y">y</code></td>
<td>
<p>x and y values, numeric or factor</p>
</td></tr>
<tr><td><code id="prepanel.ci_+3A_lower">lower</code></td>
<td>
<p>lower confidence limits</p>
</td></tr>
<tr><td><code id="prepanel.ci_+3A_upper">upper</code></td>
<td>
<p>upper confidence limits</p>
</td></tr>
<tr><td><code id="prepanel.ci_+3A_groups">groups</code>, <code id="prepanel.ci_+3A_subscripts">subscripts</code></td>
<td>
<p> See <code><a href="lattice.html#topic+xyplot">xyplot</a></code>.  Whenever
appropriate, calculations are done separately for each group and
then combined.  </p>
</td></tr>
<tr><td><code id="prepanel.ci_+3A_...">...</code></td>
<td>
<p> other arguments, usually ignored </p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>mod &lt;- lm(Petal.Width ~ Petal.Length * Species, data = iris)
newdat &lt;- expand.grid(
  Petal.Length = seq(1, 7, by = 0.1),
  Species = c("setosa", "versicolor", "virginica")
)
pred &lt;- predict(mod, newdat, interval = "confidence")
dd &lt;- cbind(newdat, pred)

xyplot(
  fit ~ Petal.Length,
  groups = Species, data = dd,
  prepanel = prepanel.ci,
  ylab = "Petal Width",
  xlab = "Petal Length",
  lower = dd$lwr, upper = dd$upr, alpha = 0.3,
  panel = function(...) {
    panel.ci(..., grid = TRUE)
    panel.xyplot(type = "l", ...)
  }
)

</code></pre>

<hr>
<h2 id='qqmath.zoo'>Q-Q Plots for Zoo Objects</h2><span id='topic+qqmath.zoo'></span>

<h3>Description</h3>

<p>Draw quantile-Quantile plots of a sample against a theoretical distribution,
possibly conditioned on other variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'zoo'
qqmath(
  x,
  data = NULL,
  xlab = "Theoretical quantiles",
  ylab = "Sample quantiles",
  ref = TRUE,
  ci = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qqmath.zoo_+3A_x">x</code></td>
<td>
<p>A <code>zoo</code> object</p>
</td></tr>
<tr><td><code id="qqmath.zoo_+3A_data">data</code></td>
<td>
<p>Ignored</p>
</td></tr>
<tr><td><code id="qqmath.zoo_+3A_xlab">xlab</code></td>
<td>
<p>X axis label</p>
</td></tr>
<tr><td><code id="qqmath.zoo_+3A_ylab">ylab</code></td>
<td>
<p>Y axis label</p>
</td></tr>
<tr><td><code id="qqmath.zoo_+3A_ref">ref</code></td>
<td>
<p>Plot a reference line via <code><a href="lattice.html#topic+panel.qqmathline">lattice::panel.qqmathline()</a></code>.</p>
</td></tr>
<tr><td><code id="qqmath.zoo_+3A_ci">ci</code></td>
<td>
<p>Plot confidence levels via <code><a href="#topic+panel.qqmathci">panel.qqmathci()</a></code>.</p>
</td></tr>
<tr><td><code id="qqmath.zoo_+3A_...">...</code></td>
<td>
<p>Parameters to pass on to <code><a href="lattice.html#topic+qqmath">lattice::qqmath()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots and returns a <code>trellis</code> object.
</p>


<h3>Author(s)</h3>

<p>Original by Deepayan Sarkar.
</p>


<h3>See Also</h3>

<p><code><a href="lattice.html#topic+qqmath">lattice::qqmath()</a></code>, <code><a href="zoo.html#topic+zoo">zoo::zoo()</a></code>, <code><a href="lattice.html#topic+panel.qqmathline">lattice::panel.qqmathline()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(zoo))
  qqmath(zoo(lh))
</code></pre>

<hr>
<h2 id='require_pkg'>Throw An Error if A Required Package Is Unavailable</h2><span id='topic+require_pkg'></span>

<h3>Description</h3>

<p>Throw An Error if A Required Package Is Unavailable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>require_pkg(pkg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="require_pkg_+3A_pkg">pkg</code></td>
<td>
<p>The required package</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An error if the package namespace is not available.
</p>

<hr>
<h2 id='rescale'>Uniform Rescaling</h2><span id='topic+rescale'></span>

<h3>Description</h3>

<p>Uniform Rescaling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rescale(
  x,
  new_min = 0,
  new_max = 1,
  old_min = min(x, na.rm = TRUE),
  old_max = max(x, na.rm = TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rescale_+3A_x">x</code></td>
<td>
<p>A numeric vector to rescale</p>
</td></tr>
<tr><td><code id="rescale_+3A_new_min">new_min</code></td>
<td>
<p>New min</p>
</td></tr>
<tr><td><code id="rescale_+3A_new_max">new_max</code></td>
<td>
<p>New max</p>
</td></tr>
<tr><td><code id="rescale_+3A_old_min">old_min</code></td>
<td>
<p>Old min</p>
</td></tr>
<tr><td><code id="rescale_+3A_old_max">old_max</code></td>
<td>
<p>Old max</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A rescaled version of <code>x</code>.
</p>

<hr>
<h2 id='seq_pal'>Sequential palette helper.</h2><span id='topic+seq_pal'></span>

<h3>Description</h3>

<p>Divides the regions palette from lattice in half when it does not make
sense to have a diverging palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seq_pal(n, bias = 1, space = "Lab", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seq_pal_+3A_n">n</code></td>
<td>
<p>Number of colors to generate</p>
</td></tr>
<tr><td><code id="seq_pal_+3A_...">...</code></td>
<td>
<p>Stuff to pass on to <code><a href="grDevices.html#topic+colorRamp">grDevices::colorRampPalette()</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='setup_key'>Key Setup</h2><span id='topic+setup_key'></span>

<h3>Description</h3>

<p>Try to setup a key while also dodging existing keys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_key(
  legend,
  key,
  default_key,
  fun,
  pos = c("right", "top", "bottom", "left")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setup_key_+3A_legend">legend</code></td>
<td>
<p>a list of legends, usually the <code style="white-space: pre;">&#8288;$legend&#8288;</code> slot of a trellis
object.</p>
</td></tr>
<tr><td><code id="setup_key_+3A_key">key</code></td>
<td>
<p>A key specification, usually the user input.</p>
</td></tr>
<tr><td><code id="setup_key_+3A_default_key">default_key</code></td>
<td>
<p>The default key specifications that may be overridden by
the user.</p>
</td></tr>
<tr><td><code id="setup_key_+3A_fun">fun</code></td>
<td>
<p>The function to draw the key, such as <code><a href="lattice.html#topic+draw.colorkey">lattice::draw.colorkey()</a></code>.</p>
</td></tr>
<tr><td><code id="setup_key_+3A_pos">pos</code></td>
<td>
<p>Preferences for the position of the new key.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The original <code>legend</code> object with the addition of the key defined by
<code>key</code>, <code>default_key</code>, and <code>fun</code>.
</p>

<hr>
<h2 id='tactile.theme'>Tactile Theme</h2><span id='topic+tactile.theme'></span>

<h3>Description</h3>

<p>A custom theme for lattice that tries to make away with some of the
(in this author's opinion) excessive margins that result from the default
settings. It also provides a different color theme based partly on
<code><a href="latticeExtra.html#topic+custom.theme">latticeExtra::custom.theme()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tactile.theme(fontsize = c(12, 8), color = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tactile.theme_+3A_fontsize">fontsize</code></td>
<td>
<p>A vector of two numeric scalars for text and symbols
respectively.</p>
</td></tr>
<tr><td><code id="tactile.theme_+3A_color">color</code></td>
<td>
<p>Colorized theme.</p>
</td></tr>
<tr><td><code id="tactile.theme_+3A_...">...</code></td>
<td>
<p>Additional named options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The theme currently modifies the default lattice theme so that
</p>

<ul>
<li><p> paddings (margins) are minimized,
</p>
</li>
<li><p> axis tick lengths are halved, and
</p>
</li>
<li><p> title size is decreased <em>slightly</em>.
</p>
</li></ul>



<h3>Value</h3>

<p>A list of graphical parameters that for instance could be supplied
inside a call to <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code> or set via
<code><a href="lattice.html#topic+lattice.options">lattice::lattice.options()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xyplot(speed ~ dist, data = cars, par.settings = tactile.theme())
opars &lt;- trellis.par.get()
trellis.par.set(tactile.theme())
show.settings()
trellis.par.set(opars)
</code></pre>

<hr>
<h2 id='ternaryplot'>Ternary Plot</h2><span id='topic+ternaryplot'></span><span id='topic+ternaryplot.formula'></span><span id='topic+ternaryplot.data.frame'></span><span id='topic+ternaryplot.matrix'></span>

<h3>Description</h3>

<p>A ternary plot is a triangular diagram that displays proportions of
three variables. It can be used to map three-dimensional data to a
two-dimensional surface with the caveat that the data's original scales are
lost (unless it was proportional data to begin with).#'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ternaryplot(x, data, ...)

## S3 method for class 'formula'
ternaryplot(
  x,
  data = NULL,
  response = NULL,
  groups = NULL,
  density = FALSE,
  region = density || !is.null(response),
  contour = density || !is.null(response),
  labels = !is.null(response),
  colorkey = region,
  xlab,
  ylab,
  zlab,
  xlim = c(-0.15, 1.15),
  ylim = c(-0.3, 1),
  panel = panel.ternaryplot,
  default.prepanel = lattice.getOption("prepanel.default.xyplot"),
  drop.unused.levels = lattice.getOption("drop.unused.levels"),
  subset = TRUE,
  ...
)

## S3 method for class 'data.frame'
ternaryplot(x, data = NULL, ...)

## S3 method for class 'matrix'
ternaryplot(x, data = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ternaryplot_+3A_x">x</code></td>
<td>
<p>See <strong>Methods (by class)</strong>.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_data">data</code></td>
<td>
<p>A data frame in which the <code>formula</code>, <code>groups</code>, and conditioning
variables are evaluated.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_...">...</code></td>
<td>
<p>Arguments that are passed on to other methods, particularly
<code><a href="#topic+panel.ternaryplot">panel.ternaryplot()</a></code>.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_response">response</code></td>
<td>
<p>An optional response variable</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_groups">groups</code></td>
<td>
<p>A variable or expression to be evaluated in <code>data</code> and used to
distinguish groups by varying graphical parameters.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_density">density</code></td>
<td>
<p>Compute two-dimensional density estimates via <code><a href="MASS.html#topic+kde2d">MASS::kde2d()</a></code>.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_region">region</code></td>
<td>
<p>Fill density or response estimates with a color gradient.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_contour">contour</code></td>
<td>
<p>Draw contour lines for density and response estimates.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_labels">labels</code></td>
<td>
<p>Label contour lines.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_colorkey">colorkey</code></td>
<td>
<p>if <code>TRUE</code> automatically computes a colorkey for density
or response estimates. Can also be a list (see <code><a href="lattice.html#topic+levelplot">lattice::levelplot()</a></code> for
details on this).</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_xlab">xlab</code></td>
<td>
<p>X axis label (the left dimension)</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_ylab">ylab</code></td>
<td>
<p>Y axis label (the right dimension)</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_zlab">zlab</code></td>
<td>
<p>Z axis label (the top dimension)</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_xlim">xlim</code></td>
<td>
<p>X limits for the plot region.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_ylim">ylim</code></td>
<td>
<p>Y limits for the plot region.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_panel">panel</code></td>
<td>
<p>The panel function.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_default.prepanel">default.prepanel</code></td>
<td>
<p>The default prepanel function.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_drop.unused.levels">drop.unused.levels</code></td>
<td>
<p>Drop unused conditioning or groups levels.</p>
</td></tr>
<tr><td><code id="ternaryplot_+3A_subset">subset</code></td>
<td>
<p>An expression that evaluates to a logical or integer indexing
vector. Like groups, it is evaluated in data. Only the resulting rows of
data are used for the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>. The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to
update components of the object and the
<code><a href="lattice.html#topic+print.trellis">print</a></code> method (usually called by
default) will plot it on an appropriate plotting device.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>ternaryplot(formula)</code>: A formula of the form <code>top ~ left * right</code>. Variables
will be evaluated inside data if provided.
</p>
</li>
<li> <p><code>ternaryplot(data.frame)</code>: A data frame for which the first three columns will
be mapped to the <em>left</em>, <em>right</em>, and <em>top</em> dimensions of the ternary plot
respectively.
</p>
</li>
<li> <p><code>ternaryplot(matrix)</code>: A matrix for which the
first three columns will be mapped to the <em>left</em>, <em>right</em>, and <em>top</em>
dimensions of the ternary plot respectively.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>ternaryplot(Fertility ~ Agriculture * Catholic, data = swiss)
ternaryplot(Catholic ~ Examination * Education, response = Infant.Mortality,
            data = swiss, contour = FALSE)

ternaryplot(Or ~ An * Ab | Feldspar, data = feldspar)

ternaryplot(Or ~ An * Ab, groups = Feldspar, data = feldspar, density = TRUE)
</code></pre>

<hr>
<h2 id='updateList'>Update a List with User Input</h2><span id='topic+updateList'></span>

<h3>Description</h3>

<p>Wrapper for <code><a href="utils.html#topic+modifyList">utils::modifyList()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateList(x, val)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateList_+3A_x">x</code></td>
<td>
<p>A list to be updated.</p>
</td></tr>
<tr><td><code id="updateList_+3A_val">val</code></td>
<td>
<p>Stuff to update <code>x</code> with.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated list.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+modifyList">utils::modifyList()</a></code>
</p>

<hr>
<h2 id='xyplot.acf'>Plot Autocovariance and Autocorrelation Functions</h2><span id='topic+xyplot.acf'></span>

<h3>Description</h3>

<p>This is a version of <code><a href="stats.html#topic+plot.acf">stats::plot.acf()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'acf'
xyplot(
  x,
  data = NULL,
  ci = 0.95,
  ci_type = c("white", "ma"),
  ci_col = trellis.par.get("add.line")$col,
  ci_lty = 2,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xyplot.acf_+3A_x">x</code></td>
<td>
<p>An 'acf' object.</p>
</td></tr>
<tr><td><code id="xyplot.acf_+3A_data">data</code></td>
<td>
<p>Ignored</p>
</td></tr>
<tr><td><code id="xyplot.acf_+3A_ci">ci</code></td>
<td>
<p>Confidence level.</p>
</td></tr>
<tr><td><code id="xyplot.acf_+3A_ci_type">ci_type</code></td>
<td>
<p>Type of confidence level.</p>
</td></tr>
<tr><td><code id="xyplot.acf_+3A_ci_col">ci_col</code></td>
<td>
<p>Line color for the confidence levels.</p>
</td></tr>
<tr><td><code id="xyplot.acf_+3A_ci_lty">ci_lty</code></td>
<td>
<p>Line type for the confidence levels.</p>
</td></tr>
<tr><td><code id="xyplot.acf_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns and plots a <code>trellis</code> object.
</p>


<h3>Author(s)</h3>

<p>Original by Brian Ripley.
</p>


<h3>See Also</h3>

<p><code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>, <code><a href="stats.html#topic+plot.acf">stats::plot.acf()</a></code>, <code><a href="stats.html#topic+acf">stats::acf()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- ts(matrix(rnorm(400), 100, 4), start = c(1961, 1), frequency = 12)
xyplot(acf(z))
</code></pre>

<hr>
<h2 id='xyplot.Arima'>Diagnostic Plots for ARIMA Models</h2><span id='topic+xyplot.Arima'></span>

<h3>Description</h3>

<p>Diagnostic plots modelled after <code><a href="stats.html#topic+tsdiag">stats::tsdiag()</a></code> with some modifications
and corrections of p-values in the Box&ndash;Ljung test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Arima'
xyplot(
  x,
  data = NULL,
  which = 1:4,
  lag.max = NULL,
  gof.lag = NULL,
  qq.aspect = "iso",
  na.action = na.pass,
  main = NULL,
  layout = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xyplot.Arima_+3A_x">x</code></td>
<td>
<p>A fitted time-series model of class <code>Arima</code>.</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_data">data</code></td>
<td>
<p>Ignored</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_which">which</code></td>
<td>
<p>A sequence of integers between 1 and 4, identifying the
plots to be shown.</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_lag.max">lag.max</code></td>
<td>
<p>Number of lags to compute ACF for.</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_gof.lag">gof.lag</code></td>
<td>
<p>The maximum number of lags for the Ljung&ndash;Box test.</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_qq.aspect">qq.aspect</code></td>
<td>
<p>Aspect of Q-Q plot (see <code><a href="lattice.html#topic+qqmath">lattice::qqmath()</a></code>).</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_na.action">na.action</code></td>
<td>
<p>Treatment of <code>NA</code>s.</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_main">main</code></td>
<td>
<p>Optional titles for the plots. Can also be <code>TRUE</code>, in which
case a default list of titles will be added.</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_layout">layout</code></td>
<td>
<p>Either a numeric vector with (columns, rows) to use in the call
to <code><a href="gridExtra.html#topic+arrangeGrob">gridExtra::grid.arrange()</a></code>, or a layout matrix which will then be
passed as the <code>layout_matrix</code> in <code>grid.arrange()</code>.</p>
</td></tr>
<tr><td><code id="xyplot.Arima_+3A_...">...</code></td>
<td>
<p>Parameters to pass to <code><a href="lattice.html#topic+xyplot">xyplot()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots a lattice plot and returns a <code>trellis</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+tsdiag">stats::tsdiag()</a></code>, <code><a href="stats.html#topic+arima">stats::arima()</a></code>, <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>,
<code><a href="gridExtra.html#topic+arrangeGrob">gridExtra::grid.arrange()</a></code>, <code><a href="stats.html#topic+box.test">stats::Box.test()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- arima(lh, order = c(1, 1, 0))
xyplot(fit, layout = c(2, 2))
xyplot(fit, which = c(1:2, 4), layout = rbind(c(1, 1), c(2, 3)))
</code></pre>

<hr>
<h2 id='xyplot.forecast'>Plot Forecasts with Trellis Graphics</h2><span id='topic+xyplot.forecast'></span>

<h3>Description</h3>

<p>Plot forecasts from <code><a href="forecast.html#topic+reexports">forecast::forecast()</a></code>. It is built mostly to resemble
the <code><a href="forecast.html#topic+plot.forecast">forecast::autoplot.forecast()</a></code> and <code><a href="forecast.html#topic+plot.forecast">forecast::plot.forecast()</a></code>
functions, but in addition tries to plot the predictions on the original
scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'forecast'
xyplot(
  x,
  data = NULL,
  ci = TRUE,
  ci_levels = x$level,
  ci_key = ci,
  ci_pal = hcl(0, 0, 45:100),
  ci_alpha = trellis.par.get("regions")$alpha,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xyplot.forecast_+3A_x">x</code></td>
<td>
<p>An object of class <code>forecast</code>.</p>
</td></tr>
<tr><td><code id="xyplot.forecast_+3A_data">data</code></td>
<td>
<p>Data of observations left out of the model fit, usually
&quot;future&quot; observations.</p>
</td></tr>
<tr><td><code id="xyplot.forecast_+3A_ci">ci</code></td>
<td>
<p>Plot confidence intervals for the predictions.</p>
</td></tr>
<tr><td><code id="xyplot.forecast_+3A_ci_levels">ci_levels</code></td>
<td>
<p>The prediction levels to plot as a subset of those
forecasted in <code>x</code>.</p>
</td></tr>
<tr><td><code id="xyplot.forecast_+3A_ci_key">ci_key</code></td>
<td>
<p>Set to <code>TRUE</code> to draw a key automatically or provide a list
(if <code>length(ci_levels)</code> &gt; 5 should work with <code><a href="lattice.html#topic+draw.colorkey">lattice::draw.colorkey()</a></code> and
otherwise with <code><a href="lattice.html#topic+draw.key">lattice::draw.key()</a></code>)</p>
</td></tr>
<tr><td><code id="xyplot.forecast_+3A_ci_pal">ci_pal</code></td>
<td>
<p>Color palette for the confidence bands.</p>
</td></tr>
<tr><td><code id="xyplot.forecast_+3A_ci_alpha">ci_alpha</code></td>
<td>
<p>Fill alpha for the confidence interval.</p>
</td></tr>
<tr><td><code id="xyplot.forecast_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="lattice.html#topic+panel.xyplot">lattice::panel.xyplot()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function requires the <strong>zoo</strong> package.
</p>


<h3>Value</h3>

<p>An object of class <code>"trellis"</code>. The
<code><a href="lattice.html#topic+update.trellis">update</a></code> method can be used to
update components of the object and the
<code><a href="lattice.html#topic+print.trellis">print</a></code> method (usually called by
default) will plot it on an appropriate plotting device.
</p>


<h3>See Also</h3>

<p><code><a href="lattice.html#topic+panel.xyplot">lattice::panel.xyplot()</a></code>, <code><a href="forecast.html#topic+reexports">forecast::forecast()</a></code>, <code><a href="lattice.html#topic+xyplot.ts">lattice::xyplot.ts()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(forecast)) {
  train &lt;- window(USAccDeaths, c(1973, 1), c(1977, 12))
  test &lt;- window(USAccDeaths, c(1978, 1), c(1978, 12))
  fit &lt;- arima(train, order = c(0, 1, 1),
               seasonal = list(order = c(0, 1, 1)))
  fcast1 &lt;- forecast(fit, 12)
  xyplot(fcast1, test, grid = TRUE, auto.key = list(corner = c(0, 0.99)),
         ci_key = list(title = "PI Level"))

  # A fan plot
  fcast2 &lt;- forecast(fit, 12, level = seq(0, 95, 10))
  xyplot(fcast2, test, ci_pal = heat.colors(100))
}
</code></pre>

<hr>
<h2 id='xyplot.lm'>Lattice plot diagnostics for lm objects</h2><span id='topic+xyplot.lm'></span>

<h3>Description</h3>

<p>Lattice plot diagnostics for <code>lm</code> objects, mostly mimicking the behavior
of <code><a href="stats.html#topic+plot.lm">stats::plot.lm()</a></code> but based on <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm'
xyplot(
  x,
  data = NULL,
  which = c(1:3, 5),
  main = FALSE,
  id.n = 3,
  labels.id = names(residuals(x)),
  cex.id = 0.75,
  cook.levels = c(0.5, 1),
  label.pos = c(4, 2),
  layout = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xyplot.lm_+3A_x">x</code></td>
<td>
<p><code>lm</code> object, typically result of <code><a href="stats.html#topic+lm">lm</a></code> or
<code><a href="stats.html#topic+glm">glm</a></code>.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_data">data</code></td>
<td>
<p>Only provided for method consistency and is ignored.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_which">which</code></td>
<td>
<p>if a subset of the plots is required, specify a subset of the
numbers <code>1:6</code></p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_main">main</code></td>
<td>
<p>if <code>TRUE</code> plots default titles. Can also be a <code>list</code> or character
vector of length 6.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_id.n">id.n</code></td>
<td>
<p>number of points to be labelled in each plot, starting
with the most extreme.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_labels.id">labels.id</code></td>
<td>
<p>vector of labels, from which the labels for extreme
points will be chosen.  <code>NULL</code> uses observation numbers.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_cex.id">cex.id</code></td>
<td>
<p>magnification of point labels.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_cook.levels">cook.levels</code></td>
<td>
<p>levels of Cook's distance at which to draw contours.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_label.pos">label.pos</code></td>
<td>
<p>positioning of labels, for the left half and right
half of the graph respectively, for plots 1-3, 5, 6.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_layout">layout</code></td>
<td>
<p>a numeric vector with <code style="white-space: pre;">&#8288;[columns, rows]&#8288;</code> to use in the call
to <code><a href="gridExtra.html#topic+arrangeGrob">gridExtra::grid.arrange()</a></code>, or a layout matrix which will then be
passed as the <code>layout_matrix</code> in <code>grid.arrange()</code>.</p>
</td></tr>
<tr><td><code id="xyplot.lm_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>trellis</code> objects or a single <code>trellis</code> object.
</p>


<h3>Author(s)</h3>

<p>Original by John Maindonald and Martin Maechler. Adaptation to
lattice by Johan Larsson.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">stats::lm()</a></code>, <code><a href="stats.html#topic+plot.lm">stats::plot.lm()</a></code>, <code><a href="lattice.html#topic+xyplot">lattice::xyplot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- lm(Sepal.Length ~ Sepal.Width, data = iris)
xyplot(fit)
xyplot(fit, which = 5)
</code></pre>

<hr>
<h2 id='xyz_to_xy'>Convert a formula from z ~ x * y to y ~ x</h2><span id='topic+xyz_to_xy'></span>

<h3>Description</h3>

<p>Convert a formula from z ~ x * y to y ~ x
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xyz_to_xy(form)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xyz_to_xy_+3A_form">form</code></td>
<td>
<p>Three-dimensional lattice formula.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A two-dimensional lattice formula.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

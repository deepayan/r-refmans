<!DOCTYPE html><html lang="en-US"><head><title>Help for package cnd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cnd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cnd-package'><p>cnd: Create and Register Conditions</p></a></li>
<li><a href='#cnd_create_registry'><p>Create a registration</p></a></li>
<li><a href='#cnd_document'><p>Document your conditions</p></a></li>
<li><a href='#cnd_exports'><p>Add conditions to functions</p></a></li>
<li><a href='#cnd_is'><p><code>is</code> functions for cnd</p></a></li>
<li><a href='#cnd-cnd-conditions'><p>Conditions for <code>cnd</code></p></a></li>
<li><a href='#condition'><p>Conditions</p></a></li>
<li><a href='#format-conditions'><p>Format conditions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Create and Register Conditions</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An interface for creating new condition generators objects.  
    Generators are special functions that can be saved in registries and linked
    to other functions.  Utilities for documenting your generators, and new
    conditions is provided for package development.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jmbarbone/cnd/issues">https://github.com/jmbarbone/cnd/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://jmbarbone.github.io/cnd/">https://jmbarbone.github.io/cnd/</a>, <a href="https://github.com/jmbarbone/cnd">https://github.com/jmbarbone/cnd</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>cli, here, pkgload, rcmdcheck, roxygen2, spelling, testthat
(&ge; 3.0.0), utils</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>false</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-25 18:17:10 UTC; jordan</td>
</tr>
<tr>
<td>Author:</td>
<td>Jordan Mark Barbone
    <a href="https://orcid.org/0000-0001-9788-3628"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cph,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jordan Mark Barbone &lt;jmbarbone@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-26 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cnd-package'>cnd: Create and Register Conditions</h2><span id='topic+cnd-package'></span>

<h3>Description</h3>

<p>An interface for creating new condition generators objects. Generators are special functions that can be saved in registries and linked to other functions. Utilities for documenting your generators, and new conditions is provided for package development.
</p>


<h3>Options</h3>


<dl>
<dt><code>cnd.cli.override</code><br /><code style="white-space: pre;">&#8288;["on"|"off"|"none"]&#8288;</code></dt><dd>
<p>Controls override for printing messages from <code>{cli}</code>.  When <code>"on"</code> or
<code>"off"</code>, messages will be overridden to that state.  When <code>"none"</code>,
<code>{cli}</code> will be used to determine appropriate state.
</p>
</dd>
<dt><code>cnd.condition.message</code><br /><code style="white-space: pre;">&#8288;["verbose"|"simple"]&#8288;</code></dt><dd>
<p>How messages should be printed from conditions.  <code>"verbose"</code> will
provide the message, information about the condition's class, and call
information.  <code>"simple"</code> will only provide the message.
</p>
</dd>
<dt><code>cnd.call</code><br /><code style="white-space: pre;">&#8288;[TRUE|FALSE]&#8288;</code></dt><dd>
<p>Whether to print the call that generated the condition.  This is
embedded within the <code>conditionCall()</code> method.
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jordan Mark Barbone <a href="mailto:jmbarbone@gmail.com">jmbarbone@gmail.com</a> (<a href="https://orcid.org/0000-0001-9788-3628">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condition">condition()</a></code> <a href="#topic+cnd-cnd-conditions">cnd-cnd-conditions</a>
</p>

<hr>
<h2 id='cnd_create_registry'>Create a registration</h2><span id='topic+cnd_create_registry'></span>

<h3>Description</h3>

<p>This function will create a new object with the name as <code>name</code>
in the environment where it is called.  This is intended to be your package
environment, but could potentially be anywhere you want.  If an object which
is not a <code>cnd:registry</code> object is found with the same name, an error will be
thrown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cnd_create_registry(
  registry = get_package(),
  overwrite = FALSE,
  name = ".__CND_REGISTRY__.",
  env = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cnd_create_registry_+3A_registry">registry</code></td>
<td>
<p>The name of the registry</p>
</td></tr>
<tr><td><code id="cnd_create_registry_+3A_overwrite">overwrite</code></td>
<td>
<p>When <code>TRUE</code> will overwrite</p>
</td></tr>
<tr><td><code id="cnd_create_registry_+3A_name">name</code></td>
<td>
<p>The name of the registry variable.  Default is intended to
prevent potential conflicts with other objects.</p>
</td></tr>
<tr><td><code id="cnd_create_registry_+3A_env">env</code></td>
<td>
<p>The environment to assign the registry to</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Crate a new <code>cnd:registry</code> to the current environment
</p>


<h3>Value</h3>

<p>a <code>cnd:registry</code> object, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'># In most cases, just having the function in your R/ scripts is good enough,
# and you can use `cnd_create_registry()` with its defaults.  The following
# examples are for demonstration purposes:
e &lt;- new.env()
cnd_create_registry("EXAMPLE", env = e)
cnd_create_registry("EXAMPLE", overwrite = TRUE)

</code></pre>

<hr>
<h2 id='cnd_document'>Document your conditions</h2><span id='topic+cnd_document'></span><span id='topic+cnd_section'></span>

<h3>Description</h3>

<p>Documents your <code><a href="#topic+conditions">conditions()</a></code> and <code><a href="#topic+conditions">conditions()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cnd_document(
  package = get_package(),
  registry = package,
  file = file.path("R", paste0(package, "-cnd-conditions.R")),
  cleanup = TRUE
)

cnd_section(fun)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cnd_document_+3A_package">package</code></td>
<td>
<p>The package to document</p>
</td></tr>
<tr><td><code id="cnd_document_+3A_registry">registry</code></td>
<td>
<p>The name of the registry</p>
</td></tr>
<tr><td><code id="cnd_document_+3A_file">file</code></td>
<td>
<p>The file to save the documentation.  This can be a file path, a
connection object, or <code>NULL</code>.  When <code>file</code> is a path, the directory of the
path is searched for files containing <code style="white-space: pre;">&#8288;# % Generated by cnd: do not edit by hand&#8288;</code>. These are removed if they are not the same as the generated
documentation.</p>
</td></tr>
<tr><td><code id="cnd_document_+3A_cleanup">cleanup</code></td>
<td>
<p>If <code>FALSE</code> will not remove files containing <code style="white-space: pre;">&#8288;# % Generated by cnd: do not edit by hand&#8288;</code></p>
</td></tr>
<tr><td><code id="cnd_document_+3A_fun">fun</code></td>
<td>
<p>The name of a function</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code><a href="#topic+cnd_document">cnd_document()</a></code> Conditional on the <code>file</code> argument:
</p>

<ul>
<li><p> when <code>file</code> is a connection, the connection object
</p>
</li>
<li><p> when <code>file</code> is a path, the path
</p>
</li>
<li><p> when <code>file</code> is <code>NULL</code>, a <code>character</code> vector of the documentation
</p>
</li>
<li><p> if no conditions are found, a warning is thrown and <code>NULL</code> is returned
</p>
</li></ul>

</li></ul>


<ul>
<li> <p><code><a href="#topic+cnd_section">cnd_section()</a></code> A <code>character</code> vector of the documentation
</p>
</li></ul>



<h3>conditions</h3>

<p>Conditions are generated through the <code><a href="#topic+cnd-package">{cnd}</a></code> package.
The following conditions are associated with this function:
</p>

<dl>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:cnd_document_conditions/warning</a></code></dt><dd>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:cnd_document_file/error</a></code></dt><dd>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:cnd_document_pkg_reg/error</a></code></dt><dd>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:cnd_generated_cleanup/message</a></code></dt><dd>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:cnd_generated_write/condition</a></code></dt><dd>
</dd>
</dl>

<p>For more conditions, see: <a href="#topic+cnd-cnd-conditions">cnd-cnd-conditions</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>file &lt;- file()
cnd_document("cnd", file = file)
readLines(file)

cnd_section("cnd")
</code></pre>

<hr>
<h2 id='cnd_exports'>Add conditions to functions</h2><span id='topic+cnd_exports'></span>

<h3>Description</h3>

<p><code style="white-space: pre;">&#8288;[cnd_exports()]&#8288;</code> should be used within a package's building
environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cnd_exports(env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cnd_exports_+3A_env">env</code></td>
<td>
<p>The package environment</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, called for its side-effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- new.env()
registry &lt;- cnd_create_registry("EXAMPLE", env = e)
local(envir = e, {
  my_fun &lt;- function() NULL
  condition(
    "my_condition",
    package = "example_package",
    exports = "my_fun",
    registry = registry
  )
  cnd_exports()
})

# conditions are now added to my_fun():
e$my_fun
conditions(e$my_fun)
</code></pre>

<hr>
<h2 id='cnd_is'><code>is</code> functions for <a href="#topic+cnd">cnd</a></h2><span id='topic+cnd_is'></span><span id='topic+is_condition'></span><span id='topic+is_cnd_condition'></span><span id='topic+is_cnd_generator'></span><span id='topic+is_conditioned_function'></span>

<h3>Description</h3>

<p><code>is</code> functions for <a href="#topic+cnd">cnd</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_condition(x)

is_cnd_condition(x)

is_cnd_generator(x, type = c("error", "warning", "message", "condition"))

is_conditioned_function(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cnd_is_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
<tr><td><code id="cnd_is_+3A_type">type</code></td>
<td>
<p>A specific type to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code> for the test
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_condition(simpleCondition(""))
is_cnd_condition(simpleCondition(""))

con &lt;- condition("is")
is_condition(con)
is_cnd_condition(con)

is_condition(con())
is_cnd_condition(con())

is_cnd_generator(con)

is_conditioned_function(cnd)
</code></pre>

<hr>
<h2 id='cnd-cnd-conditions'>Conditions for <code>cnd</code></h2><span id='topic+cnd-cnd-conditions'></span><span id='topic+cnd+3Aas_character_cnd_error'></span><span id='topic+cnd+3Acnd_document_conditions'></span><span id='topic+cnd+3Acnd_document_file'></span><span id='topic+cnd+3Acnd_document_pkg_reg'></span><span id='topic+cnd+3Acnd_generated_cleanup'></span><span id='topic+cnd+3Acnd_generated_write'></span><span id='topic+cnd+3Acond_cnd_class'></span><span id='topic+cnd+3Acondition_message_generator'></span><span id='topic+cnd+3Acondition_overwrite'></span><span id='topic+cnd+3Aconditions_dots'></span><span id='topic+cnd+3Ainvalid_condition'></span><span id='topic+cnd+3Ainvalid_condition_message'></span><span id='topic+cnd+3Amatch_arg'></span><span id='topic+cnd+3Ano_package_exports'></span><span id='topic+as_character_cnd_error'></span><span id='topic+cnd_document_conditions'></span><span id='topic+cnd_document_file'></span><span id='topic+cnd_document_pkg_reg'></span><span id='topic+cnd_generated_cleanup'></span><span id='topic+cnd_generated_write'></span><span id='topic+cond_cnd_class'></span><span id='topic+condition_message_generator'></span><span id='topic+condition_overwrite'></span><span id='topic+conditions_dots'></span><span id='topic+invalid_condition'></span><span id='topic+invalid_condition_message'></span><span id='topic+match_arg'></span><span id='topic+no_package_exports'></span><span id='topic+cnd+3Aas_character_cnd_error+2Ferror'></span><span id='topic+cnd+3Acnd_document_conditions+2Fwarning'></span><span id='topic+cnd+3Acnd_document_file+2Ferror'></span><span id='topic+cnd+3Acnd_document_pkg_reg+2Ferror'></span><span id='topic+cnd+3Acnd_generated_cleanup+2Fmessage'></span><span id='topic+cnd+3Acnd_generated_write+2Fcondition'></span><span id='topic+cnd+3Acond_cnd_class+2Ferror'></span><span id='topic+cnd+3Acondition_message_generator+2Ferror'></span><span id='topic+cnd+3Acondition_overwrite+2Fwarning'></span><span id='topic+cnd+3Aconditions_dots+2Fwarning'></span><span id='topic+cnd+3Ainvalid_condition+2Ferror'></span><span id='topic+cnd+3Ainvalid_condition_message+2Ferror'></span><span id='topic+cnd+3Amatch_arg+2Ferror'></span><span id='topic+cnd+3Ano_package_exports+2Fwarning'></span>

<h3>Description</h3>

<p>Conditions for <code>cnd</code>
</p>


<h3>Details</h3>

<p>The following conditions are defined in the <code>{cnd}</code> package.
</p>


<h3><code><a href="#topic+cnd-package">{cnd}</a></code></h3>

<p>These conditions are made with the <code>{cnd}</code> package though the use of
<code><a href="#topic+condition">condition()</a></code>.
</p>


<h3><code>{cnd}</code> conditions</h3>



<h4><code>cnd:as_character_cnd_error/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:as_character_cnd_error</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p>You cannot coerce a <a href="#topic+condition_generator">condition_generator</a> object to a character. This may have occurred when trying to put a condition function through <code><a href="base.html#topic+stop">stop()</a></code> or <a href="base.html#topic+warning">warning</a>.  Instead, call the function first, then pass the result to <code><a href="base.html#topic+stop">stop()</a></code> or <code><a href="base.html#topic+warning">warning()</a></code>.
</p>
<p>For example:
</p>
<div class="sourceCode r"><pre># Instead of this
stop(my_condition)

# Do this
stop(my_condition())
</pre></div>



<h4><code>cnd:cnd_document_conditions/warning</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:cnd_document_conditions</code></p>
</dd>
<dt>type</dt><dd><p><strong>warning</strong></p>
</dd>
</dl>

<p><em>no help documentation provided</em>
</p>



<h4><code>cnd:cnd_document_file/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:cnd_document_file</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p><em>no help documentation provided</em>
</p>



<h4><code>cnd:cnd_document_pkg_reg/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:cnd_document_pkg_reg</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p><em>no help documentation provided</em>
</p>



<h4><code>cnd:cnd_generated_cleanup/message</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:cnd_generated_cleanup</code></p>
</dd>
<dt>type</dt><dd><p><strong>message</strong></p>
</dd>
</dl>

<p><em>no help documentation provided</em>
</p>



<h4><code>cnd:cnd_generated_write/condition</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:cnd_generated_write</code></p>
</dd>
<dt>type</dt><dd><p><strong>condition</strong></p>
</dd>
</dl>

<p><em>no help documentation provided</em>
</p>



<h4><code>cnd:cond_cnd_class/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:cond_cnd_class</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p><code><a href="#topic+cnd">cnd()</a></code> simple calls the appropriate function: <code><a href="base.html#topic+stop">stop()</a></code>, <code><a href="base.html#topic+warning">warning()</a></code>, or <code><a href="base.html#topic+message">message()</a></code> based on the <code>type</code> parameter from <code><a href="#topic+condition">condition()</a></code>.
</p>



<h4><code>cnd:condition_message_generator/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:condition_message_generator</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p><a href="#topic+condition_generator">condition_generator</a> objects are not conditions.   You may have made this mistake:
</p>
<div class="sourceCode r"><pre>x &lt;- condition("my_condition")
conditionMessage(x)
</pre></div>
<p>Condition generators need to be called first before they can be used as conditions.  Try this instead:
</p>
<div class="sourceCode r"><pre>x &lt;- condition("my_condition")
conditionMessage(x())
</pre></div>



<h4><code>cnd:condition_overwrite/warning</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:condition_overwrite</code></p>
</dd>
<dt>type</dt><dd><p><strong>warning</strong></p>
</dd>
</dl>

<p><em>no help documentation provided</em>
</p>



<h4><code>cnd:conditions_dots/warning</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:conditions_dots</code></p>
</dd>
<dt>type</dt><dd><p><strong>warning</strong></p>
</dd>
</dl>

<p>The <code>...</code> parameter in <code><a href="#topic+conditions">conditions()</a></code> is meant for convenience.  Only a single argument is allowed.  Other parameters must be named  explicitly.
</p>
<p>For example:
</p>
<div class="sourceCode r"><pre># Instead of this
conditions("class", "package") # "package" is ignored with a warning

# Do this
conditions(class = "class", package = "package")
</pre></div>



<h4><code>cnd:invalid_condition/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:invalid_condition</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p>The <code>class</code>, <code>exports</code>, and <code>help</code> parameters must be a single character string.  If you are passing a function, it must be a valid function.
</p>



<h4><code>cnd:invalid_condition_message/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:invalid_condition_message</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p>Conditions messages are displayed when invoked through <code><a href="base.html#topic+conditionMessage">conditionMessage()</a></code>.  You can set a static message by passing through a <code>character</code> vector, or a dynamic message by passing through a <code>function</code>.  The function should return a <code>character</code> vector.
</p>
<p>When <code>message</code> is not set, a default &quot;there was an error&quot; message is used.
</p>



<h4><code>cnd:match_arg/error</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:match_arg</code></p>
</dd>
<dt>type</dt><dd><p><strong>error</strong></p>
</dd>
</dl>

<p>Mostly <code><a href="base.html#topic+match.arg">match.arg()</a></code> but with a custom condition
</p>



<h4><code>cnd:no_package_exports/warning</code></h4>


<dl>
<dt>package</dt><dd><p><code>{cnd}</code></p>
</dd>
<dt>class</dt><dd><p><code>cnd:no_package_exports</code></p>
</dd>
<dt>type</dt><dd><p><strong>warning</strong></p>
</dd>
</dl>

<p>The <code>exports</code> parameter requires a <code>package</code>
</p>



<h3>See Also</h3>

<p><a href="#topic+cnd-package">cnd-package</a> <a href="#topic+condition">condition</a>
</p>

<hr>
<h2 id='condition'>Conditions</h2><span id='topic+condition'></span><span id='topic+condition_progenitor'></span><span id='topic+condition_generator'></span><span id='topic+cnd+3A+3Acondition_progenitor'></span><span id='topic+cnd+3A+3Acondition_generator'></span><span id='topic+conditions'></span><span id='topic+cond'></span><span id='topic+cnd'></span><span id='topic+conditions+3C-'></span><span id='topic+conditions+3C-.function'></span><span id='topic+conditions+3C-.cnd+3A+3Acondition_progenitor'></span>

<h3>Description</h3>

<p><code><a href="#topic+condition">condition()</a></code> is used to create a new condition function that
itself returns a new <code>condition</code>.
</p>
<p><code><a href="#topic+conditions">conditions()</a></code> retrieves all conditions based on search values.  The
parameters serve as filtering arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condition(
  class,
  message = NULL,
  type = c("condition", "message", "warning", "error"),
  package = get_package(),
  exports = NULL,
  help = NULL,
  registry = package,
  register = !is.null(registry)
)

conditions(
  ...,
  class = NULL,
  type = NULL,
  package = NULL,
  registry = NULL,
  fun = NULL
)

cond(x)

cnd(condition)

conditions(x, ...) &lt;- value

## S3 replacement method for class ''function''
conditions(x, append = FALSE, ...) &lt;- value

## S3 replacement method for class ''cnd::condition_progenitor''
conditions(x, ...) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="condition_+3A_class">class</code></td>
<td>
<p>The name of the new class</p>
</td></tr>
<tr><td><code id="condition_+3A_message">message</code></td>
<td>
<p>The message to be displayed when the condition is called. When
entered as a character vector, the message is collapsed into a single
string. Use explicit line returns to generate new lines in output messages.
When a function is used and a character vector returned, each element is
treated as a new line.</p>
</td></tr>
<tr><td><code id="condition_+3A_type">type</code></td>
<td>
<p>The type of condition: error, warning, or message</p>
</td></tr>
<tr><td><code id="condition_+3A_package">package</code></td>
<td>
<p>The package to which the condition belongs</p>
</td></tr>
<tr><td><code id="condition_+3A_exports">exports</code></td>
<td>
<p>The exported functions to be displayed when the condition is
called</p>
</td></tr>
<tr><td><code id="condition_+3A_help">help</code></td>
<td>
<p>The help message to be displayed for the condition function</p>
</td></tr>
<tr><td><code id="condition_+3A_registry">registry</code></td>
<td>
<p>The name of the registry to store the condition</p>
</td></tr>
<tr><td><code id="condition_+3A_register">register</code></td>
<td>
<p>Controls registration checks</p>
</td></tr>
<tr><td><code id="condition_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to methods</p>
</td></tr>
<tr><td><code id="condition_+3A_fun">fun</code></td>
<td>
<p>if a function is passed, then retrieves the <code>"conditions"</code>
attribute</p>
</td></tr>
<tr><td><code id="condition_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
<tr><td><code id="condition_+3A_condition">condition</code></td>
<td>
<p>A <a href="#topic+condition_generator">condition_generator</a> object</p>
</td></tr>
<tr><td><code id="condition_+3A_value">value</code></td>
<td>
<p>A <code>condition</code></p>
</td></tr>
<tr><td><code id="condition_+3A_append">append</code></td>
<td>
<p>If <code>TRUE</code>, adds to the <strong>conditions</strong> attribute</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Conditions
</p>


<h3>Value</h3>


<ul>
<li> <p><code><a href="#topic+condition">condition()</a></code> a <a href="#topic+condition_generator">condition_generator</a> object
</p>
</li></ul>


<ul>
<li> <p><code><a href="#topic+conditions">conditions()</a></code> a <code>list</code> of <a href="#topic+condition_generator">condition_generator</a> objects
</p>
</li></ul>


<ul>
<li> <p><code><a href="#topic+cond">cond()</a></code> A <a href="#topic+condition_generator">condition_generator</a> object
</p>
</li></ul>


<ul>
<li> <p><code><a href="#topic+cnd">cnd()</a></code> is a wrapper for calling <code><a href="base.html#topic+stop">stop()</a></code>, <code><a href="base.html#topic+warning">warning()</a></code>, or <code><a href="base.html#topic+message">message()</a></code>;
when  <code>condition</code> is a type, an error is thrown, and likewise for the other
types.  When an error isn't thrown, the <code>condition</code> is returned, invisibly.
</p>
</li></ul>



<h3><a href="#topic+condition_generator">condition_generator</a></h3>

<p>A <a href="#topic+condition_generator">condition_generator</a> is an object (a
special <a href="base.html#topic+function">function</a>) which can be used to create generate a new condition,
based on specifications applied in <code><a href="#topic+condition">condition()</a></code>. These functions use <code>...</code>
to absorb extra arguments and contain a special <code>.call</code> parameter. By
default, <code>.call</code> captures the parent call from where the
<a href="#topic+condition_generator">condition_generator</a> was created, but users may pass their own call to
override this.  See <code>call.</code> in <code><a href="base.html#topic+conditionCall">conditionCall()</a></code>
</p>


<h3><code><a href="#topic+condition">condition()</a></code> conditions</h3>

<p>Conditions are generated through the <code><a href="#topic+cnd-package">{cnd}</a></code> package.
The following conditions are associated with this function:
</p>

<dl>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:as_character_cnd_error/error</a></code></dt><dd>
<p>You cannot coerce a <a href="#topic+condition_generator">condition_generator</a> object to a character. This may have occurred when trying to put a condition function through <code><a href="base.html#topic+stop">stop()</a></code> or <a href="base.html#topic+warning">warning</a>.  Instead, call the function first, then pass the result to <code><a href="base.html#topic+stop">stop()</a></code> or <code><a href="base.html#topic+warning">warning()</a></code>.
</p>
<p>For example:
</p>
<div class="sourceCode r"><pre># Instead of this
stop(my_condition)

# Do this
stop(my_condition())
</pre></div>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:condition_message_generator/error</a></code></dt><dd>
<p><a href="#topic+condition_generator">condition_generator</a> objects are not conditions.   You may have made this mistake:
</p>
<div class="sourceCode r"><pre>x &lt;- condition("my_condition")
conditionMessage(x)
</pre></div>
<p>Condition generators need to be called first before they can be used as conditions.  Try this instead:
</p>
<div class="sourceCode r"><pre>x &lt;- condition("my_condition")
conditionMessage(x())
</pre></div>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:condition_overwrite/warning</a></code></dt><dd>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:invalid_condition/error</a></code></dt><dd>
<p>The <code>class</code>, <code>exports</code>, and <code>help</code> parameters must be a single character string.  If you are passing a function, it must be a valid function.
</p>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:invalid_condition_message/error</a></code></dt><dd>
<p>Conditions messages are displayed when invoked through <code><a href="base.html#topic+conditionMessage">conditionMessage()</a></code>.  You can set a static message by passing through a <code>character</code> vector, or a dynamic message by passing through a <code>function</code>.  The function should return a <code>character</code> vector.
</p>
<p>When <code>message</code> is not set, a default &quot;there was an error&quot; message is used.
</p>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:match_arg/error</a></code></dt><dd>
<p>Mostly <code><a href="base.html#topic+match.arg">match.arg()</a></code> but with a custom condition
</p>
</dd>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:no_package_exports/warning</a></code></dt><dd>
<p>The <code>exports</code> parameter requires a <code>package</code>
</p>
</dd>
</dl>

<p>For more conditions, see: <a href="#topic+cnd-cnd-conditions">cnd-cnd-conditions</a>
</p>


<h3><code><a href="#topic+cnd">cnd()</a></code> conditions</h3>

<p>Conditions are generated through the <code><a href="#topic+cnd-package">{cnd}</a></code> package.
The following conditions are associated with this function:
</p>

<dl>
<dt><code><a href="#topic+cnd-cnd-conditions">cnd:cond_cnd_class/error</a></code></dt><dd>
<p><code><a href="#topic+cnd">cnd()</a></code> simple calls the appropriate function: <code><a href="base.html#topic+stop">stop()</a></code>, <code><a href="base.html#topic+warning">warning()</a></code>, or <code><a href="base.html#topic+message">message()</a></code> based on the <code>type</code> parameter from <code><a href="#topic+condition">condition()</a></code>.
</p>
</dd>
</dl>

<p>For more conditions, see: <a href="#topic+cnd-cnd-conditions">cnd-cnd-conditions</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+cnd-package">cnd-package</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a new condition:
cond_bad_value &lt;- condition("bad_value", type = "error")

# use the condition
try(stop(cond_bad_value()))
try(cnd(cond_bad_value()))

# dynamic messages:
cond_class_error &lt;- condition(
  "class_error",
  message = function(x) paste("class cannot be", toString(class(x))),
  type = "error"
)
try(stop(cond_class_error(list())))

</code></pre>

<hr>
<h2 id='format-conditions'>Format conditions</h2><span id='topic+format-conditions'></span><span id='topic+format.cnd+3A+3Acondition'></span><span id='topic+format.cnd+3A+3Acondition_generator'></span>

<h3>Description</h3>

<p>Formats <a href="#topic+condition">condition</a> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class ''cnd::condition''
format(x, ..., cli = getOption("cnd.cli.override"))

## S3 method for class ''cnd::condition_generator''
format(x, ..., cli = getOption("cnd.cli.override"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format-conditions_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+condition">condition</a> object</p>
</td></tr>
<tr><td><code id="format-conditions_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
<tr><td><code id="format-conditions_+3A_cli">cli</code></td>
<td>
<p>If <code>TRUE</code> will use formatting from <a href="cli.html#topic+cli-package">cli</a>.
Default uses an option, <code>"cnd.cli.override"</code>, if available, otherwise
checks that <code>cli</code> is installed and ansi colors are available.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>format(condition("foo"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package rdracor</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rdracor}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dracor_api'><p>Send a GET request to DraCor API and parse the results</p></a></li>
<li><a href='#dracor_api_info'><p>Retrieve 'DraCor' API info</p></a></li>
<li><a href='#dracor_sparql'><p>Submit SPARQL queries to DraCor API</p></a></li>
<li><a href='#get_character_plays'><p>Retrieve plays having a character identified by 'Wikidata ID'</p></a></li>
<li><a href='#get_dracor_meta'><p>Retrieve information on available corpora</p></a></li>
<li><a href='#get_net_cooccur_edges'><p>Retrieve co-occurrence edges list for a play as a data frame</p></a></li>
<li><a href='#get_net_cooccur_gexf'><p>Retrieve co-occurrence network for a play in 'GEXF'</p></a></li>
<li><a href='#get_net_cooccur_graphml'><p>Retrieve co-occurrence network for a play in 'GraphML'</p></a></li>
<li><a href='#get_net_cooccur_igraph'><p>Retrieve an igraph co-occurrence network for a play</p></a></li>
<li><a href='#get_net_cooccur_metrics'><p>Retrieve co-occurrence network metrics for a play</p></a></li>
<li><a href='#get_net_relations_igraph'><p>Retrieve an igraph relations network for a play</p></a></li>
<li><a href='#get_play_characters'><p>Retrieve data for characters in a play</p></a></li>
<li><a href='#get_play_metadata'><p>Retrieve metadata for a play</p></a></li>
<li><a href='#get_play_rdf'><p>Retrieve an RDF for a play</p></a></li>
<li><a href='#get_text_chr_spoken'><p>Retrieve lines and stage directions for a play</p></a></li>
<li><a href='#get_text_tei'><p>Retrieve a text for a play in 'TEI'</p></a></li>
<li><a href='#label_cooccur_igraph'><p>Extract labels for plotting 'cooccur_igraph' object</p></a></li>
<li><a href='#summary.dracor'><p>Retrieve metadata for all plays in selected corpora</p></a></li>
<li><a href='#tei_to_df'><p>Retrieve a text for a play as a data frame</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access to the 'DraCor' API</td>
</tr>
<tr>
<td>Description:</td>
<td>Provide an interface for 'Drama Corpora Project' ('DraCor') API: <a href="https://dracor.org/documentation/api">https://dracor.org/documentation/api</a>.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite (&ge; 1.6), utils, data.table (&ge; 1.12.2), xml2 (&ge;
1.2.2), igraph (&ge; 1.2.4.1), httr (&ge; 1.4.1), tibble (&ge;
3.1.8), purrr (&ge; 0.3.5), stringr (&ge; 1.4.1), tidyr (&ge; 1.2.1),
Rdpack (&ge; 2.4)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dracor-org/rdracor">https://github.com/dracor-org/rdracor</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dracor-org/rdracor/issues">https://github.com/dracor-org/rdracor/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-03 15:55:47 UTC; ivan</td>
</tr>
<tr>
<td>Author:</td>
<td>Ivan Pozdniakov <a href="https://orcid.org/0000-0002-2450-7004"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ivan Pozdniakov &lt;bucherr@yandex.ru&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-03 23:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='dracor_api'>Send a GET request to DraCor API and parse the results</h2><span id='topic+dracor_api'></span>

<h3>Description</h3>

<p>Function <code>dracor_api()</code> sends a GET request to DraCor API with a
specified expected type and parses results depending on selected expected
type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dracor_api(
  request,
  expected_type = c("application/json", "application/xml", "text/csv", "text/plain"),
  parse = TRUE,
  default_type = FALSE,
  split_text = TRUE,
  as_tibble = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dracor_api_+3A_request">request</code></td>
<td>
<p>Character, valid GET request.</p>
</td></tr>
<tr><td><code id="dracor_api_+3A_expected_type">expected_type</code></td>
<td>
<p>Character, 'MIME' type: one of
<code>"application/json"</code>,  <code>"application/xml"</code>, <code>"text/csv"</code>,
<code>"text/plain"</code>.</p>
</td></tr>
<tr><td><code id="dracor_api_+3A_parse">parse</code></td>
<td>
<p>Logical, if <code>TRUE</code> (default value), then a response is
parsed depending on <code>expected_type</code>. See details below.</p>
</td></tr>
<tr><td><code id="dracor_api_+3A_default_type">default_type</code></td>
<td>
<p>Logical, if <code>TRUE</code>, default response data type is
returned. Therefore, a response is not parsed and <code>parse</code> is ignored.
The default value is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="dracor_api_+3A_split_text">split_text</code></td>
<td>
<p>Logical, if <code>TRUE</code>, plain text lines are read as
different values in a vector instead of returning one character value.
Default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="dracor_api_+3A_as_tibble">as_tibble</code></td>
<td>
<p>Logical, if <code>TRUE</code>, data frame will be returned as a
tidyverse tibble (<code>tbl_df</code>). The default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="dracor_api_+3A_...">...</code></td>
<td>
<p>Other arguments passed to a parser function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are four different 'MIME' types (aka internet media type) that can be
retrieved for DraCor API, the specific combination of possible 'MIME' types
depends on API command. When <code>parse = TRUE</code> is used, the content is
parsed depending on selected 'MIME' type in <code>expected_type</code>:
</p>

<dl>
<dt><code>application/json</code></dt><dd><p><code>
  <a href="jsonlite.html#topic+fromJSON">jsonlite::fromJSON()</a></code></p>
</dd>
<dt><code>application/xml</code></dt><dd><p><code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code></p>
</dd>
<dt><code>text/csv</code></dt><dd><p><code><a href="data.table.html#topic+fread">data.table::fread()</a></code></p>
</dd>
<dt><code>text/plain</code></dt><dd><p>No need for additional preprocessing</p>
</dd></dl>



<h3>Value</h3>

<p>A content of a response to GET method to the 'DraCor' API. If
<code>parse = FALSE</code> or <code>default_type = TRUE</code>, a single character value
is returned. Otherwise, the resulting value is parsed according to a value of
<code>default_type</code> parameter. The resulting structure of the output depends
on the selected <code>default_type</code> value, the respective function for
parsing (see <code>default_type</code>) and additional parameters that are passed
to the function for parsing.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dracor_sparql">dracor_sparql</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dracor_api("https://dracor.org/api/v1/info", expected_type = "application/json")
</code></pre>

<hr>
<h2 id='dracor_api_info'>Retrieve 'DraCor' API info</h2><span id='topic+dracor_api_info'></span><span id='topic+get_dracor_api_url'></span><span id='topic+set_dracor_api_url'></span>

<h3>Description</h3>

<p><code>dracor_api_info()</code> returns information about 'DraCor' API: name of
the API, status, existdb version, API version etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dracor_api_info(dracor_api_url = NULL)

get_dracor_api_url()

set_dracor_api_url(new_dracor_api_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dracor_api_info_+3A_dracor_api_url">dracor_api_url</code></td>
<td>
<p>Character, 'DraCor' API URL. If NULL (default), the
current 'DraCor' API URL is used.</p>
</td></tr>
<tr><td><code id="dracor_api_info_+3A_new_dracor_api_url">new_dracor_api_url</code></td>
<td>
<p>Character, 'DraCor' API URL that will replace
the current 'DraCor' API URL.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>get_dracor_api_url()</code>: Returns 'DraCor' API URL in use
</p>
</li>
<li> <p><code>set_dracor_api_url()</code>: Set new 'DraCor' API URL (globally), returns NULL
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+dracor_api">dracor_api</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dracor_api_info()
dracor_api_info("https://staging.dracor.org/api")
get_dracor_api_url()
</code></pre>

<hr>
<h2 id='dracor_sparql'>Submit SPARQL queries to DraCor API</h2><span id='topic+dracor_sparql'></span>

<h3>Description</h3>

<p><code>dracor_sparql()</code> submits SPARQL queries and parses the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dracor_sparql(sparql_query = NULL, parse = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dracor_sparql_+3A_sparql_query">sparql_query</code></td>
<td>
<p>Character, SPARQL query.</p>
</td></tr>
<tr><td><code id="dracor_sparql_+3A_parse">parse</code></td>
<td>
<p>Logical, if <code>TRUE</code> the result is parsed by
<code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code>, otherwise character value is
returned. Default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="dracor_sparql_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SPARQL xml parsed.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_dracor">get_dracor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dracor_sparql("SELECT * WHERE {?s ?p ?o} LIMIT 10")
# If you want to avoid parsing by xml2::read_xml():
dracor_sparql("SELECT * WHERE {?s ?p ?o} LIMIT 10", parse = FALSE)
</code></pre>

<hr>
<h2 id='get_character_plays'>Retrieve plays having a character identified by 'Wikidata ID'</h2><span id='topic+get_character_plays'></span>

<h3>Description</h3>

<p><code>get_character_plays()</code> requests plays that include a character that can
by found in 'Wikidata' by it's id. <code>get_character_plays()</code> sends a
request and parses the the result to get those plays as a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_character_plays(char_wiki_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_character_plays_+3A_char_wiki_id">char_wiki_id</code></td>
<td>
<p>Character value with 'Wikidata ID' for a character.
'Wikidata ID' can be found on
<a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">https://www.wikidata.org/wiki/Wikidata:Main_Page</a>. Character vector
(longer than 1) is not supported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame, in which one row represents one play. Information on
author(s) name, character name, play name, URL and ID is represented in
separate columns.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_dracor">get_dracor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>wiki_id &lt;- "Q131412"
get_character_plays(wiki_id)
</code></pre>

<hr>
<h2 id='get_dracor_meta'>Retrieve information on available corpora</h2><span id='topic+get_dracor_meta'></span><span id='topic+summary.dracor_meta'></span><span id='topic+plot.dracor_meta'></span>

<h3>Description</h3>

<p><code>get_dracor_meta()</code> returns metadata on available corpora as a
<code>dracor_meta</code> object that inherits data frame (and can be used as such).
Use <code>summary()</code> and <code>plot()</code> on this object to get an even more
condensed summary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dracor_meta()

## S3 method for class 'dracor_meta'
summary(object, ...)

## S3 method for class 'dracor_meta'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dracor_meta_+3A_object">object</code></td>
<td>
<p>An object of class <code>"dracor_meta"</code>.</p>
</td></tr>
<tr><td><code id="get_dracor_meta_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed.</p>
</td></tr>
<tr><td><code id="get_dracor_meta_+3A_x">x</code></td>
<td>
<p>A <code>dracor_meta</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>dracor_meta</code> object that inherits data frame (and can be used
as such).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>summary(dracor_meta)</code>: Meaningful summary for <code>dracor_meta</code> object.
</p>
</li>
<li> <p><code>plot(dracor_meta)</code>: Plots how many plays are
available for each corpus.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+get_dracor">get_dracor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>corpora_meta &lt;- get_dracor_meta()
corpora_meta
summary(corpora_meta)
plot(corpora_meta)
</code></pre>

<hr>
<h2 id='get_net_cooccur_edges'>Retrieve co-occurrence edges list for a play as a data frame</h2><span id='topic+get_net_cooccur_edges'></span><span id='topic+get_net_relations_edges'></span>

<h3>Description</h3>

<p><code>get_net_cooccur_edges()</code> requests edges list for a play network, given
corpus and play names. Each row represents co-occurrences of two characters
in a play — number of scenes where two characters appeared together. This
edges list can be used to construct a network for a play.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_net_cooccur_edges(play = NULL, corpus = NULL, ...)

get_net_relations_edges(play = NULL, corpus = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_net_cooccur_edges_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_edges_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_net_cooccur_edges_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with edges (each row = one edge of a network).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>get_net_relations_edges()</code>: Retrieves kinship and other relationship
data, following the encoding scheme proposed in
(Wiedmer et al. 2020).
</p>
</li></ul>


<h3>References</h3>

<p>Wiedmer N, Pagel J, Reiter N (2020).
&ldquo;Romeo, Freund des Mercutio: Semi-Automatische Extraktion von Beziehungen zwischen dramatischen Figuren.&rdquo;
In <em>Konferenz Digital Humanities im deutschsprachigen Raum</em>.
<a href="https://doi.org/10.5281/zenodo.4621778">doi:10.5281/zenodo.4621778</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_cooccur_igraph">get_net_cooccur_igraph</a></code>
<code><a href="#topic+get_net_cooccur_gexf">get_net_cooccur_gexf</a></code> <code><a href="#topic+get_net_cooccur_graphml">get_net_cooccur_graphml</a></code>
<code><a href="#topic+get_net_cooccur_metrics">get_net_cooccur_metrics</a></code> <code><a href="#topic+get_net_relations_igraph">get_net_relations_igraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_net_cooccur_edges(play = "lessing-emilia-galotti", corpus = "ger")
</code></pre>

<hr>
<h2 id='get_net_cooccur_gexf'>Retrieve co-occurrence network for a play in 'GEXF'</h2><span id='topic+get_net_cooccur_gexf'></span><span id='topic+get_net_relations_gexf'></span>

<h3>Description</h3>

<p><code>get_net_cooccur_gexf()</code> requests a play co-occurrence network in 'GEXF'
(Graph Exchange XML Format), given play and corpus names. 'GEXF' is a format
used in 'Gephi' — an open source software for network analysis and
visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_net_cooccur_gexf(play = NULL, corpus = NULL, parse = TRUE, ...)

get_net_relations_gexf(play = NULL, corpus = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_net_cooccur_gexf_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_gexf_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_net_cooccur_gexf_+3A_parse">parse</code></td>
<td>
<p>Logical, if <code>TRUE</code> the result is parsed by
<code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code>, otherwise character value is
returned. Default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_gexf_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'GEXF' data.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>get_net_relations_gexf()</code>: Retrieves kinship and other relationship
data, following the encoding scheme proposed in
(Wiedmer et al. 2020).
</p>
</li></ul>


<h3>References</h3>

<p>Wiedmer N, Pagel J, Reiter N (2020).
&ldquo;Romeo, Freund des Mercutio: Semi-Automatische Extraktion von Beziehungen zwischen dramatischen Figuren.&rdquo;
In <em>Konferenz Digital Humanities im deutschsprachigen Raum</em>.
<a href="https://doi.org/10.5281/zenodo.4621778">doi:10.5281/zenodo.4621778</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_cooccur_igraph">get_net_cooccur_igraph</a></code>
<code><a href="#topic+get_net_cooccur_metrics">get_net_cooccur_metrics</a></code> <code><a href="#topic+get_net_cooccur_graphml">get_net_cooccur_graphml</a></code>
<code><a href="#topic+get_net_cooccur_edges">get_net_cooccur_edges</a></code> <code><a href="#topic+get_net_relations_igraph">get_net_relations_igraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
get_net_cooccur_gexf(play = "lessing-emilia-galotti", corpus = "ger")
# If you want 'GEXF' without parsing by xml2::read_xml():
get_net_cooccur_gexf(
  play = "lessing-emilia-galotti",
  corpus = "ger",
  parse = FALSE
)

</code></pre>

<hr>
<h2 id='get_net_cooccur_graphml'>Retrieve co-occurrence network for a play in 'GraphML'</h2><span id='topic+get_net_cooccur_graphml'></span><span id='topic+get_net_relations_graphml'></span>

<h3>Description</h3>

<p><code>get_net_cooccur_graphml()</code> requests a play co-occurrence network in
'GraphML', given play and corpus names. 'GraphML' is a common format for
graphs based on XML.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_net_cooccur_graphml(play = NULL, corpus = NULL, parse = TRUE, ...)

get_net_relations_graphml(play = NULL, corpus = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_net_cooccur_graphml_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_graphml_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_net_cooccur_graphml_+3A_parse">parse</code></td>
<td>
<p>Logical, if <code>TRUE</code> the result is parsed by
<code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code>, otherwise character value is
returned. Default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_graphml_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'GraphML' data.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>get_net_relations_graphml()</code>: Retrieves kinship and other relationship
data, following the encoding scheme proposed in
(Wiedmer et al. 2020).
</p>
</li></ul>


<h3>References</h3>

<p>Wiedmer N, Pagel J, Reiter N (2020).
&ldquo;Romeo, Freund des Mercutio: Semi-Automatische Extraktion von Beziehungen zwischen dramatischen Figuren.&rdquo;
In <em>Konferenz Digital Humanities im deutschsprachigen Raum</em>.
<a href="https://doi.org/10.5281/zenodo.4621778">doi:10.5281/zenodo.4621778</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_cooccur_igraph">get_net_cooccur_igraph</a></code>
<code><a href="#topic+get_net_cooccur_gexf">get_net_cooccur_gexf</a></code> <code><a href="#topic+get_net_cooccur_metrics">get_net_cooccur_metrics</a></code>
<code><a href="#topic+get_net_cooccur_edges">get_net_cooccur_edges</a></code> <code><a href="#topic+get_net_relations_igraph">get_net_relations_igraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
get_net_cooccur_graphml(play = "lessing-emilia-galotti", corpus = "ger")
# If you want 'GEXF' without parsing by xml2::read_xml():
get_net_cooccur_graphml(play = "lessing-emilia-galotti", corpus = "ger", parse = FALSE)

</code></pre>

<hr>
<h2 id='get_net_cooccur_igraph'>Retrieve an igraph co-occurrence network for a play</h2><span id='topic+get_net_cooccur_igraph'></span><span id='topic+plot.cooccur_igraph'></span><span id='topic+summary.cooccur_igraph'></span>

<h3>Description</h3>

<p><code>get_net_cooccur_igraph()</code> returns a play network, given play and corpus
names. Play network is constructed based on characters' co-occurrence matrix.
Each node (vertex) is a character (circle) or a group of characters (square),
edges width is proportional to the number of common play segments where two
characters occur together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_net_cooccur_igraph(play = NULL, corpus = NULL, as_igraph = FALSE)

## S3 method for class 'cooccur_igraph'
plot(
  x,
  layout = igraph::layout_with_kk,
  vertex.label = label_cooccur_igraph(x),
  gender_colors = c(MALE = "#0073C2", FEMALE = "#EFC000", UNKNOWN = "#99979D"),
  vertex_size_metric = c("numOfWords", "numOfScenes", "numOfSpeechActs", "degree",
    "weightedDegree", "closeness", "betweenness", "eigenvector"),
  vertex_size_scale = c(5, 20),
  edge_size_scale = c(0.5, 4),
  vertex_label_adjust = TRUE,
  vertex.label.color = "#03070f",
  vertex.label.family = "sans",
  vertex.label.font = 2L,
  vertex.frame.color = "white",
  ...
)

## S3 method for class 'cooccur_igraph'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_net_cooccur_igraph_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_as_igraph">as_igraph</code></td>
<td>
<p>Logical, if <code>TRUE</code>, returns simple igraph object
instead of <code>cooccur_igraph</code>. <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_x">x</code></td>
<td>
<p>A <code>cooccur_igraph</code> object to plot.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_layout">layout</code></td>
<td>
<p>Function, an algorithm used for the graph layout. See
<a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex.label">vertex.label</code></td>
<td>
<p>Character vector of character names. By default,
function <code><a href="#topic+label_cooccur_igraph">label_cooccur_igraph</a></code> is used to avoid overplotting on
large graphs.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_gender_colors">gender_colors</code></td>
<td>
<p>Named vector with 3 values with colors for
MALE, FEMALE and UNKNOWN respectively. Set <code>NULL</code> to use the default
igraph colors. If you set parameter <code>vertex.color</code> (see
<a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>), <code>gender_colors</code> will be ignored.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex_size_metric">vertex_size_metric</code></td>
<td>
<p>Character value, one of <code>"numOfWords"</code>,
<code>"numOfScenes"</code>, <code>"numOfSpeechActs"</code>, <code>"degree"</code>,
<code>"weightedDegree"</code>, <code>"closeness"</code>, <code>"betweenness"</code>,
<code>"eigenvector"</code> that will be used as a metric for vertex size.
Alternatively, you can specify vertex size by yourself using
parameter <code>vertex.size</code>(see <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>), in this
case parameter <code>vertex_size_metric</code> is ignored.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex_size_scale">vertex_size_scale</code></td>
<td>
<p>Numeric vector with two values. The first number is
for mean size of node(vertex), the second one is for node size variance. If
you specify vertex size by yourself using parameter
<code>vertex.size</code>(see <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>),
<code>vertex_size_scale</code> is ignored.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_edge_size_scale">edge_size_scale</code></td>
<td>
<p>Numeric vector with two values. The first number
defines average size of edges, the second number defines edges size variance.
If you specify edges size by yourself using parameter
<code>edge.width</code>(see <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>),
<code>edge_size_scale</code> is ignored.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex_label_adjust">vertex_label_adjust</code></td>
<td>
<p>Logical. If <code>TRUE</code>, labels positions
are moved to the top of the respectives nodes. If <code>FALSE</code>, labels
are placed in the nodes centers. <code>TRUE</code> by default. If you set parameter
<code>vertex.label.dist</code>(see <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>) by yourself,
<code>vertex_label_adjust</code> is ignored.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex.label.color">vertex.label.color</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex.label.family">vertex.label.family</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex.label.font">vertex.label.font</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_vertex.frame.color">vertex.frame.color</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to <a href="igraph.html#topic+plot.igraph">plot.igraph</a></p>
</td></tr>
<tr><td><code id="get_net_cooccur_igraph_+3A_object">object</code></td>
<td>
<p>An object of class <code>cooccur_igraph</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>cooccur_igraph</code> — an object that inherits <code>igraph</code> and can be
treated as such.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>plot(cooccur_igraph)</code>: Plot <code>cooccur_igraph</code> using
<code>plot.igraph</code> with slightly modified defaults.
</p>
</li>
<li> <p><code>summary(cooccur_igraph)</code>: Meaningful summary for
<code>"cooccur_igraph"</code> object: network properties, gender distribution
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_relations_igraph">get_net_relations_igraph</a></code>
<code><a href="#topic+label_cooccur_igraph">label_cooccur_igraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
emilia_igraph &lt;- get_net_cooccur_igraph(
  play = "lessing-emilia-galotti",
  corpus = "ger"
)
igraph::diameter(emilia_igraph)
plot(emilia_igraph)
summary(emilia_igraph)

</code></pre>

<hr>
<h2 id='get_net_cooccur_metrics'>Retrieve co-occurrence network metrics for a play</h2><span id='topic+get_net_cooccur_metrics'></span>

<h3>Description</h3>

<p><code>get_net_cooccur_metrics()</code> requests network metrics for a specific play,
given play and corpus names. Play network is constructed based on characters'
co-occurrence matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_net_cooccur_metrics(play = NULL, corpus = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_net_cooccur_metrics_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_net_cooccur_metrics_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_net_cooccur_metrics_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with network metrics for a specific play.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_cooccur_igraph">get_net_cooccur_igraph</a></code>
<code><a href="#topic+get_net_cooccur_gexf">get_net_cooccur_gexf</a></code> <code><a href="#topic+get_net_cooccur_graphml">get_net_cooccur_graphml</a></code>
<code><a href="#topic+get_net_cooccur_edges">get_net_cooccur_edges</a></code> <code><a href="#topic+get_net_relations_igraph">get_net_relations_igraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_net_cooccur_metrics(play = "lessing-emilia-galotti", corpus = "ger")
</code></pre>

<hr>
<h2 id='get_net_relations_igraph'>Retrieve an igraph relations network for a play</h2><span id='topic+get_net_relations_igraph'></span><span id='topic+summary.relations_igraph'></span><span id='topic+plot.relations_igraph'></span>

<h3>Description</h3>

<p><code>get_net_relations_igraph()</code> a play network, given play and corpus names
. The network represent kinship and other relationships data, following the
encoding scheme proposed in
(Wiedmer et al. 2020).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_net_relations_igraph(play = play, corpus = corpus, as_igraph = FALSE)

## S3 method for class 'relations_igraph'
summary(object, ...)

## S3 method for class 'relations_igraph'
plot(
  x,
  layout = igraph::layout_nicely,
  gender_colors = c(MALE = "#0073C2", FEMALE = "#EFC000", UNKNOWN = "#99979D"),
  show_others = c("vertex", "vertex_label", "none"),
  vertex_size = c(13, 4),
  vertex_label_size = c(0.8, 0.5),
  vertex_label_adjust = TRUE,
  vertex.label.color = "#03070f",
  vertex.label.family = "sans",
  vertex.label.font = 2L,
  vertex.frame.color = "white",
  edge.arrow.size = 0.25,
  edge.arrow.width = 1.5,
  edge.curved = 0.15,
  edge.label.family = "sans",
  edge.label.font = 4L,
  edge.label.cex = 0.75,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_net_relations_igraph_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_as_igraph">as_igraph</code></td>
<td>
<p>Logical, if <code>TRUE</code>, returns simple igraph object
instead of <code>cooccur_igraph</code>. <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_object">object</code></td>
<td>
<p>An object of class <code>relations_igraph</code>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to <a href="igraph.html#topic+plot.igraph">plot.igraph</a></p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_x">x</code></td>
<td>
<p>A <code>relations_igraph</code> object to plot.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_layout">layout</code></td>
<td>
<p>Function, an algorithm used for graph layout. See
<a href="igraph.html#topic+layout_">layout_</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_gender_colors">gender_colors</code></td>
<td>
<p>Named vector with 3 values with colors for
MALE, FEMALE and UNKNOWN respectively. Set <code>NULL</code> to use default igraph
colors. If you set parameter <code>vertex.color</code> (see
<a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>), <code>gender_colors</code> will be ignored.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_show_others">show_others</code></td>
<td>
<p>Character value. What to do with vertices without
relations?
</p>

<ul>
<li> <p><code>"vertex"</code>: plot only vertices without labels.
</p>
</li>
<li> <p><code>"vertex_label"</code>: plot both vertices and labels.
</p>
</li>
<li> <p><code>"none"</code>: do not plot vertices without relations.
</p>
</li></ul>

<p>The default is <code>"vertex"</code>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_vertex_size">vertex_size</code></td>
<td>
<p>Numeric vector with two values. The first number is for
nodes with relations, the second number is for all other nodes.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_vertex_label_size">vertex_label_size</code></td>
<td>
<p>Numeric vector with two values. The first number
defines label sizes for nodes with relations, the second number for nodes
without relations.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_vertex_label_adjust">vertex_label_adjust</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, labels positions
are moved to the top of the respective nodes. If <code>FALSE</code>, labels
are placed in the nodes centers. <code>TRUE</code> by default. If you set parameter
<code>vertex.label.dist</code>(see <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>) by yourself,
<code>vertex_label_adjust</code> is ignored.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_vertex.label.color">vertex.label.color</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_vertex.label.family">vertex.label.family</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_vertex.label.font">vertex.label.font</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_vertex.frame.color">vertex.frame.color</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_edge.arrow.size">edge.arrow.size</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_edge.arrow.width">edge.arrow.width</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_edge.curved">edge.curved</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_edge.label.family">edge.label.family</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_edge.label.font">edge.label.font</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
<tr><td><code id="get_net_relations_igraph_+3A_edge.label.cex">edge.label.cex</code></td>
<td>
<p>See <a href="igraph.html#topic+igraph.plotting">igraph.plotting</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>relations_igraph</code> — an object that inherits <code>igraph</code> and
can be treated as such.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>summary(relations_igraph)</code>: Meaningful summary for
<code>"relations_igraph"</code> object: relationships and their type.
</p>
</li>
<li> <p><code>plot(relations_igraph)</code>: Plot <code>relations_igraph</code> using
<code>plot.igraph</code> with slightly modified defaults.
</p>
</li></ul>


<h3>References</h3>

<p>Wiedmer N, Pagel J, Reiter N (2020).
&ldquo;Romeo, Freund des Mercutio: Semi-Automatische Extraktion von Beziehungen zwischen dramatischen Figuren.&rdquo;
In <em>Konferenz Digital Humanities im deutschsprachigen Raum</em>.
<a href="https://doi.org/10.5281/zenodo.4621778">doi:10.5281/zenodo.4621778</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_cooccur_igraph">get_net_cooccur_igraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
galotti_relations &lt;- get_net_relations_igraph(
  play = "lessing-emilia-galotti",
  corpus = "ger"
)
plot(galotti_relations)
summary(galotti_relations)

</code></pre>

<hr>
<h2 id='get_play_characters'>Retrieve data for characters in a play</h2><span id='topic+get_play_characters'></span>

<h3>Description</h3>

<p><code>get_play_characters()</code> requests miscellaneous information for characters in
a play, given play and corpus names: name, number and size of their lines,
gender, some network metrics etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_play_characters(play = NULL, corpus = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_play_characters_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_play_characters_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_play_characters_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame, every raw represents one character in the play.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_play_metadata">get_play_metadata</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_play_characters(play = "lessing-emilia-galotti", corpus = "ger")
</code></pre>

<hr>
<h2 id='get_play_metadata'>Retrieve metadata for a play</h2><span id='topic+get_play_metadata'></span>

<h3>Description</h3>

<p><code>get_play_metadata()</code> requests metadata for a specific play, given play
and corpus names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_play_metadata(play = NULL, corpus = NULL, full_metadata = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_play_metadata_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_play_metadata_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_play_metadata_+3A_full_metadata">full_metadata</code></td>
<td>
<p>Logical: if <code>TRUE</code> (default value), then additional
metadata are retrieved.</p>
</td></tr>
<tr><td><code id="get_play_metadata_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with the play metadata.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_cooccur_edges">get_net_cooccur_edges</a></code> <code><a href="#topic+get_play_rdf">get_play_rdf</a></code>
<code><a href="#topic+get_play_characters">get_play_characters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_play_metadata(
  play = "lessing-emilia-galotti",
  corpus = "ger",
  full_metadata = FALSE
)
</code></pre>

<hr>
<h2 id='get_play_rdf'>Retrieve an RDF for a play</h2><span id='topic+get_play_rdf'></span>

<h3>Description</h3>

<p><code>get_play_rdf()</code> requests an RDF (Resource Description Framework) data
for a play, given play and corpus names. RDF for plays can be useful for
extraction data for a play from
<a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">https://www.wikidata.org/wiki/Wikidata:Main_Page</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_play_rdf(play = NULL, corpus = NULL, parse = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_play_rdf_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_play_rdf_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_play_rdf_+3A_parse">parse</code></td>
<td>
<p>Logical, if <code>TRUE</code> the result is parsed by
<code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code>, otherwise character value is
returned. Default value is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_play_rdf_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>RDF data parsed by <code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_play_metadata">get_play_metadata</a></code> <code><a href="#topic+get_play_characters">get_play_characters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_play_rdf(play = "lessing-emilia-galotti", corpus = "ger")
# If you want RDF without parsing by xml2::read_xml():
get_play_rdf(play = "lessing-emilia-galotti", corpus = "ger", parse = FALSE)
</code></pre>

<hr>
<h2 id='get_text_chr_spoken'>Retrieve lines and stage directions for a play</h2><span id='topic+get_text_chr_spoken'></span><span id='topic+get_text_chr_spoken_bych'></span><span id='topic+get_text_chr_stage'></span><span id='topic+get_text_chr_stage_with_sp'></span>

<h3>Description</h3>

<p><code>get_text_chr_spoken()</code> request lines and stage directions for a play,
given play and corpus names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_text_chr_spoken(
  play = NULL,
  corpus = NULL,
  gender = NULL,
  split_text = TRUE,
  ...
)

get_text_chr_spoken_bych(
  play = NULL,
  corpus = NULL,
  split_text = TRUE,
  as_data_frame = FALSE,
  ...
)

get_text_chr_stage(play = NULL, corpus = NULL, split_text = TRUE, ...)

get_text_chr_stage_with_sp(play = NULL, corpus = NULL, split_text = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_text_chr_spoken_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_text_chr_spoken_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_text_chr_spoken_+3A_gender">gender</code></td>
<td>
<p>Character, optional parameter to extract lines for characters
of specified gender: <code>"MALE"</code>, <code>"FEMALE"</code>, <code>"UNKNOWN"</code>.</p>
</td></tr>
<tr><td><code id="get_text_chr_spoken_+3A_split_text">split_text</code></td>
<td>
<p>If <code>TRUE</code> returns text as a character vector of lines.
Otherwise, returns text as one character value. <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="get_text_chr_spoken_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
<tr><td><code id="get_text_chr_spoken_+3A_as_data_frame">as_data_frame</code></td>
<td>
<p>If <code>TRUE</code> returns data frame with a row for every
character and text in a column <code>"text"</code>. Otherwise, a named list with
character values is returned. <code>FALSE</code> by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>get_text_chr_spoken()</code>, <code>get_text_chr_stage()</code> and
<code>get_text_chr_stage_with_sp()</code>: a character vector (if
<code>split_text = TRUE</code>, the default value) or a single character value (if
<code>split_text = FALSE)</code>.
For <code>get_text_chr_spoken_bych()</code>:
</p>

<dl>
<dt><code>split_text = TRUE</code> and <code>as_data_frame = FALSE</code> (default)</dt><dd>
<p>a named list with character vectors for every character</p>
</dd>
<dt><code>split_text = FALSE</code> and <code>as_data_frame = FALSE</code></dt><dd><p>a named
character vector (one value = one character)</p>
</dd>
<dt><code>split_text = TRUE</code> and <code>as_data_frame = TRUE</code></dt><dd><p>a data
frame: every row represent a character, text of a play is stored in a
<code>"text"</code> column, the <code>"text"</code> column is a list column with a
character vector of lines</p>
</dd>
<dt><code>split_text = FALSE</code> and <code>as_data_frame = TRUE</code></dt><dd><p>a data
frame: every row represent a character, text of a play is stored in a
<code>"text"</code> column, the <code>"text"</code> column is a simple character
column</p>
</dd>
</dl>



<h3>Functions</h3>


<ul>
<li> <p><code>get_text_chr_spoken_bych()</code>: Retrieves lines grouped by characters in a
play, given play and corpus names.
</p>
</li>
<li> <p><code>get_text_chr_stage()</code>: Retrieves all stage directions of a play,
given play and corpus names.
</p>
</li>
<li> <p><code>get_text_chr_stage_with_sp()</code>: Retrieves all stage directions of a play
including speakers (if applicable), given play and corpus names.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+get_text_tei">get_text_tei</a></code> <code><a href="#topic+get_text_df">get_text_df</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_text_chr_spoken(play = "lessing-emilia-galotti", corpus = "ger")
get_text_chr_spoken(
  play = "lessing-emilia-galotti",
  corpus = "ger",
  gender = "FEMALE"
)
get_text_chr_spoken(
  play = "lessing-emilia-galotti",
  corpus = "ger",
  gender = "FEMALE",
  split_text = FALSE
)
get_text_chr_spoken_bych(
  play = "lessing-emilia-galotti",
  corpus = "ger"
)
get_text_chr_stage(
  play = "lessing-emilia-galotti",
  corpus = "ger"
)
get_text_chr_stage_with_sp(
  play = "lessing-emilia-galotti",
  corpus = "ger"
)
</code></pre>

<hr>
<h2 id='get_text_tei'>Retrieve a text for a play in 'TEI'</h2><span id='topic+get_text_tei'></span>

<h3>Description</h3>

<p><code>get_text_tei()</code> requests a text for a play in 'TEI' format, given play
and corpus names. 'TEI' is an XML vocabulary, which makes it easy to extract
structural information (Fischer et al. 2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_text_tei(play = NULL, corpus = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_text_tei_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="get_text_tei_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
<tr><td><code id="get_text_tei_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+dracor_api">dracor_api</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TEI data parsed by
<code><a href="xml2.html#topic+read_xml">xml2::read_xml()</a></code>.
</p>


<h3>References</h3>

<p>Fischer F, Börner I, Göbel M, Hechtl A, Kittel C, Milling C, Trilcke P (2019).
&ldquo;Programmable corpora: Introducing DraCor, an infrastructure for the research on European drama.&rdquo;
In <em>Digital Humanities 2019: &quot;Complexities&quot; (DH2019)</em>.
<a href="https://doi.org/10.5281/zenodo.4284002">doi:10.5281/zenodo.4284002</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_text_df">get_text_df</a></code> <code><a href="#topic+get_text_chr_spoken">get_text_chr_spoken</a></code>
<code><a href="#topic+tei_to_df">tei_to_df</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_text_tei(play = "lessing-emilia-galotti", corpus = "ger")
# If you want a text in TEI without parsing by xml2::read_xml():
get_text_tei(play = "lessing-emilia-galotti", corpus = "ger", parse = FALSE)
</code></pre>

<hr>
<h2 id='label_cooccur_igraph'>Extract labels for plotting 'cooccur_igraph' object</h2><span id='topic+label_cooccur_igraph'></span>

<h3>Description</h3>

<p><code>label_cooccur_igraph()</code> returns labels for plotting <code>cooccur_igraph</code>
object. <code>label_cooccur_igraph</code>
gives control of overplotting for labels (i.e. character names) by deleting
extra labels if there are too many of them. Thus, it highlights the most
significant characters of the selected play. This function can be used to set
<code>vertex.label</code> parameter for <code><a href="#topic+plot.cooccur_igraph">plot.cooccur_igraph</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_cooccur_igraph(
  graph,
  max_graph_size = 30L,
  top_nodes = 3L,
  label_size_metric = c("betweenness", "numOfWords", "numOfScenes", "numOfSpeechActs",
    "degree", "weightedDegree", "closeness", "eigenvector")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_cooccur_igraph_+3A_graph">graph</code></td>
<td>
<p><code>cooccur_igraph</code> object to plot.</p>
</td></tr>
<tr><td><code id="label_cooccur_igraph_+3A_max_graph_size">max_graph_size</code></td>
<td>
<p>Integer, maximum network size for plotting all labels.
If you don't want to delete any labels, set <code>Inf</code>.</p>
</td></tr>
<tr><td><code id="label_cooccur_igraph_+3A_top_nodes">top_nodes</code></td>
<td>
<p>Integer, number of labels to be plotted. Characters with the
highest number of words will be selected.</p>
</td></tr>
<tr><td><code id="label_cooccur_igraph_+3A_label_size_metric">label_size_metric</code></td>
<td>
<p>Character, a metric that is used to rank characters
in a play.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>label_cooccur_igraph</code> takes labels from a vertices data frame column
<code>"name"</code>, checks that network size is more than <code>max_graph_size</code>,
if it is true, returns names for top <code>top_nodes</code> and NA for the rest.
</p>


<h3>Value</h3>

<p>Character vector of character names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_net_cooccur_igraph">get_net_cooccur_igraph</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
emilia_igraph &lt;- get_net_cooccur_igraph(
  play = "lessing-emilia-galotti",
  corpus = "ger"
)
label_cooccur_igraph(emilia_igraph, max_graph_size = 10, top_nodes = 4)

</code></pre>

<hr>
<h2 id='summary.dracor'>Retrieve metadata for all plays in selected corpora</h2><span id='topic+summary.dracor'></span><span id='topic+get_dracor'></span>

<h3>Description</h3>

<p><code>get_dracor()</code> request data on all plays in selected (or all) corpora.
<code>get_dracor()</code> returns <code>dracor</code> object that inherits
data frame (and can be used as such) but specified <code><a href="base.html#topic+summary">summary</a></code>
method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dracor'
summary(object, ...)

get_dracor(corpus = "all", full_metadata = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.dracor_+3A_object">object</code></td>
<td>
<p>An object of class <code>dracor</code>.</p>
</td></tr>
<tr><td><code id="summary.dracor_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to <code><a href="base.html#topic+summary.default">summary.default</a></code>.</p>
</td></tr>
<tr><td><code id="summary.dracor_+3A_corpus">corpus</code></td>
<td>
<p>Character vector with names of the corpora (you can find all
corpora names in <code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>) or <code>"all"</code> (default value). if
<code>"all"</code>, then all available corpora are downloaded.</p>
</td></tr>
<tr><td><code id="summary.dracor_+3A_full_metadata">full_metadata</code></td>
<td>
<p>Logical: if <code>TRUE</code> (default value), then additional
metadata are retrieved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You need to provide a vector with valid names of the corpora, e.g.
<code>"rus"</code>, <code>"ger"</code> or <code>"shake"</code>. Use function
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code> to extract names for all available corpora.
</p>


<h3>Value</h3>

<p><code>dracor</code> object that inherits data frame (and can be used as
such).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>summary(dracor)</code>: Meaningful summary for <code>dracor_meta</code> object.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tat &lt;- get_dracor("tat")
summary(tat)
get_dracor(c("ita", "span", "greek"))
get_dracor()

</code></pre>

<hr>
<h2 id='tei_to_df'>Retrieve a text for a play as a data frame</h2><span id='topic+tei_to_df'></span><span id='topic+get_text_df'></span>

<h3>Description</h3>

<p>The function <code>get_text_df()</code> returns you a data frame with text of
the selected play. <code>tei_to_df()</code> allows to convert an existing 'TEI'
object to a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tei_to_df(tei)

get_text_df(play, corpus)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tei_to_df_+3A_tei">tei</code></td>
<td>
<p>A TEI object stored as an object of class <code>xml_document</code>.
You can use this function if you have already downloaded TEI using
<code><a href="#topic+get_text_tei">get_text_tei</a></code>.</p>
</td></tr>
<tr><td><code id="tei_to_df_+3A_play">play</code></td>
<td>
<p>Character, name of a play (you can find all play names in
<code>"playName"</code> column within an object returned by
<code><a href="#topic+get_dracor">get_dracor</a></code>). Character vector (longer than 1) is not
supported.</p>
</td></tr>
<tr><td><code id="tei_to_df_+3A_corpus">corpus</code></td>
<td>
<p>Character, name of the corpus (you can find all corpus names in
<code>name</code> column within an object returned by
<code><a href="#topic+get_dracor_meta">get_dracor_meta</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text of a play as a data frame in
<a href="https://www.tidytextmining.com/tidytext.html">tidy text</a> format.
Each row represent one token. The text tokenised by lines, notes and stage
directions (&lt;p&gt;, &lt;l&gt;, &lt;stage&gt; or &lt;note&gt;).
Column <code>text</code> contains text of the line, other columns contain metadata
for the line.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>get_text_df()</code>: Retrieves all stage directions of a play,
given play and corpus names.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+get_play_metadata">get_play_metadata</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
get_text_df(play = "lessing-emilia-galotti", corpus = "ger")
emilia_tei &lt;- get_text_tei(play = "lessing-emilia-galotti", corpus = "ger")
tei_to_df(emilia_tei)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package gwavr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gwavr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#base_map'><p>Base Map</p></a></li>
<li><a href='#basinMod'><p>Shiny Module Server for nhdplus</p></a></li>
<li><a href='#basinModUI'><p>Shiny Module UI for basins</p></a></li>
<li><a href='#get_Basin'><p>Get Basin Boundary NLDI</p></a></li>
<li><a href='#get_basin_interactively'><p>Get Watershed Basin Interactively</p></a></li>
<li><a href='#get_nhdplus_interactively'><p>Get NHDPlus Interactively</p></a></li>
<li><a href='#get_NLDI'><p>Get NLDI</p></a></li>
<li><a href='#get_NLDI_catchments'><p>Get NLDI Catchments</p></a></li>
<li><a href='#get_nldi_interactively'><p>Get NLDI Interactively</p></a></li>
<li><a href='#get_whitebox_basin'><p>whitebox helpers</p></a></li>
<li><a href='#nhdplusMod'><p>Shiny Module Server for nhdplus</p></a></li>
<li><a href='#nhdplusModUI'><p>Shiny Module UI for nhdplus</p></a></li>
<li><a href='#nldi_basin_function'><p>Calling NLDI API</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Get Water Attributes Visually in R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides methods to Get Water Attributes Visually in R ('gwavr'). This allows the user to point and click on areas within the United States and get back hydrological data, e.g. flowlines, catchments, basin boundaries, comids, etc.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/joshualerickson/gwavr/">https://github.com/joshualerickson/gwavr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/joshualerickson/gwavr/issues/">https://github.com/joshualerickson/gwavr/issues/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, jsonlite, leaflet, leaflet.extras, magrittr,
miniUI, nhdplusTools, purrr, scales, sf, shiny, shinyWidgets,
tidyr, units, utils, promises, elevatr, whitebox, terra</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling, knitr, rmarkdown</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-28 21:16:23 UTC; joshualerickson</td>
</tr>
<tr>
<td>Author:</td>
<td>Joshua Erickson [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joshua Erickson &lt;joshualerickson@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-28 21:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='base_map'>Base Map</h2><span id='topic+base_map'></span>

<h3>Description</h3>

<p>A generic leaflet base map used in the shiny apps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>base_map()
</code></pre>


<h3>Value</h3>

<p>A leaflet map with provider layers: <strong>&quot;Esri.WorldImagery&quot;, &quot;CartoDB.Positron&quot;,
&quot;OpenStreetMap&quot;, &quot;CartoDB.DarkMatter&quot;, &quot;OpenTopoMap&quot;
&quot;Hydrography&quot;</strong>
</p>

<hr>
<h2 id='basinMod'>Shiny Module Server for nhdplus</h2><span id='topic+basinMod'></span>

<h3>Description</h3>

<p>Shiny Module Server for nhdplus
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basinMod(input, output, session, values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basinMod_+3A_input">input</code></td>
<td>
<p>Shiny server function input</p>
</td></tr>
<tr><td><code id="basinMod_+3A_output">output</code></td>
<td>
<p>Shiny server function output</p>
</td></tr>
<tr><td><code id="basinMod_+3A_session">session</code></td>
<td>
<p>Shiny server function session</p>
</td></tr>
<tr><td><code id="basinMod_+3A_values">values</code></td>
<td>
<p>A reactive Values list to pass</p>
</td></tr>
</table>


<h3>Value</h3>

<p>server function for Shiny module
</p>

<hr>
<h2 id='basinModUI'>Shiny Module UI for basins</h2><span id='topic+basinModUI'></span>

<h3>Description</h3>

<p>A shiny Module to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basinModUI(id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basinModUI_+3A_id">id</code></td>
<td>
<p><code>character</code> id for the the Shiny namespace</p>
</td></tr>
<tr><td><code id="basinModUI_+3A_...">...</code></td>
<td>
<p>other arguments to <code>leafletOutput()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>UI function for Shiny module
</p>

<hr>
<h2 id='get_Basin'>Get Basin Boundary NLDI</h2><span id='topic+get_Basin'></span>

<h3>Description</h3>

<p>This function uses the USGS water data API to link a point to a realized basin. This is
not the same as delineating from the exact point, rather this API uses NLDI to find the closest
basin downstream source point. There is a lot you can do with this API and I would recommend
looking at nhdplusTools as that has a lot of functionality and better documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_Basin(point)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_Basin_+3A_point">point</code></td>
<td>
<p>A sf point object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An sf object with added <code>comid</code> and <code>basin</code>.
</p>


<h3>Note</h3>

<p><code>point</code> needs geometry column.
</p>

<hr>
<h2 id='get_basin_interactively'>Get Watershed Basin Interactively</h2><span id='topic+get_basin_interactively'></span>

<h3>Description</h3>

<p>This function allows the user delineate watershed basins interactively with a
shiny app. It uses the elevatr package for DEM and whitebox package to delineate the watershed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_basin_interactively(
  ns = "basin-ui",
  viewer = shiny::paneViewer(),
  title = "Delineate Basin",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_basin_interactively_+3A_ns">ns</code></td>
<td>
<p><code>string</code> name for the Shiny <code>namespace</code> to use.  The <code>ns</code>
is unlikely to require a change.</p>
</td></tr>
<tr><td><code id="get_basin_interactively_+3A_viewer">viewer</code></td>
<td>
<p><code>function</code> for the viewer.  See Shiny <code><a href="shiny.html#topic+viewer">viewer</a></code>.
NOTE: when using <code>browserViewer(browser = getOption("browser"))</code> to
open the app in the default browser, the browser window will automatically
close when closing the app (by pressing &quot;done&quot; or &quot;cancel&quot;) in most browsers.
Firefox is an exception. See Details for instructions on how to enable this
behaviour in Firefox.</p>
</td></tr>
<tr><td><code id="get_basin_interactively_+3A_title">title</code></td>
<td>
<p><code>string</code> to customize the title of the UI window.  The default
is &quot;Delineate Basin&quot;.</p>
</td></tr>
<tr><td><code id="get_basin_interactively_+3A_...">...</code></td>
<td>
<p>other arguments to <code>leafletOutput()</code> in module.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of sf objects that the user collected during shiny session.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(interactive()){
nhdplus_data &lt;- get_basin_interactively()
}

</code></pre>

<hr>
<h2 id='get_nhdplus_interactively'>Get NHDPlus Interactively</h2><span id='topic+get_nhdplus_interactively'></span>

<h3>Description</h3>

<p>This function allows the user go get NHDPlus realizations interactively with a
shiny app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_nhdplus_interactively(
  ns = "hydro-ui",
  viewer = shiny::paneViewer(),
  title = "NHDPlus",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_nhdplus_interactively_+3A_ns">ns</code></td>
<td>
<p><code>string</code> name for the Shiny <code>namespace</code> to use.  The <code>ns</code>
is unlikely to require a change.</p>
</td></tr>
<tr><td><code id="get_nhdplus_interactively_+3A_viewer">viewer</code></td>
<td>
<p><code>function</code> for the viewer.  See Shiny <code><a href="shiny.html#topic+viewer">viewer</a></code>.
NOTE: when using <code>browserViewer(browser = getOption("browser"))</code> to
open the app in the default browser, the browser window will automatically
close when closing the app (by pressing &quot;done&quot; or &quot;cancel&quot;) in most browsers.
Firefox is an exception. See Details for instructions on how to enable this
behaviour in Firefox.</p>
</td></tr>
<tr><td><code id="get_nhdplus_interactively_+3A_title">title</code></td>
<td>
<p><code>string</code> to customize the title of the UI window.  The default
is &quot;NHDPlus&quot;.</p>
</td></tr>
<tr><td><code id="get_nhdplus_interactively_+3A_...">...</code></td>
<td>
<p>other arguments to <code>leafletOutput()</code> in module.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of sf objects that the user collected during shiny session.
</p>


<h3>Note</h3>

<p>The picker list has seven options right now: NHDPlus Catchments, NHDPlus Flowlines,
NHDPlus Waterbodies, NHDPlus Outlet, HUC 12, HUC 8, NWIS Site.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(interactive()){
nhdplus_data &lt;- get_nhdplus_interactively()
}

</code></pre>

<hr>
<h2 id='get_NLDI'>Get NLDI</h2><span id='topic+get_NLDI'></span>

<h3>Description</h3>

<p>This function grabs the upstream tributaries, upstream main stream and basin boundary using
the NLDI API. It then combines the NLDI zonal stats to the basin boundary shape, i.e. 'TOT' is the 'total' basin zonal statistic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_NLDI(point)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_NLDI_+3A_point">point</code></td>
<td>
<p>A sf point.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of UT, UM and basin boundary sf objects
</p>

<hr>
<h2 id='get_NLDI_catchments'>Get NLDI Catchments</h2><span id='topic+get_NLDI_catchments'></span>

<h3>Description</h3>

<p>This function grabs the 'local' zonal stats for 'all' subcatchments above a point or only for
the 'local' catchment using the NLDI API. This is different than get_NLDI(), which grabs the entire basin above a point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_NLDI_catchments(point, type = "local", method = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_NLDI_catchments_+3A_point">point</code></td>
<td>
<p>A sf point object.</p>
</td></tr>
<tr><td><code id="get_NLDI_catchments_+3A_type">type</code></td>
<td>
<p>A <code>character</code> 'local' or 'all'.</p>
</td></tr>
<tr><td><code id="get_NLDI_catchments_+3A_method">method</code></td>
<td>
<p>A <code>character</code> 'local' or 'all'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of sf objects: UT and catchments.
</p>


<h3>Note</h3>

<p>This function can be expensive when using type = 'local' and method = 'all' depending on
the size of the upstream area.
</p>

<hr>
<h2 id='get_nldi_interactively'>Get NLDI Interactively</h2><span id='topic+get_nldi_interactively'></span>

<h3>Description</h3>

<p>This function uses the NLDI API to allow the user to visually
select a location (point) to get numerous hydrologic realizations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_nldi_interactively()
</code></pre>


<h3>Value</h3>

<p>A list with sf objects.
</p>


<h3>Note</h3>

<p>The picker list has three options right now: Total Basin, All Local Catchments and Only Local Catchment.
Descriptions below:
</p>

<ul>
<li>  <p><strong>Total Basin</strong>: This will return the upstream tributaries (UT), upstream main (UM),
basin boundary and site data above the user point.
</p>
</li>
<li>  <p><strong>All Local Catchments</strong>: This will return the upstream tributaries (UT) and all the
local NHDPLusV2 catchments above the user point. In addition, each catchment will contain the
zonal stats associated with 'CAT' in NLDI.
</p>
</li>
<li> <p><strong>Only Local Catchment</strong>: This will only return the catchment at the point and tributary.
In addition, it will also include the zonal stat for that catchment.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
if(interactive()){
nldi_data &lt;- get_nldi_interactively()
}
</code></pre>

<hr>
<h2 id='get_whitebox_basin'>whitebox helpers</h2><span id='topic+get_whitebox_basin'></span>

<h3>Description</h3>

<p>whitebox helpers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_whitebox_basin(
  sf_point,
  z,
  snap_dist,
  smoothing = TRUE,
  depressions = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_whitebox_basin_+3A_sf_point">sf_point</code></td>
<td>
<p>a sf data.frame point(s)</p>
</td></tr>
<tr><td><code id="get_whitebox_basin_+3A_z">z</code></td>
<td>
<p>param for elevatr function get_elev_raster()</p>
</td></tr>
<tr><td><code id="get_whitebox_basin_+3A_snap_dist">snap_dist</code></td>
<td>
<p>distance to snap to stream (in meters)</p>
</td></tr>
<tr><td><code id="get_whitebox_basin_+3A_smoothing">smoothing</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="get_whitebox_basin_+3A_depressions">depressions</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="get_whitebox_basin_+3A_...">...</code></td>
<td>
<p>arguments to pass to whitebox tools functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a sf polygon
</p>

<hr>
<h2 id='nhdplusMod'>Shiny Module Server for nhdplus</h2><span id='topic+nhdplusMod'></span>

<h3>Description</h3>

<p>Shiny Module Server for nhdplus
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhdplusMod(input, output, session, values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhdplusMod_+3A_input">input</code></td>
<td>
<p>Shiny server function input</p>
</td></tr>
<tr><td><code id="nhdplusMod_+3A_output">output</code></td>
<td>
<p>Shiny server function output</p>
</td></tr>
<tr><td><code id="nhdplusMod_+3A_session">session</code></td>
<td>
<p>Shiny server function session</p>
</td></tr>
<tr><td><code id="nhdplusMod_+3A_values">values</code></td>
<td>
<p>A reactive Values list to pass</p>
</td></tr>
</table>


<h3>Value</h3>

<p>server function for Shiny module
</p>

<hr>
<h2 id='nhdplusModUI'>Shiny Module UI for nhdplus</h2><span id='topic+nhdplusModUI'></span>

<h3>Description</h3>

<p>A shiny Module to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhdplusModUI(id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nhdplusModUI_+3A_id">id</code></td>
<td>
<p><code>character</code> id for the the Shiny namespace</p>
</td></tr>
<tr><td><code id="nhdplusModUI_+3A_...">...</code></td>
<td>
<p>other arguments to <code>leafletOutput()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>UI function for Shiny module
</p>

<hr>
<h2 id='nldi_basin_function'>Calling NLDI API</h2><span id='topic+nldi_basin_function'></span>

<h3>Description</h3>

<p>Calling NLDI API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nldi_basin_function(point)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nldi_basin_function_+3A_point">point</code></td>
<td>
<p>sf data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a sf data.frame with watershed basin
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

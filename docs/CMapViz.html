<!DOCTYPE html><html><head><title>Help for package CMapViz</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CMapViz}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bubble_plot'><p>Bubble plot of CMap output table</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Representation Tool For Output Of Connectivity Map (CMap)
Analysis</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-10-25</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Raphaël Bonnet [aut, cre], Jean-François Peyron[aut,ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Raphaël Bonnet &lt;raphael.bonnet@univ-cotedazur.fr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Automatically displays graphical visualization for exported data table (permutated results) from Connectivity Map (CMap) (2006) &lt;<a href="https://doi.org/10.1126%2Fscience.1132939">doi:10.1126/science.1132939</a>&gt;. 
  It allows the representation of the statistics (p-value and enrichment) according to each cell lines in the form of a bubble plot. </td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Peyronlab/CMapViz/issues">https://github.com/Peyronlab/CMapViz/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>readxl, ggplot2, dplyr, scales, reshape2, stringr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-11-07 10:05:48 UTC; raphael</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-11-07 11:10:13 UTC</td>
</tr>
</table>
<hr>
<h2 id='bubble_plot'>Bubble plot of CMap output table</h2><span id='topic+bubble_plot'></span>

<h3>Description</h3>

<p>This function allows the user to represent the Connectivity Map (CMap) result table (broadinstitute)
under the form of a bubble plot representing statistics and cell lines:
- each drug is represented along the y axis according to its enrichment value
- each drug is represented along the x axis according to the cell line tested and
within the cell line according to batch specificity (0-50
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bubble_plot(path, plot, enrichment, abs.enrich.cutoff=NULL, n.rep.cutoff=NULL ,
        jittering=FALSE, return.gg.table= FALSE, output_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bubble_plot_+3A_path">path</code></td>
<td>
<p>path of the excel file (permutated results)</p>
</td></tr>
<tr><td><code id="bubble_plot_+3A_plot">plot</code></td>
<td>
<p>what data to plot: molecules only (plot=&quot;molecules&quot;) or molecules by cell lines batch (plot=&quot;cell.lines&quot;)</p>
</td></tr>
<tr><td><code id="bubble_plot_+3A_enrichment">enrichment</code></td>
<td>
<p>whether to plot positive or negative enrichment</p>
</td></tr>
<tr><td><code id="bubble_plot_+3A_abs.enrich.cutoff">abs.enrich.cutoff</code></td>
<td>
<p>minimum value of enrichment to include a batch</p>
</td></tr>
<tr><td><code id="bubble_plot_+3A_n.rep.cutoff">n.rep.cutoff</code></td>
<td>
<p>minimum number of replicates to include a batch (default=NULL)</p>
</td></tr>
<tr><td><code id="bubble_plot_+3A_jittering">jittering</code></td>
<td>
<p>whether apply jittering to the values to avoid points overlap</p>
</td></tr>
<tr><td><code id="bubble_plot_+3A_return.gg.table">return.gg.table</code></td>
<td>
<p>table prepared for ggplot, allows the user to customize the graphical representation</p>
</td></tr>
<tr><td><code id="bubble_plot_+3A_output_path">output_path</code></td>
<td>
<p>path for the experiment output folder, returns data table and figure (default=NULL)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object - bubble plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>file.path &lt;- system.file("extdata", "example.xls", package = "CMapViz")
#display results by cell lines, with negative enrichment (absolute cutoff: 0.5), and at least n=5.
#molecule position with respect of dotted line is the specificity of the molecule itself:
#left side of dotted line if specificity &lt; 50 or right side of dotted line if specificity &gt; 50 )
bubble_plot(file.path,
    plot = "cell.lines", enrichment = "negative", abs.enrich.cutoff = 0.5,
    n.rep.cutoff = 5, output_path = NULL
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

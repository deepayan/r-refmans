<!DOCTYPE html><html><head><title>Help for package hypothesisr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hypothesisr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#hs_create'><p>Create annotations</p></a></li>
<li><a href='#hs_delete'><p>Delete an annotation</p></a></li>
<li><a href='#hs_read'><p>Retrieve a single annotation by ID</p></a></li>
<li><a href='#hs_reply'><p>Create a reply to a comment</p></a></li>
<li><a href='#hs_search'><p>Search hypothes.is annotations</p></a></li>
<li><a href='#hs_search_all'><p>Retreive all annotation search results as a data frame</p></a></li>
<li><a href='#hs_update'><p>Update annotations</p></a></li>
<li><a href='#hypothesisr'><p>hypothesisr: Wrapper for the Hypothes.is API</p></a></li>
<li><a href='#open_'><p>Functions for opening an annotation in the system browser</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Wrapper for the 'Hypothes.is' Web Annotation Service</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Interact with the application programming interface for the web
    annotation service 'Hypothes.is' (See <a href="http://hypothes.is">http://hypothes.is</a> for more
    information.) Allows users to download data about public annotations, and
    create, retrieve, update, and delete their own annotations.</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, jsonlite</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mdlincoln/hypothesisr">https://github.com/mdlincoln/hypothesisr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mdlincoln/hypothesisr/issues">https://github.com/mdlincoln/hypothesisr/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-07-01 14:07:42 UTC; admin</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew Lincoln [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew Lincoln &lt;matthew.d.lincoln@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-07-01 16:33:31</td>
</tr>
</table>
<hr>
<h2 id='hs_create'>Create annotations</h2><span id='topic+hs_create'></span>

<h3>Description</h3>

<p>Create annotations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hs_create(token, uri, user, permissions = list(read = "group:__world__",
  update = user, delete = user, admin = user), document = NULL,
  target = NULL, tags = NULL, text, custom = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hs_create_+3A_token">token</code></td>
<td>
<p>Character. Your account token, which you can generate at <a href="https://hypothes.is/register">https://hypothes.is/register</a></p>
</td></tr>
<tr><td><code id="hs_create_+3A_uri">uri</code></td>
<td>
<p>Character. The URI to be annotated.</p>
</td></tr>
<tr><td><code id="hs_create_+3A_user">user</code></td>
<td>
<p>Character. Your user account, normally in the format <code>acct:username@hypothes.is</code></p>
</td></tr>
<tr><td><code id="hs_create_+3A_permissions">permissions</code></td>
<td>
<p>A named list with read, update, delete, and admin permissions. Defaults to setting global read permissions (<code>group:__world__</code>) and setting the <code>user</code> string for update, delete, and admin permissions.</p>
</td></tr>
<tr><td><code id="hs_create_+3A_document">document</code></td>
<td>
<p>A list describing the document. CURRENTLY IGNORED.</p>
</td></tr>
<tr><td><code id="hs_create_+3A_target">target</code></td>
<td>
<p>A list describing the highlight position of the annotation. CURRENTLY IGNORED</p>
</td></tr>
<tr><td><code id="hs_create_+3A_tags">tags</code></td>
<td>
<p>Character. (optional) Tags to apply to the annotation.</p>
</td></tr>
<tr><td><code id="hs_create_+3A_text">text</code></td>
<td>
<p>Character. Text to put in the body of the annotation. This will be coerced into a character vector of length 1 using <a href="base.html#topic+paste">paste</a>.</p>
</td></tr>
<tr><td><code id="hs_create_+3A_custom">custom</code></td>
<td>
<p>Add arbitrary fields to the JSON object submitted to hypothes.is by means of a named list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Upon successful creation, returns a 22-character annotation ID. This ID may be retrieved using <a href="#topic+hs_read">hs_read</a>.
</p>


<h3>Source</h3>

<p><a href="https://h.readthedocs.io/en/latest/api/#create">https://h.readthedocs.io/en/latest/api/#create</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hs_create(token = user_token,
uri = "https://github.com/mdlincoln/hypothesisr",
user = "acct:mdlincoln@hypothes.is", tags = c("testing", "R"),
text = "R made me!")

## End(Not run)
</code></pre>

<hr>
<h2 id='hs_delete'>Delete an annotation</h2><span id='topic+hs_delete'></span>

<h3>Description</h3>

<p>Delete an annotation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hs_delete(token, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hs_delete_+3A_token">token</code></td>
<td>
<p>Character. Your account token, which you can generate at <a href="https://hypothes.is/register">https://hypothes.is/register</a></p>
</td></tr>
<tr><td><code id="hs_delete_+3A_id">id</code></td>
<td>
<p>Character. A hypothes.is annotation id.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE on successful deletion.
</p>


<h3>Source</h3>

<p><a href="https://h.readthedocs.io/en/latest/api/#delete">https://h.readthedocs.io/en/latest/api/#delete</a>
</p>

<hr>
<h2 id='hs_read'>Retrieve a single annotation by ID</h2><span id='topic+hs_read'></span>

<h3>Description</h3>

<p>Retrieve a single annotation by ID
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hs_read(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hs_read_+3A_id">id</code></td>
<td>
<p>Character. A hypothes.is annotation id.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with the contents of that annotation.
</p>


<h3>Source</h3>

<p><a href="https://h.readthedocs.io/en/latest/api/#read">https://h.readthedocs.io/en/latest/api/#read</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hs_read("WFMnSC3FEeaNvLeGkQeJbg")
</code></pre>

<hr>
<h2 id='hs_reply'>Create a reply to a comment</h2><span id='topic+hs_reply'></span>

<h3>Description</h3>

<p>This is a utility wrapper around <a href="#topic+hs_create">hs_create</a> that takes an original comment ID and creates a reply to it by adding the custom <code>references</code> field when constructing the annotation. Normal fields like
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hs_reply(token, user, id, text, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hs_reply_+3A_token">token</code></td>
<td>
<p>Character. Your account token, which you can generate at <a href="https://hypothes.is/register">https://hypothes.is/register</a></p>
</td></tr>
<tr><td><code id="hs_reply_+3A_user">user</code></td>
<td>
<p>Character. Your user account, normally in the format <code>acct:username@hypothes.is</code></p>
</td></tr>
<tr><td><code id="hs_reply_+3A_id">id</code></td>
<td>
<p>Character. The annotation ID to reply to.</p>
</td></tr>
<tr><td><code id="hs_reply_+3A_text">text</code></td>
<td>
<p>Character. Text to put in the body of the annotation. This will be coerced into a character vector of length 1 using <a href="base.html#topic+paste">paste</a>.</p>
</td></tr>
<tr><td><code id="hs_reply_+3A_...">...</code></td>
<td>
<p>Other arguments to pass to <a href="#topic+hs_create">hs_create</a>.</p>
</td></tr>
</table>

<hr>
<h2 id='hs_search'>Search hypothes.is annotations</h2><span id='topic+hs_search'></span>

<h3>Description</h3>

<p>Search hypothes.is annotations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hs_search(limit = NULL, offset = NULL, sort = "updated", order = "asc",
  uri = NULL, user = NULL, text = NULL, any = NULL, custom = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hs_search_+3A_limit">limit</code></td>
<td>
<p>Integer. The maximum number of annotations to return. (Default:
20)</p>
</td></tr>
<tr><td><code id="hs_search_+3A_offset">offset</code></td>
<td>
<p>Integer The minimum number of initial annotations to skip. This
is used for pagination. For example if there are 65 annotations matching
our search query and we're retrieving up to 30 annotations at a time, then
to retrieve the last 5, set offset = 5. (Default = 0)</p>
</td></tr>
<tr><td><code id="hs_search_+3A_sort">sort</code></td>
<td>
<p>Character. Specify which field the annotations should be sorted
by: <code>consumer</code>, <code>created</code>, <code>id</code>, <code>text</code>,
<code>updated</code>, <code>uri</code>, <code>user</code>.</p>
</td></tr>
<tr><td><code id="hs_search_+3A_order">order</code></td>
<td>
<p>Character. Specify which order annotations should be sorted by:
<code>asc</code> or <code>desc</code>.</p>
</td></tr>
<tr><td><code id="hs_search_+3A_uri">uri</code></td>
<td>
<p>Character. Search for annotations of a particular URI, for example
<code>www.example.com</code>. URI searches will also find annotations of
equivalent URIs. For example if the HTML document at
<code>http://www.example.com/document.html?</code> includes a <code>&lt;link
rel="canonical" href="http://www.example.com/canonical_document.html"&gt;</code>
then annotations of <code>http://www.example.com/canonical_document.html</code>
will also be included in the search results. Other forms of document
equivalence that are supported include <code>rel="alternate"</code> links, DOIs,
PDF file IDs, and more.</p>
</td></tr>
<tr><td><code id="hs_search_+3A_user">user</code></td>
<td>
<p>Character. Search for annotations by a particular user. For
example, <code>tim</code> will find all annotations by users named <code>tim</code> at
any provider, while <code>tim@hypothes.is</code> will only find annotations by
<code>tim</code> on <code>hypothes.is</code></p>
</td></tr>
<tr><td><code id="hs_search_+3A_text">text</code></td>
<td>
<p>Character. Search for annotations whose body text contains some
text, for example: <code>foobar</code>.</p>
</td></tr>
<tr><td><code id="hs_search_+3A_any">any</code></td>
<td>
<p>Character. Search for annotations whose <code>quote</code>, <code>tags</code>,
<code>text</code>, <code>uri.parts</code> or <code>user</code> fields match some query text.</p>
</td></tr>
<tr><td><code id="hs_search_+3A_custom">custom</code></td>
<td>
<p>A named list of any field in the results returned by
hypothes.is as a name, and the search text as values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with annotation data.
</p>


<h3>Note</h3>

<p>If any vectors are passed to these arguments, only the first values
will be used.
</p>


<h3>Source</h3>

<p><a href="https://h.readthedocs.io/en/latest/api/#search">https://h.readthedocs.io/en/latest/api/#search</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Search for no more than 5 annotations containing the text "ulysses"
hs_search(text = "ulysses", limit = 5)
# Search with a custom field for tags
hs_search(custom = list(tags = "todo"))
# use the 'uri.parts' field to find annotations on a given domain (exclude
# the TLD, as this will result in all annotations on sites with, e.g., .org,
# as well.)
hs_search(custom = list(uri.parts = "programminghistorian"))
</code></pre>

<hr>
<h2 id='hs_search_all'>Retreive all annotation search results as a data frame</h2><span id='topic+hs_search_all'></span>

<h3>Description</h3>

<p>Takes the same arguments as <a href="#topic+hs_search">hs_search</a> and pages through all available
results, formatting the output as a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hs_search_all(sort = "updated", order = "asc", uri = NULL, user = NULL,
  text = NULL, any = NULL, custom = list(), pagesize = 200,
  progress = interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hs_search_all_+3A_sort">sort</code></td>
<td>
<p>Character. Specify which field the annotations should be sorted
by: <code>consumer</code>, <code>created</code>, <code>id</code>, <code>text</code>,
<code>updated</code>, <code>uri</code>, <code>user</code>.</p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_order">order</code></td>
<td>
<p>Character. Specify which order annotations should be sorted by:
<code>asc</code> or <code>desc</code>.</p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_uri">uri</code></td>
<td>
<p>Character. Search for annotations of a particular URI, for example
<code>www.example.com</code>. URI searches will also find annotations of
equivalent URIs. For example if the HTML document at
<code>http://www.example.com/document.html?</code> includes a <code>&lt;link
rel="canonical" href="http://www.example.com/canonical_document.html"&gt;</code>
then annotations of <code>http://www.example.com/canonical_document.html</code>
will also be included in the search results. Other forms of document
equivalence that are supported include <code>rel="alternate"</code> links, DOIs,
PDF file IDs, and more.</p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_user">user</code></td>
<td>
<p>Character. Search for annotations by a particular user. For
example, <code>tim</code> will find all annotations by users named <code>tim</code> at
any provider, while <code>tim@hypothes.is</code> will only find annotations by
<code>tim</code> on <code>hypothes.is</code></p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_text">text</code></td>
<td>
<p>Character. Search for annotations whose body text contains some
text, for example: <code>foobar</code>.</p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_any">any</code></td>
<td>
<p>Character. Search for annotations whose <code>quote</code>, <code>tags</code>,
<code>text</code>, <code>uri.parts</code> or <code>user</code> fields match some query text.</p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_custom">custom</code></td>
<td>
<p>A named list of any field in the results returned by
hypothes.is as a name, and the search text as values.</p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_pagesize">pagesize</code></td>
<td>
<p>Integer. How many annotations to retrieve per query. Between 1 and 200. (Default: 200)</p>
</td></tr>
<tr><td><code id="hs_search_all_+3A_progress">progress</code></td>
<td>
<p>Boolean. Should a progress bar be displayed during download?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with annotation data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hs_search_all(text = "arxiv")

## End(Not run)
</code></pre>

<hr>
<h2 id='hs_update'>Update annotations</h2><span id='topic+hs_update'></span>

<h3>Description</h3>

<p>Update annotations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hs_update(token, id, uri = NULL, user = NULL, permissions = NULL,
  document = NULL, target = NULL, tags = NULL, text = NULL,
  custom = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hs_update_+3A_token">token</code></td>
<td>
<p>Character. Your account token, which you can generate at <a href="https://hypothes.is/register">https://hypothes.is/register</a>.</p>
</td></tr>
<tr><td><code id="hs_update_+3A_id">id</code></td>
<td>
<p>Character. A hypothes.is annotation id.</p>
</td></tr>
<tr><td><code id="hs_update_+3A_uri">uri</code></td>
<td>
<p>Character. The URI to be annotated.</p>
</td></tr>
<tr><td><code id="hs_update_+3A_user">user</code></td>
<td>
<p>Character. Your user account, normally in the format <code>acct:username@hypothes.is</code></p>
</td></tr>
<tr><td><code id="hs_update_+3A_permissions">permissions</code></td>
<td>
<p>A named list with read, update, delete, and admin permissions. Defaults to setting global read permissions (<code>group:__world__</code>) and setting the <code>user</code> string for update, delete, and admin permissions.</p>
</td></tr>
<tr><td><code id="hs_update_+3A_document">document</code></td>
<td>
<p>A list describing the document. CURRENTLY IGNORED.</p>
</td></tr>
<tr><td><code id="hs_update_+3A_target">target</code></td>
<td>
<p>A list describing the highlight position of the annotation. CURRENTLY IGNORED</p>
</td></tr>
<tr><td><code id="hs_update_+3A_tags">tags</code></td>
<td>
<p>Character. (optional) Tags to apply to the annotation.</p>
</td></tr>
<tr><td><code id="hs_update_+3A_text">text</code></td>
<td>
<p>Character. Text to put in the body of the annotation. This will be coerced into a character vector of length 1 using <a href="base.html#topic+paste">paste</a>.</p>
</td></tr>
<tr><td><code id="hs_update_+3A_custom">custom</code></td>
<td>
<p>Add arbitrary fields to the JSON object submitted to hypothes.is by means of a named list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE on successful update.
</p>


<h3>Source</h3>

<p><a href="https://h.readthedocs.io/en/latest/api/#update">https://h.readthedocs.io/en/latest/api/#update</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hs_update(user_token, "lDf9rC3EEea6ck-G5kLdXA", text = "Now even more annotate-y!")

## End(Not run)
</code></pre>

<hr>
<h2 id='hypothesisr'>hypothesisr: Wrapper for the Hypothes.is API</h2><span id='topic+hypothesisr'></span><span id='topic+hypothesisr-package'></span>

<h3>Description</h3>

<p>Interact with the API for the web annotation service hypothes.is.
Allows users to add, search for, and retrieve annotation data.
</p>

<hr>
<h2 id='open_'>Functions for opening an annotation in the system browser</h2><span id='topic+open_'></span><span id='topic+open_annotation'></span><span id='topic+open_context'></span><span id='topic+open_uri'></span>

<h3>Description</h3>

<p>Functions for opening an annotation in the system browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>open_context(id)

open_annotation(id)

open_uri(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="open__+3A_id">id</code></td>
<td>
<p>Annotation ID.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>open_context</code>: Open an annotation in context, displaying the original webpage with an annotation overlay
</p>
</li>
<li> <p><code>open_annotation</code>: Open an annotation on the hypothes.is webpage
</p>
</li>
<li> <p><code>open_uri</code>: Open the original webpage to which the annotation links
</p>
</li></ul>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package MantaID</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MantaID}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Example'><p>ID example dataset.</p></a></li>
<li><a href='#mi'><p>A wrapper function that executes MantaID workflow.</p></a></li>
<li><a href='#mi_balance_data'><p>Data balance.</p>
Most classes adopt random undersampling, while a few classes adopt smote method to oversample to obtain relatively balanced data.</a></li>
<li><a href='#mi_clean_data'><p>Reshape data and delete meaningless rows.</p></a></li>
<li><a href='#mi_data_attributes'><p>ID-related datasets in biomart.</p></a></li>
<li><a href='#mi_data_procID'><p>Processed ID data.</p></a></li>
<li><a href='#mi_data_rawID'><p>ID dataset for testing.</p></a></li>
<li><a href='#mi_filter_feat'><p>Performing feature selection in a automatic way based on correlation and feature importance.</p></a></li>
<li><a href='#mi_get_confusion'><p>Compute the confusion matrix for the predicted result.</p></a></li>
<li><a href='#mi_get_ID'><p>Get ID data from the <code>Biomart</code> database using <code>attributes</code>.</p></a></li>
<li><a href='#mi_get_ID_attr'><p>Get ID attributes from the <code>Biomart</code> database.</p></a></li>
<li><a href='#mi_get_importance'><p>Plot the bar plot for feature importance.</p></a></li>
<li><a href='#mi_get_miss'><p>Observe the distribution of the false response of the test set.</p></a></li>
<li><a href='#mi_get_padlen'><p>Get max length of ID data.</p></a></li>
<li><a href='#mi_plot_cor'><p>Plot correlation heatmap.</p></a></li>
<li><a href='#mi_plot_heatmap'><p>Plot heatmap for result confusion matrix.</p></a></li>
<li><a href='#mi_predict_new'><p>Predict new data with a trained learner.</p></a></li>
<li><a href='#mi_run_bmr'><p>Compare classification models with small samples.</p></a></li>
<li><a href='#mi_split_col'><p>Cut the string of ID column character by character and divide it into multiple columns.</p></a></li>
<li><a href='#mi_split_str'><p>Split the string into individual characters and complete the character vector to the maximum length.</p></a></li>
<li><a href='#mi_to_numer'><p>Convert data to numeric, and for the ID column convert with fixed levels.</p></a></li>
<li><a href='#mi_train_BP'><p>Train a three layers neural network model.</p></a></li>
<li><a href='#mi_train_rg'><p>Random Forest Model Training.</p></a></li>
<li><a href='#mi_train_rp'><p>Classification tree model training.</p></a></li>
<li><a href='#mi_train_xgb'><p>Xgboost model training</p></a></li>
<li><a href='#mi_tune_rg'><p>Tune the Random Forest model by hyperband.</p></a></li>
<li><a href='#mi_tune_rp'><p>Tune the Decision Tree model by hyperband.</p></a></li>
<li><a href='#mi_tune_xgb'><p>Tune the Xgboost model by hyperband.</p></a></li>
<li><a href='#mi_unify_mod'><p>Predict with four models and unify results by the sub-model's specificity score to the four possible classes.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A Machine-Learning Based Tool to Automate the Identification of
Biological Database IDs</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Description:</td>
<td>The number of biological databases is growing rapidly, but different databases use different IDs to refer to the same biological entity. The inconsistency in IDs impedes the integration of various types of biological data. To resolve the problem, we developed 'MantaID', a data-driven, machine-learning based approach that automates identifying IDs on a large scale. The 'MantaID' model's prediction accuracy was proven to be 99%, and it correctly and effectively predicted 100,000 ID entries within two minutes. 'MantaID' supports the discovery and exploitation of ID patterns from large quantities of databases. (e.g., up to 542 biological databases). An easy-to-use freely available open-source software R package, a user-friendly web application, and API were also developed for 'MantaID' to improve applicability. To our knowledge, 'MantaID' is the first tool that enables an automatic, quick, accurate, and comprehensive identification of large quantities of IDs, and can therefore be used as a starting point to facilitate the complex assimilation and aggregation of biological data across diverse databases.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.4.0),biomaRt,caret,keras,mlr3tuning,mlr3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://molaison.github.io/MantaID/">https://molaison.github.io/MantaID/</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2,data.table,magrittr,stringr,tibble,tidyr,tidyselect,ggcorrplot,reshape2,scutr,paradox,RColorBrewer,purrr,dplyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>mlr3hyperband,mlr3learners,ranger,rpart,xgboost</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-09 07:07:26 UTC; pc</td>
</tr>
<tr>
<td>Author:</td>
<td>Zhengpeng Zeng <a href="https://orcid.org/0000-0001-7919-209X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, ctb],
  Longfei Mao <a href="https://orcid.org/0000-0003-0759-0501"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cph],
  Feng Yu <a href="https://orcid.org/0000-0002-5221-281X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jiamin Hu <a href="https://orcid.org/0000-0003-3030-2117"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Xiting Wang <a href="https://orcid.org/0009-0009-5235-0006"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zhengpeng Zeng &lt;molaison@foxmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-09 07:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Example'>ID example dataset.</h2><span id='topic+Example'></span>

<h3>Description</h3>

<p>ID example dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Example
</code></pre>


<h3>Format</h3>

<p>A tibble with 5000 rows and 2 variables.
</p>

<dl>
<dt>ID</dt><dd><p>A identifier character.</p>
</dd>
<dt>class</dt><dd><p>The database the ID belongs to.</p>
</dd>
</dl>


<hr>
<h2 id='mi'>A wrapper function that executes MantaID workflow.</h2><span id='topic+mi'></span>

<h3>Description</h3>

<p>A wrapper function that executes MantaID workflow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi(
  cores = NULL,
  levels = c("*", 0:9, letters, LETTERS, "_", ".", "-", " ", "/", "\\", ":"),
  ratio = 0.3,
  para_blc = FALSE,
  model_path = NULL,
  batch_size = 128,
  epochs = 64,
  validation_split = 0.3,
  graph_path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_+3A_cores">cores</code></td>
<td>
<p>The number of cores used when balancing data.</p>
</td></tr>
<tr><td><code id="mi_+3A_levels">levels</code></td>
<td>
<p>The vector that includes all the single characters occurred in IDs.</p>
</td></tr>
<tr><td><code id="mi_+3A_ratio">ratio</code></td>
<td>
<p>The ratio of the test set.</p>
</td></tr>
<tr><td><code id="mi_+3A_para_blc">para_blc</code></td>
<td>
<p>A logical value whether using parallel computing when balancing data.</p>
</td></tr>
<tr><td><code id="mi_+3A_model_path">model_path</code></td>
<td>
<p>The path to save models.</p>
</td></tr>
<tr><td><code id="mi_+3A_batch_size">batch_size</code></td>
<td>
<p>The batch size of deep learning model fitting.</p>
</td></tr>
<tr><td><code id="mi_+3A_epochs">epochs</code></td>
<td>
<p>The epochs of deep learning model fitting.</p>
</td></tr>
<tr><td><code id="mi_+3A_validation_split">validation_split</code></td>
<td>
<p>The validation ratio of deep learning model fitting.</p>
</td></tr>
<tr><td><code id="mi_+3A_graph_path">graph_path</code></td>
<td>
<p>The path to save graphs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The list of models and graphs.
</p>

<hr>
<h2 id='mi_balance_data'>Data balance.
Most classes adopt random undersampling, while a few classes adopt smote method to oversample to obtain relatively balanced data.</h2><span id='topic+mi_balance_data'></span>

<h3>Description</h3>

<p>Data balance.
Most classes adopt random undersampling, while a few classes adopt smote method to oversample to obtain relatively balanced data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_balance_data(data, ratio = 0.3, parallel = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_balance_data_+3A_data">data</code></td>
<td>
<p>A data frame. Except for class column, all are numeric types.</p>
</td></tr>
<tr><td><code id="mi_balance_data_+3A_ratio">ratio</code></td>
<td>
<p>Numeric between 0 and 1. The percent of the test set split from data.</p>
</td></tr>
<tr><td><code id="mi_balance_data_+3A_parallel">parallel</code></td>
<td>
<p>Logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contains a train set and a test set.
</p>

<hr>
<h2 id='mi_clean_data'>Reshape data and delete meaningless rows.</h2><span id='topic+mi_clean_data'></span>

<h3>Description</h3>

<p>Reshape data and delete meaningless rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_clean_data(data, cols = everything(), placeholder = c("-"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_clean_data_+3A_data">data</code></td>
<td>
<p>A dataframe or tibble or data.table or matrix. Names of the column will be regard as the class of ID included in column.</p>
</td></tr>
<tr><td><code id="mi_clean_data_+3A_cols">cols</code></td>
<td>
<p>Character vectors. Columns of <code>data</code> that contain the IDs</p>
</td></tr>
<tr><td><code id="mi_clean_data_+3A_placeholder">placeholder</code></td>
<td>
<p>Character vectors. IDs included in <code>placeholder</code> will be omitted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with two columns(&quot;ID&quot; and &quot;class&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- tibble::tibble(
  "class1" = c("A", "B", "C", "D"),
  "class2" = c("E", "F", "G", "H"),
  "class3" = c("L", "M", "-", "O")
)
mi_clean_data(data)
</code></pre>

<hr>
<h2 id='mi_data_attributes'>ID-related datasets in biomart.</h2><span id='topic+mi_data_attributes'></span>

<h3>Description</h3>

<p>ID-related datasets in biomart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_data_attributes
</code></pre>


<h3>Format</h3>

<p>A dataframe with 65 variables and 3 variables.
</p>

<dl>
<dt>name</dt><dd><p>The name of dataset.</p>
</dd>
<dt>description</dt><dd><p>Description of dataset.</p>
</dd>
<dt>page</dt><dd><p>collection of attributes.</p>
</dd>
</dl>


<hr>
<h2 id='mi_data_procID'>Processed ID data.</h2><span id='topic+mi_data_procID'></span>

<h3>Description</h3>

<p>Processed ID data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_data_procID
</code></pre>


<h3>Format</h3>

<p>A tibble dataframe with 5000 rows and 21 variables.
</p>

<dl>
<dt>pos1 to pos20</dt><dd><p>Splited ID.</p>
</dd>
<dt>class</dt><dd><p>The databases that ID belongs to.</p>
</dd>
</dl>


<hr>
<h2 id='mi_data_rawID'>ID dataset for testing.</h2><span id='topic+mi_data_rawID'></span>

<h3>Description</h3>

<p>ID dataset for testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_data_rawID
</code></pre>


<h3>Format</h3>

<p>A tibble with 5000 rows and 2 variables.
</p>

<dl>
<dt>ID</dt><dd><p>A identifier character.</p>
</dd>
<dt>class</dt><dd><p>The database the ID belongs to.</p>
</dd>
</dl>


<hr>
<h2 id='mi_filter_feat'>Performing feature selection in a automatic way based on correlation and feature importance.</h2><span id='topic+mi_filter_feat'></span>

<h3>Description</h3>

<p>Performing feature selection in a automatic way based on correlation and feature importance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_filter_feat(data, cor_thresh = 0.7, imp_thresh = 0.99, union = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_filter_feat_+3A_data">data</code></td>
<td>
<p>The data frame returned by <code>mi_to_numer()</code>.</p>
</td></tr>
<tr><td><code id="mi_filter_feat_+3A_cor_thresh">cor_thresh</code></td>
<td>
<p>The threshold set for Pearson correlation. If correlation value is over this threshold, the two features will be viewed as redundant and one of them will be removed.</p>
</td></tr>
<tr><td><code id="mi_filter_feat_+3A_imp_thresh">imp_thresh</code></td>
<td>
<p>The threshold set for feature importance. The last several features with the lowest importance will be removed if remained importance lower than <code>imp_thresh</code>.</p>
</td></tr>
<tr><td><code id="mi_filter_feat_+3A_union">union</code></td>
<td>
<p>The method for combining the decisions of correlation method and importance method. If <code>TRUE</code>, any of the features calculated by the two methods will be returned. Otherwise, only features in the results of both methods will be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The names of the features that should be removed.
</p>

<hr>
<h2 id='mi_get_confusion'>Compute the confusion matrix for the predicted result.</h2><span id='topic+mi_get_confusion'></span>

<h3>Description</h3>

<p>Compute the confusion matrix for the predicted result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_get_confusion(result_list, ifnet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_get_confusion_+3A_result_list">result_list</code></td>
<td>
<p>A list returned from model training functions.</p>
</td></tr>
<tr><td><code id="mi_get_confusion_+3A_ifnet">ifnet</code></td>
<td>
<p>Logical.Whether the data is obtained by a deep learning model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>confusionMatrix</code> object.
</p>

<hr>
<h2 id='mi_get_ID'>Get ID data from the <code>Biomart</code> database using <code>attributes</code>.</h2><span id='topic+mi_get_ID'></span>

<h3>Description</h3>

<p>Get ID data from the <code>Biomart</code> database using <code>attributes</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_get_ID(
  attributes,
  biomart = "genes",
  dataset = "hsapiens_gene_ensembl",
  mirror = "asia"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_get_ID_+3A_attributes">attributes</code></td>
<td>
<p>A dataframe.The information we want to retrieve.Use <code>mi_get_ID_attr</code> to hava try.</p>
</td></tr>
<tr><td><code id="mi_get_ID_+3A_biomart">biomart</code></td>
<td>
<p>BioMart database name you want to connect to. Use <code>biomaRt::listEnsembl</code> to retrieve the possible database names.</p>
</td></tr>
<tr><td><code id="mi_get_ID_+3A_dataset">dataset</code></td>
<td>
<p>Datasets of the selected BioMart database.</p>
</td></tr>
<tr><td><code id="mi_get_ID_+3A_mirror">mirror</code></td>
<td>
<p>Specify an Ensembl mirror to connect to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> dataframe.
</p>

<hr>
<h2 id='mi_get_ID_attr'>Get ID attributes from the <code>Biomart</code> database.</h2><span id='topic+mi_get_ID_attr'></span>

<h3>Description</h3>

<p>Get ID attributes from the <code>Biomart</code> database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_get_ID_attr(
  biomart = "genes",
  dataset = "hsapiens_gene_ensembl",
  mirror = "asia"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_get_ID_attr_+3A_biomart">biomart</code></td>
<td>
<p>BioMart database name you want to connect to.Use <code>biomaRt::listEnsembl</code> to retrieve the possible database names.</p>
</td></tr>
<tr><td><code id="mi_get_ID_attr_+3A_dataset">dataset</code></td>
<td>
<p>Datasets of the selected BioMart database.</p>
</td></tr>
<tr><td><code id="mi_get_ID_attr_+3A_mirror">mirror</code></td>
<td>
<p>Specify an Ensembl mirror to connect to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe.
</p>

<hr>
<h2 id='mi_get_importance'>Plot the bar plot for feature importance.</h2><span id='topic+mi_get_importance'></span>

<h3>Description</h3>

<p>Plot the bar plot for feature importance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_get_importance(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_get_importance_+3A_data">data</code></td>
<td>
<p>A table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A bar plot.
</p>

<hr>
<h2 id='mi_get_miss'>Observe the distribution of the false response of the test set.</h2><span id='topic+mi_get_miss'></span>

<h3>Description</h3>

<p>Observe the distribution of the false response of the test set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_get_miss(predict)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_get_miss_+3A_predict">predict</code></td>
<td>
<p>An R6 class <code>PredictionClassif</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble data frame that records the number of wrong predictions for each category ID
</p>

<hr>
<h2 id='mi_get_padlen'>Get max length of ID data.</h2><span id='topic+mi_get_padlen'></span>

<h3>Description</h3>

<p>Get max length of ID data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_get_padlen(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_get_padlen_+3A_data">data</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An int object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mi_data_rawID)
mi_get_padlen(mi_data_rawID)
</code></pre>

<hr>
<h2 id='mi_plot_cor'>Plot correlation heatmap.</h2><span id='topic+mi_plot_cor'></span>

<h3>Description</h3>

<p>Plot correlation heatmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_plot_cor(data, cls = "class")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_plot_cor_+3A_data">data</code></td>
<td>
<p>Data frame including IDs' position features.</p>
</td></tr>
<tr><td><code id="mi_plot_cor_+3A_cls">cls</code></td>
<td>
<p>The name of the class column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A heatmap.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mi_data_procID)
data_num &lt;- mi_to_numer(mi_data_procID)
mi_plot_cor(data_num)
</code></pre>

<hr>
<h2 id='mi_plot_heatmap'>Plot heatmap for result confusion matrix.</h2><span id='topic+mi_plot_heatmap'></span>

<h3>Description</h3>

<p>Plot heatmap for result confusion matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_plot_heatmap(table, name = NULL, filepath = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_plot_heatmap_+3A_table">table</code></td>
<td>
<p>A table.</p>
</td></tr>
<tr><td><code id="mi_plot_heatmap_+3A_name">name</code></td>
<td>
<p>Model names.</p>
</td></tr>
<tr><td><code id="mi_plot_heatmap_+3A_filepath">filepath</code></td>
<td>
<p>File path the plot to save. Default NULL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>

<hr>
<h2 id='mi_predict_new'>Predict new data with a trained learner.</h2><span id='topic+mi_predict_new'></span>

<h3>Description</h3>

<p>Predict new data with a trained learner.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_predict_new(data, result, ifnet = F)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_predict_new_+3A_data">data</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="mi_predict_new_+3A_result">result</code></td>
<td>
<p>The result object from a previous training.</p>
</td></tr>
<tr><td><code id="mi_predict_new_+3A_ifnet">ifnet</code></td>
<td>
<p>A boolean indicating if a neural network is used for prediction.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains features and 'predict' class.
</p>

<hr>
<h2 id='mi_run_bmr'>Compare classification models with small samples.</h2><span id='topic+mi_run_bmr'></span>

<h3>Description</h3>

<p>Compare classification models with small samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_run_bmr(data, row_num = 1000, resamplings = rsmps("cv", folds = 10))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_run_bmr_+3A_data">data</code></td>
<td>
<p>A tibble.All are numeric except the first column is a factor.</p>
</td></tr>
<tr><td><code id="mi_run_bmr_+3A_row_num">row_num</code></td>
<td>
<p>The number of samples used.</p>
</td></tr>
<tr><td><code id="mi_run_bmr_+3A_resamplings">resamplings</code></td>
<td>
<p>R6/Resampling.Resampling method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of R6 class of benchmark results and scores of test set.
examples
data(mi_data_procID)
mi_run_bmr(mi_data_procID)
</p>

<hr>
<h2 id='mi_split_col'>Cut the string of ID column character by character and divide it into multiple columns.</h2><span id='topic+mi_split_col'></span>

<h3>Description</h3>

<p>Cut the string of ID column character by character and divide it into multiple columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_split_col(data, cores = NULL, pad_len = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_split_col_+3A_data">data</code></td>
<td>
<p>Dataframe(tibble) to be split.</p>
</td></tr>
<tr><td><code id="mi_split_col_+3A_cores">cores</code></td>
<td>
<p>Int.The num of cores to allocate for computing.</p>
</td></tr>
<tr><td><code id="mi_split_col_+3A_pad_len">pad_len</code></td>
<td>
<p>The length of longest id, i.e. the maxlength.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with pad_len+1 column.
</p>

<hr>
<h2 id='mi_split_str'>Split the string into individual characters and complete the character vector to the maximum length.</h2><span id='topic+mi_split_str'></span>

<h3>Description</h3>

<p>Split the string into individual characters and complete the character vector to the maximum length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_split_str(str, pad_len)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_split_str_+3A_str">str</code></td>
<td>
<p>The string to be splited.</p>
</td></tr>
<tr><td><code id="mi_split_str_+3A_pad_len">pad_len</code></td>
<td>
<p>The length of longest ID, i.e. the maxlength.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Splited character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>string_test &lt;- "Good Job"
length &lt;- 15
mi_split_str(string_test, length)
</code></pre>

<hr>
<h2 id='mi_to_numer'>Convert data to numeric, and for the ID column convert with fixed levels.</h2><span id='topic+mi_to_numer'></span>

<h3>Description</h3>

<p>Convert data to numeric, and for the ID column convert with fixed levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_to_numer(
  data,
  levels = c("*", 0:9, letters, LETTERS, "_", ".", "-", " ", "/", "\\", ":")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_to_numer_+3A_data">data</code></td>
<td>
<p>A tibble with n position column(pos1,pos2,...) and class column.</p>
</td></tr>
<tr><td><code id="mi_to_numer_+3A_levels">levels</code></td>
<td>
<p>Characters accommodated in IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric data frame with numerical or factor type columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(mi_data_procID)
mi_to_numer(mi_data_procID)
</code></pre>

<hr>
<h2 id='mi_train_BP'>Train a three layers neural network model.</h2><span id='topic+mi_train_BP'></span>

<h3>Description</h3>

<p>Train a three layers neural network model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_train_BP(
  train,
  test,
  cls = "class",
  path2save = NULL,
  batch_size = 128,
  epochs = 64,
  validation_split = 0.3,
  verbose = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_train_BP_+3A_train">train</code></td>
<td>
<p>A dataframe with the <code>class</code> column as label.</p>
</td></tr>
<tr><td><code id="mi_train_BP_+3A_test">test</code></td>
<td>
<p>A dataframe with the <code>class</code> column as label.</p>
</td></tr>
<tr><td><code id="mi_train_BP_+3A_cls">cls</code></td>
<td>
<p>A character.The name of the label column.</p>
</td></tr>
<tr><td><code id="mi_train_BP_+3A_path2save">path2save</code></td>
<td>
<p>The folder path to store the model and train history.</p>
</td></tr>
<tr><td><code id="mi_train_BP_+3A_batch_size">batch_size</code></td>
<td>
<p>Integer or NULL. The number of samples per gradient update.</p>
</td></tr>
<tr><td><code id="mi_train_BP_+3A_epochs">epochs</code></td>
<td>
<p>The number of epochs to train the model.</p>
</td></tr>
<tr><td><code id="mi_train_BP_+3A_validation_split">validation_split</code></td>
<td>
<p>Float between 0 and 1. Fraction of the training data to be used as validation data.</p>
</td></tr>
<tr><td><code id="mi_train_BP_+3A_verbose">verbose</code></td>
<td>
<p>The verbosity mode.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> object containing the prediction confusion matrix, the <code>model</code> object, and the mapping of predicted numbers to classes.
</p>

<hr>
<h2 id='mi_train_rg'>Random Forest Model Training.</h2><span id='topic+mi_train_rg'></span>

<h3>Description</h3>

<p>Random Forest Model Training.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_train_rg(train, test, measure = msr("classif.acc"), instance = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_train_rg_+3A_train">train</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="mi_train_rg_+3A_test">test</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="mi_train_rg_+3A_measure">measure</code></td>
<td>
<p>Model evaluation method.</p>
</td></tr>
<tr><td><code id="mi_train_rg_+3A_instance">instance</code></td>
<td>
<p>A tuner.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of learner for predicting and predicted result of test set.
</p>

<hr>
<h2 id='mi_train_rp'>Classification tree model training.</h2><span id='topic+mi_train_rp'></span>

<h3>Description</h3>

<p>Classification tree model training.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_train_rp(train, test, measure = msr("classif.acc"), instance = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_train_rp_+3A_train">train</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="mi_train_rp_+3A_test">test</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="mi_train_rp_+3A_measure">measure</code></td>
<td>
<p>Model evaluation method.Use <code>mlr_measures</code> and <code>msr()</code> to view and choose metrics.</p>
</td></tr>
<tr><td><code id="mi_train_rp_+3A_instance">instance</code></td>
<td>
<p>A tuner.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of learner for predicting and predicted result of test set.
</p>

<hr>
<h2 id='mi_train_xgb'>Xgboost model training</h2><span id='topic+mi_train_xgb'></span>

<h3>Description</h3>

<p>Xgboost model training
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_train_xgb(train, test, measure = msr("classif.acc"), instance = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_train_xgb_+3A_train">train</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="mi_train_xgb_+3A_test">test</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="mi_train_xgb_+3A_measure">measure</code></td>
<td>
<p>Model evaluation method.</p>
</td></tr>
<tr><td><code id="mi_train_xgb_+3A_instance">instance</code></td>
<td>
<p>A tuner.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of learner for predicting and predicted result of test set.
</p>

<hr>
<h2 id='mi_tune_rg'>Tune the Random Forest model by hyperband.</h2><span id='topic+mi_tune_rg'></span>

<h3>Description</h3>

<p>Tune the Random Forest model by hyperband.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_tune_rg(
  data,
  resampling = rsmp("cv", folds = 5),
  measure = msr("classif.acc"),
  eta = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_tune_rg_+3A_data">data</code></td>
<td>
<p>A tibble.All are numeric except the first column is a factor.</p>
</td></tr>
<tr><td><code id="mi_tune_rg_+3A_resampling">resampling</code></td>
<td>
<p>R6/Resampling.</p>
</td></tr>
<tr><td><code id="mi_tune_rg_+3A_measure">measure</code></td>
<td>
<p>Model evaluation method.Use <code>mlr_measures</code> and <code>msr()</code> to view and choose metrics.</p>
</td></tr>
<tr><td><code id="mi_tune_rg_+3A_eta">eta</code></td>
<td>
<p>The percent parameter configurations discarded.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tuning instance and stage plot.
</p>

<hr>
<h2 id='mi_tune_rp'>Tune the Decision Tree model by hyperband.</h2><span id='topic+mi_tune_rp'></span>

<h3>Description</h3>

<p>Tune the Decision Tree model by hyperband.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_tune_rp(
  data,
  resampling = rsmp("bootstrap", ratio = 0.8, repeats = 5),
  measure = msr("classif.acc"),
  eta = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_tune_rp_+3A_data">data</code></td>
<td>
<p>A tibble.All are numeric except the first column is a factor.</p>
</td></tr>
<tr><td><code id="mi_tune_rp_+3A_resampling">resampling</code></td>
<td>
<p>R6/Resampling.</p>
</td></tr>
<tr><td><code id="mi_tune_rp_+3A_measure">measure</code></td>
<td>
<p>Model evaluation method.Use <code>mlr_measures</code> and <code>msr()</code> to view and choose metrics.</p>
</td></tr>
<tr><td><code id="mi_tune_rp_+3A_eta">eta</code></td>
<td>
<p>The percent parameter configurations discarded.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tuning instance and stage plot.
</p>

<hr>
<h2 id='mi_tune_xgb'>Tune the Xgboost model by hyperband.</h2><span id='topic+mi_tune_xgb'></span>

<h3>Description</h3>

<p>Tune the Xgboost model by hyperband.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_tune_xgb(
  data,
  resampling = rsmp("cv", folds = 5),
  measure = msr("classif.acc"),
  eta = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_tune_xgb_+3A_data">data</code></td>
<td>
<p>A tibble.All are numeric except the first column is a factor.</p>
</td></tr>
<tr><td><code id="mi_tune_xgb_+3A_resampling">resampling</code></td>
<td>
<p>R6/Resampling.</p>
</td></tr>
<tr><td><code id="mi_tune_xgb_+3A_measure">measure</code></td>
<td>
<p>Model evaluation method.Use <code>mlr_measures</code> and <code>msr()</code> to view and choose metrics.</p>
</td></tr>
<tr><td><code id="mi_tune_xgb_+3A_eta">eta</code></td>
<td>
<p>The percent parameter configurations discarded.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tuning instance and stage plot.
</p>

<hr>
<h2 id='mi_unify_mod'>Predict with four models and unify results by the sub-model's specificity score to the four possible classes.</h2><span id='topic+mi_unify_mod'></span>

<h3>Description</h3>

<p>Predict with four models and unify results by the sub-model's specificity score to the four possible classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mi_unify_mod(
  data,
  col_id,
  result_rg,
  result_rp,
  result_xgb,
  result_BP,
  c_value = 0.75,
  pad_len = 30
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mi_unify_mod_+3A_data">data</code></td>
<td>
<p>A dataframe contains the ID column.</p>
</td></tr>
<tr><td><code id="mi_unify_mod_+3A_col_id">col_id</code></td>
<td>
<p>The name of ID column.</p>
</td></tr>
<tr><td><code id="mi_unify_mod_+3A_result_rg">result_rg</code></td>
<td>
<p>The result from the Random Forest model.</p>
</td></tr>
<tr><td><code id="mi_unify_mod_+3A_result_rp">result_rp</code></td>
<td>
<p>The result from the Decision Tree model.</p>
</td></tr>
<tr><td><code id="mi_unify_mod_+3A_result_xgb">result_xgb</code></td>
<td>
<p>The result from the XGBoost model.</p>
</td></tr>
<tr><td><code id="mi_unify_mod_+3A_result_bp">result_BP</code></td>
<td>
<p>The result from the Backpropagation Neural Network model.</p>
</td></tr>
<tr><td><code id="mi_unify_mod_+3A_c_value">c_value</code></td>
<td>
<p>A numeric value used in the final prediction calculation.</p>
</td></tr>
<tr><td><code id="mi_unify_mod_+3A_pad_len">pad_len</code></td>
<td>
<p>The length to pad the ID characters to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

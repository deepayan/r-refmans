<!DOCTYPE html><html><head><title>Help for package plainview</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {plainview}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#plainView'><p>View raster objects interactively without background map but in any CRS</p></a></li>
<li><a href='#plainview-package'><p>Plot Raster Images Interactively on a Plain HTML Canvas</p></a></li>
<li><a href='#plainViewOutput'><p>Widget output/render function for use in Shiny</p></a></li>
<li><a href='#poppendorf'><p>Landsat 8 detail of Franconian Switzerland centered on Poppendorf</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Plot Raster Images Interactively on a Plain HTML Canvas</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tim Appelhans &lt;tim.appelhans@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides methods for plotting potentially large (raster) images
    interactively on a plain HTML canvas. In contrast to package 'mapview'
    data are plotted without background map, but data can be projected to
    any spatial coordinate reference system.
    Supports plotting of classes 'RasterLayer', 'RasterStack', 'RasterBrick'
    (from package 'raster') as well as 'png' files located on disk. 
    Interactivity includes zooming, panning, and mouse location information. 
    In case of multi-layer 'RasterStacks' or 'RasterBricks', RGB image plots 
    are created (similar to 'raster::plotRGB' - but interactive).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmltools, htmlwidgets, lattice, png, raster, viridisLite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>shiny, sf, sp</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-spatial.github.io/plainview/">https://r-spatial.github.io/plainview/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-11 07:04:41 UTC; tim</td>
</tr>
<tr>
<td>Author:</td>
<td>Tim Appelhans [cre, aut],
  Stefan Woellauer [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-11 12:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='plainView'>View raster objects interactively without background map but in any CRS</h2><span id='topic+plainView'></span><span id='topic+plainView+2CRasterLayer-method'></span><span id='topic+plainView+2CRasterStackBrick-method'></span><span id='topic+plainView+2CSpatialPixelsDataFrame-method'></span><span id='topic+plainview+2CANY-method'></span><span id='topic+plainview'></span>

<h3>Description</h3>

<p>this function produces an interactive view of the specified
raster object(s) on a plain grey background but for any CRS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'RasterLayer'
plainView(
  x,
  maxpixels = 1e+08,
  col.regions = viridisLite::inferno,
  at,
  na.color = "#BEBEBE",
  legend = TRUE,
  verbose = FALSE,
  layer.name = deparse(substitute(x, env = parent.frame())),
  gdal = TRUE,
  ...
)

## S4 method for signature 'RasterStackBrick'
plainView(
  x,
  r = 3,
  g = 2,
  b = 1,
  na.color = "#BEBEBE",
  maxpixels = 1e+08,
  layer.name = deparse(substitute(x, env = parent.frame())),
  ...
)

## S4 method for signature 'SpatialPixelsDataFrame'
plainView(x, zcol = 1, ...)

## S4 method for signature 'ANY'
plainview(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plainView_+3A_x">x</code></td>
<td>
<p>a <code>raster</code>* object</p>
</td></tr>
<tr><td><code id="plainView_+3A_maxpixels">maxpixels</code></td>
<td>
<p>integer &gt; 0. Maximum number of cells to use for the plot.
If maxpixels &lt; <code>ncell(x)</code>, sampleRegular is used before plotting.</p>
</td></tr>
<tr><td><code id="plainView_+3A_col.regions">col.regions</code></td>
<td>
<p>color (palette).See <code><a href="lattice.html#topic+levelplot">levelplot</a></code> for details.</p>
</td></tr>
<tr><td><code id="plainView_+3A_at">at</code></td>
<td>
<p>the breakpoints used for the visualisation. See
<code><a href="lattice.html#topic+levelplot">levelplot</a></code> for details.</p>
</td></tr>
<tr><td><code id="plainView_+3A_na.color">na.color</code></td>
<td>
<p>color for missing values.</p>
</td></tr>
<tr><td><code id="plainView_+3A_legend">legend</code></td>
<td>
<p>either logical or a list specifying any of the components
decribed in the <code>colorkey</code> section of <a href="lattice.html#topic+levelplot">levelplot</a>.</p>
</td></tr>
<tr><td><code id="plainView_+3A_verbose">verbose</code></td>
<td>
<p>should some details be printed during the process</p>
</td></tr>
<tr><td><code id="plainView_+3A_layer.name">layer.name</code></td>
<td>
<p>the name of the layer to be shown on the map</p>
</td></tr>
<tr><td><code id="plainView_+3A_gdal">gdal</code></td>
<td>
<p>logical. If TRUE (default) gdal_translate is used
to create the png file for display when possible. See details for further
information.</p>
</td></tr>
<tr><td><code id="plainView_+3A_...">...</code></td>
<td>
<p>arguments passed on to respective methods</p>
</td></tr>
<tr><td><code id="plainView_+3A_r">r</code></td>
<td>
<p>integer. Index of the Red channel, between 1 and nlayers(x)</p>
</td></tr>
<tr><td><code id="plainView_+3A_g">g</code></td>
<td>
<p>integer. Index of the Green channel, between 1 and nlayers(x)</p>
</td></tr>
<tr><td><code id="plainView_+3A_b">b</code></td>
<td>
<p>integer. Index of the Blue channel, between 1 and nlayers(x)</p>
</td></tr>
<tr><td><code id="plainView_+3A_zcol">zcol</code></td>
<td>
<p>attribute name or column number in attribute table
of the column to be rendered</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the raster object is not in memory
(i.e. if <code>raster::inMemory</code> is <code>FLASE</code>)
and argument <code>gdal</code> is set to TRUE (default) gdal_translate
is used to translate the rsater object to a png file to be rendered in
the viewer/browser. This is fast for large rasters. In this case, argument
<code>maxpixels</code> is not used, instead the image is rendered in original resolution.
However, this means that RasterLayers will be shown in greyscale.
If you want to set a color palette manually, use <code>gdal = FALSE</code> and
(optionally provide) <code>col.regions</code>.<br />
<br />
For plainView there are a few keyboard shortcuts defined:
</p>

<ul>
<li><p> plus/minus - zoom in/out
</p>
</li>
<li><p> space - toggle antialiasing
</p>
</li>
<li><p> esc - zoom to layer extent
</p>
</li>
<li><p> enter - set zoom to 1
</p>
</li>
<li><p> ctrl - increase panning speed by 10
</p>
</li></ul>



<h3>Methods (by class)</h3>


<ul>
<li> <p><code>plainView(RasterStackBrick)</code>: <code><a href="utils.html#topic+stack">stack</a></code> / <code>brick</code>
</p>
</li>
<li> <p><code>plainView(SpatialPixelsDataFrame)</code>: <code><a href="sp.html#topic+SpatialPixelsDataFrame">SpatialPixelsDataFrame</a></code>
</p>
</li>
<li> <p><code>plainview(ANY)</code>: alias for ease of typing
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Stephan Woellauer
</p>
<p>Tim Appelhans
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {

  # RasterLayer
  plainView(poppendorf[[4]])

  # RasterStack
  plainview(poppendorf, r = 4, g = 3, b = 2) # true color
  plainview(poppendorf, r = 5, g = 4, b = 3) # false color

}

</code></pre>

<hr>
<h2 id='plainview-package'>Plot Raster Images Interactively on a Plain HTML Canvas</h2><span id='topic+plainview-package'></span>

<h3>Description</h3>

<p>Plot Raster Images Interactively on a Plain HTML Canvas
</p>


<h3>Details</h3>

<p>Provides methods for plotting potentially large (raster) images
interactively on a plain HTML canvas.
Supports plotting of RasterLayer, RasterStack, RasterBrick
(from package raster) as well as png files located on disk. Interactivity
includes zooming, panning, and mouse location information. In case of
multi-layer RasterStacks or RasterBricks, RBG image plots are created
(similar to raster::plotRGB - but interactive).
</p>


<h3>Author(s)</h3>

<p>Tim Appelhans, Stephan Woellauer
<em>Maintainer:</em> Tim Appelhans <a href="mailto:tim.appelhans@gmail.com">tim.appelhans@gmail.com</a>
</p>

<hr>
<h2 id='plainViewOutput'>Widget output/render function for use in Shiny</h2><span id='topic+plainViewOutput'></span><span id='topic+renderPlainView'></span>

<h3>Description</h3>

<p>Widget output/render function for use in Shiny
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plainViewOutput(outputId, width = "100%", height = "400px")

renderPlainView(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plainViewOutput_+3A_outputid">outputId</code></td>
<td>
<p>Output variable to read from</p>
</td></tr>
<tr><td><code id="plainViewOutput_+3A_width">width</code>, <code id="plainViewOutput_+3A_height">height</code></td>
<td>
<p>the width and height of the map
(see <code><a href="htmlwidgets.html#topic+shinyWidgetOutput">shinyWidgetOutput</a></code>)</p>
</td></tr>
<tr><td><code id="plainViewOutput_+3A_expr">expr</code></td>
<td>
<p>An expression that generates an HTML widget</p>
</td></tr>
<tr><td><code id="plainViewOutput_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate expr</p>
</td></tr>
<tr><td><code id="plainViewOutput_+3A_quoted">quoted</code></td>
<td>
<p>Is expr a quoted expression (with quote())?
This is useful if you want to save an expression in a variable</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  plt = plainView(poppendorf[[4]])

  ui = fluidPage(
    plainViewOutput("plot")
  )

  server = function(input, output, session) {
    output$plot &lt;- renderPlainView(plt)
  }

  shinyApp(ui, server)

}

</code></pre>

<hr>
<h2 id='poppendorf'>Landsat 8 detail of Franconian Switzerland centered on Poppendorf</h2><span id='topic+poppendorf'></span>

<h3>Description</h3>

<p>Landsat 8 detail of Franconian Switzerland centered on Poppendorf
</p>


<h3>Format</h3>

<p><code>"RasterBrick-class"</code> with 5 bands (bands 1 to 5).
</p>


<h3>Details</h3>

<p>Use of this data requires your agreement to the USGS regulations on
using Landsat data.
</p>


<h3>Source</h3>

<p><a href="https://earthexplorer.usgs.gov">https://earthexplorer.usgs.gov</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

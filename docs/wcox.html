<!DOCTYPE html><html><head><title>Help for package wcox</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wcox}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Calculate_weights'><p>Calculate inverse probability of selection weights.</p></a></li>
<li><a href='#fam_dat'><p>Simulated time-to-event data.</p></a></li>
<li><a href='#Prepare_data'><p>Prepare data for weight calculation using the population incidence.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Weights to Correct for Outcome Dependent Sampling in Time to
Event Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A new inverse probability of selection weighted Cox model to deal with outcome-dependent sampling in survival analysis.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, tidyr, survival, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-15 14:59:26 UTC; veraarntzen</td>
</tr>
<tr>
<td>Author:</td>
<td>Vera Arntzen <a href="https://orcid.org/0000-0002-2642-9898"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Mar Rodriguez-Girondo
    <a href="https://orcid.org/0000-0003-3126-1003"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Vera Arntzen &lt;v.h.arntzen@math.leidenuniv.nl&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-16 08:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Calculate_weights'>Calculate inverse probability of selection weights.</h2><span id='topic+Calculate_weights'></span>

<h3>Description</h3>

<p>This function calculates weights to correct for ascertainment bias in
time-to-event data where clusters are outcome-dependently sampled,
for example high-risk families in genetic epidemiological studies in
cancer research.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Calculate_weights(dat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Calculate_weights_+3A_dat">dat</code></td>
<td>
<p>Data.frame with one row per individual with columns <em>d</em>
non-censoring indicator; <strong>k</strong> interval of (age) group; <strong>S_k</strong>
population interval-based proportion of individuals experiencing the
event in intervals later than k; <strong>S_k.</strong> sample
proportion of individuals experiencing the event in intervals later
than k.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Weights are based on a comparison between the survival between sample and
population. Therefore, besides the sample data, the population incidence rate
(per 100 000) is needed as input, as well as the cut-offs of the
(age/time-to-event) groups for which this is available. The function provides
two options for the latter: cut-offs can be provided manually or using the
standard 5- or 10-years (age) categories (0-4, 5-9, ... or 0-9, 10-14, ...).
Note that resulting intervals are of the form [xx, xx).
</p>


<h3>Value</h3>

<p>Vector with weights.
</p>

<hr>
<h2 id='fam_dat'>Simulated time-to-event data.</h2><span id='topic+fam_dat'></span>

<h3>Description</h3>

<p>This toy data set is simulated for educational purposes explaining the
package. It concerns of families in which at least two individuals
experienced the event of interest during following up. The covariate of
interest is risk modifier 'x'. This data set is inspired by data that
is often seen in genetic epidemiological studies in cancer research.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(fam_dat)
</code></pre>


<h3>Format</h3>

<p>Data.frame.
</p>


<h3>References</h3>

<p>A new inverse probability of selection weighted Cox model to deal with outcome-dependent sampling in survival analysis
Vera H. Arntzen, Marta Fiocco, Inge M.M. Lakeman, Maartje Nielsen, Mar Rodr√≠guez-Girondo
doi: https://doi.org/10.1101/2023.02.07.527426 (preprint).
</p>

<hr>
<h2 id='Prepare_data'>Prepare data for weight calculation using the population incidence.</h2><span id='topic+Prepare_data'></span>

<h3>Description</h3>

<p>This function prepares the sample data for weight calculation using external information, i.e. the incidence in the population.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Prepare_data(dat, population_incidence, breaks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Prepare_data_+3A_dat">dat</code></td>
<td>
<p>Data.frame with one row per individual which at least includes a column <strong>d</strong> with event indicator (1 for event, 0 for censored), a column <strong>y</strong> with event/censoring time.</p>
</td></tr>
<tr><td><code id="Prepare_data_+3A_population_incidence">population_incidence</code></td>
<td>
<p>A vector (in combination with breaks) or a data.frame (columns 1) 'start age group', 2) 'end age group', 3)'S_pop') with population incidence per 100,000 per interval k.</p>
</td></tr>
<tr><td><code id="Prepare_data_+3A_breaks">breaks</code></td>
<td>
<p>Cut-points for the (age/time) groups. Only needed when population_incidence is a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Weights are based on a comparison between the survival between sample and
population. Therefore, besides the sample data, the population incidence rate
(per 100 000) is needed as input, as well as the cut-offs of the
(age/time-to-event) groups for which this is available, unless this is provided in a data.frame.
</p>


<h3>Value</h3>

<p>Data.frame ready for weight calculation using function 'Calculate_weights()': one row per individual and a.o. columns <strong>id</strong> unique ID; <strong>d</strong> non-censoring indicator; <strong>k</strong> interval of (age) group; <strong>S_k</strong> population interval-based proportion of individuals experiencing the event in intervals later than k; <strong>S_k.</strong> sample proportion of individuals experiencing the event in intervals later than k.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ufs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ufs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%IN%'><p>Case insensitive version of %in%</p></a></li>
<li><a href='#A_VarghaDelaney'><p>Vargha &amp; Delaney's A</p></a></li>
<li><a href='#aipedjmv'><p>Sample size for accuracy: d</p></a></li>
<li><a href='#aiperjmv'><p>Sample size for accuracy: r</p></a></li>
<li><a href='#areColors'><p>Check whether elements of a vector are valid colors</p></a></li>
<li><a href='#arr'><p>Absolute Relative Risk and confidence interval</p></a></li>
<li><a href='#associationMatrix'><p>associationMatrix</p></a></li>
<li><a href='#associationsDiamondPlot'><p>A diamondplot with confidence intervals for associations</p></a></li>
<li><a href='#attenuate.d'><p>Attenuate a Cohen's d estimate for unreliability in the continuous variable</p></a></li>
<li><a href='#attenuate.r'><p>Attenuate a Pearson's r estimate for unreliability in the measurements</p></a></li>
<li><a href='#BAC_plot'><p>Bland-Altman Change plot</p></a></li>
<li><a href='#bfi-data'><p>25 Personality items representing 5 factors</p></a></li>
<li><a href='#biAxisDiamondPlot'><p>Diamondplot with two Y axes</p></a></li>
<li><a href='#biDimColors'><p>Create colours for a response scale for an item</p></a></li>
<li><a href='#carelessObject'><p>Compute diagnostics for careless responding</p></a></li>
<li><a href='#carelessReport'><p>A report to help diagnosing careless responders</p></a></li>
<li><a href='#cat0'><p>Concatenate to screen without spaces</p></a></li>
<li><a href='#checkDataIntegrity'><p>Conveniently checking data integrity</p></a></li>
<li><a href='#checkPkgs'><p>Check for presence of a package</p></a></li>
<li><a href='#CIM'><p>Conceptual Independence Matrix</p></a></li>
<li><a href='#cohensdCI'><p>The distribution of Cohen's <em>d</em></p></a></li>
<li><a href='#computeStatistic_t'><p>associationMatrix Helper Functions</p></a></li>
<li><a href='#confintdjmv'><p>Effect Size Confidence Interval: Cohens's d</p></a></li>
<li><a href='#confIntOmegaSq'><p>Confidence intervals for Omega Squared</p></a></li>
<li><a href='#confIntProp'><p>Confidence intervals for proportions, vectorized over all arguments</p></a></li>
<li><a href='#confIntR'><p>A function to compute a correlation's confidence interval</p></a></li>
<li><a href='#confintrjmv'><p>Effect Size Confidence Interval: Pearson's r</p></a></li>
<li><a href='#confIntSD'><p>Confidence interval for standard deviation</p></a></li>
<li><a href='#convert'><p>conversion functions</p></a></li>
<li><a href='#convert.cer.to.d'><p>Helper functions for Numbers Needed for Change</p></a></li>
<li><a href='#convert.d.to.U3'><p>Convert Cohen's d to U3</p></a></li>
<li><a href='#convertToNumeric'><p>Conveniently convert vectors to numeric</p></a></li>
<li><a href='#cramersV'><p>Cramer's V and its confidence interval</p></a></li>
<li><a href='#dataShape'><p>normalityAssessment and samplingDistribution</p></a></li>
<li><a href='#descr'><p>descr (or descriptives)</p></a></li>
<li><a href='#diamondCoordinates'><p>Basic ggplot2 diamond plot layer construction functions</p></a></li>
<li><a href='#diamondPlot'><p>Basic diamond plot construction function</p></a></li>
<li><a href='#disattenuate.d'><p>Disattenuate a Cohen's d estimate for unreliability in the continuous variable</p></a></li>
<li><a href='#disattenuate.r'><p>Disattentuate a Pearson's r estimate for unreliability</p></a></li>
<li><a href='#duoComparisonDiamondPlot'><p>meansComparisonDiamondPlot and duoComparisonDiamondPlot</p></a></li>
<li><a href='#escapeRegex'><p>Escapes any characters that would have special meaning in a reqular</p>
expression.</a></li>
<li><a href='#exceptionalScore'><p>Find exceptional scores</p></a></li>
<li><a href='#exceptionalScores'><p>Find exceptional scores</p></a></li>
<li><a href='#exportToHTML'><p>Exporting tables to HTML</p></a></li>
<li><a href='#extractVarName'><p>Extract variable names</p></a></li>
<li><a href='#fa_failsafe'><p>Do factor-analysis, logging warnings and errors</p></a></li>
<li><a href='#faConfInt'><p>Extract confidence bounds from psych's factor analysis object</p></a></li>
<li><a href='#factorLoadingDiamondCIplot'><p>Two-dimensional visualisation of factor analyses</p></a></li>
<li><a href='#factorLoadingHeatmap'><p>Two-dimensional visualisation of factor analyses</p></a></li>
<li><a href='#findShortestInterval'><p>Find the shortest interval</p></a></li>
<li><a href='#formatCI'><p>Pretty formatting of confidence intervals</p></a></li>
<li><a href='#formatPvalue'><p>Pretty formatting of <em>p</em> values</p></a></li>
<li><a href='#formatR'><p>Pretty formatting of correlation coefficients</p></a></li>
<li><a href='#getData'><p>Use a dialog to load data from an SPSS file</p></a></li>
<li><a href='#ggBarChart'><p>Bar chart using ggplot</p></a></li>
<li><a href='#ggBoxplot'><p>Box plot using ggplot</p></a></li>
<li><a href='#ggEasyBar'><p>Convenience functions for ggplots based on multiple variables</p></a></li>
<li><a href='#ggPie'><p>A ggplot pie chart</p></a></li>
<li><a href='#ggProportionPlot'><p>Sample distribution based plotting of proportions</p></a></li>
<li><a href='#ggqq'><p>Easy ggplot Q-Q plot</p></a></li>
<li><a href='#ggSave'><p>Save a ggplot with specific defaults</p></a></li>
<li><a href='#heading'><p>Print a heading</p></a></li>
<li><a href='#ifelseObj'><p>Conditional returning of an object</p></a></li>
<li><a href='#insertFigureCaption'><p>Insert numbered caption</p></a></li>
<li><a href='#invertItem'><p>invertItems</p></a></li>
<li><a href='#iqrOutlier'><p>Identify outliers according to the IQR criterion</p></a></li>
<li><a href='#irpplot'><p>Visualising individual response patterns</p></a></li>
<li><a href='#is.nr'><p><code>NULL</code> and <code>NA</code> 'proof' checking of whether something is a number</p></a></li>
<li><a href='#is.odd'><p>Checking whether numbers are odd or even</p></a></li>
<li><a href='#isTrue'><p>More flexible version of isTRUE</p></a></li>
<li><a href='#kblXtra'><p>Wrapper for kableExtra for consistent <code>ufs</code> table styling</p></a></li>
<li><a href='#knitAndSave'><p>knitAndSave</p></a></li>
<li><a href='#knitFig'><p>Easily knit a custom figure fragment</p></a></li>
<li><a href='#makeScales'><p>Title</p></a></li>
<li><a href='#massConvertToNumeric'><p>Converting many dataframe columns to numeric</p></a></li>
<li><a href='#meanConfInt'><p>A confidence interval for the mean</p></a></li>
<li><a href='#meansDiamondPlot'><p>Diamond plots</p></a></li>
<li><a href='#meansDiamondPlotjmv'><p>Diamond plot: means</p></a></li>
<li><a href='#meanSDtoDiamondPlot'><p>A diamond plot based on means, standard deviations, and sample sizes</p></a></li>
<li><a href='#multiResponse'><p>Generate a table for multiple response questions</p></a></li>
<li><a href='#multiResponsejmv'><p>Multi Response</p></a></li>
<li><a href='#multiVarFreq'><p>Generate a table collapsing frequencies of multiple variables</p></a></li>
<li><a href='#normalHist'><p>normalHist</p></a></li>
<li><a href='#noZero'><p>Remove one or more zeroes before the decimal point</p></a></li>
<li><a href='#opts'><p>Options for the ufs package</p></a></li>
<li><a href='#parallelSubscales'><p>Split a dataset into two parallel halves</p></a></li>
<li><a href='#pomegaSq'><p>The distribution of Omega Squared</p></a></li>
<li><a href='#pwr.bootES'><p>Estimate required sample size for accuracy in parameter estimation using bootES</p></a></li>
<li><a href='#pwr.confIntProp'><p>Estimate required sample size for accuracy in parameter estimation of a proportion</p></a></li>
<li><a href='#pwr.confIntR'><p>Determine required sample size for a given confidence interval width for</p>
Pearson's r</a></li>
<li><a href='#pwr.omegasq'><p>Power calculations for Omega Squared.</p></a></li>
<li><a href='#quietRemotesInstall'><p>Quietly update a package from a remote repository</p></a></li>
<li><a href='#qVec'><p>Convenience function to quickly copy-paste a vector</p></a></li>
<li><a href='#rbind_df_list'><p>Bind lots of dataframes together rowwise</p></a></li>
<li><a href='#rbind_dfs'><p>Simple alternative for rbind.fill or bind_rows</p></a></li>
<li><a href='#regrInfluential'><p>Detecting influential cases in regression analyses</p></a></li>
<li><a href='#repeatStr'><p>Repeat a string a number of times</p></a></li>
<li><a href='#report'><p>Output report from results</p></a></li>
<li><a href='#safeRequire'><p>Load a package, install if not available</p></a></li>
<li><a href='#scaleDiagnosis'><p>scaleDiagnosis</p></a></li>
<li><a href='#scaleStructure'><p>scaleStructure</p></a></li>
<li><a href='#scatterMatrix'><p>scatterMatrix</p></a></li>
<li><a href='#setCaptionNumberingKnitrHook'><p>Set a knitr hook for caption numbering</p></a></li>
<li><a href='#sharedSubString'><p>sharedSubString</p></a></li>
<li><a href='#simDataSet'><p>Simulate a dataset</p></a></li>
<li><a href='#spearmanBrown'><p>Spearman-Brown formula</p></a></li>
<li><a href='#strToFilename'><p>Convert a string to a safe filename</p></a></li>
<li><a href='#suspectParticipants'><p>Selects suspect participants from a <code>carelessObject</code></p></a></li>
<li><a href='#testRetestAlpha'><p>Test-Retest Alpha Coefficient</p></a></li>
<li><a href='#testRetestCES'><p>Test-Retest Coefficient of Equivalence &amp; Stability</p></a></li>
<li><a href='#testRetestReliability'><p>testRetestReliability</p></a></li>
<li><a href='#testRetestSimData'><p>testRetestSimData is a simulated dataframe used to demonstrate the</p>
testRetestAlpha coefficient function.</a></li>
<li><a href='#vecTxt'><p>Easily parse a vector into a character value</p></a></li>
<li><a href='#viridisPalette'><p>Convenience function to get 2-7 color viridis palettes</p></a></li>
<li><a href='#wrapVector'><p>Wrap all elements in a vector</p></a></li>
<li><a href='#zotero_construct_export_call'><p>Construct the URL for a Zotero export call</p></a></li>
<li><a href='#zotero_download_and_export_items'><p>Download and save all items in a public Zotero group</p></a></li>
<li><a href='#zotero_get_all_items'><p>Get all items in a public Zotero group</p></a></li>
<li><a href='#zotero_nr_of_items'><p>Get number of items in a public Zotero group</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Collection of Utilities</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.12</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gjalt-Jorn Peters &lt;ufs@opens.science&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Description:</td>
<td>This is a new version of the 'userfriendlyscience' package,
    which has grown a bit unwieldy. Therefore, distinct functionalities
    are being 'consciously uncoupled' into different packages. This package
    contains the general-purpose tools and utilities (see the
    'behaviorchange' package, the 'rosetta' package, and the
    soon-to-be-released 'scd' package for other functionality), and
    is the most direct 'successor' of the original 'userfriendlyscience' package.
    For example, this package contains a number of basic functions to create
    higher level plots, such as diamond plots, to easily plot sampling
    distributions, to generate confidence intervals, to plan study sample sizes
    for confidence intervals, and to do some basic operations such as
    (dis)attenuate effect size estimates.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ufs.opens.science">https://ufs.opens.science</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://gitlab.com/r-packages/ufs/-/issues">https://gitlab.com/r-packages/ufs/-/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bootES (&ge; 1.2), car (&ge; 3.0), careless (&ge; 1.1), GGally (&ge;
1.4.0), jmvcore (&ge; 1.2), lavaan (&ge; 0.6), MASS (&ge; 7.3), MBESS
(&ge; 4.5.1), psych (&ge; 1.8), rio (&ge; 0.5), remotes (&ge; 0.2),
rmarkdown (&ge; 2.5), rstudioapi (&ge; 0.11), viridis (&ge; 0.5.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>digest (&ge; 0.6.19), diptest (&ge; 0.75.7), dplyr (&ge; 0.7.6),
GPArotation, ggplot2 (&ge; 2.2.1), ggrepel (&ge; 0.8), ggridges (&ge;
0.5.0), grDevices (&ge; 3.0.0), gridExtra (&ge; 2.3), gtable (&ge;
0.2.0), htmltools (&ge; 0.4.0), kableExtra (&ge; 1.1.0), knitr (&ge;
1.22), pander (&ge; 0.6.3), plyr (&ge; 1.8.4), pwr, rmdpartials (&ge;
0.5.8), scales (&ge; 1.0.0), SuppDists (&ge; 1.1.9)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-09 21:31:11 UTC; gjalt</td>
</tr>
<tr>
<td>Author:</td>
<td>Gjalt-Jorn Peters <a href="https://orcid.org/0000-0002-0336-9589"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Stefan Gruijters <a href="https://orcid.org/0000-0003-0141-0071"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-09 22:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25IN+25'>Case insensitive version of %in%</h2><span id='topic++25IN+25'></span>

<h3>Description</h3>

<p>This is simply 'in', but applies <code><a href="base.html#topic+chartr">base::toupper()</a></code> to both
arguments, first.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find %IN% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25IN+2B25_+3A_find">find</code></td>
<td>
<p>The element(s) to look up in the vector or matrix.</p>
</td></tr>
<tr><td><code id="+2B25IN+2B25_+3A_table">table</code></td>
<td>
<p>The vector or matrix in which to look up the element(s).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>letters[1:4] %IN% LETTERS

</code></pre>

<hr>
<h2 id='A_VarghaDelaney'>Vargha &amp; Delaney's A</h2><span id='topic+A_VarghaDelaney'></span>

<h3>Description</h3>

<p>Vargha &amp; Delaney's A
</p>


<h3>Usage</h3>

<pre><code class='language-R'>A_VarghaDelaney(
  control,
  experimental,
  bootstrap = NULL,
  conf.level = 0.95,
  warn = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="A_VarghaDelaney_+3A_control">control</code></td>
<td>
<p>A vector with the data for the control condition.</p>
</td></tr>
<tr><td><code id="A_VarghaDelaney_+3A_experimental">experimental</code></td>
<td>
<p>A vector with the data from the experimental condition.</p>
</td></tr>
<tr><td><code id="A_VarghaDelaney_+3A_bootstrap">bootstrap</code></td>
<td>
<p>The number of bootstrap samples to use to compute
confidence intervals, or NULL to not compute confidence intervals.</p>
</td></tr>
<tr><td><code id="A_VarghaDelaney_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level of the confidence intervals.</p>
</td></tr>
<tr><td><code id="A_VarghaDelaney_+3A_warn">warn</code></td>
<td>
<p>Whether to allow the <code><a href="stats.html#topic+wilcox.test">stats::wilcox.test()</a></code> function to emit
warnings, for example if ties are encountered.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of length 1 with the A value, named 'A'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ufs::A_VarghaDelaney(1:8, 3:12);
</code></pre>

<hr>
<h2 id='aipedjmv'>Sample size for accuracy: d</h2><span id='topic+aipedjmv'></span>

<h3>Description</h3>

<p>Sample size for accuracy: d
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aipedjmv(d = 0.5, w = 0.1, conf.level = 95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aipedjmv_+3A_d">d</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="aipedjmv_+3A_w">w</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="aipedjmv_+3A_conf.level">conf.level</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A results object containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>results$text</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a html </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>results$aipePlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an image </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<hr>
<h2 id='aiperjmv'>Sample size for accuracy: r</h2><span id='topic+aiperjmv'></span>

<h3>Description</h3>

<p>Sample size for accuracy: r
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aiperjmv(r = 0.3, w = 0.1, conf.level = 95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aiperjmv_+3A_r">r</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="aiperjmv_+3A_w">w</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="aiperjmv_+3A_conf.level">conf.level</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A results object containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>results$text</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a html </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>results$aipePlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an image </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<hr>
<h2 id='areColors'>Check whether elements of a vector are valid colors</h2><span id='topic+areColors'></span>

<h3>Description</h3>

<p>This function by Josh O'Brien checks whether elements of a vector are valid
colors. It has been copied from a Stack Exchange answer (see
<a href="https://stackoverflow.com/questions/13289009/check-if-character-string-is-a-valid-color-representation">https://stackoverflow.com/questions/13289009/check-if-character-string-is-a-valid-color-representation</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>areColors(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="areColors_+3A_x">x</code></td>
<td>
<p>The vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Author(s)</h3>

<p>Josh O'Brien
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ufs::areColors(c(NA, "black", "blackk", "1", "#00", "#000000"));

</code></pre>

<hr>
<h2 id='arr'>Absolute Relative Risk and confidence interval</h2><span id='topic+arr'></span><span id='topic+print.ufsARR'></span>

<h3>Description</h3>

<p>This is a function to conveniently and quickly compute
the absolute relative risk (ARR) and its confidence interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arr(
  expPos,
  expN,
  conPos,
  conN,
  conf.level = 0.95,
  digits = 2,
  printAsPercentage = TRUE
)

## S3 method for class 'ufsARR'
print(x, digits = x$digits, printAsPercentage = x$printAsPercentage, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arr_+3A_exppos">expPos</code></td>
<td>
<p>Number of positive events in the experimental condition.</p>
</td></tr>
<tr><td><code id="arr_+3A_expn">expN</code></td>
<td>
<p>Total number of cases in the experimental condition.</p>
</td></tr>
<tr><td><code id="arr_+3A_conpos">conPos</code></td>
<td>
<p>Number of positive events in the control condition.</p>
</td></tr>
<tr><td><code id="arr_+3A_conn">conN</code></td>
<td>
<p>Total number of cases in the control condition.</p>
</td></tr>
<tr><td><code id="arr_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level for the confidence interval.</p>
</td></tr>
<tr><td><code id="arr_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to when printing the results.</p>
</td></tr>
<tr><td><code id="arr_+3A_printaspercentage">printAsPercentage</code></td>
<td>
<p>Whether to multiply with 100 when printing the results.</p>
</td></tr>
<tr><td><code id="arr_+3A_x">x</code></td>
<td>
<p>The result of the call to <code>arr</code>.</p>
</td></tr>
<tr><td><code id="arr_+3A_...">...</code></td>
<td>
<p>Any additional arguments are neglected.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with in <code>estimate</code>, the ARR, and in <code>conf.int</code>, the
confidence interval.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ufs::arr(10, 60, 20, 60);
</code></pre>

<hr>
<h2 id='associationMatrix'>associationMatrix</h2><span id='topic+associationMatrix'></span><span id='topic+print.associationMatrix'></span><span id='topic+pander.associationMatrix'></span>

<h3>Description</h3>

<p>associationMatrix produces a matrix with confidence intervals for effect
sizes, point estimates for those effect sizes, and the p-values for the test
of the hypothesis that the effect size is zero, corrected for multiple
testing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>associationMatrix(
  dat = NULL,
  x = NULL,
  y = NULL,
  conf.level = 0.95,
  correction = "fdr",
  bootstrapV = FALSE,
  info = c("full", "ci", "es"),
  includeSampleSize = "depends",
  bootstrapV.samples = 5000,
  digits = 2,
  pValueDigits = digits + 1,
  colNames = FALSE,
  type = c("R", "html", "latex"),
  file = "",
  statistic = associationMatrixStatDefaults,
  effectSize = associationMatrixESDefaults,
  var.equal = TRUE
)

## S3 method for class 'associationMatrix'
print(x, type = x$input$type, info = x$input$info, file = x$input$file, ...)

## S3 method for class 'associationMatrix'
pander(x, info = x$input$info, file = x$input$file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="associationMatrix_+3A_dat">dat</code></td>
<td>
<p>A dataframe with the variables of interest. All variables in this
dataframe will be used if both x and y are NULL. If dat is NULL, the user
will be presented with a dialog to select a datafile.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_x">x</code></td>
<td>
<p>If not NULL, this should be a character vector with the names of
the variables to include in the rows of the association table. If x is NULL,
all variables in the dataframe will be used.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_y">y</code></td>
<td>
<p>If not NULL, this should be a character vector with the names of
the variables to include in the columns of the association table. If y is
NULL, the variables in x will be used for the columns as well (which
produces a symmetric matrix, similar to most correlation matrices).</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_conf.level">conf.level</code></td>
<td>
<p>Level of confidence of the confidence intervals.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_correction">correction</code></td>
<td>
<p>Correction for multiple testing: an element out of the
vector c(&quot;holm&quot;, &quot;hochberg&quot;, &quot;hommel&quot;, &quot;bonferroni&quot;, &quot;BH&quot;, &quot;BY&quot;, &quot;fdr&quot;,
&quot;none&quot;).  NOTE: the p-values are corrected for multiple testing; The
confidence intervals are not!</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_bootstrapv">bootstrapV</code></td>
<td>
<p>Whether to use bootstrapping to compue the confidence
interval for Cramer's V or whether to use the Fisher's Z conversion.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_info">info</code></td>
<td>
<p>Information to print: either both the confidence interval and
the point estimate for the effect size (and the p-value, corrected for
multiple testing), or only the confidence intervals, or only the point
estimate (and the corrected p-value). Must be on element of the vector
c(&quot;full&quot;, &quot;ci&quot;, &quot;es&quot;).</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_includesamplesize">includeSampleSize</code></td>
<td>
<p>Whether to include the sample size when the effect
size point estimate and p-value are shown. If this is &quot;depends&quot;, it will
depend on whether all associations have the same sample size (and the sample
size will only be printed when they don't). If &quot;always&quot;, the sample size
will always be added.  If anything else, it will never be printed.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_bootstrapv.samples">bootstrapV.samples</code></td>
<td>
<p>If using boostrapping for Cramer's V, the number
of samples to generate.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round to when printing the results.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_pvaluedigits">pValueDigits</code></td>
<td>
<p>How many digits to use for formatting the p values.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_colnames">colNames</code></td>
<td>
<p>If true, the column heading will use the variables names
instead of numbers.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_type">type</code></td>
<td>
<p>Type of output to generate: must be an element of the vector
c(&quot;R&quot;, &quot;html&quot;, &quot;latex&quot;).</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_file">file</code></td>
<td>
<p>If a file is specified, the output will be written to that file
instead of shown on the screen.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_statistic">statistic</code></td>
<td>
<p>This is the complicated bit; this is where
associationMatrix allows customization of the used statistics to perform
null hypothesis significance testing. For everyday use, leaving this at the
default value, associationMatrixStatDefaults, works fine. In case you want
to customize, read the 'Notes' section below.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_effectsize">effectSize</code></td>
<td>
<p>Like the 'statistics' argument, 'effectSize also allows
customization, in this case of the used effect sizes. Again, the default
value, associationMatrixESDefaults, works for everyday use. Again, see the
'Notes' section below if you want to customize.</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_var.equal">var.equal</code></td>
<td>
<p>Whether to test for equal variances ('test'), assume
equality ('yes'), or assume unequality ('no').</p>
</td></tr>
<tr><td><code id="associationMatrix_+3A_...">...</code></td>
<td>
<p>Addition arguments are passed on to the <code><a href="base.html#topic+print">print()</a></code> amd <code><a href="pander.html#topic+pander">pander::pander()</a></code>
functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with the input and several output variables, one of which is a
dataframe with the association matrix in it. When this object is printed,
the association matrix is printed to the screen. If the 'file' parameter is
specified, a file with this matrix will also be written to disk.
</p>


<h3>Note</h3>

<p>The 'statistic' and 'effectSize' parameter make it possible to use different
functions to conduct null hypothesis significance testing and compute effect
sizes. In both cases, the parameter needs to be a list containing four
lists, named 'dichotomous', 'nominal', 'ordinal', and 'interval'. Each of
these lists has to contain four elements, character vectors of length one
(i.e.  just one string value), again named 'dichotomous', 'nominal',
'ordinal', and 'interval'.
</p>
<p>The combination of each of these names (e.g.  'dichotomous' and 'nominal',
or 'ordinal' and 'interval', etc) determine which test should be done when
computing the p-value to test the association between two variables of those
types, or which effect sizes to compute. When called, associationMatrix
determines the measurement levels of the relevant variables. It then uses
these two levels (their string representation, e.g. 'dichotomous' etc) to
find a string in the 'statistic' and 'effectSize' objects. Two functions
with these names are then called from two lists, 'computeStatistic' and
computeEffectSize. These lists list contain functions that have the same
names as the strings in the 'statistic' list.
</p>
<p>For example, when the default settings are used, the string (function name)
found for two dichotomous variables when searching in
associationMatrixStatDefaults is 'chisq', and the string found in
associationMatrixESDefaults is 'v'.  associationMatrix then calls
<code>computeStatistic[['chisq']]</code> and <code>computeEffectSize[['v']]</code>, providing the two
variables as arguments, as well as passing the 'conf.level' argument. These
two functions then each return an object that associationMatrix extracts the
information from. Inspect the source code of these functions (by typing
their names without parentheses in the R prompt) to learn how this object
should look, if you want to write your own functions.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

### Generate a simple association matrix using all three variables in the
### Orange tree dataframe
associationMatrix(Orange);

### Or four variables from infert:
associationMatrix(infert, c("education", "parity",
                            "induced", "case"), colNames=TRUE);

### Use variable names in the columns and generate html
associationMatrix(Orange, colNames=TRUE, type='html');


</code></pre>

<hr>
<h2 id='associationsDiamondPlot'>A diamondplot with confidence intervals for associations</h2><span id='topic+associationsDiamondPlot'></span><span id='topic+associationsToDiamondPlotDf'></span>

<h3>Description</h3>

<p>This function produces is a diamondplot that plots the confidence intervals
for associations between a number of covariates and a criterion. It
currently only supports the Pearson's r effect size metric; other effect
sizes are converted to Pearson's r.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>associationsDiamondPlot(
  dat,
  covariates,
  criteria,
  labels = NULL,
  criteriaLabels = NULL,
  decreasing = NULL,
  sortBy = NULL,
  conf.level = 0.95,
  criteriaColors = viridisPalette(length(criteria)),
  criterionColor = "black",
  returnLayerOnly = FALSE,
  esMetric = "r",
  multiAlpha = 0.33,
  singleAlpha = 1,
  showLegend = TRUE,
  xlab = "Effect size estimates",
  ylab = "",
  theme = ggplot2::theme_bw(),
  lineSize = 1,
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)

associationsToDiamondPlotDf(
  dat,
  covariates,
  criterion,
  labels = NULL,
  decreasing = NULL,
  conf.level = 0.95,
  esMetric = "r"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="associationsDiamondPlot_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the relevant variables.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_covariates">covariates</code></td>
<td>
<p>The covariates: the list of variables to associate to the
criterion or criteria, usually the predictors.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_criteria">criteria</code>, <code id="associationsDiamondPlot_+3A_criterion">criterion</code></td>
<td>
<p>The criteria, usually the dependent variables; one
criterion (one dependent variable) can also be specified of course. The
helper function <code>associationsToDiamondPlotDf</code> always accepts only one
criterion.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_labels">labels</code></td>
<td>
<p>The labels for the covariates, for example the questions that
were used (as a character vector).</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_criterialabels">criteriaLabels</code></td>
<td>
<p>The labels for the criteria (in the legend).</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_decreasing">decreasing</code></td>
<td>
<p>Whether to sort the covariates by the point estimate of
the effect size of their association with the criterion. Use <code>NULL</code> to
not sort at all, <code>TRUE</code> to sort in descending order, and <code>FALSE</code>
to sort in ascending order.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_sortby">sortBy</code></td>
<td>
<p>When specifying multiple criteria, this can be used to
indicate by which criterion the items should be sorted (if they should be
sorted).</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence of the confidence intervals.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_criteriacolors">criteriaColors</code>, <code id="associationsDiamondPlot_+3A_criterioncolor">criterionColor</code></td>
<td>
<p>The colors to use for the different
associations can be specified in <code>criteriaColors</code>. This should be a
vector of valid colors with at least as many elements as criteria are
specified in <code>criteria</code>. If only one criterion is specified, the color
in <code>criterionColor</code> is used.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_returnlayeronly">returnLayerOnly</code></td>
<td>
<p>Whether to return the entire object that is
generated, or just the resulting ggplot2 layer.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_esmetric">esMetric</code></td>
<td>
<p>The effect size metric to plot - currently, only 'r' is
supported, and other values will return an error.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_multialpha">multiAlpha</code>, <code id="associationsDiamondPlot_+3A_singlealpha">singleAlpha</code></td>
<td>
<p>The transparency (alpha channel) value of the
diamonds for each association can be specified in <code>multiAlpha</code>, and if
only one criterion is specified, the alpha level of the diamonds can be
specified in <code>singleAlpha</code>.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_showlegend">showLegend</code></td>
<td>
<p>Whether to show the legend.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_xlab">xlab</code>, <code id="associationsDiamondPlot_+3A_ylab">ylab</code></td>
<td>
<p>The label to use for the x and y axes (for
<code>duoComparisonDiamondPlot</code>, must be vectors of two elements). Use
<code>NULL</code> to not use a label.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_theme">theme</code></td>
<td>
<p>The <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> theme to use.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_linesize">lineSize</code></td>
<td>
<p>The thickness of the lines (the diamonds' strokes).</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_outputfile">outputFile</code></td>
<td>
<p>A file to which to save the plot.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_outputwidth">outputWidth</code>, <code id="associationsDiamondPlot_+3A_outputheight">outputHeight</code></td>
<td>
<p>Width and height of saved plot (specified in
centimeters by default, see <code>ggsaveParams</code>).</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_ggsaveparams">ggsaveParams</code></td>
<td>
<p>Parameters to pass to ggsave when saving the plot.</p>
</td></tr>
<tr><td><code id="associationsDiamondPlot_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed to
<code><a href="#topic+diamondPlot">diamondPlot()</a></code> and eventually to <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>associationsToDiamondPlotDf is a helper function that produces the required
dataframe.
</p>
<p>This function can be used to quickly plot multiple confidence intervals.
</p>


<h3>Value</h3>

<p>A plot.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+diamondPlot">diamondPlot()</a></code>, <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Simple diamond plot with correlations
### and their confidence intervals

associationsDiamondPlot(mtcars,
                        covariates=c('cyl', 'hp', 'drat', 'wt',
                                     'am', 'gear', 'vs', 'carb', 'qsec'),
                        criteria='mpg');

### Same diamond plot, but now with two criteria,
### and colouring the diamonds based on the
### correlation point estimates: a gradient
### is created where red is used for -1,
### green for 1 and blue for 0.

associationsDiamondPlot(mtcars,
                        covariates=c('cyl', 'hp', 'drat', 'wt',
                                     'am', 'gear', 'vs', 'carb', 'qsec'),
                        criteria=c('mpg', 'disp'),
                        generateColors=c("red", "blue", "green"),
                        fullColorRange=c(-1, 1));

</code></pre>

<hr>
<h2 id='attenuate.d'>Attenuate a Cohen's d estimate for unreliability in the continuous variable</h2><span id='topic+attenuate.d'></span>

<h3>Description</h3>

<p>Measurement error (i.e. the complement of reliability) results in a downward bias
of observed effect sizes. This attenuation can be emulated by this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attenuate.d(d, reliability)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="attenuate.d_+3A_d">d</code></td>
<td>
<p>The value of Cohen's d (that would be obtained with perfect measurements)</p>
</td></tr>
<tr><td><code id="attenuate.d_+3A_reliability">reliability</code></td>
<td>
<p>The reliability of the measurements of the continuous variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The attenuated value of Cohen's d
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters &amp; Stefan Gruijters
</p>


<h3>References</h3>

<p>Bobko, P., Roth, P. L., &amp; Bobko, C. (2001). Correcting
the Effect Size of d for Range Restriction and Unreliability.
<em>Organizational Research Methods, 4</em>(1), 46â€“61.
<a href="https://doi.org/10.1177/109442810141003">doi:10.1177/109442810141003</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>attenuate.d(.5, .8);
</code></pre>

<hr>
<h2 id='attenuate.r'>Attenuate a Pearson's r estimate for unreliability in the measurements</h2><span id='topic+attenuate.r'></span>

<h3>Description</h3>

<p>Attenuate a Pearson's r estimate for unreliability in the measurements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attenuate.r(r, reliability1, reliability2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="attenuate.r_+3A_r">r</code></td>
<td>
<p>The (disattenuated) value of Pearson's r</p>
</td></tr>
<tr><td><code id="attenuate.r_+3A_reliability1">reliability1</code>, <code id="attenuate.r_+3A_reliability2">reliability2</code></td>
<td>
<p>The reliabilities of the two variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The attenuated value of Pearson's r
</p>


<h3>Examples</h3>

<pre><code class='language-R'>attenuate.r(.5, .8, .9);
</code></pre>

<hr>
<h2 id='BAC_plot'>Bland-Altman Change plot</h2><span id='topic+BAC_plot'></span>

<h3>Description</h3>

<p>Bland-Altman Change plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BAC_plot(
  data,
  cols = names(data),
  reliability = NULL,
  pointSize = 2,
  deterioratedColor = "#482576E6",
  unchangedColor = "#25848E80",
  improvedColor = "#7AD151E6",
  zeroLineColor = "black",
  zeroLineType = "dashed",
  ciLineColor = "red",
  ciLineType = "solid",
  conf.level = 0.95,
  theme = ggplot2::theme_minimal(),
  ignoreBias = FALSE,
  iccFromPsych = FALSE,
  iccFromPsychArgs = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BAC_plot_+3A_data">data</code></td>
<td>
<p>The data frame; if it only has two columns, the first of
which is the pre-change column, <code>cols</code> can be left empty.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_cols">cols</code></td>
<td>
<p>The names of the columns with the data; the first is the
column with the pre-change data, the second the column after the change.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_reliability">reliability</code></td>
<td>
<p>The reliability estimate, for example as obtained with
the <code>ICC()</code> function in the <code>psych()</code> package; can be omitted, in which
case the intraclass correlation is computed.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_pointsize">pointSize</code></td>
<td>
<p>The size of the points in the plot.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_deterioratedcolor">deterioratedColor</code>, <code id="BAC_plot_+3A_unchangedcolor">unchangedColor</code>, <code id="BAC_plot_+3A_improvedcolor">improvedColor</code></td>
<td>
<p>The colors to use for
cases who deteriorate, stay the same, and improve, respectively.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_zerolinecolor">zeroLineColor</code>, <code id="BAC_plot_+3A_cilinecolor">ciLineColor</code></td>
<td>
<p>The colors for the line at 0 (no change)
and at the confidence interval bounds (i.e. the point at which a difference
becomes indicative of change given the reliability), respectively.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_zerolinetype">zeroLineType</code>, <code id="BAC_plot_+3A_cilinetype">ciLineType</code></td>
<td>
<p>The line types for the line at 0 (no change)
and at the confidence interval bounds (i.e. the point at which a difference
becomes indicative of change given the reliability), respectively.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level of the confidence interval.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_theme">theme</code></td>
<td>
<p>The ggplot2 theme to use.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_ignorebias">ignoreBias</code></td>
<td>
<p>Whether to ignore bias (i.e. allow the measurements at
the second time to shift upwards or downwards). If <code>FALSE</code>, the variance
associated with such a shift is considered error variance (i.e.
'unreliability').</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_iccfrompsych">iccFromPsych</code></td>
<td>
<p>Whether to compute ICC using the <code><a href="psych.html#topic+ICC">psych::ICC()</a></code> function
or not.</p>
</td></tr>
<tr><td><code id="BAC_plot_+3A_iccfrompsychargs">iccFromPsychArgs</code></td>
<td>
<p>If using the <code><a href="psych.html#topic+ICC">psych::ICC()</a></code> function, the arguments
to pass.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Create smaller dataset for example
dat &lt;-
  ufs::testRetestSimData[
    1:25,
    c('t0_item1', 't1_item1')
  ];

ufs::BAC_plot(dat, reliability = .5);
ufs::BAC_plot(dat, reliability = .8);
ufs::BAC_plot(dat, reliability = .9);
</code></pre>

<hr>
<h2 id='bfi-data'>25 Personality items representing 5 factors</h2><span id='topic+bfi-data'></span><span id='topic+bfi'></span>

<h3>Description</h3>

<p>This is a dataset lifted from the <code>psychTools</code> package (which was
originally in the <code>psych</code> package). For details, please check
that help page (using &quot;<code>psychTools::bfi</code>&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(bfi)
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 2800 rows and 28 columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(bfi);
</code></pre>

<hr>
<h2 id='biAxisDiamondPlot'>Diamondplot with two Y axes</h2><span id='topic+biAxisDiamondPlot'></span>

<h3>Description</h3>

<p>This is basically a <code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>, but extended to allow
specifying subquestions and anchors at the left and right side. This is
convenient for psychological questionnaires when the anchors or dimensions
were different from item to item. This function is used to function the left
panel of the CIBER plot in the <code>behaviorchange</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biAxisDiamondPlot(
  dat,
  items = NULL,
  leftAnchors = NULL,
  rightAnchors = NULL,
  subQuestions = NULL,
  decreasing = NULL,
  conf.level = 0.95,
  showData = TRUE,
  dataAlpha = 0.1,
  dataColor = "#444444",
  diamondColors = NULL,
  jitterWidth = 0.45,
  jitterHeight = 0.45,
  xbreaks = NULL,
  xLabels = NA,
  xAxisLab = paste0("Scores and ", round(100 * conf.level, 2), "% CIs"),
  drawPlot = TRUE,
  returnPlotOnly = TRUE,
  baseSize = 1,
  dotSize = baseSize,
  baseFontSize = 10 * baseSize,
  theme = ggplot2::theme_bw(base_size = baseFontSize),
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biAxisDiamondPlot_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the variables.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_items">items</code></td>
<td>
<p>The variables to include.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_leftanchors">leftAnchors</code></td>
<td>
<p>The anchors to display on the left side of the left hand
panel. If the items were measured with one variable each, this can be used
to show the anchors that were used for the respective scales. Must have the
same length as <code>items</code>.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_rightanchors">rightAnchors</code></td>
<td>
<p>The anchors to display on the left side of the left hand
panel. If the items were measured with one variable each, this can be used
to show the anchors that were used for the respective scales. Must have the
same length as <code>items</code>.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_subquestions">subQuestions</code></td>
<td>
<p>The subquestions used to measure each item. This can
also be used to provide pretty names for the variables if the items were not
measured by one question each. Must have the same length as <code>items</code>.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_decreasing">decreasing</code></td>
<td>
<p>Whether to sort the items. Specify <code>NULL</code> to not sort
at all, <code>TRUE</code> to sort in descending order, and <code>FALSE</code> to sort in
ascending order.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence levels for the confidence intervals.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_showdata">showData</code></td>
<td>
<p>Whether to show the individual datapoints.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_dataalpha">dataAlpha</code></td>
<td>
<p>The alpha level (transparency) of the individual
datapoints.  Value between 0 and 1, where 0 signifies complete transparency
(i.e. invisibility) and 1 signifies complete 'opaqueness'.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_datacolor">dataColor</code></td>
<td>
<p>The color to use for the individual datapoints.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_diamondcolors">diamondColors</code></td>
<td>
<p>The colours to use for the diamonds. If NULL, the
<code>generateColors</code> argument can be used which will then be passed to
<code><a href="#topic+diamondPlot">diamondPlot()</a></code>.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_jitterwidth">jitterWidth</code></td>
<td>
<p>How much to jitter the individual datapoints
horizontally.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_jitterheight">jitterHeight</code></td>
<td>
<p>How much to jitter the individual datapoints vertically.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_xbreaks">xbreaks</code></td>
<td>
<p>Which breaks to use on the X axis (can be useful to override
<code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>'s defaults).</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_xlabels">xLabels</code></td>
<td>
<p>Which labels to use for those breaks (can be useful to
override <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>'s defaults; especially useful in combination
with <code>xBreaks</code> of course).</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_xaxislab">xAxisLab</code></td>
<td>
<p>Axis label for the X axis.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_drawplot">drawPlot</code></td>
<td>
<p>Whether to draw the plot, or only return it.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_returnplotonly">returnPlotOnly</code></td>
<td>
<p>Whether to return the entire object that is generated
(including all intermediate objects) or only the plot.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_basesize">baseSize</code></td>
<td>
<p>This can be used to efficiently change the size of most plot
elements.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_dotsize">dotSize</code></td>
<td>
<p>This is the size of the points used to show the individual
data points in the left hand plot.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_basefontsize">baseFontSize</code></td>
<td>
<p>This can be used to set the font size separately from
the <code>baseSize</code>.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_theme">theme</code></td>
<td>
<p>This is the theme that is used for the plots.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_outputfile">outputFile</code></td>
<td>
<p>A file to which to save the plot.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_outputwidth">outputWidth</code>, <code id="biAxisDiamondPlot_+3A_outputheight">outputHeight</code></td>
<td>
<p>Width and height of saved plot (specified in
centimeters by default, see <code>ggsaveParams</code>).</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_ggsaveparams">ggsaveParams</code></td>
<td>
<p>Parameters to pass to ggsave when saving the plot.</p>
</td></tr>
<tr><td><code id="biAxisDiamondPlot_+3A_...">...</code></td>
<td>
<p>These arguments are passed on to diamondPlot].</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a diamondplot that can be used for items/questions where the anchors
of the response scales could be different for every item. For the rest, it
is very similar to <code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>.
</p>


<h3>Value</h3>

<p>Either just a plot (a <code><a href="gtable.html#topic+gtable">gtable::gtable()</a></code> object) or an object with
all produced objects and that plot.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p>CIBER() in the behaviorchange package, <code><a href="#topic+associationsDiamondPlot">associationsDiamondPlot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
biAxisDiamondPlot(dat=mtcars,
                  items=c('cyl', 'wt'),
                  subQuestions=c('cylinders', 'weight'),
                  leftAnchors=c('few', 'light'),
                  rightAnchors=c('many', 'heavy'),
                  xbreaks=0:8);

</code></pre>

<hr>
<h2 id='biDimColors'>Create colours for a response scale for an item</h2><span id='topic+biDimColors'></span><span id='topic+uniDimColors'></span>

<h3>Description</h3>

<p>Create colours for a response scale for an item
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biDimColors(start, mid, end, length, show = TRUE)

uniDimColors(start, end, length, show = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biDimColors_+3A_start">start</code></td>
<td>
<p>Color to start with</p>
</td></tr>
<tr><td><code id="biDimColors_+3A_mid">mid</code></td>
<td>
<p>Color in the middle, for bidimensional scales</p>
</td></tr>
<tr><td><code id="biDimColors_+3A_end">end</code></td>
<td>
<p>Color to end with</p>
</td></tr>
<tr><td><code id="biDimColors_+3A_length">length</code></td>
<td>
<p>The number of response options</p>
</td></tr>
<tr><td><code id="biDimColors_+3A_show">show</code></td>
<td>
<p>Whether to show the colours</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The colours as hex codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>uniDimColors("#000000", "#00BB00", length=5, show=FALSE);
</code></pre>

<hr>
<h2 id='carelessObject'>Compute diagnostics for careless responding</h2><span id='topic+carelessObject'></span>

<h3>Description</h3>

<p>This function is a wrapper for the functions from
the <code>careless</code> package. Normally, you'd probably
call <code>carelessReport</code> which calls this function
to generate a report of suspect participants.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>carelessObject(
  data,
  items = names(data),
  flagUnivar = 0.99,
  flagMultivar = 0.95,
  irvSplit = 4,
  responseTime = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="carelessObject_+3A_data">data</code></td>
<td>
<p>The dataframe.</p>
</td></tr>
<tr><td><code id="carelessObject_+3A_items">items</code></td>
<td>
<p>The items to look at.</p>
</td></tr>
<tr><td><code id="carelessObject_+3A_flagunivar">flagUnivar</code></td>
<td>
<p>How extreme a score has to be for it
to be flagged as suspicous univariately.</p>
</td></tr>
<tr><td><code id="carelessObject_+3A_flagmultivar">flagMultivar</code></td>
<td>
<p>This has not been implemented yet.</p>
</td></tr>
<tr><td><code id="carelessObject_+3A_irvsplit">irvSplit</code></td>
<td>
<p>Whether to split for the IRV, and if so,
in how many parts.</p>
</td></tr>
<tr><td><code id="carelessObject_+3A_responsetime">responseTime</code></td>
<td>
<p>If not <code>NULL</code>, the name of a column
containing the participants' response times.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>carelessObject</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>carelessObject(mtcars);
</code></pre>

<hr>
<h2 id='carelessReport'>A report to help diagnosing careless responders</h2><span id='topic+carelessReport'></span>

<h3>Description</h3>

<p>This function wraps functions from the <code>careless</code> package
to help inspect and diagnose careless participants. It is
optimized for using in R Markdown files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>carelessReport(
  data,
  items = names(data),
  nFlags = 1,
  flagUnivar = 0.99,
  flagMultivar = 0.95,
  irvSplit = 4,
  headingLevel = 3,
  datasetName = NULL,
  responseTime = NULL,
  headingSuffix = " {.tabset}",
  digits = 2,
  missingSymbol = "Missing"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="carelessReport_+3A_data">data</code></td>
<td>
<p>The dataframe.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_items">items</code></td>
<td>
<p>The items to look at.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_nflags">nFlags</code></td>
<td>
<p>How many indicators need to be flagged for
a participant to be considered suspect.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_flagunivar">flagUnivar</code></td>
<td>
<p>How extreme a score has to be for it
to be flagged as suspicous univariately.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_flagmultivar">flagMultivar</code></td>
<td>
<p>This has not been implemented yet.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_irvsplit">irvSplit</code></td>
<td>
<p>Whether to split for the IRV, and if so,
in how many parts.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the heading in Markdown (the
number of <code style="white-space: pre;">&#8288;#&#8288;</code>s to include before the heading).</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_datasetname">datasetName</code></td>
<td>
<p>The name of the dataset to display (to override,
if desired).</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_responsetime">responseTime</code></td>
<td>
<p>If not <code>NULL</code>, the name of a column
containing the participants' response times.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_headingsuffix">headingSuffix</code></td>
<td>
<p>The suffix to include; by default, set
such that the individual participants IRP plots are placed
in separate tabs.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to.</p>
</td></tr>
<tr><td><code id="carelessReport_+3A_missingsymbol">missingSymbol</code></td>
<td>
<p>How to represent missing values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL, invisibly; and prints the report.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Get the BFI data taken from the `psych` package
dat &lt;- ufs::bfi;

### Get the variable names for the regular items
bfiVars &lt;-
  setdiff(names(dat),
          c("gender", "education", "age"));

### Inspect suspect participants, very conservatively to
### limit the output (these are 2800 participants).
carelessReport(data = dat,
               items = bfiVars,
               nFlags = 5);
</code></pre>

<hr>
<h2 id='cat0'>Concatenate to screen without spaces</h2><span id='topic+cat0'></span>

<h3>Description</h3>

<p>The cat0 function is to cat what paste0 is to paste; it
simply makes concatenating many strings without a separator easier.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat0(..., sep = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat0_+3A_...">...</code></td>
<td>
<p>The character vector(s) to print; passed to <a href="base.html#topic+cat">cat</a>.</p>
</td></tr>
<tr><td><code id="cat0_+3A_sep">sep</code></td>
<td>
<p>The separator to pass to <a href="base.html#topic+cat">cat</a>, of course, <code>""</code> by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing (invisible <code>NULL</code>, like <a href="base.html#topic+cat">cat</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat0("The first variable is '", names(mtcars)[1], "'.");
</code></pre>

<hr>
<h2 id='checkDataIntegrity'>Conveniently checking data integrity</h2><span id='topic+checkDataIntegrity'></span>

<h3>Description</h3>

<p>This function is designed to make it easy to perform some data integrity
checks, specifically checking for values that are impossible or unrealistic.
These values can then be replaced by another value, or the offending cases
can be deleted from the dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkDataIntegrity(
  x,
  dat,
  newValue = NA,
  removeCases = FALSE,
  validValueSuffix = "_validValue",
  newValueSuffix = "_newValue",
  totalVarName = "numberOfInvalidValues",
  append = TRUE,
  replace = TRUE,
  silent = FALSE,
  rmarkdownOutput = FALSE,
  callingSelf = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkDataIntegrity_+3A_x">x</code></td>
<td>
<p>This can be either a vector or a list. If it is a vector, it should
have two elements, the first one being a regular expression matching one or
more variables in the dataframe specified in <code>dat</code>, and second one
being the condition the matching variables have to satisfy. If it is a list,
it should be a list of such vectors. The conditions should start with a
<code><a href="base.html#topic+Comparison">Comparison</a></code> operator followed by a value (e.g. &quot;&lt;30&quot; or &quot;&gt;=0).</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the variables of which we should check
the integrity.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_newvalue">newValue</code></td>
<td>
<p>The new value to be assigned to cases not satisfying the
specified conditions.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_removecases">removeCases</code></td>
<td>
<p>Whether to delete cases that do not satisfy the criterion
from the dataframe (if <code>FALSE</code>, they're not deleted, but the offending
value is replaced by <code>newValue</code>).</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_validvaluesuffix">validValueSuffix</code></td>
<td>
<p>Suffix to append to variable names when creating
variable names for new variables that contain TRUE and FALSE to specify for
each original variable whether its value satisfied the specified criterion.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_newvaluesuffix">newValueSuffix</code></td>
<td>
<p>If <code>replace</code> is <code>FALSE</code>, original values are
not replaced, but instead new variables are created where the offending
values have been replaced. This suffix is appended to each original variable
name to create the new variable name.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_totalvarname">totalVarName</code></td>
<td>
<p>This is the name of a variable that contains, for each
case, the total number of invalid values among all variables checked.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_append">append</code></td>
<td>
<p>Whether to append the columns to the dataframe, or only return
the new columns.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_replace">replace</code></td>
<td>
<p>Whether to replace the offending values with the value
specified in <code>newValue</code> or whether to create new columns (see
<code>newValueSuffix</code>).</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_silent">silent</code></td>
<td>
<p>Whether to display the log, or only set it as attribute of the
returned dataframe.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_rmarkdownoutput">rmarkdownOutput</code></td>
<td>
<p>Whether to format the log so that it's ready to be
included in RMarkdown reports.</p>
</td></tr>
<tr><td><code id="checkDataIntegrity_+3A_callingself">callingSelf</code></td>
<td>
<p>For internal use; whether the function calls itself.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The dataframe with the corrections, and the log stored in attribute
<code>checkDataIntegrity_log</code>.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Default behavior: return dataframe with
### offending values replaced by NA

checkDataIntegrity(c('mpg', '&lt;30'),
                   mtcars);

### Check two conditions, and instead of returning the
### dataframe with the results appended, only return the
### columns indicating which cases 'pass', what the new
### values would be, and how many invalid values were
### found for each case (to easily remove cases that
### provided many invalid values)

checkDataIntegrity(list(c('mpg', '&lt;30'),
                        c('gear', '&lt;5')),
                   mtcars,
                   append=FALSE);

</code></pre>

<hr>
<h2 id='checkPkgs'>Check for presence of a package</h2><span id='topic+checkPkgs'></span>

<h3>Description</h3>

<p>This function efficiently checks for the presence of a package
without loading it (unlike <code><a href="base.html#topic+library">library()</a></code> or <code><a href="base.html#topic+require">require()</a></code>.
This is useful to force yourself to use the package::function
syntax for addressing functions; you can make sure required packages
are installed, but their namespace won't attach to the search path.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkPkgs(
  ...,
  install = FALSE,
  load = FALSE,
  repos = "https://cran.rstudio.com"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkPkgs_+3A_...">...</code></td>
<td>
<p>A series of packages. If the packages are named, the
names are the package names, and the values are the minimum required
package versions (see the second example).</p>
</td></tr>
<tr><td><code id="checkPkgs_+3A_install">install</code></td>
<td>
<p>Whether to install missing packages from <code>repos</code>.</p>
</td></tr>
<tr><td><code id="checkPkgs_+3A_load">load</code></td>
<td>
<p>Whether to load packages (which is exactly <em>not</em> the point
of this package, but hey, YMMV).</p>
</td></tr>
<tr><td><code id="checkPkgs_+3A_repos">repos</code></td>
<td>
<p>The repository to use if installing packages; default
is the RStudio repository.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly, a vector of the available packages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ufs::checkPkgs('base');

### Require a specific version
ufs::checkPkgs(ufs = "0.3.1");

### This will show the error message
tryCatch(
  ufs::checkPkgs(
    base = "99",
    stats = "42.5",
    ufs = 20
  ),
  error = print
);

</code></pre>

<hr>
<h2 id='CIM'>Conceptual Independence Matrix</h2><span id='topic+CIM'></span><span id='topic+CIM_partial'></span><span id='topic+knit_print.CIM'></span>

<h3>Description</h3>

<p>Conceptual Independence Matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CIM(
  data,
  scales,
  conf.level = 0.95,
  colors = c("#440154FF", "#7AD151FF"),
  outputFile = NULL,
  outputWidth = 100,
  outputHeight = 100,
  outputUnits = "cm",
  faMethod = "minres",
  n.iter = 100,
  n.repeatOnWarning = 50,
  warningTolerance = 2,
  silentRepeatOnWarning = FALSE,
  showWarnings = FALSE,
  skipRegex = NULL,
  headingLevel = 2,
  printAbbreviations = TRUE,
  drawPlot = TRUE,
  returnPlotOnly = TRUE
)

CIM_partial(
  x,
  headingLevel = x$input$headingLevel,
  quiet = TRUE,
  echoPartial = FALSE,
  partialFile = NULL,
  ...
)

## S3 method for class 'CIM'
knit_print(
  x,
  headingLevel = x$input$headingLevel,
  quiet = TRUE,
  echoPartial = FALSE,
  partialFile = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CIM_+3A_data">data</code></td>
<td>
<p>The dataframe containing the variables.</p>
</td></tr>
<tr><td><code id="CIM_+3A_scales">scales</code></td>
<td>
<p>The scales: a named list of character vectors,
where the character vectors specify the variable names, and the
names of each character vector specifies the relevant scale.</p>
</td></tr>
<tr><td><code id="CIM_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level for the confidence intervals.</p>
</td></tr>
<tr><td><code id="CIM_+3A_colors">colors</code></td>
<td>
<p>The colors used for the factors. The default uses the
discrete viridis() palette, which is optimized for perceptual
uniformity, maintaining its properties when printed in grayscale,
and designed for colourblind readers. A vector can also be supplied;
the colors must be valid arguments to <code><a href="grDevices.html#topic+colorRamp">colorRamp()</a></code> (and therefore,
to <code><a href="grDevices.html#topic+col2rgb">col2rgb()</a></code>).</p>
</td></tr>
<tr><td><code id="CIM_+3A_outputfile">outputFile</code></td>
<td>
<p>The file to write the output to.</p>
</td></tr>
<tr><td><code id="CIM_+3A_outputwidth">outputWidth</code>, <code id="CIM_+3A_outputheight">outputHeight</code>, <code id="CIM_+3A_outputunits">outputUnits</code></td>
<td>
<p>The width, height,
and units for the output file.</p>
</td></tr>
<tr><td><code id="CIM_+3A_famethod">faMethod</code></td>
<td>
<p>The method to pass on to <code><a href="psych.html#topic+fa">psych::fa()</a></code>.</p>
</td></tr>
<tr><td><code id="CIM_+3A_n.iter">n.iter</code></td>
<td>
<p>The number of iterations to pass on to <code><a href="psych.html#topic+fa">psych::fa()</a></code>.</p>
</td></tr>
<tr><td><code id="CIM_+3A_n.repeatonwarning">n.repeatOnWarning</code></td>
<td>
<p>How often to repeat on warnings (in the
hopes of getting a run without warnings).</p>
</td></tr>
<tr><td><code id="CIM_+3A_warningtolerance">warningTolerance</code></td>
<td>
<p>How many warnings are accepted.</p>
</td></tr>
<tr><td><code id="CIM_+3A_silentrepeatonwarning">silentRepeatOnWarning</code></td>
<td>
<p>Whether to be chatty or silent when
repeating after warnings.</p>
</td></tr>
<tr><td><code id="CIM_+3A_showwarnings">showWarnings</code></td>
<td>
<p>Whether to show the warnings.</p>
</td></tr>
<tr><td><code id="CIM_+3A_skipregex">skipRegex</code></td>
<td>
<p>A character vector of length 2 containing two
regular expressions; if the two scales both match one or both
of those regular expressions, that cell is skipped.</p>
</td></tr>
<tr><td><code id="CIM_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level for the heading; especially useful when
knitting an Rmd partial.</p>
</td></tr>
<tr><td><code id="CIM_+3A_printabbreviations">printAbbreviations</code></td>
<td>
<p>Whether to print a table with the abbreviations
that are used.</p>
</td></tr>
<tr><td><code id="CIM_+3A_drawplot">drawPlot</code></td>
<td>
<p>Whether to draw the plot or only return it.</p>
</td></tr>
<tr><td><code id="CIM_+3A_returnplotonly">returnPlotOnly</code></td>
<td>
<p>Whether to return the plot only, or the entire object.</p>
</td></tr>
<tr><td><code id="CIM_+3A_x">x</code></td>
<td>
<p>The object to print.</p>
</td></tr>
<tr><td><code id="CIM_+3A_quiet">quiet</code></td>
<td>
<p>Whether to be quiet or chatty.</p>
</td></tr>
<tr><td><code id="CIM_+3A_echopartial">echoPartial</code></td>
<td>
<p>Whether to <code>echo</code> the code in the Rmd partial.</p>
</td></tr>
<tr><td><code id="CIM_+3A_partialfile">partialFile</code></td>
<td>
<p>Can be used to override the Rmd partial file.</p>
</td></tr>
<tr><td><code id="CIM_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed on the respective default methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load dataset `bfi`, originally from psychTools package
data(bfi, package= 'ufs');

### Specify scales
bfiScales &lt;-
  list(Agreeableness     = paste0("Agreeableness_item_", 1:5),
       Conscientiousness = paste0("Conscientiousness_item_", 1:5),
       Extraversion      = paste0("Extraversion_item_", 1:5),
       Neuroticism       = paste0("Neuroticism_item_", 1:5),
       Openness          = paste0("Openness_item_", 1:5));

names(bfi) &lt;- c(unlist(bfiScales),
                c('gender', 'education', 'age'));

### Only select first two and the first three items to
### keep it quick; just pass the full 'bfiScales'
### object to run for all five the full scales

CIM(bfi,
    scales=lapply(bfiScales, head, 3)[1:2],
    n.iter=10);

</code></pre>

<hr>
<h2 id='cohensdCI'>The distribution of Cohen's <em>d</em></h2><span id='topic+cohensdCI'></span><span id='topic+cohensDdistribution'></span><span id='topic+dCohensd'></span><span id='topic+pCohensd'></span><span id='topic+qCohensd'></span><span id='topic+rCohensd'></span><span id='topic+dd'></span><span id='topic+pd'></span><span id='topic+qd'></span><span id='topic+rd'></span><span id='topic+pdExtreme'></span><span id='topic+pdMild'></span><span id='topic+pdInterval'></span><span id='topic+confIntD'></span><span id='topic+pwr.cohensdCI'></span><span id='topic+pwr.confIntd'></span>

<h3>Description</h3>

<p>These functions use some conversion to and from the <em>t</em> distribution to
provide the Cohen's <em>d</em> distribution. There are four versions that act
similar to the standard distribution functions (the <code>d.</code>, <code>p.</code>,
<code>q.</code>, and <code>r.</code> functions, and their longer aliases
<code>.Cohensd</code>), three convenience functions (<code>pdExtreme</code>,
<code>pdMild</code>, and <code>pdInterval</code>), a function to compute the confidence
interval for a Cohen's <em>d</em> estimate <code>cohensdCI</code>, and a function to
compute the sample size required to obtain a confidence interval around a
Cohen's <em>d</em> estimate with a specified accuracy (<code>pwr.cohensdCI</code>
and its alias <code>pwr.confIntd</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cohensdCI(d, n, conf.level = 0.95, plot = FALSE, silent = TRUE)

dCohensd(
  x,
  df = NULL,
  populationD = 0,
  n = NULL,
  n1 = NULL,
  n2 = NULL,
  silent = FALSE
)

pCohensd(q, df, populationD = 0, lower.tail = TRUE)

qCohensd(p, df, populationD = 0, lower.tail = TRUE)

rCohensd(n, df, populationD = 0)

pdInterval(ds, n, populationD = 0)

pdExtreme(d, n, populationD = 0)

pdMild(d, n, populationD = 0)

pwr.cohensdCI(d, w = 0.1, conf.level = 0.95, extensive = FALSE, silent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cohensdCI_+3A_n">n</code>, <code id="cohensdCI_+3A_n1">n1</code>, <code id="cohensdCI_+3A_n2">n2</code></td>
<td>
<p>Desired number of Cohen's <em>d</em> values for <code>rCohensd</code> and
<code>rd</code> (<code>n</code>), and the number of participants/datapoints in total (<code>n</code>) or in each
group (<code>n1</code> and <code>n2</code>) for <code>dd</code>, <code>dCohensd</code>, <code>pdExtreme</code>,
<code>pdMild</code>, <code>pdInterval</code>, and <code>cohensdCI</code>.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_conf.level">conf.level</code></td>
<td>
<p>The level of confidence of the confidence interval.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_plot">plot</code></td>
<td>
<p>Whether to show a plot of the sampling distribution of Cohen's
<em>d</em> and the confidence interval. This can only be used if specifying
one value for <code>d</code>, <code>n</code>, and <code>conf.level</code>.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_silent">silent</code></td>
<td>
<p>Whether to provide <code>FALSE</code> or suppress (<code>TRUE</code>)
warnings.  This is useful because function 'qt', which is used under the
hood (see <code><a href="stats.html#topic+qt">qt()</a></code> for more information), warns that 'full precision
may not have been achieved' when the density of the distribution is very
close to zero. This is normally no cause for concern, because with sample
sizes this big, small deviations have little impact.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_x">x</code>, <code id="cohensdCI_+3A_q">q</code>, <code id="cohensdCI_+3A_d">d</code></td>
<td>
<p>Vector of quantiles, or, in other words, the value(s) of
Cohen's <em>d</em>.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_df">df</code></td>
<td>
<p>Degrees of freedom.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_populationd">populationD</code></td>
<td>
<p>The value of Cohen's <em>d</em> in the population; this
determines the center of the Cohen's <em>d</em> distribution. I suppose this
is the noncentrality parameter.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; if TRUE (default), probabilities are the
likelihood of finding a Cohen's <em>d</em> smaller than the specified value;
otherwise, the likelihood of finding a Cohen's <em>d</em> larger than the
specified value.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_p">p</code></td>
<td>
<p>Vector of probabilites (<em>p</em>-values).</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_ds">ds</code></td>
<td>
<p>A vector with two Cohen's <em>d</em> values.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_w">w</code></td>
<td>
<p>The desired maximum 'half-width' or margin of error of the confidence
interval.</p>
</td></tr>
<tr><td><code id="cohensdCI_+3A_extensive">extensive</code></td>
<td>
<p>Whether to only return the required sample size, or more
extensive results.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions use <code><a href="#topic+convert.d.to.t">convert.d.to.t()</a></code> and
<code><a href="#topic+convert.t.to.d">convert.t.to.d()</a></code> to provide the Cohen's <em>d</em> distribution.
</p>
<p>The confidence interval functions, <code>cohensdCI</code> and <code>pwr.cohensdCI</code>,
now use the same method as MBESS (a slightly adapted version of
the <code>MBESS</code> function <code>conf.limits.nct</code> is used).
</p>
<p>More details about <code>cohensdCI</code> and <code>pwr.cohensdCI</code> are provided in
Peters &amp; Crutzen (2017).
</p>


<h3>Value</h3>

<p><code>dCohensd</code> (or <code>dd</code>) gives the density, <code>pCohensd</code>
(or <code>pd</code>) gives the distribution function, <code>qCohensd</code> (or
<code>qd</code>) gives the quantile function, and <code>rCohensd</code> (or <code>rd</code>)
generates random deviates.
</p>
<p><code>pdExtreme</code> returns the probability (or probabilities) of finding a
Cohen's <em>d</em> equal to or more extreme than the specified value(s).
</p>
<p><code>pdMild</code> returns the probability (or probabilities) of finding a
Cohen's <em>d</em> equal to or <em>less</em> extreme than the specified
value(s).
</p>
<p><code>pdInterval</code> returns the probability of finding a Cohen's <em>d</em> that
lies in between the two specified values of Cohen's <em>d</em>.
</p>
<p><code>cohensdCI</code> provides the confidence interval(s) for a given Cohen's
<em>d</em> value.
</p>
<p><code>pwr.cohensdCI</code> provides the sample size required to obtain a
confidence interval for Cohen's <em>d</em> with a desired width.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters (Open University of the Netherlands), with
the exported MBESS function conf.limits.nct written by Ken Kelley
(University of Notre Dame), and with an error noticed by Guy Prochilo
(University of Melbourne).
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Peters, G. J. Y. &amp; Crutzen, R. (2017) Knowing exactly how effective an
intervention, treatment, or manipulation is and ensuring that a study
replicates: accuracy in parameter estimation as a partial solution to the
replication crisis. https://dx.doi.org/
</p>
<p>Maxwell, S. E., Kelley, K., &amp; Rausch, J. R. (2008). Sample size planning for
statistical power and accuracy in parameter estimation. Annual Review of
Psychology, 59, 537-63.
https://doi.org/10.1146/annurev.psych.59.103006.093735
</p>
<p>Cumming, G. (2013). The New Statistics: Why and How. Psychological Science,
(November). https://doi.org/10.1177/0956797613504966
</p>


<h3>See Also</h3>

<p><code><a href="#topic+convert.d.to.t">convert.d.to.t()</a></code>, <code><a href="#topic+convert.t.to.d">convert.t.to.d()</a></code>,
<code><a href="stats.html#topic+dt">dt()</a></code>, <code><a href="stats.html#topic+pt">pt()</a></code>, <code><a href="stats.html#topic+qt">qt()</a></code>, <code><a href="stats.html#topic+rt">rt()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Confidence interval for Cohen's d of .5
### from a sample of 200 participants, also
### showing this visually: this clearly shows
### how wildly our Cohen's d value can vary
### from sample to sample.
cohensdCI(.5, n=200, plot=TRUE);

### How many participants would we need if we
### would want a more accurate estimate, say
### with a maximum confidence interval width
### of .2?
pwr.cohensdCI(.5, w=.1);

### Show that 'sampling distribution':
cohensdCI(.5,
          n=pwr.cohensdCI(.5, w=.1),
          plot=TRUE);

### Generate 10 random Cohen's d values
rCohensd(10, 20, populationD = .5);

### Probability of findings a Cohen's d smaller than
### .5 if it's 0 in the population (i.e. under the
### null hypothesis)
pCohensd(.5, 64);

### Probability of findings a Cohen's d larger than
### .5 if it's 0 in the population (i.e. under the
### null hypothesis)
1 - pCohensd(.5, 64);

### Probability of findings a Cohen's d more extreme
### than .5 if it's 0 in the population (i.e. under
### the null hypothesis)
pdExtreme(.5, 64);

### Probability of findings a Cohen's d more extreme
### than .5 if it's 0.2 in the population.
pdExtreme(.5, 64, populationD = .2);

</code></pre>

<hr>
<h2 id='computeStatistic_t'>associationMatrix Helper Functions</h2><span id='topic+computeStatistic_t'></span><span id='topic+computeStatistic_r'></span><span id='topic+computeStatistic_f'></span><span id='topic+computeStatistic_chisq'></span><span id='topic+computeEffectSize_d'></span><span id='topic+computeEffectSize_r'></span><span id='topic+computeEffectSize_etasq'></span><span id='topic+computeEffectSize_v'></span><span id='topic+associationMatrixESDefaults'></span><span id='topic+associationMatrixStatDefaults'></span><span id='topic+computeEffectSize_omegasq'></span>

<h3>Description</h3>

<p>These objects contain a number of settings and functions for
associationMatrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>computeStatistic_t(var1, var2, conf.level = 0.95, var.equal = TRUE, ...)

computeStatistic_r(var1, var2, conf.level = 0.95, ...)

computeStatistic_f(var1, var2, conf.level = 0.95, ...)

computeStatistic_chisq(var1, var2, conf.level = 0.95, ...)

computeEffectSize_d(var1, var2, conf.level = 0.95, var.equal = TRUE, ...)

computeEffectSize_r(var1, var2, conf.level = 0.95, ...)

computeEffectSize_etasq(var1, var2, conf.level = 0.95, ...)

computeEffectSize_omegasq(var1, var2, conf.level = 0.95, ...)

computeEffectSize_v(
  var1,
  var2,
  conf.level = 0.95,
  bootstrap = FALSE,
  samples = 5000,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="computeStatistic_t_+3A_var1">var1</code></td>
<td>
<p>One of the two variables for which to compute a statistic or
effect size</p>
</td></tr>
<tr><td><code id="computeStatistic_t_+3A_var2">var2</code></td>
<td>
<p>The other variable for which to compute the statistic or effect
size</p>
</td></tr>
<tr><td><code id="computeStatistic_t_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence for the confidence interval for the effect
size</p>
</td></tr>
<tr><td><code id="computeStatistic_t_+3A_var.equal">var.equal</code></td>
<td>
<p>Whether to test for equal variances (<code>test</code>), assume
equality (<code>yes</code>), or assume unequality (<code>no</code>).</p>
</td></tr>
<tr><td><code id="computeStatistic_t_+3A_...">...</code></td>
<td>
<p>Any additonal arguments are sometimes used to specify exactly
how statistics and effect sizes should be computed.</p>
</td></tr>
<tr><td><code id="computeStatistic_t_+3A_bootstrap">bootstrap</code></td>
<td>
<p>Whether to bootstrap to estimate the confidence interval
for Cramer's V.  If FALSE, the Fisher's Z conversion is used.</p>
</td></tr>
<tr><td><code id="computeStatistic_t_+3A_samples">samples</code></td>
<td>
<p>If bootstrapping, the number of samples to generate (of
course, more samples means more accuracy and longer processing time).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>associationMatrixStatDefaults and associationMatrixESDefaults contain the
default functions from computeStatistic and computeEffectSize that are
called (see the help file for associationMatrix for more details).
</p>
<p>The other functions return an object with the relevant statistic or effect
size, with a confidence interval for the effect size.
</p>
<p>For computeStatistic, this object always contains: </p>
<table>
<tr><td><code>statistic</code></td>
<td>
<p>The
relevant statistic</p>
</td></tr> <tr><td><code>statistic.type</code></td>
<td>
<p>The type of statistic</p>
</td></tr>
<tr><td><code>parameter</code></td>
<td>
<p>The degrees of freedom for this statistic</p>
</td></tr> <tr><td><code>p.raw</code></td>
<td>
<p>The
p-value of this statistic for NHST</p>
</td></tr></table>
<p> And in addition, it often contains
(among other things, sometimes): </p>
<table>
<tr><td><code>object</code></td>
<td>
<p>The object from which the
statistics are extracted</p>
</td></tr>
</table>
<p>For computeEffectSize, this object always contains: </p>
<table>
<tr><td><code>es</code></td>
<td>
<p>The point
estimate for the effect size</p>
</td></tr> <tr><td><code>esc.type</code></td>
<td>
<p>The type of effect size</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>The confidence interval for the effect size</p>
</td></tr></table>
<p> And in addition, it
often contains (among other things, sometimes): </p>
<table>
<tr><td><code>object</code></td>
<td>
<p>The object
from which the effect size is extracted</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

computeStatistic_f(Orange$Tree, Orange$circumference)
computeEffectSize_etasq(Orange$Tree, Orange$circumference)

</code></pre>

<hr>
<h2 id='confintdjmv'>Effect Size Confidence Interval: Cohens's d</h2><span id='topic+confintdjmv'></span>

<h3>Description</h3>

<p>Effect Size Confidence Interval: Cohens's d
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confintdjmv(d = 0.5, n = 128, conf.level = 95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confintdjmv_+3A_d">d</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="confintdjmv_+3A_n">n</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="confintdjmv_+3A_conf.level">conf.level</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A results object containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>results$text</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a html </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>results$ciPlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an image </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<hr>
<h2 id='confIntOmegaSq'>Confidence intervals for Omega Squared</h2><span id='topic+confIntOmegaSq'></span><span id='topic+print.confIntOmegaSq'></span>

<h3>Description</h3>

<p>This function uses the MBESS functions <code>conf.limits.ncf()</code> (which has been
copied into this package to avoid the dependency on <code>MBESS</code>)
and <code><a href="#topic+convert.ncf.to.omegasq">convert.ncf.to.omegasq()</a></code> to compute the point estimate and
confidence interval for Omega Squared (which have been lifted out of MBESS to
avoid importing the whole package)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confIntOmegaSq(var1, var2, conf.level = 0.95)

## S3 method for class 'confIntOmegaSq'
print(x, ..., digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confIntOmegaSq_+3A_var1">var1</code>, <code id="confIntOmegaSq_+3A_var2">var2</code></td>
<td>
<p>The two variables: one should be a factor (or will be made
a factor), the other should have at least interval level of measurement. If
none of the variables is a factor, the function will look for the variable
with the least unique values and change it into a factor.</p>
</td></tr>
<tr><td><code id="confIntOmegaSq_+3A_conf.level">conf.level</code></td>
<td>
<p>Level of confidence for the confidence interval.</p>
</td></tr>
<tr><td><code id="confIntOmegaSq_+3A_x">x</code>, <code id="confIntOmegaSq_+3A_digits">digits</code>, <code id="confIntOmegaSq_+3A_...">...</code></td>
<td>
<p>Respectively the object to print, the number of digits to
round to, and any additonal arguments to pass on to the <code>print</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>confIntOmegaSq</code> object is returned, with as elements:
</p>
<table>
<tr><td><code>input</code></td>
<td>
<p>The input arguments</p>
</td></tr> <tr><td><code>intermediate</code></td>
<td>
<p>Objects generated
while computing the output</p>
</td></tr> <tr><td><code>output</code></td>
<td>
<p>The output of the function,
consisting of:</p>
</td></tr> <tr><td><code>output$es</code></td>
<td>
<p>The point estimate</p>
</td></tr> <tr><td><code>output$ci</code></td>
<td>
<p>The
confidence interval</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Formula 16 in Steiger (2004) is used for the conversion in
<code><a href="#topic+convert.ncf.to.omegasq">convert.ncf.to.omegasq()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Steiger, J. H. (2004). Beyond the F test: Effect size confidence
intervals and tests of close fit in the analysis of variance and contrast
analysis. Psychological Methods, 9(2), 164-82.
https://doi.org/10.1037/1082-989X.9.2.164
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
confIntOmegaSq(mtcars$mpg, mtcars$cyl);

</code></pre>

<hr>
<h2 id='confIntProp'>Confidence intervals for proportions, vectorized over all arguments</h2><span id='topic+confIntProp'></span>

<h3>Description</h3>

<p>This function simply computes confidence intervals for proportions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confIntProp(x, n, conf.level = 0.95, plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confIntProp_+3A_x">x</code></td>
<td>
<p>The number of 'successes', i.e. the number of events, observations,
or cases that one is interested in.</p>
</td></tr>
<tr><td><code id="confIntProp_+3A_n">n</code></td>
<td>
<p>The total number of cases or observatons.</p>
</td></tr>
<tr><td><code id="confIntProp_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level.</p>
</td></tr>
<tr><td><code id="confIntProp_+3A_plot">plot</code></td>
<td>
<p>Whether to plot the confidence interval in the binomial distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is the adapted source code of <code><a href="stats.html#topic+binom.test">binom.test()</a></code>. Ir
uses <code><a href="stats.html#topic+pbeta">pbeta()</a></code>, with some lines of code taken from the
<code><a href="stats.html#topic+binom.test">binom.test()</a></code> source. Specifically, the count for the low
category is specified as first 'shape argument' to <code><a href="stats.html#topic+pbeta">pbeta()</a></code>, and
the total count (either the sum of the count for the low category and the
count for the high category, or the total number of cases if
<code>compareHiToLo</code> is <code>FALSE</code>) minus the count for the low category
as the second 'shape argument'.
</p>


<h3>Value</h3>

<p>The confidence interval bounds in a twodimensional matrix, with the
first column containing the lower bound and the second column containing the
upper bound.
</p>


<h3>Author(s)</h3>

<p>Unknown (see <code><a href="stats.html#topic+binom.test">binom.test()</a></code>; adapted by Gjalt-Jorn Peters)
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+binom.test">binom.test()</a></code> and <code><a href="#topic+ggProportionPlot">ggProportionPlot</a>, the
function for which this was written.</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ### Simple case
  confIntProp(84, 200);

  ### Using vectors
  confIntProp(c(2,3), c(10, 20), conf.level=c(.90, .95, .99));

</code></pre>

<hr>
<h2 id='confIntR'>A function to compute a correlation's confidence interval</h2><span id='topic+confIntR'></span>

<h3>Description</h3>

<p>This function computes the confidence interval for a given correlation and
its sample size. This is useful to obtain confidence intervals for
correlations reported in papers when informing power analyses.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confIntR(r, N, conf.level = 0.95, plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confIntR_+3A_r">r</code></td>
<td>
<p>The observed correlation coefficient.</p>
</td></tr>
<tr><td><code id="confIntR_+3A_n">N</code></td>
<td>
<p>The sample size of the sample where the correlation was computed.</p>
</td></tr>
<tr><td><code id="confIntR_+3A_conf.level">conf.level</code></td>
<td>
<p>The desired confidence level of the confidence interval.</p>
</td></tr>
<tr><td><code id="confIntR_+3A_plot">plot</code></td>
<td>
<p>Whether to show a plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The confidence interval(s) in a matrix with two columns. The left
column contains the lower bound, the right column the upper bound. The
<code><a href="base.html#topic+rownames">rownames()</a></code> are the observed correlations, and the
<code><a href="base.html#topic+colnames">colnames()</a></code> are 'lo' and 'hi'. The confidence level and sample
size are stored as attributes. The results are returned like this to make it
easy to access single correlation coefficients from the resulting object
(see the examples).
</p>


<h3>Author(s)</h3>

<p>Douglas Bonett (UC Santa Cruz, United States), with minor edits by
Murray Moinester (Tel Aviv University, Israel) and Gjalt-Jorn Peters (Open
University of the Netherlands, the Netherlands).
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Bonett, D. G., Wright, T. A. (2000). Sample size requirements
for estimating Pearson, Kendall and Spearman correlations.
<em>Psychometrika, 65</em>, 23-28.
</p>
<p>Bonett, D. G. (2014). CIcorr.R and sizeCIcorr.R
https://people.ucsc.edu/~dgbonett/psyc181.html
</p>
<p>Moinester, M., &amp; Gottfried, R. (2014). Sample size estimation for
correlations with pre-specified confidence interval. <em>The Quantitative
Methods of Psychology, 10</em>(2), 124-130.
https://www.tqmp.org/RegularArticles/vol10-2/p124/p124.pdf
</p>
<p>Peters, G. J. Y. &amp; Crutzen, R. (forthcoming) An easy and foolproof method
for establishing how effective an intervention or behavior change method is:
required sample size for accurate parameter estimation in health psychology.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+confIntR">confIntR()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

  ### To request confidence intervals for one correlation
  confIntR(.3, 100);

  ### The lower bound of a single correlation
  confIntR(.3, 100)[1];

  ### To request confidence intervals for multiple correlations:
  confIntR(c(.1, .3, .5), 250);

  ### The upper bound of the correlation of .5:
  confIntR(c(.1, .3, .5), 250)['0.5', 'hi'];


</code></pre>

<hr>
<h2 id='confintrjmv'>Effect Size Confidence Interval: Pearson's r</h2><span id='topic+confintrjmv'></span>

<h3>Description</h3>

<p>Effect Size Confidence Interval: Pearson's r
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confintrjmv(r = 0.3, N = 400, conf.level = 95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confintrjmv_+3A_r">r</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="confintrjmv_+3A_n">N</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="confintrjmv_+3A_conf.level">conf.level</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A results object containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>results$text</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a html </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>results$ciPlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an image </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<hr>
<h2 id='confIntSD'>Confidence interval for standard deviation</h2><span id='topic+confIntSD'></span>

<h3>Description</h3>

<p>This function is vectorized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confIntSD(x, n = NULL, conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confIntSD_+3A_x">x</code></td>
<td>
<p>Either a standard deviation, in which case <code>n</code> must also be
provided, or a vector, in which case <code>n</code> must be NULL.</p>
</td></tr>
<tr><td><code id="confIntSD_+3A_n">n</code></td>
<td>
<p>The sample size is <code>x</code> is a standard deviation.</p>
</td></tr>
<tr><td><code id="confIntSD_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector or matrix.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ufs::confIntSD(mtcars$mpg);
ufs::confIntSD(c(6, 7), c(32, 32));
</code></pre>

<hr>
<h2 id='convert'>conversion functions</h2><span id='topic+convert'></span><span id='topic+convert.r.to.t'></span><span id='topic+convert.t.to.r'></span><span id='topic+convert.b.to.t'></span><span id='topic+convert.t.to.p'></span><span id='topic+convert.f.to.p'></span><span id='topic+convert.f.to.d'></span><span id='topic+convert.chisq.to.p'></span><span id='topic+convert.chisq.to.V'></span><span id='topic+convert.d.to.logodds'></span><span id='topic+convert.d.to.r'></span><span id='topic+convert.d.to.t'></span><span id='topic+convert.d.to.variance'></span><span id='topic+convert.etasq.to.cohensf'></span><span id='topic+convert.etasq.to.r'></span><span id='topic+convert.f.to.etasq'></span><span id='topic+convert.f.to.omegasq'></span><span id='topic+convert.fisherz.to.r'></span><span id='topic+convert.logodds.to.d'></span><span id='topic+convert.logodds.to.r'></span><span id='topic+convert.or.to.d'></span><span id='topic+convert.or.to.r'></span><span id='topic+convert.r.to.d'></span><span id='topic+convert.r.to.fisherz'></span><span id='topic+convert.r.to.p'></span><span id='topic+convert.t.to.d'></span><span id='topic+convert.V.to.r'></span><span id='topic+convert.cohensf.to.omegasq'></span><span id='topic+convert.cohensfsq.to.omegasq'></span><span id='topic+convert.means.to.d'></span><span id='topic+convert.ncf.to.omegasq'></span><span id='topic+convert.omegasq.to.cohensf'></span><span id='topic+convert.omegasq.to.cohensfsq'></span><span id='topic+convert.omegasq.to.f'></span><span id='topic+convert.percentage.to.se'></span>

<h3>Description</h3>

<p>These are a number of functions to convert statistics and effect size
measures from/to each other.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_+3A_chisq">chisq</code>, <code id="convert_+3A_cohensf">cohensf</code>, <code id="convert_+3A_cohensfsq">cohensfsq</code>, <code id="convert_+3A_d">d</code>, <code id="convert_+3A_etasq">etasq</code>, <code id="convert_+3A_f">f</code>, <code id="convert_+3A_logodds">logodds</code>, <code id="convert_+3A_means">means</code>, <code id="convert_+3A_omegasq">omegasq</code>, <code id="convert_+3A_or">or</code>, <code id="convert_+3A_p">p</code>, <code id="convert_+3A_r">r</code>, <code id="convert_+3A_t">t</code>, <code id="convert_+3A_z">z</code></td>
<td>
<p>The value of the relevant statistic or effect size.</p>
</td></tr>
<tr><td><code id="convert_+3A_ncf">ncf</code></td>
<td>
<p>The value of a noncentrality parameter of the F distribution.</p>
</td></tr>
<tr><td><code id="convert_+3A_n">n</code>, <code id="convert_+3A_n1">n1</code>, <code id="convert_+3A_n2">n2</code>, <code id="convert_+3A_n">N</code>, <code id="convert_+3A_ns">ns</code></td>
<td>
<p>The number of observations that the r or t value is
based on, or the number of observations in each of the two groups for an
anova, or the total number of participants when specifying a noncentrality
parameter.</p>
</td></tr>
<tr><td><code id="convert_+3A_df">df</code>, <code id="convert_+3A_df1">df1</code>, <code id="convert_+3A_df2">df2</code></td>
<td>
<p>The degrees of freedrom for that statistic (for F, the
first one is the numerator (i.e. the effect), and the second one the
denominator (i.e. the error term).</p>
</td></tr>
<tr><td><code id="convert_+3A_proportion">proportion</code></td>
<td>
<p>The proportion of participants in each of the two groups
in a t-test or anova. This is used to compute the sample size in each group
if the group sizes are unknown.  Thus, if you only provide df1 and df2 when
converting an F value to a Cohen's d value, equal group sizes are assumed.</p>
</td></tr>
<tr><td><code id="convert_+3A_b">b</code></td>
<td>
<p>The value of a regression coefficient.</p>
</td></tr>
<tr><td><code id="convert_+3A_se">se</code>, <code id="convert_+3A_sds">sds</code></td>
<td>
<p>The standard error of standard errors of the relevant
statistic (e.g. of a regression coefficient) or variables.</p>
</td></tr>
<tr><td><code id="convert_+3A_mindim">minDim</code></td>
<td>
<p>The smallest of the number of columns and the number of rows
of the crosstable for which the chisquare is translated to a Cramer's V
value.</p>
</td></tr>
<tr><td><code id="convert_+3A_lower.tail">lower.tail</code></td>
<td>
<p>For the F and chisquare distributions, whether to get the
probability of the lower or upper tail.</p>
</td></tr>
<tr><td><code id="convert_+3A_akfeq8">akfEq8</code></td>
<td>
<p>When converting Cohen's <em>d</em> to <em>r</em>, for small sample
sizes, bias is introduced when the commonly suggested formula is used
(Aaron, Kromrey &amp; Ferron, 1998). Therefore, by default, this function uses
different equations depending on the sample size (for n &lt; 50 and for n &gt;
50). When <code>akfEq8</code> is set to TRUE or FALSE, the corresponding action is
taken; when <code>akfEq8</code> is not logical (i.e. TRUE or FALSE), the function
depends on the sample size.</p>
</td></tr>
<tr><td><code id="convert_+3A_var.equal">var.equal</code></td>
<td>
<p>Whether to compute the value of <em>t</em> or Cohen's
<em>d</em> assuming equal variances ('yes'), unequal variances ('no'), or
whether to test for the difference ('test').</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that by default, the behavior of <code>convert.d.to.r</code> depends on the
sample size (see Bruce, Kromrey &amp; Ferron, 1998).
</p>


<h3>Value</h3>

<p>The converted value as a numeric value.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters and Peter Verboon
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Aaron, B. Kromrey J. D. &amp; Ferron, J. (1998) <em>Equating
&quot;r&quot;-based and &quot;d&quot;-based Effect Size Indices: Problems with a Commonly
Recommended Formula.</em> Paper presented at the Annual Meeting of the Florida
Educational Research Association (43rd, Orlando, FL, November 2-4, 1998).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
convert.t.to.r(t=-6.46, n=200);
convert.r.to.t(r=-.41, n=200);

### Compute some p-values
convert.t.to.p(4.2, 197);
convert.chisq.to.p(5.2, 3);
convert.f.to.p(8.93, 3, 644);

### Convert d to r using both equations
convert.d.to.r(d=.2, n1=5, n2=5, akfEq8 = FALSE);
convert.d.to.r(d=.2, n1=5, n2=5, akfEq8 = TRUE);

</code></pre>

<hr>
<h2 id='convert.cer.to.d'>Helper functions for Numbers Needed for Change</h2><span id='topic+convert.cer.to.d'></span><span id='topic+convert.d.to.eer'></span><span id='topic+convert.d.to.nnc'></span><span id='topic+convert.eer.to.d'></span>

<h3>Description</h3>

<p>These functions are used by <code>nnc()</code> in the behaviorchange package to
compute the Numbers Needed for Change, but are also available for manual use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert.cer.to.d(
  cer,
  eer,
  eventDesirable = TRUE,
  eventIfHigher = TRUE,
  dist = "norm",
  distArgs = NULL,
  distNS = "stats"
)

convert.d.to.eer(
  d,
  cer,
  eventDesirable = TRUE,
  eventIfHigher = TRUE,
  dist = "norm",
  distArgs = list(),
  distNS = "stats"
)

convert.d.to.nnc(d, cer, r = 1, eventDesirable = TRUE, eventIfHigher = TRUE)

convert.eer.to.d(
  eer,
  cer,
  eventDesirable = TRUE,
  eventIfHigher = TRUE,
  dist = "norm",
  distArgs = NULL,
  distNS = "stats"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert.cer.to.d_+3A_cer">cer</code></td>
<td>
<p>The Control Event Rate.</p>
</td></tr>
<tr><td><code id="convert.cer.to.d_+3A_eer">eer</code></td>
<td>
<p>The Experimental Event Rate.</p>
</td></tr>
<tr><td><code id="convert.cer.to.d_+3A_eventdesirable">eventDesirable</code></td>
<td>
<p>Whether an event is desirable or undesirable.</p>
</td></tr>
<tr><td><code id="convert.cer.to.d_+3A_eventifhigher">eventIfHigher</code></td>
<td>
<p>Whether scores above or below the threshold are
considered 'an event'.</p>
</td></tr>
<tr><td><code id="convert.cer.to.d_+3A_dist">dist</code>, <code id="convert.cer.to.d_+3A_distargs">distArgs</code>, <code id="convert.cer.to.d_+3A_distns">distNS</code></td>
<td>
<p>Used to specify the distribution to use to convert
between Cohen's d and the CER and EER. distArgs can be used to specify
additional arguments to the corresponding <code>q</code> and <code>p</code> functions, and
distNS to specify the namespace (i.e. package) from where to get the
distribution functions.</p>
</td></tr>
<tr><td><code id="convert.cer.to.d_+3A_d">d</code></td>
<td>
<p>The value of Cohen's <em>d</em>.</p>
</td></tr>
<tr><td><code id="convert.cer.to.d_+3A_r">r</code></td>
<td>
<p>The correlation between the determinant and behavior (for mediated
Numbers Needed for Change).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The converted value.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters &amp; Stefan Gruijters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Gruijters, S. L., &amp; Peters, G. Y. (2019). Gauging the
impact of behavior change interventions: A tutorial on the Numbers
Needed to Treat. <em>PsyArXiv.</em> <a href="https://doi.org/10.31234/osf.io/2bau7">doi:10.31234/osf.io/2bau7</a>
</p>


<h3>See Also</h3>

<p><code>nnc()</code> in the behaviorchange package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
convert.d.to.eer(d=.5, cer=.25);
convert.d.to.nnc(d=.5, cer=.25);

</code></pre>

<hr>
<h2 id='convert.d.to.U3'>Convert Cohen's d to U3</h2><span id='topic+convert.d.to.U3'></span>

<h3>Description</h3>

<p>This function simply returns the result of <code><a href="stats.html#topic+pnorm">pnorm()</a></code> for
Cohen's d.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert.d.to.U3(d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert.d.to.U3_+3A_d">d</code></td>
<td>
<p>Cohen's d.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An unnames numeric vector with the U3 values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert.d.to.U3(.5);
</code></pre>

<hr>
<h2 id='convertToNumeric'>Conveniently convert vectors to numeric</h2><span id='topic+convertToNumeric'></span>

<h3>Description</h3>

<p>Tries to 'smartly' convert factor and character vectors to numeric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertToNumeric(vector, byFactorLabel = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertToNumeric_+3A_vector">vector</code></td>
<td>
<p>The vector to convert.</p>
</td></tr>
<tr><td><code id="convertToNumeric_+3A_byfactorlabel">byFactorLabel</code></td>
<td>
<p>When converting factors, whether to do this
by their label value (<code>TRUE</code>) or their level value (<code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The converted vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ufs::convertToNumeric(as.character(1:8));
</code></pre>

<hr>
<h2 id='cramersV'>Cramer's V and its confidence interval</h2><span id='topic+cramersV'></span><span id='topic+confIntV'></span><span id='topic+print.CramersV'></span><span id='topic+print.confIntV'></span>

<h3>Description</h3>

<p>These functions compute the point estimate and confidence interval for
Cramer's V.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cramersV(x, y = NULL, digits = 2)

## S3 method for class 'CramersV'
print(x, digits = x$input$digits, ...)

confIntV(
  x,
  y = NULL,
  conf.level = 0.95,
  samples = 500,
  digits = 2,
  method = c("bootstrap", "fisher"),
  storeBootstrappingData = FALSE
)

## S3 method for class 'confIntV'
print(x, digits = x$input$digits, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cramersV_+3A_x">x</code></td>
<td>
<p>Either a crosstable to analyse, or one of two vectors to use to
generate that crosstable. The vector should be a factor, i.e. a categorical
variable identified as such by the 'factor' class).</p>
</td></tr>
<tr><td><code id="cramersV_+3A_y">y</code></td>
<td>
<p>If x is a crosstable, y can (and should) be empty. If x is a
vector, y must also be a vector.</p>
</td></tr>
<tr><td><code id="cramersV_+3A_digits">digits</code></td>
<td>
<p>Minimum number of digits after the decimal point to show in
the result.</p>
</td></tr>
<tr><td><code id="cramersV_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed on to the <code>print</code> function.</p>
</td></tr>
<tr><td><code id="cramersV_+3A_conf.level">conf.level</code></td>
<td>
<p>Level of confidence for the confidence interval.</p>
</td></tr>
<tr><td><code id="cramersV_+3A_samples">samples</code></td>
<td>
<p>Number of samples to generate when bootstrapping.</p>
</td></tr>
<tr><td><code id="cramersV_+3A_method">method</code></td>
<td>
<p>Whether to use Fisher's Z or bootstrapping to compute the
confidence interval.</p>
</td></tr>
<tr><td><code id="cramersV_+3A_storebootstrappingdata">storeBootstrappingData</code></td>
<td>
<p>Whether to store (or discard) the data
generating during the bootstrapping procedure.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A point estimate or a confidence interval for Cramer's V, an effect
size to describe the association between two categorical variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Get confidence interval for Cramer's V
### Note that by using 'table', and so removing the raw data, inhibits
### bootstrapping, which could otherwise take a while.
confIntV(table(infert$education, infert$induced));

</code></pre>

<hr>
<h2 id='dataShape'>normalityAssessment and samplingDistribution</h2><span id='topic+dataShape'></span><span id='topic+print.dataShape'></span><span id='topic+pander.dataShape'></span><span id='topic+normalityAssessment'></span><span id='topic+samplingDistribution'></span><span id='topic+print.normalityAssessment'></span><span id='topic+pander.normalityAssessment'></span>

<h3>Description</h3>

<p>normalityAssessment can be used to assess whether a variable and the
sampling distribution of its mean have an approximately normal distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataShape(
  sampleVector,
  na.rm = TRUE,
  type = 2,
  digits = 2,
  conf.level = 0.95,
  plots = TRUE,
  xLabs = NA,
  yLabs = NA,
  qqCI = TRUE,
  labelOutliers = TRUE,
  sampleSizeOverride = NULL
)

## S3 method for class 'dataShape'
print(x, digits = x$input$digits, extraNotification = TRUE, ...)

## S3 method for class 'dataShape'
pander(x, digits = x$input$digits, extraNotification = TRUE, ...)

normalityAssessment(
  sampleVector,
  samples = 10000,
  digits = 2,
  samplingDistColor = "#2222CC",
  normalColor = "#00CC00",
  samplingDistLineSize = 2,
  normalLineSize = 1,
  xLabel.sampleDist = NULL,
  yLabel.sampleDist = NULL,
  xLabel.samplingDist = NULL,
  yLabel.samplingDist = NULL,
  sampleSizeOverride = TRUE
)

## S3 method for class 'normalityAssessment'
print(x, ...)

## S3 method for class 'normalityAssessment'
pander(x, headerPrefix = "#####", suppressPlot = FALSE, ...)

samplingDistribution(
  popValues = c(0, 1),
  popFrequencies = c(50, 50),
  sampleSize = NULL,
  sampleFromPop = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataShape_+3A_samplevector">sampleVector</code></td>
<td>
<p>Numeric vector containing the sample data.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_na.rm">na.rm</code></td>
<td>
<p>Whether to remove missing data first.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_type">type</code></td>
<td>
<p>Type of skewness and kurtosis to compute; either 1 (g1 and g2),
2 (G1 and G2), or 3 (b1 and b2). See Joanes &amp; Gill (1998) for more
information.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_digits">digits</code></td>
<td>
<p>Number of digits to use when printing results.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_conf.level">conf.level</code></td>
<td>
<p>Confidence of confidence intervals.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_plots">plots</code></td>
<td>
<p>Whether to display plots.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_xlabs">xLabs</code>, <code id="dataShape_+3A_ylabs">yLabs</code></td>
<td>
<p>The axis labels for the three plots (should be vectors of
three elements; the first specifies the X or Y axis label for the rightmost
plot (the histogram), the second for the middle plot (the QQ plot), and the
third for the rightmost plot (the box plot).</p>
</td></tr>
<tr><td><code id="dataShape_+3A_qqci">qqCI</code></td>
<td>
<p>Whether to show the confidence interval for the QQ plot.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_labeloutliers">labelOutliers</code></td>
<td>
<p>Whether to label outliers with their row number in the
box plot.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_samplesizeoverride">sampleSizeOverride</code></td>
<td>
<p>Whether to use the sample size of the sample as
sample size for the sampling distribution, instead of the sampling
distribution size. This makes sense, because otherwise, the sample size and
thus sensitivity of the null hypothesis significance tests is a function of
the number of samples used to generate the sampling distribution.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_x">x</code></td>
<td>
<p>The object to print/pander.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_extranotification">extraNotification</code></td>
<td>
<p>Whether to be particularly informative.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed on, usually to the default methods.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_samples">samples</code></td>
<td>
<p>Number of samples to use when constructing sampling
distribution.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_samplingdistcolor">samplingDistColor</code></td>
<td>
<p>Color to use when drawing the sampling
distribution.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_normalcolor">normalColor</code></td>
<td>
<p>Color to use when drawing the standard normal curve.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_samplingdistlinesize">samplingDistLineSize</code></td>
<td>
<p>Size of the line used to draw the sampling
distribution.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_normallinesize">normalLineSize</code></td>
<td>
<p>Size of the line used to draw the standard normal
distribution.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_xlabel.sampledist">xLabel.sampleDist</code></td>
<td>
<p>Label of x axis of the distribution of the sample.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_ylabel.sampledist">yLabel.sampleDist</code></td>
<td>
<p>Label of y axis of the distribution of the sample.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_xlabel.samplingdist">xLabel.samplingDist</code></td>
<td>
<p>Label of x axis of the sampling distribution.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_ylabel.samplingdist">yLabel.samplingDist</code></td>
<td>
<p>Label of y axis of the sampling distribution.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_headerprefix">headerPrefix</code></td>
<td>
<p>A prefix to insert before the heading (e.g. to use Markdown
headings).</p>
</td></tr>
<tr><td><code id="dataShape_+3A_suppressplot">suppressPlot</code></td>
<td>
<p>Whether to suppress (<code>TRUE</code>) or print (<code>FALSE</code>) the plot.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_popvalues">popValues</code></td>
<td>
<p>The possible values (levels) of the relevant variable. For
example, for a dichotomous variable, this can be &quot;c(1:2)&quot; (or &quot;c(1, 2)&quot;).
Note that samplingDistribution is for manually specifying the frequency
distribution (or proportions); if you have a vector with 'raw' data, just
call normalityAssessment directly.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_popfrequencies">popFrequencies</code></td>
<td>
<p>The frequencies corresponding to each value in
popValues; must be in the same order! See the examples.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_samplesize">sampleSize</code></td>
<td>
<p>Size of the sample; the sum of the frequencies if not
specified.</p>
</td></tr>
<tr><td><code id="dataShape_+3A_samplefrompop">sampleFromPop</code></td>
<td>
<p>If true, the sample vector is created by sampling from
the population information specified; if false, rep() is used to generate
the sample vector. Note that is proportions are supplied in popFrequencies,
sampling from the population is necessary!</p>
</td></tr>
</table>


<h3>Details</h3>

<p>samplingDistribution is a convenient wrapper for normalityAssessment that
makes it easy to quickly generate a sample and sampling distribution from
frequencies (or proportions).
</p>
<p>dataShape computes the skewness and kurtosis.
</p>
<p>normalityAssessment provides a number of normality tests and draws
histograms of the sample data and the sampling distribution of the mean
(most statistical tests assume the latter is normal, rather than the first;
normality of the sample data guarantees normality of the sampling
distribution of the mean, but if the sample size is sufficiently large, the
sampling distribution of the mean is approximately normal even when the
sample data are not normally distributed). Note that for the sampling
distribution, the degrees of freedom are usually so huge that the normality
tests, negligible deviations from normality will already result in very
small p-values.
</p>
<p>samplingDistribution makes it easy to quickly assess the distribution of a
variables based on frequencies or proportions, and dataShape computes
skewness and kurtosis.
</p>


<h3>Value</h3>

<p>An object with several results, the most notably of which are:
</p>
<table>
<tr><td><code>plot.sampleDist</code></td>
<td>
<p>Histogram of sample distribution</p>
</td></tr>
<tr><td><code>sw.sampleDist</code></td>
<td>
<p>Shapiro-Wilk normality test of sample distribution</p>
</td></tr>
<tr><td><code>ad.sampleDist</code></td>
<td>
<p>Anderson-Darling normality test of sample distribution</p>
</td></tr>
<tr><td><code>ks.sampleDist</code></td>
<td>
<p>Kolmogorov-Smirnof normality test of sample
distribution</p>
</td></tr> <tr><td><code>kurtosis.sampleDist</code></td>
<td>
<p>Kurtosis for sample distribution</p>
</td></tr>
<tr><td><code>skewness.sampleDist</code></td>
<td>
<p>Skewness for sample distribution</p>
</td></tr>
<tr><td><code>plot.samplingDist</code></td>
<td>
<p>Histogram of sampling distribution</p>
</td></tr>
<tr><td><code>sw.samplingDist</code></td>
<td>
<p>Shapiro-Wilk normality test of sampling distribution</p>
</td></tr>
<tr><td><code>ad.samplingDist</code></td>
<td>
<p>Anderson-Darling normality test of sampling
distribution</p>
</td></tr> <tr><td><code>ks.samplingDist</code></td>
<td>
<p>Kolmogorov-Smirnof normality test of
sampling distribution</p>
</td></tr> <tr><td><code>dataShape.samplingDist</code></td>
<td>
<p>Skewness and kurtosis
for sampling distribution</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
### Note: the 'not run' is simply because running takes a lot of time,
###       but these examples are all safe to run!
## Not run: 

normalityAssessment(rnorm(35));

### Create a distribution of three possible values and
### show the sampling distribution for the mean
popValues &lt;- c(1, 2, 3);
popFrequencies &lt;- c(20, 50, 30);
sampleSize &lt;- 100;
samplingDistribution(popValues = popValues,
                     popFrequencies = popFrequencies,
                     sampleSize = sampleSize);

### Create a very skewed distribution of ten possible values
popValues &lt;- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);
popFrequencies &lt;- c(2, 4, 8, 6, 10, 15, 12, 200, 350, 400);
samplingDistribution(popValues = popValues,
                     popFrequencies = popFrequencies,
                     sampleSize = sampleSize, digits=5);

## End(Not run)

</code></pre>

<hr>
<h2 id='descr'>descr (or descriptives)</h2><span id='topic+descr'></span><span id='topic+descriptives'></span><span id='topic+descr.default'></span><span id='topic+print.descr'></span><span id='topic+pander.descr'></span><span id='topic+as.data.frame.descr'></span><span id='topic+descr.data.frame'></span>

<h3>Description</h3>

<p>This function provides a number of descriptives about your data, similar to
what SPSS's DESCRIPTIVES (often called with DESCR) does.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descr(
  x,
  digits = 4,
  errorOnFactor = FALSE,
  include = c("central tendency", "spread", "range", "distribution shape", "sample size"),
  maxModes = 1,
  t = FALSE,
  conf.level = 0.95,
  quantileType = 2
)

## Default S3 method:
descr(
  x,
  digits = 4,
  errorOnFactor = FALSE,
  include = c("central tendency", "spread", "range", "distribution shape", "sample size"),
  maxModes = 1,
  t = FALSE,
  conf.level = 0.95,
  quantileType = 2
)

## S3 method for class 'descr'
print(
  x,
  digits = attr(x, "digits"),
  t = attr(x, "transpose"),
  row.names = FALSE,
  ...
)

## S3 method for class 'descr'
pander(x, headerPrefix = "", headerStyle = "**", ...)

## S3 method for class 'descr'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)

## S3 method for class 'data.frame'
descr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="descr_+3A_x">x</code></td>
<td>
<p>The vector for which to return descriptives.</p>
</td></tr>
<tr><td><code id="descr_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round the results to when showing
them.</p>
</td></tr>
<tr><td><code id="descr_+3A_erroronfactor">errorOnFactor</code></td>
<td>
<p>Whether to show an error when the vector is a factor,
or just show the frequencies instead.</p>
</td></tr>
<tr><td><code id="descr_+3A_include">include</code></td>
<td>
<p>Which elements to include when showing the results.</p>
</td></tr>
<tr><td><code id="descr_+3A_maxmodes">maxModes</code></td>
<td>
<p>Maximum number of modes to display: displays &quot;multi&quot; if more
than this number of modes if found.</p>
</td></tr>
<tr><td><code id="descr_+3A_t">t</code></td>
<td>
<p>Whether to transpose the dataframes when printing them to the
screen (this is easier for users relying on screen readers).</p>
</td></tr>
<tr><td><code id="descr_+3A_conf.level">conf.level</code></td>
<td>
<p>Confidence of confidence interval around the mean in the
central tendency measures.</p>
</td></tr>
<tr><td><code id="descr_+3A_quantiletype">quantileType</code></td>
<td>
<p>The type of quantiles to be used to compute the
interquartile range (IQR). See <code><a href="stats.html#topic+quantile">quantile</a></code> for more information.</p>
</td></tr>
<tr><td><code id="descr_+3A_row.names">row.names</code></td>
<td>
<p>Whether to show row names (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="descr_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed to the default <code>print</code> and
<code>pander</code> methods.</p>
</td></tr>
<tr><td><code id="descr_+3A_headerprefix">headerPrefix</code></td>
<td>
<p>The prefix for the heading; can be used to insert
hashes (<code style="white-space: pre;">&#8288;#&#8288;</code>) to create Markdown headings.</p>
</td></tr>
<tr><td><code id="descr_+3A_headerstyle">headerStyle</code></td>
<td>
<p>A string to insert before and after the heading (to
make stuff bold or italic in Markdown).</p>
</td></tr>
<tr><td><code id="descr_+3A_optional">optional</code></td>
<td>
<p>Provided for compatibility with the default <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>
method - see that help page for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that R (of course) has many similar functions, such as
<code><a href="base.html#topic+summary">summary</a></code>, <code><a href="psych.html#topic+describe">psych::describe()</a></code> in the excellent
<a href="psych.html#topic+00.psych-package">psych::psych</a> package.
</p>
<p>The Hartigans' Dip Test may be unfamiliar to users; it is a measure of uni-
vs. multidimensionality, computed by <code><a href="diptest.html#topic+dip.test">diptest::dip.test()</a></code> from the
<code>dip.test</code> package. Depending on the sample size, values over
.025 can be seen as mildly indicative of multimodality, while values over
.05 probably warrant closer inspection (the p-value can be obtained using
<code><a href="diptest.html#topic+dip.test">diptest::dip.test()</a></code>; also see Table 1 of Hartigan &amp; Hartigan (1985) for
an indication as to critical values).
</p>


<h3>Value</h3>

<p>A list of dataframes with the requested values.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Hartigan, J. A.; Hartigan, P. M. The Dip Test of Unimodality.
Ann. Statist. 13 (1985), no. 1, 70&ndash;84. doi:10.1214/aos/1176346577.
https://projecteuclid.org/euclid.aos/1176346577.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+summary">summary</a></code>, <code><a href="psych.html#topic+describe">psych::describe()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
descr(mtcars$mpg);

</code></pre>

<hr>
<h2 id='diamondCoordinates'>Basic ggplot2 diamond plot layer construction functions</h2><span id='topic+diamondCoordinates'></span><span id='topic+ggDiamondLayer'></span><span id='topic+varsToDiamondPlotDf'></span><span id='topic+rawDataDiamondLayer'></span>

<h3>Description</h3>

<p>These functions are used by <code><a href="#topic+diamondPlot">diamondPlot()</a></code> to construct a diamond
plot. It's normally not necessary to call this function directly: instead,
use <code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>, <code><a href="#topic+meanSDtoDiamondPlot">meanSDtoDiamondPlot()</a></code>, and
<code><a href="#topic+factorLoadingDiamondCIplot">factorLoadingDiamondCIplot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diamondCoordinates(
  values,
  otherAxisValue = 1,
  direction = "horizontal",
  autoSize = NULL,
  fixedSize = 0.15
)

ggDiamondLayer(
  data,
  ciCols = 1:3,
  colorCol = NULL,
  generateColors = NULL,
  fullColorRange = NULL,
  color = "black",
  lineColor = NA,
  otherAxisCol = 1:nrow(data),
  autoSize = NULL,
  fixedSize = 0.15,
  direction = "horizontal",
  ...
)

rawDataDiamondLayer(
  dat,
  items = NULL,
  itemOrder = 1:length(items),
  dataAlpha = 0.1,
  dataColor = "#444444",
  jitterWidth = 0.5,
  jitterHeight = 0.4,
  size = 3,
  ...
)

varsToDiamondPlotDf(
  dat,
  items = NULL,
  labels = NULL,
  decreasing = NULL,
  conf.level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diamondCoordinates_+3A_values">values</code></td>
<td>
<p>A vector of 2 or more values that are used to construct the
diamond coordinates. If three values are provided, the middle one becomes
the diamond's center. If two, four, or more values are provided, the median
becomes the diamond's center.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_otheraxisvalue">otherAxisValue</code></td>
<td>
<p>The value on the other axis to use to compute the
coordinates; this will be the Y axis value of the points of the diamond (if
<code>direction</code> is 'horizontal') or the X axis value (if <code>direction</code>
is 'vertical').</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_direction">direction</code></td>
<td>
<p>Whether the diamonds should be constructed horizontally or
vertically.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_autosize">autoSize</code></td>
<td>
<p>Whether to make the height of each diamond conditional upon
its length (the width of the confidence interval).</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_fixedsize">fixedSize</code></td>
<td>
<p>If not using relative heights, <code>fixedSize</code> determines
the height to use.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_data">data</code>, <code id="diamondCoordinates_+3A_dat">dat</code></td>
<td>
<p>A dataframe (or matrix) containing lower bounds, centers
(e.g. means), and upper bounds of intervals (e.g. confidence intervals) for
<code>ggDiamondLayer</code> or items and raw data for <code>varsToDiamondPlotDf</code>
and <code>rawDataDiamondLayer</code>.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_cicols">ciCols</code></td>
<td>
<p>The columns in the dataframe with the lower bounds, centers
(e.g. means), and upper bounds (in that order).</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_colorcol">colorCol</code></td>
<td>
<p>The column in the dataframe containing the colors for each
diamond, or a vector with colors (with as many elements as the dataframe has
rows).</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_generatecolors">generateColors</code></td>
<td>
<p>A vector with colors to use to generate a gradient.
These colors must be valid arguments to <code><a href="grDevices.html#topic+colorRamp">colorRamp()</a></code> (and
therefore, to <code><a href="grDevices.html#topic+col2rgb">col2rgb()</a></code>).</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_fullcolorrange">fullColorRange</code></td>
<td>
<p>When specifying a gradient using
<code>generateColors</code>, it is usually desirable to specify the minimum and
maximum possible value corresponding to the outer anchors of that gradient.
For example, when plotting numbers from 0 to 100 using a gradient from 'red'
through 'orange' to 'green', none of the means may actually be 0 or 100; the
lowest mean may be, for example, 50. If no <code>fullColorRange</code> is
specified, the diamond representing that lowest mean of 50 wil be red, not
orange. When specifying the <code>fullColorRange</code>, the lowest and highest
'colors' in <code>generateColors</code> are anchored to the minimum and maximum
values of <code>fullColorRange</code>.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_color">color</code></td>
<td>
<p>When no colors are automatically generated, all diamonds will
have this color.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_linecolor">lineColor</code></td>
<td>
<p>If NA, lines will have the same colors as the diamonds'
fill. If not NA, must be a valid color, which is then used as line color.
Note that e.g. <code>linetype</code> and <code>color</code> can be used as well, which
will be passed on to <code><a href="ggplot2.html#topic+geom_polygon">geom_polygon()</a></code>.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_otheraxiscol">otherAxisCol</code></td>
<td>
<p>A vector of values, or the index of the column in the
dataframe, that specifies the values for the Y axis of the diamonds. This
should normally just be a vector of consecutive integers.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed to
<code><a href="ggplot2.html#topic+geom_polygon">geom_polygon()</a></code>. This can be used to set, for example, the
<code>alpha</code> value of the diamonds. Additional arguments for
<code>rawDataDiamondLayer</code> are passed on to <code><a href="ggplot2.html#topic+geom_jitter">geom_jitter()</a></code>.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_items">items</code></td>
<td>
<p>The items from the dataframe to include in the diamondplot or
dataframe.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_itemorder">itemOrder</code></td>
<td>
<p>Order of the items to use (if not sorting).</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_dataalpha">dataAlpha</code></td>
<td>
<p>This determines the alpha (transparency) of the data
points.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_datacolor">dataColor</code></td>
<td>
<p>The color of the data points.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_jitterwidth">jitterWidth</code></td>
<td>
<p>How much to jitter the individual datapoints
horizontally.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_jitterheight">jitterHeight</code></td>
<td>
<p>How much to jitter the individual datapoints vertically.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_size">size</code></td>
<td>
<p>The size of the data points.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_labels">labels</code></td>
<td>
<p>The item labels to add to the dataframe.</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_decreasing">decreasing</code></td>
<td>
<p>Whether to sort the items (rows) in the dataframe
decreasing (TRUE), increasing (FALSE), or not at all (NULL).</p>
</td></tr>
<tr><td><code id="diamondCoordinates_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence of the confidence intervals.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ggDiamondLayer</code> returns a <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>
<code><a href="ggplot2.html#topic+geom_polygon">geom_polygon()</a></code> object, which can then be used in
<code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> plots (as <code><a href="#topic+diamondPlot">diamondPlot()</a></code> does).
</p>
<p><code>diamondCoordinates</code> returns a set of four coordinates that together
specify a diamond.
</p>
<p><code>varsToDiamondPlotDf</code> returns a dataframe of diamondCoordinates.
</p>
<p><code>rawDataDiamondLayer</code> returns a <code><a href="ggplot2.html#topic+geom_jitter">geom_jitter()</a></code> object.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>, <code><a href="#topic+meanSDtoDiamondPlot">meanSDtoDiamondPlot()</a></code>,
<code><a href="#topic+factorLoadingDiamondCIplot">factorLoadingDiamondCIplot()</a></code>, <code><a href="#topic+diamondPlot">diamondPlot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
### (Don't run this example as a test, because we
###  need the ggplot function which isn't part of
###  this package.)

### The coordinates for a simple diamond
diamondCoordinates(values = c(1,2,3));

### Plot this diamond
ggplot() + ggDiamondLayer(data.frame(1,2,3));

## End(Not run)

</code></pre>

<hr>
<h2 id='diamondPlot'>Basic diamond plot construction function</h2><span id='topic+diamondPlot'></span>

<h3>Description</h3>

<p>This function constructs a diamond plot using <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>.
It's normally not necessary to call this function directly: instead, use
<code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code> <code><a href="#topic+meanSDtoDiamondPlot">meanSDtoDiamondPlot()</a></code>, and
<code><a href="#topic+factorLoadingDiamondCIplot">factorLoadingDiamondCIplot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diamondPlot(
  data,
  ciCols = 1:3,
  colorCol = NULL,
  otherAxisCol = NULL,
  yValues = NULL,
  yLabels = NULL,
  ylab = NULL,
  autoSize = NULL,
  fixedSize = 0.15,
  xlab = "Effect Size Estimate",
  theme = ggplot2::theme_bw(),
  color = "black",
  returnLayerOnly = FALSE,
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diamondPlot_+3A_data">data</code></td>
<td>
<p>A dataframe (or matrix) containing lower bounds, centers (e.g.
means), and upper bounds of intervals (e.g. confidence intervals).</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_cicols">ciCols</code></td>
<td>
<p>The columns in the dataframe with the lower bounds, centers
(e.g. means), and upper bounds (in that order).</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_colorcol">colorCol</code></td>
<td>
<p>The column in the dataframe containing the colors for each
diamond, or a vector with colors (with as many elements as the dataframe has
rows).</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_otheraxiscol">otherAxisCol</code></td>
<td>
<p>The column in the dataframe containing the values that
determine where on the Y axis the diamond should be placed. If this is not
available in the dataframe, specify it manually using <code>yValues</code>.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_yvalues">yValues</code></td>
<td>
<p>The values that determine where on the Y axis the diamond
should be placed (can also be a column in the dataframe; in that case, use
<code>otherAxisCol</code>.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_ylabels">yLabels</code></td>
<td>
<p>The labels to use for for each diamond (placed on the Y
axis).</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_autosize">autoSize</code></td>
<td>
<p>Whether to make the height of each diamond conditional upon
its length (the width of the confidence interval).</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_fixedsize">fixedSize</code></td>
<td>
<p>If not using relative heights, <code>fixedSize</code> determines
the height to use.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_xlab">xlab</code>, <code id="diamondPlot_+3A_ylab">ylab</code></td>
<td>
<p>The labels of the X and Y axes.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_theme">theme</code></td>
<td>
<p>The theme to use.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_color">color</code></td>
<td>
<p>Color to use if colors are specified for each diamond.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_returnlayeronly">returnLayerOnly</code></td>
<td>
<p>Set this to TRUE to only return the
<code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> layer of the diamondplot, which can be useful to
include it in other plots.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_outputfile">outputFile</code></td>
<td>
<p>A file to which to save the plot.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_outputwidth">outputWidth</code>, <code id="diamondPlot_+3A_outputheight">outputHeight</code></td>
<td>
<p>Width and height of saved plot (specified in
centimeters by default, see <code>ggsaveParams</code>).</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_ggsaveparams">ggsaveParams</code></td>
<td>
<p>Parameters to pass to ggsave when saving the plot.</p>
</td></tr>
<tr><td><code id="diamondPlot_+3A_...">...</code></td>
<td>
<p>Additional arguments will be passed to
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> plot with a <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code> is
returned.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>, <code><a href="#topic+meanSDtoDiamondPlot">meanSDtoDiamondPlot()</a></code>,
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>, <code><a href="#topic+factorLoadingDiamondCIplot">factorLoadingDiamondCIplot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tmpDf &lt;- data.frame(lo = c(1, 2, 3),
                    mean = c(1.5, 3, 5),
                    hi = c(2, 4, 10),
                    color = c('green', 'red', 'blue'));

### A simple diamond plot
diamondPlot(tmpDf);

### A diamond plot using the specified colours
diamondPlot(tmpDf, colorCol = 4);

### A diamond plot using automatically generated colours
### using a gradient
diamondPlot(tmpDf, generateColors=c('green', 'red'));

### A diamond plot using automatically generated colours
### using a gradient, specifying the minimum and maximum
### possible values that can be attained
diamondPlot(tmpDf, generateColors=c('green', 'red'),
            fullColorRange=c(1, 10));


</code></pre>

<hr>
<h2 id='disattenuate.d'>Disattenuate a Cohen's d estimate for unreliability in the continuous variable</h2><span id='topic+disattenuate.d'></span>

<h3>Description</h3>

<p>Measurement error (i.e. the complement of reliability) results in a downward bias
of observed effect sizes. This attenuation can be reversed by disattenuation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disattenuate.d(d, reliability)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="disattenuate.d_+3A_d">d</code></td>
<td>
<p>The (attenuated) value of Cohen's d (i.e. the value as observed in the sample,
and therefore attenuated (decreased) by measurement error in the continuous variable).</p>
</td></tr>
<tr><td><code id="disattenuate.d_+3A_reliability">reliability</code></td>
<td>
<p>The reliability of the measurements of the continuous variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The disattenuated value of Cohen's d
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters &amp; Stefan Gruijters
</p>


<h3>References</h3>

<p>Bobko, P., Roth, P. L., &amp; Bobko, C. (2001). Correcting
the Effect Size of d for Range Restriction and Unreliability.
<em>Organizational Research Methods, 4</em>(1), 46â€“61.
<a href="https://doi.org/10.1177/109442810141003">doi:10.1177/109442810141003</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>disattenuate.d(.5, .8);
</code></pre>

<hr>
<h2 id='disattenuate.r'>Disattentuate a Pearson's r estimate for unreliability</h2><span id='topic+disattenuate.r'></span>

<h3>Description</h3>

<p>Disattentuate a Pearson's r estimate for unreliability
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disattenuate.r(r, reliability1, reliability2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="disattenuate.r_+3A_r">r</code></td>
<td>
<p>The (attenuated) value of Pearson's r</p>
</td></tr>
<tr><td><code id="disattenuate.r_+3A_reliability1">reliability1</code>, <code id="disattenuate.r_+3A_reliability2">reliability2</code></td>
<td>
<p>The reliabilities of the two variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The disattenuated value of Pearson's r
</p>


<h3>Examples</h3>

<pre><code class='language-R'>disattenuate.r(.5, .8, .9);
</code></pre>

<hr>
<h2 id='duoComparisonDiamondPlot'>meansComparisonDiamondPlot and duoComparisonDiamondPlot</h2><span id='topic+duoComparisonDiamondPlot'></span><span id='topic+meansComparisonDiamondPlot'></span>

<h3>Description</h3>

<p>These are two diamond plot functions to conveniently make diamond plots to
compare subgroups or different samples. They are both based on a univariate
diamond plot where colors are used to distinguish the data points and
diamonds of each subgroup or sample. The means comparison diamond plot
produces only this plot, while the duo comparison diamond plot combines it
with a diamond plot visualising the effect sizes of the associations. The
latter currently only works for two subgroups or samples, while the simple
meansComparisonDiamondPlot also works when comparing more than two sets of
datapoints. These functions are explained more in detail in Peters (2017).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>duoComparisonDiamondPlot(
  dat,
  items = NULL,
  compareBy = NULL,
  labels = NULL,
  compareByLabels = NULL,
  decreasing = NULL,
  conf.level = c(0.95, 0.95),
  showData = TRUE,
  dataAlpha = 0.1,
  dataSize = 3,
  comparisonColors = viridisPalette(length(unique(dat[, compareBy]))),
  associationsColor = "grey",
  alpha = 0.33,
  jitterWidth = 0.5,
  jitterHeight = 0.4,
  xlab = c("Scores and means", "Effect size estimates"),
  ylab = c(NULL, NULL),
  plotTitle = NULL,
  theme = ggplot2::theme_bw(),
  showLegend = TRUE,
  legend.position = "top",
  lineSize = 1,
  drawPlot = TRUE,
  xbreaks = "auto",
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)

meansComparisonDiamondPlot(
  dat,
  items = NULL,
  compareBy = NULL,
  labels = NULL,
  compareByLabels = NULL,
  decreasing = NULL,
  sortBy = NULL,
  conf.level = 0.95,
  showData = TRUE,
  dataAlpha = 0.1,
  dataSize = 3,
  comparisonColors = viridisPalette(length(unique(dat[, compareBy]))),
  alpha = 0.33,
  jitterWidth = 0.5,
  jitterHeight = 0.4,
  xlab = "Scores and means",
  ylab = NULL,
  plotTitle = NULL,
  theme = ggplot2::theme_bw(),
  showLegend = TRUE,
  legend.position = "top",
  lineSize = 1,
  xbreaks = "auto",
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="duoComparisonDiamondPlot_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the relevant variables.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_items">items</code></td>
<td>
<p>The variables to plot (on the y axis).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_compareby">compareBy</code></td>
<td>
<p>The variable by which to compare (i.e. the variable
indicating to which subgroup or sample a row in the dataframe belongs).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_labels">labels</code></td>
<td>
<p>The labels to use on the y axis; these values will replace the
variable names in the dataframe (specified in <code>items</code>).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_comparebylabels">compareByLabels</code></td>
<td>
<p>The labels to use to replace the value labels of the
<code>compareBy</code> variable.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_decreasing">decreasing</code></td>
<td>
<p>Whether to sort the variables by their mean values
(<code>NULL</code> to not sort, <code>TRUE</code> to sort in descending order (i.e.
items with lower means are plotted more to the bottom), and <code>FALSE</code> to
sort in ascending order (i.e. items with lower means are plotted more to the
top).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level of the confidence intervals specified
by the diamonds for the means (for <code>meansComparisonDiamondPlot</code>) and
for both the means and effect sizes (for <code>duoComparisonDiamondPlot</code>).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_showdata">showData</code></td>
<td>
<p>Whether to plot the data points.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_dataalpha">dataAlpha</code></td>
<td>
<p>The transparency (alpha channel) value for the data points:
a value between 0 and 1, where 0 denotes complete transparency and 1 denotes
complete opacity.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_datasize">dataSize</code></td>
<td>
<p>The size of the data points.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_comparisoncolors">comparisonColors</code></td>
<td>
<p>The colors to use for the different subgroups or
samples. This should be a vector of valid colors with at least as many
elements as sets of data points that should be plotted.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_associationscolor">associationsColor</code></td>
<td>
<p>For <code>duoComparisonDiamondPlot</code>, the color to
use to plot the effect sizes in the right-hand plot.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_alpha">alpha</code></td>
<td>
<p>The alpha channel (transparency) value for the diamonds: a
value between 0 and 1, where 0 denotes complete transparency and 1 denotes
complete opacity.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_jitterwidth">jitterWidth</code>, <code id="duoComparisonDiamondPlot_+3A_jitterheight">jitterHeight</code></td>
<td>
<p>How much noise to add to the data points (to
prevent overplotting) in the horizontal (x axis) and vertical (y axis)
directions.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_xlab">xlab</code>, <code id="duoComparisonDiamondPlot_+3A_ylab">ylab</code></td>
<td>
<p>The label to use for the x and y axes (for
<code>duoComparisonDiamondPlot</code>, must be vectors of two elements). Use
<code>NULL</code> to not use a label.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_plottitle">plotTitle</code></td>
<td>
<p>Optionally, for <code>meansComparisonDiamondPlot</code>, a title
for the plot (can also be specified for <code>duoComparisonDiamondPlot</code>, in
which case it's passed on to <code>meansComparisonDiamondPlot</code> for the left panel -
but note that this messes up the alignment of the two panels).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_theme">theme</code></td>
<td>
<p>The theme to use for the plots.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_showlegend">showLegend</code></td>
<td>
<p>Whether to show the legend (which color represents which
subgroup/sample).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_legend.position">legend.position</code></td>
<td>
<p>Where to place the legend in <code>meansComparisonDiamondPlot</code>
(can also be specified for <code>duoComparisonDiamondPlot</code>, in
which case it's passed on to <code>meansComparisonDiamondPlot</code> for the left panel -
but note that this messes up the alignment of the two panels).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_linesize">lineSize</code></td>
<td>
<p>The thickness of the lines (the diamonds' strokes).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_drawplot">drawPlot</code></td>
<td>
<p>Whether to draw the plot, or only (invisibly) return it.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_xbreaks">xbreaks</code></td>
<td>
<p>Where the breaks (major grid lines, ticks, and labels) on the
x axis should be.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_outputfile">outputFile</code></td>
<td>
<p>A file to which to save the plot.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_outputwidth">outputWidth</code>, <code id="duoComparisonDiamondPlot_+3A_outputheight">outputHeight</code></td>
<td>
<p>Width and height of saved plot (specified in
centimeters by default, see <code>ggsaveParams</code>).</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_ggsaveparams">ggsaveParams</code></td>
<td>
<p>Parameters to pass to ggsave when saving the plot.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed to
<code><a href="#topic+diamondPlot">diamondPlot()</a></code> by <code>meansComparisonDiamondPlot</code> and to both
<code>meansComparisonDiamondPlot</code> and <code><a href="#topic+associationsDiamondPlot">associationsDiamondPlot()</a></code>
by <code>duoComparisonDiamondPlot</code>.</p>
</td></tr>
<tr><td><code id="duoComparisonDiamondPlot_+3A_sortby">sortBy</code></td>
<td>
<p>If the variables should be sorted (see <code>decreasing</code>),
this variable specified which subgroup should be sorted by. Therefore, the
value specified here must be a value label ('level label') of the
<code>compareBy</code> variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are explained in Peters (2017).
</p>


<h3>Value</h3>

<p>A Diamond plots: a <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> plot
<code>meansComparisonDiamondPlot</code>, and a <code><a href="gtable.html#topic+gtable">gtable()</a></code> by
<code>duoComparisonDiamondPlot</code>.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Peters, G.-J. Y. (2017). Diamond Plots: a tutorial to introduce
a visualisation tool that facilitates interpretation and comparison of
multiple sample estimates while respecting their inaccuracy.
<em>PsyArXiv.</em> http://doi.org/10.17605/OSF.IO/9W8YV
</p>


<h3>See Also</h3>

<p><code><a href="#topic+diamondPlot">diamondPlot()</a></code>, <code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>, the <code>CIBER()</code> function in
the <code>behaviorchange</code> package
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
meansComparisonDiamondPlot(mtcars,
                           items=c('disp', 'hp'),
                           compareBy='vs',
                           xbreaks=c(100,200, 300, 400));
meansComparisonDiamondPlot(chickwts,
                           items='weight',
                           compareBy='feed',
                           xbreaks=c(100,200,300,400),
                           showData=FALSE);
duoComparisonDiamondPlot(mtcars,
                         items=c('disp', 'hp'),
                         compareBy='vs',
                         xbreaks=c(100,200, 300, 400));

</code></pre>

<hr>
<h2 id='escapeRegex'>Escapes any characters that would have special meaning in a reqular
expression.</h2><span id='topic+escapeRegex'></span><span id='topic+escapeBS'></span>

<h3>Description</h3>

<p>Escapes any characters that would have special meaning in a reqular
expression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>escapeRegex(string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="escapeRegex_+3A_string">string</code></td>
<td>
<p>string being operated on.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>escapeRegex</code> will escape any characters that would have special
meaning in a reqular expression. For any string
<code>grep(regexpEscape(string), string)</code> will always be true.
</p>


<h3>Value</h3>

<p>The value of the string with any characters that would have special
meaning in a reqular expression escaped.
</p>


<h3>Note</h3>

<p>Note that this function was copied literally from the <code>Hmisc</code>
package (to prevent importing the entire package for one line of code).
</p>


<h3>Author(s)</h3>

<p>Charles Dupont<br /> Department of Biostatistics<br /> Vanderbilt
University
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+grep">grep</a></code>, <code>Hmisc</code>,
<a href="https://hbiostat.org/R/Hmisc/">https://hbiostat.org/R/Hmisc/</a>,
<a href="https://github.com/harrelfe/Hmisc">https://github.com/harrelfe/Hmisc</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
string &lt;- "this\\(system) {is} [full]."
escapeRegex(string)


</code></pre>

<hr>
<h2 id='exceptionalScore'>Find exceptional scores</h2><span id='topic+exceptionalScore'></span>

<h3>Description</h3>

<p>This function can be used to detect exceptionally high or low scores in a
vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exceptionalScore(
  x,
  prob = 0.025,
  both = TRUE,
  silent = FALSE,
  quantileCorrection = 1e-04,
  quantileType = 8
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exceptionalScore_+3A_x">x</code></td>
<td>
<p>Vector in which to detect exceptional scores.</p>
</td></tr>
<tr><td><code id="exceptionalScore_+3A_prob">prob</code></td>
<td>
<p>Probability that a score is exceptionally positive or negative;
i.e. scores with a quartile lower than <code>prob</code> or higher than
1-<code>prob</code> are considered exceptional (if both is <code>TRUE</code>, at least). So,
note that a <code>prob</code> of .025 means that if <code>both=TRUE</code>, the most
exceptional 5% of the values is marked as such.</p>
</td></tr>
<tr><td><code id="exceptionalScore_+3A_both">both</code></td>
<td>
<p>Whether to consider values exceptional if they're below
<code>prob</code> as well as above 1-<code>prob</code>, or whether to only consider
values exceptional if they're below <code>prob</code> is <code>prob</code> is &lt; .5, or
above <code>prob</code> if <code>prob</code> &gt; .5.</p>
</td></tr>
<tr><td><code id="exceptionalScore_+3A_silent">silent</code></td>
<td>
<p>Can be used to suppress messages.</p>
</td></tr>
<tr><td><code id="exceptionalScore_+3A_quantilecorrection">quantileCorrection</code></td>
<td>
<p>By how much to correct the computed quantiles;
this is used because when a distribution is very right-skewed, the lowest
quantile is the lowest value, which is then also the mode; without
subtracting a correction, almost all values would be marked as
'exceptional'.</p>
</td></tr>
<tr><td><code id="exceptionalScore_+3A_quantiletype">quantileType</code></td>
<td>
<p>The algorithm used to compute the quantiles; see
<code><a href="stats.html#topic+quantile">stats::quantile()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that of course, by definition, <code>prob</code> or <code>2 * prob</code> percent of
the values is exceptional, so it is usually not a wise idea to remove scores
based on their 'exceptionalness'. Instead, use <code><a href="#topic+exceptionalScores">exceptionalScores()</a></code>,
which calls this function, to see how often participants answered
exceptionally, and remove them based on that.
</p>


<h3>Value</h3>

<p>A logical vector, indicating for each value in the supplied vector
whether it is exceptional.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exceptionalScore(
  c(1,1,2,2,2,3,3,3,4,4,4,5,5,5,5,6,6,7,8,20),
  prob=.05
);

</code></pre>

<hr>
<h2 id='exceptionalScores'>Find exceptional scores</h2><span id='topic+exceptionalScores'></span>

<h3>Description</h3>

<p>A function to detect participants that consistently respond exceptionally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exceptionalScores(
  dat,
  items = NULL,
  exception = 0.025,
  totalOnly = TRUE,
  append = TRUE,
  both = TRUE,
  silent = FALSE,
  suffix = "_isExceptional",
  totalVarName = "exceptionalScores"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exceptionalScores_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the variables to inspect, or the vector
to inspect (but for vectors, <code><a href="#topic+exceptionalScore">exceptionalScore()</a></code> might be more
useful).</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_items">items</code></td>
<td>
<p>The names of the variables to inspect.</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_exception">exception</code></td>
<td>
<p>When an item will be considered exceptional, passed on as
<code>prob</code> to <code><a href="#topic+exceptionalScore">exceptionalScore()</a></code>.</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_totalonly">totalOnly</code></td>
<td>
<p>Whether to return only the number of exceptional scores for
each row in the dataframe, or for each inspected item, which values are
exceptional.</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_append">append</code></td>
<td>
<p>Whether to return the supplied dataframe with the new
variable(s) appended (if TRUE), or whether to only return the new
variable(s) (if FALSE).</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_both">both</code></td>
<td>
<p>Whether to look for both low and high exceptional scores (<code>TRUE</code>)
or not (<code>FALSE</code>; see <code><a href="#topic+exceptionalScore">exceptionalScore()</a></code>).</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_silent">silent</code></td>
<td>
<p>Can be used to suppress messages.</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_suffix">suffix</code></td>
<td>
<p>If not returning the total number of exceptional values, for
each inspected variable, a new variable is returned indicating which values
are exceptional.  The text string is appended to each original variable name
to create the new variable names.</p>
</td></tr>
<tr><td><code id="exceptionalScores_+3A_totalvarname">totalVarName</code></td>
<td>
<p>If returning only the total number of exceptional
values, and appending these to the provided dataset, this text string is
used as variable name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a vector containing the number of exceptional values, a
dataset containing, for each inspected variable, which values are
exceptional, or the provided dataset where either the total or the
exceptional values for each variable are appended.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exceptionalScores(mtcars);

</code></pre>

<hr>
<h2 id='exportToHTML'>Exporting tables to HTML</h2><span id='topic+exportToHTML'></span>

<h3>Description</h3>

<p>This function exports data frames or matrices to
HTML, sending output to one or more of the console,
viewer, and one or more files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exportToHTML(
  input,
  output = ufs::opts$get("tableOutput"),
  tableOutputCSS = ufs::opts$get("tableOutputCSS")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exportToHTML_+3A_input">input</code></td>
<td>
<p>Either a <code>data.frame</code>, <code>table</code>, or <code>matrix</code>,
or a list with three elements: <code>pre</code>, <code>input</code>, and <code>post</code>.
The <code>pre</code> and <code>post</code> are simply prepended and postpended to
the HTML generated based on the <code>input$input</code> element.</p>
</td></tr>
<tr><td><code id="exportToHTML_+3A_output">output</code></td>
<td>
<p>The output: a character vector with one or more
of &quot;<code>console</code>&quot; (the raw concatenated input, without conversion
to HTML), &quot;<code>viewer</code>&quot;, which uses the RStudio viewer if available,
and one or more filenames in existing directories.</p>
</td></tr>
<tr><td><code id="exportToHTML_+3A_tableoutputcss">tableOutputCSS</code></td>
<td>
<p>The CSS to use for the HTML table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly, the (potentially concatenated) <code>input</code> as character
vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exportToHTML(mtcars[1:5, 1:5]);
</code></pre>

<hr>
<h2 id='extractVarName'>Extract variable names</h2><span id='topic+extractVarName'></span>

<h3>Description</h3>

<p>Functions often get passed variables from within dataframes or other lists.
However, printing these names with all their dollar signs isn't very
userfriendly. This function simply uses a regular expression to extract the
actual name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractVarName(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractVarName_+3A_x">x</code></td>
<td>
<p>A character vector of one or more variable names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The actual variables name, with all containing objectes stripped
off.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
extractVarName('mtcars$mpg');

</code></pre>

<hr>
<h2 id='fa_failsafe'>Do factor-analysis, logging warnings and errors</h2><span id='topic+fa_failsafe'></span>

<h3>Description</h3>

<p>Do factor-analysis, logging warnings and errors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fa_failsafe(
  ...,
  n.repeatOnWarning = 50,
  warningTolerance = 2,
  silentRepeatOnWarning = FALSE,
  showWarnings = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fa_failsafe_+3A_...">...</code></td>
<td>
<p>The arguments for <code>fa</code> in <code>psych</code>.</p>
</td></tr>
<tr><td><code id="fa_failsafe_+3A_n.repeatonwarning">n.repeatOnWarning</code></td>
<td>
<p>How often to repeat on warnings (in the
hopes of getting a run without warnings).</p>
</td></tr>
<tr><td><code id="fa_failsafe_+3A_warningtolerance">warningTolerance</code></td>
<td>
<p>How many warnings are accepted.</p>
</td></tr>
<tr><td><code id="fa_failsafe_+3A_silentrepeatonwarning">silentRepeatOnWarning</code></td>
<td>
<p>Whether to be chatty or silent when
repeating after warnings.</p>
</td></tr>
<tr><td><code id="fa_failsafe_+3A_showwarnings">showWarnings</code></td>
<td>
<p>Whether to show the warnings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the <code>fa</code> object and a <code>warnings</code> and an <code>errors</code> object.
</p>

<hr>
<h2 id='faConfInt'>Extract confidence bounds from psych's factor analysis object</h2><span id='topic+faConfInt'></span>

<h3>Description</h3>

<p>This function contains some code from a function in <a href="psych.html#topic+00.psych-package">psych::psych-package</a>
that's not exported <code>print.psych.fa.ci</code> but useful nonetheless. It
basically takes the outcomes of a factor analysis and extracted the
confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>faConfInt(fa)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="faConfInt_+3A_fa">fa</code></td>
<td>
<p>The object produced by the <code><a href="psych.html#topic+fa">psych::fa()</a></code> function from the
<a href="psych.html#topic+00.psych-package">psych::psych-package</a> package. It is important that the <code>n.iter</code> argument
of<code><a href="psych.html#topic+fa">psych::fa()</a></code> was set to a realistic number, because otherwise, no
confidence intervals will be available.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>THis function extract confidence interval bounds and combines them with
factor loadings using the code from the <code>print.psych.fa.ci</code> in
<a href="psych.html#topic+00.psych-package">psych::psych-package</a>.
</p>


<h3>Value</h3>

<p>A list of dataframes, one for each extracted factor, with in each
dataframe three variables: </p>
<table>
<tr><td><code>lo</code></td>
<td>
<p>lower bound of the confidence interval</p>
</td></tr>
<tr><td><code>est</code></td>
<td>
<p>point estimate of the factor loading</p>
</td></tr> <tr><td><code>hi</code></td>
<td>
<p>upper bound of
the confidence interval</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>William Revelle (extracted by Gjalt-Jorn Peters)
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
### Not run because it takes too long to run to test it,
### and may produce warnings, both because of the bootstrapping
### required to generate the confidence intervals in fa
faConfInt(psych::fa(Thurstone.33, 2, n.iter=100, n.obs=100));

## End(Not run)

</code></pre>

<hr>
<h2 id='factorLoadingDiamondCIplot'>Two-dimensional visualisation of factor analyses</h2><span id='topic+factorLoadingDiamondCIplot'></span>

<h3>Description</h3>

<p>This function uses the <code><a href="#topic+diamondPlot">diamondPlot()</a></code> to visualise the results of
a factor analyses. Because the factor loadings computed in factor analysis
are point estimates, they may vary from sample to sample. The factor
loadings for any given sample are usually not relevant; samples are but
means to study populations, and so, researchers are usually interested in
population values for the factor loadings. However, tables with lots of
loadings can quickly become confusing and intimidating. This function aims
to facilitate working with and interpreting factor analysis based on
confidence intervals by visualising the factor loadings and their confidence
intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factorLoadingDiamondCIplot(
  fa,
  xlab = "Factor Loading",
  colors = viridisPalette(max(2, fa$factors)),
  labels = NULL,
  theme = ggplot2::theme_bw(),
  sortAlphabetically = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="factorLoadingDiamondCIplot_+3A_fa">fa</code></td>
<td>
<p>The object produced by the <code><a href="psych.html#topic+fa">psych::fa()</a></code> function from the
<a href="psych.html#topic+00.psych-package">psych::psych</a> package. It is important that the <code>n.iter</code> argument
of <code><a href="psych.html#topic+fa">psych::fa()</a></code> was set to a realistic number, because otherwise, no
confidence intervals will be available.</p>
</td></tr>
<tr><td><code id="factorLoadingDiamondCIplot_+3A_xlab">xlab</code></td>
<td>
<p>The label for the x axis.</p>
</td></tr>
<tr><td><code id="factorLoadingDiamondCIplot_+3A_colors">colors</code></td>
<td>
<p>The colors used for the factors. The default uses the discrete
<code>viridis</code> palette, which is optimized for perceptual uniformity,
maintaining its properties when printed in grayscale, and designed for
colourblind readers.</p>
</td></tr>
<tr><td><code id="factorLoadingDiamondCIplot_+3A_labels">labels</code></td>
<td>
<p>The labels to use for the items (on the Y axis).</p>
</td></tr>
<tr><td><code id="factorLoadingDiamondCIplot_+3A_theme">theme</code></td>
<td>
<p>The ggplot2 theme to use.</p>
</td></tr>
<tr><td><code id="factorLoadingDiamondCIplot_+3A_sortalphabetically">sortAlphabetically</code></td>
<td>
<p>Whether to sort the items alphabetically.</p>
</td></tr>
<tr><td><code id="factorLoadingDiamondCIplot_+3A_...">...</code></td>
<td>
<p>Additional arguments will be passed to
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>. This can be used to set, for example, the
transparency (alpha value) of the diamonds to a lower value using e.g.
<code>alpha=.5</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> plot with several
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>s is returned.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="psych.html#topic+fa">psych::fa()</a></code>ss, <code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>,
<code><a href="#topic+meanSDtoDiamondPlot">meanSDtoDiamondPlot()</a></code>, <code><a href="#topic+diamondPlot">diamondPlot()</a></code>,
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
### (Not run during testing because it takes too long and
###  may generate warnings because of the bootstrapping of
###  the confidence intervals)

factorLoadingDiamondCIplot(psych::fa(psych::Bechtoldt,
                                     nfactors=2,
                                     n.iter=50,
                                     n.obs=200));

### And using a lower alpha value for the diamonds to
### make them more transparent

factorLoadingDiamondCIplot(psych::fa(psych::Bechtoldt,
                                     nfactors=2,
                                     n.iter=50,
                                     n.obs=200),
                           alpha=.5,
                           size=1);

## End(Not run)

</code></pre>

<hr>
<h2 id='factorLoadingHeatmap'>Two-dimensional visualisation of factor analyses</h2><span id='topic+factorLoadingHeatmap'></span>

<h3>Description</h3>

<p>This function uses the <code><a href="#topic+diamondPlot">diamondPlot()</a></code> to visualise the results of
a factor analyses. Because the factor loadings computed in factor analysis
are point estimates, they may vary from sample to sample. The factor
loadings for any given sample are usually not relevant; samples are but
means to study populations, and so, researchers are usually interested in
population values for the factor loadings. However, tables with lots of
loadings can quickly become confusing and intimidating. This function aims
to facilitate working with and interpreting factor analysis based on
confidence intervals by visualising the factor loadings and their confidence
intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factorLoadingHeatmap(
  fa,
  xlab = "Factor Loading",
  colors = viridisPalette(max(2, fa$factors)),
  labels = NULL,
  showLoadings = FALSE,
  heatmap = FALSE,
  theme = ggplot2::theme_minimal(),
  sortAlphabetically = FALSE,
  digits = 2,
  labs = list(title = NULL, x = NULL, y = NULL),
  themeArgs = list(panel.grid = ggplot2::element_blank(), legend.position = "none",
    axis.text.x = ggplot2::element_blank()),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="factorLoadingHeatmap_+3A_fa">fa</code></td>
<td>
<p>The object produced by the <code><a href="psych.html#topic+fa">psych::fa()</a></code> function from the
<a href="psych.html#topic+00.psych-package">psych::psych</a> package. It is important that the <code>n.iter</code> argument
of <code><a href="psych.html#topic+fa">psych::fa()</a></code> was set to a realistic number, because otherwise, no
confidence intervals will be available.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_xlab">xlab</code></td>
<td>
<p>The label for the x axis.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_colors">colors</code></td>
<td>
<p>The colors used for the factors. The default uses the discrete
<code>viridis</code> palette, which is optimized for perceptual uniformity,
maintaining its properties when printed in grayscale, and designed for
colourblind readers.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_labels">labels</code></td>
<td>
<p>The labels to use for the items (on the Y axis).</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_showloadings">showLoadings</code></td>
<td>
<p>Whether to show the factor loadings or not.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_heatmap">heatmap</code></td>
<td>
<p>Whether to produce a heatmap or use diamond plots.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_theme">theme</code></td>
<td>
<p>The ggplot2 theme to use.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_sortalphabetically">sortAlphabetically</code></td>
<td>
<p>Whether to sort the items alphabetically.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round to.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_labs">labs</code></td>
<td>
<p>The labels to pass to ggplot2.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_themeargs">themeArgs</code></td>
<td>
<p>Additional theme arguments to pass to ggplot2.</p>
</td></tr>
<tr><td><code id="factorLoadingHeatmap_+3A_...">...</code></td>
<td>
<p>Additional arguments will be passed to
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>. This can be used to set, for example, the
transparency (alpha value) of the diamonds to a lower value using e.g.
<code>alpha=.5</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> plot with several
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>s is returned.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="psych.html#topic+fa">psych::fa()</a></code>ss, <code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>,
<code><a href="#topic+meanSDtoDiamondPlot">meanSDtoDiamondPlot()</a></code>, <code><a href="#topic+diamondPlot">diamondPlot()</a></code>,
<code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
### (Not run during testing because it takes too long and
###  may generate warnings because of the bootstrapping of
###  the confidence intervals)

factorLoadingHeatmap(psych::fa(psych::Bechtoldt,
                               nfactors=2,
                               n.iter=50,
                               n.obs=200));

### And using a lower alpha value for the diamonds to
### make them more transparent

factorLoadingHeatmap(psych::fa(psych::Bechtoldt,
                               nfactors=2,
                               n.iter=50,
                               n.obs=200),
                     alpha=.5,
                     size=1);

## End(Not run)

</code></pre>

<hr>
<h2 id='findShortestInterval'>Find the shortest interval</h2><span id='topic+findShortestInterval'></span>

<h3>Description</h3>

<p>This function takes a numeric vector, sorts it, and then finds the shortest
interval and returns its length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findShortestInterval(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findShortestInterval_+3A_x">x</code></td>
<td>
<p>The numeric vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The length of the shortest interval.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
findShortestInterval(c(1, 2, 4, 7, 20, 10, 15));

</code></pre>

<hr>
<h2 id='formatCI'>Pretty formatting of confidence intervals</h2><span id='topic+formatCI'></span>

<h3>Description</h3>

<p>Pretty formatting of confidence intervals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatCI(
  ci,
  sep = "; ",
  prefix = "[",
  suffix = "]",
  digits = 2,
  noZero = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatCI_+3A_ci">ci</code></td>
<td>
<p>A confidence interval (a vector of 2 elements; longer
vectors work, but I guess that wouldn't make sense).</p>
</td></tr>
<tr><td><code id="formatCI_+3A_sep">sep</code></td>
<td>
<p>The separator of the values, usually &quot;; &quot; or &quot;, &quot;.</p>
</td></tr>
<tr><td><code id="formatCI_+3A_prefix">prefix</code>, <code id="formatCI_+3A_suffix">suffix</code></td>
<td>
<p>The prefix and suffix, usually a type of
opening and closing parenthesis/bracket.</p>
</td></tr>
<tr><td><code id="formatCI_+3A_digits">digits</code></td>
<td>
<p>The number of digits to which to round the values.</p>
</td></tr>
<tr><td><code id="formatCI_+3A_nozero">noZero</code></td>
<td>
<p>Whether to strip the leading zero (before the decimal
point), as is typically done when following APA style and
displaying correlations, <em>p</em> values, and other numbers that cannot
reach 1 or more.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of one element.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+noZero">noZero()</a></code>, <code><a href="#topic+formatR">formatR()</a></code>, <code><a href="#topic+formatPvalue">formatPvalue()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### With leading zero ...
formatCI(c(0.55, 0.021));

### ... and without
formatCI(c(0.55, 0.021), noZero=TRUE);
</code></pre>

<hr>
<h2 id='formatPvalue'>Pretty formatting of <em>p</em> values</h2><span id='topic+formatPvalue'></span>

<h3>Description</h3>

<p>Pretty formatting of <em>p</em> values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatPvalue(values, digits = 3, spaces = TRUE, includeP = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatPvalue_+3A_values">values</code></td>
<td>
<p>The p-values to format.</p>
</td></tr>
<tr><td><code id="formatPvalue_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to. Numbers smaller
than this number will be shown as &lt;.001 or &lt;.0001 etc.</p>
</td></tr>
<tr><td><code id="formatPvalue_+3A_spaces">spaces</code></td>
<td>
<p>Whether to include spaces between symbols,
operators, and digits.</p>
</td></tr>
<tr><td><code id="formatPvalue_+3A_includep">includeP</code></td>
<td>
<p>Whether to include the 'p' and '='-symbol in the
results (the '&lt;' symbol is always included).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted P value, roughly according to APA style
guidelines. This means that the <a href="#topic+noZero">noZero</a> function is used to
remove the zero preceding the decimal point, and p values
that would round to zero given the requested number of digits
are shown as e.g. p&lt;.001.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+formatCI">formatCI()</a></code>, <code><a href="#topic+formatR">formatR()</a></code>, <code><a href="#topic+noZero">noZero()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formatPvalue(cor.test(mtcars$mpg,
                      mtcars$disp)$p.value);
formatPvalue(cor.test(mtcars$drat,
                      mtcars$qsec)$p.value);
</code></pre>

<hr>
<h2 id='formatR'>Pretty formatting of correlation coefficients</h2><span id='topic+formatR'></span>

<h3>Description</h3>

<p>Pretty formatting of correlation coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatR(r, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatR_+3A_r">r</code></td>
<td>
<p>The Pearson correlation to format.</p>
</td></tr>
<tr><td><code id="formatR_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The formatted correlation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+noZero">noZero()</a></code>, <code><a href="#topic+formatCI">formatCI()</a></code>, <code><a href="#topic+formatPvalue">formatPvalue()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formatR(cor(mtcars$mpg, mtcars$disp));
</code></pre>

<hr>
<h2 id='getData'>Use a dialog to load data from an SPSS file</h2><span id='topic+getData'></span><span id='topic+getDat'></span>

<h3>Description</h3>

<p><code>getData()</code> and <code>getDat()</code> provide an easy way to load SPSS datafiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getData(
  filename = NULL,
  file = NULL,
  errorMessage = "[defaultErrorMessage]",
  applyRioLabels = TRUE,
  use.value.labels = FALSE,
  to.data.frame = TRUE,
  stringsAsFactors = FALSE,
  silent = FALSE,
  ...
)

getDat(..., dfName = "dat", backup = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getData_+3A_filename">filename</code>, <code id="getData_+3A_file">file</code></td>
<td>
<p>It is possible to specify a path and filename to load
here. If not specified, the default R file selection dialogue is shown.
<code>file</code> is still available for backward compatibility but will
eventually be phased out.</p>
</td></tr>
<tr><td><code id="getData_+3A_errormessage">errorMessage</code></td>
<td>
<p>The error message that is shown if the file does not
exist or does not have the right extension; <code style="white-space: pre;">&#8288;[defaultErrorMessage]&#8288;</code> is
replaced with a default error message (and can be included in longer
messages).</p>
</td></tr>
<tr><td><code id="getData_+3A_applyriolabels">applyRioLabels</code></td>
<td>
<p>Whether to apply the labels supplied by Rio. This will
make variables that has value labels into factors.</p>
</td></tr>
<tr><td><code id="getData_+3A_use.value.labels">use.value.labels</code></td>
<td>
<p>Only useful when reading from SPSS files: whether to
read variables with value labels as factors (TRUE) or numeric vectors
(FALSE).</p>
</td></tr>
<tr><td><code id="getData_+3A_to.data.frame">to.data.frame</code></td>
<td>
<p>Only useful when reading from SPSS files: whether to
return a dataframe or not.</p>
</td></tr>
<tr><td><code id="getData_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>Whether to read strings as strings (FALSE) or
factors (TRUE).</p>
</td></tr>
<tr><td><code id="getData_+3A_silent">silent</code></td>
<td>
<p>Whether to suppress potentially useful information.</p>
</td></tr>
<tr><td><code id="getData_+3A_...">...</code></td>
<td>
<p>Additional options, passed on to the function used to import the
data (which depends on the extension of the file).</p>
</td></tr>
<tr><td><code id="getData_+3A_dfname">dfName</code></td>
<td>
<p>The name of the dataframe to create in the parent environment.</p>
</td></tr>
<tr><td><code id="getData_+3A_backup">backup</code></td>
<td>
<p>Whether to backup an object with name <code>dfName</code>, if one
already exists in the parent environment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>getData returns the imported dataframe, with the filename from which it was
read stored in the 'filename' attribute.
</p>
<p>getDat is a simple wrapper for <code>getData()</code> which creates a dataframe in
the parent environment, by default with the name 'dat'. Therefore, calling
<code>getDat()</code> in the console will allow the user to select a file, and the
data from the file will then be read and be available as 'dat'. If an object
with <code>dfName</code> (i.e. 'dat' by default) already exists, it will be backed
up with a warning. <code>getDat()</code> also invisibly returns the data.frame.
</p>


<h3>Note</h3>

<p>getData() currently can't read from LibreOffice or OpenOffice files.
There doesn't seem to be a platform-independent package that allows this.
Non-CRAN package ROpenOffice from OmegaHat should be able to do the trick,
but fails to install (manual download and installation using
https://www.omegahat.org produces &quot;ERROR: dependency 'Rcompression' is not
available for package 'ROpenOffice'&quot; - and manual download and installation
of RCompression produces &quot;Please define LIB_ZLIB; ERROR: configuration
failed for package 'Rcompression'&quot;). If you have any suggestions, please let
me know!
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Not run: 
### Open a dialogue to read an SPSS file
getData();

## End(Not run)

</code></pre>

<hr>
<h2 id='ggBarChart'>Bar chart using ggplot</h2><span id='topic+ggBarChart'></span>

<h3>Description</h3>

<p>This function provides a simple interface to create a <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>
bar chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggBarChart(vector, plotTheme = ggplot2::theme_bw(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggBarChart_+3A_vector">vector</code></td>
<td>
<p>The vector to display in the bar chart.</p>
</td></tr>
<tr><td><code id="ggBarChart_+3A_plottheme">plotTheme</code></td>
<td>
<p>The theme to apply.</p>
</td></tr>
<tr><td><code id="ggBarChart_+3A_...">...</code></td>
<td>
<p>And additional arguments are passed to <code><a href="ggplot2.html#topic+geom_bar">ggplot2::geom_bar()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> plot is returned.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_bar">ggplot2::geom_bar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ggBarChart(mtcars$cyl);

</code></pre>

<hr>
<h2 id='ggBoxplot'>Box plot using ggplot</h2><span id='topic+ggBoxplot'></span>

<h3>Description</h3>

<p>This function provides a simple interface to create a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>
box plot, organising different boxplots by levels of a factor is desired,
and showing row numbers of outliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggBoxplot(
  dat,
  y = NULL,
  x = NULL,
  labelOutliers = TRUE,
  outlierColor = "red",
  theme = ggplot2::theme_bw(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggBoxplot_+3A_dat">dat</code></td>
<td>
<p>Either a vector of values (to display in the box plot) or a
dataframe containing variables to display in the box plot.</p>
</td></tr>
<tr><td><code id="ggBoxplot_+3A_y">y</code></td>
<td>
<p>If <code>dat</code> is a dataframe, this is the name of the variable to
make the box plot of.</p>
</td></tr>
<tr><td><code id="ggBoxplot_+3A_x">x</code></td>
<td>
<p>If <code>dat</code> is a dataframe, this is the name of the variable
(normally a factor) to place on the X axis. Separate box plots will be
generate for each level of this variable.</p>
</td></tr>
<tr><td><code id="ggBoxplot_+3A_labeloutliers">labelOutliers</code></td>
<td>
<p>Whether or not to label outliers.</p>
</td></tr>
<tr><td><code id="ggBoxplot_+3A_outliercolor">outlierColor</code></td>
<td>
<p>If labeling outliers, this is the color to use.</p>
</td></tr>
<tr><td><code id="ggBoxplot_+3A_theme">theme</code></td>
<td>
<p>The theme to use for the box plot.</p>
</td></tr>
<tr><td><code id="ggBoxplot_+3A_...">...</code></td>
<td>
<p>Any additional arguments will be passed to
<code><a href="ggplot2.html#topic+geom_boxplot">geom_boxplot</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on JasonAizkalns' answer to a question on Stack
Exchange (Cross Validated; see
<a href="https://stackoverflow.com/questions/33524669/labeling-outliers-of-boxplots-in-r">https://stackoverflow.com/questions/33524669/labeling-outliers-of-boxplots-in-r</a>).
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> plot is returned.
</p>


<h3>Author(s)</h3>

<p>Jason Aizkalns; implemented in this package (and tweaked a bit) by
Gjalt-Jorn Peters.
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_boxplot">geom_boxplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### A box plot for miles per gallon in the mtcars dataset:
ggBoxplot(mtcars$mpg);

### And separate for each level of 'cyl' (number of cylinder):
ggBoxplot(mtcars, y='mpg', x='cyl');

</code></pre>

<hr>
<h2 id='ggEasyBar'>Convenience functions for ggplots based on multiple variables</h2><span id='topic+ggEasyBar'></span><span id='topic+ggEasyPlots'></span><span id='topic+ggEasyRidge'></span>

<h3>Description</h3>

<p>These are convenience functions to quickly generate plots for multiple
variables, with the variables in the y axis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggEasyBar(
  data,
  items = NULL,
  labels = NULL,
  sortByMean = TRUE,
  xlab = NULL,
  ylab = NULL,
  scale_fill_function = NULL,
  fontColor = "white",
  fontSize = 2,
  labelMinPercentage = 1,
  showInLegend = "both",
  legendRows = 2,
  legendValueLabels = NULL,
  biAxisLabels = NULL
)

ggEasyRidge(
  data,
  items = NULL,
  labels = NULL,
  sortByMean = TRUE,
  xlab = NULL,
  ylab = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggEasyBar_+3A_data">data</code></td>
<td>
<p>The dataframe containing the variables.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_items">items</code></td>
<td>
<p>The variable names (if not provided, all variables will be
used).</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_labels">labels</code></td>
<td>
<p>Labels can optionally be provided; if they are, these will be
used instead of the variable names.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_sortbymean">sortByMean</code></td>
<td>
<p>Whether to sort the variables by mean value.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_xlab">xlab</code>, <code id="ggEasyBar_+3A_ylab">ylab</code></td>
<td>
<p>The labels for the x and y axes.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_scale_fill_function">scale_fill_function</code></td>
<td>
<p>The function to pass to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> to
provide the colors of the bars. If <code>NULL</code>, set to
<code>ggplot2::scale_fill_viridis_d(labels = legendValueLabels, guide = ggplot2::guide_legend(title = NULL, nrow=legendRows, byrow=TRUE))</code>.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_fontcolor">fontColor</code>, <code id="ggEasyBar_+3A_fontsize">fontSize</code></td>
<td>
<p>The color and size of the font used to display the
labels</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_labelminpercentage">labelMinPercentage</code></td>
<td>
<p>The minimum percentage that a category must reach
before the label is printed (in whole percentages, i.e., on a scale from 0
to 100).</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_showinlegend">showInLegend</code></td>
<td>
<p>What to show in the legend in addition to the values;
nothing (&quot;<code>none</code>&quot;), the frequencies (&quot;<code>freq</code>&quot;), the percentages
(&quot;<code>perc</code>&quot;), or both (&quot;<code>both</code>&quot;). This is only used if only one
variable is shown in the plot; afterwise, after all, the absolute
frequencies and percentages differ for each variable.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_legendrows">legendRows</code></td>
<td>
<p>Number or rows in the legend.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_legendvaluelabels">legendValueLabels</code></td>
<td>
<p>Labels to use in the legend; must be a vector of
the same length as the number of categories in the variables.</p>
</td></tr>
<tr><td><code id="ggEasyBar_+3A_biaxislabels">biAxisLabels</code></td>
<td>
<p>This can be used to specify labels to use if you want to
use labels on both the left and right side. This is mostly useful when
plotting single questions or semantic differentials. This must be a list
with two character vectors, <code>leftAnchors</code> and <code>rightAnchors</code>,
which must each have the same length as the number of items specified in
<code>items</code>. See the examples for, well, examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> plot is returned.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="ggridges.html#topic+geom_ridgeline">geom_ridgeline()</a></code>, <code><a href="ggplot2.html#topic+geom_bar">geom_bar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ggEasyBar(mtcars, c('gear', 'carb'));
ggEasyRidge(mtcars, c('disp', 'hp'));

### When plotting single questions, if you want to show the anchors:
ggEasyBar(mtcars, c('gear'),
          biAxisLabels=list(leftAnchors="Fewer",
                            rightAnchors="More"));

### Or for multiple questions (for e.g. semantic differentials):
ggEasyBar(mtcars, c('gear', 'carb'),
          biAxisLabels=list(leftAnchors=c("Fewer", "Lesser"),
                            rightAnchors=c("More", "Greater")));
</code></pre>

<hr>
<h2 id='ggPie'>A ggplot pie chart</h2><span id='topic+ggPie'></span>

<h3>Description</h3>

<p>This function creates a pie chart. Note that these are generally quite
strongly advised against, as people are not good at interpreting relative
frequencies on the basis of pie charts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggPie(vector, scale_fill = ggplot2::scale_fill_viridis_d())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggPie_+3A_vector">vector</code></td>
<td>
<p>The vector (best to pass a factor).</p>
</td></tr>
<tr><td><code id="ggPie_+3A_scale_fill">scale_fill</code></td>
<td>
<p>The ggplot scale fill function to use for the colors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot pie chart.
</p>


<h3>Note</h3>

<p>This function is very strongly based on the Mathematical Coffee post
at
http://mathematicalcoffee.blogspot.com/2014/06/ggpie-pie-graphs-in-ggplot2.html.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggPie(mtcars$cyl);

</code></pre>

<hr>
<h2 id='ggProportionPlot'>Sample distribution based plotting of proportions</h2><span id='topic+ggProportionPlot'></span><span id='topic+print.ggProportionPlot'></span><span id='topic+grid.draw.ggProportionPlot'></span>

<h3>Description</h3>

<p>This function visualises percentages, but avoids a clear cut for the sample
point estimate, instead using the confidence (as in confidence interval) to
create a gradient. This effectively hinders drawing conclusions on the basis
of point estimates, thereby urging a level of caution that is consistent
with what the data allows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggProportionPlot(
  dat,
  items = NULL,
  loCategory = NULL,
  hiCategory = NULL,
  subQuestions = NULL,
  leftAnchors = NULL,
  rightAnchors = NULL,
  compareHiToLo = TRUE,
  showDiamonds = FALSE,
  diamonds.conf.level = 0.95,
  diamonds.alpha = 1,
  na.rm = TRUE,
  barHeight = 0.4,
  conf.steps = seq(from = 0.001, to = 0.999, by = 0.001),
  scale_color = c("#21908CFF", "#FDE725FF"),
  scale_fill = c("#21908CFF", "#FDE725FF"),
  rank.conf = FALSE,
  linetype = 1,
  theme = ggplot2::theme_bw(),
  returnPlotOnly = TRUE
)

## S3 method for class 'ggProportionPlot'
print(x, ...)

## S3 method for class 'ggProportionPlot'
grid.draw(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggProportionPlot_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the items (variables), or a vector.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_items">items</code></td>
<td>
<p>The names of the items (variables). If none are specified, all
variables in the dataframe are used.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_locategory">loCategory</code></td>
<td>
<p>The value of the low category (usually 0). If not
provided, the minimum value is used.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_hicategory">hiCategory</code></td>
<td>
<p>The value of the high category (usually 1). If not
provided, the maximum value is used.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_subquestions">subQuestions</code></td>
<td>
<p>The labels to use for the variables (for example,
different questions). The variable names are used if these aren't provided.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_leftanchors">leftAnchors</code></td>
<td>
<p>The labels for the low categories. The values are used if
these aren't provided.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_rightanchors">rightAnchors</code></td>
<td>
<p>The labels for the high categories. The values are used
if these aren't provided.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_comparehitolo">compareHiToLo</code></td>
<td>
<p>Whether to compare the percentage of low category
values to the total of the low category values and the high category values,
or whether to ignore the high category values and compute the percentage of
low category values relative to all cases. This can be useful when a
variable has more than two values, and you only want to know/plot the
percentage relative to the total number of cases.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_showdiamonds">showDiamonds</code></td>
<td>
<p>Whether to add diamonds to illustrate the confidence
intervals.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_diamonds.conf.level">diamonds.conf.level</code></td>
<td>
<p>The confidence level of the diamonds' confidence
intervals.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_diamonds.alpha">diamonds.alpha</code></td>
<td>
<p>The alpha channel (i.e. transparency, or rather
'obliqueness') of the diamonds.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_na.rm">na.rm</code></td>
<td>
<p>Whether to remove missing values.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_barheight">barHeight</code></td>
<td>
<p>The height of the bars, or rather, half the height. Use .5
to completely fill the space.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_conf.steps">conf.steps</code></td>
<td>
<p>The number of steps to use to generate the confidence
levels for the proportion.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_scale_color">scale_color</code>, <code id="ggProportionPlot_+3A_scale_fill">scale_fill</code></td>
<td>
<p>A vector with two values (valid colors), that
are used for the colors (stroke) and fill for the gradient; both vectors
should normally be the same, but if you feel adventurous, you can play
around with the number of <code>conf.steps</code> and this. If you specify only
one color, no gradient is used but a single color (i.e. specifying the same
single color for both <code>scale_color</code> and <code>scale_fill</code> simply draws
bars of that color).</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_rank.conf">rank.conf</code></td>
<td>
<p>Whether to let the fill and color gradients use the confidence
or the ranked confidence.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_linetype">linetype</code></td>
<td>
<p>The <code><a href="ggplot2.html#topic+linetype">linetype()</a></code> to use (0 = blank, 1 = solid, 2 =
dashed, 3 = dotted, 4 = dotdash, 5 = longdash, 6 = twodash).</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_theme">theme</code></td>
<td>
<p>The theme to use.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_returnplotonly">returnPlotOnly</code></td>
<td>
<p>Whether to only return the <code><a href="ggplot2.html#topic+ggplot2">ggplot2()</a></code> plot
or the full object including intermediate values and objects.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_x">x</code></td>
<td>
<p>The object to print/plot.</p>
</td></tr>
<tr><td><code id="ggProportionPlot_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed on to <code>print</code> and
<code>grid.draw</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function used <code><a href="#topic+confIntProp">confIntProp()</a></code> to compute confidence intervals
for proportions at different levels of confidence. The confidence interval
bounds at those levels of confidence are then used to draw rectangles with
colors in a gradient that corresponds to the confidence level.
</p>
<p>Note that percentually, the gradient may not look continuous because at the
borders between lighter and darker rectangles, the shade of the lighter
rectangle is perceived as even lighter than it is, and the shade of the
darker rectangle is perceived as even darker. This makes it seem as if each
rectange is coloured with a gradient in the opposite direction.
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot2">ggplot2()</a></code> object (if <code>returnPlotOnly</code> is TRUE),
or an object containing that <code><a href="ggplot2.html#topic+ggplot2">ggplot2()</a></code> object and intermediate
products.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+confIntProp">confIntProp()</a></code> and <code><a href="stats.html#topic+binom.test">binom.test()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### V/S (no idea what this is: ?mtcars only mentions 'V/S' :-))
### and transmission (automatic vs manual)
ggProportionPlot(mtcars, items=c('vs', 'am'));

### Number of cylinders, by default comparing lowest value
### (4) to highest (8):
ggProportionPlot(mtcars, items=c('cyl'));

## Not run: 
### Not running these to save time during package building/checking

### We can also compare 4 to 6:
ggProportionPlot(mtcars, items=c('cyl'),
                 hiCategory=6);

### Now compared to total records, instead of to
### highest value (hiCategory is ignored then)
ggProportionPlot(mtcars, items=c('cyl'),
                 compareHiToLo=FALSE);

### And for 6 cylinders:
ggProportionPlot(mtcars, items=c('cyl'),
                 loCategory=6, compareHiToLo=FALSE);

### And for 8 cylinders:
ggProportionPlot(mtcars, items=c('cyl'),
                 loCategory=8, compareHiToLo=FALSE);

### And for 8 cylinders with different labels
ggProportionPlot(mtcars, items=c('cyl'),
                 loCategory=8,
                 subQuestions='Cylinders',
                 leftAnchors="Eight",
                 rightAnchors="Four\nor\nsix",
                 compareHiToLo=FALSE);

### ... And showing the diamonds for the confidence intervals
ggProportionPlot(mtcars, items=c('cyl'),
                 loCategory=8,
                 subQuestions='Cylinders',
                 leftAnchors="Eight",
                 rightAnchors="Four\nor\nsix",
                 compareHiToLo=FALSE,
                 showDiamonds=TRUE);

## End(Not run)

### Using less steps for the confidence levels and changing
### the fill colours
ggProportionPlot(mtcars,
                 items=c('vs', 'am'),
                 showDiamonds = TRUE,
                 scale_fill = c("#B63679FF", "#FCFDBFFF"),
                 conf.steps=seq(from=0.0001, to=.9999, by=.2));

</code></pre>

<hr>
<h2 id='ggqq'>Easy ggplot Q-Q plot</h2><span id='topic+ggqq'></span>

<h3>Description</h3>

<p>This function creates a qq-plot with a confidence interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggqq(
  x,
  distribution = "norm",
  ...,
  ci = TRUE,
  line.estimate = NULL,
  conf.level = 0.95,
  sampleSizeOverride = NULL,
  observedOnX = TRUE,
  scaleExpected = TRUE,
  theoryLab = "Theoretical quantiles",
  observeLab = "Observed quantiles",
  theme = ggplot2::theme_bw()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggqq_+3A_x">x</code></td>
<td>
<p>A vector containing the values to plot.</p>
</td></tr>
<tr><td><code id="ggqq_+3A_distribution">distribution</code></td>
<td>
<p>The distribution to (a 'd' and 'q' are prepended, and
the resulting functions are used, e.g. <code><a href="stats.html#topic+dnorm">dnorm</a></code> and
<code><a href="stats.html#topic+qnorm">qnorm</a></code> for the normal curve).</p>
</td></tr>
<tr><td><code id="ggqq_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed to the quantile function
(e.g. <code><a href="stats.html#topic+qnorm">qnorm</a></code>). Because of these dots, any following arguments
must be named explicitly.</p>
</td></tr>
<tr><td><code id="ggqq_+3A_ci">ci</code></td>
<td>
<p>Whether to show the confidence interval.</p>
</td></tr>
<tr><td><code id="ggqq_+3A_line.estimate">line.estimate</code></td>
<td>
<p>Whether to show the line showing the match with the
specified distribution (e.g. the normal distribution).</p>
</td></tr>
<tr><td><code id="ggqq_+3A_conf.level">conf.level</code></td>
<td>
<p>THe confidence of the confidence leven arround the
estimate for the specified distribtion.</p>
</td></tr>
<tr><td><code id="ggqq_+3A_samplesizeoverride">sampleSizeOverride</code></td>
<td>
<p>It can be desirable to get the confidence
intervals for a different sample size (when the sample size is very large,
for example, such as when this plot is generated by the function
<code><a href="#topic+normalityAssessment">normalityAssessment</a></code>). That different sample size can be
specified here.</p>
</td></tr>
<tr><td><code id="ggqq_+3A_observedonx">observedOnX</code></td>
<td>
<p>Whether to plot the observed values (if <code>TRUE</code>) or
the theoretically expected values (if <code>FALSE</code>) on the X axis. The other
is plotted on the Y axis.</p>
</td></tr>
<tr><td><code id="ggqq_+3A_scaleexpected">scaleExpected</code></td>
<td>
<p>Whether the scale the expected values to match the
scale of the variable. This option is provided to be able to mimic SPSS' Q-Q
plots.</p>
</td></tr>
<tr><td><code id="ggqq_+3A_theorylab">theoryLab</code></td>
<td>
<p>The label for the theoretically expected values (on the Y
axis by default).</p>
</td></tr>
<tr><td><code id="ggqq_+3A_observelab">observeLab</code></td>
<td>
<p>The label for the observed values (on the Y axis by
default).</p>
</td></tr>
<tr><td><code id="ggqq_+3A_theme">theme</code></td>
<td>
<p>The theme to use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is strongly based on the answer by user Floo0 to a Stack Overflow
question at Stack Exchange (see
<a href="https://stackoverflow.com/questions/4357031/qqnorm-and-qqline-in-ggplot2/27191036#27191036">https://stackoverflow.com/questions/4357031/qqnorm-and-qqline-in-ggplot2/27191036#27191036</a>),
also posted at GitHub (see
<a href="https://gist.github.com/rentrop/d39a8406ad8af2a1066c">https://gist.github.com/rentrop/d39a8406ad8af2a1066c</a>). That code is in
turn based on the <code>qqPlot()</code> function from the <code>car</code> package.
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> plot is returned.
</p>


<h3>Author(s)</h3>

<p>John Fox and Floo0; implemented in this package (and tweaked a bit)
by Gjalt-Jorn Peters.
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ggqq(mtcars$mpg);

</code></pre>

<hr>
<h2 id='ggSave'>Save a ggplot with specific defaults</h2><span id='topic+ggSave'></span>

<h3>Description</h3>

<p>This function is vectorized over all argument except 'plot': so if you
want to save multiple versions, simply provide vectors. Vectors of length
1 will be recycled using <code><a href="base.html#topic+rep">rep()</a></code>; otherwise vectors have to all be the same
length as <code>file</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggSave(
  file = NULL,
  plot = ggplot2::last_plot(),
  width = ufs::opts$get("ggSaveFigWidth"),
  height = ufs::opts$get("ggSaveFigHeight"),
  units = ufs::opts$get("ggSaveUnits"),
  dpi = ufs::opts$get("ggSaveDPI"),
  device = NULL,
  type = NULL,
  bg = "transparent",
  preventType = ufs::opts$get("ggSavePreventType"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggSave_+3A_file">file</code></td>
<td>
<p>The file where to save to.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_plot">plot</code></td>
<td>
<p>The plot to save; if omitted, the last drawn plot is saved.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_height">height</code>, <code id="ggSave_+3A_width">width</code></td>
<td>
<p>The dimensions of the plot, specified in <code>units</code>.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_units">units</code></td>
<td>
<p>The units, <code>'cm'</code>, '<code>mm</code>', or <code>'in'</code>.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_dpi">dpi</code></td>
<td>
<p>The resolution (dots per inch). This argument is vectorized.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_device">device</code></td>
<td>
<p>The graphic device; is inferred from the file if not specified.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_type">type</code></td>
<td>
<p>An additional arguments for the graphic device.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_bg">bg</code></td>
<td>
<p>The background (e.g. 'white').</p>
</td></tr>
<tr><td><code id="ggSave_+3A_preventtype">preventType</code></td>
<td>
<p>Whether to prevent passing a value for the <code>type</code> argument
to <code><a href="ggplot2.html#topic+ggsave">ggplot2::ggsave()</a></code>. This is prevented by default since <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> switched
to using the ragg device by default, resulting in throwing a warning
(&quot;Warning: Using ragg device as default. Ignoring <code>type</code> and <code>antialias</code> arguments&quot;)
if something if passed for 'type'.</p>
</td></tr>
<tr><td><code id="ggSave_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed on to <code><a href="ggplot2.html#topic+ggsave">ggplot2::ggsave()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The plot, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot &lt;- ufs::ggBoxplot(mtcars, 'mpg');
ggSave(file=tempfile(fileext=".png"), plot=plot);
</code></pre>

<hr>
<h2 id='heading'>Print a heading</h2><span id='topic+heading'></span>

<h3>Description</h3>

<p>This is just a convenience function to print a markdown or HTML heading at
a given 'depth'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heading(
  ...,
  headingLevel = ufs::opts$get("defaultHeadingLevel"),
  output = "markdown",
  cat = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heading_+3A_...">...</code></td>
<td>
<p>The heading text: pasted together with no separator.</p>
</td></tr>
<tr><td><code id="heading_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the heading; the default can be set
with e.g. <code>ufs::opts$set(defaultHeadingLevel=1)</code>.</p>
</td></tr>
<tr><td><code id="heading_+3A_output">output</code></td>
<td>
<p>Whether to output to HTML (&quot;<code>html</code>&quot;) or markdown (anything
else).</p>
</td></tr>
<tr><td><code id="heading_+3A_cat">cat</code></td>
<td>
<p>Whether to cat (print) the heading or just invisibly return it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The heading, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>heading("Hello ", "World", headingLevel=5);
### This produces: "\n\n##### Hello World\n\n"
</code></pre>

<hr>
<h2 id='ifelseObj'>Conditional returning of an object</h2><span id='topic+ifelseObj'></span>

<h3>Description</h3>

<p>The ifelseObj function just evaluates a condition, returning
one object if it's true, and another if it's false.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ifelseObj(condition, ifTrue, ifFalse)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ifelseObj_+3A_condition">condition</code></td>
<td>
<p>Condition to evaluate.</p>
</td></tr>
<tr><td><code id="ifelseObj_+3A_iftrue">ifTrue</code></td>
<td>
<p>Object to return if the condition is true.</p>
</td></tr>
<tr><td><code id="ifelseObj_+3A_iffalse">ifFalse</code></td>
<td>
<p>Object to return if the condition is false.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>One of the two objects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- ifelseObj(sample(c(TRUE, FALSE), 1), mtcars, Orange);

</code></pre>

<hr>
<h2 id='insertFigureCaption'>Insert numbered caption</h2><span id='topic+insertFigureCaption'></span><span id='topic+insertNumberedCaption'></span><span id='topic+insertTableCaption'></span>

<h3>Description</h3>

<p>These functions can be used to manually insert a numbered caption. These
functions have been designed to work well with <code><a href="#topic+setFigCapNumbering">setFigCapNumbering()</a></code> and
<code><a href="#topic+setTabCapNumbering">setTabCapNumbering()</a></code>. This is useful when
inserting figures or tables in an RMarkdown document when you
use automatic caption numbering for <code>knitr</code> chunks, but are inserting a
table or figure that isn't produced in a <code>knitr</code> chunk while
still retaining the automatic numbering. <code>insertNumberedCaption()</code> is the
general-purpose function; you will typically only use <code>insertFigureCaption()</code>
and <code>insertTableCaption()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>insertFigureCaption(
  captionText = "",
  captionName = "fig.cap",
  prefix = getOption(paste0(optionName, "_prefix"), "Figure %s: "),
  suffix = getOption(paste0(optionName, "_suffix"), ""),
  optionName = paste0("setCaptionNumbering_", captionName),
  resetCounterTo = NULL
)

insertNumberedCaption(
  captionText = "",
  captionName = "fig.cap",
  prefix = getOption(paste0(optionName, "_prefix"), "Figure %s: "),
  suffix = getOption(paste0(optionName, "_suffix"), ""),
  optionName = paste0("setCaptionNumbering_", captionName),
  resetCounterTo = NULL
)

insertTableCaption(
  captionText = "",
  captionName = "tab.cap",
  prefix = getOption(paste0(optionName, "_prefix"), "Table %s: "),
  suffix = getOption(paste0(optionName, "_suffix"), ""),
  optionName = paste0("setCaptionNumbering_", captionName),
  resetCounterTo = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="insertFigureCaption_+3A_captiontext">captionText</code></td>
<td>
<p>The text of the caption.</p>
</td></tr>
<tr><td><code id="insertFigureCaption_+3A_captionname">captionName</code></td>
<td>
<p>The name of the caption; by default, for tables,
&quot;<code>tab.cap</code>&quot;.</p>
</td></tr>
<tr><td><code id="insertFigureCaption_+3A_prefix">prefix</code>, <code id="insertFigureCaption_+3A_suffix">suffix</code></td>
<td>
<p>The prefix and suffix texts; <code><a href="base.html#topic+sprintf">base::sprintf()</a></code> is used
to insert the number in the position taken up by <code style="white-space: pre;">&#8288;\%s&#8288;</code>.</p>
</td></tr>
<tr><td><code id="insertFigureCaption_+3A_optionname">optionName</code></td>
<td>
<p>The name of the option to use to save the number counter.</p>
</td></tr>
<tr><td><code id="insertFigureCaption_+3A_resetcounterto">resetCounterTo</code></td>
<td>
<p>If a numeric value, the counter is reset to that value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The caption in a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>insertNumberedCaption("First caption");
insertNumberedCaption("Second caption");
sectionNumber &lt;- 12;
insertNumberedCaption("Third caption",
                      prefix = paste0("Table ",
                                      sectionNumber,
                                      ".%s: "));
</code></pre>

<hr>
<h2 id='invertItem'>invertItems</h2><span id='topic+invertItem'></span><span id='topic+invertItems'></span>

<h3>Description</h3>

<p>Inverts items (as in, in a questionnaire), by calling
<code><a href="#topic+invertItem">invertItem</a></code> on all relevant items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>invertItem(item, fullRange = NULL, ignorePreviousInversion = FALSE)

invertItems(dat, items = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="invertItem_+3A_item">item</code></td>
<td>
<p>The vector to invert.</p>
</td></tr>
<tr><td><code id="invertItem_+3A_fullrange">fullRange</code></td>
<td>
<p>The full range; will otherwise be derived from the vector.</p>
</td></tr>
<tr><td><code id="invertItem_+3A_ignorepreviousinversion">ignorePreviousInversion</code></td>
<td>
<p>Whether to avoid inverting items that were
already inverted.</p>
</td></tr>
<tr><td><code id="invertItem_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the variables to invert.</p>
</td></tr>
<tr><td><code id="invertItem_+3A_items">items</code></td>
<td>
<p>The names or indices of the variables to invert. If not
supplied (i.e. NULL), all variables in the dataframe will be inverted.</p>
</td></tr>
<tr><td><code id="invertItem_+3A_...">...</code></td>
<td>
<p>Arguments (parameters) passed on to data.frame when recreating
that after having used lapply.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The dataframe with the specified items inverted.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+invertItem">invertItem</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
invertItems(mtcars, c('cyl'));

</code></pre>

<hr>
<h2 id='iqrOutlier'>Identify outliers according to the IQR criterion</h2><span id='topic+iqrOutlier'></span>

<h3>Description</h3>

<p>The IQR criterion holds that any value lower than one-and-a-half times the
interquartile range below the first quartile, or higher than one-and-a-half
times the interquartile range above the third quartile, is an outlier. This
function returns a logical vector that identifies those outliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iqrOutlier(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iqrOutlier_+3A_x">x</code></td>
<td>
<p>The vector to scan for outliers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector where TRUE identifies outliers.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+IQR">IQR</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### One outlier in the miles per gallon
iqrOutlier(mtcars$mpg);

</code></pre>

<hr>
<h2 id='irpplot'>Visualising individual response patterns</h2><span id='topic+irpplot'></span>

<h3>Description</h3>

<p>Visualising individual response patterns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>irpplot(
  data,
  row,
  columns,
  dataName = NULL,
  title = paste("Row", row, "in dataset", dataName)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="irpplot_+3A_data">data</code></td>
<td>
<p>A dataframe with the dataset containing
the responses.</p>
</td></tr>
<tr><td><code id="irpplot_+3A_row">row</code></td>
<td>
<p>A vector with indices of the rows for which
you want the individual response patterns. These can be
either the relevant row numbers, or if character row
names are set, the names ot the rleevant rows.</p>
</td></tr>
<tr><td><code id="irpplot_+3A_columns">columns</code></td>
<td>
<p>A vector with the names of the variables
you want the individual response patterns for.</p>
</td></tr>
<tr><td><code id="irpplot_+3A_dataname">dataName</code>, <code id="irpplot_+3A_title">title</code></td>
<td>
<p>Optionally, you can override the
dataset name that is used in the title; or, the title
(the dataset name is only used in the title).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Get a dataset
dat &lt;- ufs::bfi;

### Show the individual responses for
### the tenth participant
irpplot(dat, 10, 1:20);

### Set some missing values
dat[10, c(1, 5, 15)] &lt;- NA;

### Show the individual responses again
irpplot(dat, 10, 1:20);
</code></pre>

<hr>
<h2 id='is.nr'><code>NULL</code> and <code>NA</code> 'proof' checking of whether something is a number</h2><span id='topic+is.nr'></span>

<h3>Description</h3>

<p>Convenience function that returns TRUE if the argument is not null, not NA,
and is.numeric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.nr(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.nr_+3A_x">x</code></td>
<td>
<p>The value or vector to check.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is.nr(8);    ### Returns TRUE
is.nr(NULL); ### Returns FALSE
is.nr(NA);   ### Returns FALSE

</code></pre>

<hr>
<h2 id='is.odd'>Checking whether numbers are odd or even</h2><span id='topic+is.odd'></span><span id='topic+is.even'></span>

<h3>Description</h3>

<p>Checking whether numbers are odd or even
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.odd(vector)

is.even(vector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.odd_+3A_vector">vector</code></td>
<td>
<p>The vector to process</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is.odd(4);
</code></pre>

<hr>
<h2 id='isTrue'>More flexible version of isTRUE</h2><span id='topic+isTrue'></span>

<h3>Description</h3>

<p>Returns <code>TRUE</code> for <code>TRUE</code> elements, <code>FALSE</code> for <code>FALSE</code> elements,
and whatever is specified in <code>na</code> for <code>NA</code> items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isTrue(x, na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isTrue_+3A_x">x</code></td>
<td>
<p>The vector to check for <code>TRUE</code>, <code>FALSE</code>, and <code>NA</code> values.</p>
</td></tr>
<tr><td><code id="isTrue_+3A_na">na</code></td>
<td>
<p>What to return for <code>NA</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>isTrue(c(TRUE, FALSE, NA));
isTrue(c(TRUE, FALSE, NA), na=TRUE);

</code></pre>

<hr>
<h2 id='kblXtra'>Wrapper for kableExtra for consistent <code>ufs</code> table styling</h2><span id='topic+kblXtra'></span>

<h3>Description</h3>

<p>Wrapper for kableExtra for consistent <code>ufs</code> table styling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kblXtra(
  x,
  digits = 2,
  format = "html",
  escape = FALSE,
  print = TRUE,
  viewer = FALSE,
  kable_classic = FALSE,
  lightable_options = "striped",
  html_font = "\"Arial Narrow\", \"Source Sans Pro\", sans-serif",
  full_width = TRUE,
  table.attr = "style='border:0px solid black !important;'",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kblXtra_+3A_x">x</code></td>
<td>
<p>The dataframe to print</p>
</td></tr>
<tr><td><code id="kblXtra_+3A_digits">digits</code>, <code id="kblXtra_+3A_format">format</code>, <code id="kblXtra_+3A_escape">escape</code>, <code id="kblXtra_+3A_table.attr">table.attr</code>, <code id="kblXtra_+3A_lightable_options">lightable_options</code>, <code id="kblXtra_+3A_html_font">html_font</code>, <code id="kblXtra_+3A_full_width">full_width</code></td>
<td>
<p>Defaults
that are passed to <code><a href="knitr.html#topic+kable">knitr::kable()</a></code></p>
</td></tr>
<tr><td><code id="kblXtra_+3A_print">print</code></td>
<td>
<p>Wther to print the table</p>
</td></tr>
<tr><td><code id="kblXtra_+3A_viewer">viewer</code></td>
<td>
<p>Whether to show the table in the viewer</p>
</td></tr>
<tr><td><code id="kblXtra_+3A_kable_classic">kable_classic</code></td>
<td>
<p>Whether to call <code>kable_classic</code>; otherwise,
<code>kable_styling</code> is called.</p>
</td></tr>
<tr><td><code id="kblXtra_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed to <code><a href="knitr.html#topic+kable">knitr::kable()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The table, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>kblXtra(mtcars);
</code></pre>

<hr>
<h2 id='knitAndSave'>knitAndSave</h2><span id='topic+knitAndSave'></span>

<h3>Description</h3>

<p>knitAndSave
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knitAndSave(
  plotToDraw,
  figCaption,
  file = NULL,
  path = NULL,
  figWidth = ufs::opts$get("ggSaveFigWidth"),
  figHeight = ufs::opts$get("ggSaveFigHeight"),
  units = ufs::opts$get("ggSaveUnits"),
  dpi = ufs::opts$get("ggSaveDPI"),
  catPlot = ufs::opts$get("knitAndSave.catPlot"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="knitAndSave_+3A_plottodraw">plotToDraw</code></td>
<td>
<p>The plot to knit using <code><a href="#topic+knitFig">knitFig()</a></code> and save using <code><a href="#topic+ggSave">ggSave()</a></code>.</p>
</td></tr>
<tr><td><code id="knitAndSave_+3A_figcaption">figCaption</code></td>
<td>
<p>The caption of the plot (used as filename if no filename is specified).</p>
</td></tr>
<tr><td><code id="knitAndSave_+3A_file">file</code>, <code id="knitAndSave_+3A_path">path</code></td>
<td>
<p>The filename to use when saving the plot, or the path where to save the
file if no filename is provided (if <code>path</code> is also omitted, <code>getWd()</code> is used).</p>
</td></tr>
<tr><td><code id="knitAndSave_+3A_figwidth">figWidth</code>, <code id="knitAndSave_+3A_figheight">figHeight</code></td>
<td>
<p>The plot dimensions, by default specified in inches (but 'units' can
be set which is then passed on to <code><a href="#topic+ggSave">ggSave()</a></code>.</p>
</td></tr>
<tr><td><code id="knitAndSave_+3A_units">units</code>, <code id="knitAndSave_+3A_dpi">dpi</code></td>
<td>
<p>The units and DPI of the image which are then passed on to <code><a href="#topic+ggSave">ggSave()</a></code>.</p>
</td></tr>
<tr><td><code id="knitAndSave_+3A_catplot">catPlot</code></td>
<td>
<p>Whether to use <code><a href="base.html#topic+cat">cat()</a></code> to print the knitr fragment.</p>
</td></tr>
<tr><td><code id="knitAndSave_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed on to <code><a href="#topic+ggSave">ggSave()</a></code>. Note that file (and ...) are
vectorized (see the <code><a href="#topic+ggSave">ggSave()</a></code> manual page).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code><a href="#topic+knitFig">knitFig()</a></code> result, visibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: plot &lt;- ggBoxplot(mtcars, 'mpg');
knitAndSave(plot, figCaption="a boxplot", file=tempfile(fileext=".png"));
## End(Not run)
</code></pre>

<hr>
<h2 id='knitFig'>Easily knit a custom figure fragment</h2><span id='topic+knitFig'></span>

<h3>Description</h3>

<p>THis function was written to make it easy to knit figures with different, or
dynamically generated, widths and heights (and captions) in the same chunk
when working with R Markdown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knitFig(
  plotToDraw,
  template = getOption("ufs.knitFig.template", NULL),
  figWidth = ufs::opts$get("ggSaveFigWidth"),
  figHeight = ufs::opts$get("ggSaveFigHeight"),
  figCaption = "A plot.",
  chunkName = NULL,
  returnRaw = FALSE,
  catPlot = ufs::opts$get("knitFig.catPlot"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="knitFig_+3A_plottodraw">plotToDraw</code></td>
<td>
<p>The plot to draw, e.g. a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> plot.</p>
</td></tr>
<tr><td><code id="knitFig_+3A_template">template</code></td>
<td>
<p>A character value with the <code><a href="knitr.html#topic+knit_expand">knit_expand</a></code>
template to use.</p>
</td></tr>
<tr><td><code id="knitFig_+3A_figwidth">figWidth</code></td>
<td>
<p>The width to set for the figure (in inches).</p>
</td></tr>
<tr><td><code id="knitFig_+3A_figheight">figHeight</code></td>
<td>
<p>The height to set for the figure (in inches).</p>
</td></tr>
<tr><td><code id="knitFig_+3A_figcaption">figCaption</code></td>
<td>
<p>The caption to set for the figure.</p>
</td></tr>
<tr><td><code id="knitFig_+3A_chunkname">chunkName</code></td>
<td>
<p>Optionally, the name for the chunk. To avoid problems
because multiple chunks have the name &quot;<code>unnamed-chunk-1</code>&quot;, if no chunk
name is provided, <code><a href="digest.html#topic+digest">digest::digest()</a></code> is used to generate an MD5-hash from
<code><a href="base.html#topic+Sys.time">Sys.time</a></code>.</p>
</td></tr>
<tr><td><code id="knitFig_+3A_returnraw">returnRaw</code></td>
<td>
<p>Whether to <code><a href="base.html#topic+cat">cat()</a></code> the result (<code>TRUE</code>) or whether
to return it as <code><a href="knitr.html#topic+asis_output">knitr::asis_output()</a></code> object (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="knitFig_+3A_catplot">catPlot</code></td>
<td>
<p>Whether to use the <code><a href="base.html#topic+cat">base::cat()</a></code> function to print the
code for the plot, and return the result invisibly. If not, the result is
returned visible, and so probably printed anyway.</p>
</td></tr>
<tr><td><code id="knitFig_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed on to
<code><a href="knitr.html#topic+knit_expand">knit_expand</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns nothing, but uses <code><a href="knitr.html#topic+knit_expand">knit_expand</a></code>
and <code><a href="knitr.html#topic+knit">knit</a></code> to <code><a href="base.html#topic+cat">cat</a></code> the result.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="knitr.html#topic+knit_expand">knit_expand</a></code> and <code><a href="knitr.html#topic+knit">knit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: knitFig(ggBoxplot(mtcars, 'mpg'))
</code></pre>

<hr>
<h2 id='makeScales'>Title</h2><span id='topic+makeScales'></span>

<h3>Description</h3>

<p>Title
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeScales(data, scales, append = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeScales_+3A_data">data</code></td>
<td>
<p>The dataframe containing the variables (the items).</p>
</td></tr>
<tr><td><code id="makeScales_+3A_scales">scales</code></td>
<td>
<p>A list of character vectors with the items in each scale,
where each vectors' name is the name of the scale.</p>
</td></tr>
<tr><td><code id="makeScales_+3A_append">append</code></td>
<td>
<p>Whether to return the dataframe including the new variables
(<code>TRUE</code>), or a dataframe with only those new variables (<code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a dataframe with the newly created variables, or the
supplied dataframe with the newly created variables appended.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### First generate a list with the scales
scales &lt;- list(scale1 = c('mpg', 'cyl'), scale2 = c('disp', 'hp'));

### Create the scales and add them to the dataframe
makeScales(mtcars, scales);
</code></pre>

<hr>
<h2 id='massConvertToNumeric'>Converting many dataframe columns to numeric</h2><span id='topic+massConvertToNumeric'></span>

<h3>Description</h3>

<p>This function makes it easy to convert many dataframe
columns to numeric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>massConvertToNumeric(
  dat,
  byFactorLabel = FALSE,
  ignoreCharacter = TRUE,
  stringsAsFactors = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="massConvertToNumeric_+3A_dat">dat</code></td>
<td>
<p>The dataframe with the columns.</p>
</td></tr>
<tr><td><code id="massConvertToNumeric_+3A_byfactorlabel">byFactorLabel</code></td>
<td>
<p>When converting factors, whether to do this
by their label value (<code>TRUE</code>) or their level value (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="massConvertToNumeric_+3A_ignorecharacter">ignoreCharacter</code></td>
<td>
<p>Whether to convert (<code>FALSE</code>) or
ignore (<code>TRUE</code>) character vectors.</p>
</td></tr>
<tr><td><code id="massConvertToNumeric_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>In the returned dataframe, whether
to return string (character) vectors as factors or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Create a dataset
a &lt;- data.frame(var1 = factor(1:4),
                var2 = as.character(5:6),
                stringsAsFactors=FALSE);

### Ignores var2
b &lt;- ufs::massConvertToNumeric(a);

### Converts var2
c &lt;- ufs::massConvertToNumeric(a,
                               ignoreCharacter = FALSE);
</code></pre>

<hr>
<h2 id='meanConfInt'>A confidence interval for the mean</h2><span id='topic+meanConfInt'></span><span id='topic+print.meanConfInt'></span>

<h3>Description</h3>

<p>A confidence interval for the mean
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanConfInt(
  vector = NULL,
  mean = NULL,
  sd = NULL,
  n = NULL,
  se = NULL,
  conf.level = 0.95
)

## S3 method for class 'meanConfInt'
print(x, digits = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanConfInt_+3A_vector">vector</code></td>
<td>
<p>A vector with raw data points - either specify this
or a mean and then either an sd and n or an se.</p>
</td></tr>
<tr><td><code id="meanConfInt_+3A_mean">mean</code></td>
<td>
<p>A mean.</p>
</td></tr>
<tr><td><code id="meanConfInt_+3A_sd">sd</code>, <code id="meanConfInt_+3A_n">n</code></td>
<td>
<p>A standard deviation and sample size; can be specified
to compute the standard error.</p>
</td></tr>
<tr><td><code id="meanConfInt_+3A_se">se</code></td>
<td>
<p>The standard error (cna be specified instead of <code>sd</code> and <code>n</code>).</p>
</td></tr>
<tr><td><code id="meanConfInt_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level of the interval.</p>
</td></tr>
<tr><td><code id="meanConfInt_+3A_x">x</code>, <code id="meanConfInt_+3A_digits">digits</code>, <code id="meanConfInt_+3A_...">...</code></td>
<td>
<p>Respectively the object to print, the number of digits to
round to, and any additonal arguments to pass on to the <code>print</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>And object with elements <code>input</code>, <code>intermediate</code>, and <code>output</code>,
where <code>output</code> holds the result in list <code>ci</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meanConfInt(mean=5, sd=2, n=20);
</code></pre>

<hr>
<h2 id='meansDiamondPlot'>Diamond plots</h2><span id='topic+meansDiamondPlot'></span>

<h3>Description</h3>

<p>This function generates a so-called diamond plot: a plot based on the forest
plots that are commonplace in meta-analyses. The underlying idea is that
point estimates are uninformative, and it would be better to focus on
confidence intervals. The problem of the points with errorbars that are
commonly employed is that the focus the audience's attention on the upper
and lower bounds, even though those are the least relevant values. Using
diamonds remedies this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meansDiamondPlot(
  data,
  items = NULL,
  labels = NULL,
  decreasing = NULL,
  conf.level = 0.95,
  showData = TRUE,
  dataAlpha = 0.1,
  dataSize = 3,
  dataColor = "#444444",
  diamondColors = NULL,
  jitterWidth = 0.5,
  jitterHeight = 0.4,
  returnLayerOnly = FALSE,
  xlab = "Scores and means",
  ylab = NULL,
  theme = ggplot2::theme_bw(),
  xbreaks = "auto",
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  dat = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meansDiamondPlot_+3A_data">data</code>, <code id="meansDiamondPlot_+3A_dat">dat</code></td>
<td>
<p>The dataframe containing the variables (<code>items</code>) to show in
the diamond plot (the name <code>dat</code> for this argument is deprecated but still
works for backward compatibility).</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_items">items</code></td>
<td>
<p>Optionally, the names (or numeric indices) of the variables
(items) to show in the diamond plot. If NULL, all columns (variables, items)
will be used.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_labels">labels</code></td>
<td>
<p>A character vector of labels to use instead of column names
from the dataframe.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_decreasing">decreasing</code></td>
<td>
<p>Whether to sort the variables (rows) in the diamond plot
decreasing (TRUE), increasing (FALSE), or not at all (NULL).</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence of the confidence intervals.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_showdata">showData</code></td>
<td>
<p>Whether to show the raw data or not.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_dataalpha">dataAlpha</code></td>
<td>
<p>This determines the alpha (transparency) of the data
points. Note that argument <code>alpha</code> can be used to set the alpha of the
diamonds; this is eventually passed on to <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_datasize">dataSize</code></td>
<td>
<p>The size of the data points.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_datacolor">dataColor</code></td>
<td>
<p>The color of the data points.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_diamondcolors">diamondColors</code></td>
<td>
<p>A vector of the same length as there are rows in the
dataframe, to manually specify colors for the diamonds.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_jitterwidth">jitterWidth</code></td>
<td>
<p>How much to jitter the individual datapoints
horizontally.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_jitterheight">jitterHeight</code></td>
<td>
<p>How much to jitter the individual datapoints vertically.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_returnlayeronly">returnLayerOnly</code></td>
<td>
<p>Set this to TRUE to only return the
<code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> layer of the diamondplot, which can be useful to
include it in other plots.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_xlab">xlab</code>, <code id="meansDiamondPlot_+3A_ylab">ylab</code></td>
<td>
<p>The labels of the X and Y axes.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_theme">theme</code></td>
<td>
<p>The theme to use.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_xbreaks">xbreaks</code></td>
<td>
<p>Where the breaks (major grid lines, ticks, and labels) on the
x axis should be.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_outputfile">outputFile</code></td>
<td>
<p>A file to which to save the plot.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_outputwidth">outputWidth</code>, <code id="meansDiamondPlot_+3A_outputheight">outputHeight</code></td>
<td>
<p>Width and height of saved plot (specified in
centimeters by default, see <code>ggsaveParams</code>).</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_ggsaveparams">ggsaveParams</code></td>
<td>
<p>Parameters to pass to ggsave when saving the plot.</p>
</td></tr>
<tr><td><code id="meansDiamondPlot_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed to <code><a href="#topic+diamondPlot">diamondPlot()</a></code>
and eventually to <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>. This can be used to, for
example, specify two or more colors to use to generate a gradient (using
<code>generateColors</code> and maybe <code>fullColorRange</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> plot with a <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code> is
returned.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+diamondPlot">diamondPlot()</a></code>, <code><a href="#topic+meanSDtoDiamondPlot">meanSDtoDiamondPlot()</a></code>, <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>, <code><a href="#topic+factorLoadingDiamondCIplot">factorLoadingDiamondCIplot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tmpDf &lt;- data.frame(item1 = rnorm(50, 1.6, 1),
                    item2 = rnorm(50, 2.6, 2),
                    item3 = rnorm(50, 4.1, 3));

### A simple diamond plot
meansDiamondPlot(tmpDf);

### A diamond plot with manually
### specified labels and colors
meansDiamondPlot(tmpDf,
                 labels=c('First',
                          'Second',
                          'Third'),
                  diamondColors=c('blue', 'magenta', 'yellow'));

### Using a gradient for the colors
meansDiamondPlot(tmpDf,
                 labels=c('First',
                          'Second',
                          'Third'),
                 generateColors = c("magenta", "cyan"),
                 fullColorRange = c(1,5));

</code></pre>

<hr>
<h2 id='meansDiamondPlotjmv'>Diamond plot: means</h2><span id='topic+meansDiamondPlotjmv'></span>

<h3>Description</h3>

<p>Diamond plot: means
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meansDiamondPlotjmv(data, items, conf.level = 95, showData = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meansDiamondPlotjmv_+3A_data">data</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="meansDiamondPlotjmv_+3A_items">items</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="meansDiamondPlotjmv_+3A_conf.level">conf.level</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="meansDiamondPlotjmv_+3A_showdata">showData</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A results object containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>results$text</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a html </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>results$diamondPlot</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> an image </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<hr>
<h2 id='meanSDtoDiamondPlot'>A diamond plot based on means, standard deviations, and sample sizes</h2><span id='topic+meanSDtoDiamondPlot'></span>

<h3>Description</h3>

<p>This function generates a so-called diamond plot: a plot based on the forest
plots that are commonplace in meta-analyses. The underlying idea is that
point estimates are uninformative, and it would be better to focus on
confidence intervals. The problem of the points with errorbars that are
commonly employed is that the focus the audience's attention on the upper
and lower bounds, even though those are the least relevant values. Using
diamonds remedies this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanSDtoDiamondPlot(
  dat = NULL,
  means = 1,
  sds = 2,
  ns = 3,
  labels = NULL,
  colorCol = NULL,
  conf.level = 0.95,
  xlab = "Means",
  outputFile = NULL,
  outputWidth = 10,
  outputHeight = 10,
  ggsaveParams = ufs::opts$get("ggsaveParams"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanSDtoDiamondPlot_+3A_dat">dat</code></td>
<td>
<p>The dataset containing the means, standard deviations, sample
sizes, and possible labels and manually specified colors.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_means">means</code></td>
<td>
<p>Either the column in the dataframe containing the means, as
numeric or as character index, or a vector of means.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_sds">sds</code></td>
<td>
<p>Either the column in the dataframe containing the standard
deviations, as numeric or as character index, or a vector of standard
deviations.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_ns">ns</code></td>
<td>
<p>Either the column in the dataframe containing the sample sizes, as
numeric or as character index, or a vector of sample sizes.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_labels">labels</code></td>
<td>
<p>Optionally, either the column in the dataframe containing
labels, as numeric or as character index, or a vector of labels.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_colorcol">colorCol</code></td>
<td>
<p>Optionally, either the column in the dataframe containing
manually specified colours, as numeric or as character index, or a vector of
manually specified colours.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence of the confidence intervals.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_xlab">xlab</code></td>
<td>
<p>The label for the x axis.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_outputfile">outputFile</code></td>
<td>
<p>A file to which to save the plot.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_outputwidth">outputWidth</code>, <code id="meanSDtoDiamondPlot_+3A_outputheight">outputHeight</code></td>
<td>
<p>Width and height of saved plot (specified in
centimeters by default, see <code>ggsaveParams</code>).</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_ggsaveparams">ggsaveParams</code></td>
<td>
<p>Parameters to pass to ggsave when saving the plot.</p>
</td></tr>
<tr><td><code id="meanSDtoDiamondPlot_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed to <code><a href="#topic+diamondPlot">diamondPlot()</a></code>
and eventually to <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>. This can be used to, for
example, specify two or more colors to use to generate a gradient (using
<code>generateColors</code> and maybe <code>fullColorRange</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code> plot with a <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code> is
returned.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+meansDiamondPlot">meansDiamondPlot()</a></code>, <code><a href="#topic+diamondPlot">diamondPlot()</a></code>,
<code><a href="#topic+factorLoadingDiamondCIplot">factorLoadingDiamondCIplot()</a></code>, <code><a href="#topic+ggDiamondLayer">ggDiamondLayer()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tmpDf &lt;- data.frame(means = c(1, 2, 3),
                    sds = c(1.5, 3, 5),
                    ns = c(2, 4, 10),
                    labels = c('first', 'second', 'third'),
                    color = c('purple', 'grey', 'orange'));

### A simple diamond plot
meanSDtoDiamondPlot(tmpDf);

### A simple diamond plot with labels
meanSDtoDiamondPlot(tmpDf, labels=4);

### When specifying column names, specify column
### names for all columns
meanSDtoDiamondPlot(tmpDf, means='means',
                    sds='sds', ns='ns',
                    labels='labels');

### A diamond plot using the specified colours
meanSDtoDiamondPlot(tmpDf, labels=4, colorCol=5);

### A diamond plot using automatically generated colours
### using a gradient
meanSDtoDiamondPlot(tmpDf,
                    generateColors=c('green', 'red'));

### A diamond plot using automatically generated colours
### using a gradient, specifying the minimum and maximum
### possible values that can be attained
meanSDtoDiamondPlot(tmpDf,
                    generateColors=c('red', 'yellow', 'blue'),
                    fullColorRange=c(0, 5));

</code></pre>

<hr>
<h2 id='multiResponse'>Generate a table for multiple response questions</h2><span id='topic+multiResponse'></span>

<h3>Description</h3>

<p>The <code>multiResponse</code> function mimics the behavior of the table produced
by SPSS for multiple response questions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiResponse(
  data,
  items = NULL,
  regex = NULL,
  perlRegex = TRUE,
  endorsedOption = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiResponse_+3A_data">data</code></td>
<td>
<p>Dataframe containing the variables to display.</p>
</td></tr>
<tr><td><code id="multiResponse_+3A_items">items</code>, <code id="multiResponse_+3A_regex">regex</code></td>
<td>
<p>Arguments <code>items</code> and <code>regex</code> can be used to
specify which variables to process. <code>items</code> should contain the variable
(column) names (or indices), and <code>regex</code> should contain a regular
expression used to match to the column names of the dataframe. If none is
provided, all variables in the dataframe are processed.</p>
</td></tr>
<tr><td><code id="multiResponse_+3A_perlregex">perlRegex</code></td>
<td>
<p>Whether to use the perl engine to match the regex.</p>
</td></tr>
<tr><td><code id="multiResponse_+3A_endorsedoption">endorsedOption</code></td>
<td>
<p>Which value represents the endorsed option (note that
producing this kind of table requires dichotomous items, where each variable
is either endorsed or not endorsed, so this is also a way to treat other
variables as dichotomous).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with columns <code>Option</code>, <code>Frequency</code>,
<code>Percentage</code>, and <code style="white-space: pre;">&#8288;Percentage of (X) cases&#8288;</code>, where X is the number
of cases.
</p>


<h3>Author(s)</h3>

<p>Ananda Mahto; implemented in this package (and tweaked a bit) by
Gjalt-Jorn Peters.
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>This function is based on the excellent and extensive Stack
Exchange answer by Ananda Mahto at
https://stackoverflow.com/questions/9265003/analysis-of-multiple-response.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
multiResponse(mtcars, c('vs', 'am'));

</code></pre>

<hr>
<h2 id='multiResponsejmv'>Multi Response</h2><span id='topic+multiResponsejmv'></span>

<h3>Description</h3>

<p>Multi Response
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiResponsejmv(data, items, endorsedOption = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiResponsejmv_+3A_data">data</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="multiResponsejmv_+3A_items">items</code></td>
<td>
<p>.</p>
</td></tr>
<tr><td><code id="multiResponsejmv_+3A_endorsedoption">endorsedOption</code></td>
<td>
<p>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A results object containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>results$table</code> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> a table </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Tables can be converted to data frames with <code>asDF</code> or <code><a href="base.html#topic+as.data.frame">as.data.frame</a></code>. For example:
</p>
<p><code>results$table$asDF</code>
</p>
<p><code>as.data.frame(results$table)</code>
</p>

<hr>
<h2 id='multiVarFreq'>Generate a table collapsing frequencies of multiple variables</h2><span id='topic+multiVarFreq'></span>

<h3>Description</h3>

<p>This function can be used to efficiently combine the frequencies of
variables with the same possible values. The frequencies are collapsed into
a table with the variable names as row names and the possible values as
column (variable) names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiVarFreq(data, items = NULL, labels = NULL, sortByMean = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiVarFreq_+3A_data">data</code></td>
<td>
<p>The dataframe containing the variables.</p>
</td></tr>
<tr><td><code id="multiVarFreq_+3A_items">items</code></td>
<td>
<p>The variable names.</p>
</td></tr>
<tr><td><code id="multiVarFreq_+3A_labels">labels</code></td>
<td>
<p>Labels can be provided which will be set as row names when
provided.</p>
</td></tr>
<tr><td><code id="multiVarFreq_+3A_sortbymean">sortByMean</code></td>
<td>
<p>Whether to sort the rows by mean value for each variable
(only sensible if the possible values are numeric).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The resulting dataframe, but with class 'multiVarFreq' prepended to
allow pretty printing.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+table">table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
multiVarFreq(mtcars, c('gear', 'carb'));

</code></pre>

<hr>
<h2 id='normalHist'>normalHist</h2><span id='topic+normalHist'></span><span id='topic+print.normalHist'></span>

<h3>Description</h3>

<p>normalHist generates a histogram with a density curve and a normal density
curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalHist(
  vector,
  histColor = "#0000CC",
  distributionColor = "#0000CC",
  normalColor = "#00CC00",
  distributionLineSize = 1,
  normalLineSize = 1,
  histAlpha = 0.25,
  xLabel = NULL,
  yLabel = NULL,
  normalCurve = TRUE,
  distCurve = TRUE,
  breaks = 30,
  theme = ggplot2::theme_minimal(),
  rug = NULL,
  jitteredRug = TRUE,
  rugSides = "b",
  rugAlpha = 0.2,
  returnPlotOnly = FALSE
)

## S3 method for class 'normalHist'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normalHist_+3A_vector">vector</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_histcolor">histColor</code></td>
<td>
<p>The colour to use for the histogram.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_distributioncolor">distributionColor</code></td>
<td>
<p>The colour to use for the density curve.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_normalcolor">normalColor</code></td>
<td>
<p>The colour to use for the normal curve.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_distributionlinesize">distributionLineSize</code></td>
<td>
<p>The line size to use for the distribution
density curve.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_normallinesize">normalLineSize</code></td>
<td>
<p>The line size to use for the normal curve.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_histalpha">histAlpha</code></td>
<td>
<p>Alpha value ('opaqueness', as in, versus transparency) of
the histogram.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_xlabel">xLabel</code></td>
<td>
<p>Label to use on x axis.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_ylabel">yLabel</code></td>
<td>
<p>Label to use on y axis.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_normalcurve">normalCurve</code></td>
<td>
<p>Whether to display the normal curve.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_distcurve">distCurve</code></td>
<td>
<p>Whether to display the curve showing the distribution of
the observed data.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_breaks">breaks</code></td>
<td>
<p>The number of breaks to use (this is equal to the number of
bins minus one, or in other words, to the number of bars minus one).</p>
</td></tr>
<tr><td><code id="normalHist_+3A_theme">theme</code></td>
<td>
<p>The theme to use.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_rug">rug</code></td>
<td>
<p>Whether to add a rug (i.e. lines at the bottom that correspond to
individual datapoints.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_jitteredrug">jitteredRug</code></td>
<td>
<p>Whether to jitter the rug (useful for variables with
several datapoints sharing the same value.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_rugsides">rugSides</code></td>
<td>
<p>This is useful when the histogram will be rotated; for
example, this can be set to 'r' if the histogram is rotated 270 degrees.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_rugalpha">rugAlpha</code></td>
<td>
<p>Alpha value to use for the rug. When there is a lot of
overlap, this can help get an idea of the number of datapoints at 'popular'
values.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_returnplotonly">returnPlotOnly</code></td>
<td>
<p>Whether to return the usual <code>normalHist</code> object
that also contains all settings and intermediate objects, or whether to only
return the <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code> plot.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_x">x</code></td>
<td>
<p>The object to print.</p>
</td></tr>
<tr><td><code id="normalHist_+3A_...">...</code></td>
<td>
<p>Any additional arguments are passed to the default <code>print</code> method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object, with the following elements: </p>
<table>
<tr><td><code>input</code></td>
<td>
<p>The input when the
function was called.</p>
</td></tr> <tr><td><code>intermediate</code></td>
<td>
<p>The intermediate numbers and
distributions.</p>
</td></tr> <tr><td><code>dat</code></td>
<td>
<p>The dataframe used to generate the plot.</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>The histogram.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>normalHist(mtcars$mpg)

</code></pre>

<hr>
<h2 id='noZero'>Remove one or more zeroes before the decimal point</h2><span id='topic+noZero'></span>

<h3>Description</h3>

<p>Remove one or more zeroes before the decimal point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>noZero(str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="noZero_+3A_str">str</code></td>
<td>
<p>The character string to process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The processed string.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+formatCI">formatCI()</a></code>, <code><a href="#topic+formatR">formatR()</a></code>, <code><a href="#topic+formatPvalue">formatPvalue()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>noZero("0.3");
</code></pre>

<hr>
<h2 id='opts'>Options for the ufs package</h2><span id='topic+opts'></span><span id='topic+set'></span><span id='topic+get'></span><span id='topic+reset'></span>

<h3>Description</h3>

<p>The <code>ufs::opts</code> object contains three functions to set, get, and reset
options used by the ufs package. Use <code>ufs::opts$set</code> to set options,
<code>ufs::opts$get</code> to get options, or <code>ufs::opts$reset</code> to reset specific or
all options to their default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opts
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 5.
</p>


<h3>Details</h3>

<p>It is normally not necessary to get or set <code>ufs</code> options.
</p>
<p>The following arguments can be passed:
</p>

<dl>
<dt>...</dt><dd><p>For <code>ufs::opts$set</code>, the dots can be used to specify the options
to set, in the format <code>option = value</code>, for example,
<code>tableOutput = c("console", "viewer")</code>. For
<code>ufs::opts$reset</code>, a list of options to be reset can be passed.</p>
</dd>
<dt>option</dt><dd><p>For <code>ufs::opts$set</code>, the name of the option to set.</p>
</dd>
<dt>default</dt><dd><p>For <code>ufs::opts$get</code>, the default value to return if the
option has not been manually specified.</p>
</dd>
</dl>

<p>The following options can be set:
</p>

<dl>
<dt>tableOutput</dt><dd><p>Where to show some tables.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>### Get the default columns in the variable view
ufs::opts$get("tableOutput");

### Set it to a custom version
ufs::opts$set(tableOutput = c("values", "level"));

### Check that it worked
ufs::opts$get("tableOutput");

### Reset this option to its default value
ufs::opts$reset("tableOutput");

### Check that the reset worked, too
ufs::opts$get("tableOutput");

</code></pre>

<hr>
<h2 id='parallelSubscales'>Split a dataset into two parallel halves</h2><span id='topic+parallelSubscales'></span><span id='topic+print.parallelSubscales'></span>

<h3>Description</h3>

<p>Split a dataset into two parallel halves
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parallelSubscales(dat, convertToNumeric = TRUE)

## S3 method for class 'parallelSubscales'
print(x, digits = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parallelSubscales_+3A_dat">dat</code></td>
<td>
<p>The dataframe</p>
</td></tr>
<tr><td><code id="parallelSubscales_+3A_converttonumeric">convertToNumeric</code></td>
<td>
<p>Whether to first convert all columns to numeric</p>
</td></tr>
<tr><td><code id="parallelSubscales_+3A_x">x</code></td>
<td>
<p>The object to print</p>
</td></tr>
<tr><td><code id="parallelSubscales_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to</p>
</td></tr>
<tr><td><code id="parallelSubscales_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>parallelSubscales</code> object that contains the new data frames,
and when printed shows the descriptives; or, for the print function, <code>x</code>,
invisibly.
</p>

<hr>
<h2 id='pomegaSq'>The distribution of Omega Squared</h2><span id='topic+pomegaSq'></span><span id='topic+domegaSq'></span><span id='topic+qomegaSq'></span><span id='topic+romegaSq'></span>

<h3>Description</h3>

<p>These functions use some conversion to and from the <em>F</em> distribution to
provide the Omega Squared distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pomegaSq(q, df1, df2, populationOmegaSq = 0, lower.tail = TRUE)

qomegaSq(p, df1, df2, populationOmegaSq = 0, lower.tail = TRUE)

romegaSq(n, df1, df2, populationOmegaSq = 0)

domegaSq(x, df1, df2, populationOmegaSq = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pomegaSq_+3A_df1">df1</code>, <code id="pomegaSq_+3A_df2">df2</code></td>
<td>
<p>Degrees of freedom for the numerator and the denominator,
respectively.</p>
</td></tr>
<tr><td><code id="pomegaSq_+3A_populationomegasq">populationOmegaSq</code></td>
<td>
<p>The value of Omega Squared in the population; this
determines the center of the Omega Squared distribution. This has not been
implemented yet in this version of <code>ufs</code>. If anybody
has the inverse of <code><a href="#topic+convert.ncf.to.omegasq">convert.ncf.to.omegasq()</a></code> for me, I'll happily
integrate this.</p>
</td></tr>
<tr><td><code id="pomegaSq_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; if TRUE (default), probabilities are the
likelihood of finding an Omega Squared smaller than the specified value;
otherwise, the likelihood of finding an Omega Squared larger than the
specified value.</p>
</td></tr>
<tr><td><code id="pomegaSq_+3A_p">p</code></td>
<td>
<p>Vector of probabilites (<em>p</em>-values).</p>
</td></tr>
<tr><td><code id="pomegaSq_+3A_n">n</code></td>
<td>
<p>Desired number of Omega Squared values.</p>
</td></tr>
<tr><td><code id="pomegaSq_+3A_x">x</code>, <code id="pomegaSq_+3A_q">q</code></td>
<td>
<p>Vector of quantiles, or, in other words, the value(s) of Omega
Squared.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions use <code><a href="#topic+convert.omegasq.to.f">convert.omegasq.to.f()</a></code> and
<code><a href="#topic+convert.f.to.omegasq">convert.f.to.omegasq()</a></code> to provide the Omega Squared
distribution.
</p>


<h3>Value</h3>

<p><code>domegaSq</code> gives the density, <code>pomegaSq</code> gives the
distribution function, <code>qomegaSq</code> gives the quantile function, and
<code>romegaSq</code> generates random deviates.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+convert.omegasq.to.f">convert.omegasq.to.f()</a></code>,
<code><a href="#topic+convert.f.to.omegasq">convert.f.to.omegasq()</a></code>, <code><a href="stats.html#topic+df">df()</a></code>, <code><a href="stats.html#topic+pf">pf()</a></code>,
<code><a href="stats.html#topic+qf">qf()</a></code>, <code><a href="stats.html#topic+rf">rf()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Generate 10 random Omega Squared values
romegaSq(10, 66, 3);

### Probability of findings an Omega Squared
### value smaller than .06 if it's 0 in the population
pomegaSq(.06, 66, 3);

</code></pre>

<hr>
<h2 id='pwr.bootES'>Estimate required sample size for accuracy in parameter estimation using bootES</h2><span id='topic+pwr.bootES'></span>

<h3>Description</h3>

<p>This function uses <code><a href="bootES.html#topic+bootES">bootES::bootES()</a></code> to compute
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pwr.bootES(data = data, ci.type = "bca", ..., w = 0.1, silent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pwr.bootES_+3A_data">data</code></td>
<td>
<p>The dataset, as you would normally supply to <code><a href="bootES.html#topic+bootES">bootES::bootES()</a></code>;
you will probably have to simulate this.</p>
</td></tr>
<tr><td><code id="pwr.bootES_+3A_ci.type">ci.type</code></td>
<td>
<p>The estimation method; by default, the default of
<code><a href="bootES.html#topic+bootES">bootES::bootES()</a></code> is used ('bca'), but this is changed to 'basic' if it
encounters problems.</p>
</td></tr>
<tr><td><code id="pwr.bootES_+3A_...">...</code></td>
<td>
<p>Other options for <code><a href="bootES.html#topic+bootES">bootES::bootES()</a></code> (see that help page).</p>
</td></tr>
<tr><td><code id="pwr.bootES_+3A_w">w</code></td>
<td>
<p>The desired 'halfwidth' of the confidence interval.</p>
</td></tr>
<tr><td><code id="pwr.bootES_+3A_silent">silent</code></td>
<td>
<p>Whether to provide a lot of information about progress
('FALSE') or not ('TRUE').</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single numeric value (the sample size).
</p>


<h3>References</h3>

<p>Kirby, K. N., &amp; Gerlanc, D. (2013). BootES: An R package for bootstrap confidence
intervals on effect sizes. <em>Behavior Research Methods, 45</em>, 905â€“927. <a href="https://doi.org/10.3758/s13428-013-0330-5">doi:10.3758/s13428-013-0330-5</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### This requires the bootES package
  if (requireNamespace("bootES", quietly = TRUE)) {

  ### To estimate a mean
  x &lt;- rnorm(500, mean=8, sd=3);
  pwr.bootES(data.frame(x=x),
             R=500,
             w=.5);

  ### To estimate a correlation (the 'effect.type' parameter is
  ### redundant here; with two columns in the data frame, computing
  ### the confidence interval for the Pearson correlation is the default
  ### ehavior of bootES)
  y &lt;- x+rnorm(500, mean=0, sd=5);
  cor(x, y);
  requiredN &lt;-
    pwr.bootES(data.frame(x=x,
                          y=y),
               effect.type='r',
               R=500,
               w=.2);
  print(requiredN);
  ### Compare to parametric confidence interval
  ### based on the computed required sample size
  confIntR(r = cor(x, y),
           N = requiredN);
  ### Width of obtained confidence interval
  print(round(diff(as.numeric(confIntR(r = cor(x, y),
                              N = requiredN))), 2));
}
</code></pre>

<hr>
<h2 id='pwr.confIntProp'>Estimate required sample size for accuracy in parameter estimation of a proportion</h2><span id='topic+pwr.confIntProp'></span>

<h3>Description</h3>

<p>This function uses <code><a href="#topic+confIntProp">confIntProp()</a></code> to compute the required sample size for
estimating a proportion with a given accuracy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pwr.confIntProp(prop, conf.level = 0.95, w = 0.1, silent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pwr.confIntProp_+3A_prop">prop</code></td>
<td>
<p>The proportion you expect to find, or a vector of proportions to
enable easy sensitivity analyses.</p>
</td></tr>
<tr><td><code id="pwr.confIntProp_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level of the desired confidence interval.</p>
</td></tr>
<tr><td><code id="pwr.confIntProp_+3A_w">w</code></td>
<td>
<p>The desired 'halfwidth' of the confidence interval.</p>
</td></tr>
<tr><td><code id="pwr.confIntProp_+3A_silent">silent</code></td>
<td>
<p>Whether to provide a lot of information about progress
('FALSE') or not ('TRUE').</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single numeric value (the sample size).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Required sample size to estimate a prevalence of .03 in the
### population with a confidence interval of a maximum half-width of .01
pwr.confIntProp(.03, w=.01);

### Vectorized over prop, so you can easily see how the required sample
### size varies as a function of the proportion
pwr.confIntProp(c(.03, .05, .10), w=.01);
</code></pre>

<hr>
<h2 id='pwr.confIntR'>Determine required sample size for a given confidence interval width for
Pearson's r</h2><span id='topic+pwr.confIntR'></span>

<h3>Description</h3>

<p>This function computes how many participants you need if you want to achieve
a confidence interval of a given width. This is useful when you do a study
and you are interested in how strongly two variables are associated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pwr.confIntR(r, w = 0.1, conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pwr.confIntR_+3A_r">r</code></td>
<td>
<p>The correlation you expect to find (confidence intervals for a
given level of confidence get narrower as the correlation coefficient
increases).</p>
</td></tr>
<tr><td><code id="pwr.confIntR_+3A_w">w</code></td>
<td>
<p>The required half-width (or margin of error) of the confidence
interval.</p>
</td></tr>
<tr><td><code id="pwr.confIntR_+3A_conf.level">conf.level</code></td>
<td>
<p>The level of confidence.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The required sample size, or a vector or matrix of sample sizes if
multiple correlation coefficients or required (half-)widths were supplied.
The row and column names specify the <code>r</code> and <code>w</code> values to which
the sample size in each cell corresponds. The confidence level is set as
attribute to the resulting vector or matrix.
</p>


<h3>Author(s)</h3>

<p>Douglas Bonett (UC Santa Cruz, United States), with minor edits by
Murray Moinester (Tel Aviv University, Israel) and Gjalt-Jorn Peters (Open
University of the Netherlands, the Netherlands).
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Bonett, D. G., Wright, T. A. (2000). Sample size requirements
for estimating Pearson, Kendall and Spearman correlations.
<em>Psychometrika, 65</em>, 23-28.
</p>
<p>Bonett, D. G. (2014). CIcorr.R and sizeCIcorr.R
http://people.ucsc.edu/~dgbonett/psyc181.html
</p>
<p>Moinester, M., &amp; Gottfried, R. (2014). Sample size estimation for
correlations with pre-specified confidence interval. <em>The Quantitative
Methods of Psychology, 10</em>(2), 124-130.
http://www.tqmp.org/RegularArticles/vol10-2/p124/p124.pdf
</p>
<p>Peters, G. J. Y. &amp; Crutzen, R. (forthcoming) An easy and foolproof method
for establishing how effective an intervention or behavior change method is:
required sample size for accurate parameter estimation in health psychology.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pwr.confIntR">pwr.confIntR</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pwr.confIntR(c(.4, .6, .8), w=c(.1, .2));

</code></pre>

<hr>
<h2 id='pwr.omegasq'>Power calculations for Omega Squared.</h2><span id='topic+pwr.omegasq'></span><span id='topic+print.pwr.omegasq'></span>

<h3>Description</h3>

<p>This function uses <code><a href="pwr.html#topic+pwr.anova.test">pwr.anova.test</a></code> from the <code><a href="pwr.html#topic+pwr">pwr</a></code>
package in combination with <code><a href="#topic+convert.cohensf.to.omegasq">convert.cohensf.to.omegasq</a></code> and
<code><a href="#topic+convert.omegasq.to.cohensf">convert.omegasq.to.cohensf</a></code> to provide power analyses for Omega
Squared.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pwr.omegasq(
  k = NULL,
  n = NULL,
  omegasq = NULL,
  sig.level = 0.05,
  power = NULL,
  digits = 4
)

## S3 method for class 'pwr.omegasq'
print(x, digits = x$digits, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pwr.omegasq_+3A_k">k</code></td>
<td>
<p>The number of groups.</p>
</td></tr>
<tr><td><code id="pwr.omegasq_+3A_n">n</code></td>
<td>
<p>The sample size.</p>
</td></tr>
<tr><td><code id="pwr.omegasq_+3A_omegasq">omegasq</code></td>
<td>
<p>The Omega Squared value.</p>
</td></tr>
<tr><td><code id="pwr.omegasq_+3A_sig.level">sig.level</code></td>
<td>
<p>The significance level (alpha).</p>
</td></tr>
<tr><td><code id="pwr.omegasq_+3A_power">power</code></td>
<td>
<p>The power.</p>
</td></tr>
<tr><td><code id="pwr.omegasq_+3A_digits">digits</code></td>
<td>
<p>The number of digits desired in the output (4, the default, is
quite high; but omega squared value tend to be quite low).</p>
</td></tr>
<tr><td><code id="pwr.omegasq_+3A_x">x</code></td>
<td>
<p>The object to print.</p>
</td></tr>
<tr><td><code id="pwr.omegasq_+3A_...">...</code></td>
<td>
<p>Additional arguments are ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function was written to work similarly to the power functions in the
<code><a href="pwr.html#topic+pwr">pwr</a></code> package.
</p>


<h3>Value</h3>

<p>An <code>power.htest.ufs</code> object that contains a number of input and
output values, most notably:
</p>
<table>
<tr><td><code>power</code></td>
<td>
<p>The (specified or computed) power</p>
</td></tr> <tr><td><code>n</code></td>
<td>
<p>The (specified or
computed) sample size in each group</p>
</td></tr> <tr><td><code>sig.level</code></td>
<td>
<p>The (specified or
computed) significance level (alpha)</p>
</td></tr> <tr><td><code>sig.level</code></td>
<td>
<p>The (specified or
computed) Omega Squared value</p>
</td></tr> <tr><td><code>cohensf</code></td>
<td>
<p>The computed value for the
Cohen's <em>f</em> effect size measure</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters &amp; Peter Verboon
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="pwr.html#topic+pwr.anova.test">pwr.anova.test</a></code>,
<code><a href="#topic+convert.cohensf.to.omegasq">convert.cohensf.to.omegasq</a></code>,
<code><a href="#topic+convert.omegasq.to.cohensf">convert.omegasq.to.cohensf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pwr.omegasq(omegasq=.06, k=3, power=.8)

</code></pre>

<hr>
<h2 id='quietRemotesInstall'>Quietly update a package from a remote repository</h2><span id='topic+quietRemotesInstall'></span><span id='topic+quietGitLabUpdate'></span>

<h3>Description</h3>

<p>Simple wrapper for <code>remotes</code> functions that fail gracefully (well, don't
fail at all, just don't do what they're supposed to do) when there's no
internet connection).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quietRemotesInstall(
  x,
  func,
  unloadNamespace = TRUE,
  dependencies = FALSE,
  upgrade = FALSE,
  quiet = TRUE,
  errorInvisible = TRUE,
  ...
)

quietGitLabUpdate(
  x,
  unloadNamespace = TRUE,
  dependencies = FALSE,
  upgrade = FALSE,
  quiet = TRUE,
  errorInvisible = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="quietRemotesInstall_+3A_x">x</code></td>
<td>
<p>The repository name (e.g. &quot;<code>r-packages/ufs</code>&quot;)</p>
</td></tr>
<tr><td><code id="quietRemotesInstall_+3A_func">func</code></td>
<td>
<p>The <code>remotes</code> function to use</p>
</td></tr>
<tr><td><code id="quietRemotesInstall_+3A_unloadnamespace">unloadNamespace</code></td>
<td>
<p>Whether to first unload the relevant namespace</p>
</td></tr>
<tr><td><code id="quietRemotesInstall_+3A_dependencies">dependencies</code>, <code id="quietRemotesInstall_+3A_upgrade">upgrade</code></td>
<td>
<p>Whether to install dependencies or upgrade</p>
</td></tr>
<tr><td><code id="quietRemotesInstall_+3A_quiet">quiet</code></td>
<td>
<p>Whether to suppress messages and warnings</p>
</td></tr>
<tr><td><code id="quietRemotesInstall_+3A_errorinvisible">errorInvisible</code></td>
<td>
<p>Whether to suppress errors</p>
</td></tr>
<tr><td><code id="quietRemotesInstall_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed on to the <code>remotes</code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of the call to the <code>remotes</code> function
</p>

<hr>
<h2 id='qVec'>Convenience function to quickly copy-paste a vector</h2><span id='topic+qVec'></span><span id='topic+qVecSum'></span>

<h3>Description</h3>

<p>Convenience function to quickly copy-paste a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qVec(x, fn = NULL)

qVecSum(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qVec_+3A_x">x</code></td>
<td>
<p>A string with numbers, separated by arbitrary whitespace.</p>
</td></tr>
<tr><td><code id="qVec_+3A_fn">fn</code></td>
<td>
<p>An optional function to apply to the vecor before returning it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The numeric vector or result of calling the function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>qVec('23 	9 	11 	14 	12 	20');
</code></pre>

<hr>
<h2 id='rbind_df_list'>Bind lots of dataframes together rowwise</h2><span id='topic+rbind_df_list'></span>

<h3>Description</h3>

<p>Bind lots of dataframes together rowwise
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbind_df_list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rbind_df_list_+3A_x">x</code></td>
<td>
<p>A list of dataframes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rbind_df_list(list(Orange, mtcars, ChickWeight));
</code></pre>

<hr>
<h2 id='rbind_dfs'>Simple alternative for rbind.fill or bind_rows</h2><span id='topic+rbind_dfs'></span>

<h3>Description</h3>

<p>Simple alternative for rbind.fill or bind_rows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbind_dfs(x, y, clearRowNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rbind_dfs_+3A_x">x</code></td>
<td>
<p>One dataframe</p>
</td></tr>
<tr><td><code id="rbind_dfs_+3A_y">y</code></td>
<td>
<p>Another dataframe</p>
</td></tr>
<tr><td><code id="rbind_dfs_+3A_clearrownames">clearRowNames</code></td>
<td>
<p>Whether to clear row names (to avoid duplication)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The merged dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rbind_dfs(Orange, mtcars);
</code></pre>

<hr>
<h2 id='regrInfluential'>Detecting influential cases in regression analyses</h2><span id='topic+regrInfluential'></span><span id='topic+print.regrInfluential'></span>

<h3>Description</h3>

<p>This function combines a number of criteria for determining whether a
datapoint is an influential case in a regression analysis. It then sum the
criteria to compute an index of influentiality. A list of cases with an
index of influentiality of 1 or more is then displayed, after which the
regression analysis is repeated without those influantial cases. A
scattermatrix is also displayed, showing the density curves of each
variable, and in the scattermatrix, points that are colored depending on how
influential each case is.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regrInfluential(formula, data, createPlot = TRUE)

## S3 method for class 'regrInfluential'
print(x, headingLevel = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regrInfluential_+3A_formula">formula</code></td>
<td>
<p>The formule of the regression analysis.</p>
</td></tr>
<tr><td><code id="regrInfluential_+3A_data">data</code></td>
<td>
<p>The data to use for the analysis.</p>
</td></tr>
<tr><td><code id="regrInfluential_+3A_createplot">createPlot</code></td>
<td>
<p>Whether to create the scattermatrix (requires the <code>GGally</code>
package to be installed).</p>
</td></tr>
<tr><td><code id="regrInfluential_+3A_x">x</code></td>
<td>
<p>Object to print.</p>
</td></tr>
<tr><td><code id="regrInfluential_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The number of hash symbols to prepend to the heading.</p>
</td></tr>
<tr><td><code id="regrInfluential_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed on to the <code>regr</code> print function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>regrInfluential</code> object, which, if printed, shows the
influential cases, the regression analyses repeated without those cases, and
the scatter matrix.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters &amp; Marwin Snippe
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
regrInfluential(mpg ~ hp, mtcars);

</code></pre>

<hr>
<h2 id='repeatStr'>Repeat a string a number of times</h2><span id='topic+repeatStr'></span><span id='topic+repStr'></span>

<h3>Description</h3>

<p>Repeat a string a number of times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>repeatStr(n = 1, str = " ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="repeatStr_+3A_n">n</code>, <code id="repeatStr_+3A_str">str</code></td>
<td>
<p>Normally, respectively the frequency with which to
repeat the string and the string to repeat; but the order of the
inputs can be switched as well.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### 10 spaces:
repStr(10);

### Three euro symbols:
repStr("\u20ac", 3);
</code></pre>

<hr>
<h2 id='report'>Output report from results</h2><span id='topic+report'></span><span id='topic+report.default'></span>

<h3>Description</h3>

<p>This method can be used to format results in a way that can directly be
included in a report or manuscript.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report(x, headingLevel = 3, quiet = TRUE, ...)

## Default S3 method:
report(x, headingLevel = 3, quiet = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="report_+3A_x">x</code></td>
<td>
<p>The object to show.</p>
</td></tr>
<tr><td><code id="report_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the Markdown heading to provide; basically
the number of hashes ('<code style="white-space: pre;">&#8288;#&#8288;</code>') to prepend to the headings.</p>
</td></tr>
<tr><td><code id="report_+3A_quiet">quiet</code></td>
<td>
<p>Passed on to <code><a href="knitr.html#topic+knit">knitr::knit()</a></code> whether it should b
chatty (<code>FALSE</code>) or quiet (<code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="report_+3A_...">...</code></td>
<td>
<p>Passed to the specific method; for the default method, this is
passed to the print method.</p>
</td></tr>
</table>

<hr>
<h2 id='safeRequire'>Load a package, install if not available</h2><span id='topic+safeRequire'></span>

<h3>Description</h3>

<p>Load a package, install if not available
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safeRequire(packageName, mirrorIndex = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safeRequire_+3A_packagename">packageName</code></td>
<td>
<p>The package</p>
</td></tr>
<tr><td><code id="safeRequire_+3A_mirrorindex">mirrorIndex</code></td>
<td>
<p>The index of the mirror (1 is used if not specified)</p>
</td></tr>
</table>

<hr>
<h2 id='scaleDiagnosis'>scaleDiagnosis</h2><span id='topic+scaleDiagnosis'></span><span id='topic+print.scaleDiagnosis'></span><span id='topic+scaleDiagnosis_partial'></span><span id='topic+knit_print.scaleDiagnosis'></span>

<h3>Description</h3>

<p>scaleDiagnosis provides a number of diagnostics for a scale (an aggregative
measure consisting of several items).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scaleDiagnosis(
  data = NULL,
  items = NULL,
  plotSize = 180,
  sizeMultiplier = 1,
  axisLabels = "none",
  scaleReliability.ci = FALSE,
  conf.level = 0.95,
  normalHist = TRUE,
  poly = TRUE,
  digits = 3,
  headingLevel = 3,
  scaleName = NULL,
  ...
)

## S3 method for class 'scaleDiagnosis'
print(x, digits = x$digits, ...)

scaleDiagnosis_partial(
  x,
  headingLevel = x$input$headingLevel,
  quiet = TRUE,
  echoPartial = FALSE,
  partialFile = NULL,
  ...
)

## S3 method for class 'scaleDiagnosis'
knit_print(
  x,
  headingLevel = x$headingLevel,
  quiet = TRUE,
  echoPartial = FALSE,
  partialFile = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scaleDiagnosis_+3A_data">data</code></td>
<td>
<p>A dataframe containing the items in the scale. All variables in
this dataframe will be used if items is NULL.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_items">items</code></td>
<td>
<p>If not NULL, this should be a character vector with the names
of the variables in the dataframe that represent items in the scale.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_plotsize">plotSize</code></td>
<td>
<p>Size of the final plot in millimeters.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_sizemultiplier">sizeMultiplier</code></td>
<td>
<p>Allows more flexible control over the size of the plot
elements</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_axislabels">axisLabels</code></td>
<td>
<p>Passed to ggpairs function to set axisLabels.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_scalereliability.ci">scaleReliability.ci</code></td>
<td>
<p>TRUE or FALSE: whether to compute confidence
intervals for Cronbach's Alpha and Omega (uses bootstrapping function in
MBESS, takes a while).</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_conf.level">conf.level</code></td>
<td>
<p>Confidence of confidence intervals for reliability
estimates (if requested with scaleReliability.ci).</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_normalhist">normalHist</code></td>
<td>
<p>Whether to use the default ggpairs histogram on the
diagonal of the scattermatrix, or whether to use the <code><a href="#topic+normalHist">normalHist()</a></code> version.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_poly">poly</code></td>
<td>
<p>Whether to also request the estimates based on the polychoric
correlation matrix when calling <code><a href="#topic+scaleStructure">scaleStructure()</a></code>.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_digits">digits</code></td>
<td>
<p>The number of digits to pass to the <code>print</code> method for the
descriptives dataframe.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the heading (number of hash characters to insert
before the heading, to be rendered as headings of that level in Markdown).</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_scalename">scaleName</code></td>
<td>
<p>Optionally, a name for the scale to print as heading for
the results.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_...">...</code></td>
<td>
<p>Additional arguments for <code>scaleDiagnosis()</code> are passed on to
<code><a href="#topic+scatterMatrix">scatterMatrix()</a></code>, and additional arguments for the <code>print</code> method are passed
to the default <code>print</code> method.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_x">x</code></td>
<td>
<p>The object to print.</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_quiet">quiet</code></td>
<td>
<p>Whether to be chatty (<code>FALSE</code>) or quiet (<code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_echopartial">echoPartial</code></td>
<td>
<p>Whether to show the code in the partial (<code>TRUE</code>) or hide it (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="scaleDiagnosis_+3A_partialfile">partialFile</code></td>
<td>
<p>The file with the Rmd partial (if you want to overwrite the default).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to generate an object with several useful statistics and a plot to
assess how the elements (usually items) in a scale relate to each other,
such as Cronbach's Alpha, omega, the Greatest Lower Bound, a factor
analysis, and a correlation matrix.
</p>


<h3>Value</h3>

<p>An object with the input and several output variables. Most notably:
</p>
<table>
<tr><td><code>scaleReliability</code></td>
<td>
<p>The results of scaleReliability.</p>
</td></tr> <tr><td><code>pca</code></td>
<td>
<p>A
Principal Components Analysis</p>
</td></tr> <tr><td><code>fa</code></td>
<td>
<p>A Factor Analysis</p>
</td></tr>
<tr><td><code>describe</code></td>
<td>
<p>Decriptive statistics about the items</p>
</td></tr>
<tr><td><code>scatterMatrix</code></td>
<td>
<p>A scattermatrix with histograms on the diagonal and
correlation coefficients in the upper right half.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Note: the 'not run' is simply because running takes a lot of time,
###       but these examples are all safe to run!
## Not run: 
### This will prompt the user to select an SPSS file
scaleDiagnosis();

### Generate a datafile to use
exampleData &lt;- data.frame(item1=rnorm(100));
exampleData$item2 &lt;- exampleData$item1+rnorm(100);
exampleData$item3 &lt;- exampleData$item1+rnorm(100);
exampleData$item4 &lt;- exampleData$item2+rnorm(100);
exampleData$item5 &lt;- exampleData$item2+rnorm(100);

### Use a selection of two variables
scaleDiagnosis(data=exampleData, items=c('item2', 'item4'));

### Use all items
scaleDiagnosis(data=exampleData);

## End(Not run)

</code></pre>

<hr>
<h2 id='scaleStructure'>scaleStructure</h2><span id='topic+scaleStructure'></span><span id='topic+scaleReliability'></span><span id='topic+scaleStructurePartial'></span><span id='topic+print.scaleStructure'></span><span id='topic+scaleStructure_partial'></span><span id='topic+knit_print.scaleStructure'></span>

<h3>Description</h3>

<p>The scaleStructure function (which was originally called scaleReliability)
computes a number of measures to assess scale reliability and internal
consistency. Note that to compute omega, the <code>MBESS</code> and/or the
<code>psych</code> packages need to be installed, which are suggested packages and
therefore should be installed separately (i.e. won't be installed
automatically).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scaleStructure(
  data = NULL,
  items = "all",
  digits = 2,
  ci = TRUE,
  interval.type = "normal-theory",
  conf.level = 0.95,
  silent = FALSE,
  samples = 1000,
  bootstrapSeed = NULL,
  omega.psych = TRUE,
  omega.psych_nfactors = 3,
  omega.psych_flip = TRUE,
  poly = TRUE,
  suppressSuggestedPkgsMsg = FALSE,
  headingLevel = 3
)

## S3 method for class 'scaleStructure'
print(x, digits = x$input$digits, ...)

scaleStructure_partial(
  x,
  headingLevel = x$input$headingLevel,
  quiet = TRUE,
  echoPartial = FALSE,
  partialFile = NULL,
  ...
)

## S3 method for class 'scaleStructure'
knit_print(
  x,
  headingLevel = x$input$headingLevel,
  quiet = TRUE,
  echoPartial = FALSE,
  partialFile = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scaleStructure_+3A_data">data</code></td>
<td>
<p>A dataframe containing the items in the scale. All variables in
this dataframe will be used if items = 'all'. If <code>dat</code> is <code>NULL</code>,
a the <code><a href="#topic+getData">getData</a></code> function will be called to show the user a
dialog to open a file.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_items">items</code></td>
<td>
<p>If not 'all', this should be a character vector with the names
of the variables in the dataframe that represent items in the scale.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_digits">digits</code></td>
<td>
<p>Number of digits to use in the presentation of the results.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_ci">ci</code></td>
<td>
<p>Whether to compute confidence intervals as well. This requires the
suggested MBESS package, which has to be installed separately. If true, the
method specified in <code>interval.type</code> is used. When specifying a
bootstrapping method, this can take quite a while!</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_interval.type">interval.type</code></td>
<td>
<p>Method to use when computing confidence intervals. The
list of methods is explained in the help file for <code>ci.reliability</code> in MBESS.
Note that when
specifying a bootstrapping method, the method will be set to
<code>normal-theory</code> for computing the confidence intervals for the ordinal
estimates, because these are based on the polychoric correlation matrix, and
raw data is required for bootstrapping.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence of the confidence intervals.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_silent">silent</code></td>
<td>
<p>If computing confidence intervals, the user is warned that it
may take a while, unless <code>silent=TRUE</code>.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_samples">samples</code></td>
<td>
<p>The number of samples to compute for the bootstrapping of the
confidence intervals.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_bootstrapseed">bootstrapSeed</code></td>
<td>
<p>The seed to use for the bootstrapping - setting this
seed makes it possible to replicate the exact same intervals, which is
useful for publications.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_omega.psych">omega.psych</code></td>
<td>
<p>Whether to also compute the interval estimate for omega
using the <code>omega</code> function in the <code>psych</code> package.
The default point estimate and confidence interval for omega are based on
the procedure suggested by Dunn, Baguley &amp; Brunsden (2013) using the
<code>MBESS</code> function <code>ci.reliability</code> (because it has
more options for computing confidence intervals, not always requiring
bootstrapping), whereas the <code>psych</code> package point estimate was
suggested in Revelle &amp; Zinbarg (2008). The <code>psych</code> estimate
usually (perhaps always) results in higher estimates for omega.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_omega.psych_nfactors">omega.psych_nfactors</code></td>
<td>
<p>The number of factor to use in the factor
analysis when computing Omega. The default in <code><a href="psych.html#topic+omega">psych::omega()</a></code> is 3; to
obtain the same results as in jamovi's &quot;Reliability&quot;, set this to 1.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_omega.psych_flip">omega.psych_flip</code></td>
<td>
<p>Whether to let <code>psych</code> automatically flip items with
negative correlations. The default in <code><a href="psych.html#topic+omega">psych::omega()</a></code> is<code>TRUE</code>; to obtain
the same results as in jamovi's &quot;Reliability&quot;, set this to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_poly">poly</code></td>
<td>
<p>Whether to compute ordinal measures (if the items have
sufficiently few categories).</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_suppresssuggestedpkgsmsg">suppressSuggestedPkgsMsg</code></td>
<td>
<p>Whether to suppress the message about the
suggested <code>MBESS</code> and <code>psych</code> packages.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the Markdown heading to provide; basically
the number of hashes ('<code style="white-space: pre;">&#8288;#&#8288;</code>') to prepend to the headings.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_x">x</code></td>
<td>
<p>The object to print</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_...">...</code></td>
<td>
<p>Any additional arguments for the default print function.</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_quiet">quiet</code></td>
<td>
<p>Passed on to <code><a href="knitr.html#topic+knit">knitr::knit()</a></code> whether it should b
chatty (<code>FALSE</code>) or quiet (<code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_echopartial">echoPartial</code></td>
<td>
<p>Whether to show the executed code in the R Markdown
partial (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="scaleStructure_+3A_partialfile">partialFile</code></td>
<td>
<p>This can be used to specify a custom partial file. The
file will have object <code>x</code> available, which is the result of a call to
<code>scaleStructure()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you use this function in an academic paper, please cite Peters (2014),
where the function is introduced, and/or Crutzen &amp; Peters (2015), where the
function is discussed from a broader perspective.
</p>
<p>This function is basically a wrapper for functions from the psych and MBESS
packages that compute measures of reliability and internal consistency. For
backwards compatibility, in addition to <code>scaleStructure</code>,
<code>scaleReliability</code> can also be used to call this function.
</p>


<h3>Value</h3>

<p>An object with the input and several output variables. Most notably:
</p>
<table>
<tr><td><code>input</code></td>
<td>
<p>Input specified when calling the function</p>
</td></tr>
<tr><td><code>intermediate</code></td>
<td>
<p>Intermediate values and objects computed to get to the
final results</p>
</td></tr> <tr><td><code>output</code></td>
<td>
<p>Values of reliability / internal consistency
measures, with as most notable elements:</p>
</td></tr> <tr><td><code>output$dat</code></td>
<td>
<p>A dataframe with
the most important outcomes</p>
</td></tr> <tr><td><code>output$omega</code></td>
<td>
<p>Point estimate for omega</p>
</td></tr>
<tr><td><code>output$glb</code></td>
<td>
<p>Point estimate for the Greatest Lower Bound</p>
</td></tr>
<tr><td><code>output$alpha</code></td>
<td>
<p>Point estimate for Cronbach's alpha</p>
</td></tr>
<tr><td><code>output$coefficientH</code></td>
<td>
<p>Coefficient H</p>
</td></tr> <tr><td><code>output$omega.ci</code></td>
<td>
<p>Confidence
interval for omega</p>
</td></tr> <tr><td><code>output$alpha.ci</code></td>
<td>
<p>Confidence interval for
Cronbach's alpha</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters and Daniel McNeish (University of North Carolina,
Chapel Hill, US).
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>References</h3>

<p>Crutzen, R., &amp; Peters, G.-J. Y. (2015). Scale quality: alpha is
an inadequate estimate and factor-analytic evidence is needed first of all.
<em>Health Psychology Review.</em>
<a href="https://doi.org/10.1080/17437199.2015.1124240">doi:10.1080/17437199.2015.1124240</a>
</p>
<p>Dunn, T. J., Baguley, T., &amp; Brunsden, V. (2014). From alpha to omega: A
practical solution to the pervasive problem of internal consistency
estimation. <em>British Journal of Psychology</em>, 105(3), 399-412.
<a href="https://doi.org/10.1111/bjop.12046">doi:10.1111/bjop.12046</a>
</p>
<p>Eisinga, R., Grotenhuis, M. Te, &amp; Pelzer, B. (2013). The reliability of a
two-item scale: Pearson, Cronbach, or Spearman-Brown? <em>International
Journal of Public Health</em>, 58(4), 637-42.
<a href="https://doi.org/10.1007/s00038-012-0416-3">doi:10.1007/s00038-012-0416-3</a>
</p>
<p>Gadermann, A. M., Guhn, M., Zumbo, B. D., &amp; Columbia, B. (2012). Estimating
ordinal reliability for Likert-type and ordinal item response data: A
conceptual, empirical, and practical guide. <em>Practical Assessment,
Research &amp; Evaluation</em>, 17(3), 1-12. <a href="https://doi.org/10.7275/n560-j767">doi:10.7275/n560-j767</a>
</p>
<p>Peters, G.-J. Y. (2014). The alpha and the omega of scale reliability and
validity: why and how to abandon Cronbach's alpha and the route towards more
comprehensive assessment of scale quality. <em>European Health
Psychologist</em>, 16(2), 56-69.
<a href="https://doi.org/10.31234/osf.io/h47fv">doi:10.31234/osf.io/h47fv</a>
</p>
<p>Revelle, W., &amp; Zinbarg, R. E. (2009). Coefficients Alpha, Beta, Omega, and
the glb: Comments on Sijtsma. <em>Psychometrika</em>, 74(1), 145-154.
<a href="https://doi.org/10.1007/s11336-008-9102-z">doi:10.1007/s11336-008-9102-z</a>
</p>
<p>Sijtsma, K. (2009). On the Use, the Misuse, and the Very Limited Usefulness
of Cronbach's Alpha. <em>Psychometrika</em>, 74(1), 107-120.
<a href="https://doi.org/10.1007/s11336-008-9101-0">doi:10.1007/s11336-008-9101-0</a>
</p>
<p>Zinbarg, R. E., Revelle, W., Yovel, I., &amp; Li, W. (2005). Cronbach's alpha,
Revelle's beta and McDonald's omega H: Their relations with each other and
two alternative conceptualizations of reliability. <em>Psychometrika</em>,
70(1), 123-133. <a href="https://doi.org/10.1007/s11336-003-0974-7">doi:10.1007/s11336-003-0974-7</a>
</p>


<h3>See Also</h3>

<p><code><a href="psych.html#topic+omega">psych::omega()</a></code>, <code><a href="psych.html#topic+alpha">psych::alpha()</a></code>, and
<code><a href="MBESS.html#topic+ci.reliability">MBESS::ci.reliability()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Not run: 
### (These examples take a lot of time, so they are not run
###  during testing.)

### This will prompt the user to select an SPSS file
scaleStructure();

### Load data from simulated dataset testRetestSimData (which
### satisfies essential tau-equivalence).
data(testRetestSimData);

### Select some items in the first measurement
exampleData &lt;- testRetestSimData[2:6];

### Use all items (don't order confidence intervals to save time
### during automated testing of the example)
ufs::scaleStructure(dat=exampleData, ci=FALSE);

### Use a selection of three variables (without confidence
### intervals to save time
ufs::scaleStructure(
  dat=exampleData,
  items=c('t0_item2', 't0_item3', 't0_item4'),
  ci=FALSE
);

### Make the items resemble an ordered categorical (ordinal) scale
ordinalExampleData &lt;- data.frame(apply(exampleData, 2, cut,
                                       breaks=5, ordered_result=TRUE,
                                       labels=as.character(1:5)));

### Now we also get estimates assuming the ordinal measurement level
ufs::scaleStructure(ordinalExampleData, ci=FALSE);

## End(Not run)


</code></pre>

<hr>
<h2 id='scatterMatrix'>scatterMatrix</h2><span id='topic+scatterMatrix'></span><span id='topic+print.scatterMatrix'></span>

<h3>Description</h3>

<p>scatterMatrix produces a matrix with jittered scatterplots, histograms, and
correlation coefficients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scatterMatrix(
  dat,
  items = NULL,
  itemLabels = NULL,
  plotSize = 180,
  sizeMultiplier = 1,
  pointSize = 1,
  axisLabels = "none",
  normalHist = TRUE,
  progress = NULL,
  theme = ggplot2::theme_minimal(),
  hideGrid = TRUE,
  conf.level = 0.95,
  ...
)

## S3 method for class 'scatterMatrix'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scatterMatrix_+3A_dat">dat</code></td>
<td>
<p>A dataframe containing the items in the scale. All variables in
this dataframe will be used if items is NULL.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_items">items</code></td>
<td>
<p>If not NULL, this should be a character vector with the names
of the variables in the dataframe that represent items in the scale.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_itemlabels">itemLabels</code></td>
<td>
<p>Optionally, labels to use for the items (optionally, named,
with the names corresponding to the <code>items</code>; otherwise, the order of the
labels has to match the order of the items)</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_plotsize">plotSize</code></td>
<td>
<p>Size of the final plot in millimeters.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_sizemultiplier">sizeMultiplier</code></td>
<td>
<p>Allows more flexible control over the size of the plot
elements</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_pointsize">pointSize</code></td>
<td>
<p>Size of the points in the scatterplots</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_axislabels">axisLabels</code></td>
<td>
<p>Passed to ggpairs function to set axisLabels.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_normalhist">normalHist</code></td>
<td>
<p>Whether to use the default ggpairs histogram on the
diagonal of the scattermatrix, or whether to use the <code><a href="#topic+normalHist">normalHist()</a></code> version.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_progress">progress</code></td>
<td>
<p>Whether to show a progress bar; set to <code>FALSE</code> to disable. See
<code><a href="GGally.html#topic+ggpairs">GGally::ggpairs()</a></code> help for more information.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_theme">theme</code></td>
<td>
<p>The ggplot2 theme to use.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_hidegrid">hideGrid</code></td>
<td>
<p>Whether to hide the gridlines in the plot.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level of confidence intervals</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_...">...</code></td>
<td>
<p>Additional arguments for <code>scatterMatrix()</code> are passed on to
<code><a href="#topic+normalHist">normalHist()</a></code>, and additional arguments for the <code>print</code> method are passed
on to the default <code>print</code> method.</p>
</td></tr>
<tr><td><code id="scatterMatrix_+3A_x">x</code></td>
<td>
<p>The object to print.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with the input and several output variables. Most notably:
</p>
<table>
<tr><td><code>output$scatterMatrix</code></td>
<td>
<p>A scattermatrix with histograms on the diagonal
and correlation coefficients in the upper right half.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Note: the 'not run' is simply because running takes a lot of time,
###       but these examples are all safe to run!
## Not run: 

### Generate a datafile to use
exampleData &lt;- data.frame(item1=rnorm(100));
exampleData$item2 &lt;- exampleData$item1+rnorm(100);
exampleData$item3 &lt;- exampleData$item1+rnorm(100);
exampleData$item4 &lt;- exampleData$item2+rnorm(100);
exampleData$item5 &lt;- exampleData$item2+rnorm(100);

### Use all items
scatterMatrix(dat=exampleData);

## End(Not run)

</code></pre>

<hr>
<h2 id='setCaptionNumberingKnitrHook'>Set a knitr hook for caption numbering</h2><span id='topic+setCaptionNumberingKnitrHook'></span><span id='topic+setFigCapNumbering'></span><span id='topic+setTabCapNumbering'></span>

<h3>Description</h3>

<p>Set a knitr hook to automatically number captions for, e.g., figures
and tables. <code>setCaptionNumberingKnitrHook()</code> is the general purpose
function; you normally use <code>setFigCapNumbering()</code> or <code>setTabCapNumbering()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setCaptionNumberingKnitrHook(
  captionName = "fig.cap",
  prefix = "Figure %s: ",
  suffix = "",
  optionName = paste0("setCaptionNumbering_", captionName),
  resetCounterTo = 1
)

setFigCapNumbering(
  captionName = "fig.cap",
  prefix = "Figure %s: ",
  suffix = "",
  optionName = paste0("setCaptionNumbering_", captionName),
  resetCounterTo = 1
)

setTabCapNumbering(
  captionName = "tab.cap",
  prefix = "Table %s: ",
  suffix = "",
  optionName = paste0("setCaptionNumbering_", captionName),
  resetCounterTo = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setCaptionNumberingKnitrHook_+3A_captionname">captionName</code></td>
<td>
<p>The name of the caption; for example, <code>fig.cap</code>
or <code>tab.cap</code>.</p>
</td></tr>
<tr><td><code id="setCaptionNumberingKnitrHook_+3A_prefix">prefix</code>, <code id="setCaptionNumberingKnitrHook_+3A_suffix">suffix</code></td>
<td>
<p>The prefix and suffix; any occurrences of
<code style="white-space: pre;">&#8288;\%s&#8288;</code> will be replaced by the number.</p>
</td></tr>
<tr><td><code id="setCaptionNumberingKnitrHook_+3A_optionname">optionName</code></td>
<td>
<p>THe name to use for the option that keeps track
of the numbering.</p>
</td></tr>
<tr><td><code id="setCaptionNumberingKnitrHook_+3A_resetcounterto">resetCounterTo</code></td>
<td>
<p>Whether to reset the counter (as stored in the
options), and if so, to what value (set to <code>FALSE</code> to prevent resetting).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### To start automatically numbering figure captions
setFigCapNumbering();

### To start automatically numbering table captions
setTabCapNumbering();
</code></pre>

<hr>
<h2 id='sharedSubString'>sharedSubString</h2><span id='topic+sharedSubString'></span>

<h3>Description</h3>

<p>A function to find the longest shared substring in a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sharedSubString(x, y = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sharedSubString_+3A_x">x</code></td>
<td>
<p>The character vector to process.</p>
</td></tr>
<tr><td><code id="sharedSubString_+3A_y">y</code></td>
<td>
<p>Optionally, two single values can be specified. This is probably
not useful to end users, but it's used by the function when it calls itself.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of length one with either the longest substring that occurs
in all values of the character vector, or NA if no overlap an be found.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  sharedSubString(c("t0_responseTime", "t1_responseTime", "t2_responseTime"));
  ### Returns "_responseTime"

</code></pre>

<hr>
<h2 id='simDataSet'>Simulate a dataset</h2><span id='topic+simDataSet'></span>

<h3>Description</h3>

<p>simDataSet can be used to conveniently and quickly simulate a dataset that
satisfies certain constraints, such as a specific correlation structure,
means, ranges of the items, and measurement levels of the variables. Note
that the results are approximate; mvrnorm is used to generate the
correlation matrix, but the factor are only created after that, so cutting
the variable into factors may change the correlations a bit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simDataSet(
  n,
  varNames,
  correlations = c(0.1, 0.4),
  specifiedCorrelations = NULL,
  means = 0,
  sds = 1,
  ranges = c(1, 7),
  factors = NULL,
  cuts = NULL,
  labels = NULL,
  seed = 20160503,
  empirical = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simDataSet_+3A_n">n</code></td>
<td>
<p>Number of requires cases (records, entries, participants, rows) in
the final dataset.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_varnames">varNames</code></td>
<td>
<p>Names of the variables in a vector; note that the length of
this vector will determine the number of variables simulated.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_correlations">correlations</code></td>
<td>
<p>The correlations between the variables are randomly
sampled from this range using the uniform distribution; this way, it's easy
to have a relatively 'messy' correlation matrix without the need to specify
every correlation manually.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_specifiedcorrelations">specifiedCorrelations</code></td>
<td>
<p>The correlations that have to have a specific
value can be specified here, as a list of vectors, where each vector's first
two elements specify variables names, and the last one the correlation
between those two variables. Note that tweaking the correlations may take
some time; the <code><a href="MASS.html#topic+mvrnorm">MASS::mvrnorm()</a></code> function will complain that &quot;'Sigma' is
not positive definite&quot;, or in other words, you supplied a combination of
correlations that can't exist simultaneously, if you get it wrong.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_means">means</code>, <code id="simDataSet_+3A_sds">sds</code></td>
<td>
<p>The means and standard deviations of the variables. Note
that is you set <code>ranges</code> for one or more variables (see below), those
ranges are used to rescale those variables, overriding any specified means
and standard deviations. If only one mean or standard deviation is supplied,
it's recycled along the variables.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_ranges">ranges</code></td>
<td>
<p>The desired ranges of the variables, supplied as a named list
where the name of each element corresponds to a variable. The
<code><a href="scales.html#topic+rescale">scales::rescale()</a></code> function will be used to rescale those variables for
which a desired scale is specified here. Note that for those variables, the
means and standard deviations will be determined by these new ranges.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_factors">factors</code></td>
<td>
<p>A vector of variable names that should be converted into
factors (using <code><a href="base.html#topic+cut">base::cut()</a></code>). Make sure to specify lists for
<code>cuts</code> and <code>labels</code> as well (of the same length).</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_cuts">cuts</code></td>
<td>
<p>A list of vectors that specify, for each factor, where to 'cut'
the numeric vector into factor levels.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_labels">labels</code></td>
<td>
<p>A list of vectors that specify, for each factor, and for each
level, the labels that should be assigned to the factor levels. Each vector
in this list has to have one more element than each vector in the
<code>cuts</code> list.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_seed">seed</code></td>
<td>
<p>The seed to use when generating the dataset (to make sure the
exact same dataset can be generated repeatedly).</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_empirical">empirical</code></td>
<td>
<p>Whether to generate the data using the
exact <code>empirical = TRUE</code> or approximate (<code>empirical = FALSE</code>)
correlation matrix; this is passed on to <code><a href="MASS.html#topic+mvrnorm">MASS::mvrnorm()</a></code>.</p>
</td></tr>
<tr><td><code id="simDataSet_+3A_silent">silent</code></td>
<td>
<p>Whether to show intermediate and final descriptive information
(correlation and covariance matrices as well as summaries).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function was intended to allow relatively quick generation of datasets
that satisfy specific constraints, e.g. including a number of factors,
variables with a specified minimum and maximum value or specified means and
standard deviations, and of course specific correlations. Because all
correlations except those specified are randomly generated from a uniform
distribution, it's quite convenient to generate messy kind of real looking
datasets quickly. Note that it's mostly a convenience function, and datasets
will still require tweaking; for example, factors are simply numeric vectors
that are <code><a href="base.html#topic+cut">cut()</a></code> <em>after</em> <code><a href="MASS.html#topic+mvrnorm">MASS::mvrnorm()</a></code> generated the data,
so the associations will change slightly.
</p>


<h3>Value</h3>

<p>The generated dataframe is returned invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- simDataSet(
  500,
  varNames=c('age',
             'sex',
             'educationLevel',
             'negativeLifeEventsInPast10Years',
             'problemCoping',
             'emotionCoping',
             'resilience',
             'depression'),
  means = c(40,
            0,
            0,
            5,
            3.5,
            3.5,
            3.5,
            3.5),
  sds = c(10,
          1,
          1,
          1.5,
          1.5,
          1.5,
          1.5,
          1.5),
  specifiedCorrelations =
    list(c('problemCoping', 'emotionCoping', -.5),
         c('problemCoping', 'resilience', .5),
         c('problemCoping', 'depression', -.4),
         c('depression', 'emotionCoping', .6),
         c('depression', 'resilience', -.3)),
  ranges = list(age = c(18, 54),
                negativeLifeEventsInPast10Years = c(0,8),
                problemCoping = c(1, 7),
                emotionCoping = c(1, 7)),
  factors=c("sex", "educationLevel"),
  cuts=list(c(0),
            c(-.5, .5)),
  labels=list(c('female', 'male'),
              c('lower', 'middle', 'higher')),
  silent=FALSE);

</code></pre>

<hr>
<h2 id='spearmanBrown'>Spearman-Brown formula</h2><span id='topic+spearmanBrown'></span><span id='topic+spearmanBrown_reversed'></span><span id='topic+spearmanBrown_requiredLength'></span>

<h3>Description</h3>

<p>Spearman-Brown formula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spearmanBrown(nrOfItems, itemReliability)

spearmanBrown_reversed(nrOfItems, scaleReliability)

spearmanBrown_requiredLength(scaleReliability, itemReliability)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spearmanBrown_+3A_nrofitems">nrOfItems</code></td>
<td>
<p>Number of items (or 'subtests') in the scale (or 'test').</p>
</td></tr>
<tr><td><code id="spearmanBrown_+3A_itemreliability">itemReliability</code></td>
<td>
<p>The reliability of one item (or 'subtest').</p>
</td></tr>
<tr><td><code id="spearmanBrown_+3A_scalereliability">scaleReliability</code></td>
<td>
<p>The reliability of the scale (or, desired reliability of the scale).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>spearmanBrown</code>, the predicted scale reliability; for <code>spearmanBrown_requiredLength</code>,
the number of items required to achieve the desired scale reliability; and for <code>spearmanBrown_reversed</code>,
the reliability of one item.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spearmanBrown(10, .4);
spearmanBrown_reversed(10, .87);
spearmanBrown_requiredLength(.87, .4);
</code></pre>

<hr>
<h2 id='strToFilename'>Convert a string to a safe filename</h2><span id='topic+strToFilename'></span>

<h3>Description</h3>

<p>Convert a string to a safe filename
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strToFilename(str, ext = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strToFilename_+3A_str">str</code></td>
<td>
<p>The string to convert.</p>
</td></tr>
<tr><td><code id="strToFilename_+3A_ext">ext</code></td>
<td>
<p>Optionally, an extension to append.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The string, processed to remove potentially problematic characters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>strToFilename("this contains: illegal characters, spaces, et cetera.");
</code></pre>

<hr>
<h2 id='suspectParticipants'>Selects suspect participants from a <code>carelessObject</code></h2><span id='topic+suspectParticipants'></span>

<h3>Description</h3>

<p>This function is a wrapper for the <code><a href="#topic+carelessObject">carelessObject()</a></code>
function, which wraps a number of functions from
the <code>careless</code> package. Normally, you'd probably
call <code>carelessReport</code> which calls this function
to generate a report of suspect participants.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suspectParticipants(
  carelessObject,
  nFlags = 1,
  digits = 2,
  missingSymbol = "Missing"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="suspectParticipants_+3A_carelessobject">carelessObject</code></td>
<td>
<p>The result of the call to
<code><a href="#topic+carelessObject">carelessObject()</a></code>.</p>
</td></tr>
<tr><td><code id="suspectParticipants_+3A_nflags">nFlags</code></td>
<td>
<p>The number of flags required to be considered
suspect.</p>
</td></tr>
<tr><td><code id="suspectParticipants_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to.</p>
</td></tr>
<tr><td><code id="suspectParticipants_+3A_missingsymbol">missingSymbol</code></td>
<td>
<p>How to represent missing values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>suspectParticipants(carelessObject(mtcars),
                    nFlags = 2);
</code></pre>

<hr>
<h2 id='testRetestAlpha'>Test-Retest Alpha Coefficient</h2><span id='topic+testRetestAlpha'></span><span id='topic+print.testRetestAlpha'></span>

<h3>Description</h3>

<p>The testRetestAlpha function computes the test-retest alpha coefficient
(Green, 2003).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testRetestAlpha(
  dat = NULL,
  moments = NULL,
  testDat = NULL,
  retestDat = NULL,
  sortItems = FALSE,
  convertToNumeric = TRUE
)

## S3 method for class 'testRetestAlpha'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="testRetestAlpha_+3A_dat">dat</code></td>
<td>
<p>A dataframe containing the items in the scale at both measurement
moments.  If no dataframe is specified, a dialogue will be launched to allow
the user to select an SPSS datafile. If only one dataframe is specified,
either the items have to be ordered chronologically (i.e. first all items
for the first measurement, then all items for the second measurement), or
the vector 'moments' has to be used to indicate, for each item, to which
measurement moment it belongs.</p>
</td></tr>
<tr><td><code id="testRetestAlpha_+3A_moments">moments</code></td>
<td>
<p>Used to indicate to which measurement moment each item in
'dat' belongs; should be a vector with the same length as dat has columns,
and with two possible values (e.g. 1 and 2).</p>
</td></tr>
<tr><td><code id="testRetestAlpha_+3A_testdat">testDat</code>, <code id="testRetestAlpha_+3A_retestdat">retestDat</code></td>
<td>
<p>Dataframes with the items for each measurement
moment: note that the items have to be in the same order (unless sortItems
is TRUE).</p>
</td></tr>
<tr><td><code id="testRetestAlpha_+3A_sortitems">sortItems</code></td>
<td>
<p>If true, the columns (items) in each dataframe are ordered
alphabetically before starting. This can be convenient to ensure that the
order of the items at each measurement moment is the same.</p>
</td></tr>
<tr><td><code id="testRetestAlpha_+3A_converttonumeric">convertToNumeric</code></td>
<td>
<p>When TRUE, the function will attempt to convert all
vectors in the dataframes to numeric.</p>
</td></tr>
<tr><td><code id="testRetestAlpha_+3A_x">x</code></td>
<td>
<p>The object to print</p>
</td></tr>
<tr><td><code id="testRetestAlpha_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with the input and several output variables. Most notably:
</p>
<table>
<tr><td><code>input</code></td>
<td>
<p>Input specified when calling the function</p>
</td></tr>
<tr><td><code>intermediate</code></td>
<td>
<p>Intermediate values and objects computed to get to the
final results</p>
</td></tr> <tr><td><code>output$testRetestAlpha</code></td>
<td>
<p>The value of the test-retest
alpha coefficient.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Green, S. N. (2003). A Coefficient Alpha for Test-Retest Data.
Psychological Methods, 8(1), 88-101. <a href="doi:10/bxq9r4">doi:10/bxq9r4</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
### This will prompt the user to select an SPSS file
testRetestAlpha();

## End(Not run)

### Load data from simulated dataset testRetestSimData (which
### satisfies essential tau-equivalence).
data(testRetestSimData);

### The first column is the true score, so it's excluded in this example.
exampleData &lt;- testRetestSimData[, 2:ncol(testRetestSimData)];

### Compute test-retest alpha coefficient
testRetestAlpha(exampleData);

</code></pre>

<hr>
<h2 id='testRetestCES'>Test-Retest Coefficient of Equivalence &amp; Stability</h2><span id='topic+testRetestCES'></span><span id='topic+print.testRetestCES'></span>

<h3>Description</h3>

<p>The testRetestCES function computes the test-retest Coefficient of
Equivalence and Stability (Schmidt, Le &amp; Ilies, 2003).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testRetestCES(
  dat = NULL,
  moments = NULL,
  testDat = NULL,
  retestDat = NULL,
  parallelTests = "means",
  sortItems = FALSE,
  convertToNumeric = TRUE,
  digits = 4
)

## S3 method for class 'testRetestCES'
print(x, digits = x$input$digits, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="testRetestCES_+3A_dat">dat</code></td>
<td>
<p>A dataframe. For testRetestCES, this dataframe must contain the
items in the scale at both measurement moments. If no dataframe is
specified, a dialogue will be launched to allow the user to select an SPSS
datafile. If only one dataframe is specified, either the items have to be
ordered chronologically (i.e. first all items for the first measurement,
then all items for the second measurement), or the vector 'moments' has to
be used to indicate, for each item, to which measurement moment it belongs.
The number of columns in this dataframe MUST be even! Note that instead of
providing this dataframe, the items of each measurement moment can be
provided separately in testDat and retestDat as well.</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_moments">moments</code></td>
<td>
<p>Used to indicate to which measurement moment each item in
'dat' belongs; should be a vector with the same length as dat has columns,
and with two possible values (e.g. 1 and 2).</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_testdat">testDat</code>, <code id="testRetestCES_+3A_retestdat">retestDat</code></td>
<td>
<p>Dataframes with the items for each measurement
moment: note that the items have to be in the same order (unless sortItems
is TRUE).</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_paralleltests">parallelTests</code></td>
<td>
<p>A vector indicating which items belong to which
parallel test; like the moments vector, this should have two possible values
(e.g. 1 and 2).  Alternatively, it can be character value with 'means' or
'variances'; in this case, parallelSubscales will be used to create roughly
parallel halves.</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_sortitems">sortItems</code></td>
<td>
<p>If true, the columns (items) in each dataframe are ordered
alphabetically before starting. This can be convenient to ensure that the
order of the items at each measurement moment is the same.</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_converttonumeric">convertToNumeric</code></td>
<td>
<p>When TRUE, the function will attempt to convert all
vectors in the dataframes to numeric.</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_digits">digits</code></td>
<td>
<p>Number of digits to print.</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_x">x</code></td>
<td>
<p>The object to print</p>
</td></tr>
<tr><td><code id="testRetestCES_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function computes the test-retest Coefficient of Equivalence and
Stability (CES) as described in Schmidt, Le &amp; Ilies (2003). Note that this
function only computes the test-retest CES for a scale that is administered
twice and split into two parallel halves post-hoc (this procedure is
explained on page 210, and the equations that are used, 16 and 17a are
explained on page 212).
</p>


<h3>Value</h3>

<p>An object with the input and several output variables. Most notably:
</p>
<table>
<tr><td><code>input</code></td>
<td>
<p>Input specified when calling the function</p>
</td></tr>
<tr><td><code>intermediate</code></td>
<td>
<p>Intermediate values and objects computed to get to the
final results</p>
</td></tr> <tr><td><code>output$testRetestCES</code></td>
<td>
<p>The value of the test-retest
Coefficient of Equivalence and Stability.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This function uses equations 16 and 17 on page 212 of Schmidt, Le &amp;
Ilies (2003): in other words, this function assumes that one scale is
administered twice. If you'd like the computation for two different but
parellel scales/measures to be implemented, please contact me.
</p>


<h3>References</h3>

<p>Schmidt, F. L., Le, H., &amp; Ilies, R. (2003) Beyond Alpha: An
Empirical Examination of the Effects of Different Sources of Measurement
Error on Reliability Estimates for Measures of Individual-differences
Constructs. Psychological Methods, 8(2), 206-224. <a href="doi:10/dzmk7n">doi:10/dzmk7n</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
### This will prompt the user to select an SPSS file
testRetestCES();

## End(Not run)

### Load data from simulated dataset testRetestSimData (which
### satisfies essential tau-equivalence).
data(testRetestSimData);

### The first column is the true score, so it's excluded in this example.
exampleData &lt;- testRetestSimData[, 2:ncol(testRetestSimData)];

### Compute test-retest alpha coefficient
testRetestCES(exampleData);

</code></pre>

<hr>
<h2 id='testRetestReliability'>testRetestReliability</h2><span id='topic+testRetestReliability'></span><span id='topic+print.testRetestReliability'></span>

<h3>Description</h3>

<p>The testRetestReliability function is a convenient interface to
testRetestAlpha and testRetestCES.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testRetestReliability(
  dat = NULL,
  moments = NULL,
  testDat = NULL,
  retestDat = NULL,
  parallelTests = "means",
  sortItems = FALSE,
  convertToNumeric = TRUE,
  digits = 2
)

## S3 method for class 'testRetestReliability'
print(x, digits = x$input$digits, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="testRetestReliability_+3A_dat">dat</code></td>
<td>
<p>A dataframe. This dataframe must contain the items in the scale
at both measurement moments. If no dataframe is specified, a dialogue will
be launched to allow the user to select an SPSS datafile. If only one
dataframe is specified, either the items have to be ordered chronologically
(i.e. first all items for the first measurement, then all items for the
second measurement), or the vector 'moments' has to be used to indicate, for
each item, to which measurement moment it belongs. The number of columns in
this dataframe MUST be even! Note that instead of providing this dataframe,
the items of each measurement moment can be provided separately in testDat
and retestDat as well.</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_moments">moments</code></td>
<td>
<p>Used to indicate to which measurement moment each item in
'dat' belongs; should be a vector with the same length as dat has columns,
and with two possible values (e.g. 1 and 2).</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_testdat">testDat</code>, <code id="testRetestReliability_+3A_retestdat">retestDat</code></td>
<td>
<p>Dataframes with the items for each measurement
moment: note that the items have to be in the same order (unless sortItems
is TRUE).</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_paralleltests">parallelTests</code></td>
<td>
<p>A vector indicating which items belong to which
parallel test; like the moments vector, this should have two possible values
(e.g. 1 and 2).  Alternatively, it can be character value with 'means' or
'variances'; in this case, parallelSubscales will be used to create roughly
parallel halves.</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_sortitems">sortItems</code></td>
<td>
<p>If true, the columns (items) in each dataframe are ordered
alphabetically before starting. This can be convenient to ensure that the
order of the items at each measurement moment is the same.</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_converttonumeric">convertToNumeric</code></td>
<td>
<p>When TRUE, the function will attempt to convert all
vectors in the dataframes to numeric.</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_digits">digits</code></td>
<td>
<p>Number of digits to show when printing the output</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_x">x</code></td>
<td>
<p>The object to print</p>
</td></tr>
<tr><td><code id="testRetestReliability_+3A_...">...</code></td>
<td>
<p>Passed on to the print function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calls both testRetestAlpha and testRetestCES to compute and
print measures of the test-retest reliability.
</p>


<h3>Value</h3>

<p>An object with the input and several output variables. Most notably:
</p>
<table>
<tr><td><code>input</code></td>
<td>
<p>Input specified when calling the function</p>
</td></tr>
<tr><td><code>intermediate</code></td>
<td>
<p>Intermediate values and objects computed to get to the
final results</p>
</td></tr> <tr><td><code>output$testRetestAlpha</code></td>
<td>
<p>The value of the test-retest
alpha coefficient.</p>
</td></tr> <tr><td><code>output$testRetestCES</code></td>
<td>
<p>The value of the test-retest
Coefficient of Equivalence and Stability.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
### This will prompt the user to select an SPSS file
testRetestReliability();

## End(Not run)

### Load data from simulated dataset testRetestSimData (which
### satisfies essential tau-equivalence).
data(testRetestSimData);

### The first column is the true score, so it's excluded in this example.
exampleData &lt;- testRetestSimData[, 2:ncol(testRetestSimData)];

### Compute test-retest alpha coefficient
ufs::testRetestReliability(exampleData);

</code></pre>

<hr>
<h2 id='testRetestSimData'>testRetestSimData is a simulated dataframe used to demonstrate the
testRetestAlpha coefficient function.</h2><span id='topic+testRetestSimData'></span>

<h3>Description</h3>

<p>This dataset contains the true scores of 250 participants on some variable,
and 10 items of a scale administered twice (at t0 and at t1).
</p>


<h3>Format</h3>

<p>A data frame with 250 observations on the following 21 variables.
</p>
 <dl>
<dt>trueScore</dt><dd><p>The true scores</p>
</dd>
<dt>t0_item1</dt><dd><p>Score on item 1 at test</p>
</dd>
<dt>t0_item2</dt><dd><p>Score on item 2 at test</p>
</dd>
<dt>t0_item3</dt><dd><p>Score on item 3 at test</p>
</dd>
<dt>t0_item4</dt><dd><p>Score on item 4 at test</p>
</dd>
<dt>t0_item5</dt><dd><p>Score on item 5 at test</p>
</dd>
<dt>t0_item6</dt><dd><p>Score on item 6 at test</p>
</dd>
<dt>t0_item7</dt><dd><p>Score on item 7 at test</p>
</dd>
<dt>t0_item8</dt><dd><p>Score on item 8 at test</p>
</dd>
<dt>t0_item9</dt><dd><p>Score on item 9 at test</p>
</dd>
<dt>t0_item10</dt><dd><p>Score on item 10 at test</p>
</dd>
<dt>t1_item1</dt><dd><p>Score on item 1 at retest</p>
</dd>
<dt>t1_item2</dt><dd><p>Score on item 2 at retest</p>
</dd>
<dt>t1_item3</dt><dd><p>Score on item 3 at retest</p>
</dd>
<dt>t1_item4</dt><dd><p>Score on item 4 at retest</p>
</dd>
<dt>t1_item5</dt><dd><p>Score on item 5 at retest</p>
</dd>
<dt>t1_item6</dt><dd><p>Score on item 6 at retest</p>
</dd>
<dt>t1_item7</dt><dd><p>Score on item 7 at retest</p>
</dd>
<dt>t1_item8</dt><dd><p>Score on item 8 at retest</p>
</dd>
<dt>t1_item9</dt><dd><p>Score on item 9 at retest</p>
</dd>
<dt>t1_item10</dt><dd><p>Score on item 10 at retest</p>
</dd></dl>



<h3>Details</h3>

<p>This dataset was generated with the code in the reliabilityTest.r test
script.
</p>


<h3>Author(s)</h3>

<p>Gjalt-Jorn Peters
</p>
<p>Maintainer: Gjalt-Jorn Peters <a href="mailto:gjalt-jorn@userfriendlyscience.com">gjalt-jorn@userfriendlyscience.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(testRetestSimData);
head(testRetestSimData);
hist(testRetestSimData$t0_item1);
cor(testRetestSimData);

</code></pre>

<hr>
<h2 id='vecTxt'>Easily parse a vector into a character value</h2><span id='topic+vecTxt'></span><span id='topic+vecTxtQ'></span><span id='topic+vecTxtB'></span><span id='topic+vecTxtM'></span>

<h3>Description</h3>

<p><code>vecTxtQ</code>, <code>vecTxtB</code>, and <code>vecTxtM</code> and are convenience functions
with default quotes that can be useful when working in R Markdown
documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vecTxt(
  vector,
  delimiter = ", ",
  useQuote = "",
  firstDelimiter = NULL,
  lastDelimiter = " &amp; ",
  firstElements = 0,
  lastElements = 1,
  lastHasPrecedence = TRUE
)

vecTxtQ(vector, useQuote = "'", ...)

vecTxtB(vector, useQuote = "`", ...)

vecTxtM(vector, useQuote = "$", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vecTxt_+3A_vector">vector</code></td>
<td>
<p>The vector to process.</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_delimiter">delimiter</code>, <code id="vecTxt_+3A_firstdelimiter">firstDelimiter</code>, <code id="vecTxt_+3A_lastdelimiter">lastDelimiter</code></td>
<td>
<p>The delimiters
to use for respectively the middle, first
<code>firstElements</code>, and last <code>lastElements</code> elements.</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_usequote">useQuote</code></td>
<td>
<p>This character string is pre- and appended to all elements;
so use this to quote all elements (<code>useQuote="'"</code>), doublequote all
elements (<code>useQuote='"'</code>), or anything else (e.g. <code>useQuote='|'</code>).
The only difference between <code>vecTxt</code> and <code>vecTxtQ</code> is that the
latter by default quotes the elements.</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_firstelements">firstElements</code>, <code id="vecTxt_+3A_lastelements">lastElements</code></td>
<td>
<p>The number of elements for which to use
the first respective last delimiters</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_lasthasprecedence">lastHasPrecedence</code></td>
<td>
<p>If the vector is very short, it's possible that the
sum of firstElements and lastElements is larger than the vector length. In
that case, downwardly adjust the number of elements to separate with the
first delimiter (<code>TRUE</code>) or the number of elements to separate with the
last delimiter (<code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_...">...</code></td>
<td>
<p>Any addition arguments to <code>vecTxtQ</code> are passed on to
<code>vecTxt</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vecTxtQ(names(mtcars));
</code></pre>

<hr>
<h2 id='viridisPalette'>Convenience function to get 2-7 color viridis palettes</h2><span id='topic+viridisPalette'></span>

<h3>Description</h3>

<p>This function only exists to avoid importing the viridis package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viridisPalette(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viridisPalette_+3A_x">x</code></td>
<td>
<p>The number of colors you want (seven at most).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of colours.
</p>

<hr>
<h2 id='wrapVector'>Wrap all elements in a vector</h2><span id='topic+wrapVector'></span>

<h3>Description</h3>

<p>Wrap all elements in a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrapVector(x, width = 0.9 * getOption("width"), sep = "\n", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wrapVector_+3A_x">x</code></td>
<td>
<p>The character vector</p>
</td></tr>
<tr><td><code id="wrapVector_+3A_width">width</code></td>
<td>
<p>The number of</p>
</td></tr>
<tr><td><code id="wrapVector_+3A_sep">sep</code></td>
<td>
<p>The glue with which to combine the new lines</p>
</td></tr>
<tr><td><code id="wrapVector_+3A_...">...</code></td>
<td>
<p>Other arguments are passed to <code><a href="base.html#topic+strwrap">strwrap()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- wrapVector(
  c(
    "This is a sentence ready for wrapping",
    "So is this one, although it's a bit longer"
  ),
  width = 10
);

print(res);
cat(res, sep="\n");
</code></pre>

<hr>
<h2 id='zotero_construct_export_call'>Construct the URL for a Zotero export call</h2><span id='topic+zotero_construct_export_call'></span>

<h3>Description</h3>

<p>This function is just a convenience function to create a simple
URL to download references from a public Zotero group. See
https://www.zotero.org/support/dev/web_api/v3/start
for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zotero_construct_export_call(
  group,
  sort = "dateAdded",
  direction = "asc",
  format = "bibtex",
  start = 0,
  limit = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zotero_construct_export_call_+3A_group">group</code></td>
<td>
<p>The group ID</p>
</td></tr>
<tr><td><code id="zotero_construct_export_call_+3A_sort">sort</code></td>
<td>
<p>On which field to sort</p>
</td></tr>
<tr><td><code id="zotero_construct_export_call_+3A_direction">direction</code></td>
<td>
<p>The direction to sort in</p>
</td></tr>
<tr><td><code id="zotero_construct_export_call_+3A_format">format</code></td>
<td>
<p>The format to export</p>
</td></tr>
<tr><td><code id="zotero_construct_export_call_+3A_start">start</code></td>
<td>
<p>The index of the first record to return</p>
</td></tr>
<tr><td><code id="zotero_construct_export_call_+3A_limit">limit</code></td>
<td>
<p>The number of records to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The URL in a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>zotero_construct_export_call(2425237);
</code></pre>

<hr>
<h2 id='zotero_download_and_export_items'>Download and save all items in a public Zotero group</h2><span id='topic+zotero_download_and_export_items'></span>

<h3>Description</h3>

<p>Download and save all items in a public Zotero group
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zotero_download_and_export_items(
  group,
  file,
  format = "bibtex",
  showKeys = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zotero_download_and_export_items_+3A_group">group</code></td>
<td>
<p>The group ID</p>
</td></tr>
<tr><td><code id="zotero_download_and_export_items_+3A_file">file</code></td>
<td>
<p>The filename to write to</p>
</td></tr>
<tr><td><code id="zotero_download_and_export_items_+3A_format">format</code></td>
<td>
<p>The format to export</p>
</td></tr>
<tr><td><code id="zotero_download_and_export_items_+3A_showkeys">showKeys</code></td>
<td>
<p>Whether to show the keys</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The bibliography as a character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tmpFile &lt;- tempfile(fileext=".bib");
zotero_download_and_export_items(
  2425237,
  tmpFile
);
writtenBibliography &lt;- readLines(tmpFile);
writtenBibliography[1:7];

## End(Not run)
</code></pre>

<hr>
<h2 id='zotero_get_all_items'>Get all items in a public Zotero group</h2><span id='topic+zotero_get_all_items'></span>

<h3>Description</h3>

<p>Get all items in a public Zotero group
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zotero_get_all_items(group, format = "bibtex")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zotero_get_all_items_+3A_group">group</code></td>
<td>
<p>The group ID</p>
</td></tr>
<tr><td><code id="zotero_get_all_items_+3A_format">format</code></td>
<td>
<p>The format to export</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>zotero_get_all_items(2425237);
</code></pre>

<hr>
<h2 id='zotero_nr_of_items'>Get number of items in a public Zotero group</h2><span id='topic+zotero_nr_of_items'></span>

<h3>Description</h3>

<p>Get number of items in a public Zotero group
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zotero_nr_of_items(group)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zotero_nr_of_items_+3A_group">group</code></td>
<td>
<p>The group ID</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The umber of items as a numeric vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>zotero_nr_of_items(2425237);
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

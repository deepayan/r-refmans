<!DOCTYPE html><html lang="en"><head><title>Help for package clinUtils</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {clinUtils}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#checkVarInData'><p>Check if specified variables are in the data.</p>
If they are not, they are removed from specified
variables and a message is printed.</a></li>
<li><a href='#clinColors'><p>Colors of 'clinUtils'</p></a></li>
<li><a href='#clinLinetypes'><p>Linetypes of 'clinUtils'</p></a></li>
<li><a href='#clinShapes'><p>Shapes of 'clinUtils'</p></a></li>
<li><a href='#clinShapesText'><p>Shapes of 'clinUtils' as text</p></a></li>
<li><a href='#clinUtils-palette'><p>Parameters for all palette functions for clinical visualizations.</p></a></li>
<li><a href='#colorPaletteNRIND'><p>Color palette for a standard CDISC Normal/Reference</p>
Range Indicator.</a></li>
<li><a href='#compareDiff'><p>Get differences between two data.frames</p></a></li>
<li><a href='#compareTables'><p>Compare tables</p></a></li>
<li><a href='#comparisonTables-common-args'><p>General parameters used for the comparison table functionality</p></a></li>
<li><a href='#convertToDatatable'><p>Convert to data.table</p></a></li>
<li><a href='#convertToDateTime'><p>Convert character vector to date/time object</p></a></li>
<li><a href='#dataADaMCDISCP01'><p>Example of ADaM datasets from the CDISC original Pilot 01 study</p></a></li>
<li><a href='#dataSDTMCDISCP01'><p>Example of SDTM datasets from the CDISC original Pilot 01 study</p></a></li>
<li><a href='#exportDiffData'><p>Export the 'diff.data' object from <code>compareDiff</code></p>
to a user-friendly format</a></li>
<li><a href='#formatDetailsComparison'><p>Format details comparison</p></a></li>
<li><a href='#formatDTBarVar'><p>Format a variable in a <code>datatable</code></p>
as a barplot.</a></li>
<li><a href='#formatLabel'><p>Concatenate and format text strings to a label</p></a></li>
<li><a href='#formatLabelChunk'><p>Concatenate and format text strings to a chunk label</p></a></li>
<li><a href='#formatLongLabel'><p>Format a variable with long labels</p></a></li>
<li><a href='#formatTableLabel'><p>Concatenate and format text strings to a label of a table</p></a></li>
<li><a href='#formatVarForPlotLabel'><p>Format parameter variable to be displayed</p>
in the labels of a plot</a></li>
<li><a href='#getClinDT'><p>Create an interactive table to display clinical data</p></a></li>
<li><a href='#getClinDTButtons'><p>Get a default set of buttons to be included</p>
in the interactive table for clinical data.</a></li>
<li><a href='#getColorPalette'><p>Get a color palette for clinical</p>
visualizations.</a></li>
<li><a href='#getLabelParamcd'><p>Get label for a parameter code</p></a></li>
<li><a href='#getLabelVar'><p>Get label for a variable of the dataset</p></a></li>
<li><a href='#getLabelVars'><p>Get label of the variables in SAS dataset(s)</p></a></li>
<li><a href='#getLinetypePalette'><p>Get a linetype palette for clinical</p>
visualizations.</a></li>
<li><a href='#getPaletteCDISC'><p>Get standard palette for typical CDISC variables.</p></a></li>
<li><a href='#getSetDiff'><p>Get additions/removals</p></a></li>
<li><a href='#getShapePalette'><p>Get a shape palette for clinical</p>
visualizations.</a></li>
<li><a href='#knitPrintListObjects'><p>Include a list of objects in a knitr document</p></a></li>
<li><a href='#knitPrintListPlots'><p>Include a list of plots in a knitr document</p></a></li>
<li><a href='#loadDataADaMSDTM'><p>Load data from ADaM/SDTM file(s).</p></a></li>
<li><a href='#mergeDiffWithData'><p>Merge the 'diff.data' object from <code>compareDiff</code></p>
with the original <code>newData</code> or <code>oldData</code>.</a></li>
<li><a href='#mergeInputDiff'><p>Custom merge of difference data with input data</p></a></li>
<li><a href='#reorderColumns'><p>Function for reordering columns</p></a></li>
<li><a href='#roundHalfUp'><p>Round a number with 'rounding up' strategy</p>
for rounding off a 5</a></li>
<li><a href='#roundHalfUpTextFormat'><p>Round a number with 'round-up' strategy for rounding off a 5 in text format</p></a></li>
<li><a href='#shapePaletteNRIND'><p>Shape palette for a standard CDISC Normal/Reference</p>
Range Indicator.</a></li>
<li><a href='#simpleCap'><p>Capitalize the first letter of a word/sentence.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>General Utility Functions for Analysis of Clinical Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-05-17</td>
</tr>
<tr>
<td>Description:</td>
<td>
 Utility functions to facilitate the import, 
 the reporting and analysis of clinical data.
 Example datasets in 'SDTM' and 'ADaM' format, containing a subset of patients/domains
 from the 'CDISC Pilot 01 study' are also available as R datasets to demonstrate
 the package functionalities.</td>
</tr>
<tr>
<td>Imports:</td>
<td>crosstalk, data.table, DT, haven, htmlwidgets, knitr, plyr,
tools, utils, viridisLite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tibble, ggplot2, plotly, htmltools, pander, rmarkdown,
testthat, flextable</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc (for export clin DT to a file - inclusion of
list of interactive plots/objects with knitr)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/openanalytics/clinUtils">https://github.com/openanalytics/clinUtils</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/openanalytics/clinUtils/issues">https://github.com/openanalytics/clinUtils/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-17 14:07:30 UTC; root</td>
</tr>
<tr>
<td>Author:</td>
<td>Laure Cougnaud [aut, cre],
  Michela Pasetto [aut],
  Arne De Roeck [rev] (tests),
  Open Analytics [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Laure Cougnaud &lt;laure.cougnaud@openanalytics.eu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-17 14:50:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='checkVarInData'>Check if specified variables are in the data.
If they are not, they are removed from specified
variables and a message is printed.</h2><span id='topic+checkVarInData'></span>

<h3>Description</h3>

<p>Check if specified variables are in the data.
If they are not, they are removed from specified
variables and a message is printed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkVarInData(var, data, label)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkVarInData_+3A_var">var</code></td>
<td>
<p>Character vector with variables.</p>
</td></tr>
<tr><td><code id="checkVarInData_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="checkVarInData_+3A_label">label</code></td>
<td>
<p>String with label used in message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>var</code> present in <code>data</code>,
NULL if empty
</p>

<hr>
<h2 id='clinColors'>Colors of 'clinUtils'</h2><span id='topic+clinColors'></span>

<h3>Description</h3>

<p>Default color palette is the color-blind viridis palette.
See documentation of <code><a href="viridisLite.html#topic+viridis">viridis</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clinColors(n, alpha = 1, begin = 0, end = 1, direction = 1, option = "D")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clinColors_+3A_n">n</code></td>
<td>
<p>The number of colors (<code class="reqn">\ge 1</code>) to be in the palette.</p>
</td></tr>
<tr><td><code id="clinColors_+3A_alpha">alpha</code></td>
<td>
<p>The alpha transparency, a number in [0,1], see argument alpha in
<code><a href="grDevices.html#topic+hsv">hsv</a></code>.</p>
</td></tr>
<tr><td><code id="clinColors_+3A_begin">begin</code></td>
<td>
<p>The (corrected) hue in [0,1] at which the color map begins.</p>
</td></tr>
<tr><td><code id="clinColors_+3A_end">end</code></td>
<td>
<p>The (corrected) hue in [0,1] at which the color map ends.</p>
</td></tr>
<tr><td><code id="clinColors_+3A_direction">direction</code></td>
<td>
<p>Sets the order of colors in the scale. If 1, the default,
colors are ordered from darkest to lightest. If -1, the order of colors is
reversed.</p>
</td></tr>
<tr><td><code id="clinColors_+3A_option">option</code></td>
<td>
<p>see similar parameter in <code><a href="viridisLite.html#topic+viridis">viridis</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code><a href="viridisLite.html#topic+viridis">viridis</a></code> function.
</p>

<hr>
<h2 id='clinLinetypes'>Linetypes of 'clinUtils'</h2><span id='topic+clinLinetypes'></span>

<h3>Description</h3>

<p>A set of default linetypes are available as a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clinLinetypes
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 6.
</p>


<h3>Value</h3>

<p>A character vector of linetypes.
</p>

<hr>
<h2 id='clinShapes'>Shapes of 'clinUtils'</h2><span id='topic+clinShapes'></span>

<h3>Description</h3>

<p>A set of default shapes are available as named vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clinShapes
</code></pre>


<h3>Format</h3>

<p>An object of class <code>integer</code> of length 24.
</p>


<h3>Value</h3>

<p>A numeric vector of shapes.
</p>

<hr>
<h2 id='clinShapesText'>Shapes of 'clinUtils' as text</h2><span id='topic+clinShapesText'></span>

<h3>Description</h3>

<p>A set of default shapes are available as character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clinShapesText
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 24.
</p>


<h3>Value</h3>

<p>A character vector of shapes.
</p>

<hr>
<h2 id='clinUtils-palette'>Parameters for all palette functions for clinical visualizations.</h2><span id='topic+clinUtils-palette'></span>

<h3>Description</h3>

<p>Parameters for all palette functions for clinical visualizations.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clinUtils-palette_+3A_n">n</code></td>
<td>
<p>Integer of length 1, number of elements in palette.</p>
</td></tr>
<tr><td><code id="clinUtils-palette_+3A_x">x</code></td>
<td>
<p>Vector with elements used for palette.
If factor, the levels are used, otherwise the unique elements of the vector.
Missing values are automatically removed, excepted if
<code>includeNA</code> is set to TRUE.</p>
</td></tr>
<tr><td><code id="clinUtils-palette_+3A_includena">includeNA</code></td>
<td>
<p>Logical (FALSE by default), 
should NA elements be retained in the palette in case
<code>x</code> is specified?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Specific palettes used in <code>clinUtils</code>.
</p>

<hr>
<h2 id='colorPaletteNRIND'>Color palette for a standard CDISC Normal/Reference
Range Indicator.</h2><span id='topic+colorPaletteNRIND'></span>

<h3>Description</h3>

<p>Color palette for a standard CDISC Normal/Reference
Range Indicator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colorPaletteNRIND
</code></pre>


<h3>Format</h3>

<p>A named character vector with color for 
typical Normal Reference Range Indicator variable:
</p>

<ul>
<li><p> &quot;LOW&quot;: orange
</p>
</li>
<li><p> &quot;NORMAL&quot;: green4
</p>
</li>
<li><p> &quot;HIGH&quot;: orange
</p>
</li>
<li><p> &quot;ABNORMAL&quot;: red
</p>
</li>
<li><p> &quot;UNKNOWN&quot; or 'NA': grey
</p>
</li>
<li><p> &quot;NA&quot;: grey
</p>
</li></ul>


<hr>
<h2 id='compareDiff'>Get differences between two data.frames</h2><span id='topic+compareDiff'></span>

<h3>Description</h3>

<p>Get differences between two data.frames
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareDiff(
  newData,
  oldData,
  referenceVars = intersect(colnames(newData), colnames(oldData)),
  changeableVars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compareDiff_+3A_newdata">newData</code></td>
<td>
<p>data.frame object representing the new data</p>
</td></tr>
<tr><td><code id="compareDiff_+3A_olddata">oldData</code></td>
<td>
<p>data.frame object representing the old data</p>
</td></tr>
<tr><td><code id="compareDiff_+3A_referencevars">referenceVars</code></td>
<td>
<p>character vector of the columns in the data that are the used as
reference for the comparison. <br /> 
If not specified, all columns present both in
<code>newData</code> and <code>oldData</code> are considered.</p>
</td></tr>
<tr><td><code id="compareDiff_+3A_changeablevars">changeableVars</code></td>
<td>
<p>character vector of the columns in the data for which you want to assess the change,
e.g. variables that might have changed from the old to the new data.<br />
If not specified, only 'Addition' and 'Removal' are detected.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class 'diff.data', i.e. a data.frame with columns:
</p>

<ul>
<li><p> 'Comparison type': type of difference between
the old and new data, either:
</p>

<ul>
<li><p> 'Change': records present both in new and old data,
based on the reference variables, but with difference(s) in changeable vars
</p>
</li>
<li><p> 'Addition': records with reference variables
present in new but not in old data
</p>
</li>
<li><p> 'Removal': records with reference variables 
present in old but not in new data
</p>
</li></ul>

</li>
<li><p> 'Version': 'Previous' or 'Current' depending if record represents
content from old or new data respectively
</p>
</li>
<li> <p><code>referenceVars</code>
</p>
</li>
<li> <p><code>changeableVars</code>
</p>
</li></ul>



<h3>Identification of the differences between datasets</h3>

<p>To identify the differences between datasets, the following steps are followed:
</p>

<ol>
<li><p> removal of records identical between the old and new dataset
(will be considered as 'Identical' later on)
</p>
</li>
<li><p> records with a reference value present in the old dataset but not
in the new dataset are considered 'Removal'
</p>
</li>
<li><p> records with a reference value present in the new dataset but not
in the old dataset are considered 'Addition'
</p>
</li>
<li><p> records with reference value present both in the new and old dataset,
<strong>after filtering of identical records</strong> and with difference in
the changeable variables are considered 'Change'
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='compareTables'>Compare tables</h2><span id='topic+compareTables'></span>

<h3>Description</h3>

<p>Compare tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareTables(
  newData,
  oldData,
  referenceVars = intersect(colnames(newData), colnames(oldData)),
  changeableVars = NULL,
  outputType = c("table-comparison", "newData-diff", "oldData-diff",
    "table-comparison-interactive", "newData-diff-interactive",
    "oldData-diff-interactive"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compareTables_+3A_newdata">newData</code></td>
<td>
<p>data.frame object representing the new data</p>
</td></tr>
<tr><td><code id="compareTables_+3A_olddata">oldData</code></td>
<td>
<p>data.frame object representing the old data</p>
</td></tr>
<tr><td><code id="compareTables_+3A_referencevars">referenceVars</code></td>
<td>
<p>character vector of the columns in the data that are the used as
reference for the comparison. <br /> 
If not specified, all columns present both in
<code>newData</code> and <code>oldData</code> are considered.</p>
</td></tr>
<tr><td><code id="compareTables_+3A_changeablevars">changeableVars</code></td>
<td>
<p>character vector of the columns in the data for which you want to assess the change,
e.g. variables that might have changed from the old to the new data.<br />
If not specified, only 'Addition' and 'Removal' are detected.</p>
</td></tr>
<tr><td><code id="compareTables_+3A_outputtype">outputType</code></td>
<td>
<p>String describing which output should be returned,
(multiple are possible), either:
</p>

<ul>
<li><p> 'table-comparison': data.frame containing difference between
two datasets, see 'output' of <code><a href="#topic+compareDiff">compareDiff</a></code> function.
</p>
</li>
<li><p> 'table-comparison-interactive': <code><a href="DT.html#topic+datatable">datatable</a></code> object 
with differences between the two datasets, see 'output' of 
<code><a href="#topic+exportDiffData">exportDiffData</a></code>.
</p>
</li>
<li><p> 'newData-diff' or 'oldData-diff': data.frame with new/old data 
respectively, containing the information if each record differs in the 
old/new datasets respectively. See output of <code><a href="#topic+mergeDiffWithData">mergeDiffWithData</a></code>.
</p>
</li>
<li><p> 'newData-diff-interactive' or 'oldData-diff-interactive': 
<code><a href="DT.html#topic+datatable">datatable</a></code> with new/old data respectively, containing the 
information if each record differs in the old/new datasets respectively.
See output of <code><a href="#topic+exportDiffData">exportDiffData</a></code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="compareTables_+3A_...">...</code></td>
<td>
<p>Any parameters passed to the <code><a href="#topic+exportDiffData">exportDiffData</a></code> function.
These are only used if 'table-comparison-interactive' is specified in <code>outputType</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>One of the output types specified in <code>outputType</code>.
By default, all outputs are returned.
If multiple output types are specified, a list of those are returned
(named by output type).
</p>


<h3>Identification of the differences between datasets</h3>

<p>To identify the differences between datasets, the following steps are followed:
</p>

<ol>
<li><p> removal of records identical between the old and new dataset
(will be considered as 'Identical' later on)
</p>
</li>
<li><p> records with a reference value present in the old dataset but not
in the new dataset are considered 'Removal'
</p>
</li>
<li><p> records with a reference value present in the new dataset but not
in the old dataset are considered 'Addition'
</p>
</li>
<li><p> records with reference value present both in the new and old dataset,
<strong>after filtering of identical records</strong> and with difference in
the changeable variables are considered 'Change'
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Laure Cougnaud, Michela Pasetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1
# In this case the referenceVar 'a' is the same
# the comparison highlights only as change in the variables 'c' and 'd' 
newData &lt;- data.frame(
	"a" = c(1, 2, 3, 4),
	"b" = c(5, 6, 7, 8),
	"c" = rep(1, 4),
	"d" = rep(2, 4)
)
oldData &lt;- data.frame(
	"a" = c(1, 2, 3, 4),
	"b" = c(3, 4, 7, 8),
	"c" = rep(2, 4),
	"d" = rep(1, 4)
)
compareTables(
	newData = newData,
	oldData = oldData,
	referenceVars = "a",
	changeableVars = c("c", "d")
)

## Example 2
# In this case the referenceVar 'a' changes in the last two rows
# the comparison highlights as change the second and third rows in the variables 'c' and 'd'
# whereas the last rows are additions/removals with respect to the reference 'a'
newData &lt;- data.frame(
		"a" = c(7, 1, 2, 3, 4),
		"b" = c(2, 1, 6, 7, 8),
		"c" = rep(1, 5),
		"d" = rep(2, 5)
)
oldData &lt;- data.frame(
		"a" = c(7, 1, 2, 5, 6),
		"b" = c(2, 3, 4, 7, 8),
		"c" = c(1, rep(2, 4)),
		"d" = c(2, rep(1, 4))
)
compareTables(
		newData = newData,
		oldData = oldData,
		referenceVars = "a",
		changeableVars = c("c", "d")
)

## Example 3
# In this case the referenceVar 'a' is the same
# also the variable 'c' is the same and it's the only changeable var evaluated
newData &lt;- data.frame(
		"a" = c(1, 2, 3, 4),
		"b" = c(5, 6, 7, 8),
		"c" = rep(1, 4),
		"d" = rep(2, 4)
)
oldData &lt;- data.frame(
		"a" = c(1, 2, 3, 4),
		"b" = c(3, 4, 7, 8),
		"c" = rep(1, 4),
		"d" = rep(1, 4)
)
compareTables(
		newData = newData,
		oldData = oldData,
		referenceVars = "a",
		changeableVars = "c"
)

## Not run: # due to time constraint in CRAN

## In case only a specific output should be returned:
newData &lt;- data.frame(
	"a" = c(7, 1, 2, 3, 4),
	"b" = c(2, 1, 6, 7, 8),
	"c" = rep(1, 5),
	"d" = rep(2, 5)
)
oldData &lt;- data.frame(
	"a" = c(7, 1, 2, 5, 6),
	"b" = c(2, 3, 4, 7, 8),
	"c" = c(1, rep(2, 4)),
	"d" = c(2, rep(1, 4))
)

# get only the differences between datasets:

# as a data.frame
compareTables(newData = newData, oldData = oldData, 
	referenceVars = "a", changeableVars = c("c", "d"), 
	outputType = "table-comparison")

# as an interactive DataTable
compareTables(newData = newData, oldData = oldData, 
	referenceVars = "a", changeableVars = c("c", "d"), 
	outputType = "table-comparison-interactive"
)
# only the new data
compareTables(
    newData = newData, oldData = oldData, 
	referenceVars = "a", changeableVars = c("c", "d"), 
	outputType = "newData-diff"
)
# only the new data in interactive mode
compareTables(
    newData = newData, oldData = oldData, 
    referenceVars = "a", changeableVars = c("c", "d"), 
    outputType = "newData-diff-interactive"
)
# only the new data in static and interactive mode
compareTables(
    newData = newData, oldData = oldData, 
    referenceVars = "a", changeableVars = c("c", "d"), 
    outputType = c("newData-diff", "newData-diff-interactive")
)
# only the old data
compareTables(newData = newData, oldData = oldData, 
	referenceVars = "a", changeableVars = c("c", "d"), 
	outputType = "oldData-diff"
)
# only the old data in interactive mode
compareTables(
    newData = newData, oldData = oldData, 
    referenceVars = "a", changeableVars = c("c", "d"), 
    outputType = "oldData-diff-interactive"
)
# only the old data in static and interactive mode
compareTables(
    newData = newData, oldData = oldData, 
    referenceVars = "a", changeableVars = c("c", "d"), 
    outputType = c("oldData-diff", "oldData-diff-interactive")
)


## End(Not run)
## no changeable vars

newData &lt;- data.frame(
	"a" = c(7, 1, 2, 3, 4),
	"b" = c(2, 1, 6, 7, 8),
	"c" = rep(1, 5),
	"d" = rep(2, 5)
)
oldData &lt;- data.frame(
	"a" = c(7, 1, 2, 5, 6),
	"b" = c(2, 3, 4, 7, 8),
	"c" = c(1, rep(2, 4)),
	"d" = c(2, rep(1, 4))
)

compareTables(newData = newData, oldData = oldData, 
	referenceVars = "a"
)

## duplicated records

# in case there are multiple records for the same reference variables,
# identical records are flagged as 'Identity' and reported in the table
# reporting differences; and the different record are flagged as 'Change', 'Addition' or 'Removal'
newData &lt;- data.frame(
	"a" = c(7, 7),
	"b" = c(1, 2),
	"c" = c(1, 2),
	"d" = c(2, 3)
)
oldData &lt;- data.frame(
	"a" = c(7, 7, 7),
	"b" = c(3, 4, 5),
	"c" = c(1, 3, 5),
	"d" = c(2, 4, 6)
)
compareTables(
	newData = newData, oldData = oldData, 
	referenceVars = "a", changeableVars = c("c", "d"), 
)

## with labels in the interactive format, see ? getClinDT

## Not run: # due to time constraint in CRAN
	
newData &lt;- data.frame(
	"a" = c(7, 1, 2, 3, 4),
	"b" = c(2, 1, 6, 7, 8),
	"c" = rep(1, 5),
	"d" = rep(2, 5)
)
oldData &lt;- data.frame(
	"a" = c(7, 1, 2, 5, 6),
	"b" = c(2, 3, 4, 7, 8),
	"c" = c(1, rep(2, 4)),
	"d" = c(2, rep(1, 4))
)
compareTables(
	newData = newData,
	oldData = oldData,
	referenceVars = "a",
	changeableVars = c("c", "d"),
	# parameters passed to datatable
	colnames = c(
		"My reference variable" = "a", 
		"Changeable variable c" = "c",
		"Changeable variable d" = "d"
	)
)


## End(Not run)

</code></pre>

<hr>
<h2 id='comparisonTables-common-args'>General parameters used for the comparison table functionality</h2><span id='topic+comparisonTables-common-args'></span>

<h3>Description</h3>

<p>General parameters used for the comparison table functionality
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="comparisonTables-common-args_+3A_newdata">newData</code></td>
<td>
<p>data.frame object representing the new data</p>
</td></tr>
<tr><td><code id="comparisonTables-common-args_+3A_olddata">oldData</code></td>
<td>
<p>data.frame object representing the old data</p>
</td></tr>
<tr><td><code id="comparisonTables-common-args_+3A_referencevars">referenceVars</code></td>
<td>
<p>character vector of the columns in the data that are the used as
reference for the comparison. <br /> 
If not specified, all columns present both in
<code>newData</code> and <code>oldData</code> are considered.</p>
</td></tr>
<tr><td><code id="comparisonTables-common-args_+3A_changeablevars">changeableVars</code></td>
<td>
<p>character vector of the columns in the data for which you want to assess the change,
e.g. variables that might have changed from the old to the new data.<br />
If not specified, only 'Addition' and 'Removal' are detected.</p>
</td></tr>
<tr><td><code id="comparisonTables-common-args_+3A_diffdata">diffData</code></td>
<td>
<p>Object of class 'diff.data' containing
differences between datasets, as returned by the <code><a href="#topic+compareDiff">compareDiff</a></code> function.</p>
</td></tr>
<tr><td><code id="comparisonTables-common-args_+3A_outputtype">outputType</code></td>
<td>
<p>String describing which output should be returned,
(multiple are possible), either:
</p>

<ul>
<li><p> 'table-comparison': data.frame containing difference between
two datasets, see 'output' of <code><a href="#topic+compareDiff">compareDiff</a></code> function.
</p>
</li>
<li><p> 'table-comparison-interactive': <code><a href="DT.html#topic+datatable">datatable</a></code> object 
with differences between the two datasets, see 'output' of 
<code><a href="#topic+exportDiffData">exportDiffData</a></code>.
</p>
</li>
<li><p> 'newData-diff' or 'oldData-diff': data.frame with new/old data 
respectively, containing the information if each record differs in the 
old/new datasets respectively. See output of <code><a href="#topic+mergeDiffWithData">mergeDiffWithData</a></code>.
</p>
</li>
<li><p> 'newData-diff-interactive' or 'oldData-diff-interactive': 
<code><a href="DT.html#topic+datatable">datatable</a></code> with new/old data respectively, containing the 
information if each record differs in the old/new datasets respectively.
See output of <code><a href="#topic+exportDiffData">exportDiffData</a></code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>The comparison of the two input tables.
</p>

<hr>
<h2 id='convertToDatatable'>Convert to data.table</h2><span id='topic+convertToDatatable'></span>

<h3>Description</h3>

<p>Convert a data frame into a <code>data.table</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertToDatatable(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convertToDatatable_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.table</code> object.
</p>

<hr>
<h2 id='convertToDateTime'>Convert character vector to date/time object</h2><span id='topic+convertToDateTime'></span>

<h3>Description</h3>

<p>Convert character vector to date/time object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertToDateTime(
  x,
  format = c("%Y-%m-%dT%H:%M", "%Y-%m-%d"),
  colName = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convertToDateTime_+3A_x">x</code></td>
<td>
<p>character vector to convert to date/time</p>
</td></tr>
<tr><td><code id="convertToDateTime_+3A_format">format</code></td>
<td>
<p>string with possible format(s) of the input date/time in the ADaM dataset.
If multiple are specified, each format is tested successively, until at least one
element in the input vector is converted with the specified format
(non missing, following the approach described in
the <code>format</code> parameter of the <code><a href="base.html#topic+strptime">strptime</a></code> function).
See the 'Details' section of the help of the function,
for more information about this format.</p>
</td></tr>
<tr><td><code id="convertToDateTime_+3A_colname">colName</code></td>
<td>
<p>string with name of column, used in message (if any).</p>
</td></tr>
<tr><td><code id="convertToDateTime_+3A_verbose">verbose</code></td>
<td>
<p>logical, if TRUE (by default) progress messages are printed during execution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of class <code><a href="base.html#topic+POSIXct">POSIXct</a></code>
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='dataADaMCDISCP01'>Example of ADaM datasets from the CDISC original Pilot 01 study</h2><span id='topic+dataADaMCDISCP01'></span>

<h3>Description</h3>

<p>This contains a subset of the CDISC Pilot 01 study dataset for:
</p>

<ul>
<li><p> a selected subset of subjects
</p>
</li>
<li><p> a selected subset of domains: 
</p>

<ul>
<li><p> subject-level ('adsl')
</p>
</li>
<li><p> adverse event ('adae')
</p>
</li>
<li><p> laboratory chemistry data('adlbc')
</p>
</li>
<li><p> vital signs ('advs')
</p>
</li>
<li><p> concomitant medications ('adcm')
</p>
</li>
<li><p> efficacy: 
</p>

<ul>
<li><p> ADAS-COG Data ('adqsadas'), containing one of the 
primary endpoint: ADAS-Cog (11)<br />
(Alzheimer's Disease Assessment Scale - Cognitive Subscale
</p>
</li>
<li><p> CIBIC+ questionnaire data ('adqscibc'), containing one 
of the primary endpoint: CIBIC+<br />
(Video-referenced Clinician's Interview-based Impression of Change)
</p>
</li>
<li><p> NPI-X Item data ('adqsnpix'), containing the secondary endpoint: 
NPI-X<br /> (Mean Revised Neuropsychiatric Inventory)
</p>
</li></ul>

</li>
<li><p> pharmacokinetic parameters ('adpp')<br />
Please note that this dataset contains different sets 
of subjects than the other example datasets.
</p>
</li></ul>
</li></ul>

<p>This dataset was created following the ADaM Version 2.0
standard.
This dataset contains the 'Modified and augmented version 
of cdiscpilot01' dataset.
</p>


<h3>Format</h3>

<p>List of data.frames containing the ADaM
dataset for each selected domain.<br />
Labels for the different variables across datasets
is available via the <code>labelVars</code> attribute.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Source</h3>

<p>Original (and entire) datasets are available in: <br />
<a href="https://github.com/phuse-org/phuse-scripts/tree/master/data/adam/cdisc">https://github.com/phuse-org/phuse-scripts/tree/master/data/adam/cdisc</a>
See in particular the <em>define.xml</em> file
for further description of the
datasets and variables name.
</p>


<h3>See Also</h3>

<p><a href="#topic+loadDataADaMSDTM">loadDataADaMSDTM</a>
</p>

<hr>
<h2 id='dataSDTMCDISCP01'>Example of SDTM datasets from the CDISC original Pilot 01 study</h2><span id='topic+dataSDTMCDISCP01'></span>

<h3>Description</h3>

<p>This contains a subset of the CDISC original Pilot 01 study dataset for:
</p>

<ul>
<li><p> a selected subset of subjects
</p>
</li>
<li><p> a selected subset of domains: 
</p>

<ul>
<li><p> adverse event ('ae')
</p>
</li>
<li><p> concomitant medications ('cm')
</p>
</li>
<li><p> disposition ('ds')
</p>
</li>
<li><p> demographics ('dm')
</p>
</li>
<li><p> treatment exposure ('ex')
</p>
</li>
<li><p> laboratory ('lb')
</p>
</li>
<li><p> medical history ('mh')
</p>
</li>
<li><p> questionnaire ('qs') - only:
</p>

<ul>
<li><p> ADAS-Cog (11) primary endpoint (<code>QSTESTCD == 'ACTOT'</code>)
</p>
</li>
<li><p> CIBIC+ primary endpoint (<code>QSTESTCD == 'CIBIC'</code>)
</p>
</li>
<li><p> NPI-X Item secondary endpoint (<code>QSTESTCD == 'NPTOT'</code>)
</p>
</li></ul>

</li>
<li><p> demographics supplemental dataset ('suppdm')
</p>
</li>
<li><p> subject visits ('sv')
</p>
</li>
<li><p> vital signs ('vs')
</p>
</li></ul>

</li></ul>

<p>This dataset was created following the SDTM Version 2
standard.
</p>


<h3>Format</h3>

<p>List of data.frames containing the SDTM
dataset for each selected domain.<br />
Labels for the different variables across datasets
is available via the <code>labelVars</code> attribute.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Source</h3>

<p>Original (and entire) datasets are available in: <br />
<a href="https://github.com/phuse-org/phuse-scripts/tree/master/data/sdtm/cdiscpilot01">https://github.com/phuse-org/phuse-scripts/tree/master/data/sdtm/cdiscpilot01</a>
See in particular the <em>define.xml</em> file
for further description of the
datasets and variables name.
</p>


<h3>See Also</h3>

<p><a href="#topic+loadDataADaMSDTM">loadDataADaMSDTM</a>
</p>

<hr>
<h2 id='exportDiffData'>Export the 'diff.data' object from <code><a href="#topic+compareDiff">compareDiff</a></code>
to a user-friendly format</h2><span id='topic+exportDiffData'></span>

<h3>Description</h3>

<p>Export the 'diff.data' object from <code><a href="#topic+compareDiff">compareDiff</a></code>
to a user-friendly format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exportDiffData(
  diffData,
  newDataDiff,
  oldDataDiff,
  referenceVars = attr(diffData, "referenceVars"),
  changeableVars = attr(diffData, "changeableVars"),
  to = "DT",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="exportDiffData_+3A_diffdata">diffData</code></td>
<td>
<p>Object of class 'diff.data' containing
differences between datasets, as returned by the <code><a href="#topic+compareDiff">compareDiff</a></code> function.</p>
</td></tr>
<tr><td><code id="exportDiffData_+3A_newdatadiff">newDataDiff</code></td>
<td>
<p>data.frame with new data with differences
as returned by the <code><a href="#topic+mergeDiffWithData">mergeDiffWithData</a></code>.
The data set contains the new data with the
information if each record differs in the new dataset.</p>
</td></tr>
<tr><td><code id="exportDiffData_+3A_olddatadiff">oldDataDiff</code></td>
<td>
<p>data.frame with old data with differences
as returned by the <code><a href="#topic+mergeDiffWithData">mergeDiffWithData</a></code>.
The data set contains the old data with the
information if each record differs in the old dataset.</p>
</td></tr>
<tr><td><code id="exportDiffData_+3A_referencevars">referenceVars</code></td>
<td>
<p>character vector of the columns in the data that are the used as
reference for the comparison. <br /> 
If not specified, all columns present both in
<code>newData</code> and <code>oldData</code> are considered.</p>
</td></tr>
<tr><td><code id="exportDiffData_+3A_changeablevars">changeableVars</code></td>
<td>
<p>character vector of the columns in the data for which you want to assess the change,
e.g. variables that might have changed from the old to the new data.<br />
If not specified, only 'Addition' and 'Removal' are detected.</p>
</td></tr>
<tr><td><code id="exportDiffData_+3A_to">to</code></td>
<td>
<p>String with export format,
currently only: <code>DT</code> is available to export to
a <code><a href="DT.html#topic+datatable">datatable</a></code> object.</p>
</td></tr>
<tr><td><code id="exportDiffData_+3A_...">...</code></td>
<td>
<p>Extra parameters besides 'data' and 'nonVisibleVars',
currently passed to the <code><a href="#topic+getClinDT">getClinDT</a></code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on the <code>to</code> parameter:
</p>

<ul>
<li><p> 'DT': a <code><a href="DT.html#topic+datatable">datatable</a></code> with the difference between datasets,
with:
</p>

<ul>
<li><p> highlighting depending on the difference between datasets:
</p>

<ul>
<li><p> 'Addition' in green
</p>
</li>
<li><p> 'Removal' in yellow
</p>
</li>
<li><p> 'Change' in lightblue
</p>
</li>
<li><p> 'Identical' are not highlighted
</p>
</li></ul>

</li>
<li><p> records only present in the old dataset are displayed in italic 
</p>
</li></ul>

</li></ul>


<hr>
<h2 id='formatDetailsComparison'>Format details comparison</h2><span id='topic+formatDetailsComparison'></span>

<h3>Description</h3>

<p>Format details comparison
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatDetailsComparison(
  diffData,
  referenceVars = attr(diffData, "referenceVars"),
  changeableVars = attr(diffData, "changeableVars")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formatDetailsComparison_+3A_diffdata">diffData</code></td>
<td>
<p>Object of class 'diff.data' containing
differences between datasets, as returned by the <code><a href="#topic+compareDiff">compareDiff</a></code> function.</p>
</td></tr>
<tr><td><code id="formatDetailsComparison_+3A_referencevars">referenceVars</code></td>
<td>
<p>character vector of the columns in the data that are the used as
reference for the comparison. <br /> 
If not specified, all columns present both in
<code>newData</code> and <code>oldData</code> are considered.</p>
</td></tr>
<tr><td><code id="formatDetailsComparison_+3A_changeablevars">changeableVars</code></td>
<td>
<p>character vector of the columns in the data for which you want to assess the change,
e.g. variables that might have changed from the old to the new data.<br />
If not specified, only 'Addition' and 'Removal' are detected.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>diffData</code> with extra columns:
'[].diff' for the <code>referenceVars</code> and <code>changeableVars</code>
columns, and attributes: 'colsDiff' as a named vector
with mapping with input variables (names) and corresponding
diff variables.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='formatDTBarVar'>Format a variable in a <code><a href="DT.html#topic+datatable">datatable</a></code>
as a barplot.</h2><span id='topic+formatDTBarVar'></span>

<h3>Description</h3>

<p>Format a variable in a <code><a href="DT.html#topic+datatable">datatable</a></code>
as a barplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatDTBarVar(
  tableDT,
  data,
  barVar = NULL,
  barColorThr = NULL,
  barRange = NULL,
  getCol = function(x) x
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formatDTBarVar_+3A_tabledt">tableDT</code></td>
<td>
<p><code><a href="DT.html#topic+datatable">datatable</a></code> object</p>
</td></tr>
<tr><td><code id="formatDTBarVar_+3A_data">data</code></td>
<td>
<p>Data.frame with content of <code>tableDT</code>.</p>
</td></tr>
<tr><td><code id="formatDTBarVar_+3A_barvar">barVar</code></td>
<td>
<p>Character vector with numeric variable of <code>data</code>
which should be represented as bar in the table.</p>
</td></tr>
<tr><td><code id="formatDTBarVar_+3A_barcolorthr">barColorThr</code></td>
<td>
<p>Numeric vector with threshold to 
consider to color the bar, either:
</p>

<ul>
<li><p> a numeric vector of length 1, same threshold for all bars
</p>
</li>
<li><p> named vector with threshold for each bar, named with the variable
in <code>barVar</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="formatDTBarVar_+3A_barrange">barRange</code></td>
<td>
<p>(optional) range for the bars, either:
</p>

<ul>
<li><p> a numeric vector of length 2, same range for all bars
</p>
</li>
<li><p> list with range for each bar, named with the variable
in <code>barVar</code>
</p>
</li></ul>

<p>If not specified, the range of each <code>barVar</code> variable
in <code>data</code> is used.</p>
</td></tr>
<tr><td><code id="formatDTBarVar_+3A_getcol">getCol</code></td>
<td>
<p>Function, which for an index of a column
in <code>data</code> returns the index of the column to be passed to
<code><a href="DT.html#topic+formatStyle">formatStyle</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated <code>tableDT</code>
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='formatLabel'>Concatenate and format text strings to a label</h2><span id='topic+formatLabel'></span>

<h3>Description</h3>

<p>This function concatenates and formats 
text strings to a label e.g to use for chunk and table/figures
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatLabel(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formatLabel_+3A_...">...</code></td>
<td>
<p>string(s) to be concatenated to form label
or data.frame with only one row.
If an unique data.frame is specified, the
different columns are collapsed to form one label.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String with chunk label
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='formatLabelChunk'>Concatenate and format text strings to a chunk label</h2><span id='topic+formatLabelChunk'></span>

<h3>Description</h3>

<p>Concatenate and format text strings to a chunk label
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatLabelChunk(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formatLabelChunk_+3A_...">...</code></td>
<td>
<p>string to be concatenated to form chunk label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String with chunk label
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='formatLongLabel'>Format a variable with long labels</h2><span id='topic+formatLongLabel'></span>

<h3>Description</h3>

<p>This function formats a variable with long labels by wrapping
its elements into multiple lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatLongLabel(x, width = 20)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formatLongLabel_+3A_x">x</code></td>
<td>
<p>character vector with labels to format</p>
</td></tr>
<tr><td><code id="formatLongLabel_+3A_width">width</code></td>
<td>
<p>target maximum size. Note: a word
longer that this width won't be split (see <code><a href="base.html#topic+strwrap">strwrap</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector with formatted labels
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
longLabel &lt;- &quot;This is a very long description of the variable in the dataset&quot;
cat(longLabel)
cat(formatLongLabel(longLabel))
</p>

<hr>
<h2 id='formatTableLabel'>Concatenate and format text strings to a label of a table</h2><span id='topic+formatTableLabel'></span>

<h3>Description</h3>

<p>This function concatenates and formats 
text strings to a label of a table for <code>bookdown</code> package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatTableLabel(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formatTableLabel_+3A_...">...</code></td>
<td>
<p>string to be concatenated to form label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String with chunk label
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='formatVarForPlotLabel'>Format parameter variable to be displayed 
in the labels of a plot</h2><span id='topic+formatVarForPlotLabel'></span>

<h3>Description</h3>

<p>The following workflow is used:
</p>

<ol>
<li><p> format the variable as a factor
</p>
</li>
<li><p> wrap it across multiple lines if needed
</p>
</li>
<li><p> sort (its levels) according to a grouping variable
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>formatVarForPlotLabel(
  data,
  paramVar = NULL,
  paramGroupVar = NULL,
  revert = FALSE,
  width = 20
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formatVarForPlotLabel_+3A_data">data</code></td>
<td>
<p>data.frame with data</p>
</td></tr>
<tr><td><code id="formatVarForPlotLabel_+3A_paramvar">paramVar</code></td>
<td>
<p>string, variable of <code>data</code> with parameter</p>
</td></tr>
<tr><td><code id="formatVarForPlotLabel_+3A_paramgroupvar">paramGroupVar</code></td>
<td>
<p>(optional) character vector with variable(s) of 
<code>data</code> with grouping.<br /> If specified, the parameters will be 
grouped by this(these) variable(s) in the y-axis.</p>
</td></tr>
<tr><td><code id="formatVarForPlotLabel_+3A_revert">revert</code></td>
<td>
<p>logical, if TRUE revert the order of the levels of the variable</p>
</td></tr>
<tr><td><code id="formatVarForPlotLabel_+3A_width">width</code></td>
<td>
<p>max number of characters in the <code>paramVar</code> parameter.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector with re-formatted <code>paramVar</code>, NULL if empty
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
library(ggplot2)
data(dataADaMCDISCP01)
dataAE &lt;- dataADaMCDISCP01$ADAE
</p>
<p># by default, groups are sorted alphabetically in ggplot2 (from bottom to top for an histogram)
ggplot(data = dataAE, aes(y = AEDECOD, fill = AEBODSYS)) + geom_histogram(stat=&quot;count&quot;)
</p>
<p># by default: labels are set to a new line if more than 20 characters:
dataAE$AEDECOD &lt;- formatVarForPlotLabel(data = dataAE, paramVar = &quot;AEDECOD&quot;)
levels(dataAE$AEDECOD)
ggplot(data = dataAE, aes(y = AEDECOD, fill = AEBODSYS)) + geom_histogram(stat=&quot;count&quot;)
</p>
<p># revert order of the variable
dataAE$AEDECOD &lt;- formatVarForPlotLabel(data = dataAE, paramVar = &quot;AEDECOD&quot;, revert = TRUE)
levels(dataAE$AEDECOD)
ggplot(data = dataAE, aes(y = AEDECOD, fill = AEBODSYS)) + geom_histogram(stat=&quot;count&quot;)
</p>
<p># group based on body system
dataAE$AEDECOD &lt;- formatVarForPlotLabel(data = dataAE, paramVar = &quot;AEDECOD&quot;, paramGroupVar = &quot;AEBODSYS&quot;)
ggplot(data = dataAE, aes(y = AEDECOD, fill = AEBODSYS)) + geom_histogram(stat=&quot;count&quot;)
</p>

<hr>
<h2 id='getClinDT'>Create an interactive table to display clinical data</h2><span id='topic+getClinDT'></span>

<h3>Description</h3>

<p>This function converts a <code>data.frame</code> from R into 
a <code><a href="DT.html#topic+datatable">datatable</a></code> object
with sensitive defaults.<br />
Extra functionalities are available to:
</p>

<ul>
<li><p> have columns or cells of interest that are collapsible/expandable
(see <code>expandVar</code>/<code>expandIdx</code>)
</p>
</li>
<li><p> group rows based on a variable (see <code>rowGroupVar</code>)
</p>
</li>
<li><p> display a variable as barplot (with specified range of threshold)
(see <code>barVar</code>)
</p>
</li>
<li><p> hide variable(s) (see <code>nonVisibleVar</code>)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>getClinDT(
  data,
  nonVisibleVar = NULL,
  nonVisible = NULL,
  percVar = NULL,
  barVar = NULL,
  barColorThr = NULL,
  barRange = NULL,
  filter = "top",
  searchBox = FALSE,
  pageLength,
  fixedColumns = NULL,
  columnsWidth = NULL,
  options = list(),
  expandVar = NULL,
  expandIdx = NULL,
  escape = TRUE,
  rowGroup = NULL,
  rowGroupVar = NULL,
  vAlign = "top",
  callback = NULL,
  buttons = getClinDTButtons(),
  scrollX = TRUE,
  file = NULL,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getClinDT_+3A_data">data</code></td>
<td>
<p>Data.frame, matrix or <code><a href="crosstalk.html#topic+SharedData">SharedData</a></code>
object with input data for the table.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_nonvisiblevar">nonVisibleVar</code></td>
<td>
<p>Character vector with column(s) in <code>data</code> to 
hide in the output table (column is hidden).<br />
The column(s) also get the extra attribute: <code>className = 'noVis'</code>,
to ensure they are not displayed in the
button to show/hide column(s).</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_nonvisible">nonVisible</code></td>
<td>
<p>This parameter is deprecated, use the new interface
with the <code>nonVisibleVar</code> parameter. 
Numeric vector with column(s)
in <code>data</code> to not display in the output table (column is hidden),
in <strong>Javascript unit: first column is 0</strong>, second column is 1, ...</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_percvar">percVar</code></td>
<td>
<p>Character vector with percentage columns.
These columns should contain the percentage from 0 to 1.
The content of these colunms will be rounded to 2 digits.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_barvar">barVar</code></td>
<td>
<p>Character vector with numeric variable of <code>data</code>
which should be represented as bar in the table.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_barcolorthr">barColorThr</code></td>
<td>
<p>Numeric vector with threshold to 
consider to color the bar, either:
</p>

<ul>
<li><p> a numeric vector of length 1, same threshold for all bars
</p>
</li>
<li><p> named vector with threshold for each bar, named with the variable
in <code>barVar</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="getClinDT_+3A_barrange">barRange</code></td>
<td>
<p>(optional) range for the bars, either:
</p>

<ul>
<li><p> a numeric vector of length 2, same range for all bars
</p>
</li>
<li><p> list with range for each bar, named with the variable
in <code>barVar</code>
</p>
</li></ul>

<p>If not specified, the range of each <code>barVar</code> variable
in <code>data</code> is used.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_filter">filter</code></td>
<td>
<p>String with position of the filter boxes
(<code>filter</code> parameter of the <code><a href="DT.html#topic+datatable">datatable</a></code> function), 
'top' by default. Set to 'none' to not included any filtering boxes.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_searchbox">searchBox</code></td>
<td>
<p>Logical, if TRUE (FALSE by default)
a general search box is included.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_pagelength">pageLength</code></td>
<td>
<p>Numeric with number of records to include in one page,
by default set to 10.
Set to Inf to include all records.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_fixedcolumns">fixedColumns</code></td>
<td>
<p>List with fixed columns, see corresponding
parameter in the <code>options</code> parameter of the <code><a href="DT.html#topic+datatable">datatable</a></code> function.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_columnswidth">columnsWidth</code></td>
<td>
<p>Character vector with column width,
of length 1 (used for all columns) or of length: <code>ncol(data)</code></p>
</td></tr>
<tr><td><code id="getClinDT_+3A_options">options</code></td>
<td>
<p>List with additional <code><a href="DT.html#topic+datatable">datatable</a></code> options.
This parameter overwrites the default options set internally
in the function (an indicative message mentions it if that is the case).</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_expandvar">expandVar</code></td>
<td>
<p>Character vector with expandable variables of <code>data</code>.
These columns won't be included in the table, but displayed
for each row when the '+' icon in the first column 
of the table will be clicked on.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_expandidx">expandIdx</code></td>
<td>
<p>Matrix named with: 'row'/'column'
containing row/column indices to expand.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_escape">escape</code></td>
<td>
<p>Column(s) to escape in the table
(e.g. containing raw HTML code), either character, numeric or logical of length 1.
See corresponding parameter in the <code><a href="DT.html#topic+datatable">datatable</a></code> function.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_rowgroup">rowGroup</code></td>
<td>
<p>This parameter is deprecated, please use <code>rowGroup</code> instead.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_rowgroupvar">rowGroupVar</code></td>
<td>
<p>Character vector with colname(s) of <code>data</code>
containing variables to group rows by.
This creates row header containing this column.
Please note that the original row order in <code>data</code> is respected,
so you might want to order rows based on the grouping variables upfront.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_valign">vAlign</code></td>
<td>
<p>String with vertical alignment for the cells,
'top' by default.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_callback">callback</code></td>
<td>
<p>String with custom Javascript callback function.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_buttons">buttons</code></td>
<td>
<p>DataTable buttons
(passed to the 'buttons' element of the <code>options</code> parameter of <code><a href="DT.html#topic+datatable">datatable</a></code>).
See <code><a href="#topic+getClinDTButtons">getClinDTButtons</a></code> for the default options.
To remove all buttons, set this parameter to NULL.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_scrollx">scrollX</code></td>
<td>
<p>Logical, if TRUE (by default) a horizontal scrolling bar
is included. 
Note: this differs from the <code><a href="DT.html#topic+datatable">datatable</a></code> default (FALSE),
because required for <code>bookdown::gitbook</code> output if table is too wide.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_file">file</code></td>
<td>
<p>(optional) String with name of html file to which the
created DT should be exported.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_verbose">verbose</code></td>
<td>
<p>Logical, if TRUE (by default) informative messages
are displayed, e.g. if specified <code>options</code> overwrite the
internal default.</p>
</td></tr>
<tr><td><code id="getClinDT_+3A_...">...</code></td>
<td>
<p>Additional parameters for the <code><a href="DT.html#topic+datatable">datatable</a></code> function,
e.g table width.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="DT.html#topic+datatable">datatable</a></code> object.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataADaMCDISCP01)
labelVars &lt;- attr(dataADaMCDISCP01, "labelVars")

# example of simple adverse event table
dataAE &lt;- dataADaMCDISCP01$ADAE
subjectsSafety &lt;- subset(dataADaMCDISCP01$ADSL, SAFFL == "Y")$USUBJID

# compute counts of subjects presenting each AE
tableAE &lt;- stats::aggregate(
	USUBJID ~ AESOC:AEDECOD,
	data = dataAE, 
	FUN = function(usubjid)	length(unique(usubjid))
)
colnames(tableAE)[colnames(tableAE) == "USUBJID"] &lt;- "N"
# and percentages
tableAE$perc &lt;- round(tableAE$N/length(subjectsSafety)*100, 3)
# sort records in decreasing percentage
tableAE &lt;- tableAE[order(tableAE$perc, decreasing = TRUE), ]

# extract new variables labels
tableAELabels &lt;- getLabelVar(
	var = colnames(tableAE),
	labelVars = labelVars,
	label = c(N = '# subjects', perc = "% subjects")
)
# 'colnames' for DT should be specified as c('new name' = 'old name', ...)
tableAELabelsDT &lt;- setNames(names(tableAELabels), tableAELabels)

## create table with bar

# default:
getClinDT(
	data = tableAE,
	barVar = "perc",
	colnames = tableAELabelsDT
)

# specify range for the bar
getClinDT(
	data = tableAE,
	filter = "none",
	barVar = "perc",
	barRange = c(0, 100),
	colnames = tableAELabelsDT
)

# change color according to threshold
getClinDT(
	data = tableAE,
	filter = "none",
	barVar = "perc",
	barColorThr = seq(from = 0, to = 100, by = 25),
	colnames = tableAELabelsDT
)

## group per system organ class (and decreasing N):
tableAESOC &lt;- aggregate(N ~ AESOC, data = tableAE, FUN = sum)
tableAE$AESOC &lt;- factor(tableAE$AESOC,
	levels = tableAESOC[order(tableAESOC$N, decreasing = FALSE), "AESOC"]
)
tableAE &lt;- tableAE[order(tableAE$AESOC, tableAE$perc, decreasing = TRUE), ]
	
getClinDT(
	data = tableAE,
	filter = "none",
	barVar = "perc",
	barRange = c(0, 100),
	colnames = tableAELabelsDT,
	rowGroupVar = "AESOC",
	pageLength = Inf
)

# expand the subject ID column, will
# be accessible when clicking on the '+' button
# Format URL correctly with: 'escape',
# please note that indexing starts at 0!
getClinDT(
	data = tableAE,
	barVar = "perc",
	colnames = tableAELabelsDT,
	expandVar = "USUBJID", 
	escape = grep("USUBJID", colnames(tableAE))-1
)

# fix size for columns
getClinDT(
	data = tableAE,
	colnames = tableAELabelsDT,
	fixedColumns = list(leftColumns = 1),
	columnsWidth = c(0.1, 0.7, 0.1, 0.1),
	width = "350px" # change dimension table
)

## Not run: # due to time constraint in CRAN

# change default buttons
getClinDT(
	data = tableAE,
	colnames = tableAELabelsDT,
	# remove general filter
	filter = "none",
	# custom set of buttons
	buttons = getClinDTButtons(type = c("csv", "excel", "pdf"))
)
# add button to select columns
getClinDT(
	data = tableAE,
	colnames = tableAELabelsDT,
	# custom set of buttons
	buttons = getClinDTButtons(typeExtra = "colvis")
)
# export pdf in landscape format
buttons &lt;- getClinDTButtons(
	opts = list(pdf = list(orientation = "landscape"))
)
getClinDT(
	data = tableAE,
	colnames = tableAELabelsDT,
	# custom set of buttons
	buttons = buttons
)

# hide the first column:
getClinDT(
	data = tableAE,
	nonVisibleVar = "AESOC"
)

# with specific caption
library(htmltools)
caption &lt;- tags$caption(
	"Number of subjects with adverse events grouped by system organ class.",
	br(), 
	paste(
		"Percentages are based on the total number of patients having",
		"received a first study treatment."
	)
)
getClinDT(
	data = tableAE,
	filter = "none",
	barVar = "perc",
	barRange = c(0, 100),
	pageLength = Inf,
	colnames = tableAELabelsDT,
	rowGroupVar = "AESOC",
	caption = caption
)


## End(Not run)
</code></pre>

<hr>
<h2 id='getClinDTButtons'>Get a default set of buttons to be included
in the interactive table for clinical data.</h2><span id='topic+getClinDTButtons'></span>

<h3>Description</h3>

<p>Get a default set of buttons to be included
in the interactive table for clinical data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getClinDTButtons(
  type = c("copy", "csv", "excel", "pdf", "print"),
  typeExtra = NULL,
  opts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getClinDTButtons_+3A_type">type</code></td>
<td>
<p>Character vector with type of buttons, among:
</p>

<ul>
<li><p> for export data: 
</p>

<ul>
<li><p> 'copy' (by default): copy data to clipboard
</p>
</li>
<li><p> 'csv' (by default): export selected data to a csv file
</p>
</li>
<li><p> 'excel' (by default): export selected data to an Excel file
</p>
</li>
<li><p> 'pdf' (by default): export data in a PDF file, in landscape
format
</p>
</li>
<li><p> 'print' (by default): extract the data with the print
function of the browser
</p>
</li></ul>

<p>For all these buttons, only the visible columns
(selected by the show/hide button) are exported.
The variables used for row grouping are always
exported as well.
</p>
</li>
<li><p> to show/hide columns :
</p>

<ul>
<li><p> 'colvis': include a collection of buttons
to show/hide specific columns.<br />
Specific columns that should not be listed 
should be defined in <code>nonVisibleVar</code>
in <code><a href="#topic+getClinDT">getClinDT</a></code>
</p>
</li></ul>

</li></ul>
</td></tr>
<tr><td><code id="getClinDTButtons_+3A_typeextra">typeExtra</code></td>
<td>
<p>Character vector with type
of button(s) that should be added to the default
set of buttons.</p>
</td></tr>
<tr><td><code id="getClinDTButtons_+3A_opts">opts</code></td>
<td>
<p>List with extra opts for specific buttons.
The list should be named with the button type.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'colvis' button doesn't display
the non visible columns.<br />
These are defined internally with:
</p>
<pre>
options = list(
  columnDefs = list(
    list(targets = [X], className = 'noVis')
  )
)</pre>
<p>with [X] the index of the column(s) 
in Javascript notation
(starting from 0)
</p>


<h3>Value</h3>

<p>Nested list with default buttons
to be passed on to 'buttons' option in
the <code><a href="#topic+getClinDT">getClinDT</a></code>.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getColorPalette'>Get a color palette for clinical
visualizations.</h2><span id='topic+getColorPalette'></span>

<h3>Description</h3>

<p>Get a color palette of specified length,
either from a vector of names for the palette, or
from a specified length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getColorPalette(n = NULL, x = NULL, includeNA = FALSE, palette = clinColors)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getColorPalette_+3A_n">n</code></td>
<td>
<p>Integer of length 1, number of elements in palette.</p>
</td></tr>
<tr><td><code id="getColorPalette_+3A_x">x</code></td>
<td>
<p>Vector with elements used for palette.
If factor, the levels are used, otherwise the unique elements of the vector.
Missing values are automatically removed, excepted if
<code>includeNA</code> is set to TRUE.</p>
</td></tr>
<tr><td><code id="getColorPalette_+3A_includena">includeNA</code></td>
<td>
<p>Logical (FALSE by default), 
should NA elements be retained in the palette in case
<code>x</code> is specified?</p>
</td></tr>
<tr><td><code id="getColorPalette_+3A_palette">palette</code></td>
<td>
<p>A vector of custom colors,
or a function returning this vector from a specific
number of colors.<br />
Default is the the colorblind 
<code><a href="viridisLite.html#topic+viridis">viridis</a></code> color palette.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of colors,
named with the elements in <code>x</code> if <code>x</code> is specified.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud and Michela Pasetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'># extract longest palette available
getColorPalette(n = 11)
# extract palette for a vector
getColorPalette(x = paste('treatment', 1:4))
# possibility to include missing values:
getColorPalette(x = c(NA_character_, "group1"), includeNA = FALSE)
getColorPalette(x = c(NA_character_, "group1"), includeNA = TRUE)
# change default settings
getColorPalette(n = 3, palette = c("red", "green", "grey"))
</code></pre>

<hr>
<h2 id='getLabelParamcd'>Get label for a parameter code</h2><span id='topic+getLabelParamcd'></span>

<h3>Description</h3>

<p>This function gets the labele for a parameter code 
extracted from the 'PARAM' column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLabelParamcd(paramcd, data, paramcdVar = "PARAMCD", paramVar = "PARAM")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLabelParamcd_+3A_paramcd">paramcd</code></td>
<td>
<p>Character vector with parameter code(s).</p>
</td></tr>
<tr><td><code id="getLabelParamcd_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="getLabelParamcd_+3A_paramcdvar">paramcdVar</code></td>
<td>
<p>String with column containing the <code>paramcd</code> parameter,
'PARAMCD' by default (for ADaM format).</p>
</td></tr>
<tr><td><code id="getLabelParamcd_+3A_paramvar">paramVar</code></td>
<td>
<p>String with column containing the <code>param</code> parameter,
'PARAM' by default(for ADaM format).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named character vector with label for parameter code or
<code>paramcd</code> if label is missing.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'># for ADaM
data(dataADaMCDISCP01)
getLabelParamcd(paramcd = "CHOL", data = dataADaMCDISCP01$ADLBC)
# for SDTM
data(dataSDTMCDISCP01)
getLabelParamcd(
  paramcd = "ALB", 
  data = dataSDTMCDISCP01$LB, 
  paramcdVar = "LBTESTCD", 
  paramVar = "LBTEST"
)
</code></pre>

<hr>
<h2 id='getLabelVar'>Get label for a variable of the dataset</h2><span id='topic+getLabelVar'></span>

<h3>Description</h3>

<p>The label is extracted either (in this order):
</p>

<ol>
<li><p> if <code>label</code> is specified: from this label based on names,
or directly from this label if <code>label</code> and <code>var</code> are of length 1 
(if available)
</p>
</li>
<li><p> if <code>labelVars</code> is specified: from the specified vector of labels,
based on names (if available)
</p>
</li>
<li><p> if <code>data</code> is specified: from the 'label' attribute 
of the corresponding column in <code>data</code> (if available)
</p>
</li></ol>
 
<p>If the label is not available, the input variable is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLabelVar(var, data = NULL, labelVars = NULL, label = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLabelVar_+3A_var">var</code></td>
<td>
<p>Character vector with variables of interest.</p>
</td></tr>
<tr><td><code id="getLabelVar_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="getLabelVar_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels (names are the variable code),
usually extracted from <code>data</code>.</p>
</td></tr>
<tr><td><code id="getLabelVar_+3A_label">label</code></td>
<td>
<p>(Named) Character vector with user-specified label for <code>var</code>.
Label is extracted based on names if variable is available.
If <code>var</code> is of length 1, <code>label</code> can also be specified
as an unnamed character.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named character vector with label, <code>var</code> is no label is available
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(dataADaMCDISCP01)
labelVars &lt;- attr(dataADaMCDISCP01, "labelVars")

# (upon reading the data with haven: attributes should directly available in each column)
getLabelVar(data = dataADaMCDISCP01, var = "AEREL")
		
# but if the data as data.frame is subsetted, label is lost 	
# so better to use 'labelVars':
getLabelVar(var = "AEREL", labelVars = labelVars)
</code></pre>

<hr>
<h2 id='getLabelVars'>Get label of the variables in SAS dataset(s)</h2><span id='topic+getLabelVars'></span>

<h3>Description</h3>

<p>Get label of the variables in SAS dataset(s)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLabelVars(data, labelVars = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLabelVars_+3A_data">data</code></td>
<td>
<p>Data.frame with SAS dataset(s) or list of those.</p>
</td></tr>
<tr><td><code id="getLabelVars_+3A_labelvars">labelVars</code></td>
<td>
<p>(optional) Named character vector with additional labels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named vector with variable labels.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataADaMCDISCP01)
labelVars &lt;- attr(dataADaMCDISCP01, "labelVars")

# extract label for all variables from specified datasets:
getLabelVars(data = dataADaMCDISCP01[c("ADLBC", "ADVS")], labelVars = labelVars)

# extracted from specified labelVars, e.g. to specify custom label for specific variable(s)
labelVarsCustom &lt;- getLabelVars(
  data = dataADaMCDISCP01, 
  labelVars = c(USUBJID = "Subject identifier for my study")
)
labelVarsCustom["USUBJID"]
</code></pre>

<hr>
<h2 id='getLinetypePalette'>Get a linetype palette for clinical
visualizations.</h2><span id='topic+getLinetypePalette'></span>

<h3>Description</h3>

<p>Get a linetype palette of specified length,
either from a vector of names for the palette, or
from a specified length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLinetypePalette(
  n = NULL,
  x = NULL,
  includeNA = FALSE,
  palette = clinLinetypes
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLinetypePalette_+3A_n">n</code></td>
<td>
<p>Integer of length 1, number of elements in palette.</p>
</td></tr>
<tr><td><code id="getLinetypePalette_+3A_x">x</code></td>
<td>
<p>Vector with elements used for palette.
If factor, the levels are used, otherwise the unique elements of the vector.
Missing values are automatically removed, excepted if
<code>includeNA</code> is set to TRUE.</p>
</td></tr>
<tr><td><code id="getLinetypePalette_+3A_includena">includeNA</code></td>
<td>
<p>Logical (FALSE by default), 
should NA elements be retained in the palette in case
<code>x</code> is specified?</p>
</td></tr>
<tr><td><code id="getLinetypePalette_+3A_palette">palette</code></td>
<td>
<p>A vector of custom linetypes,
or a function returning this vector from a specific
number of linetypes.<br />
Default is the <code><a href="#topic+clinLinetypes">clinLinetypes</a></code> linetype palette.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that 7 unique symbols are available at maximum
(replicated if necessary).
</p>


<h3>Value</h3>

<p>Vector with linetypes,
named with the elements in <code>x</code> if <code>x</code> is specified.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud and Michela Pasetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'># extract longest linetype palette available
getLinetypePalette(n = 6)
# extract palette for a vector
getLinetypePalette(x = paste('treatment', 1:4))
# include missing
getLinetypePalette(x = c(NA_character_, "group1"), includeNA = TRUE)
getLinetypePalette(x = c(NA_character_, "group1"), includeNA = FALSE)
# set custom linetypes
lty &lt;- getColorPalette(n = 3, palette = c("twodash", "dashed"))
</code></pre>

<hr>
<h2 id='getPaletteCDISC'>Get standard palette for typical CDISC variables.</h2><span id='topic+getPaletteCDISC'></span>

<h3>Description</h3>

<p>The extraction of the palette elements is case-insensitive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPaletteCDISC(x, var, type, palette = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getPaletteCDISC_+3A_x">x</code></td>
<td>
<p>Character vector of factor with
variable to consider.
The palette is built based on the unique elements
of this vector, or levels if <code>x</code> is a factor.</p>
</td></tr>
<tr><td><code id="getPaletteCDISC_+3A_var">var</code></td>
<td>
<p>String with type of variable, among:
</p>

<ul>
<li><p> 'NRIND': Normal Reference Range Indicator
</p>
</li></ul>
</td></tr>
<tr><td><code id="getPaletteCDISC_+3A_type">type</code></td>
<td>
<p>String with type of palette:
</p>

<ul>
<li><p> 'shape': shape/symbol palette
</p>
</li>
<li><p> 'color': color palette
</p>
</li></ul>
</td></tr>
<tr><td><code id="getPaletteCDISC_+3A_palette">palette</code></td>
<td>
<p>(optional) Named vector
with extra palette, e.g. to specify elements
for non-standard categories.
This palette is combined with the standard palette.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The order of the palette depends on the type of the input
variable (<code>x</code>):
</p>

<ul>
<li><p> if a factor is specified, the palette is ordered based
on its levels
</p>
</li>
<li><p> if a character vector is specified,
the elements from the internal standard palette are used first,
the remaining elements are then sorted alphabetically.
</p>
</li></ul>



<h3>Value</h3>

<p>Named vector with palette.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## palette for reference range indicator variables

xRIND &lt;- c("LOW", "HIGH", "NORMAL", "NORMAL", "NORMAL", "ABNORMAL")

# get standard palette
getPaletteCDISC(x = xRIND, var = "NRIND", type = "shape")
getPaletteCDISC(x = xRIND, var = "NRIND", type = "color")

# in case extra categories are specified:
xRIND &lt;- c(xRIND, "High Panic")
# the symbols are set to numeric symbols
getPaletteCDISC(xRIND, var = "NRIND", type = "shape")
# use shapePalette to specify symbols for extra categories
getPaletteCDISC(xRIND, var = "NRIND", type = "shape", palette = c("High Panic" = "\u2666"))

# palette is case-insensitive
xRIND &lt;- c("Low", "High", "Normal", "Normal", "Normal")
getPaletteCDISC(xRIND, var = "NRIND", type = "shape")
</code></pre>

<hr>
<h2 id='getSetDiff'>Get additions/removals</h2><span id='topic+getSetDiff'></span>

<h3>Description</h3>

<p>Get only additions and removals from two data sets
(<code>data.table</code> objects).
The additions/removals are extracted as <code>x</code> vs
<code>y</code>.
This function assumes that the objects <code>x</code>
and <code>y</code> don't share identical rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSetDiff(x, y, referenceVars)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSetDiff_+3A_x">x</code></td>
<td>
<p>A <code>data.table</code> object</p>
</td></tr>
<tr><td><code id="getSetDiff_+3A_y">y</code></td>
<td>
<p>A <code>data.table</code> object</p>
</td></tr>
<tr><td><code id="getSetDiff_+3A_referencevars">referenceVars</code></td>
<td>
<p>character vector of the columns in the data that are the used as
reference for the comparison. <br /> 
If not specified, all columns present both in
<code>newData</code> and <code>oldData</code> are considered.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.table</code> object with the 
additions/removals with respect of the comparison
between <code>x</code> vs <code>y</code>.
</p>

<hr>
<h2 id='getShapePalette'>Get a shape palette for clinical
visualizations.</h2><span id='topic+getShapePalette'></span>

<h3>Description</h3>

<p>Get a shape palette of specified length,
either from a vector of names for the palette, or
from a specified length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getShapePalette(
  n = NULL,
  x = NULL,
  includeNA = FALSE,
  asText = FALSE,
  palette = if (asText) {
     clinShapesText
 } else {
     clinShapes
 }
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getShapePalette_+3A_n">n</code></td>
<td>
<p>Integer of length 1, number of elements in palette.</p>
</td></tr>
<tr><td><code id="getShapePalette_+3A_x">x</code></td>
<td>
<p>Vector with elements used for palette.
If factor, the levels are used, otherwise the unique elements of the vector.
Missing values are automatically removed, excepted if
<code>includeNA</code> is set to TRUE.</p>
</td></tr>
<tr><td><code id="getShapePalette_+3A_includena">includeNA</code></td>
<td>
<p>Logical (FALSE by default), 
should NA elements be retained in the palette in case
<code>x</code> is specified?</p>
</td></tr>
<tr><td><code id="getShapePalette_+3A_astext">asText</code></td>
<td>
<p>Logical (FALSE by default), should the palette
be expressed as integer (base R plot and ggplot2 compatible)
or in text format 
(e.g. required if combined with unicode symbols in ggplot2)?</p>
</td></tr>
<tr><td><code id="getShapePalette_+3A_palette">palette</code></td>
<td>
<p>A vector of custom shapes,
or a function returning this vector from a specific
number of shapes.<br />
The vector should be a character if <code>asText</code> is set to TRUE.<br />
Default is the <code><a href="#topic+clinShapes">clinShapes</a></code> shape palette,
or <code><a href="#topic+clinShapesText">clinShapesText</a></code> if <code>asText</code> is set to TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that 19 unique symbols are available at maximum
(replicated if necessary).
</p>


<h3>Value</h3>

<p>Vector of shapes,
named with the elements in <code>x</code> if <code>x</code> is specified.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud and Michela Pasetto
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#' extract longest shape palette available
getShapePalette(n = 19)
# extract palette for a vector
getShapePalette(x = paste('treatment', 1:4))
# include missing
getShapePalette(x = c(NA_character_, "group1"), includeNA = TRUE)
getShapePalette(x = c(NA_character_, "group1"), includeNA = FALSE)
# change default settings
getShapePalette(x = paste('treatment', 1:3), palette = c("circle", "triangle"))
# get symbols as 'text' (e.g. to be combined with Unicode in ggplot2)
getShapePalette(x = paste('treatment', 1:4), asText = TRUE)
</code></pre>

<hr>
<h2 id='knitPrintListObjects'>Include a list of objects in a knitr document</h2><span id='topic+knitPrintListObjects'></span>

<h3>Description</h3>

<p>Each object is included (internally) in a separated chunk,
so different chunk options can be set for each object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knitPrintListObjects(
  xList,
  generalLabel = "objectsList",
  labels = paste0(generalLabel, seq_along(xList)),
  titles = NULL,
  titleLevel = 2,
  printObject = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="knitPrintListObjects_+3A_xlist">xList</code></td>
<td>
<p>List of objects to print.</p>
</td></tr>
<tr><td><code id="knitPrintListObjects_+3A_generallabel">generalLabel</code></td>
<td>
<p>String with general label for the chunks, 
used to build the <code>labels</code>.
The labels are constructed as '<code>generalLabel</code>[i]',
with i the list index.
Only use if <code>labels</code> is not specified.</p>
</td></tr>
<tr><td><code id="knitPrintListObjects_+3A_labels">labels</code></td>
<td>
<p>Character vector with labels,
one for each chunk.<br />
This is also used to define file names
for plots exported in the document
(e.g. via <code>opts_chunk$set(dev = "png")</code>).</p>
</td></tr>
<tr><td><code id="knitPrintListObjects_+3A_titles">titles</code></td>
<td>
<p>Character vector with section titles,
one for each chunk.</p>
</td></tr>
<tr><td><code id="knitPrintListObjects_+3A_titlelevel">titleLevel</code></td>
<td>
<p>Integer with level for section header,
1 for top-level section header.</p>
</td></tr>
<tr><td><code id="knitPrintListObjects_+3A_printobject">printObject</code></td>
<td>
<p>Logical, if TRUE (FALSE by default),
each object within <code>xList</code> is explicitely printed 
with the <code><a href="base.html#topic+print">print</a></code> function.</p>
</td></tr>
<tr><td><code id="knitPrintListObjects_+3A_...">...</code></td>
<td>
<p>any <code>knitr</code> chunk parameters
(excepted 'results', set to 'asis' and 'echo' set to FALSE
internally).<br />
See <code><a href="knitr.html#topic+knitr">knitr</a>[opts_chunk]</code> for further 
details on available options.
Each parameter can be specified for each element
in the list separately: by specifying a vector
with the same length than the list; or for
all elements at once: by specifying a vector
of length 1 (in this case it will be replicated).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function should be called within a chunk
with the following option: <strong><code>results = 'asis'</code></strong>.
</p>


<h3>Value</h3>

<p>No returned value, a text is printed with chunk content
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
	
# Note: the following code should be included 
# within a chunk of a knitr (e.g. RMarkdown) document
# to include a list of objects in the Rmarkdown output

# list of flextable objects
library(flextable)
listTables &lt;- list(flextable(iris), flextable(cars))
knitPrintListObjects(
	xList = listTables,
	titles = c("Iris dataset", "Cars dataset")
)


## End(Not run)
</code></pre>

<hr>
<h2 id='knitPrintListPlots'>Include a list of plots in a knitr document</h2><span id='topic+knitPrintListPlots'></span>

<h3>Description</h3>

<p>Each plot is included (internally) in a separated chunk,
so different chunk options can be set for each plot.<br />
For example, plots can be created with different
figure height or width (see examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knitPrintListPlots(
  plotsList,
  generalLabel = "plotsList",
  type = c("ggplot2", "plotly"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="knitPrintListPlots_+3A_plotslist">plotsList</code></td>
<td>
<p>list of plots, e.g. <code>ggplot</code> objects
from the <code>ggplot2</code> package or from the <code>plotly</code> packages.</p>
</td></tr>
<tr><td><code id="knitPrintListPlots_+3A_generallabel">generalLabel</code></td>
<td>
<p>general label for the chunks, used to build the <code>labels</code>.
The labels are constructed as '<code>generalLabel</code>[i]',
with i the plot number (from sequence spanning the length of <code>plotsList</code>).
Only use if <code>labels</code> is not specified.</p>
</td></tr>
<tr><td><code id="knitPrintListPlots_+3A_type">type</code></td>
<td>
<p>string with plot type: 'ggplot2' or 'plotly'</p>
</td></tr>
<tr><td><code id="knitPrintListPlots_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+knitPrintListObjects">knitPrintListObjects</a></code>
</p>

<dl>
<dt><code>labels</code></dt><dd><p>Character vector with labels,
one for each chunk.<br />
This is also used to define file names
for plots exported in the document
(e.g. via <code>opts_chunk$set(dev = "png")</code>).</p>
</dd>
<dt><code>titles</code></dt><dd><p>Character vector with section titles,
one for each chunk.</p>
</dd>
<dt><code>titleLevel</code></dt><dd><p>Integer with level for section header,
1 for top-level section header.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function should be called within a chunk
with the following option: <strong><code>results = 'asis'</code></strong>.<br />
Note that a (one-level) list of <code>plotly</code> plots can 
also be included directly via
<code>htmltools::tagList(listPlots)</code>, but without the possibility to 
have different chunk option for each plot.
</p>


<h3>Value</h3>

<p>No returned value, a text is printed with chunk content
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# Note: the following code should be included 
# within a chunk of a knitr (e.g. RMarkdown) document
# to include a list of figures in the Rmarkdown output
data(iris)

## Static plots

library(ggplot2)
plotsListStatic &lt;- list(
	point = ggplot(data = cars, aes(x = speed, y = dist)) + geom_point(),
	line = ggplot(data = cars, aes(x = speed, y = dist)) + geom_line()
)
# with general label (used to name exported figure)
knitPrintListPlots(
	plotsList = plotsListStatic, 
	generalLabel = "scatter-cars"
)
# with label for each plot (used to name exported figure)
knitPrintListPlots(
	plotsList = plotsListStatic, 
	labels = names(plotsListStatic)
)
# with section header (header of level 1 in Markdown)
knitPrintListPlots(
	plotsList = plotsListStatic, 
	titles = names(plotsListStatic), 
	titleLevel = 3
)
# with caption for each figure
knitPrintListPlots(
	plotsList = plotsListStatic, 
	fig.cap = names(plotsListStatic)
)
	
# specify dimension for each figure
knitPrintListPlots(
	plotsList = plotsListStatic, 
	# first plot has width of 3, second of 6
	fig.width = c(3, 6), 
	# both plots have a height of 6
	fig.height = 6
)

## Interactive plots

library(plotly)
plotsListInteractive &lt;- list(
	point = plot_ly(data = cars, x = ~speed, y = ~dist, type = "scatter", mode = "marker"),
	line = plot_ly(data = cars, x = ~speed, y = ~dist, type = "scatter", mode = "line")
)

# with titles
knitPrintListPlots(
	plotsList = plotsListInteractive, 
	type = "plotly", 
	titles = names(plotsListInteractive), 
	titleLevel = 3
)


## End(Not run)
</code></pre>

<hr>
<h2 id='loadDataADaMSDTM'>Load data from ADaM/SDTM file(s).</h2><span id='topic+loadDataADaMSDTM'></span>

<h3>Description</h3>

<p>Load data set in SAS format ('sas7bdat' or 'xpt') into R data.frames, from
<code>files</code> or raw vector <code>data</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadDataADaMSDTM(
  files,
  data,
  convertToDate = FALSE,
  dateVars = "DTC$",
  verbose = TRUE,
  encoding = "UTF-8",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loadDataADaMSDTM_+3A_files">files</code></td>
<td>
<p>Character vector with path to ADaM or SDTM file(s).<br />
Currently only import of files with extension: 'sas7bdat' or 'xpt' are supported.</p>
</td></tr>
<tr><td><code id="loadDataADaMSDTM_+3A_data">data</code></td>
<td>
<p>Named list with <a href="base.html#topic+raw">raw</a> vector data 
(as supported by: <a href="haven.html#topic+read_sas">read_sas</a> and <a href="haven.html#topic+read_xpt">read_xpt</a>).<br />
The list should be named with the file name (or full path)
the data has been imported from (e.g.: 'ae.xpt' or '/path/to/data.adsl.sas7bdat').</p>
</td></tr>
<tr><td><code id="loadDataADaMSDTM_+3A_converttodate">convertToDate</code></td>
<td>
<p>logical, if TRUE columns with date/time are converted to 
<code><a href="base.html#topic+POSIXct">POSIXct</a></code> format, which stores calendar date/time in R.
Please note that most of the time this is not necessary, as date variables
are automatically imported via the <code>haven</code> package if encoded correctly in the dataset.</p>
</td></tr>
<tr><td><code id="loadDataADaMSDTM_+3A_datevars">dateVars</code></td>
<td>
<p>vector of columns in <code>data</code> containing date/time,
or pattern for this columns.
By default all columns ending with 'DTC' are used (dateVars is: 'DTC$').</p>
</td></tr>
<tr><td><code id="loadDataADaMSDTM_+3A_verbose">verbose</code></td>
<td>
<p>logical, if TRUE (by default) progress messages are printed during execution.</p>
</td></tr>
<tr><td><code id="loadDataADaMSDTM_+3A_encoding">encoding</code></td>
<td>
<p>String with encoding, only used if <code>files</code> is of extension: 'sas7bdat',
'UTF-8' by default.</p>
</td></tr>
<tr><td><code id="loadDataADaMSDTM_+3A_...">...</code></td>
<td>
<p>Additional parameters for the <code><a href="haven.html#topic+read_sas">read_sas</a></code> or
<code><a href="haven.html#topic+read_xpt">read_xpt</a></code> functions, depending on the input file type.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>While creating the R data.frames, if date/time variables are present, 
those are converted into to R date/time class 
(see <code><a href="#topic+convertToDateTime">convertToDateTime</a></code>) function.
</p>
<p>The labels of the ADaM/SDTM data sets are attached as attributes 
of the R data.frame.
</p>


<h3>Value</h3>

<p>List of data.frame with data of each ADAM file (if not empty),
with special attributes:
</p>

<ul>
<li><p> 'labelVars': named vector with label of the variables
</p>
</li>
<li><p> 'label': named vector with label of the datasets
</p>
</li></ul>

<p>Each data.frame contains an additional column called 'dataset' 
specifying the name of the <code>files</code> it was read from.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dataFromSAS7bdat &lt;- loadDataADaMSDTM(files = "ae.sas7bdat")
attr(dataFromSAS7bdat, "labelVars") # column labels
dataFromXpt &lt;- loadDataADaMSDTM(files = c("ae.xpt", "dm.xpt"))
attr(dataFromXpt, "labelVars") # column labels

## End(Not run)
</code></pre>

<hr>
<h2 id='mergeDiffWithData'>Merge the 'diff.data' object from <code><a href="#topic+compareDiff">compareDiff</a></code>
with the original <code>newData</code> or <code>oldData</code>.</h2><span id='topic+mergeDiffWithData'></span>

<h3>Description</h3>

<p>The <code>newData</code>/<code>oldData</code> are merged 
with <code>diffData</code> based on the columns of <code>diffData</code>
excepted 'Comparison type' and 'Version'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeDiffWithData(diffData, newData, oldData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergeDiffWithData_+3A_diffdata">diffData</code></td>
<td>
<p>Object of class 'diff.data' containing
differences between datasets, as returned by the <code><a href="#topic+compareDiff">compareDiff</a></code> function.</p>
</td></tr>
<tr><td><code id="mergeDiffWithData_+3A_newdata">newData</code></td>
<td>
<p>data.frame object representing the new data</p>
</td></tr>
<tr><td><code id="mergeDiffWithData_+3A_olddata">oldData</code></td>
<td>
<p>data.frame object representing the old data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>newData</code> or <code>oldData</code> (as a data frame object)
with the extra column 'Comparison type' specifying the type
of change, either:
</p>

<ul>
<li><p> 'Change': record present in both dataset based 
on the reference variables, but with changes in the
changeable variables
</p>
</li>
<li><p> 'Addition': records present in new but not in old data
</p>
</li>
<li><p> 'Removal': records present in old but not in new data
</p>
</li>
<li><p> 'Identical': records identical in the old and new datasets
(on both the reference and changeable variables)
</p>
</li></ul>


<hr>
<h2 id='mergeInputDiff'>Custom merge of difference data with input data</h2><span id='topic+mergeInputDiff'></span>

<h3>Description</h3>

<p>Custom merge (left join) of difference data with some input data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeInputDiff(diffData, inputData, typeData, colsBy)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergeInputDiff_+3A_diffdata">diffData</code></td>
<td>
<p>A <code>data.table</code> object as output from <code><a href="#topic+compareDiff">compareDiff</a></code>.</p>
</td></tr>
<tr><td><code id="mergeInputDiff_+3A_inputdata">inputData</code></td>
<td>
<p>A <code>data.table</code> object. For instance, the <code>newData</code> or
the <code>oldData</code> argument from <code><a href="#topic+compareTables">compareTables</a></code>.</p>
</td></tr>
<tr><td><code id="mergeInputDiff_+3A_typedata">typeData</code></td>
<td>
<p>String with type of data, as &quot;new&quot; for <code>newData</code> or
&quot;old&quot; for <code>oldData</code>.</p>
</td></tr>
<tr><td><code id="mergeInputDiff_+3A_colsby">colsBy</code></td>
<td>
<p>Character vector of columns for doing the merge by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.table</code> object.
The <code>inputData</code> is joined with the columns <code>Comparison type</code>
and <code>Version</code> from the <code>diffData</code> argument.
</p>

<hr>
<h2 id='reorderColumns'>Function for reordering columns</h2><span id='topic+reorderColumns'></span>

<h3>Description</h3>

<p>Function for reordering columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reorderColumns(data, vars)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reorderColumns_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code></p>
</td></tr>
<tr><td><code id="reorderColumns_+3A_vars">vars</code></td>
<td>
<p>Named vector indicating the position 
in the data frame of the specified variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same <code>data.frame</code> specified in <code>data</code>, 
with ordered columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>someData &lt;- data.frame(
	"Col1" = c(1, 2),
	"Col2" = c(2, 3),
	"Col3" = c(3, 4)
	)
reorderColumns(
	data = someData,
	vars = c("Col3" = 1)
	)
</code></pre>

<hr>
<h2 id='roundHalfUp'>Round a number with 'rounding up' strategy 
for rounding off a 5</h2><span id='topic+roundHalfUp'></span>

<h3>Description</h3>

<p>This function rounds a number for a specified number of digits.
It rounds off to the highest number for a 5.
The default R <code><a href="base.html#topic+round">round</a></code> function rounds to the
'even digit' in case of rounding off a 5 
(see 'Details' section in <code>? round</code>).
This function instead rounds up to the nearest number for a 5. 
It mimics a similar rounding strategy used in SAS.
See examples for the difference between <code><a href="base.html#topic+round">round</a></code> and
'roundHalfUp' below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roundHalfUp(x, digits = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="roundHalfUp_+3A_x">x</code></td>
<td>
<p>Numeric vector to round.</p>
</td></tr>
<tr><td><code id="roundHalfUp_+3A_digits">digits</code></td>
<td>
<p>Integer with number of digits to consider, 0 by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rounded numeric vector.
</p>


<h3>Author(s)</h3>

<p>stackoverflow question 6461209
</p>


<h3>Examples</h3>

<pre><code class='language-R'># numbers are rounded to the closest even number in case of .5 
# with the round 'base' function
round(0.45, 1)
# 'roundHalfUp' always round to the next highest number in case of .5
roundHalfUp(0.45, 1)
# rounding is the same for uneven number:
round(0.55, 1)
roundHalfUp(0.55)
# other examples
round(1.456e-2, digits = 3)
round(1.456e-2, digits = 2)
round(1.456e-2, digits = 1)
</code></pre>

<hr>
<h2 id='roundHalfUpTextFormat'>Round a number with 'round-up' strategy for rounding off a 5 in text format</h2><span id='topic+roundHalfUpTextFormat'></span>

<h3>Description</h3>

<p>This function rounds numbers with a 'round-up' strategy 
for rounding off a 5. 
The function rounds for a specified number of digits
and format number to a: 'xxx.xxx' text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roundHalfUpTextFormat(x, digits = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="roundHalfUpTextFormat_+3A_x">x</code></td>
<td>
<p>Numeric vector to round.</p>
</td></tr>
<tr><td><code id="roundHalfUpTextFormat_+3A_digits">digits</code></td>
<td>
<p>Integer with number of digits to consider, 0 by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following workflow is used:
</p>

<ol>
<li><p> numbers are rounded with the <code><a href="#topic+roundHalfUp">roundHalfUp</a></code>
function, see the <code>? roundHalfUp</code> for more details
on the rounding strategy
</p>
</li>
<li><p> round numbers are formatted to character in
the format: 'xxx.xxx' with pads leading zeros
</p>
</li></ol>



<h3>Value</h3>

<p>A character vector with the rounded number.
NA values are returned as 'NA' as string.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud and Michela Pasetto
</p>


<h3>See Also</h3>

<p><a href="#topic+roundHalfUp">roundHalfUp</a> for the rounding customization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># number of digits higher than number of decimal
roundHalfUpTextFormat(x = c(0.345, 0.567, -0.98), digits = 2)
# number of digits lower than number of decimal
roundHalfUpTextFormat(x = c(0.345, 0.567, -0.98), digits = 0)
# by default, 'digits' is 0!
roundHalfUpTextFormat(x = c(0.345, 0.567, -0.98))
# padding zeros
roundHalfUpTextFormat(1.23, 10)
</code></pre>

<hr>
<h2 id='shapePaletteNRIND'>Shape palette for a standard CDISC Normal/Reference
Range Indicator.</h2><span id='topic+shapePaletteNRIND'></span>

<h3>Description</h3>

<p>These symbols should be supported in Windows and Linux.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shapePaletteNRIND
</code></pre>


<h3>Format</h3>

<p>A named character vector with shape symbol for 
typical Normal Reference Range Indicator variable:
</p>

<ul>
<li><p> &quot;LOW&quot;: filled down-pointing arrow (<code>25</code>)
</p>
</li>
<li><p> &quot;NORMAL&quot;: filled circle (21)
</p>
</li>
<li><p> &quot;HIGH&quot;: filled up-pointing arrow (<code>24</code>)
</p>
</li>
<li><p> &quot;ABNORMAL&quot;: diamond (<code>18</code>)
</p>
</li>
<li><p> &quot;UNKNOWN&quot; or 'NA': cross (<code>3</code>)
</p>
</li>
<li><p> &quot;NA&quot;: cross (<code>3</code>)
</p>
</li></ul>


<hr>
<h2 id='simpleCap'>Capitalize the first letter of a word/sentence.</h2><span id='topic+simpleCap'></span>

<h3>Description</h3>

<p>This implementation is inspired from the help of the <code>toupper</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simpleCap(x, onlyFirst = TRUE, rev = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simpleCap_+3A_x">x</code></td>
<td>
<p>Character vector to capitalize</p>
</td></tr>
<tr><td><code id="simpleCap_+3A_onlyfirst">onlyFirst</code></td>
<td>
<p>Logical, if TRUE (by default)
capitalize the first letter of the first word only.
Otherwise, capitalize the first letters of all words of the sentence.
See also <code>link[tools]{toTitleCase}</code> for a more syntax-friendly implementation.</p>
</td></tr>
<tr><td><code id="simpleCap_+3A_rev">rev</code></td>
<td>
<p>Logical, if TRUE (FALSE by default), set first letter to lower case (otherwise upper case)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with first letter capitalized
</p>


<h3>Author(s)</h3>

<p>author of the 'toupper' function?
</p>


<h3>See Also</h3>

<p><code>link[tools]{toTitleCase}</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># capitalize only the first word of the sentence
simpleCap(x = "this is the caption of my figure.")
# capitalize all words
simpleCap(x = "this is the caption of my figure.", onlyFirst = FALSE)
# opposite: set the first letter of the first word to lower case
simpleCap(x = "This is the caption of my figure.", rev = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

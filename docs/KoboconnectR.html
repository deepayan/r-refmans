<!DOCTYPE html><html lang="en-US"><head><title>Help for package KoboconnectR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {KoboconnectR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_kobo_token'><p>Know your API token or check</p></a></li>
<li><a href='#kobo_df_download'><p>Creates a data frame after creating a 'csv' export and downloading it</p></a></li>
<li><a href='#kobo_export_create'><p>Create an export</p></a></li>
<li><a href='#kobo_exports'><p>See list of exports created</p></a></li>
<li><a href='#kobo_media_downloader'><p>Downloads media data from Kobotoolbox</p></a></li>
<li><a href='#kobo_xls_dl'><p>Downloads data (xls type) from Kobotoolbox</p></a></li>
<li><a href='#kobotools_api'><p>Check kobotoolbox API and retrieve overall info about the projects/assets</p></a></li>
<li><a href='#kobotools_kpi_data'><p>Extract data from kobotoolbox</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Download Data from Kobotoolbox to R</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/asitav-sen/KoboconnectR">https://github.com/asitav-sen/KoboconnectR</a>,
<a href="https://asitav-sen.github.io/KoboconnectR/">https://asitav-sen.github.io/KoboconnectR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/asitav-sen/koboconnectR/issues">https://github.com/asitav-sen/koboconnectR/issues</a></td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Wrapper for 'Kobotoolbox' APIs ver 2 mentioned at <a href="https://support.kobotoolbox.org/api.html">https://support.kobotoolbox.org/api.html</a>, to download data from 'Kobotoolbox' to R. Small and simple package that adds immense convenience for the data professionals using 'Kobotoolbox'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr2, curl, jsonlite, mime, openssl, R6, methods, dplyr,
readxl, rlang, purrr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, spelling, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-20 17:46:54 UTC; scarecrow</td>
</tr>
<tr>
<td>Author:</td>
<td>Asitav Sen [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Asitav Sen &lt;codes@asitavsen.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-21 08:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_kobo_token'>Know your API token or check</h2><span id='topic+get_kobo_token'></span>

<h3>Description</h3>

<p>'get_kobo_token' is a wrapper for kobotoolbox API 'https://&quot;[url]&quot;/token/?format=json'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_kobo_token(
  url = "eu.kobotoolbox.org",
  uname = "",
  pwd = "",
  encoding = "UTF-8"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_kobo_token_+3A_url">url</code></td>
<td>
<p>The '[url]' of kobotoolbox. Default is &quot;eu.kobotoolbox.org&quot;.</p>
</td></tr>
<tr><td><code id="get_kobo_token_+3A_uname">uname</code></td>
<td>
<p>is username of your kobotoolbox account</p>
</td></tr>
<tr><td><code id="get_kobo_token_+3A_pwd">pwd</code></td>
<td>
<p>is the password of the account</p>
</td></tr>
<tr><td><code id="get_kobo_token_+3A_encoding">encoding</code></td>
<td>
<p>is the encoding to be used. Default is &quot;UTF-8&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function returns the API token.
</p>


<h3>Value</h3>

<p>The function returns the token associated with your id and password in the given url.
</p>

<hr>
<h2 id='kobo_df_download'>Creates a data frame after creating a 'csv' export and downloading it</h2><span id='topic+kobo_df_download'></span>

<h3>Description</h3>

<p>'kobo_df_download' is a wrapper for kobotoolbox API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kobo_df_download(
  url = "eu.kobotoolbox.org",
  uname = "",
  pwd = "",
  assetid = "",
  all = "false",
  lang = "_default",
  hierarchy = "false",
  include_grp = "true",
  grp_sep = "/",
  fsep = ";",
  multi_sel = "both",
  media_url = "true",
  fields = NULL,
  sub_ids = NULL,
  sleep = 2
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kobo_df_download_+3A_url">url</code></td>
<td>
<p>The '[url]' of kobotoolbox Default is &quot;eu.kobotoolbox.org&quot;.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_uname">uname</code></td>
<td>
<p>is username of your kobotoolbox account</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_pwd">pwd</code></td>
<td>
<p>is the password of the account</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_assetid">assetid</code></td>
<td>
<p>is the id of the asset for which the export is to be created</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_all">all</code></td>
<td>
<p>takes logical value in string format. Used to specify whether fields from all form versions will be included in the export.Acceptable values are &quot;true&quot; or &quot;false&quot;. Default value is &quot;false&quot;.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_lang">lang</code></td>
<td>
<p>takes the language. For e.g. &quot;English (en)&quot;. For &quot;XML Values as headers&quot;, use '_xml'.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_hierarchy">hierarchy</code></td>
<td>
<p>takes logical value in string format. Used to specify whether the group hierarchy will be displayed in labels. Acceptable values are &quot;true&quot; or &quot;false&quot;. Default value is &quot;false&quot;.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_include_grp">include_grp</code></td>
<td>
<p>defines whether or not to include groups. Default value is &quot;true&quot;.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_grp_sep">grp_sep</code></td>
<td>
<p>is the group separator. Default value is &quot;/&quot;.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_fsep">fsep</code></td>
<td>
<p>is the separator of the downloaded csv file. In most of the cases, it is &quot;;&quot;, which is the default. However,
if you notice that the separator is the downloaded data is &quot;,&quot; or something else, you can change it.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_multi_sel">multi_sel</code></td>
<td>
<p>is used to specify the display of multiple_select-type responses. Valid inputs include &quot;both&quot;, &quot;summary&quot; or &quot;details&quot;. Default is &quot;both&quot;.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_media_url">media_url</code></td>
<td>
<p>This will include an additional column for media-type questions (&quot;question_name_URL&quot;) with the URL link to the hosted file. Valid inputs are &quot;true&quot; or &quot;false&quot;. Default value is true.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_fields">fields</code></td>
<td>
<p>is an array of column names to be included in the export (including their group hierarchy). Valid inputs include:
An array containing any string value that matches the XML column name,
An empty array which will result in all columns being included,
If &quot;fields&quot; is not included in the &quot;export_settings&quot;, all columns will be included in the export</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_sub_ids">sub_ids</code></td>
<td>
<p>is an array of submission ids that will filter exported submissions to only the specified array of ids. Valid inputs include an array containing integer values or an empty array.</p>
</td></tr>
<tr><td><code id="kobo_df_download_+3A_sleep">sleep</code></td>
<td>
<p>is the sleep time between API actions. For example, it takes time to download an export. But R does not wait for the download to finish before going to next step. Hence the need to provide a break between consecutive API actions. Default value is 2 (seconds).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function creates an export of survey data in 'csv'. If successful, it attempts to download the data and and return a data frame. Finally, the function attempts to delete the export.
</p>


<h3>Value</h3>

<p>The function returns a data frame of data downloaded from 'Kobotoolbox'.
</p>

<hr>
<h2 id='kobo_export_create'>Create an export</h2><span id='topic+kobo_export_create'></span>

<h3>Description</h3>

<p>'kobo_export_create' is a wrapper for kobotoolbox API 'https://[kpi-URL]/api/v2/assets/[asset-uid]/exports/'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kobo_export_create(
  url = "eu.kobotoolbox.org",
  uname = "",
  pwd = "",
  assetid = "",
  type = "csv",
  all = "false",
  lang = "_default",
  hierarchy = "false",
  include_grp = "true",
  grp_sep = "/",
  multi_sel = "both",
  fields = NULL,
  media_url = "true",
  sub_ids = NULL,
  qry = NULL,
  flatten = "true",
  sleep = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kobo_export_create_+3A_url">url</code></td>
<td>
<p>The '[url]' of kobotoolbox Default is &quot;eu.kobotoolbox.org&quot;.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_uname">uname</code></td>
<td>
<p>is username of your kobotoolbox account</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_pwd">pwd</code></td>
<td>
<p>is the password of the account</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_assetid">assetid</code></td>
<td>
<p>is the id of the asset for which the export is to be created</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_type">type</code></td>
<td>
<p>specifies the export format. Valid formats include &quot;csv&quot;,&quot;xls&quot;, &quot;spss_labels&quot; and &quot;geojson&quot;</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_all">all</code></td>
<td>
<p>takes logical value in string format. Used to specify whether fields from all form versions will be included in the export.Acceptable values are &quot;true&quot; or &quot;false&quot;. Default value is &quot;false&quot;.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_lang">lang</code></td>
<td>
<p>takes the language. For e.g. &quot;English (en)&quot;. For &quot;XML Values as headers&quot;, use '_xml'.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_hierarchy">hierarchy</code></td>
<td>
<p>takes logical value in string format. Used to specify whether the group hierarchy will be displayed in labels. Acceptable values are &quot;true&quot; or &quot;false&quot;. Default value is &quot;false&quot;.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_include_grp">include_grp</code></td>
<td>
<p>defines whether or not to include groups. Default value is &quot;true&quot;.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_grp_sep">grp_sep</code></td>
<td>
<p>is the group separator. Default value is &quot;/&quot;.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_multi_sel">multi_sel</code></td>
<td>
<p>is used to specify the display of multiple_select-type responses. Valid inputs include &quot;both&quot;, &quot;summary&quot; or &quot;details&quot;. Default is &quot;both&quot;.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_fields">fields</code></td>
<td>
<p>is an array of column names to be included in the export (including their group hierarchy). Valid inputs include:
An array containing any string value that matches the XML column name,
An empty array which will result in all columns being included,
If &quot;fields&quot; is not included in the &quot;export_settings&quot;, all columns will be included in the export</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_media_url">media_url</code></td>
<td>
<p>This will include an additional column for media-type questions (&quot;question_name_URL&quot;) with the URL link to the hosted file. Valid inputs are &quot;true&quot; or &quot;false&quot;. Default value is true.</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_sub_ids">sub_ids</code></td>
<td>
<p>is an array of submission ids that will filter exported submissions to only the specified array of ids. Valid inputs include an array containing integer values or an empty array.#'</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_qry">qry</code></td>
<td>
<p>is a JSON object containing a Mongo filter query for filtering exported submissions. Valid inputs include
a JSON object containing a valid Mongo query or An empty JSON object (no filtering)</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_flatten">flatten</code></td>
<td>
<p>is a is a boolean (in form of string) value and only relevant when exporting to &quot;geojson&quot; format. Valid inputs are &quot;true&quot; and &quot;false&quot;</p>
</td></tr>
<tr><td><code id="kobo_export_create_+3A_sleep">sleep</code></td>
<td>
<p>is the sleep time between API actions. For example, it takes time to download an export. But R does not wait for the download to finish before going to next step. Hence the need to provide a break between consecutive API actions. Default value is 2 (seconds).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function creates an export of survey data. If successful, returns the URL of the data that can be directly downloaded/read/imported in R.
</p>


<h3>Value</h3>

<p>The function creates an export, prints and returns the URL of the export created
</p>

<hr>
<h2 id='kobo_exports'>See list of exports created</h2><span id='topic+kobo_exports'></span>

<h3>Description</h3>

<p>'kobo_exports' is a wrapper for kobotoolbox API 'https://[kpi-url]/api/v2/assets/[assetid]/exports/'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kobo_exports(
  url = "eu.kobotoolbox.org",
  uname = "",
  pwd = "",
  encoding = "UTF-8",
  assetid = "",
  simplified = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kobo_exports_+3A_url">url</code></td>
<td>
<p>The '[url]' of kobotoolbox. Default is &quot;eu.kobotoolbox.org&quot;.</p>
</td></tr>
<tr><td><code id="kobo_exports_+3A_uname">uname</code></td>
<td>
<p>is username of your kobotoolbox account</p>
</td></tr>
<tr><td><code id="kobo_exports_+3A_pwd">pwd</code></td>
<td>
<p>is the password of the account</p>
</td></tr>
<tr><td><code id="kobo_exports_+3A_encoding">encoding</code></td>
<td>
<p>is the encoding to be used. Default is &quot;UTF-8&quot;</p>
</td></tr>
<tr><td><code id="kobo_exports_+3A_assetid">assetid</code></td>
<td>
<p>the asset id</p>
</td></tr>
<tr><td><code id="kobo_exports_+3A_simplified">simplified</code></td>
<td>
<p>if TRUE, then return a simple data frame with selected data, if FALSE returns the full list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function returns the export views.
</p>


<h3>Value</h3>

<p>The function returns a list of exports available for the account id and password entered.
</p>

<hr>
<h2 id='kobo_media_downloader'>Downloads media data from Kobotoolbox</h2><span id='topic+kobo_media_downloader'></span>

<h3>Description</h3>

<p>'kobo_media_downloader' downloads media from data downloaded using 'kobo_df_download'. Loops through media columns and downloads files individually.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kobo_media_downloader(
  url = "eu.kobotoolbox.org",
  uname,
  pwd,
  assetid,
  fsep = ";",
  sleep = 2,
  identifier = "URL",
  timeoutval = 300,
  destfolder = "media"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kobo_media_downloader_+3A_url">url</code></td>
<td>
<p>The '[url]' of kobotoolbox Default is &quot;eu.kobotoolbox.org&quot;.</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_uname">uname</code></td>
<td>
<p>is username of your kobotoolbox account</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_pwd">pwd</code></td>
<td>
<p>is the password of the account</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_assetid">assetid</code></td>
<td>
<p>is the id of the asset for which the export is to be created</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_fsep">fsep</code></td>
<td>
<p>is the separator of the downloaded csv file. In most of the cases, it is &quot;;&quot;, which is the default. However,</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_sleep">sleep</code></td>
<td>
<p>is the sleep time between API actions. For example, it takes time to download an export. But R does not wait for the download to finish before going to next step. Hence the need to provide a break between consecutive API actions. Default value is 2 (seconds).</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_identifier">identifier</code></td>
<td>
<p>is the key using with the columns with URL is identified. Default value is &quot;URL&quot; because in most of the cases, the columns
containing the URL values end with &quot;URL&quot;. Please note that any other column name with similar value may cause error.</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_timeoutval">timeoutval</code></td>
<td>
<p>is the timeout value in seconds to download the media files. Default is 300 seconds.</p>
</td></tr>
<tr><td><code id="kobo_media_downloader_+3A_destfolder">destfolder</code></td>
<td>
<p>is the folder where the media is to be stored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function creates an export of survey data in 'csv'. If successful, it attempts to download the data and and returns a data frame. From that data frame, the function extracts the URLs of media and attempts to download them.
</p>


<h3>Value</h3>

<p>The function returns a data frame of data downloaded from 'Kobotoolbox'.
</p>

<hr>
<h2 id='kobo_xls_dl'>Downloads data (xls type) from Kobotoolbox</h2><span id='topic+kobo_xls_dl'></span>

<h3>Description</h3>

<p>'kobo_xls_dl' is a wrapper for kobotoolbox API that attemps to download data in excel compatible formal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kobo_xls_dl(
  url = "eu.kobotoolbox.org",
  uname = "",
  pwd = "",
  assetid = "",
  all = "false",
  lang = "_default",
  hierarchy = "false",
  include_grp = "true",
  grp_sep = "/",
  multi_sel = "both",
  media_url = "true",
  fields = NULL,
  sub_ids = NULL,
  sleep = 2
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kobo_xls_dl_+3A_url">url</code></td>
<td>
<p>The '[url]' of kobotoolbox Default is &quot;eu.kobotoolbox.org&quot;.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_uname">uname</code></td>
<td>
<p>is username of your kobotoolbox account</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_pwd">pwd</code></td>
<td>
<p>is the password of the account</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_assetid">assetid</code></td>
<td>
<p>is the id of the asset for which the export is to be created</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_all">all</code></td>
<td>
<p>takes logical value in string format. Used to specify whether fields from all form versions will be included in the export.Acceptable values are &quot;true&quot; or &quot;false&quot;. Default value is &quot;false&quot;.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_lang">lang</code></td>
<td>
<p>takes the language. For e.g. &quot;English (en)&quot;. For &quot;XML Values as headers&quot;, use '_xml'.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_hierarchy">hierarchy</code></td>
<td>
<p>takes logical value in string format. Used to specify whether the group hierarchy will be displayed in labels. Acceptable values are &quot;true&quot; or &quot;false&quot;. Default value is &quot;false&quot;.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_include_grp">include_grp</code></td>
<td>
<p>defines whether or not to include groups. Default value is &quot;true&quot;.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_grp_sep">grp_sep</code></td>
<td>
<p>is the group separator. Default value is &quot;/&quot;.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_multi_sel">multi_sel</code></td>
<td>
<p>is used to specify the display of multiple_select-type responses. Valid inputs include &quot;both&quot;, &quot;summary&quot; or &quot;details&quot;. Default is &quot;both&quot;.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_media_url">media_url</code></td>
<td>
<p>This will include an additional column for media-type questions (&quot;question_name_URL&quot;) with the URL link to the hosted file. Valid inputs are &quot;true&quot; or &quot;false&quot;. Default value is true.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_fields">fields</code></td>
<td>
<p>is an array of column names to be included in the export (including their group hierarchy). Valid inputs include:
An array containing any string value that matches the XML column name,
An empty array which will result in all columns being included,
If &quot;fields&quot; is not included in the &quot;export_settings&quot;, all columns will be included in the export</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_sub_ids">sub_ids</code></td>
<td>
<p>is an array of submission ids that will filter exported submissions to only the specified array of ids. Valid inputs include an array containing integer values or an empty array.</p>
</td></tr>
<tr><td><code id="kobo_xls_dl_+3A_sleep">sleep</code></td>
<td>
<p>is the sleep time between API actions. For example, it takes time to download an export. But R does not wait for the download to finish before going to next step. Hence the need to provide a break between consecutive API actions. Default value is 2 (seconds).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function creates an export of survey data in 'xls'. If successful, it attempts to download the data and and return a data frame (reading using 'readxl::read_excel').
</p>


<h3>Value</h3>

<p>The function returns a data frame of data downloaded from 'Kobotoolbox'.
</p>

<hr>
<h2 id='kobotools_api'>Check kobotoolbox API and retrieve overall info about the projects/assets</h2><span id='topic+kobotools_api'></span>

<h3>Description</h3>

<p>'kobotools_api' is a wrapper for kobotoolbox API 'https://[kpi-url]/api/v2/assets/'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kobotools_api(
  url = "eu.kobotoolbox.org",
  simplified = TRUE,
  uname = "",
  pwd = "",
  encoding = "UTF-8",
  qry = ""
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kobotools_api_+3A_url">url</code></td>
<td>
<p>The '[kpi-url]' of kobotoolbox. Default is &quot;eu.kobotoolbox.org&quot;</p>
</td></tr>
<tr><td><code id="kobotools_api_+3A_simplified">simplified</code></td>
<td>
<p>A logical value, default is true</p>
</td></tr>
<tr><td><code id="kobotools_api_+3A_uname">uname</code></td>
<td>
<p>takes the username</p>
</td></tr>
<tr><td><code id="kobotools_api_+3A_pwd">pwd</code></td>
<td>
<p>takes the password</p>
</td></tr>
<tr><td><code id="kobotools_api_+3A_encoding">encoding</code></td>
<td>
<p>is the encoding to be used. Default is &quot;UTF-8&quot;.</p>
</td></tr>
<tr><td><code id="kobotools_api_+3A_qry">qry</code></td>
<td>
<p>to add queries</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes two variables. First one is 'url' which is the '[kpi-url]'. For most users it will be &quot;eu.kobotoolbox.org&quot; or
&quot;kf.kobotoolbox.org&quot;. Former is the default. The second parameter is 'simplified' which takes a logical value. If set to true,
the function will return selected values from the parsed data and return a data frame. When set to false, a json will be returned with
all the details.
</p>


<h3>Value</h3>

<p>The function returns the asset details from the API, inform of a data frame or json.
</p>

<hr>
<h2 id='kobotools_kpi_data'>Extract data from kobotoolbox</h2><span id='topic+kobotools_kpi_data'></span>

<h3>Description</h3>

<p>'kobotools_kpi_data' is a wrapper for kobotoolbox API 'https://[URL]/api/v2/assets/[assetid]/data/'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kobotools_kpi_data(
  assetid,
  url = "eu.kobotoolbox.org",
  uname = "",
  pwd = "",
  encoding = "UTF-8",
  format = "json"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kobotools_kpi_data_+3A_assetid">assetid</code></td>
<td>
<p>is the asset id of the asset for which the data is to be downloaded. The id can be found by running [kobotools_data_list_kc()]</p>
</td></tr>
<tr><td><code id="kobotools_kpi_data_+3A_url">url</code></td>
<td>
<p>The '[kpi-url]' of kobotoolbox. Default is &quot;eu.kobotoolbox.org&quot;</p>
</td></tr>
<tr><td><code id="kobotools_kpi_data_+3A_uname">uname</code></td>
<td>
<p>is username of your kobotoolbox account</p>
</td></tr>
<tr><td><code id="kobotools_kpi_data_+3A_pwd">pwd</code></td>
<td>
<p>is the password of the account</p>
</td></tr>
<tr><td><code id="kobotools_kpi_data_+3A_encoding">encoding</code></td>
<td>
<p>is the encoding to be used. Default is &quot;UTF-8&quot;.</p>
</td></tr>
<tr><td><code id="kobotools_kpi_data_+3A_format">format</code></td>
<td>
<p>lets you define the format of output for e.g. json or xml</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes the url as one of the inputs. And asset id as another. Both are strings. The asset id is found by running
the [kobotools_api()] function.Other parameters are username and password.
</p>


<h3>Value</h3>

<p>The function returns the data in json format
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

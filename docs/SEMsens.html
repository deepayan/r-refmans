<!DOCTYPE html><html><head><title>Help for package SEMsens</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SEMsens}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gen.neighbors.tabu'><p>A Function that Generates a List of Neighbors in Tabu Search</p></a></li>
<li><a href='#gen.sens.pars'><p>Generate Sensitivity Parameters</p></a></li>
<li><a href='#sa.aco'><p>Sensitivity Analysis for Structural Equation Modeling Using Ant</p>
Colony Optimization (ACO)</a></li>
<li><a href='#sa.sa'><p>Sensitivity Analysis for Structural Equation Modeling Using Simulated</p>
Annealing (SA)</a></li>
<li><a href='#sa.tabu'><p>Sensitivity Analysis for SEM using Tabu Search</p></a></li>
<li><a href='#sa.tabu.helper'><p>Tabu Search to Optimize Functions of Continuous Variables</p></a></li>
<li><a href='#SEMsens-package'><p>A Tool for Sensitivity Analysis in Structural Equation Modeling</p></a></li>
<li><a href='#sens.tables'><p>Summary of sensitivity analysis results</p></a></li>
<li><a href='#smith19.use'><p>Smith19.use data.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Tool for Sensitivity Analysis in Structural Equation Modeling</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Perform sensitivity analysis in structural equation modeling using 
    meta-heuristic optimization methods (e.g., ant colony optimization and others). 
    The references for the proposed methods are: 
    (1) Leite, W., &amp; Shen, Z., Marcoulides, K., Fish, C., &amp; Harring, J. (2022). 
    &lt;<a href="https://doi.org/10.1080%2F10705511.2021.1881786">doi:10.1080/10705511.2021.1881786</a>&gt;
    (2) Harring, J. R., McNeish, D. M., &amp; Hancock, G. R. (2017)
    &lt;<a href="https://doi.org/10.1080%2F10705511.2018.1506925">doi:10.1080/10705511.2018.1506925</a>&gt;;
    (3) Fisk, C., Harring, J., Shen, Z., Leite, W., Suen, K., &amp; Marcoulides, K. 
    (2022). &lt;<a href="https://doi.org/10.1177%2F00131644211073121">doi:10.1177/00131644211073121</a>&gt;;
    (4) Socha, K., &amp; Dorigo, M. (2008) &lt;<a href="https://doi.org/10.1016%2Fj.ejor.2006.06.046">doi:10.1016/j.ejor.2006.06.046</a>&gt;.
    We also thank Dr. Krzysztof Socha for sharing his research on ant colony optimization
    algorithm with continuous domains and associated R code,
    which provided the base for the development of this package.</td>
</tr>
<tr>
<td>Imports:</td>
<td>lavaan, stats</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>rmarkdown, knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-30 17:18:04 UTC; zucha</td>
</tr>
<tr>
<td>Author:</td>
<td>Walter Leite [aut, cre],
  Zuchao Shen [aut],
  Charles Fisk [aut],
  King Yiu Suen [aut],
  Katerina Marcoulides [aut],
  Gail Fish [ctb],
  YongSeok Lee [ctb],
  Sanaz Nazari [ctb],
  Jia Quan [ctb],
  Eric Wright [ctb],
  Huibin Zhang [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Walter Leite &lt;walter.leite@coe.ufl.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-30 22:30:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='gen.neighbors.tabu'>A Function that Generates a List of Neighbors in Tabu Search</h2><span id='topic+gen.neighbors.tabu'></span>

<h3>Description</h3>

<p>This function generates a list of neighbors for tabu
search that can be used in tabu search for sensitivity analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen.neighbors.tabu(
  current.param,
  maximum,
  neigh.size,
  tabu.list,
  max.len,
  range,
  r,
  f,
  max.attempts = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen.neighbors.tabu_+3A_current.param">current.param</code></td>
<td>
<p>The center of the hypercubes.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_maximum">maximum</code></td>
<td>
<p>Logical. Maximize the objective function if TRUE,
minimize the objective function if FALSE.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_neigh.size">neigh.size</code></td>
<td>
<p>Number of neighbors to search for in each
iteration.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_tabu.list">tabu.list</code></td>
<td>
<p>The list of tabu.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_max.len">max.len</code></td>
<td>
<p>The length of the largest hypercube.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_range">range</code></td>
<td>
<p>The range for the parameter space in the tabu search.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_r">r</code></td>
<td>
<p>Radius of a tabu ball.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_f">f</code></td>
<td>
<p>The objective function to be optimized.</p>
</td></tr>
<tr><td><code id="gen.neighbors.tabu_+3A_max.attempts">max.attempts</code></td>
<td>
<p>The maximum number of attempts to find a neighbor that
is not near the points in the tabu list, default is 10.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of information about the best neighbor, including
best parameters, objective function values, and the model.
</p>

<hr>
<h2 id='gen.sens.pars'>Generate Sensitivity Parameters</h2><span id='topic+gen.sens.pars'></span>

<h3>Description</h3>

<p>This function can generate a set of path coefficients from
a phantom variable to variables in a structural equation model
based on given distributions of the rank of optimization target
(with probability of using a distribution based on its rank).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen.sens.pars(
  dist.mean,
  dist.rank,
  n.of.ants,
  nl,
  q = 1e-04,
  k = 500,
  xi = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen.sens.pars_+3A_dist.mean">dist.mean</code></td>
<td>
<p>List of means - coordinates</p>
</td></tr>
<tr><td><code id="gen.sens.pars_+3A_dist.rank">dist.rank</code></td>
<td>
<p>Rank of the archived values of objective function</p>
</td></tr>
<tr><td><code id="gen.sens.pars_+3A_n.of.ants">n.of.ants</code></td>
<td>
<p>Number of ants used in each iteration after the initialization
of k converged sensitivity analysis models, default value is 10.</p>
</td></tr>
<tr><td><code id="gen.sens.pars_+3A_nl">nl</code></td>
<td>
<p>Neighborhood of the search area</p>
</td></tr>
<tr><td><code id="gen.sens.pars_+3A_q">q</code></td>
<td>
<p>Locality of the search (0,1), default is 0.0001.</p>
</td></tr>
<tr><td><code id="gen.sens.pars_+3A_k">k</code></td>
<td>
<p>Size of the solution archive, default is 100.</p>
</td></tr>
<tr><td><code id="gen.sens.pars_+3A_xi">xi</code></td>
<td>
<p>Convergence pressure (0, Inf), suggested: (0,1), default is 0.5.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Generated sensitivity parameter values (i.e., a matrix with n.of.ants
rows and n.of.sens.pars columns)
</p>


<h3>References</h3>

<p>Leite, W., &amp; Shen, Z., Marcoulides, K., Fish, C., &amp; Harring, J. (in press).
Using ant colony optimization for sensitivity analysis in structural equation modeling.
Structural Equation Modeling: A Multidisciplinary Journal.
</p>
<p>Socha, K., &amp; Dorigo, M. (2008). Ant colony optimization for
continuous domains. European Journal of Operational Research,
185(3), 1155-1173.
</p>
<p>We thank Dr. Krzysztof Socha for providing us the
original code (http://iridia.ulb.ac.be/supp/IridiaSupp2008-001/)
for this function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
k &lt;- 50 # size of archive
# Generate dist.mean and dist.rank
dist.mean &lt;- cbind(rnorm(k), rnorm(k), rnorm(k), rnorm(k), rnorm(k))
y &lt;- rowMeans(dist.mean)
dist.rank &lt;- rank(-y, ties.method = "random")
# set up neighborhood
nl &lt;- matrix(NA, k, k-1)
for (i in 1:k){
  nl[i,] &lt;- (1:k)[1:k != i]
 }
my.sens.pars &lt;- gen.sens.pars(dist.mean, dist.rank, n.of.ants = 10,
                              nl, q = 0.0001, k =50, xi = 0.50)
my.sens.pars

</code></pre>

<hr>
<h2 id='sa.aco'>Sensitivity Analysis for Structural Equation Modeling Using Ant
Colony Optimization (ACO)</h2><span id='topic+sa.aco'></span>

<h3>Description</h3>

<p>This function can perform sensitivity analysis for
structural equation modeling using ant colony optimization (ACO).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sa.aco(
  data = NULL,
  sample.cov,
  sample.nobs,
  model,
  sens.model,
  opt.fun,
  d = NULL,
  paths = NULL,
  verbose = TRUE,
  max.value = Inf,
  max.iter = 1000,
  e = 1e-10,
  n.of.ants = 10,
  k = 100,
  q = 1e-04,
  sig.level = 0.05,
  rate.of.conv = 0.1,
  measurement = FALSE,
  xi = 0.5,
  seed = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sa.aco_+3A_data">data</code></td>
<td>
<p>The data set used for analysis.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_sample.cov">sample.cov</code></td>
<td>
<p>covariance matrix for SEM analysis
when data are not available.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_sample.nobs">sample.nobs</code></td>
<td>
<p>Number of observations for covariance matrix.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_model">model</code></td>
<td>
<p>The analytic model of interest.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_sens.model">sens.model</code></td>
<td>
<p>Sensitivity analysis model template for
structural equation modeling
with a phantom variable. This is the model of interest
with a phantom variable and sensitivity parameters added.
See examples provided.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_opt.fun">opt.fun</code></td>
<td>
<p>Customized or preset optimization function.
The argument can be customized as a function, e.g., opt.fun =
quote(new.par$pvalue[paths]-old.par$pvalue[paths]), where new.par and old.par
are the parameter estimates from the sensitivity analysis and analytic models,
respectively.
When opt.fun is
1, the optimization function is the average departure of new estimate
from the old estimate divided by the old estimate
y &lt;-  mean(abs(new.par$est[paths] -
old.par$est[paths]))/mean(abs(old.par$est[paths])); When opt.fun is
2, the optimization function is the standard deviation of deviance
divided by the old estimate
y &lt;-  stats::sd(new.par$est[paths] - old.par$est[paths])/
mean(abs(old.par$est[paths]));
When opt.fun is 3, the optimization function is the average
p value changed or
y &lt;-  mean(abs(new.par$pvalue[paths] - old.par$pvalue[paths]));
When opt.fun is 4, the optimization function is the average distance
from significance level or y &lt;-  mean(abs(new.par$pvalue[paths] -
rep(sig.level,length(paths))));
When opt.fun is 5, we assess the change of RMSEA or
y &lt;-  abs(unname(lavaan::fitmeasures(new.out)[&quot;rmsea&quot;]) -
unname(lavaan::fitmeasures(old.out)[&quot;rmsea&quot;]));
When opt.fun is 6, we optimize how close RMSEA is to 0.05 or
y &lt;-  1/abs(unname(lavaan::fitmeasures(new.out)[&quot;rmsea&quot;]) - 0.05).</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_d">d</code></td>
<td>
<p>Domains for initial sampling, default is c(-1 ,1) for all
sensitivity analysis parameters. It can
be specified as a list of ranges. For example,
d = list(-0.8, 0.8, -0.9, 0.9) for two
sampling domains with the first from -0.8 to 0.8 and
the second from -0.9 to 0.9.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_paths">paths</code></td>
<td>
<p>Paths in the model to be evaluated in a sensitivity analysis. If not
specified, all paths will be evaluated. It can be specified in a
numeric format or in a model format. For example, if we evaluate the changes (in p value
or parameter estimation) for paths in an analytic model, we may specify
paths in a model format, e.g.,
paths = 'm ~ x
y ~ x + m'.
Or, alternatively, as specify paths = c(1:3) if these paths present in line 1 to 3 in the
sensitivity analysis model results.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_verbose">verbose</code></td>
<td>
<p>Print out evaluation process if TRUE, default is TRUE.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_max.value">max.value</code></td>
<td>
<p>Maximal value of optimization when used as
the stopping criterion. Default is infinite.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_max.iter">max.iter</code></td>
<td>
<p>Maximal number of function evaluations when used as
the stopping criterion.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_e">e</code></td>
<td>
<p>Maximum error value used when solution quality used as
the stopping criterion, default is 1e-10.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_n.of.ants">n.of.ants</code></td>
<td>
<p>Number of ants used in each iteration after the initialization
of k converged sensitivity analysis models, default value is 10.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_k">k</code></td>
<td>
<p>Size of the solution archive, default is 100.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_q">q</code></td>
<td>
<p>Locality of the search (0,1), default is 0.0001.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_sig.level">sig.level</code></td>
<td>
<p>Significance level, default value is 0.05.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_rate.of.conv">rate.of.conv</code></td>
<td>
<p>The convergence rate threshold for sensitivity analysis models,
default is .10.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_measurement">measurement</code></td>
<td>
<p>Logical. If TRUE, the argument paths will
include measurement paths in the lavaanify format. Default is FALSE.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_xi">xi</code></td>
<td>
<p>Convergence pressure (0, Inf), suggested: (0,1), default is 0.5.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_seed">seed</code></td>
<td>
<p>Random seed if specified, default is NULL.</p>
</td></tr>
<tr><td><code id="sa.aco_+3A_...">...</code></td>
<td>
<p>Additional arguments from the lavaan package.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sensitivity analysis results, including the number of evaluations (n.eval),
number of iterations (n.iter), the maximum value of the objective function (max.y) and
associated sensitivity parameters values (phantom.coef), analytic model (old.model),
its results (old.model.par) and fit measures (old.model.fit),
sensitivity analysis model (sens.model), its fit measures (sens.fit),
outcome of the objective function (outcome), sensitivity parameters across all
converged evaluations (sens.pars),
sensitivity analysis model results (model.results),
analytic model results (old.out),
and the first converged sensitivity analysis model results (sens.out).
</p>


<h3>References</h3>

<p>Leite, W., &amp; Shen, Z., Marcoulides, K., Fish, C., &amp; Harring, J. (accepted).
Using ant colony optimization for sensitivity analysis in structural equation modeling.
Structural Equation Modeling: A Multidisciplinary Journal.
</p>
<p>Socha, K., &amp; Dorigo, M. (2008). Ant colony optimization for
continuous domains. <em>European Journal of Operational Research,
185</em>(3), 1155-1173. &lt;doi:10.1016/j.ejor.2006.06.046&gt;
</p>
<p>Harring, J. R., McNeish, D. M., &amp; Hancock, G. R. (2017).
Using phantom variables in structural equation modeling to
assess model sensitivity to external misspecification.
<em>Psychological Methods, 22</em>(4), 616-631.
&lt;doi:10.1080/10705511.2018.1506925&gt;
</p>
<p>We thank Dr. Krzysztof Socha for providing us the
ACO code for continuous domains (http://iridia.ulb.ac.be/supp/IridiaSupp2008-001/)
that the current function is based on.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(lavaan)
# Generate data, this is optional as lavaan also takes variance covariance matrix
sim.model &lt;- ' x =~ x1 + 0.8*x2 + 1.2*x3
               y =~ y1 + 0.5*y2 + 1.5*y3
               m ~ 0.5*x
               y ~ 0.5*x + 0.8*m'
set.seed(10)
data &lt;- simulateData(sim.model, sample.nobs = 1000L)
# standardize dataset
data = data.frame(apply(data,2,scale))

# Step 1: Set up the analytic model of interest
model &lt;- 'x =~ x1 + x2 + x3
          y =~ y1 + y2 + y3
          m ~ x
          y ~ x + m'

# Step 2: Set up the sensitivity analysis model.
#         The sensitivity parameters are phantom1, phantom2, and phantom3 in this example.
sens.model = 'x =~ x1 + x2 + x3
              y =~ y1 + y2 + y3
              m ~ x
              y ~ x + m
              x ~ phantom1*phantom
              m ~ phantom2*phantom
              y ~ phantom3*phantom
              phantom =~ 0 # added for mean of zero
              phantom ~~ 1*phantom' # added for unit variance

# Step 3: Set up the paths of interest to be evaluated in sensitivity analysis.
# Suppose we are interested in all direct and indirect paths.
  paths &lt;- 'm ~ x
            y ~ x + m'

# Step 4: Perform sensitivity analysis
my.sa &lt;- sa.aco(data, model = model, sens.model = sens.model,
                opt.fun = 3, k = 5, #p-value
                paths = paths,
                max.iter = 10)
#Note, please specify larger numbers for k (e.g., 100) and max.iter (e.g., 1000)

# Step 5: Summarize sensitivity analysis results.
# See sens.tables function for explanation of results.
tables &lt;- sens.tables(my.sa)


</code></pre>

<hr>
<h2 id='sa.sa'>Sensitivity Analysis for Structural Equation Modeling Using Simulated
Annealing (SA)</h2><span id='topic+sa.sa'></span>

<h3>Description</h3>

<p>This function can perform sensitivity analysis for
structural equation modeling using simulated annealing (SA)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sa.sa(
  data = NULL,
  sample.cov,
  sample.nobs,
  model,
  sens.model,
  opt.fun = 1,
  d = NULL,
  paths = NULL,
  verbose = TRUE,
  n.iter = 10,
  e = 1e-10,
  k = 10,
  sig.level = 0.05,
  Ntemps = 10,
  C.criteria = 1,
  steepness = 6,
  measurement = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sa.sa_+3A_data">data</code></td>
<td>
<p>The data set used for analysis.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_sample.cov">sample.cov</code></td>
<td>
<p>covariance matrix for SEM analysis
when data are not available.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_sample.nobs">sample.nobs</code></td>
<td>
<p>Number of observations for covariance matrix.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_model">model</code></td>
<td>
<p>The analytic model of interest.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_sens.model">sens.model</code></td>
<td>
<p>Sensitivity analysis model template for
structural equation modeling
with a phantom variable. This is the model of interest
with a phantom variable and sensitivity parameters added.
See examples provided.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_opt.fun">opt.fun</code></td>
<td>
<p>Customized or preset optimization function.
The argument can be customized as a function, e.g., opt.fun =
quote(new.par$pvalue[paths]-old.par$pvalue[paths]), where new.par and old.par
are the parameter estimates from the sensitivity analysis and analytic models,
respectively.
When opt.fun is
1, the optimization function is the average departure of new estimate
from the old estimate divided by the old estimate
y &lt;-  mean(abs(new.par$est.std[paths] -
old.par$est.std[paths]))/mean(abs(old.par$est.std[paths])); When opt.fun is
2, the optimization function is the standard deviation of deviance
divided by the old estimate
y &lt;-  stats::sd(new.par$est.std[paths] - old.par$est.std[paths])/
mean(abs(old.par$est.std[paths]));
When opt.fun is 3, the optimization function is the average
p value changed or
y &lt;-  mean(abs(new.par$pvalue[paths] - old.par$pvalue[paths]));
When opt.fun is 4, the optimization function is the average distance
from significance level or y &lt;-  mean(abs(new.par$pvalue[paths] -
rep(sig.level,length(paths))));
When opt.fun is 5, we assess the change of RMSEA or
y &lt;-  abs(unname(lavaan::fitmeasures(new.out)[&quot;rmsea&quot;]) -
unname(lavaan::fitmeasures(old.out)[&quot;rmsea&quot;]));
When opt.fun is 6, we optimize how close RMSEA is to 0.05 or
y &lt;-  1/abs(unname(lavaan::fitmeasures(new.out)[&quot;rmsea&quot;]) - 0.05).</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_d">d</code></td>
<td>
<p>Domains for initial sampling, default is c(-1 ,1) for all
sensitivity analysis parameters.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_paths">paths</code></td>
<td>
<p>Paths in the model to be evaluated in a sensitivity analysis. If not
specified, all paths will be evaluated. It can be specified in a
numeric format or in a model format. For example, if we evaluate the changes (in p value
or parameter estimation) for paths in an analytic model, we may specify
paths in a model format, e.g.,
paths = 'm ~ x
y ~ x + m'.
Or, alternatively, as specify paths = c(1:3) if these paths present in line 1 to 3 in the
sensitivity analysis model results.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_verbose">verbose</code></td>
<td>
<p>Print out evaluation process if TRUE, default is TRUE.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_n.iter">n.iter</code></td>
<td>
<p>Maximal number of function evaluations within each temperature.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_e">e</code></td>
<td>
<p>Maximum error value used when solution quality used as
the stopping criterion, default is 1e-10.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_k">k</code></td>
<td>
<p>Size of the solution archive, default is 100.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_sig.level">sig.level</code></td>
<td>
<p>Significance level, default value is 0.05.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_ntemps">Ntemps</code></td>
<td>
<p>Number of temperatures that the algorithm visits. Default value is 10.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_c.criteria">C.criteria</code></td>
<td>
<p>Convergence criterion. Default value is 1.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_steepness">steepness</code></td>
<td>
<p>Steepness of cooling schedule. Default value is 6.</p>
</td></tr>
<tr><td><code id="sa.sa_+3A_measurement">measurement</code></td>
<td>
<p>Logical. If TRUE, the argument paths will
include measurement paths in the lavaanify format. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sensitivity analysis results, including the number of evaluations (n.eval),
number of iterations (n.iter), the maximum value of the objective function (max.y) and
associated sensitivity parameters values (phantom.coef), analytic model (old.model),
its results (old.model.par) and fit measures (old.model.fit),
sensitivity analysis model (sens.model), its fit measures (sens.fit),
outcome of the objective function (outcome), sensitivity parameters across all
converged evaluations (sens.pars),
sensitivity analysis model results (model.results),
analytic model results (old.out),
and the first converged sensitivity analysis model results (sens.out).
</p>


<h3>References</h3>

<p>Fisk, C., Harring, J., Shen, Z., Leite, W., Suen, K., &amp; Marcoulides, K.
(2022). Using simulated annealing to investigate sensitivity of
SEM to external model misspecification.
Educational and Psychological Measurement.
&lt;doi:10.1177/00131644211073121&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(lavaan)
# Generate data, this is optional as lavaan also takes variance covariance matrix
sim.model &lt;- ' x =~ x1 + 0.8*x2 + 1.2*x3
               y =~ y1 + 0.5*y2 + 1.5*y3
               m ~ 0.5*x
               y ~ 0.5*x + 0.8*m'
set.seed(10)
data &lt;- simulateData(sim.model, sample.nobs = 1000L)
# standardize dataset
data = data.frame(apply(data,2,scale))

# Step 1: Set up the analytic model of interest
model &lt;- 'x =~ x1 + x2 + x3
          y =~ y1 + y2 + y3
          m ~ x
          y ~ x + m'

# Step 2: Set up the sensitivity analysis model.
#         The sensitivity parameters are phantom1, phantom2, and phantom3 in this example.
sens.model = 'x =~ x1 + x2 + x3
              y =~ y1 + y2 + y3
              m ~ x
              y ~ x + m
              x ~ phantom1*phantom
              m ~ phantom2*phantom
              y ~ phantom3*phantom
              phantom =~ 0 # added for mean of zero
              phantom ~~ 1*phantom' # added for unit variance

# Step 3: Set up the paths of interest to be evaluated in sensitivity analysis.
# Suppose we are interested in all direct and indirect paths.
  paths &lt;- 'm ~ x
            y ~ x + m'

# Step 4: Perform sensitivity analysis
mysa &lt;- sa.sa(data = data, model = model,
sens.model = sens.model, paths = paths,
 n.iter = 3,  Ntemps = 2)
# We set Ntemps = 2 and n.iter = 3 to reduce the running time.
# You may leave them as default values or specify larger numbers.
</code></pre>

<hr>
<h2 id='sa.tabu'>Sensitivity Analysis for SEM using Tabu Search</h2><span id='topic+sa.tabu'></span>

<h3>Description</h3>

<p>This function conducts sensitivity analysis
for SEM using tabu search.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sa.tabu(
  model,
  sens.model,
  data = NULL,
  sample.cov = NULL,
  sample.nobs = NULL,
  opt.fun = 1,
  sig.level = 0.05,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sa.tabu_+3A_model">model</code></td>
<td>
<p>The analytic model of interest.</p>
</td></tr>
<tr><td><code id="sa.tabu_+3A_sens.model">sens.model</code></td>
<td>
<p>Sensitivity analysis model template for
structural equation modeling
with a phantom variable. This is the model of interest
with a phantom variable and sensitivity parameters added.
See examples provided.</p>
</td></tr>
<tr><td><code id="sa.tabu_+3A_data">data</code></td>
<td>
<p>The data set used for analysis.</p>
</td></tr>
<tr><td><code id="sa.tabu_+3A_sample.cov">sample.cov</code></td>
<td>
<p>covariance matrix for SEM analysis
when data are not available.</p>
</td></tr>
<tr><td><code id="sa.tabu_+3A_sample.nobs">sample.nobs</code></td>
<td>
<p>Number of observations for covariance matrix.</p>
</td></tr>
<tr><td><code id="sa.tabu_+3A_opt.fun">opt.fun</code></td>
<td>
<p>Customized or preset optimization function.
The argument can be customized as a function, e.g., opt.fun =
quote(new.par$pvalue[paths]-old.par$pvalue[paths]), where new.par and old.par
are the parameter estimates from the sensitivity analysis and analytic models,
respectively.
When opt.fun is
1, the optimization function is the average departure of new estimate
from the old estimate divided by the old estimate
y &lt;-  mean(abs(new.par$est[paths] -
old.par$est[paths]))/mean(abs(old.par$est[paths])); When opt.fun is
2, the optimization function is the standard deviation of deviance
divided by the old estimate
y &lt;-  stats::sd(new.par$est[paths] - old.par$est[paths])/
mean(abs(old.par$est[paths]));
When opt.fun is 3, the optimization function is the average
p value changed or
y &lt;-  mean(abs(new.par$pvalue[paths] - old.par$pvalue[paths]));
When opt.fun is 4, the optimization function is the average distance
from significance level or y &lt;-  mean(abs(new.par$pvalue[paths] -
rep(sig.level,length(paths))));
When opt.fun is 5, we assess the change of RMSEA or
y &lt;-  abs(unname(lavaan::fitmeasures(new.out)[&quot;rmsea&quot;]) -
unname(lavaan::fitmeasures(old.out)[&quot;rmsea&quot;]));
When opt.fun is 6, we optimize how close RMSEA is to 0.05 or
y &lt;-  1/abs(unname(lavaan::fitmeasures(new.out)[&quot;rmsea&quot;]) - 0.05).</p>
</td></tr>
<tr><td><code id="sa.tabu_+3A_sig.level">sig.level</code></td>
<td>
<p>Significance level, default value is 0.05.</p>
</td></tr>
<tr><td><code id="sa.tabu_+3A_...">...</code></td>
<td>
<p>Additional arguments from the lavaan package.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with five components:
model: The old model;
old.model.par: Parameters of the old model;
model.results: Sensitivity analysis model results;
best.param: Parameters that optimize the objective function;
best.obj: The optimized objective function value;
sens.par: NULL. Included for compatibility;
outcome: NULL. Included for compatibility.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(lavaan)
# Generate data, this is optional as lavaan also takes variance covariance matrix
sim.model &lt;- ' x =~ x1 + 0.8*x2 + 1.2*x3
               y =~ y1 + 0.5*y2 + 1.5*y3
               m ~ 0.5*x
               y ~ 0.5*x + 0.8*m'
set.seed(10)
data &lt;- simulateData(sim.model, sample.nobs = 1000L)
# standardize dataset
data = data.frame(apply(data,2,scale))

# Step 1: Set up the analytic model of interest
model &lt;- 'x =~ x1 + x2 + x3
          y =~ y1 + y2 + y3
          m ~ x
          y ~ x + m'

# Step 2: Set up the sensitivity analysis model.
#         The sensitivity parameters are phantom1, phantom2, and phantom3 in this example.
sens.model = 'x =~ x1 + x2 + x3
              y =~ y1 + y2 + y3
              m ~ x
              y ~ x + m
              x ~ phantom1*phantom
              m ~ phantom2*phantom
              y ~ phantom3*phantom
              phantom =~ 0 # added for mean of zero
              phantom ~~ 1*phantom' # added for unit variance
# Step 3: Set up the paths of interest to be evaluated in sensitivity analysis.
# Suppose we are interested in all direct and indirect paths.
  paths &lt;- 'm ~ x
            y ~ x + m'
# Step 4: Perform sensitivity analysis
out &lt;- sa.tabu(model = model,
               sens.model = sens.model,
               data = data,
               opt.fun = 1,
               max.iter = 2,
               max.iter.obj = 2)
 # Note, please specify larger numbers for
 # max.iter (e.g., 50) and max.iter.obj (e.g., 10)

# Step 5: Summarize sensitivity analysis results.
# See sens.tables function for explanation of results.
tables &lt;- sens.tables(out)

</code></pre>

<hr>
<h2 id='sa.tabu.helper'>Tabu Search to Optimize Functions of Continuous Variables</h2><span id='topic+sa.tabu.helper'></span>

<h3>Description</h3>

<p>A helper function that implements the main logic of tabu search
to optimize objective functions in continuous domains.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sa.tabu.helper(
  n.var,
  f,
  maximum = FALSE,
  max.len = 1,
  max.tabu.size = 5,
  neigh.size = NULL,
  max.iter = NULL,
  max.iter.obj = NULL,
  range = c(-1, 1),
  r = 1e-05,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sa.tabu.helper_+3A_n.var">n.var</code></td>
<td>
<p>The dimension of search space.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_f">f</code></td>
<td>
<p>The objective function to be optimized.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_maximum">maximum</code></td>
<td>
<p>Logical. Maximize the objective function if TRUE,
minimize the objective function if FALSE.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_max.len">max.len</code></td>
<td>
<p>The length of the largest hypercube.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_max.tabu.size">max.tabu.size</code></td>
<td>
<p>The maximum size of the tabu list.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_neigh.size">neigh.size</code></td>
<td>
<p>The number of neighbors to search for
in each iteration.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_max.iter">max.iter</code></td>
<td>
<p>The maximum number of iterations.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_max.iter.obj">max.iter.obj</code></td>
<td>
<p>The maximum number of successive iterations
without any improvement of the objective function value.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_range">range</code></td>
<td>
<p>The range for the parameter space in the tabu search.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_r">r</code></td>
<td>
<p>Radius of a tabu ball.</p>
</td></tr>
<tr><td><code id="sa.tabu.helper_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Print the current best and overall best
objective functions if TRUE, no printing if FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with three components:
best.param (vector): the best set of parameters found;
best.obj (scalar): the value of obj.fun corresponding
to best.param; and
model.history: the histry of model results.
</p>


<h3>References</h3>

<p>P., &amp; Berthiau, G. (1997).
Fitting of tabu search to optimize functions of continuous
variables. International journal for numerical methods
in engineering, 40(13), 2449-2457.
</p>

<hr>
<h2 id='SEMsens-package'>A Tool for Sensitivity Analysis in Structural Equation Modeling</h2><span id='topic+SEMsens'></span><span id='topic+SEMsens-package'></span>

<h3>Description</h3>

<p>This package is to help researchers perform and report sensitivity analysis
in structural equation modeling using a phantom variable approach
proposed by Harring, McNeish, &amp; Hancock, (2017). The specific reference is
Leite, W., &amp; Shen, Z., Marcoulides, K., Fish, C., &amp; Harring, J. (in press).
Using ant colony optimization for sensitivity analysis in structural equation modeling.
Structural Equation Modeling: A Multidisciplinary Journal.
</p>


<h3>Details</h3>

<p>The package covers sensitivity analysis using ant colony optimization and
other meta-heuristic optimization methods (in development) to automatically
search a phantom variable, if there is any, that meets the optimization function.
The current package includes three main functions and they are
<code><a href="#topic+gen.sens.pars">gen.sens.pars</a></code> function that generates sensitivity parameters (
running in background for the sa.aco function),
<code><a href="#topic+sa.aco">sa.aco</a></code> function that performs sensitivity analysis, and
<code><a href="#topic+sens.tables">sens.tables</a></code> function that summarizes sensitivity analysis
results,
</p>


<h3>Author(s)</h3>

<p>Walter Leite, Zuchao Shen
</p>
<p>Maintainer: Walter Leite <a href="mailto:walter.leite@coe.ufl.edu">walter.leite@coe.ufl.edu</a>
(University of Florida)
</p>

<hr>
<h2 id='sens.tables'>Summary of sensitivity analysis results</h2><span id='topic+sens.tables'></span>

<h3>Description</h3>

<p>This function can summarize the sensitivity analysis results from
<code><a href="#topic+sa.aco">sa.aco</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sens.tables(expr = NULL, sig.level = 0.05, path = TRUE, sort = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sens.tables_+3A_expr">expr</code></td>
<td>
<p>Returned object of <code><a href="#topic+sa.aco">sa.aco</a></code> function.</p>
</td></tr>
<tr><td><code id="sens.tables_+3A_sig.level">sig.level</code></td>
<td>
<p>Significance level, default value is 0.05.</p>
</td></tr>
<tr><td><code id="sens.tables_+3A_path">path</code></td>
<td>
<p>Logical, if TRUE, the function only present results for structural paths.
If FALSE, the function will present results for all paths (including
structural paths and measurement paths). Default value is TRUE.</p>
</td></tr>
<tr><td><code id="sens.tables_+3A_sort">sort</code></td>
<td>
<p>Logical, if TRUE, the function will present sorted results.
If FALSE, the function will present unsorted results. Default value is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Lists of 5 summary tables. The first table (sens.summary) provides
analytic model results (model path coefficient/model.est, p value/pvalue),
mean, minimum, and maximum values of estimated path coefficients across
all sensitivity analysis models (mean.est.sens, min.est.sens, and max.est.sens).
The second table (phan.paths) provides the summary of sensitivity parameters,
including the mean, minimum, and maximum values of each sensitivity parameters (
mean.phan, min.phan, max.phan). The third table (phan.min) provides the sensitivity
parameters that lead to the minimum path coefficient estimation in a sensitivity
analysis model. The fourth table (phan.max) provides the sensitivity
parameters that lead to the maximum path coefficient estimation in a sensitivity
analysis model. The fifth table (p.paths) provides the sensitivity parameters, if
any, that lead to the change of p value across the significance level.
</p>


<h3>References</h3>

<p>Leite, W., &amp; Shen, Z., Marcoulides, K., Fish, C., &amp; Harring, J. (in press).
Using ant colony optimization for sensitivity analysis in structural equation modeling.
Structural Equation Modeling: A Multidisciplinary Journal.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see examples in the \code{\link{sa.aco}} function


</code></pre>

<hr>
<h2 id='smith19.use'>Smith19.use data.</h2><span id='topic+smith19.use'></span>

<h3>Description</h3>

<p>A dataset is used in Parenting Risk and Resilience, Social-emotional Readiness,
and Reading Achievement in Kindergarten Children from Low-income Families Model.
Author(s): Sondra Smith-Adcock, Walter Leite, Yasemine Kaya &amp; Ellen Amatea.
**Source:** Journal of Child and Family Studies, vol 28(Oct., 2019), pp. 2826-2841.
Published by: Springer Nature in Journal of Child and Family studies
DOI:&lt;https://doi.org/10.1007/s10826-019-01462-0&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smith19.use
</code></pre>


<h3>Format</h3>

<p>A data frame with 3444 observations and 39 variables
</p>


<h3>Details</h3>

<p>The dataset was taken from the public-use data of
the Early Childhood Longitudinal Study â€“ Kindergarten Class of 1998-99 of
the National Center for Educational Statistics (https://nces.ed.gov/ecls/kindergarten.asp/).
This dataset should not be combined with other data for the purpose of identifying participants.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ExtremeBounds</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ExtremeBounds}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#eba'><p>Extreme Bounds Analysis</p></a></li>
<li><a href='#ExtremeBounds'><p>ExtremeBounds: Extreme Bounds Analysis in R</p></a></li>
<li><a href='#hist.eba'><p>Histograms for Extreme Bounds Analysis</p></a></li>
<li><a href='#print.eba'><p>Print Extreme Bounds Analysis Results</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Extreme Bounds Analysis (EBA)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-06-23</td>
</tr>
<tr>
<td>Author:</td>
<td>Marek Hlavac &lt;mhlavac@alumni.princeton.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marek Hlavac &lt;mhlavac@alumni.princeton.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of Extreme Bounds Analysis (EBA), a global sensitivity analysis that examines the robustness of determinants in regression models. The package supports both Leamer's and Sala-i-Martin's versions of EBA, and allows users to customize all aspects of the analysis.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Formula, graphics, methods, stats, utils</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Collate:</td>
<td>'ExtremeBounds-internal.R' 'ExtremeBounds.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-20 21:08:32 UTC; marek</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-20 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='eba'>Extreme Bounds Analysis
</h2><span id='topic+eba'></span><span id='topic+summary.eba'></span><span id='topic+coefficients.eba'></span>

<h3>Description</h3>

<p><code>eba</code> is used to perform extreme bounds analysis (EBA), a global sensitivity test that examines the robustness of the association between a dependent variable and a variety of possible determinants. The <code>eba</code> function performs a demanding version of EBA, proposed by Leamer (1985), that focuses on the upper and lower extreme bounds of regression estimates, as well as a more flexible version proposed by Sala-i-Martin (1997). Sala-i-Martin's EBA considers the entire distribution of regression coefficients. For Sala-i-Martin's version of extreme bounds analysis, <code>eba</code> estimates results for both the normal model (in which regression coefficients are assumed to be normally distributed across models) and the generic model (where no such assumption is made).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eba(formula = NULL, data, 
    y = NULL, free = NULL, doubtful = NULL, focus = NULL,
    k = 0:3, mu = 0, level = 0.95, vif = NULL, exclusive = NULL, 
    draws = NULL, reg.fun = lm, se.fun = NULL, include.fun = NULL,
    weights = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eba_+3A_formula">formula</code></td>
<td>
<p>a formula that specifies the EBA model that the function will run. Most generally, the formula is of the following format: <code>y ~ free | focus | (additional) doubtful</code>. See the arguments <code>y</code>, <code>free</code>, <code>doubtful</code> and <code>focus</code> below for a more detailed description of what each of these variable categories means. Note that one can also specify that all doubtful variables are of interest (i.e., all are 'focus' variables): <code>y ~ free | focus</code>. Finally, the user can also specify a model with no free variables, in which all doubtful variables are considered to be 'focus': <code>y ~ focus</code>.</p>
</td></tr>
<tr><td><code id="eba_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables used in the extreme bounds analysis.</p>
</td></tr>
<tr><td><code id="eba_+3A_y">y</code></td>
<td>
<p>a character string that specifies the dependent variable.</p>
</td></tr>
<tr><td><code id="eba_+3A_free">free</code></td>
<td>
<p>a character vector that specifies the 'free' variables to be used in the analysis. These variables are included in each regression model.</p>
</td></tr>
<tr><td><code id="eba_+3A_doubtful">doubtful</code></td>
<td>
<p>a character vector that specifies the 'doubtful' variables to be used in the analysis. These variables will be included, in various combinations, in the estimated regression models.</p>
</td></tr>
<tr><td><code id="eba_+3A_focus">focus</code></td>
<td>
<p>a character vector that specifies the 'focus' variables of the extreme bounds analysis. These are the variables whose robustness the user wants to test. The focus variables must be a subset of the variables included in the argument <code>doubtful</code>. Since these are the variables of interest, <code>eba</code> will only run regressions with doubtful variable combinations that contain at least one focus variable.</p>
</td></tr>
<tr><td><code id="eba_+3A_k">k</code></td>
<td>
<p>a vector of integers that specifies the number of doubtful variables that will be included in each estimated regression model in addition to the focus variable. Following Levine and Renelt (1992), the default is set to <code>0:3</code>, meaning that up to three additional doubtful variables will be included in each model on top of the focus variable.</p>
</td></tr>
<tr><td><code id="eba_+3A_mu">mu</code></td>
<td>
<p>a named vector of numeric values that specifies regression coefficients under the null hypothesis. The names of the vector's elements indicate which variable the null hypothesis coefficients belong to. These null hypothesis coefficient values will be used in all hypothesis testing. Alternatively, the argument <code>mu</code> can be a single numeric value that will set the null hypothesis values for all variables' coefficients. By default, <code>mu</code> will be equal to zero for all examined variables, as is standard in most applications of extreme bounds analysis.</p>
</td></tr>
<tr><td><code id="eba_+3A_level">level</code></td>
<td>
<p>a numeric value between 0 and 1 that indicates the confidence level to be used in determining the robustness/fragility of determinants.</p>
</td></tr>
<tr><td><code id="eba_+3A_vif">vif</code></td>
<td>
<p>a numeric value that sets the maximum limit on a coefficient's variance inflation factor (VIF), a rule-of-thumb indicator of multicollinearity. Only coefficient estimates whose VIF does not exceed the limit will be considered in the analysis. If <code>NULL</code> (default), no limit on the VIF is imposed.</p>
</td></tr>
<tr><td><code id="eba_+3A_exclusive">exclusive</code></td>
<td>
<p>a list of character vectors, or a formula with sets of mutually exclusive variables separated by <code>|</code>. Each character vector (or formula component) specifies a set of mutually exclusive doubtful variables. These variables will never be included in the same regression model. Specifying which doubtful variables may not be included together in the same model can help alleviate concerns about regressor multicollinearity, and can also be useful when several doubtful variables measure the same substantive concept.</p>
</td></tr>
<tr><td><code id="eba_+3A_draws">draws</code></td>
<td>
<p>a positive integer value that specifies how many regressions <code>eba</code> should be run. These regressions will be randomly drawn (without replacement, and each with equal probability) from the full set of doubtful variable combinations (that, of course, contain the variables specified in <code>focus</code>). Such a random draw can be useful when estimating the full set of regressions would require too much time. If NULL (default), there will be no random sampling of regression model and all combinations will be estimated.</p>
</td></tr>
<tr><td><code id="eba_+3A_reg.fun">reg.fun</code></td>
<td>
<p>a function that estimates the desired regression model. The function must accept arguments <code>formula</code> and <code>data</code> in the same way that the standard functions <code>lm</code> and <code>glm</code> do. Additional arguments can be passed on via the <code>...</code> argument. In this way, the user can make <code>eba</code> estimate, say, a logistic or probit regression by setting <code>reg.fun = glm</code> and passing on the appropriate values for <code>glm</code>'s <code>family</code> argument through <code>eba</code>'s <code>...</code> argument. By default, an Ordinary Least Squares (OLS) regression is performed via the <code>lm</code> function.</p>
</td></tr>
<tr><td><code id="eba_+3A_se.fun">se.fun</code></td>
<td>
<p>a function that calculates the standard errors for regression coefficient estimates. The function must accept the regression model object as its first argument, and must return a numeric vector with element names that identify the corresponding regressors.</p>
</td></tr>
<tr><td><code id="eba_+3A_include.fun">include.fun</code></td>
<td>
<p>a function that determines whether the results from a particular regression model will be included in the analysis. The function must accept the regression model object as its first argument, and must return a logical value. Only regression models for which the function returns a value of TRUE will be included in the extreme bounds analysis.</p>
</td></tr>
<tr><td><code id="eba_+3A_weights">weights</code></td>
<td>
<p>a character string or a function that specifies what weights will be applied to the results from each estimated regression model. The default value of <code>NULL</code> means that each model will have an equal weight. If the argument is set to <code>"adj.r.squared"</code>, <code>"lri"</code>, <code>"r.squared"</code>, the regression results will be weighted based on the adjusted R-squared, the likelihood ratio index (McFadden, 1974), or the R-squared, respectively.</p>
</td></tr>
<tr><td><code id="eba_+3A_...">...</code></td>
<td>
<p>additional arguments that will be passed on to the regression function specified by <code>reg.fun</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

 
<p>If the argument <code>focus</code> is NULL, it is populated by the content of <code>doubtful</code>. Conversely, if <code>doubtful</code> is NULL, it will be filled in with values from <code>focus</code>. It is thus sufficient to specify only one of <code>doubtful</code> or <code>focus</code> to test the robustness of all doubtful variables.
</p>
<p>The character strings in arguments <code>y</code>, <code>free</code>, <code>doubtful</code>, <code>focus</code> and <code>exclusive</code> can contain model formula operators described in <code><a href="stats.html#topic+formula">formula</a></code> (such as <code>:</code>, <code>*</code>, <code>^</code>, <code>%in%</code>), as well as the function <code><a href="base.html#topic+I">I</a></code>. In addition, the variables in character strings can be enclosed within other functions: <code>"log(x)"</code>, for instance, represents the natural logarithm of <code>x</code>.
</p>
<p>The <code>summary</code> object obtained from the regression function specified in argument <code>reg.fun</code> should contain a <code>coefficients</code> matrix component. <code>eba</code> will collect the coefficient estimates, standard errors, test statistics and p-values from the first, second, third and fourth columns of the <code>coefficients</code> matrix, respectively. The number of observations is equal to <code>length(x$residuals)</code>, where <code>x</code> is the regression model object. 
</p>
<p>The calculation of weights based on McFadden's likelihood ratio index (see argument <code>weights</code>) relies on the generic accessor function <code>logLik</code>. If <code>weights</code> are based on the regression's R-squared and adjusted R-squared, <code>eba</code> obtains the values of these statistics from the model object's components <code>r.squared</code> and <code>adj.r.squared</code>, respectively.
</p>


<h3>Value</h3>

<p><code>eba</code> returns an object of class <code>"eba"</code>. The corresponding <code>summary</code> function (i.e., <code>summary.eba</code>) returns the same object.
</p>
<p>An object of class <code>"eba"</code> is a list containing the following components:
</p>
<table role = "presentation">
<tr><td><code>bounds</code></td>
<td>
<p>a data frame with the results of the extreme bounds analysis. The data frame <code>bounds</code> contains the following columns:
</p>

<ul>
<li> <p><code>type</code>: type of reported variable - either <code>"free"</code> or <code>"focus"</code>.
</p>
</li>
<li> <p><code>mu</code>: the regression coefficient under the null hypothesis.
</p>
</li>
<li> <p><code>beta.below.mu</code>: proportion of estimated regression coefficients whose value is less than <code>mu</code>.
</p>
</li>
<li> <p><code>beta.above.mu</code>: proportion of estimated regression coefficients whose value is greater than <code>mu</code>.
</p>
</li>
<li> <p><code>beta.significant</code>: proportion of regression models in which the estimated coefficient is statistically significantly different from <code>mu</code>.
</p>
</li>
<li> <p><code>beta.significant.below.mu</code>: proportion of estimated regression coefficients that are both statistically significantly different from and whose value is less than <code>mu</code>.
</p>
</li>
<li> <p><code>beta.significant.above.mu</code>: proportion of estimated regression coefficients that are both statistically significantly different from and whose value is greater than <code>mu</code>.
</p>
</li>
<li> <p><code>leamer.lower</code>: Leamer's lower extreme bound at the specified confidence level.
</p>
</li>
<li> <p><code>leamer.upper</code>: Leamer's upper extreme bound at the specified confidence level.
</p>
</li>
<li> <p><code>leamer.robust</code>: logical value indicating whether the variable is robust based on Leamer's extreme bounds analysis. If <code>leamer.lower</code> and <code>leamer.upper</code> have the same sign, the value will be <code>TRUE</code>. If they have opposite signs, <code>leamer.robust</code> will be <code>FALSE</code>.
</p>
</li>
<li> <p><code>cdf.mu.normal</code>: the value of the cumulative density function at CDF(<code>mu</code>) - i.e., the proportion of coefficients that are estimated to be lower or equal to <code>mu</code> - based on Sala-i-Martin's EBA that assumes that regression coefficients are normally distributed across the estimated models. Weights specified by <code>eba</code>'s argument <code>weights</code> are applied.
</p>
</li>
<li> <p><code>cdf.above.mu.normal</code>: equal to <code>1 - cdf.mu.normal</code>. This value represents the proportion of coefficients that are estimated to be greater than <code>mu</code>, based on Sala-i-Martin's EBA that assumes that regression coefficients are normally distributed across the estimated models. Weights specified by <code>eba</code>'s argument <code>weights</code> are applied.
</p>
</li>
<li> <p><code>cdf.mu.generic</code>: the value of the cumulative density function at CDF(<code>mu</code>) based on Sala-i-Martin's EBA that does not assume any particular distribution of regression coefficients across the estimated models. Weights specified by <code>eba</code>'s argument <code>weights</code> are applied.
</p>
</li>
<li> <p><code>cdf.above.mu.generic</code>: equal to <code>1 - cdf.mu.generic</code>. This value represents the proportion of coefficients that are estimated to be greater than <code>mu</code>, based on Sala-i-Martin's EBA that does not assume any particular distribution of regression coefficients across the estimated models. Weights specified by <code>eba</code>'s argument <code>weights</code> are applied.
</p>
</li></ul>

</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the matched call.</p>
</td></tr>
<tr><td><code>coefficients</code></td>
<td>
<p>a list that contains data frames with selected quantities of interest that emerge from the extreme bounds analysis. This list can also be extracted by calling the generic accessor function <code>coefficients</code> on the <code>"eba"</code> object. The list <code>coefficients</code> contains the following data frame components:
</p>

<ul>
<li> <p><code>cdf.generic.unweighted</code>: the CDF(<code>mu</code>) and (1-CDF(<code>mu</code>)) based on Sala-i-Martin's generic EBA that does not assume any distribution of regression coefficients across models. Each regression model receives an equal weight.
</p>
</li>
<li> <p><code>cdf.generic.weighted</code>: the CDF(<code>mu</code>) and (1-CDF(<code>mu</code>)) based on Sala-i-Martin's generic EBA that does not assume any distribution of regression coefficients across models. Individual regression models receive a weight specified by the argument <code>weights</code>.
</p>
</li>
<li> <p><code>min</code>: the value of the lowest regression coefficient across the estimated models, along with additional statistics.
</p>
</li>
<li> <p><code>max</code>: the value of the highest regression coefficient across the estimated models, along with additional statistics.
</p>
</li>
<li> <p><code>mean</code>: the mean of the estimated regression coefficients, standard errors and variances. Each regression model receives an equal weight. Note that the mean of the variances will generally not be equal to the square of standard errors.
</p>
</li>
<li> <p><code>weighted.mean</code>: the weighted mean of the estimated regression coefficients, standard errors and variances. Individual regression models receive a weight specified by the argument <code>weights</code>. Note that the weighted mean of the variances will generally not be equal to the square of standard errors.
</p>
</li>
<li> <p><code>median</code>: the value of the median regression coefficient across the estimated models, along with additional statistics. If no unambiguous median value exists, <code>NA</code> is reported.
</p>
</li>
<li> <p><code>median.lower</code>: the value of the median regression coefficient across the estimated models, along with additional statistics. If no unambiguous median value exists, the lower of the two 'potential median' coefficients is reported.
</p>
</li>
<li> <p><code>median.higher</code>: the value of the median regression coefficient across the estimated models, along with additional statistics. If no unambiguous median value exists, the higher of the two 'potential median' coefficients is reported.
</p>
</li>
<li> <p><code>min.ci.lower</code>: the minimum value of the lower bound of the confidence interval (at the requested confidence level) across the estimated models, along with additional statistics. This value represents the lower extreme bound in Leamer's EBA.
</p>
</li>
<li> <p><code>max.ci.upper</code>: the maximum value of the upper bound of the confidence interval (at the requested confidence level) across the estimated models, along with additional statistics. This value represents the upper extreme bound in Leamer's EBA.
</p>
</li></ul>

</td></tr>
<tr><td><code>mu</code></td>
<td>
<p>a named vector of regression coefficients under the null hypothesis for each variable.</p>
</td></tr>
<tr><td><code>level</code></td>
<td>
<p>a number between 0 and 1 that indicates the confidence level for hypothesis testing.</p>
</td></tr>
<tr><td><code>ncomb</code></td>
<td>
<p>total number of doubtful variable combinations that include at least one focus variable.</p>
</td></tr>
<tr><td><code>nreg</code></td>
<td>
<p>total number of regressions that were estimated as part of the extreme bounds analysis. When <code>draws</code> is NULL (i.e., no random sampling of regression models is requested), <code>ncomb</code> and <code>nreg</code> will be equal.</p>
</td></tr>
<tr><td><code>nreg.variable</code></td>
<td>
<p>a named vector containing the the number of estimated regressions that included each variable.</p>
</td></tr>
<tr><td><code>ncoef.variable</code></td>
<td>
<p>a named vector containing the the number of estimated coefficients that were used in the extreme bounds analysis. This number can differ from <code>nreg.variable</code> when <code>vif</code> or <code>include.fun</code> is specified.</p>
</td></tr>
<tr><td><code>regressions</code></td>
<td>
<p>a list that contains estimation results for each regression that was run as part of the extreme bounds analysis. This list contains several components which store quantities such as coefficient or standard error estimates for each of the estimated regressions. Each of these components is a matrix whose number of rows corresponds to the total number of regressions (equal to <code>nreg</code>) and whose columns represent individual regressors. In each of the component matrices, results from a particular regression model will be included in the same row. The list <code>regressions</code> contains the following components:
</p>

<ul>
<li> <p><code>beta</code>: regression coefficients.
</p>
</li>
<li> <p><code>se</code>: standard errors.
</p>
</li>
<li> <p><code>var</code>: variances of the regression coefficients. This value is equal to the square of <code>se</code>.
</p>
</li>
<li> <p><code>t</code>: test statistics (typically t- or z-statistics; might depend on the regression function used - see argument <code>reg.fun</code>).
</p>
</li>
<li> <p><code>p</code>: p-values.
</p>
</li>
<li> <p><code>ci.lower</code>: lower bound of the confidence interval for the requested confidence level (see argument <code>level</code>).
</p>
</li>
<li> <p><code>ci.upper</code>: upper bound of the confidence interval for the requested confidence level (see argument <code>level</code>).
</p>
</li>
<li> <p><code>nobs</code>: number of observations.
</p>
</li>
<li> <p><code>vif</code>: variance inflation factor (VIF).
</p>
</li>
<li> <p><code>vif.satisfied</code>: a logical value that indicates whether the variance inflation factor is within the set maximum limit (see argument <code>vif</code>).
</p>
</li>
<li> <p><code>formula</code>: a character string containing the model formula, a symbolic description of the model that was fitted.
</p>
</li>
<li> <p><code>weight</code>: a numerical value that represents the weight that is given to a particular regression model in the extreme bounds analysis.
</p>
</li>
<li> <p><code>cdf.mu.generic</code>: the value of cumulative distribution function of the regression coefficients at the value of <code>mu</code>. The coefficients are assumed to be distributed normally with a mean given by the regression model's coefficient estimate and with a standard deviation given by the estimated standard error. This value is used in estimating the generic version of Sala-i-Martin's EBA.
</p>
</li>
<li> <p><code>include</code>: a logical value (TRUE or FALSE) that indicates whether the corresponding model's estimation results are included in the extreme bounds analysis (based on the argument <code>include.fun</code>). A value of <code>NA</code> that the corresponding regression-variable combination is not included in the analysis (either not part of the variable combination, or omitted due to multicollinearity).
</p>
</li>
<li> <p><code>nomit</code>: number of regressions that have been omitted from the analysis, typically due to perfect multicollinearity. They can be found by looking for the regressions in which all <code>beta</code> values are equal to <code>NA</code>.
</p>
</li></ul>

</td></tr>
</table>


<h3>Please cite as:</h3>

<p>Hlavac, Marek (2016). ExtremeBounds: Extreme Bounds Analysis in R. <em>Journal of Statistical Software</em>, 72(9), 1-22. doi: 10.18637/jss.v072.i09. <br />
</p>


<h3>Author(s)</h3>

<p>Marek Hlavac &lt; mhlavac at alumni.princeton.edu &gt; <br />
Research Fellow, Central European Labour Studies Institute (CELSI), Bratislava, Slovakia <br />
</p>


<h3>References</h3>

<p>McFadden, Daniel L. (1974). Conditional Logit Analysis of Qualitative Choice Behavior. In: P. Zarembka (Ed.), <em>Frontiers in Econometrics</em>, Academic Press: New York, 105-142.
</p>
<p>Leamer, Edward E. (1985). Sensitivity Analysis Would Help. <em>American Economic Review</em>, 57(3), 308-313.
</p>
<p>Levine, Ross, and David Renelt. (1992). A Sensitivity Analysis of Cross-Country Growth Regressions. <em>American Economic Review</em>, 82(4), 942-963.
</p>
<p>Sala-i-Martin, Xavier. (1997). I Just Ran Two Million Regressions. <em>American Economic Review</em>, 87(2), 178-183. doi:10.3386/w6252.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hist.eba">hist.eba</a></code>, <code><a href="#topic+print.eba">print.eba</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># perform Extreme Bounds Analysis

eba.results &lt;- eba(formula = mpg ~ wt | hp + gear | cyl + disp + drat + qsec + vs + am + carb,
                   data = mtcars[1:10, ], exclusive = ~ cyl + disp + hp | am + gear)

# The same result can be achieved by running:
# eba.results &lt;- eba(data = mtcars[1:10, ], y = "mpg", free = "wt",
#                    doubtful = c("cyl", "disp", "hp", "drat", "qsec", 
#                                 "vs", "am", "gear", "carb"),
#                    focus = c("hp", "gear"), 
#                    exclusive = list(c("cyl", "disp", "hp"), 
#                                     c("am", "gear")))

# print out results
print(eba.results)

# create histograms
hist(eba.results, variables = c("hp","gear"),
     main = c("hp" = "Gross horsepower", "gear" = "Number of forward gears"))
</code></pre>

<hr>
<h2 id='ExtremeBounds'>ExtremeBounds: Extreme Bounds Analysis in R
</h2><span id='topic+ExtremeBounds'></span>

<h3>Description</h3>

<p>The package <code>ExtremeBounds</code> performs extreme bounds analysis (EBA), a global sensitivity test that examines the robustness of the association between a dependent variable and a variety of possible determinants. It supports a demanding version of EBA, proposed by Leamer (1985), that focuses on the upper and lower extreme bounds of regression estimates, as well as a more flexible version proposed by Sala-i-Martin (1997). Sala-i-Martin's EBA considers the entire distribution of regression coefficients. For Sala-i-Martin's version of extreme bounds analysis, the package <code>ExtremeBounds</code> estimates results for both the normal model (in which regression coefficients are assumed to be normally distributed across models) and the generic model (where no such assumption is made).
</p>
<p>The most important function is <code><a href="#topic+eba">eba</a></code>, which performs the extreme bounds analysis and stores the results in an object of class <code>"eba"</code>. This object can then be passed on to the <code><a href="#topic+print.eba">print.eba</a></code> and <code><a href="#topic+hist.eba">hist.eba</a></code> functions to obtain, respectively, a printed summary of EBA results and a set of histograms that illustrate the EBA results graphically.
</p>
<p>If you have any comments or suggestions, please do not hesitate to contact the author.
</p>


<h3>Please cite as:</h3>

<p>Hlavac, Marek (2016). ExtremeBounds: Extreme Bounds Analysis in R. <em>Journal of Statistical Software</em>, 72(9), 1-22. doi: 10.18637/jss.v072.i09. <br />
</p>


<h3>Author(s)</h3>

<p>Marek Hlavac &lt; mhlavac at alumni.princeton.edu &gt; <br />
Research Fellow, Central European Labour Studies Institute (CELSI), Bratislava, Slovakia <br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+eba">eba</a></code>, <code><a href="#topic+hist.eba">hist.eba</a></code>, <code><a href="#topic+print.eba">print.eba</a></code>
</p>

<hr>
<h2 id='hist.eba'>Histograms for Extreme Bounds Analysis
</h2><span id='topic+hist.eba'></span>

<h3>Description</h3>

<p><code>hist.eba</code> is used to generate a set of histograms that present the results of extreme bounds analysis graphically. Each histogram illustrates the distribution of regression coefficients across the models estimated in the course of EBA. In addition, function <code>hist.eba</code> can overlay each histogram with lines that indicate the value of the regression coefficient assumed under the null hypothesis (argument <code>mu.show</code>), as well as with curves that indicate the distribution's kernel density (argument <code>density.show</code>) and a normally distributed approximation (argument <code>normal.show</code>). Additional formatting options are available. </p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'eba'
hist(x, variables = NULL, col = "gray", freq = FALSE, main = NULL,
     mu.show = TRUE, mu.col = "red", mu.lwd = 2, mu.visible = TRUE,
     density.show = TRUE, density.col = "blue", density.lwd = 2, density.args = NULL, 
     normal.show = FALSE, normal.col = "darkgreen", normal.lwd = 2, 
     normal.weighted = FALSE, xlim = NULL, ylim = NULL, ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hist.eba_+3A_x">x</code></td>
<td>
<p>an object of class <code>"eba"</code>, typically generated by the <code><a href="#topic+eba">eba</a></code> function.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_variables">variables</code></td>
<td>
<p>a character vector that specifies the variables for which histograms are requested. If NULL, histograms for all variables will be produced.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_col">col</code></td>
<td>
<p>a color to be used to fill the histogram bars. Default is <code>"gray"</code>.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_freq">freq</code></td>
<td>
<p>logical; if TRUE, the histogram graphic is a representation of frequencies, the counts component of the result; if FALSE, probability densities, component density, are plotted (so that the histogram has a total area of one). Defaults to TRUE if and only if breaks are equidistant (and probability is not specified).</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_main">main</code></td>
<td>
<p>a named character vector that specifies the histogram title labels for the requested variables. The name of the vector component specifies the variable, while the content of the component itself contains the title label. If the vector's components are not named, variables are labelled in the order that they appear in the argument <code>variables</code>.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_mu.show">mu.show</code></td>
<td>
<p>logical; if TRUE (default), a vertical line for each variable's regression coefficient value assumed under the null hypothesis (specified by the <code>mu</code> argument of the <code><a href="#topic+eba">eba</a></code> function, with a default of 0) will be drawn over the histograms. </p>
</td></tr>
<tr><td><code id="hist.eba_+3A_mu.col">mu.col</code></td>
<td>
<p>a color to be used to draw the vertical line at <code>mu</code>. Default is <code>"red"</code>.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_mu.lwd">mu.lwd</code></td>
<td>
<p>the line width for vertical line at <code>mu</code>. Default is 2.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_mu.visible">mu.visible</code></td>
<td>
<p>logical; if TRUE (default), make sure that the histograms' horizontal axes are scaled so that the vertical line at <code>mu</code> is always visible.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_density.show">density.show</code></td>
<td>
<p>logical; if TRUE, a kernel density curve for the regression coefficients' distribution will be drawn over the histograms. The kernel densities are calculated using the standard <code>density</code> function. Additional arguments can be passed on to the <code>density</code> function via the <code>density.args</code> argument.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_density.col">density.col</code></td>
<td>
<p>a color to be used to draw the kernel density curve. Default is <code>"blue"</code>.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_density.lwd">density.lwd</code></td>
<td>
<p>the line width for the kernel density curve. Default is 2.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_density.args">density.args</code></td>
<td>
<p>a list of additional arguments that will be passed on to the kernel <code>density</code> function.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_normal.show">normal.show</code></td>
<td>
<p>logical; if TRUE, a density curve for the normal distribution function will be drawn over the histograms. For each variable, the distribution's mean and standard error will be the means and standard errors of the corresponding regression coefficients.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_normal.col">normal.col</code></td>
<td>
<p>a color to be used to draw the normal distribution density curve. Default is <code>"darkgreen"</code>.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_normal.lwd">normal.lwd</code></td>
<td>
<p>the line width for the normal distribution density curve. For more detail, see the documentation for <code>lwd</code> in <code><a href="graphics.html#topic+par">par</a></code>. Default is 2.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_normal.weighted">normal.weighted</code></td>
<td>
<p>logical; If TRUE, the normal distribution density shown by <code>normal.show</code> will use the weighted mean and standard error, with each regression model's weight specified by <code>eba</code>'s argument <code>weights</code>. If FALSE (default), the unweighted mean and standard error will be used (i.e., each regression model receives equal weight).</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_xlim">xlim</code></td>
<td>
<p>the range of x values with sensible defaults.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_ylim">ylim</code></td>
<td>
<p>the range of y values with sensible defaults.</p>
</td></tr>
<tr><td><code id="hist.eba_+3A_...">...</code></td>
<td>
<p>additional arguments that will be passed on to the <code><a href="graphics.html#topic+hist">hist</a></code> function that creates the histograms.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>hist.eba</code> returns an object of class <code>"hist.eba"</code>.
</p>
<p>An object of class <code>"hist.eba"</code> is a list containing the following components:
</p>
<table role = "presentation">
<tr><td><code>call</code></td>
<td>
<p>the matched call</p>
</td></tr>
<tr><td><code>histograms</code></td>
<td>
<p>a list of objects of class <code>histogram</code> that store information about the histograms produced by <code>hist.eba</code>. The histograms are included in the order that was requested and are indexed by the variable name. See the documentation for the default <code><a href="graphics.html#topic+hist">hist</a></code> method for more information.</p>
</td></tr>
</table>


<h3>Please cite as:</h3>

<p>Hlavac, Marek (2016). ExtremeBounds: Extreme Bounds Analysis in R. <em>Journal of Statistical Software</em>, 72(9), 1-22. doi: 10.18637/jss.v072.i09. <br />
</p>


<h3>Author(s)</h3>

<p>Marek Hlavac &lt; mhlavac at alumni.princeton.edu &gt; <br />
Research Fellow, Central European Labour Studies Institute (CELSI), Bratislava, Slovakia <br />
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+density">density</a></code>, <code><a href="#topic+eba">eba</a></code>, <code><a href="graphics.html#topic+hist">hist</a></code>, <code><a href="#topic+print.eba">print.eba</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># perform Extreme Bounds Analysis

eba.results &lt;- eba(formula = mpg ~ wt | hp + gear | cyl + disp + drat + qsec + vs + am + carb,
                   data = mtcars[1:10, ], k = 0:2)

# The same result can be achieved by running:
# eba.results &lt;- eba(data = mtcars[1:10, ], y = "mpg", free = "wt",
#                    doubtful = c("cyl","disp","hp","drat","qsec","vs","am","gear","carb"),
#                    focus = c("hp","gear"), k = 0:2)

# create histograms, keeping the default settings
hist(eba.results)

# re-create histograms with customized settings
hist(eba.results, variables = c("hp","gear"),
     main = c("hp" = "Gross horsepower", "gear" = "Number of forward gears"),
     mu.visible=FALSE, normal.show=TRUE, normal.lwd=1)
</code></pre>

<hr>
<h2 id='print.eba'>Print Extreme Bounds Analysis Results
</h2><span id='topic+print.eba'></span>

<h3>Description</h3>

<p><code>hist.eba</code> prints the results of extreme bounds analysis (EBA; performed by the <code><a href="#topic+eba">eba</a></code> function) and returns the printed object invisibly (via <code><a href="base.html#topic+invisible">invisible</a>(x)</code>). The function prints out information about the distribution and significance of estimated regression coefficients, the results of Leamer's EBA, as well as those of Sala-i-Martin's EBA (both the normal and generic model).</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'eba'
print(x, digits = 3, ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.eba_+3A_x">x</code></td>
<td>
<p>an object of class <code>"eba"</code>, typically generated by the <code><a href="#topic+eba">eba</a></code> function.</p>
</td></tr>
<tr><td><code id="print.eba_+3A_digits">digits</code></td>
<td>
<p>number of decimal places to which the output will be rounded.</p>
</td></tr>
<tr><td><code id="print.eba_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code>print.default</code> and <code>print.data.frame</code> functions within <code>print.eba</code>.
</p>
</td></tr>
</table>


<h3>Output</h3>

<p><code>print.eba</code> prints the following information in its output:
</p>

<ul>
<li> <p><code>Call</code>: the matched call (based on <code>x$call</code>).
</p>
</li>
<li> <p><code>Confidence level</code>: the confidence level for hypothesis testing (<code>x$level</code>).
</p>
</li>
<li> <p><code>Number of combinations</code>: the total number of doubtful variable combinations that contain at least one focus variable (<code>x$ncomb</code>).
</p>
</li>
<li> <p><code>Regressions estimated</code>: the number of regressions that were estimated in the course of EBA (<code>x$nreg</code>). When no random sampling of regression models was requested (i.e., when <code>eba</code>'s argument <code>draws</code> is NULL), the number of combinations (above) will equal the number of regressions estimated.
</p>
</li>
<li> <p><code>Number of regressions by variable:</code> the number of regressions estimated, by variable (<code>x$nreg.variable</code>).
</p>
</li>
<li> <p><code>Number of coefficients used by variable:</code> the number of coefficients used in the extreme bounds analysis, by variable (<code>x$ncoef.variable</code>).
</p>
</li></ul>

<p>Beta coefficients:
</p>

<ul>
<li> <p><code>Coef (Wgt Mean)</code>: the weighted mean of the estimated regression coefficients. Individual regression models receive a weight specified by <code><a href="#topic+eba">eba</a></code>'s argument <code>weights</code>.
</p>
</li>
<li> <p><code>SE (Wgt Mean)</code>: the weighted mean of the standard errors on estimated regression coefficients. Individual regression models receive a weight specified by <code><a href="#topic+eba">eba</a></code>'s argument <code>weights</code>.
</p>
</li>
<li> <p><code>Min Coef</code> and <code>SE (Min Coef)</code>: the value of the lowest regression coefficient across the estimated models and the corresponding standard error.
</p>
</li>
<li> <p><code>Max Coef</code> and <code>SE (Max Coef)</code>: the value of the highest regression coefficient across the estimated models and the corresponding standard error.
</p>
</li></ul>

<p>Distribution of beta coefficients:
</p>

<ul>
<li> <p><code>Pct(beta &lt; mu)</code>: proportion of estimated regression coefficients whose value is less than <code>mu</code>.
</p>
</li>
<li> <p><code>Pct(beta &gt; mu)</code>: proportion of estimated regression coefficients whose value is greater than <code>mu</code>.
</p>
</li>
<li> <p><code>Pct(significant != mu)</code>: proportion of regression models in which the estimated coefficient is statistically significantly different from <code>mu</code>.
</p>
</li>
<li> <p><code>Pct(signif &amp; beta &lt; mu)</code>: proportion of estimated regression coefficients that are both statistically significantly different from and whose value is less than <code>mu</code>.
</p>
</li>
<li> <p><code>Pct(signif &amp; beta &gt; mu)</code>: proportion of estimated regression coefficients that are both statistically significantly different from and whose value is greater than <code>mu</code>.
</p>
</li></ul>

<p>Leamer's Extreme Bounds Analysis (EBA):
</p>

<ul>
<li> <p><code>Lower Extreme Bound</code>: Leamer's lower extreme bound at the specified confidence level.
</p>
</li>
<li> <p><code>Upper Extreme Bound</code>: Leamer's upper extreme bound at the specified confidence level.
</p>
</li>
<li> <p><code>Robust/Fragile?</code>: a character string indicating whether the variable is robust or fragile based on Leamer's extreme bounds analysis.
</p>
</li></ul>

<p>Sala-i-Martin's Extreme Bounds Analysis (EBA):
</p>

<ul>
<li> <p><code>N: CDF(beta &lt;= 0)</code>: the value of the cumulative density function at CDF(<code>mu</code>) - i.e., the proportion of coefficients that are estimated to be lower or equal to <code>mu</code> - based on Sala-i-Martin's EBA that assumes that regression coefficients are normally distributed across the estimated models. Weights specified by <code><a href="#topic+eba">eba</a></code>'s argument <code>weights</code> are applied.
</p>
</li>
<li> <p><code>N: CDF(beta &gt; 0)</code>:  the proportion of coefficients that are estimated to be greater than <code>mu</code>, based on Sala-i-Martin's EBA that assumes that regression coefficients are normally distributed across the estimated models. Weights specified by <code><a href="#topic+eba">eba</a></code>'s argument <code>weights</code> are applied.
</p>
</li>
<li> <p><code>G: CDF(beta &lt;= 0)</code>: the value of the cumulative density function at CDF(<code>mu</code>) based on Sala-i-Martin's EBA that does not assume any particular distribution of regression coefficients across the estimated models. Weights specified by <code><a href="#topic+eba">eba</a></code>'s argument <code>weights</code> are applied.
</p>
</li>
<li> <p><code>G: CDF(beta &gt; 0)</code>: the proportion of coefficients that are estimated to be greater than <code>mu</code>, based on Sala-i-Martin's EBA that does not assume any particular distribution of regression coefficients across the estimated models. Weights specified by <code><a href="#topic+eba">eba</a></code>'s argument <code>weights</code> are applied.
</p>
</li></ul>

<p>Note that all values of cumulative density functions for Sala-i-Martin's EBA are printed as percentages.
</p>


<h3>Please cite as:</h3>

<p>Hlavac, Marek (2016). ExtremeBounds: Extreme Bounds Analysis in R. <em>Journal of Statistical Software</em>, 72(9), 1-22. doi: 10.18637/jss.v072.i09. <br />
</p>


<h3>Author(s)</h3>

<p>Marek Hlavac &lt; mhlavac at alumni.princeton.edu &gt; <br />
Research Fellow, Central European Labour Studies Institute (CELSI), Bratislava, Slovakia <br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+eba">eba</a></code>, <code><a href="#topic+hist.eba">hist.eba</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># perform Extreme Bounds Analysis

eba.results &lt;- eba(formula = mpg ~ wt | hp + gear | cyl + disp + drat + qsec + vs + am + carb,
                   data = mtcars[1:10, ], k = 0:2)

# The same result can be achieved by running:
# eba.results &lt;- eba(data = mtcars[1:10, ], y = "mpg", free = "wt",
#                    doubtful = c("cyl","disp","hp","drat","qsec","vs","am","gear","carb"),
#                    focus = c("hp","gear"), k = 0:2)

# print out results, rounded to 2 decimal places
print(eba.results, digits = 2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package funchir</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {funchir}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#funchir-infix'><p> Convenient Infix Operators</p></a></li>
<li><a href='#funchir-plot'><p> Convenience Functions for Plotting</p></a></li>
<li><a href='#funchir-utils'><p> Miscellaneous utile functions</p></a></li>
<li><a href='#get_age'><p>Calculate an exact age in fractional years</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.3.0-1</td>
</tr>
<tr>
<td>Title:</td>
<td>Convenience Functions by Michael Chirico</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.2)</td>
</tr>
<tr>
<td>Description:</td>
<td>YACFP (Yet Another Convenience Function Package). get_age() is a fast &amp; accurate tool for measuring fractional years between two dates. stale_package_check() tries to identify any library() calls to unused packages.</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/MichaelChirico/funchir">https://github.com/MichaelChirico/funchir</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-08 09:44:48 UTC; root</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Chirico [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Chirico &lt;MichaelChirico4@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-08 10:00:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='funchir-infix'> Convenient Infix Operators </h2><span id='topic++25+5C+25'></span><span id='topic++25+3Cunescaped+20bksl+3E+25'></span>

<h3>Description</h3>

<p>An infix operator as convenient shorthand for set modulation (A\B)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   A %\% B
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="funchir-infix_+3A_a">A</code>, <code id="funchir-infix_+3A_b">B</code></td>
<td>
<p> Objects which can be treated as sets. </p>
</td></tr>
</table>


<h3>Value</h3>

<p>This is just a wrapper for <code><a href="base.html#topic+setdiff">setdiff</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  set1 &lt;- 1:5
  set2 &lt;- 4:6

  set1 %\% set2 # c(1,2,3)
</code></pre>

<hr>
<h2 id='funchir-plot'> Convenience Functions for Plotting </h2><span id='topic+tile.axes'></span><span id='topic+xdev2in'></span><span id='topic+ydev2in'></span><span id='topic+xydev2in'></span>

<h3>Description</h3>

<p><code>tile.axes</code> is used in for loops to generate axes in a multi-panel plot with shared x &amp; y axes (within row and column).
</p>
<p><code>xdev2in</code> is the inverse of <code>graphics::xinch</code>; namely, it converts from plotting device units into inches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   tile.axes(n, M, N, params = list(x = list(), y = list()),
             use.x = TRUE, use.y = TRUE)
   xdev2in(x = 1)
   ydev2in(y = 1)
   xydev2in(xy = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="funchir-plot_+3A_n">n</code></td>
<td>
<p> Integer. Cell in <code>mfrow</code> to which to apply the axes; fills by <em>row</em>, following base functionality.</p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_m">M</code></td>
<td>
<p> Integer. Number of rows specified in <code>mfrow</code>. </p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_n">N</code></td>
<td>
<p> Integer. Number of columns specified in <code>mfrow</code>. </p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_params">params</code></td>
<td>
<p> A length-2 <code>list</code>. <code>params$x</code> is a <code>list</code> of parameters to be passed to the x-axis. <code>params$y</code> is a <code>list</code> of parameters to be passed to the y-axis. </p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_use.x">use.x</code></td>
<td>
 <p><code>logical</code>. Should the x-axis be printed? </p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_use.y">use.y</code></td>
<td>
 <p><code>logical</code>. Should the y-axis be printed? </p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_x">x</code></td>
<td>
 <p><code>numeric</code> value to convert into inches (along the horizontal axis). </p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_y">y</code></td>
<td>
 <p><code>numeric</code> value to convert into inches (along the vertical axis). </p>
</td></tr>
<tr><td><code id="funchir-plot_+3A_xy">xy</code></td>
<td>
 <p><code>numeric</code> value to convert into inches (along both axes simultaneously). </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>tile.axes</code> provides a simple way to incorporate the plotting of axes into a loop which creates the plots in a matrix of plots (e.g., by using <code>par(mfrow=c(2, 2))</code>) <em>when the axes are shared by all plots</em>. x axes are only printed on the bottom row of plots, and y axes are only printed on the first column of plots&ndash;this saves potentially wasted / white space by eliminating redundant axes, yet can still be done in a loop.
</p>
<p>Some graphics functions specify some arguments with units in inches (namely, <code>graphics::arrows</code>' <code>length</code> argument). <code>graphics::xinch</code> provides the inverse functionality enabling conversion from inches into plotting units; up to numerical accuracy, then, <code>graphics::xinch(xdev2in(x)) == x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+xinch">xinch</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  smpl &lt;- rnorm(100)

  par(mfrow = c(2, 1), mar = c(0, 0, 0, 0), oma=c(5, 4, 4, 2) + .1)
  for (ii in 1:2){
    hist(smpl[sample(length(smpl), 100, rep = TRUE)], xaxt = "n", yaxt = "n")
    tile.axes(ii, 2, 1)
  }
</code></pre>

<hr>
<h2 id='funchir-utils'> Miscellaneous utile functions </h2><span id='topic+stale_package_check'></span><span id='topic+embed.mat'></span><span id='topic+quick_year'></span><span id='topic+quick_mday'></span><span id='topic+quick_yday'></span>

<h3>Description</h3>

<p>Several odds-and-ends functions for data manipulation &amp; representation, etc. See details and examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   stale_package_check(con)
   embed.mat(mat, M = nrow(mat), N = ncol(mat), m = 1L, n = 1L, fill = 0L)
   quick_year(dates)
   quick_mday(dates)
   quick_yday(dates)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="funchir-utils_+3A_con">con</code></td>
<td>
<p> A file/connection where output should be written. </p>
</td></tr>
<tr><td><code id="funchir-utils_+3A_mat">mat</code></td>
<td>
<p> A matrix. </p>
</td></tr>
<tr><td><code id="funchir-utils_+3A_m">M</code></td>
<td>
<p> An integer specifying the number of rows in the enclosing matrix. </p>
</td></tr>
<tr><td><code id="funchir-utils_+3A_n">N</code></td>
<td>
<p> An integer specifying the number of columns in the enclosing matrix. </p>
</td></tr>
<tr><td><code id="funchir-utils_+3A_m">m</code></td>
<td>
<p> An integer specifying the row at which to insert <code>mat</code>. </p>
</td></tr>
<tr><td><code id="funchir-utils_+3A_n">n</code></td>
<td>
<p> An integer specifying the column at which to insert <code>mat</code>. </p>
</td></tr>
<tr><td><code id="funchir-utils_+3A_fill">fill</code></td>
<td>
<p> An atomic vector specifying how to fill the enclosing matrix. </p>
</td></tr>
<tr><td><code id="funchir-utils_+3A_dates">dates</code></td>
<td>
<p> A vector of <code>Date</code>s. </p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>stale_package_check</code> (DEPRECATED in favor of lintr::unused_import_linter) reads a file (with <code><a href="base.html#topic+readLines">readLines</a></code>) and checks which functions are actually used from each loaded package. Currently only checks for <code>library</code> (i.e., not <code>require</code>) calls.
</p>
<p><code>embed.mat</code> inserts a supplied matrix into a (weakly) larger enclosing matrix, typically filled with 0s, at a specified position.
</p>
<p><code>quick_year</code> converts a <code>Date</code> object into its year efficiently; also ignores concerns of leap centuries. <code>quick_mday</code> returns the day of the month. <code>quick_yday</code> returns the day of the year. Returns as an <code>integer</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  inmat &lt;- matrix(1:9, ncol = 3L)
  embed.mat(inmat, M = 4L, N = 4L)
  embed.mat(inmat, N = 6L, n = 4L, fill = NA)

  d1 = as.Date('1987-05-02')
  d2 = as.Date('2016-02-23')
  quick_year(d1)
  quick_mday(d1)
</code></pre>

<hr>
<h2 id='get_age'>Calculate an exact age in fractional years</h2><span id='topic+get_age'></span>

<h3>Description</h3>

<p>For someone born May 1, 1990, what is their age on May 2, 2000? 10 years,
but what if we want more precision? They are 1 day older, and May 1, 2001
is in 364 days, so they are 10 + 1/365 years old.
</p>
<p>Things get more complicated when we include consideration of leap years,
when the next birthday might be 366 days away.
</p>
<p><code>get_age()</code> solves this problem.
</p>
<p>Note that it assumes there are no leap centuries (and hence may will be
incorrect for dates before March 1, 1900 or after February 28, 2100). It
also takes the stance that leap babies (those born February 29) increment
their age on March 1 in non-leap years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   get_age(birthdays, ref_dates)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_age_+3A_birthdays">birthdays</code></td>
<td>
<p> A vector of <code>Date</code>s (or input coercible with <code><a href="base.html#topic+as.Date">as.Date</a>()</code>). Each entry is someone's birthday. </p>
</td></tr>
<tr><td><code id="get_age_+3A_ref_dates">ref_dates</code></td>
<td>
<p> A vector of <code>Date</code>s (or input coercible with <code><a href="base.html#topic+as.Date">as.Date</a>()</code>). Each entry is a &quot;current date&quot; at which to calculate the corresponding age. </p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector of years (including fractional parts) between each <code>ref_dates</code> and <code>birthdays</code> entry.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

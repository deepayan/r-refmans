<!DOCTYPE html><html><head><title>Help for package sweidnumbr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sweidnumbr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.oin'><p>Parse organizational identity numbers</p></a></li>
<li><a href='#as.pin'><p>Parse personal identity numbers to ABS format</p></a></li>
<li><a href='#create_s3_method'><p>Create S3 methods</p></a></li>
<li><a href='#fake_pins'><p>Fake personal identity numbers and names</p></a></li>
<li><a href='#format_pin'><p>Formatting pin</p></a></li>
<li><a href='#is.oin'><p>Test if a character vector contains correct <code>oin</code></p></a></li>
<li><a href='#luhn_algo'><p>The Luhn algorithm</p></a></li>
<li><a href='#oin_ctrl'><p>Check the control numbers for <code>oin</code></p></a></li>
<li><a href='#oin_group'><p>Calculate organization group from <code>oin</code></p></a></li>
<li><a href='#oin_group_element'><p>oin_group_element</p></a></li>
<li><a href='#pin_age'><p>Calculate age of <code>pin</code> for a given date</p></a></li>
<li><a href='#pin_birthplace'><p>Calculate the birthplace of <code>pin</code></p></a></li>
<li><a href='#pin_birthplace_internal'><p>pin_birthplace_internal</p></a></li>
<li><a href='#pin_century'><p>pin_century</p></a></li>
<li><a href='#pin_convert'><p>pin_convert</p></a></li>
<li><a href='#pin_coordn'><p>Check if <code>pin</code> is a coordination number</p></a></li>
<li><a href='#pin_coordn_correct'><p>pin_coordn_correct</p></a></li>
<li><a href='#pin_ctrl'><p>Check control number from <code>pin</code></p></a></li>
<li><a href='#pin_date'><p>Calculate the date of birth from a <code>pin</code></p></a></li>
<li><a href='#pin_sex'><p>Calculate sex from <code>pin</code></p></a></li>
<li><a href='#pin_to_date'><p>Deprecated functions in package <span class="pkg">sweidnumbr</span>.</p></a></li>
<li><a href='#pin_to_date-deprecated'><p>Calculate the date of birth from a <code>pin</code></p></a></li>
<li><a href='#roin'><p>Generate a vector of random <code>oin</code></p></a></li>
<li><a href='#rpin'><p>Generate a vector of random <code>pin</code></p></a></li>
<li><a href='#sweidnumbr'><p>sweidnumbr</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Handling of Swedish Identity Numbers</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-13</td>
</tr>
<tr>
<td>Author:</td>
<td>Mans Magnusson and Erik Bulow</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mans Magnusson &lt;mons.magnusson@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Structural handling of identity numbers used in the Swedish
    administration such as personal identity numbers ('personnummer') and
    organizational identity numbers ('organisationsnummer').</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>rmarkdown, knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rOpenGov/sweidnumbr">https://github.com/rOpenGov/sweidnumbr</a>,
<a href="http://ropengov.github.io/sweidnumbr/">http://ropengov.github.io/sweidnumbr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rOpenGov/sweidnumbr/issues">https://github.com/rOpenGov/sweidnumbr/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>lubridate (&ge; 1.5), stringr, checkmate</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 1.0.0), rmarkdown, knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>http://ropengov.org/</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>ropengov</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-13 20:05:27 UTC; manma760</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-13 20:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.oin'>Parse organizational identity numbers</h2><span id='topic+as.oin'></span>

<h3>Description</h3>

<p>Check and convert a vector of organizational identity numbers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.oin(oin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.oin_+3A_oin">oin</code></td>
<td>
<p>Vector with swedish organizational identity numbers in character format. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following format is accepted: 
</p>

<ul>
<li><p> character: <code>GNNNNN-NNNC</code>
</p>
</li></ul>



<h3>Value</h3>

<p>Character vector (of class <code>oin</code> and <code>AsIs</code>) with swedish organizational identity numbers.
</p>


<h3>References</h3>

<p><a href="https://www.riksdagen.se/sv/dokument-och-lagar/dokument/svensk-forfattningssamling/lag-1974174-om-identitetsbeteckning-for_sfs-1974-174/">Lag (1974:174) om identitetsbeteckning for juridiska personer m.fl.</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_oin &lt;- c("556000-4615", "232100-0156", "802002-4280", "8020024280", "AA2002-4280")
as.oin(ex_oin)

</code></pre>

<hr>
<h2 id='as.pin'>Parse personal identity numbers to ABS format</h2><span id='topic+as.pin'></span><span id='topic+is.pin'></span>

<h3>Description</h3>

<p><code>as.pin</code> Converts personal identity numbers of different formats to standard (ABS) 
pin format <code>YYYYMMDDNNNC</code> where <code>YYYYMMDD</code> is the date of birth, <code>NNN</code> 
is the birth number and <code>C</code> is the
control number.
<code>is.pin</code> checks wether an R object is of class &quot;pin&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.pin(pin)

is.pin(pin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.pin_+3A_pin">pin</code></td>
<td>
<p>Vector with swedish personal identity numbers in character or numeric format. 
See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>as.pin</code> converts different formats of swedish personal identity numbers to
the standard ABS format. The formats that can be converted are:
</p>

<ul>
<li><p> numeric: <code>YYYYMMDDNNNC</code>
</p>
</li>
<li><p> numeric: <code>YYMMDDNNNC</code> (assuming &lt; 100 years of age)
</p>
</li>
<li><p> character: <code>"YYYYMMDDNNNC"</code>
</p>
</li>
<li><p> character: <code>"YYMMDD-NNNC"</code>,  <code>"YYMMDD+NNNC"</code>
</p>
</li>
<li><p> character: <code>"YYYYMMDD-NNNC"</code>
</p>
</li>
<li><p> character: <code>"YYMMDDNNNC"</code> (assuming &lt; 100 years of age)
</p>
</li></ul>

<p>(where &quot;C&quot; can be substituted by characters &quot;A&quot;, &quot;T&quot; or &quot;X&quot; if &quot;YYYY&quot; &lt; 1967).
</p>


<h3>Value</h3>

<p><code>as.pin</code> returns a vector of class &quot;pin&quot; (with additional classes &quot;AsIs&quot; and character) 
with swedish personal identity numbers with standard ABS format <code>"YYYYMMDDNNNC"</code>.
<code>is.pin</code> returns <code>TRUE</code> if <code>pin</code> is of class &quot;pin&quot;, otherwise <code>FALSE</code>.
</p>


<h3>References</h3>


<ul>
<li> <p><a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv717B-4.pdf">Skatteverket, <em>Population registration in Sweden</em>, SKV 717B</a> (2007)
</p>
</li>
<li> <p><a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv704-8.pdf">Skatteverket, <em>Personnummer</em>, SKV 704</a> (2007)
</p>
</li>
<li> <p><a href="https://www.riksdagen.se/sv/dokument-och-lagar/dokument/statens-offentliga-utredningar/personnummer-och-samordningsnummer-del-1_gwb360/">SOU 2008:60 : Personnummer och samordningsnummer</a> (2008)
</p>
</li>
<li> <p><em>Personnummer: information fran Centrala folkbokförings- och uppbördsnämnden.</em> (1967). Stockholm
</p>
</li>
<li> <p><em>Den svenska folkbokföringens historia under tre sekel.</em> (1982). Solna: Riksskatteverket <a href="http://www.skatteverket.se/privat/folkbokforing/omfolkbokforing/folkbokforingigaridag/densvenskafolkbokforingenshistoriaundertresekler.4.18e1b10334ebe8bc80004141.html">URL</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Examples taken from SKV 704 (see references)
ex_pin1 &lt;- c("196408233234", "640823-3234", "19640823-3234")
as.pin(pin = ex_pin1)
ex_pin2 &lt;- c("6408233234")
as.pin(ex_pin2)
ex_pin3 &lt;- c(6408233234, 196408233234)
as.pin(ex_pin3)
ex_pin4 &lt;-rep(c("20121209-0122", "201212090122", "121209-0122", "1212090122"),250)
as.pin(ex_pin4)
ex_pin5 &lt;-c("205012090122", "186512090122", "121209-0122", "121209-012A")
as.pin(pin = ex_pin5)
pin &lt;-c("201212090122", "201212090122", "121209-0122", "1212090122")

ex_pin &lt;- rpin(3)
is.pin(ex_pin)

ex_pin_char &lt;- as.character(ex_pin)
is.pin(ex_pin_char)

</code></pre>

<hr>
<h2 id='create_s3_method'>Create S3 methods</h2><span id='topic+create_s3_method'></span>

<h3>Description</h3>

<p>Helper function to create S3 method that preserves (most)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_s3_method(generic = NULL, object = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_s3_method_+3A_generic">generic</code>, <code id="create_s3_method_+3A_object">object</code></td>
<td>
<p>arguments passed to <code><a href="base.html#topic+NextMethod">NextMethod</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function with arguments &quot;x&quot;, &quot;i&quot;, and &quot;...&quot;. 
The &quot;i&quot; argument can be thought of as &quot;index&quot; if the method defined is 
for example the &quot;[&quot;-function.
</p>

<hr>
<h2 id='fake_pins'>Fake personal identity numbers and names</h2><span id='topic+fake_pins'></span>

<h3>Description</h3>

<p>Data set with fake personal identity numbers and names to use as example.
</p>


<h3>Format</h3>

<p>A data frame with 62 rows and 2 variables:
</p>

<dl>
<dt>pin</dt><dd><p>Personal identification number, as character</p>
</dd>
<dt>name</dt><dd><p>Fictional Swedish names</p>
</dd>
</dl>


<hr>
<h2 id='format_pin'>Formatting pin</h2><span id='topic+format_pin'></span>

<h3>Description</h3>

<p>Format <code>pin</code> for pretty printing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_pin(x, format. = "%Y%m%d%N", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_pin_+3A_x">x</code></td>
<td>
<p>vector of class &quot;pin&quot; (see <code><a href="#topic+as.pin">as.pin</a></code>) or a vector that can be coerced to such</p>
</td></tr>
<tr><td><code id="format_pin_+3A_format.">format.</code></td>
<td>
<p>character string specifying the output format. 
<code>%N</code> is used as a reference for the last four digits of the pin.
Format of the date is handled via <code><a href="base.html#topic+strptime">strptime</a></code>.
(<code>"%Y%m%d%N"</code> by default). <code>%P</code> is an available  
shorthand for <code>"(%C) %y-%m-%d - %N"</code>, a format aimed for 
maximal readability when used in long lists</p>
</td></tr>
<tr><td><code id="format_pin_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="base.html#topic+format.Date">format.Date</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector of same length as <code>x</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- as.pin(fake_pins$pin[1:10])

# Separate elements with hyphens:
format_pin(x, "%Y-%m-%d-%N")


# Separate even further
format_pin(x, "%C-%y-%m-%d-%N")

# The special P-format for maximal readability
format_pin(x, "%P") 

# A custom representation
format_pin(x, "Borned %d of %B in %Y (a %A in week %U) with suffix no: %N")

# Extract only the year
format_pin(x, "%Y")
</code></pre>

<hr>
<h2 id='is.oin'>Test if a character vector contains correct <code>oin</code></h2><span id='topic+is.oin'></span>

<h3>Description</h3>

<p>Test which elements in a text vector that contains organization identity 
number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.oin(oin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.oin_+3A_oin">oin</code></td>
<td>
<p>Character vector to be tested if it is an <code>oin</code> of the right format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector indicating if the elements can be an organization identity number.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_oin &lt;- roin(3)
is.oin(ex_oin)

ex_oin_char &lt;- as.character(ex_oin)
is.oin(ex_oin_char)

</code></pre>

<hr>
<h2 id='luhn_algo'>The Luhn algorithm</h2><span id='topic+luhn_algo'></span>

<h3>Description</h3>

<p>Calculates the control number for a Swedish personal/organisational identity number using the Luhn algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>luhn_algo(id, multiplier)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="luhn_algo_+3A_id">id</code></td>
<td>
<p>Element with swedish personal identity number.</p>
</td></tr>
<tr><td><code id="luhn_algo_+3A_multiplier">multiplier</code></td>
<td>
<p>What should each element in id be multiplied with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The control number (last digit in the personal identification number) calculated from <code>id</code> (as integer).
</p>


<h3>References</h3>


<ul>
<li> <p><a href="https://en.wikipedia.org/wiki/Luhn_algorithm">Luhn Algorithm</a>.
</p>
</li>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv717B-4.pdf"><em>Population registration in Sweden</em></a>. SKV 717B. (2007)
</p>
</li>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv704-8.pdf"><em>Personnummer</em></a>. SKV 704. (2007)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>luhn_algo("121212121212", c(0,0,2,1,2,1,2,1,2,1,2,0))
luhn_algo(  "121212121",  c(      2,1,2,1,2,1,2,1,2))

## If no multiplier, the default is 
## to find one that match the format of id
luhn_algo("121212121212")
luhn_algo("12121212121")
luhn_algo("1212121212")
luhn_algo("121212121")

## Also for multiple pin 
## (as long they are all of the same format)
luhn_algo(c("12121212121", "19850504333"))
## Not run: 
try(luhn_algo(c("12121212121", "850504333"))) ## Different formats should fail!

## End(Not run)

</code></pre>

<hr>
<h2 id='oin_ctrl'>Check the control numbers for <code>oin</code></h2><span id='topic+oin_ctrl'></span>

<h3>Description</h3>

<p>Calculates the control number using the Luhn algorithm and compare it with the control number in the organization identity number (oin).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oin_ctrl(oin, force_logical = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oin_ctrl_+3A_oin">oin</code></td>
<td>
<p>A vector of class <code>oin</code>. See <a href="#topic+as.oin">as.oin</a>.</p>
</td></tr>
<tr><td><code id="oin_ctrl_+3A_force_logical">force_logical</code></td>
<td>
<p>If TRUE, force all NA in oin to be FALSE. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector indicating if a oin is correct (<code>TRUE</code>) or not (<code>FALSE</code>)
</p>


<h3>References</h3>

<p><a href="http://www.skatteverket.se/foretagochorganisationer/foretagare/startaochregistrera/organisationsnummer.4.361dc8c15312eff6fd235d1.html?q=organisationsnummer">Organisationsnummer Skatteverket</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_oin &lt;- c("556000-4615", "232100-0156", "802002-4280", "232100-0157", "802002-4281")
oin_ctrl(ex_oin)

</code></pre>

<hr>
<h2 id='oin_group'>Calculate organization group from <code>oin</code></h2><span id='topic+oin_group'></span>

<h3>Description</h3>

<p>Calculates the organization group from the organization number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oin_group(oin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oin_group_+3A_oin">oin</code></td>
<td>
<p>A vector of class <code>oin</code>. See <a href="#topic+as.oin">as.oin</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Factor with organization categories.
</p>


<h3>References</h3>

<p><a href="http://www.skatteverket.se/foretagochorganisationer/foretagare/startaochregistrera/organisationsnummer.4.361dc8c15312eff6fd235d1.html?q=organisationsnummer">Organisationsnummer Skatteverket</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_oin &lt;- c("556000-4615", "232100-0156", "802002-4280")
oin_group(ex_oin)

</code></pre>

<hr>
<h2 id='oin_group_element'>oin_group_element</h2><span id='topic+oin_group_element'></span>

<h3>Description</h3>

<p>Calculates the organization group from the organization number for one oin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oin_group_element(one_oin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oin_group_element_+3A_one_oin">one_oin</code></td>
<td>
<p>Character elemen with oin.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character categegory of organisational group.
</p>


<h3>References</h3>

<p>http://www.skatteverket.se/download/18.70ac421612e2a997f85800040284/1302507382017/70909.pdf
</p>

<hr>
<h2 id='pin_age'>Calculate age of <code>pin</code> for a given date</h2><span id='topic+pin_age'></span>

<h3>Description</h3>

<p>Calculate the age in full years for a given date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_age(pin, date = Sys.Date(), timespan = "years", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_age_+3A_pin">pin</code></td>
<td>
<p>A vector of class <code>pin</code>. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
<tr><td><code id="pin_age_+3A_date">date</code></td>
<td>
<p>Date at which age is calculated. If a vector is provided it must be
of the same length as the <code>pin</code> argument.</p>
</td></tr>
<tr><td><code id="pin_age_+3A_timespan">timespan</code></td>
<td>
<p>Timespan to use to calculate age. The actual timespans are:
</p>

<ul>
<li> <p><code>years</code> (Default)
</p>
</li>
<li> <p><code>months</code>
</p>
</li>
<li> <p><code>weeks</code>
</p>
</li>
<li> <p><code>days</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="pin_age_+3A_verbose">verbose</code></td>
<td>
<p>Should messages be printed? Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Age as an integer vector.
</p>


<h3>References</h3>


<ul>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv704-8.pdf"><em>Personnummer</em></a>. SKV 704. (2007)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Example with someone born today
today_pin &lt;- 
  paste(paste(unlist(strsplit(as.character(Sys.Date()),split = "-")), collapse = ""),
        "0000",sep="")
pin_age(today_pin)

# Examples taken from SKV 704 (see references)
ex_pin &lt;- c("196408233234", "186408833224")
pin_age(ex_pin, date = "2012-01-01")

</code></pre>

<hr>
<h2 id='pin_birthplace'>Calculate the birthplace of <code>pin</code></h2><span id='topic+pin_birthplace'></span>

<h3>Description</h3>

<p>Calculate the birthplace for a given personal identity number born before 1990. See details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_birthplace(pin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_birthplace_+3A_pin">pin</code></td>
<td>
<p>A vector of class <code>pin</code>. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is possible to calculate where people where born (and/or if a person has immigrated) 
through their personal identity number. This is possible for people that was born 
before 1990 and after 1945. 
</p>
<p>For people born before 1946 the birthplace identifier contains information on where
one where registered the 1st of november 1946.
</p>
<p>Personal identity numbers for people born after 1989 do not contain any information
on birthplace.
</p>
<p>During the period 1946 - 1989 the pin also contains information on whether one has 
immigrated to Sweden during the period.
</p>


<h3>Value</h3>

<p>Birthplace as factor.
</p>


<h3>References</h3>

<p><a href="https://www.riksdagen.se/sv/dokument-och-lagar/dokument/statens-offentliga-utredningar/personnummer-och-samordningsnummer-del-1_gwb360/">SOU 2008:60 : Personnummer och samordningsnummer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example with someone born today and from SKV 704 (see references)
today_pin &lt;- paste0(format(Sys.Date(),"%Y%m%d"), "0000")
ex_pin &lt;- c("196408233234", today_pin)
pin_birthplace(ex_pin)

</code></pre>

<hr>
<h2 id='pin_birthplace_internal'>pin_birthplace_internal</h2><span id='topic+pin_birthplace_internal'></span>

<h3>Description</h3>

<p>Internal computation of birthplace (one for each pin)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_birthplace_internal(pin, birth_vector, birth_other_text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_birthplace_internal_+3A_pin">pin</code></td>
<td>
<p>Character element with pin at standard format 'YYYYMMDDNNNC'. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
<tr><td><code id="pin_birthplace_internal_+3A_birth_vector">birth_vector</code></td>
<td>
<p>Vector mapping birth number to birthplace. See <a href="#topic+pin_birthplace">pin_birthplace</a>.</p>
</td></tr>
<tr><td><code id="pin_birthplace_internal_+3A_birth_other_text">birth_other_text</code></td>
<td>
<p>Text to return if born &gt;= 1990. See <a href="#topic+pin_birthplace">pin_birthplace</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character element containing birthplace
</p>

<hr>
<h2 id='pin_century'>pin_century</h2><span id='topic+pin_century'></span>

<h3>Description</h3>

<p>Assuming that the person is less than 100 years old, calculate the century of birth.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_century(pin_short)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_century_+3A_pin_short">pin_short</code></td>
<td>
<p>Vector with swedish personal identity numbers on standard format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Century vector in numeric format
</p>

<hr>
<h2 id='pin_convert'>pin_convert</h2><span id='topic+pin_convert'></span>

<h3>Description</h3>

<p>Converts one pin to standard format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_convert(pin, format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_convert_+3A_pin">pin</code></td>
<td>
<p>A character element of length one.</p>
</td></tr>
<tr><td><code id="pin_convert_+3A_format">format</code></td>
<td>
<p>Which format should be converted. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character element on standard format.
</p>

<hr>
<h2 id='pin_coordn'>Check if <code>pin</code> is a coordination number</h2><span id='topic+pin_coordn'></span>

<h3>Description</h3>

<p>Calculate if the personal identity number is a coordination number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_coordn(pin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_coordn_+3A_pin">pin</code></td>
<td>
<p>A vector of class <code>pin</code>. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector indicating if the pin is a coordination number (<code>TRUE</code>) or pin (<code>FALSE</code>).
</p>


<h3>References</h3>


<ul>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv717B-4.pdf"><em>Population registration in Sweden</em></a>. SKV 717B. (2007)
</p>
</li>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv704-8.pdf"><em>Personnummer</em></a>. SKV 704. (2007)
<a href="https://www.riksdagen.se/sv/dokument-och-lagar/dokument/statens-offentliga-utredningar/personnummer-och-samordningsnummer-del-1_gwb360/">SOU 2008:60 : Personnummer och samordningsnummer</a>, (2008)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Examples taken from SKV 704 (see references)
ex_pin &lt;- c("196408233234", "196408833224")
pin_coordn(ex_pin)

</code></pre>

<hr>
<h2 id='pin_coordn_correct'>pin_coordn_correct</h2><span id='topic+pin_coordn_correct'></span>

<h3>Description</h3>

<p>Remove the change of day in coordination numbers (to enable age calculation).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_coordn_correct(pin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_coordn_correct_+3A_pin">pin</code></td>
<td>
<p>Vector of pins at format atandard fromat 'YYYYMMDDNNNC'. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector with pin, corrected for coordination numbers.
</p>

<hr>
<h2 id='pin_ctrl'>Check control number from <code>pin</code></h2><span id='topic+pin_ctrl'></span>

<h3>Description</h3>

<p>Calculates the control number using the Luhn algorithm and compare it with the 
control number in the personal identity number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_ctrl(pin, force_logical = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_ctrl_+3A_pin">pin</code></td>
<td>
<p>A vector of class <code>pin</code>. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
<tr><td><code id="pin_ctrl_+3A_force_logical">force_logical</code></td>
<td>
<p>If TRUE, force all NA in pin to be FALSE. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical vector indicating if a pin is correct (<code>TRUE</code>) or not (<code>FALSE</code>)
</p>


<h3>References</h3>


<ul>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv717B-4.pdf"><em>Population registration in Sweden</em></a>. SKV 717B. (2007)
</p>
</li>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv704-8.pdf"><em>Personnummer</em></a>. SKV 704. (2007)
<a href="https://www.riksdagen.se/sv/dokument-och-lagar/dokument/statens-offentliga-utredningar/personnummer-och-samordningsnummer-del-1_gwb360/">SOU 2008:60 : Personnummer och samordningsnummer</a>, (2008)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Examples taken from SKV 704 (see references)
ex_pin &lt;- c("196408233234", "196408233235")
pin_ctrl(ex_pin)

</code></pre>

<hr>
<h2 id='pin_date'>Calculate the date of birth from a <code>pin</code></h2><span id='topic+pin_date'></span>

<h3>Description</h3>

<p>Calculates the date of birth in date format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_date(pin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_date_+3A_pin">pin</code></td>
<td>
<p>A vector of class <code>pin</code>. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Date of birth as a vector in date format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Examples taken from SKV 704 (see references)
ex_pin &lt;- c("196408233234", "186408833224")
pin_date(ex_pin)

</code></pre>

<hr>
<h2 id='pin_sex'>Calculate sex from <code>pin</code></h2><span id='topic+pin_sex'></span>

<h3>Description</h3>

<p>Calculates the sex from the personal identification number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_sex(pin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_sex_+3A_pin">pin</code></td>
<td>
<p>A vector of class <code>pin</code>. See <a href="#topic+as.pin">as.pin</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Factor with label 'Male' and 'Female'.
</p>


<h3>References</h3>


<ul>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv717B-4.pdf"><em>Population registration in Sweden</em></a>. SKV 717B. (2007)
</p>
</li>
<li><p> Skatteverket, <a href="https://github.com/rOpenGov/sweidnumbr/blob/master/docs/skv704-8.pdf"><em>Personnummer</em></a>. SKV 704. (2007)
<a href="https://www.riksdagen.se/sv/dokument-och-lagar/dokument/statens-offentliga-utredningar/personnummer-och-samordningsnummer-del-1_gwb360/">SOU 2008:60 : Personnummer och samordningsnummer</a>, (2008)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Examples taken from SKV 704 (see references)
ex_pin &lt;- c("196408233234", "186408233224")
pin_sex(ex_pin)

</code></pre>

<hr>
<h2 id='pin_to_date'>Deprecated functions in package <span class="pkg">sweidnumbr</span>.</h2><span id='topic+pin_to_date'></span><span id='topic+sweidnumbr-deprecated'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and will be defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned. Help pages for deprecated functions are
available at <code>help("-deprecated")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_to_date(pin)
</code></pre>


<h3><code>pin_to_date</code></h3>

<p>For <code>pin_to_date</code>, use <code><a href="#topic+pin_date">pin_date</a></code>.
</p>

<hr>
<h2 id='pin_to_date-deprecated'>Calculate the date of birth from a <code>pin</code></h2><span id='topic+pin_to_date-deprecated'></span>

<h3>Description</h3>

<p>Calculates the date of birth in date format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pin_to_date(pin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin_to_date-deprecated_+3A_pin">pin</code></td>
<td>
<p>Swedish ID number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Date of birth as a vector in date format.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sweidnumbr-deprecated">sweidnumbr-deprecated</a></code>
</p>

<hr>
<h2 id='roin'>Generate a vector of random <code>oin</code></h2><span id='topic+roin'></span>

<h3>Description</h3>

<p>A function that generates random <code>oin</code>s (see <code><a href="#topic+as.pin">as.pin</a></code>).
The generated <code>oin</code> is uniformely distributed over all possible <code>oin</code>s.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roin(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="roin_+3A_n">n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is taken to be the number required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of generated <code>oin</code>s.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- roin(3)
oin_ctrl(x)
oin_group(x)

</code></pre>

<hr>
<h2 id='rpin'>Generate a vector of random <code>pin</code></h2><span id='topic+rpin'></span>

<h3>Description</h3>

<p>A function that generates random <code>pin</code>s (see <code><a href="#topic+as.pin">as.pin</a></code>). 
The generated <code>pin</code> is uniformely distributed over the time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpin(
  n,
  start_date = "1900-01-01",
  end_date = Sys.Date(),
  p.male = 0.5,
  p.coordn = 0.1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rpin_+3A_n">n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is taken to be the number required.</p>
</td></tr>
<tr><td><code id="rpin_+3A_start_date">start_date</code></td>
<td>
<p>Smallest possible <code>pin</code>. Default is 1900-01-01.</p>
</td></tr>
<tr><td><code id="rpin_+3A_end_date">end_date</code></td>
<td>
<p>Largest possible <code>pin</code>. Default is the current date.</p>
</td></tr>
<tr><td><code id="rpin_+3A_p.male">p.male</code></td>
<td>
<p>Proportion of males. Default is 0.5.</p>
</td></tr>
<tr><td><code id="rpin_+3A_p.coordn">p.coordn</code></td>
<td>
<p>Proportion of coordination numbers. Default is 0.1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of generated <code>pin</code>s.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rpin(3)
pin_ctrl(x)
pin_sex(x)
pin_age(x)

</code></pre>

<hr>
<h2 id='sweidnumbr'>sweidnumbr</h2><span id='topic+sweidnumbr'></span>

<h3>Description</h3>

<p>Handling of swedish identity numbers. 
For a quick tutorial see <code>vignette("sweidnumbr")</code>. 
For more information see <a href="https://github.com/rOpenGov/sweidnumbr">https://github.com/rOpenGov/sweidnumbr</a>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

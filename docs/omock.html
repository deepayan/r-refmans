<!DOCTYPE html><html lang="en"><head><title>Help for package omock</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {omock}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#omock-package'><p>omock: Creation of Mock Observational Medical Outcomes Partnership Common Data Model</p></a></li>
<li><a href='#mockCdmFromTables'><p>Generates a mock CDM (Common Data Model) object based on existing CDM structures and additional tables.</p></a></li>
<li><a href='#mockCdmReference'><p>Creates an empty CDM (Common Data Model) reference for a mock database.</p></a></li>
<li><a href='#mockCohort'><p>Generate Synthetic Cohort</p></a></li>
<li><a href='#mockConcepts'><p>Adds mock concept data to a concept table within a Common Data Model (CDM) object.</p></a></li>
<li><a href='#mockConditionOccurrence'><p>Generates a mock condition occurrence table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockDeath'><p>Generates a mock death table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockDrugExposure'><p>Generates a mock drug exposure table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockMeasurement'><p>Generates a mock measurement table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockObservation'><p>Generates a mock observation table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockObservationPeriod'><p>Generates a mock observation period table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockPerson'><p>Generates a mock person table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockProcedureOccurrence'><p>Generates a mock procedure occurrence table and integrates it into an existing CDM object.</p></a></li>
<li><a href='#mockVisitOccurrence'><p>Function to generate visit occurrence table</p></a></li>
<li><a href='#mockVocabularyTables'><p>Creates a mock CDM database populated with various vocabulary tables.</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Creation of Mock Observational Medical Outcomes Partnership
Common Data Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mike Du &lt;mike.du@ndorms.ox.ac.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Creates mock data for testing and package development for the
    Observational Medical Outcomes Partnership common data model. The
    package offers functions crafted with pipeline-friendly
    implementation, enabling users to effortlessly include only the
    necessary tables for their testing needs.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ohdsi.github.io/omock/">https://ohdsi.github.io/omock/</a>, <a href="https://github.com/ohdsi/omock">https://github.com/ohdsi/omock</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, lubridate, methods, omopgenerics (&ge; 0.3.0),
purrr, rlang, snakecase, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ohdsi/omock/issues">https://github.com/ohdsi/omock/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-23 07:14:23 UTC; miked</td>
</tr>
<tr>
<td>Author:</td>
<td>Mike Du <a href="https://orcid.org/0000-0002-9517-8834"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Marti Catala <a href="https://orcid.org/0000-0003-3308-9905"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Edward Burn <a href="https://orcid.org/0000-0002-9286-1128"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Nuria Mercade-Besora
    <a href="https://orcid.org/0009-0006-7948-3747"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Xihang Chen <a href="https://orcid.org/0009-0001-8112-8959"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-23 08:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='omock-package'>omock: Creation of Mock Observational Medical Outcomes Partnership Common Data Model</h2><span id='topic+omock'></span><span id='topic+omock-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Creates mock data for testing and package development for the Observational Medical Outcomes Partnership common data model. The package offers functions crafted with pipeline-friendly implementation, enabling users to effortlessly include only the necessary tables for their testing needs.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mike Du <a href="mailto:mike.du@ndorms.ox.ac.uk">mike.du@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9517-8834">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Marti Catala <a href="mailto:marti.catalasabate@ndorms.ox.ac.uk">marti.catalasabate@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-3308-9905">ORCID</a>)
</p>
</li>
<li><p> Edward Burn <a href="mailto:edward.burn@ndorms.ox.ac.uk">edward.burn@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9286-1128">ORCID</a>)
</p>
</li>
<li><p> Nuria Mercade-Besora <a href="mailto:nuria.mercadebesora@ndorms.ox.ac.uk">nuria.mercadebesora@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0009-0006-7948-3747">ORCID</a>)
</p>
</li>
<li><p> Xihang Chen <a href="mailto:xihang.chen@ndorms.ox.ac.uk">xihang.chen@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0009-0001-8112-8959">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ohdsi.github.io/omock/">https://ohdsi.github.io/omock/</a>
</p>
</li>
<li> <p><a href="https://github.com/ohdsi/omock">https://github.com/ohdsi/omock</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ohdsi/omock/issues">https://github.com/ohdsi/omock/issues</a>
</p>
</li></ul>


<hr>
<h2 id='mockCdmFromTables'>Generates a mock CDM (Common Data Model) object based on existing CDM structures and additional tables.</h2><span id='topic+mockCdmFromTables'></span>

<h3>Description</h3>

<p>This function takes an existing CDM reference (which can be empty) and a list of additional named tables to create
a more complete mock CDM object. It ensures that all provided observations fit within their respective observation
periods and that all individual records are consistent with the entries in the person table. This is useful for
creating reliable and realistic healthcare data simulations for development and testing within the OMOP CDM framework.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockCdmFromTables(cdm = mockCdmReference(), tables = list(), seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockCdmFromTables_+3A_cdm">cdm</code></td>
<td>
<p>A 'cdm_reference' object, which serves as the base structure where all additional tables will be integrated.
This parameter should already be initialized and can contain pre-existing standard or cohort-specific OMOP tables.</p>
</td></tr>
<tr><td><code id="mockCdmFromTables_+3A_tables">tables</code></td>
<td>
<p>A named list of data frames representing additional tables to be integrated into the CDM.
These tables can include both standard OMOP tables such as 'drug_exposure' or 'condition_occurrence',
as well as cohort-specific tables that are not part of the standard OMOP model but are necessary for specific analyses.
Each table should be named according to its intended table name in the CDM structure.</p>
</td></tr>
<tr><td><code id="mockCdmFromTables_+3A_seed">seed</code></td>
<td>
<p>An optional integer that sets the seed for random number generation used in creating mock data entries.
Setting a seed ensures that the generated mock data are reproducible across different runs of the function.
If 'NULL', the seed is not set, leading to non-deterministic behavior in data generation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the updated 'cdm' object with all the new tables added and integrated, ensuring consistency
across the observational periods and the person entries.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(omock)
library(dplyr)

# Create a mock cohort table
cohort &lt;- tibble(
  cohort_definition_id = c(1, 1, 2, 2, 1, 3, 3, 3, 1, 3),
  subject_id = c(1, 4, 2, 3, 5, 5, 4, 3, 3, 1),
  cohort_start_date = as.Date(c(
    "2020-04-01", "2021-06-01", "2022-05-22", "2010-01-01", "2019-08-01",
    "2019-04-07", "2021-01-01", "2008-02-02", "2009-09-09", "2021-01-01"
  )),
  cohort_end_date = cohort_start_date
)

# Generate a mock CDM from preexisting CDM structure and cohort table
cdm &lt;- mockCdmFromTables(cdm = mockCdmReference(), tables = list(cohort = cohort))

# Access the newly integrated cohort table and the standard person table in the CDM
print(cdm$cohort)
print(cdm$person)

</code></pre>

<hr>
<h2 id='mockCdmReference'>Creates an empty CDM (Common Data Model) reference for a mock database.</h2><span id='topic+mockCdmReference'></span>

<h3>Description</h3>

<p>This function initializes an empty CDM reference with a specified name and
populates it with mock vocabulary tables based on the provided vocabulary
set. It is particularly useful for setting up a simulated environment for
testing and development purposes within the OMOP CDM framework.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockCdmReference(cdmName = "mock database", vocabularySet = "mock")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockCdmReference_+3A_cdmname">cdmName</code></td>
<td>
<p>A character string specifying the name of the CDM object to
be created.This name can be used to identify the CDM object
within a larger simulation or testing framework. Default is
&quot;mock database&quot;.</p>
</td></tr>
<tr><td><code id="mockCdmReference_+3A_vocabularyset">vocabularySet</code></td>
<td>
<p>A character string that specifies the name of the
vocabulary set to be used in creating the vocabulary
tables for the CDM. This allows for the customization
of the vocabulary to match specific testing scenarios.
Default is &quot;mock&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a CDM object that is initially empty but includes mock
vocabulary tables.The object structure is compliant with OMOP CDM
standards, making it suitable for further population with mock data
like person, visit, and observation records.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)

# Create a new empty mock CDM reference
cdm &lt;- mockCdmReference()

# Display the structure of the newly created CDM
print(cdm)

</code></pre>

<hr>
<h2 id='mockCohort'>Generate Synthetic Cohort</h2><span id='topic+mockCohort'></span>

<h3>Description</h3>

<p>This function generates synthetic cohort data and adds it to a given CDM
(Common Data Model) reference. It allows for creating multiple cohorts with
specified properties and simulates the frequency of observations for
individuals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockCohort(
  cdm,
  name = "cohort",
  numberCohorts = 1,
  cohortName = paste0("cohort_", seq_len(numberCohorts)),
  recordPerson = 1,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockCohort_+3A_cdm">cdm</code></td>
<td>
<p>A CDM reference object where the synthetic cohort data will be
stored. This object should already include necessary tables such as 'person'
and 'observation_period'.</p>
</td></tr>
<tr><td><code id="mockCohort_+3A_name">name</code></td>
<td>
<p>A string specifying the name of the table within the CDM where
the cohort data will be stored. Defaults to &quot;cohort&quot;. This name will be used
to reference the new table in the CDM.</p>
</td></tr>
<tr><td><code id="mockCohort_+3A_numbercohorts">numberCohorts</code></td>
<td>
<p>An integer specifying the number of different cohorts
to create within the table. Defaults to 1. This parameter allows for the
creation of multiple cohorts, each with a unique identifier.</p>
</td></tr>
<tr><td><code id="mockCohort_+3A_cohortname">cohortName</code></td>
<td>
<p>A character vector specifying the names of the cohorts to
be created. If not provided, default names based on a sequence
(e.g., &quot;cohort_1&quot;, &quot;cohort_2&quot;, ...) will be generated. The length of this
vector must match the value of 'numberCohorts'. This parameter provides
meaningful names for each cohort.</p>
</td></tr>
<tr><td><code id="mockCohort_+3A_recordperson">recordPerson</code></td>
<td>
<p>An integer or a vector of integers specifying the
expected number of records per person within each cohort. If a single
integer is provided, it applies to all cohorts. If a vector is provided, its
length must match the value of 'numberCohorts'. This parameter helps
simulate the frequency of observations for individuals in each cohort,
allowing for realistic variability in data.</p>
</td></tr>
<tr><td><code id="mockCohort_+3A_seed">seed</code></td>
<td>
<p>An integer specifying the random seed for reproducibility of the
generated data. Setting a seed ensures that the same synthetic data can be
generated again, facilitating consistent results across different runs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A CDM reference object with the mock cohort tables added. The new
table will contain synthetic data representing the specified cohorts, each
with its own set of observation records.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)
cdm &lt;- mockCdmReference() |&gt;
  mockPerson(nPerson = 100) |&gt;
  mockObservationPeriod() |&gt;
  mockCohort(
    name = "omock_example",
    numberCohorts = 2,
    cohortName = c("omock_cohort_1", "omock_cohort_2")
  )

cdm
</code></pre>

<hr>
<h2 id='mockConcepts'>Adds mock concept data to a concept table within a Common Data Model (CDM) object.</h2><span id='topic+mockConcepts'></span>

<h3>Description</h3>

<p>This function inserts new concept entries into a specified domain within
the concept table of a CDM object.It supports four domains: Condition, Drug,
Measurement, and Observation. Existing entries with the same concept IDs
will be overwritten, so caution should be used when adding data to prevent
unintended data loss.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockConcepts(cdm, conceptSet, domain = "Condition", seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockConcepts_+3A_cdm">cdm</code></td>
<td>
<p>A CDM object that represents a common data model containing at
least a concept table.This object will be modified in-place to
include the new or updated concept entries.</p>
</td></tr>
<tr><td><code id="mockConcepts_+3A_conceptset">conceptSet</code></td>
<td>
<p>A numeric vector of concept IDs to be added or updated in
the concept table.These IDs should be unique within the
context of the provided domain to avoid unintended
overwriting unless that is the intended effect.</p>
</td></tr>
<tr><td><code id="mockConcepts_+3A_domain">domain</code></td>
<td>
<p>A character string specifying the domain of the concepts being
added.Only accepts &quot;Condition&quot;, &quot;Drug&quot;, &quot;Measurement&quot;, or
&quot;Observation&quot;. This defines under which category the concepts
fall and affects which vocabulary is used for them.</p>
</td></tr>
<tr><td><code id="mockConcepts_+3A_seed">seed</code></td>
<td>
<p>An optional integer value used to set the random seed for
generating reproducible concept attributes like 'vocabulary_id'
and 'concept_class_id'. Useful for testing or when consistent
output is required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified CDM object with the updated concept table
reflecting the newly added concepts.The function directly modifies
the provided CDM object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)
library(dplyr)

# Create a mock CDM reference and add concepts in the 'Condition' domain
cdm &lt;- mockCdmReference() |&gt; mockConcepts(
conceptSet = c(100, 200), domain = "Condition")

# View the updated concept entries for the 'Condition' domain
cdm$concept |&gt; filter(domain_id == "Condition")

</code></pre>

<hr>
<h2 id='mockConditionOccurrence'>Generates a mock condition occurrence table and integrates it into an existing CDM object.</h2><span id='topic+mockConditionOccurrence'></span>

<h3>Description</h3>

<p>This function simulates condition occurrences for individuals within a
specified cohort. It helps create a realistic dataset by generating
condition records for each person, based on the number of records specified
per person.The generated data are aligned with the existing observation
periods to ensure that all conditions are recorded within valid observation
windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockConditionOccurrence(cdm, recordPerson = 1, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockConditionOccurrence_+3A_cdm">cdm</code></td>
<td>
<p>A &lsquo;cdm_reference' object that should already include &rsquo;person',
'observation_period', and 'concept' tables.This object is the base
CDM structure where the condition occurrence data will be added.
It is essential that these tables are not empty as they provide
the necessary context for generating condition data.</p>
</td></tr>
<tr><td><code id="mockConditionOccurrence_+3A_recordperson">recordPerson</code></td>
<td>
<p>An integer specifying the expected number of condition
records to generate per person.This parameter allows
the simulation of varying frequencies of condition
occurrences among individuals in the cohort,
reflecting the variability seen in real-world medical
data.</p>
</td></tr>
<tr><td><code id="mockConditionOccurrence_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number
generation, ensuring reproducibility of the generated data.If
provided, it allows the function to produce the same results
each time it is run with the same inputs.If 'NULL', the seed is
not set, resulting in different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified 'cdm' object with the new
'condition_occurrence' table added. This table includes the
simulated condition data for each person, ensuring that each
record is within the valid observation periods and linked to the
correct individuals in the 'person' table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(omock)

# Create a mock CDM reference and add condition occurrences
cdm &lt;- mockCdmReference() |&gt;
  mockPerson() |&gt;
  mockObservationPeriod() |&gt;
  mockConditionOccurrence(recordPerson = 2)

# View the generated condition occurrence data
print(cdm$condition_occurrence)

</code></pre>

<hr>
<h2 id='mockDeath'>Generates a mock death table and integrates it into an existing CDM object.</h2><span id='topic+mockDeath'></span>

<h3>Description</h3>

<p>This function simulates death records for individuals within a specified
cohort. It creates a realistic dataset by generating death records according
to the specified number of records per person. The function ensures that each
death record is associated with a valid person within the observation period
to maintain the integrity of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockDeath(cdm, recordPerson = 1, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockDeath_+3A_cdm">cdm</code></td>
<td>
<p>A &lsquo;cdm_reference' object that must already include &rsquo;person' and
'observation_period' tables.This object is the base CDM structure
where the death data will be added. It is essential that the
'person' and 'observation_period' tables are populated as they
provide necessary context for generating death records.</p>
</td></tr>
<tr><td><code id="mockDeath_+3A_recordperson">recordPerson</code></td>
<td>
<p>An integer specifying the expected number of death
records to generate per person. This parameter helps
simulate varying frequencies of death occurrences among
individuals in the cohort, reflecting the variability
seen in real-world medical data. Typically, this would
be set to 1 or 0, assuming most datasets would only
record a single death date per individual if at all.</p>
</td></tr>
<tr><td><code id="mockDeath_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number
generation, ensuring reproducibility of the generated data. If
provided, it allows the function to produce the same results
each time it is run with the same inputs. If 'NULL', the seed is
not set, which can result in different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified &lsquo;cdm' object with the new &rsquo;death' table added.
This table includes the simulated death data for each person,
ensuring that each record is linked correctly to individuals in the '
person' table and falls within valid observation periods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(omock)

# Create a mock CDM reference and add death records
cdm &lt;- mockCdmReference() |&gt;
  mockPerson() |&gt;
  mockObservationPeriod() |&gt;
  mockDeath(recordPerson = 1)

# View the generated death data
print(cdm$death)

</code></pre>

<hr>
<h2 id='mockDrugExposure'>Generates a mock drug exposure table and integrates it into an existing CDM object.</h2><span id='topic+mockDrugExposure'></span>

<h3>Description</h3>

<p>This function simulates drug exposure records for individuals within a specified cohort. It creates a realistic dataset by generating drug exposure records based on the specified number of records per person. Each drug exposure record is correctly associated with an individual within valid observation periods, ensuring the integrity of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockDrugExposure(cdm, recordPerson = 1, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockDrugExposure_+3A_cdm">cdm</code></td>
<td>
<p>A &lsquo;cdm_reference' object that must already include &rsquo;person' and 'observation_period' tables.
This object serves as the base CDM structure where the drug exposure data will be added.
The 'person' and 'observation_period' tables must be populated as they are necessary for generating accurate drug exposure records.</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_recordperson">recordPerson</code></td>
<td>
<p>An integer specifying the expected number of drug exposure records to generate per person.
This parameter allows for the simulation of varying drug usage frequencies among individuals in the cohort,
reflecting real-world variability in medication administration.</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number generation, ensuring reproducibility of the generated data.
If provided, this seed enables the function to produce consistent results each time it is run with the same inputs.
If 'NULL', the seed is not set, which can lead to different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified &lsquo;cdm' object with the new &rsquo;drug_exposure' table added. This table includes the simulated
drug exposure data for each person, ensuring that each record is correctly linked to individuals in the 'person' table
and falls within valid observation periods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)

# Create a mock CDM reference and add drug exposure records
cdm &lt;- mockCdmReference() |&gt;
  mockPerson() |&gt;
  mockObservationPeriod() |&gt;
  mockDrugExposure(recordPerson = 3)

# View the generated drug exposure data
print(cdm$drug_exposure)
</code></pre>

<hr>
<h2 id='mockMeasurement'>Generates a mock measurement table and integrates it into an existing CDM object.</h2><span id='topic+mockMeasurement'></span>

<h3>Description</h3>

<p>This function simulates measurement records for individuals within a specified cohort. It creates a realistic dataset by generating measurement records based on the specified number of records per person. Each measurement record is correctly associated with an individual within valid observation periods, ensuring the integrity of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockMeasurement(cdm, recordPerson = 1, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockMeasurement_+3A_cdm">cdm</code></td>
<td>
<p>A &lsquo;cdm_reference' object that must already include &rsquo;person' and 'observation_period' tables.
This object serves as the base CDM structure where the measurement data will be added.
The 'person' and 'observation_period' tables must be populated as they are necessary for generating accurate measurement records.</p>
</td></tr>
<tr><td><code id="mockMeasurement_+3A_recordperson">recordPerson</code></td>
<td>
<p>An integer specifying the expected number of measurement records to generate per person.
This parameter allows for the simulation of varying frequencies of health measurements among individuals in the cohort,
reflecting real-world variability in patient monitoring and diagnostic testing.</p>
</td></tr>
<tr><td><code id="mockMeasurement_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number generation, ensuring reproducibility of the generated data.
If provided, this seed enables the function to produce consistent results each time it is run with the same inputs.
If 'NULL', the seed is not set, which can lead to different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified &lsquo;cdm' object with the new &rsquo;measurement' table added. This table includes the simulated
measurement data for each person, ensuring that each record is correctly linked to individuals in the 'person' table
and falls within valid observation periods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)

# Create a mock CDM reference and add measurement records
cdm &lt;- mockCdmReference() |&gt;
  mockPerson() |&gt;
  mockObservationPeriod() |&gt;
  mockMeasurement(recordPerson = 5)

# View the generated measurement data
print(cdm$measurement)
</code></pre>

<hr>
<h2 id='mockObservation'>Generates a mock observation table and integrates it into an existing CDM object.</h2><span id='topic+mockObservation'></span>

<h3>Description</h3>

<p>This function simulates observation records for individuals within a specified cohort. It creates a realistic dataset by generating observation records based on the specified number of records per person. Each observation record is correctly associated with an individual within valid observation periods, ensuring the integrity of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockObservation(cdm, recordPerson = 1, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockObservation_+3A_cdm">cdm</code></td>
<td>
<p>A &lsquo;cdm_reference' object that must already include &rsquo;person', 'observation_period', and 'concept' tables.
This object serves as the base CDM structure where the observation data will be added.
The 'person' and 'observation_period' tables must be populated as they are necessary for generating accurate observation records.</p>
</td></tr>
<tr><td><code id="mockObservation_+3A_recordperson">recordPerson</code></td>
<td>
<p>An integer specifying the expected number of observation records to generate per person.
This parameter allows for the simulation of varying frequencies of healthcare observations among individuals in the cohort,
reflecting real-world variability in patient monitoring and health assessments.</p>
</td></tr>
<tr><td><code id="mockObservation_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number generation, ensuring reproducibility of the generated data.
If provided, this seed enables the function to produce consistent results each time it is run with the same inputs.
If 'NULL', the seed is not set, which can lead to different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified &lsquo;cdm' object with the new &rsquo;observation' table added. This table includes the simulated
observation data for each person, ensuring that each record is correctly linked to individuals in the 'person' table
and falls within valid observation periods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)

# Create a mock CDM reference and add observation records
cdm &lt;- mockCdmReference() |&gt;
  mockPerson() |&gt;
  mockObservationPeriod() |&gt;
  mockObservation(recordPerson = 3)

# View the generated observation data
print(cdm$observation)
</code></pre>

<hr>
<h2 id='mockObservationPeriod'>Generates a mock observation period table and integrates it into an existing CDM object.</h2><span id='topic+mockObservationPeriod'></span>

<h3>Description</h3>

<p>This function simulates observation periods for individuals based on their date of birth recorded in the 'person' table of the CDM object. It assigns random start and end dates for each observation period within a realistic timeframe up to a specified or default maximum date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockObservationPeriod(cdm, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockObservationPeriod_+3A_cdm">cdm</code></td>
<td>
<p>A &lsquo;cdm_reference' object that must include a &rsquo;person' table with valid dates of birth.
This object serves as the base CDM structure where the observation period data will be added.
The function checks to ensure that the 'person' table is populated and uses the date of birth to generate observation periods.</p>
</td></tr>
<tr><td><code id="mockObservationPeriod_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number generation, ensuring reproducibility of the generated data.
If provided, this seed allows the function to produce consistent results each time it is run with the same inputs.
If 'NULL', the seed is not set, which can lead to different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified &lsquo;cdm' object with the new &rsquo;observation_period' table added. This table includes the simulated
observation periods for each person, ensuring that each record spans a realistic timeframe based on the person's date of birth.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)

# Create a mock CDM reference and add observation periods
cdm &lt;- mockCdmReference() |&gt;
  mockPerson(nPerson = 100) |&gt;
  mockObservationPeriod()

# View the generated observation period data
print(cdm$observation_period)
</code></pre>

<hr>
<h2 id='mockPerson'>Generates a mock person table and integrates it into an existing CDM object.</h2><span id='topic+mockPerson'></span>

<h3>Description</h3>

<p>This function creates a mock person table with specified characteristics for each individual,
including a randomly assigned date of birth within a given range and gender based on specified
proportions. It populates the CDM object's person table with these entries, ensuring each record
is uniquely identified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockPerson(
  cdm = mockCdmReference(),
  nPerson = 10,
  birthRange = as.Date(c("1950-01-01", "2000-12-31")),
  proportionFemale = 0.5,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockPerson_+3A_cdm">cdm</code></td>
<td>
<p>A 'cdm_reference' object that serves as the base structure for adding the person table.
This parameter should be an existing or newly created CDM object that does not yet
contain a 'person' table.</p>
</td></tr>
<tr><td><code id="mockPerson_+3A_nperson">nPerson</code></td>
<td>
<p>An integer specifying the number of mock persons to create in the person table.
This defines the scale of the simulation and allows for the creation of datasets
with varying sizes.</p>
</td></tr>
<tr><td><code id="mockPerson_+3A_birthrange">birthRange</code></td>
<td>
<p>A date range within which the birthdays of the mock persons will be randomly generated.
This should be provided as a vector of two dates ('as.Date' format), specifying
the start and end of the range.</p>
</td></tr>
<tr><td><code id="mockPerson_+3A_proportionfemale">proportionFemale</code></td>
<td>
<p>A numeric value between 0 and 1 indicating the proportion of the persons
who are female. For example, a value of 0.5 means approximately 50
the generated persons will be female. This helps simulate realistic demographic distributions.</p>
</td></tr>
<tr><td><code id="mockPerson_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number generation, ensuring
reproducibility of the generated data. If provided, this seed allows the function
to produce consistent results each time it is run with the same inputs. If 'NULL',
the seed is not set, which can lead to different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified &lsquo;cdm' object with the new &rsquo;person' table added. This table includes simulated
person data for each generated individual, with unique identifiers and demographic attributes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(omock)
cdm &lt;- mockPerson(cdm = mockCdmReference(), nPerson = 10)

# View the generated person data
print(cdm$person)


</code></pre>

<hr>
<h2 id='mockProcedureOccurrence'>Generates a mock procedure occurrence table and integrates it into an existing CDM object.</h2><span id='topic+mockProcedureOccurrence'></span>

<h3>Description</h3>

<p>This function simulates condition occurrences for individuals within a
specified cohort. It helps create a realistic dataset by generating
condition records for each person, based on the number of records specified
per person.The generated data are aligned with the existing observation
periods to ensure that all conditions are recorded within valid observation
windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockProcedureOccurrence(cdm, recordPerson = 1, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockProcedureOccurrence_+3A_cdm">cdm</code></td>
<td>
<p>A &lsquo;cdm_reference' object that should already include &rsquo;person',
'observation_period', and 'concept' tables.This object is the base
CDM structure where the procedure occurrence data will be added.
It is essential that these tables are not empty as they provide
the necessary context for generating condition data.</p>
</td></tr>
<tr><td><code id="mockProcedureOccurrence_+3A_recordperson">recordPerson</code></td>
<td>
<p>An integer specifying the expected number of condition
records to generate per person.This parameter allows
the simulation of varying frequencies of condition
occurrences among individuals in the cohort,
reflecting the variability seen in real-world medical
data.</p>
</td></tr>
<tr><td><code id="mockProcedureOccurrence_+3A_seed">seed</code></td>
<td>
<p>An optional integer used to set the seed for random number
generation, ensuring reproducibility of the generated data.If
provided, it allows the function to produce the same results
each time it is run with the same inputs.If 'NULL', the seed is
not set, resulting in different outputs on each run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified 'cdm' object with the new
'condition_occurrence' table added. This table includes the
simulated condition data for each person, ensuring that each
record is within the valid observation periods and linked to the
correct individuals in the 'person' table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(omock)

# Create a mock CDM reference and add condition occurrences
cdm &lt;- mockCdmReference() |&gt;
  mockPerson() |&gt;
  mockObservationPeriod() |&gt;
  mockProcedureOccurrence(recordPerson = 2)

# View the generated condition occurrence data
print(cdm$procedure_occurrence)

</code></pre>

<hr>
<h2 id='mockVisitOccurrence'>Function to generate visit occurrence table</h2><span id='topic+mockVisitOccurrence'></span>

<h3>Description</h3>

<p>Function to generate visit occurrence table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockVisitOccurrence(cdm, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockVisitOccurrence_+3A_cdm">cdm</code></td>
<td>
<p>the CDM reference into which the  mock visit occurrence table will be added</p>
</td></tr>
<tr><td><code id="mockVisitOccurrence_+3A_seed">seed</code></td>
<td>
<p>A random seed to ensure reproducibility of the generated data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A cdm reference with the visit_occurrence tables added
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)

</code></pre>

<hr>
<h2 id='mockVocabularyTables'>Creates a mock CDM database populated with various vocabulary tables.</h2><span id='topic+mockVocabularyTables'></span>

<h3>Description</h3>

<p>This function adds specified vocabulary tables to a CDM object. It can either populate the tables with provided data frames or initialize empty tables if no data is provided. This is useful for setting up a testing environment with controlled vocabulary data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockVocabularyTables(
  cdm = mockCdmReference(),
  vocabularySet = "mock",
  cdmSource = NULL,
  concept = NULL,
  vocabulary = NULL,
  conceptRelationship = NULL,
  conceptSynonym = NULL,
  conceptAncestor = NULL,
  drugStrength = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mockVocabularyTables_+3A_cdm">cdm</code></td>
<td>
<p>A 'cdm_reference' object that serves as the base structure for adding vocabulary tables.
This should be an existing or a newly created CDM object, typically initialized without any vocabulary tables.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_vocabularyset">vocabularySet</code></td>
<td>
<p>A character string that specifies a prefix or a set name used to initialize mock data tables.
This allows for customization of the source data or structure names when generating vocabulary tables.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_cdmsource">cdmSource</code></td>
<td>
<p>An optional data frame representing the CDM source table.
If provided, it will be used directly; otherwise, a mock table will be generated based on the 'vocabularySet' prefix.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_concept">concept</code></td>
<td>
<p>An optional data frame representing the concept table.
If provided, it will be used directly; if NULL, a mock table will be generated.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_vocabulary">vocabulary</code></td>
<td>
<p>An optional data frame representing the vocabulary table.
If provided, it will be used directly; if NULL, a mock table will be generated.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_conceptrelationship">conceptRelationship</code></td>
<td>
<p>An optional data frame representing the concept relationship table.
If provided, it will be used directly; if NULL, a mock table will be generated.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_conceptsynonym">conceptSynonym</code></td>
<td>
<p>An optional data frame representing the concept synonym table.
If provided, it will be used directly; if NULL, a mock table will be generated.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_conceptancestor">conceptAncestor</code></td>
<td>
<p>An optional data frame representing the concept ancestor table.
If provided, it will be used directly; if NULL, a mock table will be generated.</p>
</td></tr>
<tr><td><code id="mockVocabularyTables_+3A_drugstrength">drugStrength</code></td>
<td>
<p>An optional data frame representing the drug strength table.
If provided, it will be used directly; if NULL, a mock table will be generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the modified 'cdm' object with the new or provided vocabulary tables added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(omock)

# Create a mock CDM reference and populate it with mock vocabulary tables
cdm &lt;- mockCdmReference() |&gt; mockVocabularyTables(vocabularySet = "mock")

# View the names of the tables added to the CDM
names(cdm)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+emptyCdmReference'></span><span id='topic+settings'></span><span id='topic+attrition'></span><span id='topic+cohortCount'></span><span id='topic+bind'></span><span id='topic+cdmName'></span><span id='topic+cdmVersion'></span><span id='topic+cdmSource'></span><span id='topic+dropTable'></span><span id='topic+insertTable'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>omopgenerics</dt><dd><p><code><a href="omopgenerics.html#topic+attrition">attrition</a></code>, <code><a href="omopgenerics.html#topic+bind">bind</a></code>, <code><a href="omopgenerics.html#topic+cdmName">cdmName</a></code>, <code><a href="omopgenerics.html#topic+cdmSource">cdmSource</a></code>, <code><a href="omopgenerics.html#topic+cdmVersion">cdmVersion</a></code>, <code><a href="omopgenerics.html#topic+cohortCount">cohortCount</a></code>, <code><a href="omopgenerics.html#topic+dropTable">dropTable</a></code>, <code><a href="omopgenerics.html#topic+emptyCdmReference">emptyCdmReference</a></code>, <code><a href="omopgenerics.html#topic+insertTable">insertTable</a></code>, <code><a href="omopgenerics.html#topic+settings">settings</a></code></p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

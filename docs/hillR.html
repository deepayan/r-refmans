<!DOCTYPE html><html><head><title>Help for package hillR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hillR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#hillR'><p>hillR: Diversity Through Hill Numbers</p></a></li>
<li><a href='#hill_func'><p>Functional diversity through Hill Numbers</p></a></li>
<li><a href='#hill_func_parti'><p>Decompostion of functional diversity through Hill Numbers</p></a></li>
<li><a href='#hill_func_parti_pairwise'><p>Pairwise comparisons for all sites.</p></a></li>
<li><a href='#hill_phylo'><p>Phylogenetic diversity through Hill Numbers</p></a></li>
<li><a href='#hill_phylo_parti'><p>Phylogenetic diversity of multiple sites</p></a></li>
<li><a href='#hill_phylo_parti_pairwise'><p>Pairwise phylogenetic diversity through Hill numbers</p></a></li>
<li><a href='#hill_taxa'><p>Taxonomic diversity through Hill Numbers</p></a></li>
<li><a href='#hill_taxa_parti'><p>Decompostion of Taxonomic diversity through Hill Numbers</p></a></li>
<li><a href='#hill_taxa_parti_pairwise'><p>Pairwise comparisons for all sites</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Diversity Through Hill Numbers</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-19</td>
</tr>
<tr>
<td>Author:</td>
<td>Daijiang Li</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daijiang Li &lt;daijianglee@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate taxonomic, functional and phylogenetic diversity measures 
    through Hill Numbers proposed by Chao, Chiu and Jost (2014) 
    &lt;<a href="https://doi.org/10.1146%2Fannurev-ecolsys-120213-091540">doi:10.1146/annurev-ecolsys-120213-091540</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>FD, plyr, ade4, ape, tibble, geiger</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr, betapart</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/daijiang/hillR">https://github.com/daijiang/hillR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/daijiang/hillR/issues">https://github.com/daijiang/hillR/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-19 22:40:32 UTC; dli</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-19 23:02:32 UTC</td>
</tr>
</table>
<hr>
<h2 id='hillR'>hillR: Diversity Through Hill Numbers</h2><span id='topic+hillR'></span><span id='topic+hillR-package'></span>

<h3>Description</h3>

<p>The R package 'hillR' implements the framework proposed by Chao, et al. 2014 and makes it easy to calculate taxonomic, functional, and phylogenetic diversity of ecological communities as Hill numbers. For each facet of diversity, 'hillR' has three functions. The first set of functions (<code>hill_taxa</code>, <code>hill_func</code>, and <code>hill_phylo</code>) calculates alpha diversity of each site. The second set of functions (<code>hill_taxa_parti</code>, <code>hill_func_parti</code>, and <code>hill_phylo_parti</code>) calculates diversity across all sites. The third set of functions (<code>hill_taxa_parti_pairwise</code>, <code>hill_func_parti_pairwise</code>, and <code>hill_phylo_parti_pairwise</code>) calculates all possible pairwise diversity across all sites. Users can set the argument _q_ to control the weight of species abundance.
</p>


<h3>Details</h3>

<p>Users may be interested in other similar packages such as <a href="https://CRAN.R-project.org/package=vegetarian">vegetarian</a> and <a href="https://CRAN.R-project.org/package=iNEXT">iNEXT</a>.
</p>


<h3>Taxonomic Hill Numbers</h3>

<p><code><a href="#topic+hill_taxa">hill_taxa</a></code>, <code><a href="#topic+hill_taxa_parti">hill_taxa_parti</a></code>, <code><a href="#topic+hill_taxa_parti_pairwise">hill_taxa_parti_pairwise</a></code>
</p>


<h3>Functional Hill Numbers</h3>

<p><code><a href="#topic+hill_func">hill_func</a></code>, <code><a href="#topic+hill_func_parti">hill_func_parti</a></code>, <code><a href="#topic+hill_func_parti_pairwise">hill_func_parti_pairwise</a></code>
</p>


<h3>Phylogenetic Hill Numbers</h3>

<p><code><a href="#topic+hill_phylo">hill_phylo</a></code>, <code><a href="#topic+hill_phylo_parti">hill_phylo_parti</a></code>, <code><a href="#topic+hill_phylo_parti_pairwise">hill_phylo_parti_pairwise</a></code>
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>

<hr>
<h2 id='hill_func'>Functional diversity through Hill Numbers</h2><span id='topic+hill_func'></span>

<h3>Description</h3>

<p>Calculate functional diversity for each site (alpha diversity).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_func(
  comm,
  traits,
  traits_as_is = FALSE,
  q = 0,
  base = exp(1),
  check_data = TRUE,
  div_by_sp = FALSE,
  ord = c("podani", "metric"),
  fdis = TRUE,
  stand_dij = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_func_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_func_+3A_traits">traits</code></td>
<td>
<p>A data frame of species functional traits data. Species as rows, traits as columns.
It can include both continuous and categorical data. It will be transformed into a distance
matrix using 'FD::gowdis(traits)'. If all traits are numeric, then it will use Euclidean distance.</p>
</td></tr>
<tr><td><code id="hill_func_+3A_traits_as_is">traits_as_is</code></td>
<td>
<p>if <code>FALSE</code> (default) traits data frame will be transformed into a distance
matrix. Otherwise, will use as is (i.e. traits is a symmetric distance matrix).</p>
</td></tr>
<tr><td><code id="hill_func_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_func_+3A_base">base</code></td>
<td>
<p>default is <code>exp(1)</code>, the base of log.</p>
</td></tr>
<tr><td><code id="hill_func_+3A_check_data">check_data</code></td>
<td>
<p>whether to check data first? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_func_+3A_div_by_sp">div_by_sp</code></td>
<td>
<p>as FD calculated in this way will be highly correlated with taxonomic diversity,
one potential simple way to correct this is to divide the results by the number of species.
However, a more common way to deal with correlations is to use null models and calculate standardized effect sizes.
Therefore, I set the default to be <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="hill_func_+3A_ord">ord</code></td>
<td>
<p>ord in <code>FD::gowdis</code>.</p>
</td></tr>
<tr><td><code id="hill_func_+3A_fdis">fdis</code></td>
<td>
<p>whether to calculate FDis, default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="hill_func_+3A_stand_dij">stand_dij</code></td>
<td>
<p>whether to standardize distance matrix to have max value of 1? Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix, with these information for each site: Q (Rao's Q); D_q (functional hill number,
the effective number of equally abundant and functionally equally distinct species);
MD_q (mean functional diversity per species, the effective sum of pairwise distances between
a fixed species and all other species); FD_q (total functional diversity, the effective total functional
distance between species of the assemblage). See Chiu and Chao 2014 page 4 for more information.
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>
<p>Chiu, Chun-Huo, and Anne Chao. Distance-Based Functional Diversity Measures and Their Decomposition: A Framework Based on Hill Numbers. PLoS ONE 9, no. 7 (July 7, 2014): e100014. &lt;doi:10.1371/journal.pone.0100014&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dummy = FD::dummy
hill_func(comm = dummy$abun, traits = dummy$trait, q = 0)
hill_func(comm = dummy$abun, traits = dummy$trait, q = 1)
hill_func(comm = dummy$abun, traits = dummy$trait, q = 0.9999)
hill_func(comm = dummy$abun, traits = dummy$trait, q = 2)
hill_func(comm = dummy$abun, traits = dummy$trait, q = 3)

</code></pre>

<hr>
<h2 id='hill_func_parti'>Decompostion of functional diversity through Hill Numbers</h2><span id='topic+hill_func_parti'></span>

<h3>Description</h3>

<p>Calculate functional gamma, alpha, and beta diversity for all communities, as
well as site similarity. These values are based on ALL communities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_func_parti(
  comm,
  traits,
  traits_as_is = FALSE,
  q = 0,
  base = exp(1),
  check_data = TRUE,
  rel_then_pool = TRUE,
  ord = c("podani", "metric"),
  stand_dij = FALSE,
  show_warning = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_func_parti_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_traits">traits</code></td>
<td>
<p>A data frame of species functional traits data. Species as rows, traits as columns.
It can include both continuous and categorical data. It will be transformed into a distance
matrix using 'FD::gowdis(traits)'. If all traits are numeric, then it will use Euclidean distance.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_traits_as_is">traits_as_is</code></td>
<td>
<p>if <code>FALSE</code> (default) traits data frame will be transformed into a distance
matrix. Otherwise, will use as is (i.e. traits is a symmetric distance matrix).</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_base">base</code></td>
<td>
<p>default is <code>exp(1)</code>, the base of log.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_check_data">check_data</code></td>
<td>
<p>whether to check data first? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_rel_then_pool">rel_then_pool</code></td>
<td>
<p>default is <code>TRUE.</code> Abundance of species are first changed to relative abundance within sites,
then pooled into one assemblage. If <code>FALSE</code>, sites are pooled first, then change abundance of species
to relative abundance.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_ord">ord</code></td>
<td>
<p>ord in <code>FD::gowdis</code>.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_stand_dij">stand_dij</code></td>
<td>
<p>whether to standardize distance matrix to have max value of 1? Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="hill_func_parti_+3A_show_warning">show_warning</code></td>
<td>
<p>whether to print warning, default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with one row (across all sites), including these columns: q, RaoQ of pooled assemblage,
gamma diversity, alpha diversity, beta diversity, local species overlap (similar to Sorensen), and region species
overlap (similar to Jaccard). See Chiu and Chao 2014 Table 3 for more information.
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>
<p>Chiu, Chun-Huo, and Anne Chao. Distance-Based Functional Diversity Measures and Their Decomposition: A Framework Based on Hill Numbers. PLoS ONE 9, no. 7 (July 7, 2014): e100014. &lt;doi:10.1371/journal.pone.0100014&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hill_taxa_parti">hill_taxa_parti</a></code>, <code><a href="#topic+hill_func">hill_func</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dummy = FD::dummy
hill_func_parti(comm = dummy$abun, traits = dummy$trait, q = 0)
hill_func_parti(comm = dummy$abun, traits = dummy$trait, q = 1)
hill_func_parti(comm = dummy$abun, traits = dummy$trait, q = 0.9999)
hill_func_parti(comm = dummy$abun, traits = dummy$trait, q = 2)
hill_func_parti(comm = dummy$abun, traits = dummy$trait, q = 3)

</code></pre>

<hr>
<h2 id='hill_func_parti_pairwise'>Pairwise comparisons for all sites.</h2><span id='topic+hill_func_parti_pairwise'></span>

<h3>Description</h3>

<p>Calculate pairwise functional gamma, alpha, and beta diversity for communities, as
well as site similarity. It is based on <code><a href="#topic+hill_func_parti">hill_func_parti</a></code>.
If comm has &gt;2 sites, this function will give results for all pairwise comparisons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_func_parti_pairwise(
  comm,
  traits,
  traits_as_is = FALSE,
  q = 0,
  rel_then_pool = TRUE,
  output = c("data.frame", "matrix"),
  pairs = c("unique", "full"),
  .progress = TRUE,
  show_warning = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_func_parti_pairwise_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_traits">traits</code></td>
<td>
<p>A data frame of species functional traits data. Species as rows, traits as columns.
It can include both continuous and categorical data. It will be transformed into a distance
matrix using 'FD::gowdis(traits)'. If all traits are numeric, then it will use Euclidean distance.</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_traits_as_is">traits_as_is</code></td>
<td>
<p>if <code>FALSE</code> (default) traits data frame will be transformed into a distance
matrix. Otherwise, will use as is (i.e. traits is a symmetric distance matrix).</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_rel_then_pool">rel_then_pool</code></td>
<td>
<p>default is <code>TRUE.</code> Abundance of species are first changed to relative abundance within sites,
then pooled into one assemblage. If <code>FALSE</code>, sites are pooled first, then change abundance of species
to relative abundance.</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_output">output</code></td>
<td>
<p>output type: data.frame (default) or matrix. If matrix, then this function will return a list of matrices.</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_pairs">pairs</code></td>
<td>
<p>full or unique (default). Do you want to compare all possible pairs (i.e. n^2) or just unique pairs (i.e. <code>choose(n, 2))</code>?</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_.progress">.progress</code></td>
<td>
<p>Whether to show progress bar. Default is 'TRUE'.</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_show_warning">show_warning</code></td>
<td>
<p>whether to print warning, default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_func_parti_pairwise_+3A_...">...</code></td>
<td>
<p>additional arguments for <code>hill_func_parti</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with results for all pairwise comparisons.
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>
<p>Chiu, Chun-Huo, and Anne Chao. Distance-Based Functional Diversity Measures and Their Decomposition: A Framework Based on Hill Numbers. PLoS ONE 9, no. 7 (July 7, 2014): e100014. &lt;doi:10.1371/journal.pone.0100014&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hill_func_parti">hill_func_parti</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dummy = FD::dummy
hill_func_parti_pairwise(comm = dummy$abun, traits = dummy$trait, q = 0)
hill_func_parti_pairwise(comm = dummy$abun, traits = dummy$trait, q = 0,
                         output = 'matrix')
hill_func_parti_pairwise(comm = dummy$abun, traits = dummy$trait, q = 0,
                         output = 'matrix', pairs = 'full')
hill_func_parti_pairwise(comm = dummy$abun, traits = dummy$trait, q = 1)
hill_func_parti_pairwise(comm = dummy$abun, traits = dummy$trait, q = 0.9999)
hill_func_parti_pairwise(comm = dummy$abun, traits = dummy$trait, q = 2)
hill_func_parti_pairwise(comm = dummy$abun, traits = dummy$trait, q = 3)

## End(Not run)
</code></pre>

<hr>
<h2 id='hill_phylo'>Phylogenetic diversity through Hill Numbers</h2><span id='topic+hill_phylo'></span>

<h3>Description</h3>

<p>Calculate alpha phylogenetic diversity based on Hill numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_phylo(
  comm,
  tree,
  q = 0,
  base = exp(1),
  rel_then_pool = TRUE,
  show_warning = TRUE,
  return_dt = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_phylo_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_phylo_+3A_tree">tree</code></td>
<td>
<p>A phylogeny with class 'phylo'.</p>
</td></tr>
<tr><td><code id="hill_phylo_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_phylo_+3A_base">base</code></td>
<td>
<p>default is <code>exp(1)</code>, the base of log.</p>
</td></tr>
<tr><td><code id="hill_phylo_+3A_rel_then_pool">rel_then_pool</code></td>
<td>
<p>default is <code>TRUE.</code> Abundance of species are first changed to relative abundance within sites,
then pooled into one assemblage. If <code>FALSE</code>, sites are pooled first, then change abundance of species
to relative abundance.</p>
</td></tr>
<tr><td><code id="hill_phylo_+3A_show_warning">show_warning</code></td>
<td>
<p>whether to print warning, default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_phylo_+3A_return_dt">return_dt</code></td>
<td>
<p>Whether to return the Phylogenetic Hill numbers Dt, default is 'FALSE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of hill number based phylogenetic diversity ('PD(T)', effective total branch length) for all sites.
</p>


<h3>Author(s)</h3>

<p>Chiu &amp; Chao &amp; Daijiang Li
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>comm = dummy = FD::dummy$abun
tree = ape::rtree(n = ncol(comm), tip.label = paste0('sp', 1:8))
hill_phylo(comm, tree, q = 0)
hill_phylo(comm, tree, q = 0.999)
hill_phylo(comm, tree, q = 1)
hill_phylo(comm, tree, q = 2)

</code></pre>

<hr>
<h2 id='hill_phylo_parti'>Phylogenetic diversity of multiple sites</h2><span id='topic+hill_phylo_parti'></span>

<h3>Description</h3>

<p>Calculate overall phylogenetic diversity and site similarity across multiple sites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_phylo_parti(
  comm,
  tree,
  q = 0,
  base = exp(1),
  rel_then_pool = TRUE,
  show_warning = TRUE,
  check_data = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_phylo_parti_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_+3A_tree">tree</code></td>
<td>
<p>A phylogeny with class 'phylo'.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_+3A_base">base</code></td>
<td>
<p>default is <code>exp(1)</code>, the base of log.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_+3A_rel_then_pool">rel_then_pool</code></td>
<td>
<p>default is <code>TRUE.</code> Abundance of species are first changed to relative abundance within sites,
then pooled into one assemblage. If <code>FALSE</code>, sites are pooled first, then change abundance of species
to relative abundance.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_+3A_show_warning">show_warning</code></td>
<td>
<p>whether to print warning, default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_+3A_check_data">check_data</code></td>
<td>
<p>Whether to check the community data and phylogeny. Default is 'TRUE'.
Can be set to 'FALSE' to speed up 'hill_phylo_parti_pairwise()'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with one row (across all sites) and six columns: q, gamma diversity, alpha diversity,
beta diversity, local similarity (similar to Sorensen), and region similarity (similar to Jaccard).
</p>


<h3>Author(s)</h3>

<p>Chiu &amp; Chao, Daijiang Li
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>comm = dummy = FD::dummy$abun
tree = ape::rtree(n = ncol(comm), tip.label = paste0('sp', 1:8))
hill_phylo_parti(comm, tree, q = 0)
hill_phylo_parti(comm, tree, q = 0.999)
hill_phylo_parti(comm, tree, q = 1)
hill_phylo_parti(comm, tree, q = 2)

</code></pre>

<hr>
<h2 id='hill_phylo_parti_pairwise'>Pairwise phylogenetic diversity through Hill numbers</h2><span id='topic+hill_phylo_parti_pairwise'></span>

<h3>Description</h3>

<p>Calculate pairwise phylogenetic diversity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_phylo_parti_pairwise(
  comm,
  tree,
  q = 0,
  output = c("data.frame", "matrix"),
  pairs = c("unique", "full"),
  rel_then_pool = TRUE,
  .progress = TRUE,
  show_warning = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_tree">tree</code></td>
<td>
<p>A phylogeny with class 'phylo'.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_output">output</code></td>
<td>
<p>output type: data.frame (default) or matrix. If matrix, then this function will return a list of matrices.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_pairs">pairs</code></td>
<td>
<p>full or unique (default). Do you want to compare all possible pairs (i.e. n^2) or just unique pairs (i.e. <code>choose(n, 2))</code>?</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_rel_then_pool">rel_then_pool</code></td>
<td>
<p>default is <code>TRUE.</code> Abundance of species are first changed to relative abundance within sites,
then pooled into one assemblage. If <code>FALSE</code>, sites are pooled first, then change abundance of species
to relative abundance.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_.progress">.progress</code></td>
<td>
<p>Whether to show progress bar. Default is 'TRUE'.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_show_warning">show_warning</code></td>
<td>
<p>whether to print warning, default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_phylo_parti_pairwise_+3A_...">...</code></td>
<td>
<p>additional arguments for <code>hill_func_parti</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame or a matrix with results for all pairwise comparisons.
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hill_phylo_parti">hill_phylo_parti</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
comm = dummy = FD::dummy$abun
tree = ape::rtree(n = ncol(comm), tip.label = paste0('sp', 1:8))
hill_phylo_parti_pairwise(comm, tree, q = 0, show_warning = FALSE)
hill_phylo_parti_pairwise(comm, tree, q = 0.999, show_warning = FALSE)
hill_phylo_parti_pairwise(comm, tree, q = 1, show_warning = FALSE)
hill_phylo_parti_pairwise(comm, tree, q = 2, show_warning = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='hill_taxa'>Taxonomic diversity through Hill Numbers</h2><span id='topic+hill_taxa'></span>

<h3>Description</h3>

<p>Calculate taxonomic diversity for each site (alpha diversity).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_taxa(comm, q = 0, MARGIN = 1, base = exp(1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_taxa_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_taxa_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_taxa_+3A_margin">MARGIN</code></td>
<td>
<p>default is 1, if sites are columns, set <code>MARGIN</code> to 2.</p>
</td></tr>
<tr><td><code id="hill_taxa_+3A_base">base</code></td>
<td>
<p>default is <code>exp(1)</code>, the base of log.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector, diversity values for each site in the comm.
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>
<p>Jost, Lou. Entropy and diversity. Oikos 113, no. 2 (2006): 363-375. &lt;doi:10.1111/j.2006.0030-1299.14714.x&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dummy = FD::dummy
hill_taxa(comm = dummy$abun, q = 0)
# same as: vegan::specnumber(dummy$abun)
hill_taxa(comm = dummy$abun, q = 0.999)
hill_taxa(comm = dummy$abun, q = 1)
# same as: exp(vegan::diversity(x = dummy$abun, index = 'shannon'))
hill_taxa(comm = dummy$abun, q = 2)
# same as: vegan::diversity(x = dummy$abun, index = 'invsimpson')

</code></pre>

<hr>
<h2 id='hill_taxa_parti'>Decompostion of Taxonomic diversity through Hill Numbers</h2><span id='topic+hill_taxa_parti'></span>

<h3>Description</h3>

<p>Calculate taxonomic gamma, alpha, and beta diversity across all communities, as
well as site similarity. If comm has 2 sites, this function gives pair comparison.
If comm has &gt;2 sites, gamma diversity is the diversity of the pooled assemblage,
alpha is the average diversity across all site, beta is across all communities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_taxa_parti(
  comm,
  q = 0,
  base = exp(1),
  rel_then_pool = TRUE,
  show_warning = TRUE,
  check_data = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_taxa_parti_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_+3A_base">base</code></td>
<td>
<p>default is <code>exp(1)</code>, the base of log.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_+3A_rel_then_pool">rel_then_pool</code></td>
<td>
<p>default is <code>TRUE.</code> Abundance of species are first changed to relative abundance within sites,
then pooled into one assemblage. If <code>FALSE</code>, sites are pooled first, then change abundance of species
to relative abundance.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_+3A_show_warning">show_warning</code></td>
<td>
<p>whether to print warning, default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_+3A_check_data">check_data</code></td>
<td>
<p>whether to check data first? Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with one row (across all sites), including these columns: q, gamma diversity, alpha diversity,
beta diversity, MacArthur's homogeneity measure, local similarity (species overlap, similar to Sorensen),
and region similarity (species overlap, similar to Jaccard).
See Chao, Chiu and Jost 2014 Table 2 for more information.
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>
<p>Jost, Lou. Entropy and diversity. Oikos 113, no. 2 (2006): 363-375. &lt;doi:10.1111/j.2006.0030-1299.14714.x&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hill_taxa">hill_taxa</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dummy = FD::dummy
hill_taxa_parti(comm = dummy$abun, q = 0)
hill_taxa_parti(comm = dummy$abun, q = 1)
hill_taxa_parti(comm = dummy$abun, q = 0.9999999)
hill_taxa_parti(comm = dummy$abun, q = 0.9999999, rel_then_pool = FALSE)
hill_taxa_parti(comm = dummy$abun, q = 1, rel_then_pool = FALSE)
hill_taxa_parti(comm = dummy$abun, q = 2)
hill_taxa_parti(comm = dummy$abun, q = 3)

</code></pre>

<hr>
<h2 id='hill_taxa_parti_pairwise'>Pairwise comparisons for all sites</h2><span id='topic+hill_taxa_parti_pairwise'></span>

<h3>Description</h3>

<p>Calculate pairwise taxonomic gamma, alpha, and beta diversity for communities, as
well as site similarity. It is based on <code><a href="#topic+hill_taxa_parti">hill_taxa_parti</a></code>.
If comm has &gt;2 sites, this function will give results for all pairwise comparisons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hill_taxa_parti_pairwise(
  comm,
  q = 0,
  rel_then_pool = TRUE,
  output = c("data.frame", "matrix"),
  pairs = c("unique", "full"),
  .progress = TRUE,
  show_warning = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_comm">comm</code></td>
<td>
<p>A data frame of vegetation data. Sites as rows, species as columns.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_q">q</code></td>
<td>
<p>Hill number, <code>q</code> = 0 (default) to get species richness,
<code>q</code> = 1 to get shannon entropy, <code>q</code> = 2 will give inverse Simpson.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_rel_then_pool">rel_then_pool</code></td>
<td>
<p>default is <code>TRUE.</code> Abundance of species are first changed to relative abundance within sites,
then pooled into one assemblage. If <code>FALSE</code>, sites are pooled first, then change abundance of species
to relative abundance.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_output">output</code></td>
<td>
<p>output type: data.frame (default) or matrix. If matrix, then this function will return a list of matrices.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_pairs">pairs</code></td>
<td>
<p>full or unique (default). Do you want to compare all possible pairs (i.e. n^2) or just unique pairs (i.e. <code>choose(n, 2))</code>?</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_.progress">.progress</code></td>
<td>
<p>Whether to show progress bar. Default is 'TRUE'.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_show_warning">show_warning</code></td>
<td>
<p>whether to print warning, default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="hill_taxa_parti_pairwise_+3A_...">...</code></td>
<td>
<p>other arguments in <code>hill_taxa_parti()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with results for all pairwise comparisons.
</p>


<h3>References</h3>

<p>Chao, Anne, Chun-Huo Chiu, and Lou Jost. Unifying Species Diversity, Phylogenetic Diversity, Functional Diversity, and Related Similarity and Differentiation Measures Through Hill Numbers. Annual Review of Ecology, Evolution, and Systematics 45, no. 1 (2014): 297–324. &lt;doi:10.1146/annurev-ecolsys-120213-091540&gt;.
</p>
<p>Jost, Lou. Entropy and diversity. Oikos 113, no. 2 (2006): 363-375. &lt;doi:10.1111/j.2006.0030-1299.14714.x&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hill_taxa_parti">hill_taxa_parti</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dummy = FD::dummy
hill_taxa_parti_pairwise(comm = dummy$abun, q = 0)
hill_taxa_parti_pairwise(comm = dummy$abun, q = 0, output = 'matrix')
hill_taxa_parti_pairwise(comm = dummy$abun, q = 1)
hill_taxa_parti_pairwise(comm = dummy$abun, q = 0.9999999)
hill_taxa_parti_pairwise(comm = dummy$abun, q = 0.9999999, rel_then_pool = FALSE)
hill_taxa_parti_pairwise(comm = dummy$abun, q = 1, rel_then_pool = FALSE)
hill_taxa_parti_pairwise(comm = dummy$abun, q = 2)
hill_taxa_parti_pairwise(comm = dummy$abun, q = 3)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

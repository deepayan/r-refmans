<!DOCTYPE html><html><head><title>Help for package cookies</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cookies}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.attributes_string'><p>Condense attributes to a string</p></a></li>
<li><a href='#.generate_http_attribute_strings'><p>Generate the separate attribute strings</p></a></li>
<li><a href='#.http_attributes'><p>Prepare cookie attributes for HTTP</p></a></li>
<li><a href='#.http_cookie_string'><p>Condense cookie attributes to a set-cookie string</p></a></li>
<li><a href='#.http_date'><p>Convert expiration days to the expected date format</p></a></li>
<li><a href='#.is_http_only'><p>Is this cookie HttpOnly?</p></a></li>
<li><a href='#.javascript_attributes'><p>Prepare cookie attributes for javascript</p></a></li>
<li><a href='#.root_session'><p>Find the main session</p></a></li>
<li><a href='#.shared-parameters'><p>Parameters used in multiple functions</p></a></li>
<li><a href='#.shiny_toJSON'><p>Prep data for javascript</p></a></li>
<li><a href='#.validate_attributes'><p>Ensure cookie attributes are valid</p></a></li>
<li><a href='#.validate_domain'><p>Ensure domain is valid</p></a></li>
<li><a href='#.validate_expiration'><p>Ensure expiration is valid</p></a></li>
<li><a href='#.validate_http_only'><p>Ensure http_only is valid</p></a></li>
<li><a href='#.validate_logical_scalar'><p>Ensure the argument is a single logical value</p></a></li>
<li><a href='#.validate_path'><p>Ensure path is valid</p></a></li>
<li><a href='#.validate_same_site'><p>Ensure same_site is valid</p></a></li>
<li><a href='#.validate_scalar'><p>Ensure the argument is a single logical value</p></a></li>
<li><a href='#.validate_secure_only'><p>Ensure secure_only is valid</p></a></li>
<li><a href='#add_cookie_handlers'><p>Add cookies to an existing shiny ui</p></a></li>
<li><a href='#cookie_dependency'><p>Attach the js-cookie javascript library for shiny</p></a></li>
<li><a href='#cookies-package'><p>cookies: Use Browser Cookies with 'shiny'</p></a></li>
<li><a href='#extract_cookie'><p>Extract an individual cookie from a shiny request</p></a></li>
<li><a href='#extract_cookies'><p>Extract all cookies from a shiny request</p></a></li>
<li><a href='#get_cookie'><p>Read a cookie</p></a></li>
<li><a href='#remove_cookie'><p>Remove a cookie</p></a></li>
<li><a href='#set_cookie'><p>Create or update a cookie</p></a></li>
<li><a href='#set_cookie_on_load'><p>Shiny tag to add cookies on page load</p></a></li>
<li><a href='#set_cookie_response'><p>Set cookie via HTTP header</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Use Browser Cookies with 'shiny'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Browser cookies are name-value pairs that are saved in a
    user's browser by a website. Cookies allow websites to persist
    information about the user and their use of the website. Here we
    provide tools for working with cookies in 'shiny' apps, in part by
    wrapping the 'js-cookie' JavaScript library
    <a href="https://github.com/js-cookie/js-cookie">https://github.com/js-cookie/js-cookie</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r4ds/cookies">https://github.com/r4ds/cookies</a>, <a href="https://r4ds.github.io/cookies/">https://r4ds.github.io/cookies/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r4ds/cookies/issues">https://github.com/r4ds/cookies/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, clock, glue, htmltools, httpuv, jsonlite, purrr, rlang,
shiny (&ge; 1.6.0), stats, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, pkgdown, rmarkdown, roxygen2, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-02 16:44:59 UTC; jonth</td>
</tr>
<tr>
<td>Author:</td>
<td>Jon Harmon <a href="https://orcid.org/0000-0003-4781-4346"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Klaus Hartl [cph] (js-cookie JavaScript library),
  Fagner Brack [cph] (js-cookie JavaScript library)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jon Harmon &lt;jonthegeek@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-02 17:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.attributes_string'>Condense attributes to a string</h2><span id='topic+.attributes_string'></span>

<h3>Description</h3>

<p>Condense attributes to a string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.attributes_string(expiration, secure_only, domain, path, same_site, http_only)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".attributes_string_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id=".attributes_string_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id=".attributes_string_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id=".attributes_string_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id=".attributes_string_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".attributes_string_+3A_http_only">http_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be sent as
part of an HTTP request. When this is <code>FALSE</code> (default), the cookie is
accessible to JavaScript via the <code>Document.cookie</code> property.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string with a format like &quot;Domain=domain-value; Secure;
HttpOnly&quot;.
</p>

<hr>
<h2 id='.generate_http_attribute_strings'>Generate the separate attribute strings</h2><span id='topic+.generate_http_attribute_strings'></span>

<h3>Description</h3>

<p>Generate the separate attribute strings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.generate_http_attribute_strings(http_attributes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".generate_http_attribute_strings_+3A_http_attributes">http_attributes</code></td>
<td>
<p>A list of attributes with the names expected by
Set-Cookie.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of either the names (for Secure or HttpOnly) or
name=value pairs.
</p>

<hr>
<h2 id='.http_attributes'>Prepare cookie attributes for HTTP</h2><span id='topic+.http_attributes'></span>

<h3>Description</h3>

<p>Prepare cookie attributes for HTTP
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.http_attributes(expiration, secure_only, domain, path, same_site, http_only)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".http_attributes_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id=".http_attributes_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id=".http_attributes_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id=".http_attributes_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id=".http_attributes_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".http_attributes_+3A_http_only">http_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be sent as
part of an HTTP request. When this is <code>FALSE</code> (default), the cookie is
accessible to JavaScript via the <code>Document.cookie</code> property.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of attributes ready for HTTP.
</p>

<hr>
<h2 id='.http_cookie_string'>Condense cookie attributes to a set-cookie string</h2><span id='topic+.http_cookie_string'></span>

<h3>Description</h3>

<p>Condense cookie attributes to a set-cookie string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.http_cookie_string(
  cookie_name,
  cookie_value,
  expiration,
  secure_only,
  domain,
  path,
  same_site,
  http_only
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".http_cookie_string_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id=".http_cookie_string_+3A_cookie_value">cookie_value</code></td>
<td>
<p>The contents of the cookie as a single character value.</p>
</td></tr>
<tr><td><code id=".http_cookie_string_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id=".http_cookie_string_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id=".http_cookie_string_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id=".http_cookie_string_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id=".http_cookie_string_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".http_cookie_string_+3A_http_only">http_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be sent as
part of an HTTP request. When this is <code>FALSE</code> (default), the cookie is
accessible to JavaScript via the <code>Document.cookie</code> property.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string in the form &quot;Set-Cookie: cookie-name=cookie-value;
Expires=date&quot;, etc.
</p>

<hr>
<h2 id='.http_date'>Convert expiration days to the expected date format</h2><span id='topic+.http_date'></span>

<h3>Description</h3>

<p>Convert expiration days to the expected date format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.http_date(expiration)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".http_date_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of the date in the required format.
</p>

<hr>
<h2 id='.is_http_only'>Is this cookie HttpOnly?</h2><span id='topic+.is_http_only'></span>

<h3>Description</h3>

<p>HttpOnly cookies can't be manipulated via javascript.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.is_http_only(cookie_name, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".is_http_only_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The cookie to check.</p>
</td></tr>
<tr><td><code id=".is_http_only_+3A_session">session</code></td>
<td>
<p>Shiny session in which the cookies can be found (the default
should probably always be used).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical indicating whether <code>cookie_name</code> is http-only.
</p>

<hr>
<h2 id='.javascript_attributes'>Prepare cookie attributes for javascript</h2><span id='topic+.javascript_attributes'></span>

<h3>Description</h3>

<p>Prepare cookie attributes for javascript
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.javascript_attributes(expiration, secure_only, domain, path, same_site)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".javascript_attributes_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id=".javascript_attributes_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id=".javascript_attributes_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id=".javascript_attributes_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id=".javascript_attributes_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of attributes with the names expected by js-cookie.
</p>

<hr>
<h2 id='.root_session'>Find the main session</h2><span id='topic+.root_session'></span>

<h3>Description</h3>

<p>This function escapes from a module (or submodule, etc) to find the root
session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.root_session(session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".root_session_+3A_session">session</code></td>
<td>
<p>A session object. Probably always use the default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The first session that isn't a &quot;session_proxy&quot;.
</p>

<hr>
<h2 id='.shared-parameters'>Parameters used in multiple functions</h2><span id='topic+.shared-parameters'></span>

<h3>Description</h3>

<p>These are parameters that are likely to show up in multiple functions, so I
gather their definitions in one easy-to-find place.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id=".shared-parameters_+3A_attributes">attributes</code></td>
<td>
<p>A list with values for <code>expiration</code>, <code>secure_only</code>,
<code>domain</code>, <code>path</code>, <code>same_site</code>, and <code>http_only</code></p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_cookie_value">cookie_value</code></td>
<td>
<p>The contents of the cookie as a single character value.</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_http_only">http_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be sent as
part of an HTTP request. When this is <code>FALSE</code> (default), the cookie is
accessible to JavaScript via the <code>Document.cookie</code> property.</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_session">session</code></td>
<td>
<p>Shiny session in which the cookies can be found (the default
should probably always be used).</p>
</td></tr>
<tr><td><code id=".shared-parameters_+3A_ui">ui</code></td>
<td>
<p>A 0- or 1-argument function defining the ui of a shiny app, or a
<code><a href="shiny.html#topic+reexports">shiny::tagList()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='.shiny_toJSON'>Prep data for javascript</h2><span id='topic+.shiny_toJSON'></span>

<h3>Description</h3>

<p>This is an unexported function in shiny, and has been directly copy/pasted
(other than the name and documentation). This function formats things in the
way shiny's JS functions expect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.shiny_toJSON(
  x,
  ...,
  dataframe = "columns",
  null = "null",
  na = "null",
  auto_unbox = TRUE,
  digits = getOption("shiny.json.digits", 16),
  use_signif = TRUE,
  force = TRUE,
  POSIXt = "ISO8601",
  UTC = TRUE,
  rownames = FALSE,
  keep_vec_names = TRUE,
  strict_atomic = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".shiny_toJSON_+3A_x">x</code></td>
<td>
<p>the object to be encoded</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="jsonlite.html#topic+fromJSON">jsonlite::toJSON</a></code>
</p>

<dl>
<dt><code>matrix</code></dt><dd><p>how to encode matrices and higher dimensional arrays: must be one of 'rowmajor' or 'columnmajor'.</p>
</dd>
<dt><code>Date</code></dt><dd><p>how to encode Date objects: must be one of 'ISO8601' or 'epoch'</p>
</dd>
<dt><code>factor</code></dt><dd><p>how to encode factor objects: must be one of 'string' or 'integer'</p>
</dd>
<dt><code>complex</code></dt><dd><p>how to encode complex numbers: must be one of 'string' or 'list'</p>
</dd>
<dt><code>raw</code></dt><dd><p>how to encode raw objects: must be one of 'base64', 'hex' or 'mongo'</p>
</dd>
<dt><code>pretty</code></dt><dd><p>adds indentation whitespace to JSON output. Can be TRUE/FALSE or a number specifying the number of spaces to indent. See <code><a href="jsonlite.html#topic+prettify">prettify()</a></code></p>
</dd>
</dl>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_dataframe">dataframe</code></td>
<td>
<p>how to encode data.frame objects: must be one of 'rows', 'columns' or 'values'</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_null">null</code></td>
<td>
<p>how to encode NULL values within a list: must be one of 'null' or 'list'</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_na">na</code></td>
<td>
<p>how to print NA values: must be one of 'null' or 'string'. Defaults are class specific</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_auto_unbox">auto_unbox</code></td>
<td>
<p>automatically <code><a href="jsonlite.html#topic+unbox">unbox()</a></code> all atomic vectors of length 1. It is usually safer to avoid this and instead use the <code><a href="jsonlite.html#topic+unbox">unbox()</a></code> function to unbox individual elements.
An exception is that objects of class <code>AsIs</code> (i.e. wrapped in <code><a href="base.html#topic+I">I()</a></code>) are not automatically unboxed. This is a way to mark single values as length-1 arrays.</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_digits">digits</code></td>
<td>
<p>max number of decimal digits to print for numeric values. Use <code><a href="base.html#topic+I">I()</a></code> to specify significant digits. Use <code>NA</code> for max precision.</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_use_signif">use_signif</code></td>
<td>
<p>Passed on to a print method.</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_force">force</code></td>
<td>
<p>unclass/skip objects of classes with no defined JSON mapping</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_posixt">POSIXt</code></td>
<td>
<p>how to encode POSIXt (datetime) objects: must be one of 'string', 'ISO8601', 'epoch' or 'mongo'</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_utc">UTC</code></td>
<td>
<p>Passed on to a print method.</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_rownames">rownames</code></td>
<td>
<p>Passed on to a print method.</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_keep_vec_names">keep_vec_names</code></td>
<td>
<p>Passed on to a print method.</p>
</td></tr>
<tr><td><code id=".shiny_toJSON_+3A_strict_atomic">strict_atomic</code></td>
<td>
<p>Used to deal with atomic vectors and/or unboxing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Jsonified text.
</p>

<hr>
<h2 id='.validate_attributes'>Ensure cookie attributes are valid</h2><span id='topic+.validate_attributes'></span>

<h3>Description</h3>

<p>Ensure cookie attributes are valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_attributes(
  expiration,
  secure_only,
  domain,
  path,
  same_site,
  http_only
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_attributes_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id=".validate_attributes_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id=".validate_attributes_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id=".validate_attributes_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id=".validate_attributes_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".validate_attributes_+3A_http_only">http_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be sent as
part of an HTTP request. When this is <code>FALSE</code> (default), the cookie is
accessible to JavaScript via the <code>Document.cookie</code> property.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of attributes.
</p>

<hr>
<h2 id='.validate_domain'>Ensure domain is valid</h2><span id='topic+.validate_domain'></span>

<h3>Description</h3>

<p>Ensure domain is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_domain(domain)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_domain_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> or <code>domain</code> as a character.
</p>

<hr>
<h2 id='.validate_expiration'>Ensure expiration is valid</h2><span id='topic+.validate_expiration'></span>

<h3>Description</h3>

<p>Ensure expiration is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_expiration(expiration)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_expiration_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> or the expiration as a double.
</p>

<hr>
<h2 id='.validate_http_only'>Ensure http_only is valid</h2><span id='topic+.validate_http_only'></span>

<h3>Description</h3>

<p>Ensure http_only is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_http_only(http_only)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_http_only_+3A_http_only">http_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be sent as
part of an HTTP request. When this is <code>FALSE</code> (default), the cookie is
accessible to JavaScript via the <code>Document.cookie</code> property.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> or <code>TRUE</code>.
</p>

<hr>
<h2 id='.validate_logical_scalar'>Ensure the argument is a single logical value</h2><span id='topic+.validate_logical_scalar'></span>

<h3>Description</h3>

<p>Ensure the argument is a single logical value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_logical_scalar(arg_value, arg_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_logical_scalar_+3A_arg_value">arg_value</code></td>
<td>
<p>The value of the argument.</p>
</td></tr>
<tr><td><code id=".validate_logical_scalar_+3A_arg_name">arg_name</code></td>
<td>
<p>The name of the argument for error messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> or <code>TRUE</code>.
</p>

<hr>
<h2 id='.validate_path'>Ensure path is valid</h2><span id='topic+.validate_path'></span>

<h3>Description</h3>

<p>Ensure path is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_path(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_path_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> or <code>path</code> as a character.
</p>

<hr>
<h2 id='.validate_same_site'>Ensure same_site is valid</h2><span id='topic+.validate_same_site'></span>

<h3>Description</h3>

<p>Ensure same_site is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_same_site(same_site, secure_only)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_same_site_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id=".validate_same_site_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>One of <code>NULL</code>, &quot;Strict&quot;, &quot;Lax&quot;, or &quot;None&quot;.
</p>

<hr>
<h2 id='.validate_scalar'>Ensure the argument is a single logical value</h2><span id='topic+.validate_scalar'></span>

<h3>Description</h3>

<p>Ensure the argument is a single logical value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_scalar(arg_value, arg_name, arg_type = "logical")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_scalar_+3A_arg_value">arg_value</code></td>
<td>
<p>The value of the argument.</p>
</td></tr>
<tr><td><code id=".validate_scalar_+3A_arg_name">arg_name</code></td>
<td>
<p>The name of the argument for error messages.</p>
</td></tr>
<tr><td><code id=".validate_scalar_+3A_arg_type">arg_type</code></td>
<td>
<p>The expected class for error messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value (if it is length-1).
</p>

<hr>
<h2 id='.validate_secure_only'>Ensure secure_only is valid</h2><span id='topic+.validate_secure_only'></span>

<h3>Description</h3>

<p>Ensure secure_only is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.validate_secure_only(secure_only)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".validate_secure_only_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> or <code>TRUE</code>.
</p>

<hr>
<h2 id='add_cookie_handlers'>Add cookies to an existing shiny ui</h2><span id='topic+add_cookie_handlers'></span>

<h3>Description</h3>

<p>Wrap a shiny ui in this function in order to add cookie-handling
functionality. The ui can be defined in any format compatible with shiny,
using functions such as <code><a href="shiny.html#topic+fluidPage">shiny::fluidPage()</a></code>, <code><a href="shiny.html#topic+bootstrapPage">shiny::bootstrapPage()</a></code>,
<code><a href="shiny.html#topic+reexports">shiny::htmlTemplate()</a></code>, or a raw HTML string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_cookie_handlers(ui)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_cookie_handlers_+3A_ui">ui</code></td>
<td>
<p>A 0- or 1-argument function defining the ui of a shiny app, or a
<code><a href="shiny.html#topic+reexports">shiny::tagList()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with the same signature as the input <code>ui</code>, but with the
dependencies needed to handle cookies. If <code>ui</code> is a <code><a href="shiny.html#topic+reexports">shiny::tagList()</a></code>, a
<code><a href="shiny.html#topic+reexports">shiny::tagList()</a></code> will be returned; if <code>ui</code> is a function, a function will
be returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str(add_cookie_handlers("example"))
</code></pre>

<hr>
<h2 id='cookie_dependency'>Attach the js-cookie javascript library for shiny</h2><span id='topic+cookie_dependency'></span>

<h3>Description</h3>

<p>Add the js-cookie Javascript library as an HTML dependency, and make cookies
available in the shiny input object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cookie_dependency()
</code></pre>


<h3>Details</h3>

<p>Call this function within your shiny ui to attach the necessary JavaScript
code.
</p>


<h3>Value</h3>

<p>An <code><a href="htmltools.html#topic+htmlDependency">htmltools::htmlDependency()</a></code>, which shiny uses to add the
js-cookie Javascript library exactly once.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cookie_dependency()
</code></pre>

<hr>
<h2 id='cookies-package'>cookies: Use Browser Cookies with 'shiny'</h2><span id='topic+cookies'></span><span id='topic+cookies-package'></span>

<h3>Description</h3>

<p>Browser cookies are name-value pairs that are saved in a user's browser by a website. Cookies allow websites to persist information about the user and their use of the website. Here we provide tools for working with cookies in 'shiny' apps, in part by wrapping the 'js-cookie' JavaScript library <a href="https://github.com/js-cookie/js-cookie">https://github.com/js-cookie/js-cookie</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jon Harmon <a href="mailto:jonthegeek@gmail.com">jonthegeek@gmail.com</a> (<a href="https://orcid.org/0000-0003-4781-4346">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Klaus Hartl (js-cookie JavaScript library) [copyright holder]
</p>
</li>
<li><p> Fagner Brack (js-cookie JavaScript library) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/r4ds/cookies">https://github.com/r4ds/cookies</a>
</p>
</li>
<li> <p><a href="https://r4ds.github.io/cookies/">https://r4ds.github.io/cookies/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r4ds/cookies/issues">https://github.com/r4ds/cookies/issues</a>
</p>
</li></ul>


<hr>
<h2 id='extract_cookie'>Extract an individual cookie from a shiny request</h2><span id='topic+extract_cookie'></span>

<h3>Description</h3>

<p>The shiny request object includes any cookies that are available to the app.
This function extracts the value of a named cookie from that request.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_cookie(request, cookie_name, missing = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_cookie_+3A_request">request</code></td>
<td>
<p>A shiny request object.</p>
</td></tr>
<tr><td><code id="extract_cookie_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id="extract_cookie_+3A_missing">missing</code></td>
<td>
<p>The value to return if the requested cookie is not stored in
the request. Defaults to <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The contents of that cookie.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>req &lt;- list(HTTP_COOKIE = "cookie1=expected_value; cookie2=1; cookie3=2")
extract_cookie(req, "cookie1")
extract_cookie(req, "cookie2")
extract_cookie(list(), "cookie1")
extract_cookie(NULL, "cookie1")
</code></pre>

<hr>
<h2 id='extract_cookies'>Extract all cookies from a shiny request</h2><span id='topic+extract_cookies'></span>

<h3>Description</h3>

<p>The shiny request object includes any cookies that are available to the app.
This function extracts those cookies as a named list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_cookies(request)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_cookies_+3A_request">request</code></td>
<td>
<p>A shiny request object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>All cookies in the request, as a list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>req &lt;- list(HTTP_COOKIE = "cookie1=expected_value; cookie2=1; cookie3=2")
extract_cookies(req)
extract_cookies(list())
extract_cookies(NULL)
</code></pre>

<hr>
<h2 id='get_cookie'>Read a cookie</h2><span id='topic+get_cookie'></span>

<h3>Description</h3>

<p>Read a cookie from the input object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cookie(
  cookie_name,
  missing = NULL,
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cookie_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id="get_cookie_+3A_missing">missing</code></td>
<td>
<p>The value to return if the requested cookie does not exist.
Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get_cookie_+3A_session">session</code></td>
<td>
<p>Shiny session in which the cookies can be found (the default
should probably always be used).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character with the value of the cookie.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- function(input, output, session) {
  get_cookie("my_cookie")
}
</code></pre>

<hr>
<h2 id='remove_cookie'>Remove a cookie</h2><span id='topic+remove_cookie'></span>

<h3>Description</h3>

<p>Instruct the user's browser to remove a cookie via JavaScript.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_cookie(cookie_name, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_cookie_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id="remove_cookie_+3A_session">session</code></td>
<td>
<p>Shiny session in which the cookies can be found (the default
should probably always be used).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A call to <code>session$sendCustomMessage()</code> which removes the targeted
cookie.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- function(input, output, server) {
  shiny::observeEvent(
    input$button_that_removes_cookie,
    remove_cookie("my_cookie")
  )
}
</code></pre>

<hr>
<h2 id='set_cookie'>Create or update a cookie</h2><span id='topic+set_cookie'></span>

<h3>Description</h3>

<p>Instruct the user's browser to create a cookie via JavaScript.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cookie(
  cookie_name,
  cookie_value,
  expiration = 90,
  secure_only = NULL,
  domain = NULL,
  path = NULL,
  same_site = NULL,
  session = shiny::getDefaultReactiveDomain()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_cookie_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id="set_cookie_+3A_cookie_value">cookie_value</code></td>
<td>
<p>The contents of the cookie as a single character value.</p>
</td></tr>
<tr><td><code id="set_cookie_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id="set_cookie_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id="set_cookie_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id="set_cookie_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id="set_cookie_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="set_cookie_+3A_session">session</code></td>
<td>
<p>Shiny session in which the cookies can be found (the default
should probably always be used).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A call to <code>session$sendCustomMessage()</code> which sets the targeted
cookie.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- function(input, output, server) {
  shiny::observeEvent(
    input$button_that_sets_cookie,
    set_cookie(
      "my_cookie",
      "the value of this cookie"
    )
  )
}
</code></pre>

<hr>
<h2 id='set_cookie_on_load'>Shiny tag to add cookies on page load</h2><span id='topic+set_cookie_on_load'></span>

<h3>Description</h3>

<p>Generate a <code><a href="shiny.html#topic+reexports">shiny::tagList()</a></code> which uses JavaScript to set a cookie in the
user's browser when the shiny app loads.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cookie_on_load(
  cookie_name,
  cookie_value,
  expiration = 90,
  secure_only = NULL,
  domain = NULL,
  path = NULL,
  same_site = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_cookie_on_load_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id="set_cookie_on_load_+3A_cookie_value">cookie_value</code></td>
<td>
<p>The contents of the cookie as a single character value.</p>
</td></tr>
<tr><td><code id="set_cookie_on_load_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id="set_cookie_on_load_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id="set_cookie_on_load_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id="set_cookie_on_load_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id="set_cookie_on_load_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="shiny.html#topic+reexports">shiny::tagList()</a></code> that provides the HTML and javascript to set the
cookie.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_cookie_on_load("my_cookie", "contents of my cookie")
set_cookie_on_load("my_cookie", "contents of my cookie", expiration = 10)
</code></pre>

<hr>
<h2 id='set_cookie_response'>Set cookie via HTTP header</h2><span id='topic+set_cookie_response'></span>

<h3>Description</h3>

<p>Send a <code><a href="shiny.html#topic+httpResponse">shiny::httpResponse()</a></code> that sets a cookie in the user's browser. Note
that this does <em>not</em> return a full shiny ui.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cookie_response(
  cookie_name,
  cookie_value,
  expiration = 90,
  secure_only = NULL,
  domain = NULL,
  path = NULL,
  same_site = NULL,
  http_only = FALSE,
  redirect = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_cookie_response_+3A_cookie_name">cookie_name</code></td>
<td>
<p>The name of the cookie. Can contain any US-ASCII
characters except for: the control character, space, a tab, or separator
characters like ( ) &lt; &gt; @ , ; : \ &quot; / [ ] ? = { }.</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_cookie_value">cookie_value</code></td>
<td>
<p>The contents of the cookie as a single character value.</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_expiration">expiration</code></td>
<td>
<p>Days after which the cookie should expire. To remove an
HttpOnly cookie, send a negative value for this attribute.</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_secure_only">secure_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be
accessible via secure (<code style="white-space: pre;">&#8288;https:&#8288;</code>) requests (except on localhost).</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_domain">domain</code></td>
<td>
<p>The host to which the cookie will be sent (including
subdomains). If this is <code>NULL</code> (default) the cookie will only be sent to
the host of the page where this cookie was set (not including subdomains).</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_path">path</code></td>
<td>
<p>The path that must exist in the requested URL for the browser to
send this cookie. Includes subdirectories.</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_same_site">same_site</code></td>
<td>
<p>One of &quot;strict&quot;, &quot;lax&quot; (default), or &quot;none&quot;, indicating when
the cookie should be sent. When <code>same_site = "none"</code>, <code>secure_only</code> must be
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_http_only">http_only</code></td>
<td>
<p>Logical indicating whether the cookie should only be sent as
part of an HTTP request. When this is <code>FALSE</code> (default), the cookie is
accessible to JavaScript via the <code>Document.cookie</code> property.</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_redirect">redirect</code></td>
<td>
<p>A relative or absolute URL where the user should be sent
next. A typical case would be the same URL minus the query parameter that
triggered the Set-cookie response.</p>
</td></tr>
<tr><td><code id="set_cookie_response_+3A_...">...</code></td>
<td>
<p>Additional parameters passed on to <code><a href="shiny.html#topic+httpResponse">shiny::httpResponse()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="shiny.html#topic+httpResponse">shiny::httpResponse()</a></code> that sets the cookie.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_cookie_response("my_cookie", "contents of my cookie")
set_cookie_response("my_cookie", "contents of my cookie", expiration = 10)
set_cookie_response(
  "my_cookie", "contents of my cookie",
  content = "Your cookie is set."
)
set_cookie_response(
  "my_cookie", "contents of my cookie",
  redirect = "/"
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package fr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_data_frame'><p>Coerce a <code>fr_tdr</code> object into a data frame</p></a></li>
<li><a href='#as_fr_field'><p>Coerce <code>character</code>, <code>factor</code>, <code>numeric</code>, <code>logical</code>, and <code>Date</code></p>
vectors into <code>fr_field</code> objects</a></li>
<li><a href='#as_fr_tdr'><p>Coerce a data frame into a <code>fr_tdr</code> object</p></a></li>
<li><a href='#as_list'><p>Coerce a <code>fr_tdr</code> object into a list</p></a></li>
<li><a href='#dplyr_methods'><p>dplyr methods for fr_tdr objects</p></a></li>
<li><a href='#fr-package'><p>About the fr package</p></a></li>
<li><a href='#is_fr_field'><p>Test if an object is a <code>fr_field</code> object</p></a></li>
<li><a href='#read_fr_tdr'><p>read a tabular-data-resource into R</p></a></li>
<li><a href='#update_field'><p>add or update field-specific metadata in a fr_tdr object</p></a></li>
<li><a href='#write_fr_tdr'><p>write a fr_tdr object to disk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Frictionless Standards</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A "tabular-data-resource" (<a href="https://specs.frictionlessdata.io/tabular-data-resource/">https://specs.frictionlessdata.io/tabular-data-resource/</a>) is a simple format to describe a singular tabular data resource such as a CSV file. It includes support both for metadata such as author and title and a schema to describe the data, for example the types of the fields/columns in the data. Create a tabular-data-resource by providing a data.frame and specifying metadata. Write and read tabular-data-resources to and from disk. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, purrr, vroom, S7 (&ge; 0.1.1), tibble, tidyselect, yaml,
dplyr, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), withr, fs, knitr, rmarkdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/cole-brokamp/fr">https://github.com/cole-brokamp/fr</a>,
<a href="https://cole-brokamp.github.io/fr/">https://cole-brokamp.github.io/fr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cole-brokamp/fr/issues">https://github.com/cole-brokamp/fr/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-30 19:49:46 UTC; cole</td>
</tr>
<tr>
<td>Author:</td>
<td>Cole Brokamp <a href="https://orcid.org/0000-0002-0289-3151"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Cole Brokamp &lt;cole@colebrokamp.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-30 20:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_data_frame'>Coerce a <code><a href="#topic+fr-package">fr_tdr</a></code> object into a data frame</h2><span id='topic+as_data_frame'></span>

<h3>Description</h3>

<p>Equivalent to <code>as.data.frame()</code>; directly using <code>tibble::as_tibble()</code>
also works because its input is first coerced with <code>as.data.frame()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_data_frame(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_data_frame_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+fr-package">fr_tdr</a></code> object</p>
</td></tr>
<tr><td><code id="as_data_frame_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fr_tdr(mtcars, name = "mtcars") |&gt;
  as_data_frame()
</code></pre>

<hr>
<h2 id='as_fr_field'>Coerce <code>character</code>, <code>factor</code>, <code>numeric</code>, <code>logical</code>, and <code>Date</code>
vectors into <code><a href="#topic+fr-package">fr_field</a></code> objects</h2><span id='topic+as_fr_field'></span>

<h3>Description</h3>

<p>The supported classes of <code>R</code> objects are converted to the corresponding frictionless <code>type</code>:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong><code>R</code> class</strong> </td><td style="text-align: left;"> <strong><code>fr</code> type</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>character()</code> </td><td style="text-align: left;"> <code>string</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>factor()</code> </td><td style="text-align: left;"> <code>string</code> (with <code>enum(constraints = levels(x))</code>) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>numeric()</code>, <code>integer()</code> </td><td style="text-align: left;"> <code>number</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>logical()</code> </td><td style="text-align: left;"> <code>boolean</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>Date</code> </td><td style="text-align: left;"> <code>date</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>as_fr_field(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_fr_field_+3A_x">x</code></td>
<td>
<p>a character, factor, numeric, integer, logical, or Date vector</p>
</td></tr>
<tr><td><code id="as_fr_field_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; required (<code>name</code>) and optional (<code>title</code>, <code>description</code>) <a href="https://specs.frictionlessdata.io/table-schema/#field-descriptors">field descriptors</a>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="#topic+fr-package">fr_field</a> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fr_field(1:10, "example_integer") # -&gt; frictionless number
as_fr_field((1:10) * 0.1, "example_double") # -&gt; frictionless number
as_fr_field(letters, "example_character") # -&gt; frictionless string
as_fr_field(factor(letters), "example_factor") # -&gt; frictionless string with enum constraints
as_fr_field(c(TRUE, FALSE, TRUE), "example_logical") # -&gt; frictionless boolean
as_fr_field(as.Date(c("2023-04-23", "2004-12-31")), "example_date") # -&gt; frictionless date
</code></pre>

<hr>
<h2 id='as_fr_tdr'>Coerce a data frame into a <code><a href="#topic+fr-package">fr_tdr</a></code> object</h2><span id='topic+as_fr_tdr'></span>

<h3>Description</h3>

<p>Coerce a data frame into a <code><a href="#topic+fr-package">fr_tdr</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_fr_tdr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_fr_tdr_+3A_x">x</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="as_fr_tdr_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+dyn-dots">dynamic-dots</a></code>&gt; required (<code>name</code>) and optional <a href="https://specs.frictionlessdata.io/data-resource/#descriptor">tabular-data-resource properties</a> (e.g., <code>path</code>, <code>version</code>, <code>title</code>, <code>homepage</code>, <code>description</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use the <code>.template</code> argument to provide a template <code><a href="#topic+fr-package">fr_tdr</a></code> object from which
table-specific (i.e. &quot;name&quot;, &quot;version&quot;, &quot;title&quot;, &quot;homepage&quot;, &quot;description&quot;)
and field-specific metadata will be copied; note that all metadata provided
in <code>...</code> will be ignored if this argument is provided
</p>


<h3>Value</h3>

<p>a <a href="#topic+fr-package">fr_tdr</a> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fr_tdr(mtcars, name = "mtcars")
S7::prop(as_fr_tdr(mtcars, name = "mtcars"), "schema")
</code></pre>

<hr>
<h2 id='as_list'>Coerce a <code><a href="#topic+fr-package">fr_tdr</a></code> object into a list</h2><span id='topic+as_list'></span>

<h3>Description</h3>

<p>equivalent to <code>as.list()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_list(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_list_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+fr-package">fr_tdr</a></code> object</p>
</td></tr>
<tr><td><code id="as_list_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list representing the frictionless metadata descriptor
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fr_tdr(mtcars, name = "mtcars") |&gt;
  as_list()
</code></pre>

<hr>
<h2 id='dplyr_methods'>dplyr methods for fr_tdr objects</h2><span id='topic+dplyr_methods'></span><span id='topic+fr_mutate'></span><span id='topic+fr_rename'></span><span id='topic+fr_select'></span><span id='topic+fr_filter'></span><span id='topic+fr_summarize'></span><span id='topic+fr_arrange'></span>

<h3>Description</h3>

<p>Some basic dplyr functions are re-implemented here for for <code>fr_tdr</code> objects.
The input is converted with <code>as.data.frame()</code> before being
passed to the dplyr function. The resulting tibble object is converted back
into a <code>fr_tdr</code> object, matching table- and field-specific metadata where
possible by using <code>as_fr_tdr()</code> and specifying the <code>.template</code> argument.
 </p>

<table>
<tr>
 <td style="text-align: center;">
   <strong>dplyr</strong> </td><td style="text-align: center;"> <strong>fr</strong> </td>
</tr>
<tr>
 <td style="text-align: center;">
   <code>mutate()</code> </td><td style="text-align: center;"> <code>fr_mutate()</code> </td>
</tr>
<tr>
 <td style="text-align: center;">
   <code>rename()</code> </td><td style="text-align: center;"> <code>fr_rename()</code> </td>
</tr>
<tr>
 <td style="text-align: center;">
   <code>select()</code> </td><td style="text-align: center;"> <code>fr_select()</code> </td>
</tr>
<tr>
 <td style="text-align: center;">
   <code>filter()</code> </td><td style="text-align: center;"> <code>fr_filter()</code> </td>
</tr>
<tr>
 <td style="text-align: center;">
   <code>summarise()</code> </td><td style="text-align: center;"> <code>fr_summarise()</code> </td>
</tr>
<tr>
 <td style="text-align: center;">
   <code>arrange()</code> </td><td style="text-align: center;"> <code>fr_arrange()</code> </td>
</tr>
<tr>
 <td style="text-align: center;">
</td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>fr_mutate(x, ...)

fr_rename(x, ...)

fr_select(x, ...)

fr_filter(x, ...)

fr_summarize(x, ...)

fr_arrange(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dplyr_methods_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+fr-package">fr_tdr</a></code> object</p>
</td></tr>
<tr><td><code id="dplyr_methods_+3A_...">...</code></td>
<td>
<p>passed to the underlying dplyr function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+fr-package">fr_tdr</a></code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>read_fr_tdr(fs::path_package("fr", "hamilton_poverty_2020")) |&gt;
  fr_mutate(next_year = year + 1) |&gt;
  fr_rename(new_year = next_year) |&gt;
  fr_select(-new_year) |&gt;
  fr_filter(fraction_poverty &gt; 0.1) |&gt;
  fr_summarize(median_poverty_fraction = median(fraction_poverty)) |&gt;
  fr_arrange(median_poverty_fraction)
</code></pre>

<hr>
<h2 id='fr-package'>About the fr package</h2><span id='topic+fr'></span><span id='topic+fr-package'></span>

<h3>Description</h3>

<p><code>fr</code> provides functions and objects to reproducibly create and track changes to metadata alongside code that creates
the data. This prevents a disconnect between data and metadata, but also allows for computing on the metadata
to create richer documentation.
The <code>fr</code> package provides <code>fr_tdr</code>, <code>fr_schema</code>, and <code>fr_field</code> objects to provide a representation of the
<a href="https://frictionlessdata.io/">Frictionless</a>
<a href="https://specs.frictionlessdata.io/tabular-data-resource/">Tabular Data Resource</a> standards in R.
</p>
<p>A <code>fr_tdr</code>, or frictionless tabular data resource, object encapsulates data and metadata by building on top
of the data.frame and has a list of data resource-specific metadata properties (e.g., <code>name</code>, <code>description</code>).
one of which is a <code>fr_schema</code> (Frictionless Schema) object. One of these is a <code>fr_schema</code> object, which is a list of table-specific metadata properties. One of these is a list of <code>fr_field</code> objects, which is a list #' field- (or column-) specific metadata properties (e.g., <code>name</code>, <code>type</code>, <code>constraints</code>)
</p>
<p>Normal usage will only require using <code>as_fr_tdr()</code> to create a <code>fr_tdr</code> object based on a data.frame or tibble.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Cole Brokamp <a href="mailto:cole@colebrokamp.com">cole@colebrokamp.com</a> (<a href="https://orcid.org/0000-0002-0289-3151">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/cole-brokamp/fr">https://github.com/cole-brokamp/fr</a>
</p>
</li>
<li> <p><a href="https://cole-brokamp.github.io/fr/">https://cole-brokamp.github.io/fr/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/cole-brokamp/fr/issues">https://github.com/cole-brokamp/fr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='is_fr_field'>Test if an object is a <code><a href="#topic+fr-package">fr_field</a></code> object</h2><span id='topic+is_fr_field'></span>

<h3>Description</h3>

<p>Test if an object is a <code><a href="#topic+fr-package">fr_field</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fr_field(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_fr_field_+3A_x">x</code></td>
<td>
<p>an object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if object is a <a href="#topic+fr-package">fr_field</a> object, <code>FALSE</code> otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_fr_field(letters)
is_fr_field(as_fr_field(letters, "letters"))
</code></pre>

<hr>
<h2 id='read_fr_tdr'>read a tabular-data-resource into R</h2><span id='topic+read_fr_tdr'></span>

<h3>Description</h3>

<p>read a tabular-data-resource into R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_fr_tdr(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_fr_tdr_+3A_file">file</code></td>
<td>
<p>Either a path to a file, a connection, or literal data (either a
single string or a raw vector). <code>file</code> can also be a character vector
containing multiple filepaths or a list containing multiple connections.
</p>
<p>Files ending in <code>.gz</code>, <code>.bz2</code>, <code>.xz</code>, or <code>.zip</code> will be automatically
uncompressed. Files starting with <code style="white-space: pre;">&#8288;http://&#8288;</code>, <code style="white-space: pre;">&#8288;https://&#8288;</code>, <code style="white-space: pre;">&#8288;ftp://&#8288;</code>, or
<code style="white-space: pre;">&#8288;ftps://&#8288;</code> will be automatically downloaded. Remote gz files can also be
automatically downloaded and decompressed.
</p>
<p>Literal data is most useful for examples and tests. To be recognised as
literal data, wrap the input with <code>I()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A file path (or url) representing a folder
that contains a &quot;tabular-data-resource.yaml&quot; can
be used in <code>file</code>.
</p>


<h3>Value</h3>

<p>a <a href="#topic+fr-package">fr_tdr</a> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>read_fr_tdr(fs::path_package("fr", "hamilton_poverty_2020"))
</code></pre>

<hr>
<h2 id='update_field'>add or update field-specific metadata in a fr_tdr object</h2><span id='topic+update_field'></span>

<h3>Description</h3>

<p>add or update field-specific metadata in a fr_tdr object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_field(x, field, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_field_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+fr-package">fr_tdr</a></code> object</p>
</td></tr>
<tr><td><code id="update_field_+3A_field">field</code></td>
<td>
<p>character name of field in x to update</p>
</td></tr>
<tr><td><code id="update_field_+3A_...">...</code></td>
<td>
<p><a href="https://specs.frictionlessdata.io/table-schema/#field-descriptors">table schema field descriptors</a> (e.g., <code>title</code>, <code>description</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an <code><a href="#topic+fr-package">fr_tdr</a></code> object containing the updated field
</p>


<h3>Examples</h3>

<pre><code class='language-R'>my_mtcars &lt;-
  mtcars |&gt;
  as_fr_tdr(name = "mtcars") |&gt;
  update_field("mpg", title = "Miles Per Gallon")

S7::prop(my_mtcars, "schema")
</code></pre>

<hr>
<h2 id='write_fr_tdr'>write a fr_tdr object to disk</h2><span id='topic+write_fr_tdr'></span>

<h3>Description</h3>

<p>The <code>name</code> property of the <code>fr_tdr</code> object is used to write a frictionless tabular-data-resource to disk.  For example, if <code>name = "my_data"</code>, then a folder named <code>my_data</code> would be created with (1) <code>my_data.csv</code> and (2) <code>tabular-data-resource.yaml</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_fr_tdr(x, dir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_fr_tdr_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+fr-package">fr_tdr</a> object to write to disk</p>
</td></tr>
<tr><td><code id="write_fr_tdr_+3A_dir">dir</code></td>
<td>
<p>path to directory where tabular-data-resource folder will be created</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x (invisibly)
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package FlexScan</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {FlexScan}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#flexscan'><p>Flexible Scan Statistics</p></a></li>
<li><a href='#map'>
<p>Shapefile</p></a></li>
<li><a href='#sample'>
<p>Sample Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Flexible Scan Statistics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Zhicheng Du, Yuantao Hao</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zhicheng Du &lt;dgdzc@hotmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Description:</td>
<td>An easy way to conduct flexible scan.
    Monte-Carlo method is used to test the spatial clusters given the cases, population, and shapefile.
    A table with formal style and a map with clusters are included in the result report.
    The method can be referenced at: Toshiro Tango and Kunihiko Takahashi (2005) &lt;<a href="https://doi.org/10.1186%2F1476-072X-4-11">doi:10.1186/1476-072X-4-11</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>smerc, sp, spdep, methods, graphics, spatialreg</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-01-06 07:16:39 UTC; dgdzc</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-01-06 07:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='flexscan'>Flexible Scan Statistics</h2><span id='topic+flexscan'></span>

<h3>Description</h3>

<p>An easy way to conduct flexible scan. Monte-Carlo method is used to test the spatial clusters given the cases, population, and shapefile. A table with formal style and a map with clusters are included in the result report. The method can be referenced at: Toshiro Tango and Kunihiko Takahashi (2005) &lt;doi:10.1186/1476-072X-4-11&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flexscan(map,case,pop,nsim,k,alpha,isplot,col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flexscan_+3A_map">map</code></td>
<td>
<p>spatial object, typically a shapefile read in using 'rgdal::readOGR'</p>
</td></tr>
<tr><td><code id="flexscan_+3A_case">case</code></td>
<td>
<p>numeric, a vector of number of cases for each region of 'map'; it is noteworthy that the order of regions in 'case' is corresponding to that in 'map'</p>
</td></tr>
<tr><td><code id="flexscan_+3A_pop">pop</code></td>
<td>
<p>numeric, a vector of number of population for each region of 'map'; it is noteworthy that the order of regions in 'pop' is corresponding to that in 'map'</p>
</td></tr>
<tr><td><code id="flexscan_+3A_nsim">nsim</code></td>
<td>
<p>numeric, the number of simulations for Monte Carlo test; the default is 999</p>
</td></tr>
<tr><td><code id="flexscan_+3A_k">k</code></td>
<td>
<p>numeric, the maximum number of regions allowed for clusters; the default is 10</p>
</td></tr>
<tr><td><code id="flexscan_+3A_alpha">alpha</code></td>
<td>
<p>numeric, the significance level of flexible scan test; the default is 0.05</p>
</td></tr>
<tr><td><code id="flexscan_+3A_isplot">isplot</code></td>
<td>
<p>logical, wether to plot the results; the default is 0.05</p>
</td></tr>
<tr><td><code id="flexscan_+3A_col">col</code></td>
<td>
<p>color vector, two colors for most likely cluster and secondary cluster; the default is c(&quot;red&quot;,&quot;blue&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>data.frame</code></td>
<td>
<p>a data.frame containing 8 variables as follows:</p>
</td></tr>
<tr><td><code>Cluster Type</code></td>
<td>
<p>most likely cluster or secondary cluster</p>
</td></tr>
<tr><td><code>Region ID</code></td>
<td>
<p>region id for each cluster; it is noteworthy that the 'ID' is the order of regions in 'map'</p>
</td></tr>
<tr><td><code>Observed Cases</code></td>
<td>
<p>observed cases for each cluster</p>
</td></tr>
<tr><td><code>Expected Cases</code></td>
<td>
<p>expected cases for each cluster</p>
</td></tr>
<tr><td><code>SR</code></td>
<td>
<p>standardized ratio of observed to expected cases</p>
</td></tr>
<tr><td><code>RR</code></td>
<td>
<p>relative risk for each cluster</p>
</td></tr>
<tr><td><code>LLR</code></td>
<td>
<p>loglikelihood ratio for each cluster</p>
</td></tr>
<tr><td><code>P Value</code></td>
<td>
<p>p value of likelihood ratio test for each cluster</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Please feel free to contact us, if you have any advice and find any bug!
</p>
<p>Reference:
</p>
<p>Tango, T. &amp; Takahashi, K. A Flexibly Shaped Spatial Scan Statistic for Detecting Clusters. INT J HEALTH GEOGR. 4, 11 (2005).
</p>
<p>Updates:
</p>
<p>Version 0.2.0: Fix the bugs according to the dependent package of &quot;smerc&quot; version 1.1
</p>
<p>Version 0.2.2: Fix the bugs according to the dependent package of &quot;spdep&quot;
</p>


<h3>Author(s)</h3>

<p>Zhicheng Du&lt;dgdzc@hotmail.com&gt;, Yuantao Hao&lt;haoyt@mail.sysu.edu.cn&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(map)
  data(sample)
  # simple example for checks; turn the warnings back on using 'options(warn=0)'
  options(warn=-1)
  flexscan(map,case=sample$case,pop=sample$pop,k=3,isplot=FALSE,nsim=10)
## Not run: 
 flexscan(map,case=sample$case,pop=sample$pop)

## End(Not run)
</code></pre>

<hr>
<h2 id='map'>
Shapefile
</h2><span id='topic+map'></span>

<h3>Description</h3>

<p>There 123 tiles in the map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map</code></pre>

<hr>
<h2 id='sample'>
Sample Data
</h2><span id='topic+sample'></span>

<h3>Description</h3>

<p>There are two variables in the 'sample' including 'case' and 'pop'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

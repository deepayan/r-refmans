<!DOCTYPE html><html lang="en"><head><title>Help for package RegDDM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RegDDM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#generate_sim_data'><p>Generate simulated binary decision data using DDM</p></a></li>
<li><a href='#get_stan_fit'><p>Get the rstan fit of regddmfit objects</p></a></li>
<li><a href='#print.regddmfit'><p>Printed summary of <span class="pkg">RegDDM</span> fit object</p></a></li>
<li><a href='#regddm'><p>Bayesian hierachical generalized linear regression using Drift-Diffusion Model</p></a></li>
<li><a href='#regddm_tutorial'><p>Simulated example dataset</p></a></li>
<li><a href='#regddmfit'><p>Class of models fitted by <span class="pkg">RegDDM</span></p></a></li>
<li><a href='#summary.regddmfit'><p>Summary of <span class="pkg">RegDDM</span> fit object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Generalized Linear Regression with DDM</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Drift-Diffusion Model (DDM) has been widely used to model binary
    decision-making tasks, and many research studies the relationship between
    DDM parameters and other characteristics of the subject. This package uses
    'RStan' to perform generalized liner regression analysis over DDM parameters
    via a single Bayesian Hierarchical model. Compared to estimating DDM
    parameters followed by a separate regression model, 'RegDDM' reduces bias
    and improves statistical power.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/biorabbit/RegDDM">https://github.com/biorabbit/RegDDM</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/biorabbit/RegDDM/issues">https://github.com/biorabbit/RegDDM/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>rstan, stringr, dplyr, tidyr, purrr, rtdists, rlang, stats,</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-04 05:08:59 UTC; Rabbit</td>
</tr>
<tr>
<td>Author:</td>
<td>Zekai Jin [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zekai Jin &lt;Jin.Zekai@nyspi.columbia.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-05 19:00:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='generate_sim_data'>Generate simulated binary decision data using DDM</h2><span id='topic+generate_sim_data'></span>

<h3>Description</h3>

<p>This function generates a simulated dataset under different configurations
It can be used to test the performance and functionality of <span class="pkg">RegDDM</span>.
The outcome variable is <code>y</code>, which is influenced by different variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_sim_data(
  N = 30,
  n_each = 100,
  n_xvar = 2,
  beta_0 = 0,
  beta_c1 = 0,
  beta_c2 = 0,
  beta_v_0 = 0,
  beta_v_x1 = 0,
  beta_v_x2 = 0,
  sigma_y = 1,
  sigma_v = 0,
  y_family = "gaussian"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate_sim_data_+3A_n">N</code></td>
<td>
<p>Number of subjects.</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_n_each">n_each</code></td>
<td>
<p>Number of trials per subject</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_n_xvar">n_xvar</code></td>
<td>
<p>Number of trial-level variables influencing drift rate</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_beta_0">beta_0</code></td>
<td>
<p>Intercept</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_beta_c1">beta_c1</code></td>
<td>
<p>Slope of c1</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_beta_c2">beta_c2</code></td>
<td>
<p>Slope of c2</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_beta_v_0">beta_v_0</code></td>
<td>
<p>Slope of v_0</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_beta_v_x1">beta_v_x1</code></td>
<td>
<p>Slope of v_x1</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_beta_v_x2">beta_v_x2</code></td>
<td>
<p>Slope of v_x2</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_sigma_y">sigma_y</code></td>
<td>
<p>Standard deviation of error term of y, Only used when
<code>y_family</code> is &quot;gaussian&quot;</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_sigma_v">sigma_v</code></td>
<td>
<p>Contaminant level for drift rate v.</p>
</td></tr>
<tr><td><code id="generate_sim_data_+3A_y_family">y_family</code></td>
<td>
<p>Family of distribution of y. Can be either &quot;gaussian&quot;,
&quot;bernoulli&quot; or &quot;poisson&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with four elements. <code>data1_true</code> and
<code>data2_true</code> are true values of DDM parameters of each subject and
trial. <code>data1</code> and <code>data2</code> removed those hidden variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sim_data = generate_sim_data()
sim_data$data1
sim_data$data2


</code></pre>

<hr>
<h2 id='get_stan_fit'>Get the rstan fit of regddmfit objects</h2><span id='topic+get_stan_fit'></span>

<h3>Description</h3>

<p>Get the <code><a href="rstan.html#topic+stanfit">stanfit</a></code> object of the <code><a href="#topic+regddmfit">regddmfit</a></code>
object to perform further analysis and diagnosis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_stan_fit(fit)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_stan_fit_+3A_fit">fit</code></td>
<td>
<p>A <code>regddmfit</code> object to summary</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>stanfit</code> object.
</p>

<hr>
<h2 id='print.regddmfit'>Printed summary of <span class="pkg">RegDDM</span> fit object</h2><span id='topic+print.regddmfit'></span>

<h3>Description</h3>

<p>Summarize the posterior distributions of estimated regression coefficients
and print necessary information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regddmfit'
print(x, digits = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.regddmfit_+3A_x">x</code></td>
<td>
<p>An <code><a href="#topic+regddmfit">regddmfit</a></code> object to print</p>
</td></tr>
<tr><td><code id="print.regddmfit_+3A_digits">digits</code></td>
<td>
<p>digits of the output results. Default value is 3.</p>
</td></tr>
<tr><td><code id="print.regddmfit_+3A_...">...</code></td>
<td>
<p>Unused...</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No values are returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.regddmfit">summary.regddmfit</a></code> Table summaries of the <code>regddmfit</code> object.
</p>

<hr>
<h2 id='regddm'>Bayesian hierachical generalized linear regression using Drift-Diffusion Model</h2><span id='topic+regddm'></span>

<h3>Description</h3>

<p><code>regddm</code> makes it easy to fit a single Bayesian hierarchical drift-diffusion
model (DDM) that estimates the DDM parameters of each subject and uses the
estimated parameters as variables in a generalized linear regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regddm(
  data1,
  data2,
  model = list(),
  family = "gaussian",
  init = "default",
  prior = TRUE,
  stan_filename = "",
  gen_model = TRUE,
  fit_model = TRUE,
  warmup = 500,
  iter = 1000,
  chains = 4,
  cores = 4,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="regddm_+3A_data1">data1</code></td>
<td>
<p>Subject-level dataframe with column such as age and gender. It
must contain an <code>id</code> column unique for each subject.</p>
</td></tr>
<tr><td><code id="regddm_+3A_data2">data2</code></td>
<td>
<p>Trial-level dataframe. It must contain three columns: <code>id</code>,
<code>response</code> and <code>rt</code>. It can also contain additional trial-level variables
such as experiment condition.</p>
</td></tr>
<tr><td><code id="regddm_+3A_model">model</code></td>
<td>
<p>A list containing 0-5 formulas, specifying the dependence
structure between variables.</p>
</td></tr>
<tr><td><code id="regddm_+3A_family">family</code></td>
<td>
<p>Family of distribution of <code>y</code>. Can be <code>gaussian</code>, <code>bernoulli</code>
or <code>poisson</code>.</p>
</td></tr>
<tr><td><code id="regddm_+3A_init">init</code></td>
<td>
<p>Either <code>default</code> or other values supported by
<code><a href="rstan.html#topic+stan">stan</a></code> function of <span class="pkg">RStan</span></p>
</td></tr>
<tr><td><code id="regddm_+3A_prior">prior</code></td>
<td>
<p>A losigtic value, specifying whether or not to use default prior
for DDM parameters. By default, <code>prior</code> = TRUE.</p>
</td></tr>
<tr><td><code id="regddm_+3A_stan_filename">stan_filename</code></td>
<td>
<p>A string specifying the automatically generated <code>stan</code>
file name. By default, an empty string <code>''</code> is provided. A temporary file
will be created and deleted after the model is fit.</p>
</td></tr>
<tr><td><code id="regddm_+3A_gen_model">gen_model</code></td>
<td>
<p>A logistic value indicating weather or not to generate the
model. If not, RegDDM will not generate the code but use the existing <code>stan</code>
code from <code>stan_filename</code> instead.</p>
</td></tr>
<tr><td><code id="regddm_+3A_fit_model">fit_model</code></td>
<td>
<p>A logistic value indicating weather or not to fit the model.
If not, RegDDM will only generate the code and return an unfitted
<code><a href="#topic+regddmfit">regddmfit</a></code> object.</p>
</td></tr>
<tr><td><code id="regddm_+3A_warmup">warmup</code></td>
<td>
<p>Number of warm-up iterations. Default is 500.</p>
</td></tr>
<tr><td><code id="regddm_+3A_iter">iter</code></td>
<td>
<p>Number of iterations, which must be greater than <code>warmup</code>.
Default value is 1000.</p>
</td></tr>
<tr><td><code id="regddm_+3A_chains">chains</code></td>
<td>
<p>Number of chains to run for diagnosis. Default value is 4.</p>
</td></tr>
<tr><td><code id="regddm_+3A_cores">cores</code></td>
<td>
<p>Number of cores to run the chains. It is best to make
<code>cores = chains</code>.  Default value is 4.</p>
</td></tr>
<tr><td><code id="regddm_+3A_...">...</code></td>
<td>
<p>Other parameters sent to <code><a href="rstan.html#topic+stan">stan</a></code> function of
<span class="pkg">RStan</span>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+regddmfit">regddmfit</a></code> object.
</p>


<h3>References</h3>

<p>To be added
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Note: each example takes about 20 minutes to run. During this period, you
# may not be able to open/save files or see the progress. To prevent this,
# it is recommended to copy, paste and run the example code in the console.

## Not run: 
# Example analysis over the simulated tutorial dataset.
data(regddm_tutorial)
model = list(v ~ x1, y ~ v_0 + v_x1 + c1)
fit1 = regddm(
  regddm_tutorial$data1,
  regddm_tutorial$data2,
  model,
  stan_filename = ""
)
print(fit1)

# Alternatively, subjects' DDM parameters can be used as the outcome.
model = list(v ~ x1, v_x1 ~ y + c1)
fit2 = regddm(
  regddm_tutorial$data1,
  regddm_tutorial$data2,
  model,
  stan_filename = ""
)
print(fit2)

## End(Not run)
</code></pre>

<hr>
<h2 id='regddm_tutorial'>Simulated example dataset</h2><span id='topic+regddm_tutorial'></span>

<h3>Description</h3>

<p>This is the same simulated dataset used in the tutorial part of the RegDDM paper.
</p>
<p><code class="reqn">v = x_1\times v_{x_1}</code>
</p>
<p><code class="reqn">y \sim N(1 + 1\times v_{x_1} + 1\times c_1, 1)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regddm_tutorial
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 2.
</p>

<hr>
<h2 id='regddmfit'>Class of models fitted by <span class="pkg">RegDDM</span></h2><span id='topic+regddmfit'></span>

<h3>Description</h3>

<p><code>regddmfit</code> is an S3 object sotring the fitted models of <span class="pkg">RegDDM</span>.
It contains information used to fit the model and the resulting
<code><a href="rstan.html#topic+stanfit">stanfit</a></code> and can be summarized and printed using
<code><a href="#topic+summary.regddmfit">summary</a></code> and <code><a href="#topic+print.regddmfit">print</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regddmfit(data1, data2, model, family, stan_fit)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="regddmfit_+3A_data1">data1</code></td>
<td>
<p>Subject-level data frame.</p>
</td></tr>
<tr><td><code id="regddmfit_+3A_data2">data2</code></td>
<td>
<p>Trial-level data frame.</p>
</td></tr>
<tr><td><code id="regddmfit_+3A_model">model</code></td>
<td>
<p>A list containing 0-5 formulas, specifying the dependence
structure between variables.</p>
</td></tr>
<tr><td><code id="regddmfit_+3A_family">family</code></td>
<td>
<p>Family of distribution of the outcome.</p>
</td></tr>
<tr><td><code id="regddmfit_+3A_stan_fit">stan_fit</code></td>
<td>
<p>Fitted <code>stan</code> model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>methods(class = "regddmfit")</code> for a list of available methods.
</p>

<hr>
<h2 id='summary.regddmfit'>Summary of <span class="pkg">RegDDM</span> fit object</h2><span id='topic+summary.regddmfit'></span>

<h3>Description</h3>

<p>Summarize the posterior distributions of estimated parameters and group them into
four categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regddmfit'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.regddmfit_+3A_object">object</code></td>
<td>
<p>A <code><a href="#topic+regddmfit">regddmfit</a></code> object to summary</p>
</td></tr>
<tr><td><code id="summary.regddmfit_+3A_...">...</code></td>
<td>
<p>parameters passed to <code><a href="rstan.html#topic+summary+2Cstanfit-method">summary,stanfit-method</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The summary method returns a named list of <code>glm_coefficiets</code>,
<code>subject_ddm_param</code>, <code>group_param</code>, and <code>missing_value</code>.
Each element is a <code><a href="tibble.html#topic+tibble">tibble</a></code> data frame of posterior
summary statistics of the regression coefficient, DDM parameter of each
subject, group mean and standard deviation of DDM parameters and covariates,
plus the estimated missing values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.regddmfit">print.regddmfit</a></code> a printed summary of the <code>regddmfit</code> object.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

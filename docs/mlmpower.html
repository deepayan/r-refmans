<!DOCTYPE html><html><head><title>Help for package mlmpower</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mlmpower}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#analyze'><p>Analyzes a single <code>mp_data</code> using <code>lme4::lmer</code></p></a></li>
<li><a href='#as.data.frame.mp_power'><p>Coerce a <code>mp_power</code> to a Data Frame</p></a></li>
<li><a href='#as.list.mp_parameters'><p>Convert <code>mp_parameters</code> to a <code>list</code></p></a></li>
<li><a href='#center'><p>Center a data set based on a <code>mp_data</code></p></a></li>
<li><a href='#correlations'><p>Specify the Correlation Structure for the Model</p></a></li>
<li><a href='#effect_size'><p>Specify the Effect Size for the Model</p></a></li>
<li><a href='#generate'><p>Generates Data Sets Based on a <code>mp_model</code></p></a></li>
<li><a href='#is_valid'><p>Check if a Model is Properly Specified</p></a></li>
<li><a href='#levels.mp_variable'><p>Obtain Level of Observation for a Variable</p></a></li>
<li><a href='#mechanisms'><p>Helper functions for producing Missing Data Mechanisms</p></a></li>
<li><a href='#mlmpower'><p><code>mlmpower</code> Modeling Framework</p></a></li>
<li><a href='#mp_corr_func'><p>Functions for Generating Correlations</p></a></li>
<li><a href='#mp_parameters'><p><code>mp_parameters</code> Object for <code>mlmpower</code></p></a></li>
<li><a href='#parameters'><p>Obtain <code>mp_parameters</code> from objects</p></a></li>
<li><a href='#power_analysis'><p>Conduct a Power Analysis Based on <code>mp_model</code></p></a></li>
<li><a href='#print.mp_correlations'><p>Prints a <code>mp_correlations</code></p></a></li>
<li><a href='#print.mp_effsize'><p>Prints a <code>mp_effsize</code></p></a></li>
<li><a href='#print.mp_model'><p>Prints a <code>mp_model</code></p></a></li>
<li><a href='#print.mp_parameters'><p>Prints a <code>mp_parameters</code></p></a></li>
<li><a href='#print.mp_power'><p>Prints a <code>mp_power</code></p></a></li>
<li><a href='#print.mp_variable'><p>Prints a <code>mp_variable</code></p></a></li>
<li><a href='#product'><p>Create a Product Term in a Model</p></a></li>
<li><a href='#random_slope'><p>Create a Random Slope in a Model</p></a></li>
<li><a href='#subset.mp_model'><p>Subset a <code>mp_model</code> by Global ICC</p></a></li>
<li><a href='#summary.mp_model'><p>Obtain the Parameter Summaries for A <code>mp_model</code></p></a></li>
<li><a href='#summary.mp_power'><p>Summarizes a <code>mp_power</code></p></a></li>
<li><a href='#to_formula'><p>Convert <code>mp_data</code> to a <code>stats::formula</code> to be used for <code>lme4::lmer</code></p></a></li>
<li><a href='#Variables'><p>Functions for Creating Variables</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Power Analysis and Data Simulation for Multilevel Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.8</td>
</tr>
<tr>
<td>Description:</td>
<td>
    A declarative language for specifying multilevel models,
    solving for population parameters based on specified variance-explained effect
    size measures, generating data, and conducting power analyses to determine
    sample size recommendations. The specification allows for any number of
    within-cluster effects, between-cluster effects, covariate effects
    at either level, and random coefficients. Moreover, the models do not
    assume orthogonal effects, and predictors can correlate at either level
    and accommodate models with multiple interaction effects.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bkeller2/mlmpower">https://github.com/bkeller2/mlmpower</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/bkeller2/mlmpower/issues">https://github.com/bkeller2/mlmpower/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, lme4, lmerTest, varTestnlme</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-02 17:18:27 UTC; Bry</td>
</tr>
<tr>
<td>Author:</td>
<td>Brian T. Keller [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Brian T. Keller &lt;btkeller@missouri.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-02 23:05:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='analyze'>Analyzes a single <code><a href="#topic+mp_data">mp_data</a></code> using <code><a href="lme4.html#topic+lmer">lme4::lmer</a></code></h2><span id='topic+analyze'></span>

<h3>Description</h3>

<p>Analyzes a single <code><a href="#topic+mp_data">mp_data</a></code> based on the data generating model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze(data, alpha = 0.05, no_lrt = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="analyze_+3A_data">data</code></td>
<td>
<p>a <code><a href="#topic+mp_data">mp_data</a></code>.</p>
</td></tr>
<tr><td><code id="analyze_+3A_alpha">alpha</code></td>
<td>
<p>the significance level to determine if an effect is statistically significant.
If <code>NULL</code> then no nested model testing is conducted.</p>
</td></tr>
<tr><td><code id="analyze_+3A_no_lrt">no_lrt</code></td>
<td>
<p>do not perform additional likelihood ratio tests.
Setting to <code>TRUE</code> will speed up the analysis because the model is only fit once.</p>
</td></tr>
<tr><td><code id="analyze_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="lme4.html#topic+lmer">lme4::lmer()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+list">list</a></code> that with the following named elements:
</p>

<ul>
<li> <p><code>estimates</code>: The estimates from fitting the model.
</p>
</li>
<li> <p><code>sig_test</code>: The logical if the estimates were statistically siginificant based on <code>alpha</code>.
</p>
</li>
<li> <p><code>parameters</code>: The <code><a href="#topic+mp_parameters">mp_parameters</a></code> extracted from <code>data</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)
# Set seed
set.seed(198723)
# Create data set and analyze
model |&gt; generate(5, 50) |&gt; analyze() -&gt; results
</code></pre>

<hr>
<h2 id='as.data.frame.mp_power'>Coerce a <code><a href="#topic+mp_power">mp_power</a></code> to a Data Frame</h2><span id='topic+as.data.frame.mp_power'></span>

<h3>Description</h3>

<p>Outputs <code><a href="#topic+mp_power">mp_power</a></code> as a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_power'
as.data.frame(x, row.names = NULL, optional = FALSE, power = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.mp_power_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_power">mp_power</a></code>.</p>
</td></tr>
<tr><td><code id="as.data.frame.mp_power_+3A_row.names">row.names</code></td>
<td>
<p>passed to <code><a href="base.html#topic+as.data.frame">base::as.data.frame</a></code></p>
</td></tr>
<tr><td><code id="as.data.frame.mp_power_+3A_optional">optional</code></td>
<td>
<p>passed to <code><a href="base.html#topic+as.data.frame">base::as.data.frame</a></code></p>
</td></tr>
<tr><td><code id="as.data.frame.mp_power_+3A_power">power</code></td>
<td>
<p>logical: do you want the power or the estimates</p>
</td></tr>
<tr><td><code id="as.data.frame.mp_power_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)
# Set seed
set.seed(19723)
# Create data set and analyze
# Note: Generally Use more than 50 replications
model |&gt; power_analysis(50, 5, 50) -&gt; powersim
# Obtain Results as a data frame
as.data.frame(powersim)
</code></pre>

<hr>
<h2 id='as.list.mp_parameters'>Convert <code><a href="#topic+mp_parameters">mp_parameters</a></code> to a <code><a href="base.html#topic+list">list</a></code></h2><span id='topic+as.list.mp_parameters'></span>

<h3>Description</h3>

<p>A wrapper to coerce <code><a href="#topic+mp_parameters">mp_parameters</a></code> to a <code><a href="base.html#topic+list">list</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_parameters'
as.list(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.list.mp_parameters_+3A_x">x</code></td>
<td>
<p>the <code><a href="#topic+mp_parameters">mp_parameters</a></code> to be coered.</p>
</td></tr>
<tr><td><code id="as.list.mp_parameters_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="base.html#topic+as.list">as.list</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+list">list</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Specify model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = c(0.1, 0.2),
        within = 0.3
    )
)
# Obtain parameters and convert to a list
model |&gt; summary() |&gt; as.list() -&gt; param_list
</code></pre>

<hr>
<h2 id='center'>Center a data set based on a <code><a href="#topic+mp_data">mp_data</a></code></h2><span id='topic+center'></span>

<h3>Description</h3>

<p>Provides multilevel centering of a <code><a href="#topic+mp_data">mp_data</a></code> data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>center(data, all = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="center_+3A_data">data</code></td>
<td>
<p>a <code><a href="#topic+mp_data">mp_data</a></code> or a <code><a href="base.html#topic+list">list</a></code> of <code><a href="#topic+mp_data">mp_data</a></code>.</p>
</td></tr>
<tr><td><code id="center_+3A_all">all</code></td>
<td>
<p>a logical value to center all variables based on model defaults</p>
</td></tr>
<tr><td><code id="center_+3A_...">...</code></td>
<td>
<p>see details below</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>...</code> needs to be the variable's name followed by equals and the centering
strategy requested. There are three different strategies available:
</p>

<ul>
<li> <p><code>cwc</code>  = centering within cluster
</p>
</li>
<li> <p><code>cgm</code>  = centering with group mean
</p>
</li>
<li> <p><code>none</code> = no centering
</p>
</li></ul>

<p>If <code>all</code> is set to <code>TRUE</code> then the default centering will be used unless
overwritten by specifying a specific centering strategy.
</p>


<h3>Value</h3>

<p>For <code>ndata = 1</code> a single <code><a href="base.html#topic+data.frame">data.frame</a></code> is returned.
If a list of data sets are included then they will be contained in a <code><a href="base.html#topic+list">list</a></code>.
Each <code><a href="base.html#topic+data.frame">data.frame</a></code> has an additional <code>center</code> attribute which denotes
the centering strategy used.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)
# Set seed
set.seed(198723)

# Create data set with default centering
model |&gt; generate(5, 50) |&gt; center(all = TRUE) -&gt; mydata

# Create data centering X with cwc
model |&gt; generate(5, 50) |&gt; center(X = cwc) -&gt; mydata

# See centering strategy
attr(mydata, 'center')
</code></pre>

<hr>
<h2 id='correlations'>Specify the Correlation Structure for the Model</h2><span id='topic+correlations'></span><span id='topic+mp_corr'></span><span id='topic+mp_correlations'></span>

<h3>Description</h3>

<p>Creates a list of correlations to be added to a <code><a href="#topic+mp_model">mp_model</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>correlations(within, between, randeff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="correlations_+3A_within">within</code></td>
<td>
<p>a single numeric value or <code><a href="#topic+mp_corr_func">mp_corr_func</a></code> that specifies random correlations.
Corresponds to the level-1 correlation among predictors.</p>
</td></tr>
<tr><td><code id="correlations_+3A_between">between</code></td>
<td>
<p>a single numeric value or <code><a href="#topic+mp_corr_func">mp_corr_func</a></code> that specifies random correlations.
Corresponds to the level-2 correlation among predictors.</p>
</td></tr>
<tr><td><code id="correlations_+3A_randeff">randeff</code></td>
<td>
<p>a single numeric value or <code><a href="#topic+mp_corr_func">mp_corr_func</a></code> that specifies random correlations.
Corresponds to the random effects correlation among predictors.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default values are <code>random(0.1, 0.3)</code>.
Currently <code>randeff</code> are required to be zero if more than one random slope is in the model.
</p>


<h3>Value</h3>

<p>A list that corresponds to each correlation value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+random">random()</a></code> <code><a href="#topic+fixed">fixed()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = c(0.1, 0.2),
        within = 0.3
    )
    # Defaults
    + correlations(
        within  = random(0.1, 0.3),
        between = random(0.1, 0.3),
        randeff = random(0.1, 0.3)
    )
)
</code></pre>

<hr>
<h2 id='effect_size'>Specify the Effect Size for the Model</h2><span id='topic+effect_size'></span><span id='topic+mp_effect'></span><span id='topic+mp_effsize'></span><span id='topic+cross_sectional'></span><span id='topic+longitudinal'></span>

<h3>Description</h3>

<p>Creates a list of effect sizes to be added to a <code><a href="#topic+mp_model">mp_model</a></code>.
</p>
<p>Returns suggested ICC's for cross-sectional studies (0.05, 0.15, and 0.25).
</p>
<p>Returns suggested ICC ranges for longitudinal studies (0.40, 0.50, and 0.60).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effect_size(icc, within, between, random_slope, product)

cross_sectional()

longitudinal()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effect_size_+3A_icc">icc</code></td>
<td>
<p>a numeric vector of global ICC values for <code><a href="#topic+mp_variable">mp_variable</a></code> who are left unspecified.
Values must be between 0 and 1.</p>
</td></tr>
<tr><td><code id="effect_size_+3A_within">within</code></td>
<td>
<p>a single numeric value that corresponds to the proportion of variance explained by the within variables.</p>
</td></tr>
<tr><td><code id="effect_size_+3A_between">between</code></td>
<td>
<p>a single numeric value that corresponds to the incremental proportion of variance explained by the between variables.</p>
</td></tr>
<tr><td><code id="effect_size_+3A_random_slope">random_slope</code></td>
<td>
<p>a single numeric value that corresponds to the proportion of variance explained by the random slopes.</p>
</td></tr>
<tr><td><code id="effect_size_+3A_product">product</code></td>
<td>
<p>a single numeric value that corresponds to the proportion of variance explained by the product terms.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that corresponds to each R2 value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set ICCs
(
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = c(0.1, 0.2),
        within = 0.3
    )
)

# With cross-sectional ICC
(
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = cross_sectional,
        within = 0.3
    )
)

# With longitudinal ICC
(
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = longitudinal,
        within = 0.3
    )
)
</code></pre>

<hr>
<h2 id='generate'>Generates Data Sets Based on a <code><a href="#topic+mp_model">mp_model</a></code></h2><span id='topic+generate'></span><span id='topic+mp_data'></span>

<h3>Description</h3>

<p>Generates data sets based on a <code><a href="#topic+mp_model">mp_model</a></code>.
These data sets will be returned as a <code><a href="base.html#topic+data.frame">data.frame</a></code> and include the
solved parameters as an attribute to the <code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate(model, n_within, n_between, ndata = 1, mechanism = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_+3A_model">model</code></td>
<td>
<p>a <code><a href="#topic+mp_model">mp_model</a></code>.</p>
</td></tr>
<tr><td><code id="generate_+3A_n_within">n_within</code></td>
<td>
<p>a single positive integer of the desired within cluster observations.</p>
</td></tr>
<tr><td><code id="generate_+3A_n_between">n_between</code></td>
<td>
<p>a single positive integer of the desired between cluster observations.</p>
</td></tr>
<tr><td><code id="generate_+3A_ndata">ndata</code></td>
<td>
<p>a single positive integer of the number of desired data sets.</p>
</td></tr>
<tr><td><code id="generate_+3A_mechanism">mechanism</code></td>
<td>
<p>a function for inducing missing data to the data set. If NULL it is ignored. See details below.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that there must only be one global ICC in <code><a href="#topic+mp_model">mp_model</a></code>.
</p>
<p>Use the <code>mechanism</code> argument to specify  missing data mechanisms. See <code><a href="#topic+mechanisms">mechanisms</a></code>
for predefined missing data mechanisms for the outcome and examples using them.
When creating custom mechanisms care needs to be taken because it is considered for
advanced usage. This a argument expects a function with the <code><a href="#topic+mp_data">mp_data</a></code> as the input,
and the function should return the modified <code><a href="#topic+mp_data">mp_data</a></code>. Be careful when
using this because it allows you to modify the population parameters, which will
be incorrect. You should only induce missing data values on variables. Missing data
on the predictors will cause listwise deletion to be used, but missing data on the
outcome will be appropriate for MAR-based mechanisms. See examples below for an
example that generates MCAR data on the outcome. See <code><a href="#topic+parameters">parameters</a></code>
to obtain the population parameters from each data set.
</p>


<h3>Value</h3>

<p>For <code>ndata = 1</code> a single <code><a href="base.html#topic+data.frame">data.frame</a></code> is returned.
The first variable is the cluster identifier labeled <code style="white-space: pre;">&#8288;_id&#8288;</code>.
This object is also of class <code>mp_data</code> which means that it was generated
based on a specified model.
If multiple data sets are requested then they will be contained in a <code><a href="base.html#topic+list">list</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)
# Set seed
set.seed(198723)
# Create data set
model |&gt; generate(5, 50) -&gt; mydata

# Induce missing data with custom function
model |&gt; generate(50, 5, mechanism = MCAR(0.25)) -&gt; mydata_mcar

# Induce missing data with custom function
model |&gt; generate(50, 5, mechanism = \(data) {
    # `data` will be the `mp_data` used
    within(data, {
        # MCAR Process
        Y &lt;- ifelse(runif(NROW(data)) &lt; 0.5, Y, NA)
    })
}) -&gt; mydata_mcar_custom

</code></pre>

<hr>
<h2 id='is_valid'>Check if a Model is Properly Specified</h2><span id='topic+is_valid'></span>

<h3>Description</h3>

<p>This function is used to validate if a <code><a href="#topic+mp_model">mp_model</a></code> is correct.
If the model is incorrect an appopriate error message describing while will be supplied
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valid(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_valid_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_model">mp_model</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- outcome('Y') + within_predictor('X')
# Throws error
tryCatch(
    is_valid(model),
    error = print
)
# Succeeds
is_valid(model + effect_size(icc = 0.1))
</code></pre>

<hr>
<h2 id='levels.mp_variable'>Obtain Level of Observation for a Variable</h2><span id='topic+levels.mp_variable'></span>

<h3>Description</h3>

<p>Returns which level a variable is observed at in the multilevel model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_variable'
levels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="levels.mp_variable_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_variable">mp_variable</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a single integer of the level of observation
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Returns 1
levels(
    within_predictor(
        'X',
        weight = 1,
        mean = 5,
        sd = 10,
        icc = 0.1
    )
)
</code></pre>

<hr>
<h2 id='mechanisms'>Helper functions for producing Missing Data Mechanisms</h2><span id='topic+mechanisms'></span><span id='topic+mechanism'></span><span id='topic+MCAR'></span><span id='topic+MAR'></span>

<h3>Description</h3>

<p>Functions to generate data that always follows a specific mechanism
in accordance to a single-level model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'># Generate MCAR data on outcome
MCAR(mis.rate)

# Generate MAR data on outcome due to `cause`
MAR(mis.rate, cause, r2, lower = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mechanisms_+3A_mis.rate">mis.rate</code></td>
<td>
<p>A proportion for the missing data rate at population level</p>
</td></tr>
<tr><td><code id="mechanisms_+3A_cause">cause</code></td>
<td>
<p>A character for a variable name that is the cause of missingness</p>
</td></tr>
<tr><td><code id="mechanisms_+3A_r2">r2</code></td>
<td>
<p>A proportion of variance explained by the cause in the missing data indicator's latent propensity</p>
</td></tr>
<tr><td><code id="mechanisms_+3A_lower">lower</code></td>
<td>
<p>A logical for the lower or upper tail being more likely to be missing</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+power_analysis">power_analysis</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)

# Induce MCAR data on outcome
set.seed(19723)
model |&gt; power_analysis(50, 5, 50, mechanism = MCAR(0.25)) -&gt; powersim_mcar

# Induce MAR data on outcome
set.seed(19723)
model |&gt; power_analysis(
   50, 5, 50,
   mechanism = MAR(0.25, 'X', 0.6)
) -&gt; powersim_mar
</code></pre>

<hr>
<h2 id='mlmpower'><code>mlmpower</code> Modeling Framework</h2><span id='topic+mlmpower'></span><span id='topic+mp_model'></span><span id='topic+model'></span><span id='topic+Modeling'></span><span id='topic+modeling'></span><span id='topic++60+2B.mp_base+60'></span><span id='topic+mp_action'></span><span id='topic+mp_base'></span>

<h3>Description</h3>

<p><code>mlmpower</code> constructs models by adding different features of the model using the plus sign  (<code>+</code>).
</p>
<p>Every model requires an <code><a href="#topic+outcome">outcome</a></code> and an ICC specified in <code><a href="#topic+effect_size">effect_size</a></code> to be valid.
</p>
<div class="sourceCode r"><pre>model &lt;- outcome('y') + effect_size(icc = 0.1)
</pre></div>
<p>Once a model is constructed, we can add additional features to build the model out more.
For example, we may want to include a level-1 predictor that is centered within cluster.
</p>
<div class="sourceCode r"><pre>model &lt;- model + within_predictor('x', icc = 0.0)
</pre></div>
<p>The additions can be chained together to produce the entire model object.
For example, the previous two code blocks can be combined into one.
</p>
<div class="sourceCode r"><pre>model &lt;- (
    outcome('y')
    + effect_size(icc = 0.1)
    + within_predictor('x', icc = 0.0)
)
</pre></div>
<p>Finally, we can also wrap multiple variables into a list and add that.
This feature can be useful when programmatically generating a model.
</p>
<div class="sourceCode r"><pre>model &lt;- (
    outcome('y')
    + effect_size(icc = 0.1)
    + lapply(1:10, \(i) within_predictor(paste0('x', i), icc = 0.0))
)
</pre></div>
<p>For more detailed information see the help vignette by running the following:
</p>
<div class="sourceCode"><pre>vignette('mlmpower')
</pre></div>


<h3>See Also</h3>

<p><a href="#topic+Variables">Variables</a> <code><a href="#topic+effect_size">effect_size()</a></code>
<code><a href="#topic+correlations">correlations()</a></code> <code><a href="#topic+random_slope">random_slope()</a></code>
<code><a href="#topic+product">product()</a></code>
</p>

<hr>
<h2 id='mp_corr_func'>Functions for Generating Correlations</h2><span id='topic+mp_corr_func'></span><span id='topic+random'></span><span id='topic+fixed'></span>

<h3>Description</h3>

<p>Specify a random correlation that is uniform between <code>lower</code> and <code>upper</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random(lower, upper)

fixed(value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mp_corr_func_+3A_lower">lower</code></td>
<td>
<p>the lower bound of the distribution.</p>
</td></tr>
<tr><td><code id="mp_corr_func_+3A_upper">upper</code></td>
<td>
<p>the upper bound of the distribution.</p>
</td></tr>
<tr><td><code id="mp_corr_func_+3A_value">value</code></td>
<td>
<p>the fixed value for the correlation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>mp_corr_func</code> that generates the desired correlation
</p>


<h3>See Also</h3>

<p><code><a href="#topic+correlations">correlations()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model with random and fixed correlations
(
    outcome('Y')
    + within_predictor('X')
    + between_predictor('Z')
    + effect_size(icc = 0.1)
    # Defaults
    + correlations(
        within  = random(0.1, 0.3),
        between = fixed(0.2)
    )
)
</code></pre>

<hr>
<h2 id='mp_parameters'><code>mp_parameters</code> Object for <code>mlmpower</code></h2><span id='topic+mp_parameters'></span>

<h3>Description</h3>

<p>An S3 class that contains an <code><a href="base.html#topic+environment">base::environment</a></code> with the following objects:
</p>

<ul>
<li> <p><code>r2</code>: The population proportion of variance explained
</p>
</li>
<li> <p><code>phi_b</code>: The population predictor covariance matrix for between
</p>
</li>
<li> <p><code>phi_p</code>: The population within cluster covariance matrix for products
</p>
</li>
<li> <p><code>phi_w</code>: The population predictor covariance matrix for within
</p>
</li>
<li> <p><code>mean_Z</code>: The population mean for level-2 predictors
</p>
</li>
<li> <p><code>mean_X</code>: The population mean for level-1 predictors
</p>
</li>
<li> <p><code>var_e</code>: The population within residual variance
</p>
</li>
<li> <p><code>tau</code>: The population level-2 covariance matrix
</p>
</li>
<li> <p><code>gammas</code>: The regression coefficients
</p>
</li>
<li> <p><code>mean_Y</code>: The population mean of the outcome
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+parameters">parameters</a>
</p>

<hr>
<h2 id='parameters'>Obtain <code><a href="#topic+mp_parameters">mp_parameters</a></code> from objects</h2><span id='topic+parameters'></span><span id='topic+parameters.mp_model'></span><span id='topic+parameters.mp_data'></span><span id='topic+parameters.mp_power'></span>

<h3>Description</h3>

<p>A generic function to obtain <code><a href="#topic+mp_parameters">mp_parameters</a></code> from defined models and data sets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parameters(object)

## S3 method for class 'mp_model'
parameters(object)

## S3 method for class 'mp_data'
parameters(object)

## S3 method for class 'mp_power'
parameters(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parameters_+3A_object">object</code></td>
<td>
<p>an object which the <code><a href="#topic+mp_parameters">mp_parameters</a></code> are desired.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently object can be:
</p>

<ul>
<li> <p><code><a href="#topic+mp_model">mp_model</a></code>
</p>
</li>
<li> <p><code><a href="#topic+mp_data">mp_data</a></code>
</p>
</li>
<li> <p><code><a href="#topic+mp_power">mp_power</a></code>
</p>
</li></ul>

<p>If using on a  <code><a href="#topic+mp_model">mp_model</a></code> and the  model has random correlations
then the average is used.
</p>


<h3>Value</h3>

<p>A <code><a href="#topic+mp_parameters">mp_parameters</a></code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)

# Create data set and obtain population parameters
model |&gt; parameters()
# Set seed
set.seed(198723)
# Create data set and obtain population parameters
model |&gt; generate(5, 50) |&gt; parameters()
# Set seed
set.seed(198723)
# Create data set and obtain population parameters
model |&gt; power_analysis(50, 5, 50) |&gt; parameters()
</code></pre>

<hr>
<h2 id='power_analysis'>Conduct a Power Analysis Based on <code><a href="#topic+mp_model">mp_model</a></code></h2><span id='topic+power_analysis'></span><span id='topic+mp_power'></span>

<h3>Description</h3>

<p>This function will construct a multilevel power analysis via a Monte Carlo Simulation
based on a constructed <code><a href="#topic+mp_model">mp_model</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>power_analysis(model, replications, n_within, n_between, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="power_analysis_+3A_model">model</code></td>
<td>
<p>a <code><a href="#topic+mp_model">mp_model</a></code>.</p>
</td></tr>
<tr><td><code id="power_analysis_+3A_replications">replications</code></td>
<td>
<p>a single positive integer of the number of replications per condition.</p>
</td></tr>
<tr><td><code id="power_analysis_+3A_n_within">n_within</code></td>
<td>
<p>an integer vector of the desired within cluster observations.</p>
</td></tr>
<tr><td><code id="power_analysis_+3A_n_between">n_between</code></td>
<td>
<p>an integer vector of the desired between cluster observations.</p>
</td></tr>
<tr><td><code id="power_analysis_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="#topic+analyze">analyze()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specifying multiple <code>n_within</code> and <code>n_between</code> will produce a full factorial simulation design.
</p>
<p>Specify a <code>mechanism</code> argument to pass down to the <code><a href="#topic+generate">generate</a></code> function.
See the details of <code><a href="#topic+generate">generate</a></code> for more information about specifying missing data mechanisms.
See <code><a href="#topic+mechanisms">mechanisms</a></code> for predefined missing data mechanisms.
</p>
<p>Specify an <code>analyze</code> argument to use custom analysis functions. These functions should map onto
<code><a href="#topic+analyze">analyze</a></code>'s structure, but can allow for things like specifying multiple imputations etc.
This is considered an advance usage that requires extreme care and caution.
</p>


<h3>Value</h3>

<p>A <code>mp_power</code> object that contains the results.
See <code><a href="#topic+print.mp_power">print.mp_power</a></code> for more information.
The object has the following slots:
</p>

<ul>
<li> <p><code>sim</code>: The information about the simulation
</p>
</li>
<li> <p><code>power</code>: The power power results per condition.
</p>
</li>
<li> <p><code>estimates</code>: The simulation summaries of the parameter estimates per condition.
</p>
</li>
<li> <p><code>mean_parameters</code>: The average population parameter per condition.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+generate">generate()</a></code>
</p>
<p><a href="#topic+mechanisms">mechanisms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)
# Set seed
set.seed(19723)
# Create data set and analyze
# Note: Generally Use more than 50 replications
model |&gt; power_analysis(50, 5, 50)

# Induce missing data on outcome with built in mechanisms
set.seed(19723)
model |&gt; power_analysis(50, 5, 50, mechanism = MCAR(0.25)) -&gt; powersim_mcar

</code></pre>

<hr>
<h2 id='print.mp_correlations'>Prints a <code><a href="#topic+mp_correlations">mp_correlations</a></code></h2><span id='topic+print.mp_correlations'></span>

<h3>Description</h3>

<p>Prints a <code><a href="#topic+mp_correlations">mp_correlations</a></code> in a human readable format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_correlations'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.mp_correlations_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_correlations">mp_correlations</a></code>.</p>
</td></tr>
<tr><td><code id="print.mp_correlations_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = c(0.1, 0.2),
        within = 0.3
    )
)
# Print correlations only
print(model$corrs)
</code></pre>

<hr>
<h2 id='print.mp_effsize'>Prints a <code><a href="#topic+mp_effsize">mp_effsize</a></code></h2><span id='topic+print.mp_effsize'></span>

<h3>Description</h3>

<p>Prints a <code><a href="#topic+mp_effsize">mp_effsize</a></code> in a human readable format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_effsize'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.mp_effsize_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_effsize">mp_effsize</a></code>.</p>
</td></tr>
<tr><td><code id="print.mp_effsize_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = c(0.1, 0.2),
        within = 0.3
    )
)
# Print effect size only
print(model$effect_size)
</code></pre>

<hr>
<h2 id='print.mp_model'>Prints a <code><a href="#topic+mp_model">mp_model</a></code></h2><span id='topic+print.mp_model'></span>

<h3>Description</h3>

<p>Prints a <code><a href="#topic+mp_variable">mp_variable</a></code> in a human readable format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_model'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.mp_model_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_model">mp_model</a></code>.</p>
</td></tr>
<tr><td><code id="print.mp_model_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = cross_sectional)
)
</code></pre>

<hr>
<h2 id='print.mp_parameters'>Prints a <code><a href="#topic+mp_parameters">mp_parameters</a></code></h2><span id='topic+print.mp_parameters'></span>

<h3>Description</h3>

<p>Prints a <code><a href="#topic+mp_parameters">mp_parameters</a></code> in a human readable format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_parameters'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.mp_parameters_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_parameters">mp_parameters</a></code>.</p>
</td></tr>
<tr><td><code id="print.mp_parameters_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="base.html#topic+print">print()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(
    summary(
        outcome('Y')
        + within_predictor('X')
        + effect_size(icc = cross_sectional)
    )
)
</code></pre>

<hr>
<h2 id='print.mp_power'>Prints a <code><a href="#topic+mp_power">mp_power</a></code></h2><span id='topic+print.mp_power'></span>

<h3>Description</h3>

<p>Prints a <code><a href="#topic+mp_power">mp_power</a></code> in a human readable format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_power'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.mp_power_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_power">mp_power</a></code>.</p>
</td></tr>
<tr><td><code id="print.mp_power_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)
# Set seed
set.seed(19723)
# Create data set and analyze
# Note: Generally Use more than 50 replications
model |&gt; power_analysis(50, 5, 50) -&gt; powersim
# Print results
print(powersim)
</code></pre>

<hr>
<h2 id='print.mp_variable'>Prints a <code><a href="#topic+mp_variable">mp_variable</a></code></h2><span id='topic+print.mp_variable'></span>

<h3>Description</h3>

<p>Prints a <code><a href="#topic+mp_variable">mp_variable</a></code> in a human readable format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_variable'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.mp_variable_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_variable">mp_variable</a></code>.</p>
</td></tr>
<tr><td><code id="print.mp_variable_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(
    within_predictor(
        'X',
        weight = 1,
        mean = 5,
        sd = 10,
        icc = 0.1
    )
)
</code></pre>

<hr>
<h2 id='product'>Create a Product Term in a Model</h2><span id='topic+product'></span>

<h3>Description</h3>

<p>Creates a product term between two variables that can be added to a <code><a href="#topic+mp_model">mp_model</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>product(name1, name2, weight = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="product_+3A_name1">name1</code></td>
<td>
<p>a character string that references the first variable's name</p>
</td></tr>
<tr><td><code id="product_+3A_name2">name2</code></td>
<td>
<p>a character string that references the second variable's name</p>
</td></tr>
<tr><td><code id="product_+3A_weight">weight</code></td>
<td>
<p>a single numeric value specifying the variable's contribution to the variance explained metric.
Weights are normalized across all variables of the same level.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently the product term is only limited to cross-level
interactions between a level-1 centered within cluster variable (<code>icc = 0</code>)
and level-2 variable.
</p>


<h3>Value</h3>

<p>A <code><a href="#topic+mp_action">mp_action</a></code> that can be added to a <code><a href="#topic+mp_model">mp_model</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X', icc = 0.0)
    + between_predictor('Z')
)
# Add random slope to the model
model + product('X', 'Z')
</code></pre>

<hr>
<h2 id='random_slope'>Create a Random Slope in a Model</h2><span id='topic+random_slope'></span>

<h3>Description</h3>

<p>Creates a random slope that can be added to a <code><a href="#topic+mp_model">mp_model</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random_slope(name, weight = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="random_slope_+3A_name">name</code></td>
<td>
<p>a character string that references a variable's name</p>
</td></tr>
<tr><td><code id="random_slope_+3A_weight">weight</code></td>
<td>
<p>a single numeric value specifying the variable's contribution to the variance explained metric.
Weights are normalized across all variables of the same level.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+mp_action">mp_action</a></code> that can be added to a <code><a href="#topic+mp_model">mp_model</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = 0.1,
        within = 0.1,
        random_slope = 0.03
    )
)
# Add random slope to the model
model + random_slope('X')
</code></pre>

<hr>
<h2 id='subset.mp_model'>Subset a <code><a href="#topic+mp_model">mp_model</a></code> by Global ICC</h2><span id='topic+subset.mp_model'></span>

<h3>Description</h3>

<p>Subsets a <code><a href="#topic+mp_model">mp_model</a></code> with multiple ICC values specified in <code><a href="#topic+effect_size">effect_size</a></code>
into a model with only the single ICC value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_model'
subset(x, icc, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset.mp_model_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+mp_model">mp_model</a></code> object</p>
</td></tr>
<tr><td><code id="subset.mp_model_+3A_icc">icc</code></td>
<td>
<p>a single numeric value to subset out of <code>x</code></p>
</td></tr>
<tr><td><code id="subset.mp_model_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new <code><a href="#topic+mp_model">mp_model</a></code> with only the subset ICC
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = cross_sectional)
)
# Obtain Model with only 0.15 ICC
model |&gt; subset(icc = 0.15)
</code></pre>

<hr>
<h2 id='summary.mp_model'>Obtain the Parameter Summaries for A <code><a href="#topic+mp_model">mp_model</a></code></h2><span id='topic+summary.mp_model'></span>

<h3>Description</h3>

<p>Provide the summarized parameter estimates for a <code><a href="#topic+mp_model">mp_model</a></code>,
including the variance explained break downs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_model'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.mp_model_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+mp_model">mp_model</a></code></p>
</td></tr>
<tr><td><code id="summary.mp_model_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+mp_parameters">mp_parameters</a></code> object that contains the population parameters based on the model.
If random correlations are used the average correlation is used to compute the parameters.
If multiple ICC's are specified then a named <code><a href="base.html#topic+list">base::list</a></code> is
returned containing the parameter value for each ICC value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>summary(
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = cross_sectional)
)
</code></pre>

<hr>
<h2 id='summary.mp_power'>Summarizes a <code><a href="#topic+mp_power">mp_power</a></code></h2><span id='topic+summary.mp_power'></span>

<h3>Description</h3>

<p>Summarizes a <code><a href="#topic+mp_power">mp_power</a></code> in a human readable format.
This is a simple wrapper for <code><a href="#topic+print.mp_power">print.mp_power</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mp_power'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.mp_power_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+mp_power">mp_power</a></code>.</p>
</td></tr>
<tr><td><code id="summary.mp_power_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the original variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create Model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(icc = 0.1)
)
# Set seed
set.seed(19723)
# Create data set and analyze
# Note: Generally Use more than 50 replications
model |&gt; power_analysis(50, 5, 50) -&gt; powersim
# Summarizes results
summary(powersim)
</code></pre>

<hr>
<h2 id='to_formula'>Convert <code><a href="#topic+mp_data">mp_data</a></code> to a <code><a href="stats.html#topic+formula">stats::formula</a></code> to be used for <code><a href="lme4.html#topic+lmer">lme4::lmer</a></code></h2><span id='topic+to_formula'></span>

<h3>Description</h3>

<p>Produces the formula including the centering functions based on a data set generated with <code><a href="#topic+generate">generate</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_formula(data, nested = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_formula_+3A_data">data</code></td>
<td>
<p>the <code><a href="#topic+mp_data">mp_data</a></code> to be coerced.</p>
</td></tr>
<tr><td><code id="to_formula_+3A_nested">nested</code></td>
<td>
<p>logical value, if true then produce the nested restricted model</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="stats.html#topic+formula">stats::formula</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Specify model
model &lt;- (
    outcome('Y')
    + within_predictor('X')
    + effect_size(
        icc = 0.2,
        within = 0.3
    )
)
# Set seed
set.seed(198723)
# Create formula based on data set
model |&gt; generate(5, 50) |&gt; to_formula()
</code></pre>

<hr>
<h2 id='Variables'>Functions for Creating Variables</h2><span id='topic+Variables'></span><span id='topic+variables'></span><span id='topic+variable'></span><span id='topic+mp_variable'></span><span id='topic+outcome'></span><span id='topic+within_predictor'></span><span id='topic+within_time_predictor'></span><span id='topic+between_predictor'></span><span id='topic+between_binary_predictor'></span>

<h3>Description</h3>

<p>These functions are the building blocks used to create the multilevel model
and are used to specify the names, properties, and variable types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outcome(name, mean = 10, sd = 5, icc = NULL)

within_predictor(name, weight = 1, mean = 0, sd = 1, icc = NULL)

within_time_predictor(name, values, weight = 1)

between_predictor(name, weight = 1, mean = 0, sd = 1)

between_binary_predictor(name, proportion = 0.5, weight = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Variables_+3A_name">name</code></td>
<td>
<p>a character string for the specific variable's name</p>
</td></tr>
<tr><td><code id="Variables_+3A_mean">mean</code></td>
<td>
<p>a single numeric value that specifies the variable's mean</p>
</td></tr>
<tr><td><code id="Variables_+3A_sd">sd</code></td>
<td>
<p>a single numeric value that specifies the variable's standard deviation</p>
</td></tr>
<tr><td><code id="Variables_+3A_icc">icc</code></td>
<td>
<p>a single numeric value between 0 and 1 that specifies the variable's intraclass correlation.
If <code>NULL</code> then the global ICC specified in <code><a href="#topic+effect_size">effect_size()</a></code> is used instead.</p>
</td></tr>
<tr><td><code id="Variables_+3A_weight">weight</code></td>
<td>
<p>a single numeric value specifying the variable's contribution to the variance explained metric.
Weights are normalized across all variables of the same level.</p>
</td></tr>
<tr><td><code id="Variables_+3A_values">values</code></td>
<td>
<p>a numeric vector specifying the time scores that will be repeated within each cluster.</p>
</td></tr>
<tr><td><code id="Variables_+3A_proportion">proportion</code></td>
<td>
<p>a single numeric value between 0 and 1 that specifies the proportion of 1's at the population.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that specifying an <code>icc = 0</code> in <code>within_predictor()</code>
will result in a centered within cluster (CWC) predictor.
</p>
<p>See vignettes for more details.
</p>
<div class="sourceCode"><pre>vignette(package = 'mlmpower')
</pre></div>


<h3>Value</h3>

<p>Returns a <code>mp_variable</code> object based on the variable's type.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

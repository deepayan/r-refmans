<!DOCTYPE html><html><head><title>Help for package upstartr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {upstartr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25not_in+25'><p>Opposite of %in%</p></a></li>
<li><a href='#begin_processing'><p>Runs the pre-processing step on a startr project.</p></a></li>
<li><a href='#calc_index'><p>Index values</p></a></li>
<li><a href='#calc_mode'><p>Calculate mode</p></a></li>
<li><a href='#clean_columns'><p>Cleans up column names by forcing them into tidyverse style</p></a></li>
<li><a href='#combine_csvs'><p>Combine CSVs in a directory</p></a></li>
<li><a href='#combine_excels'><p>Combine Excel files in a directory</p></a></li>
<li><a href='#convert_str_to_logical'><p>Converts a character vector to logicals</p></a></li>
<li><a href='#dir_data_cache'><p>Get path within cached data directory.</p></a></li>
<li><a href='#dir_data_out'><p>Get path within disposable data outputs directory.</p></a></li>
<li><a href='#dir_data_processed'><p>Get path within processed data directory.</p></a></li>
<li><a href='#dir_data_raw'><p>Get path within raw data directory.</p></a></li>
<li><a href='#dir_path'><p>Construct an arbitrary path.</p></a></li>
<li><a href='#dir_plots'><p>Get path within plots directory.</p></a></li>
<li><a href='#dir_reports'><p>Get path within reports directory.</p></a></li>
<li><a href='#dir_scrape'><p>Get path within scrape directory.</p></a></li>
<li><a href='#dir_src'><p>Get path within src directory</p></a></li>
<li><a href='#end_processing'><p>Runs the post-processing step on a startr project.</p></a></li>
<li><a href='#initialize_startr'><p>Initialize startr project</p></a></li>
<li><a href='#not.na'><p>Opposite of is.na</p></a></li>
<li><a href='#not.null'><p>Opposite of is.null</p></a></li>
<li><a href='#read_all_excel_sheets'><p>Combine all sheets in an Excel file</p></a></li>
<li><a href='#remove_non_utf8'><p>Removes non-UTF-8 characters</p></a></li>
<li><a href='#render_notebook'><p>Renders out an RMarkdown notebook.</p></a></li>
<li><a href='#reorder_within'><p>Reorder an x or y axis within facets</p></a></li>
<li><a href='#run_analyze'><p>Runs the analysis step for a startr project.</p></a></li>
<li><a href='#run_config'><p>Configures an existing startr project</p></a></li>
<li><a href='#run_notebook'><p>Runs the notebook rendering step for a startr project.</p></a></li>
<li><a href='#run_process'><p>Runs the processing step on a startr project.</p></a></li>
<li><a href='#run_visualize'><p>Runs the visualization step for a startr project.</p></a></li>
<li><a href='#scale_x_percent'><p>Create a continuous x-axis scale using percentages</p></a></li>
<li><a href='#scale_x_reordered'><p>Passed after reorder_within to reorder x-axis along facets</p></a></li>
<li><a href='#scale_y_percent'><p>Create a continuous y-axis scale using percentages</p></a></li>
<li><a href='#scale_y_reordered'><p>Passed after reorder_within to reorder x-axis along facets</p></a></li>
<li><a href='#simplify_string'><p>Simplifies strings for analysis</p></a></li>
<li><a href='#unaccent'><p>De-accents strings</p></a></li>
<li><a href='#write_excel'><p>Write out an Excel file with minimal configuration</p></a></li>
<li><a href='#write_plot'><p>Write out a ggplot2 graphic with minimal configuration</p></a></li>
<li><a href='#write_shp'><p>Write a shapefile to disk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Utilities Powering the Globe and Mail's Data Journalism Template</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tom Cardoso &lt;tcardoso@globeandmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Core functions necessary for using The Globe and Mail's R data journalism template, 'startr', along with utilities for day-to-day data journalism tasks, such as reading and writing files, producing graphics and cleaning up datasets.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>here, stringr, readxl, magrittr, readr, purrr, ggplot2, glue,
dplyr, librarian, openxlsx, knitr, beepr, tidytext, scales,
rmarkdown, textclean, sf, tgamtheme, crayon</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/globeandmail/upstartr">https://github.com/globeandmail/upstartr</a>,
<a href="https://globeandmail.github.io/upstartr/">https://globeandmail.github.io/upstartr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/globeandmail/upstartr/issues">https://github.com/globeandmail/upstartr/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-09 16:56:43 UTC; tcardoso</td>
</tr>
<tr>
<td>Author:</td>
<td>Tom Cardoso [aut, cre] (creator and maintainer),
  Michael Pereira [ctb],
  The Globe and Mail Inc. [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-09 17:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25not_in+25'>Opposite of %in%</h2><span id='topic++25not_in+25'></span>

<h3>Description</h3>

<p>Given vectors A and B, returns only the entities from vector A that don't occur in vector B.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %not_in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25not_in+2B25_+3A_x">x</code></td>
<td>
<p>The vector you want to check.</p>
</td></tr>
<tr><td><code id="+2B25not_in+2B25_+3A_table">table</code></td>
<td>
<p>Table in which to do lookups against x.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Same form of return as %in% — except it will return only elements on the lhs that aren't present on the rhs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>c(1, 2, 3, 4, 5) %not_in% c(4, 5, 6, 7, 8)

</code></pre>

<hr>
<h2 id='begin_processing'>Runs the pre-processing step on a startr project.</h2><span id='topic+begin_processing'></span>

<h3>Description</h3>

<p>The pre-processing step, run as part of <code>upstartr::<a href="#topic+run_process">run_process</a></code>
during the <code>process.R</code> stage of a startr project, logs all variables
currently in the global environment, which will then be removed during the
post-processing step to keep the startr environment unpolluted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>begin_processing(should_clean_processing_variables = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="begin_processing_+3A_should_clean_processing_variables">should_clean_processing_variables</code></td>
<td>
<p>Either TRUE, FALSE, or pulled from the environment if set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of all environment variables present before the function was run
</p>

<hr>
<h2 id='calc_index'>Index values</h2><span id='topic+calc_index'></span>

<h3>Description</h3>

<p>Index numeric vector to first value. By default, the index base will be 0,
turning regular values into percentage change. In some cases, you may want to index
to a different base, like 100, such as if you're looking at financial data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_index(m, base = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_index_+3A_m">m</code></td>
<td>
<p>Numeric vector to index to first value.</p>
</td></tr>
<tr><td><code id="calc_index_+3A_base">base</code></td>
<td>
<p>Base to index against. (Default: 0)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An vector of indexed values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>calc_index(c(5, 2, 8, 17, 7, 3, 1, -4))
calc_index(c(5, 2, 8, 17, 7, 3, 1, -4), base = 100)

</code></pre>

<hr>
<h2 id='calc_mode'>Calculate mode</h2><span id='topic+calc_mode'></span>

<h3>Description</h3>

<p>Calculates the mode of a given vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_mode(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_mode_+3A_x">x</code></td>
<td>
<p>Any kind of vector — numeric, character, logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The mode(s) of that vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>calc_mode(c(1, 1, 2, 3, 4))
calc_mode(c('the', 'quick', 'brown', 'fox', 'jumped', 'over', 'the', 'lazy', 'dog'))
calc_mode(c(TRUE, TRUE, FALSE, FALSE, TRUE, FALSE, FALSE, FALSE))

</code></pre>

<hr>
<h2 id='clean_columns'>Cleans up column names by forcing them into tidyverse style</h2><span id='topic+clean_columns'></span>

<h3>Description</h3>

<p>Zero-configuration function that takes unwieldy column names and
coerces them into tidyverse-styled column names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_columns(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_columns_+3A_x">x</code></td>
<td>
<p>A vector of column names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of column names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>clean_columns(c("Date of Purchase", "Item No.", "description", "",
  "Transaction at Jane's Counter?", "Auditing - Worth it?"))

</code></pre>

<hr>
<h2 id='combine_csvs'>Combine CSVs in a directory</h2><span id='topic+combine_csvs'></span>

<h3>Description</h3>

<p>Given a directory (and, optionally, a pattern to search against),
concatenate all CSV files into a single tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_csvs(dir, pattern = "*.csv", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_csvs_+3A_dir">dir</code></td>
<td>
<p>Path to the directory to look at for files.</p>
</td></tr>
<tr><td><code id="combine_csvs_+3A_pattern">pattern</code></td>
<td>
<p>Pattern to use for detecting files. (Default: '*.csv')</p>
</td></tr>
<tr><td><code id="combine_csvs_+3A_...">...</code></td>
<td>
<p>Parameters to pass to <code>readr::<a href="readr.html#topic+read_csv">read_csv</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of concatenated data from multiple CSV files.
</p>

<hr>
<h2 id='combine_excels'>Combine Excel files in a directory</h2><span id='topic+combine_excels'></span>

<h3>Description</h3>

<p>Given a directory (and, optionally, a pattern to search against),
concatenate all Excel files into a single tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_excels(dir, pattern = "*.xls[x]?", all_sheets = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_excels_+3A_dir">dir</code></td>
<td>
<p>Path to the directory to look at for files.</p>
</td></tr>
<tr><td><code id="combine_excels_+3A_pattern">pattern</code></td>
<td>
<p>Pattern to use for detecting files. (Default: '*.xls[x]?')</p>
</td></tr>
<tr><td><code id="combine_excels_+3A_all_sheets">all_sheets</code></td>
<td>
<p>Should this function also concatenate all sheets within each
Excel file into one long tibble? (Default: FALSE)</p>
</td></tr>
<tr><td><code id="combine_excels_+3A_...">...</code></td>
<td>
<p>Parameters to pass to <code>readxl::<a href="readxl.html#topic+read_excel">read_excel</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of concatenated data from multiple Excel files.
</p>

<hr>
<h2 id='convert_str_to_logical'>Converts a character vector to logicals</h2><span id='topic+convert_str_to_logical'></span>

<h3>Description</h3>

<p>Takes a character vector and converts it to logicals, optionally using
a vector of patterns to match against for truthy and falsy values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_str_to_logical(
  x,
  truthy = c("T", "TRUE", "Y", "YES"),
  falsy = c("F", "FALSE", "N", "NO")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_str_to_logical_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="convert_str_to_logical_+3A_truthy">truthy</code></td>
<td>
<p>A vector of case-insensitive truthy values to turn into TRUE.</p>
</td></tr>
<tr><td><code id="convert_str_to_logical_+3A_falsy">falsy</code></td>
<td>
<p>A vector of case-insensitive falsy values to turn into FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>convert_str_to_logical(c('YES', 'Y', 'No', 'N', 'YES', 'yes', 'no', 'Yes', 'NO', 'Y', 'y'))

</code></pre>

<hr>
<h2 id='dir_data_cache'>Get path within cached data directory.</h2><span id='topic+dir_data_cache'></span>

<h3>Description</h3>

<p>Constructs a path within startr's data/cache/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_data_cache(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_data_cache_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_data_out'>Get path within disposable data outputs directory.</h2><span id='topic+dir_data_out'></span>

<h3>Description</h3>

<p>Constructs a path within startr's data/out/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_data_out(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_data_out_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_data_processed'>Get path within processed data directory.</h2><span id='topic+dir_data_processed'></span>

<h3>Description</h3>

<p>Constructs a path within startr's data/processed/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_data_processed(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_data_processed_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_data_raw'>Get path within raw data directory.</h2><span id='topic+dir_data_raw'></span>

<h3>Description</h3>

<p>Constructs a path within startr's data/raw/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_data_raw(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_data_raw_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_path'>Construct an arbitrary path.</h2><span id='topic+dir_path'></span>

<h3>Description</h3>

<p>Convenience function that constructs a path. Wraps <code>here::<a href="here.html#topic+here">here</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_path(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_path_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_plots'>Get path within plots directory.</h2><span id='topic+dir_plots'></span>

<h3>Description</h3>

<p>Constructs a path within startr's plots/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_plots(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_plots_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_reports'>Get path within reports directory.</h2><span id='topic+dir_reports'></span>

<h3>Description</h3>

<p>Constructs a path within startr's reports/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_reports(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_reports_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_scrape'>Get path within scrape directory.</h2><span id='topic+dir_scrape'></span>

<h3>Description</h3>

<p>Constructs a path within startr's scrape/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_scrape(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_scrape_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='dir_src'>Get path within src directory</h2><span id='topic+dir_src'></span>

<h3>Description</h3>

<p>Constructs a path within startr's main R/ directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dir_src(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dir_src_+3A_...">...</code></td>
<td>
<p>Any number of path strings, passed in the same fashion as <code>here::<a href="here.html#topic+here">here</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A path string.
</p>

<hr>
<h2 id='end_processing'>Runs the post-processing step on a startr project.</h2><span id='topic+end_processing'></span>

<h3>Description</h3>

<p>The post-processing step, run as part of <code>upstartr::<a href="#topic+run_process">run_process</a></code>
during the <code>process.R</code> stage of a startr project, removes all variables
saved by <code>upstartr::<a href="#topic+begin_processing">begin_processing</a></code>
and then beeps to announce it's finished.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>end_processing(
  should_clean_processing_variables = TRUE,
  should_beep = TRUE,
  logged_vars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="end_processing_+3A_should_clean_processing_variables">should_clean_processing_variables</code></td>
<td>
<p>Either TRUE, FALSE, or pulled from the environment if set.</p>
</td></tr>
<tr><td><code id="end_processing_+3A_should_beep">should_beep</code></td>
<td>
<p>Either TRUE, FALSE, or pulled from the environment if set.</p>
</td></tr>
<tr><td><code id="end_processing_+3A_logged_vars">logged_vars</code></td>
<td>
<p>A list of variables that existed before the processing step began.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='initialize_startr'>Initialize startr project</h2><span id='topic+initialize_startr'></span>

<h3>Description</h3>

<p>Used to initialize a startr template for analysis. Will enforce some startr-required
standards for analysis (such as removing scientific notation, setting timezones, and
writing some project configs to 'options').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initialize_startr(
  author = "Firstname Lastname &lt;firstlast@example.com&gt;",
  title = "startr",
  scipen = 999,
  timezone = "America/Toronto",
  should_render_notebook = FALSE,
  should_process_data = TRUE,
  should_timestamp_output_files = FALSE,
  should_clean_processing_variables = TRUE,
  should_beep = TRUE,
  set_minimal_graphics_theme = TRUE,
  packages = c()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initialize_startr_+3A_author">author</code></td>
<td>
<p>Name and email of the startr project author</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_title">title</code></td>
<td>
<p>Title of the startr project</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_scipen">scipen</code></td>
<td>
<p>Which level of scientific precision to use. (Default: 999)</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_timezone">timezone</code></td>
<td>
<p>The timezone for analysis. (Default: 'America/Toronto')</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_should_render_notebook">should_render_notebook</code></td>
<td>
<p>Whether the RMarkdown notebook should be rendered. (Default: FALSE)</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_should_process_data">should_process_data</code></td>
<td>
<p>Whether startr's process step should be run. (Default: TRUE)</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_should_timestamp_output_files">should_timestamp_output_files</code></td>
<td>
<p>Whether write_excel's output files should be timestamped. (Default: FALSE)</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_should_clean_processing_variables">should_clean_processing_variables</code></td>
<td>
<p>Whether processing variables should be cleaned
from the environment after processing is complete. (Default: TRUE)</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_should_beep">should_beep</code></td>
<td>
<p>Whether startr should beep after tasks like processing or knitting RMarkdown notebooks. (Default: TRUE)</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_set_minimal_graphics_theme">set_minimal_graphics_theme</code></td>
<td>
<p>Whether the minimal graphics theme should be used. (Default: TRUE)</p>
</td></tr>
<tr><td><code id="initialize_startr_+3A_packages">packages</code></td>
<td>
<p>Vector of package names, from CRAN, Github or Bioconductor to be installed.
If using GitHub, package names should be in the format 'user/repo', e.g. 'globeandmail/upstartr'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='not.na'>Opposite of is.na</h2><span id='topic+not.na'></span>

<h3>Description</h3>

<p>Given a vector, returns TRUE for all entities that aren't NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>not.na(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="not.na_+3A_x">x</code></td>
<td>
<p>A vector to check for NAs against.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of elements that aren't NA
</p>


<h3>Examples</h3>

<pre><code class='language-R'>not.na(c(1, NA, 2, NA))

</code></pre>

<hr>
<h2 id='not.null'>Opposite of is.null</h2><span id='topic+not.null'></span>

<h3>Description</h3>

<p>Given a list, returns TRUE for all entities that aren't NULL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>not.null(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="not.null_+3A_x">x</code></td>
<td>
<p>A vector to check for NULLs against.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Elements that aren't NULL
</p>


<h3>Examples</h3>

<pre><code class='language-R'>not.null(list(1, NULL, 2, NULL))

</code></pre>

<hr>
<h2 id='read_all_excel_sheets'>Combine all sheets in an Excel file</h2><span id='topic+read_all_excel_sheets'></span>

<h3>Description</h3>

<p>Reads all sheets in a single Excel file using <code>readxl::<a href="readxl.html#topic+read_excel">read_excel</a></code>
and concatenates them into a single, long tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_all_excel_sheets(filepath, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_all_excel_sheets_+3A_filepath">filepath</code></td>
<td>
<p>Path to the Excel file.</p>
</td></tr>
<tr><td><code id="read_all_excel_sheets_+3A_...">...</code></td>
<td>
<p>Parameters to pass to <code>readxl::<a href="readxl.html#topic+read_excel">read_excel</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble data concatenated from a all sheets in an Excel file.
</p>

<hr>
<h2 id='remove_non_utf8'>Removes non-UTF-8 characters</h2><span id='topic+remove_non_utf8'></span>

<h3>Description</h3>

<p>Removes non-UTF-8 characters in a given character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_non_utf8(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_non_utf8_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of strings without non-UTF-8 characters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>non_utf8 &lt;- 'fa\xE7ile'
  Encoding(non_utf8) &lt;- 'latin1'
  remove_non_utf8(non_utf8)

</code></pre>

<hr>
<h2 id='render_notebook'>Renders out an RMarkdown notebook.</h2><span id='topic+render_notebook'></span>

<h3>Description</h3>

<p>Renders an RMarkdown notebook using <code>upstartr::<a href="#topic+render_notebook">render_notebook</a></code>
and then beeps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_notebook(notebook_file, output_dir = dir_reports())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_notebook_+3A_notebook_file">notebook_file</code></td>
<td>
<p>The path for the RMarkdown notebook you're rendering.</p>
</td></tr>
<tr><td><code id="render_notebook_+3A_output_dir">output_dir</code></td>
<td>
<p>The directory to write the outputs to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='reorder_within'>Reorder an x or y axis within facets</h2><span id='topic+reorder_within'></span>

<h3>Description</h3>

<p>See <code>tidytext::<a href="tidytext.html#topic+reorder_within">reorder_within</a></code> for details.
</p>


<h3>Value</h3>

<p>A ggplot2 object for reordering elements within facets, used in combination with
<code>upstartr::<a href="#topic+scale_x_reordered">scale_x_reordered</a></code> or
<code>upstartr::<a href="#topic+scale_y_reordered">scale_y_reordered</a></code>
</p>

<hr>
<h2 id='run_analyze'>Runs the analysis step for a startr project.</h2><span id='topic+run_analyze'></span>

<h3>Description</h3>

<p>Sources <code>analyze.R</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_analyze()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='run_config'>Configures an existing startr project</h2><span id='topic+run_config'></span>

<h3>Description</h3>

<p>Sources <code>config.R</code> and <code>functions.R</code> in turn.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_config()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='run_notebook'>Runs the notebook rendering step for a startr project.</h2><span id='topic+run_notebook'></span>

<h3>Description</h3>

<p>Renders an RMarkdown notebook using <code>upstartr::<a href="#topic+render_notebook">render_notebook</a></code>
and then beeps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_notebook(
  filename = "notebook.Rmd",
  should_beep = TRUE,
  should_render_notebook = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_notebook_+3A_filename">filename</code></td>
<td>
<p>The filename for the RMarkdown notebook you want to render.</p>
</td></tr>
<tr><td><code id="run_notebook_+3A_should_beep">should_beep</code></td>
<td>
<p>Either TRUE, FALSE, or pulled from the environment if set.</p>
</td></tr>
<tr><td><code id="run_notebook_+3A_should_render_notebook">should_render_notebook</code></td>
<td>
<p>Either TRUE, FALSE, or pulled from the environment if set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='run_process'>Runs the processing step on a startr project.</h2><span id='topic+run_process'></span>

<h3>Description</h3>

<p>Runs the pre-processing step (see <code>upstartr::<a href="#topic+begin_processing">begin_processing</a></code>
for details), then sources <code>process.R</code>, then runs the post-processing step
(see <code>upstartr::<a href="#topic+end_processing">end_processing</a></code> for details).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_process(should_process_data = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_process_+3A_should_process_data">should_process_data</code></td>
<td>
<p>Either TRUE, FALSE, or pulled from the environment if set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='run_visualize'>Runs the visualization step for a startr project.</h2><span id='topic+run_visualize'></span>

<h3>Description</h3>

<p>Sources <code>visualize.R</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_visualize()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='scale_x_percent'>Create a continuous x-axis scale using percentages</h2><span id='topic+scale_x_percent'></span>

<h3>Description</h3>

<p>Convenience function to return a scale_x_continuous function using percentage labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_x_percent(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_x_percent_+3A_...">...</code></td>
<td>
<p>All your usual continuous x-axis scale parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scale object to be consumed by ggplot2.
</p>

<hr>
<h2 id='scale_x_reordered'>Passed after reorder_within to reorder x-axis along facets</h2><span id='topic+scale_x_reordered'></span>

<h3>Description</h3>

<p>See <code>tidytext::<a href="tidytext.html#topic+scale_x_reordered">scale_x_reordered</a></code> for details.
</p>


<h3>Value</h3>

<p>A scale object to be consumed by ggplot2, used in combination with
<code>upstartr::<a href="#topic+reorder_within">reorder_within</a></code>.
</p>

<hr>
<h2 id='scale_y_percent'>Create a continuous y-axis scale using percentages</h2><span id='topic+scale_y_percent'></span>

<h3>Description</h3>

<p>Convenience function to return a scale_y_continuous function using percentage labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_y_percent(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_y_percent_+3A_...">...</code></td>
<td>
<p>All your usual continuous y-axis scale parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scale object to be consumed by ggplot2.
</p>

<hr>
<h2 id='scale_y_reordered'>Passed after reorder_within to reorder x-axis along facets</h2><span id='topic+scale_y_reordered'></span>

<h3>Description</h3>

<p>See <code>tidytext::<a href="tidytext.html#topic+scale_y_reordered">scale_y_reordered</a></code> for details.
</p>


<h3>Value</h3>

<p>A scale object to be consumed by ggplot2, used in combination with
<code>upstartr::<a href="#topic+reorder_within">reorder_within</a></code>.
</p>

<hr>
<h2 id='simplify_string'>Simplifies strings for analysis</h2><span id='topic+simplify_string'></span>

<h3>Description</h3>

<p>Takes a character vector and &quot;simplifies&quot; it by uppercasing, removing most non-alphabetic
(or alphanumeric) characters, removing accents, forcing UTF-8 encoding, removing excess spaces,
and optionally removing stop words. Useful in cases where you have two large vector of person
or business names you need to compare, but where misspellings may be common.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simplify_string(
  x,
  alpha = TRUE,
  digits = FALSE,
  unaccent = TRUE,
  utf8_only = TRUE,
  case = "upper",
  trim = TRUE,
  stopwords = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simplify_string_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="simplify_string_+3A_alpha">alpha</code></td>
<td>
<p>Should alphabetic characters be included in the cleaned up string? (Default: TRUE)</p>
</td></tr>
<tr><td><code id="simplify_string_+3A_digits">digits</code></td>
<td>
<p>Should digits be included in the cleaned up string? (Default: FALSE)</p>
</td></tr>
<tr><td><code id="simplify_string_+3A_unaccent">unaccent</code></td>
<td>
<p>Should characters be de-accented? (Default: TRUE)</p>
</td></tr>
<tr><td><code id="simplify_string_+3A_utf8_only">utf8_only</code></td>
<td>
<p>Should characters be UTF-8 only? (Default: TRUE)</p>
</td></tr>
<tr><td><code id="simplify_string_+3A_case">case</code></td>
<td>
<p>What casing should characters use? Can be one of 'upper', 'lower', 'sentence', 'title',
or 'keep' for the existing casing (Default: 'upper')</p>
</td></tr>
<tr><td><code id="simplify_string_+3A_trim">trim</code></td>
<td>
<p>Should strings be trimmed of excess spaces? (Default: TRUE)</p>
</td></tr>
<tr><td><code id="simplify_string_+3A_stopwords">stopwords</code></td>
<td>
<p>An optional vector of stop words to be removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of simplified strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>simplify_string(c('J. Jonah Jameson', 'j jonah jameson',
  'j   jonah 123   jameson', 'J Jónah Jameson...'))
simplify_string(c('123 Business Inc.', '123 business incorporated',
  '123 ... Business ... Inc.'), digits = TRUE, stopwords = c('INC', 'INCORPORATED'))

</code></pre>

<hr>
<h2 id='unaccent'>De-accents strings</h2><span id='topic+unaccent'></span>

<h3>Description</h3>

<p>Replace accented characters with their non-accented versions. Useful when dealing
with languages like French, Spanish or Portuguese, where accents can lead to
compatibility issues during data analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unaccent(x, remove.nonconverted = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unaccent_+3A_x">x</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="unaccent_+3A_remove.nonconverted">remove.nonconverted</code></td>
<td>
<p>Should the function remove unmapped encodings? (Default: FALSE)</p>
</td></tr>
<tr><td><code id="unaccent_+3A_...">...</code></td>
<td>
<p>Parameters passed to <code>textclean::<a href="textclean.html#topic+replace_non_ascii">replace_non_ascii</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of strings without accents.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>unaccent('façile')
unaccent('Montréal')

</code></pre>

<hr>
<h2 id='write_excel'>Write out an Excel file with minimal configuration</h2><span id='topic+write_excel'></span>

<h3>Description</h3>

<p>Takes a tibble or dataframe variable and saves it out as an Excel file
using the variable name as the filename.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_excel(
  variable,
  output_dir = dir_data_out(),
  should_timestamp_output_files = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_excel_+3A_variable">variable</code></td>
<td>
<p>A tibble or dataframe object.</p>
</td></tr>
<tr><td><code id="write_excel_+3A_output_dir">output_dir</code></td>
<td>
<p>The directory to save the file out to.</p>
</td></tr>
<tr><td><code id="write_excel_+3A_should_timestamp_output_files">should_timestamp_output_files</code></td>
<td>
<p>Either TRUE, FALSE, or pulled from the environment if set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='write_plot'>Write out a ggplot2 graphic with minimal configuration</h2><span id='topic+write_plot'></span>

<h3>Description</h3>

<p>Takes a <code>ggplot2</code> object and writes it to disk via <code>ggplot2::<a href="ggplot2.html#topic+ggsave">ggsave</a></code> using the
variable name as the filename.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_plot(variable, format = "png", output_dir = dir_plots(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_plot_+3A_variable">variable</code></td>
<td>
<p>A tibble or dataframe object.</p>
</td></tr>
<tr><td><code id="write_plot_+3A_format">format</code></td>
<td>
<p>The desired format for the plot, be it 'png', 'pdf', etc. Accepts formats
you'd pass to <code>ggplot2::<a href="ggplot2.html#topic+ggsave">ggsave</a></code>'s 'device' parameter.</p>
</td></tr>
<tr><td><code id="write_plot_+3A_output_dir">output_dir</code></td>
<td>
<p>The directory to save the plot out to.</p>
</td></tr>
<tr><td><code id="write_plot_+3A_...">...</code></td>
<td>
<p>Other settings to pass to ggsave, such as format, width, height or dpi.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='write_shp'>Write a shapefile to disk</h2><span id='topic+write_shp'></span>

<h3>Description</h3>

<p>Utility function that wraps <code>sf::<a href="sf.html#topic+st_write">st_write</a></code>, but first
removes a previous version of the shapefile if it exists (by default, <code>sf::<a href="sf.html#topic+st_write">st_write</a></code>
will throw an error.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_shp(shp, path, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_shp_+3A_shp">shp</code></td>
<td>
<p>A spatial object.</p>
</td></tr>
<tr><td><code id="write_shp_+3A_path">path</code></td>
<td>
<p>The desired filepath for the shapefile.</p>
</td></tr>
<tr><td><code id="write_shp_+3A_...">...</code></td>
<td>
<p>Other settings to pass to st_write, such as format, width, height or dpi.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

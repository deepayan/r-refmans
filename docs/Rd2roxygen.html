<!DOCTYPE html><html lang="en"><head><title>Help for package Rd2roxygen</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rd2roxygen}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Rd2roxygen-package'><p>Convert Rd to roxygen documentation and utilities to enhance documentation</p>
and building packages</a></li>
<li><a href='#create_roxygen'><p>Create the roxygen documentation</p></a></li>
<li><a href='#parse_and_save'><p>Parse the input Rd file and save the roxygen documentation into a file</p></a></li>
<li><a href='#parse_file'><p>Parse the input Rd file to a list</p></a></li>
<li><a href='#Rd2roxygen'><p>Convert all the Rd files of a package to roxygen comments</p></a></li>
<li><a href='#reformat_code'><p>Format the code in the usage and examples sections</p></a></li>
<li><a href='#roxygen_and_build'><p>Roxygenize a package, clean up and build/check the package</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Convert Rd to 'Roxygen' Documentation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.16</td>
</tr>
<tr>
<td>Imports:</td>
<td>roxygen2 (&ge; 4.0.0), xfun (&ge; 0.13), formatR (&ge; 1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr (&ge; 1.9), markdown</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to convert Rd to 'roxygen' documentation. It can parse an
    Rd file to a list, create the 'roxygen' documentation and update the original
    R script (e.g. the one containing the definition of the function)
    accordingly. This package also provides utilities that can help developers
    build packages using 'roxygen' more easily. The 'formatR' package can be used
    to reformat the R code in the examples sections so that the code will be
    more readable.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/yihui/Rd2roxygen">https://github.com/yihui/Rd2roxygen</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/yihui/Rd2roxygen/issues">https://github.com/yihui/Rd2roxygen/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-15 13:11:50 UTC; yihui</td>
</tr>
<tr>
<td>Author:</td>
<td>Hadley Wickham [aut],
  Yihui Xie <a href="https://orcid.org/0000-0003-0645-5666"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yihui Xie &lt;xie@yihui.name&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-15 13:20:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='Rd2roxygen-package'>Convert Rd to roxygen documentation and utilities to enhance documentation
and building packages</h2><span id='topic+Rd2roxygen-package'></span>

<h3>Description</h3>

<p>This package contains functions to convert Rd to roxygen documentation. It
can parse an Rd file to a list (<code><a href="#topic+parse_file">parse_file</a></code>), create the roxygen
documentation (<code><a href="#topic+create_roxygen">create_roxygen</a></code>) and update the original R script
(e.g. the one containing the definition of the function) accordingly
(<code><a href="#topic+Rd2roxygen">Rd2roxygen</a></code>). This package also provides utilities which can
help developers build packages using roxygen more easily (<code><a href="#topic+rab">rab</a></code>).
</p>


<h3>Note</h3>

<p>There is no guarantee to generate perfect roxygen comments that can be
converted back to the original Rd files. Usually manual manipulations on
the roxygen comments are required. For example, currently '@S3method' is
not included in the comments, and '@rdname' is not supported either (users
have to move the roxygen comments around and add the appropriate tags by
themselves). Patches (as pull requests) are welcome through GitHub:
<a href="https://github.com/yihui/Rd2roxygen/">https://github.com/yihui/Rd2roxygen/</a>.
</p>
<p>This package is not thoroughly tested, so it is likely that it fails to
convert certain parts of Rd files to roxygen comments. As mentioned before,
you have to manually deal with these problems. You are welcome to report
other serious issues via <a href="https://github.com/yihui/Rd2roxygen/issues">https://github.com/yihui/Rd2roxygen/issues</a>.
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham and Yihui Xie
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/yihui/Rd2roxygen">https://github.com/yihui/Rd2roxygen</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/yihui/Rd2roxygen/issues">https://github.com/yihui/Rd2roxygen/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## see the package vignette: vignette('Rd2roxygen')
</code></pre>

<hr>
<h2 id='create_roxygen'>Create the roxygen documentation</h2><span id='topic+create_roxygen'></span>

<h3>Description</h3>

<p>The parsed information is converted to a vector of roxygen tags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_roxygen(info, usage = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_roxygen_+3A_info">info</code></td>
<td>
<p>the named list of the parsed documentation</p>
</td></tr>
<tr><td><code id="create_roxygen_+3A_usage">usage</code></td>
<td>
<p>logical: whether to include the usage section in the output
(this can be useful when there are multiple functions in a single usage
section, but generally it is not necessary because roxygen can generate the
usage section automatically)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham; modified by Yihui Xie &lt;<a href="http://yihui.org">http://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rd.file = system.file("examples", "parse_and_save.Rd", package = "Rd2roxygen")
options(roxygen.comment = "##' ")
create_roxygen(parse_file(rd.file))
</code></pre>

<hr>
<h2 id='parse_and_save'>Parse the input Rd file and save the roxygen documentation into a file</h2><span id='topic+parse_and_save'></span>

<h3>Description</h3>

<p>Parse the input Rd file and save the roxygen documentation into a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_and_save(path, file, usage = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_and_save_+3A_path">path</code></td>
<td>
<p>the path of the Rd file</p>
</td></tr>
<tr><td><code id="parse_and_save_+3A_file">file</code></td>
<td>
<p>the path to save the roxygen documentation</p>
</td></tr>
<tr><td><code id="parse_and_save_+3A_usage">usage</code></td>
<td>
<p>logical: whether to include the usage section in the output</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector if <code>file</code> is not specified, or write the
vector into a file
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham; modified by Yihui Xie &lt;<a href="http://yihui.org">http://yihui.org</a>&gt;
</p>

<hr>
<h2 id='parse_file'>Parse the input Rd file to a list</h2><span id='topic+parse_file'></span>

<h3>Description</h3>

<p>This function uses the function <code>parse_Rd</code> in the <span class="pkg">tools</span> package to
parse the Rd file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_file(path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_file_+3A_path">path</code></td>
<td>
<p>the path of the Rd file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named list containing the documentation sections as strings
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham; modified by Yihui Xie &lt;<a href="https://yihui.org">https://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rd.file = system.file("examples", "parse_and_save.Rd", package = "Rd2roxygen")
parse_file(rd.file)
</code></pre>

<hr>
<h2 id='Rd2roxygen'>Convert all the Rd files of a package to roxygen comments</h2><span id='topic+Rd2roxygen'></span>

<h3>Description</h3>

<p>This function takes a package root directory, parses all its Rd files under
the man directory and update the corresponding R source code by inserting
roxygen documentation in to the R scripts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rd2roxygen(pkg, nomatch, usage = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Rd2roxygen_+3A_pkg">pkg</code></td>
<td>
<p>the root directory of the package</p>
</td></tr>
<tr><td><code id="Rd2roxygen_+3A_nomatch">nomatch</code></td>
<td>
<p>the file name (base name only) to use when an object in the Rd
file is not found in any R source files (typically this happens to the data
documentation); if not specified, the default will be &lsquo;pkg&rsquo;-package.R</p>
</td></tr>
<tr><td><code id="Rd2roxygen_+3A_usage">usage</code></td>
<td>
<p>logical: whether to include the usage section in the output</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL (but the process of conversion will be printed on screen)
</p>


<h3>Note</h3>

<p>ESS users may use <code>options(roxygen.comment = "##' ")</code> to ensure
the generated roxygen comments begin with <code>"##' "</code>, which is the
default setting in Emacs/ESS.
</p>
<p>Re-run this function on a package will remove the previous roxygen comments
before functions in R scripts.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="http://yihui.org">http://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## a demo package
pkg = system.file("examples", "pkgDemo", package = "Rd2roxygen")
file.copy(pkg, tempdir(), recursive = TRUE)  # copy to temp dir first
od = setwd(tempdir())

## take a look at original R scripts
file.show("pkgDemo/R/foo.R")

options(roxygen.comment = "##' ")

## convert Rd's under man to roxygen comments
Rd2roxygen(file.path(tempdir(), "pkgDemo"))

file.show("pkgDemo/R/foo.R")  # what happened to foo.R and bar.R?

setwd(od)  # restore working directory
</code></pre>

<hr>
<h2 id='reformat_code'>Format the code in the usage and examples sections</h2><span id='topic+reformat_code'></span>

<h3>Description</h3>

<p>The function <code><a href="formatR.html#topic+tidy_source">tidy_source</a></code> in the <span class="pkg">formatR</span> package
is used to polish the Rd files generated by <span class="pkg">roxygen2</span> in the usage and
examples sections.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reformat_code(path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reformat_code_+3A_path">path</code></td>
<td>
<p>the path of the Rd file</p>
</td></tr>
<tr><td><code id="reformat_code_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code>tidy_source</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>; as a side effect, the original Rd file will be updated
</p>


<h3>Note</h3>

<p>If the usage or examples code is not syntactically correct, it will not
be reformatted and a message will be printed on screen. One possible
situation is the percent symbol <code>%</code>, which should be escaped even in
the examples code (cf Writing R Extensions), and this can make the code
syntactically incorrect, e.g. <code>a %in% b</code> should be <code>a
  \%in\% b</code> but the latter is not valid R code. Anyway, this function
will try to unescape the percent symbols before reformating the code, then
escape them.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="http://yihui.org">http://yihui.org</a>&gt;
</p>


<h3>See Also</h3>

<p><code><a href="formatR.html#topic+tidy_source">tidy_source</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rd.file = system.file("examples", "reformat_code_demo.Rd", package = "Rd2roxygen")
file.copy(rd.file, tempdir())
fmt.file = file.path(tempdir(), "reformat_code_demo.Rd")

file.show(fmt.file)  ## show the raw Rd

reformat_code(fmt.file)
file.show(fmt.file)  ## the formatted Rd
</code></pre>

<hr>
<h2 id='roxygen_and_build'>Roxygenize a package, clean up and build/check the package</h2><span id='topic+roxygen_and_build'></span><span id='topic+rab'></span>

<h3>Description</h3>

<p>After the source package is roxygenized, this function will build the
package. Optionally it also installs or checks the package, reformats the
code in the example sections. Note <code><a href="#topic+rab">rab</a></code> is an alias of
<code><a href="#topic+roxygen_and_build">roxygen_and_build</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roxygen_and_build(
  pkg,
  build = TRUE,
  build.opts = "--no-manual",
  install = FALSE,
  install.opts = if (build) "" else "--with-keep.source",
  check = FALSE,
  check.opts = "--as-cran --no-manual",
  remove.check = TRUE,
  reformat = TRUE,
  before = NULL,
  ...
)

rab(
  pkg,
  build = TRUE,
  build.opts = "--no-manual",
  install = FALSE,
  install.opts = if (build) "" else "--with-keep.source",
  check = FALSE,
  check.opts = "--as-cran --no-manual",
  remove.check = TRUE,
  reformat = TRUE,
  before = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="roxygen_and_build_+3A_pkg">pkg</code></td>
<td>
<p>the root directory of the source package</p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_build">build</code></td>
<td>
<p>whether to build the package</p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_build.opts">build.opts</code></td>
<td>
<p>options to be passed to <code>R CMD build</code></p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_install">install</code></td>
<td>
<p>whether to install the package</p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_install.opts">install.opts</code></td>
<td>
<p>options to be passed to <code>R CMD INSTALL</code></p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_check">check</code></td>
<td>
<p>whether to check the package</p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_check.opts">check.opts</code></td>
<td>
<p>options to check the package (e.g. <code>"--no-examples"</code>)</p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_remove.check">remove.check</code></td>
<td>
<p>whether to remove the directory generated by <code>R
CMD check</code></p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_reformat">reformat</code></td>
<td>
<p>whether to reformat the example code; see
<code><a href="#topic+reformat_code">reformat_code</a></code></p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_before">before</code></td>
<td>
<p>an R expression to be evaluated under the package root
directory before the package is roxygenized and built</p>
</td></tr>
<tr><td><code id="roxygen_and_build_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="roxygen2.html#topic+roxygenize">roxygenize</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>
</p>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="http://yihui.org">http://yihui.org</a>&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
roxygen_and_build("Rd2roxygen", install = TRUE)
## or simply
rab("Rd2roxygen", install = TRUE)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

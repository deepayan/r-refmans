<!DOCTYPE html><html><head><title>Help for package auctionr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {auctionr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#auction_generate_data'><p>Generates sample data for running <code>auction_model</code></p></a></li>
<li><a href='#auction_model'><p>Estimates a first-price auction model.</p></a></li>
<li><a href='#print.auctionmodel'><p>Print an auction model.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Estimate First-Price Auction Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimates a first-price auction model with conditionally independent
  private values as described in MacKay (2020) &lt;<a href="https://doi.org/10.2139%2Fssrn.3096534">doi:10.2139/ssrn.3096534</a>&gt;. The
  model allows for unobserved heterogeneity that is common to all bidders in
  addition to observable heterogeneity.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ajmack/auctionr">https://github.com/ajmack/auctionr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ajmack/auctionr/issues">https://github.com/ajmack/auctionr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, parallel, numDeriv (&ge; 2016.8-1)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-19 14:27:36 UTC; izahn</td>
</tr>
<tr>
<td>Author:</td>
<td>Alex MacKay [aut, cre],
  Bob Freeman [aut],
  Paul Jonak [aut],
  Victoria Prince [aut],
  Ista Zahn [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alex MacKay &lt;amackay@hbs.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-25 10:00:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='auction_generate_data'>Generates sample data for running <code><a href="#topic+auction_model">auction_model</a></code></h2><span id='topic+auction_generate_data'></span>

<h3>Description</h3>

<p>Generates sample data for running <code><a href="#topic+auction_model">auction_model</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auction_generate_data(
  obs = NULL,
  max_n_bids = 10,
  new_x_mean = NULL,
  new_x_sd = NULL,
  mu = NULL,
  alpha = NULL,
  sigma = NULL,
  beta = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auction_generate_data_+3A_obs">obs</code></td>
<td>
<p>Number of observations (or auctions) to draw.</p>
</td></tr>
<tr><td><code id="auction_generate_data_+3A_max_n_bids">max_n_bids</code></td>
<td>
<p>Maximum number of bids per auction (must be 3 or greater). The routine generates a vector of length <code>obs</code> of random numbers between 2 and max_n_bids.</p>
</td></tr>
<tr><td><code id="auction_generate_data_+3A_new_x_mean">new_x_mean</code></td>
<td>
<p>Mean values for observable controls to be generated from a Normal distribution.</p>
</td></tr>
<tr><td><code id="auction_generate_data_+3A_new_x_sd">new_x_sd</code></td>
<td>
<p>Standard deviations for observable controls to be generated from a Normal distribution.</p>
</td></tr>
<tr><td><code id="auction_generate_data_+3A_mu">mu</code></td>
<td>
<p>Value for mu, or mean, of private value distribution (Weibull) to be generated.</p>
</td></tr>
<tr><td><code id="auction_generate_data_+3A_alpha">alpha</code></td>
<td>
<p>Value for alpha, or shape parameter, of private value distribution (Weibull) to be generated.</p>
</td></tr>
<tr><td><code id="auction_generate_data_+3A_sigma">sigma</code></td>
<td>
<p>Value for standard deviation of unobserved heterogeneity distribution. Note that the distribution is assumed to have mean 1.</p>
</td></tr>
<tr><td><code id="auction_generate_data_+3A_beta">beta</code></td>
<td>
<p>Coefficients for the generated observable controls. Must be of the same length as <code>new_x_mean</code> and <code>new_x_sd</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function generates example data for feeding into auction_model(). Specifically, the
winning bid, number of bids, and observed heterogeneity are sampled for the specified number of observations.
</p>


<h3>Value</h3>

<p>A data frame with <code>obs</code> rows and the following columns:
</p>
<table>
<tr><td><code>winning_bid</code></td>
<td>
<p>numeric values of the winning bids for each observation</p>
</td></tr>
<tr><td><code>n_bids</code></td>
<td>
<p>number of bids  for each observation</p>
</td></tr>
<tr><td><code>X#</code></td>
<td>
<p>X terms that represent observed heterogeneity</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+auction_model">auction_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- auction_generate_data(obs = 100,
                             mu = 10,
                             new_x_mean= c(-1,1),
                             new_x_sd = c(0.5,0.8),
                             alpha = 2,
                             sigma = 0.2,
                             beta = c(-1,1))
dim(dat)
head(dat)

</code></pre>

<hr>
<h2 id='auction_model'>Estimates a first-price auction model.</h2><span id='topic+auction_model'></span>

<h3>Description</h3>

<p>Estimates a first-price auction model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auction_model(
  dat = NULL,
  init_param = NULL,
  num_cores = 1,
  method = "BFGS",
  control = list(),
  std_err = FALSE,
  hessian_args = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auction_model_+3A_dat">dat</code></td>
<td>
<p>A data.frame containing input columns in the following order: the winning bids, number of bids, and <code>X</code>
variables that represent observed heterogeneity.</p>
</td></tr>
<tr><td><code id="auction_model_+3A_init_param">init_param</code></td>
<td>
<p>Vector of initial values for mu, alpha, sigma, and beta vector, provided in order specified.
Note that the Weibull distribution requires mu and alpha to be positive. The standard deviation of unobserved heterogeneity, sigma, must be positive as well. The Beta vector may take any values.
If <code>init_params</code> is not provided, all values will be set to 1 by default.</p>
</td></tr>
<tr><td><code id="auction_model_+3A_num_cores">num_cores</code></td>
<td>
<p>The number of cores for running the model in parallel. The default value is 1.</p>
</td></tr>
<tr><td><code id="auction_model_+3A_method">method</code></td>
<td>
<p>Optimization method to be used in optim() (see ?optim for details).</p>
</td></tr>
<tr><td><code id="auction_model_+3A_control">control</code></td>
<td>
<p>A list of control parameters to be passed to optim() (see ?optim for details).</p>
</td></tr>
<tr><td><code id="auction_model_+3A_std_err">std_err</code></td>
<td>
<p>If TRUE, the standard errors of the parameters will also be calculated. Note that it may significantly increase the computation time.</p>
</td></tr>
<tr><td><code id="auction_model_+3A_hessian_args">hessian_args</code></td>
<td>
<p>A list of arguments passed as the <code>method.args</code> argument of the hessian() function if standard errors are calculated (see ?hessian for details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates a first-price auction model with conditionally independent private values.
This version of the package estimates a procurement auction, where the winning bid is the amount that a single buyer
will pay to the top bidding supplier, and values correspond to costs. The model allows for unobserved heterogeneity
that is common to all bidders in addition to observable heterogeneity. The winning bid (Y) takes the form
</p>
<p>Y = B * U * h(X)
</p>
<p>where B is the proportional winning bid, U is the unobserved heterogeneity, and h(X) controls for
observed heterogeneity. The model is log-linear so that
log(Y) = log(B) + log(U) + log(h(X)) and log(h(X)) = beta1 * X1 + beta2 * X2 + ...
</p>
<p>The (conditionally) independent private costs are drawn from a Weibull distribution
with parameters mu (mean) and alpha (shape). The CDF of this distribution is given by
</p>
<p>F(c) = 1 - exp(- (c * 1/mu * Gamma(1 + 1/alpha))^(alpha))
</p>
<p>The unobserved heterogeneity U is sampled from log-normal distribution with mean 1 and a free parameter sigma representing its standard deviation.
</p>
<p><code>init_params</code>, the initial guess for convergence, must be supplied.
</p>
<p>This function utilizes the <code>Rsnow</code> framework within the <code>Rparallel</code> package. If <code>numcores</code> is not specified, this will be run using only
one CPU/core. One can use <code>parallel::detectCores()</code> to determine how many are available on your system, but you are not advised
to use all at once, as this may make your system unresponsive. Please see <code>Rparallel</code> and <code>Rsnow</code> for more details.
</p>
<p>Note that the supplied data can not have missing values.
</p>


<h3>Value</h3>

<p>A list returned by <code>optim()</code>. See <code>?optim</code> for more details. If <code>std_err</code> was set to TRUE and the routine succeeded in inverting
the estimated Hessian, the list will have an additional component:
</p>
<table>
<tr><td><code>std_err</code></td>
<td>
<p>A vector of standard errors for parameter estimates.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mackay, Alexander. <a href="mailto:amackay@hbs.edu">amackay@hbs.edu</a>, HBS Research Computing <a href="mailto:research@hbs.edu">research@hbs.edu</a>.
</p>


<h3>References</h3>

<p>Mackay, Alexander. 2020. &quot;Contract Duration and the Costs of Market Transactions.&quot; Working paper, Appendix G.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+auction_generate_data">auction_generate_data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>###########################################################################
## Estimating parameters and standard errors with custom "control" argument
set.seed(100)
dat &lt;- auction_generate_data(obs = 15, mu = 10, alpha = 2,
                              sigma = 0.2, beta = c(-1,1),
                              new_x_mean= c(-1,1),
                              new_x_sd = c(0.5,0.8))

res &lt;- auction_model(dat, init_param =  c(8, 2, .5, .4, .6),
                      num_cores = 1,
                      control = list(parscale = c(1,0.1,0.1,1,1)),
                      std_err = TRUE)
res

## run vignette("auctionr") to view a more detailed example

</code></pre>

<hr>
<h2 id='print.auctionmodel'>Print an auction model.</h2><span id='topic+print.auctionmodel'></span>

<h3>Description</h3>

<p>Print an auction model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'auctionmodel'
print(x, digits = 6, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.auctionmodel_+3A_x">x</code></td>
<td>
<p>An object of class auctionmodel.</p>
</td></tr>
<tr><td><code id="print.auctionmodel_+3A_digits">digits</code></td>
<td>
<p>Number of digits to display.</p>
</td></tr>
<tr><td><code id="print.auctionmodel_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package fastcox</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fastcox}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fastcox-package'><p>Lasso and elastic-net penalized Cox's regression in high dimensions models using the cocktail algorithm</p></a></li>
<li><a href='#cocktail'><p>Fits the regularization paths for the elastic net penalized Cox's model</p></a></li>
<li><a href='#cv.cocktail'><p>Cross-validation for cocktail</p></a></li>
<li><a href='#FHT'><p>FHT data introduced in Simon et al. (2011).</p></a></li>
<li><a href='#plot.cocktail'><p>Plot coefficients from a &quot;cocktail&quot; object</p></a></li>
<li><a href='#plot.cv.cocktail'><p>plot the cross-validation curve produced by cv.cocktail</p></a></li>
<li><a href='#predict.cocktail'><p>make predictions from a &quot;cocktail&quot; object.</p></a></li>
<li><a href='#print.cocktail'><p>print a cocktail object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Lasso and Elastic-Net Penalized Cox's Regression in High
Dimensions Models using the Cocktail Algorithm</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-09-12</td>
</tr>
<tr>
<td>Author:</td>
<td>Yi Yang &lt;yi.yang6@mcgill.ca&gt;, Hui Zou &lt;hzou@stat.umn.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yi Yang &lt;yi.yang6@mcgill.ca&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, methods</td>
</tr>
<tr>
<td>Description:</td>
<td>We implement a cocktail algorithm, a good mixture of coordinate decent, the majorization-minimization principle and the strong rule, for computing the solution paths of the elastic net penalized Cox's proportional hazards model. The package is an implementation of Yang, Y. and Zou, H. (2013) DOI: &lt;<a href="https://doi.org/10.4310%2FSII.2013.v6.n2.a1">doi:10.4310/SII.2013.v6.n2.a1</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-09-15 01:58:31 UTC; yiyang</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-09-15 07:43:20 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
</table>
<hr>
<h2 id='fastcox-package'>Lasso and elastic-net penalized Cox's regression in high dimensions models using the cocktail algorithm</h2><span id='topic+fastcox-package'></span>

<h3>Description</h3>

<p>We introduce a cocktail algorithm, a good mixture of coordinate decent, the majorization-minimization principle and the strong rule, for computing the solution paths of the elastic net penalized Cox's proportional hazards model.</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package:	</td><td style="text-align: left;"> fastcox</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: 		</td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: 	</td><td style="text-align: left;"> 1.0.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: 		</td><td style="text-align: left;"> 2012-03-26</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: 	</td><td style="text-align: left;"> Matrix</td>
</tr>
<tr>
 <td style="text-align: left;">
License: 	</td><td style="text-align: left;"> GPL (version 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: 		</td><td style="text-align: left;"> https://github.com/emeryyi/fastcox</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Yi Yang and Hui Zou<br />
Maintainer: Yi Yang  &lt;yi.yang6@mcgill.ca&gt;</p>


<h3>References</h3>

<p>Yang, Y. and Zou, H. (2013), 
&quot;A Cocktail Algorithm for Solving The Elastic Net Penalized Cox's Regression in High Dimensions&quot;, <em>Statistics and Its Interface,</em> 6:2, 167-173.<br />
<a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a><br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FHT)
m1&lt;-cocktail(x=FHT$x,y=FHT$y,d=FHT$status,alpha=0.5)
predict(m1,type="nonzero")
plot(m1)
</code></pre>

<hr>
<h2 id='cocktail'>Fits the regularization paths for the elastic net penalized Cox's model</h2><span id='topic+cocktail'></span>

<h3>Description</h3>

<p>Fits a regularization path for the elastic net penalized Cox's model at a sequence of regularization parameters lambda.</p>


<h3>Usage</h3>

<pre><code class='language-R'>cocktail(x,y,d,
	nlambda=100,
	lambda.min=ifelse(nobs&lt;nvars,1e-2,1e-4),
	lambda=NULL, 
	alpha=1,
	pf=rep(1,nvars),
	exclude,
	dfmax=nvars+1,
	pmax=min(dfmax*1.2,nvars),
	standardize=TRUE,
	eps=1e-6,
	maxit=3e4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cocktail_+3A_x">x</code></td>
<td>
<p>matrix of predictors, of dimension <code class="reqn">N \times p</code>; each row is an observation vector.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_y">y</code></td>
<td>
<p>a survival time for Cox models. Currently tied failure times are not supported.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_d">d</code></td>
<td>
<p>censor status with 1 if died and 0 if right censored.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_nlambda">nlambda</code></td>
<td>
<p>the number of <code>lambda</code> values - default is 100.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_lambda.min">lambda.min</code></td>
<td>
<p>given as a fraction of <code>lambda.max</code> - the smallest value of <code>lambda</code> for which all coefficients are zero. The default depends on the relationship between <code class="reqn">N</code> (the number of rows in the matrix of predictors) and <code class="reqn">p</code> (the number of predictors). If <code class="reqn">N &gt; p</code>, the default is <code>0.0001</code>,
close to zero.  If <code class="reqn">N&lt;p</code>, the default is <code>0.01</code>.
A very small value of <code>lambda.min</code> will lead to a saturated fit. It takes no effect if there is user-defined <code>lambda</code> sequence.</p>
</td></tr> 
<tr><td><code id="cocktail_+3A_lambda">lambda</code></td>
<td>
<p>a user supplied <code>lambda</code> sequence. Typically, by leaving this option unspecified users can have 
the program compute its own <code>lambda</code> sequence based on
<code>nlambda</code> and <code>lambda.min</code>. Supplying a value of
<code>lambda</code> overrides this. It is better to supply
a decreasing sequence of <code>lambda</code> values than a single (small) value, if not, the program will sort user-defined <code>lambda</code> sequence in decreasing order automatically.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_alpha">alpha</code></td>
<td>
<p>The elasticnet mixing parameter, with <code class="reqn">0 &lt; \alpha &lt;= 1</code>. See details.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_pf">pf</code></td>
<td>
<p>separate penalty weights can be applied to each coefficient of <code class="reqn">\beta</code> to allow
differential shrinkage. Can be 0 for some variables, which implies
no shrinkage, and results in that variable always being included in the
model. Default is 1 for all variables (and implicitly infinity for
variables listed in <code>exclude</code>). See details.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_exclude">exclude</code></td>
<td>
<p>indices of variables to be excluded from the
model. Default is none. Equivalent to an infinite penalty factor.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_dfmax">dfmax</code></td>
<td>
<p>limit the maximum number of variables in the
model. Useful for very large <code class="reqn">p</code>, if a partial path is desired. Default is <code class="reqn">p+1</code>.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_pmax">pmax</code></td>
<td>
<p>limit the maximum number of variables ever to be nonzero. For example once <code class="reqn">\beta</code> enters the model, no matter how many times it exits or re-enters model through the path, it will be counted only once. Default is <code>min(dfmax*1.2,p)</code>.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_standardize">standardize</code></td>
<td>
<p>logical flag for variable standardization, prior to
fitting the model sequence. If <code>TRUE</code>, x matrix is normalized such that sum squares of each column <code class="reqn">\sum^N_{i=1}x_{ij}^2/N=1</code>. Note that x is always centered (i.e. <code class="reqn">\sum^N_{i=1}x_{ij}=0</code>) no matter <code>standardize</code> is <code>TRUE</code> or <code>FALSE</code>. The coefficients are always returned on
the original scale. Default is is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_eps">eps</code></td>
<td>
<p>convergence threshold for coordinate majorization descent. Each inner
coordinate majorization descent loop continues until the relative change in any
coefficient (i.e. <code class="reqn">\max_j|\beta_j^{new}-\beta_j^{old}|^2</code>) is less than <code>eps</code>. Defaults value is <code>1e-6</code>.</p>
</td></tr>
<tr><td><code id="cocktail_+3A_maxit">maxit</code></td>
<td>
<p>maximum number of outer-loop iterations allowed at fixed lambda value. Default is 1e4. If models do not converge, consider increasing <code>maxit</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The algorithm estimates <code class="reqn">\beta</code> based on observed data, through elastic net penalized log partial likelihood of Cox's model.
</p>
<p style="text-align: center;"><code class="reqn">\arg\min(-loglik(Data,\beta)+\lambda*P(\beta))</code>
</p>

<p>It can compute estimates at a fine grid of values of <code class="reqn">\lambda</code>s in order to pick up a data-driven optimal <code class="reqn">\lambda</code> for fitting a 'best' final model. The penalty is a combination of l1 and l2 penalty:
</p>
<p style="text-align: center;"><code class="reqn">P(\beta)=(1-\alpha)/2||\beta||_2^2+\alpha||\beta||_1.</code>
</p>
 
<p><code>alpha=1</code> is the lasso penalty.
For computing speed reason, if models are not converging or running slow, consider increasing <code>eps</code>, decreasing
<code>nlambda</code>, or increasing <code>lambda.min</code> before increasing
<code>maxit</code>.
</p>
<p><strong>FAQ:</strong>
</p>
<p><b>Question: </b>&ldquo;<em>I am not sure how are we optimizing alpha. I can get optimal lambda for each value of alpha. But how do I select optimum alpha?</em>&rdquo; 
</p>
<p><b>Answer: </b> <code>cv.cocktail</code> only finds the optimal lambda given alpha fixed. So to
chose a good alpha you need to fit CV on a grid of alpha, say (0.1,0.3, 0.6, 0.9, 1) and let cv.cocktail choose the optimal lambda for each alpha, then you choose the (alpha, lambda) pair that corresponds to the lowest predicted deviance.
</p>
<p><b>Question: </b>&ldquo;<em>I understand your are referring to minimizing the quantity <code>cv.cocktail\$cvm</code>, the mean 'cross-validated error' to optimize alpha and lambda as you did in your implementation. However, I don't know what the equation of this error is and this error is not referred to in your paper either. Do you mind explaining what this is?
</em>&rdquo;
</p>
<p><b>Answer: </b> We first define the log partial-likelihood for the Cox model. Assume
<code class="reqn">\hat{\beta}^{[k]}</code> is the estimate fitted on <code class="reqn">k</code>-th fold, define the log partial likelihood function as 
</p>
<p style="text-align: center;"><code class="reqn">
L(Data,\hat{\beta}[k])=\sum_{s=1}^{S} x_{i_{s}}^{T}\hat{\beta}[k]-\log(\sum_{i\in R_{s}}\exp(x_{i}^{T}\hat{\beta}[k])).
</code>
</p>

<p>Then the log partial-likelihood deviance of the <code class="reqn">k</code>-th fold is defined
as
</p>
<p style="text-align: center;"><code class="reqn">
D[Data,k]=-2(L(Data,\hat{\beta}[k])).
</code>
</p>

<p>We now define the measurement we actually use for cross validation:
it is the difference between the log partial-likelihood deviance evaluated
on the full dataset and that evaluated on the on the dataset with
<code class="reqn">k</code>-th fold excluded. The cross-validated error is defined as
</p>
<p style="text-align: center;"><code class="reqn">
CV-ERR[k]=D(Data[full],k)-D(Data[k^{th}\,\,fold\,\,excluded],k).
</code>
</p>



<h3>Value</h3>

<p>An object with S3 class <code><a href="#topic+cocktail">cocktail</a></code>.
</p>
<table>
<tr><td><code>call</code></td>
<td>
<p>the call that produced this object</p>
</td></tr>
<tr><td><code>beta</code></td>
<td>
<p>a <code class="reqn">p*length(lambda)</code> matrix of coefficients, stored as a sparse matrix (<code>dgCMatrix</code> class, the standard class for sparse numeric matrices in the <code>Matrix</code> package.). To convert it into normal type matrix use <code>as.matrix()</code>.</p>
</td></tr>
<tr><td><code>lambda</code></td>
<td>
<p>the actual sequence of <code>lambda</code> values used</p>
</td></tr>
<tr><td><code>df</code></td>
<td>
<p>the number of nonzero coefficients for each value of
<code>lambda</code>.</p>
</td></tr>
<tr><td><code>dim</code></td>
<td>
<p>dimension of coefficient matrix (ices)</p>
</td></tr>
<tr><td><code>npasses</code></td>
<td>
<p>total number of iterations (the most inner loop) summed over all lambda values</p>
</td></tr>
<tr><td><code>jerr</code></td>
<td>
<p>error flag, for warnings and errors, 0 if no error.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yi Yang and Hui Zou<br />
Maintainer: Yi Yang  &lt;yi.yang6@mcgill.ca&gt;</p>


<h3>References</h3>

<p>Yang, Y. and Zou, H. (2013), 
&quot;A Cocktail Algorithm for Solving The Elastic Net Penalized Cox's Regression in High Dimensions&quot;, <em>Statistics and Its Interface,</em> 6:2, 167-173.<br />
<a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a><br />
</p>


<h3>See Also</h3>

<p><code>plot.cocktail</code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FHT)
m1&lt;-cocktail(x=FHT$x,y=FHT$y,d=FHT$status,alpha=0.5)
predict(m1,type="nonzero")
plot(m1)
</code></pre>

<hr>
<h2 id='cv.cocktail'>Cross-validation for cocktail</h2><span id='topic+cv.cocktail'></span><span id='topic+cv.survpath'></span>

<h3>Description</h3>

<p>Does k-fold cross-validation for cocktail, produces a plot,
and returns a value for <code>lambda</code>. This function is modified based on the <code>cv</code> function from the <code>glmnet</code> package.</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.cocktail(x,y,d,lambda=NULL,nfolds=5,foldid,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cv.cocktail_+3A_x">x</code></td>
<td>
<p>matrix of predictors, of dimension <code class="reqn">N \times p</code>; each row is an observation vector.</p>
</td></tr>
<tr><td><code id="cv.cocktail_+3A_y">y</code></td>
<td>
<p>a survival time for Cox models. Currently tied failure times are not supported.</p>
</td></tr>
<tr><td><code id="cv.cocktail_+3A_d">d</code></td>
<td>
<p>censor status with 1 if died and 0 if right censored.</p>
</td></tr>
<tr><td><code id="cv.cocktail_+3A_lambda">lambda</code></td>
<td>
<p>optional user-supplied lambda sequence; default is
<code>NULL</code>, and <code><a href="#topic+cocktail">cocktail</a></code> chooses its own sequence.</p>
</td></tr>
<tr><td><code id="cv.cocktail_+3A_nfolds">nfolds</code></td>
<td>
<p>number of folds - default is 5. Although <code>nfolds</code>
can be as large as the sample size (leave-one-out CV), it is not
recommended for large datasets. Smallest value allowable is <code>nfolds=3</code>.</p>
</td></tr>
<tr><td><code id="cv.cocktail_+3A_foldid">foldid</code></td>
<td>
<p>an optional vector of values between 1 and <code>nfold</code>
identifying what fold each observation is in. If supplied,
<code>nfold</code> can be missing.</p>
</td></tr>
<tr><td><code id="cv.cocktail_+3A_...">...</code></td>
<td>
<p>other arguments that can be passed to cocktail.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs <code><a href="#topic+cocktail">cocktail</a></code> <code>nfolds</code>+1 times; the
first to get the <code>lambda</code> sequence, and then the remainder to
compute the fit with each of the folds omitted. The average error and standard deviation over the
folds are computed. 
</p>


<h3>Value</h3>

<p>an object of class <code><a href="#topic+cv.cocktail">cv.cocktail</a></code> is returned, which is a
list with the ingredients of the cross-validation fit.
</p>
<table>
<tr><td><code>lambda</code></td>
<td>
<p>the values of <code>lambda</code> used in the fits.</p>
</td></tr>
<tr><td><code>cvm</code></td>
<td>
<p>the mean cross-validated error - a vector of length
<code>length(lambda)</code>.</p>
</td></tr>
<tr><td><code>cvsd</code></td>
<td>
<p>estimate of standard error of <code>cvm</code>.</p>
</td></tr>
<tr><td><code>cvup</code></td>
<td>
<p>upper curve = <code>cvm+cvsd</code>.</p>
</td></tr>
<tr><td><code>cvlo</code></td>
<td>
<p>lower curve = <code>cvm-cvsd</code>.</p>
</td></tr>
<tr><td><code>nzero</code></td>
<td>
<p>number of non-zero coefficients at each <code>lambda</code>.</p>
</td></tr>
<tr><td><code>name</code></td>
<td>
<p>a text string indicating partial likelihood (for plotting purposes).</p>
</td></tr>
<tr><td><code>cocktail.fit</code></td>
<td>
<p>a fitted <code><a href="#topic+cocktail">cocktail</a></code> object for the full data.</p>
</td></tr>
<tr><td><code>lambda.min</code></td>
<td>
<p>The optimal value of <code>lambda</code> that gives minimum
cross validation error <code>cvm</code>.</p>
</td></tr>
<tr><td><code>lambda.1se</code></td>
<td>
<p>The largest value of <code>lambda</code> such that error is
within 1 standard error of the minimum.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yi Yang and Hui Zou<br />
Maintainer: Yi Yang  &lt;yi.yang6@mcgill.ca&gt;</p>


<h3>References</h3>

<p>Yang, Y. and Zou, H. (2013), 
&quot;A Cocktail Algorithm for Solving The Elastic Net Penalized Cox's Regression in High Dimensions&quot;, <em>Statistics and Its Interface,</em> 6:2, 167-173.<br />
<a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a><br />
</p>
<p>Friedman, J., Hastie, T., and Tibshirani, R. (2010), &quot;Regularization paths for generalized
linear models via coordinate descent,&quot; <em>Journal of Statistical Software, 33, 1.</em><br />
<a href="http://www.jstatsoft.org/v33/i01/">http://www.jstatsoft.org/v33/i01/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cocktail">cocktail</a></code>, <code><a href="#topic+plot.cv.cocktail">plot.cv.cocktail</a></code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FHT)
cv1&lt;-cv.cocktail(x=FHT$x[,1:10],y=FHT$y,d=FHT$status,alpha=0.5,nfolds=3)
cv1
plot(cv1)
</code></pre>

<hr>
<h2 id='FHT'>FHT data introduced in Simon et al. (2011).</h2><span id='topic+FHT'></span>

<h3>Description</h3>

<p>The <code>FHT</code> data set has n = 50 observations and p = 100 predictors. The covariance between predictors Xj and Xj' has the same correlation 0.5. See details in Simon et al. (2011).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(FHT)</code></pre>


<h3>Format</h3>

<p>This <code>list</code> object named &quot;FHT&quot; contains the following data:
</p>

<dl>
<dt>x</dt><dd><p>a covariate matrix with 50 rows and 100 columns</p>
</dd>
<dt>y</dt><dd><p>the distinct failure times</p>
</dd>
<dt>status</dt><dd><p>the censoring indicator (status = 1 indicates no censoring and status = 0 indicates right censoring)</p>
</dd>
</dl>



<h3>References</h3>

<p>Friedman, J., Hastie, T. and Tibshirani, R. (2008)
&quot;Regularization Paths for Generalized Linear Models via Coordinate
Descent&quot;,   <a href="http://www.stanford.edu/~hastie/Papers/glmnet.pdf">http://www.stanford.edu/~hastie/Papers/glmnet.pdf</a><br />
<em>Journal of Statistical Software</em>, Vol. 33(1), 1-22 Feb 2010<br />
<a href="http://www.jstatsoft.org/v33/i01/">http://www.jstatsoft.org/v33/i01/</a><br /><br />
Simon, N., Friedman, J., Hastie, T., Tibshirani, R. (2011)
&quot;Regularization Paths for Cox's Proportional Hazards Model via
Coordinate Descent&quot;, <em>Journal of Statistical Software</em>, Vol. 39(5)
1-13 <br />
<a href="http://www.jstatsoft.org/v39/i05/">http://www.jstatsoft.org/v39/i05/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FHT)
</code></pre>

<hr>
<h2 id='plot.cocktail'>Plot coefficients from a &quot;cocktail&quot; object</h2><span id='topic+plot.cocktail'></span>

<h3>Description</h3>

<p>Produces a coefficient profile plot of the coefficient paths for a
fitted <code><a href="#topic+cocktail">cocktail</a></code> object. This function is modified based on the <code>plot</code> function from the <code>glmnet</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cocktail'
plot(x, xvar = c("norm", "lambda"), color = FALSE, label = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.cocktail_+3A_x">x</code></td>
<td>
<p>fitted <code><a href="#topic+cocktail">cocktail</a></code> model</p>
</td></tr>
<tr><td><code id="plot.cocktail_+3A_xvar">xvar</code></td>
<td>
<p>what is on the X-axis. <code>"norm"</code> plots against the
L1-norm of the coefficients, <code>"lambda"</code> against the log-lambda
sequence.</p>
</td></tr>
<tr><td><code id="plot.cocktail_+3A_color">color</code></td>
<td>
<p>if <code>TRUE</code>, plot the curves with rainbow colors. <code>FALSE</code> is gray colors. Default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="plot.cocktail_+3A_label">label</code></td>
<td>
<p>if <code>TRUE</code>, label the curves with variable sequence numbers. Default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="plot.cocktail_+3A_...">...</code></td>
<td>
<p>other graphical parameters to plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A coefficient profile plot is produced.
</p>


<h3>Author(s)</h3>

<p>Yi Yang and Hui Zou<br />
Maintainer: Yi Yang  &lt;yi.yang6@mcgill.ca&gt;</p>


<h3>References</h3>

<p>Yang, Y. and Zou, H. (2013), 
&quot;A Cocktail Algorithm for Solving The Elastic Net Penalized Cox's Regression in High Dimensions&quot;, <em>Statistics and Its Interface,</em> 6:2, 167-173.<br />
<a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a><br />
</p>
<p>Friedman, J., Hastie, T. and Tibshirani, R. (2008)
&quot;Regularization Paths for Generalized Linear Models via Coordinate
Descent&quot;,   <a href="http://www.stanford.edu/~hastie/Papers/glmnet.pdf">http://www.stanford.edu/~hastie/Papers/glmnet.pdf</a><br />
<em>Journal of Statistical Software</em>, Vol. 33(1), 1-22 Feb 2010<br />
<a href="http://www.jstatsoft.org/v33/i01/">http://www.jstatsoft.org/v33/i01/</a><br /><br />
Simon, N., Friedman, J., Hastie, T., Tibshirani, R. (2011)
&quot;Regularization Paths for Cox's Proportional Hazards Model via
Coordinate Descent&quot;, <em>Journal of Statistical Software</em>, Vol. 39(5)
1-13 <br />
<a href="http://www.jstatsoft.org/v39/i05/">http://www.jstatsoft.org/v39/i05/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FHT)
m1&lt;-cocktail(x=FHT$x,y=FHT$y,d=FHT$status,alpha=0.5)
par(mfrow=c(1,3))
plot(m1) # plots against the L1-norm of the coefficients
plot(m1,xvar="lambda",label=TRUE) # plots against the log-lambda sequence
plot(m1,color=TRUE)
</code></pre>

<hr>
<h2 id='plot.cv.cocktail'>plot the cross-validation curve produced by cv.cocktail</h2><span id='topic+plot.cv.cocktail'></span>

<h3>Description</h3>

<p>Plots the cross-validation curve, and upper and lower standard deviation
curves, as a function of the <code>lambda</code> values used. This function is modified based on the <code>plot.cv</code> function from the <code>glmnet</code> package.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.cocktail'
plot(x, sign.lambda, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.cv.cocktail_+3A_x">x</code></td>
<td>
<p>fitted <code><a href="#topic+cv.cocktail">cv.cocktail</a></code> object</p>
</td></tr>
<tr><td><code id="plot.cv.cocktail_+3A_sign.lambda">sign.lambda</code></td>
<td>
<p>either plot against <code>log(lambda)</code> (default) or
its negative if <code>sign.lambda=-1</code>.</p>
</td></tr>
<tr><td><code id="plot.cv.cocktail_+3A_...">...</code></td>
<td>
<p>other graphical parameters to plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A plot is produced.</p>


<h3>Author(s)</h3>

<p>Yi Yang and Hui Zou<br />
Maintainer: Yi Yang  &lt;yi.yang6@mcgill.ca&gt;</p>


<h3>References</h3>

<p>Yang, Y. and Zou, H. (2013), 
&quot;A Cocktail Algorithm for Solving The Elastic Net Penalized Cox's Regression in High Dimensions&quot;, <em>Statistics and Its Interface,</em> 6:2, 167-173.<br />
<a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a><br />
</p>
<p>Friedman, J., Hastie, T., and Tibshirani, R. (2010), &quot;Regularization paths for generalized
linear models via coordinate descent,&quot; <em>Journal of Statistical Software, 33, 1.</em><br />
<a href="http://www.jstatsoft.org/v33/i01/">http://www.jstatsoft.org/v33/i01/</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+cv.cocktail">cv.cocktail</a></code>.</p>

<hr>
<h2 id='predict.cocktail'>make predictions from a &quot;cocktail&quot; object.</h2><span id='topic+predict.cocktail'></span><span id='topic+predict.survpath'></span>

<h3>Description</h3>

<p>Similar to other predict methods, this functions predicts fitted values, link function and more from a fitted <code><a href="#topic+cocktail">cocktail</a></code> object. This function is modified based on the <code>predict</code> function from the <code>glmnet</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cocktail'
predict(object,newx,s=NULL,type=c("link","response","coefficients","nonzero"),...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.cocktail_+3A_object">object</code></td>
<td>
<p>fitted <code><a href="#topic+cocktail">cocktail</a></code> model object.</p>
</td></tr>
<tr><td><code id="predict.cocktail_+3A_newx">newx</code></td>
<td>
<p>matrix of new values for <code>x</code> at which predictions are
to be made. Must be a matrix. This argument is not used for <code>type=c("coefficients","nonzero")</code></p>
</td></tr>
<tr><td><code id="predict.cocktail_+3A_s">s</code></td>
<td>
<p>value(s) of the penalty parameter <code>lambda</code> at which
predictions are required. Default is the entire sequence used to
create the model. </p>
</td></tr>
<tr><td><code id="predict.cocktail_+3A_type">type</code></td>
<td>

<p>type of prediction required. 
</p>

<ul>
<li><p> Type <code>"link"</code> gives the linear predictors for Cox's model. 
</p>
</li>
<li><p> Type <code>"response"</code> gives the fitted relative-risk for Cox's model. 
</p>
</li>
<li><p> Type <code>"coefficients"</code> computes the coefficients at the requested values for s.
</p>
</li>
<li><p> Type <code>"nonzero"</code> returns a list of the indices of the nonzero coefficients for each value of s. </p>
</li></ul>
</td></tr>
<tr><td><code id="predict.cocktail_+3A_...">...</code></td>
<td>
<p>Not used. Other arguments to predict. </p>
</td></tr> </table>


<h3>Details</h3>

<p><code>s</code> is the new vector at which predictions are requested. If <code>s</code> is not in the lambda sequence used for fitting the model, the <code>predict</code> function will use linear interpolation to make predictions. The new values are interpolated using a fraction of predicted values from both left and right <code>lambda</code> indices. </p>


<h3>Value</h3>

<p>The object returned depends on type.</p>


<h3>Author(s)</h3>

<p>Yi Yang and Hui Zou<br />
Maintainer: Yi Yang  &lt;yi.yang6@mcgill.ca&gt;</p>


<h3>References</h3>

<p>Yang, Y. and Zou, H. (2013), 
&quot;A Cocktail Algorithm for Solving The Elastic Net Penalized Cox's Regression in High Dimensions&quot;, <em>Statistics and Its Interface,</em> 6:2, 167-173.<br />
<a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a><br />
</p>
<p>Friedman, J., Hastie, T. and Tibshirani, R. (2008)
&quot;Regularization Paths for Generalized Linear Models via Coordinate
Descent&quot;,   <a href="http://www.stanford.edu/~hastie/Papers/glmnet.pdf">http://www.stanford.edu/~hastie/Papers/glmnet.pdf</a><br />
<em>Journal of Statistical Software</em>, Vol. 33(1), 1-22 Feb 2010<br />
<a href="http://www.jstatsoft.org/v33/i01/">http://www.jstatsoft.org/v33/i01/</a><br /><br />
Simon, N., Friedman, J., Hastie, T., Tibshirani, R. (2011)
&quot;Regularization Paths for Cox's Proportional Hazards Model via
Coordinate Descent&quot;, <em>Journal of Statistical Software</em>, Vol. 39(5)
1-13 <br />
<a href="http://www.jstatsoft.org/v39/i05/">http://www.jstatsoft.org/v39/i05/</a>
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+coef">coef</a></code> method</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FHT)
m1&lt;-cocktail(x=FHT$x,y=FHT$y,d=FHT$status,alpha=0.5)
predict(m1,type="nonzero")
predict(m1,newx=FHT$x[1:5,],type="response")
</code></pre>

<hr>
<h2 id='print.cocktail'>print a cocktail object</h2><span id='topic+print.cocktail'></span>

<h3>Description</h3>

<p>Print a summary of the cocktail path at each step along the path. This function is modified based on the <code>print</code> function from the <code>glmnet</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cocktail'
print(x, digits = max(3, getOption("digits") - 3), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.cocktail_+3A_x">x</code></td>
<td>
<p>fitted <code><a href="#topic+cocktail">cocktail</a></code> object</p>
</td></tr>
<tr><td><code id="print.cocktail_+3A_digits">digits</code></td>
<td>
<p>significant digits in printout</p>
</td></tr>
<tr><td><code id="print.cocktail_+3A_...">...</code></td>
<td>
<p>additional print arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The call that produced the <code><a href="#topic+cocktail">cocktail</a></code> object is printed, followed by a two-column matrix with columns <code>Df</code> and <code>Lambda</code>. The <code>Df</code> column is the number of nonzero coefficients.
</p>


<h3>Value</h3>

<p>a two-column matrix, the first columns is the number of nonzero coefficients and the second column is <code>Lambda</code>.</p>


<h3>Author(s)</h3>

<p>Yi Yang and Hui Zou<br />
Maintainer: Yi Yang  &lt;yi.yang6@mcgill.ca&gt;</p>


<h3>References</h3>

<p>Yang, Y. and Zou, H. (2013), 
&quot;A Cocktail Algorithm for Solving The Elastic Net Penalized Cox's Regression in High Dimensions&quot;, <em>Statistics and Its Interface,</em> 6:2, 167-173.<br />
<a href="https://github.com/emeryyi/fastcox">https://github.com/emeryyi/fastcox</a><br />
</p>
<p>Friedman, J., Hastie, T. and Tibshirani, R. (2008)
&quot;Regularization Paths for Generalized Linear Models via Coordinate
Descent&quot;,   <a href="http://www.stanford.edu/~hastie/Papers/glmnet.pdf">http://www.stanford.edu/~hastie/Papers/glmnet.pdf</a><br />
<em>Journal of Statistical Software</em>, Vol. 33(1), 1-22 Feb 2010<br />
<a href="http://www.jstatsoft.org/v33/i01/">http://www.jstatsoft.org/v33/i01/</a><br /><br />
Simon, N., Friedman, J., Hastie, T., Tibshirani, R. (2011)
&quot;Regularization Paths for Cox's Proportional Hazards Model via
Coordinate Descent&quot;, <em>Journal of Statistical Software</em>, Vol. 39(5)
1-13 <br />
<a href="http://www.jstatsoft.org/v39/i05/">http://www.jstatsoft.org/v39/i05/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FHT)
m1&lt;-cocktail(x=FHT$x,y=FHT$y,d=FHT$status,alpha=0.5)
print(m1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

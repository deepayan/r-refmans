<!DOCTYPE html><html lang="en"><head><title>Help for package dmri.tracking</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dmri.tracking}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dmri.tracking-package'><p>dmri.tracking: DiST - Diffusion Direction Smoothing and Tracking</p></a></li>
<li><a href='#tractography'><p>Tractography</p></a></li>
<li><a href='#v.track'><p>Deterministic tracking algorithm &ndash; DiST</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>DiST - Diffusion Direction Smoothing and Tracking</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Seungyong Hwang &lt;syhwang@ucdavis.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>It provides functions to apply the deterministic tracking algorithm - DiST (Wong et al 2016) &lt;<a href="https://doi.org/10.1214%2F15-AOAS880">doi:10.1214/15-AOAS880</a>&gt; and to plot tractography results.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/vic-dragon/dmri.tracking">https://github.com/vic-dragon/dmri.tracking</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/vic-dragon/dmri.tracking/issues">https://github.com/vic-dragon/dmri.tracking/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>rgl</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr, testthat (&ge; 3.0.0), covr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-06-08 19:31:44 UTC; seungyong</td>
</tr>
<tr>
<td>Author:</td>
<td>Seungyong Hwang [aut, cre],
  Raymond Wong [aut],
  Seungyong Hwang [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-06-09 11:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dmri.tracking-package'>dmri.tracking: DiST - Diffusion Direction Smoothing and Tracking</h2><span id='topic+dmri.tracking'></span><span id='topic+dmri.tracking-package'></span>

<h3>Description</h3>

<p>It provides functions to apply the deterministic tracking algorithm - DiST (Wong et al 2016) &lt;doi:10.1214/15-AOAS880&gt; and to plot tractography results.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Seungyong Hwang <a href="mailto:syhwang@ucdavis.edu">syhwang@ucdavis.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Raymond Wong <a href="mailto:raywong@tamu.edu">raywong@tamu.edu</a>
</p>
</li>
<li><p> Seungyong Hwang <a href="mailto:syhwang@ucdavis.edu">syhwang@ucdavis.edu</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/vic-dragon/dmri.tracking">https://github.com/vic-dragon/dmri.tracking</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/vic-dragon/dmri.tracking/issues">https://github.com/vic-dragon/dmri.tracking/issues</a>
</p>
</li></ul>


<hr>
<h2 id='tractography'>Tractography</h2><span id='topic+tractography'></span>

<h3>Description</h3>

<p>Visualize the result from v.track.
r package <code>rgl</code> is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tractography(loc, vec)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tractography_+3A_loc">loc</code></td>
<td>
<p>Voxel coordinates that the reconstructed fiber go through</p>
</td></tr>
<tr><td><code id="tractography_+3A_vec">vec</code></td>
<td>
<p>Diffusion direction that used to reconstruct the fiber</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value. The reconstructed fiber is visualized on the opened rgl window.
</p>


<h3>Author(s)</h3>

<p>Raymond Wong, Seungyong Hwang (Maintainer: <a href="mailto:syhwang@ucdavis.edu">syhwang@ucdavis.edu</a>)
</p>


<h3>References</h3>

<p>R. K. W. Wong, T. C. M. Lee, D. Paul, J. Peng and for the Alzheimer's Disease Neuroimaging Initiative. (2016)
&quot;Fiber Direction Estimation, Smoothing and Tracking in Diffusion MRI&quot;. The Annals of Applied Statistics, 10(3), 1137-1156.
</p>


<h3>See Also</h3>

<p>The tracking result from <code><a href="#topic+v.track">v.track</a></code> can be used for <code><a href="#topic+tractography">tractography</a></code> in <code><a href="#topic+dmri.tracking">dmri.tracking</a></code> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Load an example output from the peak detection algorithm
load(system.file("extdata", "peakresult.rda", package = "dmri.tracking"))

str(peak.result)  #Output from the peak detection algorithm

#Apply Tracking algorithm
result = v.track(v.obj = peak.result, max.line=500)


#Plot tracking result.

library(rgl)
open3d()
for (iind in (result$sorted.iinds[result$sorted.update.ind])){
  cat(iind,"\n")
  tractography(result$tracks1[[iind]]$inloc, result$tracks1[[iind]]$dir)
  tractography(result$tracks2[[iind]]$inloc, result$tracks2[[iind]]$dir)
}

#An example to prepare v.obj is available in https://github.com/vic-dragon/dmri.tracking

</code></pre>

<hr>
<h2 id='v.track'>Deterministic tracking algorithm &ndash; DiST</h2><span id='topic+v.track'></span>

<h3>Description</h3>

<p>v.track is used to apply the deterministic tracking algorithm &ndash; DiST (Wong et al 2017)
It can be used to carry out the neuronal fiber reconstruction based on the peak detection results with local fiber estimation.
Peak detection algorithm can be found in example_HCP_analysis.py from <a href="https://github.com/vic-dragon/BJS/tree/master/example_scripts/">github-repository</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>v.track(
  v.obj,
  max.line = 100,
  nproj = 1,
  elim = T,
  elim.thres = 1,
  thres.ang = 0.5235988
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="v.track_+3A_v.obj">v.obj</code></td>
<td>
<p>An list type object which contains the following components:
</p>

<ul>
<li><p>vec: A matrix containing the estimated peak directions.
</p>
</li>
<li><p>loc: A matrix containing the 'braingrid' coordinates of the corresponding estimated peak direction.
</p>
</li>
<li><p>map: A vector containing the voxel indicator of corresponding estimated peak direction.
</p>
</li>
<li><p>rmap: A vector specifying the location in 'map' of each voxel.
</p>
</li>
<li><p>n.fiber: A vector specifying the number of peaks at each voxel.
</p>
</li>
<li><p>n.fiber2: A vector specifying the number of peaks corresponding to 'map'.
</p>
</li>
<li><p>braingrid: A array specifying the normalized voxel coordinates.
</p>
</li>
<li><p>xgrid.sp,ygrid.sp,zgrid.sp:  A numeric value specifying the voxel size (mm) in x, y, z-axis, respectively. (e.g. Voxel size in HCP dMRI: 1.25mm * 1.25mm * 1.25mm)
</p>
</li>
<li><p> Example can be found in main page of <a href="https://github.com/vic-dragon/dmri.tracking">github-repository</a>
</p>
</li></ul>
</td></tr>
<tr><td><code id="v.track_+3A_max.line">max.line</code></td>
<td>
<p>A integer value specifying the maximum number of voxels that the reconstructed fibers can go through. The value can depend on the size of ROI.</p>
</td></tr>
<tr><td><code id="v.track_+3A_nproj">nproj</code></td>
<td>
<p>A integer value specifying the number of neighborhood voxels if the algorithm cannot find any viable direction nearby.</p>
</td></tr>
<tr><td><code id="v.track_+3A_elim">elim</code></td>
<td>
<p>logical. If TRUE, 'sorted.update.ind' returns whether the reconstructed fiber is greater than 'elim.thres'</p>
</td></tr>
<tr><td><code id="v.track_+3A_elim.thres">elim.thres</code></td>
<td>
<p>A numeric value specifying the lower limit length of reconstructed fibers.</p>
</td></tr>
<tr><td><code id="v.track_+3A_thres.ang">thres.ang</code></td>
<td>
<p>A numeric value specifying the threshold to determine whether the destination voxel have a viable direction (default value: pi/6). i.e.,
the algorithm will be proceeded, if the angular difference of the diffusion direction between the previous voxel and the destination voxel is smaller than 'thres.ang'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of deterministic tracking algorithm
</p>

<ul>
<li><p>v.obj: Input of <code><a href="#topic+v.track">v.track</a></code>
</p>
</li>
<li><p>track1, track2: A list containing the reconstructed fiber information
</p>

<ul>
<li><p>inloc: The voxel coordinates that the reconstructed fiber went through
</p>
</li>
<li><p>dir: The diffusion direction that used to reconstruct fiber
</p>
</li>
<li><p>iinds: The indicator of voxel that the reconstructed fiber went through
</p>
</li>
<li><p>change: logical, If TRUE, that voxel pass the angular difference threshold (thres.ang)
</p>
</li>
<li><p>pvox: The passed voxel
</p>
</li>
<li><p>pdir: The passed direction
</p>
</li>
<li><p>pdis: The length of fiber between the passed information and the previous one.
</p>
</li>
<li><p>ppdis: The distance of the voxel between the passed one and the previous one.
</p>
</li></ul>

</li>
<li><p>n.iinds: Number of voxels the reconstructed fiber went through
</p>
</li>
<li><p>n.use.iind: Number of times that each estimated direction is used.
</p>
</li>
<li><p>lens: The reconstructed fiber lengths.
</p>
</li>
<li><p>sorted.iinds: The ordered reconstructed fibers
</p>
</li>
<li><p>sorted.update.ind: Whether the reconstructed fiber is greater than elim.thres
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Raymond Wong, Seungyong Hwang (Maintainer: <a href="mailto:syhwang@ucdavis.edu">syhwang@ucdavis.edu</a>)
</p>


<h3>References</h3>

<p>R. K. W. Wong, T. C. M. Lee, D. Paul, J. Peng and for the Alzheimer's Disease Neuroimaging Initiative. (2016)
&quot;Fiber Direction Estimation, Smoothing and Tracking in Diffusion MRI&quot;. The Annals of Applied Statistics, 10(3), 1137-1156.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tractography">tractography</a></code> for plotting tractography based on the tracking result from <code><a href="#topic+v.track">v.track</a></code> in <code><a href="#topic+dmri.tracking">dmri.tracking</a></code> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Load an example output from the peak detection algorithm
load(system.file("extdata", "peakresult.rda", package = "dmri.tracking"))

str(peak.result)  #Output from the peak detection algorithm

#Apply Tracking algorithm
result = v.track(v.obj = peak.result, max.line=500)


#Plot tracking result.

library(rgl)
open3d()
for (iind in (result$sorted.iinds[result$sorted.update.ind])){
  cat(iind,"\n")
  tractography(result$tracks1[[iind]]$inloc, result$tracks1[[iind]]$dir)
  tractography(result$tracks2[[iind]]$inloc, result$tracks2[[iind]]$dir)
}

#An example to prepare v.obj is available in https://github.com/vic-dragon/dmri.tracking

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

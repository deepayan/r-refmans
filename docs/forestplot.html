<!DOCTYPE html><html lang="en"><head><title>Help for package forestplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {forestplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#forestplot-package'><p>Package description</p></a></li>
<li><a href='#assertAndRetrieveTidyValue'><p>Retriever of <code>tidyselect</code></p></a></li>
<li><a href='#dfHRQoL'><p>Regression coefficients and confidence intervals from HRQoL study</p></a></li>
<li><a href='#drawHorizontalLines'><p>Draws the horizontal lines</p></a></li>
<li><a href='#forestplot'><p>Draws a forest plot</p></a></li>
<li><a href='#fp_add_lines'><p>Adds a line to the graph</p></a></li>
<li><a href='#fp_decorate_graph'><p>Decorate the graph</p></a></li>
<li><a href='#fp_insert_row'><p>Insert/append rows into forestplot</p></a></li>
<li><a href='#fp_set_style'><p>Set the style of the graph</p></a></li>
<li><a href='#fp_set_zebra_style'><p>Decorate the plot with a zebra pattern</p></a></li>
<li><a href='#fp_txt_italic'><p>Text styling</p></a></li>
<li><a href='#fpColors'><p>A function for the color elements used in forestplot()</p></a></li>
<li><a href='#fpDrawNormalCI'><p>Draw standard confidence intervals</p></a></li>
<li><a href='#fpLegend'><p>A function for the legend used in forestplot()</p></a></li>
<li><a href='#fpShapesGp'><p>A function for graphical parameters of the shapes used in <code>forestplot()</code></p></a></li>
<li><a href='#fpTxtGp'><p>Get font settings for forestplot</p></a></li>
<li><a href='#getTicks'><p>Ticks for plot axis</p></a></li>
<li><a href='#heightDetails.xaxis'><p>Gets the height for an x-axis object</p></a></li>
<li><a href='#HRQoL'><p>Regression coefficients and confidence intervals from HRQoL study</p></a></li>
<li><a href='#prDefaultGp'><p>Construct default parameters from arguments that may include missing arguments</p></a></li>
<li><a href='#prepAlign'><p>Prepares graph position</p></a></li>
<li><a href='#prepGraphPositions'><p>Prepares graph position</p></a></li>
<li><a href='#prepGridMargins'><p>Convert margins to viewport npc margins</p></a></li>
<li><a href='#prepLabelText'><p>Prepares label text</p></a></li>
<li><a href='#prepLines'><p>Prepares the lines for the plot</p></a></li>
<li><a href='#prFpConvertMultidimArray'><p>Converts a 2D or 3D array to mean, lower, upper</p></a></li>
<li><a href='#prFpDrawLine'><p>Draws a straight line</p></a></li>
<li><a href='#prFpFetchRowLabel'><p>Get the label</p></a></li>
<li><a href='#prFpFindWidestGrob'><p>Finds the widest grob in the current list of grobs</p></a></li>
<li><a href='#prFpGetConfintFnList'><p>Get a function list</p></a></li>
<li><a href='#prFpGetLayoutVP'><p>Get the main <code>forestplot</code></p></a></li>
<li><a href='#prFpGetLegendBoxPosition'><p>Converts legend position to a standard position</p></a></li>
<li><a href='#prFpPrepareLegendMarker'><p>Prepares the legend marker function</p></a></li>
<li><a href='#prFpPrintLabels'><p>Plots the labels</p></a></li>
<li><a href='#prFpValidateLabelList'><p>Validate the forestplot label list</p></a></li>
<li><a href='#prFpXrange'><p>Gets the x-axis range</p></a></li>
<li><a href='#prGetLabelsList'><p>Gets the forestplot labels</p></a></li>
<li><a href='#prGetShapeGp'><p>A function to extract graphical parameters from a fpShapesGp object</p></a></li>
<li><a href='#prGetTextGrobCex'><p>Just a simple access to the gp$cex parameter</p></a></li>
<li><a href='#prGparMerge'><p>Merges two <code>gpar</code> elements</p></a></li>
<li><a href='#prGridPlotTitle'><p>Adds a title to the plot</p></a></li>
<li><a href='#prListRep'><p>An alternative to rep()</p></a></li>
<li><a href='#prMergeGp'><p>A function to merge two sets of graphical parameters</p></a></li>
<li><a href='#prPopulateList'><p>Populate a list corresponding to matrix specs</p></a></li>
<li><a href='#prPushMarginViewport'><p>Pushes viewport with margins</p></a></li>
<li><a href='#safeLoadPackage'><p>Safely loads package</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>3.1.6</td>
</tr>
<tr>
<td>Title:</td>
<td>Advanced Forest Plot Using 'grid' Graphics</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows the creation of forest plots with advanced features, such as 
    multiple confidence intervals per row, customizable fonts for individual text 
    elements, and flexible confidence interval drawing. It also supports mixing 
    text with mathematical expressions. The package extends the application of 
    forest plots beyond traditional meta-analyses, offering a more general version 
    of the original 'rmeta' packageâ€™s forestplot() function. It relies heavily on 
    the 'grid' package for rendering the plots.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gforge.se/packages/">https://gforge.se/packages/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/gforge/forestplot/issues">https://github.com/gforge/forestplot/issues</a></td>
</tr>
<tr>
<td>Biarch:</td>
<td>yes</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0), grid, checkmate, abind</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, Gmisc, Greg, knitr, purrr, rlang, rmarkdown, rmeta,
rms, testthat, tibble, tidyr, tidyselect, tidyverse</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-18 21:58:13 UTC; max</td>
</tr>
<tr>
<td>Author:</td>
<td>Max Gordon [aut, cre],
  Thomas Lumley [aut, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Max Gordon &lt;max@gforge.se&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-19 07:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='forestplot-package'>Package description</h2><span id='topic+forestplot-package'></span>

<h3>Description</h3>

<p>The forest plot function, <code><a href="#topic+forestplot">forestplot()</a></code>, is a more general
version of the original <span class="pkg">rmeta</span>-packages <code>forestplot</code>
implementation. The aim is at using forest plots for more than
just meta-analyses.
</p>


<h3>Details</h3>

<p>The forestplot:
</p>

<ol>
<li><p> Allows for multiple confidence intervals per row
</p>
</li>
<li><p> Custom fonts for each text element
</p>
</li>
<li><p> Custom confidence intervals
</p>
</li>
<li><p> Text mixed with expressions
</p>
</li>
<li><p> Legends both on top/left of the plot and within the graph
</p>
</li>
<li><p> Custom line height including auto-adapt height
</p>
</li>
<li><p> Graph width that auto-adapts
</p>
</li>
<li><p> Flexible arguments
</p>
</li>
<li><p> and more
</p>
</li></ol>



<h3>Additional functions</h3>

<p>The <code><a href="#topic+getTicks">getTicks</a></code> tries to format ticks for plots in a nicer way.
The major use is for exponential form where ticks are generated using the
<code class="reqn">2^n</code> since a doubling is a concept easy to grasp for less mathematical-savvy
readers.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Max Gordon <a href="mailto:max@gforge.se">max@gforge.se</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Thomas Lumley [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gforge.se/packages/">https://gforge.se/packages/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/gforge/forestplot/issues">https://github.com/gforge/forestplot/issues</a>
</p>
</li></ul>


<hr>
<h2 id='assertAndRetrieveTidyValue'>Retriever of <code>tidyselect</code></h2><span id='topic+assertAndRetrieveTidyValue'></span>

<h3>Description</h3>

<p>As forestpot has evolved we now primarily use <code>tidyverse</code> select style. This
function helps with backward compatibility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assertAndRetrieveTidyValue(
  x,
  value,
  name = deparse(substitute(value)),
  optional = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assertAndRetrieveTidyValue_+3A_x">x</code></td>
<td>
<p>The data with the potential value</p>
</td></tr>
<tr><td><code id="assertAndRetrieveTidyValue_+3A_value">value</code></td>
<td>
<p>The value</p>
</td></tr>
<tr><td><code id="assertAndRetrieveTidyValue_+3A_name">name</code></td>
<td>
<p>The name of the value</p>
</td></tr>
<tr><td><code id="assertAndRetrieveTidyValue_+3A_optional">optional</code></td>
<td>
<p>Is the value optional</p>
</td></tr>
</table>


<h3>Value</h3>

<p>value with attribute
</p>

<hr>
<h2 id='dfHRQoL'>Regression coefficients and confidence intervals from HRQoL study</h2><span id='topic+dfHRQoL'></span>

<h3>Description</h3>

<p>The data is a dataframe with the Swedish and the Danish coefficients
for health related quality of life (HRQoL) 1 year after total hip arthroplasty surgery.
The age is modeled as a spline and is therefore presented as a contrast.
</p>


<h3>Author(s)</h3>

<p>Max Gordon <a href="mailto:max@gforge.se">max@gforge.se</a>
</p>

<hr>
<h2 id='drawHorizontalLines'>Draws the horizontal lines</h2><span id='topic+drawHorizontalLines'></span>

<h3>Description</h3>

<p>Draws the horizontal lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drawHorizontalLines(lines, number_of_rows, colwidths, graph.pos)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drawHorizontalLines_+3A_number_of_rows">number_of_rows</code></td>
<td>
<p>Number of rows</p>
</td></tr>
<tr><td><code id="drawHorizontalLines_+3A_colwidths">colwidths</code></td>
<td>
<p>Vector with column widths</p>
</td></tr>
<tr><td><code id="drawHorizontalLines_+3A_graph.pos">graph.pos</code></td>
<td>
<p>The position of the graph element within the table of text. The
position can be <code>1-(ncol(labeltext) + 1)</code>. You can also choose set the position
to <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='forestplot'>Draws a forest plot</h2><span id='topic+forestplot'></span><span id='topic+forestplot.default'></span><span id='topic+forestplot.data.frame'></span><span id='topic+print.gforge_forestplot'></span><span id='topic+plot.gforge_forestplot'></span><span id='topic+forestplot.grouped_df'></span>

<h3>Description</h3>

<p>This function generates a forest plot with extended capabilities compared to
the default <code>forestplot()</code> function in the <code>rmeta</code> package. It overcomes some limitations
of the original function, including the addition of expressions, use of multiple confidence
bands per label, autosizing to viewport, and uses modern tidyverse syntax. Refer to <code>vignette("forestplot")</code>
for comprehensive details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forestplot(...)

## S3 method for class 'data.frame'
forestplot(x, mean, lower, upper, labeltext, is.summary, boxsize, ...)

## Default S3 method:
forestplot(
  labeltext,
  mean,
  lower,
  upper,
  align = NULL,
  is.summary = FALSE,
  graph.pos = "right",
  hrzl_lines = NULL,
  clip = c(-Inf, Inf),
  xlab = NULL,
  zero = ifelse(xlog, 1, 0),
  graphwidth = "auto",
  colgap = NULL,
  lineheight = "auto",
  line.margin = NULL,
  col = fpColors(),
  txt_gp = fpTxtGp(),
  xlog = FALSE,
  xticks = NULL,
  xticks.digits = 2,
  grid = FALSE,
  lwd.xaxis = NULL,
  lwd.zero = 1,
  lwd.ci = NULL,
  lty.ci = 1,
  ci.vertices = NULL,
  ci.vertices.height = 0.1,
  boxsize = NULL,
  mar = unit(rep(5, times = 4), "mm"),
  title = NULL,
  legend = NULL,
  legend_args = fpLegend(),
  new_page = getOption("forestplot_new_page", TRUE),
  fn.ci_norm = fpDrawNormalCI,
  fn.ci_sum = fpDrawSummaryCI,
  fn.legend = NULL,
  shapes_gp = fpShapesGp(),
  ...
)

## S3 method for class 'gforge_forestplot'
print(x, ...)

## S3 method for class 'gforge_forestplot'
plot(x, y, ..., new_page = FALSE)

## S3 method for class 'grouped_df'
forestplot(x, labeltext, mean, lower, upper, legend, is.summary, boxsize, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="forestplot_+3A_...">...</code></td>
<td>
<p>Passed on to the <code>fn.ci_norm</code> and
<code>fn.ci_sum</code> arguments</p>
</td></tr>
<tr><td><code id="forestplot_+3A_x">x</code></td>
<td>
<p>The <code>gforge_forestplot</code> object to be printed</p>
</td></tr>
<tr><td><code id="forestplot_+3A_mean">mean</code></td>
<td>
<p>The name of the column if using the <em>dplyr</em> select syntax - defaults to &quot;mean&quot;,
else it should be a vector or a matrix with the averages. You can also provide a 2D/3D
matrix that is automatically converted to the lower/upper parameters. The values
should be in exponentiated form if they follow this interpretation, e.g. use
exp(mean) if you have the output from a logistic regression</p>
</td></tr>
<tr><td><code id="forestplot_+3A_lower">lower</code></td>
<td>
<p>The lower bound of the confidence interval for the forestplot, needs
to be the same format as the mean.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_upper">upper</code></td>
<td>
<p>The upper bound of the confidence interval for the forestplot, needs
to be the same format as the mean.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_labeltext">labeltext</code></td>
<td>
<p>A list, matrix, vector or expression with the names of each
row or the name of the column if using the <em>dplyr</em> select syntax - defaults to &quot;labeltext&quot;.
Note that when using <code>group_by</code> a separate labeltext is not allowed.
The list should be wrapped in m x n number to resemble a matrix:
<code>list(list("rowname 1 col 1", "rowname 2 col 1"), list("r1c2", expression(beta))</code>.
You can also provide a matrix although this cannot have expressions by design:
<code>matrix(c("rowname 1 col 1", "rowname 2 col 1", "r1c2", "beta"), ncol = 2)</code>.
Use <code>NA</code>:s for blank spaces and if you provide a full column with <code>NA</code> then
that column is a empty column that adds some space. <em>Note:</em> If you do not
provide the mean/lower/upper arguments the function expects the label text
to be a matrix containing the labeltext in the rownames and then columns for
mean, lower, and upper.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_is.summary">is.summary</code></td>
<td>
<p>A vector indicating by <code>TRUE</code>/<code>FALSE</code> if
the value is a summary value which means that it will have a different
font-style</p>
</td></tr>
<tr><td><code id="forestplot_+3A_boxsize">boxsize</code></td>
<td>
<p>Override the default box size based on precision</p>
</td></tr>
<tr><td><code id="forestplot_+3A_align">align</code></td>
<td>
<p>Vector giving alignment (l,r,c) for the table columns</p>
</td></tr>
<tr><td><code id="forestplot_+3A_graph.pos">graph.pos</code></td>
<td>
<p>The position of the graph element within the table of text. The
position can be <code>1-(ncol(labeltext) + 1)</code>. You can also choose set the position
to <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_hrzl_lines">hrzl_lines</code></td>
<td>
<p>Add horizontal lines to graph. Can either be <code>TRUE</code> or a <code>list</code>
of <code><a href="grid.html#topic+gpar">gpar</a></code>. See line section below for details.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_clip">clip</code></td>
<td>
<p>Lower and upper limits for clipping confidence intervals to arrows</p>
</td></tr>
<tr><td><code id="forestplot_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label</p>
</td></tr>
<tr><td><code id="forestplot_+3A_zero">zero</code></td>
<td>
<p>x-axis coordinate for zero line. If you provide a vector of length 2 it
will print a rectangle instead of just a line. If you provide NA the line is suppressed.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_graphwidth">graphwidth</code></td>
<td>
<p>Width of confidence interval graph, see <code><a href="grid.html#topic+unit">unit</a></code> for
details on how to utilize mm etc. The default is <code>auto</code>, that is it uses up whatever
space that is left after adjusting for text size and legend</p>
</td></tr>
<tr><td><code id="forestplot_+3A_colgap">colgap</code></td>
<td>
<p>Sets the gap between columns, defaults to 6 mm but for relative widths.
Note that the value should be in <code><a href="grid.html#topic+unit">unit</a>(,"npc")</code>.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_lineheight">lineheight</code></td>
<td>
<p>Height of the graph. By default this is <code>auto</code> and adjusts to the
space that is left after adjusting for x-axis size and legend. Sometimes
it might be desirable to set the line height to a certain height, for
instance if you have several forestplots you may want to standardize their
line height, then you set this variable to a certain height, note this should
be provided as a <code><a href="grid.html#topic+unit">unit</a></code> object. A good option
is to set the line height to <code>unit(2, "cm")</code>. A third option
is to set line height to &quot;lines&quot; and then you get 50% more than what the
text height is as your line height</p>
</td></tr>
<tr><td><code id="forestplot_+3A_line.margin">line.margin</code></td>
<td>
<p>Set the margin between rows, provided in numeric or <code><a href="grid.html#topic+unit">unit</a></code> form.
When having multiple confidence lines per row setting the correct
margin in order to visually separate rows</p>
</td></tr>
<tr><td><code id="forestplot_+3A_col">col</code></td>
<td>
<p>Set the colors for all the elements. See <code><a href="#topic+fpColors">fpColors</a></code> for
details</p>
</td></tr>
<tr><td><code id="forestplot_+3A_txt_gp">txt_gp</code></td>
<td>
<p>Set the fonts etc for all text elements. See <code><a href="#topic+fpTxtGp">fpTxtGp</a></code>
for details</p>
</td></tr>
<tr><td><code id="forestplot_+3A_xlog">xlog</code></td>
<td>
<p>If TRUE, x-axis tick marks are to follow a logarithmic scale, e.g. for
logistic regression (OR), survival estimates (HR), Poisson regression etc.
<em>Note:</em> This is an intentional break with the original <code>forestplot</code>
function as I've found that exponentiated ticks/clips/zero effect are more
difficult to for non-statisticians and there are sometimes issues with rounding
the tick marks properly.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_xticks">xticks</code></td>
<td>
<p>Optional user-specified x-axis tick marks. Specify NULL to use
the defaults, numeric(0) to omit the x-axis. By adding a labels-attribute,
<code>attr(my_ticks, "labels") &lt;- ...</code> you can dictate the outputted text
at each tick. If you specify a boolean vector then ticks indicated with
FALSE wont be printed. Note that the labels have to be the same length
as the main variable.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_xticks.digits">xticks.digits</code></td>
<td>
<p>The number of digits to allow in the x-axis if this
is created by default</p>
</td></tr>
<tr><td><code id="forestplot_+3A_grid">grid</code></td>
<td>
<p>If you want a discrete gray dashed grid at the level of the
ticks you can set this parameter to <code>TRUE</code>. If you set the parameter
to a vector of values lines will be drawn at the corresponding positions.
If you want to specify the <code><a href="grid.html#topic+gpar">gpar</a></code> of the lines then either
directly pass a <code><a href="grid.html#topic+gpar">gpar</a></code> object or set the gp attribute e.g.
<code>attr(line_vector, "gp") &lt;- <a href="grid.html#topic+gpar">gpar</a>(lty = 2, col = "red")</code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_lwd.xaxis">lwd.xaxis</code></td>
<td>
<p>lwd for the xaxis, see <code><a href="grid.html#topic+gpar">gpar</a></code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_lwd.zero">lwd.zero</code></td>
<td>
<p>lwd for the vertical line that gives the no-effect line, see <code><a href="grid.html#topic+gpar">gpar</a></code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_lwd.ci">lwd.ci</code></td>
<td>
<p>lwd for the confidence bands, see <code><a href="grid.html#topic+gpar">gpar</a></code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_lty.ci">lty.ci</code></td>
<td>
<p>lty for the confidence bands, see <code><a href="grid.html#topic+gpar">gpar</a></code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_ci.vertices">ci.vertices</code></td>
<td>
<p>Set this to TRUE if you want the ends of the confidence
intervals to be shaped as a T. This is set default to TRUE if you have
any other line type than 1 since there is a risk of a dash occurring
at the very end, i.e. showing incorrectly narrow confidence interval.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_ci.vertices.height">ci.vertices.height</code></td>
<td>
<p>The height hoft the vertices. Defaults to npc units
corresponding to 10% of the row height.
<em>Note that the arrows correspond to the vertices heights.</em></p>
</td></tr>
<tr><td><code id="forestplot_+3A_mar">mar</code></td>
<td>
<p>A numerical vector of the form <code>c(bottom, left, top, right)</code> of
the type <code><a href="grid.html#topic+unit">unit</a></code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_title">title</code></td>
<td>
<p>The title of the plot if any</p>
</td></tr>
<tr><td><code id="forestplot_+3A_legend">legend</code></td>
<td>
<p>Legend corresponding to the number of bars</p>
</td></tr>
<tr><td><code id="forestplot_+3A_legend_args">legend_args</code></td>
<td>
<p>The legend arguments as returned by the <code><a href="#topic+fpLegend">fpLegend</a></code> function.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_new_page">new_page</code></td>
<td>
<p>If you want the plot to appear on a new blank page then set this to <code>TRUE</code>, by
default it is <code>TRUE</code>. If you want to change this behavior for all plots then
set the <code>options(forestplot_new_page = FALSE)</code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_fn.ci_norm">fn.ci_norm</code></td>
<td>
<p>You can specify exactly how the line with the box is
drawn for the normal (i.e. non-summary) confidence interval by changing this
parameter to your own function or some of the alternatives provided in the package.
It defaults to the box function <code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a></code></p>
</td></tr>
<tr><td><code id="forestplot_+3A_fn.ci_sum">fn.ci_sum</code></td>
<td>
<p>Same as previous argument but for the summary outputs
and it defaults to <code><a href="#topic+fpDrawSummaryCI">fpDrawSummaryCI</a></code>.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_fn.legend">fn.legend</code></td>
<td>
<p>What type of function should be used for drawing the
legends, this can be a list if you want different functions. It defaults to
a box if you have anything else than a single function or the number of columns
in the <code>mean</code> argument</p>
</td></tr>
<tr><td><code id="forestplot_+3A_shapes_gp">shapes_gp</code></td>
<td>
<p>Sets graphical parameters (squares and lines widths, styles, etc.)
of all shapes drawn (squares, lines, diamonds, etc.). This overrides <code>col</code>,
<code>lwd.xaxis</code>, <code>lwd.zero</code>, <code>lwd.ci</code> and <code>lty.ci</code>.</p>
</td></tr>
<tr><td><code id="forestplot_+3A_y">y</code></td>
<td>
<p>Ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This version of <code>forestplot()</code> enhances the standard function in the following ways:
</p>

<ul>
<li> <p><strong>Adding Expressions:</strong> Allows the use of expressions, such as <code>expression(beta)</code>.
</p>
</li>
<li> <p><strong>Multiple Bands:</strong> Enables multiple confidence bands for the same label.
</p>
</li>
<li> <p><strong>Autosize:</strong> Adapts to the viewport (graph) size.
</p>
</li>
<li> <p><strong>Tidyverse syntax:</strong> Utilizes convenient dplyr/tidyverse syntax for more flexible data manipulation.
</p>
</li></ul>



<h3>Value</h3>

<p><code>gforge_forestplot</code> object
</p>


<h3>Multiple bands</h3>

<p>Multiple bands (or lines) per variable can be useful for comparing different outcomes.
For instance, you may want to compare heart disease-specific survival to overall survival
rates for smokers. It can be insightful to overlay two bands for this purpose. Another application
could be displaying crude and adjusted estimates as separate bands.
</p>


<h3>Horizontal lines</h3>

<p>The <code>hrzl_lines</code> argument can be set as <code>TRUE</code> or a <code>list</code> with <code>grid::gpar</code> elements.
</p>

<ul>
<li> <p><code>TRUE</code>: A line will be added based upon the <code>is.summary</code> rows. If the first line is a summary it
</p>
</li>
<li> <p><code>grid::gpar</code>: The same as above but the lines will be formatted according to the <code><a href="grid.html#topic+gpar">grid::gpar</a></code> element
</p>
</li>
<li> <p><code>list</code>: The list must either be numbered, i.e. <code>list("2" = gpar(lty = 1))</code>, or have the same length
as the <code>NROW(mean) + 1</code>. If the list is numbered the numbers should not exceed the <code>NROW(mean) + 1</code>.
The no. <em>1 row designates the top</em>, i.e. the line above the first row, all other correspond  to
<em>the row below</em>. Each element in the list needs to be <code>TRUE</code>, <code>NULL</code>, or
<code><a href="grid.html#topic+gpar">gpar</a></code> element. The <code>TRUE</code> defaults to a standard line, the <code>NULL</code>
skips a line, while <code><a href="grid.html#topic+gpar">gpar</a></code> corresponds to the fully customized line. Apart from
allowing standard <code><a href="grid.html#topic+gpar">gpar</a></code> line descriptions, <code>lty</code>, <code>lwd</code>, <code>col</code>, and more
you can also specify <code>gpar(columns = c(1:3, 5))</code> if you for instance want the line to skip a column.
</p>
</li></ul>



<h3>Known Issues</h3>


<ul>
<li><p> The x-axis does not completely adhere to the margin.
</p>
</li>
<li><p> Autosizing boxes may not always yield the best visual result; manual adjustment is recommended where possible.
</p>
</li></ul>



<h3>API Changes from <code>rmeta</code> package's <code>forestplot</code></h3>


<ul>
<li> <p><strong>xlog:</strong> Outputs the axis in log() format, but the input data should be in antilog/exp format.
</p>
</li>
<li> <p><strong>col:</strong> The corresponding function in this package is <code>fpColors</code>.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Max Gordon, Thomas Lumley
</p>


<h3>See Also</h3>

<p><code>vignette("forestplot")</code>
</p>
<p>Other forestplot functions: 
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#############################################
# Simple examples of how to do a forestplot #
#############################################

ask &lt;- par(ask = TRUE)

# A basic example, create some fake data
row_names &lt;- list(list("test = 1", expression(test &gt;= 2)))
test_data &lt;- data.frame(
  coef = c(1.59, 1.24),
  low = c(1.4, 0.78),
  high = c(1.8, 1.55)
)
test_data |&gt;
  forestplot(labeltext = row_names,
             mean = coef,
             lower = low,
             upper = high,
             zero = 1,
             cex  = 2,
             lineheight = "auto",
             xlab = "Lab axis txt") |&gt;
  fp_add_header("Group") |&gt;
  fp_set_style(lines = gpar(col = "darkblue"))

# Print two plots side by side using the grid
# package's layout option for viewports
fp1 &lt;- test_data |&gt;
  forestplot(labeltext = row_names,
             mean = coef,
             lower = low,
             upper = high,
             zero = 1,
             cex  = 2,
             lineheight = "auto",
             title = "Plot 1",
             xlab = "Lab axis txt")
fp2 &lt;- test_data |&gt;
  forestplot(labeltext = row_names,
             mean = coef,
             lower = low,
             upper = high,
             zero = 1,
             cex  = 2,
             lineheight = "auto",
             xlab = "Lab axis txt",
             title = "Plot 2",
             new_page = FALSE)

grid.newpage()
pushViewport(viewport(layout = grid.layout(1, 2)))
pushViewport(viewport(layout.pos.col = 1))
plot(fp1)
popViewport()
pushViewport(viewport(layout.pos.col = 2))
plot(fp2)
popViewport(2)

# An advanced example
library(dplyr)
library(tidyr)
test_data &lt;- data.frame(id = 1:4,
                        coef1 = c(1, 1.59, 1.3, 1.24),
                        coef2 = c(1, 1.7, 1.4, 1.04),
                        low1 = c(1, 1.3, 1.1, 0.99),
                        low2 = c(1, 1.6, 1.2, 0.7),
                        high1 = c(1, 1.94, 1.6, 1.55),
                        high2 = c(1, 1.8, 1.55, 1.33))

# Convert into dplyr formatted data
out_data &lt;- test_data |&gt;
  pivot_longer(cols = everything() &amp; -id) |&gt;
  mutate(group = gsub("(.+)([12])$", "\\2", name),
         name = gsub("(.+)([12])$", "\\1", name)) |&gt;
  pivot_wider() |&gt;
  group_by(id) |&gt;
  mutate(col1 = lapply(id, \(x) ifelse(x &lt; 4,
                                       paste("Category", id),
                                       expression(Category &gt;= 4))),
         col2 = lapply(1:n(), \(i) substitute(expression(bar(x) == val),
                                              list(val = mean(coef) |&gt; round(2)))),
         col2 = if_else(id == 1,
                        rep("ref", n()) |&gt; as.list(),
                        col2)) |&gt;
  group_by(group)

out_data |&gt;
  forestplot(mean = coef,
             lower = low,
             upper = high,
             labeltext = c(col1, col2),
             title = "Cool study",
             zero = c(0.98, 1.02),
             grid = structure(c(2^-.5, 2^.5),
                              gp = gpar(col = "steelblue", lty = 2)
             ),
             boxsize = 0.25,
             xlab = "The estimates",
             new_page = TRUE,
             legend = c("Treatment", "Placebo"),
             legend_args = fpLegend(
               pos = list("topright"),
               title = "Group",
               r = unit(.1, "snpc"),
               gp = gpar(col = "#CCCCCC", lwd = 1.5)
             )) |&gt;
  fp_set_style(box = c("royalblue", "gold"),
               line = c("darkblue", "orange"),
               summary = c("darkblue", "red"))

# An example of how the exponential works
data.frame(coef = c(2.45, 0.43),
           low = c(1.5, 0.25),
           high = c(4, 0.75),
           boxsize = c(0.25, 0.25),
           variables = c("Variable A", "Variable B")) |&gt;
  forestplot(labeltext = c(variables, coef),
             mean = coef,
             lower = low,
             upper = high,
             boxsize = boxsize,
             zero = 1,
             xlog = TRUE) |&gt;
  fp_set_style(lines = "red", box = "darkred") |&gt;
  fp_add_header(coef = "HR" |&gt; fp_txt_plain() |&gt; fp_align_center(),
                variables = "Measurements")

# An example using style
forestplot(labeltext = cbind(Author = c("Smith et al", "Smooth et al", "Al et al")),
           mean = cbind(1:3, 1.5:3.5),
           lower = cbind(0:2, 0.5:2.5),
           upper = cbind(4:6, 5.5:7.5),
           is.summary = c(FALSE, FALSE, TRUE),
           vertices = TRUE) |&gt;
  fp_set_style(default = gpar(lineend = "square", linejoin = "mitre", lwd = 3, col = "pink"),
               box = gpar(fill = "black", col = "red"), # only one parameter
               lines = list( # as many parameters as CI
                 gpar(lwd = 10), gpar(lwd = 5),
                 gpar(), gpar(),
                 gpar(lwd = 2), gpar(lwd = 1)
               ),
               summary = list( # as many parameters as band per label
                 gpar(fill = "violet", col = "gray", lwd = 10),
                 gpar(fill = "orange", col = "gray", lwd = 10)
               ))

par(ask = ask)
# See vignette for a more detailed description
# vignette("forestplot",  package="forestplot")
</code></pre>

<hr>
<h2 id='fp_add_lines'>Adds a line to the graph</h2><span id='topic+fp_add_lines'></span>

<h3>Description</h3>

<p>Adds a line to the graph, defaults to horizontal. Lines with prefix <code>v_</code> will be vertical, no prefix or <code>h_</code> will be horizontal.
If argument is <code>TRUE</code> or just empty: A line will be added based upon the <code>is.summary</code> rows. If the first line is a summary it
will choose the last non-summary row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fp_add_lines(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fp_add_lines_+3A_x">x</code></td>
<td>
<p>The forestplot object</p>
</td></tr>
<tr><td><code id="fp_add_lines_+3A_...">...</code></td>
<td>
<p>A set of arguments. Can either be <code>TRUE</code> or a set of
numbered arguments with <code><a href="grid.html#topic+gpar">gpar</a></code>. See line section
below for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you provide the argument as a number it will add the line to that particular line. 1 corresponds to the
top row and the max row is <code>num_rows + 1</code>. If the argument is <code>TRUE</code> it will default to a standard line.
A string will default to the color of that string. If you provide a <a href="grid.html#topic+gpar">grid::gpar</a> element it will style
the line according to the <code style="white-space: pre;">&#8288;gpar object&#8288;</code>. Apart from allowing standard <code><a href="grid.html#topic+gpar">gpar</a></code> line descriptions,
<code>lty</code>, <code>lwd</code>, <code>col</code>, and more you can also specify <code>gpar(columns = c(1:3, 5))</code> if you for instance want
the line to skip a column.
</p>
<p>If you want to add mix vertical and horizontal lines you can prefix the lines with <code>h_</code> and <code>v_</code>, e.g. <code>v_2</code> for the
second column.
</p>


<h3>Value</h3>

<p>The foresplot object with the styles
</p>


<h3>See Also</h3>

<p>Other graph modifiers: 
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>
<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base_data &lt;- tibble::tibble(mean  = c(0.578, 0.165, 0.246, 0.700, 0.348, 0.139, 1.017),
                            lower = c(0.372, 0.018, 0.072, 0.333, 0.083, 0.016, 0.365),
                            upper = c(0.898, 1.517, 0.833, 1.474, 1.455, 1.209, 2.831),
                            study = c("Auckland", "Block", "Doran", "Gamsu",
                                      "Morrison", "Papageorgiou", "Tauesch"),
                            deaths_steroid = c("36", "1", "4", "14", "3", "1", "8"),
                            deaths_placebo = c("60", "5", "11", "20", "7", "7", "10"),
                            OR = c("0.58", "0.16", "0.25", "0.70", "0.35", "0.14", "1.02"))

base_data |&gt;
  forestplot(labeltext = c(study, deaths_steroid, deaths_placebo, OR),
             clip = c(0.1, 2.5),
             xlog = TRUE) |&gt;
  fp_add_header(study = c("", "Study"),
                deaths_steroid = c("Deaths", "(steroid)"),
                deaths_placebo = c("Deaths", "(placebo)"),
                OR = c("", "OR")) |&gt;
  fp_set_style(box = "royalblue",
               line = "darkblue") |&gt;
  fp_add_lines("steelblue")


base_data |&gt;
  forestplot(labeltext = c(study, deaths_steroid, deaths_placebo, OR),
             clip = c(0.1, 2.5),
             xlog = TRUE) |&gt;
  fp_add_header(study = c("", "Study"),
                deaths_steroid = c("Deaths", "(steroid)"),
                deaths_placebo = c("Deaths", "(placebo)"),
                OR = c("", "OR")) |&gt;
  fp_set_style(box = "royalblue",
               line = "darkblue") |&gt;
  # Add top line
  fp_add_lines(h_3 = "darkred") |&gt;
  # Add surrounding box with fancy syntax
  fp_add_lines(h_5 = gpar(col = "steelblue", columns = 1:4, lty = 2),
               h_7 = gpar(col = "steelblue", columns = 1:4, lty = 2),
               v_1 = gpar(col = "steelblue", rows = 5:6, lty = 3, lty = 2),
               v_5 = gpar(col = "steelblue", rows = 5:6, lty = 3, lty = 2))
</code></pre>

<hr>
<h2 id='fp_decorate_graph'>Decorate the graph</h2><span id='topic+fp_decorate_graph'></span>

<h3>Description</h3>

<p>Decorate the graph
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fp_decorate_graph(
  x,
  box = NULL,
  right_bottom_txt = NULL,
  left_bottom_txt = NULL,
  right_top_txt = NULL,
  left_top_txt = NULL,
  grid = NULL,
  graph.pos = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fp_decorate_graph_+3A_x">x</code></td>
<td>
<p>The forestplot object</p>
</td></tr>
<tr><td><code id="fp_decorate_graph_+3A_box">box</code></td>
<td>
<p>Decorate the graph by framing it in a box. If provided <code>TRUE</code> it
will simply frame the graph in a black box. If you provide a string it is
assumed to be the color of the graph. Acceptable arguments are also <code>gpar()</code>
and a <code>grob</code> object to draw.</p>
</td></tr>
<tr><td><code id="fp_decorate_graph_+3A_right_bottom_txt">right_bottom_txt</code></td>
<td>
<p>Text to appear at the right bottom of the graph. Can
be decorated fp_txt_* functions.</p>
</td></tr>
<tr><td><code id="fp_decorate_graph_+3A_left_bottom_txt">left_bottom_txt</code></td>
<td>
<p>Text to appear at the left bottom of the graph. Can
be decorated fp_txt_* functions.</p>
</td></tr>
<tr><td><code id="fp_decorate_graph_+3A_right_top_txt">right_top_txt</code></td>
<td>
<p>Text to appear at the right top of the graph. Can
be decorated fp_txt_* functions.</p>
</td></tr>
<tr><td><code id="fp_decorate_graph_+3A_left_top_txt">left_top_txt</code></td>
<td>
<p>Text to appear at the left top of the graph. Can
be decorated fp_txt_* functions.</p>
</td></tr>
<tr><td><code id="fp_decorate_graph_+3A_grid">grid</code></td>
<td>
<p>If you want a discrete gray dashed grid at the level of the
ticks you can set this parameter to <code>TRUE</code>. If you set the parameter
to a vector of values lines will be drawn at the corresponding positions.
If you want to specify the <code><a href="grid.html#topic+gpar">gpar</a></code> of the lines then either
directly pass a <code><a href="grid.html#topic+gpar">gpar</a></code> object or set the gp attribute e.g.
<code>attr(line_vector, "gp") &lt;- <a href="grid.html#topic+gpar">gpar</a>(lty = 2, col = "red")</code></p>
</td></tr>
<tr><td><code id="fp_decorate_graph_+3A_graph.pos">graph.pos</code></td>
<td>
<p>The position of the graph element within the table of text. The
position can be <code>1-(ncol(labeltext) + 1)</code>. You can also choose set the position
to <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The forestplot object with the extended decoration
</p>


<h3>See Also</h3>

<p>Other graph modifiers: 
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>
<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base_data &lt;- tibble::tibble(mean  = c(0.578, 0.165, 0.246, 0.700, 0.348, 0.139, 1.017),
                            lower = c(0.372, 0.018, 0.072, 0.333, 0.083, 0.016, 0.365),
                            upper = c(0.898, 1.517, 0.833, 1.474, 1.455, 1.209, 2.831),
                            study = c("Auckland", "Block", "Doran", "Gamsu",
                                      "Morrison", "Papageorgiou", "Tauesch"),
                            deaths_steroid = c("36", "1", "4", "14", "3", "1", "8"),
                            deaths_placebo = c("60", "5", "11", "20", "7", "7", "10"),
                            OR = c("0.58", "0.16", "0.25", "0.70", "0.35", "0.14", "1.02"))

base_data |&gt;
  forestplot(labeltext = c(study, deaths_steroid, deaths_placebo, OR),
             clip = c(0.1, 2.5),
             xlog = TRUE) |&gt;
  fp_add_header(study = c("", "Study"),
                deaths_steroid = c("Deaths", "(steroid)"),
                deaths_placebo = c("Deaths", "(placebo)"),
                OR = c("", "OR")) |&gt;
  fp_set_style(box = "royalblue",
               line = "darkblue",
               summary = gpar(fill = "royalblue", clr = "black"),
               txt_gp = fpTxtGp(label = gpar(fontfamily = "mono"))) |&gt;
  fp_decorate_graph(box = "lightgray",
                    right_bottom_txt = fp_txt_gp("RB", gp = gpar(cex = .5)),
                    left_bottom_txt = fp_txt_gp("LB", gp = gpar(cex = .5)),
                    right_top_txt = "RT",
                    left_top_txt = "LT")
</code></pre>

<hr>
<h2 id='fp_insert_row'>Insert/append rows into forestplot</h2><span id='topic+fp_insert_row'></span><span id='topic+fp_add_header'></span><span id='topic+fp_append_row'></span>

<h3>Description</h3>

<p>These functions are used for inserting or appending
a row into a forestplot object. Can be used for inputting multiple
rows. Just make sure that all elements are of equal length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fp_insert_row(
  x,
  ...,
  mean = NULL,
  lower = NULL,
  upper = NULL,
  position = 1,
  is.summary = FALSE,
  boxsize = NA
)

fp_add_header(x, ..., position = 1, is.summary = TRUE)

fp_append_row(x, ..., position = "last", is.summary = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fp_insert_row_+3A_x">x</code></td>
<td>
<p>The forestplot object</p>
</td></tr>
<tr><td><code id="fp_insert_row_+3A_...">...</code></td>
<td>
<p>Either named arguments that correspond to the original column
names or unnamed arguments that will map in appearing order.</p>
</td></tr>
<tr><td><code id="fp_insert_row_+3A_mean">mean</code></td>
<td>
<p>Either a mean or all the values if three columns (mean, lower, upper)</p>
</td></tr>
<tr><td><code id="fp_insert_row_+3A_lower">lower</code></td>
<td>
<p>A vector or matrix with the lower confidence interval</p>
</td></tr>
<tr><td><code id="fp_insert_row_+3A_upper">upper</code></td>
<td>
<p>A vector or matrix with the upper confidence interval</p>
</td></tr>
<tr><td><code id="fp_insert_row_+3A_position">position</code></td>
<td>
<p>The row position to input at. Either a row number or &quot;last&quot;.</p>
</td></tr>
<tr><td><code id="fp_insert_row_+3A_is.summary">is.summary</code></td>
<td>
<p>Whether the row is a summary.</p>
</td></tr>
<tr><td><code id="fp_insert_row_+3A_boxsize">boxsize</code></td>
<td>
<p>The box size for the drawn estimate line</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The foresplot object with the added rows
</p>


<h3>See Also</h3>

<p>Other graph modifiers: 
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>
<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base_data &lt;- tibble::tibble(mean  = c(0.578, 0.165, 0.246, 0.700, 0.348, 0.139, 1.017),
                            lower = c(0.372, 0.018, 0.072, 0.333, 0.083, 0.016, 0.365),
                            upper = c(0.898, 1.517, 0.833, 1.474, 1.455, 1.209, 2.831),
                            study = c("Auckland", "Block", "Doran", "Gamsu",
                                      "Morrison", "Papageorgiou", "Tauesch"),
                            deaths_steroid = c("36", "1", "4", "14", "3", "1", "8"),
                            deaths_placebo = c("60", "5", "11", "20", "7", "7", "10"),
                            OR = c("0.58", "0.16", "0.25", "0.70", "0.35", "0.14", "1.02"))

base_data |&gt;
  forestplot(labeltext = c(study, deaths_steroid, deaths_placebo, OR),
             clip = c(0.1, 2.5),
             xlog = TRUE) |&gt;
  fp_add_header(study = c("", "Study"),
                deaths_steroid = c("Deaths", "(steroid)"),
                deaths_placebo = c("Deaths", "(placebo)"),
                OR = c("", "OR")) |&gt;
  fp_append_row(mean  = 0.531,
                lower = 0.386,
                upper = 0.731,
                study = "Summary",
                OR = "0.53",
                is.summary = TRUE)
</code></pre>

<hr>
<h2 id='fp_set_style'>Set the style of the graph</h2><span id='topic+fp_set_style'></span>

<h3>Description</h3>

<p>Sets the output style associated with the <code>foresplot</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fp_set_style(
  x,
  default = NULL,
  box = NULL,
  lines = NULL,
  vertices = NULL,
  summary = NULL,
  zero = NULL,
  axes = NULL,
  hrz_lines = NULL,
  grid = NULL,
  txt_gp = NULL,
  align = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fp_set_style_+3A_x">x</code></td>
<td>
<p>The forestplot object</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_default">default</code></td>
<td>
<p>A fallback <a href="grid.html#topic+gpar">grid::gpar</a> for all unspecified attributes.
If set to NULL then it defaults to legacy parameters, including
the <code>col</code>, <code>lwd.xaxis</code>, <code>lwd.ci</code> and <code>lty.ci</code>
parameter of <code>fpColors</code>.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_box">box</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the box, circle
or point indicating the point estimate, i.e. the middle
of the confidence interval (may be a list of gpars). If provided
a string a <code>gpar</code> will be generated with <code>col</code>, and <code>fill</code> for
those arguments.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_lines">lines</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the confidence lines
(may be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_vertices">vertices</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the vertices
(may be a list of gpars).
If <code>ci.vertices</code> is set to TRUE in <code>forestplot</code>
<code>vertices</code> inherits from <code>lines</code> all its parameters but lty that is set
to &quot;solid&quot; by default.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_summary">summary</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the summary
(may be a list of gpars). If provided a string a <code>gpar</code> will be generated with
<code>col</code>, and <code>fill</code> for those arguments.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_zero">zero</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the zero line
(may not be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_axes">axes</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the x-axis at the bottom
(may not be a list of gpars).</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_hrz_lines">hrz_lines</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the horizontal lines
(may not be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_grid">grid</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the grid (vertical lines)
(may be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_txt_gp">txt_gp</code></td>
<td>
<p>Set the fonts etc for all text elements. See <code><a href="#topic+fpTxtGp">fpTxtGp()</a></code>
for details</p>
</td></tr>
<tr><td><code id="fp_set_style_+3A_align">align</code></td>
<td>
<p>Vector giving alignment (l,r,c) for the table columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The foresplot object with the styles
</p>


<h3>See Also</h3>

<p>Other graph modifiers: 
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>
<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base_data &lt;- tibble::tibble(mean  = c(0.578, 0.165, 0.246, 0.700, 0.348, 0.139, 1.017),
                            lower = c(0.372, 0.018, 0.072, 0.333, 0.083, 0.016, 0.365),
                            upper = c(0.898, 1.517, 0.833, 1.474, 1.455, 1.209, 2.831),
                            study = c("Auckland", "Block", "Doran", "Gamsu",
                                      "Morrison", "Papageorgiou", "Tauesch"),
                            deaths_steroid = c("36", "1", "4", "14", "3", "1", "8"),
                            deaths_placebo = c("60", "5", "11", "20", "7", "7", "10"),
                            OR = c("0.58", "0.16", "0.25", "0.70", "0.35", "0.14", "1.02"))

base_data |&gt;
  forestplot(labeltext = c(study, deaths_steroid, deaths_placebo, OR),
             clip = c(0.1, 2.5),
             xlog = TRUE) |&gt;
  fp_add_header(study = c("", "Study"),
                deaths_steroid = c("Deaths", "(steroid)"),
                deaths_placebo = c("Deaths", "(placebo)"),
                OR = c("", "OR")) |&gt;
  fp_set_style(box = "royalblue",
               line = "darkblue",
               summary = gpar(fill = "royalblue", clr = "black"),
               txt_gp = fpTxtGp(label = gpar(fontfamily = "mono")))
</code></pre>

<hr>
<h2 id='fp_set_zebra_style'>Decorate the plot with a zebra pattern</h2><span id='topic+fp_set_zebra_style'></span>

<h3>Description</h3>

<p>Decorate the plot with a zebra pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fp_set_zebra_style(x, ..., ignore_subheaders = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fp_set_zebra_style_+3A_x">x</code></td>
<td>
<p>The forestplot object</p>
</td></tr>
<tr><td><code id="fp_set_zebra_style_+3A_...">...</code></td>
<td>
<p>The styles for each row</p>
</td></tr>
<tr><td><code id="fp_set_zebra_style_+3A_ignore_subheaders">ignore_subheaders</code></td>
<td>
<p>The zebra will automatically restart at sub-headers,
i.e. when there is a <em>summary</em> row that doesn't have any values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The forestplot object with the zebra style
</p>


<h3>See Also</h3>

<p>Other graph modifiers: 
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>
</p>
<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base_data &lt;- tibble::tibble(mean  = c(0.578, 0.165, 0.246, 0.700, 0.348, 0.139, 1.017),
                            lower = c(0.372, 0.018, 0.072, 0.333, 0.083, 0.016, 0.365),
                            upper = c(0.898, 1.517, 0.833, 1.474, 1.455, 1.209, 2.831),
                            study = c("Auckland", "Block", "Doran", "Gamsu",
                                      "Morrison", "Papageorgiou", "Tauesch"),
                            deaths_steroid = c("36", "1", "4", "14", "3", "1", "8"),
                            deaths_placebo = c("60", "5", "11", "20", "7", "7", "10"),
                            OR = c("0.58", "0.16", "0.25", "0.70", "0.35", "0.14", "1.02"))

base_data |&gt;
  forestplot(labeltext = c(study, deaths_steroid, deaths_placebo, OR),
             clip = c(0.1, 2.5),
             xlog = TRUE) |&gt;
  fp_add_header(study = c("", "Study"),
                deaths_steroid = c("Deaths", "(steroid)"),
                deaths_placebo = c("Deaths", "(placebo)"),
                OR = c("", "OR")) |&gt;
  fp_set_style(box = "royalblue",
               line = "darkblue",
               summary = gpar(fill = "royalblue", clr = "black")) |&gt;
  fp_set_zebra_style("#EFEFEF")
</code></pre>

<hr>
<h2 id='fp_txt_italic'>Text styling</h2><span id='topic+fp_txt_italic'></span><span id='topic+fp_txt_bold'></span><span id='topic+fp_txt_plain'></span><span id='topic+fp_txt_gp'></span><span id='topic+fp_align_left'></span><span id='topic+fp_align_center'></span><span id='topic+fp_align_right'></span>

<h3>Description</h3>

<p>This is a collection of functions to allow styling of text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fp_txt_italic(txt)

fp_txt_bold(txt)

fp_txt_plain(txt)

fp_txt_gp(txt, gp)

fp_align_left(txt)

fp_align_center(txt)

fp_align_right(txt)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fp_txt_italic_+3A_txt">txt</code></td>
<td>
<p>The text to styl</p>
</td></tr>
<tr><td><code id="fp_txt_italic_+3A_gp">gp</code></td>
<td>
<p>A <code><a href="grid.html#topic+gpar">grid::gpar()</a></code> style to apply</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of txt with style attributes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fp_txt_italic("Italic text")
</code></pre>

<hr>
<h2 id='fpColors'>A function for the color elements used in forestplot()</h2><span id='topic+fpColors'></span>

<h3>Description</h3>

<p>This function encapsulates all the colors that are used in the
<code><a href="#topic+forestplot">forestplot</a></code> function. As there are plenty of color
options this function gathers them all in one place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fpColors(
  all.elements,
  box = "black",
  lines = "gray",
  summary = "black",
  zero = "lightgray",
  text = "black",
  axes = "black",
  hrz_lines = "black",
  vrtcl_lines = "lightgray"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fpColors_+3A_all.elements">all.elements</code></td>
<td>
<p>A color for all the elements. If set to NULL then
it's set to the par(&quot;fg&quot;) color</p>
</td></tr>
<tr><td><code id="fpColors_+3A_box">box</code></td>
<td>
<p>The color of the box indicating the estimate</p>
</td></tr>
<tr><td><code id="fpColors_+3A_lines">lines</code></td>
<td>
<p>The color of the confidence lines</p>
</td></tr>
<tr><td><code id="fpColors_+3A_summary">summary</code></td>
<td>
<p>The color of the summary</p>
</td></tr>
<tr><td><code id="fpColors_+3A_zero">zero</code></td>
<td>
<p>The color of the zero line</p>
</td></tr>
<tr><td><code id="fpColors_+3A_text">text</code></td>
<td>
<p>The color of the text</p>
</td></tr>
<tr><td><code id="fpColors_+3A_axes">axes</code></td>
<td>
<p>The color of the x-axis at the bottom</p>
</td></tr>
<tr><td><code id="fpColors_+3A_hrz_lines">hrz_lines</code></td>
<td>
<p>The color of the horizontal lines</p>
</td></tr>
<tr><td><code id="fpColors_+3A_vrtcl_lines">vrtcl_lines</code></td>
<td>
<p>The color of the vertical lines</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Further customization of non-text elements can be performed with
<code><a href="#topic+fpShapesGp">fpShapesGp</a></code> passed as <code>shapes_gp</code> parameter to
<code><a href="#topic+forestplot">forestplot</a></code>. The <code>fpColors</code> function is kept for
backwards compatibility.
</p>
<p>If you have several values per row in a forestplot you can set
a color to a vector where the first value represents the first
line/box, second the second line/box etc. The vectors are only
valid for the <code>box</code> &amp; <code>lines</code> options.
</p>
<p>This function is a copy of the <code><a href="rmeta.html#topic+meta.colors">meta.colors</a></code>
function in the <span class="pkg">rmeta</span> package.
</p>


<h3>Value</h3>

<p>A list with key elements
</p>


<h3>Author(s)</h3>

<p>Max Gordon, Thomas Lumley
</p>


<h3>See Also</h3>

<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ask &lt;- par(ask = TRUE)

# An example of how the exponential works
test_data &lt;- data.frame(
  coef = c(2.45, 0.43),
  low = c(1.5, 0.25),
  high = c(4, 0.75),
  boxsize = c(0.5, 0.5)
)
row_names &lt;- cbind(
  c("Name", "Variable A", "Variable B"),
  c("HR", test_data$coef)
)
test_data &lt;- rbind(rep(NA, 3), test_data)

forestplot(
  labeltext = row_names,
  test_data[, c("coef", "low", "high")],
  is.summary = c(TRUE, FALSE, FALSE),
  boxsize = test_data$boxsize,
  zero = 1,
  xlog = TRUE,
  col = fpColors(lines = "#990000", box = "#660000", zero = "darkblue"),
  new_page = TRUE
)

par(ask = ask)
</code></pre>

<hr>
<h2 id='fpDrawNormalCI'>Draw standard confidence intervals</h2><span id='topic+fpDrawNormalCI'></span><span id='topic+fpDrawDiamondCI'></span><span id='topic+fpDrawCircleCI'></span><span id='topic+fpDrawPointCI'></span><span id='topic+fpDrawSummaryCI'></span><span id='topic+fpDrawBarCI'></span>

<h3>Description</h3>

<p>A function that is used to draw the different
confidence intervals for the non-summary lines.
Use the <code>fpDrawNormalCI</code> function as a
template if you want to make your own funky line + marker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fpDrawNormalCI(
  lower_limit,
  estimate,
  upper_limit,
  size,
  y.offset = 0.5,
  clr.line,
  clr.marker,
  lwd,
  lty = 1,
  vertices,
  vertices.height = 0.1,
  shapes_gp = fpShapesGp(),
  shape_coordinates = structure(c(1, 1), max.coords = c(1, 1)),
  ...
)

fpDrawDiamondCI(
  lower_limit,
  estimate,
  upper_limit,
  size,
  y.offset = 0.5,
  clr.line,
  clr.marker,
  lwd,
  lty = 1,
  vertices,
  vertices.height = 0.1,
  shapes_gp = fpShapesGp(),
  shape_coordinates = structure(c(1, 1), max.coords = c(1, 1)),
  ...
)

fpDrawCircleCI(
  lower_limit,
  estimate,
  upper_limit,
  size,
  y.offset = 0.5,
  clr.line,
  clr.marker,
  lwd,
  lty = 1,
  vertices,
  vertices.height = 0.1,
  shapes_gp = fpShapesGp(),
  shape_coordinates = structure(c(1, 1), max.coords = c(1, 1)),
  ...
)

fpDrawPointCI(
  lower_limit,
  estimate,
  upper_limit,
  size,
  y.offset = 0.5,
  clr.line,
  clr.marker,
  lwd,
  lty = 1,
  vertices,
  vertices.height = 0.1,
  pch = 1,
  shapes_gp = fpShapesGp(),
  shape_coordinates = structure(c(1, 1), max.coords = c(1, 1)),
  ...
)

fpDrawSummaryCI(
  lower_limit,
  estimate,
  upper_limit,
  size,
  col,
  y.offset = 0.5,
  shapes_gp = fpShapesGp(),
  shape_coordinates = structure(c(1, 1), max.coords = c(1, 1)),
  ...
)

fpDrawBarCI(
  lower_limit,
  estimate,
  upper_limit,
  size,
  col,
  y.offset = 0.5,
  shapes_gp = fpShapesGp(),
  shape_coordinates = structure(c(1, 1), max.coords = c(1, 1)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fpDrawNormalCI_+3A_lower_limit">lower_limit</code></td>
<td>
<p>The lower limit of the confidence line.
A native numeric variable that can actually be
outside the boundaries. If you want to see if it
is outside then convert it to 'npc' and see if the
value ends up more than 1 or less than 0. Here's how
you do the conversion:
<code>convertX(unit(upper_limit, "native"), "npc", valueOnly = TRUE)</code>
and the <code><a href="grid.html#topic+convertX">convertX</a></code> together with <code><a href="grid.html#topic+unit">unit</a></code>
is needed to get the right values while you need to provide the valueOnly
as you cannot compare a unit object.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_estimate">estimate</code></td>
<td>
<p>The estimate indicating the placement
of the actual box. Note, this can also be outside bounds
and is provided in a numeric format the same way as the
<code>lower_limit</code>.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_upper_limit">upper_limit</code></td>
<td>
<p>The upper limit of the confidence line. See
lower_limit for details.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_size">size</code></td>
<td>
<p>The actual size of the box/diamond/marker.
This provided in the 'snpc' format to generate a perfect
marker. Although you can provide it alternative units as well,
this is useful for the legends to work nicely.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_y.offset">y.offset</code></td>
<td>
<p>If you have multiple lines they need an offset in
the y-direction.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_clr.line">clr.line</code></td>
<td>
<p>The color of the line.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_clr.marker">clr.marker</code></td>
<td>
<p>The color of the estimate marker</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_lwd">lwd</code></td>
<td>
<p>Line width, see <code><a href="grid.html#topic+gpar">gpar</a></code></p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_lty">lty</code></td>
<td>
<p>Line type, see <code><a href="grid.html#topic+gpar">gpar</a></code></p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_vertices">vertices</code></td>
<td>
<p>Set this to TRUE if you want the ends of the confidence
intervals to be shaped as a T. This is set default to TRUE if you have
any other line type than 1 since there is a risk of a dash occurring
at the very end, i.e. showing incorrectly narrow confidence interval.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_vertices.height">vertices.height</code></td>
<td>
<p>The height hoft the vertices. Defaults to npc units
corresponding to 10% of the row height.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_shapes_gp">shapes_gp</code></td>
<td>
<p>A set of graphical parameters of class <code><a href="#topic+fpShapesGp">fpShapesGp</a></code></p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_shape_coordinates">shape_coordinates</code></td>
<td>
<p>A vector of length 2 the label (first item of the vector)
and the band (second item of the vector) of the confidence interval.
This is used together with shapes_gp to retrieve graphical parameters for that item.</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_...">...</code></td>
<td>
<p>Allows additional parameters for sibling functions</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_pch">pch</code></td>
<td>
<p>Type of point see <code><a href="grid.html#topic+grid.points">grid.points</a></code> for details</p>
</td></tr>
<tr><td><code id="fpDrawNormalCI_+3A_col">col</code></td>
<td>
<p>The color of the summary object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code> The function outputs the line using grid compatible
functions and does not return anything.
</p>


<h3>Author(s)</h3>

<p>Max Gordon, Thomas Lumley
</p>


<h3>See Also</h3>

<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ask &lt;- par(ask = TRUE)

test_data &lt;- data.frame(
  coef1 = c(1, 1.59, 1.3, 1.24),
  coef2 = c(1, 1.7, 1.4, 1.04)
)

test_data$low1 &lt;- test_data$coef1 - 1.96 * c(0, .2, .1, .15)
test_data$high1 &lt;- test_data$coef1 + 1.96 * c(0, .2, .1, .15)

test_data$low2 &lt;- test_data$coef2 - 1.96 * c(0, .1, .15, .2)
test_data$high2 &lt;- test_data$coef2 + 1.96 * c(0, .1, .15, .2)

col_no &lt;- grep("coef", colnames(test_data))
row_names &lt;- list(
  list("Category 1", "Category 2", "Category 3", expression(Category &gt;= 4)),
  list(
    "ref",
    substitute(
      expression(bar(x) == val),
      list(val = round(rowMeans(test_data[2, col_no]), 2))
    ),
    substitute(
      expression(bar(x) == val),
      list(val = round(rowMeans(test_data[3, col_no]), 2))
    ),
    substitute(
      expression(bar(x) == val),
      list(val = round(rowMeans(test_data[4, col_no]), 2))
    )
  )
)

coef &lt;- with(test_data, cbind(coef1, coef2))
low &lt;- with(test_data, cbind(low1, low2))
high &lt;- with(test_data, cbind(high1, high2))

# Change all to diamonds
forestplot(row_names, coef, low, high,
  fn.ci_norm = fpDrawDiamondCI,
  title = "Cool study",
  zero = 1, boxsize = 0.25,
  col = fpColors(
    box = c("royalblue", "gold"),
    line = c("darkblue", "orange"),
    summary = c("darkblue", "red")
  ),
  xlab = "The estimates",
  new_page = TRUE,
  legend = c("Treatment", "Placebo"),
  legend_args = fpLegend(
    title = "Group",
    pos = list("topright", inset = .1),
    r = unit(.1, "snpc"),
    gp = gpar(col = "#CCCCCC", lwd = 1.5)
  )
)

# Change first to diamonds
forestplot(row_names, coef, low, high,
  fn.ci_norm = c(
    "fpDrawDiamondCI",
    rep("fpDrawNormalCI",
      times = nrow(coef) - 1
    )
  ),
  title = "Cool study",
  zero = 1, boxsize = 0.25,
  col = fpColors(
    box = c("royalblue", "gold"),
    line = c("darkblue", "orange"),
    summary = c("darkblue", "red")
  ),
  xlab = "The estimates",
  new_page = TRUE,
  legend = c("Treatment", "Placebo"),
  legend_args = fpLegend(
    title = "Group",
    pos = list("topright", inset = .1),
    r = unit(.1, "snpc"),
    gp = gpar(col = "#CCCCCC", lwd = 1.5)
  )
)

# You can also use a list with the actual functions
# as long as it is formatted [[row]][[column]]
# Note: if you have a non-square input then
# the software will reformat [[col]][[row]]
# to [[row]][[col]]
forestplot(row_names, coef, low, high,
  fn.ci_norm = list(
    list(fpDrawDiamondCI, fpDrawCircleCI),
    list(fpDrawNormalCI, fpDrawNormalCI),
    list(fpDrawNormalCI, fpDrawCircleCI),
    list(fpDrawNormalCI, fpDrawNormalCI)
  ),
  title = "Cool study",
  zero = 1, boxsize = 0.25,
  col = fpColors(
    box = c("royalblue", "gold"),
    line = c("darkblue", "orange"),
    summary = c("darkblue", "red")
  ),
  xlab = "The estimates",
  new_page = TRUE,
  legend = c("Treatment", "Placebo"),
  legend_args = fpLegend(
    title = "Group",
    pos = list("topright", inset = .1),
    r = unit(.1, "snpc"),
    gp = gpar(col = "#CCCCCC", lwd = 1.5)
  )
)

par(ask = ask)
</code></pre>

<hr>
<h2 id='fpLegend'>A function for the legend used in forestplot()</h2><span id='topic+fpLegend'></span>

<h3>Description</h3>

<p>This function encapsulates all the legend options that are used in the
<code><a href="#topic+forestplot">forestplot</a></code> function. This is in order to limit the crowding
among the arguments for the <code><a href="#topic+forestplot">forestplot</a></code> call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fpLegend(
  pos = "top",
  gp = NULL,
  r = unit(0, "snpc"),
  padding = unit(ifelse(!is.null(gp), 3, 0), "mm"),
  title = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fpLegend_+3A_pos">pos</code></td>
<td>
<p>The position of the legend, either at the &quot;top&quot; or the &quot;right&quot; unless
positioned inside the plot. If you want the legend to be positioned inside the plot
then you have to provide a list with the same x &amp; y qualities as <code><a href="graphics.html#topic+legend">legend</a></code>.
For instance if you want the legend to be positioned at the top right corner then
use <code>pos = list("topright")</code> - this is equivalent to <code>pos = list(x = 1, y = 1)</code>.
If you want to have a distance from the edge of the graph then add a inset to the list,
e.g. <code>pos = list("topright", "inset" = .1)</code> - the inset should be either a <code><a href="grid.html#topic+unit">unit</a></code>
element or a value between 0 and 1. The default is to have the boxes aligned vertical, if
you want them to be in a line then you can specify the &quot;align&quot; option, e.g.
<code>pos = list("topright", "inset" = .1, "align" = "horizontal")</code></p>
</td></tr>
<tr><td><code id="fpLegend_+3A_gp">gp</code></td>
<td>
<p>The <code><a href="grid.html#topic+gpar">gpar</a></code> options for the legend. If you want
the background color to be light grey then use <code>gp = gpar(fill = "lightgrey")</code>.
If you want a border then set the col argument: <code>gp = gpar(fill = "lightgrey", col = "black")</code>.
You can also use the lwd and lty argument as usual, <code>gp = gpar(lwd = 2, lty = 1)</code>, will result
in a black border box of line type 1 and line width 2.</p>
</td></tr>
<tr><td><code id="fpLegend_+3A_r">r</code></td>
<td>
<p>The box can have rounded edges, check out <code><a href="grid.html#topic+grid.roundrect">grid.roundrect</a></code>. The
r option should be a <code><a href="grid.html#topic+unit">unit</a></code> object. This is by default <code>unit(0, "snpc")</code>
but you can choose any value that you want. The <code>"snpc"</code> unit is the preferred option.</p>
</td></tr>
<tr><td><code id="fpLegend_+3A_padding">padding</code></td>
<td>
<p>The padding for the legend box, only used if box is drawn. This is
the distance from the border to the text/boxes of the legend.</p>
</td></tr>
<tr><td><code id="fpLegend_+3A_title">title</code></td>
<td>
<p>The title of the legend if any</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> Returns a list with all the elements
</p>


<h3>See Also</h3>

<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpShapesGp">fpShapesGp</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>

<hr>
<h2 id='fpShapesGp'>A function for graphical parameters of the shapes used in <code>forestplot()</code></h2><span id='topic+fpShapesGp'></span>

<h3>Description</h3>

<p>This function encapsulates all the non-text elements that are used in the
<code><a href="#topic+forestplot">forestplot()</a></code> function. As there are plenty of shapes
options this function gathers them all in one place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fpShapesGp(
  default = NULL,
  box = NULL,
  lines = NULL,
  vertices = NULL,
  summary = NULL,
  zero = NULL,
  axes = NULL,
  hrz_lines = NULL,
  vrtcl_lines = NULL,
  grid = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fpShapesGp_+3A_default">default</code></td>
<td>
<p>A fallback <a href="grid.html#topic+gpar">grid::gpar</a> for all unspecified attributes.
If set to NULL then it defaults to legacy parameters, including
the <code>col</code>, <code>lwd.xaxis</code>, <code>lwd.ci</code> and <code>lty.ci</code>
parameter of <code>fpColors</code>.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_box">box</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the box, circle
or point indicating the point estimate, i.e. the middle
of the confidence interval (may be a list of gpars). If provided
a string a <code>gpar</code> will be generated with <code>col</code>, and <code>fill</code> for
those arguments.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_lines">lines</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the confidence lines
(may be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_vertices">vertices</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the vertices
(may be a list of gpars).
If <code>ci.vertices</code> is set to TRUE in <code>forestplot</code>
<code>vertices</code> inherits from <code>lines</code> all its parameters but lty that is set
to &quot;solid&quot; by default.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_summary">summary</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>, <code>character</code>) of the summary
(may be a list of gpars). If provided a string a <code>gpar</code> will be generated with
<code>col</code>, and <code>fill</code> for those arguments.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_zero">zero</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the zero line
(may not be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_axes">axes</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the x-axis at the bottom
(may not be a list of gpars).</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_hrz_lines">hrz_lines</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the horizontal lines
(may not be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_vrtcl_lines">vrtcl_lines</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the vertical lines
(may not be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
<tr><td><code id="fpShapesGp_+3A_grid">grid</code></td>
<td>
<p>The graphical parameters (<code>gpar</code>) of the grid (vertical lines)
(may be a list of gpars). If provided a string a <code>gpar</code> will be generated
with <code>col</code> as the only arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function obsoletes <code><a href="#topic+fpColors">fpColors()</a></code>.
</p>
<p>If some, but not all parameters of a shape (e.g. box) are specified in gpar()
such as setting lwd but not line color, the unspecified parameters default
to the ones specified in <code>default</code>, then, default to legacy parameters
of <code>forestplot</code> such as <code>col</code>.
</p>
<p>Parameters <code>box</code>, <code>lines</code>, <code>vertices</code>, <code>summary</code> may be set as list
containing several gpars. The length of the list must either be equal to the number of bands
per label or to the number of bands multiplied by the number of labels, allowing specification
of different styles for different parts of the forest plot.
</p>
<p>The parameter <code>grid</code> can either be a single gpar or a list of gpars with as many
elements as there are lines in the grid (as set by the <code>xticks</code> or <code>grid</code>
arguments of forestplot)
</p>
<p>Parameters <code>zero</code>, <code>axes</code>, <code>hrz_lines</code> must either be NULL or gpar
but cannot be lists of gpars.
</p>


<h3>Value</h3>

<p>list A list with the elements:
</p>

<ul>
<li><p> default: the gpar for default attributes
</p>
</li>
<li><p> box: the gpar or list of gpars of the box/marker
</p>
</li>
<li><p> lines: the gpar or list of gpars of the lines
</p>
</li>
<li><p> vertices: the gpar or list of gpars of the vertices
</p>
</li>
<li><p> summary: the gpar or list of gpars of the summary
</p>
</li>
<li><p> zero: the gpar of the zero vertical line
</p>
</li>
<li><p> axes: the gpar of the x-axis
</p>
</li>
<li><p> hrz_lines: the gpar of the horizontal lines
</p>
</li>
<li><p> grid: the gpar or list of gpars of the grid lines
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Andre GILLIBERT
</p>


<h3>See Also</h3>

<p>Other forestplot functions: 
<code><a href="#topic+forestplot">forestplot</a>()</code>,
<code><a href="#topic+fpColors">fpColors</a>()</code>,
<code><a href="#topic+fpDrawNormalCI">fpDrawNormalCI</a>()</code>,
<code><a href="#topic+fpLegend">fpLegend</a>()</code>,
<code><a href="#topic+fp_add_lines">fp_add_lines</a>()</code>,
<code><a href="#topic+fp_decorate_graph">fp_decorate_graph</a>()</code>,
<code><a href="#topic+fp_insert_row">fp_insert_row</a>()</code>,
<code><a href="#topic+fp_set_style">fp_set_style</a>()</code>,
<code><a href="#topic+fp_set_zebra_style">fp_set_zebra_style</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ask &lt;- par(ask = TRUE)

# An example of how fpShapesGp works

styles &lt;- fpShapesGp(
  default = gpar(col = "pink", lwd = 2, lineend = "square", linejoin = "mitre"),
  grid = list(
    gpar(col = "blue"),
    gpar(col = "black"),
    gpar(col = "blue")
  ),
  box = list(
    gpar(fill = "black"),
    gpar(fill = "blue"),
    gpar(fill = "black"),
    gpar(fill = "blue")
  ),
  lines = gpar(lty = "dashed"),
  vertices = gpar(lwd = 5, col = "red")
)

forestplot(
  labeltext = c("Author1", "Author2", "Author3", "Author4"),
  grid = c(1, 3, 5),
  mean = 1:4, lower = 0:3, upper = 2:5,
  shapes_gp = styles
)

par(ask = ask)
</code></pre>

<hr>
<h2 id='fpTxtGp'>Get font settings for forestplot</h2><span id='topic+fpTxtGp'></span>

<h3>Description</h3>

<p>This function generates all the <code><a href="grid.html#topic+gpar">gpar</a>()</code>
elements for the different text elements within the graph.
Elements not specified inherit their default settings from the
<code>label</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fpTxtGp(label, summary, xlab, title, ticks, legend, legend.title, cex = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fpTxtGp_+3A_label">label</code></td>
<td>
<p>The text labels (see details below)</p>
</td></tr>
<tr><td><code id="fpTxtGp_+3A_summary">summary</code></td>
<td>
<p>The summary labels (see details below)</p>
</td></tr>
<tr><td><code id="fpTxtGp_+3A_xlab">xlab</code></td>
<td>
<p>The xlab text</p>
</td></tr>
<tr><td><code id="fpTxtGp_+3A_title">title</code></td>
<td>
<p>The plot title</p>
</td></tr>
<tr><td><code id="fpTxtGp_+3A_ticks">ticks</code></td>
<td>
<p>The ticks associated with the xlab</p>
</td></tr>
<tr><td><code id="fpTxtGp_+3A_legend">legend</code></td>
<td>
<p>The legend text</p>
</td></tr>
<tr><td><code id="fpTxtGp_+3A_legend.title">legend.title</code></td>
<td>
<p>The legend title</p>
</td></tr>
<tr><td><code id="fpTxtGp_+3A_cex">cex</code></td>
<td>
<p>The font size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the <code>fpTxtGp</code> class
</p>


<h3>List arguments for <code>label</code>/<code>summary</code></h3>

<p>You can provide a <code>list</code> of elements for the <code>label</code>
and <code>summary</code> in order to specify separate elements. If you
provide a <code>list</code> in one dimension the <code>gpar</code> elements are assumed
to follow the columns. If you provide a <code>list</code> of 2 dimensions the
structure assumes is <code>list[[row]][[column]]</code> and the number of elements
should correspond to the number of labels for the <code>label</code> argument, i.e.
without the rows marked as summary elements. The same goes for <code>summary</code>
arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fpTxtGp(label = gpar(fontfamily = "HersheySerif"))
</code></pre>

<hr>
<h2 id='getTicks'>Ticks for plot axis</h2><span id='topic+getTicks'></span>

<h3>Description</h3>

<p>Gets the ticks in a formatted version. This is since I'm not always
that fond of just pretty(1:10/5). In exponential form the ticks are
determined from the 2-base, meaning that you get an intuitive feeling
for when the value is doubled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTicks(low, high = low, clip = c(-Inf, Inf), exp = FALSE, digits = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getTicks_+3A_low">low</code></td>
<td>
<p>lower bound, can be a single number or a vector</p>
</td></tr>
<tr><td><code id="getTicks_+3A_high">high</code></td>
<td>
<p>upper bound - optional, you can just have all data in the low variable</p>
</td></tr>
<tr><td><code id="getTicks_+3A_clip">clip</code></td>
<td>
<p>if the ci are clipped</p>
</td></tr>
<tr><td><code id="getTicks_+3A_exp">exp</code></td>
<td>
<p>If the value should be in exponential form (default)</p>
</td></tr>
<tr><td><code id="getTicks_+3A_digits">digits</code></td>
<td>
<p>Number of digits - used in exp mode</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is far from perfect and I recommend specifying yourself
the ticks that you want.
</p>


<h3>Value</h3>

<p><code>vector</code> Returns a vector with the ticks
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_data &lt;- data.frame(
  coef = c(2, 0.5),
  low = c(1.5, 0.05),
  high = c(3, 0.75),
  boxsize = c(0.5, 0.5)
)

# Exponential form where the exponent base i 2 for easier understanding
getTicks(
  low = test_data$low,
  high = test_data$high,
  clip = c(-Inf, Inf),
  exp = TRUE
)

# Non exponential form with using pretty
getTicks(
  low = test_data$low,
  high = test_data$high,
  clip = c(-Inf, Inf),
  exp = FALSE
)


# A very simple example
getTicks(1:5 * 2.33,
  exp = FALSE
)

# A slightly more advanced exponential version
getTicks(1:10 * .33,
  digits = 2,
  exp = TRUE
)
</code></pre>

<hr>
<h2 id='heightDetails.xaxis'>Gets the height for an x-axis object</h2><span id='topic+heightDetails.xaxis'></span>

<h3>Description</h3>

<p>A function that gets the height of an <code><a href="grid.html#topic+xaxisGrob">xaxisGrob</a></code>.
It is for some reason not included by default in the <span class="pkg">grid</span>-package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xaxis'
heightDetails(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="heightDetails.xaxis_+3A_x">x</code></td>
<td>
<p>The <code><a href="grid.html#topic+xaxisGrob">xaxisGrob</a></code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>grid::unit</code> A <code><a href="grid.html#topic+unit">unit</a></code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(grid)
grid.newpage()
xg &lt;- xaxisGrob(c(1:3))
convertY(grobHeight(xg), "lines")
</code></pre>

<hr>
<h2 id='HRQoL'>Regression coefficients and confidence intervals from HRQoL study</h2><span id='topic+HRQoL'></span>

<h3>Description</h3>

<p>The data is a list containing the Swedish and the Danish coefficients
for health related quality of life (HRQoL) 1 year after total hip arthroplasty surgery.
The age is modeled as a spline and is therefore presented as a contrast.
</p>


<h3>Author(s)</h3>

<p>Max Gordon <a href="mailto:max@gforge.se">max@gforge.se</a>
</p>

<hr>
<h2 id='prDefaultGp'>Construct default parameters from arguments that may include missing arguments</h2><span id='topic+prDefaultGp'></span>

<h3>Description</h3>

<p>Construct default parameters from arguments that may include missing arguments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prDefaultGp(col, lwd, lty)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prDefaultGp_+3A_col">col</code></td>
<td>
<p>Line color (or missing)</p>
</td></tr>
<tr><td><code id="prDefaultGp_+3A_lwd">lwd</code></td>
<td>
<p>Line width (or missing)</p>
</td></tr>
<tr><td><code id="prDefaultGp_+3A_lty">lty</code></td>
<td>
<p>Line type (or missing)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="grid.html#topic+gpar">gpar</a></code> object
containing these three attributes
</p>

<hr>
<h2 id='prepAlign'>Prepares graph position</h2><span id='topic+prepAlign'></span>

<h3>Description</h3>

<p>Prepares the graph position so that it matches the label size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepAlign(align, graph.pos, nc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepAlign_+3A_align">align</code></td>
<td>
<p>Vector giving alignment (l,r,c) for the table columns</p>
</td></tr>
<tr><td><code id="prepAlign_+3A_graph.pos">graph.pos</code></td>
<td>
<p>An integer indicating the position of the graph</p>
</td></tr>
<tr><td><code id="prepAlign_+3A_nc">nc</code></td>
<td>
<p>The number of columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns vector of <code style="white-space: pre;">&#8288;"l", "c", "r"&#8288;</code> values
</p>

<hr>
<h2 id='prepGraphPositions'>Prepares graph position</h2><span id='topic+prepGraphPositions'></span>

<h3>Description</h3>

<p>Prepares the graph position so that it matches the label size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepGraphPositions(graph.pos, nc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepGraphPositions_+3A_graph.pos">graph.pos</code></td>
<td>
<p>The position of the graph element within the table of text. The
position can be <code>1-(ncol(labeltext) + 1)</code>. You can also choose set the position
to <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="prepGraphPositions_+3A_nc">nc</code></td>
<td>
<p>The number of columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns number indicating the graph position
</p>

<hr>
<h2 id='prepGridMargins'>Convert margins to viewport npc margins</h2><span id='topic+prepGridMargins'></span>

<h3>Description</h3>

<p>Convert margins to viewport npc margins
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepGridMargins(mar)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepGridMargins_+3A_mar">mar</code></td>
<td>
<p>A vector of margins, at positions:
</p>

<ul>
<li><p> 1 = bottom
</p>
</li>
<li><p> 2 = left
</p>
</li>
<li><p> 3 = top
</p>
</li>
<li><p> 4 = right
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with <code>bottom</code>, <code>left</code>, <code>top</code>, and <code>right</code> as <code>unit("npc")</code>
</p>

<hr>
<h2 id='prepLabelText'>Prepares label text</h2><span id='topic+prepLabelText'></span><span id='topic++5B.forestplot_labeltext'></span>

<h3>Description</h3>

<p>Prepares an object that contains the number of columns and rows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepLabelText(labeltext, nr)

## S3 method for class 'forestplot_labeltext'
x[i, j, ...]
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepLabelText_+3A_labeltext">labeltext</code></td>
<td>
<p>The label text input, either <code>expression</code>, <code>list</code>
<code>vector</code> or <code>matrix</code></p>
</td></tr>
<tr><td><code id="prepLabelText_+3A_nr">nr</code></td>
<td>
<p>The number of rows</p>
</td></tr>
<tr><td><code id="prepLabelText_+3A_x">x</code></td>
<td>
<p>A <code>forestplot_labeltext</code> object</p>
</td></tr>
<tr><td><code id="prepLabelText_+3A_i">i</code></td>
<td>
<p>The row</p>
</td></tr>
<tr><td><code id="prepLabelText_+3A_j">j</code></td>
<td>
<p>The column</p>
</td></tr>
<tr><td><code id="prepLabelText_+3A_...">...</code></td>
<td>
<p>Passed on to the <code>fn.ci_norm</code> and
<code>fn.ci_sum</code> arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>forestplot_labeltext</code> object with attributes:
</p>

<ul>
<li><p> no_cols
</p>
</li>
<li><p> no_rows
</p>
</li>
<li><p> widthcolumn
</p>
</li>
<li><p> label_type
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>[</code>: Pick the value that corresponds to the row and column.
Returns <code>expression</code>, <code>call</code>, or <code>text</code>.
</p>
</li></ul>

<hr>
<h2 id='prepLines'>Prepares the lines for the plot</h2><span id='topic+prepLines'></span>

<h3>Description</h3>

<p>Prepares the lines for the plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepLines(lines, is.summary, number_of_rows, number_of_columns, col, shapes_gp)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepLines_+3A_is.summary">is.summary</code></td>
<td>
<p>A vector indicating by <code>TRUE</code>/<code>FALSE</code> if
the value is a summary value which means that it will have a different
font-style</p>
</td></tr>
<tr><td><code id="prepLines_+3A_number_of_rows">number_of_rows</code></td>
<td>
<p>Total number of rows</p>
</td></tr>
<tr><td><code id="prepLines_+3A_number_of_columns">number_of_columns</code></td>
<td>
<p>Total number of columns</p>
</td></tr>
<tr><td><code id="prepLines_+3A_col">col</code></td>
<td>
<p>Set the colors for all the elements. See <code><a href="#topic+fpColors">fpColors</a></code> for
details</p>
</td></tr>
<tr><td><code id="prepLines_+3A_shapes_gp">shapes_gp</code></td>
<td>
<p>Sets graphical parameters (squares and lines widths, styles, etc.)
of all shapes drawn (squares, lines, diamonds, etc.). This overrides <code>col</code>,
<code>lwd.xaxis</code>, <code>lwd.zero</code>, <code>lwd.ci</code> and <code>lty.ci</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='prFpConvertMultidimArray'>Converts a 2D or 3D array to mean, lower, upper</h2><span id='topic+prFpConvertMultidimArray'></span>

<h3>Description</h3>

<p>Converts a 2D or 3D array to mean, lower, upper
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpConvertMultidimArray(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpConvertMultidimArray_+3A_x">x</code></td>
<td>
<p>The array to convert</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list(mean = mean, lower = lower, upper = upper)</code>
</p>

<hr>
<h2 id='prFpDrawLine'>Draws a straight line</h2><span id='topic+prFpDrawLine'></span>

<h3>Description</h3>

<p>If the line is outside the boundaries the line
is clipped with an arrow at the limit indicating
that it continues. If the lower limit is not below
the upper limit the line is not drawn.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpDrawLine(
  lower_limit,
  upper_limit,
  clr.line,
  lwd,
  lty,
  y.offset,
  vertices,
  vertices.height = 0.1,
  line_gp,
  vertices_gp
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpDrawLine_+3A_lower_limit">lower_limit</code></td>
<td>
<p>The lower limit of the confidence line.
A native numeric variable that can actually be
outside the boundaries. If you want to see if it
is outside then convert it to 'npc' and see if the
value ends up more than 1 or less than 0. Here's how
you do the conversion:
<code>convertX(unit(upper_limit, "native"), "npc", valueOnly = TRUE)</code>
and the <code><a href="grid.html#topic+convertX">convertX</a></code> together with <code><a href="grid.html#topic+unit">unit</a></code>
is needed to get the right values while you need to provide the valueOnly
as you cannot compare a unit object.</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_upper_limit">upper_limit</code></td>
<td>
<p>The upper limit of the confidence line. See
lower_limit for details.</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_clr.line">clr.line</code></td>
<td>
<p>Legacy color of line (please, use line_gp)</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_lwd">lwd</code></td>
<td>
<p>Legacy width of line (please, use line_gp)</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_lty">lty</code></td>
<td>
<p>Legacy type of line (please, use line_gp)</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_y.offset">y.offset</code></td>
<td>
<p>If you have multiple lines they need an offset in
the y-direction.</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_vertices">vertices</code></td>
<td>
<p>Set this to TRUE if you want the ends of the confidence
intervals to be shaped as a T. This is set default to TRUE if you have
any other line type than 1 since there is a risk of a dash occurring
at the very end, i.e. showing incorrectly narrow confidence interval.</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_vertices.height">vertices.height</code></td>
<td>
<p>The height hoft the vertices. Defaults to npc units
corresponding to 10% of the row height.</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_line_gp">line_gp</code></td>
<td>
<p>A <code><a href="grid.html#topic+gpar">gpar</a></code> for drawing the horizontal line</p>
</td></tr>
<tr><td><code id="prFpDrawLine_+3A_vertices_gp">vertices_gp</code></td>
<td>
<p>A <code><a href="grid.html#topic+gpar">gpar</a></code> for drawing the vertices.
unspecified attributes in vertices_gp default to line_gp.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>

<hr>
<h2 id='prFpFetchRowLabel'>Get the label</h2><span id='topic+prFpFetchRowLabel'></span>

<h3>Description</h3>

<p>A function used for fetching the text or
expression from the supplied labeltext.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpFetchRowLabel(label_type, labeltext, i, j)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpFetchRowLabel_+3A_label_type">label_type</code></td>
<td>
<p>The type of label</p>
</td></tr>
<tr><td><code id="prFpFetchRowLabel_+3A_labeltext">labeltext</code></td>
<td>
<p>A list, matrix, vector or expression with the names of each
row or the name of the column if using the <em>dplyr</em> select syntax - defaults to &quot;labeltext&quot;.
Note that when using <code>group_by</code> a separate labeltext is not allowed.
The list should be wrapped in m x n number to resemble a matrix:
<code>list(list("rowname 1 col 1", "rowname 2 col 1"), list("r1c2", expression(beta))</code>.
You can also provide a matrix although this cannot have expressions by design:
<code>matrix(c("rowname 1 col 1", "rowname 2 col 1", "r1c2", "beta"), ncol = 2)</code>.
Use <code>NA</code>:s for blank spaces and if you provide a full column with <code>NA</code> then
that column is a empty column that adds some space. <em>Note:</em> If you do not
provide the mean/lower/upper arguments the function expects the label text
to be a matrix containing the labeltext in the rownames and then columns for
mean, lower, and upper.</p>
</td></tr>
<tr><td><code id="prFpFetchRowLabel_+3A_i">i</code></td>
<td>
<p>The row</p>
</td></tr>
<tr><td><code id="prFpFetchRowLabel_+3A_j">j</code></td>
<td>
<p>The column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An expression or a text
</p>

<hr>
<h2 id='prFpFindWidestGrob'>Finds the widest grob in the current list of grobs</h2><span id='topic+prFpFindWidestGrob'></span>

<h3>Description</h3>

<p>Finds the widest grob in the current list of grobs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpFindWidestGrob(grob.list, return_unit = "mm")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpFindWidestGrob_+3A_grob.list">grob.list</code></td>
<td>
<p>A list of grobs</p>
</td></tr>
<tr><td><code id="prFpFindWidestGrob_+3A_return_unit">return_unit</code></td>
<td>
<p>A valid <code><a href="grid.html#topic+unit">unit</a></code> specifier</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>grid::unit</code> Returns the width <code><a href="grid.html#topic+unit">unit</a></code>
for the widest grob
</p>

<hr>
<h2 id='prFpGetConfintFnList'>Get a function list</h2><span id='topic+prFpGetConfintFnList'></span>

<h3>Description</h3>

<p>This function helps the <code><a href="#topic+forestplot">forestplot</a></code>
to deal with multiple drawing functions for the
confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpGetConfintFnList(fn, no_rows, no_depth, missing_rows, is.summary, summary)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpGetConfintFnList_+3A_fn">fn</code></td>
<td>
<p>The function list/matrix. If a list it
should be in the format [<a href="base.html#topic+row">row</a>][<a href="base.html#topic+col">col</a>], the function
tries to handle this but in cases where the columns
and rows are the same it will not know what is a column
and what is a row.</p>
</td></tr>
<tr><td><code id="prFpGetConfintFnList_+3A_no_rows">no_rows</code></td>
<td>
<p>Number of rows</p>
</td></tr>
<tr><td><code id="prFpGetConfintFnList_+3A_no_depth">no_depth</code></td>
<td>
<p>Number of columns</p>
</td></tr>
<tr><td><code id="prFpGetConfintFnList_+3A_missing_rows">missing_rows</code></td>
<td>
<p>The rows that don't have a CI</p>
</td></tr>
<tr><td><code id="prFpGetConfintFnList_+3A_is.summary">is.summary</code></td>
<td>
<p>A vector indicating by <code>TRUE</code>/<code>FALSE</code> if
the value is a summary value which means that it will have a different
font-style</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> The function returns a list that has
the format [<a href="base.html#topic+row">row</a>][<a href="base.html#topic+col">col</a>] where each element contains the
function that you need to call using the <code><a href="base.html#topic+as.call">as.call</a></code>
and <code><a href="base.html#topic+eval">eval</a></code> functions: <code>eval(as.call(list(fn[[row]][[col]], arg_1 = 1, arg_2 = 2)))</code>
</p>

<hr>
<h2 id='prFpGetLayoutVP'>Get the main <code>forestplot</code></h2><span id='topic+prFpGetLayoutVP'></span>

<h3>Description</h3>

<p>The layout makes space for a legend if needed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpGetLayoutVP(lineheight, labels, legend_layout = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpGetLayoutVP_+3A_lineheight">lineheight</code></td>
<td>
<p>Height of the graph. By default this is <code>auto</code> and adjusts to the
space that is left after adjusting for x-axis size and legend. Sometimes
it might be desirable to set the line height to a certain height, for
instance if you have several forestplots you may want to standardize their
line height, then you set this variable to a certain height, note this should
be provided as a <code><a href="grid.html#topic+unit">unit</a></code> object. A good option
is to set the line height to <code>unit(2, "cm")</code>. A third option
is to set line height to &quot;lines&quot; and then you get 50% more than what the
text height is as your line height</p>
</td></tr>
<tr><td><code id="prFpGetLayoutVP_+3A_labels">labels</code></td>
<td>
<p>The labels</p>
</td></tr>
<tr><td><code id="prFpGetLayoutVP_+3A_legend_layout">legend_layout</code></td>
<td>
<p>A legend layout object if applicable</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>viewport</code> Returns the <code>viewport</code> needed
</p>

<hr>
<h2 id='prFpGetLegendBoxPosition'>Converts legend position to a standard position</h2><span id='topic+prFpGetLegendBoxPosition'></span>

<h3>Description</h3>

<p>Used for the forestplot legend box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpGetLegendBoxPosition(pos)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpGetLegendBoxPosition_+3A_pos">pos</code></td>
<td>
<p>The position of the legend, either at the &quot;top&quot; or the &quot;right&quot; unless
positioned inside the plot. If you want the legend to be positioned inside the plot
then you have to provide a list with the same x &amp; y qualities as <code><a href="graphics.html#topic+legend">legend</a></code>.
For instance if you want the legend to be positioned at the top right corner then
use <code>pos = list("topright")</code> - this is equivalent to <code>pos = list(x = 1, y = 1)</code>.
If you want to have a distance from the edge of the graph then add a inset to the list,
e.g. <code>pos = list("topright", "inset" = .1)</code> - the inset should be either a <code><a href="grid.html#topic+unit">unit</a></code>
element or a value between 0 and 1. The default is to have the boxes aligned vertical, if
you want them to be in a line then you can specify the &quot;align&quot; option, e.g.
<code>pos = list("topright", "inset" = .1, "align" = "horizontal")</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> Returns the <code>pos</code> list with
the correct x/y/adjust values
</p>

<hr>
<h2 id='prFpPrepareLegendMarker'>Prepares the legend marker function</h2><span id='topic+prFpPrepareLegendMarker'></span>

<h3>Description</h3>

<p>Prepares the legend marker function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpPrepareLegendMarker(fn.legend, col_no, row_no, fn.ci_norm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpPrepareLegendMarker_+3A_fn.legend">fn.legend</code></td>
<td>
<p>The unknown parameter</p>
</td></tr>
<tr><td><code id="prFpPrepareLegendMarker_+3A_col_no">col_no</code></td>
<td>
<p>The number of columns</p>
</td></tr>
<tr><td><code id="prFpPrepareLegendMarker_+3A_row_no">row_no</code></td>
<td>
<p>The number of rows</p>
</td></tr>
<tr><td><code id="prFpPrepareLegendMarker_+3A_fn.ci_norm">fn.ci_norm</code></td>
<td>
<p>The original fn.ci_norm input</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code>
</p>

<hr>
<h2 id='prFpPrintLabels'>Plots the labels</h2><span id='topic+prFpPrintLabels'></span>

<h3>Description</h3>

<p>This is a helper function to the <code><a href="#topic+forestplot">forestplot</a></code>
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpPrintLabels(labels, nc, nr, graph.pos)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpPrintLabels_+3A_labels">labels</code></td>
<td>
<p>A list to the labels</p>
</td></tr>
<tr><td><code id="prFpPrintLabels_+3A_nc">nc</code></td>
<td>
<p>Number of columns</p>
</td></tr>
<tr><td><code id="prFpPrintLabels_+3A_nr">nr</code></td>
<td>
<p>Number of rows</p>
</td></tr>
<tr><td><code id="prFpPrintLabels_+3A_graph.pos">graph.pos</code></td>
<td>
<p>The position of the graph element within the table of text. The
position can be <code>1-(ncol(labeltext) + 1)</code>. You can also choose set the position
to <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>

<hr>
<h2 id='prFpValidateLabelList'>Validate the forestplot label list</h2><span id='topic+prFpValidateLabelList'></span>

<h3>Description</h3>

<p>Checks that all list elements have equal
length, i.e. there is a m x n relation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpValidateLabelList(labelList)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpValidateLabelList_+3A_labellist">labelList</code></td>
<td>
<p>The list of labels</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>boolean</code> TRUE or FALSE
</p>

<hr>
<h2 id='prFpXrange'>Gets the x-axis range</h2><span id='topic+prFpXrange'></span>

<h3>Description</h3>

<p>If the borders are smaller than the upper/lower limits
then clip the graph. The line will have arrows indicating
that it continues beyond the graph The zero bar has to
be on the chart though!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prFpXrange(upper, lower, clip, zero, xticks, xlog)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prFpXrange_+3A_upper">upper</code></td>
<td>
<p>The upper bound of the confidence interval for the forestplot, needs
to be the same format as the mean.</p>
</td></tr>
<tr><td><code id="prFpXrange_+3A_lower">lower</code></td>
<td>
<p>The lower bound of the confidence interval for the forestplot, needs
to be the same format as the mean.</p>
</td></tr>
<tr><td><code id="prFpXrange_+3A_clip">clip</code></td>
<td>
<p>Lower and upper limits for clipping confidence intervals to arrows</p>
</td></tr>
<tr><td><code id="prFpXrange_+3A_zero">zero</code></td>
<td>
<p>x-axis coordinate for zero line. If you provide a vector of length 2 it
will print a rectangle instead of just a line. If you provide NA the line is suppressed.</p>
</td></tr>
<tr><td><code id="prFpXrange_+3A_xticks">xticks</code></td>
<td>
<p>Optional user-specified x-axis tick marks. Specify NULL to use
the defaults, numeric(0) to omit the x-axis. By adding a labels-attribute,
<code>attr(my_ticks, "labels") &lt;- ...</code> you can dictate the outputted text
at each tick. If you specify a boolean vector then ticks indicated with
FALSE wont be printed. Note that the labels have to be the same length
as the main variable.</p>
</td></tr>
<tr><td><code id="prFpXrange_+3A_xlog">xlog</code></td>
<td>
<p>If TRUE, x-axis tick marks are to follow a logarithmic scale, e.g. for
logistic regression (OR), survival estimates (HR), Poisson regression etc.
<em>Note:</em> This is an intentional break with the original <code>forestplot</code>
function as I've found that exponentiated ticks/clips/zero effect are more
difficult to for non-statisticians and there are sometimes issues with rounding
the tick marks properly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>vector</code> Contains a min and max value
</p>

<hr>
<h2 id='prGetLabelsList'>Gets the forestplot labels</h2><span id='topic+prGetLabelsList'></span>

<h3>Description</h3>

<p>A function that gets all the labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGetLabelsList(labels, align, is.summary, txt_gp, col)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGetLabelsList_+3A_labels">labels</code></td>
<td>
<p>A <code>forestplot_labeltext</code> object</p>
</td></tr>
<tr><td><code id="prGetLabelsList_+3A_align">align</code></td>
<td>
<p>Alignment, should be equal to <code>attr(labels, "no_cols")</code></p>
</td></tr>
<tr><td><code id="prGetLabelsList_+3A_is.summary">is.summary</code></td>
<td>
<p>A vector indicating by <code>TRUE</code>/<code>FALSE</code> if
the value is a summary value which means that it will have a different
font-style</p>
</td></tr>
<tr><td><code id="prGetLabelsList_+3A_txt_gp">txt_gp</code></td>
<td>
<p>Set the fonts etc for all text elements. See <code><a href="#topic+fpTxtGp">fpTxtGp</a></code>
for details</p>
</td></tr>
<tr><td><code id="prGetLabelsList_+3A_col">col</code></td>
<td>
<p>Set the colors for all the elements. See <code><a href="#topic+fpColors">fpColors</a></code> for
details</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> A list with <code>attr(labels, "no_cols")</code> where each element contains
a list of <code>attr(labels, "no_rows")</code> elements with attributes width/height for each
element and max_width/max_height for the total
</p>

<hr>
<h2 id='prGetShapeGp'>A function to extract graphical parameters from a fpShapesGp object</h2><span id='topic+prGetShapeGp'></span>

<h3>Description</h3>

<p>A function to extract graphical parameters from a fpShapesGp object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGetShapeGp(
  shapes_gp,
  coords,
  object,
  default = grid::gpar(),
  nodefault = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGetShapeGp_+3A_shapes_gp">shapes_gp</code></td>
<td>
<p>An object of class <code><a href="#topic+fpShapesGp">fpShapesGp</a></code> specifying all graphical parameters</p>
</td></tr>
<tr><td><code id="prGetShapeGp_+3A_coords">coords</code></td>
<td>
<p>A numeric vector of length 2, specifying the label number (first item of the vector)
and the confidence band number within this label ; that can be &gt;= 2 if there are multiple confidence
bands per label. Can be NULL for objects that are used only once (e.g. axes).
Vector <code>coords</code> must have an R attribute <code>max.coords</code> as numeric vector of length 2
specifying the total number of labels
and number of confidence bands by label for the forest plot.
The first coordinate specify the label number and the second coordinate (for multi-band forest plots)
specifies the band number within the label.</p>
</td></tr>
<tr><td><code id="prGetShapeGp_+3A_object">object</code></td>
<td>
<p>One of <code>"box"</code>, <code>"lines"</code>, <code>"vertices"</code>, <code>"summary"</code>, <code>"zero"</code>,
<code>"axes"</code>, <code>"hrz_lines"</code> or <code>"grid"</code>, refering to the object for which the
graphical parameters are requested.</p>
</td></tr>
<tr><td><code id="prGetShapeGp_+3A_default">default</code></td>
<td>
<p>Default attributes to rely on when neither found in <code>shapes_gp$object</code>
nor in <code>shapes_gp$default</code></p>
</td></tr>
<tr><td><code id="prGetShapeGp_+3A_nodefault">nodefault</code></td>
<td>
<p>Logical. If TRUE, do not search attribute in shapes_gp$default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="grid.html#topic+gpar">gpar</a></code>
</p>


<h3>Author(s)</h3>

<p>Andre GILLIBERT
</p>

<hr>
<h2 id='prGetTextGrobCex'>Just a simple access to the gp$cex parameter</h2><span id='topic+prGetTextGrobCex'></span>

<h3>Description</h3>

<p>Just a simple access to the gp$cex parameter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGetTextGrobCex(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGetTextGrobCex_+3A_x">x</code></td>
<td>
<p>The text-grob of interest</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>numeric</code> The cex value, 1 if no cex was present
</p>

<hr>
<h2 id='prGparMerge'>Merges two <code><a href="grid.html#topic+gpar">gpar</a></code> elements</h2><span id='topic+prGparMerge'></span>

<h3>Description</h3>

<p>The second elements overrides any conflicting elements within the first
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGparMerge(l1, l2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGparMerge_+3A_l1">l1</code></td>
<td>
<p>A <code><a href="grid.html#topic+gpar">gpar</a></code> element</p>
</td></tr>
<tr><td><code id="prGparMerge_+3A_l2">l2</code></td>
<td>
<p>A <code><a href="grid.html#topic+gpar">gpar</a></code> element</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code><a href="grid.html#topic+gpar">gpar</a></code> element
</p>

<hr>
<h2 id='prGridPlotTitle'>Adds a title to the plot</h2><span id='topic+prGridPlotTitle'></span>

<h3>Description</h3>

<p>Adds the title and generates a new
main viewport below the title
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prGridPlotTitle(title, gp, space_below)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prGridPlotTitle_+3A_title">title</code></td>
<td>
<p>The title as accepted by <code><a href="grid.html#topic+textGrob">textGrob</a></code></p>
</td></tr>
<tr><td><code id="prGridPlotTitle_+3A_space_below">space_below</code></td>
<td>
<p>The space below, defaults to 1/5 of the title height</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> The function does not return a value
</p>

<hr>
<h2 id='prListRep'>An alternative to rep()</h2><span id='topic+prListRep'></span>

<h3>Description</h3>

<p>The rep() doesn't work with length.out
when lists are supposed to be their own
elements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prListRep(x, length.out)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prListRep_+3A_x">x</code></td>
<td>
<p>The list to be repeated</p>
</td></tr>
<tr><td><code id="prListRep_+3A_length.out">length.out</code></td>
<td>
<p>The length of the resulting list</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code>
</p>

<hr>
<h2 id='prMergeGp'>A function to merge two sets of graphical parameters</h2><span id='topic+prMergeGp'></span>

<h3>Description</h3>

<p>A function to merge two sets of graphical parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prMergeGp(weak = gpar(), strong = gpar())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prMergeGp_+3A_weak">weak</code></td>
<td>
<p>A <code><a href="grid.html#topic+gpar">gpar</a></code></p>
</td></tr>
<tr><td><code id="prMergeGp_+3A_strong">strong</code></td>
<td>
<p>Another <code><a href="grid.html#topic+gpar">gpar</a></code>, with parameters taking precedence
over <code>weak</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="grid.html#topic+gpar">gpar</a></code> merging attributes of both <code>weak</code> and <code>strong</code>
</p>

<hr>
<h2 id='prPopulateList'>Populate a list corresponding to matrix specs</h2><span id='topic+prPopulateList'></span>

<h3>Description</h3>

<p>This function helps the <code><a href="#topic+forestplot">forestplot</a></code>
to deal with different arguments for the
confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prPopulateList(elmnt, no_rows, no_depth, missing_rows, is.summary, summary)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prPopulateList_+3A_elmnt">elmnt</code></td>
<td>
<p>The element item/list/matrix. If a list it
should be in the format [<a href="base.html#topic+row">row</a>][<a href="base.html#topic+col">col</a>], the function
tries to handle this but in cases where the columns
and rows are the same it will not know what is a column
and what is a row.</p>
</td></tr>
<tr><td><code id="prPopulateList_+3A_no_rows">no_rows</code></td>
<td>
<p>Number of rows</p>
</td></tr>
<tr><td><code id="prPopulateList_+3A_no_depth">no_depth</code></td>
<td>
<p>Number of outcomes per row, i.e. depth</p>
</td></tr>
<tr><td><code id="prPopulateList_+3A_missing_rows">missing_rows</code></td>
<td>
<p>The rows that don't have data</p>
</td></tr>
<tr><td><code id="prPopulateList_+3A_is.summary">is.summary</code></td>
<td>
<p>A vector indicating by <code>TRUE</code>/<code>FALSE</code> if
the value is a summary value which means that it will have a different
font-style</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> The function returns a list that has
the format [<a href="base.html#topic+row">row</a>][<a href="base.html#topic+col">col</a>] where each element contains the
corresponding element
</p>

<hr>
<h2 id='prPushMarginViewport'>Pushes viewport with margins</h2><span id='topic+prPushMarginViewport'></span>

<h3>Description</h3>

<p>A <code><a href="grid.html#topic+grid.layout">grid.layout</a></code> object is used to
generate the margins. A second viewport selecting the
mid-row/col is used to create the effect of margins
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prPushMarginViewport(bottom, left, top, right, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prPushMarginViewport_+3A_bottom">bottom</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_left">left</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_top">top</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_right">right</code></td>
<td>
<p>The margin object, either in npc or a <code><a href="grid.html#topic+unit">unit</a></code> object</p>
</td></tr>
<tr><td><code id="prPushMarginViewport_+3A_name">name</code></td>
<td>
<p>The name of the last viewport</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>void</code>
</p>

<hr>
<h2 id='safeLoadPackage'>Safely loads package</h2><span id='topic+safeLoadPackage'></span>

<h3>Description</h3>

<p>Stops if the package doesn't exist
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safeLoadPackage(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="safeLoadPackage_+3A_package">package</code></td>
<td>
<p>string naming the package/name space to load.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package cartography</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cartography}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cartography'><p>Cartography Package</p></a></li>
<li><a href='#barscale'><p>Scale Bar</p></a></li>
<li><a href='#carto.pal'><p>Build Cartographic Palettes</p></a></li>
<li><a href='#choroLayer'><p>Choropleth Layer</p></a></li>
<li><a href='#coasts.spdf'><p>Coastline of Europe</p></a></li>
<li><a href='#countries.spdf'><p>Countries in the European Area</p></a></li>
<li><a href='#discLayer'><p>Discontinuities Layer</p></a></li>
<li><a href='#dotDensityLayer'><p>Dot Density Layer</p></a></li>
<li><a href='#frame.spdf'><p>Frame around Europe</p></a></li>
<li><a href='#getBorders'><p>Extract Polygons Borders</p></a></li>
<li><a href='#getBreaks'><p>Classification</p></a></li>
<li><a href='#getFigDim'><p>Get Figure Dimensions</p></a></li>
<li><a href='#getGridLayer'><p>Build a Regular Grid Layer</p></a></li>
<li><a href='#getLinkLayer'><p>Create a Links Layer from a Data Frame of Links.</p></a></li>
<li><a href='#getPencilLayer'><p>Pencil Layer</p></a></li>
<li><a href='#getPngLayer'><p><code>.png</code> Layer</p></a></li>
<li><a href='#getTiles'><p>Defunct Get Tiles from Open Map Servers</p></a></li>
<li><a href='#ghostLayer'><p>Plot a Ghost Layer</p></a></li>
<li><a href='#gradLinkLayer'><p>Graduated Links Layer</p></a></li>
<li><a href='#gradLinkTypoLayer'><p>Graduated and Colored Links Layer</p></a></li>
<li><a href='#graticule.spdf'><p>Graticule around Europe</p></a></li>
<li><a href='#hatchedLayer'><p>Hatched Layer</p></a></li>
<li><a href='#labelLayer'><p>Label Layer</p></a></li>
<li><a href='#layoutLayer'><p>Layout Layer</p></a></li>
<li><a href='#legendBarsSymbols'><p>Legend for Proportional Bars Maps</p></a></li>
<li><a href='#legendChoro'><p>Legend for Choropleth Maps</p></a></li>
<li><a href='#legendCirclesSymbols'><p>Legend for Proportional Circles Maps</p></a></li>
<li><a href='#legendGradLines'><p>Legend for Graduated Size Lines Maps</p></a></li>
<li><a href='#legendHatched'><p>Legend for Hatched Maps</p></a></li>
<li><a href='#legendPropLines'><p>Legend for Proportional Lines Maps</p></a></li>
<li><a href='#legendPropTriangles'><p>Legend for Double Proportional Triangles Maps</p></a></li>
<li><a href='#legendSquaresSymbols'><p>Legend for Proportional Squares Maps</p></a></li>
<li><a href='#legendTypo'><p>Legend for Typology Maps</p></a></li>
<li><a href='#legendWaffle'><p>Legend for Typology Maps</p></a></li>
<li><a href='#north'><p>North Arrow</p></a></li>
<li><a href='#nuts0.df'><p>Nuts0 Dataset</p></a></li>
<li><a href='#nuts0.spdf'><p>Nuts0 Regions</p></a></li>
<li><a href='#nuts1.df'><p>Nuts1 Dataset</p></a></li>
<li><a href='#nuts1.spdf'><p>Nuts1 Regions</p></a></li>
<li><a href='#nuts2.df'><p>Nuts2 Dataset</p></a></li>
<li><a href='#nuts2.spdf'><p>Nuts2 Regions</p></a></li>
<li><a href='#nuts3.df'><p>Nuts3 Dataset</p></a></li>
<li><a href='#nuts3.spdf'><p>Nuts3 Regions</p></a></li>
<li><a href='#propLinkLayer'><p>Proportional Links Layer</p></a></li>
<li><a href='#propSymbolsChoroLayer'><p>Proportional and Choropleth Symbols Layer</p></a></li>
<li><a href='#propSymbolsLayer'><p>Proportional Symbols Layer</p></a></li>
<li><a href='#propSymbolsTypoLayer'><p>Proportional Symbols Typo Layer</p></a></li>
<li><a href='#propTrianglesLayer'><p>Double Proportional Triangle Layer</p></a></li>
<li><a href='#smoothLayer'><p>Smooth Layer</p></a></li>
<li><a href='#tilesLayer'><p>Plot a Raster Object</p></a></li>
<li><a href='#twincities.df'><p>Twin Cities Dataset</p></a></li>
<li><a href='#typoLayer'><p>Typology Layer</p></a></li>
<li><a href='#waffleLayer'><p>Waffle Layer</p></a></li>
<li><a href='#wordcloudLayer'><p>Wordcloud Layer</p></a></li>
<li><a href='#world.spdf'><p>World Background</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Thematic Cartography</td>
</tr>
<tr>
<td>Version:</td>
<td>3.1.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Create and integrate maps in your R workflow. This package helps 
    to design cartographic representations such as proportional symbols, 
    choropleth, typology, flows or discontinuities maps. It also offers several 
    features that improve the graphic presentation of maps, for instance, map 
    palettes, layout elements (scale, north arrow, title...), labels or legends. 
    See Giraud and Lambert (2017) &lt;<a href="https://doi.org/10.1007%2F978-3-319-57336-6_13">doi:10.1007/978-3-319-57336-6_13</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/riatelab/cartography/">https://github.com/riatelab/cartography/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/riatelab/cartography/issues/">https://github.com/riatelab/cartography/issues/</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>classInt, curl, graphics, methods, png, raster, Rcpp, sf, sp,
stats, utils, grDevices</td>
</tr>
<tr>
<td>Suggests:</td>
<td>lwgeom, SpatialPosition, knitr, rmarkdown, tinytest, covr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-14 09:18:06 UTC; tim</td>
</tr>
<tr>
<td>Author:</td>
<td>Timothée Giraud <a href="https://orcid.org/0000-0002-1932-3323"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Nicolas Lambert [aut],
  Diego Hernangómez <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Ian Fellows [cph] (no overlap algorithm for labels, from wordcloud
    package)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Timothée Giraud &lt;timothee.giraud@cnrs.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-14 10:40:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='cartography'>Cartography Package</h2><span id='topic+cartography'></span><span id='topic+cartography-package'></span>

<h3>Description</h3>

<p>This package helps to design cartographic representations such as 
proportional symbols, choropleth, typology, flows or discontinuities maps. 
It also offers several features that improve the graphic presentation of 
maps, for instance, map palettes, layout elements (scale, north arrow, 
title...), labels or legends.
</p>
<p>A <b>vignette</b> contains commented scripts on how to create various maps:<br />
<code>vignette(topic = "cartography", package = "cartography")</code> <br />
A <b>cheat sheet</b> displays a quick overview of <code>cartography</code>'s 
main features:<br /><code>vignette(topic = "cheatsheet" , package = "cartography")</code>
</p>


<h3>Consider <code>mapsf</code></h3>

<p>There are no plans for new features or enhancements in <code>cartography</code>.
Basic maintenance and support will continue indefinitely. 
Existing projects that use <code>cartography</code> can safely continue to use <code>cartography</code>. 
The <code>mapsf</code> R package is the successor of <code>cartography</code> and it is friendlier, 
lighter and more robust. 
See mapsf vignette (<a href="https://riatelab.github.io/mapsf/articles/mapsf.html">https://riatelab.github.io/mapsf/articles/mapsf.html</a>) 
to migrate from <code>cartography</code> to <code>mapsf</code>.
</p>


<h3>Symbology</h3>

<p>These functions build cartographic layers.
</p>

<ul>
<li><p>Proportional symbols layer (<a href="#topic+propSymbolsLayer">propSymbolsLayer</a>, <a href="#topic+propSymbolsChoroLayer">propSymbolsChoroLayer</a>, <a href="#topic+propSymbolsTypoLayer">propSymbolsTypoLayer</a>, <a href="#topic+propTrianglesLayer">propTrianglesLayer</a>)
</p>
</li>
<li><p>Choropleth layer (<a href="#topic+choroLayer">choroLayer</a>)
</p>
</li>
<li><p>Typology layer (<a href="#topic+typoLayer">typoLayer</a>)
</p>
</li>
<li><p>Flows layer (<a href="#topic+propLinkLayer">propLinkLayer</a>, <a href="#topic+gradLinkLayer">gradLinkLayer</a>, <a href="#topic+gradLinkTypoLayer">gradLinkTypoLayer</a>)
</p>
</li>
<li><p>Discontinuities layer (<a href="#topic+discLayer">discLayer</a>)
</p>
</li>
<li><p>Access to cartographic OpenStreetMap APIs (<a href="#topic+tilesLayer">tilesLayer</a>)
</p>
</li>
<li><p>Dot density layer (<a href="#topic+tilesLayer">tilesLayer</a>)
</p>
</li>
<li><p>Labels layer (<a href="#topic+labelLayer">labelLayer</a>)
</p>
</li>
<li><p>Smooth layer (<a href="#topic+smoothLayer">smoothLayer</a>)
</p>
</li>
<li><p>png layer (<a href="#topic+pngLayer">pngLayer</a>)
</p>
</li>
<li><p>Hatched/pattern layer (<a href="#topic+hatchedLayer">hatchedLayer</a>)
</p>
</li>
<li><p>Tag (or word) cloud layer (<a href="#topic+wordcloudLayer">wordcloudLayer</a>)
</p>
</li></ul>



<h3>Transformations</h3>

<p>These functions transform or create spatial objects.
</p>

<ul>
<li><p>Extract polygons borders (<a href="#topic+getBorders">getBorders</a>, <a href="#topic+getOuterBorders">getOuterBorders</a>)
</p>
</li>
<li><p>Build a regular grid layer (<a href="#topic+getGridLayer">getGridLayer</a>)
</p>
</li>
<li><p>Create a links layer from a data.frame of links (<a href="#topic+getLinkLayer">getLinkLayer</a>)
</p>
</li>
<li><p>Create a png layer (<a href="#topic+getPngLayer">getPngLayer</a>)
</p>
</li>
<li><p>Create a pencil layer (<a href="#topic+getPencilLayer">getPencilLayer</a>)
</p>
</li>
<li><p>Get tiles from OpenStreetMap servers (<a href="#topic+getTiles">getTiles</a>)
</p>
</li></ul>



<h3>Map Layout</h3>

<p>These functions are dedicated to the map layout design.
</p>

<ul>
<li><p>Scale bar (<a href="#topic+barscale">barscale</a>)
</p>
</li>
<li><p>Get figure dimensions (<a href="#topic+getFigDim">getFigDim</a>)
</p>
</li>
<li><p>Layout layer (<a href="#topic+layoutLayer">layoutLayer</a>)
</p>
</li>
<li><p>North arrow (<a href="#topic+north">north</a>)
</p>
</li></ul>



<h3>Color Palettes</h3>

<p>Use these function to build custom color palettes.
</p>

<ul>
<li><p>Build cartographic palettes (<a href="#topic+carto.pal">carto.pal</a>)
</p>
</li></ul>



<h3>Legends</h3>

<p>These functions create legends.
</p>

<ul>
<li><p>Legends (<a href="#topic+legendBarsSymbols">legendBarsSymbols</a>, <a href="#topic+legendChoro">legendChoro</a>, <a href="#topic+legendCirclesSymbols">legendCirclesSymbols</a>, <a href="#topic+legendGradLines">legendGradLines</a>, <a href="#topic+legendPropLines">legendPropLines</a>, <a href="#topic+legendPropTriangles">legendPropTriangles</a>, <a href="#topic+legendSquaresSymbols">legendSquaresSymbols</a>, <a href="#topic+legendTypo">legendTypo</a>, <a href="#topic+legendHatched">legendHatched</a>)
</p>
</li></ul>



<h3>Classification</h3>

<p>This function uses classification methods for binning data.
</p>

<ul>
<li><p>Classification (<a href="#topic+getBreaks">getBreaks</a>)
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Timothée Giraud <a href="mailto:timothee.giraud@cnrs.fr">timothee.giraud@cnrs.fr</a> (<a href="https://orcid.org/0000-0002-1932-3323">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Nicolas Lambert <a href="mailto:nicolas.lambert@cnrs.fr">nicolas.lambert@cnrs.fr</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Diego Hernangómez (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>) [contributor]
</p>
</li>
<li><p> Ian Fellows (no overlap algorithm for labels, from wordcloud package) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/riatelab/cartography/">https://github.com/riatelab/cartography/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/riatelab/cartography/issues/">https://github.com/riatelab/cartography/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='barscale'>Scale Bar</h2><span id='topic+barscale'></span>

<h3>Description</h3>

<p>Plot a scale bar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>barscale(
  size,
  lwd = 1.5,
  cex = 0.6,
  pos = "bottomright",
  style = "pretty",
  unit = "km"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="barscale_+3A_size">size</code></td>
<td>
<p>size of the scale bar in units (default to km). If size is not 
set, an automatic size is used (1/10 of the map width).</p>
</td></tr>
<tr><td><code id="barscale_+3A_lwd">lwd</code></td>
<td>
<p>width of the scale bar.</p>
</td></tr>
<tr><td><code id="barscale_+3A_cex">cex</code></td>
<td>
<p>cex of the text.</p>
</td></tr>
<tr><td><code id="barscale_+3A_pos">pos</code></td>
<td>
<p>position of the legend, default to &quot;bottomright&quot;. 
&quot;bottomright&quot; or a vector of two coordinates (c(x, y)) are possible.</p>
</td></tr>
<tr><td><code id="barscale_+3A_style">style</code></td>
<td>
<p>style of the legend, either &quot;pretty&quot; or &quot;oldschool&quot;. The 
&quot;oldschool&quot; style only uses the &quot;size&quot; parameter.</p>
</td></tr>
<tr><td><code id="barscale_+3A_unit">unit</code></td>
<td>
<p>units used for the scale bar. Can be &quot;mi&quot; for miles, 
&quot;m&quot; for meters, or &quot;km&quot; for kilometers (default)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This scale bar is not accurate on unprojected (long/lat) maps.
</p>


<h3>See Also</h3>

<p><a href="#topic+layoutLayer">layoutLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq), col = "grey60", border = "grey20")
barscale(size = 5)
barscale(size = 5, lwd = 2, cex = .9, pos = c(714000, 1596000))
</code></pre>

<hr>
<h2 id='carto.pal'>Build Cartographic Palettes</h2><span id='topic+carto.pal'></span><span id='topic+carto.pal.info'></span><span id='topic+display.carto.pal'></span><span id='topic+display.carto.all'></span>

<h3>Description</h3>

<p><code>carto.pal</code> builds sequential, diverging and qualitative color palettes. 
Diverging color palettes can be dissymmetric (different number of colors in 
each of the two gradients).
</p>
<p><code>carto.pal.info</code> displays the names of all color palettes.
</p>
<p><code>display.carto.pal</code> displays one color palette.
</p>
<p><code>display.carto.all</code> displays all the available color palettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>carto.pal(
  pal1,
  n1,
  pal2 = NULL,
  n2 = NULL,
  middle = FALSE,
  transparency = FALSE
)

carto.pal.info()

display.carto.pal(name)

display.carto.all(n = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="carto.pal_+3A_pal1">pal1</code></td>
<td>
<p>name of the color gradient (see Details).</p>
</td></tr>
<tr><td><code id="carto.pal_+3A_n1">n1</code></td>
<td>
<p>number of colors (up to 20).</p>
</td></tr>
<tr><td><code id="carto.pal_+3A_pal2">pal2</code></td>
<td>
<p>name of the color gradient (see Details).</p>
</td></tr>
<tr><td><code id="carto.pal_+3A_n2">n2</code></td>
<td>
<p>number of colors (up to 20).</p>
</td></tr>
<tr><td><code id="carto.pal_+3A_middle">middle</code></td>
<td>
<p>a logical value. If TRUE, a neutral color (&quot;#F6F6F6&quot;, light 
grey) between two gradients is added.</p>
</td></tr>
<tr><td><code id="carto.pal_+3A_transparency">transparency</code></td>
<td>
<p>a logical value. If TRUE, contrasts are enhanced by 
adding an opacity variation.</p>
</td></tr>
<tr><td><code id="carto.pal_+3A_name">name</code></td>
<td>
<p>name of the palette available in the package (see Details).</p>
</td></tr>
<tr><td><code id="carto.pal_+3A_n">n</code></td>
<td>
<p>number of colors in the gradient (up to 20).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sequential palettes: &quot;blue.pal&quot;, &quot;orange.pal&quot;, &quot;red.pal&quot;, 
&quot;brown.pal&quot;, &quot;green.pal&quot;, &quot;purple.pal&quot;, &quot;pink.pal&quot;, &quot;wine.pal&quot;, &quot;grey.pal&quot;, 
&quot;turquoise.pal&quot;, &quot;sand.pal&quot;, &quot;taupe.pal&quot;, &quot;kaki.pal&quot; or &quot;harmo.pal&quot;. <br /><br />
Qualitative palettes: &quot;pastel.pal&quot; or &quot;multi.pal&quot;.
</p>


<h3>Value</h3>

<p><code>carto.pal</code> returns a vector of colors.
</p>
<p><code>carto.pal.info</code> returns a vector of color palettes names.
</p>


<h3>References</h3>

<p>Qualitative palettes were generated with &quot;i want hue&quot; 
(<a href="https://medialab.github.io/iwanthue/">https://medialab.github.io/iwanthue/</a>) by Mathieu Jacomy at 
the Sciences-Po Medialab.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple gradient: blue
carto.pal(pal1 = "blue.pal" ,n1 = 20)

# Double gradient: blue &amp; red
carto.pal(pal1 = "blue.pal", n1 = 10, pal2 = "red.pal", n2 = 10)

# Adding a neutral color
carto.pal(pal1 = "blue.pal", n1 = 10, pal2 = "red.pal", n2 = 10, middle = TRUE)

# Enhancing contrasts with transparency
carto.pal(pal1="blue.pal", n1 = 10, pal2 = "red.pal", n2 = 10, middle = TRUE,
          transparency = TRUE)

# The double gradient can be asymetric
carto.pal(pal1 = "blue.pal", n1 = 5, pal2 = "red.pal", n2 = 15, middle = TRUE,
          transparency = TRUE)

# Build and display a palette
mypal &lt;- carto.pal(pal1 = "blue.pal", n1 = 5, pal2 = "red.pal", n2 = 15,
                   middle = TRUE, transparency = TRUE)
k &lt;- length(mypal)
image(1:k, 1, as.matrix(1:k), col =mypal, xlab = paste(k," classes",sep=""),
      ylab = "", xaxt = "n", yaxt = "n",bty = "n")
carto.pal.info()
display.carto.pal("orange.pal")
display.carto.all(8)
</code></pre>

<hr>
<h2 id='choroLayer'>Choropleth Layer</h2><span id='topic+choroLayer'></span>

<h3>Description</h3>

<p>Plot a choropleth layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>choroLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var,
  breaks = NULL,
  method = "quantile",
  nclass = NULL,
  col = NULL,
  border = "grey20",
  lwd = 1,
  colNA = "white",
  legend.pos = "bottomleft",
  legend.title.txt = var,
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.rnd = 0,
  legend.nodata = "no data",
  legend.frame = FALSE,
  legend.border = "black",
  legend.horiz = FALSE,
  add = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choroLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. If x is used then spdf, df, spdfid and dfid are not.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_spdf">spdf</code></td>
<td>
<p>a SpatialPolygonsDataFrame.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first column 
of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first column 
of df. (optional)</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric variable to plot.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_breaks">breaks</code></td>
<td>
<p>break values in sorted order to indicate the intervals for assigning the colors. 
Note that if there are nlevel colors (classes) there should be (nlevel+1) break values (see Details).</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_method">method</code></td>
<td>
<p>a classification method; one of &quot;sd&quot;, &quot;equal&quot;, &quot;quantile&quot;, &quot;fisher-jenks&quot;,&quot;q6&quot;, &quot;geom&quot;, &quot;arith&quot;, 
&quot;em&quot; or &quot;msd&quot; (see <a href="#topic+getBreaks">getBreaks</a>).</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_nclass">nclass</code></td>
<td>
<p>a targeted number of classes. If null, the number of class is automatically defined (see Details).</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_col">col</code></td>
<td>
<p>a vector of colors. Note that if breaks is specified there must be one less 
colors specified than the number of break.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_border">border</code></td>
<td>
<p>color of the polygons borders.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_lwd">lwd</code></td>
<td>
<p>borders width.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_colna">colNA</code></td>
<td>
<p>no data color.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.nodata">legend.nodata</code></td>
<td>
<p>no data label.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.border">legend.border</code></td>
<td>
<p>color of boxes borders in the legend.</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_legend.horiz">legend.horiz</code></td>
<td>
<p>whether to display the legend horizontally (TRUE) or
not (FALSE).</p>
</td></tr>
<tr><td><code id="choroLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The optimum number of class depends on the number of geographical objects. 
If nclass is not defined, an automatic method inspired by Sturges (1926) 
is used : nclass = 1+3.3*log10(N), where nclass is the number 
of class and N is the variable length.<br />
</p>
<p>If breaks is used then nclass and method are not. <br />
</p>
<p>If breaks is defined as <code>c(2, 5, 10, 15, 20)</code> intervals will be: [2 - 5[, [5 - 10[, [10 - 15[, [15 - 20].
</p>


<h3>References</h3>

<p>Herbert A. Sturges, «
<em>The Choice of a Class Interval </em>», Journal of the American Statistical 
Association, vol. 21, n° 153, mars 1926, p. 65-66.
</p>


<h3>See Also</h3>

<p><a href="#topic+getBreaks">getBreaks</a>, <a href="#topic+carto.pal">carto.pal</a>,  <a href="#topic+legendChoro">legendChoro</a>, <a href="#topic+propSymbolsChoroLayer">propSymbolsChoroLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# Population density
mtq$POPDENS &lt;- 1e6 * mtq$POP / st_area(x = mtq)

# Default
choroLayer(x = mtq, var = "POPDENS")

# With parameters 
choroLayer(x = mtq, var = "POPDENS",
           method = "quantile", nclass = 5,
           col = carto.pal(pal1 = "sand.pal", n1 = 5),
           border = "grey40",
           legend.pos = "topright", legend.values.rnd = 0,
           legend.title.txt = "Population Density\n(people per km2)")

# Layout
layoutLayer(title = "Population Distribution in Martinique, 2015")
</code></pre>

<hr>
<h2 id='coasts.spdf'>Coastline of Europe</h2><span id='topic+coasts.spdf'></span>

<h3>Description</h3>

<p>Coastline of Europe.
</p>


<h3>Format</h3>

<p>SpatialLinesDataFrame.
</p>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='countries.spdf'>Countries in the European Area</h2><span id='topic+countries.spdf'></span>

<h3>Description</h3>

<p>Countries in the European area.
</p>


<h3>Format</h3>

<p>SpatialPolygonsDataFrame.
</p>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='discLayer'>Discontinuities Layer</h2><span id='topic+discLayer'></span>

<h3>Description</h3>

<p>This function computes and plots spatial discontinuities. The 
discontinuities are plotted over the layer outputted by the <a href="#topic+getBorders">getBorders</a> function.
The line widths reflect the ratio or the difference between values of an indicator 
in two neighbouring units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>discLayer(
  x,
  df,
  dfid = NULL,
  var,
  method = "quantile",
  nclass = 4,
  threshold = 0.75,
  type = "rel",
  sizemin = 1,
  sizemax = 10,
  col = "red",
  legend.pos = "bottomleft",
  legend.title.txt = "legend title",
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.rnd = 2,
  legend.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="discLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection, as outputted by the <a href="#topic+getBorders">getBorders</a> function.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values used to compute and plot discontinuities.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first column 
of df. (optional)</p>
</td></tr>
<tr><td><code id="discLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric variable used to compute and plot discontinuities.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_method">method</code></td>
<td>
<p>a classification method; one of &quot;sd&quot;, &quot;equal&quot;, &quot;quantile&quot;, &quot;fisher-jenks&quot;,&quot;
q6&quot;, &quot;geom&quot;, &quot;arith&quot;, &quot;em&quot; or &quot;msd&quot; (see <a href="#topic+getBreaks">getBreaks</a>).</p>
</td></tr>
<tr><td><code id="discLayer_+3A_nclass">nclass</code></td>
<td>
<p>a targeted number of classes. If null, the number of 
class is automatically defined (see <a href="#topic+getBreaks">getBreaks</a>).</p>
</td></tr>
<tr><td><code id="discLayer_+3A_threshold">threshold</code></td>
<td>
<p>share of represented borders, value between 0 
(nothing) and 1 (all the discontinuities).</p>
</td></tr>
<tr><td><code id="discLayer_+3A_type">type</code></td>
<td>
<p>type of discontinuity measure, one of &quot;rel&quot; or &quot;abs&quot; (see Details).</p>
</td></tr>
<tr><td><code id="discLayer_+3A_sizemin">sizemin</code></td>
<td>
<p>thickness of the smallest line.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_sizemax">sizemax</code></td>
<td>
<p>thickness of the biggest line.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_col">col</code></td>
<td>
<p>color of the discontinuities lines.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="discLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="discLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The &quot;rel&quot; type of discontinuity is the result of pmax(value unit 1 / value unit 2, value unit 2 / value unit 1).<br />
The &quot;abs&quot; type of discontinuity is the result of pmax(value unit 1 - value unit 2, value unit 2 - value unit 1).
</p>


<h3>Value</h3>

<p>An <a href="base.html#topic+invisible">invisible</a> sf object (MULTISTRING) with the discontinuity measures is returned.
</p>


<h3>See Also</h3>

<p><a href="#topic+getBorders">getBorders</a>, <a href="#topic+gradLinkLayer">gradLinkLayer</a>, <a href="#topic+legendGradLines">legendGradLines</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# Get borders
mtq.borders &lt;- getBorders(x = mtq)
# Median Income 
choroLayer(x = mtq, var = "MED", border = "grey", lwd = 0.5, 
           method = 'equal', nclass = 6, legend.pos = "topleft",
           legend.title.txt = "Median Income\n(in euros)" )
# Discontinuities
discLayer(x = mtq.borders, df = mtq,
          var = "MED", col="red4", nclass=3,
          method="equal", threshold = 0.4, sizemin = 0.5,
          sizemax = 10, type = "abs",legend.values.rnd = 0,
          legend.title.txt = "Discontinuities\n(absolute difference)",
          legend.pos = "bottomleft", add=TRUE)
</code></pre>

<hr>
<h2 id='dotDensityLayer'>Dot Density Layer</h2><span id='topic+dotDensityLayer'></span>

<h3>Description</h3>

<p>Plot a dot density layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dotDensityLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var,
  n = NULL,
  pch = 1,
  cex = 0.15,
  type = "random",
  col = "black",
  legend.pos = "topright",
  legend.txt = NULL,
  legend.cex = 0.6,
  legend.col = "black",
  legend.frame = TRUE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dotDensityLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. If x is used then spdf,
df, spdfid and dfid are not.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_spdf">spdf</code></td>
<td>
<p>a SpatialPolygonsDataFrame.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first 
column of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first 
column of df. (optional)</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric variable to plot.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_n">n</code></td>
<td>
<p>one dot on the map represents n (in var units).</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_pch">pch</code></td>
<td>
<p>symbol to use: <a href="graphics.html#topic+points">points</a>.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_cex">cex</code></td>
<td>
<p>size of the symbols</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_type">type</code></td>
<td>
<p>points allocation method: &quot;random&quot; or &quot;regular&quot; (see Details).</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_col">col</code></td>
<td>
<p>color of the points.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>&quot;topright&quot;, &quot;left&quot;, &quot;right&quot;, &quot;bottomleft&quot;, &quot;bottom&quot;, &quot;bottomright&quot;. If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_legend.txt">legend.txt</code></td>
<td>
<p>text in the legend.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_legend.cex">legend.cex</code></td>
<td>
<p>size of the legend text.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_legend.col">legend.col</code></td>
<td>
<p>color of the text in the legend.</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="dotDensityLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The type parameters is defined within the <a href="sf.html#topic+st_sample">st_sample</a> function.
</p>


<h3>See Also</h3>

<p><a href="#topic+propSymbolsLayer">propSymbolsLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq), col = "#B8704D50")
dotDensityLayer(x = mtq,  var="POP", pch=20, col = "red4", n = 200)
layoutLayer(title = "Population Distribution in Martinique, 2015")

## End(Not run)
</code></pre>

<hr>
<h2 id='frame.spdf'>Frame around Europe</h2><span id='topic+frame.spdf'></span>

<h3>Description</h3>

<p>Frame around European countries.
</p>


<h3>Format</h3>

<p>SpatialPolygonsDataFrame.
</p>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='getBorders'>Extract Polygons Borders</h2><span id='topic+getBorders'></span><span id='topic+getOuterBorders'></span>

<h3>Description</h3>

<p>Extract borders between polygons.
</p>
<p>Outer borders are non-contiguous polygons borders (e.g.
maritime borders).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBorders(x, id)

getOuterBorders(x, id, res = NULL, width = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getBorders_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection or a SpatialPolygonsDataFrame.</p>
</td></tr>
<tr><td><code id="getBorders_+3A_id">id</code></td>
<td>
<p>name of the identifier variable in x, default to the first column. (optional)</p>
</td></tr>
<tr><td><code id="getBorders_+3A_res">res</code></td>
<td>
<p>resolution of the grid used to compute outer borders (in x units).
A high resolution will give more detailed borders. (optional)</p>
</td></tr>
<tr><td><code id="getBorders_+3A_width">width</code></td>
<td>
<p>maximum distance between used to compute outer borders (in x units).
A higher width will build borders between units that are farther apart. (optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An sf object (MULTILINESTRING) of borders is returned. This object has three 
id variables: id, id1 and id2.
id1 and id2 are ids of units that neighbour a border; id is the concatenation 
of id1 and id2 (with &quot;_&quot; as separator).
</p>


<h3>Note</h3>

<p>getBorders and getOuterBorders can be combined with rbind.
</p>


<h3>See Also</h3>

<p><a href="#topic+discLayer">discLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
## Not run: 
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# extract
m &lt;- mtq[c(5, 29, 9), ]
# Get borders
m_borders &lt;- getBorders(x = m)
# Plot polygons
plot(st_geometry(m), border = NA, col = "grey60")
# Plot borders
plot(st_geometry(m_borders),
     col = sample(x = rainbow(nrow(m_borders))),
     lwd = 2 * c(4, 3, 2, 1), add = TRUE)

## End(Not run)
library(sf)
## Not run: 
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# extract
m &lt;- mtq[c(29, 9), ]
# Get borders
m_borders &lt;- getOuterBorders(x = m)
# Plot polygons
plot(st_geometry(m))
# Plot borders
plot(st_geometry(m_borders),
     col = sample(x = rainbow(nrow(m_borders))),
     lwd = c(4, 1), add = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='getBreaks'>Classification</h2><span id='topic+getBreaks'></span>

<h3>Description</h3>

<p>A function to classify continuous variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBreaks(v, nclass = NULL, method = "quantile", k = 1, middle = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getBreaks_+3A_v">v</code></td>
<td>
<p>a vector of numeric values.</p>
</td></tr>
<tr><td><code id="getBreaks_+3A_nclass">nclass</code></td>
<td>
<p>a number of classes</p>
</td></tr>
<tr><td><code id="getBreaks_+3A_method">method</code></td>
<td>
<p>a classification method; one of &quot;fixed&quot;, &quot;sd&quot;, &quot;equal&quot;, &quot;pretty&quot;, &quot;quantile&quot;,
&quot;kmeans&quot;, &quot;hclust&quot;, &quot;bclust&quot;, &quot;fisher&quot;, &quot;jenks&quot;, &quot;dpih&quot;, &quot;q6&quot;, &quot;geom&quot;, &quot;arith&quot;, &quot;em&quot; or &quot;msd&quot; (see Details).</p>
</td></tr>
<tr><td><code id="getBreaks_+3A_k">k</code></td>
<td>
<p>number of standard deviation for &quot;msd&quot; method (see Details)..</p>
</td></tr>
<tr><td><code id="getBreaks_+3A_middle">middle</code></td>
<td>
<p>creation of a central class for &quot;msd&quot; method (see Details).</p>
</td></tr>
<tr><td><code id="getBreaks_+3A_...">...</code></td>
<td>
<p>further arguments of <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&quot;fixed&quot;, &quot;sd&quot;, &quot;equal&quot;, &quot;pretty&quot;, &quot;quantile&quot;, &quot;kmeans&quot;, &quot;hclust&quot;,
&quot;bclust&quot;, &quot;fisher&quot;, &quot;jenks&quot; and &quot;dpih&quot; are <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code>
methods. You may need to pass additional arguments for some of them.<br /><br />
Jenks (&quot;jenks&quot; method) and Fisher-Jenks (&quot;fisher&quot; method) algorithms are based on the same principle and give 
quite similar results but Fisher-Jenks is much faster. <br /><br />
The &quot;q6&quot; method uses the following <code><a href="stats.html#topic+quantile">quantile</a></code> probabilities: 0, 0.05, 0.275, 0.5, 0.725, 0.95, 1.<br /><br />   
The &quot;geom&quot; method is based on a geometric progression along the variable values.<br /><br />
The &quot;arith&quot; method is based on an arithmetic progression along the variable values.<br /><br />
The &quot;em&quot; method is based on nested averages computation.<br /><br /> 
The &quot;msd&quot; method is based on the mean and the standard deviation of a numeric vector. 
The <code>nclass</code> parameter is not relevant, use <code>k</code> and <code>middle</code> instead. <code>k</code> indicates 
the extent of each class in share of standard deviation. If <code>middle=TRUE</code> then 
the mean value is the center of a class else the mean is a break value.
</p>


<h3>Value</h3>

<p>A numeric vector of breaks
</p>


<h3>Note</h3>

<p>This function is mainly a wrapper of <code><a href="classInt.html#topic+classIntervals">classIntervals</a></code> + 
&quot;arith&quot;, &quot;em&quot;, &quot;q6&quot;, &quot;geom&quot; and &quot;msd&quot; methods.
</p>


<h3>See Also</h3>

<p><a href="classInt.html#topic+classIntervals">classIntervals</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
var &lt;- mtq$MED
# Histogram
hist(var, probability = TRUE, breaks = 20)
rug(var)
moy &lt;- mean(var)
med &lt;- median(var)
abline(v = moy, col = "red", lwd = 3)
abline(v = med, col = "blue", lwd = 3)

# Quantile intervals
breaks &lt;- getBreaks(v = var, nclass = 6, method = "quantile")
hist(var, probability = TRUE, breaks = breaks, col = "#F0D9F9")
rug(var)
med &lt;- median(var)
abline(v = med, col = "blue", lwd = 3)

# Pretty breaks
breaks &lt;- getBreaks(v = var, nclass = 4, method = "pretty")
hist(var, probability = TRUE, breaks = breaks, col = "#F0D9F9", axes = FALSE)
rug(var)
axis(1, at = breaks)
axis(2)
abline(v = med, col = "blue", lwd = 6)

# kmeans method
breaks &lt;- getBreaks(v = var, nclass = 4, method = "kmeans")
hist(var, probability = TRUE, breaks = breaks, col = "#F0D9F9")
rug(var)
abline(v = med, col = "blue", lwd = 6)

# Geometric intervals
breaks &lt;- getBreaks(v = var, nclass = 8, method = "geom")
hist(var, probability = TRUE, breaks = breaks, col = "#F0D9F9")
rug(var)

# Mean and standard deviation (msd)
breaks &lt;- getBreaks(v = var, method = "msd", k = 1, middle = TRUE)
hist(var, probability = TRUE, breaks = breaks, col = "#F0D9F9")
rug(var)
moy &lt;- mean(var)
sd &lt;- sd(var)
abline(v = moy, col = "red", lwd = 3)
abline(v = moy + 0.5 * sd, col = "blue", lwd = 3)
abline(v = moy - 0.5 * sd, col = "blue", lwd = 3)
</code></pre>

<hr>
<h2 id='getFigDim'>Get Figure Dimensions</h2><span id='topic+getFigDim'></span>

<h3>Description</h3>

<p>Give the dimension of a map figure to be exported in 
raster or vector format. <br />
Output dimension are based on a spatial object dimension ratio, margins of 
the figure, a targeted width or height and a resolution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFigDim(x, width = NULL, height = NULL, mar = par("mar"), res = 72)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFigDim_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection or a Spatial*DataFrame.</p>
</td></tr>
<tr><td><code id="getFigDim_+3A_width">width</code></td>
<td>
<p>width of the figure (in pixels), either width or height 
must be set.</p>
</td></tr>
<tr><td><code id="getFigDim_+3A_height">height</code></td>
<td>
<p>height of the figure (in pixels), either width or height 
must be set.</p>
</td></tr>
<tr><td><code id="getFigDim_+3A_mar">mar</code></td>
<td>
<p>a numerical vector of the form c(bottom, left, top, right) 
which gives the number of lines of margin to be specified on the four 
sides of the plot (see <a href="graphics.html#topic+par">par</a>).</p>
</td></tr>
<tr><td><code id="getFigDim_+3A_res">res</code></td>
<td>
<p>the nominal resolution in ppi which will be recorded in the 
bitmap file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function can be used to export vector or raster files (see examples).
</p>


<h3>Value</h3>

<p>A vector of width and height in pixels is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))

## PNG export
# get figure dimension
sizes &lt;- getFigDim(x = mtq, width = 450, mar = c(0,0,1.2,0))
# export the map
png(filename = "mtq.png", width = sizes[1], height = sizes[2])
par(mar = c(0,0,1.2,0))
plot(st_geometry(mtq), col = "#D1914D", border = "white", bg = "#A6CAE0")
title("Madinina")
dev.off()

## PDF export
# get figure dimension
sizes &lt;- getFigDim(x = mtq, width = 450, mar = c(1,1,2.2,1))
# export the map
pdf(file = "mtq.pdf", width = sizes[1]/72, height = sizes[2]/72)
par(mar = c(1,1,2.2,1))
plot(st_geometry(mtq), col = "#D1914D", border = "white", bg = "#A6CAE0")
title("Madinina")
dev.off()

## End(Not run)
</code></pre>

<hr>
<h2 id='getGridLayer'>Build a Regular Grid Layer</h2><span id='topic+getGridLayer'></span>

<h3>Description</h3>

<p>Build a regular grid based on an sf object or a SpatialPolygonsDataFrame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getGridLayer(x, cellsize, type = "regular", var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getGridLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection or a SpatialPolygonsDataFrame.</p>
</td></tr>
<tr><td><code id="getGridLayer_+3A_cellsize">cellsize</code></td>
<td>
<p>targeted area of the cell, in map units.</p>
</td></tr>
<tr><td><code id="getGridLayer_+3A_type">type</code></td>
<td>
<p>shape of the cell, &quot;regular&quot; for squares, &quot;hexagonal&quot; for hexagons.</p>
</td></tr>
<tr><td><code id="getGridLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric variable(s) in x to adapt to the grid (a vector).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid is returned as an sf object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# Plot dentsity of population
mtq$POPDENS &lt;- 1e6 * mtq$POP / st_area(mtq) 
bks &lt;- getBreaks(v = mtq$POPDENS, method = "geom", 5)
cols &lt;- carto.pal(pal1 = "taupe.pal", n1 = 5)
opar &lt;- par(mfrow = c(1,2), mar = c(0,0,0,0))
choroLayer(x = mtq, var = "POPDENS", breaks = bks,
           border = "burlywood3", col = cols,
           legend.pos = "topright", legend.values.rnd = 0,
           legend.title.txt = "Population density")

mygrid &lt;- getGridLayer(x = mtq, cellsize = 3e7,
                       type = "hexagonal", var = "POP")
## conversion from square meter to square kilometers
mygrid$POPDENSG &lt;- 1e6 * mygrid$POP / mygrid$gridarea 
choroLayer(x = mygrid, var = "POPDENSG", breaks = bks,
           border = "burlywood3", col = cols,
           legend.pos = "n", legend.values.rnd = 1,
           legend.title.txt = "Population density")
par(opar)
</code></pre>

<hr>
<h2 id='getLinkLayer'>Create a Links Layer from a Data Frame of Links.</h2><span id='topic+getLinkLayer'></span>

<h3>Description</h3>

<p>Create a links layer from a data frame of links.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLinkLayer(x, xid = NULL, df, dfid = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getLinkLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection (or a Spatial*DataFrame).</p>
</td></tr>
<tr><td><code id="getLinkLayer_+3A_xid">xid</code></td>
<td>
<p>name of the identifier variable in x, default to the first column (optional)</p>
</td></tr>
<tr><td><code id="getLinkLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains identifiers of starting and ending points.</p>
</td></tr>
<tr><td><code id="getLinkLayer_+3A_dfid">dfid</code></td>
<td>
<p>names of the identifier variables in df, character vector of length 2, default to 
the two first columns. (optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An sf LINESTRING is returned, it contains two variables (origins and destinations).
</p>


<h3>See Also</h3>

<p><a href="#topic+gradLinkLayer">gradLinkLayer</a>, <a href="#topic+propLinkLayer">propLinkLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
mob &lt;- read.csv(system.file("csv/mob.csv", package="cartography"))
# Select links from Fort-de-France (97209))
mob_97209 &lt;- mob[mob$i == 97209, ]
# Create a link layer
mob.sf &lt;- getLinkLayer(x = mtq, df = mob_97209, dfid = c("i", "j"))
# Plot the links1
plot(st_geometry(mtq), col = "grey")
plot(st_geometry(mob.sf), col = "red4", lwd = 2, add = TRUE)
</code></pre>

<hr>
<h2 id='getPencilLayer'>Pencil Layer</h2><span id='topic+getPencilLayer'></span>

<h3>Description</h3>

<p>Create a pencil layer. This function transforms a POLYGON or 
MULTIPOLYGON sf object into a MULTILINESTRING one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPencilLayer(x, size = 100, buffer = 1000, lefthanded = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPencilLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection (POLYGON or MULTIPOLYGON).</p>
</td></tr>
<tr><td><code id="getPencilLayer_+3A_size">size</code></td>
<td>
<p>density of the penciling. Median number of points used to build 
the MULTILINESTRING.</p>
</td></tr>
<tr><td><code id="getPencilLayer_+3A_buffer">buffer</code></td>
<td>
<p>buffer around each polygon. This buffer (in map units) is used 
to take sample points. A negative value adds a margin between the penciling 
and the original polygons borders</p>
</td></tr>
<tr><td><code id="getPencilLayer_+3A_lefthanded">lefthanded</code></td>
<td>
<p>if TRUE the penciling is done left-handed style.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A MULTILINESTRING sf object is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
mtq_pencil &lt;- getPencilLayer(x = mtq)
plot(st_geometry(mtq_pencil), col = 1:8)
plot(st_geometry(mtq), add = TRUE)

typoLayer(x = mtq_pencil, var="STATUS", 
          col = c("aquamarine4", "yellow3","wheat"),
          legend.values.order = c("Prefecture",
                                  "Sub-prefecture", 
                                  "Simple municipality"),
          legend.pos = "topright",
          legend.title.txt = "Status")
plot(st_geometry(mtq), add = TRUE, ldy=2)
layoutLayer(title = "Municipality Status")
</code></pre>

<hr>
<h2 id='getPngLayer'><code>.png</code> Layer</h2><span id='topic+getPngLayer'></span>

<h3>Description</h3>

<p>Get a <code>RasterBrick</code> from a <code>.png</code> image cut using the shape of a spatial object. The <code>.png</code> file could be either a local file or extracted from a given url.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPngLayer(
  x,
  pngpath,
  align = "center",
  margin = 0,
  crop = FALSE,
  mask = TRUE,
  inverse = FALSE,
  dwmode = "curl",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPngLayer_+3A_x">x</code></td>
<td>
<p>an <code>sf</code> object, a simple feature collection (POLYGON or MULTIPOLYGON) or a tile (see <code><a href="#topic+getTiles">getTiles</a></code>).</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_pngpath">pngpath</code></td>
<td>
<p>local path or url of a <code>.png</code> file.</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_align">align</code></td>
<td>
<p>set how the <code>.png</code> file should be fitted within <code>x</code>. Possible values are <code>'left','right','top', 'bottom'</code> or <code>'center'</code>.</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_margin">margin</code></td>
<td>
<p>inner margin, zooms out the <code>.png</code> over <code>x</code>. If 0 then <code>.png</code> is completely zoomed over <code>x</code>.</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_crop">crop</code></td>
<td>
<p><code>TRUE</code> if results should be cropped to the specified <code>x</code> extent.</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_mask">mask</code></td>
<td>
<p><code>TRUE</code> if the result should be masked to <code>x</code>.</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_inverse">inverse</code></td>
<td>
<p>logical. If <code>FALSE</code>, overlapped areas of <code>x</code> on <code>pngpath</code> are extracted, otherwise non-overlapping areas are returned. See <code><a href="raster.html#topic+mask">mask</a></code>.</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_dwmode">dwmode</code></td>
<td>
<p>Set the download mode. It could be <code>'base'</code> for <code><a href="utils.html#topic+download.file">download.file</a></code> or <code>'curl'</code> for <code><a href="curl.html#topic+curl_download">curl_download</a></code>.</p>
</td></tr>
<tr><td><code id="getPngLayer_+3A_...">...</code></td>
<td>
<p>additional arguments for downloading the file. See <code><a href="utils.html#topic+download.file">download.file</a></code> or <code><a href="curl.html#topic+curl_download">curl_download</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The effect of <code>align</code> would differ depending of the aspect ratio of <code>x</code> and <code>pngpath</code>. To obtain a fitted tile from <code>pngpath</code> 
given that <code>x</code> is the tile to fit, set <code>margin = 0 , crop = TRUE</code>.
</p>


<h3>Value</h3>

<p>A <code>RasterBrick</code> object is returned.
</p>


<h3>Note</h3>

<p>The accuracy of the final plot would depend on the quality of the <code>.png</code> file, 
the scale of <code>x</code> and the resolution setup of the graphic device. Exporting to <code>svg</code> is highly
recommended.
</p>


<h3>Author(s)</h3>

<p>dieghernan, <a href="https://github.com/dieghernan/">https://github.com/dieghernan/</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+pngLayer">pngLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package = "cartography"))
#Local file
dirpng &lt;- system.file("img/LogoMartinique.png", package = "cartography")
mask &lt;- getPngLayer(mtq, dirpng)

## Not run: 
#Remote file
urlpng &lt;- "https://i.imgur.com/gePiDvB.png"
masksea &lt;- getPngLayer(mtq, urlpng, mode = "wb", inverse = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='getTiles'>Defunct Get Tiles from Open Map Servers</h2><span id='topic+getTiles'></span>

<h3>Description</h3>

<p>This function is defunct. Use 'maptiles::get_tiles()' instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTiles(
  x,
  type = "OpenStreetMap",
  zoom = NULL,
  crop = FALSE,
  verbose = FALSE,
  apikey = NA,
  cachedir = FALSE,
  forceDownload = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTiles_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection or a Spatial*DataFrame.</p>
</td></tr>
<tr><td><code id="getTiles_+3A_type">type</code></td>
<td>
<p>the tile server from which to get the map. See Details for providers.
For other sources use a list: type = list(src = &quot;name of the source&quot; , 
q = &quot;tiles address&quot;, sub = &quot;subdomains&quot;, cit = &quot;how to cite the tiles&quot;). See Examples.</p>
</td></tr>
<tr><td><code id="getTiles_+3A_zoom">zoom</code></td>
<td>
<p>the zoom level. If null, it is determined automatically 
(see Details).</p>
</td></tr>
<tr><td><code id="getTiles_+3A_crop">crop</code></td>
<td>
<p>TRUE if results should be cropped to the specified x extent, 
FALSE otherwise. If x is an sf object with one POINT, crop is set to FALSE.</p>
</td></tr>
<tr><td><code id="getTiles_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE, tiles filepaths, zoom level and citation are displayed.</p>
</td></tr>
<tr><td><code id="getTiles_+3A_apikey">apikey</code></td>
<td>
<p>Needed for Thunderforest maps.</p>
</td></tr>
<tr><td><code id="getTiles_+3A_cachedir">cachedir</code></td>
<td>
<p>name of a directory used to cache tiles. If TRUE, places a 
'tile.cache' folder in the working directory. If FALSE, tiles are not cached.</p>
</td></tr>
<tr><td><code id="getTiles_+3A_forcedownload">forceDownload</code></td>
<td>
<p>if TRUE, cached tiles are downloaded again.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Zoom levels are described on the OpenStreetMap wiki: 
<a href="https://wiki.openstreetmap.org/wiki/Zoom_levels">https://wiki.openstreetmap.org/wiki/Zoom_levels</a>. <br /><br />
Full list of providers:  
</p>

<table>
<tr>
 <td style="text-align: left;">
'OpenStreetMap' (or 'osm')                 </td><td style="text-align: left;">	'Stamen' (or 'stamenbw')	                  </td><td style="text-align: left;">  'Esri' </td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenStreetMap.DE'                         </td><td style="text-align: left;">	'Stamen.Toner'                            	</td><td style="text-align: left;">  'Esri.WorldStreetMap'</td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenStreetMap.France'                     </td><td style="text-align: left;">	'Stamen.TonerBackground'                    </td><td style="text-align: left;">  'Esri.DeLorme'</td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenStreetMap.HOT' (or 'hotstyle')        </td><td style="text-align: left;">	'Stamen.TonerHybrid'                        </td><td style="text-align: left;">  'Esri.WorldTopoMap'</td>
</tr>
<tr>
 <td style="text-align: left;">
                                           </td><td style="text-align: left;">  'Stamen.TonerLines'                         </td><td style="text-align: left;">  'Esri.WorldImagery'</td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenMapSurfer'                            </td><td style="text-align: left;">  'Stamen.TonerLabels'                        </td><td style="text-align: left;">  'Esri.WorldTerrain'</td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenMapSurfer.Roads'                      </td><td style="text-align: left;">  'Stamen.TonerLite'                          </td><td style="text-align: left;">  'Esri.WorldShadedRelief'</td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenMapSurfer.Hybrid'                     </td><td style="text-align: left;">  'Stamen.Watercolor' (or 'stamenwatercolor') </td><td style="text-align: left;">  'Esri.OceanBasemap'</td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenMapSurfer.AdminBounds'                </td><td style="text-align: left;">  'Stamen.Terrain'                            </td><td style="text-align: left;">  'Esri.NatGeoWorldMap'</td>
</tr>
<tr>
 <td style="text-align: left;">
'OpenMapSurfer.ElementsAtRisk'             </td><td style="text-align: left;">  'Stamen.TerrainBackground'                  </td><td style="text-align: left;">  'Esri.WorldGrayCanvas'</td>
</tr>
<tr>
 <td style="text-align: left;">
                                           </td><td style="text-align: left;">  'Stamen.TerrainLabels'                      </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB'                                  </td><td style="text-align: left;">                                              </td><td style="text-align: left;">  'Hydda'</td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.Positron' (or 'cartolight')       </td><td style="text-align: left;">  'Thunderforest'                             </td><td style="text-align: left;">  'Hydda.Full'</td>
</tr>
<tr>
 <td style="text-align: left;"> 
'CartoDB.PositronNoLabels'                 </td><td style="text-align: left;">  'Thunderforest.OpenCycleMap'                </td><td style="text-align: left;">  'Hydda.Base'</td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.PositronOnlyLabels'               </td><td style="text-align: left;">  'Thunderforest.Transport'                   </td><td style="text-align: left;">  'Hydda.RoadsAndLabels'</td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.DarkMatter' (or 'cartodark')      </td><td style="text-align: left;">  'Thunderforest.TransportDark'               </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;"> 
'CartoDB.DarkMatterNoLabels'               </td><td style="text-align: left;">  'Thunderforest.SpinalMap'                   </td><td style="text-align: left;">  'HikeBike' (or 'hikebike')</td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.DarkMatterOnlyLabels'             </td><td style="text-align: left;">  'Thunderforest.Landscape'                   </td><td style="text-align: left;">  'HikeBike.HikeBike'</td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.Voyager'                          </td><td style="text-align: left;">  'Thunderforest.Outdoors'                    </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.VoyagerNoLabels'                  </td><td style="text-align: left;">  'Thunderforest.Pioneer'                     </td><td style="text-align: left;">  'OpenTopoMap' (or 'opentopomap') </td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.VoyagerOnlyLabels'                </td><td style="text-align: left;">  'Thunderforest.MobileAtlas'                 </td><td style="text-align: left;">  'Wikimedia'</td>
</tr>
<tr>
 <td style="text-align: left;">
'CartoDB.VoyagerLabelsUnder'               </td><td style="text-align: left;">  'Thunderforest.Neighbourhood'               </td><td style="text-align: left;">  'OpenStreetMap.MapnikBW' (or 'osmgrayscale')</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>A RasterBrick is returned.
</p>


<h3>References</h3>

<p><a href="https://leaflet-extras.github.io/leaflet-providers/preview/">https://leaflet-extras.github.io/leaflet-providers/preview/</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+tilesLayer">tilesLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># install.packages('maptiles')
</code></pre>

<hr>
<h2 id='ghostLayer'>Plot a Ghost Layer</h2><span id='topic+ghostLayer'></span>

<h3>Description</h3>

<p>Plot an invisible layer with the extent of a spatial object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ghostLayer(x, bg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ghostLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection or a 
Spatial*DataFrame.</p>
</td></tr>
<tr><td><code id="ghostLayer_+3A_bg">bg</code></td>
<td>
<p>background color.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
target &lt;- mtq[30,]
ghostLayer(target, bg = "lightblue")
plot(st_geometry(mtq), add = TRUE, col = "gold2")
plot(st_geometry(target), add = TRUE, col = "red")
# overly complicated label placement trick:
labelLayer(x = suppressWarnings(st_intersection(mtq, st_buffer(target, 2000))), 
           txt = "LIBGEO", halo = TRUE, cex = .9, r = .14, font = 2, 
           bg = "grey20", col= "white")
</code></pre>

<hr>
<h2 id='gradLinkLayer'>Graduated Links Layer</h2><span id='topic+gradLinkLayer'></span>

<h3>Description</h3>

<p>Plot a layer of graduated links. Links are plotted according to discrete classes of widths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gradLinkLayer(
  x,
  df,
  xid = NULL,
  dfid = NULL,
  var,
  breaks = getBreaks(v = df[, var], nclass = 4, method = "quantile"),
  lwd = c(1, 2, 4, 6),
  col = "red",
  legend.pos = "bottomleft",
  legend.title.txt = var,
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.rnd = 0,
  legend.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gradLinkLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains identifiers of starting and ending points and a variable.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_xid">xid</code></td>
<td>
<p>names of the identifier variables in x, character 
vector of length 2, default to the 2 first columns. (optional)</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_dfid">dfid</code></td>
<td>
<p>names of the identifier variables in df, character 
vector of length 2, default to the two first columns. (optional)</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_var">var</code></td>
<td>
<p>name of the variable used to plot the links widths.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_breaks">breaks</code></td>
<td>
<p>break values in sorted order to indicate the intervals for assigning the lines widths.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_lwd">lwd</code></td>
<td>
<p>vector of widths (classes of widths).</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_col">col</code></td>
<td>
<p>color of the links.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values 
displayed in the legend.</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="gradLinkLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Unlike most of cartography functions, identifiers fields are mandatory.
</p>


<h3>See Also</h3>

<p><a href="#topic+getLinkLayer">getLinkLayer</a>, <a href="#topic+propLinkLayer">propLinkLayer</a>, <a href="#topic+legendGradLines">legendGradLines</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
mob &lt;- read.csv(system.file("csv/mob.csv", package="cartography"))
# Create a link layer - work mobilities to Fort-de-France (97209)
mob.sf &lt;- getLinkLayer(x = mtq, df = mob[mob$j==97209,], dfid = c("i", "j"))
# Plot the links - Work mobility
plot(st_geometry(mtq), col = "grey60",border = "grey20")
gradLinkLayer(x = mob.sf, df = mob,
              legend.pos = "topright",
              var = "fij", 
              breaks = c(109,500,1000,2000,4679), 
              lwd = c(1,2,4,10),
              col = "#92000090", add = TRUE)
</code></pre>

<hr>
<h2 id='gradLinkTypoLayer'>Graduated and Colored Links Layer</h2><span id='topic+gradLinkTypoLayer'></span>

<h3>Description</h3>

<p>Plot a layer of colored and graduated links. 
Links are plotted according to discrete classes of widths. 
Colors depend on a discrete variable of categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gradLinkTypoLayer(
  x,
  df,
  xid = NULL,
  dfid = NULL,
  var,
  breaks = getBreaks(v = df[, var], nclass = 4, method = "quantile"),
  lwd = c(1, 2, 4, 6),
  var2,
  col = NULL,
  colNA = "white",
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.rnd = 0,
  legend.var.pos = "bottomleft",
  legend.var.title.txt = var,
  legend.var.frame = FALSE,
  legend.var2.pos = "topright",
  legend.var2.title.txt = var2,
  legend.var2.values.order = NULL,
  legend.var2.nodata = "no data",
  legend.var2.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gradLinkTypoLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains identifiers of starting and ending points and variables.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_xid">xid</code></td>
<td>
<p>names of the identifier variables in x, character 
vector of length 2, default to the 2 first columns. (optional)</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_dfid">dfid</code></td>
<td>
<p>names of the identifier variables in df, character 
vector of length 2, default to the two first columns. (optional)</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_var">var</code></td>
<td>
<p>name of the variable used to plot the links widths.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_breaks">breaks</code></td>
<td>
<p>break values in sorted order to indicate the intervals for assigning the lines widths.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_lwd">lwd</code></td>
<td>
<p>vector of widths (classes of widths).</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_var2">var2</code></td>
<td>
<p>name of the variable used to plot the links colors.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_col">col</code></td>
<td>
<p>color of the links.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_colna">colNA</code></td>
<td>
<p>no data color.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var.pos">legend.var.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var.title.txt">legend.var.title.txt</code></td>
<td>
<p>title of the legend (numeric data).</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var.frame">legend.var.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var2.pos">legend.var2.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var2.title.txt">legend.var2.title.txt</code></td>
<td>
<p>title of the legend (factor data).</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var2.values.order">legend.var2.values.order</code></td>
<td>
<p>values order in the legend, a character vector 
that matches var modalities. Colors will be affected following this order.</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var2.nodata">legend.var2.nodata</code></td>
<td>
<p>text for &quot;no data&quot; values</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_legend.var2.frame">legend.var2.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="gradLinkTypoLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Unlike most of cartography functions, identifiers variables are mandatory.
</p>


<h3>See Also</h3>

<p><a href="#topic+getLinkLayer">getLinkLayer</a>, <a href="#topic+propLinkLayer">propLinkLayer</a>, <a href="#topic+legendGradLines">legendGradLines</a>, <a href="#topic+gradLinkLayer">gradLinkLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
mob &lt;- read.csv(system.file("csv/mob.csv", package="cartography"))
# Create a link layer - work mobilities to Fort-de-France (97209) and 
# Le Lamentin (97213)
mob.sf &lt;- getLinkLayer(x = mtq, df = mob[mob$j %in% c(97209, 97213),], 
                       dfid = c("i", "j"))
# Plot the links - Work mobility
plot(st_geometry(mtq), col = "grey60",border = "grey20")
gradLinkTypoLayer(x = mob.sf, df = mob,
                  var = "fij", 
                  breaks = c(109,500,1000,2000,4679), 
                  lwd = c(1,2,4,10),
                  var2='j', add = TRUE)
</code></pre>

<hr>
<h2 id='graticule.spdf'>Graticule around Europe</h2><span id='topic+graticule.spdf'></span>

<h3>Description</h3>

<p>Graticule around Europe.
</p>


<h3>Format</h3>

<p>SpatialLines.
</p>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='hatchedLayer'>Hatched Layer</h2><span id='topic+hatchedLayer'></span>

<h3>Description</h3>

<p>Plot a hatched layer with several different patterns. Suitable 
for b/w print maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hatchedLayer(x, pattern = "dot", density = 1, txt = "a", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hatchedLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. It should be either a 
<code>POLYGON</code> or a <code>MULTIPOLYGON</code>.</p>
</td></tr>
<tr><td><code id="hatchedLayer_+3A_pattern">pattern</code></td>
<td>
<p>Desired pattern to use for hatching. Possible values are:
</p>

<ul>
<li><p> Dots: <code>"dot", "text"</code>
</p>
</li>
<li><p> Lines <code>"diamond","grid","hexagon","horizontal", "vertical",
  "zigzag","left2right","right2left","circle"</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="hatchedLayer_+3A_density">density</code></td>
<td>
<p>of the grid. By default the function uses a grid with a 
minimum of 10 cells on the shortest dimension of the bounding box. 
Additionally, it is possible to pass a 
<code><a href="sf.html#topic+st_make_grid">cellsize</a></code> value that would feed the 
<code><a href="sf.html#topic+st_make_grid">st_make_grid</a></code> underlying function.</p>
</td></tr>
<tr><td><code id="hatchedLayer_+3A_txt">txt</code></td>
<td>
<p>for the <code>"text"</code> pattern, that should be a character.</p>
</td></tr>
<tr><td><code id="hatchedLayer_+3A_...">...</code></td>
<td>
<p>Additional graphic parameters (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Possible values are:
</p>

<table>
<tr>
 <td style="text-align: left;">
<b>pattern</b>        </td><td style="text-align: center;"> <b>add</b> </td><td style="text-align: center;"> <b>col</b> </td><td style="text-align: center;"> <b>bg</b> </td><td style="text-align: center;"> <b>cex</b> </td><td style="text-align: center;"> <b>pch</b> </td><td style="text-align: center;"> <b>lwd</b> </td><td style="text-align: center;"> <b>lty</b></td>
</tr>
<tr>
 <td style="text-align: left;">
<b>&quot;dot&quot;</b>          </td><td style="text-align: center;"> x   </td><td style="text-align: center;"> x   </td><td style="text-align: center;"> x  </td><td style="text-align: center;"> x   </td><td style="text-align: center;"> x   </td><td style="text-align: center;">     </td><td style="text-align: center;">    </td>
</tr>
<tr>
 <td style="text-align: left;">
<b>&quot;text&quot;</b>         </td><td style="text-align: center;"> x   </td><td style="text-align: center;"> x   </td><td style="text-align: center;">    </td><td style="text-align: center;"> x   </td><td style="text-align: center;">     </td><td style="text-align: center;">     </td><td style="text-align: center;">    </td>
</tr>
<tr>
 <td style="text-align: left;">
<b>Lines patterns</b> </td><td style="text-align: center;"> x   </td><td style="text-align: center;"> x   </td><td style="text-align: center;">    </td><td style="text-align: center;">     </td><td style="text-align: center;">     </td><td style="text-align: center;"> x   </td><td style="text-align: center;"> x  
</td>
</tr>

</table>



<h3>Value</h3>

<p>When passing <code>mode='sfc'</code> an 'sf' object (either MULTLINESTRING
or MULTIPOINT) is returned.
</p>


<h3>Author(s)</h3>

<p>dieghernan, <a href="https://github.com/dieghernan/">https://github.com/dieghernan/</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+legendHatched">legendHatched</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package = "cartography"))
par(mar=c(1,1,1,1))
hatchedLayer(mtq, "dot")
title("dot")
plot(st_geometry(mtq), border = NA, col="grey80")
hatchedLayer(mtq, "text", txt = "Y", add=TRUE)
title("text")
hatchedLayer(mtq, "diamond", density = 0.5)
plot(st_union(st_geometry(mtq)), add = TRUE)
title("diamond")
hatchedLayer(mtq, "grid", lwd = 1.5)
title("grid")
hatchedLayer(mtq, "hexagon", col = "blue")
title("hexagon")
hatchedLayer(mtq, "horizontal", lty = 5)
title("horizontal")
hatchedLayer(mtq, "vertical")
title("vertical")
hatchedLayer(mtq, "left2right")
title("left2right")
hatchedLayer(mtq, "right2left")
title("right2left")
hatchedLayer(mtq, "zigzag",cellsize=5000)
title("zigzag")
hatchedLayer(mtq, "circle")
title("circle")
</code></pre>

<hr>
<h2 id='labelLayer'>Label Layer</h2><span id='topic+labelLayer'></span>

<h3>Description</h3>

<p>Put labels on a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labelLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  txt,
  col = "black",
  cex = 0.7,
  overlap = TRUE,
  show.lines = TRUE,
  halo = FALSE,
  bg = "white",
  r = 0.1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labelLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. 
spdf, df, dfid and spdfid are not used.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_spdf">spdf</code></td>
<td>
<p>a SpatialPointsDataFrame or a SpatialPolygonsDataFrame; if spdf 
is a SpatialPolygonsDataFrame texts are plotted on centroids.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the labels to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first 
column of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first 
column of df. (optional)</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_txt">txt</code></td>
<td>
<p>labels variable.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_col">col</code></td>
<td>
<p>labels color.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_cex">cex</code></td>
<td>
<p>labels cex.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_overlap">overlap</code></td>
<td>
<p>if FALSE, labels are moved so they do not overlap.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_show.lines">show.lines</code></td>
<td>
<p>if TRUE, then lines are plotted between x,y and the word, 
for those words not covering their x,y coordinate</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_halo">halo</code></td>
<td>
<p>If TRUE, then a 'halo' is printed around the text and additional 
arguments bg and r can be modified to set the color and width of the halo.</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_bg">bg</code></td>
<td>
<p>halo color if halo is TRUE</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_r">r</code></td>
<td>
<p>width of the halo</p>
</td></tr>
<tr><td><code id="labelLayer_+3A_...">...</code></td>
<td>
<p>further <a href="graphics.html#topic+text">text</a> arguments.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+layoutLayer">layoutLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
opar &lt;- par(mar = c(0,0,0,0))
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq), col = "darkseagreen3", border = "darkseagreen4", 
     bg = "#A6CAE0")
labelLayer(x = mtq, txt = "LIBGEO", col= "black", cex = 0.7, font = 4,
           halo = TRUE, bg = "white", r = 0.1, 
           overlap = FALSE, show.lines = FALSE)
par(opar)
</code></pre>

<hr>
<h2 id='layoutLayer'>Layout Layer</h2><span id='topic+layoutLayer'></span>

<h3>Description</h3>

<p>Plot a layout layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layoutLayer(
  title = "Title of the map, year",
  sources = "",
  author = "",
  horiz = TRUE,
  col = "black",
  coltitle = "white",
  theme = NULL,
  bg = NULL,
  scale = "auto",
  posscale = "bottomright",
  frame = TRUE,
  north = FALSE,
  south = FALSE,
  extent = NULL,
  tabtitle = FALSE,
  postitle = "left"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layoutLayer_+3A_title">title</code></td>
<td>
<p>title of the map.</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_sources">sources</code></td>
<td>
<p>sources of the map (or something else).</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_author">author</code></td>
<td>
<p>author of the map (or something else).</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_horiz">horiz</code></td>
<td>
<p>orientation of sources and author. TRUE for horizontal display 
on the bottom left corner, FALSE for vertical display on the bottom right 
corner.</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_col">col</code></td>
<td>
<p>color of the title box and frame border.</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_coltitle">coltitle</code></td>
<td>
<p>color of the title.</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_theme">theme</code></td>
<td>
<p>name of a cartographic palette (see <a href="#topic+carto.pal.info">carto.pal.info</a>). 
col and coltitle are set according to the chosen palette.</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_bg">bg</code></td>
<td>
<p>color of the frame background.</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_scale">scale</code></td>
<td>
<p>size of the scale bar in kilometers. If set to FALSE, no scale 
bar is displayed, if set to &quot;auto&quot; an automatic size is used (1/10 of the map 
width).</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_posscale">posscale</code></td>
<td>
<p>position of the scale, can be &quot;bottomright&quot;, &quot;bottomleft&quot; or 
a vector of two coordinates (c(x, y))</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_frame">frame</code></td>
<td>
<p>whether displaying a frame (TRUE) or not (FALSE).</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_north">north</code></td>
<td>
<p>whether displaying a North arrow (TRUE) or not (FALSE).</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_south">south</code></td>
<td>
<p>whether displaying a South arrow (TRUE) or not (FALSE).</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_extent">extent</code></td>
<td>
<p>sf object or Spatial*DataFrame; sets the extent of the frame to 
the one of a spatial object. (optional)</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_tabtitle">tabtitle</code></td>
<td>
<p>size of the title box either a full banner (FALSE) or a 
&quot;tab&quot; (TRUE).</p>
</td></tr>
<tr><td><code id="layoutLayer_+3A_postitle">postitle</code></td>
<td>
<p>position of the title, one of &quot;left&quot;, &quot;center&quot;, &quot;right&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If extent is not set, plot.new has to be called first.<br />
The size of the title box in layoutLayer is fixed to 1.2 lines height.
</p>


<h3>See Also</h3>

<p><a href="#topic+labelLayer">labelLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq), col = "#D1914D", border = "white", bg = "#A6CAE0")
# Layout plot
layoutLayer()

plot(st_geometry(mtq), col = "#D1914D", border = "white", bg = "#A6CAE0")
# Layout plot
layoutLayer(title = "Martinique",
            author =  paste0("cartography ", packageVersion("cartography")),
            tabtitle = TRUE, scale = 5, north = TRUE, frame = FALSE,
            theme = "sand.pal")
</code></pre>

<hr>
<h2 id='legendBarsSymbols'>Legend for Proportional Bars Maps</h2><span id='topic+legendBarsSymbols'></span>

<h3>Description</h3>

<p>Plot legend for proportional bars maps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendBarsSymbols(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  cex = 1,
  border = "black",
  lwd = 1,
  values.cex = 0.6,
  var,
  inches,
  col = "red",
  frame = FALSE,
  values.rnd = 0,
  style = "c"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendBarsSymbols_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_border">border</code></td>
<td>
<p>color of the borders.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_lwd">lwd</code></td>
<td>
<p>width of the borders.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_var">var</code></td>
<td>
<p>vector of values (at least min and max).</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_inches">inches</code></td>
<td>
<p>height of the higher bar.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_col">col</code></td>
<td>
<p>color of symbols.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_values.rnd">values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="legendBarsSymbols_+3A_style">style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display 
styles, &quot;c&quot; stands for compact and &quot;e&quot; for extended.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()
legendBarsSymbols(pos = "topleft", title.txt = "Title of\nthe legend",
                     title.cex = 0.8, values.cex = 0.6,cex = 1,
                     var = c(min(mtq$POP),max(mtq$POP)),
                     inches = 0.5,
                     col = "purple",
                     values.rnd=0, style ="e")
</code></pre>

<hr>
<h2 id='legendChoro'>Legend for Choropleth Maps</h2><span id='topic+legendChoro'></span>

<h3>Description</h3>

<p>Plot legend for choropleth maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendChoro(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  values.cex = 0.6,
  breaks,
  col,
  cex = 1,
  values.rnd = 2,
  nodata = TRUE,
  nodata.txt = "No data",
  nodata.col = "white",
  frame = FALSE,
  symbol = "box",
  border = "black",
  horiz = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendChoro_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_breaks">breaks</code></td>
<td>
<p>break points in sorted order to indicate the intervals for 
assigning the colors. 
Note that if there are nlevel colors (classes) there should be (nlevel+1) 
breakpoints.
It is possible to use a vector of characters.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_col">col</code></td>
<td>
<p>a vector of colors.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_values.rnd">values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_nodata">nodata</code></td>
<td>
<p>if TRUE a &quot;no data&quot; box or line is plotted.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_nodata.txt">nodata.txt</code></td>
<td>
<p>label for &quot;no data&quot; values.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_nodata.col">nodata.col</code></td>
<td>
<p>color of &quot;no data&quot; values.</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_symbol">symbol</code></td>
<td>
<p>type of symbol in the legend 'line' or 'box'</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_border">border</code></td>
<td>
<p>color of the box borders</p>
</td></tr>
<tr><td><code id="legendChoro_+3A_horiz">horiz</code></td>
<td>
<p>layout of legend, TRUE for horizontal layout</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()
legendChoro(pos = "bottomleft", title.txt = "Title of the legend", title.cex = 0.8,
            values.cex = 0.6, breaks = c(1,2,3,4,10.27,15.2),
            col = carto.pal(pal1 = "orange.pal",n1 = 5), values.rnd =2,
            nodata = TRUE, nodata.txt = "No data available", frame = TRUE, symbol="box")
legendChoro(pos = "bottomright", title.txt = "Title of the legend", title.cex = 0.8,
            values.cex = 0.6, breaks = c(1,2,5,7,10,15.27),
            col = carto.pal(pal1 = "wine.pal",n1 = 5), values.rnd = 0,
            nodata = TRUE, nodata.txt = "NA",nodata.col = "black",
            frame = TRUE, symbol="line")
legendChoro(pos = "topright", title.txt = "Title of the legend", title.cex = 0.8,
            values.cex = 0.6,
            breaks = c(0,"two","100","1 000","10,000", "1 Million"),
            col = carto.pal(pal1 = "orange.pal",n1 = 5), values.rnd =2,
            nodata = TRUE, nodata.txt = "No data available", frame = TRUE,
            symbol="box")
</code></pre>

<hr>
<h2 id='legendCirclesSymbols'>Legend for Proportional Circles Maps</h2><span id='topic+legendCirclesSymbols'></span>

<h3>Description</h3>

<p>Plot legend for proportional circles maps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendCirclesSymbols(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  cex = 1,
  border = "black",
  lwd = 1,
  values.cex = 0.6,
  var,
  inches,
  col = "#E84923",
  frame = FALSE,
  values.rnd = 0,
  style = "c"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendCirclesSymbols_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_border">border</code></td>
<td>
<p>color of the borders.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_lwd">lwd</code></td>
<td>
<p>width of the borders.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_var">var</code></td>
<td>
<p>vector of values (at least min and max).</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_inches">inches</code></td>
<td>
<p>radii of the biggest circle.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_col">col</code></td>
<td>
<p>color of symbols.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_values.rnd">values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="legendCirclesSymbols_+3A_style">style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display 
styles, &quot;c&quot; stands for compact and &quot;e&quot; for extended.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()

propSymbolsLayer(x = mtq, var = "POP",
                 inches = 0.2, legend.pos = "n")

legendCirclesSymbols(pos = "topleft", inches = 0.2,
                     var = c(min(mtq$POP), max(mtq$POP)))
legendCirclesSymbols(pos = "left",
                     var = c(min(mtq$POP), max(mtq$POP)),
                     inches = 0.2, style = "e")
legendCirclesSymbols(pos = "bottomleft",
                     var = c(600, 12000, 40000, max(mtq$POP)),
                     inches = 0.2, style = "c")
legendCirclesSymbols(pos = "topright", cex = 2,
                     var = c(600, 30000,max(mtq$POP)),
                     inches = 0.2, style = "e", frame = TRUE)
legendCirclesSymbols(pos = c(736164.4, 1596658),
                     var = c(min(mtq$POP),max(mtq$POP)),
                     inches = 0.2, frame = TRUE)
</code></pre>

<hr>
<h2 id='legendGradLines'>Legend for Graduated Size Lines Maps</h2><span id='topic+legendGradLines'></span>

<h3>Description</h3>

<p>Plot legend for graduated size lines maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendGradLines(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  cex = 1,
  values.cex = 0.6,
  breaks,
  lwd,
  col,
  values.rnd = 2,
  frame = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendGradLines_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_breaks">breaks</code></td>
<td>
<p>break points in sorted order to indicate the intervals 
for assigning the width of the lines</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_lwd">lwd</code></td>
<td>
<p>a vector giving the width of the lines.</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_col">col</code></td>
<td>
<p>color of symbols.</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_values.rnd">values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="legendGradLines_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()
legendGradLines(title.txt = "Title of the legend", 
                pos = "topright",
                title.cex = 0.8,
                values.cex = 0.6, breaks = c(1,2,3,4,10.2,15.2),
                lwd = c(0.2,2,4,5,10),
                col ="blue", values.rnd =2)
</code></pre>

<hr>
<h2 id='legendHatched'>Legend for Hatched Maps</h2><span id='topic+legendHatched'></span>

<h3>Description</h3>

<p>Plot legend for hatched maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendHatched(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  values.cex = 0.6,
  categ,
  patterns,
  ptrn.bg = "white",
  ptrn.text = "X",
  dot.cex = 0.5,
  text.cex = 0.5,
  cex = 1,
  frame = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendHatched_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_categ">categ</code></td>
<td>
<p>vector of categories.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_patterns">patterns</code></td>
<td>
<p>vector of patterns to be created for each element on <code>categ</code>, see <a href="#topic+hatchedLayer">hatchedLayer</a>.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_ptrn.bg">ptrn.bg</code></td>
<td>
<p>background of the legend box for each <code>categ</code>.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_ptrn.text">ptrn.text</code></td>
<td>
<p>text to be used for each <code>categ="text"</code>, as a single value or a vector.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_dot.cex">dot.cex</code></td>
<td>
<p>cex of each <code>patterns = "dot"</code> categories, as a single value or a vector.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_text.cex">text.cex</code></td>
<td>
<p>text size of each <code>patterns = "text"</code> categories, as a single value or a vector.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendHatched_+3A_...">...</code></td>
<td>
<p>optional graphical parameters, see details on <a href="#topic+hatchedLayer">hatchedLayer</a></p>
</td></tr>
</table>


<h3>Note</h3>

<p>It is also possible to create solid legends, by setting <code>col</code> and <code>ptrn.bg</code> to the same color. 
Parameters would honour the order of the <code>categ</code> variable.
</p>


<h3>Author(s)</h3>

<p>dieghernan, <a href="https://github.com/dieghernan/">https://github.com/dieghernan/</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+hatchedLayer">hatchedLayer</a>, <a href="#topic+legendTypo">legendTypo</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;-  st_read(system.file("gpkg/mtq.gpkg", package = "cartography"))
typoLayer(mtq,  var = "STATUS",  legend.pos = "n",
          legend.values.order = c("Prefecture","Sub-prefecture",
                                  "Simple municipality"),
          col = c("grey10", "grey50", "grey80"),border = NA)
mtq$Patts = cut(mtq$MED,c(-Inf,15700,Inf), labels=FALSE)
hatchedLayer(mtq[mtq$Patts == 1,],"left2right",
             density = 2,  col = "white",  add = TRUE,  pch = 3,  cex = 0.6)
hatchedLayer(mtq[mtq$Patts == 2, ],"left2right",
             density = 4, col = "white", add = TRUE)
legendHatched(pos = "bottomleft",
              cex = 1.5,
              values.cex = 0.8,
              title.txt = "Median Income\n(in thousand of euros)",
              categ = c("11.9 - 15.7","14.7 - 21.8",
                        "Prefecture", "Sub-prefecture",
                        "Simple municipality"),
              patterns = c("left2right"), density = c(1, 2),
              col = c(rep("black", 2), "grey10", "grey50", "grey80"),
              ptrn.bg = c(rep("white", 2), "grey10", "grey50", "grey80"),
              pch = 3)
plot(st_geometry(st_union(mtq)), add = TRUE)
</code></pre>

<hr>
<h2 id='legendPropLines'>Legend for Proportional Lines Maps</h2><span id='topic+legendPropLines'></span>

<h3>Description</h3>

<p>Plot legend for proportional lines maps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendPropLines(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  cex = 1,
  values.cex = 0.6,
  var,
  lwd,
  col = "red",
  frame = FALSE,
  values.rnd = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendPropLines_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_var">var</code></td>
<td>
<p>vector of values (at least min and max).</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_lwd">lwd</code></td>
<td>
<p>width of the larger line.</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_col">col</code></td>
<td>
<p>color of symbols.</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendPropLines_+3A_values.rnd">values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()
legendPropLines(pos = "topleft", title.txt = "Title",
                title.cex = 0.8, values.cex = 0.6, cex = 1,
                var = c(10,100),
                lwd = 15,
                col="red", frame=TRUE, values.rnd=0)
</code></pre>

<hr>
<h2 id='legendPropTriangles'>Legend for Double Proportional Triangles Maps</h2><span id='topic+legendPropTriangles'></span>

<h3>Description</h3>

<p>Plot legends for double proportional triangles maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendPropTriangles(
  pos = "topleft",
  title.txt,
  var.txt,
  var2.txt,
  title.cex = 0.8,
  cex = 1,
  values.cex = 0.6,
  var,
  var2,
  r,
  r2,
  col = "red",
  col2 = "blue",
  frame = FALSE,
  values.rnd = 0,
  style = "c"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendPropTriangles_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_var.txt">var.txt</code></td>
<td>
<p>name of var.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_var2.txt">var2.txt</code></td>
<td>
<p>name of var2.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_var">var</code></td>
<td>
<p>a first vector of positive values.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_var2">var2</code></td>
<td>
<p>a second vector of positive values.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_r">r</code></td>
<td>
<p>a first vector of sizes.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_r2">r2</code></td>
<td>
<p>a second vector of sizes.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_col">col</code></td>
<td>
<p>color of symbols.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_col2">col2</code></td>
<td>
<p>second color of symbols.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_values.rnd">values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="legendPropTriangles_+3A_style">style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display 
styles, &quot;c&quot; stands for compact and &quot;e&quot; for extended.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()
var &lt;- runif(10, 0,100)
var2 &lt;- runif(10, 0,100)
r &lt;- sqrt(var)*1000
r2 &lt;- sqrt(var2)*1000
legendPropTriangles(pos = "topright", var.txt = "population 1",
                    var2.txt = "population 2", title.txt="Population totale",
                    title.cex = 0.8, values.cex = 0.6, cex = 1,
                    var = var, var2 = var2, r = r, r2 = r2,
                    col="green", col2="yellow", frame=TRUE, values.rnd=2,
                    style="c")
</code></pre>

<hr>
<h2 id='legendSquaresSymbols'>Legend for Proportional Squares Maps</h2><span id='topic+legendSquaresSymbols'></span>

<h3>Description</h3>

<p>Plot legend for proportional squares maps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendSquaresSymbols(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  cex = 1,
  border = "black",
  lwd = 1,
  values.cex = 0.6,
  var,
  inches,
  col = "red",
  frame = FALSE,
  values.rnd = 0,
  style = "c"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendSquaresSymbols_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_border">border</code></td>
<td>
<p>color of the borders.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_lwd">lwd</code></td>
<td>
<p>width of the borders.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_var">var</code></td>
<td>
<p>vector of values (at least min and max).</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_inches">inches</code></td>
<td>
<p>length of the sides of the larger square.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_col">col</code></td>
<td>
<p>color of symbols.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_values.rnd">values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="legendSquaresSymbols_+3A_style">style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display 
styles, &quot;c&quot; stands for compact and &quot;e&quot; for extended.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()
legendSquaresSymbols(pos = "bottomright", title.txt = "Title of\nthe legend ",
                     title.cex = 0.8, values.cex = 0.6,
                     var = c(max(mtq$POP), min(mtq$POP)),
                     inches = 0.5,
                     col="red",  
                     frame=TRUE, values.rnd=0, style ="c")
</code></pre>

<hr>
<h2 id='legendTypo'>Legend for Typology Maps</h2><span id='topic+legendTypo'></span>

<h3>Description</h3>

<p>Plot legend for typology maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendTypo(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  values.cex = 0.6,
  col,
  categ,
  cex = 1,
  nodata = TRUE,
  nodata.txt = "No data",
  nodata.col = "white",
  frame = FALSE,
  symbol = "box"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendTypo_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_col">col</code></td>
<td>
<p>a vector of colors.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_categ">categ</code></td>
<td>
<p>vector of categories.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_nodata">nodata</code></td>
<td>
<p>if TRUE a &quot;no data&quot; box or line is plotted.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_nodata.txt">nodata.txt</code></td>
<td>
<p>label for &quot;no data&quot; values.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_nodata.col">nodata.col</code></td>
<td>
<p>color of &quot;no data&quot; values.</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="legendTypo_+3A_symbol">symbol</code></td>
<td>
<p>character; 'line' or 'box'</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()

# Define labels and colors
someLabels &lt;- c("red color", "yellow color", "green color", "black color")
someColors &lt;- c("red", "yellow", "green", "black")

# plot legend
legendTypo(pos = "bottomleft", title.txt = "Title of the legend", title.cex = 0.8,
           values.cex = 0.6, col = someColors, categ = someLabels, 
           cex = 0.75,
           nodata = TRUE, nodata.txt = "no data", frame = TRUE, symbol="box")
legendTypo(pos = "topright", title.txt = "", 
           title.cex = 1.5, cex = 1.25,
           values.cex = 1, col = someColors, categ = someLabels, 
           nodata = FALSE, frame = FALSE, symbol="line")
</code></pre>

<hr>
<h2 id='legendWaffle'>Legend for Typology Maps</h2><span id='topic+legendWaffle'></span>

<h3>Description</h3>

<p>Plot legend for typology maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legendWaffle(
  pos = "topleft",
  title.txt = "Title of the legend",
  title.cex = 0.8,
  values.cex = 0.6,
  categ,
  cex = 1,
  cell.txt = "1 cell = ...",
  col,
  cell.size,
  border = "white",
  lwd = 0.2,
  frame = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legendWaffle_+3A_pos">pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, 
&quot;bottomleftextra&quot;, &quot;left&quot; or a vector of two coordinates in map units 
(c(x, y)).</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_title.txt">title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_title.cex">title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_values.cex">values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_categ">categ</code></td>
<td>
<p>vector of categories.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_cex">cex</code></td>
<td>
<p>size of the legend. 2 means two times bigger.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_cell.txt">cell.txt</code></td>
<td>
<p>label for cell values.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_col">col</code></td>
<td>
<p>a vector of colors.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_cell.size">cell.size</code></td>
<td>
<p>size of the cell</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_border">border</code></td>
<td>
<p>color of the cells borders.</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_lwd">lwd</code></td>
<td>
<p>width of the cells borders</p>
</td></tr>
<tr><td><code id="legendWaffle_+3A_frame">frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()

# Define labels and colors
someLabels &lt;- c("red color", "yellow color", "green color", "black color")
someColors &lt;- c("red", "yellow", "green", "black")
legendWaffle(categ = someLabels, col = someColors, cell.size = 750)
</code></pre>

<hr>
<h2 id='north'>North Arrow</h2><span id='topic+north'></span>

<h3>Description</h3>

<p>Plot a north arrow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>north(pos = "topright", col = "grey20", south = FALSE, x = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="north_+3A_pos">pos</code></td>
<td>
<p>position of the north arrow. It can be one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="north_+3A_col">col</code></td>
<td>
<p>arrow color.</p>
</td></tr>
<tr><td><code id="north_+3A_south">south</code></td>
<td>
<p>plot a south arrow instead.</p>
</td></tr>
<tr><td><code id="north_+3A_x">x</code></td>
<td>
<p>sf or sp object used to correct the north azimuth</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+layoutLayer">layoutLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
box()
for (i in list("topleft", "top", "topright", "right", "bottomright", 
               "bottom", "bottomleft", "left", c(746368, 1632993))){
  north(i, south = TRUE)
}
</code></pre>

<hr>
<h2 id='nuts0.df'>Nuts0 Dataset</h2><span id='topic+nuts0.df'></span>

<h3>Description</h3>

<p>This dataset contains some socio-economic data
</p>


<h3>Details</h3>

<p>This data frame can be used with the SpatialPolygonsDataFrame 
nuts0.spdf
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
<dt><code>emp2008</code></dt><dd><p>Active population in employment in 2008 (thousands persons) 
(numeric)</p>
</dd>
<dt><code>act2008</code></dt><dd><p>Active population in 2008 (thousands persons) (numeric)</p>
</dd>
<dt><code>unemp2008</code></dt><dd><p>Active population unemployed in 2008 (thousands persons) 
(numeric)</p>
</dd>
<dt><code>birth_2008</code></dt><dd><p>Number of birth in 2008 (live birth) (numeric)</p>
</dd>
<dt><code>death_2008</code></dt><dd><p>Number of death in 2008 (death) (numeric)</p>
</dd>
<dt><code>gdppps1999</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 
1999 (million euros) (numeric)</p>
</dd>
<dt><code>gdppps2008</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 
2008 (million euros) (numeric)</p>
</dd>
<dt><code>pop1999</code></dt><dd><p>Total population in 1999 (inhabitants) (numeric)</p>
</dd>
<dt><code>pop2008</code></dt><dd><p>Total population in 2008 (inhabitants) (numeric)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - Data extraction: 2011; data validity: 2008.
</p>

<hr>
<h2 id='nuts0.spdf'>Nuts0 Regions</h2><span id='topic+nuts0.spdf'></span>

<h3>Description</h3>

<p>Delineations of EU administrative units (level 0, 2006 version).
</p>


<h3>Format</h3>

<p>SpatialPolygonsDataFrame.
</p>


<h3>Details</h3>

<p>This SpatialPolygonsDataFrame can be used with the nuts0.df data frame
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='nuts1.df'>Nuts1 Dataset</h2><span id='topic+nuts1.df'></span>

<h3>Description</h3>

<p>This dataset contains some socio-economic data
</p>


<h3>Details</h3>

<p>This data frame can be used with the SpatialPolygonsDataFrame 
nuts1.spdf
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
<dt><code>emp2008</code></dt><dd><p>Active population in employment in 2008 (thousands persons) 
(numeric)</p>
</dd>
<dt><code>act2008</code></dt><dd><p>Active population in 2008 (thousands persons) (numeric)</p>
</dd>
<dt><code>unemp2008</code></dt><dd><p>Active population unemployed in 2008 (thousands persons) 
(numeric)</p>
</dd>
<dt><code>birth_2008</code></dt><dd><p>Number of birth in 2008 (live birth) (numeric)</p>
</dd>
<dt><code>death_2008</code></dt><dd><p>Number of death in 2008 (death) (numeric)</p>
</dd>
<dt><code>gdppps1999</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 1999 
(million euros) (numeric)</p>
</dd>
<dt><code>gdppps2008</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 2008 
(million euros) (numeric)</p>
</dd>
<dt><code>pop1999</code></dt><dd><p>Total population in 1999 (inhabitants) (numeric)</p>
</dd>
<dt><code>pop2008</code></dt><dd><p>Total population in 2008 (inhabitants) (numeric)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - Data extraction: 2011; data validity: 2008.
</p>

<hr>
<h2 id='nuts1.spdf'>Nuts1 Regions</h2><span id='topic+nuts1.spdf'></span>

<h3>Description</h3>

<p>Delineations of EU administrative units (level 1, 2006 version).
</p>


<h3>Format</h3>

<p>SpatialPolygonsDataFrame.
</p>


<h3>Details</h3>

<p>This SpatialPolygonsDataFrame can be used with the nuts1.df data frame
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='nuts2.df'>Nuts2 Dataset</h2><span id='topic+nuts2.df'></span>

<h3>Description</h3>

<p>This dataset contains some socio-economic data
</p>


<h3>Details</h3>

<p>This data frame can be used with the SpatialPolygonsDataFrame 
nuts2.spdf
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
<dt><code>emp2008</code></dt><dd><p>Active population in employment in 2008 (thousands persons) 
(numeric)</p>
</dd>
<dt><code>act2008</code></dt><dd><p>Active population in 2008 (thousands persons) (numeric)</p>
</dd>
<dt><code>unemp2008</code></dt><dd><p>Active population unemployed in 2008 (thousands persons) 
(numeric)</p>
</dd>
<dt><code>birth_2008</code></dt><dd><p>Number of birth in 2008 (live birth) (numeric)</p>
</dd>
<dt><code>death_2008</code></dt><dd><p>Number of death in 2008 (death) (numeric)</p>
</dd>
<dt><code>gdppps1999</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 1999 
(million euros) (numeric)</p>
</dd>
<dt><code>gdppps2008</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 2008 
(million euros) (numeric)</p>
</dd>
<dt><code>pop1999</code></dt><dd><p>Total population in 1999 (inhabitants) (numeric)</p>
</dd>
<dt><code>pop2008</code></dt><dd><p>Total population in 2008 (inhabitants) (numeric)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - Data extraction: 2011; data validity: 2008.
</p>

<hr>
<h2 id='nuts2.spdf'>Nuts2 Regions</h2><span id='topic+nuts2.spdf'></span>

<h3>Description</h3>

<p>Delineations of EU administrative units (level 2, 2006 version).
</p>


<h3>Format</h3>

<p>SpatialPolygonsDataFrame.
</p>


<h3>Details</h3>

<p>This SpatialPolygonsDataFrame can be used with the nuts2.df data frame
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='nuts3.df'>Nuts3 Dataset</h2><span id='topic+nuts3.df'></span>

<h3>Description</h3>

<p>This dataset contains some socio-economic data
</p>


<h3>Details</h3>

<p>This data frame can be used with the SpatialPolygonsDataFrame 
nuts3.spdf
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
<dt><code>birth_2008</code></dt><dd><p>Number of birth in 2008 (live birth) (numeric)</p>
</dd>
<dt><code>death_2008</code></dt><dd><p>Number of death in 2008 (death) (numeric)</p>
</dd>
<dt><code>gdppps1999</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 1999 
(million euros) (numeric)</p>
</dd>
<dt><code>gdppps2008</code></dt><dd><p>Gross domestic product (Purchasing Power Standards) in 2008 
(million euros) (numeric)</p>
</dd>
<dt><code>pop1999</code></dt><dd><p>Total population in 1999 (inhabitants) (numeric)</p>
</dd>
<dt><code>pop2008</code></dt><dd><p>Total population in 2008 (inhabitants) (numeric)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - Data extraction: 2011; data validity: 2008.
</p>

<hr>
<h2 id='nuts3.spdf'>Nuts3 Regions</h2><span id='topic+nuts3.spdf'></span>

<h3>Description</h3>

<p>Delineations of EU administrative units (level 3, 2006 version).
</p>


<h3>Format</h3>

<p>SpatialPolygonsDataFrame.
</p>


<h3>Details</h3>

<p>This SpatialPolygonsDataFrame can be used with the nuts3.df data frame
</p>


<h3>Fields</h3>


<dl>
<dt><code>id</code></dt><dd><p>Unique nuts id (character)</p>
</dd>
</dl>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

<hr>
<h2 id='propLinkLayer'>Proportional Links Layer</h2><span id='topic+propLinkLayer'></span>

<h3>Description</h3>

<p>Plot a layer of proportional links. Links widths are directly proportional to values of a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propLinkLayer(
  x,
  df,
  xid = NULL,
  dfid = NULL,
  var,
  maxlwd = 40,
  col,
  legend.pos = "bottomleft",
  legend.title.txt = var,
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.rnd = 0,
  legend.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propLinkLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains identifiers of starting and ending points and a variable.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_xid">xid</code></td>
<td>
<p>names of the identifier variables in x, character 
vector of length 2, default to the 2 first columns. (optional)</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_dfid">dfid</code></td>
<td>
<p>names of the identifier variables in df, character 
vector of length 2, default to the two first columns. (optional)</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_var">var</code></td>
<td>
<p>name of the variable used to plot the links widths.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_maxlwd">maxlwd</code></td>
<td>
<p>maximum size of the links.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_col">col</code></td>
<td>
<p>color of the links.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values 
displayed in the legend.</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="propLinkLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Unlike most of cartography functions, identifiers variables are mandatory.
</p>


<h3>See Also</h3>

<p><a href="#topic+gradLinkLayer">gradLinkLayer</a>, <a href="#topic+getLinkLayer">getLinkLayer</a>, <a href="#topic+legendPropLines">legendPropLines</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
mob &lt;- read.csv(system.file("csv/mob.csv", package="cartography"))
# Create a link layer - work mobilities to Fort-de-France (97209)
mob.sf &lt;- getLinkLayer(x = mtq, df = mob[mob$j==97209,], dfid = c("i", "j"))
# Plot the links - Work mobility
plot(st_geometry(mtq), col = "grey60",border = "grey20")
propLinkLayer(x = mob.sf, df = mob,
              maxlwd = 10,
              legend.pos = "topright",
              var = "fij",
              col = "#92000090", add = TRUE)
</code></pre>

<hr>
<h2 id='propSymbolsChoroLayer'>Proportional and Choropleth Symbols Layer</h2><span id='topic+propSymbolsChoroLayer'></span>

<h3>Description</h3>

<p>Plot a proportional symbols layer with colors based on a 
quantitative data classification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propSymbolsChoroLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var,
  inches = 0.3,
  fixmax = NULL,
  symbols = "circle",
  border = "grey20",
  lwd = 1,
  var2,
  breaks = NULL,
  method = "quantile",
  nclass = NULL,
  col = NULL,
  colNA = "white",
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.var.pos = "right",
  legend.var.title.txt = var,
  legend.var.values.rnd = 0,
  legend.var.style = "c",
  legend.var.frame = FALSE,
  legend.var2.pos = "topright",
  legend.var2.title.txt = var2,
  legend.var2.values.rnd = 2,
  legend.var2.nodata = "no data",
  legend.var2.frame = FALSE,
  legend.var2.border = "black",
  legend.var2.horiz = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propSymbolsChoroLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. If x is used then spdf, df, spdfid and dfid are not.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_spdf">spdf</code></td>
<td>
<p>SpatialPointsDataFrame or SpatialPolygonsDataFrame; if spdf 
is a SpatialPolygonsDataFrame symbols are plotted on centroids.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first column 
of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first column 
of df. (optional)</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric variable used to plot the symbols sizes.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, width for
squares, height for bars) in inches.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_fixmax">fixmax</code></td>
<td>
<p>value of the biggest symbol (see <a href="#topic+propSymbolsLayer">propSymbolsLayer</a> Details).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_symbols">symbols</code></td>
<td>
<p>type of symbols, one of &quot;circle&quot;, &quot;square&quot; or &quot;bar&quot;.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_border">border</code></td>
<td>
<p>color of symbols borders.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_lwd">lwd</code></td>
<td>
<p>width of symbols borders.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_var2">var2</code></td>
<td>
<p>name of the numeric variable used to plot the symbols colors.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_breaks">breaks</code></td>
<td>
<p>break points in sorted order to indicate the intervals for assigning the colors. 
Note that if there are nlevel colors (classes) there should be (nlevel+1) 
breakpoints (see <a href="#topic+choroLayer">choroLayer</a> Details).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_method">method</code></td>
<td>
<p>a classification method; one of &quot;sd&quot;, &quot;equal&quot;, 
&quot;quantile&quot;, &quot;fisher-jenks&quot;, &quot;q6&quot; or &quot;geom&quot;  (see <a href="#topic+choroLayer">choroLayer</a> Details).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_nclass">nclass</code></td>
<td>
<p>a targeted number of classes. If null, the number of class is 
automatically defined (see <a href="#topic+choroLayer">choroLayer</a> Details).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_col">col</code></td>
<td>
<p>a vector of colors. Note that if breaks is specified there must be one less 
colors specified than the number of break.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_colna">colNA</code></td>
<td>
<p>no data color.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var.pos">legend.var.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.var.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var.title.txt">legend.var.title.txt</code></td>
<td>
<p>title of the legend (proportional symbols).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var.values.rnd">legend.var.values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var.style">legend.var.style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display 
styles.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var.frame">legend.var.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var2.pos">legend.var2.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.var2.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var2.title.txt">legend.var2.title.txt</code></td>
<td>
<p>title of the legend (colors).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var2.values.rnd">legend.var2.values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var2.nodata">legend.var2.nodata</code></td>
<td>
<p>text for &quot;no data&quot; values</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var2.frame">legend.var2.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var2.border">legend.var2.border</code></td>
<td>
<p>color of boxes borders in the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_legend.var2.horiz">legend.var2.horiz</code></td>
<td>
<p>whether to display the legend horizontally (TRUE) or
not (FALSE).</p>
</td></tr>
<tr><td><code id="propSymbolsChoroLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+legendBarsSymbols">legendBarsSymbols</a>, <a href="#topic+legendChoro">legendChoro</a>, 
<a href="#topic+legendCirclesSymbols">legendCirclesSymbols</a>, <a href="#topic+legendSquaresSymbols">legendSquaresSymbols</a>, 
<a href="#topic+choroLayer">choroLayer</a>, <a href="#topic+propSymbolsLayer">propSymbolsLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq), col = "grey60",border = "white",
     lwd=0.4, bg = "lightsteelblue1")
propSymbolsChoroLayer(x = mtq, var = "POP", var2 = "MED",
                      col = carto.pal(pal1 = "blue.pal", n1 = 3,
                                      pal2 = "red.pal", n2 = 3),
                      inches = 0.2, method = "q6",
                      border = "grey50", lwd = 1,
                      legend.var.pos = "topright", 
                      legend.var2.pos = "left",
                      legend.var2.values.rnd = -2,
                      legend.var2.title.txt = "Median Income\n(in euros)",
                      legend.var.title.txt = "Total Population",
                      legend.var.style = "e")
# First layout
layoutLayer(title="Population and Wealth in Martinique, 2015")
</code></pre>

<hr>
<h2 id='propSymbolsLayer'>Proportional Symbols Layer</h2><span id='topic+propSymbolsLayer'></span>

<h3>Description</h3>

<p>Plot a proportional symbols layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propSymbolsLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var,
  inches = 0.3,
  fixmax = NULL,
  symbols = "circle",
  col = "#E84923",
  border = "black",
  lwd = 1,
  legend.pos = "bottomleft",
  legend.title.txt = var,
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.rnd = 0,
  legend.style = "c",
  legend.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propSymbolsLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. If x is used then spdf, df, spdfid and dfid are not.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_spdf">spdf</code></td>
<td>
<p>a SpatialPointsDataFrame or a SpatialPolygonsDataFrame; if spdf 
is a SpatialPolygonsDataFrame symbols are plotted on centroids.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>identifier field in spdf, default to the first column 
of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_dfid">dfid</code></td>
<td>
<p>identifier field in df, default to the first column 
of df. (optional)</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric field in df to plot.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, width for
squares, height for bars) in inches.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_fixmax">fixmax</code></td>
<td>
<p>value of the biggest symbol (see Details).</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_symbols">symbols</code></td>
<td>
<p>type of symbols, one of &quot;circle&quot;, &quot;square&quot; or &quot;bar&quot;.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_col">col</code></td>
<td>
<p>color of symbols.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_border">border</code></td>
<td>
<p>color of symbols borders.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_lwd">lwd</code></td>
<td>
<p>width of symbols borders.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values 
displayed in the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_legend.style">legend.style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display 
styles, &quot;c&quot; stands for compact and &quot;e&quot; for extended.</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>boolean; whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="propSymbolsLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two maps with the same inches and fixmax parameters will be comparable.
</p>


<h3>See Also</h3>

<p><a href="#topic+legendBarsSymbols">legendBarsSymbols</a>, <a href="#topic+legendCirclesSymbols">legendCirclesSymbols</a>, 
<a href="#topic+legendSquaresSymbols">legendSquaresSymbols</a>, <a href="#topic+propSymbolsChoroLayer">propSymbolsChoroLayer</a>, 
<a href="#topic+propSymbolsTypoLayer">propSymbolsTypoLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
plot(st_geometry(mtq))
propSymbolsLayer(x = mtq, var = "POP")

plot(st_geometry(mtq), col = "lightblue4",border = "lightblue3", 
     bg = "lightblue1")
# Population plot on proportional symbols
propSymbolsLayer(x = mtq, var = "POP",
                 symbols = "circle", col =  "white",
                 legend.pos = "right", border = "grey",
                 legend.title.txt = "Total\nPopulation",
                 legend.style = "c")
# Layout plot
layoutLayer(title = "Population Distribution in Martinique, 2015")
</code></pre>

<hr>
<h2 id='propSymbolsTypoLayer'>Proportional Symbols Typo Layer</h2><span id='topic+propSymbolsTypoLayer'></span>

<h3>Description</h3>

<p>Plot a proportional symbols layer with colors based on
qualitative data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propSymbolsTypoLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var,
  inches = 0.3,
  fixmax = NULL,
  symbols = "circle",
  border = "grey20",
  lwd = 1,
  var2,
  col = NULL,
  colNA = "white",
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.var.pos = "bottomleft",
  legend.var.title.txt = var,
  legend.values.rnd = 0,
  legend.var.style = "c",
  legend.var.frame = FALSE,
  legend.var2.pos = "topright",
  legend.var2.title.txt = var2,
  legend.var2.values.order = NULL,
  legend.var2.nodata = "no data",
  legend.var2.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propSymbolsTypoLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. If x is used then spdf, df, spdfid and dfid are not.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_spdf">spdf</code></td>
<td>
<p>SpatialPointsDataFrame or SpatialPolygonsDataFrame; if spdf
is a SpatialPolygonsDataFrame symbols are plotted on centroids.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first column
of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first column
of df. (optional)</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric variable used to plot the symbols sizes.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_inches">inches</code></td>
<td>
<p>size of the biggest symbol (radius for circles, width for
squares, height for bars) in inches.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_fixmax">fixmax</code></td>
<td>
<p>value of the biggest symbol. (optional)</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_symbols">symbols</code></td>
<td>
<p>type of symbols, one of &quot;circle&quot;, &quot;square&quot; or &quot;bar&quot;.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_border">border</code></td>
<td>
<p>color of symbols borders.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_lwd">lwd</code></td>
<td>
<p>width of symbols borders.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_var2">var2</code></td>
<td>
<p>name of the factor (or character) variable used to plot the 
symbols colors.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_col">col</code></td>
<td>
<p>a vector of colors.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_colna">colNA</code></td>
<td>
<p>no data color.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var.pos">legend.var.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var.title.txt">legend.var.title.txt</code></td>
<td>
<p>title of the legend (numeric data).</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values in
the legend.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var.style">legend.var.style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display
styles, &quot;c&quot; stands for compact and &quot;e&quot; for extended.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var.frame">legend.var.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or
not (FALSE).</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var2.pos">legend.var2.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)).</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var2.title.txt">legend.var2.title.txt</code></td>
<td>
<p>title of the legend (factor data).</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var2.values.order">legend.var2.values.order</code></td>
<td>
<p>values order in the legend, a character vector 
that matches var modalities. Colors will be affected following this order.</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var2.nodata">legend.var2.nodata</code></td>
<td>
<p>text for &quot;no data&quot; values</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_legend.var2.frame">legend.var2.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or
not (FALSE).</p>
</td></tr>
<tr><td><code id="propSymbolsTypoLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or
not (FALSE).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+legendBarsSymbols">legendBarsSymbols</a>, <a href="#topic+legendTypo">legendTypo</a>,
<a href="#topic+legendCirclesSymbols">legendCirclesSymbols</a>, <a href="#topic+legendSquaresSymbols">legendSquaresSymbols</a>,
<a href="#topic+typoLayer">typoLayer</a>, <a href="#topic+propSymbolsLayer">propSymbolsLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# Countries plot
plot(st_geometry(mtq), col = "lightblue4",border = "lightblue3", 
     bg = "lightblue1")
# Population plot on proportional symbols
propSymbolsTypoLayer(x = mtq, var = "POP", var2 = "STATUS",
                     symbols = "circle",
                     col = c("aquamarine4", "yellow3","wheat"),
                     legend.var2.values.order = c("Prefecture",
                                                  "Sub-prefecture",
                                                  "Simple municipality"),
                     legend.var.pos = "right", border = "grey",
                     legend.var.title.txt = "Total\nPopulation")
layoutLayer(title = "Population Distribution in Martinique, 2015")
</code></pre>

<hr>
<h2 id='propTrianglesLayer'>Double Proportional Triangle Layer</h2><span id='topic+propTrianglesLayer'></span>

<h3>Description</h3>

<p>Plot a double proportional triangles layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propTrianglesLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var1,
  col1 = "#E84923",
  var2,
  col2 = "#7DC437",
  k = 0.02,
  legend.pos = "topright",
  legend.title.txt = paste(var1, var2, sep = " / "),
  legend.title.cex = 0.8,
  legend.var1.txt = var1,
  legend.var2.txt = var2,
  legend.values.cex = 0.6,
  legend.values.rnd = 0,
  legend.style = "c",
  legend.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propTrianglesLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. If x is used then spdf, df, spdfid and dfid are not.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_spdf">spdf</code></td>
<td>
<p>a SpatialPointsDataFrame or a SpatialPolygonsDataFrame; if spdf 
is a SpatialPolygonsDataFrame symbols are plotted on centroids.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first column 
of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first column 
of df. (optional)</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_var1">var1</code></td>
<td>
<p>name of the first numeric variable to plot, positive values 
only (top triangle).</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_col1">col1</code></td>
<td>
<p>color of top triangles.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_var2">var2</code></td>
<td>
<p>name of the second  numeric variable to plot, positive values 
only (bottom triangle).</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_col2">col2</code></td>
<td>
<p>color of bottom triangles.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_k">k</code></td>
<td>
<p>share of the map occupied by the biggest symbol.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;left&quot;, &quot;right&quot;, &quot;bottomleft&quot;, &quot;bottom&quot;, &quot;bottomright&quot;. If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.var1.txt">legend.var1.txt</code></td>
<td>
<p>label of the top variable.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.var2.txt">legend.var2.txt</code></td>
<td>
<p>label of the bottom variable.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values 
displayed in the legend.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.style">legend.style</code></td>
<td>
<p>either &quot;c&quot; or &quot;e&quot;. The legend has two display 
styles, &quot;c&quot; stands for compact and &quot;e&quot; for extended.</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>boolean; whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="propTrianglesLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+legendPropTriangles">legendPropTriangles</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# Employed Active Population 
mtq$OCC &lt;- mtq$ACT-mtq$CHOM
plot(st_geometry(mtq), col = "lightblue4",border = "lightblue3",
     bg = "lightblue1")
propTrianglesLayer(x = mtq, var1 = "OCC", var2 = "CHOM", 
                   col1="green4",col2="red4",k = 0.1)
layoutLayer(title = "Active Population in Martinique, 2015")
</code></pre>

<hr>
<h2 id='smoothLayer'>Smooth Layer</h2><span id='topic+smoothLayer'></span>

<h3>Description</h3>

<p>This function is deprecated. 
Please use the 'potential' package instead 
(<a href="https://riatelab.github.io/potential/">https://riatelab.github.io/potential/</a>).<br /> <br />
</p>
<p>Plot a layer of smoothed data. It can also compute a ratio of potentials.<br /> <br />
This function is a wrapper around the <code><a href="SpatialPosition.html#topic+quickStewart">quickStewart</a></code> function in 
<code><a href="SpatialPosition.html#topic+SpatialPosition">SpatialPosition</a></code> package.<br /> <br />
The SpatialPosition package also provides: </p>

<ul>
<li><p>vignettes to explain the computation of potentials; 
</p>
</li>
<li><p>more customizable inputs and outputs (custom distance matrix, raster output...);
</p>
</li>
<li><p>other functions related to spatial interactions (Reilly  and Huff catchment areas).</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>smoothLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var,
  var2 = NULL,
  typefct = "exponential",
  span,
  beta,
  resolution = NULL,
  mask = NULL,
  nclass = 8,
  breaks = NULL,
  col = NULL,
  border = "grey20",
  lwd = 1,
  legend.pos = "bottomleft",
  legend.title.txt = "Potential",
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.rnd = 0,
  legend.frame = FALSE,
  add = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="smoothLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_spdf">spdf</code></td>
<td>
<p>a SpatialPolygonsDataFrame.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to compute If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first column 
of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first column 
of df. (optional)</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_var">var</code></td>
<td>
<p>name of the numeric variable used to compute potentials.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_var2">var2</code></td>
<td>
<p>name of the numeric variable used to compute potentials. 
This variable is used for ratio computation (see Details).</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_typefct">typefct</code></td>
<td>
<p>character; spatial interaction function. Options are &quot;pareto&quot; 
(means power law) or &quot;exponential&quot;.
If &quot;pareto&quot; the interaction is defined as: (1 + alpha * mDistance) ^ (-beta).
If &quot;exponential&quot; the interaction is defined as: 
exp(- alpha * mDistance ^ beta).
The alpha parameter is computed from parameters given by the user 
(<code>beta</code> and <code>span</code>).</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_span">span</code></td>
<td>
<p>numeric; distance where the density of probability of the spatial 
interaction function equals 0.5.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_beta">beta</code></td>
<td>
<p>numeric; impedance factor for the spatial interaction function.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_resolution">resolution</code></td>
<td>
<p>numeric; resolution of the output SpatialPointsDataFrame
(in map units).</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_mask">mask</code></td>
<td>
<p>sf object or SpatialPolygonsDataFrame; mask used to clip contours of potentials.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_nclass">nclass</code></td>
<td>
<p>numeric; a targeted number of classes (default to 8). Not used if breaks is set.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_breaks">breaks</code></td>
<td>
<p>numeric; a vector of values used to discretize the potentials.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_col">col</code></td>
<td>
<p>a vector of colors. Note that if breaks is specified there must be one less 
colors specified than the number of break.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_border">border</code></td>
<td>
<p>color of the polygons borders.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_lwd">lwd</code></td>
<td>
<p>borders width.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_legend.values.rnd">legend.values.rnd</code></td>
<td>
<p>number of decimal places of the values in 
the legend.</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="smoothLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If var2 is provided the ratio between the potentials of var (numerator) 
and var2 (denominator) is computed.
</p>


<h3>Value</h3>

<p>An <code><a href="base.html#topic+invisible">invisible</a></code> sf object (MULTIPOLYGONs) is returned (see <code><a href="SpatialPosition.html#topic+quickStewart">quickStewart</a></code>).
</p>


<h3>See Also</h3>

<p><a href="SpatialPosition.html#topic+quickStewart">quickStewart</a>, <a href="SpatialPosition.html#topic+SpatialPosition">SpatialPosition</a>, <a href="#topic+choroLayer">choroLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># install.packages('potential')
</code></pre>

<hr>
<h2 id='tilesLayer'>Plot a Raster Object</h2><span id='topic+tilesLayer'></span><span id='topic+pngLayer'></span>

<h3>Description</h3>

<p>Plot a raster object over a map. It can be used to plot images 
from getPngLayer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tilesLayer(x, add = FALSE, ...)

pngLayer(x, add = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tilesLayer_+3A_x">x</code></td>
<td>
<p>a RasterBrick object; <a href="#topic+getPngLayer">getPngLayer</a> 
function output these objects.</p>
</td></tr>
<tr><td><code id="tilesLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="tilesLayer_+3A_...">...</code></td>
<td>
<p>bgalpha, interpolate, or other arguments passed to be passed to
<code><a href="raster.html#topic+plotRGB">plotRGB</a></code></p>
</td></tr>
</table>


<h3>Note</h3>

<p>This function is a wrapper for <code><a href="raster.html#topic+plotRGB">plotRGB</a></code> 
from the raster package. The accuracy of the final plot depends on the 
quality of the <code>*.png</code> file, the scale of <code>x</code> and the resolution 
setup of the graphic device.
</p>


<h3>Author(s)</h3>

<p>dieghernan, <a href="https://github.com/dieghernan/">https://github.com/dieghernan/</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+getPngLayer">getPngLayer</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package = "cartography"))

# Local image
dirpng &lt;- system.file("img/LogoMartinique.png", package = "cartography")
mask &lt;- getPngLayer(mtq, dirpng, crop = TRUE, margin = 0.5)
par(mar = c(0,0,0,0))
ghostLayer(mtq)
pngLayer(mask, add = TRUE)

## Not run: 
# Remote image
urlpng = "https://i.imgur.com/gePiDvB.png"
masksea &lt;- getPngLayer(mtq, urlpng, mode = "wb", inverse = TRUE, margin = 0.5)
#Combine
par(mar = c(0,0,0,0))
ghostLayer(mtq)
pngLayer(mask, add = TRUE)
pngLayer(masksea, add = TRUE)
plot(st_geometry(mtq), border="orange", add=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='twincities.df'>Twin Cities Dataset</h2><span id='topic+twincities.df'></span>

<h3>Description</h3>

<p>This dataset contains the number of international twinning 
agreements between cities. Agreements are aggregated at nuts2 level.
</p>


<h3>Details</h3>

<p>This data frame can be used with the SpatialPolygonsDataFrame 
nuts2.spdf
</p>


<h3>Fields</h3>


<dl>
<dt><code>i</code></dt><dd><p>nuts2 identifier</p>
</dd>
<dt><code>j</code></dt><dd><p>nuts2 identifier</p>
</dd>
<dt><code>fij</code></dt><dd><p>number of agreements</p>
</dd>
</dl>


<h3>Source</h3>

<p>Adam Ploszaj - Centre for European Regional and Local Studies EUROREG, 
University of Warsaw, Poland. 
Primary source: Wikipedia, 2011.
</p>

<hr>
<h2 id='typoLayer'>Typology Layer</h2><span id='topic+typoLayer'></span>

<h3>Description</h3>

<p>Plot a typology layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>typoLayer(
  x,
  spdf,
  df,
  spdfid = NULL,
  dfid = NULL,
  var,
  col = NULL,
  border = "grey20",
  lwd = 1,
  colNA = "white",
  legend.pos = "bottomleft",
  legend.title.txt = var,
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.values.order = NULL,
  legend.nodata = "no data",
  legend.frame = FALSE,
  add = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="typoLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection. If x is used then spdf, df, spdfid and dfid are not.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_spdf">spdf</code></td>
<td>
<p>a SpatialPolygonsDataFrame.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_df">df</code></td>
<td>
<p>a data frame that contains the values to plot. If df is missing 
spdf@data is used instead.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_spdfid">spdfid</code></td>
<td>
<p>name of the identifier variable in spdf, default to the first column 
of the spdf data frame. (optional)</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_dfid">dfid</code></td>
<td>
<p>name of the identifier variable in df, default to the first column 
of df. (optional)</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_var">var</code></td>
<td>
<p>name of the variable to plot.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_col">col</code></td>
<td>
<p>a vector of colors.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_border">border</code></td>
<td>
<p>color of the polygons borders.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_lwd">lwd</code></td>
<td>
<p>borders width.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_colna">colNA</code></td>
<td>
<p>no data color.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_legend.values.order">legend.values.order</code></td>
<td>
<p>values order in the legend, a character vector 
that matches var modalities. Colors will be affected following this order.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_legend.nodata">legend.nodata</code></td>
<td>
<p>no data label.</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="typoLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+propSymbolsTypoLayer">propSymbolsTypoLayer</a>, <a href="#topic+typoLayer">typoLayer</a>, <a href="#topic+legendTypo">legendTypo</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
typoLayer(x = mtq, var="STATUS",  
          col = c("aquamarine4", "yellow3","wheat"),
          legend.values.order = c("Prefecture",
                                  "Sub-prefecture", 
                                  "Simple municipality"),
          legend.pos = "topright",
          legend.title.txt = "Status")
layoutLayer(title = "Municipality Status")
</code></pre>

<hr>
<h2 id='waffleLayer'>Waffle Layer</h2><span id='topic+waffleLayer'></span>

<h3>Description</h3>

<p>Plot a waffle layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>waffleLayer(
  x,
  var,
  cellvalue,
  cellsize,
  cellrnd = "ceiling",
  celltxt = paste0("1 cell = ", cellvalue),
  labels,
  ncols,
  col,
  border = "white",
  lwd = 0.2,
  legend.pos = "bottomleft",
  legend.title.txt = "legend title",
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="waffleLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_var">var</code></td>
<td>
<p>names of the numeric variable to plot.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_cellvalue">cellvalue</code></td>
<td>
<p>value of a single cell. Original values are rounded, using
<code>cellrnd</code> method, to be expressed as multiple of <code>cellvalue</code>.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_cellsize">cellsize</code></td>
<td>
<p>size of single cell, in map units.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_cellrnd">cellrnd</code></td>
<td>
<p>rounding method, one of &quot;ceiling&quot;, &quot;floor&quot;, &quot;round&quot;.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_celltxt">celltxt</code></td>
<td>
<p>text that appears under the legend.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_labels">labels</code></td>
<td>
<p>names that will appear in the legend.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_ncols">ncols</code></td>
<td>
<p>number of columns of the waffles</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_col">col</code></td>
<td>
<p>a vector of colors.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_border">border</code></td>
<td>
<p>color of the cells borders.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_lwd">lwd</code></td>
<td>
<p>cells borders width.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_legend.pos">legend.pos</code></td>
<td>
<p>position of the legend, one of &quot;topleft&quot;, &quot;top&quot;, 
&quot;topright&quot;, &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot; or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is &quot;n&quot; then the legend is not plotted.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_legend.title.txt">legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_legend.title.cex">legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_legend.values.cex">legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_legend.frame">legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td></tr>
<tr><td><code id="waffleLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package = "cartography"),
               quiet = TRUE)
# number of employed persons
mtq$EMP &lt;- mtq$ACT - mtq$CHOM

plot(st_geometry(mtq),
     col = "#f2efe9",
     border = "#b38e43",
     lwd = 0.5)
waffleLayer(
  x = mtq,
  var = c("EMP", "CHOM"),
  cellvalue = 100,
  cellsize = 400,
  cellrnd = "ceiling",
  celltxt = "1 cell represents 100 persons",
  labels = c("Employed", "Unemployed"),
  ncols = 6,
  col = c("tomato1", "lightblue"),
  border = "#f2efe9",
  legend.pos = "topright",
  legend.title.cex = 1,
  legend.title.txt = "Active Population",
  legend.values.cex = 0.8,
  add = TRUE
)

layoutLayer(
  title = "Structure of the Active Population",
  col = "tomato4",
  tabtitle = TRUE,
  scale = FALSE,
  sources =  paste0("cartography ", packageVersion("cartography")),
  author = "Sources: Insee and IGN, 2018",
)
</code></pre>

<hr>
<h2 id='wordcloudLayer'>Wordcloud Layer</h2><span id='topic+wordcloudLayer'></span>

<h3>Description</h3>

<p>Plot a word cloud adjusted to an <code>sf</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wordcloudLayer(
  x,
  txt,
  freq,
  max.words = NULL,
  cex.maxmin = c(1, 0.5),
  rot.per = 0.1,
  col = NULL,
  fittopol = FALSE,
  use.rank = FALSE,
  add = FALSE,
  breaks = NULL,
  method = "quantile",
  nclass = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wordcloudLayer_+3A_x">x</code></td>
<td>
<p>an sf object, a simple feature collection (POLYGON or MULTIPOLYGON).</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_txt">txt</code></td>
<td>
<p>labels variable.</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_freq">freq</code></td>
<td>
<p>frequencies of <code>txt</code>.</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_max.words">max.words</code></td>
<td>
<p>Maximum number of words to be plotted. least frequent terms dropped</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_cex.maxmin">cex.maxmin</code></td>
<td>
<p>integer (for same size in all <code>txt</code>) or vector of length 2 indicating the range of the size of the words.</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_rot.per">rot.per</code></td>
<td>
<p>proportion words with 90 degree rotation</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_col">col</code></td>
<td>
<p>color or vector of colors words from least to most frequent</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_fittopol">fittopol</code></td>
<td>
<p>logical. If true would override <code>rot.per</code> for some elements of <code>x</code></p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_use.rank">use.rank</code></td>
<td>
<p>logical. If true rank of frequencies is used instead of real frequencies.</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_add">add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="wordcloudLayer_+3A_breaks">breaks</code>, <code id="wordcloudLayer_+3A_method">method</code>, <code id="wordcloudLayer_+3A_nclass">nclass</code></td>
<td>
<p>additional arguments for adjusting the colors of <code>txt</code>, see <code><a href="#topic+choroLayer">choroLayer</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>dieghernan, <a href="https://github.com/dieghernan/">https://github.com/dieghernan/</a>
</p>


<h3>References</h3>

<p>Ian Fellows (2018). wordcloud: Word Clouds.<br /><br />
R package version 2.6. <a href="https://CRAN.R-project.org/package=wordcloud">https://CRAN.R-project.org/package=wordcloud</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+choroLayer">choroLayer</a>, <a href="#topic+legendChoro">legendChoro</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf) 
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package = "cartography"))
par(mar=c(0,0,0,0))
plot(st_geometry(mtq),
     col = "white",
     bg = "grey95",
     border = NA)
wordcloudLayer(
  x = mtq,
  txt = "LIBGEO",
  freq = "POP",
  add = TRUE,
  nclass = 5
)
legendChoro(
  title.txt = "Population",
  breaks = getBreaks(mtq$POP, nclass = 5, method = "quantile"),
  col = carto.pal("blue.pal", 5),
  nodata = FALSE
)
</code></pre>

<hr>
<h2 id='world.spdf'>World Background</h2><span id='topic+world.spdf'></span>

<h3>Description</h3>

<p>World background.
</p>


<h3>Format</h3>

<p>SpatialPolygonsDataFrame.
</p>


<h3>Source</h3>

<p>UMS RIATE - <a href="http://riate.cnrs.fr/">http://riate.cnrs.fr/</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

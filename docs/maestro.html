<!DOCTYPE html><html lang="en"><head><title>Help for package maestro</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {maestro}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#maestro'><p><code>maestro</code> package</p></a></li>
<li><a href='#build_schedule'><p>Build a schedule table</p></a></li>
<li><a href='#build_schedule_entry'><p>Parse and validate tags then create and populate MaestroPipelineList</p></a></li>
<li><a href='#convert_to_seconds'><p>Convert a duration string to number of seconds</p></a></li>
<li><a href='#create_maestro'><p>Creates a new maestro project</p></a></li>
<li><a href='#create_orchestrator'><p>Create a new orchestrator</p></a></li>
<li><a href='#create_pipeline'><p>Create a new pipeline in a pipelines directory</p></a></li>
<li><a href='#get_artifacts'><p>Get the artifacts (return values) of the pipelines in a MaestroSchedule object.</p></a></li>
<li><a href='#get_pipeline_run_sequence'><p>Generate a sequence of run times for a pipeline</p></a></li>
<li><a href='#get_schedule'><p>Get the schedule from a MaestroSchedule object</p></a></li>
<li><a href='#get_status'><p>Get the statuses of the pipelines in a MaestroSchedule object</p></a></li>
<li><a href='#invoke'><p>Manually run a pipeline regardless of schedule</p></a></li>
<li><a href='#is_valid_dag'><p>Checks whether a DAG is valid (no loops)</p></a></li>
<li><a href='#last_build_errors'><p>Retrieve latest maestro build errors</p></a></li>
<li><a href='#last_run_errors'><p>Retrieve latest maestro pipeline errors</p></a></li>
<li><a href='#last_run_messages'><p>Retrieve latest maestro pipeline messages</p></a></li>
<li><a href='#last_run_warnings'><p>Retrieve latest maestro pipeline warnings</p></a></li>
<li><a href='#maestro_parse_cli'><p>cli output for generate schedule table</p></a></li>
<li><a href='#maestro_tags'><p>Maestro Tags</p></a></li>
<li><a href='#MaestroPipeline'><p>Class for an individual maestro pipeline</p>
A pipeline is defined as a single R script with a schedule or input</a></li>
<li><a href='#MaestroPipelineList'><p>Class for a list of MaestroPipelines</p>
A MaestroPipelineList is created when there are multiple maestro pipelines in a
single script</a></li>
<li><a href='#MaestroSchedule'><p>Class for a schedule of pipelines</p></a></li>
<li><a href='#parse_rounding_unit'><p>Parse a time string</p></a></li>
<li><a href='#run_schedule'><p>Run a schedule</p></a></li>
<li><a href='#show_network'><p>Visualize the schedule as a DAG</p></a></li>
<li><a href='#suggest_orch_frequency'><p>Suggest orchestrator frequency based on a schedule</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Orchestration of Data Pipelines</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Will Hipson &lt;will.e.hipson@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Framework for creating and orchestrating data pipelines. Organize, orchestrate, and monitor multiple pipelines in a single project. Use tags to decorate functions with scheduling parameters and configuration.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/whipson/maestro">https://github.com/whipson/maestro</a>,
<a href="https://whipson.github.io/maestro/">https://whipson.github.io/maestro/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/whipson/maestro/issues">https://github.com/whipson/maestro/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.3.0), dplyr (&ge; 1.1.0), glue, lifecycle, logger,
lubridate (&ge; 1.9.1), purrr (&ge; 1.0.0), R.utils, R6, rlang (&ge;
1.0.0), roxygen2, tictoc, timechange, utils</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>asciicast, DiagrammeR, furrr, future, knitr, quarto,
rmarkdown, rstudioapi, testthat (&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, quarto</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-14 12:48:47 UTC; willhipson</td>
</tr>
<tr>
<td>Author:</td>
<td>Will Hipson <a href="https://orcid.org/0000-0002-3931-2189"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre,
    aut, cph],
  Ryan Garnett [aut, ctb, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-14 18:00:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='maestro'><code>maestro</code> package</h2><span id='topic+maestro-package'></span><span id='topic+maestro'></span>

<h3>Description</h3>

<p>Lightweight pipeline orchestration in R
</p>


<h3>Details</h3>

<p>Documentation: <a href="https://github.com/whipson/maestro">GitHub</a>
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Will Hipson <a href="mailto:will.e.hipson@gmail.com">will.e.hipson@gmail.com</a> (<a href="https://orcid.org/0000-0002-3931-2189">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Ryan Garnett <a href="mailto:ryangarnett78@gmail.com">ryangarnett78@gmail.com</a> [contributor, copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/whipson/maestro">https://github.com/whipson/maestro</a>
</p>
</li>
<li> <p><a href="https://whipson.github.io/maestro/">https://whipson.github.io/maestro/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/whipson/maestro/issues">https://github.com/whipson/maestro/issues</a>
</p>
</li></ul>


<hr>
<h2 id='build_schedule'>Build a schedule table</h2><span id='topic+build_schedule'></span>

<h3>Description</h3>

<p>Builds a schedule data.frame for scheduling pipelines in <code>run_schedule()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_schedule(pipeline_dir = "./pipelines", quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="build_schedule_+3A_pipeline_dir">pipeline_dir</code></td>
<td>
<p>path to directory containing the pipeline scripts</p>
</td></tr>
<tr><td><code id="build_schedule_+3A_quiet">quiet</code></td>
<td>
<p>silence metrics to the console (default = <code>FALSE</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function parses the maestro tags of functions located in <code>pipeline_dir</code> which is
conventionally called 'pipelines'. An orchestrator requires a schedule table
to determine which pipelines are to run and when. Each row in a schedule table
is a pipeline name and its scheduling parameters such as its frequency.
</p>
<p>The schedule table is mostly intended to be used by <code>run_schedule()</code> immediately.
In other words, it is not recommended to make changes to it.
</p>


<h3>Value</h3>

<p>MaestroSchedule
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Creating a temporary directory for demo purposes! In practice, just
# create a 'pipelines' directory at the project level.

if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  build_schedule(pipeline_dir = pipeline_dir)
}
</code></pre>

<hr>
<h2 id='build_schedule_entry'>Parse and validate tags then create and populate MaestroPipelineList</h2><span id='topic+build_schedule_entry'></span>

<h3>Description</h3>

<p>Parse and validate tags then create and populate MaestroPipelineList
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_schedule_entry(script_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="build_schedule_entry_+3A_script_path">script_path</code></td>
<td>
<p>path to script</p>
</td></tr>
</table>


<h3>Value</h3>

<p>MaestroPipelineList R6 class
</p>

<hr>
<h2 id='convert_to_seconds'>Convert a duration string to number of seconds</h2><span id='topic+convert_to_seconds'></span>

<h3>Description</h3>

<p>Convert a duration string to number of seconds
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_to_seconds(time_string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_to_seconds_+3A_time_string">time_string</code></td>
<td>
<p>string like 1 day, 1 week, 12 hours, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>number of seconds
</p>

<hr>
<h2 id='create_maestro'>Creates a new maestro project</h2><span id='topic+create_maestro'></span>

<h3>Description</h3>

<p>Creates a new maestro project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_maestro(path, type = "R", overwrite = FALSE, quiet = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_maestro_+3A_path">path</code></td>
<td>
<p>file path for the orchestrator script</p>
</td></tr>
<tr><td><code id="create_maestro_+3A_type">type</code></td>
<td>
<p>file type for the orchestrator (supports R, Quarto, and RMarkdown)</p>
</td></tr>
<tr><td><code id="create_maestro_+3A_overwrite">overwrite</code></td>
<td>
<p>whether to overwrite an existing orchestrator or maestro project</p>
</td></tr>
<tr><td><code id="create_maestro_+3A_quiet">quiet</code></td>
<td>
<p>whether to silence messages in the console (default = <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="create_maestro_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Creates a new maestro project with an R orchestrator
if (interactive()) {
  new_proj_dir &lt;- tempdir()
  create_maestro(new_proj_dir, type = "R", overwrite = TRUE)

  create_maestro(new_proj_dir, type = "Quarto", overwrite = TRUE)
}
</code></pre>

<hr>
<h2 id='create_orchestrator'>Create a new orchestrator</h2><span id='topic+create_orchestrator'></span>

<h3>Description</h3>

<p>Create a new orchestrator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_orchestrator(
  path,
  type = c("R", "Quarto", "RMarkdown"),
  open = interactive(),
  quiet = FALSE,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_orchestrator_+3A_path">path</code></td>
<td>
<p>file path for the orchestrator script</p>
</td></tr>
<tr><td><code id="create_orchestrator_+3A_type">type</code></td>
<td>
<p>file type for the orchestrator (supports R, Quarto, and RMarkdown)</p>
</td></tr>
<tr><td><code id="create_orchestrator_+3A_open">open</code></td>
<td>
<p>whether or not to open the script upon creation</p>
</td></tr>
<tr><td><code id="create_orchestrator_+3A_quiet">quiet</code></td>
<td>
<p>whether to silence messages in the console (default = <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="create_orchestrator_+3A_overwrite">overwrite</code></td>
<td>
<p>whether to overwrite an existing orchestrator or maestro project</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible
</p>

<hr>
<h2 id='create_pipeline'>Create a new pipeline in a pipelines directory</h2><span id='topic+create_pipeline'></span>

<h3>Description</h3>

<p>Allows the creation of new pipelines (R scripts) and fills in the maestro tags as specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_pipeline(
  pipe_name,
  pipeline_dir = "pipelines",
  frequency = "1 day",
  start_time = Sys.Date(),
  tz = "UTC",
  log_level = "INFO",
  quiet = FALSE,
  open = interactive(),
  overwrite = FALSE,
  skip = FALSE,
  inputs = NULL,
  outputs = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_pipeline_+3A_pipe_name">pipe_name</code></td>
<td>
<p>name of the pipeline and function</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_pipeline_dir">pipeline_dir</code></td>
<td>
<p>directory containing the pipeline scripts</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_frequency">frequency</code></td>
<td>
<p>how often the pipeline should run (e.g., 1 day, daily, 3 hours, 4 months). Fills in maestroFrequency tag</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_start_time">start_time</code></td>
<td>
<p>start time of the pipeline schedule. Fills in maestroStartTime tag</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_tz">tz</code></td>
<td>
<p>timezone that pipeline will be scheduled in. Fills in maestroTz tag</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_log_level">log_level</code></td>
<td>
<p>log level for the pipeline (e.g., INFO, WARN, ERROR). Fills in maestroLogLevel tag</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_quiet">quiet</code></td>
<td>
<p>whether to silence messages in the console (default = <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_open">open</code></td>
<td>
<p>whether or not to open the script upon creation</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_overwrite">overwrite</code></td>
<td>
<p>whether or not to overwrite an existing pipeline of the same name and location.</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_skip">skip</code></td>
<td>
<p>whether to skip the pipeline when running in the orchestrator (default = <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_inputs">inputs</code></td>
<td>
<p>vector of names of pipelines that input into this pipeline (default = <code>NULL</code> for no inputs)</p>
</td></tr>
<tr><td><code id="create_pipeline_+3A_outputs">outputs</code></td>
<td>
<p>vector of names of pipelines that receive output from this pipeline (default = <code>NULL</code> for no outputs)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline(
    "extract_data",
    pipeline_dir = pipeline_dir,
    frequency = "1 hour",
    open = FALSE,
    quiet = TRUE,
    overwrite = TRUE
  )

  create_pipeline(
    "new_job",
    pipeline_dir = pipeline_dir,
    frequency = "20 minutes",
    start_time = as.POSIXct("2024-06-21 12:20:00"),
    log_level = "ERROR",
    open = FALSE,
    quiet = TRUE,
    overwrite = TRUE
  )
}
</code></pre>

<hr>
<h2 id='get_artifacts'>Get the artifacts (return values) of the pipelines in a MaestroSchedule object.</h2><span id='topic+get_artifacts'></span>

<h3>Description</h3>

<p>Artifacts are return values from pipelines. They are accessible as a named list
where the names correspond to the names of the pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_artifacts(schedule)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_artifacts_+3A_schedule">schedule</code></td>
<td>
<p>object of type MaestroSchedule created using <code>build_schedule()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>named list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)

  schedule &lt;- run_schedule(
    schedule,
    orch_frequency = "1 day",
    quiet = TRUE
  )

  get_artifacts(schedule)

  # Alternatively, use the underlying R6 method
  schedule$get_artifacts()
}
</code></pre>

<hr>
<h2 id='get_pipeline_run_sequence'>Generate a sequence of run times for a pipeline</h2><span id='topic+get_pipeline_run_sequence'></span>

<h3>Description</h3>

<p>Generate a sequence of run times for a pipeline
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pipeline_run_sequence(
  pipeline_n,
  pipeline_unit,
  pipeline_datetime,
  check_datetime,
  pipeline_hours = 0:23,
  pipeline_days_of_week = 1:7,
  pipeline_days_of_month = 1:31,
  pipeline_months = 1:12
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_pipeline_run_sequence_+3A_pipeline_n">pipeline_n</code></td>
<td>
<p>number of units for the pipeline frequency</p>
</td></tr>
<tr><td><code id="get_pipeline_run_sequence_+3A_pipeline_unit">pipeline_unit</code></td>
<td>
<p>unit for the pipeline frequency</p>
</td></tr>
<tr><td><code id="get_pipeline_run_sequence_+3A_pipeline_datetime">pipeline_datetime</code></td>
<td>
<p>datetime of the first time the pipeline is to run</p>
</td></tr>
<tr><td><code id="get_pipeline_run_sequence_+3A_check_datetime">check_datetime</code></td>
<td>
<p>datetime against which to check the running of pipelines (default is current system time in UTC)</p>
</td></tr>
<tr><td><code id="get_pipeline_run_sequence_+3A_pipeline_hours">pipeline_hours</code></td>
<td>
<p>vector of integers [0-23] corresponding to hours of day for the pipeline to run</p>
</td></tr>
<tr><td><code id="get_pipeline_run_sequence_+3A_pipeline_days_of_week">pipeline_days_of_week</code></td>
<td>
<p>vector of integers [1-7] corresponding to days of week for the pipeline to run (1 = Sunday)</p>
</td></tr>
<tr><td><code id="get_pipeline_run_sequence_+3A_pipeline_days_of_month">pipeline_days_of_month</code></td>
<td>
<p>vector of integers [1-31] corresponding to days of month for the pipeline to run</p>
</td></tr>
<tr><td><code id="get_pipeline_run_sequence_+3A_pipeline_months">pipeline_months</code></td>
<td>
<p>vector of integers [1-12] corresponding to months of year for the pipeline to run</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of timestamps or dates
</p>

<hr>
<h2 id='get_schedule'>Get the schedule from a MaestroSchedule object</h2><span id='topic+get_schedule'></span>

<h3>Description</h3>

<p>A schedule is represented as a table where each row is a pipeline and
the columns contain scheduling parameters such as the frequency and start time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_schedule(schedule)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_schedule_+3A_schedule">schedule</code></td>
<td>
<p>object of type MaestroSchedule created using <code>build_schedule()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The schedule table is used internally in a MaestroSchedule object but can be
accessed using this function or accessing the R6 method of the MaestroSchedule
object.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)

  get_schedule(schedule)

  # Alternatively, use the underlying R6 method
  schedule$get_schedule()
}
</code></pre>

<hr>
<h2 id='get_status'>Get the statuses of the pipelines in a MaestroSchedule object</h2><span id='topic+get_status'></span>

<h3>Description</h3>

<p>A status data.frame contains the names and locations of the pipelines as
well as information around whether they were invoked, the status (error, warning, etc.),
and the run time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_status(schedule)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_status_+3A_schedule">schedule</code></td>
<td>
<p>object of type MaestroSchedule created using <code>build_schedule()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)

  schedule &lt;- run_schedule(
    schedule,
    orch_frequency = "1 day",
    quiet = TRUE
  )

  get_status(schedule)

  # Alternatively, use the underlying R6 method
  schedule$get_status()
}
</code></pre>

<hr>
<h2 id='invoke'>Manually run a pipeline regardless of schedule</h2><span id='topic+invoke'></span>

<h3>Description</h3>

<p>Instantly run a single pipeline from the schedule. This is useful for testing
purposes or if you want to just run something one-off.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>invoke(schedule, pipe_name, resources = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="invoke_+3A_schedule">schedule</code></td>
<td>
<p>object of type MaestroSchedule created using <code>build_schedule()</code></p>
</td></tr>
<tr><td><code id="invoke_+3A_pipe_name">pipe_name</code></td>
<td>
<p>name of a single pipe name from the schedule</p>
</td></tr>
<tr><td><code id="invoke_+3A_resources">resources</code></td>
<td>
<p>named list of shared resources made available to pipelines as needed</p>
</td></tr>
<tr><td><code id="invoke_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code>run_schedule()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Scheduling parameters such as the frequency, start time, and specifiers are ignored.
The pipeline will be run even if <code>maestroSkip</code> is present.
</p>


<h3>Value</h3>

<p>invisible
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)

  invoke(schedule, "my_new_pipeline")
}
</code></pre>

<hr>
<h2 id='is_valid_dag'>Checks whether a DAG is valid (no loops)</h2><span id='topic+is_valid_dag'></span>

<h3>Description</h3>

<p>Checks whether a DAG is valid (no loops)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valid_dag(edges)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_valid_dag_+3A_edges">edges</code></td>
<td>
<p>a data.frame of edges (from, to)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>boolean
</p>

<hr>
<h2 id='last_build_errors'>Retrieve latest maestro build errors</h2><span id='topic+last_build_errors'></span>

<h3>Description</h3>

<p>Gets the latest schedule build errors following use of <code>build_schedule()</code>. If
the build succeeded or <code>build_schedule()</code> has not been run it will be <code>NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_build_errors()
</code></pre>


<h3>Value</h3>

<p>error messages
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
last_build_errors()
</code></pre>

<hr>
<h2 id='last_run_errors'>Retrieve latest maestro pipeline errors</h2><span id='topic+last_run_errors'></span>

<h3>Description</h3>

<p>Gets the latest pipeline errors following use of <code>run_schedule()</code>. If
the all runs succeeded or <code>run_schedule()</code> has not been run it will be <code>NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_run_errors()
</code></pre>


<h3>Value</h3>

<p>error messages
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
last_run_errors()
</code></pre>

<hr>
<h2 id='last_run_messages'>Retrieve latest maestro pipeline messages</h2><span id='topic+last_run_messages'></span>

<h3>Description</h3>

<p>Gets the latest pipeline messages following use of <code>run_schedule()</code>. If
there are no messages or <code>run_schedule()</code> has not been run it will be <code>NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_run_messages()
</code></pre>


<h3>Details</h3>

<p>Note that setting <code>maestroLogLevel</code> to something greater than <code>INFO</code> will
ignore messages.
</p>


<h3>Value</h3>

<p>messages
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
last_run_messages()
</code></pre>

<hr>
<h2 id='last_run_warnings'>Retrieve latest maestro pipeline warnings</h2><span id='topic+last_run_warnings'></span>

<h3>Description</h3>

<p>Gets the latest pipeline warnings following use of <code>run_schedule()</code>. If
there are no warnings or <code>run_schedule()</code> has not been run it will be <code>NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_run_warnings()
</code></pre>


<h3>Details</h3>

<p>Note that setting <code>maestroLogLevel</code> to something greater than <code>WARN</code> will
ignore warnings.
</p>


<h3>Value</h3>

<p>warning messages
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
last_run_warnings()
</code></pre>

<hr>
<h2 id='maestro_parse_cli'>cli output for generate schedule table</h2><span id='topic+maestro_parse_cli'></span>

<h3>Description</h3>

<p>cli output for generate schedule table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maestro_parse_cli(parse_succeeds, parse_errors)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maestro_parse_cli_+3A_parse_succeeds">parse_succeeds</code></td>
<td>
<p>list of parse results (i.e., succeeded)</p>
</td></tr>
<tr><td><code id="maestro_parse_cli_+3A_parse_errors">parse_errors</code></td>
<td>
<p>list of parse errors</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cli output
</p>

<hr>
<h2 id='maestro_tags'>Maestro Tags</h2><span id='topic+maestro_tags'></span>

<h3>Description</h3>

<p>maestro tags are roxygen2 comments for configuring the scheduling and execution
of pipelines.
</p>


<h3>Details</h3>

<p>maestro tags follow the format <code style="white-space: pre;">&#8288;#' @maestroTagName&#8288;</code>
</p>


<h4>Tag List</h4>


<table>
<tr>
 <td style="text-align: left;">
   tagName </td><td style="text-align: left;"> description </td><td style="text-align: left;"> value </td><td style="text-align: left;"> examples (comma sep.) </td><td style="text-align: left;"> default </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroFrequency </td><td style="text-align: left;"> Time unit for scheduling </td><td style="text-align: left;"> string </td><td style="text-align: left;"> 1 hour, daily, 3 days, 5 weeks </td><td style="text-align: left;"> 1 day </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroLogLevel </td><td style="text-align: left;"> Threshold for logging when logging is requested </td><td style="text-align: left;"> string </td><td style="text-align: left;"> INFO, WARN, ERROR </td><td style="text-align: left;"> INFO </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroSkip </td><td style="text-align: left;"> Skips the pipeline when running (presence of tag indicates to skip) </td><td style="text-align: left;"> n/a </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroStartTime </td><td style="text-align: left;"> Start time of the pipeline; sets the point in time for recurrence </td><td style="text-align: left;"> date or timestamp </td><td style="text-align: left;"> 1970-01-01 00:00:00, 2024-03-28 </td><td style="text-align: left;"> 1970-01-01 00:00:00 </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroTz </td><td style="text-align: left;"> Timezone of the start time </td><td style="text-align: left;"> string </td><td style="text-align: left;"> UTC, America/Halifax </td><td style="text-align: left;"> UTC </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroHours </td><td style="text-align: left;"> Hours of day to run pipeline </td><td style="text-align: left;"> ints </td><td style="text-align: left;"> 0 12 23 </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroDays </td><td style="text-align: left;"> Days of week or days of month to run pipeline </td><td style="text-align: left;"> ints or strings </td><td style="text-align: left;"> 1 14 30, Mon Wed Sat </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroMonths </td><td style="text-align: left;"> Months of year to run pipeline </td><td style="text-align: left;"> ints </td><td style="text-align: left;"> 1 3 9 12 </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroInputs </td><td style="text-align: left;"> Pipelines that input into this pipeline </td><td style="text-align: left;"> strings </td><td style="text-align: left;"> my_upstream_pipeline </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestroOutputs </td><td style="text-align: left;"> Pipelines that take the output from this pipeline </td><td style="text-align: left;"> strings </td><td style="text-align: left;"> my_downstream_pipeline </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   maestro </td><td style="text-align: left;"> Generic tag for identifying a maestro pipeline with all defaults </td><td style="text-align: left;"> n/a. </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<hr>
<h2 id='MaestroPipeline'>Class for an individual maestro pipeline
A pipeline is defined as a single R script with a schedule or input</h2><span id='topic+MaestroPipeline'></span>

<h3>Description</h3>

<p>Class for an individual maestro pipeline
A pipeline is defined as a single R script with a schedule or input
</p>
<p>Class for an individual maestro pipeline
A pipeline is defined as a single R script with a schedule or input
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-MaestroPipeline-new"><code>MaestroPipeline$new()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-print"><code>MaestroPipeline$print()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-run"><code>MaestroPipeline$run()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_pipe_name"><code>MaestroPipeline$get_pipe_name()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_schedule"><code>MaestroPipeline$get_schedule()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-check_timeliness"><code>MaestroPipeline$check_timeliness()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_status"><code>MaestroPipeline$get_status()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_status_chr"><code>MaestroPipeline$get_status_chr()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_outputs"><code>MaestroPipeline$get_outputs()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_inputs"><code>MaestroPipeline$get_inputs()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_artifacts"><code>MaestroPipeline$get_artifacts()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_errors"><code>MaestroPipeline$get_errors()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_warnings"><code>MaestroPipeline$get_warnings()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-get_messages"><code>MaestroPipeline$get_messages()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-update_inputs"><code>MaestroPipeline$update_inputs()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-update_outputs"><code>MaestroPipeline$update_outputs()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipeline-clone"><code>MaestroPipeline$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-MaestroPipeline-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new Pipeline object
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$new(
  script_path,
  pipe_name,
  frequency = NA_character_,
  start_time = lubridate::NA_POSIXct_,
  tz = NA_character_,
  hours = NULL,
  days = NULL,
  months = NULL,
  skip = FALSE,
  log_level = "INFO",
  inputs = NULL,
  outputs = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>script_path</code></dt><dd><p>path to the script</p>
</dd>
<dt><code>pipe_name</code></dt><dd><p>name of the pipeline</p>
</dd>
<dt><code>frequency</code></dt><dd><p>frequency of the pipeline (e.g., 1 day)</p>
</dd>
<dt><code>start_time</code></dt><dd><p>start time of the pipeline</p>
</dd>
<dt><code>tz</code></dt><dd><p>time zone of the pipeline</p>
</dd>
<dt><code>hours</code></dt><dd><p>specific hours of the day</p>
</dd>
<dt><code>days</code></dt><dd><p>specific days of week or month</p>
</dd>
<dt><code>months</code></dt><dd><p>specific months of year</p>
</dd>
<dt><code>skip</code></dt><dd><p>whether to skip the pipeline regardless of scheduling</p>
</dd>
<dt><code>log_level</code></dt><dd><p>log level of the pipeline</p>
</dd>
<dt><code>inputs</code></dt><dd><p>names of pipelines that this pipeline is dependent on for input</p>
</dd>
<dt><code>outputs</code></dt><dd><p>names of pipelines for which this pipeline is a dependency</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>MaestroPipeline object
</p>


<hr>
<a id="method-MaestroPipeline-print"></a>



<h4>Method <code>print()</code></h4>

<p>Prints the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$print()</pre></div>



<h5>Returns</h5>

<p>print
</p>


<hr>
<a id="method-MaestroPipeline-run"></a>



<h4>Method <code>run()</code></h4>

<p>Runs the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$run(
  resources = list(),
  log_file = tempfile(),
  quiet = FALSE,
  log_file_max_bytes = 1e+06,
  .input = NULL,
  cli_prepend = "",
  log_to_console = FALSE,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>resources</code></dt><dd><p>named list of arguments and values to pass to the pipeline</p>
</dd>
<dt><code>log_file</code></dt><dd><p>path to the log file for logging</p>
</dd>
<dt><code>quiet</code></dt><dd><p>whether to silence console output</p>
</dd>
<dt><code>log_file_max_bytes</code></dt><dd><p>maximum bytes of the log file before trimming</p>
</dd>
<dt><code>.input</code></dt><dd><p>input values from upstream pipelines</p>
</dd>
<dt><code>cli_prepend</code></dt><dd><p>text to prepend to cli output</p>
</dd>
<dt><code>log_to_console</code></dt><dd><p>whether or not to output statements in the console (FALSE is to suppress and append to log)</p>
</dd>
<dt><code>...</code></dt><dd><p>additional arguments (unused)</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>invisible
</p>


<hr>
<a id="method-MaestroPipeline-get_pipe_name"></a>



<h4>Method <code>get_pipe_name()</code></h4>

<p>Get the pipeline name
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_pipe_name()</pre></div>



<h5>Returns</h5>

<p>pipeline_name
</p>


<hr>
<a id="method-MaestroPipeline-get_schedule"></a>



<h4>Method <code>get_schedule()</code></h4>

<p>Get the schedule as a data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_schedule()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroPipeline-check_timeliness"></a>



<h4>Method <code>check_timeliness()</code></h4>

<p>Check whether a pipeline is scheduled to run based on orchestrator frequency and current time
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$check_timeliness(
  orch_unit,
  orch_n,
  check_datetime = lubridate::now(),
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>orch_unit</code></dt><dd><p>unit of the orchestrator (e.g., day)</p>
</dd>
<dt><code>orch_n</code></dt><dd><p>number of units of the frequency</p>
</dd>
<dt><code>check_datetime</code></dt><dd><p>datetime against which to check the timeliness of the pipeline (should almost always be now)</p>
</dd>
<dt><code>...</code></dt><dd><p>unused</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>MaestroPipeline
</p>


<hr>
<a id="method-MaestroPipeline-get_status"></a>



<h4>Method <code>get_status()</code></h4>

<p>Get status of the pipeline as a data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_status()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroPipeline-get_status_chr"></a>



<h4>Method <code>get_status_chr()</code></h4>

<p>Get status of the pipeline as a string
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_status_chr()</pre></div>



<h5>Returns</h5>

<p>character
</p>


<hr>
<a id="method-MaestroPipeline-get_outputs"></a>



<h4>Method <code>get_outputs()</code></h4>

<p>Names of pipelines that receive input from this pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_outputs()</pre></div>



<h5>Returns</h5>

<p>character
</p>


<hr>
<a id="method-MaestroPipeline-get_inputs"></a>



<h4>Method <code>get_inputs()</code></h4>

<p>Names of pipelines that input into this pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_inputs()</pre></div>



<h5>Returns</h5>

<p>character
</p>


<hr>
<a id="method-MaestroPipeline-get_artifacts"></a>



<h4>Method <code>get_artifacts()</code></h4>

<p>Get artifacts (return values) from the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_artifacts()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipeline-get_errors"></a>



<h4>Method <code>get_errors()</code></h4>

<p>Get list of errors from the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_errors()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipeline-get_warnings"></a>



<h4>Method <code>get_warnings()</code></h4>

<p>Get list of warnings from the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_warnings()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipeline-get_messages"></a>



<h4>Method <code>get_messages()</code></h4>

<p>Get list of messages from the pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$get_messages()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipeline-update_inputs"></a>



<h4>Method <code>update_inputs()</code></h4>

<p>Update the inputs of a pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$update_inputs(inputs)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>inputs</code></dt><dd><p>character vector of inputting pipeline names</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipeline-update_outputs"></a>



<h4>Method <code>update_outputs()</code></h4>

<p>Update the outputs of a pipeline
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$update_outputs(outputs)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>outputs</code></dt><dd><p>character vector of outputting pipeline names</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipeline-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipeline$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='MaestroPipelineList'>Class for a list of MaestroPipelines
A MaestroPipelineList is created when there are multiple maestro pipelines in a
single script</h2><span id='topic+MaestroPipelineList'></span>

<h3>Description</h3>

<p>Class for a list of MaestroPipelines
A MaestroPipelineList is created when there are multiple maestro pipelines in a
single script
</p>
<p>Class for a list of MaestroPipelines
A MaestroPipelineList is created when there are multiple maestro pipelines in a
single script
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>MaestroPipelines</code></dt><dd><p>list of pipelines</p>
</dd>
<dt><code>n_pipelines</code></dt><dd><p>number of pipelines in the list</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-MaestroPipelineList-new"><code>MaestroPipelineList$new()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-print"><code>MaestroPipelineList$print()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-add_pipelines"><code>MaestroPipelineList$add_pipelines()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_pipe_names"><code>MaestroPipelineList$get_pipe_names()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_pipe_by_name"><code>MaestroPipelineList$get_pipe_by_name()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_schedule"><code>MaestroPipelineList$get_schedule()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_timely_pipelines"><code>MaestroPipelineList$get_timely_pipelines()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_primary_pipes"><code>MaestroPipelineList$get_primary_pipes()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-check_timeliness"><code>MaestroPipelineList$check_timeliness()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_status"><code>MaestroPipelineList$get_status()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_errors"><code>MaestroPipelineList$get_errors()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_warnings"><code>MaestroPipelineList$get_warnings()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_messages"><code>MaestroPipelineList$get_messages()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_artifacts"><code>MaestroPipelineList$get_artifacts()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-get_network"><code>MaestroPipelineList$get_network()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-validate_network"><code>MaestroPipelineList$validate_network()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-run"><code>MaestroPipelineList$run()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroPipelineList-clone"><code>MaestroPipelineList$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-MaestroPipelineList-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a MaestroPipelineList object
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$new(MaestroPipelines = list(), network = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>MaestroPipelines</code></dt><dd><p>list of MaestroPipelines</p>
</dd>
<dt><code>network</code></dt><dd><p>initialize a network</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>MaestroPipelineList
</p>


<hr>
<a id="method-MaestroPipelineList-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print the MaestroPipelineList
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$print()</pre></div>



<h5>Returns</h5>

<p>print
</p>


<hr>
<a id="method-MaestroPipelineList-add_pipelines"></a>



<h4>Method <code>add_pipelines()</code></h4>

<p>Add pipelines to the list
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$add_pipelines(MaestroPipelines = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>MaestroPipelines</code></dt><dd><p>list of MaestroPipelines</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>invisible
</p>


<hr>
<a id="method-MaestroPipelineList-get_pipe_names"></a>



<h4>Method <code>get_pipe_names()</code></h4>

<p>Get names of the pipelines in the list
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_pipe_names()</pre></div>



<h5>Returns</h5>

<p>character
</p>


<hr>
<a id="method-MaestroPipelineList-get_pipe_by_name"></a>



<h4>Method <code>get_pipe_by_name()</code></h4>

<p>Get a MaestroPipeline by its name
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_pipe_by_name(pipe_name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pipe_name</code></dt><dd><p>name of the pipeline</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>MaestroPipeline
</p>


<hr>
<a id="method-MaestroPipelineList-get_schedule"></a>



<h4>Method <code>get_schedule()</code></h4>

<p>Get the schedule as a data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_schedule()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroPipelineList-get_timely_pipelines"></a>



<h4>Method <code>get_timely_pipelines()</code></h4>

<p>Get a new MaestroPipelineList containing only those pipelines scheduled to run
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_timely_pipelines(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>arguments passed to self$check_timeliness</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>MaestroPipelineList
</p>


<hr>
<a id="method-MaestroPipelineList-get_primary_pipes"></a>



<h4>Method <code>get_primary_pipes()</code></h4>

<p>Get pipelines that are primary (i.e., don't have an inputting pipeline)
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_primary_pipes()</pre></div>



<h5>Returns</h5>

<p>list of MaestroPipelines
</p>


<hr>
<a id="method-MaestroPipelineList-check_timeliness"></a>



<h4>Method <code>check_timeliness()</code></h4>

<p>Check whether pipelines in the list are scheduled to run based on orchestrator frequency and current time
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$check_timeliness(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>arguments passed to self$check_timeliness</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>logical
</p>


<hr>
<a id="method-MaestroPipelineList-get_status"></a>



<h4>Method <code>get_status()</code></h4>

<p>Get status of the pipelines as a data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_status()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroPipelineList-get_errors"></a>



<h4>Method <code>get_errors()</code></h4>

<p>Get list of errors from the pipelines
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_errors()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipelineList-get_warnings"></a>



<h4>Method <code>get_warnings()</code></h4>

<p>Get list of warnings from the pipelines
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_warnings()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipelineList-get_messages"></a>



<h4>Method <code>get_messages()</code></h4>

<p>Get list of messages from the pipelines
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_messages()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipelineList-get_artifacts"></a>



<h4>Method <code>get_artifacts()</code></h4>

<p>Get artifacts (return values) from the pipelines
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_artifacts()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroPipelineList-get_network"></a>



<h4>Method <code>get_network()</code></h4>

<p>Get the network structure as a edge list
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$get_network()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroPipelineList-validate_network"></a>



<h4>Method <code>validate_network()</code></h4>

<p>Validates whether all inputs and outputs exist and that the network is a valid DAG
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$validate_network()</pre></div>



<h5>Returns</h5>

<p>warning or invisible
</p>


<hr>
<a id="method-MaestroPipelineList-run"></a>



<h4>Method <code>run()</code></h4>

<p>Runs all the pipelines in the list
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$run(..., cores = 1L)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>arguments passed to MaestroPipeline$run</p>
</dd>
<dt><code>cores</code></dt><dd><p>if using multicore number of cores to run in (uses <code>furrr</code>)</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>invisible
</p>


<hr>
<a id="method-MaestroPipelineList-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroPipelineList$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='MaestroSchedule'>Class for a schedule of pipelines</h2><span id='topic+MaestroSchedule'></span>

<h3>Description</h3>

<p>Class for a schedule of pipelines
</p>
<p>Class for a schedule of pipelines
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>PipelineList</code></dt><dd><p>object of type MaestroPipelineList</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-MaestroSchedule-new"><code>MaestroSchedule$new()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-print"><code>MaestroSchedule$print()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-run"><code>MaestroSchedule$run()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-get_schedule"><code>MaestroSchedule$get_schedule()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-get_status"><code>MaestroSchedule$get_status()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-get_artifacts"><code>MaestroSchedule$get_artifacts()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-get_network"><code>MaestroSchedule$get_network()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-show_network"><code>MaestroSchedule$show_network()</code></a>
</p>
</li>
<li> <p><a href="#method-MaestroSchedule-clone"><code>MaestroSchedule$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-MaestroSchedule-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a MaestroSchedule object
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$new(Pipelines = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>Pipelines</code></dt><dd><p>list of MaestroPipelines</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>MaestroSchedule
</p>


<hr>
<a id="method-MaestroSchedule-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print the schedule object
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$print()</pre></div>



<h5>Returns</h5>

<p>print
</p>


<hr>
<a id="method-MaestroSchedule-run"></a>



<h4>Method <code>run()</code></h4>

<p>Run a MaestroSchedule
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$run(..., quiet = FALSE, run_all = FALSE, n_show_next = 5)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>arguments passed to MaestroPipelineList$run</p>
</dd>
<dt><code>quiet</code></dt><dd><p>whether or not to silence console messages</p>
</dd>
<dt><code>run_all</code></dt><dd><p>run all pipelines regardless of the schedule (default is <code>FALSE</code>) - useful for testing.</p>
</dd>
<dt><code>n_show_next</code></dt><dd><p>show the next n scheduled pipes</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>invisible
</p>


<hr>
<a id="method-MaestroSchedule-get_schedule"></a>



<h4>Method <code>get_schedule()</code></h4>

<p>Get the schedule as a data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$get_schedule()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroSchedule-get_status"></a>



<h4>Method <code>get_status()</code></h4>

<p>Get status of the pipelines as a data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$get_status()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroSchedule-get_artifacts"></a>



<h4>Method <code>get_artifacts()</code></h4>

<p>Get artifacts (return values) from the pipelines
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$get_artifacts()</pre></div>



<h5>Returns</h5>

<p>list
</p>


<hr>
<a id="method-MaestroSchedule-get_network"></a>



<h4>Method <code>get_network()</code></h4>

<p>Get the network structure of the pipelines as an edge list (will be empty if there are no DAG pipelines)
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$get_network()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-MaestroSchedule-show_network"></a>



<h4>Method <code>show_network()</code></h4>

<p>Visualize the DAG relationships between pipelines in the schedule
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$show_network()</pre></div>



<h5>Returns</h5>

<p>interactive visualization
</p>


<hr>
<a id="method-MaestroSchedule-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>MaestroSchedule$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)
}
</code></pre>

<hr>
<h2 id='parse_rounding_unit'>Parse a time string</h2><span id='topic+parse_rounding_unit'></span>

<h3>Description</h3>

<p>Parse a time string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_rounding_unit(time_string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_rounding_unit_+3A_time_string">time_string</code></td>
<td>
<p>string like 1 day, daily, 1 week, 12 hours, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nunit list
</p>

<hr>
<h2 id='run_schedule'>Run a schedule</h2><span id='topic+run_schedule'></span>

<h3>Description</h3>

<p>Given a schedule in a <code>maestro</code> project, runs the pipelines that are scheduled to execute
based on the current time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_schedule(
  schedule,
  orch_frequency = "1 day",
  check_datetime = lubridate::now(tzone = "UTC"),
  resources = list(),
  run_all = FALSE,
  n_show_next = 5,
  cores = 1,
  logging = lifecycle::deprecated(),
  log_file = lifecycle::deprecated(),
  log_file_max_bytes = 1e+06,
  quiet = FALSE,
  log_to_console = FALSE,
  log_to_file = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_schedule_+3A_schedule">schedule</code></td>
<td>
<p>object of type MaestroSchedule created using <code>build_schedule()</code></p>
</td></tr>
<tr><td><code id="run_schedule_+3A_orch_frequency">orch_frequency</code></td>
<td>
<p>of the orchestrator, a single string formatted like &quot;1 day&quot;, &quot;2 weeks&quot;, &quot;hourly&quot;, etc.</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_check_datetime">check_datetime</code></td>
<td>
<p>datetime against which to check the running of pipelines (default is current system time in UTC)</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_resources">resources</code></td>
<td>
<p>named list of shared resources made available to pipelines as needed</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_run_all">run_all</code></td>
<td>
<p>run all pipelines regardless of the schedule (default is <code>FALSE</code>) - useful for testing.
Does not apply to pipes with a <code>maestroSkip</code> tag.</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_n_show_next">n_show_next</code></td>
<td>
<p>show the next n scheduled pipes</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_cores">cores</code></td>
<td>
<p>number of cpu cores to run if running in parallel. If &gt; 1, <code>furrr</code> is used and
a multisession plan must be executed in the orchestrator (see details)</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_logging">logging</code></td>
<td>
<p>whether or not to write the logs to a file (deprecated in 0.5.0 - use <code>log_to_file</code> and/or <code>log_to_console</code> arguments instead)</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_log_file">log_file</code></td>
<td>
<p>path to the log file (ignored if <code>log_to_file == FALSE</code>) (deprecated in 0.5.0 - use <code>log_to_file</code>)</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_log_file_max_bytes">log_file_max_bytes</code></td>
<td>
<p>numeric specifying the maximum number of bytes allowed in the log file before purging the log (within a margin of error)</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_quiet">quiet</code></td>
<td>
<p>silence metrics to the console (default = <code>FALSE</code>). Note this does not affect messages generated from pipelines when <code>log_to_console = TRUE</code>.</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_log_to_console">log_to_console</code></td>
<td>
<p>whether or not to include pipeline messages, warnings, errors to the console (default = <code>FALSE</code>) (see Logging &amp; Console Output section)</p>
</td></tr>
<tr><td><code id="run_schedule_+3A_log_to_file">log_to_file</code></td>
<td>
<p>either a boolean to indicate whether to create and append to a <code>maestro.log</code> or a character path to a specific log file. If <code>FALSE</code> or <code>NULL</code> it will not log to a file.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Pipeline schedule logic</h4>

<p>The function <code>run_schedule()</code> examines each pipeline in the schedule table and determines
whether it is scheduled to run at the current time using some simple time arithmetic. We assume
<code>run_schedule(schedule, check_datetime = Sys.time())</code>, but this need not be the case.
</p>



<h4>Output</h4>

<p><code>run_schedule()</code> returns the same MaestroSchedule object with modified attributes. Use <code>get_status()</code>
to examine the status of each pipeline and use <code>get_artifacts()</code> to get any return values from the
pipelines as a list.
</p>



<h4>Pipelines with arguments (resources)</h4>

<p>If a pipeline takes an argument that doesn't include a default value, these can be supplied
in the orchestrator via <code>run_schedule(resources = list(arg1 = val))</code>. The name of the argument
used by the pipeline must match the name of the argument in the list. Currently, each named
resource must refer to a single object. In other words, you can't have two pipes using
the same argument but requiring different values.
</p>



<h4>Running in parallel</h4>

<p>Pipelines can be run in parallel using the <code>cores</code> argument. First, you must run <code>future::plan(future::multisession)</code>
in the orchestrator. Then, supply the desired number of cores to the <code>cores</code> argument. Note that
console output appears different in multicore mode.
</p>



<h4>Logging &amp; Console Output</h4>

<p>By default, <code>maestro</code> suppresses pipeline messages, warnings, and errors from appearing in the console, but
messages coming from <code>print()</code> and other console logging packages like <code>cli</code> and <code>logger</code> are not suppressed
and will be interwoven into the output generated from <code>run_schedule()</code>. Messages from <code>cat()</code> and related functions are always suppressed
due to the nature of how those functions operate with standard output.
</p>
<p>Users are advised to make use of R's <code>message()</code>, <code>warning()</code>, and <code>stop()</code> functions in their pipelines
for managing conditions. Use <code>log_to_console = TRUE</code> to print these to the console.
</p>
<p>Maestro can generate a log file that is appended to each time the orchestrator is run. Use <code>log_to_file = TRUE</code> or <code>log_to_file = '[path-to-file]'</code> and
maestro will create/append to a file in the project directory.
This log file will be appended to until it exceeds the byte size defined in <code>log_file_max_bytes</code> argument after which
the log file is deleted.
</p>



<h3>Value</h3>

<p>MaestroSchedule object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)

  # Runs the schedule every 1 day
  run_schedule(
    schedule,
    orch_frequency = "1 day",
    quiet = TRUE
  )

  # Runs the schedule every 15 minutes
  run_schedule(
    schedule,
    orch_frequency = "15 minutes",
    quiet = TRUE
  )
}
</code></pre>

<hr>
<h2 id='show_network'>Visualize the schedule as a DAG</h2><span id='topic+show_network'></span>

<h3>Description</h3>

<p>Create an interactive network visualization to show the dependency structure
of pipelines in the schedule. This is only useful if there are pipelines in
the schedule that take inputs/outputs from other pipelines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_network(schedule)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_network_+3A_schedule">schedule</code></td>
<td>
<p>object of type MaestroSchedule created using <code>build_schedule()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that running this function on a schedule with all independent pipelines
will produce a network visual with no connections.
</p>
<p>This function requires the installation of <code>DiagrammeR</code> which is not automatically
installed with <code>maestro</code>.
</p>


<h3>Value</h3>

<p>DiagrammeR visualization
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)

  schedule &lt;- run_schedule(
    schedule,
    orch_frequency = "1 day",
    quiet = TRUE
  )

  show_network(schedule)
}
</code></pre>

<hr>
<h2 id='suggest_orch_frequency'>Suggest orchestrator frequency based on a schedule</h2><span id='topic+suggest_orch_frequency'></span>

<h3>Description</h3>

<p>Suggests a frequency to run the orchestrator based on the frequencies of the
pipelines in a schedule.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suggest_orch_frequency(
  schedule,
  check_datetime = lubridate::now(tzone = "UTC")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="suggest_orch_frequency_+3A_schedule">schedule</code></td>
<td>
<p>MaestroSchedule object created by <code>build_schedule()</code></p>
</td></tr>
<tr><td><code id="suggest_orch_frequency_+3A_check_datetime">check_datetime</code></td>
<td>
<p>datetime against which to check the running of pipelines (default is current system time in UTC)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function attempts to find the smallest interval of time between all pipelines.
If the smallest interval is less than 15 minutes, it just uses the smallest interval.
</p>
<p>Note this function is intended to be used interactively when deciding how often to
schedule the orchestrator. Programmatic use is not recommended.
</p>


<h3>Value</h3>

<p>frequency string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {
  pipeline_dir &lt;- tempdir()
  create_pipeline("my_new_pipeline", pipeline_dir, open = FALSE)
  schedule &lt;- build_schedule(pipeline_dir = pipeline_dir)
  suggest_orch_frequency(schedule)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

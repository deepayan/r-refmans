<!DOCTYPE html><html lang="en"><head><title>Help for package Certara.ModelResults</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Certara.ModelResults}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_eps_shk'><p>Get eps skrinkage values xpdb</p></a></li>
<li><a href='#get_eta_shk'><p>Get eta skrinkage values xpdb</p></a></li>
<li><a href='#resultsUI'><p>Generate and Report Model Diagnostics from NLME or NONMEM runs</p></a></li>
<li><a href='#theme_certara'><p>A ggplot2 theme for Certara.</p></a></li>
<li><a href='#write_code'><p>Write code to R script from tagged diagnostics</p></a></li>
<li><a href='#xpdb_NLME'><p>List of xpose data objects from RsNLME example tutorials</p></a></li>
<li><a href='#xpdb_NONMEM'><p>List of xpose data objects from NONMEM model output</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Generate Diagnostics for Pharmacometric Models Using 'shiny'</td>
</tr>
<tr>
<td>Version:</td>
<td>3.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Utilize the 'shiny' interface to generate Goodness of Fit (GOF) plots and tables
      for Non-Linear Mixed Effects (NLME / NONMEM) pharmacometric models. From the interface,
      users can customize model diagnostics and generate the underlying R code to reproduce the 
      diagnostic plots and tables outside of the 'shiny' session. Model diagnostics can be included
      in a 'rmarkdown' document and rendered to desired output format.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://certara.github.io/R-model-results/">https://certara.github.io/R-model-results/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), Certara.RsNLME</td>
</tr>
<tr>
<td>Imports:</td>
<td>colourpicker, shinyAce, shinymeta, Certara.Xpose.NLME, xpose,
dplyr, flextable, shinyjqui, grDevices, ggplot2, plotly,
magrittr, scales, shiny (&ge; 1.7.0), shinyjs, shinyWidgets,
shinyTree (&ge; 0.3.1), sortable, tidyr, rlang, bslib (&ge; 0.7.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-27 23:19:17 UTC; jcraig</td>
</tr>
<tr>
<td>Author:</td>
<td>James Craig [aut, cre],
  Shuhua Hu [ctb],
  Mike Talley [aut],
  Certara USA, Inc [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James Craig &lt;james.craig@certara.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-03 11:50:24 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_eps_shk'>Get eps skrinkage values xpdb</h2><span id='topic+get_eps_shk'></span>

<h3>Description</h3>

<p>This function returns eps shrinkage values from xpdb object as a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_eps_shk(xpdb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_eps_shk_+3A_xpdb">xpdb</code></td>
<td>
<p>Object of class <code>xpose_data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <code>data.frame</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_eps_shk(xpdb_NLME$TwCpt_IVBolus_FOCE_ELS)

</code></pre>

<hr>
<h2 id='get_eta_shk'>Get eta skrinkage values xpdb</h2><span id='topic+get_eta_shk'></span>

<h3>Description</h3>

<p>This function returns eta shrinkage values from xpdb object as a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_eta_shk(xpdb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_eta_shk_+3A_xpdb">xpdb</code></td>
<td>
<p>Object of class <code>xpose_data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <code>data.frame</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_eta_shk(xpdb_NLME$TwCpt_IVBolus_FOCE_ELS)


</code></pre>

<hr>
<h2 id='resultsUI'>Generate and Report Model Diagnostics from NLME or NONMEM runs</h2><span id='topic+resultsUI'></span>

<h3>Description</h3>

<p>Shiny application to generate, customize, and report diagnostic plots and tables from NLME or
NONMEM output files. Create an Rmarkdown file of tagged model diagnostics and render into
submission ready report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resultsUI(model, xpdb = NULL, tagged = NULL, settings = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="resultsUI_+3A_model">model</code></td>
<td>
<p>A single object, vector, or list of objects of class <code>NlmePmlModel</code>.</p>
</td></tr>
<tr><td><code id="resultsUI_+3A_xpdb">xpdb</code></td>
<td>
<p>A single object or list of objects of class <code>xpose_data</code>.</p>
</td></tr>
<tr><td><code id="resultsUI_+3A_tagged">tagged</code></td>
<td>
<p>List of tagged objects returned from previous <code>tagged &lt;- resultsUI()</code> session.</p>
</td></tr>
<tr><td><code id="resultsUI_+3A_settings">settings</code></td>
<td>
<p>List of settings (e.g., settings.Rds) returned from previous Shiny session.</p>
</td></tr>
<tr><td><code id="resultsUI_+3A_...">...</code></td>
<td>
<p>Additional arguments for Pirana integration.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>interactive()</code>, returns a list of tagged diagnostics from the Shiny application, otherwise returns <code>TRUE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {


# RsNLME
library(Certara.RsNLME)
library(Certara.ModelResults)

model1 &lt;- pkmodel(numCompartments = 1,
                 data = pkData,
                 ID = "Subject",
                 Time = "Act_Time",
                 A1 = "Amount",
                 CObs = "Conc",
                 modelName = "OneCpt_IVBolus_FOCE-ELS")

baseFitJob1 &lt;- fitmodel(model1)


model2 &lt;- pkmodel(numCompartments = 2,
                 data = pkData,
                 ID = "Subject",
                 Time = "Act_Time",
                 A1 = "Amount",
                 CObs = "Conc",
                 modelName = "TwCpt_IVBolus_FOCE-ELS")

baseFitJob2 &lt;- fitmodel(model2)

# Run Model Results
resultsUI(model = c(model1, model2))


# NONMEM via xpose

library(Certara.ModelResults)
library(xpose)

xpdb &lt;- xpose_data(
  runno = "1",
  prefix = "run",
  ext = ".lst",
  dir = "./NONMEM/Hands_onB/")

resultsUI(xpdb = xpdb)

# Multiple models

xpdb_multiple &lt;- list(
 run1 = xpose_data(file = "run1.lst"),
 run2 = xpose_data(file = "run2.lst"),
 run3 = xpose_data(file = "run3.lst"),
 run4 = xpose_data(file = "run4.lst")
)
}

</code></pre>

<hr>
<h2 id='theme_certara'>A ggplot2 theme for Certara.</h2><span id='topic+theme_certara'></span>

<h3>Description</h3>

<p>A ggplot2 theme for Certara.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_certara(
  base_size = 11,
  base_family = "",
  base_line_size = base_size/22,
  base_rect_size = base_size/22,
  grid = c("none", "horizontal", "both")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_certara_+3A_base_size">base_size</code></td>
<td>
<p>base font size, given in pts.</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_base_family">base_family</code></td>
<td>
<p>base font family</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_base_line_size">base_line_size</code></td>
<td>
<p>base size for line elements</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_base_rect_size">base_rect_size</code></td>
<td>
<p>base size for rect elements</p>
</td></tr>
<tr><td><code id="theme_certara_+3A_grid">grid</code></td>
<td>
<p>Which grid lines should appear? Horizontal only, both horizontal and vertical, or none (default).
<code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a>()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are 3 variants of the theme: no grid
<code>theme_certara()</code>, full grid <code>theme_certara(grid = "both")</code>, and
horizontal grid lines only <code>theme_certara(grid = "horizontal")</code>.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="ggplot2.html#topic+theme">theme</a>()</code>.
</p>

<hr>
<h2 id='write_code'>Write code to R script from tagged diagnostics</h2><span id='topic+write_code'></span>

<h3>Description</h3>

<p>Use this function to write code to R script from diagnostics tagged in Certara's Model Results Shiny Application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_code(tagged, file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_code_+3A_tagged">tagged</code></td>
<td>
<p>List of tagged objects from returned from <code>resultsUI()</code>.</p>
</td></tr>
<tr><td><code id="write_code_+3A_file">file</code></td>
<td>
<p>Character specifying path of output file. If missing, it will be saved as <code>code.R</code> in working directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>NULL</code> after writing to <code>file</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
tagged_diagnostics &lt;- resultsUI(xpdb = xpdb_NLME)

write_code(tagged_diagnostics, "tagged_results.R")

}

</code></pre>

<hr>
<h2 id='xpdb_NLME'>List of xpose data objects from RsNLME example tutorials</h2><span id='topic+xpdb_NLME'></span>

<h3>Description</h3>

<p>The following object contains a list of 2 <code>xpose_data</code> objects generated in the RsNLME example script
<code>TwoCptIVBolus_FitBaseModel_CovariateSearch_VPC_BootStrapping.R</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xpdb_NLME
</code></pre>


<h3>Format</h3>

<p>List of 2 <code>xpose_data</code> objects constructed from NLME model output.
</p>


<h3>Details</h3>


<ul>
<li>
<p><code>xpdb_NLME$`TwCpt_IVBolus_FOCE-ELS`</code> is an <code>xpose_data</code> object created from the base model in RsNLME example script.
The model can be used as a reference to compare model diagnostics in final model.
</p>
</li>
<li>
<p><code>xpdb_NLME$`TwCpt_IVBolus_SelectedCovariateModel_FOCE-ELS`</code> is an <code>xpose_data</code> object created from the final model
in the RsNLME example script. The final model includes selected covariate <code>BodyWeight</code> added from the results of
stepwise covariate search.
</p>
</li></ul>



<h3>Source</h3>

<p>Certara
</p>

<hr>
<h2 id='xpdb_NONMEM'>List of xpose data objects from NONMEM model output</h2><span id='topic+xpdb_NONMEM'></span>

<h3>Description</h3>

<p>The following object contains of list of 2 <code>xpose_data</code> objects:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xpdb_NONMEM
</code></pre>


<h3>Format</h3>

<p>List of 2 <code>xpose_data</code> objects constructed from NONMEM model output.
</p>


<h3>Details</h3>


<ul>
<li>
<p><code>xpdb_NONMEM$ex_pk</code> is an <code>xpose_data</code> object from <code>xpose::xpdb_ex_pk</code>. The model contains multiple
covariates and can be used to explore covariate model diagnostics.
</p>
</li>
<li>
<p><code>xpdb_NONMEM$mult_obs</code> is an <code>xpose_data</code> object created from NONMEM model with multiple observed variables.
Users will see that appropriate model diagnostic plots are automatically facetted by <code>DVID</code>
in the Shiny GUI.
</p>
</li></ul>



<h3>Source</h3>

<p>Certara
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

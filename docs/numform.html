<!DOCTYPE html><html><head><title>Help for package numform</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {numform}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alignment'><p>Detect Column Alignment</p></a></li>
<li><a href='#as_factor'><p>Convert Select <span class="pkg">numform</span> Outputs to Factor</p></a></li>
<li><a href='#constant_months'><p>Constants</p></a></li>
<li><a href='#f_12_hour'><p>Format 12 Hour Times</p></a></li>
<li><a href='#f_abbreviation'><p>Abbreviate Strings</p></a></li>
<li><a href='#f_affirm'><p>Yes/No Convert Logical/Dummy Code</p></a></li>
<li><a href='#f_affix'><p>Add String Affixes</p></a></li>
<li><a href='#f_bin'><p>Convert Binned Intervals to Readable Form</p></a></li>
<li><a href='#f_comma'><p>Comma Format Large Integers</p></a></li>
<li><a href='#f_data'><p>Convert and Abbreviate Units of Data.</p></a></li>
<li><a href='#f_data_abbreviation'><p>Convert Data (byte) Labels to an Abbreviated Form</p></a></li>
<li><a href='#f_date'><p>Format Dates</p></a></li>
<li><a href='#f_denom'><p>Abbreviate Numbers</p></a></li>
<li><a href='#f_dollar'><p>Format Dollars</p></a></li>
<li><a href='#f_fahrenheit'><p>Format Degrees (e.g., Temperature, Coordinates)</p></a></li>
<li><a href='#f_list'><p>Format List Series</p></a></li>
<li><a href='#f_logical'><p>True/False Convert Logical/Dummy Code</p></a></li>
<li><a href='#f_month'><p>Format Months to One Letter Abbreviation</p></a></li>
<li><a href='#f_num'><p>Format Digits</p></a></li>
<li><a href='#f_ordinal'><p>Add Ordinal Suffixes (-st, -nd, -rd, -th) to Numbers</p></a></li>
<li><a href='#f_pad_zero'><p>Pad Numbers with Leading Zeros</p></a></li>
<li><a href='#f_parenthesis'><p>Parenthesis Formatting of Two Vectors</p></a></li>
<li><a href='#f_percent'><p>Format Percentages</p></a></li>
<li><a href='#f_pval'><p>Format P-Values</p></a></li>
<li><a href='#f_quarter'><p>Format Quarters</p></a></li>
<li><a href='#f_replace'><p>Replace Characters in Strings</p></a></li>
<li><a href='#f_sign'><p>Format Numeric Signs</p></a></li>
<li><a href='#f_state'><p>Format State Names as Abbreviations</p></a></li>
<li><a href='#f_text_bar'><p>Format Text Based Bar Plots</p></a></li>
<li><a href='#f_title'><p>Convert First Letter of Words to Title Case</p></a></li>
<li><a href='#f_weekday'><p>Format Weekdays to One Letter Abbreviation</p></a></li>
<li><a href='#f_wrap'><p>Wrap Strings</p></a></li>
<li><a href='#f_year'><p>Format Years</p></a></li>
<li><a href='#fv_num_percent'><p>Convert a Numeric Vector to Number and Parenthetical Percentages</p></a></li>
<li><a href='#fv_percent'><p>Convert a Numeric Vector to Percentages</p></a></li>
<li><a href='#fv_percent_diff'><p>Percent Difference</p></a></li>
<li><a href='#fv_percent_lead'><p>Percent Difference</p></a></li>
<li><a href='#fv_runs'><p>Remove Subsequent Runs from a Vector</p></a></li>
<li><a href='#highlight_cells'><p>Highlight Cells</p></a></li>
<li><a href='#numform'><p>Tools to Format Numbers for Publication</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#round2'><p>Rounding</p></a></li>
<li><a href='#time_digits'><p>Compute Digits Needed for Quarter Hour Time Vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools to Format Numbers for Publication</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tyler Rinker &lt;tyler.rinker@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Format numbers and plots for publication; includes the removal of leading zeros,
           standardization of number of digits, addition of affixes, and a p-value formatter. These
           tools combine the functionality of several 'base' functions such as 'paste()',
           'format()', and 'sprintf()' into specific use case functions that are named in a way
           that is consistent with usage, making their names easy to remember and easy to deploy.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Imports:</td>
<td>glue</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/trinker/numform">https://github.com/trinker/numform</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/trinker/numform/issues">https://github.com/trinker/numform/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Collate:</td>
<td>'alignment.R' 'as_factor.R' 'constants.R' 'f_12_hour.R'
'utils.R' 'f_abbreviation.R' 'f_affirm.R' 'f_affix.R' 'f_bin.R'
'f_comma.R' 'f_data.R' 'f_date.R' 'f_degree.R' 'f_denom.R'
'f_dollar.R' 'f_list.R' 'f_logical.R' 'f_month.R' 'f_num.R'
'f_ordinal.R' 'f_pad_zero.R' 'f_parenthesis.R' 'f_percent.R'
'f_pval.R' 'f_quarter.R' 'f_replace.R' 'f_sign.R' 'f_state.R'
'f_text_bar.R' 'f_title.R' 'f_weekday.R' 'f_wrap.R' 'f_year.R'
'fv_num_percent.R' 'fv_percent.R' 'fv_percent_diff.R'
'fv_percent_lead.R' 'fv_runs.R' 'glue-reexports.R'
'highlight_cells.R' 'numform-package.R' 'round.R'
'time_digits.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-08 20:14:18 UTC; TylerRinker</td>
</tr>
<tr>
<td>Author:</td>
<td>Tyler Rinker [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-09 21:10:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='alignment'>Detect Column Alignment</h2><span id='topic+alignment'></span>

<h3>Description</h3>

<p>Many of the specialized functions in numform can change the type of the data
from numeric to character causing the table formatting functions in various
add-on packages to improperly align the elements.  This function passes the
columns with a regular expression to detect alignment regardless of column
class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alignment(
  x,
  left = "left",
  right = ifelse(left == "l", "r", "right"),
  additional.numeric = paste0("^((&lt;b&gt;(&amp;ndash;|\\+)&lt;/b&gt;)|(&lt;?([0-9.%-]+)",
    "|(\\$?\\s*\\d+[KBM])))|(NaN|NA|Inf)$"),
  sep = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alignment_+3A_x">x</code></td>
<td>
<p>A <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="alignment_+3A_left">left</code></td>
<td>
<p>A value to print for left aligned columns.</p>
</td></tr>
<tr><td><code id="alignment_+3A_right">right</code></td>
<td>
<p>A value to print for right aligned columns.  If <code>left = "l"</code>
<code>right</code> will default to <code>"r"</code> otherwise defaults to <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="alignment_+3A_additional.numeric">additional.numeric</code></td>
<td>
<p>An additional regex to consider as numeric.  To turn
off this feature use <code>additional.numeric = NULL</code>.</p>
</td></tr>
<tr><td><code id="alignment_+3A_sep">sep</code></td>
<td>
<p>A string to collapse the vector on.</p>
</td></tr>
<tr><td><code id="alignment_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of lefts and rights or a string (if <code>sep</code> is not
<code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>CO &lt;- CO2
CO[] &lt;- lapply(CO, as.character)
alignment(CO)
head(CO2)


## Not run: 
library(dplyr)
library(pander)
library(xtable)

set.seed(10)
dat &lt;- data_frame(
    Team = rep(c("West Coast", "East Coast"), each = 4),
    Year = rep(2012:2015, 2),
    YearStart = round(rnorm(8, 2e6, 1e6) + sample(1:10/100, 8, TRUE), 2),
    Won = round(rnorm(8, 4e5, 2e5) + sample(1:10/100, 8, TRUE), 2),
    Lost = round(rnorm(8, 4.4e5, 2e5) + sample(1:10/100, 8, TRUE), 2),
    WinLossRate = Won/Lost,
    PropWon = Won/YearStart,
    PropLost = Lost/YearStart
)


dat %&gt;%
    group_by(Team) %&gt;%
    mutate(
        `%&amp;Delta;WinLoss` = fv_percent_diff(WinLossRate, 0),
        `&amp;Delta;WinLoss` = f_sign(Won - Lost, '&lt;b&gt;+&lt;/b&gt;', '&lt;b&gt;&amp;ndash;&lt;/b&gt;')

    ) %&gt;%
    ungroup() %&gt;%
    mutate_at(vars(Won:Lost), .funs = ff_denom(relative = -1, prefix = '$')) %&gt;%
    mutate_at(vars(PropWon, PropLost), .funs = ff_prop2percent(digits = 0)) %&gt;%
    mutate(
        YearStart = f_denom(YearStart, 1, prefix = '$'),
        Team = fv_runs(Team),
        WinLossRate = f_num(WinLossRate, 1)
    ) %&gt;%
    as.data.frame() %&gt;%
    pander::pander(split.tables = Inf, justify = alignment(.))


alignment(CO, 'l', 'r')

CO %&gt;%
    xtable(align = c('', alignment(CO, 'l', 'r'))) %&gt;%
    print(include.rownames = FALSE)


CO %&gt;%
    xtable(align = c('', alignment(CO, 'l|', 'r|'))) %&gt;%
    print(include.rownames = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='as_factor'>Convert Select <span class="pkg">numform</span> Outputs to Factor</h2><span id='topic+as_factor'></span>

<h3>Description</h3>

<p>Convert month and weekday and weekday types to factor with correctly ordered
levels.  Note that the 'forcats' package imported by the 'tidyverse' package,
has an <code>as_factor</code> function that can compete with numform's version.
If in doubt, prefix with <code>numform::as_factor</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_factor(x, shift = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_factor_+3A_x">x</code></td>
<td>
<p>A vector of weekdays or months.</p>
</td></tr>
<tr><td><code id="as_factor_+3A_shift">shift</code></td>
<td>
<p>Shift the levels to the right or left.  Useful for setting the
week beginning to something besides Sunday.  Use -1 to set to Monday instead.</p>
</td></tr>
<tr><td><code id="as_factor_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a factor vector with levels set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- structure(list(month1 = c("Jan", "Nov", "Mar", "Jul", "Aug",
"Jan", "Aug", "May", "Dec", "Apr"), month2 = c("March", "May",
"March", "July", "May", "October", "March", "November", "April",
"January"), weekday1 = c("Th", "F", "M", "Su", "Th", "Su", "M",
"Th", "W", "T"), weekday2 = c("We", "Th", "Fr", "Sa", "We", "Su",
"Tu", "Su", "Su", "Th"), weekday3 = c("Sat", "Wed", "Mon", "Wed",
"Wed", "Wed", "Wed", "Sun", "Fri", "Thu"), weekday4 = c("Sunday",
"Sunday", "Thursday", "Saturday", "Monday", "Wednesday", "Friday",
"Thursday", "Sunday", "Saturday")), .Names = c("month1", "month2",
"weekday1", "weekday2", "weekday3", "weekday4"))

## Note that the 'forcats' package imported by the 'tidyverse' package, has an
## `as_factor` function that can compete with numform's version.  If in doubt
## prefix with `numform::as_factor`
as_factor(dat$month1)
as_factor(dat$month2)
as_factor(dat$weekday1)
as_factor(dat$weekday2)
as_factor(dat$weekday3)
as_factor(dat$weekday4)

## shift levels
as_factor(dat$weekday4, -1)
as_factor(dat$weekday4, -2)
as_factor(dat$weekday4, 1)
as_factor(dat$weekday4, 2)

## Not run: 
library(tidyverse)

data_frame(
    revenue = rnorm(10000, 500000, 50000),
    date = sample(seq(as.Date('1999/01/01'), as.Date('2000/01/01'), by="day"), 10000, TRUE),
    site = sample(paste("Site", 1:5), 10000, TRUE)
) %&gt;%
    mutate(
        dollar = f_comma(f_dollar(revenue, digits = -3)),
        thous = f_thous(revenue),
        thous_dollars = f_thous(revenue, prefix = '$'),
        abb_month = f_month(date),
        abb_week = numform::as_factor(f_weekday(date, distinct = TRUE))
    ) %T&gt;%
    print() %&gt;%
    ggplot(aes(abb_week, revenue)) +
        geom_jitter(width = .2, height = 0, alpha = .2) +
        scale_y_continuous(label = ff_thous(prefix = '$'))+
        facet_wrap(~site) +
        theme_bw()

## End(Not run)
</code></pre>

<hr>
<h2 id='constant_months'>Constants</h2><span id='topic+constant_months'></span><span id='topic+constant_months_abbreviation'></span><span id='topic+constant_weekdays'></span><span id='topic+constant_weekdays_abbreviatio'></span><span id='topic+constant_weekdays_abbreviation'></span><span id='topic+constant_quarters'></span>

<h3>Description</h3>

<p><code>constant_months</code>A constant for ordered month names.
</p>
<p><code>constant_months_abbreviation</code> - A constant for ordered month abbreviations.
</p>
<p><code>constant_weekdays</code> - A constant for ordered weekdays.
</p>
<p><code>constant_quarters</code> - A constant for ordered quarters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constant_months

constant_months_abbreviation

constant_weekdays

constant_weekdays_abbreviation

constant_quarters
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 12.
</p>
<p>An object of class <code>character</code> of length 12.
</p>
<p>An object of class <code>character</code> of length 7.
</p>
<p>An object of class <code>character</code> of length 7.
</p>
<p>An object of class <code>character</code> of length 4.
</p>

<hr>
<h2 id='f_12_hour'>Format 12 Hour Times</h2><span id='topic+f_12_hour'></span><span id='topic+f_12_hour.default'></span><span id='topic+f_12_hour.integer'></span><span id='topic+f_12_hour.numeric'></span><span id='topic+f_12_hour.hms'></span><span id='topic+ff_12_hour'></span>

<h3>Description</h3>

<p>Format times to the typical 12 hour '
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_12_hour(x = Sys.time(), format = "%I:%M %p", pad.char = "", ...)

## Default S3 method:
f_12_hour(x, format = "%I:%M %p", pad.char = "", ...)

## S3 method for class 'integer'
f_12_hour(x, format = "%I:%M %p", pad.char = "", ...)

## S3 method for class 'numeric'
f_12_hour(x, format = "%I:%M %p", pad.char = "", ...)

## S3 method for class 'hms'
f_12_hour(x, format = "%I:%M %p", pad.char = "", ...)

ff_12_hour(format = "%I:%M %p", pad.char = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_12_hour_+3A_x">x</code></td>
<td>
<p>A vector of coercible times.</p>
</td></tr>
<tr><td><code id="f_12_hour_+3A_format">format</code></td>
<td>
<p>A character string specifying the time output format.</p>
</td></tr>
<tr><td><code id="f_12_hour_+3A_pad.char">pad.char</code></td>
<td>
<p>A character to use for leading padding if lengths of output
are unequal.</p>
</td></tr>
<tr><td><code id="f_12_hour_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+as.POSIXct">as.POSIXct</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready 12 hour time stamps.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_12_hour(Sys.time())
f_12_hour(Sys.time(), pad.char ='0')
f_12_hour(Sys.time(), pad.char =' ')
f_12_hour(Sys.time(), '%I:%M:%S %p')
f_12_hour(c(NA, 0:24), '%I %p')
set.seed(10)
times &lt;- as.POSIXct(sample(seq_len(1e4), 12), origin = '1970-01-01')
paste(f_12_hour(range(times)), collapse = ' to ')
## Not run: 
library(tidyverse)

set.seed(10)
data_frame(
    time = as.POSIXct(sample(seq_len(1e4), 12), origin = '1970-01-01'),
    val = sample(1:20, length(time), TRUE)
) %&gt;%
    mutate(prop = val/sum(val)) %&gt;%
    ggplot(aes(time, prop)) +
        geom_line() +
        scale_x_time(labels = ff_12_hour(format = '%I %p')) +
        scale_y_continuous(labels = ff_prop2percent(digits = 0))

## End(Not run)
</code></pre>

<hr>
<h2 id='f_abbreviation'>Abbreviate Strings</h2><span id='topic+f_abbreviation'></span><span id='topic+ff_abbreviation'></span>

<h3>Description</h3>

<p>A wrapper for <code><a href="base.html#topic+abbreviate">abbreviate</a></code> for abbreviating strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_abbreviation(x, length = 5, ...)

ff_abbreviation(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_abbreviation_+3A_x">x</code></td>
<td>
<p>A vector of text strings.</p>
</td></tr>
<tr><td><code id="f_abbreviation_+3A_length">length</code></td>
<td>
<p>The minimum length of the abbreviations.</p>
</td></tr>
<tr><td><code id="f_abbreviation_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+abbreviate">abbreviate</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string vector with strings abbreviated.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+abbreviate">abbreviate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_abbreviation(state.name)
f_abbreviation('Cool Variable')
</code></pre>

<hr>
<h2 id='f_affirm'>Yes/No Convert Logical/Dummy Code</h2><span id='topic+f_affirm'></span><span id='topic+ff_affirm'></span>

<h3>Description</h3>

<p>Coerce logical (<code>TRUE</code>, <code>FALSE</code>) or or dummy coded elements (0/1)
to &quot;Yes&quot;/&quot;No&quot; elements.  This function is most useful in plot scales.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_affirm(x, true = "Yes", false = "No", ...)

ff_affirm(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_affirm_+3A_x">x</code></td>
<td>
<p>A vector of logical or dummy integers.  This vector will be coerced
to logical.</p>
</td></tr>
<tr><td><code id="f_affirm_+3A_true">true</code></td>
<td>
<p>A value for <code>TRUE</code> elements.</p>
</td></tr>
<tr><td><code id="f_affirm_+3A_false">false</code></td>
<td>
<p>A value for  <code>FALSE</code> elements.</p>
</td></tr>
<tr><td><code id="f_affirm_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of either &quot;Yes&quot; or &quot;No&quot; elements.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+prettyNum">prettyNum</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_affirm(c(TRUE, TRUE, FALSE))
f_affirm(c(1, 1, 0, 1, 0, 0, NA))
f_affirm(c(1, 0, 2, .3, -3))
f_affirm(rnorm(20) &gt; 0)
f_affirm(rnorm(20) &gt; 0, "A", "B")

## Not run: 
library(ggplot2)
library(dplyr)

## Without labels
data_frame(dummy = sample(c(TRUE, FALSE), 30, TRUE)) %&gt;%
    count(dummy) %&gt;%
    ggplot(aes(dummy, n)) +
        geom_bar(stat = 'identity')

## With labels
data_frame(dummy = sample(c(TRUE, FALSE), 30, TRUE)) %&gt;%
    count(dummy) %&gt;%
    ggplot(aes(dummy, n)) +
        geom_bar(stat = 'identity') +
        scale_x_discrete(labels = f_affirm)

## End(Not run)
</code></pre>

<hr>
<h2 id='f_affix'>Add String Affixes</h2><span id='topic+f_affix'></span><span id='topic+ff_affix'></span><span id='topic+f_prefix'></span><span id='topic+ff_prefix'></span><span id='topic+f_suffix'></span><span id='topic+ff_suffix'></span>

<h3>Description</h3>

<p>Convenience function to add affixes to strings (prefixes &amp; suffixes).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_affix(x, prefix = "", suffix = "", ...)

ff_affix(...)

f_prefix(x, prefix = "$", ...)

ff_prefix(...)

f_suffix(x, suffix = "%", ...)

ff_suffix(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_affix_+3A_x">x</code></td>
<td>
<p>A vector of elements to append with an affix.</p>
</td></tr>
<tr><td><code id="f_affix_+3A_prefix">prefix</code></td>
<td>
<p>A string to append to the front of elements.</p>
</td></tr>
<tr><td><code id="f_affix_+3A_suffix">suffix</code></td>
<td>
<p>A string to append to the back of elements.</p>
</td></tr>
<tr><td><code id="f_affix_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of affix appended digits.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_affix(1:5, "-", "%")
f_affix(f_num(1:5, 2), "-", "%")

f_prefix(LETTERS[1:5], "_")
f_prefix(f_bills(123456789123, -2), "$")

f_suffix(LETTERS[1:5], "_")
f_suffix(f_num(1:5, 2), "%")

## Not run: 
f_bills(123456789123, -2) %&gt;%
    f_prefix("$")

## End(Not run)
</code></pre>

<hr>
<h2 id='f_bin'>Convert Binned Intervals to Readable Form</h2><span id='topic+f_bin'></span><span id='topic+f_bin_text'></span><span id='topic+f_bin_text_right'></span><span id='topic+f_bin_right'></span><span id='topic+ff_bin'></span><span id='topic+ff_bin_text'></span><span id='topic+ff_bin_right'></span><span id='topic+ff_bin_text_right'></span><span id='topic+f_interval'></span><span id='topic+f_interval_text'></span><span id='topic+f_interval_text_right'></span><span id='topic+f_interval_right'></span><span id='topic+ff_interval'></span><span id='topic+ff_interval_text'></span><span id='topic+ff_interval_text_right'></span><span id='topic+ff_interval_right'></span>

<h3>Description</h3>

<p><code>f_bin</code> - Convert binned intervals to symbol form (e.g., <code>"1 &lt; x &lt;= 3"</code>).
</p>
<p><code>f_bin_text</code> - Convert binned intervals to text form (e.g., <code>"Greater than or equal to 1 to less than 3"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_bin(x, l = "&lt;", le = "&lt;=", parse = FALSE, ...)

f_bin_text(
  x,
  greater = "Greater than",
  middle = "to",
  less = "less than",
  equal = "or equal to",
  ...
)

f_bin_text_right(x, l = "up to", le = "to", equal.digits = FALSE, ...)

f_bin_right(x, l = "&lt;", le = "&lt;=", equal.digits = FALSE, parse = FALSE, ...)

ff_bin(l = "&lt;", le = "&lt;=", parse = TRUE, ...)

ff_bin_text(
  greater = "Greater than",
  middle = "to",
  less = "less than",
  equal = "or equal to",
  ...
)

ff_bin_right(l = "&lt;", le = "&lt;=", equal.digits = FALSE, parse = TRUE, ...)

ff_bin_text_right(l = "up to", le = "to", equal.digits = FALSE, ...)

f_interval(x, l = "&lt;", le = "&lt;=", parse = FALSE, ...)

f_interval_text(
  x,
  greater = "Greater than",
  middle = "to",
  less = "less than",
  equal = "or equal to",
  ...
)

f_interval_text_right(x, l = "up to", le = "to", equal.digits = FALSE, ...)

f_interval_right(
  x,
  l = "&lt;",
  le = "&lt;=",
  equal.digits = FALSE,
  parse = FALSE,
  ...
)

ff_interval(l = "&lt;", le = "&lt;=", parse = TRUE, ...)

ff_interval_text(
  greater = "Greater than",
  middle = "to",
  less = "less than",
  equal = "or equal to",
  ...
)

ff_interval_text_right(l = "up to", le = "to", equal.digits = FALSE, ...)

ff_interval_right(l = "&lt;", le = "&lt;=", equal.digits = FALSE, parse = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_bin_+3A_x">x</code></td>
<td>
<p>A vector of binned numbers from <code>cut</code>.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_l">l</code></td>
<td>
<p>Less than symbol.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_le">le</code></td>
<td>
<p>Less than or equal to symbol.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_parse">parse</code></td>
<td>
<p>logical.  If <code>TRUE</code> is parsed for <span class="pkg">ggplot2</span> facet labels.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_greater">greater</code></td>
<td>
<p>String to use for greater.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_middle">middle</code></td>
<td>
<p>String to use for middle  (defaults to <code>'to'</code>).</p>
</td></tr>
<tr><td><code id="f_bin_+3A_less">less</code></td>
<td>
<p>String to use for less.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_equal">equal</code></td>
<td>
<p>String to use for equal to.  This is combined with the <code>less</code> or <code>greater</code>.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_equal.digits">equal.digits</code></td>
<td>
<p>logical.  If <code>TRUE</code> digits are given equal number of decimal places.</p>
</td></tr>
<tr><td><code id="f_bin_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>f_bin</code> - Returns human readable intervals in symbol form.
</p>
<p><code>f_bin</code> - Returns human readable intervals in word form.
</p>
<p><code>f_bin_text_right</code> - Returns human readable right hand of intervals in word form.
</p>
<p><code>f_bin_right</code> - Returns human readable right hand intervals in symbol form.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- cut(-1:5, 3, right = FALSE)
y &lt;- cut(-4:10, c(-5, 2, 6, 10), right = TRUE)
z &lt;- cut(-4:10, c(-4, 2, 6, 11), right = FALSE)

f_bin(x)
f_interval(x) #`_interval` and `_bin` are interchangeable aliases in the function names
f_bin(y)
f_bin(z)
## HTML
f_bin(z, le = '&amp;le;')

f_bin_text(x)
f_bin_text(y)
f_bin_text(z)
f_bin_text(x, middle = 'but')
f_bin_text(x, greater = 'Above', middle = '', equal = '', less = 'to')
f_bin_text(z, greater = 'From', middle = '', equal = '', less = 'up to')

f_bin_text_right(x)
f_bin_text_right(y)
f_bin_text_right(cut(-4:10, c(-3, 2, 6, 11)))
f_bin_text_right(x, equal.digits = TRUE)

f_bin_right(x)
f_bin_right(y)
f_bin_right(x, equal.digits = TRUE)
## HTML
f_bin_right(y, le = '&amp;le;')

## Not run: 
library(tidyverse)

mtcars %&gt;%
    mutate(mpg2 = cut(mpg, 3)) %&gt;%
    ggplot(aes(disp, hp)) +
        geom_point() +
        facet_wrap(~ mpg2,
            labeller = ff_bin()
        )

mtcars %&gt;%
    mutate(mpg2 = cut(mpg, 3)) %&gt;%
    ggplot(aes(disp, hp)) +
        geom_point() +
        facet_wrap(~ mpg2,
            labeller = function(x) f_bin_right(x, parse = TRUE)
        )

mtcars %&gt;%
    mutate(mpg2 = cut(mpg, 3, right = FALSE)) %&gt;%
    ggplot(aes(disp, hp)) +
        geom_point() +
        facet_wrap(~ mpg2,
            labeller = function(x) f_bin_right(x, parse = TRUE)
        )

mtcars %&gt;%
    mutate(mpg2 = cut(mpg, 5, right = FALSE)) %&gt;%
    ggplot(aes(mpg2)) +
        geom_bar() +
        scale_x_discrete(labels = ff_bin_text_right(l = 'Up to')) +
        coord_flip()

mtcars %&gt;%
    mutate(mpg2 = cut(mpg, 10, right = FALSE)) %&gt;%
    ggplot(aes(mpg2)) +
        geom_bar(fill = '#33A1DE') +
        scale_x_discrete(labels = function(x) f_wrap(f_bin_text_right(x, l = 'up to'), width = 8)) +
        scale_y_continuous(breaks = seq(0, 14, by = 2), limits = c(0, 7)) +
        theme_minimal() +
        theme(
            panel.grid.major.x = element_blank(),
            axis.text.x = element_text(size = 14, margin = margin(t = -12)),
            axis.text.y = element_text(size = 14),
            plot.title = element_text(hjust = .5)
        ) +
        labs(title = 'Histogram', x = NULL, y = NULL)

## End(Not run)
</code></pre>

<hr>
<h2 id='f_comma'>Comma Format Large Integers</h2><span id='topic+f_comma'></span><span id='topic+ff_comma'></span>

<h3>Description</h3>

<p>Add commas to larger integers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_comma(x, mark = ",", prefix = "", ...)

ff_comma(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_comma_+3A_x">x</code></td>
<td>
<p>A vector of numbers (or string equivalents).</p>
</td></tr>
<tr><td><code id="f_comma_+3A_mark">mark</code></td>
<td>
<p>The character to include every n places.</p>
</td></tr>
<tr><td><code id="f_comma_+3A_prefix">prefix</code></td>
<td>
<p>A string to append to the front of elements.</p>
</td></tr>
<tr><td><code id="f_comma_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+prettyNum">prettyNum</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a comma separated string of publication ready digits.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+prettyNum">prettyNum</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(4)
f_comma(sample(4:10, 5)^5)
f_comma(c(1234.12345, 1234567890, .000034034, 123000000000, -1234567))
</code></pre>

<hr>
<h2 id='f_data'>Convert and Abbreviate Units of Data.</h2><span id='topic+f_data'></span><span id='topic+ff_data'></span><span id='topic+f_byte'></span><span id='topic+ff_byte'></span><span id='topic+f_kilo'></span><span id='topic+ff_kilo'></span><span id='topic+f_mega'></span><span id='topic+ff_mega'></span><span id='topic+f_giga'></span><span id='topic+ff_giga'></span><span id='topic+f_tera'></span><span id='topic+ff_tera'></span><span id='topic+f_peta'></span><span id='topic+ff_peta'></span><span id='topic+f_exa'></span><span id='topic+ff_exa'></span><span id='topic+f_zetta'></span><span id='topic+ff_zetta'></span><span id='topic+f_yotta'></span><span id='topic+ff_yotta'></span>

<h3>Description</h3>

<p>Convert numeric data to shorter form with unit abbreviations attached.  For
example, move from  10,000,000,000 (Bytes) to 10GB (Gigabytes) instead.
</p>
<p><code>f_byte</code> - Force the abbreviation to bytes
unit (B).
</p>
<p><code>f_kilo</code> - Force the abbreviation to kilobytes
unit (KB).
</p>
<p><code>f_mega</code> - Force the abbreviation to megabytes
unit (MB).
</p>
<p><code>f_giga</code> - Force the abbreviation to gigabytes
unit (GB).
</p>
<p><code>f_tera</code> - Force the abbreviation to terabytes
unit (TB).
</p>
<p><code>f_peta</code> - Force the abbreviation to petabytes
unit (PB).
</p>
<p><code>f_exa</code> - Force the abbreviation to exabytes
unit (EB).
</p>
<p><code>f_zetta</code> - Force the abbreviation to zettabytes
unit (ZB).
</p>
<p><code>f_yotta</code> - Force the abbreviation to yottabytes
unit (YB).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_data(
  x,
  binary = FALSE,
  digits = 0,
  pad.char = " ",
  less.than.replace = FALSE,
  sep = "",
  mix.units = FALSE,
  from = "B",
  ...
)

ff_data(...)

f_byte(
  x,
  to = "B",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_byte(...)

f_kilo(
  x,
  to = "KB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_kilo(...)

f_mega(
  x,
  to = "MB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_mega(...)

f_giga(
  x,
  to = "GB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_giga(...)

f_tera(
  x,
  to = "TB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_tera(...)

f_peta(
  x,
  to = "PB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_peta(...)

f_exa(
  x,
  to = "EB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_exa(...)

f_zetta(
  x,
  to = "ZB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_zetta(...)

f_yotta(
  x,
  to = "YB",
  binary = FALSE,
  digits = 0,
  suffix = f_data_abbreviation(to),
  pad.char = " ",
  less.than.replace = FALSE,
  from = "B",
  sep = "",
  ...
)

ff_yotta(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_data_+3A_x">x</code></td>
<td>
<p>A vector of data units.</p>
</td></tr>
<tr><td><code id="f_data_+3A_binary">binary</code></td>
<td>
<p>logical.  If <code>TRUE</code> the result uses binary conversion,
otherwise decimal conversion is used.
See <a href="https://en.wikipedia.org/wiki/Binary_prefix">https://en.wikipedia.org/wiki/Binary_prefix</a> for additional
information on standards.</p>
</td></tr>
<tr><td><code id="f_data_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to. .</p>
</td></tr>
<tr><td><code id="f_data_+3A_pad.char">pad.char</code></td>
<td>
<p>A character to use for leading padding if lengths of output
are unequal.  Use <code>NA</code> to forgo padding.</p>
</td></tr>
<tr><td><code id="f_data_+3A_less.than.replace">less.than.replace</code></td>
<td>
<p>logical.  If <code>TRUE</code> values lower than lowest
place value will be replaced with a less than sign followed by the
<code>integer</code> representation of the place value.  For example, if <code>"0GB"</code>
then replacement will be <code>"&lt;1GB"</code>.</p>
</td></tr>
<tr><td><code id="f_data_+3A_sep">sep</code></td>
<td>
<p>The separator to use between the number and data unit abbreviation.</p>
</td></tr>
<tr><td><code id="f_data_+3A_mix.units">mix.units</code></td>
<td>
<p>logical.  If <code>TRUE</code> then units can be mixed.
Typically, this is not a good idea for the sake of comparison.  It is most
useful when there is a total row which is a sum of the column and this value's
unit exceeds the unit of the rest of the column.</p>
</td></tr>
<tr><td><code id="f_data_+3A_from">from</code></td>
<td>
<p>The starting unit.  Typically, this is assumed to be 'Bytes' ('B').
Must be one of c(&quot;Bit&quot;, &quot;Byte&quot;, &quot;Kilobyte&quot;, &quot;Megabyte&quot;, &quot;Gigabyte&quot;, &quot;Terabyte&quot;,
&quot;Petabyte&quot;, &quot;Exabyte&quot;, &quot;Zettabyte&quot;, &quot;Yottabyte&quot;) or c(&quot;b&quot;, &quot;B&quot;, &quot;KB&quot;, &quot;MB&quot;,
&quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;).  These are case sensitive.</p>
</td></tr>
<tr><td><code id="f_data_+3A_to">to</code></td>
<td>
<p>The units to convert to.  See the <code>from</code> parameter for accepted
units.</p>
</td></tr>
<tr><td><code id="f_data_+3A_suffix">suffix</code></td>
<td>
<p>A suffix to use for the units at the end of the numeric string.
Typically the user will not interact with this argument.  Meant for internal
modularity of functions.</p>
</td></tr>
<tr><td><code id="f_data_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a converted and abbreviated vector of units of data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- c(NA, '3', '-', -233456789, -2334567890, 10^(0:10))
f_data(x)
f_data(x, pad.char = NA)
f_data(x, mix.units = TRUE)
f_data(x, mix.units = TRUE, binary = TRUE)
f_data(x, mix.units = TRUE, binary = TRUE, digits = 2)
f_byte(100000000, from = 'GB', binary = TRUE)
f_giga(10000000000)
f_giga(10000000000, suffix = 'Gb')

library(tidyverse)
set.seed(15)
dat &lt;- data_frame(
    bytes = round(rnorm(7, 1e7, 7.95e6), 0),
    days = constant_weekdays %&gt;%
        as_factor()
)

dat %&gt;%
    mutate(
        data = f_data(bytes, less.than.replace = TRUE),
        weekday = f_weekday(days, distinct = TRUE) %&gt;%
            as_factor()
    )

dat %&gt;%
    mutate(days = days %&gt;% as_factor()) %&gt;%
    ggplot(aes(days, bytes, group = 1)) +
        geom_line() +
        geom_point() +
        scale_y_continuous(labels = f_data) +
        scale_x_discrete(labels = ff_weekday(distinct = TRUE))

## End(Not run)
</code></pre>

<hr>
<h2 id='f_data_abbreviation'>Convert Data (byte) Labels to an Abbreviated Form</h2><span id='topic+f_data_abbreviation'></span>

<h3>Description</h3>

<p>Convert a data label such as Gigabyte to an abbreviated form
like 'GB'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_data_abbreviation(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_data_abbreviation_+3A_x">x</code></td>
<td>
<p>A vector of data labels.  One of:
&quot;Petabyte&quot;, &quot;Exabyte&quot;, &quot;Zettabyte&quot;, &quot;Yottabyte&quot;) ignoring case or
retaining c(&quot;b&quot;, &quot;B&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;)
with proper case.</p>
</td></tr>
<tr><td><code id="f_data_abbreviation_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns avector of abbreviated data units.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("Exabyte", "terabyte", "ZB", "PetaByte", "KB", "byte", "Gigabyte",
"Bit", "GB", "b")

f_data_abbreviation(x)
</code></pre>

<hr>
<h2 id='f_date'>Format Dates</h2><span id='topic+f_date'></span><span id='topic+ff_date'></span>

<h3>Description</h3>

<p>Format dates to the typical '
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_date(x = Sys.Date(), format = "%B %d, %Y", ...)

ff_date(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_date_+3A_x">x</code></td>
<td>
<p>A vector of coercible dates.</p>
</td></tr>
<tr><td><code id="f_date_+3A_format">format</code></td>
<td>
<p>A character string specifying the date output format.</p>
</td></tr>
<tr><td><code id="f_date_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+as.Date">as.Date</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready dates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_date(Sys.Date())
f_date(Sys.time())
f_date(Sys.time(), '%b-%y')
set.seed(10)
dates &lt;- as.Date(sample(1:10000, 12), origin = '1970-01-01')
paste(f_date(range(dates)), collapse = ' to ')
</code></pre>

<hr>
<h2 id='f_denom'>Abbreviate Numbers</h2><span id='topic+f_denom'></span><span id='topic+ff_denom'></span><span id='topic+f_trills'></span><span id='topic+ff_trills'></span><span id='topic+f_bills'></span><span id='topic+ff_bills'></span><span id='topic+f_mills'></span><span id='topic+ff_mills'></span><span id='topic+f_thous'></span><span id='topic+ff_thous'></span>

<h3>Description</h3>

<p>Use the denomination abbreviations K (thousands), M (millions), and
B (billions) with abbreviated numbers.<br /><code>f_denom</code> - Auto-detect the
maximum denomination and attempt to use it (if max(x) is &lt; 1K then x is
returned).
</p>
<p><code>f_trills</code> - Force the abbreviation to the trillions
denomination (B).
</p>
<p><code>f_bills</code> - Force the abbreviation to the billions
denomination (B).
</p>
<p><code>f_mills</code> - Force the abbreviation to the millions
denomination (B).
</p>
<p><code>f_thous</code> - Force the abbreviation to the thousands
denomination (B).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_denom(
  x,
  relative = 0,
  prefix = "",
  pad.char = ifelse(prefix == "", NA, " "),
  less.than.replace = FALSE,
  mix.denom = FALSE,
  ...
)

ff_denom(...)

f_trills(
  x,
  relative = 0,
  digits = -12,
  prefix = "",
  pad.char = ifelse(prefix == "", NA, " "),
  less.than.replace = FALSE,
  ...
)

ff_trills(...)

f_bills(
  x,
  relative = 0,
  digits = -9,
  prefix = "",
  pad.char = ifelse(prefix == "", NA, " "),
  less.than.replace = FALSE,
  ...
)

ff_bills(...)

f_mills(
  x,
  relative = 0,
  digits = -6,
  prefix = "",
  pad.char = ifelse(prefix == "", NA, " "),
  less.than.replace = FALSE,
  ...
)

ff_mills(...)

f_thous(
  x,
  relative = 0,
  digits = -3,
  prefix = "",
  pad.char = ifelse(prefix == "", NA, " "),
  less.than.replace = FALSE,
  ...
)

ff_thous(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_denom_+3A_x">x</code></td>
<td>
<p>A vector of large numbers.</p>
</td></tr>
<tr><td><code id="f_denom_+3A_relative">relative</code></td>
<td>
<p>A factor relative to the current <code>digits</code> being rounded.
For example <code>relative = -1</code> moves one to the left while
<code>relative = 1</code> moves one to the right.</p>
</td></tr>
<tr><td><code id="f_denom_+3A_prefix">prefix</code></td>
<td>
<p>A string to append to the front of elements.</p>
</td></tr>
<tr><td><code id="f_denom_+3A_pad.char">pad.char</code></td>
<td>
<p>A character to use for leading padding if lengths of output
are unequal.  Use <code>NA</code> to forgo padding.</p>
</td></tr>
<tr><td><code id="f_denom_+3A_less.than.replace">less.than.replace</code></td>
<td>
<p>logical.  If <code>TRUE</code> values lower than lowest
place value will be replaced with a less than sign followed by the
<code>integer</code> representation of the place value.  For example, if <code>"$0K"</code>
then replacement will be <code>"&lt;1K"</code>.</p>
</td></tr>
<tr><td><code id="f_denom_+3A_mix.denom">mix.denom</code></td>
<td>
<p>logical.  If <code>TRUE</code> then denominations can be mixed.
Typically this is not a good idea for the sake of comparison.  It is most
useful when there is a total row which is a sum of the column and this value's
denomination exceeds the denomination of the rest of the column.</p>
</td></tr>
<tr><td><code id="f_denom_+3A_digits">digits</code></td>
<td>
<p>The number of digits to round to.  Actual <code>digits</code>
calculated as <code>digits</code> +  <code>relative</code>.</p>
</td></tr>
<tr><td><code id="f_denom_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an abbreviated vector of numbers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_denom(c(12345, 12563, 191919), prefix = '$')
f_denom(c(12345, 12563, 191919), prefix = '$', pad.char = '')
f_denom(c(1234365, 122123563, 12913919), prefix = '$')
f_denom(c(12343676215, 122126763563, 1291673919), prefix = '$')
f_denom(c(NA, 2, 12343676215, 122126763563, 1291673919), prefix = '$')
f_denom(c(NA, 2, 123436, 122126763, 1291673919), prefix = '$', mix.denom = TRUE)
f_denom(c(NA, 2, 12343676215, 122126763563, 1291673919), prefix = '$', pad.char = '')
f_denom(c(NA, 2, 12343676215, 122126763563, 1291673919), relative = 1, prefix = '$')
f_denom(c(NA, 2, 12343676215, 122126763563, 1291673919), relative = 9, prefix = '$')
f_denom(c(NA, 2, 12343676215, 122126763563, 1291673919), less.than.replace = TRUE)

f_thous(1234)
f_thous(12345)
f_thous(123456)
f_mills(1234567)
f_mills(12345678)
f_mills(123456789)
f_bills(1234567891)
f_bills(12345678912)
f_bills(123456789123)

f_bills(123456789123, -1) # round to tens
f_bills(123456789123, -2) # round to hundreds
f_bills(123456789123, +1) # round to tenths
f_bills(123456789123, +2) # round to hundreths

x &lt;- c(3886902.8696, 4044584.0424, 6591893.2104, 591893.2104, -3454678)
f_mills(x)
f_mills(x, 1)
f_mills(x, 1, prefix = '$')
f_mills(x, 1, prefix = '$', pad.char = '0')

## Not run: 
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse, magrittr)

f_bills(123456789123, -2) %&gt;%
    f_prefix("$")


data_frame(
    revenue = rnorm(100, 500000, 50000),
    deals = sample(20:50, 100, TRUE)
) %&gt;%
    mutate(
        dollar = f_dollar(revenue, digits = -3),
        thous = f_thous(revenue),
        thous_dollars = f_thous(revenue, prefix = '$')
    ) %T&gt;%
    print() %&gt;%
    ggplot(aes(deals, revenue)) +
        geom_point() +
        geom_smooth() +
        scale_y_continuous(label = ff_thous(prefix = '$') )

data_frame(
    revenue = rnorm(10000, 500000, 50000),
    date = sample(seq(as.Date('1999/01/01'), as.Date('2000/01/01'), by="day"), 10000, TRUE),
    site = sample(paste("Site", 1:5), 10000, TRUE)
) %&gt;%
    mutate(
        dollar = f_dollar(revenue, digits = -3),
        thous = f_thous(revenue),
        thous_dollars = f_thous(revenue, prefix = '$'),
        abb_month = f_month(date),
        abb_week = factor(f_weekday(date, distinct = TRUE),
        levels = c('Su', 'M', 'T', 'W', 'Th', 'F', 'S'))
    ) %T&gt;%
    print() %&gt;%
    ggplot(aes(abb_week, revenue)) +
        geom_jitter(width = .2, height = 0, alpha = .2) +
        scale_y_continuous(label = ff_thous(prefix = '$'))+
        facet_wrap(~site)

set.seed(10)
data_frame(
    w = paste(constant_months, rep(2016:2017, each = 12))[1:20] ,
    x = rnorm(20, 200000, 75000)
) %&gt;%
    {
        a &lt;- .
        rbind(
            a,
            a %&gt;%
                mutate(w = 'Total') %&gt;%
                group_by(w) %&gt;%
                summarize(x = sum(x))
        )
    } %&gt;%
    mutate(
        y = f_denom(x, prefix = '$'),
        z = f_denom(x, mix.denom = TRUE, prefix = '$')
    )  %&gt;%
    data.frame(stringsAsFactors = FALSE, check.names = FALSE) %&gt;%
    pander::pander(split.tables = Inf, justify = alignment(.))

## Scale with mixed units
library(tidyverse)
library(numform)

dat &lt;- data_frame(
    Value = c(111, 2345, 34567, 456789, 1000001, 1000000001),
    Time = 1:6
)

## Uniform units
ggplot(dat, aes(Time, Value)) +
    geom_line() +
    scale_y_continuous(labels = ff_denom( prefix = '$'))

## Mixed units
ggplot(dat, aes(Time, Value)) +
    geom_line() +
    scale_y_continuous(labels = ff_denom(mix.denom = TRUE, prefix = '$', pad.char = ''))

## End(Not run)
</code></pre>

<hr>
<h2 id='f_dollar'>Format Dollars</h2><span id='topic+f_dollar'></span><span id='topic+ff_dollar'></span>

<h3>Description</h3>

<p><code>f_dollar</code> - A wrapper for <code><a href="#topic+f_num">f_num</a></code> that formats
dollar values as labeled dollars.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_dollar(x, leading_zero = TRUE, digits = 2, p = "$", ...)

ff_dollar(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_dollar_+3A_x">x</code></td>
<td>
<p>A vector of values.</p>
</td></tr>
<tr><td><code id="f_dollar_+3A_leading_zero">leading_zero</code></td>
<td>
<p>logical.  If <code>TRUE</code> a leading zero will be added to
values from 0 up to 1.</p>
</td></tr>
<tr><td><code id="f_dollar_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 2.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="f_dollar_+3A_p">p</code></td>
<td>
<p>A string to paste at the beginning of the output from <code>f_num</code>.
Defaults to dollar sign.  This could be useful, for example, to turn a
single dolar sign into an escaped version for LaTeX output.</p>
</td></tr>
<tr><td><code id="f_dollar_+3A_...">...</code></td>
<td>
<p>Other values passed to <code><a href="#topic+f_num">f_num</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready digits.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+f_num">f_num</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_dollar(c(30, 33.45, .1))
## Not run: 
library(dplyr)

f_dollar(c(0.0, 0, .2, -00.02, 1122222, pi)) %&gt;% f_comma()

## End(Not run)
</code></pre>

<hr>
<h2 id='f_fahrenheit'>Format Degrees (e.g., Temperature, Coordinates)</h2><span id='topic+f_fahrenheit'></span><span id='topic+f_celcius'></span><span id='topic+f_longitude'></span><span id='topic+f_latitude'></span><span id='topic+f_degree'></span><span id='topic+ff_degree'></span><span id='topic+ff_celcius'></span><span id='topic+ff_fahrenheit'></span><span id='topic+ff_longitude'></span><span id='topic+ff_latitude'></span>

<h3>Description</h3>

<p>Format numbers into degree format for strings, text, titles, and scales.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_fahrenheit(
  x,
  digits = getOption("numformdigits"),
  prefix = NULL,
  suffix = TRUE,
  absolute.value = suffix,
  type = "scale",
  symbol = "&amp;deg;",
  ...
)

f_celcius(
  x,
  digits = getOption("numformdigits"),
  prefix = NULL,
  suffix = TRUE,
  absolute.value = suffix,
  type = "scale",
  symbol = "&amp;deg;",
  ...
)

f_longitude(
  x,
  digits = getOption("numformdigits"),
  prefix = NULL,
  suffix = TRUE,
  absolute.value = suffix,
  type = "scale",
  symbol = "&amp;deg;",
  ...
)

f_latitude(
  x,
  digits = getOption("numformdigits"),
  prefix = NULL,
  suffix = TRUE,
  absolute.value = suffix,
  type = "scale",
  symbol = "&amp;deg;",
  ...
)

f_degree(
  x,
  type = c("scale", "text", "scale", "title", "string"),
  digits = getOption("numformdigits"),
  prefix = NULL,
  suffix = TRUE,
  absolute.value = suffix,
  symbol = "&amp;deg;",
  measure = c("fahrenheit", "celcius", "C", "F", "longitude", "latitude"),
  ...
)

ff_degree(...)

ff_celcius(...)

ff_fahrenheit(...)

ff_longitude(...)

ff_latitude(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_fahrenheit_+3A_x">x</code></td>
<td>
<p>A vector of values.</p>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 1.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_prefix">prefix</code></td>
<td>
<p>A prefix to use before the parenthesis + units when
<code>type = 'title'</code>.</p>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_suffix">suffix</code></td>
<td>
<p>logical.  If <code>TRUE</code> a suffix will be added corresponding
to the <code>measure</code>:
</p>

<dl>
<dt>celcius</dt><dd><p>A capital C will be used</p>
</dd>
<dt>fahrenheit</dt><dd><p>A capital F will be used</p>
</dd>
<dt>longitude</dt><dd><p>Capital W and E will be used</p>
</dd>
<dt>latitude</dt><dd><p>Capital S and N will be used</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_absolute.value">absolute.value</code></td>
<td>
<p>logical.  If <code>TRUE</code> the absolute value of <code>x</code>
will be used.  This is useful for coordinates when E/W or N/S indicate direction.</p>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_type">type</code></td>
<td>
<p>One of <code>c('scale', 'text', 'title', 'string')</code>:
</p>

<dl>
<dt>scale</dt><dd><p>To be used for <span class="pkg">ggplot2</span> scales (i.e., axis or legend)</p>
</dd>
<dt>text</dt><dd><p>To be used for <span class="pkg">ggplot2</span> text (i.e., geom_text, annotate; note that <code>parse = TRUE</code> must be set</p>
</dd>
<dt>title</dt><dd><p>To be used for <span class="pkg">ggplot2</span> titles (e.g., main title, axis title, legend title); ignores <code>x</code> values</p>
</dd>
<dt>string</dt><dd><p>To be used for plain text, especially table formatting and allows control over the degree symbol used</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_symbol">symbol</code></td>
<td>
<p>A symbol to use for degree when <code>type = 'string'</code>.</p>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_measure">measure</code></td>
<td>
<p>One of <code>c('fahrenheit', 'celcius', 'C', 'F', 'longitude',
'latitude')</code>.  There are functions by these names (e.g., <code>f_celcius</code>) but
not C or F.  These functions may be clearer than using <code>f_degree</code> and
then specifying <code>measure</code>.</p>
</td></tr>
<tr><td><code id="f_fahrenheit_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns number string(s) with degree symbols.
</p>


<h3>Note</h3>

<p>Note that this function differs a bit from other <code>f_</code> functions
in that in needs a <code>type</code>.  This is because other <code>f_</code> functions
return a plain text representation that is generalizable across usages (titles,
tables, axis, geom_text, etc).  This function has notation that requires
special parsing by various usages hence requiring the <code>type</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## used for ggplot2 axis.text &amp; legend scale
f_celcius(37, type = 'scale')

## used for ggplot2 geom_text
f_celcius(37, type = 'text')

## used for ggplot2 titles
f_celcius(prefix = "My Title",  type = 'title')

## used for table and string formatting
f_celcius(37, type = 'string')
f_celcius(37, type = 'string', symbol = '\\textdegree')  # LaTeX

## Not run: 
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse, maps, viridis, mapproj)

states &lt;- map_data("state")
arrests &lt;- USArrests
names(arrests) &lt;- tolower(names(arrests))
arrests$region &lt;- tolower(rownames(USArrests))
choro &lt;- merge(states, arrests, sort = FALSE, by = "region")
choro &lt;- choro[order(choro$order), ]

ggplot(choro, aes(long, lat)) +
    geom_polygon(aes(group = group, fill = assault)) +
    coord_map("albers",  at0 = 45.5, lat1 = 29.5) +
    scale_y_continuous(labels = f_latitude) +
    scale_x_continuous(labels = f_longitude)

ggplot(choro, aes(long, lat)) +
    geom_polygon(aes(group = group, fill = assault)) +
    coord_map("albers",  at0 = 45.5, lat1 = 29.5) +
    scale_y_continuous(labels = ff_latitude(suffix = FALSE)) +
    scale_x_continuous(labels = ff_longitude(suffix = FALSE))


world &lt;- map_data(map="world")

ggplot(world, aes(map_id = region, x = long, y = lat)) +
    geom_map(map = world, aes(map_id = region), fill = "grey40",
        colour = "grey70", size = 0.25) +
    scale_y_continuous(labels = f_latitude) +
    scale_x_continuous(labels = f_longitude)


data_frame(
    Event = c('freezing water', 'room temp', 'body temp', 'steak\'s done',
        'hamburger\'s done', 'boiling water'),
    F = c(32, 70, 98.6, 145, 160, 212)
) %&gt;%
    mutate(
        C = (F - 32) * (5/9),
        Event = f_title(Event),
        Event = factor(Event, levels = unique(Event))
    ) %&gt;%
    ggplot(aes(Event, F, fill = F)) +
        geom_col() +
        geom_text(aes(y = F + 4, label = f_fahrenheit(F, digits = 1, type = 'text')),
            parse = TRUE, color = 'grey60') +
        scale_y_continuous(
            labels = f_fahrenheit, limits = c(0, 220), expand = c(0, 0),
            sec.axis = sec_axis(trans = ~(. - 32) * (5/9), labels = f_celcius,
            name = f_celcius(prefix = 'Temperature ', type = 'title'))
        ) +
        scale_x_discrete(labels = ff_replace(pattern = ' ', replacement = '\n')) +
        scale_fill_viridis(option =  "magma", labels = f_fahrenheit, name = NULL) +
        theme_bw() +
        labs(
            y = f_fahrenheit(prefix = 'Temperature ', type = 'title'),
            title = f_fahrenheit(prefix = 'Temperature of Common Events ', type = 'title')
        ) +
        theme(
            axis.ticks.x = element_blank(),
            panel.border = element_rect(fill = NA, color = 'grey80'),
            panel.grid.minor.x = element_blank(),
            panel.grid.major.x = element_blank()
        )


data_frame(
    Event = c('freezing water', 'room temp', 'body temp', 'steak\'s done',
        'hamburger\'s done', 'boiling water', 'sun surface', 'lighting'),
    F = c(32, 70, 98.6, 145, 160, 212, 9941, 50000)
) %&gt;%
    mutate(
        Event = f_title(Event),
        C = (F - 32) * (5/9)
    ) %&gt;%
    mutate(
        F = f_degree(F, measure = 'F', type = 'string'),
        C = f_degree(C, measure = 'C', type = 'string', zero = '0.0')
    )  %&gt;%
    data.frame(stringsAsFactors = FALSE, check.names = FALSE) %&gt;%
    pander::pander(split.tables = Inf, justify = alignment(.))

## End(Not run)
</code></pre>

<hr>
<h2 id='f_list'>Format List Series</h2><span id='topic+f_list'></span><span id='topic+f_list_amp'></span><span id='topic+ff_list'></span>

<h3>Description</h3>

<p><code>f_list</code> - Format a vector of elements as a list series
(e.g., <code>c('A', 'B', 'C')</code> becomes <code>"A, B, and C"</code>).
</p>
<p><code>f_list_amp</code> - A ampersand wrapper for <code>f_list</code> with
<code>and = '&amp;'</code> set by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_list(x, and = "and", oxford = TRUE, ...)

f_list_amp(x, and = "&amp;", oxford = TRUE, ...)

ff_list(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_list_+3A_x">x</code></td>
<td>
<p>A vector of values to turn into a collapsed series.</p>
</td></tr>
<tr><td><code id="f_list_+3A_and">and</code></td>
<td>
<p>The value to use for the 'and'.  Commonly <code>'and'</code> and
<code>'&amp;'</code> are used.</p>
</td></tr>
<tr><td><code id="f_list_+3A_oxford">oxford</code></td>
<td>
<p>logical.  If <code>TRUE</code> an oxford comma is used.  If you use
<code>FALSE</code> you are a monster.</p>
</td></tr>
<tr><td><code id="f_list_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string that is a list series.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_list(1)
f_list(1:2)
f_list(1:3)
f_list(1:5)

x &lt;- c("parents", "Lady Gaga",  "Humpty Dumpty")
## Three things you love
sprintf('I love my %s.', f_list(x))
## Your parents are lady Gaga &amp; Humpty Dumpty?????
sprintf('I love my %s.', f_list(x, oxford = FALSE))

sprintf('I love my %s.', f_list(x, and = '&amp;'))
sprintf('I love my %s.', f_list_amp(x))
</code></pre>

<hr>
<h2 id='f_logical'>True/False Convert Logical/Dummy Code</h2><span id='topic+f_logical'></span><span id='topic+ff_logical'></span><span id='topic+f_response'></span><span id='topic+ff_response'></span>

<h3>Description</h3>

<p>Coerce logical (<code>TRUE</code>, <code>FALSE</code>) or or dummy coded elements (0/1)
to &quot;True&quot;/&quot;False&quot; elements.  This function is most useful in plot scales.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_logical(x, true = "True", false = "False", ...)

ff_logical(...)

f_response(x, yes = "Yes", no = "No", ...)

ff_response(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_logical_+3A_x">x</code></td>
<td>
<p>A vector of logical or dummy integers.  This vector will be coerced
to logical.</p>
</td></tr>
<tr><td><code id="f_logical_+3A_true">true</code></td>
<td>
<p>A value for <code>TRUE</code> elements.</p>
</td></tr>
<tr><td><code id="f_logical_+3A_false">false</code></td>
<td>
<p>A value for  <code>FALSE</code> elements.</p>
</td></tr>
<tr><td><code id="f_logical_+3A_yes">yes</code></td>
<td>
<p>A value for <code>TRUE</code> elements.</p>
</td></tr>
<tr><td><code id="f_logical_+3A_no">no</code></td>
<td>
<p>A value for  <code>FALSE</code> elements.</p>
</td></tr>
<tr><td><code id="f_logical_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of either &quot;True&quot;/&quot;False&quot; elements.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+prettyNum">prettyNum</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_logical(c(TRUE, TRUE, FALSE))
f_logical(c(1, 1, 0, 1, 0, 0, NA))
f_logical(c(1, 0, 2, .3, -3))
f_logical(rnorm(20) &gt; 0)
f_logical(rnorm(20) &gt; 0, "A", "B")

## Not run: 
library(ggplot2)
library(dplyr)

## Without labels
data_frame(dummy = sample(c(TRUE, FALSE), 30, TRUE)) %&gt;%
    count(dummy) %&gt;%
    ggplot(aes(dummy, n)) +
        geom_bar(stat = 'identity')

## With labels
data_frame(dummy = sample(c(TRUE, FALSE), 30, TRUE)) %&gt;%
    count(dummy) %&gt;%
    ggplot(aes(dummy, n)) +
        geom_bar(stat = 'identity') +
        scale_x_discrete(labels = f_logical)

## End(Not run)
</code></pre>

<hr>
<h2 id='f_month'>Format Months to One Letter Abbreviation</h2><span id='topic+f_month'></span><span id='topic+f_month.default'></span><span id='topic+f_month.numeric'></span><span id='topic+f_month.Date'></span><span id='topic+f_month.POSIXt'></span><span id='topic+f_month.hms'></span><span id='topic+ff_month'></span><span id='topic+f_month_name'></span><span id='topic+f_month_name.default'></span><span id='topic+f_month_name.numeric'></span><span id='topic+f_month_name.Date'></span><span id='topic+f_month_name.POSIXt'></span><span id='topic+f_month_name.hms'></span><span id='topic+ff_month_name'></span><span id='topic+f_month_abbreviation'></span><span id='topic+f_month_abbreviation.default'></span><span id='topic+f_month_abbreviation.numeric'></span><span id='topic+f_month_abbreviation.Date'></span><span id='topic+f_month_abbreviation.POSIXt'></span><span id='topic+f_month_abbreviation.hms'></span><span id='topic+ff_month_abbreviation'></span>

<h3>Description</h3>

<p>Format long month name, integer, or date formats to a single capital letter.
Useful for plot scales as a way to save space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_month(x, ...)

## Default S3 method:
f_month(x, ...)

## S3 method for class 'numeric'
f_month(x, ...)

## S3 method for class 'Date'
f_month(x, ...)

## S3 method for class 'POSIXt'
f_month(x, ...)

## S3 method for class 'hms'
f_month(x, ...)

ff_month(...)

f_month_name(x, ...)

## Default S3 method:
f_month_name(x, ...)

## S3 method for class 'numeric'
f_month_name(x, ...)

## S3 method for class 'Date'
f_month_name(x, ...)

## S3 method for class 'POSIXt'
f_month_name(x, ...)

## S3 method for class 'hms'
f_month_name(x, ...)

ff_month_name(...)

f_month_abbreviation(x, ...)

## Default S3 method:
f_month_abbreviation(x, ...)

## S3 method for class 'numeric'
f_month_abbreviation(x, ...)

## S3 method for class 'Date'
f_month_abbreviation(x, ...)

## S3 method for class 'POSIXt'
f_month_abbreviation(x, ...)

## S3 method for class 'hms'
f_month_abbreviation(x, ...)

ff_month_abbreviation(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_month_+3A_x">x</code></td>
<td>
<p>A vector of month names, integers 1-12, or dates.</p>
</td></tr>
<tr><td><code id="f_month_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a single letter month abbreviation atomic vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_month(month.name)

f_month(1:12)

dates &lt;- seq(as.Date("2000/1/1"), by = "month", length.out = 12)
f_month(dates)
## Not run: 
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse)

set.seed(11)
data_frame(
    date = sample(seq(as.Date("1990/1/1"), by = "day", length.out = 2e4), 12)
) %&gt;%
    mutate(
        year_4 = f_year(date, 2),
        year_2 = f_year(date, 4),
        quarter = f_quarter(date),
        month_name = f_month_name(date) %&gt;%
            as_factor(),
        month_abbreviation = f_month_abbreviation(date) %&gt;%
            as_factor(),
        month_short = f_month(date),
        weekday_name = f_weekday_name(date),
        weekday_abbreviation = f_weekday_abbreviation(date),
       weekday_short = f_weekday(date),
        weekday_short_distinct = f_weekday(date, distinct = TRUE)
    )


set.seed(10)
dat &lt;- data_frame(
    month = sample(month.name, 1000, TRUE),
    area =  sample(LETTERS[1:5], 1000, TRUE)
) %&gt;%
    count(month, area) %&gt;%
    ungroup() %&gt;%
    mutate(month = factor(month, levels = constant_months))

## without date formatting
ggplot(dat, aes(month, n)) +
    geom_bar(stat = 'identity') +
    facet_wrap(~ area)

## with date formatting
ggplot(dat, aes(month, n)) +
    geom_bar(stat = 'identity') +
    facet_wrap(~ area) +
    scale_x_discrete(labels = f_month)

## End(Not run)
</code></pre>

<hr>
<h2 id='f_num'>Format Digits</h2><span id='topic+f_num'></span><span id='topic+ff_num'></span>

<h3>Description</h3>

<p>Remove leading zeros and standardize number of digits.  A workhorse for the
<span class="pkg">numform</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_num(
  x,
  digits = getOption("numformdigits"),
  p,
  s,
  pad.char = NA,
  zero = NULL,
  retain.leading.zero = FALSE,
  ...
)

ff_num(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_num_+3A_x">x</code></td>
<td>
<p>A vector of numbers (or string equivalents).</p>
</td></tr>
<tr><td><code id="f_num_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 1.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="f_num_+3A_p">p</code></td>
<td>
<p>A string to paste at the beginning of the output from <code>f_num</code>.</p>
</td></tr>
<tr><td><code id="f_num_+3A_s">s</code></td>
<td>
<p>A string to paste at the end of the output from <code>f_num</code>.</p>
</td></tr>
<tr><td><code id="f_num_+3A_pad.char">pad.char</code></td>
<td>
<p>A character to use for leading padding if lengths of output
are unequal.</p>
</td></tr>
<tr><td><code id="f_num_+3A_zero">zero</code></td>
<td>
<p>A value to insert in for zero values.</p>
</td></tr>
<tr><td><code id="f_num_+3A_retain.leading.zero">retain.leading.zero</code></td>
<td>
<p>logical.  If <code>TRUE</code> then leading zeros before
a decimal place are retained.</p>
</td></tr>
<tr><td><code id="f_num_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready digits.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_num(c(0.0, 0, .2, -00.02, 1.122222, pi))
f_num(rnorm(10))
f_num(rnorm(20, 100, 200), 0)
f_num(c("-0.23", "0", ".23"))

## Percents
f_num(c(30, 33.45, .1), 3, s="%")

## Money
f_num(c(30, 33.45, .1), 2, p="$")

## Units
f_num(c(30, 33.45, .1), 2, s=" in.&lt;sup&gt;2&lt;/sup&gt;")
f_num(c(30, 33.45, .1), 2, p="&amp;Chi;&lt;sup&gt;2&lt;/sup&gt;=")

## Not run: 
library(dplyr)

is.int &lt;- function(x) !all(x %% 1 == 0)

mtcars %&gt;%
    mutate_if(.funs = f_num, is.int)

df &lt;- data.frame(x = -10:10, y = (-10:10)/10)

ggplot(df, aes(x, y))+
    geom_point() +
    scale_y_continuous(labels = ff_num(zero = 0))

## End(Not run)
</code></pre>

<hr>
<h2 id='f_ordinal'>Add Ordinal Suffixes (-st, -nd, -rd, -th) to Numbers</h2><span id='topic+f_ordinal'></span><span id='topic+ff_ordinal'></span>

<h3>Description</h3>

<p>Add ordinal suffixes (-st, -nd, -rd, -th) to numbers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_ordinal(x, ...)

ff_ordinal(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_ordinal_+3A_x">x</code></td>
<td>
<p>A vector of numbers (or string equivalents).</p>
</td></tr>
<tr><td><code id="f_ordinal_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string vector with ordinal suffixes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_ordinal(1:25)
</code></pre>

<hr>
<h2 id='f_pad_zero'>Pad Numbers with Leading Zeros</h2><span id='topic+f_pad_zero'></span><span id='topic+f_pad_left'></span><span id='topic+f_pad_right'></span><span id='topic+ff_pad_zero'></span><span id='topic+ff_pad_left'></span><span id='topic+ff_pad_right'></span>

<h3>Description</h3>

<p><code>f_pad_zero</code> - Add leading zeros to numbers.
</p>
<p><code>f_pad_left</code> - Add leading character to strings.
</p>
<p><code>f_pad_right</code> - Add trailing character to strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_pad_zero(x, width = NULL, pad.char = "0", ...)

f_pad_left(x, pad.char = " ", width = NULL, ...)

f_pad_right(x, pad.char = " ", width = NULL, ...)

ff_pad_zero(...)

ff_pad_left(...)

ff_pad_right(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_pad_zero_+3A_x">x</code></td>
<td>
<p>A vector of numbers (or string equivalents).</p>
</td></tr>
<tr><td><code id="f_pad_zero_+3A_width">width</code></td>
<td>
<p>The width to make the stings.  Defaults to the maximum number of
characters for all elements in <code>x</code>.</p>
</td></tr>
<tr><td><code id="f_pad_zero_+3A_pad.char">pad.char</code></td>
<td>
<p>A character to pad the string with.</p>
</td></tr>
<tr><td><code id="f_pad_zero_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a padded string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_pad_zero(c(NA, 1, 12))
f_pad_zero(c(NA, 1, 100, 10, 1000))
f_pad_zero(as.character(c(NA, 1, 100, 10, 1000)))
f_pad_zero(c(NA, 1, 100, 10, 1000, "B", "BB"))
f_pad_left(c(NA, 1, 100, 10, 1000, "B", "BB"), '-')
f_pad_right(c(NA, 1, 100, 10, 1000, "B", "BB"), '-')
f_pad_left(c(NA, 1, 12))
</code></pre>

<hr>
<h2 id='f_parenthesis'>Parenthesis Formatting of Two Vectors</h2><span id='topic+f_parenthesis'></span><span id='topic+ff_parenthesis'></span><span id='topic+f_mean_sd'></span><span id='topic+ff_mean_sd'></span><span id='topic+f_num_percent'></span><span id='topic+ff_num_percent'></span>

<h3>Description</h3>

<p><code>f_parenthesis</code> - Form two vectors of numbers as a leading number
followed by a second number in parenthesis.
</p>
<p><code>f_mean_sd</code> - Wrapper for <code>f_parenthesis</code> optimized for formatting
vectors of means and standard deviations.
</p>
<p><code>f_num_percent</code>  - Wrapper for <code>f_parenthesis</code> optimized for formatting
vectors of numbers and percentages deviations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_parenthesis(x, y, sep = "", x_prefix = "", y_prefix = "", ...)

ff_parenthesis(...)

f_mean_sd(x, y, x_digits = 1, y_digits = x_digits, sep = "", ...)

ff_mean_sd(...)

f_num_percent(
  x,
  y,
  x_digits = 1,
  y_digits = x_digits,
  sep = "",
  prop_fun = numform::f_prop2percent,
  ...
)

ff_num_percent(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_parenthesis_+3A_x">x</code></td>
<td>
<p>Vector 1 (in <code>f_mean_sd</code> the mean values and in
<code>f_num_percent</code> the leading number vector).</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_y">y</code></td>
<td>
<p>Vector 2 (in <code>f_mean_sd</code> the standard deviation values and in
<code>f_num_percent</code> the percent/proportion vector).</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_sep">sep</code></td>
<td>
<p>The separator between the first number and the leading parenthesis.</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_x_prefix">x_prefix</code></td>
<td>
<p>A constant to place before each value in the x vector.</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_y_prefix">y_prefix</code></td>
<td>
<p>A constant to place before each value in the y
vector inside of the parenthesis.</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_x_digits">x_digits</code></td>
<td>
<p>The number of digits to round the x vector.</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_y_digits">y_digits</code></td>
<td>
<p>The number of digits to round the y vector.</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_prop_fun">prop_fun</code></td>
<td>
<p>The proportion function to convert the y y vector in
<code>f_num_percent</code>.  Default is <code>f_prop2percent</code>.  <code>f_percent</code> is
used for when the values are already percentages.</p>
</td></tr>
<tr><td><code id="f_parenthesis_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of parenthesis combined strings using vector x and y.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_parenthesis(
    f_num(sample(50:100, 5), 1),
    f_num(rnorm(5, 5:15, 5), 1),
    prefix = 'mean = ',
    parenthesis_prefix = 'sd = ',
    sep = " "
)

f_mean_sd(rnorm(5, 100, 20), rnorm(5, 20, 5))

f_num_percent(rnorm(5, 100, 20), rnorm(5, .5, .1))

f_parenthesis(
    sample(50:100, 5),
    f_prop2percent(rnorm(5, .5, .1), 0)
)

 ## Not run: 
library(tidyverse)
mtcars %&gt;%
    group_by(cyl) %&gt;%
    summarize(
        mean = mean(hp),
        sd = sd(hp),
        n = n()
    ) %&gt;%
    mutate(
        prop = n /sum(n),
        mean_sd = f_mean_sd(mean, sd),
        n_perc = f_num_percent(n, prop, 0)
    )

## End(Not run)
</code></pre>

<hr>
<h2 id='f_percent'>Format Percentages</h2><span id='topic+f_percent'></span><span id='topic+ff_percent'></span><span id='topic+f_prop2percent'></span><span id='topic+ff_prop2percent'></span><span id='topic+f_pp'></span><span id='topic+ff_pp'></span>

<h3>Description</h3>

<p><code>f_percent</code> - A wrapper for <code><a href="#topic+f_num">f_num</a></code> that formats
percent values as labeled percentages.
</p>
<p><code>f_prop2percent</code> - A wrapper for <code><a href="#topic+f_num">f_num</a></code> that formats
proportions as labeled percentages.
</p>
<p><code>f_pp</code> - A wrapper for <code><a href="#topic+f_prop2percent">f_prop2percent</a></code> that requires
less typing and has <code>digits</code> set to <code>0</code> by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_percent(
  x,
  digits = getOption("numformdigits"),
  less.than.replace = FALSE,
  s = "%",
  ...
)

ff_percent(...)

f_prop2percent(
  x,
  digits = getOption("numformdigits"),
  less.than.replace = FALSE,
  s = "%",
  ...
)

ff_prop2percent(...)

f_pp(x, digits = 0, less.than.replace = FALSE, s = "%", ...)

ff_pp(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_percent_+3A_x">x</code></td>
<td>
<p>A vector of proportions.</p>
</td></tr>
<tr><td><code id="f_percent_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 1.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="f_percent_+3A_less.than.replace">less.than.replace</code></td>
<td>
<p>logical.  If <code>TRUE</code> values lower than lowest
place value, specified by <code>digits</code>, will be replaced with a less than
sign followed by the <code>double</code> representation of the place value
specified by <code>digits</code>.  For example, if <code>digits = 0</code> then
replacement will be <code>"&lt;1%"</code> or if <code>digits = 2</code> then replacement will
be <code>"&lt;.01%"</code>.</p>
</td></tr>
<tr><td><code id="f_percent_+3A_s">s</code></td>
<td>
<p>A string to paste at the end of the output from <code>f_num</code>.
Defaults to percent sign.  This could be useful, for example, to turn a
single percent sign into an escaped version for LaTeX output.</p>
</td></tr>
<tr><td><code id="f_percent_+3A_...">...</code></td>
<td>
<p>Other values passed to <code><a href="#topic+f_num">f_num</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready digits.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+f_num">f_num</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_percent(c(30, 33.45, .1))
f_percent(c(30, 33.45, .1), 1)
f_percent(c(0.0, 0, .2, -00.02, 1.122222, pi))
f_prop2percent(c(.30, 1, 1.01, .33, .222, .01))
f_pp(c(.30, 1, 1.01, .33, .222, .01))

f_percent(c(30, 33.45, .1), digits = 0, less.than.replace = TRUE)
## Escaped for LaTeX:
f_percent(c(30, 33.45, .1), digits = 0, less.than.replace = TRUE, s = '\\%')
f_prop2percent(c(.30, 1, 1.01, .33, .222, .01, .0001, NA), digits = 0,
    less.than.replace = TRUE)

## Not run: 
library(tidyverse)

mtcars %&gt;%
    count(cyl, gear) %&gt;%
    group_by(cyl) %&gt;%
    mutate(prop = n/sum(n)) %&gt;%
    ggplot(aes(gear, prop)) +
        geom_bar(stat = 'identity') +
        facet_wrap(~cyl, ncol = 1) +
        scale_y_continuous(labels = ff_prop2percent(digits = 0))

## End(Not run)
</code></pre>

<hr>
<h2 id='f_pval'>Format P-Values</h2><span id='topic+f_pval'></span><span id='topic+ff_pval'></span>

<h3>Description</h3>

<p>Format p-values for reporting using a &lt; or = sign if greater than alpha level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_pval(
  x,
  alpha = getOption("numformalpha"),
  digits = getOption("numformdigits"),
  ...
)

ff_pval(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_pval_+3A_x">x</code></td>
<td>
<p>A p-value.</p>
</td></tr>
<tr><td><code id="f_pval_+3A_alpha">alpha</code></td>
<td>
<p>The alpha cut off to use.  Defaults to .05.  Can be set
globally via: <code>options(numformalpha = n)</code> where n is the alpha level.</p>
</td></tr>
<tr><td><code id="f_pval_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 3.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="f_pval_+3A_...">...</code></td>
<td>
<p>Other values passed to <code><a href="#topic+f_num">f_num</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready p-values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+f_num">f_num</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_pval(.05)
f_pval(.04999999999999999)
f_pval(.0002)
f_pval(.0002, .001)

mod1 &lt;- t.test(1:10, y = c(7:20))
f_pval(mod1$p.value)

mod2 &lt;- t.test(1:10, y = c(7:20, 200))
f_pval(mod2$p.value)
</code></pre>

<hr>
<h2 id='f_quarter'>Format Quarters</h2><span id='topic+f_quarter'></span><span id='topic+f_quarter.default'></span><span id='topic+f_quarter.numeric'></span><span id='topic+f_quarter.Date'></span><span id='topic+f_quarter.POSIXt'></span><span id='topic+f_quarter.hms'></span><span id='topic+ff_quarter'></span>

<h3>Description</h3>

<p>Format long/abbreviation month name, integer, or date formats to a quarter
format (i.e., Q1, Q2, Q3, Q4).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_quarter(x, prefix = "Q", space = "", max = 12, ...)

## Default S3 method:
f_quarter(x, prefix = "Q", space = "", max = 12, ...)

## S3 method for class 'numeric'
f_quarter(
  x,
  prefix = "Q",
  space = "",
  max = ifelse(all(x %in% c(1:4, NA)), 4, 12),
  ...
)

## S3 method for class 'Date'
f_quarter(x, prefix = "Q", space = "", max = 12, ...)

## S3 method for class 'POSIXt'
f_quarter(x, prefix = "Q", space = "", max = 12, ...)

## S3 method for class 'hms'
f_quarter(x, prefix = "Q", space = "", max = 12, ...)

ff_quarter(prefix = "Q", space = "", max = 12, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_quarter_+3A_x">x</code></td>
<td>
<p>A vector of month names, integers 1-12, or dates.</p>
</td></tr>
<tr><td><code id="f_quarter_+3A_prefix">prefix</code></td>
<td>
<p>A quarter prefix (defaults to <code>'Q'</code>).</p>
</td></tr>
<tr><td><code id="f_quarter_+3A_space">space</code></td>
<td>
<p>A string to place between 'Q' and quarter number.</p>
</td></tr>
<tr><td><code id="f_quarter_+3A_max">max</code></td>
<td>
<p>A maximum in the <code>x</code> vector, if <code>x</code> is <code>numeric</code>,
corresponding to months (12) or quarters (4).</p>
</td></tr>
<tr><td><code id="f_quarter_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a quarter formatted atomic vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_quarter(month.name)

f_quarter(1:12)

dates &lt;- seq(as.Date("2000/1/1"), by = "month", length.out = 12)
f_quarter(dates)
## Not run: 
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse)

set.seed(10)
dat &lt;- data_frame(
    month = sample(month.name, 1000, TRUE),
    area =  sample(LETTERS[1:5], 1000, TRUE)
) %&gt;%
    mutate(quarter = factor(f_quarter(month), levels = constant_quarters)) %&gt;%
    count(quarter, area)

ggplot(dat, aes(quarter, n)) +
    geom_bar(stat = 'identity') +
    facet_wrap(~ area)

## End(Not run)
</code></pre>

<hr>
<h2 id='f_replace'>Replace Characters in Strings</h2><span id='topic+f_replace'></span><span id='topic+ff_replace'></span>

<h3>Description</h3>

<p>A wrapper for <code><a href="base.html#topic+gsub">gsub</a></code> for replacing substrings that is
useful for <span class="pkg">ggplot2</span> scales.  Useful for taking field names like
'Cool_Variable' and turning it into 'Cool Variable'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_replace(x, pattern = "_", replacement = " ", ...)

ff_replace(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_replace_+3A_x">x</code></td>
<td>
<p>A vector of text strings.</p>
</td></tr>
<tr><td><code id="f_replace_+3A_pattern">pattern</code></td>
<td>
<p>A character string defining search patterns.</p>
</td></tr>
<tr><td><code id="f_replace_+3A_replacement">replacement</code></td>
<td>
<p>A character string defining replacement patterns.</p>
</td></tr>
<tr><td><code id="f_replace_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+gsub">gsub</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string vector with characters replaced.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+strwrap">strwrap</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_replace('Cool_Variable')
f_title(f_replace('cool_variable'))
f_replace('Cool_Variable', pattern = '([A-Z])', replacement = '\\L\\1')
cat(f_replace('really long label names are the pits',
    pattern = '\\s', replace = '\n'))
</code></pre>

<hr>
<h2 id='f_sign'>Format Numeric Signs</h2><span id='topic+f_sign'></span><span id='topic+ff_sign'></span>

<h3>Description</h3>

<p><code>f_sign</code> - Formats numeric values to just their sign
('-' == &lt; 0, '+' == &gt; 0, or &rdquo; == 0).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_sign(x, positive = "+", negative = "-", zero = "", ...)

ff_sign(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_sign_+3A_x">x</code></td>
<td>
<p>A vector of values.</p>
</td></tr>
<tr><td><code id="f_sign_+3A_positive">positive</code></td>
<td>
<p>A string/value to insert in for positive values.</p>
</td></tr>
<tr><td><code id="f_sign_+3A_negative">negative</code></td>
<td>
<p>A string/value to insert in for negative values.</p>
</td></tr>
<tr><td><code id="f_sign_+3A_zero">zero</code></td>
<td>
<p>A string/value to insert in for zero values.</p>
</td></tr>
<tr><td><code id="f_sign_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of signs.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+f_num">f_num</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_sign(c(-10, 0, 10))
f_sign(c(-10, 0, 10), zero = 0)
## web based
f_sign(c(-10, 0, 10), '&lt;b&gt;+&lt;/b&gt;', '&lt;b&gt;&amp;ndash;&lt;/b&gt;')
</code></pre>

<hr>
<h2 id='f_state'>Format State Names as Abbreviations</h2><span id='topic+f_state'></span><span id='topic+ff_state'></span>

<h3>Description</h3>

<p>Formats a state name as the abbreviated form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_state(x, ...)

ff_state(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_state_+3A_x">x</code></td>
<td>
<p>A vector of states.</p>
</td></tr>
<tr><td><code id="f_state_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of abbreviated states.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_state(c('Texas', 'New York', NA, 'New Jersey', 'Washington', 'Europe'))
</code></pre>

<hr>
<h2 id='f_text_bar'>Format Text Based Bar Plots</h2><span id='topic+f_text_bar'></span><span id='topic+ff_text_bar'></span>

<h3>Description</h3>

<p>Use a text symbol to create scaled horizontal bar plots of numeric vectors.
Note that you will have to coerce the table to a <code>data.frame</code> in order
for the output to look pretty.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_text_bar(x, symbol = "_", width = 9, ...)

ff_text_bar(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_text_bar_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="f_text_bar_+3A_symbol">symbol</code></td>
<td>
<p>A sumbol to use for the bars.</p>
</td></tr>
<tr><td><code id="f_text_bar_+3A_width">width</code></td>
<td>
<p>The max width of the bar.</p>
</td></tr>
<tr><td><code id="f_text_bar_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of concatenated symbols as a string that represent x
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)

mtcars %&gt;%
    count(cyl, gear) %&gt;%
    group_by(cyl) %&gt;%
    mutate(
        p = numform::f_pp(n/sum(n))
    ) %&gt;%
    ungroup() %&gt;%
    mutate(
        cyl = numform::fv_runs(cyl),
        ` ` = f_text_bar(n)  ## Overall
    ) %&gt;%
    as.data.frame()

mtcars %&gt;%
    count(cyl, gear) %&gt;%
    group_by(cyl) %&gt;%
    mutate(
        p = numform::f_pp(n/sum(n)),
        ` ` = f_text_bar(n) ## within groups
    ) %&gt;%
    ungroup() %&gt;%
    mutate(
        cyl = numform::fv_runs(cyl),
        ` ` = f_text_bar(n)
    ) %&gt;%
    as.data.frame()

mtcars %&gt;%
    count(cyl, gear) %&gt;%
    group_by(cyl) %&gt;%
    mutate(
        p = numform::f_pp(n/sum(n)),
        `within` = f_text_bar(n, width = 3, symbol = '#')
    ) %&gt;%
    ungroup() %&gt;%
    mutate(
        cyl = numform::fv_runs(cyl),
        `overall` = f_text_bar(n, width = 30, symbol = '*')
    ) %&gt;%
    as.data.frame() %&gt;%
    pander::pander(split.tables = Inf, justify = alignment(.), style = 'simple')

## Drop the headers
mtcars %&gt;%
    count(cyl, gear) %&gt;%
    group_by(cyl) %&gt;%
    mutate(
        p = numform::f_pp(n/sum(n)),
        `   ` = f_text_bar(n, symbol = '=')
    ) %&gt;%
    ungroup() %&gt;%
    mutate(
        cyl = numform::fv_runs(cyl),
        ` ` = f_text_bar(n, symbol = '#')
    ) %&gt;%
    as.data.frame()

## End(Not run)
</code></pre>

<hr>
<h2 id='f_title'>Convert First Letter of Words to Title Case</h2><span id='topic+f_title'></span><span id='topic+ff_title'></span>

<h3>Description</h3>

<p>A wrapper for <code><a href="tools.html#topic+toTitleCase">toTitleCase</a></code> converting text to title case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_title(x, upper = NULL, lower = NULL, ...)

ff_title(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_title_+3A_x">x</code></td>
<td>
<p>A vector of text strings.</p>
</td></tr>
<tr><td><code id="f_title_+3A_upper">upper</code></td>
<td>
<p>A vector of regular expression to convert to upper case that
would otherwise be lower cased (this should be targeted at the initial output,
not the input).</p>
</td></tr>
<tr><td><code id="f_title_+3A_lower">lower</code></td>
<td>
<p>A vector of regular expression to convert to lower case that
would otherwise be upper cased (this should be targeted at the initial output,
not the input).</p>
</td></tr>
<tr><td><code id="f_title_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string vector with characters replaced.
</p>


<h3>See Also</h3>

<p><code><a href="tools.html#topic+toTitleCase">toTitleCase</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_title('i love this title')
f_title(f_replace('Cool_Variable'))

f_title(c('select', 'group by', 'My ascii'))
f_title(c('select', 'group by', 'My ascii'), upper = c('Ascii'))
f_title(c('select', 'group by', 'My ascii'), upper = c('Ascii', 'b(?=y\\b)'))

## Not run: 
library(tidyverse)

set.seed(10)
dat &lt;- data_frame(
    level = c("not_involved", "somewhat_involved_single_group",
        "somewhat_involved_multiple_groups", "very_involved_one_group",
        "very_involved_multiple_groups"
    ),
    n = sample(1:10, length(level))
) %&gt;%
    mutate(
        level = factor(level, levels = unique(level)),
        `%` = n/sum(n)
    )

gridExtra::grid.arrange(

    gridExtra::arrangeGrob(

        dat %&gt;%
            ggplot(aes(level, `%`)) +
                geom_col() +
                labs(title = 'Very Sad', y = NULL) +
                theme(
                    axis.text = element_text(size = 7),
                    title = element_text(size = 9)
                ),

       dat %&gt;%
            ggplot(aes(level, `%`)) +
                geom_col() +
                scale_x_discrete(labels = function(x) f_replace(x, '_', '\n')) +
                scale_y_continuous(labels = ff_prop2percent(digits = 0))  +
                labs(title = 'Underscore Split (Readable)', y = NULL) +
                theme(
                    axis.text = element_text(size = 7),
                    title = element_text(size = 9)
                ),


        ncol = 2

    ),
    gridExtra::arrangeGrob(

       dat %&gt;%
            ggplot(aes(level, `%`)) +
                geom_col() +
                scale_x_discrete(labels = function(x) f_title(f_replace(x))) +
                scale_y_continuous(labels = ff_prop2percent(digits = 0))  +
                labs(title = 'Underscore Replaced &amp; Title (Capitalized Sadness)', y = NULL) +
                theme(
                    axis.text = element_text(size = 7),
                    title = element_text(size = 9)
                ),

        dat %&gt;%
            ggplot(aes(level, `%`)) +
                geom_col() +
                scale_x_discrete(labels = function(x) f_wrap(f_title(f_replace(x)))) +
                scale_y_continuous(labels = ff_prop2percent(digits = 0))  +
                labs(title = 'Underscore Replaced, Title, &amp; Wrapped (Happy)', y = NULL) +
                theme(
                    axis.text = element_text(size = 7),
                    title = element_text(size = 9)
                ),

        ncol = 2

    ), ncol = 1

)


## End(Not run)
</code></pre>

<hr>
<h2 id='f_weekday'>Format Weekdays to One Letter Abbreviation</h2><span id='topic+f_weekday'></span><span id='topic+f_weekday.default'></span><span id='topic+f_weekday.numeric'></span><span id='topic+f_weekday.Date'></span><span id='topic+f_weekday.POSIXt'></span><span id='topic+f_weekday.hms'></span><span id='topic+ff_weekday'></span><span id='topic+f_weekday_name'></span><span id='topic+f_weekday_name.default'></span><span id='topic+f_weekday_name.numeric'></span><span id='topic+f_weekday_name.Date'></span><span id='topic+f_weekday_name.POSIXt'></span><span id='topic+f_weekday_name.hms'></span><span id='topic+ff_weekday_name'></span><span id='topic+f_weekday_abbreviation'></span><span id='topic+f_weekday_abbreviation.default'></span><span id='topic+f_weekday_abbreviation.numeric'></span><span id='topic+f_weekday_abbreviation.Date'></span><span id='topic+f_weekday_abbreviation.POSIXt'></span><span id='topic+f_weekday_abbreviation.hms'></span><span id='topic+ff_weekday_abbreviation'></span>

<h3>Description</h3>

<p>Format long weekday name, integer, or date formats to a single capital letter.
Useful for plot scales as a way to save space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_weekday(x, distinct = FALSE, ...)

## Default S3 method:
f_weekday(x, distinct = FALSE, ...)

## S3 method for class 'numeric'
f_weekday(x, distinct = FALSE, ...)

## S3 method for class 'Date'
f_weekday(x, distinct = FALSE, ...)

## S3 method for class 'POSIXt'
f_weekday(x, distinct = FALSE, ...)

## S3 method for class 'hms'
f_weekday(x, distinct = FALSE, ...)

ff_weekday(distinct = FALSE, ...)

f_weekday_name(x, ...)

## Default S3 method:
f_weekday_name(x, ...)

## S3 method for class 'numeric'
f_weekday_name(x, ...)

## S3 method for class 'Date'
f_weekday_name(x, ...)

## S3 method for class 'POSIXt'
f_weekday_name(x, ...)

## S3 method for class 'hms'
f_weekday_name(x, ...)

ff_weekday_name(...)

f_weekday_abbreviation(x, ...)

## Default S3 method:
f_weekday_abbreviation(x, ...)

## S3 method for class 'numeric'
f_weekday_abbreviation(x, ...)

## S3 method for class 'Date'
f_weekday_abbreviation(x, ...)

## S3 method for class 'POSIXt'
f_weekday_abbreviation(x, ...)

## S3 method for class 'hms'
f_weekday_abbreviation(x, ...)

ff_weekday_abbreviation(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_weekday_+3A_x">x</code></td>
<td>
<p>A vector of weekday names, integers 1-12, or dates.</p>
</td></tr>
<tr><td><code id="f_weekday_+3A_distinct">distinct</code></td>
<td>
<p>logical.  If <code>TRUE</code> Sunday will be presented as <code>Su</code>
and Thursday as <code>Th</code>.</p>
</td></tr>
<tr><td><code id="f_weekday_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a single letter month abbreviation atomic vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_weekday(weekdays(x=as.Date(seq(7), origin="1950-01-07")))
f_weekday(weekdays(x=as.Date(seq(7), origin="1950-01-07")), TRUE)

f_weekday(1:7)
f_weekday(1:7, TRUE)

days &lt;- seq(as.Date("2000/1/2"), by = "day", length.out = 7)
f_weekday(days)
f_weekday(days, TRUE)

## Not run: 
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse)

set.seed(11)
data_frame(
    date = sample(seq(as.Date("1990/1/1"), by = "day", length.out = 2e4), 12)
) %&gt;%
    mutate(
        year_4 = f_year(date, 2),
        year_2 = f_year(date, 4),
        quarter = f_quarter(date),
        month_name = f_month_name(date) %&gt;%
            as_factor(),
        month_abbreviation = f_month_abbreviation(date) %&gt;%
            as_factor(),
        month_short = f_month(date),
        weekday_name = f_weekday_name(date),
        weekday_abbreviation = f_weekday_abbreviation(date),
       weekday_short = f_weekday(date),
        weekday_short_distinct = f_weekday(date, distinct = TRUE)
    )


set.seed(10)
dat &lt;- data_frame(
    day = sample(weekdays(days), 10000, TRUE),
    area =  sample(LETTERS[1:15], 10000, TRUE)
) %&gt;%
    count(day, area) %&gt;%
    ungroup() %&gt;%
    mutate(
        day = factor(day, levels = weekdays(days))
    )

## without date formatting
ggplot(dat, aes(day, n)) +
    geom_bar(stat = 'identity') +
    facet_wrap(~area)

## with date formatting
ggplot(dat, aes(day, n)) +
    geom_bar(stat = 'identity') +
    facet_wrap(~area) +
    scale_x_discrete(labels = f_weekday)

## with date formatting
ggplot(dat, aes(day, n)) +
    geom_bar(stat = 'identity') +
    facet_wrap(~area) +
    scale_x_discrete(labels = ff_weekday(distinct = TRUE))

## End(Not run)
</code></pre>

<hr>
<h2 id='f_wrap'>Wrap Strings</h2><span id='topic+f_wrap'></span><span id='topic+ff_wrap'></span>

<h3>Description</h3>

<p>Wrap strings by splitting n width, and paste collapsing with new line
characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_wrap(
  x,
  width = 15,
  sep = "\n",
  exdent = 0,
  indent = 0,
  equal.lines = FALSE,
  collapse = FALSE,
  ...
)

ff_wrap(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_wrap_+3A_x">x</code></td>
<td>
<p>A vector of text strings.</p>
</td></tr>
<tr><td><code id="f_wrap_+3A_width">width</code></td>
<td>
<p>A positive integer giving the target column for wrapping lines
in the output.</p>
</td></tr>
<tr><td><code id="f_wrap_+3A_sep">sep</code></td>
<td>
<p>A new line separator (defaults to <code>"\n"</code>.</p>
</td></tr>
<tr><td><code id="f_wrap_+3A_exdent">exdent</code></td>
<td>
<p>A non-negative integer specifying the indentation of subsequent
lines in paragraphs.</p>
</td></tr>
<tr><td><code id="f_wrap_+3A_indent">indent</code></td>
<td>
<p>A non-negative integer giving the indentation of the first line
in a paragraph.</p>
</td></tr>
<tr><td><code id="f_wrap_+3A_equal.lines">equal.lines</code></td>
<td>
<p>logical.  If <code>TRUE</code> the number of lines for each
element will be made the same by appending additional '\n' to those below
the max number of lines.  This is useful for legend spacing.</p>
</td></tr>
<tr><td><code id="f_wrap_+3A_collapse">collapse</code></td>
<td>
<p>logical. If <code>TRUE</code> then <code>x</code> is collapsed via
<code>paste(x, collapse = ' ')</code> before processing.  This is useful for
muti-line text wrapping of longer subtitles.</p>
</td></tr>
<tr><td><code id="f_wrap_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+strwrap">strwrap</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string vector with wrapped new line characters.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+strwrap">strwrap</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(f_wrap('really long label names are the pits'))
cat(f_wrap('really long label names are the pits', width = 20, exdent = 2))
f_wrap(c('really long label names are the pits and make us sad',
    'not nearly so long'), equal.lines = TRUE)

## Not run: 
library(tidyverse); library(gridExtra)

set.seed(10)
dat &lt;- data_frame(
    level = c('Not Involved', 'Somewhat Involved Single Group',
        'Somewhat Involved Multiple Groups', 'Very Involved One Group',
        'Very Involved Multiple Groups'
    ),
    n = sample(1:10, length(level))
) %&gt;%
    mutate(
        level = factor(level, levels = unique(level)),
        `%` = n/sum(n)
    )

gridExtra::grid.arrange(
    dat %&gt;%
        ggplot(aes(level, `%`)) +
            geom_col() +
            labs(title = 'Yucky Labels', y = NULL),

    dat %&gt;%
        ggplot(aes(level, `%`)) +
            geom_col() +
            scale_x_discrete(labels = f_wrap) +
            scale_y_continuous(labels = ff_prop2percent(digits = 0)) +
            labs(title = 'Happy Labels', y = NULL),

    ncol = 1, heights = c(.45, .55)
)


## End(Not run)
</code></pre>

<hr>
<h2 id='f_year'>Format Years</h2><span id='topic+f_year'></span><span id='topic+f_year.numeric'></span><span id='topic+f_year.Date'></span><span id='topic+f_year.POSIXt'></span><span id='topic+f_year.hms'></span><span id='topic+ff_year'></span>

<h3>Description</h3>

<p>Format 4 digit integer, date, or POSIXlt formats to 2 or 4 digit years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_year(x, digits = 2, ...)

## S3 method for class 'numeric'
f_year(x, digits = 2, ...)

## S3 method for class 'Date'
f_year(x, digits = 2, ...)

## S3 method for class 'POSIXt'
f_year(x, digits = 2, ...)

## S3 method for class 'hms'
f_year(x, digits = 2, ...)

ff_year(digits = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_year_+3A_x">x</code></td>
<td>
<p>A vector of 4 digits integers, dates, or POSIXlt.</p>
</td></tr>
<tr><td><code id="f_year_+3A_digits">digits</code></td>
<td>
<p>Either 2 or 4 for the number of digits to make the year.</p>
</td></tr>
<tr><td><code id="f_year_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of two or four digit years.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_year(as.Date(paste0(1998:2016, '-12-12')))
f_year(c(NA, 1998:2016, 21345))
## Not run: 
library(tidyverse)

dat &lt;- data_frame(
    year = 1998:2016,
    year2 = as.POSIXct(sample(seq_len(1e4), 12), origin = '1970-01-01') +
        (365 * 24 * 3600 * seq_len(19)),
    val = sample(1:20, length(year), TRUE)
) %&gt;%
    mutate(prop = val/sum(val))

dat %&gt;%
    ggplot(aes(year, prop)) +
        geom_line() +
        scale_x_continuous(labels = ff_year(digits = 2), breaks = 1998:2016) +
        scale_y_continuous(labels = ff_prop2percent(digits = 0))

dat %&gt;%
    ggplot(aes(year2, prop)) +
        geom_line() +
        scale_x_time(labels = ff_year(digits = 2), breaks = dat$year2) +
        scale_y_continuous(labels = ff_prop2percent(digits = 0))

## End(Not run)
</code></pre>

<hr>
<h2 id='fv_num_percent'>Convert a Numeric Vector to Number and Parenthetical Percentages</h2><span id='topic+fv_num_percent'></span><span id='topic+ffv_num_percent'></span>

<h3>Description</h3>

<p>Convert a vector of numbers into a vector of strings with the number
followed by the relative percentage in parenthesis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fv_num_percent(
  x,
  x_digits = getOption("numformdigits"),
  y_digits = x_digits,
  sep = "",
  comma = TRUE,
  ...
)

ffv_num_percent(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fv_num_percent_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="fv_num_percent_+3A_x_digits">x_digits</code></td>
<td>
<p>The number of digits to round the x vector.</p>
</td></tr>
<tr><td><code id="fv_num_percent_+3A_y_digits">y_digits</code></td>
<td>
<p>The number of digits to round the y vector.</p>
</td></tr>
<tr><td><code id="fv_num_percent_+3A_sep">sep</code></td>
<td>
<p>The separator between the first number and the leading parenthesis.</p>
</td></tr>
<tr><td><code id="fv_num_percent_+3A_comma">comma</code></td>
<td>
<p>logical.  If <code>TRUE</code> the leading number is comma separated.</p>
</td></tr>
<tr><td><code id="fv_num_percent_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of parenthesis combined strings using vector x
followed by the value as a relative percent in parenthesis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fv_num_percent(1:10)
fv_num_percent(1:10, x_digits = 0, y_digits = 1, sep = " ")
</code></pre>

<hr>
<h2 id='fv_percent'>Convert a Numeric Vector to Percentages</h2><span id='topic+fv_percent'></span><span id='topic+ffv_percent'></span>

<h3>Description</h3>

<p>Converts a numeric vector into a vector of relative percentages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fv_percent(x, digits = getOption("numformdigits"), ...)

ffv_percent(...)

ffv_percent(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fv_percent_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="fv_percent_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 1.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="fv_percent_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="#topic+f_prop2percent">f_prop2percent</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready relative percentages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fv_percent(1:4)
fv_percent(sample(1:100, 20))
## Not run: 
library(tidyverse)

mtcars %&gt;%
    count(cyl, gear) %&gt;%
    group_by(cyl) %&gt;%
    mutate(perc = fv_percent(n, digits = 0))

mtcars %&gt;%
    count(cyl, gear) %&gt;%
    group_by(cyl) %&gt;%
    mutate(perc = fv_percent(n, digits = 0)) %&gt;%
    ggplot(aes(gear, n)) +
        geom_bar(stat = 'identity') +
        facet_wrap(~cyl, ncol = 1) +
        geom_text(aes(y = n + 1, label = perc))

## End(Not run)
</code></pre>

<hr>
<h2 id='fv_percent_diff'>Percent Difference</h2><span id='topic+fv_percent_diff'></span><span id='topic+fv_percent_diff_fixed_relative'></span><span id='topic+ffv_percent_diff_fixed_relative'></span><span id='topic+ffv_percent_diff'></span>

<h3>Description</h3>

<p><code>fv_percent_diff</code> - Convert a vector of values to percent differences
(i.e., (T2 - T1)/T1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fv_percent_diff(x, digits = getOption("numformdigits"), ...)

fv_percent_diff_fixed_relative(
  x,
  fixed.relative = 1,
  digits = getOption("numformdigits"),
  ...
)

ffv_percent_diff_fixed_relative(...)

ffv_percent_diff(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fv_percent_diff_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="fv_percent_diff_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 1.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="fv_percent_diff_+3A_fixed.relative">fixed.relative</code></td>
<td>
<p>The position of the element to be used for comparison.
Default is the first element.</p>
</td></tr>
<tr><td><code id="fv_percent_diff_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="#topic+f_prop2percent">f_prop2percent</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready relative percent differences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(10)
x &lt;- sample(1:10)

data.frame(
    original = x,
    perc_change = fv_percent_diff(x)
)

## Not run: 
library(dplyr)

CO2 %&gt;%
    group_by(Plant) %&gt;%
    mutate(
        `Percent` = fv_percent(conc),
        `Percent Diff` = fv_percent_diff(conc)
    ) %&gt;%
    print(n=Inf)

CO2 %&gt;%
    group_by(Type, Treatment) %&gt;%
    mutate(
        `Percent` = fv_percent(conc),
        `Percent Diff` = fv_percent_diff(conc)
    ) %&gt;%
    print(n=Inf)

## End(Not run)
</code></pre>

<hr>
<h2 id='fv_percent_lead'>Percent Difference</h2><span id='topic+fv_percent_lead'></span><span id='topic+fv_percent_lead_fixed_relative'></span><span id='topic+ffv_percent_lead'></span><span id='topic+ffv_percent_lead_fixed_relative'></span>

<h3>Description</h3>

<p><code>fv_percent_lead</code> - Convert a vector of values to percent relative to
prior value in the vector (i.e., T2/T1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fv_percent_lead(x, digits = getOption("numformdigits"), ...)

fv_percent_lead_fixed_relative(
  x,
  fixed.relative = 1,
  digits = getOption("numformdigits"),
  ...
)

ffv_percent_lead(...)

ffv_percent_lead_fixed_relative(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fv_percent_lead_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="fv_percent_lead_+3A_digits">digits</code></td>
<td>
<p>The number of digits to use.  Defaults to 1.  Can be set
globally via: <code>options(numformdigits = n)</code> where n is the number of
digits beyond the decimal point to include.</p>
</td></tr>
<tr><td><code id="fv_percent_lead_+3A_fixed.relative">fixed.relative</code></td>
<td>
<p>The position of the element to be used for comparison.
Default is the first element.</p>
</td></tr>
<tr><td><code id="fv_percent_lead_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="#topic+f_prop2percent">f_prop2percent</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string of publication ready relative percent differences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(10)
x &lt;- sample(1:10)

data.frame(
    original = x,
    perc_change = fv_percent_lead(x)
)

## Not run: 
library(dplyr)

CO2 %&gt;%
    group_by(Plant) %&gt;%
    mutate(
        `Percent` = fv_percent(conc),
        `Percent Diff` = fv_percent_diff(conc),
        `Percent Relative` = fv_percent_lead(conc)
    ) %&gt;%
    print(n=Inf)

CO2 %&gt;%
    group_by(Type, Treatment) %&gt;%
    mutate(
        `Percent` = fv_percent(conc),
        `Percent Diff` = fv_percent_diff(conc),
        `Percent Relative` = fv_percent_lead(conc)
    ) %&gt;%
    print(n=Inf)

## End(Not run)
</code></pre>

<hr>
<h2 id='fv_runs'>Remove Subsequent Runs from a Vector</h2><span id='topic+fv_runs'></span>

<h3>Description</h3>

<p>Remove subsequent runs from a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fv_runs(x, fill = "", missing = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fv_runs_+3A_x">x</code></td>
<td>
<p>A vector with runs.</p>
</td></tr>
<tr><td><code id="fv_runs_+3A_fill">fill</code></td>
<td>
<p>What to fill in subsequent runs with.</p>
</td></tr>
<tr><td><code id="fv_runs_+3A_missing">missing</code></td>
<td>
<p>What to fill in missing values with.</p>
</td></tr>
<tr><td><code id="fv_runs_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of strings with subsequent runs removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 1 , 2, 3, 4, 4, 1, 1, 3, 3, NA, 5)
fv_runs(x)
fv_runs(x, fill = '-')
fv_runs(x, fill = '-', missing = 'X')

## Not run: 
library(dplyr)

set.seed(10)
data.frame(
    state = sort(sample(state.name[c(1, 5, 9, 12)], 12, TRUE)),
    val = rnorm(12)
) %&gt;%
    mutate(state2 = fv_runs(state))

## End(Not run)
</code></pre>

<hr>
<h2 id='highlight_cells'>Highlight Cells</h2><span id='topic+highlight_cells'></span>

<h3>Description</h3>

<p>A lightweight cell highlighter that uses non-standard evaluation.  This
function is designed for interactive use.  It's behavior outside of this
context is not gaurenteed.  For finer contral use an <code>ifelse</code> with
<code>paste</code> within a <code>?dplyr::mutate</code> statement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>highlight_cells(
  data,
  rows,
  columns = seq_len(ncol(data)),
  left = "&lt;b&gt;",
  right = gsub("(&lt;)([^&gt; ]+)([^&gt;]*&gt;)", "\\1/\\2&gt;", left),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="highlight_cells_+3A_data">data</code></td>
<td>
<p>A data.frame.</p>
</td></tr>
<tr><td><code id="highlight_cells_+3A_rows">rows</code></td>
<td>
<p>An expression that evaluates to logical and is equal in length to
the number of rows.</p>
</td></tr>
<tr><td><code id="highlight_cells_+3A_columns">columns</code></td>
<td>
<p>A vector of either integer positions or character names
corresponding to columns that should be highlighted.  Defaults to all columns.</p>
</td></tr>
<tr><td><code id="highlight_cells_+3A_left">left</code></td>
<td>
<p>A highlighting tag for the left side of the cell value.</p>
</td></tr>
<tr><td><code id="highlight_cells_+3A_right">right</code></td>
<td>
<p>A highlighting tag for the right side of the cell value.
Attempts to use the <code>left</code> input to create a corresponding <code>right</code>
HTML based tag.</p>
</td></tr>
<tr><td><code id="highlight_cells_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.frame with the chosen cell values wrapped in highlight
tags.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>highlight_cells(mtcars, rows = hp &gt; 230 | qsec &gt; 20)
highlight_cells(mtcars, rows = hp &gt; 230, columns = 'hp')

## Not run: 
library(dplyr); library(tibble); library(pander)

mtcars %&gt;%
    highlight_cells(rows = hp &gt; 230, columns = 'hp') %&gt;%
    highlight_cells(rows = qsec &gt; 20, columns = 'qsec', left = '&lt;b style="color:blue;"&gt;')  %&gt;%
    rownames_to_column('car') %&gt;%
    data.frame(stringsAsFactors = FALSE, check.names = FALSE) %&gt;%
    pander::pander(split.tables = Inf, justify = alignment(.))

## End(Not run)

## Not run: 
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse, magrittr)

set.seed(10)
data_frame(
    w = paste(constant_months, rep(2016:2017, each = 12))[1:20] ,
    x = rnorm(20, 200000, 75000)
) %&gt;%
    {
        a &lt;- .
        rbind(
            a,
            a %&gt;%
                mutate(w = 'Total') %&gt;%
                group_by(w) %&gt;%
                summarize(x = sum(x))
        )
    } %&gt;%
    mutate(
        y = f_denom(x, prefix = '$'),
        z = f_denom(x, mix.denom = TRUE, prefix = '$'),
        x = f_comma(f_dollar(x, 2))
    )  %&gt;%
    highlight_cells(w == 'Total') %&gt;%
    data.frame(stringsAsFactors = FALSE, check.names = FALSE) %&gt;%
    pander::pander(split.tables = Inf, justify = alignment(.))

## End(Not run)
</code></pre>

<hr>
<h2 id='numform'>Tools to Format Numbers for Publication</h2><span id='topic+numform'></span><span id='topic+package-numform'></span>

<h3>Description</h3>

<p>Format numbers and plots for publication; includes the removal of leading zeros,
standardization of number of digits, addition of affixes, and a p-value
formatter.  These tools combine the functionality of several 'base' functions
such as <code><a href="base.html#topic+paste">paste</a></code>, <code><a href="base.html#topic+format">format</a></code>, and
<code><a href="base.html#topic+sprintf">sprintf</a></code> into specific use case functions that are named in
a way that is consistent with usage, making their names easy to remember and
easy to deploy.
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+glue'></span><span id='topic+glue_collapse'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>glue</dt><dd><p><code><a href="glue.html#topic+glue">glue</a></code>, <code><a href="glue.html#topic+glue_collapse">glue_collapse</a></code></p>
</dd>
</dl>

<hr>
<h2 id='round2'>Rounding</h2><span id='topic+round2'></span><span id='topic+round_any'></span>

<h3>Description</h3>

<p><code>round2</code> - By default R's <code>round</code> function uses the 'round half to
even' method.  This function (taken from https://stackoverflow.com/a/12688836/1000343)
rounds half up.
</p>
<p><code>round_any</code> - This tooling lets you round to fractional values, not
just whole numbers.  Code adapted from https://stackoverflow.com/a/8665247/1000343.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round2(x, digits = 0, ...)

round_any(x, accuracy, f = round2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="round2_+3A_x">x</code></td>
<td>
<p>A vector of digits.</p>
</td></tr>
<tr><td><code id="round2_+3A_digits">digits</code></td>
<td>
<p>The number of decimal places to round to.</p>
</td></tr>
<tr><td><code id="round2_+3A_accuracy">accuracy</code></td>
<td>
<p>Number to round to.</p>
</td></tr>
<tr><td><code id="round2_+3A_f">f</code></td>
<td>
<p>A function to round (e.g., <code>round</code>, <code>ceiling</code>, <code>floor</code>).
efaults to <code>round2</code>.</p>
</td></tr>
<tr><td><code id="round2_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>round2</code> - Returns numeric vector half rounded up.
</p>
<p><code>round_any</code> - Returns a numeric vector or rounded fractional values.
</p>


<h3>Author(s)</h3>

<p>Kohske Takahashi
</p>


<h3>References</h3>

<p>https://stackoverflow.com/a/12688836/1000343 <br />
https://stackoverflow.com/a/8665247/1000343
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(
    orig = .5 + (0:8),
    round = round(.5 + (0:8)),
    round2 = round2(.5 + (0:8))
)

round_any(c(.123, 1.234, 4, 4.715), .5)
round_any(c(.123, 1.234, 4, 4.715), .25)
</code></pre>

<hr>
<h2 id='time_digits'>Compute Digits Needed for Quarter Hour Time Vector</h2><span id='topic+time_digits'></span>

<h3>Description</h3>

<p>This tool computes the minimum number of digits required for a vector of times.
The defaults of the tool assumes your time is rounded to within the quarter
hour.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_digits(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_digits_+3A_x">x</code></td>
<td>
<p>A numeric vector of times rounded tot he nearest quarter hour.</p>
</td></tr>
<tr><td><code id="time_digits_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns integer 0-2
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_digits(c(.5, .25, 6))
time_digits(c(.5, 3.5, 6))
time_digits(c(5, 25, 6))

x &lt;- c(.5, .25, 6)
numform::f_pad_left(numform::f_num(x, digits = numform::time_digits(x)))

lapply(
    list(quarter = c(.5, .25, 6), half = c(.5, 3.5, 6), hour = c(5, 25, 6)),
    function(x) {numform::f_pad_left(numform::f_num(x, digits = numform::time_digits(x)))}
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

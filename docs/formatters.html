<!DOCTYPE html><html><head><title>Help for package formatters</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {formatters}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#formatters-package'><p>formatters Package</p></a></li>
<li><a href='#basic_matrix_form'><p>Create spoof matrix form from a data.frame</p></a></li>
<li><a href='#basic_pagdf'><p>Basic/spoof pagination info dataframe</p></a></li>
<li><a href='#check_formats'><p>Check if a format or alignment is supported</p></a></li>
<li><a href='#decimal_align'><p>Decimal Alignment</p></a></li>
<li><a href='#default_horizontal_sep'><p>Default horizontal separator</p></a></li>
<li><a href='#divider_height'><p>Divider Height</p></a></li>
<li><a href='#DM'><p><code>DM</code> data</p></a></li>
<li><a href='#do_forced_paginate'><p>Generic for Performing &quot;Forced Pagination&quot;</p></a></li>
<li><a href='#ex_adsl'><p>Simulated <code>CDISC</code> Alike Data for Examples</p></a></li>
<li><a href='#export_as_pdf'><p>Export as PDF</p></a></li>
<li><a href='#export_as_rtf'><p>Export table to <code>RTF</code></p></a></li>
<li><a href='#export_as_txt'><p>Export a table-like object to plain (ASCII) text with page break</p></a></li>
<li><a href='#fmt_config'><p>Format Configuration</p></a></li>
<li><a href='#font_lcpi'><p>Calculate lines per inch and characters per inch for font</p></a></li>
<li><a href='#format_value'><p>Converts a (possibly compound) value into a string using the <code>format</code> information</p></a></li>
<li><a href='#ifnotlen0'><p><code style="white-space: pre;">&#8288;%||%&#8288;</code> If length-0 alternative operator</p></a></li>
<li><a href='#is.wholenumber'><p><code>is.wholenumber</code></p></a></li>
<li><a href='#lab_name'><p>Label, Name and Format accessor generics</p></a></li>
<li><a href='#list_formats'><p>List with currently supported formats and vertical alignments</p></a></li>
<li><a href='#main_title'><p>General title/footer accessors</p></a></li>
<li><a href='#make_row_df'><p>Make row layout summary data.frames for use during pagination</p></a></li>
<li><a href='#matrix_form'><p>Transform <code>rtable</code> to a list of matrices which can be used for outputting</p></a></li>
<li><a href='#MatrixPrintForm'><p>Matrix Print Form - Intermediate Representation for ASCII Table Printing</p></a></li>
<li><a href='#MatrixPrintForm-class'><p>Matrix Print Form - Intermediate Representation for ASCII Table Printing</p></a></li>
<li><a href='#mf_strings'><p><code>Setters</code> and <code>getters</code> for aspects of <code>MatrixPrintForm</code> Objects</p></a></li>
<li><a href='#mpf_to_rtf'><p>Transform <code>MPF</code> to <code>RTF</code></p></a></li>
<li><a href='#nlines'><p>Number of lines required to print a value</p></a></li>
<li><a href='#num_rep_cols'><p>Number of repeated columns</p></a></li>
<li><a href='#padstr'><p>Pad a string and align within string</p></a></li>
<li><a href='#pag_indices_inner'><p>Find Pagination Indices From Pagination Info Dataframe</p></a></li>
<li><a href='#pagdfrow'><p>Create row of pagination data frame</p></a></li>
<li><a href='#page_lcpp'><p>Determine lines per page (<code>LPP</code>) and characters per page (<code>CPP</code>) based on font and page type</p></a></li>
<li><a href='#page_types'><p>Supported Named Page <code>TypesList</code> supported named page types</p></a></li>
<li><a href='#paginate_indices'><p>Paginate a table-like object for rendering</p></a></li>
<li><a href='#pagination_algo'><p>Pagination</p></a></li>
<li><a href='#print+2CANY-method'><p>Print</p></a></li>
<li><a href='#propose_column_widths'><p>Propose Column Widths based on an object's <code>MatrixPrintForm</code> form</p></a></li>
<li><a href='#ref_df_row'><p>Create a row for a referential footnote information dataframe</p></a></li>
<li><a href='#round_fmt'><p>Round and prepare a value for display</p></a></li>
<li><a href='#spans_to_viscell'><p>Transform vectors of spans (with duplication) to Visibility vector</p></a></li>
<li><a href='#spread_integer'><p>spread <code>x</code> into <code>len</code> elements</p></a></li>
<li><a href='#sprintf_format'><p>Specify text format via a <code>sprintf</code> format string</p></a></li>
<li><a href='#table_inset'><p>Access or (recursively) set table inset.</p></a></li>
<li><a href='#toString'><p><code>toString</code></p></a></li>
<li><a href='#var_labels'><p>Get Label Attributes of Variables in a <code>data.frame</code></p></a></li>
<li><a href='#var_labels_remove'><p>Remove Variable Labels of a <code>data.frame</code></p></a></li>
<li><a href='#var_labels+26lt+3B-'><p>Set Label Attributes of All Variables in a <code>data.frame</code></p></a></li>
<li><a href='#var_relabel'><p>Copy and Change Variable Labels of a <code>data.frame</code></p></a></li>
<li><a href='#vert_pag_indices'><p>Find Column Indices for Vertical Pagination</p></a></li>
<li><a href='#with_label'><p>Return an object with a label attribute</p></a></li>
<li><a href='#wrap_string'><p>Wrap a string to within a precise width</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>ASCII Formatting for Values and Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-12-05</td>
</tr>
<tr>
<td>Description:</td>
<td>We provide a framework for rendering complex tables to ASCII,
    and a set of formatters for transforming values or sets of values into
    ASCII-ready display strings.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/insightsengineering/formatters">https://github.com/insightsengineering/formatters</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/insightsengineering/formatters/issues">https://github.com/insightsengineering/formatters/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>methods, R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate (&ge; 2.1.0), grid, htmltools (&ge; 0.5.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr (&ge; 1.0.9), gt (&ge; 0.7.0), huxtable (&ge; 2.0.0), knitr
(&ge; 1.42), r2rtf (&ge; 0.3.2), stringi (&ge; 1.6), testthat (&ge;
3.0.4)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/verdepcheck:</td>
<td>mllg/checkmate, rstudio/htmltools,
tidyverse/dplyr, rstudio/gt, hughjonesd/huxtable, yihui/knitr,
Merck/r2rtf, r-lib/testthat</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>insightsengineering/nesttemplate</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'data.R' 'format_value.R' 'matrix_form.R' 'generics.R'
'labels.R' 'mpf_exporters.R' 'package.R' 'page_size.R'
'pagination.R' 'tostring.R' 'utils.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-05 23:22:46 UTC; rstudio</td>
</tr>
<tr>
<td>Author:</td>
<td>Gabriel Becker [aut] (original creator of the package),
  Adrian Waddell [aut],
  Davide Garolini [ctb],
  Emily de la Rua [ctb],
  Abinaya Yogasekaram [ctb],
  Joe Zhu [ctb, cre],
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joe Zhu &lt;joe.zhu@roche.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-06 09:20:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='formatters-package'>formatters Package</h2><span id='topic+formatters'></span><span id='topic+formatters-package'></span>

<h3>Description</h3>

<p>Package to format tables and listings in a flexible way.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Joe Zhu <a href="mailto:joe.zhu@roche.com">joe.zhu@roche.com</a> [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Gabriel Becker <a href="mailto:gabembecker@gmail.com">gabembecker@gmail.com</a> (original creator of the package)
</p>
</li>
<li><p> Adrian Waddell <a href="mailto:adrian.waddell@gene.com">adrian.waddell@gene.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Davide Garolini <a href="mailto:davide.garolini@roche.com">davide.garolini@roche.com</a> [contributor]
</p>
</li>
<li><p> Emily de la Rua <a href="mailto:emily.de_la_rua@contractors.roche.com">emily.de_la_rua@contractors.roche.com</a> [contributor]
</p>
</li>
<li><p> Abinaya Yogasekaram <a href="mailto:abinaya.yogasekaram@contractors.roche.com">abinaya.yogasekaram@contractors.roche.com</a> [contributor]
</p>
</li>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/insightsengineering/formatters">https://github.com/insightsengineering/formatters</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/insightsengineering/formatters/issues">https://github.com/insightsengineering/formatters/issues</a>
</p>
</li></ul>


<hr>
<h2 id='basic_matrix_form'>Create spoof matrix form from a data.frame</h2><span id='topic+basic_matrix_form'></span>

<h3>Description</h3>

<p>This is  useful primarily  for writing  testing/examples, and as a
starting point for more sophisticated custom <code>matrix_form</code> methods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_matrix_form(df, parent_path = "root")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basic_matrix_form_+3A_df">df</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="basic_matrix_form_+3A_parent_path">parent_path</code></td>
<td>
<p>character. parent path that all rows should be &quot;children of&quot;,
defaults to <code>"root"</code>, and generally should not matter to end users.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A valid <code>MatrixPrintForm</code> object representing <code>df</code>,
ready for ASCII rendering
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mform &lt;- basic_matrix_form(mtcars)
cat(toString(mform))
</code></pre>

<hr>
<h2 id='basic_pagdf'>Basic/spoof pagination info dataframe</h2><span id='topic+basic_pagdf'></span>

<h3>Description</h3>

<p>Returns a minimal pagination info data.frame (with no sibling/footnote/etc info).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_pagdf(
  rnames,
  labs = rnames,
  rnums = seq_along(rnames),
  extents = 1L,
  rclass = "NA",
  parent_path = "root"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basic_pagdf_+3A_rnames">rnames</code></td>
<td>
<p>character. Vector of row names</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_labs">labs</code></td>
<td>
<p>character. Vector of row labels (defaults to names)</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_rnums">rnums</code></td>
<td>
<p>integer. Vector of row numbers. Defaults to <code>seq_along(rnames)</code>.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_extents">extents</code></td>
<td>
<p>integer. Number of lines each row will take to print, defaults to 1 for all rows</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_rclass">rclass</code></td>
<td>
<p>character. Class(es) for the rows. Defaults to &quot;NA&quot;</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_parent_path">parent_path</code></td>
<td>
<p>character. parent path that all rows should be &quot;children of&quot;,
defaults to <code>"root"</code>, and generally should not matter to end users.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame suitable for use in both the <code>matrix_print_form</code> constructor and the pagination machinery
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
basic_pagdf(c("hi", "there"))
</code></pre>

<hr>
<h2 id='check_formats'>Check if a format or alignment is supported</h2><span id='topic+check_formats'></span><span id='topic+is_valid_format'></span><span id='topic+check_aligns'></span>

<h3>Description</h3>

<p>Utility functions for checking formats and alignments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valid_format(x, stop_otherwise = FALSE)

check_aligns(algn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_formats_+3A_x">x</code></td>
<td>
<p>either format string or an object returned by <code>sprintf_format</code></p>
</td></tr>
<tr><td><code id="check_formats_+3A_stop_otherwise">stop_otherwise</code></td>
<td>
<p>logical, if <code>x</code> is not a format should an error be
thrown</p>
</td></tr>
<tr><td><code id="check_formats_+3A_algn">algn</code></td>
<td>
<p>vector of characters that indicates the requested cell alignments.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>is_valid_format</code>: <code>TRUE</code> if <code>x</code> is <code>NULL</code>, a supported
format string, or a function; <code>FALSE</code> otherwise.
</p>
</li></ul>


<ul>
<li> <p><code>check_aligns</code>: <code>TRUE</code> if it passes the check.
</p>
</li></ul>



<h3>Note</h3>

<p>No check if the function is actually a <code>formatter</code> is performed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_valid_format("xx.x")
is_valid_format("fakeyfake")

check_aligns(c("decimal", "dec_right"))

</code></pre>

<hr>
<h2 id='decimal_align'>Decimal Alignment</h2><span id='topic+decimal_align'></span>

<h3>Description</h3>

<p>Aligning decimal values of string matrix. Allowed alignments are: <code>dec_left</code>,
<code>dec_right</code> and <code>decimal</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decimal_align(string_mat, align_mat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="decimal_align_+3A_string_mat">string_mat</code></td>
<td>
<p>character matrix. String matrix component of matrix print form object.</p>
</td></tr>
<tr><td><code id="decimal_align_+3A_align_mat">align_mat</code></td>
<td>
<p>character matrix. Aligns matrix component of matrix print form object.
Should contain either <code>dec_left</code>, <code>dec_right</code> or <code>decimal</code> for values to be decimal aligned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Decimal alignment left and right (<code>dec_left</code> and <code>dec_right</code>) are different to
center decimal alignment <code>decimal</code> only in the case some padding is present. This may
happen if column widths are wider by setting parameters <code>widths</code> in <code>toString</code> or
<code>colwidths</code> in <code style="white-space: pre;">&#8288;paginate_*&#8288;</code> accordingly. It will be also the case (more common) of
wider column names. Decimal alignment is not supported along with cell wrapping.
</p>


<h3>Value</h3>

<p>Processed string matrix of matrix print form with decimal aligned values.
</p>


<h3>See Also</h3>

<p><a href="#topic+toString">toString</a> and <a href="#topic+MatrixPrintForm">MatrixPrintForm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dfmf &lt;- basic_matrix_form(mtcars[1:5, ])
aligns &lt;- mf_aligns(dfmf)
aligns[, -c(1)] &lt;- "dec_left"
decimal_align(mf_strings(dfmf), aligns)

</code></pre>

<hr>
<h2 id='default_horizontal_sep'>Default horizontal separator</h2><span id='topic+default_horizontal_sep'></span><span id='topic+default_hsep'></span><span id='topic+set_default_hsep'></span>

<h3>Description</h3>

<p>The default horizontal separator character which can be
displayed in the current <code>charset</code> for use in rendering table-likes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_hsep()

set_default_hsep(hsep_char)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="default_horizontal_sep_+3A_hsep_char">hsep_char</code></td>
<td>
<p>character(1). Character that will be set in the R environment
options as default for creating the horizontal separator. It needs to be
single character. Use <code>getOption("formatters_default_hsep")</code> to get its current
value (<code>NULL</code> if not set).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>unicode</code> 2014 (long dash for generating solid horizontal line)
if in a locale that uses a UTF character set, otherwise an ASCII hyphen
with a once-per-session warning.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>default_hsep()
set_default_hsep("o")
default_hsep()

</code></pre>

<hr>
<h2 id='divider_height'>Divider Height</h2><span id='topic+divider_height'></span><span id='topic+divider_height+2CANY-method'></span>

<h3>Description</h3>

<p>Divider Height
</p>


<h3>Usage</h3>

<pre><code class='language-R'>divider_height(obj)

## S4 method for signature 'ANY'
divider_height(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="divider_height_+3A_obj">obj</code></td>
<td>
<p>ANY. Object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The height, in lines of text, of the divider between
header and body. Currently returns <code>1L</code> for the default method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>divider_height(mtcars)
</code></pre>

<hr>
<h2 id='DM'><code>DM</code> data</h2><span id='topic+DM'></span>

<h3>Description</h3>

<p><code>DM</code> data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DM
</code></pre>


<h3>Format</h3>

<p><code>rds</code> (data.frame)
</p>

<hr>
<h2 id='do_forced_paginate'>Generic for Performing &quot;Forced Pagination&quot;</h2><span id='topic+do_forced_paginate'></span><span id='topic+do_forced_paginate+2CANY-method'></span>

<h3>Description</h3>

<p>Forced pagination is pagination which happens regardless of
position on page. The object is expected to have all information
necessary to locate such page breaks, and the <code>do_forced_pag</code>
method is expected to fully perform those paginations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_forced_paginate(obj)

## S4 method for signature 'ANY'
do_forced_paginate(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_forced_paginate_+3A_obj">obj</code></td>
<td>
<p>The object to be paginated.
</p>
<p>The <code>ANY</code> method simply returns a list of length one, containing
<code>obj</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of subobjects, which will be further paginated
by the standard pagination algorithm.
</p>

<hr>
<h2 id='ex_adsl'>Simulated <code>CDISC</code> Alike Data for Examples</h2><span id='topic+ex_adsl'></span><span id='topic+ex_adae'></span><span id='topic+ex_adaette'></span><span id='topic+ex_adtte'></span><span id='topic+ex_adcm'></span><span id='topic+ex_adlb'></span><span id='topic+ex_admh'></span><span id='topic+ex_adqs'></span><span id='topic+ex_adrs'></span><span id='topic+ex_advs'></span>

<h3>Description</h3>

<p>Simulated <code>CDISC</code> Alike Data for Examples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ex_adsl

ex_adae

ex_adaette

ex_adtte

ex_adcm

ex_adlb

ex_admh

ex_adqs

ex_adrs

ex_advs
</code></pre>


<h3>Format</h3>

<p><code>rds</code> (data.frame)
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1934 rows and 48 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1200 rows and 42 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1200 rows and 42 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1934 rows and 41 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 8400 rows and 59 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1934 rows and 41 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 14000 rows and 49 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 2400 rows and 41 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 16800 rows and 59 columns.
</p>

<hr>
<h2 id='export_as_pdf'>Export as PDF</h2><span id='topic+export_as_pdf'></span>

<h3>Description</h3>

<p>The PDF output is based on the ASCII output created with <code><a href="#topic+toString">toString()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_as_pdf(
  x,
  file,
  page_type = "letter",
  landscape = FALSE,
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  width = NULL,
  height = NULL,
  margins = c(4, 4, 4, 4),
  min_siblings = 2,
  font_family = "Courier",
  font_size = 8,
  fontsize = font_size,
  paginate = TRUE,
  lpp = NULL,
  cpp = NULL,
  hsep = "-",
  indent_size = 2,
  tf_wrap = TRUE,
  max_width = NULL,
  colwidths = propose_column_widths(x)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_as_pdf_+3A_x">x</code></td>
<td>
<p>ANY.  The  table-like object  to  export.  Must have  an
applicable <code>matrix_form</code> method.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_file">file</code></td>
<td>
<p>file to write, must have <code>.pdf</code> extension</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_page_type">page_type</code></td>
<td>
<p>character(1).   Name   of  a  page  type.   See
<code>page_types</code>.   Ignored when  <code>pg_width</code> and  <code>pg_height</code>
are set directly.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_landscape">landscape</code></td>
<td>
<p>logical(1). Should the  dimensions of <code>page_type</code>
be inverted  for landscape?  Defaults to  <code>FALSE</code>, ignored when
<code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_pg_width">pg_width</code></td>
<td>
<p>numeric(1). Page width in inches.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_pg_height">pg_height</code></td>
<td>
<p>numeric(1). Page height in inches.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_width">width</code></td>
<td>
<p>Deprecated, please use <code>pg_width</code> or specify
<code>page_type</code>. The width of the graphics region in inches</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_height">height</code></td>
<td>
<p>Deprecated, please use <code>pg_height</code> or specify
<code>page_type</code>. The height of the graphics region in inches</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_margins">margins</code></td>
<td>
<p>numeric(4). The number of lines/characters of margin on the
bottom, left, top, and right sides of the page.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_min_siblings">min_siblings</code></td>
<td>
<p>numeric. Minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_font_family">font_family</code></td>
<td>
<p>character(1). Name of a font family. An error
will be thrown if the family named is not monospaced. Defaults
to Courier.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_font_size">font_size</code></td>
<td>
<p>numeric(1). Font size, defaults to 12.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_fontsize">fontsize</code></td>
<td>
<p>Deprecated, please use <code>font_size</code>. The size of
text (in points)</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_paginate">paginate</code></td>
<td>
<p>logical(1). Whether pagination should be performed,
defaults to <code>TRUE</code> if page size is specified (including
the default).</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_lpp">lpp</code></td>
<td>
<p>numeric(1) or NULL. Lines per page. if NA (the default,
this is calculated automatically based on the specified page
size). <code>NULL</code> indicates no vertical pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_cpp">cpp</code></td>
<td>
<p>numeric(1) or NULL. Width in characters per page. if NA (the default,
this is calculated automatically based on the specified page
size). <code>NULL</code> indicates no horizontal pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_hsep">hsep</code></td>
<td>
<p>character(1). Characters to repeat to create
header/body separator line. If <code>NULL</code>, the object value will be
used. If <code>" "</code>, an empty separator will be printed. Check <code><a href="#topic+default_hsep">default_hsep()</a></code>
for more information.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_indent_size">indent_size</code></td>
<td>
<p>numeric(1). Indent size in characters. Ignored
when <code>x</code> is already a <code>MatrixPrintForm</code> object in favor of information
there.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>logical(1). Should  the texts for  title, subtitle,
and footnotes be wrapped?</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_max_width">max_width</code></td>
<td>
<p>integer(1), character(1) or <code>NULL</code>. Width that title
and   footer   (including   footnotes)  materials   should   be
word-wrapped to. If <code>NULL</code>, it is  set to the current print width
of the  session (<code>getOption("width")</code>). If set to <code>"auto"</code>,
the width of the table (plus any table inset) is used. Ignored
completely if <code>tf_wrap</code> is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric vector.  Column widths (in characters) for
use with vertical pagination.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, pagination is performed with default
<code>cpp</code> and <code>lpp</code> defined by specified page dimensions and margins.
User-specified <code>lpp</code> and <code>cpp</code> values override this, and should
be used with caution.
</p>
<p>Title and footer materials are also word-wrapped by default
(unlike when printed to the terminal), with <code>cpp</code>, as
defined above, as the default <code>max_width</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+export_as_txt">export_as_txt()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tf &lt;- tempfile(fileext = ".pdf")
export_as_pdf(basic_matrix_form(mtcars), file = tf, pg_height = 4)

tf &lt;- tempfile(fileext = ".pdf")
export_as_pdf(basic_matrix_form(mtcars), file = tf, lpp = 8)

## End(Not run)
</code></pre>

<hr>
<h2 id='export_as_rtf'>Export table to <code>RTF</code></h2><span id='topic+export_as_rtf'></span>

<h3>Description</h3>

<p>Experimental export to the <code>RTF</code> format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_as_rtf(
  x,
  file = NULL,
  colwidths = propose_column_widths(matrix_form(x, TRUE)),
  page_type = "letter",
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  landscape = FALSE,
  margins = c(bottom = 0.5, left = 0.75, top = 0.5, right = 0.75),
  font_size = 8,
  font_family = "Courier",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_as_rtf_+3A_x">x</code></td>
<td>
<p>ANY.  The  table-like object  to  export.  Must have  an
applicable <code>matrix_form</code> method.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_file">file</code></td>
<td>
<p>character(1) or NULL.  If non-NULL, the path to write a
text file to containing the <code>x</code> rendered as ASCII text,</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric vector.  Column widths (in characters) for
use with vertical pagination.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_page_type">page_type</code></td>
<td>
<p>character(1).   Name   of  a  page  type.   See
<code>page_types</code>.   Ignored when  <code>pg_width</code> and  <code>pg_height</code>
are set directly.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_pg_width">pg_width</code></td>
<td>
<p>numeric(1). Page width in inches.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_pg_height">pg_height</code></td>
<td>
<p>numeric(1). Page height in inches.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_landscape">landscape</code></td>
<td>
<p>logical(1). Should the  dimensions of <code>page_type</code>
be inverted  for landscape?  Defaults to  <code>FALSE</code>, ignored when
<code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_margins">margins</code></td>
<td>
<p>numeric(4). Named numeric vector containing <code>'bottom'</code>,
<code>'left'</code>, <code>'top'</code>, and <code>'right'</code> margins in inches. Defaults
to <code>.5</code> inches for both vertical margins and <code>.75</code> for both
horizontal margins.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_font_size">font_size</code></td>
<td>
<p>numeric(1). Font size, defaults to 12.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_font_family">font_family</code></td>
<td>
<p>character(1). Name of a font family. An error
will be thrown if the family named is not monospaced. Defaults
to Courier.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_...">...</code></td>
<td>
<p>Passed to individual methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>RTF</code> export occurs by via the following steps
</p>

<ul>
<li><p>the table is paginated to the page size (Vertically and horizontally)
</p>
</li>
<li><p>Each separate page is converted to a <code>MatrixPrintForm</code> and from there to <code>RTF</code>-encoded text
</p>
</li>
<li><p>Separate <code>RTFs</code> text chunks are combined and written out as a single <code>RTF</code> file
</p>
</li></ul>

<p>Conversion of <code>MatrixPrintForm</code> objects to <code>RTF</code> is done via <code><a href="#topic+mpf_to_rtf">mpf_to_rtf()</a></code>.
</p>

<hr>
<h2 id='export_as_txt'>Export a table-like object to plain (ASCII) text with page break</h2><span id='topic+export_as_txt'></span>

<h3>Description</h3>

<p>This function converts <code>x</code> to a <code>MatrixPrintForm</code> object via
<code>matrix_form</code>, paginates it via <code>paginate</code>, converts each
page to ASCII text via <code>toString</code>, and emits the strings to <code>file</code>,
separated by <code>page_break</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_as_txt(
  x,
  file = NULL,
  page_type = NULL,
  landscape = FALSE,
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  font_family = "Courier",
  font_size = 8,
  lineheight = 1L,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  paginate = TRUE,
  cpp = NA_integer_,
  lpp = NA_integer_,
  ...,
  hsep = NULL,
  indent_size = 2,
  tf_wrap = paginate,
  max_width = NULL,
  colwidths = NULL,
  min_siblings = 2,
  nosplitin = character(),
  rep_cols = num_rep_cols(x),
  verbose = FALSE,
  page_break = "\\s\\n"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_as_txt_+3A_x">x</code></td>
<td>
<p>ANY.  The  table-like object  to  export.  Must have  an
applicable <code>matrix_form</code> method.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_file">file</code></td>
<td>
<p>character(1) or NULL.  If non-NULL, the path to write a
text file to containing the <code>x</code> rendered as ASCII text,</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_page_type">page_type</code></td>
<td>
<p>character(1).   Name   of  a  page  type.   See
<code>page_types</code>.   Ignored when  <code>pg_width</code> and  <code>pg_height</code>
are set directly.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_landscape">landscape</code></td>
<td>
<p>logical(1). Should the  dimensions of <code>page_type</code>
be inverted  for landscape?  Defaults to  <code>FALSE</code>, ignored when
<code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_pg_width">pg_width</code></td>
<td>
<p>numeric(1). Page width in inches.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_pg_height">pg_height</code></td>
<td>
<p>numeric(1). Page height in inches.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_font_family">font_family</code></td>
<td>
<p>character(1). Name of a font family. An error
will be thrown if the family named is not monospaced. Defaults
to Courier.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_font_size">font_size</code></td>
<td>
<p>numeric(1). Font size, defaults to 12.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_lineheight">lineheight</code></td>
<td>
<p>numeric(1). Line height, defaults to 1.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_margins">margins</code></td>
<td>
<p>numeric(4). Named numeric vector containing <code>'bottom'</code>,
<code>'left'</code>, <code>'top'</code>, and <code>'right'</code> margins in inches. Defaults
to <code>.5</code> inches for both vertical margins and <code>.75</code> for both
horizontal margins.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_paginate">paginate</code></td>
<td>
<p>logical(1). Whether pagination should be performed,
defaults to <code>TRUE</code> if page size is specified (including
the default).</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_cpp">cpp</code></td>
<td>
<p>numeric(1) or NULL. Width in characters per page. if NA (the default,
this is calculated automatically based on the specified page
size). <code>NULL</code> indicates no horizontal pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_lpp">lpp</code></td>
<td>
<p>numeric(1) or NULL. Lines per page. if NA (the default,
this is calculated automatically based on the specified page
size). <code>NULL</code> indicates no vertical pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_...">...</code></td>
<td>
<p>Passed to individual methods.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_hsep">hsep</code></td>
<td>
<p>character(1). Characters to repeat to create
header/body separator line. If <code>NULL</code>, the object value will be
used. If <code>" "</code>, an empty separator will be printed. Check <code><a href="#topic+default_hsep">default_hsep()</a></code>
for more information.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_indent_size">indent_size</code></td>
<td>
<p>numeric(1). Indent size in characters. Ignored
when <code>x</code> is already a <code>MatrixPrintForm</code> object in favor of information
there.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>logical(1). Should  the texts for  title, subtitle,
and footnotes be wrapped?</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_max_width">max_width</code></td>
<td>
<p>integer(1), character(1) or <code>NULL</code>. Width that title
and   footer   (including   footnotes)  materials   should   be
word-wrapped to. If <code>NULL</code>, it is  set to the current print width
of the  session (<code>getOption("width")</code>). If set to <code>"auto"</code>,
the width of the table (plus any table inset) is used. Ignored
completely if <code>tf_wrap</code> is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric vector.  Column widths (in characters) for
use with vertical pagination.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_min_siblings">min_siblings</code></td>
<td>
<p>numeric. Minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_nosplitin">nosplitin</code></td>
<td>
<p>character. List of names of sub-tables where page-breaks are not allowed, regardless of other
considerations. Defaults to none.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_rep_cols">rep_cols</code></td>
<td>
<p>numeric(1). Number of <em>columns</em> (not including
row labels) to be repeated on every page. Defaults to 0</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_verbose">verbose</code></td>
<td>
<p>logical(1). Should additional informative messages about the search for
pagination breaks be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_page_break">page_break</code></td>
<td>
<p>character(1).  Page break  symbol (defaults  to
outputting <code>"\n\s"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>if  <code>x</code> has an <code>num_rep_cols</code>  method, the value
returned by it will be  used for <code>rep_cols</code> by default, if
not, 0 will be used.
</p>
<p>If <code>x</code> has an applicable <code>do_mand_paginate</code> method, it will be invoked
during the pagination process.
</p>


<h3>Value</h3>

<p>if <code>file</code> is NULL, the total paginated and then concatenated
string value, otherwise the file that was written.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>export_as_txt(basic_matrix_form(mtcars), pg_height = 5, pg_width = 4)
</code></pre>

<hr>
<h2 id='fmt_config'>Format Configuration</h2><span id='topic+fmt_config'></span>

<h3>Description</h3>

<p>Format Configuration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_config(format = NULL, na_str = "NA", align = "center")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_config_+3A_format">format</code></td>
<td>
<p>character(1) or function. A format label (string) or <code>formatter</code> function.</p>
</td></tr>
<tr><td><code id="fmt_config_+3A_na_str">na_str</code></td>
<td>
<p>character(1). String that should be displayed in place of missing values.</p>
</td></tr>
<tr><td><code id="fmt_config_+3A_align">align</code></td>
<td>
<p>character(1). Alignment values should be rendered with.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fmt_config</code> which contains the following elements:
</p>

<ul>
<li> <p><code>format</code>
</p>
</li>
<li> <p><code>na_str</code>
</p>
</li>
<li> <p><code>align</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>fmt_config(format = "xx.xx", na_str = "-", align = "left")
fmt_config(format = "xx.xx - xx.xx", align = "right")

</code></pre>

<hr>
<h2 id='font_lcpi'>Calculate lines per inch and characters per inch for font</h2><span id='topic+font_lcpi'></span>

<h3>Description</h3>

<p>Calculate lines per inch and characters per inch for font
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_lcpi(font_family = "Courier", font_size = 8, lineheight = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_lcpi_+3A_font_family">font_family</code></td>
<td>
<p>character(1). Name of a font family. An error
will be thrown if the family named is not monospaced. Defaults
to Courier.</p>
</td></tr>
<tr><td><code id="font_lcpi_+3A_font_size">font_size</code></td>
<td>
<p>numeric(1). Font size, defaults to 12.</p>
</td></tr>
<tr><td><code id="font_lcpi_+3A_lineheight">lineheight</code></td>
<td>
<p>numeric(1). Line height, defaults to 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates opens pdf graphics device  writing to an temporary file,
then utilizes <code><a href="grid.html#topic+grid.convert">grid::convertWidth()</a></code> and <code><a href="grid.html#topic+grid.convert">grid::convertHeight()</a></code> to calculate
lines per inch and characters per inch for the specified font family, size, and
line height.
</p>
<p>An error is thrown if the font is not monospaced (determined by comparing
the effective widths of the <code>M</code> and <code>.</code> glyphs).
</p>


<h3>Value</h3>

<p>named list with <code>cpi</code> and <code>lpi</code>, the characters and lines per
inch, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
font_lcpi()

font_lcpi(font_size = 8)

font_lcpi(font_size = 8, lineheight = 1.1)

## End(Not run)

</code></pre>

<hr>
<h2 id='format_value'>Converts a (possibly compound) value into a string using the <code>format</code> information</h2><span id='topic+format_value'></span>

<h3>Description</h3>

<p>Converts a (possibly compound) value into a string using the <code>format</code> information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_value(x, format = NULL, output = c("ascii", "html"), na_str = "NA")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_value_+3A_x">x</code></td>
<td>
<p>ANY. The value to be formatted</p>
</td></tr>
<tr><td><code id="format_value_+3A_format">format</code></td>
<td>
<p>character(1) or function. The format label (string) or <code>formatter</code> function to apply to <code>x</code>.</p>
</td></tr>
<tr><td><code id="format_value_+3A_output">output</code></td>
<td>
<p>character(1). output type</p>
</td></tr>
<tr><td><code id="format_value_+3A_na_str">na_str</code></td>
<td>
<p>character(1). String that should be displayed when the value of <code>x</code> is missing.
Defaults to <code>"NA"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A length-zero value for <code>na_str</code> will be interpreted as <code>"NA"</code>, as will any
missing values within a non-length-zero <code>na_str</code> vector.
</p>


<h3>Value</h3>

<p>formatted text representing the cell <code>x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+round_fmt">round_fmt()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- format_value(pi, format = "xx.xx")
x

format_value(x, output = "ascii")

</code></pre>

<hr>
<h2 id='ifnotlen0'><code style="white-space: pre;">&#8288;%||%&#8288;</code> If length-0 alternative operator</h2><span id='topic+ifnotlen0'></span><span id='topic++25+7C+7C+25'></span>

<h3>Description</h3>

<p><code style="white-space: pre;">&#8288;%||%&#8288;</code> If length-0 alternative operator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>a %||% b
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ifnotlen0_+3A_a">a</code></td>
<td>
<p>ANY. Element to select only if it is not length 0</p>
</td></tr>
<tr><td><code id="ifnotlen0_+3A_b">b</code></td>
<td>
<p>ANY. Element to select if <code>a</code> is length 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>a</code>, unless it  is length 0, in which case  <code>b</code> (even in the
case <code>b</code> is also length 0)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>6 %||% 10

character() %||% "hi"

NULL %||% "hi"
</code></pre>

<hr>
<h2 id='is.wholenumber'><code>is.wholenumber</code></h2><span id='topic+is.wholenumber'></span>

<h3>Description</h3>

<p><code>is.wholenumber</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.wholenumber(x, tol = .Machine$double.eps^0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.wholenumber_+3A_x">x</code></td>
<td>
<p>numeric(1). A numeric value</p>
</td></tr>
<tr><td><code id="is.wholenumber_+3A_tol">tol</code></td>
<td>
<p>numeric(1). A precision tolerance.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if <code>x</code> is within <code>tol</code> of zero,
<code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is.wholenumber(5)
is.wholenumber(5.00000000000000001)
is.wholenumber(.5)

</code></pre>

<hr>
<h2 id='lab_name'>Label, Name and Format accessor generics</h2><span id='topic+lab_name'></span><span id='topic+obj_name'></span><span id='topic+obj_name+3C-'></span><span id='topic+obj_label'></span><span id='topic+obj_label+3C-'></span><span id='topic+obj_label+2CANY-method'></span><span id='topic+obj_label+3C-+2CANY-method'></span><span id='topic+obj_format'></span><span id='topic+obj_format+2CANY-method'></span><span id='topic+obj_format+2Cfmt_config-method'></span><span id='topic+obj_format+3C-'></span><span id='topic+obj_format+3C-+2CANY-method'></span><span id='topic+obj_format+3C-+2Cfmt_config-method'></span><span id='topic+obj_na_str'></span><span id='topic+obj_na_str+2CANY-method'></span><span id='topic+obj_na_str+2Cfmt_config-method'></span><span id='topic+obj_na_str+3C-'></span><span id='topic+obj_na_str+3C-+2CANY-method'></span><span id='topic+obj_na_str+3C-+2Cfmt_config-method'></span><span id='topic+obj_align'></span><span id='topic+obj_align+2CANY-method'></span><span id='topic+obj_align+2Cfmt_config-method'></span><span id='topic+obj_align+3C-'></span><span id='topic+obj_align+3C-+2CANY-method'></span><span id='topic+obj_align+3C-+2Cfmt_config-method'></span>

<h3>Description</h3>

<p><code>Getters</code> and <code>setters</code> for basic, relatively universal attributes
of &quot;table-like&quot; objects&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>obj_name(obj)

obj_name(obj) &lt;- value

obj_label(obj)

obj_label(obj) &lt;- value

## S4 method for signature 'ANY'
obj_label(obj)

## S4 replacement method for signature 'ANY'
obj_label(obj) &lt;- value

obj_format(obj)

## S4 method for signature 'ANY'
obj_format(obj)

## S4 method for signature 'fmt_config'
obj_format(obj)

obj_format(obj) &lt;- value

## S4 replacement method for signature 'ANY'
obj_format(obj) &lt;- value

## S4 replacement method for signature 'fmt_config'
obj_format(obj) &lt;- value

obj_na_str(obj)

## S4 method for signature 'ANY'
obj_na_str(obj)

## S4 method for signature 'fmt_config'
obj_na_str(obj)

obj_na_str(obj) &lt;- value

## S4 replacement method for signature 'ANY'
obj_na_str(obj) &lt;- value

## S4 replacement method for signature 'fmt_config'
obj_na_str(obj) &lt;- value

obj_align(obj)

## S4 method for signature 'ANY'
obj_align(obj)

## S4 method for signature 'fmt_config'
obj_align(obj)

obj_align(obj) &lt;- value

## S4 replacement method for signature 'ANY'
obj_align(obj) &lt;- value

## S4 replacement method for signature 'fmt_config'
obj_align(obj) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lab_name_+3A_obj">obj</code></td>
<td>
<p>ANY. The object.</p>
</td></tr>
<tr><td><code id="lab_name_+3A_value">value</code></td>
<td>
<p>character(1). The new label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the name, format or label of <code>obj</code> for <code>getters</code>, or <code>obj</code> after modification
for setters.
</p>


<h3>See Also</h3>

<p>with_label
</p>

<hr>
<h2 id='list_formats'>List with currently supported formats and vertical alignments</h2><span id='topic+list_formats'></span><span id='topic+list_valid_format_labels'></span><span id='topic+list_valid_aligns'></span>

<h3>Description</h3>

<p>We support <code>xx</code> style format labels grouped by 1d, 2d and 3d.
Currently valid format labels can not be added dynamically. Format functions
must be used for special cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_valid_format_labels()

list_valid_aligns()
</code></pre>


<h3>Value</h3>


<ul>
<li> <p><code>list_valid_format_labels()</code>: A nested list, with elements listing the supported 1d, 2d,
and 3d format strings.
</p>
</li></ul>


<ul>
<li> <p><code>list_valid_aligns()</code>: a character vector of valid vertical alignments
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>list_valid_format_labels()

list_valid_aligns()

</code></pre>

<hr>
<h2 id='main_title'>General title/footer accessors</h2><span id='topic+main_title'></span><span id='topic+main_title+2CMatrixPrintForm-method'></span><span id='topic+main_title+3C-'></span><span id='topic+main_title+3C-+2CMatrixPrintForm-method'></span><span id='topic+subtitles'></span><span id='topic+subtitles+2CMatrixPrintForm-method'></span><span id='topic+subtitles+3C-'></span><span id='topic+subtitles+3C-+2CMatrixPrintForm-method'></span><span id='topic+page_titles'></span><span id='topic+page_titles+2CMatrixPrintForm-method'></span><span id='topic+page_titles+2CANY-method'></span><span id='topic+page_titles+3C-'></span><span id='topic+page_titles+3C-+2CMatrixPrintForm-method'></span><span id='topic+main_footer'></span><span id='topic+main_footer+2CMatrixPrintForm-method'></span><span id='topic+main_footer+3C-'></span><span id='topic+main_footer+3C-+2CMatrixPrintForm-method'></span><span id='topic+prov_footer'></span><span id='topic+prov_footer+2CMatrixPrintForm-method'></span><span id='topic+prov_footer+3C-'></span><span id='topic+prov_footer+3C-+2CMatrixPrintForm-method'></span><span id='topic+all_footers'></span><span id='topic+all_titles'></span>

<h3>Description</h3>

<p>General title/footer accessors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>main_title(obj)

## S4 method for signature 'MatrixPrintForm'
main_title(obj)

main_title(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
main_title(obj) &lt;- value

subtitles(obj)

## S4 method for signature 'MatrixPrintForm'
subtitles(obj)

subtitles(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
subtitles(obj) &lt;- value

page_titles(obj)

## S4 method for signature 'MatrixPrintForm'
page_titles(obj)

## S4 method for signature 'ANY'
page_titles(obj)

page_titles(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
page_titles(obj) &lt;- value

main_footer(obj)

## S4 method for signature 'MatrixPrintForm'
main_footer(obj)

main_footer(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
main_footer(obj) &lt;- value

prov_footer(obj)

## S4 method for signature 'MatrixPrintForm'
prov_footer(obj)

prov_footer(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
prov_footer(obj) &lt;- value

all_footers(obj)

all_titles(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="main_title_+3A_obj">obj</code></td>
<td>
<p>ANY. Object to extract information from.</p>
</td></tr>
<tr><td><code id="main_title_+3A_value">value</code></td>
<td>
<p>character. New value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character scalar (<code>main_title</code>), a character vector (<code>main_footer</code>), or
vector of length zero or more (<code>subtitles</code>, <code>page_titles</code>,
<code>prov_footer</code>) containing the relevant title/footer contents
</p>

<hr>
<h2 id='make_row_df'>Make row layout summary data.frames for use during pagination</h2><span id='topic+make_row_df'></span><span id='topic+make_row_df+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>All relevant information about table rows (e.g. indentations) is summarized in a data.frames.
This function works ONLY on <code>rtables</code> and <code>rlistings</code> objects, and not on their print counterparts
(like <code>MatrixPrintForm</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_row_df(
  tt,
  colwidths = NULL,
  visible_only = TRUE,
  rownum = 0,
  indent = 0L,
  path = character(),
  incontent = FALSE,
  repr_ext = 0L,
  repr_inds = integer(),
  sibpos = NA_integer_,
  nsibs = NA_integer_,
  max_width = NULL
)

## S4 method for signature 'MatrixPrintForm'
make_row_df(
  tt,
  colwidths = NULL,
  visible_only = TRUE,
  rownum = 0,
  indent = 0L,
  path = character(),
  incontent = FALSE,
  repr_ext = 0L,
  repr_inds = integer(),
  sibpos = NA_integer_,
  nsibs = NA_integer_,
  max_width = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_row_df_+3A_tt">tt</code></td>
<td>
<p>ANY. Object representing the table-like object to be summarized.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric. Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_visible_only">visible_only</code></td>
<td>
<p>logical(1). Should only visible aspects of the table structure be reflected in this summary.
Defaults to <code>TRUE</code>. May not be supported by all methods.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_rownum">rownum</code></td>
<td>
<p>numeric(1). Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_indent">indent</code></td>
<td>
<p>integer(1). Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_path">path</code></td>
<td>
<p>character.  Path  to  the (sub)table  represented  by
<code>tt</code>. Defaults to <code>character()</code></p>
</td></tr>
<tr><td><code id="make_row_df_+3A_incontent">incontent</code></td>
<td>
<p>logical(1). Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_repr_ext">repr_ext</code></td>
<td>
<p>integer(1). Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_repr_inds">repr_inds</code></td>
<td>
<p>integer. Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_sibpos">sibpos</code></td>
<td>
<p>integer(1). Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_nsibs">nsibs</code></td>
<td>
<p>integer(1). Internal detail do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_max_width">max_width</code></td>
<td>
<p>numeric(1) or NULL. Maximum width for title/footer
materials.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When  <code>visible_only</code> is  <code>TRUE</code> (the  default),
methods should  return a  data.frame with  exactly one  row per
visible  row in  the table-like  object.  This  is useful  when
reasoning about  how a table  will print, but does  not reflect
the full pathing space of the structure (though the paths which
are given will all work as is).
</p>
<p>If  supported,  when  <code>visible_only</code>  is  <code>FALSE</code>,  every
structural element of the table (in row-space) will be reflected in
the  returned data.frame,  meaning the  full pathing-space  will be
represented but some rows in  the layout summary will not represent
printed rows in the table as it is displayed.
</p>
<p>Most arguments beyond <code>tt</code> and <code>visible_only</code> are present so that
<code>make_row_df</code> methods can call <code>make_row_df</code> recursively and retain information,
and should not be set during a top-level call
</p>


<h3>Value</h3>

<p>a data.frame of row/column-structure information used by the pagination machinery.
</p>


<h3>Note</h3>

<p>the technically present root tree node is excluded from the summary returned by
both <code>make_row_df</code> and <code>make_col_df</code> (see <code>rtables::make_col_df</code>), as it is simply the
row/column structure of <code>tt</code> and thus not useful for pathing or pagination.
</p>

<hr>
<h2 id='matrix_form'>Transform <code>rtable</code> to a list of matrices which can be used for outputting</h2><span id='topic+matrix_form'></span><span id='topic+matrix_form+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>Although <code>rtables</code> are represented as a tree data structure when outputting the table to ASCII or HTML it is
useful to map the <code>rtable</code> to an in between state with the formatted cells in a matrix form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrix_form(
  obj,
  indent_rownames = FALSE,
  expand_newlines = TRUE,
  indent_size = 2
)

## S4 method for signature 'MatrixPrintForm'
matrix_form(
  obj,
  indent_rownames = FALSE,
  expand_newlines = TRUE,
  indent_size = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrix_form_+3A_obj">obj</code></td>
<td>
<p>ANY. Object to be transformed into a ready-to-render form (a <code>MatrixPrintForm</code> object)</p>
</td></tr>
<tr><td><code id="matrix_form_+3A_indent_rownames">indent_rownames</code></td>
<td>
<p>logical(1), if TRUE the column with the row names in the <code>strings</code> matrix of has indented row
names (strings pre-fixed)</p>
</td></tr>
<tr><td><code id="matrix_form_+3A_expand_newlines">expand_newlines</code></td>
<td>
<p>logical(1). Should the matrix form generated
expand  rows  whose  values   contain  newlines  into  multiple
'physical'  rows  (as  they  will  appear  when  rendered  into
ASCII). Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="matrix_form_+3A_indent_size">indent_size</code></td>
<td>
<p>numeric(1). Number of spaces to be used per level of indent (if supported by
the relevant method). Defaults to 2.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The strings in the return object are defined as follows: row labels are those determined by <code>summarize_rows</code> and
cell values are determined using <code>get_formatted_cells</code>.
(Column labels are calculated using a non-exported internal function.
</p>


<h3>Value</h3>

<p>A <code>MatrixPrintForm</code> classed list with the following elements:
</p>

<dl>
<dt>strings</dt><dd><p>The content, as it should be printed, of the top-left material, column headers, row labels, and
cell values of <code>tt</code></p>
</dd>
<dt>spans</dt><dd><p>The column-span information for each print-string in the strings matrix</p>
</dd>
<dt>aligns</dt><dd><p>The text alignment for each print-string in the strings matrix</p>
</dd>
<dt>display</dt><dd><p>Whether each print-string in the strings matrix should be printed or not</p>
</dd></dl>
<p>.
</p>
<dl>
<dt>row_info</dt><dd><p>the data.frame generated by <code>summarize_rows(tt)</code></p>
</dd>
</dl>

<p>With an additional <code>nrow_header</code> attribute indicating the number of pseudo &quot;rows&quot;  the
column structure defines.
</p>

<hr>
<h2 id='MatrixPrintForm'>Matrix Print Form - Intermediate Representation for ASCII Table Printing</h2><span id='topic+MatrixPrintForm'></span><span id='topic+matrix_print_form'></span>

<h3>Description</h3>

<p>Matrix Print Form - Intermediate Representation for ASCII Table Printing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MatrixPrintForm(
  strings = NULL,
  spans,
  aligns,
  formats,
  row_info,
  line_grouping = seq_len(NROW(strings)),
  ref_fnotes = list(),
  nlines_header,
  nrow_header,
  has_topleft = TRUE,
  has_rowlabs = has_topleft,
  expand_newlines = TRUE,
  main_title = "",
  subtitles = character(),
  page_titles = character(),
  main_footer = "",
  prov_footer = character(),
  header_section_div = NA_character_,
  horizontal_sep = default_hsep(),
  col_gap = 3,
  table_inset = 0L,
  colwidths = NULL,
  indent_size = 2
)

matrix_print_form(
  strings = NULL,
  spans,
  aligns,
  formats,
  row_info,
  line_grouping = seq_len(NROW(strings)),
  ref_fnotes = list(),
  nlines_header,
  nrow_header,
  has_topleft = TRUE,
  has_rowlabs = has_topleft,
  expand_newlines = TRUE,
  main_title = "",
  subtitles = character(),
  page_titles = character(),
  main_footer = "",
  prov_footer = character(),
  header_section_div = NA_character_,
  horizontal_sep = default_hsep(),
  col_gap = 3,
  table_inset = 0L,
  colwidths = NULL,
  indent_size = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MatrixPrintForm_+3A_strings">strings</code></td>
<td>
<p>character  matrix.  Matrix  of formatted,  ready to
display  strings  organized as  they  will  be positioned  when
rendered.   Elements that  span more  than one  column must  be
followed  by  the  correct number  of  placeholders  (typically
either empty strings or repeats of the value).</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_spans">spans</code></td>
<td>
<p>numeric  matrix.    Matrix  of  same  dimension  as
<code>strings</code>  giving   the  spanning  information   for  each
element.    Must  be   repeated   to   match  placeholders   in
<code>strings</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_aligns">aligns</code></td>
<td>
<p>character  matrix.   Matrix  of same  dimension  as
<code>strings</code> giving  the text alignment information  for each
element. Must  be   repeated   to   match  placeholders   in
<code>strings</code>. Must be a supported text alignment. See
<a href="#topic+decimal_align">decimal_align</a> allowed values.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_formats">formats</code></td>
<td>
<p>matrix. Matrix  of same dimension
as  <code>strings</code> giving  the text  format information  for
each  element.   Must  be  repeated to  match  placeholders  in
<code>strings</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_row_info">row_info</code></td>
<td>
<p>data.frame.   Data.frame  with  row-information
necessary for pagination (XXX document exactly what that is).</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_line_grouping">line_grouping</code></td>
<td>
<p>integer. Sequence of  integers indicating how
print  lines  correspond  to   semantic  rows  in  the  object.
Typically   this   should   not    be   set   manually   unless
<code>expact_newlines</code> is set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_ref_fnotes">ref_fnotes</code></td>
<td>
<p>list.   Referential  footnote  information  if
applicable.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_nlines_header">nlines_header</code></td>
<td>
<p>numeric(1). Number  of lines taken up  by the
values of the header (i.e. not including the divider).</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_nrow_header">nrow_header</code></td>
<td>
<p>numeric(1).  Number of <em>rows</em> corresponding
to the header.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_has_topleft">has_topleft</code></td>
<td>
<p>logical(1).  Does the  corresponding table have
'top left information' which should be treated differently when
expanding  newlines.   Ignored   if  <code>expand_newlines</code>  is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_has_rowlabs">has_rowlabs</code></td>
<td>
<p>logical(1). Do  the matrices  (<code>strings</code>,
<code>spans</code>,  <code>aligns</code>)   each  contain  a   column  that
corresponds  with  row  labels  (Rather than  with  table  cell
values).  Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_expand_newlines">expand_newlines</code></td>
<td>
<p>logical(1). Should the matrix form generated
expand  rows  whose  values   contain  newlines  into  multiple
'physical'  rows  (as  they  will  appear  when  rendered  into
ASCII). Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_main_title">main_title</code></td>
<td>
<p>character(1). Main title as a string.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_subtitles">subtitles</code></td>
<td>
<p>character. Subtitles, as a character vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_page_titles">page_titles</code></td>
<td>
<p>character.  Page-specific titles, as a character
vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_main_footer">main_footer</code></td>
<td>
<p>character(1). Main footer as a string.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_prov_footer">prov_footer</code></td>
<td>
<p>character. Provenance footer information as a
character vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_header_section_div">header_section_div</code></td>
<td>
<p>character(1). Divider to be used between header
and body sections.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_horizontal_sep">horizontal_sep</code></td>
<td>
<p>character(1). Horizontal separator to be used for printing
divisors between header and table body and between different footers.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_col_gap">col_gap</code></td>
<td>
<p>numeric(1). Space (in characters) between columns</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_table_inset">table_inset</code></td>
<td>
<p>numeric(1). Table inset. See
<code><a href="#topic+table_inset">table_inset</a></code></p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric. NULL, or a vector of column rendering widths.
if non-NULL, must have length equal to <code>ncol(strings)</code></p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_indent_size">indent_size</code></td>
<td>
<p>numeric(1). Number of spaces to be used per level of indent (if supported by
the relevant method). Defaults to 2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>MatrixPrintForm</code>. Currently this is
implemented as an S3 class inheriting from list with the following
elements:
</p>

<dl>
<dt><code>strings</code></dt><dd><p>see argument</p>
</dd>
<dt><code>spans</code></dt><dd><p>see argument</p>
</dd>
<dt><code>aligns</code></dt><dd><p>see argument</p>
</dd>
<dt><code>display</code></dt><dd><p>logical matrix of same dimension as <code>strings</code>
that specifies whether an element in <code>strings</code> will be displayed
when the table is rendered</p>
</dd>
<dt><code>formats</code></dt><dd><p>see argument</p>
</dd>
<dt><code>row_info</code></dt><dd><p>see argument</p>
</dd>
<dt><code>line_grouping</code></dt><dd><p>see argument</p>
</dd>
<dt><code>ref_footnotes</code></dt><dd><p>see argument</p>
</dd>
<dt><code>main_title</code></dt><dd><p>see argument</p>
</dd>
<dt><code>subtitles</code></dt><dd><p>see argument</p>
</dd>
<dt><code>page_titles</code></dt><dd><p>see argument</p>
</dd>
<dt><code>main_footer</code></dt><dd><p>see argument</p>
</dd>
<dt><code>prov_footer</code></dt><dd><p>see argument</p>
</dd>
<dt><code>header_section_div</code></dt><dd><p>see argument</p>
</dd>
<dt><code>horizontal_sep</code></dt><dd><p>see argument</p>
</dd>
<dt><code>col_gap</code></dt><dd><p>see argument</p>
</dd>
<dt><code>table_inset</code></dt><dd><p>see argument</p>
</dd>
</dl>

<p>as well as the following attributes:
</p>

<dl>
<dt><code>nlines_header</code></dt><dd><p>see argument</p>
</dd>
<dt><code>nrow_header</code></dt><dd><p>see argument</p>
</dd>
<dt><code>ncols</code></dt><dd><p>number of columns <em>of the table</em>, not including
any row names/row labels</p>
</dd>
</dl>



<h3>Note</h3>

<p>The bare constructor for the <code>MatrixPrintForm</code> should generally
only be called by <code>matrix_form</code> custom methods, and almost never from other code.
</p>

<hr>
<h2 id='MatrixPrintForm-class'>Matrix Print Form - Intermediate Representation for ASCII Table Printing</h2><span id='topic+MatrixPrintForm-class'></span>

<h3>Description</h3>

<p>Matrix Print Form - Intermediate Representation for ASCII Table Printing
</p>

<hr>
<h2 id='mf_strings'><code>Setters</code> and <code>getters</code> for aspects of <code>MatrixPrintForm</code> Objects</h2><span id='topic+mf_strings'></span><span id='topic+mf_spans'></span><span id='topic+mf_aligns'></span><span id='topic+mf_display'></span><span id='topic+mf_formats'></span><span id='topic+mf_rinfo'></span><span id='topic+mf_cinfo'></span><span id='topic+mf_has_topleft'></span><span id='topic+mf_lgrouping'></span><span id='topic+mf_rfnotes'></span><span id='topic+mf_nlheader'></span><span id='topic+mf_nrheader'></span><span id='topic+mf_colgap'></span><span id='topic+mf_strings+3C-'></span><span id='topic+mf_spans+3C-'></span><span id='topic+mf_aligns+3C-'></span><span id='topic+mf_display+3C-'></span><span id='topic+mf_formats+3C-'></span><span id='topic+mf_rinfo+3C-'></span><span id='topic+mf_cinfo+3C-'></span><span id='topic+mf_lgrouping+3C-'></span><span id='topic+mf_rfnotes+3C-'></span><span id='topic+mf_nrheader+3C-'></span><span id='topic+mf_colgap+3C-'></span><span id='topic+mf_ncol'></span><span id='topic+mf_nrow'></span><span id='topic+mf_ncol+3C-'></span><span id='topic+ncol+2CMatrixPrintForm-method'></span><span id='topic+mpf_has_rlabels'></span><span id='topic+mf_has_rlabels'></span>

<h3>Description</h3>

<p>Most of these functions, particularly the <code>settters</code>, are intended
almost exclusively for internal use in, e.g., <code>matrix_form</code> methods,
and should generally not be called by end users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_strings(mf)

mf_spans(mf)

mf_aligns(mf)

mf_display(mf)

mf_formats(mf)

mf_rinfo(mf)

mf_cinfo(mf)

mf_has_topleft(mf)

mf_lgrouping(mf)

mf_rfnotes(mf)

mf_nlheader(mf)

mf_nrheader(mf)

mf_colgap(mf)

mf_strings(mf) &lt;- value

mf_spans(mf) &lt;- value

mf_aligns(mf) &lt;- value

mf_display(mf) &lt;- value

mf_formats(mf) &lt;- value

mf_rinfo(mf) &lt;- value

mf_cinfo(mf) &lt;- value

mf_lgrouping(mf) &lt;- value

mf_rfnotes(mf) &lt;- value

mf_nrheader(mf) &lt;- value

mf_colgap(mf) &lt;- value

mf_ncol(mf)

mf_nrow(mf)

mf_ncol(mf) &lt;- value

## S4 method for signature 'MatrixPrintForm'
ncol(x)

mpf_has_rlabels(mf)

mf_has_rlabels(mf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mf_strings_+3A_mf">mf</code></td>
<td>
<p><code>MatrixPrintForm(1)</code>. A <code>MatrixPrintForm</code> object</p>
</td></tr>
<tr><td><code id="mf_strings_+3A_value">value</code></td>
<td>
<p>ANY. The new value for the component in question.</p>
</td></tr>
<tr><td><code id="mf_strings_+3A_x">x</code></td>
<td>
<p><code>MatrixPrintForm</code>. The object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The element of the <code>MatrixPrintForm</code> associated with the <code>getter</code>, or
the modified <code>MatrixPrintForm</code> object in the case of a <code>setter</code>.
</p>

<hr>
<h2 id='mpf_to_rtf'>Transform <code>MPF</code> to <code>RTF</code></h2><span id='topic+mpf_to_rtf'></span>

<h3>Description</h3>

<p>Experimental export to <code>RTF</code> via the <code>r2rtf</code> package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mpf_to_rtf(
  mpf,
  colwidths = NULL,
  page_type = "letter",
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  landscape = FALSE,
  margins = c(4, 4, 4, 4),
  font_size = 8,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mpf_to_rtf_+3A_mpf">mpf</code></td>
<td>
<p><code>MatrixPrintForm</code>. <code>MatrixPrintForm</code> object.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_colwidths">colwidths</code></td>
<td>
<p>character(1). Column widths.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_page_type">page_type</code></td>
<td>
<p>character(1).   Name   of  a  page  type.   See
<code>page_types</code>.   Ignored when  <code>pg_width</code> and  <code>pg_height</code>
are set directly.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_pg_width">pg_width</code></td>
<td>
<p>numeric(1). Page width in inches.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_pg_height">pg_height</code></td>
<td>
<p>numeric(1). Page height in inches.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_landscape">landscape</code></td>
<td>
<p>logical(1). Should the  dimensions of <code>page_type</code>
be inverted  for landscape?  Defaults to  <code>FALSE</code>, ignored when
<code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_margins">margins</code></td>
<td>
<p>numeric(4). Named numeric vector containing <code>'bottom'</code>,
<code>'left'</code>, <code>'top'</code>, and <code>'right'</code> margins in inches. Defaults
to <code>.5</code> inches for both vertical margins and <code>.75</code> for both
horizontal margins.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_font_size">font_size</code></td>
<td>
<p>numeric(1). Font size, defaults to 12.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_...">...</code></td>
<td>
<p>Passed to individual methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a low-level coercion of a
<code>MatrixPrintForm</code> object into text containing the corresponding
table in <code>RTF</code>. Currently, no pagination is done at this level,
and should be done prior to calling this function, though that
may change in the future.
</p>


<h3>Value</h3>

<p>An <code>RTF</code> object
</p>

<hr>
<h2 id='nlines'>Number of lines required to print a value</h2><span id='topic+nlines'></span><span id='topic+nlines+2Clist-method'></span><span id='topic+nlines+2CNULL-method'></span><span id='topic+nlines+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Number of lines required to print a value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nlines(x, colwidths = NULL, max_width = NULL)

## S4 method for signature 'list'
nlines(x, colwidths = NULL, max_width = NULL)

## S4 method for signature ''NULL''
nlines(x, colwidths = NULL, max_width = NULL)

## S4 method for signature 'character'
nlines(x, colwidths = NULL, max_width = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nlines_+3A_x">x</code></td>
<td>
<p>ANY. The object to be printed</p>
</td></tr>
<tr><td><code id="nlines_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric. Column widths (if necessary).</p>
</td></tr>
<tr><td><code id="nlines_+3A_max_width">max_width</code></td>
<td>
<p>numeric(1). Width strings should be wrapped to
when determining how many lines they require.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scalar numeric indicating the number of lines needed
to render the object <code>x</code>.
</p>

<hr>
<h2 id='num_rep_cols'>Number of repeated columns</h2><span id='topic+num_rep_cols'></span><span id='topic+num_rep_cols+2CANY-method'></span>

<h3>Description</h3>

<p>When called on a table-like object using the formatters framework,
this method should return the number of columns which are mandatorily
repeated after each horizontal pagination.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_rep_cols(obj)

## S4 method for signature 'ANY'
num_rep_cols(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="num_rep_cols_+3A_obj">obj</code></td>
<td>
<p>ANY. A table-like object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Absent a class-specific method, this function returns 0, indicating
no always-repeated columns.
</p>


<h3>Value</h3>

<p>an integer.
</p>


<h3>Note</h3>

<p>This number <em>does not include row labels</em>, the repetition
of which is handled separately.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mpf &lt;- basic_matrix_form(mtcars)
num_rep_cols(mpf)
</code></pre>

<hr>
<h2 id='padstr'>Pad a string and align within string</h2><span id='topic+padstr'></span>

<h3>Description</h3>

<p>Pad a string and align within string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>padstr(x, n, just = list_valid_aligns())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="padstr_+3A_x">x</code></td>
<td>
<p>string</p>
</td></tr>
<tr><td><code id="padstr_+3A_n">n</code></td>
<td>
<p>number  of  character  of the  output  string,  if <code>n  &lt; nchar(x)</code> an error is thrown</p>
</td></tr>
<tr><td><code id="padstr_+3A_just">just</code></td>
<td>
<p>character(1).   Text  alignment   justification  to
use. Defaults to <code>center</code>. Must be <code>center</code>, <code>right</code>, <code>left</code>,
<code>dec_right</code>, <code>dec_left</code> or <code>decimal</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, padded to be a string of <code>n</code> characters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
padstr("abc", 3)
padstr("abc", 4)
padstr("abc", 5)
padstr("abc", 5, "left")
padstr("abc", 5, "right")

if (interactive()) {
  padstr("abc", 1)
}
</code></pre>

<hr>
<h2 id='pag_indices_inner'>Find Pagination Indices From Pagination Info Dataframe</h2><span id='topic+pag_indices_inner'></span>

<h3>Description</h3>

<p>Pagination methods should typically call the <code>make_row_df</code> method
for their object and then call this function on the resulting
pagination info data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pag_indices_inner(
  pagdf,
  rlpp,
  min_siblings,
  nosplitin = character(),
  verbose = FALSE,
  row = TRUE,
  have_col_fnotes = FALSE,
  div_height = 1L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pag_indices_inner_+3A_pagdf">pagdf</code></td>
<td>
<p>data.frame. A pagination info data.frame as created by
either <code>make_rows_df</code> or <code>make_cols_df</code>.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_rlpp">rlpp</code></td>
<td>
<p>numeric. Maximum number of <em>row</em> lines per page (not including header materials), including
(re)printed header and context rows</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_min_siblings">min_siblings</code></td>
<td>
<p>numeric. Minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_nosplitin">nosplitin</code></td>
<td>
<p>character. List of names of sub-tables where page-breaks are not allowed, regardless of other
considerations. Defaults to none.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_verbose">verbose</code></td>
<td>
<p>logical(1). Should additional informative messages about the search for
pagination breaks be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_row">row</code></td>
<td>
<p>logical(1). Is pagination happening in row
space (<code>TRUE</code>, the default) or column space (<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_have_col_fnotes">have_col_fnotes</code></td>
<td>
<p>logical(1). Does the table-like object being rendered have
column-associated referential footnotes.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_div_height">div_height</code></td>
<td>
<p>numeric(1). The height of the divider line when the
associated object is rendered. Defaults to <code>1</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pab_indices_inner</code> implements the Core Pagination Algorithm
for a single direction (vertical if <code>row = TRUE</code>, the default, horizontal otherwise)
based on the pagination dataframe and (already adjusted for non-body rows/columns)
lines (or characters) per page.
</p>


<h3>Value</h3>

<p>A list containing the vector of row numbers, broken up by page
</p>


<h3>Pagination Algorithm</h3>

<p>Pagination  is performed independently in  the vertical  and horizontal
directions based solely on a <em>pagination data.frame</em>, which includes the
following information for each row/column:
</p>

<ul>
<li><p> number of  lines/characters rendering the row  will take <strong>after
word-wrapping</strong> (<code>self_extent</code>)
</p>
</li>
<li><p> the indices (<code>reprint_inds</code>)  and number of lines (<code>par_extent</code>)
of the rows which act as <strong>context</strong> for the row
</p>
</li>
<li><p> the row's number of siblings and position within its siblings
</p>
</li></ul>

<p>Given <code>lpp</code>  (<code>cpp</code>) already  adjusted for rendered  elements which
are  not rows/columns  and a  dataframe of  pagination information,
pagination is  performed via  the following  algorithm, and  with a
<code>start = 1</code>:
</p>
<p>Core Pagination Algorithm:
</p>

<ol>
<li><p> Initial guess for pagination point is <code>start + lpp</code> (<code>start + cpp</code>)
</p>
</li>
<li><p> While the guess is not a valid pagination position, and <code>guess &gt; start</code>, decrement guess and repeat
</p>
</li></ol>


<ul>
<li><p> an error is thrown if all possible pagination positions between
<code>start</code> and <code>start + lpp</code> (<code>start + cpp</code>) would ever be <code style="white-space: pre;">&#8288;&lt; start&#8288;</code>
after decrementing
</p>
</li></ul>


<ol>
<li><p> Retain pagination index
</p>
</li>
<li><p> if pagination  point was less than  <code>NROW(tt)</code> (<code>ncol(tt)</code>), set
<code>start</code> to <code>pos + 1</code>, and repeat steps (1) - (4).
</p>
</li></ol>

<p>Validating pagination position:
</p>
<p>Given an (already adjusted) <code>lpp</code> or <code>cpp</code> value, a pagination is invalid if:
</p>

<ul>
<li><p> The rows/columns on the page would take  more than (adjusted) <code>lpp</code> lines/<code>cpp</code>
characters to render <strong>including</strong>
</p>

<ul>
<li><p> word-wrapping
</p>
</li>
<li><p> (vertical only) context repetition
</p>
</li></ul>

</li>
<li><p> (vertical only) footnote messages  and or section divider lines
take up too many lines after rendering rows
</p>
</li>
<li><p> (vertical only) row is a label or content (row-group summary) row
</p>
</li>
<li><p> (vertical only)  row at the pagination point  has siblings, and
it has less than <code>min_siblings</code> preceding or following siblings
</p>
</li>
<li><p> pagination would occur within a sub-table listed in <code>nosplitin</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>mypgdf &lt;- basic_pagdf(row.names(mtcars))

paginds &lt;- pag_indices_inner(mypgdf, rlpp = 15, min_siblings = 0)
lapply(paginds, function(x) mtcars[x, ])

</code></pre>

<hr>
<h2 id='pagdfrow'>Create row of pagination data frame</h2><span id='topic+pagdfrow'></span>

<h3>Description</h3>

<p>Create row of pagination data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pagdfrow(
  row,
  nm = obj_name(row),
  lab = obj_label(row),
  rnum,
  pth,
  sibpos = NA_integer_,
  nsibs = NA_integer_,
  extent = nlines(row, colwidths),
  colwidths = NULL,
  repext = 0L,
  repind = integer(),
  indent = 0L,
  rclass = class(row),
  nrowrefs = 0L,
  ncellrefs = 0L,
  nreflines = 0L,
  force_page = FALSE,
  page_title = NA_character_,
  trailing_sep = NA_character_
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pagdfrow_+3A_row">row</code></td>
<td>
<p>ANY. Object representing the row, which is used for default values of <code>nm</code>, <code>lab</code>,
<code>extent</code> and <code>rclass</code> if provided. Must have methods for <code>obj_name</code>, <code>obj_label</code>,
and <code>nlines</code>, respectively, for default values of <code>nm</code>, <code>lab</code> and <code>extent</code> to
be retrieved, respectively.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nm">nm</code></td>
<td>
<p>character(1). Name</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_lab">lab</code></td>
<td>
<p>character(1). Label</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_rnum">rnum</code></td>
<td>
<p>numeric(1). Absolute row number</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_pth">pth</code></td>
<td>
<p>character or NULL. Path within larger table</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_sibpos">sibpos</code></td>
<td>
<p>integer(1). Position among sibling rows</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nsibs">nsibs</code></td>
<td>
<p>integer(1). Number of siblings (including self).</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_extent">extent</code></td>
<td>
<p>numeric(1). Number of lines required to print the row</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric. Column widths</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_repext">repext</code></td>
<td>
<p>integer(1). Number of lines required to reprint all context for this row if it appears directly
after pagination.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_repind">repind</code></td>
<td>
<p>integer. Vector of row numbers to be reprinted if this row appears directly after pagination.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_indent">indent</code></td>
<td>
<p>integer. Indent</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_rclass">rclass</code></td>
<td>
<p>character(1). Class of row object.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nrowrefs">nrowrefs</code></td>
<td>
<p>integer(1). Number of row referential footnotes for this row</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_ncellrefs">ncellrefs</code></td>
<td>
<p>integer(1). Number of cell referential footnotes for the cells in this row</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nreflines">nreflines</code></td>
<td>
<p>integer(1). Total number of lines required by all referential footnotes</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_force_page">force_page</code></td>
<td>
<p>logical(1). Currently Ignored.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_page_title">page_title</code></td>
<td>
<p>logical(1). Currently Ignored.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_trailing_sep">trailing_sep</code></td>
<td>
<p>character(1). The string to used as a separator below this row during printing (or
<code>NA_character_</code> for no separator).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single row data.frame with the columns appropriate for a pagination info data frame.
</p>

<hr>
<h2 id='page_lcpp'>Determine lines per page (<code>LPP</code>) and characters per page (<code>CPP</code>) based on font and page type</h2><span id='topic+page_lcpp'></span>

<h3>Description</h3>

<p>Determine lines per page (<code>LPP</code>) and characters per page (<code>CPP</code>) based on font and page type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>page_lcpp(
  page_type = page_types(),
  landscape = FALSE,
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  pg_width = NULL,
  pg_height = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="page_lcpp_+3A_page_type">page_type</code></td>
<td>
<p>character(1).   Name   of  a  page  type.   See
<code>page_types</code>.   Ignored when  <code>pg_width</code> and  <code>pg_height</code>
are set directly.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_landscape">landscape</code></td>
<td>
<p>logical(1). Should the  dimensions of <code>page_type</code>
be inverted  for landscape?  Defaults to  <code>FALSE</code>, ignored when
<code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_font_family">font_family</code></td>
<td>
<p>character(1). Name of a font family. An error
will be thrown if the family named is not monospaced. Defaults
to Courier.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_font_size">font_size</code></td>
<td>
<p>numeric(1). Font size, defaults to 12.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_lineheight">lineheight</code></td>
<td>
<p>numeric(1). Line height, defaults to 1.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_margins">margins</code></td>
<td>
<p>numeric(4). Named numeric vector containing <code>'bottom'</code>,
<code>'left'</code>, <code>'top'</code>, and <code>'right'</code> margins in inches. Defaults
to <code>.5</code> inches for both vertical margins and <code>.75</code> for both
horizontal margins.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_pg_width">pg_width</code></td>
<td>
<p>numeric(1). Page width in inches.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_pg_height">pg_height</code></td>
<td>
<p>numeric(1). Page height in inches.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named list containing <code>LPP</code> (lines per page) and <code>CPP</code> (characters per page)
elements suitable for use by the pagination machinery.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>page_lcpp()
page_lcpp(font_size = 10)
page_lcpp("a4", font_size = 10)

page_lcpp(margins = c(top = 1, bottom = 1, left = 1, right = 1))
page_lcpp(pg_width = 10, pg_height = 15)
</code></pre>

<hr>
<h2 id='page_types'>Supported Named Page <code>TypesList</code> supported named page types</h2><span id='topic+page_types'></span><span id='topic+page_dim'></span>

<h3>Description</h3>

<p>Supported Named Page <code>TypesList</code> supported named page types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>page_types()

page_dim(page_type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="page_types_+3A_page_type">page_type</code></td>
<td>
<p>character(1). The name of a page size specification. Call
<code>page_types</code> for supported values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>for <code>page_types</code> a character vector of supported page types,
for <code>page_dim</code> the dimensions (width, then height) of the selected page type.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>page_types()
page_dim("a4")
</code></pre>

<hr>
<h2 id='paginate_indices'>Paginate a table-like object for rendering</h2><span id='topic+paginate_indices'></span><span id='topic+paginate'></span><span id='topic+pagination'></span><span id='topic+paginate_to_mpfs'></span><span id='topic+diagnose_pagination'></span>

<h3>Description</h3>

<p>These functions perform or diagnose bi-directional pagination on
an object.
</p>
<p><code>paginate_to_mpfs</code> renders <code>obj</code> into the <code>MatrixPrintForm</code> (<code>MPF</code>)
intermediate representation, and then paginates that <code>MPF</code> into
component <code>MPF</code>s each corresponding to an individual page and
returns those in a list.
</p>
<p><code>paginate_indices</code> renders <code>obj</code> into an <code>MPF</code>, then uses
that representation to calculate the rows and columns of
<code>obj</code> corresponding to each page of the pagination of <code>obj</code>,
but simply returns these indices rather than paginating
<code>obj</code> itself (see details for an important caveat).
</p>
<p><code>diagnose_pagination</code> attempts pagination via <code>paginate_to_mpfs</code>
and then returns diagnostic information which explains why page
breaks were positioned where they were, or alternatively why
no valid paginations could be found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paginate_indices(
  obj,
  page_type = "letter",
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  landscape = FALSE,
  pg_width = NULL,
  pg_height = NULL,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  lpp = NA_integer_,
  cpp = NA_integer_,
  min_siblings = 2,
  nosplitin = character(),
  colwidths = NULL,
  tf_wrap = FALSE,
  max_width = NULL,
  indent_size = 2,
  pg_size_spec = NULL,
  rep_cols = num_rep_cols(obj),
  col_gap = 3,
  verbose = FALSE
)

paginate_to_mpfs(
  obj,
  page_type = "letter",
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  landscape = FALSE,
  pg_width = NULL,
  pg_height = NULL,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  lpp = NA_integer_,
  cpp = NA_integer_,
  min_siblings = 2,
  nosplitin = character(),
  colwidths = NULL,
  tf_wrap = FALSE,
  max_width = NULL,
  indent_size = 2,
  pg_size_spec = NULL,
  rep_cols = num_rep_cols(obj),
  col_gap = 2,
  verbose = FALSE
)

diagnose_pagination(
  obj,
  page_type = "letter",
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  landscape = FALSE,
  pg_width = NULL,
  pg_height = NULL,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  lpp = NA_integer_,
  cpp = NA_integer_,
  min_siblings = 2,
  nosplitin = character(),
  colwidths = propose_column_widths(matrix_form(obj, TRUE)),
  tf_wrap = FALSE,
  max_width = NULL,
  indent_size = 2,
  pg_size_spec = NULL,
  rep_cols = num_rep_cols(obj),
  col_gap = 2,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="paginate_indices_+3A_obj">obj</code></td>
<td>
<p>ANY.  object   to   be  paginated.   Must  have   a
<code><a href="#topic+matrix_form">matrix_form</a></code> method.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_page_type">page_type</code></td>
<td>
<p>character(1).   Name   of  a  page  type.   See
<code>page_types</code>.   Ignored when  <code>pg_width</code> and  <code>pg_height</code>
are set directly.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_font_family">font_family</code></td>
<td>
<p>character(1). Name of a font family. An error
will be thrown if the family named is not monospaced. Defaults
to Courier.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_font_size">font_size</code></td>
<td>
<p>numeric(1). Font size, defaults to 12.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_lineheight">lineheight</code></td>
<td>
<p>numeric(1). Line height, defaults to 1.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_landscape">landscape</code></td>
<td>
<p>logical(1). Should the  dimensions of <code>page_type</code>
be inverted  for landscape?  Defaults to  <code>FALSE</code>, ignored when
<code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_pg_width">pg_width</code></td>
<td>
<p>numeric(1). Page width in inches.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_pg_height">pg_height</code></td>
<td>
<p>numeric(1). Page height in inches.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_margins">margins</code></td>
<td>
<p>numeric(4). Named numeric vector containing <code>'bottom'</code>,
<code>'left'</code>, <code>'top'</code>, and <code>'right'</code> margins in inches. Defaults
to <code>.5</code> inches for both vertical margins and <code>.75</code> for both
horizontal margins.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_lpp">lpp</code></td>
<td>
<p>numeric(1) or NULL. Lines per page. if NA (the default,
this is calculated automatically based on the specified page
size). <code>NULL</code> indicates no vertical pagination should occur.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_cpp">cpp</code></td>
<td>
<p>numeric(1) or NULL. Width in characters per page. if NA (the default,
this is calculated automatically based on the specified page
size). <code>NULL</code> indicates no horizontal pagination should occur.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_min_siblings">min_siblings</code></td>
<td>
<p>numeric. Minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_nosplitin">nosplitin</code></td>
<td>
<p>character. List of names of sub-tables where page-breaks are not allowed, regardless of other
considerations. Defaults to none.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric vector.  Column widths (in characters) for
use with vertical pagination.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>logical(1). Should  the texts for  title, subtitle,
and footnotes be wrapped?</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_max_width">max_width</code></td>
<td>
<p>integer(1), character(1) or <code>NULL</code>. Width that title
and   footer   (including   footnotes)  materials   should   be
word-wrapped to. If <code>NULL</code>, it is  set to the current print width
of the  session (<code>getOption("width")</code>). If set to <code>"auto"</code>,
the width of the table (plus any table inset) is used. Ignored
completely if <code>tf_wrap</code> is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_indent_size">indent_size</code></td>
<td>
<p>numeric(1). Indent size in characters. Ignored
when <code>x</code> is already a <code>MatrixPrintForm</code> object in favor of information
there.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_pg_size_spec">pg_size_spec</code></td>
<td>
<p>page_size_spec. A pre-calculated page
size specification. Typically this is not set in end user code.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_rep_cols">rep_cols</code></td>
<td>
<p>numeric(1). Number of <em>columns</em> (not including
row labels) to be repeated on every page. Defaults to 0</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_col_gap">col_gap</code></td>
<td>
<p>numeric(1). Currently unused.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_verbose">verbose</code></td>
<td>
<p>logical(1). Should additional informative messages about the search for
pagination breaks be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_...">...</code></td>
<td>
<p>Passed to individual methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All three of these functions generally support all classes which have
a corresponding <code>matrix_form</code> method which returns a valid <code>MatrixPrintForm</code>
object (including <code>MatrixPrintForm</code> objects themselves).
</p>
<p><code>paginate_indices</code> is directly called by <code>paginate_to_mpfs</code> (and thus
<code>diagnose_pagination</code>). For most classes, and most tables represented
by supported classes, calling <code>paginate_to_mpfs</code> is equivalent to a
manual <code style="white-space: pre;">&#8288;paginate_indices -&gt; subset obj into pages -&gt; matrix_form&#8288;</code>
workflow.
</p>
<p>The exception to this equivalence is objects which support 'forced pagination',
or pagination logic which built into the object itself rather than being a
function of space on a page. Forced pagination generally involves the creation
of, e.g., page-specific titles which apply to these forced paginations.
<code>paginate_to_mpfs</code> and <code>diagnose_pagination</code> support forced pagination by
automatically calling the <code>do_forced_pagination</code> generic on the object
and then paginating each object returned by that generic separately. The
assumption here, then, is that page-specific titles and such are
handled by the class' <code>do_forced_pagination</code> method.
</p>
<p><code>paginate_indices</code>, on the other hand, <em>does not support forced pagination</em>,
because it returns only a set of  indices for row and column subsetting for each page,
and thus cannot retain any changes, e.g., to titles, done within <code>do_forced_paginate</code>.
<code>paginate_indices</code> does call <code>do_forced_paginate</code>, but instead of continuing, it
throws an error in the case that the result is more than a single &quot;page&quot;.
</p>
<p><code>diagnose_pagination</code> attempts pagination and then, regardless of success
or failure, returns diagnostic information about pagination
attempts (if any) after each row and column.
</p>
<p>The diagnostics data reflects the final time the pagination algorithm
evaluated a page break at the specified location, regardless of how
many times the position was assessed total.
</p>
<p>To get information about intermediate attempts, perform pagination
with <code>verbose = TRUE</code> and inspect the messages in order.
</p>


<h3>Value</h3>

<p>for <code>paginate_indices</code> a list with two elements of the same
length:   <code>pag_row_indices</code>,    and   <code>pag_col_indices</code>.    For
<code>paginate_to_mpfs</code>,   a  list   of  <code>MatrixPrintForm</code> objects
representing each individual page after pagination (including
forced pagination if necessary).
</p>
<p>For <code>diagnose_pagination</code> a list containing:
</p>

<dl>
<dt><code>lpp_diagnostics</code></dt><dd><p>diagnostic information regarding lines per page</p>
</dd>
<dt><code>row_diagnostics</code></dt><dd><p>basic information about rows, whether pagination was attempted
after each row, and the final result of such an attempt, if made</p>
</dd>
<dt><code style="white-space: pre;">&#8288;cpp_diagnostics}{diagnostic information regarding columns per page} \item{&#8288;</code>col_diagnostics'</dt><dd><p>(very) basic information about leaf columns, whether pagination
was attempted after each leaf column, ad the final result of such attempts, if made</p>
</dd>
</dl>



<h3>Note</h3>

<p>For  <code>diagnose_pagination</code>,   the  column  labels  are  not
displayed  in  the  <code>col_diagnostics</code> element  due  to  certain
internal  implementation details;  rather  the diagnostics  are
reported in terms of absolute (leaf) column position. This is a
known  limitation,  and  may  eventually be  changed,  but  the
information remains useful as it is currently reported.
</p>
<p><code>diagnose_pagination</code> is intended for interactive debugging
use and <em>should not be programmed against</em>, as the exact
content and form of the  verbose messages it captures and
returns is subject to change.
</p>
<p>because <code>diagnose_pagination</code> relies on <code>capture.output(type = "message")</code>,
it cannot be used within the <code>testthat</code> (and likely other) testing frameworks,
and likely cannot be used within <code>knitr</code>/<code>rmarkdown</code> contexts either,
as this clashes with those systems' capture of messages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mpf &lt;- basic_matrix_form(mtcars)

paginate_indices(mpf, pg_width = 5, pg_height = 3)

paginate_to_mpfs(mpf, pg_width = 5, pg_height = 3)

diagnose_pagination(mpf, pg_width = 5, pg_height = 3)
clws &lt;- propose_column_widths(mpf)
clws[1] &lt;- floor(clws[1] / 3)
dgnost &lt;- diagnose_pagination(mpf, pg_width = 5, pg_height = 3, colwidths = clws)
try(diagnose_pagination(mpf, pg_width = 1)) # fails

</code></pre>

<hr>
<h2 id='pagination_algo'>Pagination</h2><span id='topic+pagination_algo'></span>

<h3>Description</h3>

<p>Pagination
</p>


<h3>Pagination Algorithm</h3>

<p>Pagination  is performed independently in  the vertical  and horizontal
directions based solely on a <em>pagination data.frame</em>, which includes the
following information for each row/column:
</p>

<ul>
<li><p> number of  lines/characters rendering the row  will take <strong>after
word-wrapping</strong> (<code>self_extent</code>)
</p>
</li>
<li><p> the indices (<code>reprint_inds</code>)  and number of lines (<code>par_extent</code>)
of the rows which act as <strong>context</strong> for the row
</p>
</li>
<li><p> the row's number of siblings and position within its siblings
</p>
</li></ul>

<p>Given <code>lpp</code>  (<code>cpp</code>) already  adjusted for rendered  elements which
are  not rows/columns  and a  dataframe of  pagination information,
pagination is  performed via  the following  algorithm, and  with a
<code>start = 1</code>:
</p>
<p>Core Pagination Algorithm:
</p>

<ol>
<li><p> Initial guess for pagination point is <code>start + lpp</code> (<code>start + cpp</code>)
</p>
</li>
<li><p> While the guess is not a valid pagination position, and <code>guess &gt; start</code>, decrement guess and repeat
</p>
</li></ol>


<ul>
<li><p> an error is thrown if all possible pagination positions between
<code>start</code> and <code>start + lpp</code> (<code>start + cpp</code>) would ever be <code style="white-space: pre;">&#8288;&lt; start&#8288;</code>
after decrementing
</p>
</li></ul>


<ol>
<li><p> Retain pagination index
</p>
</li>
<li><p> if pagination  point was less than  <code>NROW(tt)</code> (<code>ncol(tt)</code>), set
<code>start</code> to <code>pos + 1</code>, and repeat steps (1) - (4).
</p>
</li></ol>

<p>Validating pagination position:
</p>
<p>Given an (already adjusted) <code>lpp</code> or <code>cpp</code> value, a pagination is invalid if:
</p>

<ul>
<li><p> The rows/columns on the page would take  more than (adjusted) <code>lpp</code> lines/<code>cpp</code>
characters to render <strong>including</strong>
</p>

<ul>
<li><p> word-wrapping
</p>
</li>
<li><p> (vertical only) context repetition
</p>
</li></ul>

</li>
<li><p> (vertical only) footnote messages  and or section divider lines
take up too many lines after rendering rows
</p>
</li>
<li><p> (vertical only) row is a label or content (row-group summary) row
</p>
</li>
<li><p> (vertical only)  row at the pagination point  has siblings, and
it has less than <code>min_siblings</code> preceding or following siblings
</p>
</li>
<li><p> pagination would occur within a sub-table listed in <code>nosplitin</code>
</p>
</li></ul>


<hr>
<h2 id='print+2CANY-method'>Print</h2><span id='topic+print+2CANY-method'></span>

<h3>Description</h3>

<p>Print an R object. see <code>[base::print()]</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ANY'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print+2B2CANY-method_+3A_x">x</code></td>
<td>
<p>an object used to select a method.</p>
</td></tr>
<tr><td><code id="print+2B2CANY-method_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='propose_column_widths'>Propose Column Widths based on an object's <code>MatrixPrintForm</code> form</h2><span id='topic+propose_column_widths'></span>

<h3>Description</h3>

<p>The row names are also considered a column for the output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propose_column_widths(x, indent_size = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propose_column_widths_+3A_x">x</code></td>
<td>
<p><code>MatrixPrintForm</code> object, or an object with a <code>matrix_form</code>
method.</p>
</td></tr>
<tr><td><code id="propose_column_widths_+3A_indent_size">indent_size</code></td>
<td>
<p>numeric(1). Indent size in characters. Ignored
when <code>x</code> is already a <code>MatrixPrintForm</code> object in favor of information
there.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of column widths based on the content of <code>x</code>
for use in printing and pagination.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mf &lt;- basic_matrix_form(mtcars)
propose_column_widths(mf)

</code></pre>

<hr>
<h2 id='ref_df_row'>Create a row for a referential footnote information dataframe</h2><span id='topic+ref_df_row'></span>

<h3>Description</h3>

<p>Create a row for a referential footnote information dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ref_df_row(
  row_path = NA_character_,
  col_path = NA_character_,
  row = NA_integer_,
  col = NA_integer_,
  symbol = NA_character_,
  ref_index = NA_integer_,
  msg = NA_character_,
  max_width = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ref_df_row_+3A_row_path">row_path</code></td>
<td>
<p>character. row path (<code>NA_character_</code> for none)</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_col_path">col_path</code></td>
<td>
<p>character. column path (<code>NA_character_</code> for none)</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_row">row</code></td>
<td>
<p>integer(1). Integer position of the row.</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_col">col</code></td>
<td>
<p>integer(1). Integer position of the column.</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_symbol">symbol</code></td>
<td>
<p>character(1). Symbol for the reference. <code>NA_character_</code> to use the <code>ref_index</code> automatically.</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_ref_index">ref_index</code></td>
<td>
<p>integer(1). The index of the footnote, used for ordering even when symbol is not NA</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_msg">msg</code></td>
<td>
<p>character(1). The string message, not including the symbol portion (<code style="white-space: pre;">&#8288;{symbol} - &#8288;</code>)</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_max_width">max_width</code></td>
<td>
<p>numeric(1). Width strings should be wrapped to
when determining how many lines they require.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single row data.frame with the appropriate columns.
</p>

<hr>
<h2 id='round_fmt'>Round and prepare a value for display</h2><span id='topic+round_fmt'></span><span id='topic+rounding'></span>

<h3>Description</h3>

<p>This function is used within <code><a href="#topic+format_value">format_value</a></code> to prepare numeric values within
cells for formatting and display.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round_fmt(x, digits, na_str = "NA")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="round_fmt_+3A_x">x</code></td>
<td>
<p>numeric(1). Value to format</p>
</td></tr>
<tr><td><code id="round_fmt_+3A_digits">digits</code></td>
<td>
<p>numeric(1). Number of digits to round to, or <code>NA</code> to convert to a
character value with no rounding.</p>
</td></tr>
<tr><td><code id="round_fmt_+3A_na_str">na_str</code></td>
<td>
<p>character(1). The value to return if <code>x</code> is <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function combines the rounding behavior of R's standards-complaint
<code><a href="base.html#topic+round">round</a></code> function (see the Details section of that documentation)
with the strict decimal display of <code><a href="base.html#topic+sprintf">sprintf</a></code>. The exact behavior
is as follows:
</p>

<ol>
<li><p>If <code>x</code> is NA, the value of <code>na_str</code> is returned
</p>
</li>
<li><p>If <code>x</code> is non-NA but <code>digits</code> is NA, <code>x</code> is converted to a character
and returned
</p>
</li>
<li><p>If <code>x</code> and <code>digits</code> are both non-NA, <code>round</code> is called first,
and then <code>sprintf</code> is used to convert the rounded value to a character with the
appropriate number of trailing zeros enforced.
</p>
</li></ol>



<h3>Value</h3>

<p>A character value representing the value after rounding, containing
containing any trailling zeros required to display <em>exactly</em> <code>digits</code>
elements.
</p>


<h3>Note</h3>

<p>This differs from the base R <code><a href="base.html#topic+round">round</a></code> function in that <code>NA</code>
digits indicate x should be passed converted to character and returned unchanged
whereas <code>round(x, digits =NA)</code> returns <code>NA</code> for all values of <code>x</code>.
</p>
<p>This behavior will differ from <code>as.character(round(x, digits = digits))</code>
in the case where there are not at least <code>digits</code> significant digits
after the decimal that remain after rounding. It <em>may</em> differ from
<code>sprintf("%.Nf", x)</code> for values ending in <code>5</code> after the decimal place
on many popular operating systems due to <code>round</code>'s stricter adherence to the
<code style="white-space: pre;">&#8288;IEC 60559&#8288;</code> standard, particularly for R versions &gt; 4.0.0 (see Warning in <code><a href="base.html#topic+round">round</a></code>
documentation).
</p>


<h3>See Also</h3>

<p><code>link{format_value}</code> <code><a href="base.html#topic+round">round</a></code> <code><a href="base.html#topic+sprintf">sprintf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
round_fmt(0, digits = 3)
round_fmt(.395, digits = 2)
round_fmt(NA, digits = 1)
round_fmt(NA, digits = 1, na_str = "-")
round_fmt(2.765923, digits = NA)
</code></pre>

<hr>
<h2 id='spans_to_viscell'>Transform vectors of spans (with duplication) to Visibility vector</h2><span id='topic+spans_to_viscell'></span>

<h3>Description</h3>

<p>Transform vectors of spans (with duplication) to Visibility vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spans_to_viscell(spans)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spans_to_viscell_+3A_spans">spans</code></td>
<td>
<p>numeric. A vector of spans, with each span value repeated
for the cells it covers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The values of <code>spans</code> are assumed to be repeated to such that
each individual position covered by the span has the repeated value.
</p>
<p>This means that each block of values in <code>span</code> must be of a length
at least equal to its value (i.e. two 2s, three 3s, etc).
</p>
<p>This function correctly handles cases where two spans of the same size
are next to each other; i.e., a block of four 2s represents two large
cells each of which span two individual cells.
</p>


<h3>Value</h3>

<p>a logical vector the same length as <code>spans</code> indicating
whether the contents of a string vector with those spans
</p>


<h3>Note</h3>

<p>Currently no  checking or  enforcement is done  that the  vector of
spans is valid in the sense described in the Details section above.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
spans_to_viscell(c(2, 2, 2, 2, 1, 3, 3, 3))
</code></pre>

<hr>
<h2 id='spread_integer'>spread <code>x</code> into <code>len</code> elements</h2><span id='topic+spread_integer'></span>

<h3>Description</h3>

<p>spread <code>x</code> into <code>len</code> elements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spread_integer(x, len)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spread_integer_+3A_x">x</code></td>
<td>
<p>numeric(1). The number to spread</p>
</td></tr>
<tr><td><code id="spread_integer_+3A_len">len</code></td>
<td>
<p>numeric(1). The number of times to repeat <code>x</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>if <code>x</code> is a scalar &quot;whole number&quot; value (see <code><a href="#topic+is.wholenumber">is.wholenumber</a></code>),
the value <code>x</code> repeated <code>len</code> times. If not, an error is thrown.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spread_integer(3, 1)
spread_integer(0, 3)
spread_integer(1, 3)
spread_integer(2, 3)
spread_integer(3, 3)
spread_integer(4, 3)
spread_integer(5, 3)
spread_integer(6, 3)
spread_integer(7, 3)
</code></pre>

<hr>
<h2 id='sprintf_format'>Specify text format via a <code>sprintf</code> format string</h2><span id='topic+sprintf_format'></span>

<h3>Description</h3>

<p>Specify text format via a <code>sprintf</code> format string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sprintf_format(format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sprintf_format_+3A_format">format</code></td>
<td>
<p>character(1). A format string passed to <code>sprintf</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatting function which wraps and will apply the specified <code>printf</code> style format
string <code>format</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sprintf">sprintf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
fmtfun &lt;- sprintf_format("(N=%i")
format_value(100, format = fmtfun)

fmtfun2 &lt;- sprintf_format("%.4f - %.2f")
format_value(list(12.23456, 2.724))
</code></pre>

<hr>
<h2 id='table_inset'>Access or (recursively) set table inset.</h2><span id='topic+table_inset'></span><span id='topic+table_inset+2CMatrixPrintForm-method'></span><span id='topic+table_inset+3C-'></span><span id='topic+table_inset+3C-+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>Table inset is the amount of characters that the body of
a table, referential footnotes, and main footer material
are inset from the left-alignment of the titles and provenance
footer materials.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_inset(obj)

## S4 method for signature 'MatrixPrintForm'
table_inset(obj)

table_inset(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
table_inset(obj) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="table_inset_+3A_obj">obj</code></td>
<td>
<p>ANY. Object to get or (recursively if necessary) set
table inset for.</p>
</td></tr>
<tr><td><code id="table_inset_+3A_value">value</code></td>
<td>
<p>character(1). String to use as new header/body separator.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>for <code>table_inset</code> the integer value that the table body
(including column heading information and section dividers),
referential footnotes, and main footer should be inset from the
left alignment of the titles and provenance footers during rendering.
For <code style="white-space: pre;">&#8288;table_inset&lt;-&#8288;</code>, the <code>obj</code>, with the new table_inset value
applied recursively to it and all its subtables.
</p>

<hr>
<h2 id='toString'><code>toString</code></h2><span id='topic+toString'></span><span id='topic+toString+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>Transform a complex object into a string representation ready
to be printed or written to a plain-text file
</p>
<p>All objects that are printed to console pass by <code>toString</code>. This function allows
fundamental formatting specifications for the final output, like column widths and
relative wrapping (<code>width</code>), title and footer wrapping (<code>tf_wrap = TRUE</code> and
<code>max_width</code>), or horizontal separator character (e.g. <code>hsep = "+"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toString(x, ...)

## S4 method for signature 'MatrixPrintForm'
toString(
  x,
  widths = NULL,
  tf_wrap = FALSE,
  max_width = NULL,
  col_gap = mf_colgap(x),
  hsep = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toString_+3A_x">x</code></td>
<td>
<p>ANY. Object to be prepared for rendering.</p>
</td></tr>
<tr><td><code id="toString_+3A_...">...</code></td>
<td>
<p>Passed to individual methods.</p>
</td></tr>
<tr><td><code id="toString_+3A_widths">widths</code></td>
<td>
<p>numeric (or  <code>NULL</code>). (proposed) widths for the columns
of <code>x</code>. The expected length  of this numeric vector can be
retrieved with  <code>ncol() + 1</code>  as the  column of row  names must
also be considered.</p>
</td></tr>
<tr><td><code id="toString_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>logical(1). Should  the texts for  title, subtitle,
and footnotes be wrapped?</p>
</td></tr>
<tr><td><code id="toString_+3A_max_width">max_width</code></td>
<td>
<p>integer(1), character(1) or <code>NULL</code>. Width that title
and   footer   (including   footnotes)  materials   should   be
word-wrapped to. If <code>NULL</code>, it is  set to the current print width
of the  session (<code>getOption("width")</code>). If set to <code>"auto"</code>,
the width of the table (plus any table inset) is used. Ignored
completely if <code>tf_wrap</code> is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="toString_+3A_col_gap">col_gap</code></td>
<td>
<p>numeric(1). Space (in characters) between columns</p>
</td></tr>
<tr><td><code id="toString_+3A_hsep">hsep</code></td>
<td>
<p>character(1). Characters to repeat to create
header/body separator line. If <code>NULL</code>, the object value will be
used. If <code>" "</code>, an empty separator will be printed. Check <code><a href="#topic+default_hsep">default_hsep()</a></code>
for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Manual insertion of newlines is not supported when <code>tf_wrap</code> is on
and will result in a warning and undefined wrapping behavior. Passing
vectors of already split strings remains supported, however in this
case each string is word-wrapped separately with the behavior
described above.
</p>


<h3>Value</h3>

<p>A character string containing the ASCII rendering
of the table-like object represented by <code>x</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wrap_string">wrap_string()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mform &lt;- basic_matrix_form(mtcars)
cat(toString(mform))

</code></pre>

<hr>
<h2 id='var_labels'>Get Label Attributes of Variables in a <code>data.frame</code></h2><span id='topic+var_labels'></span>

<h3>Description</h3>

<p>Variable labels can be stored as a <code>label</code> attribute for each variable.
This functions returns a named character vector with the variable labels
(empty sting if not specified)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_labels(x, fill = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_labels_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> object</p>
</td></tr>
<tr><td><code id="var_labels_+3A_fill">fill</code></td>
<td>
<p>boolean in case the <code>label</code> attribute does not exist if
<code>TRUE</code> the variable names is returned, otherwise <code>NA</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named character vector with the variable labels, the names
correspond to the variable names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- iris
var_labels(x)
var_labels(x) &lt;- paste("label for", names(iris))
var_labels(x)
</code></pre>

<hr>
<h2 id='var_labels_remove'>Remove Variable Labels of a <code>data.frame</code></h2><span id='topic+var_labels_remove'></span>

<h3>Description</h3>

<p>Removing labels attributes from a variables in a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_labels_remove(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_labels_remove_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the same data frame as <code>x</code> stripped of variable labels
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- var_labels_remove(iris)
</code></pre>

<hr>
<h2 id='var_labels+26lt+3B-'>Set Label Attributes of All Variables in a <code>data.frame</code></h2><span id='topic+var_labels+3C-'></span>

<h3>Description</h3>

<p>Variable labels can be stored as a <code>label</code> attribute for each variable.
This functions sets all non-missing (non-NA) variable labels in a <code>data.frame</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_labels(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_labels+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> object</p>
</td></tr>
<tr><td><code id="var_labels+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>new variable labels, <code>NA</code> removes the variable label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>modifies the variable labels of <code>x</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- iris
var_labels(x)
var_labels(x) &lt;- paste("label for", names(iris))
var_labels(x)

if (interactive()) {
  View(x) # in RStudio data viewer labels are displayed
}
</code></pre>

<hr>
<h2 id='var_relabel'>Copy and Change Variable Labels of a <code>data.frame</code></h2><span id='topic+var_relabel'></span>

<h3>Description</h3>

<p>Relabel a subset of the variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_relabel(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_relabel_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code> object</p>
</td></tr>
<tr><td><code id="var_relabel_+3A_...">...</code></td>
<td>
<p>name-value pairs, where name corresponds to a variable name in
<code>x</code> and the value to the new variable label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a copy of <code>x</code> with changed labels according to <code>...</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- var_relabel(iris, Sepal.Length = "Sepal Length of iris flower")
var_labels(x)

</code></pre>

<hr>
<h2 id='vert_pag_indices'>Find Column Indices for Vertical Pagination</h2><span id='topic+vert_pag_indices'></span>

<h3>Description</h3>

<p>Find Column Indices for Vertical Pagination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vert_pag_indices(
  obj,
  cpp = 40,
  colwidths = NULL,
  verbose = FALSE,
  rep_cols = 0L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vert_pag_indices_+3A_obj">obj</code></td>
<td>
<p>ANY.  object   to   be  paginated.   Must  have   a
<code><a href="#topic+matrix_form">matrix_form</a></code> method.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_cpp">cpp</code></td>
<td>
<p>numeric(1). Number of characters per page (width)</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_colwidths">colwidths</code></td>
<td>
<p>numeric vector.  Column widths (in characters) for
use with vertical pagination.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_verbose">verbose</code></td>
<td>
<p>logical(1). Should additional informative messages about the search for
pagination breaks be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_rep_cols">rep_cols</code></td>
<td>
<p>numeric(1). Number of <em>columns</em> (not including
row labels) to be repeated on every page. Defaults to 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list partitioning the vector of column indices
into subsets for 1 or more horizontally paginated pages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mf &lt;- basic_matrix_form(df = mtcars)
colpaginds &lt;- vert_pag_indices(mf)
lapply(colpaginds, function(j) mtcars[, j, drop = FALSE])
</code></pre>

<hr>
<h2 id='with_label'>Return an object with a label attribute</h2><span id='topic+with_label'></span>

<h3>Description</h3>

<p>Return an object with a label attribute
</p>


<h3>Usage</h3>

<pre><code class='language-R'>with_label(x, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with_label_+3A_x">x</code></td>
<td>
<p>an object</p>
</td></tr>
<tr><td><code id="with_label_+3A_label">label</code></td>
<td>
<p>label attribute to to attached to  <code>x</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> labeled by <code>label</code>. Note: the exact mechanism of labeling should be
considered an internal implementation detail, but the label will always be retrieved via <code>obj_label</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- with_label(c(1, 2, 3), label = "Test")
obj_label(x)
</code></pre>

<hr>
<h2 id='wrap_string'>Wrap a string to within a precise width</h2><span id='topic+wrap_string'></span><span id='topic+wrap_txt'></span>

<h3>Description</h3>

<p>Core wrapping functionality that preserve white spaces. Only <code>"\n"</code> is not supported
by core functionality <code><a href="stringi.html#topic+stri_wrap">stringi::stri_wrap()</a></code>. This is usually solved before hand by
<code><a href="#topic+matrix_form">matrix_form()</a></code>. If the width is smaller than any large word, these will be truncated
after <code>width</code> characters. If the split leaves trailing groups of empty spaces,
they will be dropped.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrap_string(str, width, collapse = NULL)

wrap_txt(str, width, collapse = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wrap_string_+3A_str">str</code></td>
<td>
<p>character. String to be wrapped. If it is a character vector or
a list, it will be looped as a list and returned with <code>unlist(use.names = FALSE)</code>.</p>
</td></tr>
<tr><td><code id="wrap_string_+3A_width">width</code></td>
<td>
<p>numeric(1). Width, in characters, that the
text should be wrapped at.</p>
</td></tr>
<tr><td><code id="wrap_string_+3A_collapse">collapse</code></td>
<td>
<p>character(1) or <code>NULL</code>. If the words that have been split should
be pasted together with the collapse character. This is usually done internally
with <code>"\n"</code> to have the wrapping updated along with other internal values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Word wrapping happens as with <code><a href="stringi.html#topic+stri_wrap">stringi::stri_wrap()</a></code>
with the following exception: individual words which are longer
than <code>max_width</code> are broken up in a way that fits with the rest of the
word wrapping.
</p>


<h3>Value</h3>

<p>A string if <code>str</code> is one element and if <code>collapse = NULL</code>. Otherwise, is
a list of elements (if <code>length(str) &gt; 1</code>) that can contain strings or vector of
characters (if <code>collapse = NULL</code>).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>wrap_txt()</code>: function that flattens the list of wrapped strings with
<code>unist(str, use.names = FALSE)</code>. This is deprecated, use <code><a href="#topic+wrap_string">wrap_string()</a></code> instead.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- list(
  "  , something really  \\tnot  very good", # \t needs to be escaped
  "  but I keep it12   "
)
wrap_string(str, 5, collapse = "\n")

wrap_txt(str, 5, collapse = NULL)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

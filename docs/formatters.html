<!DOCTYPE html><html lang="en-US"><head><title>Help for package formatters</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {formatters}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#formatters-package'><p>formatters Package</p></a></li>
<li><a href='#basic_pagdf'><p>Basic/spoof pagination info data frame</p></a></li>
<li><a href='#check_formats'><p>Check if a format or alignment is supported</p></a></li>
<li><a href='#decimal_align'><p>Decimal alignment</p></a></li>
<li><a href='#default_horizontal_sep'><p>Default horizontal separator</p></a></li>
<li><a href='#default_page_number'><p>Default page number format</p></a></li>
<li><a href='#divider_height'><p>Divider height</p></a></li>
<li><a href='#DM'><p>DM data</p></a></li>
<li><a href='#do_forced_paginate'><p>Generic for performing &quot;forced&quot; pagination</p></a></li>
<li><a href='#ex_adsl'><p>Simulated CDISC-like data for examples</p></a></li>
<li><a href='#export_as_pdf'><p>Export as PDF</p></a></li>
<li><a href='#export_as_rtf'><p>Export as RTF</p></a></li>
<li><a href='#export_as_txt'><p>Export a table-like object to plain (ASCII) text with page breaks</p></a></li>
<li><a href='#fmt_config'><p>Format configuration</p></a></li>
<li><a href='#font_lcpi'><p>Calculate lines per inch and characters per inch for font</p></a></li>
<li><a href='#font_spec'><p>Font size specification</p></a></li>
<li><a href='#format_value'><p>Converts a (possibly compound) value into a string using the <code>format</code> information</p></a></li>
<li><a href='#ifnotlen0'><p><code style="white-space: pre;">&#8288;%||%&#8288;</code> (if length-0) alternative operator</p></a></li>
<li><a href='#is.wholenumber'><p>Check if a value is a whole number</p></a></li>
<li><a href='#lab_name'><p>Label, name, and format accessor generics</p></a></li>
<li><a href='#list_formats'><p>List of currently supported formats and vertical alignments</p></a></li>
<li><a href='#main_title'><p>General title and footer accessors</p></a></li>
<li><a href='#make_row_df'><p>Make row layout summary data frames for use during pagination</p></a></li>
<li><a href='#matrix_form'><p>Transform <code>rtable</code> to a list of matrices which can be used for outputting</p></a></li>
<li><a href='#MatrixPrintForm'><p>Constructor for Matrix Print Form</p></a></li>
<li><a href='#MatrixPrintForm-class'><p>Class for Matrix Print Form</p></a></li>
<li><a href='#mf_strings'><p>Getters and setters for aspects of <code>MatrixPrintForm</code> objects</p></a></li>
<li><a href='#mpf_to_rtf'><p>Transform <code>MatrixPrintForm</code> to RTF</p></a></li>
<li><a href='#nchar_ttype'><p>Calculate font-specific string width</p></a></li>
<li><a href='#nlines'><p>Number of lines required to print a value</p></a></li>
<li><a href='#num_rep_cols'><p>Number of repeated columns</p></a></li>
<li><a href='#open_font_dev'><p>Activate font state</p></a></li>
<li><a href='#padstr'><p>Pad a string and align within string</p></a></li>
<li><a href='#pag_indices_inner'><p>Find pagination indices from pagination info data frame</p></a></li>
<li><a href='#pagdfrow'><p>Create a row of a pagination data frame</p></a></li>
<li><a href='#page_lcpp'><p>Determine lines per page (LPP) and characters per page (CPP) based on font and page type</p></a></li>
<li><a href='#page_types'><p>Supported named page types</p></a></li>
<li><a href='#paginate_indices'><p>Paginate a table-like object for rendering</p></a></li>
<li><a href='#pagination_algo'><p>Pagination</p></a></li>
<li><a href='#print+2CANY-method'><p>Print</p></a></li>
<li><a href='#propose_column_widths'><p>Propose column widths based on the <code>MatrixPrintForm</code> of an object</p></a></li>
<li><a href='#ref_df_row'><p>Create a row for a referential footnote information data frame</p></a></li>
<li><a href='#round_fmt'><p>Round and prepare a value for display</p></a></li>
<li><a href='#spans_to_viscell'><p>Transform a vector of spans (with duplication) into a visibility vector</p></a></li>
<li><a href='#split_word_ttype'><p>wrap string given a Truetype font</p></a></li>
<li><a href='#spread_integer'><p>Spread an integer to a given length</p></a></li>
<li><a href='#sprintf_format'><p>Specify text format via a <code>sprintf</code> format string</p></a></li>
<li><a href='#table_inset'><p>Access or (recursively) set table inset</p></a></li>
<li><a href='#test_matrix_form'><p>Create spoof matrix form from a data frame</p></a></li>
<li><a href='#toString'><p>Transform objects into string representations</p></a></li>
<li><a href='#var_labels'><p>Get label attributes of variables in a <code>data.frame</code></p></a></li>
<li><a href='#var_labels_remove'><p>Remove variable labels of a <code>data.frame</code></p></a></li>
<li><a href='#var_labels+26lt+3B-'><p>Set label attributes of all variables in a <code>data.frame</code></p></a></li>
<li><a href='#var_relabel'><p>Copy and change variable labels of a <code>data.frame</code></p></a></li>
<li><a href='#vert_pag_indices'><p>Find column indices for vertical pagination</p></a></li>
<li><a href='#with_label'><p>Return an object with a label attribute</p></a></li>
<li><a href='#wrap_string'><p>Wrap a string to a precise width</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>ASCII Formatting for Values and Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.10</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-01-08</td>
</tr>
<tr>
<td>Description:</td>
<td>We provide a framework for rendering complex tables to ASCII,
    and a set of formatters for transforming values or sets of values into
    ASCII-ready display strings.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://insightsengineering.github.io/formatters/">https://insightsengineering.github.io/formatters/</a>,
<a href="https://github.com/insightsengineering/formatters/">https://github.com/insightsengineering/formatters/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/insightsengineering/formatters/issues">https://github.com/insightsengineering/formatters/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>methods, R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate (&ge; 2.1.0), grid, htmltools (&ge; 0.5.3), lifecycle
(&ge; 0.2.0), stringi (&ge; 1.7.12)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr (&ge; 1.0.9), gt (&ge; 0.10.0), huxtable (&ge; 2.0.0), knitr
(&ge; 1.42), r2rtf (&ge; 0.3.2), rmarkdown (&ge; 2.23), testthat (&ge;
3.0.4), withr (&ge; 2.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>Config/Needs/verdepcheck:</td>
<td>mllg/checkmate, rstudio/htmltools,
r-lib/lifecycle, tidyverse/dplyr, rstudio/gt,
hughjonesd/huxtable, yihui/knitr, Merck/r2rtf,
rstudio/rmarkdown, gagolews/stringi, r-lib/testthat,
r-lib/withr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>insightsengineering/nesttemplate</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Collate:</td>
<td>'data.R' 'format_value.R' 'matrix_form.R' 'generics.R'
'labels.R' 'mpf_exporters.R' 'package.R' 'page_size.R'
'pagination.R' 'tostring.R' 'utils.R' 'zzz.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-08 08:54:44 UTC; rstudio</td>
</tr>
<tr>
<td>Author:</td>
<td>Gabriel Becker [aut] (original creator of the package),
  Adrian Waddell [aut],
  Davide Garolini [aut],
  Emily de la Rua [aut],
  Abinaya Yogasekaram [ctb],
  Joe Zhu <a href="https://orcid.org/0000-0001-7566-2787"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joe Zhu &lt;joe.zhu@roche.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-09 00:40:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='formatters-package'>formatters Package</h2><span id='topic+formatters'></span><span id='topic+formatters-package'></span>

<h3>Description</h3>

<p>Package to format tables and listings in a flexible way.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Joe Zhu <a href="mailto:joe.zhu@roche.com">joe.zhu@roche.com</a> (<a href="https://orcid.org/0000-0001-7566-2787">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Gabriel Becker <a href="mailto:gabembecker@gmail.com">gabembecker@gmail.com</a> (original creator of the package)
</p>
</li>
<li><p> Adrian Waddell <a href="mailto:adrian.waddell@gene.com">adrian.waddell@gene.com</a>
</p>
</li>
<li><p> Davide Garolini <a href="mailto:davide.garolini@roche.com">davide.garolini@roche.com</a>
</p>
</li>
<li><p> Emily de la Rua <a href="mailto:emily.de_la_rua@contractors.roche.com">emily.de_la_rua@contractors.roche.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Abinaya Yogasekaram <a href="mailto:abinaya.yogasekaram@contractors.roche.com">abinaya.yogasekaram@contractors.roche.com</a> [contributor]
</p>
</li>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://insightsengineering.github.io/formatters/">https://insightsengineering.github.io/formatters/</a>
</p>
</li>
<li> <p><a href="https://github.com/insightsengineering/formatters/">https://github.com/insightsengineering/formatters/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/insightsengineering/formatters/issues">https://github.com/insightsengineering/formatters/issues</a>
</p>
</li></ul>


<hr>
<h2 id='basic_pagdf'>Basic/spoof pagination info data frame</h2><span id='topic+basic_pagdf'></span>

<h3>Description</h3>

<p>Returns a minimal pagination info <code>data.frame</code> (with no info on siblings, footnotes, etc.).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_pagdf(
  rnames,
  labs = rnames,
  rnums = seq_along(rnames),
  extents = 1L,
  rclass = "DataRow",
  parent_path = NULL,
  paths = lapply(rnames, function(x) c(parent_path, x)),
  fontspec = font_spec()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basic_pagdf_+3A_rnames">rnames</code></td>
<td>
<p>(<code>character</code>)<br /> vector of row names.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_labs">labs</code></td>
<td>
<p>(<code>character</code>)<br /> vector of row labels. Defaults to <code>rnames</code>.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_rnums">rnums</code></td>
<td>
<p>(<code>integer</code>)<br /> vector of row numbers. Defaults to <code>seq_along(rnames)</code>.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_extents">extents</code></td>
<td>
<p>(<code>integer</code>)<br /> number of lines each row requires to print. Defaults to 1 for all rows.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_rclass">rclass</code></td>
<td>
<p>(<code>character</code>)<br /> class(es) for the rows. Defaults to <code>"DataRow"</code>.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_parent_path">parent_path</code></td>
<td>
<p>(<code>string</code>)<br /> parent path that all rows should be &quot;children of&quot;.
Defaults to <code>NULL</code>, as usually this is not needed. It may be necessary to use <code>"root"</code>,
for some specific scenarios.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_paths">paths</code></td>
<td>
<p>(<code>list</code>)<br /> list of paths to the rows. Defaults to <code>lapply(rnames, function(x) c(parent_path, x))</code>.</p>
</td></tr>
<tr><td><code id="basic_pagdf_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> suitable for use in both the <code>MatrixPrintForm</code> constructor and the pagination machinery.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>basic_pagdf(c("hi", "there"))

</code></pre>

<hr>
<h2 id='check_formats'>Check if a format or alignment is supported</h2><span id='topic+check_formats'></span><span id='topic+is_valid_format'></span><span id='topic+check_aligns'></span>

<h3>Description</h3>

<p>Utility functions for checking formats and alignments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valid_format(x, stop_otherwise = FALSE)

check_aligns(algn)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_formats_+3A_x">x</code></td>
<td>
<p>(<code>string</code> or <code>function</code>)<br /> format string or an object returned by <code><a href="#topic+sprintf_format">sprintf_format()</a></code></p>
</td></tr>
<tr><td><code id="check_formats_+3A_stop_otherwise">stop_otherwise</code></td>
<td>
<p>(<code>flag</code>)<br /> whether an error should be thrown if <code>x</code> is not a valid format.</p>
</td></tr>
<tr><td><code id="check_formats_+3A_algn">algn</code></td>
<td>
<p>(<code>character</code>)<br /> a character vector that indicates the requested cell alignments.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>is_valid_format</code> returns <code>TRUE</code> if <code>x</code> is <code>NULL</code>, a supported format string, or a function, and
<code>FALSE</code> otherwise.
</p>
</li></ul>


<ul>
<li> <p><code>check_aligns</code> returns <code>TRUE</code> if the provided alignments are supported, otherwise, an error is thrown.
</p>
</li></ul>



<h3>Note</h3>

<p>If <code>x</code> is a function, no check is performed to verify that it returns a valid format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_valid_format("xx.x")
is_valid_format("fakeyfake")

check_aligns(c("decimal", "dec_right"))

</code></pre>

<hr>
<h2 id='decimal_align'>Decimal alignment</h2><span id='topic+decimal_align'></span>

<h3>Description</h3>

<p>Aligning decimal values of string matrix. Allowed alignments are: <code>dec_left</code>, <code>dec_right</code>,
and <code>decimal</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decimal_align(string_mat, align_mat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="decimal_align_+3A_string_mat">string_mat</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;character matrix&#8288;</code>)<br /> &quot;string&quot; matrix component of <code>MatrixPrintForm</code> object.</p>
</td></tr>
<tr><td><code id="decimal_align_+3A_align_mat">align_mat</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;character matrix&#8288;</code>)<br /> &quot;aligns&quot; matrix component of <code>MatrixPrintForm</code> object.
Should contain either <code>dec_left</code>, <code>dec_right</code>, or <code>decimal</code> for values to be decimal aligned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Left and right decimal alignment (<code>dec_left</code> and <code>dec_right</code>) differ from center decimal
alignment (<code>decimal</code>) only when there is padding present. This may occur if column widths are
set wider via parameters <code>widths</code> in <code>toString</code> or <code>colwidths</code> in <code style="white-space: pre;">&#8288;paginate_*&#8288;</code>. More commonly,
it also occurs when column names are wider. Cell wrapping is not supported when decimal
alignment is used.
</p>


<h3>Value</h3>

<p>A processed string matrix of class <code>MatrixPrintForm</code> with decimal-aligned values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+toString">toString()</a></code>, <code><a href="#topic+MatrixPrintForm">MatrixPrintForm()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dfmf &lt;- basic_matrix_form(mtcars[1:5, ])
aligns &lt;- mf_aligns(dfmf)
aligns[, -c(1)] &lt;- "dec_left"
decimal_align(mf_strings(dfmf), aligns)

</code></pre>

<hr>
<h2 id='default_horizontal_sep'>Default horizontal separator</h2><span id='topic+default_horizontal_sep'></span><span id='topic+default_hsep'></span><span id='topic+set_default_hsep'></span>

<h3>Description</h3>

<p>The default horizontal separator character which can be displayed in the current
charset for use in rendering table-like objects.
</p>
<p>The default horizontal separator character which can be displayed in the current
charset for use in rendering table-like objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_hsep()

set_default_hsep(hsep_char)

default_hsep()

set_default_hsep(hsep_char)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="default_horizontal_sep_+3A_hsep_char">hsep_char</code></td>
<td>
<p>(<code>string</code>)<br /> character that will be set in the R environment
options as the default horizontal separator. Must be a single character. Use
<code>getOption("formatters_default_hsep")</code> to get its current value (<code>NULL</code> if not set).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>unicode 2014 (long dash for generating solid horizontal line) if in a
locale that uses a UTF character set, otherwise an ASCII hyphen with a
once-per-session warning.
</p>
<p>unicode 2014 (long dash for generating solid horizontal line) if in a
locale that uses a UTF character set, otherwise an ASCII hyphen with a
once-per-session warning.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>default_hsep()
set_default_hsep("o")
default_hsep()

default_hsep()
set_default_hsep("o")
default_hsep()

</code></pre>

<hr>
<h2 id='default_page_number'>Default page number format</h2><span id='topic+default_page_number'></span><span id='topic+set_default_page_number'></span>

<h3>Description</h3>

<p>If set, the default page number string will appear on the bottom right of
every page of a paginated table. The current <code>cpp</code> is used to position the string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_page_number()

set_default_page_number(page_number)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="default_page_number_+3A_page_number">page_number</code></td>
<td>
<p>(<code>string</code>)<br /> single string value to set the page number format.
It should be formatted similarly to the following format: <code>"page {i}/{n}"</code>.
<code>{i}</code> will be replaced with the current page number, and <code>{n}</code> will be replaced with the
total page number. Current <code>cpp</code> is used to position the string in the bottom right corner.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The page number format string (<code>NULL</code> if not set).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>default_page_number()
set_default_page_number("page {i} of {n}")
default_page_number()

</code></pre>

<hr>
<h2 id='divider_height'>Divider height</h2><span id='topic+divider_height'></span><span id='topic+divider_height+2CANY-method'></span>

<h3>Description</h3>

<p>Divider height
</p>


<h3>Usage</h3>

<pre><code class='language-R'>divider_height(obj)

## S4 method for signature 'ANY'
divider_height(obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="divider_height_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The height, in lines of text, of the divider between header and body. Currently
returns <code>1L</code> for the default method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>divider_height(mtcars)

</code></pre>

<hr>
<h2 id='DM'>DM data</h2><span id='topic+DM'></span>

<h3>Description</h3>

<p>DM data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DM
</code></pre>


<h3>Format</h3>

<p><code>rds</code> (<code>data.frame</code>)
</p>

<hr>
<h2 id='do_forced_paginate'>Generic for performing &quot;forced&quot; pagination</h2><span id='topic+do_forced_paginate'></span><span id='topic+do_forced_paginate+2CANY-method'></span>

<h3>Description</h3>

<p>Forced pagination is pagination which happens regardless of position on page. The object
is expected to have all information necessary to locate such page breaks, and the
<code>do_forced_pag</code> method is expected to fully perform those paginations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_forced_paginate(obj)

## S4 method for signature 'ANY'
do_forced_paginate(obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="do_forced_paginate_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> object to be paginated. The <code>ANY</code> method simply returns a list of
length one, containing <code>obj</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of sub-objects, which will be further paginated by the standard pagination
algorithm.
</p>

<hr>
<h2 id='ex_adsl'>Simulated CDISC-like data for examples</h2><span id='topic+ex_adsl'></span><span id='topic+ex_adae'></span><span id='topic+ex_adaette'></span><span id='topic+ex_adtte'></span><span id='topic+ex_adcm'></span><span id='topic+ex_adlb'></span><span id='topic+ex_admh'></span><span id='topic+ex_adqs'></span><span id='topic+ex_adrs'></span><span id='topic+ex_advs'></span>

<h3>Description</h3>

<p>Simulated CDISC-like data for examples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ex_adsl

ex_adae

ex_adaette

ex_adtte

ex_adcm

ex_adlb

ex_admh

ex_adqs

ex_adrs

ex_advs
</code></pre>


<h3>Format</h3>

<p><code>rds</code> (<code>data.frame</code>)
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1934 rows and 48 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1200 rows and 42 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1200 rows and 42 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1934 rows and 41 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 8400 rows and 59 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 1934 rows and 41 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 14000 rows and 49 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 2400 rows and 41 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 16800 rows and 59 columns.
</p>

<hr>
<h2 id='export_as_pdf'>Export as PDF</h2><span id='topic+export_as_pdf'></span>

<h3>Description</h3>

<p>The PDF output from this function is based on the ASCII output created with <code><a href="#topic+toString">toString()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_as_pdf(
  x,
  file,
  page_type = "letter",
  landscape = FALSE,
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  width = lifecycle::deprecated(),
  height = lifecycle::deprecated(),
  margins = c(4, 4, 4, 4),
  min_siblings = 2,
  font_family = "Courier",
  font_size = 8,
  fontsize = font_size,
  lineheight = 1.2,
  paginate = TRUE,
  page_num = default_page_number(),
  lpp = NULL,
  cpp = NULL,
  hsep = "-",
  indent_size = 2,
  rep_cols = NULL,
  tf_wrap = TRUE,
  max_width = NULL,
  colwidths = NULL,
  fontspec = font_spec(font_family, font_size, lineheight),
  ttype_ok = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="export_as_pdf_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> a table-like object to export. Must have an applicable <code>matrix_form</code> method.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_file">file</code></td>
<td>
<p>(<code>string</code>)<br /> file to write to, must have <code>.pdf</code> extension.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_page_type">page_type</code></td>
<td>
<p>(<code>string</code>)<br /> name of a page type. See <code><a href="#topic+page_types">page_types</a></code>. Ignored
when <code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_landscape">landscape</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the dimensions of <code>page_type</code> should be
inverted for landscape orientation. Defaults to <code>FALSE</code>, ignored when <code>pg_width</code> and
<code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_pg_width">pg_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page width in inches.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_pg_height">pg_height</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page height in inches.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_width">width</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use the <code>pg_width</code> argument or specify
<code>page_type</code> instead.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_height">height</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use the <code>pg_height</code> argument or
specify <code>page_type</code> instead.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_margins">margins</code></td>
<td>
<p>(<code>numeric(4)</code>)<br /> the number of lines/characters of the margin on the bottom,
left, top, and right sides of the page, respectively.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_min_siblings">min_siblings</code></td>
<td>
<p>(<code>numeric</code>)<br /> minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2 for tables. It is automatically turned off (set to 0) for listings.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_font_family">font_family</code></td>
<td>
<p>(<code>string</code>)<br /> name of a font family. An error will be thrown
if the family named is not monospaced. Defaults to <code>"Courier"</code>.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size. Defaults to <code>12</code>.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_fontsize">fontsize</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use the <code>font_size</code> argument instead.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_paginate">paginate</code></td>
<td>
<p>(<code>flag</code>)<br /> whether pagination should be performed. Defaults to <code>TRUE</code>
if page size is specified (including the default).</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_page_num">page_num</code></td>
<td>
<p>(<code>string</code>)<br /> placeholder string for page numbers. See <a href="#topic+default_page_number">default_page_number</a> for more
information. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_lpp">lpp</code></td>
<td>
<p>(<code>numeric(1)</code> or <code>NULL</code>)<br /> lines per page. If <code>NA</code> (the default), this is calculated automatically
based on the specified page size). <code>NULL</code> indicates no vertical pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_cpp">cpp</code></td>
<td>
<p>(<code>numeric(1)</code> or <code>NULL</code>)<br /> width (in characters) per page. If <code>NA</code> (the default), this is calculated
automatically based on the specified page size). <code>NULL</code> indicates no horizontal pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_hsep">hsep</code></td>
<td>
<p>(<code>string</code>)<br /> character to repeat to create header/body separator line. If
<code>NULL</code>, the object value will be used. If <code>" "</code>, an empty separator will be printed. See
<code><a href="#topic+default_hsep">default_hsep()</a></code> for more information.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_indent_size">indent_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> indent size, in characters. Ignored when <code>x</code> is already
a <code>MatrixPrintForm</code> object in favor of information there.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_rep_cols">rep_cols</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of <em>columns</em> (not including row labels) to be repeated on every page.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the text for title, subtitles, and footnotes should be wrapped.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_max_width">max_width</code></td>
<td>
<p>(<code>integer(1)</code>, <code>string</code> or <code>NULL</code>)<br /> width that title and footer (including
footnotes) materials should be word-wrapped to. If <code>NULL</code>, it is set to the current print width of the
session (<code>getOption("width")</code>). If set to <code>"auto"</code>, the width of the table (plus any table inset) is
used. Parameter is ignored if <code>tf_wrap = FALSE</code>.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> vector of column widths (in characters) for use in vertical pagination.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="export_as_pdf_+3A_ttype_ok">ttype_ok</code></td>
<td>
<p>(<code>logical(1)</code>)<br /> should truetype (non-monospace) fonts be
allowed via <code>fontspec</code>. Defaults to <code>FALSE</code>. This parameter is primarily
for internal testing and generally should not be set by end users.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, pagination is performed with default <code>cpp</code> and <code>lpp</code> defined by specified page
dimensions and margins. User-specified <code>lpp</code> and <code>cpp</code> values override this, and should
be used with caution.
</p>
<p>Title and footer materials are also word-wrapped by default (unlike when printed to the
terminal), with <code>cpp</code> (as defined above) as the default <code>max_width</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+export_as_txt">export_as_txt()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tf &lt;- tempfile(fileext = ".pdf")
export_as_pdf(basic_matrix_form(mtcars), file = tf, pg_height = 4)

tf &lt;- tempfile(fileext = ".pdf")
export_as_pdf(basic_matrix_form(mtcars), file = tf, lpp = 8)

## End(Not run)

</code></pre>

<hr>
<h2 id='export_as_rtf'>Export as RTF</h2><span id='topic+export_as_rtf'></span>

<h3>Description</h3>

<p>Experimental export to the rich text format (RTF) format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_as_rtf(
  x,
  file = NULL,
  colwidths = NULL,
  page_type = "letter",
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  landscape = FALSE,
  margins = c(bottom = 0.5, left = 0.75, top = 0.5, right = 0.75),
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  fontspec = font_spec(font_family, font_size, lineheight),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="export_as_rtf_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> a table-like object to export. Must have an applicable <code>matrix_form</code> method.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_file">file</code></td>
<td>
<p>(<code>string</code> or <code>NULL</code>)<br /> if non-<code>NULL</code>, the path to write a text file to
containing <code>x</code> rendered as ASCII text.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> vector of column widths (in characters) for use in vertical pagination.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_page_type">page_type</code></td>
<td>
<p>(<code>string</code>)<br /> name of a page type. See <code><a href="#topic+page_types">page_types</a></code>. Ignored
when <code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_pg_width">pg_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page width in inches.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_pg_height">pg_height</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page height in inches.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_landscape">landscape</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the dimensions of <code>page_type</code> should be
inverted for landscape orientation. Defaults to <code>FALSE</code>, ignored when <code>pg_width</code> and
<code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_margins">margins</code></td>
<td>
<p>(<code>numeric(4)</code>)<br /> named numeric vector containing <code>"bottom"</code>, <code>"left"</code>,
<code>"top"</code>, and <code>"right"</code> margins in inches. Defaults to <code>.5</code> inches for both vertical
margins and <code>.75</code> for both horizontal margins.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_font_family">font_family</code></td>
<td>
<p>(<code>string</code>)<br /> name of a font family. An error will be thrown
if the family named is not monospaced. Defaults to <code>"Courier"</code>.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size. Defaults to <code>12</code>.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="export_as_rtf_+3A_...">...</code></td>
<td>
<p>additional parameters passed to <code><a href="#topic+paginate_to_mpfs">paginate_to_mpfs()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>RTF export occurs via the following steps:
</p>

<ul>
<li><p> The table is paginated to the specified page size (vertically and horizontally).
</p>
</li>
<li><p> Each separate page is converted to a <code>MatrixPrintForm</code> object and then to
RTF-encoded text.
</p>
</li>
<li><p> Separate RTF text chunks are combined and written to a single RTF file.
</p>
</li></ul>

<p>Conversion of <code>MatrixPrintForm</code> objects to RTF is done via <code><a href="#topic+mpf_to_rtf">mpf_to_rtf()</a></code>.
</p>

<hr>
<h2 id='export_as_txt'>Export a table-like object to plain (ASCII) text with page breaks</h2><span id='topic+export_as_txt'></span>

<h3>Description</h3>

<p>This function converts <code>x</code> to a <code>MatrixPrintForm</code> object via <code><a href="#topic+matrix_form">matrix_form()</a></code>, paginates it
via <code><a href="#topic+paginate_to_mpfs">paginate_to_mpfs()</a></code>, converts each page to ASCII text via <code><a href="#topic+toString">toString()</a></code>, and outputs
the strings, separated by <code>page_break</code>, to <code>file</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_as_txt(
  x,
  file = NULL,
  page_type = NULL,
  landscape = FALSE,
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  font_family = "Courier",
  font_size = 8,
  lineheight = 1L,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  paginate = TRUE,
  cpp = NA_integer_,
  lpp = NA_integer_,
  ...,
  hsep = NULL,
  indent_size = 2,
  tf_wrap = paginate,
  max_width = NULL,
  colwidths = NULL,
  min_siblings = 2,
  nosplitin = character(),
  rep_cols = NULL,
  verbose = FALSE,
  page_break = "\\s\\n",
  page_num = default_page_number(),
  fontspec = font_spec(font_family, font_size, lineheight),
  col_gap = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="export_as_txt_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> a table-like object to export. Must have an applicable <code>matrix_form</code> method.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_file">file</code></td>
<td>
<p>(<code>string</code> or <code>NULL</code>)<br /> if non-<code>NULL</code>, the path to write a text file to
containing <code>x</code> rendered as ASCII text.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_page_type">page_type</code></td>
<td>
<p>(<code>string</code>)<br /> name of a page type. See <code><a href="#topic+page_types">page_types</a></code>. Ignored
when <code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_landscape">landscape</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the dimensions of <code>page_type</code> should be
inverted for landscape orientation. Defaults to <code>FALSE</code>, ignored when <code>pg_width</code> and
<code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_pg_width">pg_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page width in inches.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_pg_height">pg_height</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page height in inches.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_font_family">font_family</code></td>
<td>
<p>(<code>string</code>)<br /> name of a font family. An error will be thrown
if the family named is not monospaced. Defaults to <code>"Courier"</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size. Defaults to <code>12</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_margins">margins</code></td>
<td>
<p>(<code>numeric(4)</code>)<br /> named numeric vector containing <code>"bottom"</code>, <code>"left"</code>,
<code>"top"</code>, and <code>"right"</code> margins in inches. Defaults to <code>.5</code> inches for both vertical
margins and <code>.75</code> for both horizontal margins.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_paginate">paginate</code></td>
<td>
<p>(<code>flag</code>)<br /> whether pagination should be performed. Defaults to <code>TRUE</code>
if page size is specified (including the default).</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_cpp">cpp</code></td>
<td>
<p>(<code>numeric(1)</code> or <code>NULL</code>)<br /> width (in characters) per page. If <code>NA</code> (the default), this is calculated
automatically based on the specified page size). <code>NULL</code> indicates no horizontal pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_lpp">lpp</code></td>
<td>
<p>(<code>numeric(1)</code> or <code>NULL</code>)<br /> lines per page. If <code>NA</code> (the default), this is calculated automatically
based on the specified page size). <code>NULL</code> indicates no vertical pagination should occur.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_...">...</code></td>
<td>
<p>additional parameters passed to <code><a href="#topic+paginate_to_mpfs">paginate_to_mpfs()</a></code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_hsep">hsep</code></td>
<td>
<p>(<code>string</code>)<br /> character to repeat to create header/body separator line. If
<code>NULL</code>, the object value will be used. If <code>" "</code>, an empty separator will be printed. See
<code><a href="#topic+default_hsep">default_hsep()</a></code> for more information.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_indent_size">indent_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> indent size, in characters. Ignored when <code>x</code> is already
a <code>MatrixPrintForm</code> object in favor of information there.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the text for title, subtitles, and footnotes should be wrapped.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_max_width">max_width</code></td>
<td>
<p>(<code>integer(1)</code>, <code>string</code> or <code>NULL</code>)<br /> width that title and footer (including
footnotes) materials should be word-wrapped to. If <code>NULL</code>, it is set to the current print width of the
session (<code>getOption("width")</code>). If set to <code>"auto"</code>, the width of the table (plus any table inset) is
used. Parameter is ignored if <code>tf_wrap = FALSE</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> vector of column widths (in characters) for use in vertical pagination.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_min_siblings">min_siblings</code></td>
<td>
<p>(<code>numeric</code>)<br /> minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2 for tables. It is automatically turned off (set to 0) for listings.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_nosplitin">nosplitin</code></td>
<td>
<p>(<code>character</code>)<br /> list of names of subtables where page breaks are not allowed, regardless of other
considerations. Defaults to none.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_rep_cols">rep_cols</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of <em>columns</em> (not including row labels) to be repeated on every page.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_verbose">verbose</code></td>
<td>
<p>(<code>flag</code>)<br /> whether additional informative messages about the search for
pagination breaks should be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_page_break">page_break</code></td>
<td>
<p>(<code>string</code>)<br /> page break symbol (defaults to <code>"\\n\\s"</code>).</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_page_num">page_num</code></td>
<td>
<p>(<code>string</code>)<br /> placeholder string for page numbers. See <a href="#topic+default_page_number">default_page_number</a> for more
information. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="export_as_txt_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> The number of spaces to be placed between columns
in the rendered table (and assumed for horizontal pagination).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> has a <code>num_rep_cols</code> method, the value returned by it will be used for <code>rep_cols</code> by
default. Otherwise, 0 will be used.
</p>
<p>If <code>x</code> has an applicable <code>do_forced_paginate</code> method, it will be invoked during the
pagination process.
</p>


<h3>Value</h3>

<p>If <code>file</code> is <code>NULL</code>, the full paginated and concatenated string value is returned,
otherwise the output is written to <code>file</code> and no value (invisible <code>NULL</code>) is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>export_as_txt(basic_matrix_form(mtcars), pg_height = 5, pg_width = 4)

</code></pre>

<hr>
<h2 id='fmt_config'>Format configuration</h2><span id='topic+fmt_config'></span>

<h3>Description</h3>

<p>Format configuration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_config(format = NULL, na_str = "NA", align = "center")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fmt_config_+3A_format">format</code></td>
<td>
<p>(<code>string</code> or <code>function</code>)<br /> a format label (string) or formatter function.</p>
</td></tr>
<tr><td><code id="fmt_config_+3A_na_str">na_str</code></td>
<td>
<p>(<code>string</code>)<br /> string that should be displayed in place of missing values.</p>
</td></tr>
<tr><td><code id="fmt_config_+3A_align">align</code></td>
<td>
<p>(<code>string</code>)<br /> alignment values should be rendered with.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fmt_config</code> which contains the following elements:
</p>

<ul>
<li> <p><code>format</code>
</p>
</li>
<li> <p><code>na_str</code>
</p>
</li>
<li> <p><code>align</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>fmt_config(format = "xx.xx", na_str = "-", align = "left")
fmt_config(format = "xx.xx - xx.xx", align = "right")

</code></pre>

<hr>
<h2 id='font_lcpi'>Calculate lines per inch and characters per inch for font</h2><span id='topic+font_lcpi'></span>

<h3>Description</h3>

<p>Calculate lines per inch and characters per inch for font
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_lcpi(
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  fontspec = font_spec(font_family, font_size, lineheight)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="font_lcpi_+3A_font_family">font_family</code></td>
<td>
<p>(<code>string</code>)<br /> name of a font family. An error will be thrown
if the family named is not monospaced. Defaults to <code>"Courier"</code>.</p>
</td></tr>
<tr><td><code id="font_lcpi_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size. Defaults to <code>12</code>.</p>
</td></tr>
<tr><td><code id="font_lcpi_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="font_lcpi_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function opens a PDF graphics device, writes to a temporary file, then
utilizes <code><a href="grid.html#topic+grid.convert">grid::convertWidth()</a></code> and <code><a href="grid.html#topic+grid.convert">grid::convertHeight()</a></code> to calculate lines
per inch and characters per inch for the specified font family, size, and
line height.
</p>
<p>An error is thrown if the font is not monospaced (determined by comparing
the effective widths of the <code>M</code> and <code>.</code> glyphs).
</p>


<h3>Value</h3>

<p>A named list with <code>cpi</code> and <code>lpi</code>, the characters and lines per
inch, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_lcpi &lt;- getFromNamespace("font_lcpi", "formatters")

font_lcpi()
font_lcpi(font_size = 8)
font_lcpi(font_size = 8, lineheight = 1.1)

</code></pre>

<hr>
<h2 id='font_spec'>Font size specification</h2><span id='topic+font_spec'></span>

<h3>Description</h3>

<p>Font size specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_spec(font_family = "Courier", font_size = 8, lineheight = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="font_spec_+3A_font_family">font_family</code></td>
<td>
<p>(<code>character(1)</code>)<br /> font family to use during
string width and lines-per-page calculations. You can specify
&quot;Times New Roman&quot; as &quot;Times&quot; or &quot;serif&quot;, regardless of OS.
Beyond that, see <code>family</code> entry in <code><a href="graphics.html#topic+par">graphics::par()</a></code>
for details.</p>
</td></tr>
<tr><td><code id="font_spec_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size to use during string width
calculations and lines-per-page calculations.</p>
</td></tr>
<tr><td><code id="font_spec_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height to use during
lines-per-page calculations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Passing the output of this constructor
to the rendering or pagination machinery defines
a font for use when calculating word wrapping and pagination.
</p>


<h3>Note</h3>

<p>Specifying font in this way to, e.g., <code><a href="#topic+export_as_txt">export_as_txt()</a></code> or
<code><a href="#topic+toString">toString()</a></code> will not affect the font size of the output, as these
are both raw text formats. <code><a href="#topic+export_as_pdf">export_as_pdf()</a></code> will use the specified font.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nchar_ttype">nchar_ttype()</a></code>, <code><a href="#topic+toString">toString()</a></code>, <code><a href="#topic+pagination_algo">pagination_algo</a></code>, <code><a href="#topic+export_as_pdf">export_as_pdf()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fspec &lt;- font_spec("Courier", 8, 1)

lets &lt;- paste(letters, collapse = "")

nchar_ttype(lets, fspec)

fspec2 &lt;- font_spec("Times", 8, 1)

nchar_ttype(lets, fspec2)

</code></pre>

<hr>
<h2 id='format_value'>Converts a (possibly compound) value into a string using the <code>format</code> information</h2><span id='topic+format_value'></span>

<h3>Description</h3>

<p>Converts a (possibly compound) value into a string using the <code>format</code> information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_value(x, format = NULL, output = c("ascii", "html"), na_str = "NA")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_value_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> the value to be formatted.</p>
</td></tr>
<tr><td><code id="format_value_+3A_format">format</code></td>
<td>
<p>(<code>string</code> or <code>function</code>)<br /> the format label (string) or formatter function to
apply to <code>x</code>.</p>
</td></tr>
<tr><td><code id="format_value_+3A_output">output</code></td>
<td>
<p>(<code>string</code>)<br /> output type.</p>
</td></tr>
<tr><td><code id="format_value_+3A_na_str">na_str</code></td>
<td>
<p>(<code>character</code>)<br /> character vector to display when the values of <code>x</code> are missing.
If only one string is provided, it is applied for all missing values. Defaults to <code>"NA"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A length-zero value for <code>na_str</code> will be interpreted as <code>"NA"</code>.
</p>


<h3>Value</h3>

<p>Formatted text representing the cell <code>x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+round_fmt">round_fmt()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- format_value(pi, format = "xx.xx")
x

format_value(x, output = "ascii")

# na_str works with multiple values
format_value(c(NA, 1, NA), format = "xx.x (xx.x - xx.x)", na_str = c("NE", "&lt;missing&gt;"))

</code></pre>

<hr>
<h2 id='ifnotlen0'><code style="white-space: pre;">&#8288;%||%&#8288;</code> (if length-0) alternative operator</h2><span id='topic+ifnotlen0'></span><span id='topic++25+7C+7C+25'></span>

<h3>Description</h3>

<p><code style="white-space: pre;">&#8288;%||%&#8288;</code> (if length-0) alternative operator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>a %||% b
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ifnotlen0_+3A_a">a</code></td>
<td>
<p>(<code>ANY</code>)<br /> element to select <em>only</em> if it is not of length 0.</p>
</td></tr>
<tr><td><code id="ifnotlen0_+3A_b">b</code></td>
<td>
<p>(<code>ANY</code>)<br /> element to select if <code>a</code> has length 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>a</code> if it is not of length 0, otherwise <code>b</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>6 %||% 10

character() %||% "hi"

NULL %||% "hi"

</code></pre>

<hr>
<h2 id='is.wholenumber'>Check if a value is a whole number</h2><span id='topic+is.wholenumber'></span>

<h3>Description</h3>

<p>Check if a value is a whole number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.wholenumber(x, tol = .Machine$double.eps^0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.wholenumber_+3A_x">x</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> a numeric value.</p>
</td></tr>
<tr><td><code id="is.wholenumber_+3A_tol">tol</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> a precision tolerance.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if <code>x</code> is within <code>tol</code> of zero, <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is.wholenumber(5)
is.wholenumber(5.00000000000000001)
is.wholenumber(.5)

</code></pre>

<hr>
<h2 id='lab_name'>Label, name, and format accessor generics</h2><span id='topic+lab_name'></span><span id='topic+obj_name'></span><span id='topic+obj_name+3C-'></span><span id='topic+obj_label'></span><span id='topic+obj_label+3C-'></span><span id='topic+obj_label+2CANY-method'></span><span id='topic+obj_label+3C-+2CANY-method'></span><span id='topic+obj_format'></span><span id='topic+obj_format+2CANY-method'></span><span id='topic+obj_format+2Cfmt_config-method'></span><span id='topic+obj_format+3C-'></span><span id='topic+obj_format+3C-+2CANY-method'></span><span id='topic+obj_format+3C-+2Cfmt_config-method'></span><span id='topic+obj_na_str'></span><span id='topic+obj_na_str+2CANY-method'></span><span id='topic+obj_na_str+2Cfmt_config-method'></span><span id='topic+obj_na_str+3C-'></span><span id='topic+obj_na_str+3C-+2CANY-method'></span><span id='topic+obj_na_str+3C-+2Cfmt_config-method'></span><span id='topic+obj_align'></span><span id='topic+obj_align+2CANY-method'></span><span id='topic+obj_align+2Cfmt_config-method'></span><span id='topic+obj_align+3C-'></span><span id='topic+obj_align+3C-+2CANY-method'></span><span id='topic+obj_align+3C-+2Cfmt_config-method'></span>

<h3>Description</h3>

<p>Getters and setters for basic, relatively universal attributes of &quot;table-like&quot; objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>obj_name(obj)

obj_name(obj) &lt;- value

obj_label(obj)

obj_label(obj) &lt;- value

## S4 method for signature 'ANY'
obj_label(obj)

## S4 replacement method for signature 'ANY'
obj_label(obj) &lt;- value

obj_format(obj)

## S4 method for signature 'ANY'
obj_format(obj)

## S4 method for signature 'fmt_config'
obj_format(obj)

obj_format(obj) &lt;- value

## S4 replacement method for signature 'ANY'
obj_format(obj) &lt;- value

## S4 replacement method for signature 'fmt_config'
obj_format(obj) &lt;- value

obj_na_str(obj)

## S4 method for signature 'ANY'
obj_na_str(obj)

## S4 method for signature 'fmt_config'
obj_na_str(obj)

obj_na_str(obj) &lt;- value

## S4 replacement method for signature 'ANY'
obj_na_str(obj) &lt;- value

## S4 replacement method for signature 'fmt_config'
obj_na_str(obj) &lt;- value

obj_align(obj)

## S4 method for signature 'ANY'
obj_align(obj)

## S4 method for signature 'fmt_config'
obj_align(obj)

obj_align(obj) &lt;- value

## S4 replacement method for signature 'ANY'
obj_align(obj) &lt;- value

## S4 replacement method for signature 'fmt_config'
obj_align(obj) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lab_name_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> the object.</p>
</td></tr>
<tr><td><code id="lab_name_+3A_value">value</code></td>
<td>
<p>character(1). The new label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The name, format, or label of <code>obj</code> for getters, or <code>obj</code> after modification for setters.
</p>


<h3>See Also</h3>

<p>with_label
</p>

<hr>
<h2 id='list_formats'>List of currently supported formats and vertical alignments</h2><span id='topic+list_formats'></span><span id='topic+list_valid_format_labels'></span><span id='topic+list_valid_aligns'></span>

<h3>Description</h3>

<p>We support <code>xx</code> style format labels grouped by 1d, 2d, and 3d.
Currently valid format labels cannot be added dynamically. Format functions
must be used for special cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_valid_format_labels()

list_valid_aligns()
</code></pre>


<h3>Value</h3>


<ul>
<li> <p><code>list_valid_format_labels()</code> returns a nested list, with elements listing the supported 1d, 2d,
and 3d format strings.
</p>
</li></ul>


<ul>
<li> <p><code>list_valid_aligns()</code> returns a character vector of valid vertical alignments.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>list_valid_format_labels()

list_valid_aligns()

</code></pre>

<hr>
<h2 id='main_title'>General title and footer accessors</h2><span id='topic+main_title'></span><span id='topic+main_title+2CMatrixPrintForm-method'></span><span id='topic+main_title+3C-'></span><span id='topic+main_title+3C-+2CMatrixPrintForm-method'></span><span id='topic+subtitles'></span><span id='topic+subtitles+2CMatrixPrintForm-method'></span><span id='topic+subtitles+3C-'></span><span id='topic+subtitles+3C-+2CMatrixPrintForm-method'></span><span id='topic+page_titles'></span><span id='topic+page_titles+2CMatrixPrintForm-method'></span><span id='topic+page_titles+2CANY-method'></span><span id='topic+page_titles+3C-'></span><span id='topic+page_titles+3C-+2CMatrixPrintForm-method'></span><span id='topic+main_footer'></span><span id='topic+main_footer+2CMatrixPrintForm-method'></span><span id='topic+main_footer+3C-'></span><span id='topic+main_footer+3C-+2CMatrixPrintForm-method'></span><span id='topic+prov_footer'></span><span id='topic+prov_footer+2CMatrixPrintForm-method'></span><span id='topic+prov_footer+3C-'></span><span id='topic+prov_footer+3C-+2CMatrixPrintForm-method'></span><span id='topic+all_footers'></span><span id='topic+all_titles'></span>

<h3>Description</h3>

<p>General title and footer accessors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>main_title(obj)

## S4 method for signature 'MatrixPrintForm'
main_title(obj)

main_title(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
main_title(obj) &lt;- value

subtitles(obj)

## S4 method for signature 'MatrixPrintForm'
subtitles(obj)

subtitles(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
subtitles(obj) &lt;- value

page_titles(obj)

## S4 method for signature 'MatrixPrintForm'
page_titles(obj)

## S4 method for signature 'ANY'
page_titles(obj)

page_titles(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
page_titles(obj) &lt;- value

main_footer(obj)

## S4 method for signature 'MatrixPrintForm'
main_footer(obj)

main_footer(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
main_footer(obj) &lt;- value

prov_footer(obj)

## S4 method for signature 'MatrixPrintForm'
prov_footer(obj)

prov_footer(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
prov_footer(obj) &lt;- value

all_footers(obj)

all_titles(obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="main_title_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> object to extract information from.</p>
</td></tr>
<tr><td><code id="main_title_+3A_value">value</code></td>
<td>
<p>character. New value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character scalar (<code>main_title</code>), character vector (<code>main_footer</code>), or
vector of length zero or more (<code>subtitles</code>, <code>page_titles</code>, <code>prov_footer</code>) containing
the relevant title/footer contents.
</p>

<hr>
<h2 id='make_row_df'>Make row layout summary data frames for use during pagination</h2><span id='topic+make_row_df'></span><span id='topic+make_row_df+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>All relevant information about table rows (e.g. indentations) is summarized in a <code>data.frame</code>.
This function works <strong>only</strong> on <code>rtables</code> and <code>rlistings</code> objects, and not on their <code>print</code> counterparts
(like <code><a href="#topic+MatrixPrintForm">MatrixPrintForm</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_row_df(
  tt,
  colwidths = NULL,
  visible_only = TRUE,
  rownum = 0,
  indent = 0L,
  path = character(),
  incontent = FALSE,
  repr_ext = 0L,
  repr_inds = integer(),
  sibpos = NA_integer_,
  nsibs = NA_integer_,
  max_width = NULL,
  fontspec = font_spec(),
  col_gap = 3L
)

## S4 method for signature 'MatrixPrintForm'
make_row_df(
  tt,
  colwidths = NULL,
  visible_only = TRUE,
  rownum = 0,
  indent = 0L,
  path = character(),
  incontent = FALSE,
  repr_ext = 0L,
  repr_inds = integer(),
  sibpos = NA_integer_,
  nsibs = NA_integer_,
  max_width = NULL,
  fontspec = font_spec(),
  col_gap = mf_colgap(tt) %||% 3L
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_row_df_+3A_tt">tt</code></td>
<td>
<p>(<code>ANY</code>)<br /> object representing the table-like object to be summarized.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_visible_only">visible_only</code></td>
<td>
<p>(<code>flag</code>)<br /> should only visible aspects of the table structure be reflected
in this summary. Defaults to <code>TRUE</code>. May not be supported by all methods.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_rownum">rownum</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_indent">indent</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_path">path</code></td>
<td>
<p>(<code>character</code>)<br /> path to the (sub)table represented by <code>tt</code>. Defaults to <code>character()</code>.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_incontent">incontent</code></td>
<td>
<p>(<code>flag</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_repr_ext">repr_ext</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_repr_inds">repr_inds</code></td>
<td>
<p>(<code>integer</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_sibpos">sibpos</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_nsibs">nsibs</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> internal detail, do not set manually.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_max_width">max_width</code></td>
<td>
<p>(<code>numeric(1)</code> or <code>NULL</code>)<br /> maximum width for title/footer materials.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="make_row_df_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> the gap to be assumed between columns, in number of spaces with
font specified by <code>fontspec</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>visible_only</code> is <code>TRUE</code> (the default), methods should return a <code>data.frame</code> with exactly one
row per visible row in the table-like object. This is useful when reasoning about how a table will
print, but does not reflect the full pathing space of the structure (though the paths which are given
will all work as is).
</p>
<p>If supported, when <code>visible_only</code> is <code>FALSE</code>, every structural element of the table (in row-space)
will be reflected in the returned <code>data.frame</code>, meaning the full pathing-space will be represented
but some rows in the layout summary will not represent printed rows in the table as it is displayed.
</p>
<p>Most arguments beyond <code>tt</code> and <code>visible_only</code> are present so that <code>make_row_df</code> methods can call
<code>make_row_df</code> recursively and retain information, and should not be set during a top-level call.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> of row/column-structure information used by the pagination machinery.
</p>


<h3>Note</h3>

<p>The technically present root tree node is excluded from the summary returned by
both <code>make_row_df</code> and <code>make_col_df</code> (see relevant functions in<code>rtables</code>), as it is the
row/column structure of <code>tt</code> and thus not useful for pathing or pagination.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Expected error with matrix_form. For real case examples consult {rtables} documentation
mf &lt;- basic_matrix_form(iris)
# make_row_df(mf) # Use table obj instead

</code></pre>

<hr>
<h2 id='matrix_form'>Transform <code>rtable</code> to a list of matrices which can be used for outputting</h2><span id='topic+matrix_form'></span><span id='topic+matrix_form+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>Although <code>rtable</code>s are represented as a tree data structure when outputting the table to ASCII or HTML,
it is useful to map the <code>rtable</code> to an in-between state with the formatted cells in a matrix form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrix_form(
  obj,
  indent_rownames = FALSE,
  expand_newlines = TRUE,
  indent_size = 2,
  fontspec = NULL,
  col_gap = NULL
)

## S4 method for signature 'MatrixPrintForm'
matrix_form(
  obj,
  indent_rownames = FALSE,
  expand_newlines = TRUE,
  indent_size = 2,
  fontspec = NULL,
  col_gap = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="matrix_form_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> object to be transformed into a ready-to-render form (a <code><a href="#topic+MatrixPrintForm">MatrixPrintForm</a></code> object).</p>
</td></tr>
<tr><td><code id="matrix_form_+3A_indent_rownames">indent_rownames</code></td>
<td>
<p>(<code>flag</code>)<br /> if <code>TRUE</code>, the row names column in the <code>strings</code> matrix of <code>obj</code>
will have indented row names (strings pre-fixed).</p>
</td></tr>
<tr><td><code id="matrix_form_+3A_expand_newlines">expand_newlines</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the generated matrix form should expand rows whose values
contain newlines into multiple 'physical' rows (as they will appear when rendered into ASCII). Defaults
to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="matrix_form_+3A_indent_size">indent_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of spaces to be used per level of indent (if supported by
the relevant method). Defaults to 2.</p>
</td></tr>
<tr><td><code id="matrix_form_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="matrix_form_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> the gap to be assumed between columns, in number of spaces with
font specified by <code>fontspec</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+MatrixPrintForm">MatrixPrintForm</a></code> classed list with an additional <code>nrow_header</code> attribute indicating the
number of pseudo &quot;rows&quot; the column structure defines, with the following elements:
</p>

<dl>
<dt><code>strings</code></dt><dd><p>The content, as it should be printed, of the top-left material, column headers, row
labels, and cell values of <code>tt</code>.</p>
</dd>
<dt><code>spans</code></dt><dd><p>The column-span information for each print-string in the strings matrix.</p>
</dd>
<dt><code>aligns</code></dt><dd><p>The text alignment for each print-string in the strings matrix.</p>
</dd>
<dt><code>display</code></dt><dd><p>Whether each print-string in the strings matrix should be printed or not.</p>
</dd>
<dt><code>row_info</code></dt><dd><p>The <code>data.frame</code> generated by <code><a href="#topic+basic_pagdf">basic_pagdf()</a></code>.</p>
</dd>
</dl>


<hr>
<h2 id='MatrixPrintForm'>Constructor for Matrix Print Form</h2><span id='topic+MatrixPrintForm'></span>

<h3>Description</h3>

<p>Constructor for <code>MatrixPrintForm</code>, an intermediate representation for ASCII table printing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MatrixPrintForm(
  strings = NULL,
  spans,
  aligns,
  formats,
  row_info,
  colpaths = NULL,
  line_grouping = seq_len(NROW(strings)),
  ref_fnotes = list(),
  nlines_header,
  nrow_header,
  has_topleft = TRUE,
  has_rowlabs = has_topleft,
  expand_newlines = TRUE,
  main_title = "",
  subtitles = character(),
  page_titles = character(),
  listing_keycols = NULL,
  main_footer = "",
  prov_footer = character(),
  header_section_div = NA_character_,
  horizontal_sep = default_hsep(),
  col_gap = 3,
  table_inset = 0L,
  colwidths = NULL,
  indent_size = 2,
  fontspec = font_spec(),
  rep_cols = 0L
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MatrixPrintForm_+3A_strings">strings</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;character matrix&#8288;</code>)<br /> matrix of formatted, ready-to-display strings
organized as they will be positioned when rendered. Elements that span more than one
column must be followed by the correct number of placeholders (typically either empty
strings or repeats of the value).</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_spans">spans</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;numeric matrix&#8288;</code>)<br /> matrix of same dimension as <code>strings</code> giving the
spanning information for each element. Must be repeated to match placeholders in <code>strings</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_aligns">aligns</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;character matrix&#8288;</code>)<br /> matrix of same dimension as <code>strings</code> giving the text
alignment information for each element. Must be repeated to match placeholders in <code>strings</code>.
Must be a supported text alignment. See <a href="#topic+decimal_align">decimal_align</a> for allowed values.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_formats">formats</code></td>
<td>
<p>(<code>matrix</code>)<br /> matrix of same dimension as <code>strings</code> giving the text format
information for each element. Must be repeated to match placeholders in <code>strings</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_row_info">row_info</code></td>
<td>
<p>(<code>data.frame</code>)<br /> data frame with row-information necessary for pagination (see
<code><a href="#topic+basic_pagdf">basic_pagdf()</a></code> for more details).</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_colpaths">colpaths</code></td>
<td>
<p>(<code>list</code> or <code>NULL</code>)<br /> <code>NULL</code>, or a list of paths to each leaf column,
for use during horizontal pagination.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_line_grouping">line_grouping</code></td>
<td>
<p>(<code>integer</code>)<br /> sequence of integers indicating how print lines correspond
to semantic rows in the object. Typically this should not be set manually unless
<code>expand_newlines</code> is set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_ref_fnotes">ref_fnotes</code></td>
<td>
<p>(<code>list</code>)<br /> referential footnote information, if applicable.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_nlines_header">nlines_header</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of lines taken up by the values of the header
(i.e. not including the divider).</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_nrow_header">nrow_header</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of <em>rows</em> corresponding to the header.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_has_topleft">has_topleft</code></td>
<td>
<p>(<code>flag</code>)<br /> does the corresponding table have &quot;top left information&quot;
which should be treated differently when expanding newlines. Ignored if <code>expand_newlines</code>
is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_has_rowlabs">has_rowlabs</code></td>
<td>
<p>(<code>flag</code>)<br /> do the matrices (<code>strings</code>, <code>spans</code>, <code>aligns</code>) each contain a
column that corresponds with row labels (rather than with table cell values). Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_expand_newlines">expand_newlines</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the matrix form generated should expand rows whose
values contain newlines into multiple 'physical' rows (as they will appear when rendered into
ASCII). Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_main_title">main_title</code></td>
<td>
<p>(<code>string</code>)<br /> main title as a string.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_subtitles">subtitles</code></td>
<td>
<p>(<code>character</code>)<br /> subtitles, as a character vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_page_titles">page_titles</code></td>
<td>
<p>(<code>character</code>)<br /> page-specific titles, as a character vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_listing_keycols">listing_keycols</code></td>
<td>
<p>(<code>character</code>)<br />. if matrix form of a listing, this contains
the key columns as a character vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_main_footer">main_footer</code></td>
<td>
<p>(<code>character</code>)<br /> main footer, as a character vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_prov_footer">prov_footer</code></td>
<td>
<p>(<code>character</code>)<br /> provenance footer information, as a character vector.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_header_section_div">header_section_div</code></td>
<td>
<p>(<code>string</code>)<br /> divider to be used between header and body sections.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_horizontal_sep">horizontal_sep</code></td>
<td>
<p>(<code>string</code>)<br /> horizontal separator to be used for printing divisors
between header and table body and between different footers.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> space (in characters) between columns.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_table_inset">table_inset</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> table inset. See <code><a href="#topic+table_inset">table_inset()</a></code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code> or <code>NULL</code>)<br /> column rendering widths. If non-<code>NULL</code>, must have length
equal to <code>ncol(strings)</code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_indent_size">indent_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of spaces to be used per level of indent (if supported by
the relevant method). Defaults to 2.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="MatrixPrintForm_+3A_rep_cols">rep_cols</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of columns to be repeated as context during horizontal pagination.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>MatrixPrintForm</code>. Currently this is implemented as an S3 class inheriting
from list with the following elements:
</p>

<dl>
<dt><code>strings</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>spans</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>aligns</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>display</code></dt><dd><p>logical matrix of same dimension as <code>strings</code> that specifies whether an element
in <code>strings</code> will be displayed when the table is rendered.</p>
</dd>
<dt><code>formats</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>row_info</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>line_grouping</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>ref_footnotes</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>main_title</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>subtitles</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>page_titles</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>main_footer</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>prov_footer</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>header_section_div</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>horizontal_sep</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>col_gap</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>table_inset</code></dt><dd><p>see argument.</p>
</dd>
</dl>

<p>as well as the following attributes:
</p>

<dl>
<dt><code>nlines_header</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>nrow_header</code></dt><dd><p>see argument.</p>
</dd>
<dt><code>ncols</code></dt><dd><p>number of columns <em>of the table</em>, not including any row names/row labels</p>
</dd>
</dl>



<h3>Note</h3>

<p>The bare constructor for the <code>MatrixPrintForm</code> should generally
only be called by <code>matrix_form</code> custom methods, and almost never from other code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>basic_matrix_form(iris) # calls matrix_form which calls this constructor

</code></pre>

<hr>
<h2 id='MatrixPrintForm-class'>Class for Matrix Print Form</h2><span id='topic+MatrixPrintForm-class'></span>

<h3>Description</h3>

<p>The <code>MatrixPrintForm</code> class, an intermediate representation for ASCII table printing.
</p>

<hr>
<h2 id='mf_strings'>Getters and setters for aspects of <code>MatrixPrintForm</code> objects</h2><span id='topic+mf_strings'></span><span id='topic+mf_spans'></span><span id='topic+mf_aligns'></span><span id='topic+mf_display'></span><span id='topic+mf_formats'></span><span id='topic+mf_rinfo'></span><span id='topic+mf_cinfo'></span><span id='topic+mf_has_topleft'></span><span id='topic+mf_lgrouping'></span><span id='topic+mf_rfnotes'></span><span id='topic+mf_nlheader'></span><span id='topic+mf_nrheader'></span><span id='topic+mf_colgap'></span><span id='topic+mf_fontspec'></span><span id='topic+mf_fontspec+3C-'></span><span id='topic+mf_strings+3C-'></span><span id='topic+mf_spans+3C-'></span><span id='topic+mf_aligns+3C-'></span><span id='topic+mf_display+3C-'></span><span id='topic+mf_formats+3C-'></span><span id='topic+mf_rinfo+3C-'></span><span id='topic+mf_cinfo+3C-'></span><span id='topic+mf_lgrouping+3C-'></span><span id='topic+mf_rfnotes+3C-'></span><span id='topic+mf_nrheader+3C-'></span><span id='topic+mf_colgap+3C-'></span><span id='topic+mf_ncol'></span><span id='topic+mf_nrow'></span><span id='topic+mf_ncol+3C-'></span><span id='topic+ncol+2CMatrixPrintForm-method'></span><span id='topic+mpf_has_rlabels'></span><span id='topic+mf_has_rlabels'></span>

<h3>Description</h3>

<p>Most of these functions, particularly the setters, are intended almost exclusively for
internal use in, e.g., <code><a href="#topic+matrix_form">matrix_form</a></code> methods, and should generally not be called by end users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mf_strings(mf)

mf_spans(mf)

mf_aligns(mf)

mf_display(mf)

mf_formats(mf)

mf_rinfo(mf)

mf_cinfo(mf)

mf_has_topleft(mf)

mf_lgrouping(mf)

mf_rfnotes(mf)

mf_nlheader(mf)

mf_nrheader(mf)

mf_colgap(mf)

mf_fontspec(mf)

mf_fontspec(mf) &lt;- value

mf_strings(mf) &lt;- value

mf_spans(mf) &lt;- value

mf_aligns(mf) &lt;- value

mf_display(mf) &lt;- value

mf_formats(mf) &lt;- value

mf_rinfo(mf) &lt;- value

mf_cinfo(mf) &lt;- value

mf_lgrouping(mf) &lt;- value

mf_rfnotes(mf) &lt;- value

mf_nrheader(mf) &lt;- value

mf_colgap(mf) &lt;- value

mf_ncol(mf)

mf_nrow(mf)

mf_ncol(mf) &lt;- value

## S4 method for signature 'MatrixPrintForm'
ncol(x)

mpf_has_rlabels(mf)

mf_has_rlabels(mf)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mf_strings_+3A_mf">mf</code></td>
<td>
<p>(<code>MatrixPrintForm</code>)<br /> a <code>MatrixPrintForm</code> object.</p>
</td></tr>
<tr><td><code id="mf_strings_+3A_value">value</code></td>
<td>
<p>(<code>ANY</code>)<br /> the new value for the component in question.</p>
</td></tr>
<tr><td><code id="mf_strings_+3A_x">x</code></td>
<td>
<p><code>MatrixPrintForm</code>. The object.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> Getters return the associated element of <code>mf</code>.
</p>
</li>
<li><p> Setters return the modified <code>mf</code> object.
</p>
</li></ul>


<hr>
<h2 id='mpf_to_rtf'>Transform <code>MatrixPrintForm</code> to RTF</h2><span id='topic+mpf_to_rtf'></span>

<h3>Description</h3>

<p>Experimental export to rich text format (RTF) via the <code>r2rtf</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mpf_to_rtf(
  mpf,
  colwidths = NULL,
  page_type = "letter",
  pg_width = page_dim(page_type)[if (landscape) 2 else 1],
  pg_height = page_dim(page_type)[if (landscape) 1 else 2],
  landscape = FALSE,
  margins = c(4, 4, 4, 4),
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  fontspec = font_spec(font_family, font_size, lineheight),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mpf_to_rtf_+3A_mpf">mpf</code></td>
<td>
<p>(<code>MatrixPrintForm</code>)<br /> a <code>MatrixPrintForm</code> object.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> column widths.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_page_type">page_type</code></td>
<td>
<p>(<code>string</code>)<br /> name of a page type. See <code><a href="#topic+page_types">page_types</a></code>. Ignored
when <code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_pg_width">pg_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page width in inches.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_pg_height">pg_height</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page height in inches.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_landscape">landscape</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the dimensions of <code>page_type</code> should be
inverted for landscape orientation. Defaults to <code>FALSE</code>, ignored when <code>pg_width</code> and
<code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_margins">margins</code></td>
<td>
<p>(<code>numeric(4)</code>)<br /> named numeric vector containing <code>"bottom"</code>, <code>"left"</code>,
<code>"top"</code>, and <code>"right"</code> margins in inches. Defaults to <code>.5</code> inches for both vertical
margins and <code>.75</code> for both horizontal margins.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_font_family">font_family</code></td>
<td>
<p>(<code>string</code>)<br /> name of a font family. An error will be thrown
if the family named is not monospaced. Defaults to <code>"Courier"</code>.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size. Defaults to <code>12</code>.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="mpf_to_rtf_+3A_...">...</code></td>
<td>
<p>additional parameters passed to individual methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a low-level coercion of a <code>MatrixPrintForm</code> object into
text containing the corresponding table in RTF. Currently, no pagination is done
at this level, and should be done prior to calling this function, though that
may change in the future.
</p>


<h3>Value</h3>

<p>An RTF object.
</p>

<hr>
<h2 id='nchar_ttype'>Calculate font-specific string width</h2><span id='topic+nchar_ttype'></span>

<h3>Description</h3>

<p>This function returns the width of each element <code>x</code>
<em>as a multiple of the width of the space character
for in declared font</em>, rounded up to the nearest
integer. This is used extensively in the text rendering
(<code><a href="#topic+toString">toString()</a></code>) and pagination machinery for
calculating word wrapping, default column widths,
lines per page, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nchar_ttype(
  x,
  fontspec = font_spec(),
  tol = sqrt(.Machine$double.eps),
  raw = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nchar_ttype_+3A_x">x</code></td>
<td>
<p>(<code>character</code>)<br /> the string(s) to calculate width(s) for.</p>
</td></tr>
<tr><td><code id="nchar_ttype_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code> or <code>NULL</code>)<br /> if non-NULL, the font to use for
the calculations (as returned by <code><a href="#topic+font_spec">font_spec()</a></code>). Defaults to &quot;Courier&quot;,
which is a monospace font. If NULL, the width will be returned
in number of characters by calling <code>nchar</code> directly.</p>
</td></tr>
<tr><td><code id="nchar_ttype_+3A_tol">tol</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> the tolerance to use when determining
if a multiple needs to be rounded up to the next integer. See
Details.</p>
</td></tr>
<tr><td><code id="nchar_ttype_+3A_raw">raw</code></td>
<td>
<p>(<code>logical(1)</code>)<br /> whether unrounded widths should be returned. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>String width is defined in terms of spaces within
the specified font. For monospace fonts, this definition
collapses to the number of characters in the string
(<code><a href="base.html#topic+nchar">nchar()</a></code>), but for truetype fonts it does not.
</p>
<p>For <code>raw = FALSE</code>, non-integer values (the norm in a truetype
setting) for the number of spaces a string takes up is rounded
up, <em>unless the multiple is less than <code>tol</code> above the last integer
before it</em>. E.g., if <code>k - num_spaces &lt; tol</code> for an integer
<code>k</code>, <code>k</code> is returned instead of <code>k+1</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+font_spec">font_spec()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nchar_ttype("hi there!")

nchar_ttype("hi there!", font_spec("Times"))

</code></pre>

<hr>
<h2 id='nlines'>Number of lines required to print a value</h2><span id='topic+nlines'></span><span id='topic+nlines+2Clist-method'></span><span id='topic+nlines+2CNULL-method'></span><span id='topic+nlines+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Number of lines required to print a value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nlines(x, colwidths = NULL, max_width = NULL, fontspec, col_gap = NULL)

## S4 method for signature 'list'
nlines(x, colwidths = NULL, max_width = NULL, fontspec, col_gap = NULL)

## S4 method for signature 'NULL'
nlines(x, colwidths = NULL, max_width = NULL, fontspec, col_gap = NULL)

## S4 method for signature 'character'
nlines(x, colwidths = NULL, max_width = NULL, fontspec, col_gap = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nlines_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> the object to be printed.</p>
</td></tr>
<tr><td><code id="nlines_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> column widths (if necessary). Principally used in <code>rtables</code>'
method.</p>
</td></tr>
<tr><td><code id="nlines_+3A_max_width">max_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> width that strings should be wrapped to when
determining how many lines they require.</p>
</td></tr>
<tr><td><code id="nlines_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="nlines_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> width of gap between columns in number of spaces.
Only used by methods which must calculate span widths after wrapping.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of lines needed to render the object <code>x</code>.
</p>

<hr>
<h2 id='num_rep_cols'>Number of repeated columns</h2><span id='topic+num_rep_cols'></span><span id='topic+num_rep_cols+2CANY-method'></span><span id='topic+num_rep_cols+2CMatrixPrintForm-method'></span><span id='topic+num_rep_cols+3C-'></span><span id='topic+num_rep_cols+3C-+2CANY-method'></span><span id='topic+num_rep_cols+3C-+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>When called on a table-like object using the formatters framework, this method returns the
number of columns which are mandatorily repeated after each horizontal pagination.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>num_rep_cols(obj)

## S4 method for signature 'ANY'
num_rep_cols(obj)

## S4 method for signature 'MatrixPrintForm'
num_rep_cols(obj)

num_rep_cols(obj) &lt;- value

## S4 replacement method for signature 'ANY'
num_rep_cols(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
num_rep_cols(obj) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="num_rep_cols_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> a table-like object.</p>
</td></tr>
<tr><td><code id="num_rep_cols_+3A_value">value</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> the new number of columns to repeat.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Absent a class-specific method, this function returns 0, indicating no always-repeated columns.
</p>


<h3>Value</h3>

<p>An integer.
</p>


<h3>Note</h3>

<p>This number <em>does not</em> include row labels, the repetition of which is handled separately.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mpf &lt;- basic_matrix_form(mtcars)
num_rep_cols(mpf)
lmpf &lt;- basic_listing_mf(mtcars)
num_rep_cols(lmpf)

</code></pre>

<hr>
<h2 id='open_font_dev'>Activate font state</h2><span id='topic+open_font_dev'></span><span id='topic+close_font_dev'></span><span id='topic+debug_font_dev'></span><span id='topic+undebug_font_dev'></span>

<h3>Description</h3>

<p>Activate font state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>open_font_dev(fontspec, silent = FALSE)

close_font_dev()

debug_font_dev()

undebug_font_dev()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="open_font_dev_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="open_font_dev_+3A_silent">silent</code></td>
<td>
<p>(<code>logical(1)</code>)<br /> If <code>FALSE</code>, the default, a warning will be
emitted if this function switches away from an active graphics device.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The font device state is an environment with
four variables guaranteed to be set:
</p>

<dl>
<dt><code>open</code></dt><dd><p>(<code>logical(1)</code>)<br /> whether a device is already open with font info</p>
</dd>
<dt><code>fontspec</code></dt><dd><p>(<code>font_spec</code>)<br /> the font specification, if any, that is currently active (<code>list()</code> if none is).</p>
</dd>
<dt><code>spacewidth</code></dt><dd><p>(<code>numeric(1)</code>)<br /> the width of the space character in the currently active font.</p>
</dd>
<dt><code>ismonospace</code></dt><dd><p>(<code>logical(1)</code>)<br /> whether the specified font is monospaced.</p>
</dd>
</dl>

<p><code>open_font_dev</code> opens a pdf device with the specified font
only if there is not one currently open with the same font.
If a new device is opened, it caches <code>spacewidth</code> and
<code>ismonospace</code> for use in <code>nchar_ttype</code>).
</p>
<p><code>close_font_dev</code> closes any open font state device
and clears the cached values.
</p>
<p><code>debug_font_dev</code> and <code>undebug_font_dev</code> activate and deactivate, respectively,
logging of where in the call stack font devices are being opened.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>open_font_dev</code> returns a logical value indicating whether a <em>new</em> pdf device was opened.
</p>
</li>
<li> <p><code>close_font_dev</code>, <code>debug_font_dev</code> and <code>undebug_font_dev</code> return <code>NULL</code>.
</p>
</li></ul>

<p>In all cases the value is returned invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>open_font_dev(font_spec("Times"))
nchar_ttype("Hiya there", font_spec("Times"))
close_font_dev()

</code></pre>

<hr>
<h2 id='padstr'>Pad a string and align within string</h2><span id='topic+padstr'></span>

<h3>Description</h3>

<p>Pad a string and align within string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>padstr(x, n, just = list_valid_aligns(), fontspec = font_spec())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="padstr_+3A_x">x</code></td>
<td>
<p>(<code>string</code>)<br /> a string.</p>
</td></tr>
<tr><td><code id="padstr_+3A_n">n</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> number of characters in the output string. If <code>n &lt; nchar(x)</code>, an error is thrown.</p>
</td></tr>
<tr><td><code id="padstr_+3A_just">just</code></td>
<td>
<p>(<code>string</code>)<br /> text alignment justification to use. Defaults to <code>"center"</code>. Must be one of
<code>"center"</code>, <code>"right"</code>, <code>"left"</code>, <code>"dec_right"</code>, <code>"dec_left"</code>, or <code>"decimal"</code>.</p>
</td></tr>
<tr><td><code id="padstr_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, padded to be a string of length <code>n</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>padstr("abc", 3)
padstr("abc", 4)
padstr("abc", 5)
padstr("abc", 5, "left")
padstr("abc", 5, "right")

## Not run: 
# Expect error: "abc" has more than 1 characters
padstr("abc", 1)

## End(Not run)

</code></pre>

<hr>
<h2 id='pag_indices_inner'>Find pagination indices from pagination info data frame</h2><span id='topic+pag_indices_inner'></span>

<h3>Description</h3>

<p>Pagination methods should typically call the <code>make_row_df</code> method
for their object and then call this function on the resulting
pagination info <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pag_indices_inner(
  pagdf,
  rlpp,
  lpp_or_cpp = NA_integer_,
  context_lpp_or_cpp = NA_integer_,
  min_siblings,
  nosplitin = character(),
  verbose = FALSE,
  row = TRUE,
  have_col_fnotes = FALSE,
  div_height = 1L,
  col_gap = 3L,
  has_rowlabels
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pag_indices_inner_+3A_pagdf">pagdf</code></td>
<td>
<p>(<code>data.frame</code>)<br /> a pagination info <code>data.frame</code> as created by
either <code>make_rows_df</code> or <code>make_cols_df</code>.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_rlpp">rlpp</code></td>
<td>
<p>(<code>numeric</code>)<br /> maximum number of <em>row</em> lines per page (not including header materials), including
(re)printed header and context rows.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_lpp_or_cpp">lpp_or_cpp</code></td>
<td>
<p>(<code>numeric</code>)<br /> total maximum number of <em>row</em> lines or content (column-wise characters) per page
(including header materials and context rows). This is only for informative results with <code>verbose = TRUE</code>.
It will print <code>NA</code> if not specified by the pagination machinery.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_context_lpp_or_cpp">context_lpp_or_cpp</code></td>
<td>
<p>(<code>numeric</code>)<br /> total number of context <em>row</em> lines or content (column-wise characters)
per page (including header materials). Uses <code>NA</code> if not specified by the pagination machinery and is only
for informative results with <code>verbose = TRUE</code>.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_min_siblings">min_siblings</code></td>
<td>
<p>(<code>numeric</code>)<br /> minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2 for tables. It is automatically turned off (set to 0) for listings.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_nosplitin">nosplitin</code></td>
<td>
<p>(<code>character</code>)<br /> list of names of subtables where page breaks are not allowed, regardless of other
considerations. Defaults to none.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_verbose">verbose</code></td>
<td>
<p>(<code>flag</code>)<br /> whether additional informative messages about the search for
pagination breaks should be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_row">row</code></td>
<td>
<p>(<code>flag</code>)<br /> whether pagination is happening in row space (<code>TRUE</code>, the default) or column
space (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_have_col_fnotes">have_col_fnotes</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the table-like object being rendered has column-associated
referential footnotes.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_div_height">div_height</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> the height of the divider line when the associated object is rendered.
Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> width of gap between columns, in same units as extent in <code>pagdf</code> (spaces
under a particular font specification).</p>
</td></tr>
<tr><td><code id="pag_indices_inner_+3A_has_rowlabels">has_rowlabels</code></td>
<td>
<p>(<code>logical(1)</code>)<br /> whether the object being paginated has row labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pab_indices_inner</code> implements the core pagination algorithm (see below)
for a single direction (vertical if <code>row = TRUE</code> (the default), horizontal otherwise)
based on the pagination data frame and (already adjusted for non-body rows/columns)
lines (or characters) per page.
</p>


<h3>Value</h3>

<p>A <code>list</code> containing a vector of row numbers, broken up by page.
</p>


<h3>Pagination Algorithm</h3>

<p>Pagination is performed independently in the vertical and horizontal
directions based solely on a <em>pagination data frame</em>, which includes the
following information for each row/column:
</p>

<ul>
<li><p> Number of lines/characters rendering the row will take <strong>after
word-wrapping</strong> (<code>self_extent</code>)
</p>
</li>
<li><p> The indices (<code>reprint_inds</code>) and number of lines (<code>par_extent</code>)
of the rows which act as <strong>context</strong> for the row
</p>
</li>
<li><p> The row's number of siblings and position within its siblings
</p>
</li></ul>

<p>Given <code>lpp</code> (<code>cpp</code>) is already adjusted for rendered elements which
are not rows/columns and a data frame of pagination information,
pagination is performed via the following algorithm with <code>start = 1</code>.
</p>
<p>Core Pagination Algorithm:
</p>

<ol>
<li><p> Initial guess for pagination position is <code>start + lpp</code> (<code>start + cpp</code>)
</p>
</li>
<li><p> While the guess is not a valid pagination position, and <code>guess &gt; start</code>,
decrement guess and repeat.
</p>

<ul>
<li><p> An error is thrown if all possible pagination positions between
<code>start</code> and <code>start + lpp</code> (<code>start + cpp</code>) would be <code style="white-space: pre;">&#8288;&lt; start&#8288;</code>
after decrementing
</p>
</li></ul>

</li>
<li><p> Retain pagination index
</p>
</li>
<li><p> If pagination point was less than <code>NROW(tt)</code> (<code>ncol(tt)</code>), set
<code>start</code> to <code>pos + 1</code>, and repeat steps (1) - (4).
</p>
</li></ol>

<p>Validating Pagination Position:
</p>
<p>Given an (already adjusted) <code>lpp</code> or <code>cpp</code> value, a pagination is invalid if:
</p>

<ul>
<li><p> The rows/columns on the page would take more than (adjusted) <code>lpp</code> lines/<code>cpp</code>
characters to render <strong>including</strong>:
</p>

<ul>
<li><p> word-wrapping
</p>
</li>
<li><p> (vertical only) context repetition
</p>
</li></ul>

</li>
<li><p> (vertical only) footnote messages and/or section divider lines
take up too many lines after rendering rows
</p>
</li>
<li><p> (vertical only) row is a label or content (row-group summary) row
</p>
</li>
<li><p> (vertical only) row at the pagination point has siblings, and
it has less than <code>min_siblings</code> preceding or following siblings
</p>
</li>
<li><p> pagination would occur within a sub-table listed in <code>nosplitin</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>mypgdf &lt;- basic_pagdf(row.names(mtcars))

paginds &lt;- pag_indices_inner(mypgdf, rlpp = 15, min_siblings = 0)
lapply(paginds, function(x) mtcars[x, ])

</code></pre>

<hr>
<h2 id='pagdfrow'>Create a row of a pagination data frame</h2><span id='topic+pagdfrow'></span>

<h3>Description</h3>

<p>Create a row of a pagination data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pagdfrow(
  row,
  nm = obj_name(row),
  lab = obj_label(row),
  rnum,
  pth,
  sibpos = NA_integer_,
  nsibs = NA_integer_,
  extent = nlines(row, colwidths, fontspec = fontspec),
  colwidths = NULL,
  repext = 0L,
  repind = integer(),
  indent = 0L,
  rclass = class(row),
  nrowrefs = 0L,
  ncellrefs = 0L,
  nreflines = 0L,
  force_page = FALSE,
  page_title = NA_character_,
  trailing_sep = NA_character_,
  fontspec
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pagdfrow_+3A_row">row</code></td>
<td>
<p>(<code>ANY</code>)<br /> object representing the row, which is used for default values of <code>nm</code>, <code>lab</code>,
<code>extent</code>, and <code>rclass</code> if provided. Must have methods for <code>obj_name</code>, <code>obj_label</code>, and <code>nlines</code>, to retrieve
default values of <code>nm</code>, <code>lab</code>, and <code>extent</code>, respectively.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nm">nm</code></td>
<td>
<p>(<code>string</code>)<br /> name.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_lab">lab</code></td>
<td>
<p>(<code>string</code>)<br /> label.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_rnum">rnum</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> absolute row number.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_pth">pth</code></td>
<td>
<p>(<code>character</code> or <code>NULL</code>)<br /> path within larger table.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_sibpos">sibpos</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> position among sibling rows.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nsibs">nsibs</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> number of siblings (including self).</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_extent">extent</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of lines required to print the row.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> column widths.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_repext">repext</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> number of lines required to reprint all context for this row if it appears directly
after pagination.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_repind">repind</code></td>
<td>
<p>(<code>integer</code>)<br /> vector of row numbers to be reprinted if this row appears directly after pagination.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_indent">indent</code></td>
<td>
<p>(<code>integer</code>)<br /> indent.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_rclass">rclass</code></td>
<td>
<p>(<code>string</code>)<br /> class of row object.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nrowrefs">nrowrefs</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> number of row referential footnotes for this row.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_ncellrefs">ncellrefs</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> number of cell referential footnotes for the cells in this row.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_nreflines">nreflines</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> total number of lines required by all referential footnotes.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_force_page">force_page</code></td>
<td>
<p>(<code>flag</code>)<br /> currently ignored.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_page_title">page_title</code></td>
<td>
<p>(<code>flag</code>)<br /> currently ignored.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_trailing_sep">trailing_sep</code></td>
<td>
<p>(<code>string</code>)<br /> the string to use as a separator below this row during printing.
If <code>NA_character_</code>, no separator is used.</p>
</td></tr>
<tr><td><code id="pagdfrow_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single row <code>data.frame</code> with the appropriate columns for a pagination info data frame.
</p>

<hr>
<h2 id='page_lcpp'>Determine lines per page (LPP) and characters per page (CPP) based on font and page type</h2><span id='topic+page_lcpp'></span>

<h3>Description</h3>

<p>Determine lines per page (LPP) and characters per page (CPP) based on font and page type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>page_lcpp(
  page_type = page_types(),
  landscape = FALSE,
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  pg_width = NULL,
  pg_height = NULL,
  fontspec = font_spec(font_family, font_size, lineheight)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="page_lcpp_+3A_page_type">page_type</code></td>
<td>
<p>(<code>string</code>)<br /> name of a page type. See <code><a href="#topic+page_types">page_types</a></code>. Ignored
when <code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_landscape">landscape</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the dimensions of <code>page_type</code> should be
inverted for landscape orientation. Defaults to <code>FALSE</code>, ignored when <code>pg_width</code> and
<code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_font_family">font_family</code></td>
<td>
<p>(<code>string</code>)<br /> name of a font family. An error will be thrown
if the family named is not monospaced. Defaults to <code>"Courier"</code>.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size. Defaults to <code>12</code>.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_margins">margins</code></td>
<td>
<p>(<code>numeric(4)</code>)<br /> named numeric vector containing <code>"bottom"</code>, <code>"left"</code>,
<code>"top"</code>, and <code>"right"</code> margins in inches. Defaults to <code>.5</code> inches for both vertical
margins and <code>.75</code> for both horizontal margins.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_pg_width">pg_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page width in inches.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_pg_height">pg_height</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page height in inches.</p>
</td></tr>
<tr><td><code id="page_lcpp_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list containing LPP (lines per page) and CPP (characters per page)
elements suitable for use by the pagination machinery.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>page_lcpp()
page_lcpp(font_size = 10)
page_lcpp("a4", font_size = 10)

page_lcpp(margins = c(top = 1, bottom = 1, left = 1, right = 1))
page_lcpp(pg_width = 10, pg_height = 15)

</code></pre>

<hr>
<h2 id='page_types'>Supported named page types</h2><span id='topic+page_types'></span><span id='topic+page_dim'></span>

<h3>Description</h3>

<p>List supported named page types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>page_types()

page_dim(page_type)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="page_types_+3A_page_type">page_type</code></td>
<td>
<p>(<code>string</code>)<br /> the name of a page size specification. Call
<code><a href="#topic+page_types">page_types()</a></code> for supported values.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>page_types</code> returns a character vector of supported page types
</p>
</li>
<li> <p><code>page_dim</code> returns the dimensions (width, then height) of the selected page type.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>page_types()
page_dim("a4")
</code></pre>

<hr>
<h2 id='paginate_indices'>Paginate a table-like object for rendering</h2><span id='topic+paginate_indices'></span><span id='topic+paginate'></span><span id='topic+pagination'></span><span id='topic+paginate_to_mpfs'></span><span id='topic+diagnose_pagination'></span>

<h3>Description</h3>

<p>These functions perform or diagnose bi-directional pagination on an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paginate_indices(
  obj,
  page_type = "letter",
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  landscape = FALSE,
  pg_width = NULL,
  pg_height = NULL,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  lpp = NA_integer_,
  cpp = NA_integer_,
  min_siblings = 2,
  nosplitin = list(rows = character(), cols = character()),
  colwidths = NULL,
  tf_wrap = FALSE,
  max_width = NULL,
  indent_size = 2,
  pg_size_spec = NULL,
  rep_cols = num_rep_cols(obj),
  col_gap = 3,
  fontspec = font_spec(font_family, font_size, lineheight),
  verbose = FALSE
)

paginate_to_mpfs(
  obj,
  page_type = "letter",
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  landscape = FALSE,
  pg_width = NULL,
  pg_height = NULL,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  lpp = NA_integer_,
  cpp = NA_integer_,
  min_siblings = 2,
  nosplitin = character(),
  colwidths = NULL,
  tf_wrap = FALSE,
  max_width = NULL,
  indent_size = 2,
  pg_size_spec = NULL,
  page_num = default_page_number(),
  rep_cols = NULL,
  col_gap = 3,
  fontspec = font_spec(font_family, font_size, lineheight),
  verbose = FALSE
)

diagnose_pagination(
  obj,
  page_type = "letter",
  font_family = "Courier",
  font_size = 8,
  lineheight = 1,
  landscape = FALSE,
  pg_width = NULL,
  pg_height = NULL,
  margins = c(top = 0.5, bottom = 0.5, left = 0.75, right = 0.75),
  lpp = NA_integer_,
  cpp = NA_integer_,
  min_siblings = 2,
  nosplitin = character(),
  colwidths = propose_column_widths(matrix_form(obj, TRUE), fontspec = fontspec),
  tf_wrap = FALSE,
  max_width = NULL,
  indent_size = 2,
  pg_size_spec = NULL,
  rep_cols = num_rep_cols(obj),
  col_gap = 3,
  verbose = FALSE,
  fontspec = font_spec(font_family, font_size, lineheight),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="paginate_indices_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> object to be paginated. Must have a <code><a href="#topic+matrix_form">matrix_form()</a></code> method.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_page_type">page_type</code></td>
<td>
<p>(<code>string</code>)<br /> name of a page type. See <code><a href="#topic+page_types">page_types</a></code>. Ignored
when <code>pg_width</code> and <code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_font_family">font_family</code></td>
<td>
<p>(<code>string</code>)<br /> name of a font family. An error will be thrown
if the family named is not monospaced. Defaults to <code>"Courier"</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_font_size">font_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> font size. Defaults to <code>12</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_lineheight">lineheight</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> line height. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_landscape">landscape</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the dimensions of <code>page_type</code> should be
inverted for landscape orientation. Defaults to <code>FALSE</code>, ignored when <code>pg_width</code> and
<code>pg_height</code> are set directly.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_pg_width">pg_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page width in inches.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_pg_height">pg_height</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> page height in inches.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_margins">margins</code></td>
<td>
<p>(<code>numeric(4)</code>)<br /> named numeric vector containing <code>"bottom"</code>, <code>"left"</code>,
<code>"top"</code>, and <code>"right"</code> margins in inches. Defaults to <code>.5</code> inches for both vertical
margins and <code>.75</code> for both horizontal margins.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_lpp">lpp</code></td>
<td>
<p>(<code>numeric(1)</code> or <code>NULL</code>)<br /> lines per page. If <code>NA</code> (the default), this is calculated automatically
based on the specified page size). <code>NULL</code> indicates no vertical pagination should occur.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_cpp">cpp</code></td>
<td>
<p>(<code>numeric(1)</code> or <code>NULL</code>)<br /> width (in characters) per page. If <code>NA</code> (the default), this is calculated
automatically based on the specified page size). <code>NULL</code> indicates no horizontal pagination should occur.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_min_siblings">min_siblings</code></td>
<td>
<p>(<code>numeric</code>)<br /> minimum sibling rows which must appear on either side of pagination row for a
mid-subtable split to be valid. Defaults to 2 for tables. It is automatically turned off (set to 0) for listings.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_nosplitin">nosplitin</code></td>
<td>
<p>(<code>character</code>)<br /> list of names of subtables where page breaks are not allowed, regardless of other
considerations. Defaults to none.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> vector of column widths (in characters) for use in vertical pagination.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the text for title, subtitles, and footnotes should be wrapped.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_max_width">max_width</code></td>
<td>
<p>(<code>integer(1)</code>, <code>string</code> or <code>NULL</code>)<br /> width that title and footer (including
footnotes) materials should be word-wrapped to. If <code>NULL</code>, it is set to the current print width of the
session (<code>getOption("width")</code>). If set to <code>"auto"</code>, the width of the table (plus any table inset) is
used. Parameter is ignored if <code>tf_wrap = FALSE</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_indent_size">indent_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> indent size, in characters. Ignored when <code>x</code> is already
a <code>MatrixPrintForm</code> object in favor of information there.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_pg_size_spec">pg_size_spec</code></td>
<td>
<p>(<code>page_size_spec</code>)<br />. a pre-calculated page size specification. Typically this is not set by
end users.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_rep_cols">rep_cols</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of <em>columns</em> (not including row labels) to be repeated on every page.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> The number of spaces to be placed between columns
in the rendered table (and assumed for horizontal pagination).</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_verbose">verbose</code></td>
<td>
<p>(<code>flag</code>)<br /> whether additional informative messages about the search for
pagination breaks should be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_page_num">page_num</code></td>
<td>
<p>(<code>string</code>)<br /> placeholder string for page numbers. See <a href="#topic+default_page_number">default_page_number</a> for more
information. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="paginate_indices_+3A_...">...</code></td>
<td>
<p>additional parameters passed to individual methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>paginate_indices</code> renders <code>obj</code> into a <code>MatrixPrintForm</code> (MPF), then uses that representation to
calculate the rows and columns of <code>obj</code> corresponding to each page of the pagination of <code>obj</code>, but
simply returns these indices rather than paginating <code>obj</code> itself (see Details for an important caveat).
</p>
<p><code>paginate_to_mpfs</code> renders <code>obj</code> into its MPF intermediate representation, then paginates that MPF into
component MPFs each corresponding to an individual page and returns those in a <code>list</code>.
</p>
<p><code>diagnose_pagination</code> attempts pagination via <code>paginate_to_mpfs</code>, then returns diagnostic information
which explains why page breaks were positioned where they were, or alternatively why no valid pagination
could be found.
</p>
<p>All three of these functions generally support all classes which have a corresponding <code><a href="#topic+matrix_form">matrix_form()</a></code>
method which returns a valid <code>MatrixPrintForm</code> object (including <code>MatrixPrintForm</code> objects themselves).
</p>
<p><code>paginate_indices</code> is directly called by <code>paginate_to_mpfs</code> (and thus <code>diagnose_pagination</code>). For most
classes, and most tables represented by supported classes, calling <code>paginate_to_mpfs</code> is equivalent to a
manual <code style="white-space: pre;">&#8288;paginate_indices -&gt; subset obj into pages -&gt; matrix_form&#8288;</code> workflow.
</p>
<p>The exception to this equivalence is objects which support &quot;forced pagination&quot;, or pagination logic which
is built into the object itself rather than being a function of space on a page. Forced pagination
generally involves the creation of, e.g., page-specific titles which apply to these forced paginations.
<code>paginate_to_mpfs</code> and <code>diagnose_pagination</code> support forced pagination by automatically calling the
<code><a href="#topic+do_forced_paginate">do_forced_paginate()</a></code> generic on the object and then paginating each object returned by that generic
separately. The assumption here, then, is that page-specific titles and such are handled by the class'
<code><a href="#topic+do_forced_paginate">do_forced_paginate()</a></code> method.
</p>
<p><code>paginate_indices</code>, on the other hand, <em>does not support forced pagination</em>, because it returns only a
set of indices for row and column subsetting for each page, and thus cannot retain any changes, e.g.,
to titles, done within <code><a href="#topic+do_forced_paginate">do_forced_paginate()</a></code>. <code>paginate_indices</code> does call <code><a href="#topic+do_forced_paginate">do_forced_paginate()</a></code>, but
instead of continuing it throws an error in the case that the result is larger than a single &quot;page&quot;.
</p>
<p><code>diagnose_pagination</code> attempts pagination and then, regardless of success or failure, returns diagnostic
information about pagination attempts (if any) after each row and column.
</p>
<p>The diagnostics data reflects the final time the pagination algorithm evaluated a page break at the
specified location, regardless of how many times the position was assessed in total.
</p>
<p>To get information about intermediate attempts, perform pagination with <code>verbose = TRUE</code> and inspect
the messages in order.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>paginate_indices</code> returns a <code>list</code> with two elements of the same length: <code>pag_row_indices</code> and <code>pag_col_indices</code>.
</p>
</li>
<li> <p><code>paginate_to_mpfs</code> returns a <code>list</code> of  <code>MatrixPrintForm</code> objects representing each individual page after
pagination (including forced pagination if necessary).
</p>
</li></ul>


<ul>
<li> <p><code>diagnose_pagination</code> returns a <code>list</code> containing:
</p>

<dl>
<dt><code>lpp_diagnostics</code></dt><dd><p>Diagnostic information regarding lines per page.</p>
</dd>
<dt><code>row_diagnostics</code></dt><dd><p>Basic information about rows, whether pagination was attempted
after each row, and the final result of such an attempt, if made.</p>
</dd>
<dt><code>cpp_diagnostics</code></dt><dd><p>Diagnostic information regarding columns per page.</p>
</dd>
<dt><code>col_diagnostics</code></dt><dd><p>Very basic information about leaf columns, whether pagination
was attempted after each leaf column, ad the final result of such attempts, if made.</p>
</dd>
</dl>

</li></ul>



<h3>Note</h3>

<p>For <code>diagnose_pagination</code>, the column labels are not displayed in the <code>col_diagnostics</code> element
due to certain internal implementation details; rather the diagnostics are reported in terms of
absolute (leaf) column position. This is a known limitation, and may eventually be changed, but the
information remains useful as it is currently reported.
</p>
<p><code>diagnose_pagination</code> is intended for interactive debugging use and <em>should not be programmed against</em>,
as the exact content and form of the verbose messages it captures and returns is subject to change.
</p>
<p>Because <code>diagnose_pagination</code> relies on <code>capture.output(type = "message")</code>, it cannot be used within the
<code>testthat</code> (and likely other) testing frameworks, and likely cannot be used within <code>knitr</code>/<code>rmarkdown</code>
contexts either, as this clashes with those systems' capture of messages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mpf &lt;- basic_matrix_form(mtcars)

paginate_indices(mpf, pg_width = 5, pg_height = 3)

paginate_to_mpfs(mpf, pg_width = 5, pg_height = 3)

diagnose_pagination(mpf, pg_width = 5, pg_height = 3)
clws &lt;- propose_column_widths(mpf)
clws[1] &lt;- floor(clws[1] / 3)
dgnost &lt;- diagnose_pagination(mpf, pg_width = 5, pg_height = 3, colwidths = clws)
try(diagnose_pagination(mpf, pg_width = 1)) # fails

</code></pre>

<hr>
<h2 id='pagination_algo'>Pagination</h2><span id='topic+pagination_algo'></span>

<h3>Description</h3>

<p>Pagination
</p>


<h3>Pagination Algorithm</h3>

<p>Pagination is performed independently in the vertical and horizontal
directions based solely on a <em>pagination data frame</em>, which includes the
following information for each row/column:
</p>

<ul>
<li><p> Number of lines/characters rendering the row will take <strong>after
word-wrapping</strong> (<code>self_extent</code>)
</p>
</li>
<li><p> The indices (<code>reprint_inds</code>) and number of lines (<code>par_extent</code>)
of the rows which act as <strong>context</strong> for the row
</p>
</li>
<li><p> The row's number of siblings and position within its siblings
</p>
</li></ul>

<p>Given <code>lpp</code> (<code>cpp</code>) is already adjusted for rendered elements which
are not rows/columns and a data frame of pagination information,
pagination is performed via the following algorithm with <code>start = 1</code>.
</p>
<p>Core Pagination Algorithm:
</p>

<ol>
<li><p> Initial guess for pagination position is <code>start + lpp</code> (<code>start + cpp</code>)
</p>
</li>
<li><p> While the guess is not a valid pagination position, and <code>guess &gt; start</code>,
decrement guess and repeat.
</p>

<ul>
<li><p> An error is thrown if all possible pagination positions between
<code>start</code> and <code>start + lpp</code> (<code>start + cpp</code>) would be <code style="white-space: pre;">&#8288;&lt; start&#8288;</code>
after decrementing
</p>
</li></ul>

</li>
<li><p> Retain pagination index
</p>
</li>
<li><p> If pagination point was less than <code>NROW(tt)</code> (<code>ncol(tt)</code>), set
<code>start</code> to <code>pos + 1</code>, and repeat steps (1) - (4).
</p>
</li></ol>

<p>Validating Pagination Position:
</p>
<p>Given an (already adjusted) <code>lpp</code> or <code>cpp</code> value, a pagination is invalid if:
</p>

<ul>
<li><p> The rows/columns on the page would take more than (adjusted) <code>lpp</code> lines/<code>cpp</code>
characters to render <strong>including</strong>:
</p>

<ul>
<li><p> word-wrapping
</p>
</li>
<li><p> (vertical only) context repetition
</p>
</li></ul>

</li>
<li><p> (vertical only) footnote messages and/or section divider lines
take up too many lines after rendering rows
</p>
</li>
<li><p> (vertical only) row is a label or content (row-group summary) row
</p>
</li>
<li><p> (vertical only) row at the pagination point has siblings, and
it has less than <code>min_siblings</code> preceding or following siblings
</p>
</li>
<li><p> pagination would occur within a sub-table listed in <code>nosplitin</code>
</p>
</li></ul>


<hr>
<h2 id='print+2CANY-method'>Print</h2><span id='topic+print+2CANY-method'></span>

<h3>Description</h3>

<p>Print an R object. See <code><a href="base.html#topic+print">print()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ANY'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print+2B2CANY-method_+3A_x">x</code></td>
<td>
<p>an object used to select a method.</p>
</td></tr>
<tr><td><code id="print+2B2CANY-method_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='propose_column_widths'>Propose column widths based on the <code>MatrixPrintForm</code> of an object</h2><span id='topic+propose_column_widths'></span>

<h3>Description</h3>

<p>Row names are also considered a column for the output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propose_column_widths(x, indent_size = 2, fontspec = font_spec())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="propose_column_widths_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> a <code>MatrixPrintForm</code> object, or an object with a <code>matrix_form</code> method.</p>
</td></tr>
<tr><td><code id="propose_column_widths_+3A_indent_size">indent_size</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> indent size, in characters. Ignored when <code>x</code> is already
a <code>MatrixPrintForm</code> object in favor of information there.</p>
</td></tr>
<tr><td><code id="propose_column_widths_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of column widths based on the content of <code>x</code> for use in printing and pagination.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mf &lt;- basic_matrix_form(mtcars)
propose_column_widths(mf)

</code></pre>

<hr>
<h2 id='ref_df_row'>Create a row for a referential footnote information data frame</h2><span id='topic+ref_df_row'></span>

<h3>Description</h3>

<p>Create a row for a referential footnote information data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ref_df_row(
  row_path = NA_character_,
  col_path = NA_character_,
  row = NA_integer_,
  col = NA_integer_,
  symbol = NA_character_,
  ref_index = NA_integer_,
  msg = NA_character_,
  max_width = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ref_df_row_+3A_row_path">row_path</code></td>
<td>
<p>(<code>character</code>)<br /> row path (or <code>NA_character_</code> for none).</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_col_path">col_path</code></td>
<td>
<p>(<code>character</code>)<br /> column path (or <code>NA_character_</code> for none).</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_row">row</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> integer position of the row.</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_col">col</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> integer position of the column.</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_symbol">symbol</code></td>
<td>
<p>(<code>string</code>)<br /> symbol for the reference. <code>NA_character_</code> to use the
<code>ref_index</code> automatically.</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_ref_index">ref_index</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> index of the footnote, used for ordering even when
symbol is not <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_msg">msg</code></td>
<td>
<p>(<code>string</code>)<br /> the string message, not including the symbol portion (<code style="white-space: pre;">&#8288;{symbol} - &#8288;</code>)</p>
</td></tr>
<tr><td><code id="ref_df_row_+3A_max_width">max_width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> width that strings should be wrapped to when
determining how many lines they require.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single row data frame with the appropriate columns.
</p>

<hr>
<h2 id='round_fmt'>Round and prepare a value for display</h2><span id='topic+round_fmt'></span><span id='topic+rounding'></span>

<h3>Description</h3>

<p>This function is used within <code><a href="#topic+format_value">format_value()</a></code> to prepare numeric values within
cells for formatting and display.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round_fmt(x, digits, na_str = "NA")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="round_fmt_+3A_x">x</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> value to format.</p>
</td></tr>
<tr><td><code id="round_fmt_+3A_digits">digits</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of digits to round to, or <code>NA</code> to convert to a
character value with no rounding.</p>
</td></tr>
<tr><td><code id="round_fmt_+3A_na_str">na_str</code></td>
<td>
<p>(<code>string</code>)<br /> the value to return if <code>x</code> is <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function combines the rounding behavior of R's standards-compliant <code><a href="base.html#topic+round">round()</a></code>
function (see the Details section of that documentation) with the strict decimal display
of <code><a href="base.html#topic+sprintf">sprintf()</a></code>. The exact behavior is as follows:
</p>

<ol>
<li><p>If <code>x</code> is <code>NA</code>, the value of <code>na_str</code> is returned.
</p>
</li>
<li><p>If <code>x</code> is non-<code>NA</code> but <code>digits</code> is <code>NA</code>, <code>x</code> is converted to a character and returned.
</p>
</li>
<li><p>If <code>x</code> and <code>digits</code> are both non-NA, <code><a href="base.html#topic+round">round()</a></code> is called first, and then <code><a href="base.html#topic+sprintf">sprintf()</a></code>
is used to convert the rounded value to a character with the appropriate number of trailing
zeros enforced.
</p>
</li></ol>



<h3>Value</h3>

<p>A character value representing the value after rounding, containing any trailing zeros
required to display <em>exactly</em> <code>digits</code> elements.
</p>


<h3>Note</h3>

<p>This differs from the base R <code><a href="base.html#topic+round">round()</a></code> function in that <code>NA</code> digits indicate <code>x</code> should be converted
to character and returned unchanged whereas <code>round(x, digits=NA)</code> returns <code>NA</code> for all values of <code>x</code>.
</p>
<p>This behavior will differ from <code>as.character(round(x, digits = digits))</code> in the case where there are
not at least <code>digits</code> significant digits after the decimal that remain after rounding. It <em>may</em> differ from
<code>sprintf("\%.Nf", x)</code> for values ending in <code>5</code> after the decimal place on many popular operating systems
due to <code>round</code>'s stricter adherence to the IEC 60559 standard, particularly for R versions &gt; 4.0.0 (see
warning in <code><a href="base.html#topic+round">round()</a></code> documentation).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+format_value">format_value()</a></code>, <code><a href="base.html#topic+round">round()</a></code>, <code><a href="base.html#topic+sprintf">sprintf()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>round_fmt(0, digits = 3)
round_fmt(.395, digits = 2)
round_fmt(NA, digits = 1)
round_fmt(NA, digits = 1, na_str = "-")
round_fmt(2.765923, digits = NA)

</code></pre>

<hr>
<h2 id='spans_to_viscell'>Transform a vector of spans (with duplication) into a visibility vector</h2><span id='topic+spans_to_viscell'></span>

<h3>Description</h3>

<p>Transform a vector of spans (with duplication) into a visibility vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spans_to_viscell(spans)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spans_to_viscell_+3A_spans">spans</code></td>
<td>
<p>(<code>numeric</code>)<br /> a vector of spans, with each span value repeated
for the cells it covers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The values of <code>spans</code> are assumed to be repeated such that each individual position covered by the
span has the repeated value.
</p>
<p>This means that each block of values in <code>spans</code> must be of a length at least equal to its value
(i.e. two 2s, three 3s, etc).
</p>
<p>This function correctly handles cases where two spans of the same size are next to each other;
i.e., a block of four 2s represents two large cells each of which spans two individual cells.
</p>


<h3>Value</h3>

<p>A logical vector the same length as <code>spans</code> indicating whether the contents of a string vector
with those spans is valid.
</p>


<h3>Note</h3>

<p>Currently no checking or enforcement is done to verify that the vector of spans is valid according to
the specifications described in the Details section above.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spans_to_viscell(c(2, 2, 2, 2, 1, 3, 3, 3))

</code></pre>

<hr>
<h2 id='split_word_ttype'>wrap string given a Truetype font</h2><span id='topic+split_word_ttype'></span><span id='topic+wrap_string_ttype'></span>

<h3>Description</h3>

<p>wrap string given a Truetype font
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_word_ttype(str, width, fontspec, min_ok_chars)

wrap_string_ttype(
  str,
  width,
  fontspec,
  collapse = NULL,
  min_ok_chars = min(floor(nchar(str)/2), 4, floor(width/2)),
  wordbreak_ok = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="split_word_ttype_+3A_str">str</code></td>
<td>
<p>(<code>string</code>, <code>character</code>, or <code>list</code>)<br /> string to be wrapped. If it is a <code>vector</code> or
a <code>list</code>, it will be looped as a <code>list</code> and returned with <code>unlist(use.names = FALSE)</code>.</p>
</td></tr>
<tr><td><code id="split_word_ttype_+3A_width">width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> width, in characters, that the text should be wrapped to.</p>
</td></tr>
<tr><td><code id="split_word_ttype_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="split_word_ttype_+3A_min_ok_chars">min_ok_chars</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of minimum characters that remain
on either side when a word is split.</p>
</td></tr>
<tr><td><code id="split_word_ttype_+3A_collapse">collapse</code></td>
<td>
<p>(<code>string</code> or <code>NULL</code>)<br /> collapse character used to separate segments of words that
have been split and should be pasted together. This is usually done internally with <code>"\n"</code> to update
the wrapping along with other internal values.</p>
</td></tr>
<tr><td><code id="split_word_ttype_+3A_wordbreak_ok">wordbreak_ok</code></td>
<td>
<p>(<code>logical(1)</code>)<br /> should breaking within a word be allowed? If, <code>FALSE</code>,
attempts to wrap a string to a width narrower than its widest word will result
in an error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>str</code>, broken up into a word-wrapped vector
</p>

<hr>
<h2 id='spread_integer'>Spread an integer to a given length</h2><span id='topic+spread_integer'></span>

<h3>Description</h3>

<p>Spread an integer to a given length
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spread_integer(x, len)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spread_integer_+3A_x">x</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> number to spread.</p>
</td></tr>
<tr><td><code id="spread_integer_+3A_len">len</code></td>
<td>
<p>(<code>integer(1)</code>)<br /> number of times to repeat <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>x</code> is a scalar whole number value (see <code><a href="#topic+is.wholenumber">is.wholenumber()</a></code>), the value <code>x</code> is repeated <code>len</code> times.
Otherwise, an error is thrown.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spread_integer(3, 1)
spread_integer(0, 3)
spread_integer(1, 3)
spread_integer(2, 3)
spread_integer(3, 3)
spread_integer(4, 3)
spread_integer(5, 3)
spread_integer(6, 3)
spread_integer(7, 3)

</code></pre>

<hr>
<h2 id='sprintf_format'>Specify text format via a <code>sprintf</code> format string</h2><span id='topic+sprintf_format'></span>

<h3>Description</h3>

<p>Specify text format via a <code>sprintf</code> format string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sprintf_format(format)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sprintf_format_+3A_format">format</code></td>
<td>
<p>(<code>string</code>)<br /> a format string passed to <code><a href="base.html#topic+sprintf">sprintf()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatting function which wraps and applies the specified <code>sprintf</code>-style format
to string <code>format</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sprintf">sprintf()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fmtfun &lt;- sprintf_format("(N=%i")
format_value(100, format = fmtfun)

fmtfun2 &lt;- sprintf_format("%.4f - %.2f")
format_value(list(12.23456, 2.724))

</code></pre>

<hr>
<h2 id='table_inset'>Access or (recursively) set table inset</h2><span id='topic+table_inset'></span><span id='topic+table_inset+2CMatrixPrintForm-method'></span><span id='topic+table_inset+3C-'></span><span id='topic+table_inset+3C-+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>Table inset is the amount of characters that the body of a table, referential footnotes, and
main footer material are inset from the left-alignment of the titles and provenance
footer materials.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>table_inset(obj)

## S4 method for signature 'MatrixPrintForm'
table_inset(obj)

table_inset(obj) &lt;- value

## S4 replacement method for signature 'MatrixPrintForm'
table_inset(obj) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="table_inset_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> object to get or (recursively if necessary) set table inset for.</p>
</td></tr>
<tr><td><code id="table_inset_+3A_value">value</code></td>
<td>
<p>(<code>string</code>)<br /> string to use as new header/body separator.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>table_inset</code> returns the integer value that the table body (including column heading
information and section dividers), referential footnotes, and main footer should be inset
from the left alignment of the titles and provenance footers during rendering.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;table_inset&lt;-&#8288;</code> returns <code>obj</code> with the new table_inset value applied recursively to it and
all its subtables.
</p>
</li></ul>


<hr>
<h2 id='test_matrix_form'>Create spoof matrix form from a data frame</h2><span id='topic+test_matrix_form'></span><span id='topic+basic_matrix_form'></span><span id='topic+basic_listing_mf'></span>

<h3>Description</h3>

<p>Useful functions for writing tests and examples, and a starting point for
more sophisticated custom <code>matrix_form</code> methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_matrix_form(
  df,
  indent_rownames = FALSE,
  parent_path = NULL,
  ignore_rownames = FALSE,
  add_decoration = FALSE,
  fontspec = font_spec(),
  split_labels = NULL,
  data_labels = NULL,
  num_rep_cols = 0L
)

basic_listing_mf(
  df,
  keycols = names(df)[1],
  add_decoration = TRUE,
  fontspec = font_spec()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_matrix_form_+3A_df">df</code></td>
<td>
<p>(<code>data.frame</code>)<br /> a data frame.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_indent_rownames">indent_rownames</code></td>
<td>
<p>(<code>flag</code>)<br /> whether row names should be indented. Being this
used for testing purposes, it defaults to <code>FALSE</code>. If <code>TRUE</code>, it assigns label rows
on even lines (also format is <code>"-"</code> and value strings are <code>""</code>). Indentation works
only if split labels are used (see parameters <code>split_labels</code> and <code>data_labels</code>).</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_parent_path">parent_path</code></td>
<td>
<p>(<code>string</code>)<br /> parent path that all rows should be &quot;children of&quot;.
Defaults to <code>NULL</code>, as usually this is not needed. It may be necessary to use <code>"root"</code>,
for some specific scenarios.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_ignore_rownames">ignore_rownames</code></td>
<td>
<p>(<code>flag</code>)<br /> whether row names should be ignored.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_add_decoration">add_decoration</code></td>
<td>
<p>(<code>flag</code>)<br /> whether adds title and footer decorations should
be added to the matrix form.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_split_labels">split_labels</code></td>
<td>
<p>(<code>string</code>)<br /> indicates which column to use as split labels. If
<code>NULL</code>, no split labels are used.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_data_labels">data_labels</code></td>
<td>
<p>(<code>string</code>)<br /> indicates which column to use as data labels. It is
ignored if no <code>split_labels</code> is present and is automatically assigned to
<code>"Analysis method"</code> when <code>split_labels</code> is present, but <code>data_labels</code> is <code>NULL</code>.
Its direct column name is used as node name in <code>"DataRow"</code> pathing. See <code><a href="#topic+mf_rinfo">mf_rinfo()</a></code>
for more information.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_num_rep_cols">num_rep_cols</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> Number of columns to be treated as repeating columns.
Defaults to <code>0</code> for <code>basic_matrix_form</code> and <code>length(keycols)</code> for
<code>basic_listing_mf</code>. Note repeating columns are separate from row labels if present.</p>
</td></tr>
<tr><td><code id="test_matrix_form_+3A_keycols">keycols</code></td>
<td>
<p>(<code>character</code>)<br /> a vector of <code>df</code> column names that are printed first and for which
repeated values are assigned <code>""</code>. This format is characteristic of a listing matrix form.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If some of the column has a <a href="#topic+obj_format">obj_format</a> assigned, it will be respected for all column
values except for label rows, if present (see parameter <code>split_labels</code>).
</p>


<h3>Value</h3>

<p>A valid <code>MatrixPrintForm</code> object representing <code>df</code> that is ready for
ASCII rendering.
</p>
<p>A valid <code>MatrixPrintForm</code> object representing <code>df</code> as a listing that is ready for ASCII
rendering.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>basic_listing_mf()</code>: Create a <code>MatrixPrintForm</code> object from data frame <code>df</code> that
respects the default formats for a listing object.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>mform &lt;- basic_matrix_form(mtcars)
cat(toString(mform))


# Advanced test case with label rows
library(dplyr)
iris_output &lt;- iris %&gt;%
  group_by(Species) %&gt;%
  summarize("all obs" = round(mean(Petal.Length), 2)) %&gt;%
  mutate("DataRow_label" = "Mean")
mf &lt;- basic_matrix_form(iris_output,
  indent_rownames = TRUE,
  split_labels = "Species", data_labels = "DataRow_label"
)
cat(toString(mf))

mform &lt;- basic_listing_mf(mtcars)
cat(toString(mform))

</code></pre>

<hr>
<h2 id='toString'>Transform objects into string representations</h2><span id='topic+toString'></span><span id='topic+toString+2CMatrixPrintForm-method'></span>

<h3>Description</h3>

<p>Transform a complex object into a string representation ready to be printed or written
to a plain-text file.
</p>
<p>All objects that are printed to console pass via <code>toString</code>. This function allows
fundamental formatting specifications to be applied to final output, like column widths
and relative wrapping (<code>width</code>), title and footer wrapping (<code>tf_wrap = TRUE</code> and
<code>max_width</code>), and horizontal separator character (e.g. <code>hsep = "+"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toString(x, ...)

## S4 method for signature 'MatrixPrintForm'
toString(
  x,
  widths = NULL,
  tf_wrap = FALSE,
  max_width = NULL,
  col_gap = mf_colgap(x),
  hsep = NULL,
  fontspec = font_spec(),
  ttype_ok = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toString_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> object to be prepared for rendering.</p>
</td></tr>
<tr><td><code id="toString_+3A_...">...</code></td>
<td>
<p>additional parameters passed to individual methods.</p>
</td></tr>
<tr><td><code id="toString_+3A_widths">widths</code></td>
<td>
<p>(<code>numeric</code> or  <code>NULL</code>)<br /> Proposed widths for the columns of <code>x</code>. The expected
length of this numeric vector can be retrieved with <code>ncol(x) + 1</code> as the column of row names
must also be considered.</p>
</td></tr>
<tr><td><code id="toString_+3A_tf_wrap">tf_wrap</code></td>
<td>
<p>(<code>flag</code>)<br /> whether the text for title, subtitles, and footnotes should be wrapped.</p>
</td></tr>
<tr><td><code id="toString_+3A_max_width">max_width</code></td>
<td>
<p>(<code>integer(1)</code>, <code>string</code> or <code>NULL</code>)<br /> width that title and footer (including
footnotes) materials should be word-wrapped to. If <code>NULL</code>, it is set to the current print width of the
session (<code>getOption("width")</code>). If set to <code>"auto"</code>, the width of the table (plus any table inset) is
used. Parameter is ignored if <code>tf_wrap = FALSE</code>.</p>
</td></tr>
<tr><td><code id="toString_+3A_col_gap">col_gap</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> space (in characters) between columns.</p>
</td></tr>
<tr><td><code id="toString_+3A_hsep">hsep</code></td>
<td>
<p>(<code>string</code>)<br /> character to repeat to create header/body separator line. If
<code>NULL</code>, the object value will be used. If <code>" "</code>, an empty separator will be printed. See
<code><a href="#topic+default_hsep">default_hsep()</a></code> for more information.</p>
</td></tr>
<tr><td><code id="toString_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="toString_+3A_ttype_ok">ttype_ok</code></td>
<td>
<p>(<code>logical(1)</code>)<br /> should truetype (non-monospace) fonts be
allowed via <code>fontspec</code>. Defaults to <code>FALSE</code>. This parameter is primarily
for internal testing and generally should not be set by end users.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Manual insertion of newlines is not supported when <code>tf_wrap = TRUE</code> and will result in a warning and
undefined wrapping behavior. Passing vectors of already split strings remains supported, however in this
case each string is word-wrapped separately with the behavior described above.
</p>


<h3>Value</h3>

<p>A character string containing the ASCII rendering of the table-like object represented by <code>x</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wrap_string">wrap_string()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mform &lt;- basic_matrix_form(mtcars)
cat(toString(mform))

</code></pre>

<hr>
<h2 id='var_labels'>Get label attributes of variables in a <code>data.frame</code></h2><span id='topic+var_labels'></span>

<h3>Description</h3>

<p>Variable labels can be stored as a <code>label</code> attribute for each variable.
This functions returns a named character vector with the variable labels
(or empty strings if not specified).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_labels(x, fill = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="var_labels_+3A_x">x</code></td>
<td>
<p>(<code>data.frame</code>)<br /> a data frame object.</p>
</td></tr>
<tr><td><code id="var_labels_+3A_fill">fill</code></td>
<td>
<p>(<code>flag</code>)<br /> whether variable names should be returned for variables for
which the <code>label</code> attribute does not exist. If <code>FALSE</code>, these variables are filled with
<code>NA</code>s instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named character vector of variable labels from <code>x</code>, with names corresponding
to variable names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- iris
var_labels(x)
var_labels(x) &lt;- paste("label for", names(iris))
var_labels(x)

</code></pre>

<hr>
<h2 id='var_labels_remove'>Remove variable labels of a <code>data.frame</code></h2><span id='topic+var_labels_remove'></span>

<h3>Description</h3>

<p>Remove <code>label</code> attribute from all variables in a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_labels_remove(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="var_labels_remove_+3A_x">x</code></td>
<td>
<p>(<code>data.frame</code>)<br /> a <code>data.frame</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> with its variable labels stripped.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- var_labels_remove(iris)

</code></pre>

<hr>
<h2 id='var_labels+26lt+3B-'>Set label attributes of all variables in a <code>data.frame</code></h2><span id='topic+var_labels+3C-'></span>

<h3>Description</h3>

<p>Variable labels can be stored as the <code>label</code> attribute for each variable.
This functions sets all non-missing (non-<code>NA</code>) variable labels in a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_labels(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="var_labels+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>(<code>data.frame</code>)<br /> a data frame object.</p>
</td></tr>
<tr><td><code id="var_labels+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>(<code>character</code>)<br /> a vector of new variable labels. If any values are <code>NA</code>,
the label for that variable is removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> with modified variable labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- iris
var_labels(x)
var_labels(x) &lt;- paste("label for", names(iris))
var_labels(x)

if (interactive()) {
  View(x) # in RStudio data viewer labels are displayed
}

</code></pre>

<hr>
<h2 id='var_relabel'>Copy and change variable labels of a <code>data.frame</code></h2><span id='topic+var_relabel'></span>

<h3>Description</h3>

<p>Relabel a subset of the variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_relabel(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="var_relabel_+3A_x">x</code></td>
<td>
<p>(<code>data.frame</code>)<br /> a data frame object.</p>
</td></tr>
<tr><td><code id="var_relabel_+3A_...">...</code></td>
<td>
<p>name-value pairs, where each name corresponds to a variable name in
<code>x</code> and the value to the new variable label.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A copy of <code>x</code> with labels modified according to <code>...</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- var_relabel(iris, Sepal.Length = "Sepal Length of iris flower")
var_labels(x)

</code></pre>

<hr>
<h2 id='vert_pag_indices'>Find column indices for vertical pagination</h2><span id='topic+vert_pag_indices'></span>

<h3>Description</h3>

<p>Find column indices for vertical pagination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vert_pag_indices(
  obj,
  cpp = 40,
  colwidths = NULL,
  verbose = FALSE,
  rep_cols = 0L,
  fontspec,
  nosplitin = character()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vert_pag_indices_+3A_obj">obj</code></td>
<td>
<p>(<code>ANY</code>)<br /> object to be paginated. Must have a <code><a href="#topic+matrix_form">matrix_form()</a></code> method.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_cpp">cpp</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of characters per page (width).</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_colwidths">colwidths</code></td>
<td>
<p>(<code>numeric</code>)<br /> vector of column widths (in characters) for use in vertical pagination.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_verbose">verbose</code></td>
<td>
<p>(<code>flag</code>)<br /> whether additional informative messages about the search for
pagination breaks should be shown. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_rep_cols">rep_cols</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> number of <em>columns</em> (not including row labels) to be repeated on every page.
Defaults to 0.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
<tr><td><code id="vert_pag_indices_+3A_nosplitin">nosplitin</code></td>
<td>
<p>(<code>character</code>)<br /> list of names of subtables where page breaks are not allowed, regardless of other
considerations. Defaults to none.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> partitioning the vector of column indices into subsets for 1 or more horizontally paginated pages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mf &lt;- basic_matrix_form(df = mtcars)
colpaginds &lt;- vert_pag_indices(mf, fontspec = font_spec())
lapply(colpaginds, function(j) mtcars[, j, drop = FALSE])

</code></pre>

<hr>
<h2 id='with_label'>Return an object with a label attribute</h2><span id='topic+with_label'></span>

<h3>Description</h3>

<p>Return an object with a label attribute
</p>


<h3>Usage</h3>

<pre><code class='language-R'>with_label(x, label)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="with_label_+3A_x">x</code></td>
<td>
<p>(<code>ANY</code>)<br /> an object.</p>
</td></tr>
<tr><td><code id="with_label_+3A_label">label</code></td>
<td>
<p>(<code>string</code>)<br /> label attribute to attach to <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> labeled by <code>label</code>. Note that the exact mechanism of labeling should be considered
an internal implementation detail, but the label can always be retrieved via <code>obj_label</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- with_label(c(1, 2, 3), label = "Test")
obj_label(x)

</code></pre>

<hr>
<h2 id='wrap_string'>Wrap a string to a precise width</h2><span id='topic+wrap_string'></span><span id='topic+wrap_txt'></span>

<h3>Description</h3>

<p>Core wrapping functionality that preserves whitespace. Newline character <code>"\n"</code> is not supported
by core functionality <code><a href="stringi.html#topic+stri_wrap">stringi::stri_wrap()</a></code>. This is usually solved beforehand by <code><a href="#topic+matrix_form">matrix_form()</a></code>.
If the width is smaller than any large word, these will be truncated after <code>width</code> characters. If
the split leaves trailing groups of empty spaces, they will be dropped.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrap_string(str, width, collapse = NULL, fontspec = font_spec())

wrap_txt(str, width, collapse = NULL, fontspec = font_spec())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wrap_string_+3A_str">str</code></td>
<td>
<p>(<code>string</code>, <code>character</code>, or <code>list</code>)<br /> string to be wrapped. If it is a <code>vector</code> or
a <code>list</code>, it will be looped as a <code>list</code> and returned with <code>unlist(use.names = FALSE)</code>.</p>
</td></tr>
<tr><td><code id="wrap_string_+3A_width">width</code></td>
<td>
<p>(<code>numeric(1)</code>)<br /> width, in characters, that the text should be wrapped to.</p>
</td></tr>
<tr><td><code id="wrap_string_+3A_collapse">collapse</code></td>
<td>
<p>(<code>string</code> or <code>NULL</code>)<br /> collapse character used to separate segments of words that
have been split and should be pasted together. This is usually done internally with <code>"\n"</code> to update
the wrapping along with other internal values.</p>
</td></tr>
<tr><td><code id="wrap_string_+3A_fontspec">fontspec</code></td>
<td>
<p>(<code>font_spec</code>)<br /> a font_spec object specifying the font information to use for
calculating string widths and heights, as returned by <code><a href="#topic+font_spec">font_spec()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Word wrapping happens similarly to <code><a href="stringi.html#topic+stri_wrap">stringi::stri_wrap()</a></code> with the following difference: individual
words which are longer than <code>max_width</code> are broken up in a way that fits with other word wrapping.
</p>


<h3>Value</h3>

<p>A string if <code>str</code> is one element and if <code>collapse = NULL</code>. Otherwise, a list of elements
(if <code>length(str) &gt; 1</code>) that can contain strings or vectors of characters (if <code>collapse = NULL</code>).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>wrap_txt()</code>: Deprecated function. Please use <code><a href="#topic+wrap_string">wrap_string()</a></code> instead.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>str &lt;- list(
  "  , something really  \\tnot  very good", # \t needs to be escaped
  "  but I keep it12   "
)
wrap_string(str, 5, collapse = "\n")

wrap_txt(str, 5, collapse = NULL)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

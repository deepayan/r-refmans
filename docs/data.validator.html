<!DOCTYPE html><html><head><title>Help for package data.validator</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {data.validator}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_results'><p>Add validation results to the Report object</p></a></li>
<li><a href='#check_assertr_expression'><p>Defensive wrapper to add evaluation error to regular validation errors.</p></a></li>
<li><a href='#convert_error_df'><p>Convert error table column types</p></a></li>
<li><a href='#create_summary_row'><p>Create summary table row.</p></a></li>
<li><a href='#data_validation_report'><p>Create new validator object</p></a></li>
<li><a href='#display_results'><p>Displays results of validations.</p></a></li>
<li><a href='#error_class'><p>Constants</p></a></li>
<li><a href='#find_first_noncall'><p>Create a recursive function to find the first non-call object</p></a></li>
<li><a href='#generate_id'><p>Generate a random ID.</p></a></li>
<li><a href='#get_assert_method'><p>Match proper method depending on predicate type</p></a></li>
<li><a href='#get_assertion_type'><p>get assertion type</p></a></li>
<li><a href='#get_ast'><p>Constructs an Abstract Syntax Tree for an expression</p></a></li>
<li><a href='#get_first_name'><p>Extract the name of the initial data object in a magrittr pipe chain</p></a></li>
<li><a href='#get_results'><p>Get validation results</p></a></li>
<li><a href='#get_results_number'><p>Get results number</p></a></li>
<li><a href='#get_semantic_report_ui'><p>Generate HTML report.</p></a></li>
<li><a href='#is_complex_command'><p>Check if a command is complex, i.e, contains any non-alphanumeric character</p></a></li>
<li><a href='#make_accordion_container'><p>Create a UI accordion container.</p></a></li>
<li><a href='#make_accordion_element'><p>Create a UI accordion element.</p></a></li>
<li><a href='#make_summary_table'><p>Create summary table.</p></a></li>
<li><a href='#make_table_row'><p>Create table row.</p></a></li>
<li><a href='#parse_errors_to_df'><p>Parse errors to data.frame</p></a></li>
<li><a href='#parse_results_to_df'><p>Parse results to data.frame</p></a></li>
<li><a href='#parse_successes_to_df'><p>Parse successes to data.frame</p></a></li>
<li><a href='#prepare_modal_content'><p>Prepare modal content.</p></a></li>
<li><a href='#render_raw_report_ui'><p>Render simple version of report</p></a></li>
<li><a href='#render_semantic_report_ui'><p>Render semantic version of report</p></a></li>
<li><a href='#result_table'><p>Create table with results.</p></a></li>
<li><a href='#save_report'><p>Saving results as a HTML report</p></a></li>
<li><a href='#save_results'><p>Saving results table to external file</p></a></li>
<li><a href='#save_summary'><p>Save simple validation summary in text file</p></a></li>
<li><a href='#segment'><p>Create a UI segment element.</p></a></li>
<li><a href='#validate'><p>Prepare data for validation chain</p></a></li>
<li><a href='#validate_cols'><p>Validation on columns</p></a></li>
<li><a href='#validate_if'><p>Verify if expression regarding data is TRUE</p></a></li>
<li><a href='#validate_rows'><p>Validation on rows</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Automatic Data Validation and Reporting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Validate dataset by columns and rows using convenient predicates inspired by 'assertr' package.
             Generate good looking HTML report or print console output to display in logs of your data processing pipeline.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://appsilon.github.io/data.validator/">https://appsilon.github.io/data.validator/</a>,
<a href="https://github.com/Appsilon/data.validator">https://github.com/Appsilon/data.validator</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Appsilon/data.validator/issues">https://github.com/Appsilon/data.validator/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertr (&ge; 2.8), shiny.semantic (&ge; 0.3.3), knitr, purrr,
dplyr, tidyr, utils, R6, rlang, rmarkdown, htmltools,
htmlwidgets, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, fixtuRes, fs, lintr, magrittr, rcmdcheck, readr, shiny,
spelling, targets, testthat, visNetwork, withr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'results_parsers.R' 'semantic_report_constructors.R' 'utils.R'
'report.R' 'assertions.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-11 10:01:11 UTC; kuba</td>
</tr>
<tr>
<td>Author:</td>
<td>Marcin Dubel [aut, cre],
  Paweł Przytuła [aut],
  Jakub Nowicki [aut],
  Krystian Igras [aut],
  Dominik Krzeminski [ctb],
  Servet Ahmet Çizmeli [ctb],
  Appsilon Sp. z o.o. [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marcin Dubel &lt;opensource+marcin@appsilon.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-11 10:20:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_results'>Add validation results to the Report object</h2><span id='topic+add_results'></span>

<h3>Description</h3>

<p>This function adds results to validator object with aggregating summary of
success, error and warning checks. Moreover it parses assertr results attributes and stores
them inside usable table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_results(data, report)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_results_+3A_data">data</code></td>
<td>
<p>Data that was validated.</p>
</td></tr>
<tr><td><code id="add_results_+3A_report">report</code></td>
<td>
<p>Report object to store validation results.</p>
</td></tr>
</table>

<hr>
<h2 id='check_assertr_expression'>Defensive wrapper to add evaluation error to regular validation errors.</h2><span id='topic+check_assertr_expression'></span>

<h3>Description</h3>

<p>Defensive wrapper to add evaluation error to regular validation errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_assertr_expression(this_call, data, description, error_fun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_assertr_expression_+3A_this_call">this_call</code></td>
<td>
<p>assertion command that is checked for valuation errors.</p>
</td></tr>
<tr><td><code id="check_assertr_expression_+3A_data">data</code></td>
<td>
<p>A data.frame or tibble to test.</p>
</td></tr>
<tr><td><code id="check_assertr_expression_+3A_description">description</code></td>
<td>
<p>A character string with description of assertion.</p>
</td></tr>
<tr><td><code id="check_assertr_expression_+3A_error_fun">error_fun</code></td>
<td>
<p>Function that is called when the validation fails</p>
</td></tr>
</table>


<h3>Value</h3>

<p>validation object with evaluation errors added to the list if occurred.
</p>


<h3>See Also</h3>

<p>validate_if
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(fixtuRes)
library(magrittr)
library(assertr)
library(data.validator)

my_mock_generator &lt;- fixtuRes::MockDataGenerator$new("fixtures_config.yml")
my_data_frame &lt;- my_mock_generator$get_data("my_data_frame", 10)

report &lt;- data.validator::data_validation_report()

validate(my_data_frame, name = "Verifying data uniqueness") %&gt;%
  validate_if(has_all_names("id", "code", "test"), description = "All columns are there") %&gt;%
  validate_if(is.character(test), description = "TEST column is string") %&gt;%
  validate_if(is_uniq(id), description = "ID column is unique") %&gt;%
  validate_if(!is.na(id) &amp; id != "", description = "ID column is not empty") %&gt;%
  validate_if(is.character(code), description = "CODE column is string") %&gt;%
  validate_rows(col_concat, is_uniq, code, type, description = "CODE and TYPE is unique") %&gt;%
  add_results(report)

print(report)

## End(Not run)
</code></pre>

<hr>
<h2 id='convert_error_df'>Convert error table column types</h2><span id='topic+convert_error_df'></span>

<h3>Description</h3>

<p>Convert error table column types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_error_df(error_df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_error_df_+3A_error_df">error_df</code></td>
<td>
<p>Table consisting assertr error details</p>
</td></tr>
</table>

<hr>
<h2 id='create_summary_row'>Create summary table row.</h2><span id='topic+create_summary_row'></span>

<h3>Description</h3>

<p>Create summary table row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_summary_row(id, number, color, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_summary_row_+3A_id">id</code></td>
<td>
<p>ID.</p>
</td></tr>
<tr><td><code id="create_summary_row_+3A_number">number</code></td>
<td>
<p>Number to display.</p>
</td></tr>
<tr><td><code id="create_summary_row_+3A_color">color</code></td>
<td>
<p>Color of the label.</p>
</td></tr>
<tr><td><code id="create_summary_row_+3A_label">label</code></td>
<td>
<p>Label to display.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Summary table row.
</p>

<hr>
<h2 id='data_validation_report'>Create new validator object</h2><span id='topic+data_validation_report'></span>

<h3>Description</h3>

<p>The object returns R6 class environment responsible for storing validation results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_validation_report()
</code></pre>

<hr>
<h2 id='display_results'>Displays results of validations.</h2><span id='topic+display_results'></span>

<h3>Description</h3>

<p>Displays results of validations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>display_results(data, n_passes, n_fails, n_warns, df_error_head_n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="display_results_+3A_data">data</code></td>
<td>
<p>Report data.</p>
</td></tr>
<tr><td><code id="display_results_+3A_n_passes">n_passes</code></td>
<td>
<p>Number of successful assertions.</p>
</td></tr>
<tr><td><code id="display_results_+3A_n_fails">n_fails</code></td>
<td>
<p>Number of warning assertions.</p>
</td></tr>
<tr><td><code id="display_results_+3A_n_warns">n_warns</code></td>
<td>
<p>Number of violation assertions.</p>
</td></tr>
<tr><td><code id="display_results_+3A_df_error_head_n">df_error_head_n</code></td>
<td>
<p>Number of rows to display in error table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Validation report.
</p>

<hr>
<h2 id='error_class'>Constants</h2><span id='topic+error_class'></span>

<h3>Description</h3>

<p>Constants
</p>


<h3>Usage</h3>

<pre><code class='language-R'>error_class
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>

<hr>
<h2 id='find_first_noncall'>Create a recursive function to find the first non-call object</h2><span id='topic+find_first_noncall'></span>

<h3>Description</h3>

<p>This function iteratively dives into the provided list (R expression),
until it finds an object that is not a function call or a complex command.
The [[2]] is used with the argument 2, because in the list representation
of function calls in R, the actual function is the first element, and its arguments
are the subsequent elements. So object 2 generally refers to the first argument
of the function call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_first_noncall(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_first_noncall_+3A_object">object</code></td>
<td>
<p>A list representing an R expression.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The first non-call object found in the list representation of an R expression.
</p>

<hr>
<h2 id='generate_id'>Generate a random ID.</h2><span id='topic+generate_id'></span>

<h3>Description</h3>

<p>Generate a random ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_id()
</code></pre>


<h3>Value</h3>

<p>A characters corresponding to random ID.
</p>

<hr>
<h2 id='get_assert_method'>Match proper method depending on predicate type</h2><span id='topic+get_assert_method'></span>

<h3>Description</h3>

<p>Match proper method depending on predicate type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_assert_method(
  predicate,
  method = list(direct = assertr::assert, generator = assertr::insist)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_assert_method_+3A_predicate">predicate</code></td>
<td>
<p>Predicate or predicate generator function.</p>
</td></tr>
<tr><td><code id="get_assert_method_+3A_method">method</code></td>
<td>
<p>optional list with fields direct and generator of assertions</p>
</td></tr>
</table>

<hr>
<h2 id='get_assertion_type'>get assertion type</h2><span id='topic+get_assertion_type'></span>

<h3>Description</h3>

<p>get assertion type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_assertion_type(assertion)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_assertion_type_+3A_assertion">assertion</code></td>
<td>
<p>assertion object (check <code>assertr</code> package for details)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character with id of assertion: &quot;error&quot;, &quot;success&quot;, &quot;warning&quot;
</p>

<hr>
<h2 id='get_ast'>Constructs an Abstract Syntax Tree for an expression</h2><span id='topic+get_ast'></span>

<h3>Description</h3>

<p>This function breaks down an R expression into a list structure,
creating a tree-like representation of the code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_ast(exp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_ast_+3A_exp">exp</code></td>
<td>
<p>An R expression to be parsed into a list structure.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list structure that represents the input R expression.
</p>

<hr>
<h2 id='get_first_name'>Extract the name of the initial data object in a magrittr pipe chain</h2><span id='topic+get_first_name'></span>

<h3>Description</h3>

<p>This function analyzes the call stack, identifies the first call using
the magrittr pipe operator ('
initial object in that pipe chain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_first_name()
</code></pre>


<h3>Value</h3>

<p>A string representing the name of the initial data object in the pipe chain.
</p>

<hr>
<h2 id='get_results'>Get validation results</h2><span id='topic+get_results'></span>

<h3>Description</h3>

<p>The response is a list containing information about successful, failed,
warning assertions and the table stores important information about validation results.
Those are:
</p>

<ul>
<li><p> table_name - name of validated table
</p>
</li>
<li><p> assertion.id - id used for each assertion
</p>
</li>
<li><p> description - assertion description
</p>
</li>
<li><p> num.violations - number of violations (assertion and column specific)
</p>
</li>
<li><p> call - assertion call
</p>
</li>
<li><p> message - assertion result message for specific column
</p>
</li>
<li><p> type - error, warning or success
</p>
</li>
<li><p> error_df - nested table storing details about error or warning result (like violated
indexes and values)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>get_results(report, unnest = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_results_+3A_report">report</code></td>
<td>
<p>Report object that stores validation results. See <a href="#topic+add_results">add_results</a>.</p>
</td></tr>
<tr><td><code id="get_results_+3A_unnest">unnest</code></td>
<td>
<p>If TRUE, error_df table is unnested. Results with remaining columns duplicated in
table.</p>
</td></tr>
</table>

<hr>
<h2 id='get_results_number'>Get results number</h2><span id='topic+get_results_number'></span>

<h3>Description</h3>

<p>Get results number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_results_number(results)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_results_number_+3A_results">results</code></td>
<td>
<p>assertion results</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with results number
</p>

<hr>
<h2 id='get_semantic_report_ui'>Generate HTML report.</h2><span id='topic+get_semantic_report_ui'></span>

<h3>Description</h3>

<p>Generate HTML validation report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_semantic_report_ui(
  n_passes,
  n_fails,
  n_warns,
  validation_results,
  df_error_head_n
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_semantic_report_ui_+3A_n_passes">n_passes</code></td>
<td>
<p>Number of passed validations</p>
</td></tr>
<tr><td><code id="get_semantic_report_ui_+3A_n_fails">n_fails</code></td>
<td>
<p>Number of failed validations.</p>
</td></tr>
<tr><td><code id="get_semantic_report_ui_+3A_n_warns">n_warns</code></td>
<td>
<p>Number of warnings.</p>
</td></tr>
<tr><td><code id="get_semantic_report_ui_+3A_validation_results">validation_results</code></td>
<td>
<p>Data frame with validation results.</p>
</td></tr>
<tr><td><code id="get_semantic_report_ui_+3A_df_error_head_n">df_error_head_n</code></td>
<td>
<p>Number of rows to display in error table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>HTML validation report.
</p>

<hr>
<h2 id='is_complex_command'>Check if a command is complex, i.e, contains any non-alphanumeric character</h2><span id='topic+is_complex_command'></span>

<h3>Description</h3>

<p>Check if a command is complex, i.e, contains any non-alphanumeric character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_complex_command(command_string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_complex_command_+3A_command_string">command_string</code></td>
<td>
<p>A character string representing the command to be checked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value indicating whether the command_string is complex (TRUE) or not (FALSE).
</p>

<hr>
<h2 id='make_accordion_container'>Create a UI accordion container.</h2><span id='topic+make_accordion_container'></span>

<h3>Description</h3>

<p>Create a UI accordion container.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_accordion_container(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_accordion_container_+3A_...">...</code></td>
<td>
<p>Additional arguments inside accordion container.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Accordion container.
</p>

<hr>
<h2 id='make_accordion_element'>Create a UI accordion element.</h2><span id='topic+make_accordion_element'></span>

<h3>Description</h3>

<p>Create a UI accordion element.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_accordion_element(
  results,
  color = "green",
  label,
  active = FALSE,
  type,
  mark,
  df_error_head_n
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_accordion_element_+3A_results">results</code></td>
<td>
<p>Results to display.</p>
</td></tr>
<tr><td><code id="make_accordion_element_+3A_color">color</code></td>
<td>
<p>Color of the label icon.</p>
</td></tr>
<tr><td><code id="make_accordion_element_+3A_label">label</code></td>
<td>
<p>Label.</p>
</td></tr>
<tr><td><code id="make_accordion_element_+3A_active">active</code></td>
<td>
<p>Is active?</p>
</td></tr>
<tr><td><code id="make_accordion_element_+3A_type">type</code></td>
<td>
<p>Result type.</p>
</td></tr>
<tr><td><code id="make_accordion_element_+3A_mark">mark</code></td>
<td>
<p>Icon to display.</p>
</td></tr>
<tr><td><code id="make_accordion_element_+3A_df_error_head_n">df_error_head_n</code></td>
<td>
<p>Number of rows to display in error table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Accordion.
</p>

<hr>
<h2 id='make_summary_table'>Create summary table.</h2><span id='topic+make_summary_table'></span>

<h3>Description</h3>

<p>Create summary table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_summary_table(n_passes, n_fails, n_warns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_summary_table_+3A_n_passes">n_passes</code></td>
<td>
<p>Number of passed validations.</p>
</td></tr>
<tr><td><code id="make_summary_table_+3A_n_fails">n_fails</code></td>
<td>
<p>Number of failed validations.</p>
</td></tr>
<tr><td><code id="make_summary_table_+3A_n_warns">n_warns</code></td>
<td>
<p>Number of warnings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Summary table.
</p>

<hr>
<h2 id='make_table_row'>Create table row.</h2><span id='topic+make_table_row'></span>

<h3>Description</h3>

<p>Create table row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_table_row(results, type, mark, df_error_head_n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_table_row_+3A_results">results</code></td>
<td>
<p>Results to display in a row.</p>
</td></tr>
<tr><td><code id="make_table_row_+3A_type">type</code></td>
<td>
<p>Result type.</p>
</td></tr>
<tr><td><code id="make_table_row_+3A_mark">mark</code></td>
<td>
<p>Icon to display.</p>
</td></tr>
<tr><td><code id="make_table_row_+3A_df_error_head_n">df_error_head_n</code></td>
<td>
<p>Number of rows to display in error table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Table row.
</p>

<hr>
<h2 id='parse_errors_to_df'>Parse errors to data.frame</h2><span id='topic+parse_errors_to_df'></span>

<h3>Description</h3>

<p>Parse errors to data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_errors_to_df(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_errors_to_df_+3A_data">data</code></td>
<td>
<p>object of assertr error class  (check <code>assertr</code> package
for details)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with errors
</p>

<hr>
<h2 id='parse_results_to_df'>Parse results to data.frame</h2><span id='topic+parse_results_to_df'></span>

<h3>Description</h3>

<p>Parse results to data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_results_to_df(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_results_to_df_+3A_data">data</code></td>
<td>
<p>assertr object  (check <code>assertr</code> package for details)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with successes and errors
</p>

<hr>
<h2 id='parse_successes_to_df'>Parse successes to data.frame</h2><span id='topic+parse_successes_to_df'></span>

<h3>Description</h3>

<p>Parse successes to data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_successes_to_df(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_successes_to_df_+3A_data">data</code></td>
<td>
<p>object of assertr success class  (check <code>assertr</code> package
for details)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with successes
</p>

<hr>
<h2 id='prepare_modal_content'>Prepare modal content.</h2><span id='topic+prepare_modal_content'></span>

<h3>Description</h3>

<p>Prepare modal content.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_modal_content(error, df_error_head_n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_modal_content_+3A_error">error</code></td>
<td>
<p>Assertr error.</p>
</td></tr>
<tr><td><code id="prepare_modal_content_+3A_df_error_head_n">df_error_head_n</code></td>
<td>
<p>Number of rows to display in error table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Modal content.
</p>

<hr>
<h2 id='render_raw_report_ui'>Render simple version of report</h2><span id='topic+render_raw_report_ui'></span>

<h3>Description</h3>

<p>Renders content of simple report version that prints <code>validation_results</code>
table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_raw_report_ui(
  validation_results,
  success = TRUE,
  warning = TRUE,
  error = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_raw_report_ui_+3A_validation_results">validation_results</code></td>
<td>
<p>Validation results table (see <a href="#topic+get_results">get_results</a>).</p>
</td></tr>
<tr><td><code id="render_raw_report_ui_+3A_success">success</code></td>
<td>
<p>Should success results be presented?</p>
</td></tr>
<tr><td><code id="render_raw_report_ui_+3A_warning">warning</code></td>
<td>
<p>Should warning results be presented?</p>
</td></tr>
<tr><td><code id="render_raw_report_ui_+3A_error">error</code></td>
<td>
<p>Should error results be presented?</p>
</td></tr>
</table>

<hr>
<h2 id='render_semantic_report_ui'>Render semantic version of report</h2><span id='topic+render_semantic_report_ui'></span>

<h3>Description</h3>

<p>Renders content of semantic report version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_semantic_report_ui(
  validation_results,
  success = TRUE,
  warning = TRUE,
  error = TRUE,
  df_error_head_n = 6L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_semantic_report_ui_+3A_validation_results">validation_results</code></td>
<td>
<p>Validation results table (see <a href="#topic+get_results">get_results</a>).</p>
</td></tr>
<tr><td><code id="render_semantic_report_ui_+3A_success">success</code></td>
<td>
<p>Should success results be presented?</p>
</td></tr>
<tr><td><code id="render_semantic_report_ui_+3A_warning">warning</code></td>
<td>
<p>Should warning results be presented?</p>
</td></tr>
<tr><td><code id="render_semantic_report_ui_+3A_error">error</code></td>
<td>
<p>Should error results be presented?</p>
</td></tr>
<tr><td><code id="render_semantic_report_ui_+3A_df_error_head_n">df_error_head_n</code></td>
<td>
<p>Number of rows to display in error table.
Works in the same way as <code>head</code> function.</p>
</td></tr>
</table>

<hr>
<h2 id='result_table'>Create table with results.</h2><span id='topic+result_table'></span>

<h3>Description</h3>

<p>Create table with results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>result_table(results, type, mark, df_error_head_n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="result_table_+3A_results">results</code></td>
<td>
<p>Result to display in table.</p>
</td></tr>
<tr><td><code id="result_table_+3A_type">type</code></td>
<td>
<p>Result type.</p>
</td></tr>
<tr><td><code id="result_table_+3A_mark">mark</code></td>
<td>
<p>Icon to display.</p>
</td></tr>
<tr><td><code id="result_table_+3A_df_error_head_n">df_error_head_n</code></td>
<td>
<p>Number of rows to display in error table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Table row.
</p>

<hr>
<h2 id='save_report'>Saving results as a HTML report</h2><span id='topic+save_report'></span>

<h3>Description</h3>

<p>Saving results as a HTML report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_report(
  report,
  output_file = "validation_report.html",
  output_dir = getwd(),
  ui_constructor = render_semantic_report_ui,
  template = system.file("rmarkdown/templates/standard/skeleton/skeleton.Rmd", package =
    "data.validator"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_report_+3A_report">report</code></td>
<td>
<p>Report object that stores validation results.</p>
</td></tr>
<tr><td><code id="save_report_+3A_output_file">output_file</code></td>
<td>
<p>Html file name to write report to.</p>
</td></tr>
<tr><td><code id="save_report_+3A_output_dir">output_dir</code></td>
<td>
<p>Target report directory.</p>
</td></tr>
<tr><td><code id="save_report_+3A_ui_constructor">ui_constructor</code></td>
<td>
<p>Function of <code>validation_results</code> and optional parameters that
generates HTML code or HTML widget that should be used to generate report content. See
<code>custom_report</code> example.</p>
</td></tr>
<tr><td><code id="save_report_+3A_template">template</code></td>
<td>
<p>Path to Rmd template in which ui_constructor is rendered. See
<code>data.validator</code> rmarkdown template to see basic construction - the one is used as a
default template.</p>
</td></tr>
<tr><td><code id="save_report_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to <code>ui_constructor</code>.
For example: <code>df_error_head_n</code></p>
</td></tr>
</table>

<hr>
<h2 id='save_results'>Saving results table to external file</h2><span id='topic+save_results'></span>

<h3>Description</h3>

<p>Saving results table to external file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_results(report, file_name = "results.csv", method = utils::write.csv, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_results_+3A_report">report</code></td>
<td>
<p>Report object that stores validation results. See <a href="#topic+get_results">get_results</a>.</p>
</td></tr>
<tr><td><code id="save_results_+3A_file_name">file_name</code></td>
<td>
<p>Name of the resulting file (including extension).</p>
</td></tr>
<tr><td><code id="save_results_+3A_method">method</code></td>
<td>
<p>Function that should be used to save results table (write.csv default)
The function passed to <code>method</code> should have 'x' and 'file' arguments. Functions with
different arguments can be passed by creating a wrapper function for it.
See example save_results_methods.</p>
</td></tr>
<tr><td><code id="save_results_+3A_...">...</code></td>
<td>
<p>Remaining parameters passed to <code>method</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='save_summary'>Save simple validation summary in text file</h2><span id='topic+save_summary'></span>

<h3>Description</h3>

<p>Saves <code>print(validator)</code> output inside text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_summary(
  report,
  file_name = "validation_log.txt",
  success = TRUE,
  warning = TRUE,
  error = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_summary_+3A_report">report</code></td>
<td>
<p>Report object that stores validation results.</p>
</td></tr>
<tr><td><code id="save_summary_+3A_file_name">file_name</code></td>
<td>
<p>Name of the resulting file (including extension).</p>
</td></tr>
<tr><td><code id="save_summary_+3A_success">success</code></td>
<td>
<p>Should success results be presented?</p>
</td></tr>
<tr><td><code id="save_summary_+3A_warning">warning</code></td>
<td>
<p>Should warning results be presented?</p>
</td></tr>
<tr><td><code id="save_summary_+3A_error">error</code></td>
<td>
<p>Should error results be presented?</p>
</td></tr>
</table>

<hr>
<h2 id='segment'>Create a UI segment element.</h2><span id='topic+segment'></span>

<h3>Description</h3>

<p>Create a UI segment element.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segment(title, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segment_+3A_title">title</code></td>
<td>
<p>Title of the segment.</p>
</td></tr>
<tr><td><code id="segment_+3A_...">...</code></td>
<td>
<p>Additional arguments inside segment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Segment.
</p>

<hr>
<h2 id='validate'>Prepare data for validation chain</h2><span id='topic+validate'></span>

<h3>Description</h3>

<p>Prepare data for validation and generating report.
The function prepares data for chain validation and ensures all the validation results are
gathered correctly. The function also attaches additional information to the data
(name and description) that is then displayed in validation report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate(data, name, description = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_+3A_data">data</code></td>
<td>
<p>data.frame or tibble to test</p>
</td></tr>
<tr><td><code id="validate_+3A_name">name</code></td>
<td>
<p>name of validation object (will be displayed in the report)</p>
</td></tr>
<tr><td><code id="validate_+3A_description">description</code></td>
<td>
<p>description of validation object (will be displayed in the report)</p>
</td></tr>
</table>

<hr>
<h2 id='validate_cols'>Validation on columns</h2><span id='topic+validate_cols'></span>

<h3>Description</h3>

<p>Validation on columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_cols(
  data,
  predicate,
  ...,
  obligatory = FALSE,
  description = NA,
  skip_chain_opts = FALSE,
  success_fun = assertr::success_append,
  error_fun = assertr::error_append,
  defect_fun = assertr::defect_append
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_cols_+3A_data">data</code></td>
<td>
<p>A data.frame or tibble to test</p>
</td></tr>
<tr><td><code id="validate_cols_+3A_predicate">predicate</code></td>
<td>
<p>Predicate function or predicate generator such as <code><a href="assertr.html#topic+in_set">in_set</a></code>
or <code><a href="assertr.html#topic+within_n_sds">within_n_sds</a></code></p>
</td></tr>
<tr><td><code id="validate_cols_+3A_...">...</code></td>
<td>
<p>Columns selection that <code>predicate</code> should be called on.
All tidyselect <code><a href="tidyselect.html#topic+language">language</a></code> methods are supported.
If not provided, all <code><a href="tidyselect.html#topic+everything">everything</a></code> will be used.</p>
</td></tr>
<tr><td><code id="validate_cols_+3A_obligatory">obligatory</code></td>
<td>
<p>If TRUE and assertion failed the data is marked as defective.
For defective data, all the following rules are handled by defect_fun function</p>
</td></tr>
<tr><td><code id="validate_cols_+3A_description">description</code></td>
<td>
<p>A character string with description of assertion.
The description is then displayed in the validation report</p>
</td></tr>
<tr><td><code id="validate_cols_+3A_skip_chain_opts">skip_chain_opts</code></td>
<td>
<p>While wrapping data with <a href="#topic+validate">validate</a> function, <code>success_fun</code> and
<code>error_fun</code> parameters are rewritten with <code>success_append</code> and <code>error_append</code>
respectively. In order to use parameters assigned to the function directly set skip_chain_opts
to TRUE</p>
</td></tr>
<tr><td><code id="validate_cols_+3A_success_fun">success_fun</code></td>
<td>
<p>Function that is called when the validation pass</p>
</td></tr>
<tr><td><code id="validate_cols_+3A_error_fun">error_fun</code></td>
<td>
<p>Function that is called when the validation fails</p>
</td></tr>
<tr><td><code id="validate_cols_+3A_defect_fun">defect_fun</code></td>
<td>
<p>Function that is called when the data is marked as defective</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>validate_if validate_rows
</p>

<hr>
<h2 id='validate_if'>Verify if expression regarding data is TRUE</h2><span id='topic+validate_if'></span>

<h3>Description</h3>

<p>The function checks whether all the logical values returned by the expression are TRUE.
The function is meant for handling all the cases that cannot be reached by using
<a href="#topic+validate_cols">validate_cols</a> and <a href="#topic+validate_rows">validate_rows</a> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_if(
  data,
  expr,
  description = NA,
  obligatory = FALSE,
  skip_chain_opts = FALSE,
  success_fun = assertr::success_append,
  error_fun = assertr::error_append,
  defect_fun = assertr::defect_append
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_if_+3A_data">data</code></td>
<td>
<p>A data.frame or tibble to test</p>
</td></tr>
<tr><td><code id="validate_if_+3A_expr">expr</code></td>
<td>
<p>A Logical expression to test for, e.g. <code>var_name &gt; 0</code></p>
</td></tr>
<tr><td><code id="validate_if_+3A_description">description</code></td>
<td>
<p>A character string with description of assertion.
The description is then displayed in the validation report</p>
</td></tr>
<tr><td><code id="validate_if_+3A_obligatory">obligatory</code></td>
<td>
<p>If TRUE and assertion failed the data is marked as defective.
For defective data, all the following rules are handled by defect_fun function</p>
</td></tr>
<tr><td><code id="validate_if_+3A_skip_chain_opts">skip_chain_opts</code></td>
<td>
<p>While wrapping data with <a href="#topic+validate">validate</a> function, <code>success_fun</code> and
<code>error_fun</code> parameters are rewritten with <code>success_append</code> and <code>error_append</code>
respectively. In order to use parameters assigned to the function directly set skip_chain_opts
to TRUE</p>
</td></tr>
<tr><td><code id="validate_if_+3A_success_fun">success_fun</code></td>
<td>
<p>Function that is called when the validation pass</p>
</td></tr>
<tr><td><code id="validate_if_+3A_error_fun">error_fun</code></td>
<td>
<p>Function that is called when the validation fails</p>
</td></tr>
<tr><td><code id="validate_if_+3A_defect_fun">defect_fun</code></td>
<td>
<p>Function that is called when the data is marked as defective</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>validate_cols validate_rows
</p>

<hr>
<h2 id='validate_rows'>Validation on rows</h2><span id='topic+validate_rows'></span>

<h3>Description</h3>

<p>Validation on rows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_rows(
  data,
  row_reduction_fn,
  predicate,
  ...,
  obligatory = FALSE,
  description = NA,
  skip_chain_opts = FALSE,
  success_fun = assertr::success_append,
  error_fun = assertr::error_append,
  defect_fun = assertr::defect_append
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_rows_+3A_data">data</code></td>
<td>
<p>A data.frame or tibble to test</p>
</td></tr>
<tr><td><code id="validate_rows_+3A_row_reduction_fn">row_reduction_fn</code></td>
<td>
<p>Function that should reduce rows into a single column that is passed to
validation e.g. <code><a href="assertr.html#topic+num_row_NAs">num_row_NAs</a></code></p>
</td></tr>
<tr><td><code id="validate_rows_+3A_predicate">predicate</code></td>
<td>
<p>Predicate function or predicate generator such as <code><a href="assertr.html#topic+in_set">in_set</a></code>
or <code><a href="assertr.html#topic+within_n_sds">within_n_sds</a></code></p>
</td></tr>
<tr><td><code id="validate_rows_+3A_...">...</code></td>
<td>
<p>Columns selection that <code>row_reduction_fn</code> should be called on.
All tidyselect <code><a href="tidyselect.html#topic+language">language</a></code> methods are supported.
If not provided, all <code><a href="tidyselect.html#topic+everything">everything</a></code> will be used.</p>
</td></tr>
<tr><td><code id="validate_rows_+3A_obligatory">obligatory</code></td>
<td>
<p>If TRUE and assertion failed the data is marked as defective.
For defective data, all the following rules are handled by defect_fun function</p>
</td></tr>
<tr><td><code id="validate_rows_+3A_description">description</code></td>
<td>
<p>A character string with description of assertion.
The description is then displayed in the validation report</p>
</td></tr>
<tr><td><code id="validate_rows_+3A_skip_chain_opts">skip_chain_opts</code></td>
<td>
<p>While wrapping data with <a href="#topic+validate">validate</a> function, <code>success_fun</code> and
<code>error_fun</code> parameters are rewritten with <code>success_append</code> and <code>error_append</code>
respectively. In order to use parameters assigned to the function directly set
skip_chain_opts to TRUE.</p>
</td></tr>
<tr><td><code id="validate_rows_+3A_success_fun">success_fun</code></td>
<td>
<p>Function that is called when the validation pass</p>
</td></tr>
<tr><td><code id="validate_rows_+3A_error_fun">error_fun</code></td>
<td>
<p>Function that is called when the validation fails</p>
</td></tr>
<tr><td><code id="validate_rows_+3A_defect_fun">defect_fun</code></td>
<td>
<p>Function that is called when the data is marked as defective</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>validate_cols validate_if
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

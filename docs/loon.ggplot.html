<!DOCTYPE html><html lang="en-US"><head><title>Help for package loon.ggplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {loon.ggplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#loon.ggplot-package'><p>loon.ggplot: A Grammar of Interactive Graphics</p></a></li>
<li><a href='#active'><p>Modify the <code>active</code> component</p></a></li>
<li><a href='#Cartesianxy2Polarxy'><p>Transform the x, y positions from a Cartesian coordinate to a polar coordinate</p></a></li>
<li><a href='#g_getLocations'><p>get locations for <code>ggmatrix</code></p></a></li>
<li><a href='#g_getPlots'><p>get <code>ggplot</code>s</p></a></li>
<li><a href='#geom_imageGlyph-deprecated'><p>geom_imageGlyph (deprecated)</p></a></li>
<li><a href='#geom_pointrangeGlyph-deprecated'><p>geom_pointrangeGlyph (deprecated)</p></a></li>
<li><a href='#geom_serialAxesGlyph-deprecated'><p>geom_serialAxesGlyph (deprecated)</p></a></li>
<li><a href='#geom_textGlyph-deprecated'><p>geom_textGlyph (deprecated)</p></a></li>
<li><a href='#get_activeGeomLayers'><p>active geom layers</p></a></li>
<li><a href='#get_scaledData'><p>scale data</p></a></li>
<li><a href='#gg_pipe'><p>Pipe ggplot object</p></a></li>
<li><a href='#ggplot2loon'><p><code>ggplot</code> to <code>loon</code></p></a></li>
<li><a href='#ggSerialAxes-deprecated'><p>ggplot serialaxes (deprecated)</p></a></li>
<li><a href='#hover'><p>Modify the <code>hover</code> component</p></a></li>
<li><a href='#interactivity'><p>Modify the <code>interactivity</code> component</p></a></li>
<li><a href='#is.CoordPolar'><p>Is polar coordinate system?</p></a></li>
<li><a href='#is.l_ggplot'><p>Reports whether x is a <code>l_ggplot</code> object</p></a></li>
<li><a href='#itemLabel-deprecated'><p>itemLabel (deprecated)</p></a></li>
<li><a href='#l_getSubtitles'><p>Return the subtitles</p></a></li>
<li><a href='#l_ggplot'><p>Automatically create a loon widget</p></a></li>
<li><a href='#layout_coords'><p>layout matrix</p></a></li>
<li><a href='#lggplot-deprecated'><p>lggplot (deprecated)</p></a></li>
<li><a href='#linking'><p>Modify the <code>linking</code> component</p></a></li>
<li><a href='#loon.ggplot'><p>loon.ggplot</p></a></li>
<li><a href='#loon.ggplot-deprecated'><p>Deprecated functions in package <span class="pkg">loon.ggplot</span>.</p></a></li>
<li><a href='#loon2ggplot.l_compound'><p>Turn a <code>loon</code> widget to a <code>ggplot</code> object</p></a></li>
<li><a href='#loonLayer'><p>Transform geom layers to loon layers</p></a></li>
<li><a href='#print.l_ggplot'><p>Explicitly draw plot</p></a></li>
<li><a href='#scale_multi'><p>Position scales for continuous data (x, y &amp; z)</p></a></li>
<li><a href='#scaleBox'><p>Box scaling in 3D rotation</p></a></li>
<li><a href='#selecting-deprecated'><p>selecting (deprecated)</p></a></li>
<li><a href='#selection'><p>Modify the <code>selected</code> component</p></a></li>
<li><a href='#zoom'><p>Zoom Plot Region</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Grammar of Interactive Graphics</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a bridge between the 'loon' and  'ggplot2' packages.  Extends the grammar of ggplot to add clauses to create interactive 'loon' plots. Existing ggplot(s) can be turned into interactive 'loon' plots and 'loon' plots into static ggplot(s); the function 'loon.ggplot()' is the bridge from one plot structure to the other.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/great-northern-diver/loon.ggplot/issues">https://github.com/great-northern-diver/loon.ggplot/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), tcltk, methods, loon (&ge; 1.3.2), ggplot2,
ggmulti</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, grDevices, grid, gridExtra, scales, patchwork,
rlang, cli</td>
</tr>
<tr>
<td>Suggests:</td>
<td>GGally, magrittr, tidyr, zenplots, dplyr, gtable, png, tools,
tibble, testthat, knitr, rmarkdown, covr, maps, hexbin,
nycflights13, ggplot2movies</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-28 16:01:35 UTC; zehaoxu</td>
</tr>
<tr>
<td>Author:</td>
<td>Zehao Xu [aut, cre],
  R. Wayne Oldford [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zehao Xu &lt;z267xu@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-01 08:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='loon.ggplot-package'>loon.ggplot: A Grammar of Interactive Graphics</h2><span id='topic+loon.ggplot-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides a bridge between the 'loon' and 'ggplot2' packages. Extends the grammar of ggplot to add clauses to create interactive 'loon' plots. Existing ggplot(s) can be turned into interactive 'loon' plots and 'loon' plots into static ggplot(s); the function 'loon.ggplot()' is the bridge from one plot structure to the other.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Zehao Xu <a href="mailto:z267xu@gmail.com">z267xu@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> R. Wayne Oldford <a href="mailto:rwoldford@uwaterloo.ca">rwoldford@uwaterloo.ca</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li><p> Report bugs at <a href="https://github.com/great-northern-diver/loon.ggplot/issues">https://github.com/great-northern-diver/loon.ggplot/issues</a>
</p>
</li></ul>


<hr>
<h2 id='active'>Modify the <code>active</code> component</h2><span id='topic+active'></span>

<h3>Description</h3>

<p>Set <code>active</code> and/or <code>activeGeomLayers</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>active(active = NULL, activeGeomLayers = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="active_+3A_active">active</code></td>
<td>
<p>a logical or a logical vector of length <code>n</code> that determines which observations
are active (<code>TRUE</code> and hence appear in the plot) and which are inactive (<code>FALSE</code> and hence do not appear).
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="active_+3A_activegeomlayers">activeGeomLayers</code></td>
<td>
<p>determine which geom layer is interactive by its 'geom_...' position in the grammar of the expression.
Currently, only <code>geom_point()</code> and <code>geom_histogram()</code> can be set as the active geom layer(s) so far.
(N.B. more than one <code>geom_point()</code> layer can be set as an active layer,
but only one <code>geom_histogram()</code> can be set as an active geom layer and it can be the only active layer.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggproto</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+linking">linking</a></code>, <code><a href="#topic+selection">selection</a></code>, <code><a href="#topic+zoom">zoom</a></code>,
<code><a href="#topic+hover">hover</a></code>, <code><a href="#topic+interactivity">interactivity</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {

  # set active layer
  l_ggplot(mtcars, aes(mpg, wt, shape = factor(cyl))) +
    geom_point(colour = "black", size = 4.5) +
    geom_point(colour = "pink", size = 4) +
    geom_point(aes(shape = factor(cyl))) +
    # only show manual transmission cars
    # in the second interactive layer
    active(active = mtcars$am == 1,
           activeGeomLayers = 2)

  # Then, click the `reactivate` button on loon inspector
  # to display all interactive points
}
</code></pre>

<hr>
<h2 id='Cartesianxy2Polarxy'>Transform the x, y positions from a Cartesian coordinate to a polar coordinate</h2><span id='topic+Cartesianxy2Polarxy'></span>

<h3>Description</h3>

<p>Used in the 'loonLayer' construction to access the x, y positions embedded in the
polar coordinate system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cartesianxy2Polarxy(layerGeom, coordinates, data, ggplotPanelParams, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Cartesianxy2Polarxy_+3A_layergeom">layerGeom</code></td>
<td>
<p>A <code>ggplot</code> layer object</p>
</td></tr>
<tr><td><code id="Cartesianxy2Polarxy_+3A_coordinates">coordinates</code></td>
<td>
<p>A <code>ggplot</code> object coordinate system</p>
</td></tr>
<tr><td><code id="Cartesianxy2Polarxy_+3A_data">data</code></td>
<td>
<p>the data used for the transformation</p>
</td></tr>
<tr><td><code id="Cartesianxy2Polarxy_+3A_ggplotpanelparams">ggplotPanelParams</code></td>
<td>
<p>some non-data panel parameters,
i.e. the range of theta, the range of radius, theta major, theta minor, etc. It is obtained from the
<code>ggplot_build(p)$layout$panel_params</code> where &quot;p&quot; is a <code>ggplot</code> object</p>
</td></tr>
<tr><td><code id="Cartesianxy2Polarxy_+3A_...">...</code></td>
<td>
<p>for further use</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- ggplot(mtcars, aes(wt, mpg)) +
       geom_point() +
       coord_polar()

layerGeom &lt;- p$layers[[1L]]$geom
coordinates &lt;- p$coordinates
build &lt;- ggplot_build(p)
data &lt;- build$data[[1L]]
ggplotPanelParams &lt;- build$layout$panel_params[[1L]]

polarXY &lt;- Cartesianxy2Polarxy(layerGeom, coordinates, data, ggplotPanelParams)
plot(polarXY$x, polarXY$y)
</code></pre>

<hr>
<h2 id='g_getLocations'>get locations for <code>ggmatrix</code></h2><span id='topic+g_getLocations'></span><span id='topic+g_getLocations.default'></span><span id='topic+g_getLocations.l_pairs'></span>

<h3>Description</h3>

<p>For the target compound <code>loon</code> plot, determines location in <code>ggmatrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g_getLocations(target)

## Default S3 method:
g_getLocations(target)

## S3 method for class 'l_pairs'
g_getLocations(target)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="g_getLocations_+3A_target">target</code></td>
<td>
<p>the (compound) loon plot whose locations are needed to lay out.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of an appropriate subset of the named location arguments
'c(&quot;ncol&quot;, &quot;nrow&quot;, &quot;layout_matrix&quot;, &quot;heights&quot;, &quot;widths&quot;)'. <code>layout_matrix</code>
is an <code>nrow</code> by <code>ncol</code> matrix whose entries identify the location
of each plot in <code>g_getPlots()</code> by their index.
</p>


<h3>See Also</h3>

<p><code>l_getLocations</code>, <code><a href="#topic+g_getPlots">g_getPlots</a></code>
</p>

<hr>
<h2 id='g_getPlots'>get <code>ggplot</code>s</h2><span id='topic+g_getPlots'></span><span id='topic+g_getPlots.default'></span><span id='topic+g_getPlots.l_pairs'></span>

<h3>Description</h3>

<p>For the target compound loon plot, determines all the <code>ggplot</code>s based on
the compound <code>loon</code> plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g_getPlots(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE
)

## Default S3 method:
g_getPlots(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE
)

## S3 method for class 'l_pairs'
g_getPlots(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="g_getPlots_+3A_target">target</code></td>
<td>
<p>the (compound) loon plot</p>
</td></tr>
<tr><td><code id="g_getPlots_+3A_asaes">asAes</code></td>
<td>
<p>logical; set aesthetics attributes, i.e. 'color', 'fill' as
variables (default <code>TRUE</code>) or general visual properties (<code>FALSE</code>).
See details</p>
</td></tr>
<tr><td><code id="g_getPlots_+3A_selectedontop">selectedOnTop</code></td>
<td>
<p>logical and default is <code>TRUE</code>; whether to display the
selected points on top. See details.</p>
</td></tr>
<tr><td><code id="g_getPlots_+3A_shownearestcolor">showNearestColor</code></td>
<td>
<p>logical and default is <code>FALSE</code>; if <code>TRUE</code>,
the legend of color and fill (hex code) would be converted to the <code>R</code> built-in
color names. For some hex codes, there are no precise matching.
Consequently, these colors will be converted to the <code>R</code> built-in color names
which are the &quot;nearest&quot; of these hex codes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of <code>ggplot</code>s.
</p>


<h3>See Also</h3>

<p><code>l_getPlots</code>, <code><a href="#topic+g_getLocations">g_getLocations</a></code>
</p>

<hr>
<h2 id='geom_imageGlyph-deprecated'>geom_imageGlyph (deprecated)</h2><span id='topic+geom_imageGlyph-deprecated'></span><span id='topic+geom_imageGlyph'></span><span id='topic+geom_polygonGlyph'></span>

<h3>Description</h3>

<p>use <code>geom_image_glyph</code>, rather than <code>geom_imageGlyph</code>.
</p>
<p>use <code>geom_polygon_glyph</code>, rather than <code>geom_polygonGlyph</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_imageGlyph(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  images,
  width = 4,
  height = 3,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_polygonGlyph(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  polygon_x,
  polygon_y,
  showArea = TRUE,
  linewidth = 1,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_imageGlyph-deprecated_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_images">images</code></td>
<td>
<p>a list of images (a raster object, bitmap image). If not provided, a point visual (<code>geom_point()</code>) will be displayed.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_width">width</code></td>
<td>
<p>Numerical; width of image</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_height">height</code></td>
<td>
<p>Numerical; height of image</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_polygon_x">polygon_x</code></td>
<td>
<p>nested list of x-coordinates of polygons, one list element for each scatterplot point.
If not provided, a point visual (<code>geom_point()</code>) will be displayed.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_polygon_y">polygon_y</code></td>
<td>
<p>nested list of y-coordinates of polygons, one list element for each scatterplot point.
If not provided, a point visual (<code>geom_point()</code>) will be displayed.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_showarea">showArea</code></td>
<td>
<p>show area; deprecated now, please set 'fill' or 'colour' to control the shown area.</p>
</td></tr>
<tr><td><code id="geom_imageGlyph-deprecated_+3A_linewidth">linewidth</code></td>
<td>
<p>line width of the &quot;glyph&quot; object</p>
</td></tr>
</table>

<hr>
<h2 id='geom_pointrangeGlyph-deprecated'>geom_pointrangeGlyph (deprecated)</h2><span id='topic+geom_pointrangeGlyph-deprecated'></span><span id='topic+geom_pointrangeGlyph'></span>

<h3>Description</h3>

<p>use <code>geom_pointrange</code>, rather than <code>geom_pointrangeGlyph</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_pointrangeGlyph(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  ymin,
  ymax,
  showArea = TRUE,
  linewidth = 1,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_ymin">ymin</code></td>
<td>
<p>y min</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_ymax">ymax</code></td>
<td>
<p>y max</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_showarea">showArea</code></td>
<td>
<p>show area; deprecated now, please set 'fill' or 'colour' to control the shown area.</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_linewidth">linewidth</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_pointrangeGlyph-deprecated_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='geom_serialAxesGlyph-deprecated'>geom_serialAxesGlyph (deprecated)</h2><span id='topic+geom_serialAxesGlyph-deprecated'></span><span id='topic+geom_serialAxesGlyph'></span>

<h3>Description</h3>

<p>use <code>geom_serialaxes_glyph</code>, rather than <code>geom_serialAxesGlyph</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_serialAxesGlyph(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  serialAxesData,
  sequence = NULL,
  linewidth = 1,
  scaling = c("variable", "data", "observation", "none"),
  axesLayout = c("parallel", "radial"),
  showAxes = FALSE,
  showArea = FALSE,
  showEnclosing = FALSE,
  axesColor = "black",
  bboxColor = "black",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_serialaxesdata">serialAxesData</code></td>
<td>
<p>a serial axes numerical data set. If not provided, 'geom_point()' will be called.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_sequence">sequence</code></td>
<td>
<p>A vector with variable names that defines the axes sequence</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_linewidth">linewidth</code></td>
<td>
<p>line width of the &quot;glyph&quot; object</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_scaling">scaling</code></td>
<td>
<p>one of <code>data</code>, <code>variable</code>, <code>observation</code> or
<code>none</code> (not suggested the layout is the same with <code>data</code>)
to specify how the data is scaled.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_axeslayout">axesLayout</code></td>
<td>
<p>either &quot;radial&quot; or &quot;parallel&quot;</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_showaxes">showAxes</code></td>
<td>
<p>boolean to indicate whether axes should be shown or not</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_showarea">showArea</code></td>
<td>
<p>show area; deprecated now, please set 'fill' or 'colour' to control the shown area.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_showenclosing">showEnclosing</code></td>
<td>
<p>boolean to indicate whether enclosing should be shown or not</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_axescolor">axesColor</code></td>
<td>
<p>axes color</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_bboxcolor">bboxColor</code></td>
<td>
<p>bounding box color</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_serialAxesGlyph-deprecated_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='geom_textGlyph-deprecated'>geom_textGlyph (deprecated)</h2><span id='topic+geom_textGlyph-deprecated'></span><span id='topic+geom_textGlyph'></span>

<h3>Description</h3>

<p>use <code>geom_text</code>, rather than <code>geom_textGlyph</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textGlyph(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  text,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_textGlyph-deprecated_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function. Cannot be jointly specified with
<code>nudge_x</code> or <code>nudge_y</code>.</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_text">text</code></td>
<td>
<p>The test to display</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textGlyph-deprecated_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='get_activeGeomLayers'>active geom layers</h2><span id='topic+get_activeGeomLayers'></span>

<h3>Description</h3>

<p>'get_activeGeomLayers' will return the geom layer index which can be active
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_activeGeomLayers(ggObj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_activeGeomLayers_+3A_ggobj">ggObj</code></td>
<td>
<p>a ggplot object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'ggplot2loon' has an argument called 'activeGeomLayers'. It is a vector to determine which geom layers can be active.
The default setting is 'integer(0)', however, 'ggplot2loon' will automatically search the first 'geom_histogram' or 'geom_point' layer
to make it active. 'get_activeGeomLayers' is more like a guidance and give us a hint which one can be set as active.
</p>


<h3>Value</h3>

<p>a numerical vector of indicies (which layer can be interactive)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ggplot2loon">ggplot2loon</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {

  df &lt;- data.frame(x = 1:3, y = 1:3, colour = c(1,3,5))
  xgrid &lt;- with(df, seq(min(x), max(x), length = 50))
  interp &lt;- data.frame(
    x = xgrid,
    y = approx(df$x, df$y, xout = xgrid)$y,
    colour = approx(df$x, df$colour, xout = xgrid)$y
  )
  p1 &lt;- ggplot(data = df, aes(x, y, colour = colour)) +
    geom_line(interp, mapping = aes(x, y, colour = colour), size = 2) +
    geom_point(size = 5)
  agL &lt;- get_activeGeomLayers(p1)
  ggplot2loon(p1, activeGeomLayers = agL)

  p2 &lt;- ggplot(economics) +
    geom_rect(
      aes(xmin = start, xmax = end, fill = party),
      ymin = -Inf, ymax = Inf, alpha = 0.2,
      data = presidential
    ) +
    geom_text(
      aes(x = start, y = 2500, label = name),data = presidential,
      size = 3, vjust = 0, hjust = 0, nudge_x = 50
    ) +
    geom_line(aes(date, unemploy)) +
    scale_fill_manual(values = c("blue", "red"))
  # none can be interactive
  agL &lt;- get_activeGeomLayers(p2)
  #transparency is not allowed in tcltk
  ggplot2loon(p2, ggGuides = TRUE, activeGeomLayers = agL)

}
</code></pre>

<hr>
<h2 id='get_scaledData'>scale data</h2><span id='topic+get_scaledData'></span>

<h3>Description</h3>

<p>It is mainly used in serial axes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_scaledData(
  data,
  sequence = NULL,
  scaling = c("variable", "data", "observation", "none"),
  displayOrder = NULL,
  keep = FALSE,
  as.data.frame = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_scaledData_+3A_data">data</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="get_scaledData_+3A_sequence">sequence</code></td>
<td>
<p>vector with variable names that defines the axes sequence.
If <code>NULL</code>, it will be set as the column names automatically.</p>
</td></tr>
<tr><td><code id="get_scaledData_+3A_scaling">scaling</code></td>
<td>
<p>one of 'variable', 'data', 'observation' or 'none' to specify how the data is scaled.</p>
</td></tr>
<tr><td><code id="get_scaledData_+3A_displayorder">displayOrder</code></td>
<td>
<p>the order of the display</p>
</td></tr>
<tr><td><code id="get_scaledData_+3A_keep">keep</code></td>
<td>
<p>If <code>TRUE</code>, return the variables not shown in <code>sequence</code> as well;
else only return the variables defined in <code>sequence</code>.</p>
</td></tr>
<tr><td><code id="get_scaledData_+3A_as.data.frame">as.data.frame</code></td>
<td>
<p>Return a matrix or a data.frame</p>
</td></tr>
</table>

<hr>
<h2 id='gg_pipe'>Pipe ggplot object</h2><span id='topic+gg_pipe'></span>

<h3>Description</h3>

<p>Pack a <code>ggplot</code> object forward to <code>ggplot2loon</code> expressions
via a pipe-operator &quot;%&gt;%&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_pipe(data, ggObj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gg_pipe_+3A_data">data</code></td>
<td>
<p>a data frame to use for ggplot</p>
</td></tr>
<tr><td><code id="gg_pipe_+3A_ggobj">ggObj</code></td>
<td>
<p>a ggplot object to be passed though</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When &quot;+&quot; and &quot;%&gt;%&quot; both appear in pipe operations, &quot;%&gt;%&quot; takes the priority of &quot;+&quot;,e.g:
</p>
<p><code>mtcars %&gt;%
   ggplot(aes(mpg, wt, colour = cyl)) +
   geom_point() %&gt;%
   ggplot2loon()</code>,
</p>
<p>error would occur. The reason is
</p>
<p><code>geom_point() %&gt;% ggplot2loon()</code>
</p>
<p>would run before
</p>
<p><code>ggplot(aes(mpg, wt, colour = cyl)) + geom_point()</code>.
</p>
<p>Hence, we need a function <code>gg_pipe()</code> to pack the <code>ggplot</code> object and force operations happen in order.
</p>


<h3>Value</h3>

<p>a <code>ggplot</code> evaluate object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(requireNamespace("magrittr") &amp;&amp; interactive()) {
## Not run: 
 # Error
 g &lt;- mtcars %&gt;%
    ggplot(aes(mpg, wt, colour = cyl)) +
    geom_point() %&gt;%
    ggplot2loon()

## End(Not run)
 g &lt;- mtcars %&gt;%
   gg_pipe(
     ggplot(aes(mpg, wt, colour = cyl)) + geom_point()
   ) %&gt;%
   ggplot2loon()
}
</code></pre>

<hr>
<h2 id='ggplot2loon'><code>ggplot</code> to <code>loon</code></h2><span id='topic+ggplot2loon'></span>

<h3>Description</h3>

<p>Create an interactive 'loon' widget from a <code>ggplot</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot2loon(
  ggObj,
  ...,
  activeGeomLayers = integer(0),
  layerId = NULL,
  scaleToFun = NULL,
  ggGuides = FALSE,
  parent = NULL,
  pack = TRUE,
  exteriorLabelProportion = 1/5,
  canvasHeight = 700,
  canvasWidth = 850,
  tkLabels = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggplot2loon_+3A_ggobj">ggObj</code></td>
<td>
<p>a <code>ggplot</code> or <code>ggmatrix</code> object</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_...">...</code></td>
<td>
<p>named arguments to modify loon plot states</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_activegeomlayers">activeGeomLayers</code></td>
<td>
<p>to determine which geom layer is active. Only <code>geom_point()</code>
and <code>geom_histogram()</code> can be set as active geom layer(s) so far.
(Notice, more than one <code>geom_point()</code> layers can be set as active layers,
but only one <code>geom_histogram()</code> can be set as an active geom layer)</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_layerid">layerId</code></td>
<td>
<p>numerical; which layer to scale to</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_scaletofun">scaleToFun</code></td>
<td>
<p>scale to function. See <code><a href="#topic+zoom">zoom</a></code>.</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_ggguides">ggGuides</code></td>
<td>
<p>logical (default <code>FALSE</code>) to determine whether to draw a ggplot background or not.</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_parent">parent</code></td>
<td>
<p>parent widget path (Tk toplevel)</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_pack">pack</code></td>
<td>
<p>logical (default <code>TRUE</code>) to pack widgets.
If <code>FALSE</code>, widgets will be produced but won't be packed and so will not appear in the display.</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_exteriorlabelproportion">exteriorLabelProportion</code></td>
<td>
<p>space assigned to the vertical height/horizontal width of each exterior label
expressed as a proportion of a single plot's height/width.  Default is 0.2.
This is translated to a row/column span = 1 / exteriorLabelProportion for the plot size in
<code>tkgrid()</code>.</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_canvasheight">canvasHeight</code></td>
<td>
<p>the height of canvas</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_canvaswidth">canvasWidth</code></td>
<td>
<p>the width of canvas</p>
</td></tr>
<tr><td><code id="ggplot2loon_+3A_tklabels">tkLabels</code></td>
<td>
<p>Deprecated: logical (or <code>NULL</code>) to indicate whether the plot(s) are to be wrapped by
exterior labels (title, subtitle, xlabel or ylabel) using <code>tk.grid()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>loon</code> single widget or a compound object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
p &lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point()
g &lt;- ggplot2loon(p)

p1 &lt;- ggplot(mtcars) +
        geom_point(aes(x = wt, y = mpg,
                       colour = factor(gear))) +
        facet_wrap(~am)
g1 &lt;- ggplot2loon(p1)

df &lt;- data.frame(
  x = rnorm(120, c(0, 2, 4)),
  y = rnorm(120, c(1, 2, 1)),
  z = letters[1:3]
)
df2 &lt;- dplyr::select(df, -z)
scatterplots &lt;- ggplot(df, aes(x, y)) +
  geom_point(data = df2, colour = "grey70") +
  geom_point(aes(colour = z)) +
  facet_wrap(~z)

# The first point layer is set as the model layer
suppressWarnings(
  lp_scatterplots_active1 &lt;- ggplot2loon(scatterplots,
                               activeGeomLayers = 1,
                               linkingGroup = "test")
)
# Here, the gray points are interactive (not the colourful ones)

# The second point layer is set as the model layer
lp_scatterplots_active2 &lt;- ggplot2loon(scatterplots,
                                       activeGeomLayers = 2)
# Here, the colourful points are interactive

# Both point layers could be interactive
suppressWarnings(
 lp_scatterplots_active12 &lt;- ggplot2loon(scatterplots,
                                         activeGeomLayers = c(1,2))
)
# Here, all points are interactive

########### ggmatrix to loon ###########
if(requireNamespace("GGally")) {
pm &lt;- GGally::ggpairs(iris, column = 1:4,
                      ggplot2::aes(colour=Species))
lg &lt;- ggplot2loon(pm)
}

########### patchwork to loon ###########
if(requireNamespace("patchwork")) {
p1 &lt;- ggplot(mtcars) +
   geom_point(aes(mpg, disp))
p2 &lt;- ggplot(mtcars) +
   geom_boxplot(aes(gear, disp, group = gear))
# place two plots side by side
patchwork &lt;- p1 + p2
ggplot2loon(patchwork)
# See vignette `ggplots --&gt; loon plots` for more details
}

}
</code></pre>

<hr>
<h2 id='ggSerialAxes-deprecated'>ggplot serialaxes (deprecated)</h2><span id='topic+ggSerialAxes-deprecated'></span><span id='topic+ggSerialAxes'></span>

<h3>Description</h3>

<p>For <code>ggSerialAxes</code>, use <code>coord_serialaxes</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggSerialAxes(
  ggObj,
  data = NULL,
  axesLabels = NULL,
  showAxes = TRUE,
  showAxesLabels = TRUE,
  scaling = c("variable", "observation", "data", "none"),
  layout = c("parallel", "radial"),
  displayOrder = NULL,
  title = "",
  showLabels = TRUE,
  color = NULL,
  size = NULL,
  showGuides = TRUE,
  showArea = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggSerialAxes-deprecated_+3A_ggobj">ggObj</code></td>
<td>
<p>A 'ggplot' object</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_data">data</code></td>
<td>
<p>A data frame for serialaxes. If 'NULL', data must be set in 'ggObj'</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_axeslabels">axesLabels</code></td>
<td>
<p>A vector with variable names that defines the axes sequence.</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_showaxes">showAxes</code></td>
<td>
<p>Logical value to indicate whether axes should be shown or not</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_showaxeslabels">showAxesLabels</code></td>
<td>
<p>Logical value to indicate whether axes labels should be shown or not</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_scaling">scaling</code></td>
<td>
<p>one of 'variable', 'data', 'observation' or 'none' to
specify how the data is scaled. See Details for more information</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_layout">layout</code></td>
<td>
<p>either &quot;radial&quot; or &quot;parallel&quot;</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_displayorder">displayOrder</code></td>
<td>
<p>The display order of the observations.</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_title">title</code></td>
<td>
<p>title of the display</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_showlabels">showLabels</code></td>
<td>
<p>Logical value to indicate whether label (mainly **title**) should be shown or not</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_color">color</code></td>
<td>
<p>Line color</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_size">size</code></td>
<td>
<p>Line width</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_showguides">showGuides</code></td>
<td>
<p>Logical value to indicate whether guides should be shown or not</p>
</td></tr>
<tr><td><code id="ggSerialAxes-deprecated_+3A_showarea">showArea</code></td>
<td>
<p>Logical value to indicate whether to display lines or area</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Blank plot
p &lt;- ggplot(data = mtcars, mapping = aes(colour = factor(cyl)))
# Add serial axes (returns a ggplot object)
g &lt;- ggSerialAxes(p)
g
# An eulerian path of iris variables
# ordSeq &lt;- PairViz::eulerian(4)
ordSeq &lt;- c(1, 2, 3, 1, 4, 2, 3, 4)
ggSerialAxes(
       ggObj = ggplot(data = iris, mapping = aes(colour = Species)),
       axesLabels = colnames(iris)[ordSeq],
       layout = "radial"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='hover'>Modify the <code>hover</code> component</h2><span id='topic+hover'></span>

<h3>Description</h3>

<p>Provides a pop up display as the mouse hovers over a plot element in the interactive plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hover(itemLabel = NULL, showItemLabels = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hover_+3A_itemlabel">itemLabel</code></td>
<td>
<p>A character vector of length <code>n</code> with a string to be used to pop up when the
mouse hovers above that element.</p>
</td></tr>
<tr><td><code id="hover_+3A_showitemlabels">showItemLabels</code></td>
<td>
<p>A single logical value: <code>TRUE</code> if pop up labels are to appear on hover,
<code>FALSE</code> (the default) if they are not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggproto</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+active">active</a></code>, <code><a href="#topic+linking">linking</a></code>, <code><a href="#topic+zoom">zoom</a></code>,
<code><a href="#topic+selection">selection</a></code>, <code><a href="#topic+interactivity">interactivity</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {

  l_ggplot(mpg, mapping = aes(x = displ, y = cty)) +
    geom_point(size = 4) +
    # push the states of scatter plot to the histogram
    hover(itemLabel =
       with(mpg,
            paste0("model: ", manufacturer, " ", model, "\n",
                   "year: ", year, "\n",
                   "drive way: ", drv, "\n",
                   "fuel type: ", fl)
       ),
       showItemLabels = TRUE
    )
    # hover the mouse on top of any point to query
}
</code></pre>

<hr>
<h2 id='interactivity'>Modify the <code>interactivity</code> component</h2><span id='topic+interactivity'></span>

<h3>Description</h3>

<p>Set interactive components (e.g. <code>linking</code>, <code>selection</code>, etc)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interactivity(
  linkingGroup = NULL,
  linkingKey = NULL,
  linkedStates = NULL,
  sync = NULL,
  active = NULL,
  activeGeomLayers = NULL,
  selected = NULL,
  selectBy = NULL,
  selectionLogic = NULL,
  layerId = NULL,
  scaleToFun = NULL,
  itemLabel = NULL,
  showItemLabels = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="interactivity_+3A_linkinggroup">linkingGroup</code></td>
<td>
<p>The string identifying the group of linked plots that the current plot will join.  Default is none.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_linkingkey">linkingKey</code></td>
<td>
<p>The length <code>n</code> character vector of unique keys.  Default will be <code>"0", "1", ..., "n-1"</code>
where <code>n</code> is the number of elements (e.g., points) displayed.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_linkedstates">linkedStates</code></td>
<td>
<p>The character vector of display states to be linked.
These can be &quot;color&quot;, &quot;selected&quot;, &quot;active&quot;, &quot;size&quot; and &quot;glyph&quot; for an 'l_plot' object and
&quot;color&quot;, &quot;selected&quot;, &quot;active&quot; for an 'l_hist' object.  (These roughly correspond to aesthetics in a 'ggplot'.)</p>
</td></tr>
<tr><td><code id="interactivity_+3A_sync">sync</code></td>
<td>
<p>Either <code>"pull"</code> (the default) or <code>"push"</code> to indicate whether the values of the linked states of the plot
are to be pulled from those of the other plots in the linking group, or the values are to be pushed to all other plots
in the linking group. This matters only when joining an existing group of plots and the default value is typically
the right thing to do.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_active">active</code></td>
<td>
<p>a logical or a logical vector of length <code>n</code> that determines which observations
are active (<code>TRUE</code> and hence appear in the plot) and which are inactive (<code>FALSE</code> and hence do not appear).
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_activegeomlayers">activeGeomLayers</code></td>
<td>
<p>determine which geom layer is interactive by its 'geom_...' position in the grammar of the expression.
Currently, only <code>geom_point()</code> and <code>geom_histogram()</code> can be set as the active geom layer(s) so far.
(N.B. more than one <code>geom_point()</code> layer can be set as an active layer,
but only one <code>geom_histogram()</code> can be set as an active geom layer and it can be the only active layer.)</p>
</td></tr>
<tr><td><code id="interactivity_+3A_selected">selected</code></td>
<td>
<p>a logical or a logical vector of length <code>n</code> that determines which observations
are selected (<code>TRUE</code> and hence appear highlighted in the plot) and which are not.
Default is <code>FALSE</code> and no points are highlit.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_selectby">selectBy</code></td>
<td>
<p>A string determining how selection will occur in the interactive plot.
Default is <code>"sweeping"</code> where a rectangular region is reshaped or &quot;swept&quot; out to select observations.; alternately
<code>"brushing"</code> will indicate that a fixed rectangular region is moved about the display to select observations.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_selectionlogic">selectionLogic</code></td>
<td>
<p>One of &quot;select&quot; (the default), &quot;deselect&quot;, and &quot;invert&quot;.
The first highlights observations as selected, the second downlights them, and the third inverts them (downlighting
highlit observations and highlighting downlighted ones).</p>
</td></tr>
<tr><td><code id="interactivity_+3A_layerid">layerId</code></td>
<td>
<p>numerical; which layer to scale to</p>
</td></tr>
<tr><td><code id="interactivity_+3A_scaletofun">scaleToFun</code></td>
<td>
<p>scale to function. See <code><a href="#topic+zoom">zoom</a></code>.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_itemlabel">itemLabel</code></td>
<td>
<p>A character vector of length <code>n</code> with a string to be used to pop up when the
mouse hovers above that element.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_showitemlabels">showItemLabels</code></td>
<td>
<p>A single logical value: <code>TRUE</code> if pop up labels are to appear on hover,
<code>FALSE</code> (the default) if they are not.</p>
</td></tr>
<tr><td><code id="interactivity_+3A_...">...</code></td>
<td>
<p>named arguments to modify <code>loon</code> plot states. See <code>l_info_states</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>In interactive graphics, there are several fundamental infrastructures, such as querying, linking and selection.
Component <code>interactivity</code> is used to set these features.
</p>

<table>
<tr>
 <td style="text-align: left;"> <strong>Interactivity</strong> </td><td style="text-align: left;"> <strong>Description</strong> </td><td style="text-align: left;"> <strong>Subfunction</strong></td>
</tr>
<tr>
 <td style="text-align: left;">
  Linking </td><td style="text-align: left;"> Linking several plots to discover the pattern of interest </td><td style="text-align: left;"> <code><a href="#topic+linking">linking</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
  Selection </td><td style="text-align: left;"> Highlight the subset of interest </td><td style="text-align: left;"> <code><a href="#topic+selection">selection</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
  Active </td><td style="text-align: left;"> Determine which points appear </td><td style="text-align: left;"> <code><a href="#topic+active">active</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
  Hover </td><td style="text-align: left;"> Query in interactive graphics </td><td style="text-align: left;"> <code><a href="#topic+hover">hover</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
  Zoom </td><td style="text-align: left;"> Region Modification </td><td style="text-align: left;"> <code><a href="#topic+zoom">zoom</a></code></td>
</tr>

</table>



<h3>Value</h3>

<p>a <code>ggproto</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
  # Modify the 'linkingGroup' and 'origin' of a hist object
  l_ggplot(mtcars, mapping = aes(x = wt)) +
    geom_histogram() +
    interactivity(linkingGroup = "mt", origin = 2)

  # linking with the histogram
  l_ggplot(mtcars, mapping = aes(x = wt, y = hp)) +
    geom_point(size = 4) +
    interactivity(linkingGroup = "mt") +
    facet_wrap(~cyl)

  p &lt;- ggplot(economics_long, aes(value)) +
         facet_wrap(~variable, scales = 'free_x') +
         geom_histogram()
  # `p` is a ggplot object
  p
  # turn static `ggplot` to interactive `loon`
  p + interactivity()
}
</code></pre>

<hr>
<h2 id='is.CoordPolar'>Is polar coordinate system?</h2><span id='topic+is.CoordPolar'></span>

<h3>Description</h3>

<p>Determine whether the <code>ggplot</code> object has polar coordinate system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.CoordPolar(coord)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.CoordPolar_+3A_coord">coord</code></td>
<td>
<p>A <code>ggplot</code> object coordinate system</p>
</td></tr>
</table>

<hr>
<h2 id='is.l_ggplot'>Reports whether x is a <code>l_ggplot</code> object</h2><span id='topic+is.l_ggplot'></span>

<h3>Description</h3>

<p>Reports whether x is a <code>l_ggplot</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.l_ggplot(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.l_ggplot_+3A_x">x</code></td>
<td>
<p>An object to test</p>
</td></tr>
</table>

<hr>
<h2 id='itemLabel-deprecated'>itemLabel (deprecated)</h2><span id='topic+itemLabel-deprecated'></span><span id='topic+itemLabel'></span>

<h3>Description</h3>

<p>use <code><a href="#topic+hover">hover</a></code>, rather than <code>itemLabel</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>itemLabel(itemLabel = NULL, showItemLabels = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="itemLabel-deprecated_+3A_itemlabel">itemLabel</code></td>
<td>
<p>A character vector of length <code>n</code> with a string to be used to pop up when the
mouse hovers above that element.</p>
</td></tr>
<tr><td><code id="itemLabel-deprecated_+3A_showitemlabels">showItemLabels</code></td>
<td>
<p>A single logical value: <code>TRUE</code> if pop up labels are to appear on hover,
<code>FALSE</code> (the default) if they are not.</p>
</td></tr>
</table>

<hr>
<h2 id='l_getSubtitles'>Return the subtitles</h2><span id='topic+l_getSubtitles'></span><span id='topic+l_getSubtitles.l_facet_ggplot'></span><span id='topic+l_getSubtitles.l_facet_wrap'></span><span id='topic+l_getSubtitles.l_facet_grid'></span>

<h3>Description</h3>

<p>Return the subtitles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>l_getSubtitles(target)

## S3 method for class 'l_facet_ggplot'
l_getSubtitles(target)

## S3 method for class 'l_facet_wrap'
l_getSubtitles(target)

## S3 method for class 'l_facet_grid'
l_getSubtitles(target)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="l_getSubtitles_+3A_target">target</code></td>
<td>
<p>an <code>l_facet_ggplot</code> object. If the ggplot object is
faceted (either by <code>facet_wrap</code> or <code>facet_grid</code>),
an <code>l_facet_ggplot</code> object will be returned once it is turned
to a <code>loon</code> plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of labels, i.e. subtitles, labels, title, etc
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
p &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  facet_wrap(vars(class))
lp &lt;- loon.ggplot(p)
l_getSubtitles(lp)
}

</code></pre>

<hr>
<h2 id='l_ggplot'>Automatically create a loon widget</h2><span id='topic+l_ggplot'></span>

<h3>Description</h3>

<p>Create a <code>loon</code> widget with <code>ggplot</code> syntax
</p>


<h3>Usage</h3>

<pre><code class='language-R'>l_ggplot(data = NULL, mapping = aes(), ..., environment = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="l_ggplot_+3A_data">data</code></td>
<td>
<p>Default dataset to use for plot. If not already a data.frame, will be converted to one by fortify().
If not specified, must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="l_ggplot_+3A_mapping">mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot.
If not specified, must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="l_ggplot_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to methods. Not currently used.</p>
</td></tr>
<tr><td><code id="l_ggplot_+3A_environment">environment</code></td>
<td>
<p>DEPRECATED. Used prior to tidy evaluation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>function <code>l_ggplot()</code> wraps function <code>ggplot()</code> with assigning an additional class &quot;l_ggplot&quot;
to the output. The returned object is called an <code>l_ggplot</code> object.
To draw a <code>ggplot</code> object, S3 method <code>print.ggplot</code> will be rendered
so that a static graphic is displayed. While, for an <code>l_ggplot()</code> object,
S3 method <code>print.l_ggplot</code> will be rendered
which will return an interactive <code>loon</code> widget.
</p>


<h3>Value</h3>

<p>It will return an <code>l_ggplot</code> object with class <code>c("l_ggplot", "gg", "ggplot")</code>.
Then print a <code>loon</code> plot automatically.
</p>


<h3>See Also</h3>

<p><code>ggplot</code>, <code><a href="#topic+ggplot2loon">ggplot2loon</a></code>, <code><a href="#topic+print.l_ggplot">print.l_ggplot</a></code>
</p>
<p><code><a href="#topic+loon.ggplot">loon.ggplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
p &lt;- l_ggplot(mpg, aes(displ, cty)) +
    geom_point(
      size = 4,
      mapping = aes(color = factor(cyl))
    )
# p is an `l_ggplot` object, `print.l_ggplot(p)` will be called automatically.
# Then, at printing time, an `l_ggplot` object will be transformed to a `loon` widget
p

## Not run: 
# Assign a widget from current path
# suppose the path of `p` is '.l0.ggplot'
q &lt;- l_getFromPath('.l0.ggplot')
# q is a `loon` widget
q

## End(Not run)

# An alternative way to return a real loon widget from `p` (a `l_ggplot` object)
# is to call the function `loon.ggplot()`.
q &lt;- loon.ggplot(p)
q

# pipe more components
p +
  facet_grid(rows = vars(drv)) +
  linking(linkingGroup = "mpg") +
  ggtitle("displ versus cty")
# a linked bar plot
l_hist(mpg$class, linkingGroup = "mpg")

# a 3D object
# press the button key `R` to rotate the plot
l_ggplot(mtcars,
         mapping = aes(x = wt, y = hp, z = drat)) +
   geom_point(size = 4) +
   scale_multi()
}
</code></pre>

<hr>
<h2 id='layout_coords'>layout matrix</h2><span id='topic+layout_coords'></span>

<h3>Description</h3>

<p>return the layout matrix of a list of loon plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layout_coords(target)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="layout_coords_+3A_target">target</code></td>
<td>
<p>an object <code>ggplot2loon()</code> returns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a layout coordinate matrix
</p>

<hr>
<h2 id='lggplot-deprecated'>lggplot (deprecated)</h2><span id='topic+lggplot-deprecated'></span><span id='topic+lggplot'></span>

<h3>Description</h3>

<p>use <code><a href="#topic+l_ggplot">l_ggplot</a></code>, rather than <code>lggplot</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lggplot(data = NULL, mapping = aes(), ..., environment = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lggplot-deprecated_+3A_data">data</code></td>
<td>
<p>Default dataset to use for plot. If not already a data.frame, will be converted to one by fortify().
If not specified, must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="lggplot-deprecated_+3A_mapping">mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot.
If not specified, must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="lggplot-deprecated_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to methods. Not currently used.</p>
</td></tr>
<tr><td><code id="lggplot-deprecated_+3A_environment">environment</code></td>
<td>
<p>DEPRECATED. Used prior to tidy evaluation.</p>
</td></tr>
</table>

<hr>
<h2 id='linking'>Modify the <code>linking</code> component</h2><span id='topic+linking'></span>

<h3>Description</h3>

<p>A group-key-state linking model is used to link plots in <code>loon</code>.  This allows changes in one plot
to propogate to all plots in the same <code>linkingGroup</code> and enables interactive features like brushing.
Elements to be matched between plots are identified by <code>linkingKey</code>; within each plot, the key for each
element (e.g., case, observation) is unique.  The <code>linkedStates</code> identify which display states (e.g., &quot;color&quot;)
should change in concert with other plots in the <code>linkingGroup</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>linking(
  linkingGroup = NULL,
  linkingKey = NULL,
  linkedStates = NULL,
  sync = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="linking_+3A_linkinggroup">linkingGroup</code></td>
<td>
<p>The string identifying the group of linked plots that the current plot will join.  Default is none.</p>
</td></tr>
<tr><td><code id="linking_+3A_linkingkey">linkingKey</code></td>
<td>
<p>The length <code>n</code> character vector of unique keys.  Default will be <code>"0", "1", ..., "n-1"</code>
where <code>n</code> is the number of elements (e.g., points) displayed.</p>
</td></tr>
<tr><td><code id="linking_+3A_linkedstates">linkedStates</code></td>
<td>
<p>The character vector of display states to be linked.
These can be &quot;color&quot;, &quot;selected&quot;, &quot;active&quot;, &quot;size&quot; and &quot;glyph&quot; for an 'l_plot' object and
&quot;color&quot;, &quot;selected&quot;, &quot;active&quot; for an 'l_hist' object.  (These roughly correspond to aesthetics in a 'ggplot'.)</p>
</td></tr>
<tr><td><code id="linking_+3A_sync">sync</code></td>
<td>
<p>Either <code>"pull"</code> (the default) or <code>"push"</code> to indicate whether the values of the linked states of the plot
are to be pulled from those of the other plots in the linking group, or the values are to be pushed to all other plots
in the linking group. This matters only when joining an existing group of plots and the default value is typically
the right thing to do.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggproto</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+active">active</a></code>, <code><a href="#topic+selection">selection</a></code>, <code><a href="#topic+zoom">zoom</a></code>,
<code><a href="#topic+hover">hover</a></code>, <code><a href="#topic+interactivity">interactivity</a></code>,
<code>l_getLinkedStates</code>, <code>l_setLinkedStates</code>, <code>l_configure</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive() &amp;&amp; requireNamespace("dplyr")) {
  h &lt;- l_hist(mtcars$hp,
              linkingKey = rownames(mtcars),
              linkingGroup = "mtcars")

  mtcars %&gt;%
    mutate(carName = rownames(mtcars)) %&gt;%
    l_ggplot(mapping = aes(x = wt, y = hp, color = factor(cyl))) +
       geom_point(size = 4) +
       # push the states of scatter plot to the histogram
       linking(linkingGroup = "mtcars",
               linkingKey = ~carName,
               sync = "push")
}
</code></pre>

<hr>
<h2 id='loon.ggplot'>loon.ggplot</h2><span id='topic+loon.ggplot'></span><span id='topic+loon.ggplot.gg'></span><span id='topic+loon.ggplot.loon'></span><span id='topic+loon.ggplot.zenplot'></span><span id='topic+loon.ggplot.l_ggplot'></span>

<h3>Description</h3>

<p>A bridge between <code>loon</code> widgets and <code>gg</code> objects. It can take either a <code>loon</code> widget,
a <code>gg</code> object (<code>ggplot</code>, <code>GGally::ggmatrix</code>) or
a <code>l_ggplot</code> object, then create a corresponding <code>gg</code> (or <code>loon</code>) graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loon.ggplot(x, ...)

## S3 method for class 'gg'
loon.ggplot(x, ...)

## S3 method for class 'loon'
loon.ggplot(x, ...)

## S3 method for class 'zenplot'
loon.ggplot(x, ...)

## S3 method for class 'l_ggplot'
loon.ggplot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loon.ggplot_+3A_x">x</code></td>
<td>
<p>A <code>loon</code> widget, a <code>ggplot</code> object or a <code>l_ggplot</code> object.</p>
</td></tr>
<tr><td><code id="loon.ggplot_+3A_...">...</code></td>
<td>
<p>arguments used in either <code>loon2ggplot()</code> or <code>ggplot2loon()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the input is a <code>ggplot</code> object, the output would be a <code>loon</code> widget; conversely, if the
input is a <code>loon</code> widget, then it returns a <code>ggplot</code> object. If it is a <code>l_ggplot</code> object,
<code>loon.ggplot</code> helps to return a <code>loon</code> widget.
</p>


<h3>See Also</h3>

<p>Richer examples are in <code><a href="#topic+loon2ggplot">loon2ggplot</a></code>, <code><a href="#topic+ggplot2loon">ggplot2loon</a></code>, <code><a href="#topic+l_ggplot">l_ggplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(interactive()) {
######### loon --&gt; gg #########
  # loon 3D plot
  l &lt;- with(quakes,
    l_plot3D(long, lat, depth, linkingGroup = "quakes")
  )
  # equivalent to `loon2ggplot(l)`
  g &lt;- loon.ggplot(l)
  g # a ggplot object

######### gg --&gt; loon #########

  # ggplot histogram
  g &lt;- ggplot(iris, mapping = aes(Sepal.Length, fill = Species)) +
    geom_histogram()
  # equivalent to `ggplot2loon(g)`
  l &lt;- loon.ggplot(g)
  l # a loon widget

######### l_ggplot #########
  p &lt;- l_ggplot(mpg, aes(displ, fill = factor(cyl))) +
       geom_histogram()
  class(p)
  # Function `print.l_ggplot` is called automatically
  p
  # Function `loon.ggplot` helps to return a loon widget
  q &lt;- loon.ggplot(p)
  q
}
</code></pre>

<hr>
<h2 id='loon.ggplot-deprecated'>Deprecated functions in package <span class="pkg">loon.ggplot</span>.</h2><span id='topic+loon.ggplot-deprecated'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and will be defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned. Help pages for deprecated functions are
available at <code>help("geom_imageGlyph-deprecated")</code>,  <code>help("geom_polygonGlyph-deprecated")</code>,
<code>help("geom_pointrangeGlyph-deprecated")</code>,  <code>help("geom_textGlyph-deprecated")</code>,
<code>help("geom_serialAxesGlyph-deprecated")</code>,
<code>help("lggplot-deprecated")</code>,
<code>help("ggSerialAxes-deprecated")</code>
</p>

<hr>
<h2 id='loon2ggplot.l_compound'>Turn a <code>loon</code> widget to a <code>ggplot</code> object</h2><span id='topic+loon2ggplot.l_compound'></span><span id='topic+loon2ggplot.l_facet_ggplot'></span><span id='topic+loon2ggplot.l_facet_grid'></span><span id='topic+loon2ggplot.l_facet_wrap'></span><span id='topic+loon2ggplot.l_layer_graph'></span><span id='topic+loon2ggplot.l_layer_histogram'></span><span id='topic+loon2ggplot.l_layer_scatterplot'></span><span id='topic+loon2ggplot.l_pairs'></span><span id='topic+loon2ggplot.l_patchwork'></span><span id='topic+loon2ggplot.l_serialaxes'></span><span id='topic+loon2ggplot.zenLoon'></span><span id='topic+loon2ggplot'></span><span id='topic+loon2ggplot.default'></span><span id='topic+loon2ggplot.l_plot'></span><span id='topic+loon2ggplot.l_hist'></span><span id='topic+loon2ggplot.l_plot3D'></span>

<h3>Description</h3>

<p>Create a <code>ggplot</code> object from a <code>loon</code> widget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'l_compound'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_facet_ggplot'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_facet_grid'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_facet_wrap'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_layer_graph'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_layer_histogram'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_layer_scatterplot'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_pairs'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_patchwork'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_serialaxes'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'zenLoon'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## Default S3 method:
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_plot'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_hist'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)

## S3 method for class 'l_plot3D'
loon2ggplot(
  target,
  asAes = TRUE,
  selectedOnTop = TRUE,
  showNearestColor = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loon2ggplot.l_compound_+3A_target">target</code></td>
<td>
<p>a <code>loon</code> or a vector that specifies the
widget, layer, glyph, navigator or context completely.
The widget is specified by the widget path name (e.g. '.l0.plot'),
the remaining objects by their ids.</p>
</td></tr>
<tr><td><code id="loon2ggplot.l_compound_+3A_asaes">asAes</code></td>
<td>
<p>logical; set aesthetics attributes, i.e. 'color', 'fill' as
variables (default <code>TRUE</code>) or general visual properties (<code>FALSE</code>).
See details</p>
</td></tr>
<tr><td><code id="loon2ggplot.l_compound_+3A_selectedontop">selectedOnTop</code></td>
<td>
<p>logical and default is <code>TRUE</code>; whether to display the
selected points on top. See details.</p>
</td></tr>
<tr><td><code id="loon2ggplot.l_compound_+3A_shownearestcolor">showNearestColor</code></td>
<td>
<p>logical and default is <code>FALSE</code>; if <code>TRUE</code>,
the legend of color and fill (hex code) would be converted to the <code>R</code> built-in
color names. For some hex codes, there are no precise matching.
Consequently, these colors will be converted to the <code>R</code> built-in color names
which are the &quot;nearest&quot; of these hex codes.</p>
</td></tr>
<tr><td><code id="loon2ggplot.l_compound_+3A_...">...</code></td>
<td>
<p>arguments used inside <code>loon2ggplot()</code>, not used by this method</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>ggplot2</code>, typically, there are two ways to set the
aesthetic attributes, either take them as variables <code>asAes = TRUE</code>
(set in the function <code>aes()</code>) or constants <code>asAes = FALSE</code>.
The main benefits to consider them as variables are that 1. legend could be displayed;
2. convenient for further analysis.
</p>
<p>In <code>loon</code>, when points were <code>selected</code> (highlighted),
the order would be changed so that
the highlighted points would be displayed at the front.
To turn the <code>loon</code> plot static, if <code>selectedOnTop = TRUE</code>,
the points would be partitioned into two
groups &ndash; one group representing the un-highlighted points,
and the other group representing the highlighted points.
The un-highlighted group would be drawn first,
then the selected group;
if <code>selectedOnTop = FALSE</code>, no partition would be applied so that
the displayed order remained. However, the highlighted points could be
displayed at the back. See examples.
</p>


<h3>Value</h3>

<p>a <code>ggplot</code> object (or a <code>patchwork</code> object, a extension of <code>ggplot2</code>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
######## Basic ########
lp &lt;- l_plot(iris,
             color = iris$Species,
             glyph = "circle")
gp &lt;- loon2ggplot(lp)
gp # a ggplot object

# Add a smooth layer
# Reset initial plot object
gp$data &lt;- gp$layers[[1]]$data
gp$mapping &lt;- gp$layers[[1]]$mapping
gp +
  geom_smooth() +
  # give meaningful legend label names
  scale_color_manual(
    # make sure the order is correct
    values = unique(hex12tohex6(lp['color'])),
    labels = c("setosa", "versicolor", "virginica")
  )

# histogram
lh &lt;- l_hist(mtcars$mpg,
             color = factor(mtcars$gear))

gh0 &lt;- loon2ggplot(lh)
# facet by `fill`
gh0 + facet_wrap(~fill)

######## Argument `asAes` ########
gh1 &lt;- loon2ggplot(lh, asAes = FALSE)
gh1
## Not run: 
# The bins are constructed by `ggplot2::geom_rect()`
# Very limited manipulations can be made
# ERROR will be returned
gh1 + facet_wrap(~fill)

## End(Not run)

######## Argument `selectedOnTop` ########
p &lt;- l_plot(iris, color = iris$Species)
p['selected'][iris$Petal.Length &gt; 5] &lt;- TRUE
g &lt;- loon.ggplot(p)
g
# facet by "Species"
g + facet_wrap(iris$Species)

# Something is wrong here. There is a pink point (at least one)
# in species "versicolor"! It is because after points are
# highlighted, the displayed order has been changed.
# Set `selectedOnTop` as FALSE, as in
loon.ggplot(p, selectedOnTop = FALSE) +
  facet_wrap(iris$Species)


######## l_patchwork --&gt; ggplot ########
library(patchwork)
p1 &lt;- ggplot(mtcars) + geom_point(aes(mpg, disp))
p2 &lt;- ggplot(mtcars) +
   geom_boxplot(aes(gear, disp, group = gear))
p3 &lt;- ggplot(mtcars) + geom_smooth(aes(disp, qsec))
design &lt;- c(
  area(1,1),
  area(1,2),
  area(2,1,2,2)
)
pp &lt;- p1 + p2 + p3 + plot_layout(design = design)

# turn a patchwork obj to a loon (l_compound)
lp &lt;- ggplot2loon(pp)
# turn a loon (l_compound) back to a patchwork
plp &lt;- loon2ggplot(lp)
plp # almost identical to pp


######## zneplots --&gt; ggplot ########
library(zenplots)
stopifnot(packageVersion("zenplots") &gt; "1.0.4")
zen &lt;- zenplots::zenplot(iris, plot1d = "density", pkg = "loon")
ggzen &lt;- loon.ggplot(zen)
ggzen +
  patchwork::plot_annotation(title = "This is a Patchwork!")

}
</code></pre>

<hr>
<h2 id='loonLayer'>Transform geom layers to loon layers</h2><span id='topic+loonLayer'></span>

<h3>Description</h3>

<p>Function <code>loonLayer</code> is used to create <code>loon</code> non-interactive layers.
For some <code>ggplot2</code> extension packages, one can edit this function to realize the transformation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loonLayer(
  widget,
  layerGeom,
  data,
  ggplotPanelParams,
  ggObj,
  parent,
  label,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loonLayer_+3A_widget">widget</code></td>
<td>
<p>a <code>loon</code> widget</p>
</td></tr>
<tr><td><code id="loonLayer_+3A_layergeom">layerGeom</code></td>
<td>
<p>a <code>ggplot</code> <code>Geom</code> layer object</p>
</td></tr>
<tr><td><code id="loonLayer_+3A_data">data</code></td>
<td>
<p>a data frame (i.e. <code>x</code>, <code>y</code>, etc) of this particular layer</p>
</td></tr>
<tr><td><code id="loonLayer_+3A_ggplotpanelparams">ggplotPanelParams</code></td>
<td>
<p><code>ggplot</code> panel parameters</p>
</td></tr>
<tr><td><code id="loonLayer_+3A_ggobj">ggObj</code></td>
<td>
<p>the <code>ggplot</code> object</p>
</td></tr>
<tr><td><code id="loonLayer_+3A_parent">parent</code></td>
<td>
<p>a valid Tk parent widget path.</p>
</td></tr>
<tr><td><code id="loonLayer_+3A_label">label</code></td>
<td>
<p>label used in the layers inspector</p>
</td></tr>
<tr><td><code id="loonLayer_+3A_...">...</code></td>
<td>
<p>not for users</p>
</td></tr>
</table>

<hr>
<h2 id='print.l_ggplot'>Explicitly draw plot</h2><span id='topic+print.l_ggplot'></span>

<h3>Description</h3>

<p>Explicitly draw plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'l_ggplot'
print(x, message = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.l_ggplot_+3A_x">x</code></td>
<td>
<p>plot to display</p>
</td></tr>
<tr><td><code id="print.l_ggplot_+3A_message">message</code></td>
<td>
<p>logical; if <code>TRUE</code>, the way to create handle will be
printed out.</p>
</td></tr>
<tr><td><code id="print.l_ggplot_+3A_...">...</code></td>
<td>
<p>other arguments used to modify function <code>ggplot2loon</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns a <code>loon</code> widget
</p>

<hr>
<h2 id='scale_multi'>Position scales for continuous data (x, y &amp; z)</h2><span id='topic+scale_multi'></span>

<h3>Description</h3>

<p>Scaling the coordinates for 3D visualization
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_multi(trans = scaleBox(center = TRUE), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_multi_+3A_trans">trans</code></td>
<td>
<p>For continuous scales, the name of a transformation object or the object itself.
Built-in transformations include &quot;asn&quot;, &quot;atanh&quot;, &quot;boxcox&quot;, &quot;date&quot;, &quot;exp&quot;, &quot;hms&quot;, &quot;identity&quot;, &quot;log&quot;, &quot;log10&quot;, &quot;log1p&quot;,
&quot;log2&quot;, &quot;logit&quot;, &quot;modulus&quot;, &quot;probability&quot;, &quot;probit&quot;, &quot;pseudo_log&quot;, &quot;reciprocal&quot;, &quot;reverse&quot;, &quot;sqrt&quot; and &quot;time&quot;.
A transformation object bundles together a transform, its inverse, and methods for generating breaks and labels.
Transformation objects are defined in the scales package, and are called  &lt;name&gt;_trans (e.g., <code>scales::boxcox_trans()</code>).
You can create your own transformation with <code>scales::trans_new()</code>.</p>
</td></tr>
<tr><td><code id="scale_multi_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code>scale_(x|y)_continuous()</code>. To set the position scales,
three scales (x, y, z) has to be set simultaneously.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In 3D rotation, different scales of variables x, y and z may cause an issue that the points appear to be
off the window even with a minor tweak. Additionally, if one variable is in a large scale,
the shape of the 3D plot may be dominated. Setting <code>scale_multi</code> can ensure the scales in the same measurement, as
we rotate the plot, most points will stay inside the current view.
</p>


<h3>Value</h3>

<p>a list of the <code>ggproto</code> objects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {

dsamp &lt;- dplyr::sample_n(diamonds, 100)

## Not run: 
# press `R`, then rotate with a minor tweak,
# Issues:
#   1: Points are displayed outside the window
#   2: Always in a line shape
l_ggplot(dsamp, aes(x = carat, y = price,
                    z = depth, colour = color)) +
  geom_point()
## End(Not run)

# set scales
l_ggplot(dsamp, aes(x = carat, y  =price,
                    z = depth, colour = color)) +
  geom_point() +
  scale_multi()

# customized `trans`
logp1_base10_trans &lt;- scales::trans_new(
  name = "logp",
  trans = function(x) log(x + 1, base = 10),
  inverse = function(x) 10**x - 1,
  breaks = scales::log_breaks())

l_ggplot(dsamp, aes(x = carat, y = price,
                    z = depth, colour = color)) +
  geom_point() +
  scale_multi(trans = logp1_base10_trans)
}
</code></pre>

<hr>
<h2 id='scaleBox'>Box scaling in 3D rotation</h2><span id='topic+scaleBox'></span>

<h3>Description</h3>

<p>the variable is scaled to have equal ranges and,
when <code>center = TRUE</code>, to be centred by the average of the min and max.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scaleBox(center = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scaleBox_+3A_center">center</code></td>
<td>
<p>either a logical value or numeric-alike vector of length equal to the number of columns of
x, where 'numeric-alike' means that <code>as.numeric(.)</code> will be applied successfully
if <code>is.numeric(.)</code> is not true.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>trans</code> object
</p>


<h3>See Also</h3>

<p><code>l_scale3D</code>
</p>

<hr>
<h2 id='selecting-deprecated'>selecting (deprecated)</h2><span id='topic+selecting-deprecated'></span><span id='topic+selecting'></span>

<h3>Description</h3>

<p>use <code><a href="#topic+selection">selection</a></code>, rather than <code>selecting</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selecting(selected = NULL, selectBy = NULL, selectionLogic = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="selecting-deprecated_+3A_selected">selected</code></td>
<td>
<p>a logical or a logical vector of length <code>n</code> that determines which observations
are selected (<code>TRUE</code> and hence appear highlighted in the plot) and which are not.
Default is <code>FALSE</code> and no points are highlit.</p>
</td></tr>
<tr><td><code id="selecting-deprecated_+3A_selectby">selectBy</code></td>
<td>
<p>A string determining how selection will occur in the interactive plot.
Default is <code>"sweeping"</code> where a rectangular region is reshaped or &quot;swept&quot; out to select observations.; alternately
<code>"brushing"</code> will indicate that a fixed rectangular region is moved about the display to select observations.</p>
</td></tr>
<tr><td><code id="selecting-deprecated_+3A_selectionlogic">selectionLogic</code></td>
<td>
<p>One of &quot;select&quot; (the default), &quot;deselect&quot;, and &quot;invert&quot;.
The first highlights observations as selected, the second downlights them, and the third inverts them (downlighting
highlit observations and highlighting downlighted ones).</p>
</td></tr>
</table>

<hr>
<h2 id='selection'>Modify the <code>selected</code> component</h2><span id='topic+selection'></span>

<h3>Description</h3>

<p>Set which elements (i.e., observations) are &quot;selected&quot;.  These will be shown as highlighted in the
plot using the current &quot;highlight&quot; colour (see <code>l_userOptions</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selection(selected = NULL, selectBy = NULL, selectionLogic = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="selection_+3A_selected">selected</code></td>
<td>
<p>a logical or a logical vector of length <code>n</code> that determines which observations
are selected (<code>TRUE</code> and hence appear highlighted in the plot) and which are not.
Default is <code>FALSE</code> and no points are highlit.</p>
</td></tr>
<tr><td><code id="selection_+3A_selectby">selectBy</code></td>
<td>
<p>A string determining how selection will occur in the interactive plot.
Default is <code>"sweeping"</code> where a rectangular region is reshaped or &quot;swept&quot; out to select observations.; alternately
<code>"brushing"</code> will indicate that a fixed rectangular region is moved about the display to select observations.</p>
</td></tr>
<tr><td><code id="selection_+3A_selectionlogic">selectionLogic</code></td>
<td>
<p>One of &quot;select&quot; (the default), &quot;deselect&quot;, and &quot;invert&quot;.
The first highlights observations as selected, the second downlights them, and the third inverts them (downlighting
highlit observations and highlighting downlighted ones).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are two ways to directly select elements on, for example, a scatterplot using the mouse:
either by &quot;sweeping&quot; or by &quot;brushing&quot;. &quot;Sweeping&quot; allows us to sweep out a contiguous rectangular area of the plot,
while, by &quot;brushing&quot;, a fixed rectangular area is brushes across the plot selecting all points within the rectangle.
</p>
<p>The selection logic give users more flexibility to users to not only highlight the elements,
but also to downlight, and even to invert selections (changing the highlighted to downlighted, and vice versa).
</p>


<h3>Value</h3>

<p>a <code>ggproto</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+active">active</a></code>, <code><a href="#topic+linking">linking</a></code>, <code><a href="#topic+zoom">zoom</a></code>,
<code><a href="#topic+hover">hover</a></code>, <code><a href="#topic+interactivity">interactivity</a></code>, <code>l_userOptions</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {

  # highlight the four gear cars
  fourGear &lt;- rep(FALSE, nrow(mtcars))
  fourGear[mtcars$gear == 4] &lt;- TRUE

  l_ggplot(mtcars, mapping = aes(x = wt, y = hp, color = factor(cyl))) +
    geom_point(size = 4) +
    # push the states of scatter plot to the histogram
    selection(selected = fourGear)
}
</code></pre>

<hr>
<h2 id='zoom'>Zoom Plot Region</h2><span id='topic+zoom'></span>

<h3>Description</h3>

<p>Change the visible plot region by scaling to different elements of the display.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zoom(layerId = NULL, scaleToFun = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zoom_+3A_layerid">layerId</code></td>
<td>
<p>numerical; which layer to scale the plot by.</p>
</td></tr>
<tr><td><code id="zoom_+3A_scaletofun">scaleToFun</code></td>
<td>
<p>scale to function. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Argument <code>layerId</code> is used for additional plot region settings.
If the <code>layerId</code> is set as <code>NULL</code> (default), the region of the
interactive graphics <code>loon</code> will be determined by the <code>ggplot</code> object
(i.e. <code>coord_cartesian</code>, <code>xlim</code>, etc);
else one can use <code>scaleToFun</code> to modify the region of the layer.
</p>
<p>The <code>scaleToFun</code> is a function to scale the region.
If it is <code>NULL</code> (default), based on different layers, different scale functions
will be applied. For example, if the layer is the main graphic model, i.e. <code>l_plot</code>
<code>l_hist</code>, then the default <code>scaleToFun</code> is <code>l_scaleto_plot</code>; else
if the layer is a general <code>l_layer</code> widget, the default <code>scaleToFun</code> would be
<code>l_scaleto_layer</code> (see <code><a href="#topic+get_activeGeomLayers">get_activeGeomLayers</a></code>).
</p>
<p>If it is not <code>NULL</code>, users can select one that precisely tailor their own
problems. The table shows the available <code>scaleToFun</code> functions
</p>

<table>
<tr>
 <td style="text-align: left;"><strong>scale to</strong> </td><td style="text-align: left;"> <strong>Subfunction</strong></td>
</tr>
<tr>
 <td style="text-align: left;">
  plot </td><td style="text-align: left;">  <code>l_scaleto_plot</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  world </td><td style="text-align: left;"> <code>l_scaleto_world</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  active </td><td style="text-align: left;"> <code>l_scaleto_active</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  selected </td><td style="text-align: left;"> <code>l_scaleto_selected</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  layer </td><td style="text-align: left;"> <code>l_scaleto_layer</code></td>
</tr>

</table>

<p>Users can also supply their own function, providing its arguments match those
of the functions shown in the above table.
</p>


<h3>Value</h3>

<p>a <code>ggproto</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+active">active</a></code>, <code><a href="#topic+linking">linking</a></code>, <code><a href="#topic+selection">selection</a></code>,
<code><a href="#topic+hover">hover</a></code>, <code><a href="#topic+interactivity">interactivity</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
p &lt;- l_ggplot(mtcars,
              mapping = aes(x = hp, y = mpg)) +
       geom_point(mapping = aes(color = factor(gear))) +
       geom_smooth(data = mtcars[mtcars$gear == 4, ],
                   method = "lm")
# a scatter plot with a fitted line on 4 gear cars
p
# scale to the second layer (smooth line)
p + zoom(layerId = 2)
# highlight the 3 gear cars
# scale to the selected points
p +
  selection(mtcars$gear == 3) +
  zoom(layerId = 1,
       scaleToFun = loon::l_scaleto_selected)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

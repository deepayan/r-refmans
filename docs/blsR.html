<!DOCTYPE html><html><head><title>Help for package blsR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {blsR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bls_request'><p>Retrieve Data From the U.S. Bureau Of Labor Statistics API v2</p></a></li>
<li><a href='#bls-api-key'><p>Managing API keys</p></a></li>
<li><a href='#blsR'><p>blsR: Retrieve Data From the U.S. Bureau Of Labor Statistics API</p></a></li>
<li><a href='#data_as_table'><p>Convert a list of data entries as returned by BLS API to a table</p></a></li>
<li><a href='#data_as_tidy_table'><p>Convert a list of data entries as returned by BLS API to a table</p></a></li>
<li><a href='#get_all_surveys'><p>Create and execute a query to retrieve all surveys</p></a></li>
<li><a href='#get_latest_observation'><p>Create and execute a query to retrieve the latest observation for a series</p></a></li>
<li><a href='#get_n_series'><p>Create and execute a query to retrieve one or more time series and their</p>
catalog data</a></li>
<li><a href='#get_n_series_table'><p>Retrieve multiple time series in one API request and return a single tibble</p></a></li>
<li><a href='#get_popular_series'><p>Create and execute a query to retrieve popular series</p></a></li>
<li><a href='#get_series'><p>Create and execute query for a single time series</p></a></li>
<li><a href='#get_series_table'><p>Retrieve a time series from BLS API as a tibble</p></a></li>
<li><a href='#get_series_tables'><p>Retrieve multiple time series as in one API request as tibbles</p></a></li>
<li><a href='#get_survey_info'><p>Create and execute a query to retrieve information about a survey</p></a></li>
<li><a href='#merge_tables'><p>Turn a list of one or more series into a single table of time series data</p></a></li>
<li><a href='#merge_tidy_tables'><p>Turn a list of one or more series into a single table of time series data</p></a></li>
<li><a href='#query_all_surveys'><p>Create a query to retrieve all surveys</p></a></li>
<li><a href='#query_latest_observation'><p>Create a Query to retrieve the latest observation for a time series</p></a></li>
<li><a href='#query_n_series'><p>Create a query to retrieve one or more time series and their catalog data</p></a></li>
<li><a href='#query_popular_series'><p>Create a query to retrieve popular series</p></a></li>
<li><a href='#query_series'><p>Create a query for a single time series</p></a></li>
<li><a href='#query_survey_info'><p>Create a query to retrieve information about a survey</p></a></li>
<li><a href='#reduce_spanned_responses'><p>Reduce the multiple spanned responses into a list of series</p></a></li>
<li><a href='#span_request_queries'><p>Generate multiple queries that don't exceed a year limit</p></a></li>
<li><a href='#span_series_request'><p>Break up a long request into multiple API calls</p></a></li>
<li><a href='#tidy_periods'><p>Clean the period information returned by BLS</p></a></li>
<li><a href='#tidy_table_as_zoo'><p>Convert a single series or n series tables into a zoo object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Make Requests from the Bureau of Labor Statistics API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements v2 of the B.L.S. API for requests of survey information
  and time series data through 3-tiered API that allows users to interact with
  the raw API directly, create queries through a functional interface, and
  re-shape the data structures returned to fit common uses. The API definition 
  is located at: <a href="https://www.bls.gov/developers/api_signature_v2.htm">https://www.bls.gov/developers/api_signature_v2.htm</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/groditi/blsR">https://github.com/groditi/blsR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/groditi/blsR/issues">https://github.com/groditi/blsR/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, purrr, rlang, readr, stringr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), stringi, zoo, jsonlite</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-05 03:21:52 UTC; guill</td>
</tr>
<tr>
<td>Author:</td>
<td>Guillermo Roditi Dominguez
    <a href="https://orcid.org/0000-0002-7127-8742"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Guillermo Roditi Dominguez &lt;guillermo@newriverinvestments.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-05 04:33:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='bls_request'>Retrieve Data From the U.S. Bureau Of Labor Statistics API v2</h2><span id='topic+bls_request'></span>

<h3>Description</h3>

<p><code>bls_request()</code>  will execute queries against the BLS API. Queries are
generated using one of the following query-generating functions:
<code><a href="#topic+query_series">query_series()</a></code>, <code><a href="#topic+query_n_series">query_n_series()</a></code>, <code><a href="#topic+query_popular_series">query_popular_series()</a></code>,
<code><a href="#topic+query_all_surveys">query_all_surveys()</a></code>, <code><a href="#topic+query_survey_info">query_survey_info()</a></code>, <code><a href="#topic+query_latest_observation">query_latest_observation()</a></code>.
The result is the &quot;Results&quot; block as defined in the API v2 signatures at
<a href="https://www.bls.gov/developers/api_signature_v2.htm">https://www.bls.gov/developers/api_signature_v2.htm</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bls_request(
  query,
  api_key = bls_get_key(),
  user_agent = "http://github.com/groditi/blsR",
  process_response = .process_response,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bls_request_+3A_query">query</code></td>
<td>
<p>list generated by one of the query generating functions</p>
</td></tr>
<tr><td><code id="bls_request_+3A_api_key">api_key</code></td>
<td>
<p>Optional. An API key string. Defaults to the value returned by
<code><a href="#topic+bls_get_key">bls_get_key()</a></code>. The preferred way to provide an API key is to use
<code><a href="#topic+bls_set_key">bls_set_key()</a></code> or the <code>BLS_API_KEY</code> environment variable. Manually passing
the key will be deprecated in future releases.</p>
</td></tr>
<tr><td><code id="bls_request_+3A_user_agent">user_agent</code></td>
<td>
<p>string, optional</p>
</td></tr>
<tr><td><code id="bls_request_+3A_process_response">process_response</code></td>
<td>
<p>function, optional. processes the <code>httr</code> response
object. The default function will return the JSON payload parsed into a list</p>
</td></tr>
<tr><td><code id="bls_request_+3A_...">...</code></td>
<td>
<p>further arguments will be passed to <code>process_response</code> when called</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of information returned by the API request
</p>


<h3>See Also</h3>

<p>Other blsR-requests: 
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(blsR)
uer_query &lt;- query_series('LNS14000000') #monthly unemployment rate series
uer_results &lt;- bls_request(uer_query) #API response

## End(Not run)
</code></pre>

<hr>
<h2 id='bls-api-key'>Managing API keys</h2><span id='topic+bls-api-key'></span><span id='topic+bls_set_key'></span><span id='topic+bls_unset_key'></span><span id='topic+bls_get_key'></span><span id='topic+bls_has_key'></span>

<h3>Description</h3>

<p>It is strongly recommended users of the BLS API use an API key. This key can
be stored as environment variable, <code>BLS_API_KEY</code>.
</p>

<ul>
<li> <p><code>bls_get_key()</code> will retrieve the key, if set, or it will return <code>NULL</code>
if the key has not been set or has been unset.
</p>
</li>
<li> <p><code>bls_set_key()</code> will set the key <em>for the current R session</em>. For
persistence across sessions, set the environment variable.
See the Persistence section for more information.
</p>
</li>
<li> <p><code>bls_unset_key()</code> will unset the key <em>for the current R session</em>.
</p>
</li>
<li> <p><code>bls_has_key()</code> returns <code>TRUE</code> if a key can be found. Otherwise it
returns <code>FALSE</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>bls_set_key(key)

bls_unset_key()

bls_get_key()

bls_has_key()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bls-api-key_+3A_key">key</code></td>
<td>
<p>A valid BLS API key as a string. keys are typically 32 characters
in length and a key with a different length will trigger a warning.</p>
</td></tr>
</table>


<h3>Registering for and using an API key</h3>

<p>Registering for an API key is not required to use the BLS API, but it is
recommended you register for an API key and use it. Requests without a key
are limited to 10 years of data per request, 25 series per query, and 25
queries per day. You can register for an API key at:
<a href="https://data.bls.gov/registrationEngine/">https://data.bls.gov/registrationEngine/</a>
</p>


<h3>Persistence</h3>

<p>The preferred method to set the key is to set the <code>BLS_API_KEY</code>
environment variable in an <code>.Renviron</code> file. The easiest way to do this is
by calling <code>usethis::edit_r_environ()</code>. Don't forget to restart R after
setting the key.
</p>


<h3>See Also</h3>

<p>Other blsR-utils: 
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>
<p>Other blsR-utils: 
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>
<p>Other blsR-utils: 
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>
<p>Other blsR-utils: 
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
has_key &lt;- bls_has_key()

if(has_key){
  original_key &lt;- bls_get_key()
  bls_unset_key()
}

#no initial key
bls_has_key()

# Set a session key
bls_set_key("XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX")

bls_has_key()

# Get session key
bls_get_key()

# Reset to original key
if(has_key) bls_set_key(original_key)
</code></pre>

<hr>
<h2 id='blsR'>blsR: Retrieve Data From the U.S. Bureau Of Labor Statistics API</h2><span id='topic+blsR'></span>

<h3>Description</h3>

<p><code>blsR</code> provides functions for retrieving and processing data from the BLS API.
The functions are divided into 5 categories: query generators, query requests,
the spanning functions, result processors, and the user-friendly simplified
interface.
</p>


<h3>API Key and Definition</h3>

<p>The API key is an optional argument, but it is recommended you register for
an API key and use it. Requests without a key are limited to 10 years of data
per request, 25 series per query, and 25 queries per day. You can register at:
<a href="https://data.bls.gov/registrationEngine/">https://data.bls.gov/registrationEngine/</a>
</p>
<p>This implementation was based on the signatures available at:
<a href="https://www.bls.gov/developers/api_signature_v2.htm">https://www.bls.gov/developers/api_signature_v2.htm</a>
</p>
<p>The B.L.S. Frequently asked questions is available at:
<a href="https://www.bls.gov/developers/api_faqs.htm">https://www.bls.gov/developers/api_faqs.htm</a>
</p>


<h3>General Workflow</h3>

<p>This package was designed with a three-step workflow in mind:
</p>

<ul>
<li><p> Identify which data you would like to retrieve and create a query.
</p>
</li>
<li><p> Make an http request to execute a query (<code><a href="#topic+bls_request">bls_request()</a></code>)
</p>
</li>
<li><p> Modify the response data to fit the user workflow
</p>
</li></ul>

<p>You can customize this workflow by creating your own query objects which
consist of a target URL and an optional payload as documented in the API Spec.
You may also want to create a custom results processor to shape the data to
suit individual needs and wrap those into a single call like
<code><a href="#topic+get_series_table">get_series_table()</a></code> does.
</p>


<h3>API Key Management</h3>

<p>The preferred method to set the key is to set the <code>BLS_API_KEY</code> environment
variable in an <code>.Renviron</code> file. To learn more, see <code><a href="#topic+bls-api-key">bls-api-key</a></code>.
</p>

<ul>
<li> <p><code><a href="#topic+bls_has_key">bls_has_key()</a></code> - Check if an API key is set
</p>
</li>
<li> <p><code><a href="#topic+bls_get_key">bls_get_key()</a></code> - Get an API key, if set
</p>
</li>
<li> <p><code><a href="#topic+bls_set_key">bls_set_key()</a></code> - Set an API key for the <em>current session</em>
</p>
</li>
<li> <p><code><a href="#topic+bls_unset_key">bls_unset_key()</a></code> - Unsset an API key for the <em>current session</em>
</p>
</li></ul>



<h3>Query Generators</h3>

<p>The query generators return a list suitable for passing to <code><a href="#topic+bls_request">bls_request()</a></code>.
Most users should never need to access these functions directly but they are
made available for advanced users and user-extensions.
</p>

<ul>
<li> <p><code><a href="#topic+query_series">query_series()</a></code> - Create a query for a single time series
</p>
</li>
<li> <p><code><a href="#topic+query_n_series">query_n_series()</a></code> - Create a query to retrieve one or more time series
and their catalog data
</p>
</li>
<li> <p><code><a href="#topic+query_popular_series">query_popular_series()</a></code> - Create a query to retrieve popular series
</p>
</li>
<li> <p><code><a href="#topic+query_all_surveys">query_all_surveys()</a></code> - Create a query to retrieve all surveys
</p>
</li>
<li> <p><code><a href="#topic+query_survey_info">query_survey_info()</a></code> - Create a query to retrieve information about a
survey
</p>
</li>
<li> <p><code><a href="#topic+query_latest_observation">query_latest_observation()</a></code> - Create a Query to retrieve the latest
observation for a time series
</p>
</li></ul>



<h3>Query Requests</h3>

<p>The query-requester functions will execute the query by making the API request
and returning a minimally-processed response. These are likely to be the
most suitable functions to use for users who want to access the raw results.
</p>

<ul>
<li> <p><code><a href="#topic+bls_request">bls_request()</a></code> - Execute a query and return the unprocessed results
</p>
</li>
<li> <p><code><a href="#topic+get_series">get_series()</a></code> - Create and execute query for a single time series
</p>
</li>
<li> <p><code><a href="#topic+get_n_series">get_n_series()</a></code> - Create and execute a query to retrieve one or more
time series and their catalog data
</p>
</li>
<li> <p><code><a href="#topic+get_popular_series">get_popular_series()</a></code> - Create and execute a query to retrieve popular
series
</p>
</li>
<li> <p><code><a href="#topic+get_all_surveys">get_all_surveys()</a></code> - Create and execute a query to retrieve all surveys
</p>
</li>
<li> <p><code><a href="#topic+get_survey_info">get_survey_info()</a></code> - Create and execute a query to retrieve information
about a survey
</p>
</li>
<li> <p><code><a href="#topic+get_latest_observation">get_latest_observation()</a></code> - Create and execute a query to retrieve the
latest observation for a time series
</p>
</li></ul>



<h3>Spanning functions</h3>

<p>The spanning functions implement the behavior around breaking up a request
that exceeds the API limits into multiple requests within the API limits and
then reducing the results. Currently, spanning is only supported across time
but there is plans to also support spanning across the number of series
requested. These functions are low-level internal implementations and most
users should never need to interact with them directly.
</p>

<ul>
<li> <p><code><a href="#topic+span_series_request">span_series_request()</a></code> - Breaks up a request into multiple queries,
executes the queries, and returns the reduced results
</p>
</li>
<li> <p><code><a href="#topic+span_request_queries">span_request_queries()</a></code> - Breaks up a request into a list of queries
</p>
</li>
<li> <p><code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses()</a></code> - Reduces a list of responses into one
series list
</p>
</li></ul>



<h3>Result Processors</h3>

<p>The result-processor functions will transform the raw API response data
structures into data structures more likely to be suitable for modern user
workflows. The functions generally take as input the values returned by the
query-requester functions and make transform the data to different formats
or modify the output of another result-processor function.
</p>

<ul>
<li> <p><code><a href="#topic+data_as_table">data_as_table()</a></code> - Flatten the data list into a table
</p>
</li>
<li> <p><code><a href="#topic+merge_tables">merge_tables()</a></code> - Merge multiple tables by period
</p>
</li>
<li> <p><code><a href="#topic+tidy_periods">tidy_periods()</a></code> - Transform periods to a more useful format
</p>
</li>
<li> <p><code><a href="#topic+data_as_tidy_table">data_as_tidy_table()</a></code> - Flatten the data list and transform period data
</p>
</li>
<li> <p><code><a href="#topic+merge_tidy_tables">merge_tidy_tables()</a></code> - Merge multiple tables with tidy period data
</p>
</li>
<li> <p><code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo()</a></code> - Turn a table produced by <code>data_as_tidy_table</code>,
<code>merge_tidy_tables</code>, or <code>tidy_periods</code> as a <code>zoo</code> object, which can be
further turned into an <code>xts</code> object
</p>
</li></ul>



<h3>Simplified Interface</h3>

<p>These functions simplify the query generation, execution, and response
processing into a single function call, including extended request periods
that have to be broken down into multiple API requests. For most common use
cases these are likely to be the only functions needed.
</p>

<ul>
<li> <p><code><a href="#topic+get_series_table">get_series_table()</a></code> - Request one series and return a data table
</p>
</li>
<li> <p><code><a href="#topic+get_series_tables">get_series_tables()</a></code> - Request series and return list of data tables
</p>
</li>
<li> <p><code><a href="#topic+get_n_series_table">get_n_series_table()</a></code> - Request series and return one table of values
</p>
</li></ul>


<hr>
<h2 id='data_as_table'>Convert a list of data entries as returned by BLS API to a table</h2><span id='topic+data_as_table'></span>

<h3>Description</h3>

<p>Convert a list of data entries as returned by BLS API to a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_as_table(data, parse_values = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_as_table_+3A_data">data</code></td>
<td>
<p>a list of individual datum entries as returned by the API</p>
</td></tr>
<tr><td><code id="data_as_table_+3A_parse_values">parse_values</code></td>
<td>
<p>optional boolean. If set to <code>TRUE</code> (default) it will
attempt to parse the contents of <code>value</code> and cast numeric strings as numeric
values. If set to <code>FALSE</code> it will retain <code>value</code> as a column of strings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>currently <code>data_as_table</code> is very similar to <code><a href="dplyr.html#topic+bind_rows">dplyr::bind_rows()</a></code>
</p>


<h3>Value</h3>

<p>tibble flattening <code>data</code> into rows for entries and columns for fields
</p>


<h3>See Also</h3>

<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
series &lt;- get_series('LNS14000001')
table &lt;- data_as_table(series$data)

## End(Not run)
</code></pre>

<hr>
<h2 id='data_as_tidy_table'>Convert a list of data entries as returned by BLS API to a table</h2><span id='topic+data_as_tidy_table'></span>

<h3>Description</h3>

<p>Convert a list of data entries as returned by BLS API to a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_as_tidy_table(data, parse_values = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_as_tidy_table_+3A_data">data</code></td>
<td>
<p>a list of individual datum entries as returned by the API</p>
</td></tr>
<tr><td><code id="data_as_tidy_table_+3A_parse_values">parse_values</code></td>
<td>
<p>optional boolean. If set to <code>TRUE</code> (default) it will
attempt to parse the contents of <code>value</code> and cast numeric strings as numeric
values. If set to <code>FALSE</code> it will retain <code>value</code> as a column of strings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An extension of <code><a href="#topic+data_as_table">data_as_table</a></code> that replaces the BLS period
format by removing columns <code>period</code> and <code>periodName</code> and adding <code>month</code> or
<code>quarter</code> where appropriate.
</p>


<h3>Value</h3>

<p>tibble flattening <code>data</code> into rows for entries and columns for fields
</p>


<h3>See Also</h3>

<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
series &lt;- get_series('LNS14000001')
table &lt;- data_as_tidy_table(series$data)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_all_surveys'>Create and execute a query to retrieve all surveys</h2><span id='topic+get_all_surveys'></span>

<h3>Description</h3>

<p>Create and execute a query to retrieve all surveys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_all_surveys(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_all_surveys_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with a survey_abbreviation and survey_name columns
</p>


<h3>See Also</h3>

<p><code><a href="#topic+query_all_surveys">query_all_surveys</a></code>
</p>
<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>

<hr>
<h2 id='get_latest_observation'>Create and execute a query to retrieve the latest observation for a series</h2><span id='topic+get_latest_observation'></span>

<h3>Description</h3>

<p>Create and execute a query to retrieve the latest observation for a series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_latest_observation(series_id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_latest_observation_+3A_series_id">series_id</code></td>
<td>
<p>BLS series ID</p>
</td></tr>
<tr><td><code id="get_latest_observation_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a datum in the form of a list
</p>


<h3>See Also</h3>

<p><code><a href="#topic+query_latest_observation">query_latest_observation</a></code>
</p>
<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>

<hr>
<h2 id='get_n_series'>Create and execute a query to retrieve one or more time series and their
catalog data</h2><span id='topic+get_n_series'></span>

<h3>Description</h3>

<p>Create and execute a query to retrieve one or more time series and their
catalog data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_n_series(
  series_ids,
  api_key = bls_get_key(),
  start_year = NULL,
  end_year = NULL,
  year_limit = NULL,
  span = TRUE,
  catalog = FALSE,
  calculations = FALSE,
  annualaverage = FALSE,
  aspects = FALSE,
  series_limit = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_n_series_+3A_series_ids">series_ids</code></td>
<td>
<p>a list or character vector of BLS time-series IDs. If the
items are named then the names will be used in the returned list</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_api_key">api_key</code></td>
<td>
<p>Optional. An API key string. Defaults to the value returned by
<code><a href="#topic+bls_get_key">bls_get_key()</a></code>. The preferred way to provide an API key is to use
<code><a href="#topic+bls_set_key">bls_set_key()</a></code> or the <code>BLS_API_KEY</code> environment variable. Manually passing
the key will be deprecated in future releases.</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_start_year">start_year</code>, <code id="get_n_series_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="get_n_series_+3A_year_limit">year_limit</code></td>
<td>
<p>optional number of years to paginate request by. If not
explicitly set, it will be set to 10 or 20 depending on if an <code>api_key</code> is
available</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_span">span</code></td>
<td>
<p>when set to <code>TRUE</code>, requests where the number of years between
<code>start_year</code> and <code>end_year</code> exceed <code>year_limit</code> will be performed as
multiple requests automatically</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_catalog">catalog</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, element item in the list returned
may include a named item <code>catalog</code>, a named list containing descriptive
information about the series. Not all series have a catalog entry
available.</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_calculations">calculations</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, each element in the <code>data</code>
list for each series returned may include an additional named element
<code>calculations</code>, a named list containing two items, <code>net_changes</code> and
<code>pct_changes</code>, each of them a named list which may include items <code>1</code>, <code>3</code>,
<code>6</code>, <code>12</code> which represent 1, 3, 6, and 12 month net changes and percent
changes respectively. Not all data series will have enough data points to
include these calculations.</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_annualaverage">annualaverage</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, each <code>data</code> list may include
an additional element for a an annual average of the time series, which is
usually presented as month 13 in monthly data. Not all data series
support this feature.</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_aspects">aspects</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, each item in the <code>data</code> list
for each series returned may include an additional named element <code>aspects</code>,
which will be a named list. Not all data series support this feature.</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_series_limit">series_limit</code></td>
<td>
<p>Maximum number of series to request in one API call
when <code>span</code> is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_n_series_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of series results. Each element of the returned list is
a named list guaranteed to have two items, <code>SeriesID</code> and <code>data</code> and
optionally <code>catalog</code>. The unnamed list <code>data</code> will have 0 or more elements,
each one a named list representing an observation in the time series. Each
observation is guaranteed to include the elements <code>year</code>, <code>period</code>,
<code>periodName</code>, <code>value</code>, and <code>footnotes</code>. Footnotes are a list of named lists.
The rest are scalar values. If the the most recent observation is included,
that observation will have an element named <code>latest</code> which will contain the
text '<code>true</code>'. If <code>calculations</code> or <code>aspects</code> were requested they will be
present as named elements in each observation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+query_n_series">query_n_series</a></code>
</p>
<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
series_ids &lt;- list(uer.men ='LNS14000001', uer.women = 'LNS14000002')
uer_series &lt;- get_n_series(series_ids, 'your-api-key-here' )

## End(Not run)
</code></pre>

<hr>
<h2 id='get_n_series_table'>Retrieve multiple time series in one API request and return a single tibble</h2><span id='topic+get_n_series_table'></span>

<h3>Description</h3>

<p>Retrieve multiple time series in one API request and return a single tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_n_series_table(
  series_ids,
  api_key = bls_get_key(),
  start_year = NULL,
  end_year = NULL,
  year_limit = NULL,
  tidy = FALSE,
  parse_values = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_n_series_table_+3A_series_ids">series_ids</code></td>
<td>
<p>a list or character vector of BLS time-series IDs. If the
items are named then the names will be used in the returned list</p>
</td></tr>
<tr><td><code id="get_n_series_table_+3A_api_key">api_key</code></td>
<td>
<p>Optional. An API key string. Defaults to the value returned by
<code><a href="#topic+bls_get_key">bls_get_key()</a></code>. The preferred way to provide an API key is to use
<code><a href="#topic+bls_set_key">bls_set_key()</a></code> or the <code>BLS_API_KEY</code> environment variable. Manually passing
the key will be deprecated in future releases.</p>
</td></tr>
<tr><td><code id="get_n_series_table_+3A_start_year">start_year</code>, <code id="get_n_series_table_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="get_n_series_table_+3A_year_limit">year_limit</code></td>
<td>
<p>optional number of years to paginate request by. If not
explicitly set, it will be set to 10 or 20 depending on if an <code>api_key</code> is
available</p>
</td></tr>
<tr><td><code id="get_n_series_table_+3A_tidy">tidy</code></td>
<td>
<p>optional boolean. Return will use <code><a href="#topic+tidy_periods">tidy_periods()</a></code> if true</p>
</td></tr>
<tr><td><code id="get_n_series_table_+3A_parse_values">parse_values</code></td>
<td>
<p>optional boolean. If set to <code>TRUE</code> (default) it will
attempt to parse the contents of <code>value</code> and cast numeric strings as numeric
values. If set to <code>FALSE</code> it will retain <code>value</code> as a column of strings.</p>
</td></tr>
<tr><td><code id="get_n_series_table_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+get_n_series">get_n_series</a></code>
</p>

<dl>
<dt><code>series_limit</code></dt><dd><p>Maximum number of series to request in one API call
when <code>span</code> is set to <code>TRUE</code>.</p>
</dd>
<dt><code>span</code></dt><dd><p>when set to <code>TRUE</code>, requests where the number of years between
<code>start_year</code> and <code>end_year</code> exceed <code>year_limit</code> will be performed as
multiple requests automatically</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of multiple merged time series
</p>


<h3>See Also</h3>

<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_n_series_table(
  list(uer.men ='LNS14000001', uer.women = 'LNS14000002'),
  start_year = 2005, end_year=2006
)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_popular_series'>Create and execute a query to retrieve popular series</h2><span id='topic+get_popular_series'></span>

<h3>Description</h3>

<p>Create and execute a query to retrieve popular series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_popular_series(survey_id = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_popular_series_+3A_survey_id">survey_id</code></td>
<td>
<p>BLS survey abbreviation (two letter code)</p>
</td></tr>
<tr><td><code id="get_popular_series_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of series IDs
</p>


<h3>See Also</h3>

<p><code><a href="#topic+query_popular_series">query_popular_series</a></code>
</p>
<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>

<hr>
<h2 id='get_series'>Create and execute query for a single time series</h2><span id='topic+get_series'></span>

<h3>Description</h3>

<p>Create and execute query for a single time series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_series(
  series_id,
  start_year = NULL,
  end_year = NULL,
  year_limit = NULL,
  span = TRUE,
  api_key = bls_get_key(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_series_+3A_series_id">series_id</code></td>
<td>
<p>Character scalar BLS series ID</p>
</td></tr>
<tr><td><code id="get_series_+3A_start_year">start_year</code>, <code id="get_series_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="get_series_+3A_year_limit">year_limit</code></td>
<td>
<p>optional number of years to paginate request by. If not
explicitly set, it will be set to 10 or 20 depending on if an <code>api_key</code> is
available</p>
</td></tr>
<tr><td><code id="get_series_+3A_span">span</code></td>
<td>
<p>when set to <code>TRUE</code>, requests where the number of years between
<code>start_year</code> and <code>end_year</code> exceed <code>year_limit</code> will be performed as
multiple requests automatically</p>
</td></tr>
<tr><td><code id="get_series_+3A_api_key">api_key</code></td>
<td>
<p>Optional. An API key string. Defaults to the value returned by
<code><a href="#topic+bls_get_key">bls_get_key()</a></code>. The preferred way to provide an API key is to use
<code><a href="#topic+bls_set_key">bls_set_key()</a></code> or the <code>BLS_API_KEY</code> environment variable. Manually passing
the key will be deprecated in future releases.</p>
</td></tr>
<tr><td><code id="get_series_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single series result, in list form. The resulting list will have
the following items:
</p>

<ul>
<li> <p><code>seriesID</code>: a character vector of length 1 containing the <code>series_id</code>
</p>
</li>
<li> <p><code>data</code>: a list of lists containing the payload data. Each item of the list
represents an observation. Each observation is a list with the following
named items <code>year</code>, <code>period</code>, <code>periodName</code>, <code>value</code>, <code>footnotes</code>.
Footnotes are a list. Additionally, the most recent observation will have
an item named <code>latest</code> which will be marked as 'true'.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+query_series">query_series</a></code>
</p>
<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
series &lt;- get_series('LNS14000001')

## End(Not run)
</code></pre>

<hr>
<h2 id='get_series_table'>Retrieve a time series from BLS API as a tibble</h2><span id='topic+get_series_table'></span>

<h3>Description</h3>

<p>Retrieve a time series from BLS API as a tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_series_table(
  series_id,
  api_key = bls_get_key(),
  start_year = NULL,
  end_year = NULL,
  year_limit = NULL,
  parse_values = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_series_table_+3A_series_id">series_id</code></td>
<td>
<p>Character scalar BLS series ID</p>
</td></tr>
<tr><td><code id="get_series_table_+3A_api_key">api_key</code></td>
<td>
<p>Optional. An API key string. Defaults to the value returned by
<code><a href="#topic+bls_get_key">bls_get_key()</a></code>. The preferred way to provide an API key is to use
<code><a href="#topic+bls_set_key">bls_set_key()</a></code> or the <code>BLS_API_KEY</code> environment variable. Manually passing
the key will be deprecated in future releases.</p>
</td></tr>
<tr><td><code id="get_series_table_+3A_start_year">start_year</code>, <code id="get_series_table_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="get_series_table_+3A_year_limit">year_limit</code></td>
<td>
<p>optional number of years to paginate request by. If not
explicitly set, it will be set to 10 or 20 depending on if an <code>api_key</code> is
available</p>
</td></tr>
<tr><td><code id="get_series_table_+3A_parse_values">parse_values</code></td>
<td>
<p>optional boolean. If set to <code>TRUE</code> (default) it will
attempt to parse the contents of <code>value</code> and cast numeric strings as numeric
values. If set to <code>FALSE</code> it will retain <code>value</code> as a column of strings.</p>
</td></tr>
<tr><td><code id="get_series_table_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+get_series">get_series</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of observations or <code>NA</code> if the request had zero results.
</p>


<h3>See Also</h3>

<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_series_table('LNS14000001',2005,2006)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_series_tables'>Retrieve multiple time series as in one API request as tibbles</h2><span id='topic+get_series_tables'></span>

<h3>Description</h3>

<p>Retrieve multiple time series as in one API request as tibbles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_series_tables(
  series_ids,
  api_key = bls_get_key(),
  start_year = NULL,
  end_year = NULL,
  year_limit = NULL,
  parse_values = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_series_tables_+3A_series_ids">series_ids</code></td>
<td>
<p>a list or character vector of BLS time-series IDs. If the
items are named then the names will be used in the returned list</p>
</td></tr>
<tr><td><code id="get_series_tables_+3A_api_key">api_key</code></td>
<td>
<p>Optional. An API key string. Defaults to the value returned by
<code><a href="#topic+bls_get_key">bls_get_key()</a></code>. The preferred way to provide an API key is to use
<code><a href="#topic+bls_set_key">bls_set_key()</a></code> or the <code>BLS_API_KEY</code> environment variable. Manually passing
the key will be deprecated in future releases.</p>
</td></tr>
<tr><td><code id="get_series_tables_+3A_start_year">start_year</code>, <code id="get_series_tables_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="get_series_tables_+3A_year_limit">year_limit</code></td>
<td>
<p>optional number of years to paginate request by. If not
explicitly set, it will be set to 10 or 20 depending on if an <code>api_key</code> is
available</p>
</td></tr>
<tr><td><code id="get_series_tables_+3A_parse_values">parse_values</code></td>
<td>
<p>optional boolean. If set to <code>TRUE</code> (default) it will
attempt to parse the contents of <code>value</code> and cast numeric strings as numeric
values. If set to <code>FALSE</code> it will retain <code>value</code> as a column of strings.</p>
</td></tr>
<tr><td><code id="get_series_tables_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+get_n_series">get_n_series</a></code>
</p>

<dl>
<dt><code>series_limit</code></dt><dd><p>Maximum number of series to request in one API call
when <code>span</code> is set to <code>TRUE</code>.</p>
</dd>
<dt><code>span</code></dt><dd><p>when set to <code>TRUE</code>, requests where the number of years between
<code>start_year</code> and <code>end_year</code> exceed <code>year_limit</code> will be performed as
multiple requests automatically</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of tibbles. Series requests which return observations will be
a tibble. Series with no observations will be <code>NA</code>
</p>


<h3>See Also</h3>

<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

blsr_set_key('your-api-key-here-xxxxxxxxxxxxxx')

get_series_tables(
  list(uer.men ='LNS14000001', uer.women = 'LNS14000002')
)
get_series_tables(
  list(uer.men ='LNS14000001', uer.women = 'LNS14000002'),
  2005,2006
)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_survey_info'>Create and execute a query to retrieve information about a survey</h2><span id='topic+get_survey_info'></span>

<h3>Description</h3>

<p>Create and execute a query to retrieve information about a survey
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_survey_info(survey_id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_survey_info_+3A_survey_id">survey_id</code></td>
<td>
<p>BLS survey abbreviation (two letter code)</p>
</td></tr>
<tr><td><code id="get_survey_info_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of survey information
</p>


<h3>See Also</h3>

<p><code><a href="#topic+query_survey_info">query_survey_info</a></code>
</p>
<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>

<hr>
<h2 id='merge_tables'>Turn a list of one or more series into a single table of time series data</h2><span id='topic+merge_tables'></span>

<h3>Description</h3>

<p><code>merge_tables()</code> turns a list of series as returned by
<code><a href="#topic+data_as_table">data_as_table()</a></code> into a single tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_tables(tables, join_by = c("year", "period"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_tables_+3A_tables">tables</code></td>
<td>
<p>a named list of tables with matching periodicity. Mixing
data with different (monthly, quarterly, annual) periodicity is unsupported.
The list names will be used as column names in the output.</p>
</td></tr>
<tr><td><code id="merge_tables_+3A_join_by">join_by</code></td>
<td>
<p>an optional character vector of columns to use to join tables.
The result will be sorted in ascending order using these columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble
</p>


<h3>See Also</h3>

<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
series_ids &lt;- list(uer.men ='LNS14000001', uer.women = 'LNS14000002')
uer_series &lt;- get_n_series(series_ids, 'your-api-key-here' )
uer_tables &lt;- lapply(uer_series, function(x) data_to_table(x$data))
big_table &lt;- merge_tables(uer_tables)

## End(Not run)

</code></pre>

<hr>
<h2 id='merge_tidy_tables'>Turn a list of one or more series into a single table of time series data</h2><span id='topic+merge_tidy_tables'></span>

<h3>Description</h3>

<p><code>merge_tidy_tables()</code> turns a list of series as returned by
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table()</a></code> into a single tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_tidy_tables(tidy_tables)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_tidy_tables_+3A_tidy_tables">tidy_tables</code></td>
<td>
<p>a named list of tables with matching periodicity. Mixing
data with different (monthly, quarterly, annual) periodicity is unsupported.
The list names will be used as column names in the output.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble
</p>


<h3>See Also</h3>

<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>

<hr>
<h2 id='query_all_surveys'>Create a query to retrieve all surveys</h2><span id='topic+query_all_surveys'></span>

<h3>Description</h3>

<p>Create a query to retrieve all surveys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_all_surveys()
</code></pre>


<h3>Value</h3>

<p>list of query parameters
</p>


<h3>See Also</h3>

<p>Other blsR-queries: 
<code><a href="#topic+query_latest_observation">query_latest_observation</a>()</code>,
<code><a href="#topic+query_n_series">query_n_series</a>()</code>,
<code><a href="#topic+query_popular_series">query_popular_series</a>()</code>,
<code><a href="#topic+query_series">query_series</a>()</code>,
<code><a href="#topic+query_survey_info">query_survey_info</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>
</p>

<hr>
<h2 id='query_latest_observation'>Create a Query to retrieve the latest observation for a time series</h2><span id='topic+query_latest_observation'></span>

<h3>Description</h3>

<p>Create a Query to retrieve the latest observation for a time series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_latest_observation(series_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_latest_observation_+3A_series_id">series_id</code></td>
<td>
<p>BLS series ID</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of query parameters
</p>


<h3>See Also</h3>

<p>Other blsR-queries: 
<code><a href="#topic+query_all_surveys">query_all_surveys</a>()</code>,
<code><a href="#topic+query_n_series">query_n_series</a>()</code>,
<code><a href="#topic+query_popular_series">query_popular_series</a>()</code>,
<code><a href="#topic+query_series">query_series</a>()</code>,
<code><a href="#topic+query_survey_info">query_survey_info</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>
</p>

<hr>
<h2 id='query_n_series'>Create a query to retrieve one or more time series and their catalog data</h2><span id='topic+query_n_series'></span>

<h3>Description</h3>

<p>Create a query to retrieve one or more time series and their catalog data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_n_series(
  series_ids,
  start_year = NULL,
  end_year = NULL,
  catalog = FALSE,
  calculations = FALSE,
  annualaverage = FALSE,
  aspects = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_n_series_+3A_series_ids">series_ids</code></td>
<td>
<p>Character vector of BLS series IDs</p>
</td></tr>
<tr><td><code id="query_n_series_+3A_start_year">start_year</code>, <code id="query_n_series_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="query_n_series_+3A_catalog">catalog</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, element item in the list returned
may include a named item <code>catalog</code>, a named list containing descriptive
information about the series. Not all series have a catalog entry
available.</p>
</td></tr>
<tr><td><code id="query_n_series_+3A_calculations">calculations</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, each element in the <code>data</code>
list for each series returned may include an additional named element
<code>calculations</code>, a named list containing two items, <code>net_changes</code> and
<code>pct_changes</code>, each of them a named list which may include items <code>1</code>, <code>3</code>,
<code>6</code>, <code>12</code> which represent 1, 3, 6, and 12 month net changes and percent
changes respectively. Not all data series will have enough data points to
include these calculations.</p>
</td></tr>
<tr><td><code id="query_n_series_+3A_annualaverage">annualaverage</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, each <code>data</code> list may include
an additional element for a an annual average of the time series, which is
usually presented as month 13 in monthly data. Not all data series
support this feature.</p>
</td></tr>
<tr><td><code id="query_n_series_+3A_aspects">aspects</code></td>
<td>
<p>boolean. If set to <code>TRUE</code>, each item in the <code>data</code> list
for each series returned may include an additional named element <code>aspects</code>,
which will be a named list. Not all data series support this feature.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of query parameters
</p>


<h3>See Also</h3>

<p>Other blsR-queries: 
<code><a href="#topic+query_all_surveys">query_all_surveys</a>()</code>,
<code><a href="#topic+query_latest_observation">query_latest_observation</a>()</code>,
<code><a href="#topic+query_popular_series">query_popular_series</a>()</code>,
<code><a href="#topic+query_series">query_series</a>()</code>,
<code><a href="#topic+query_survey_info">query_survey_info</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
a &lt;- query_n_series(c('LNS14000001', 'LNS14000002'))
b &lt;- query_n_series(c('LNS14000001', 'LNS14000002'), start_year = 2005, end_year=2010)
c &lt;- query_n_series(c('LNS14000001', 'LNS14000002'), 2005, 2010)
d &lt;- query_n_series(c('LNS14000001', 'LNS14000002'), catalog=TRUE)


</code></pre>

<hr>
<h2 id='query_popular_series'>Create a query to retrieve popular series</h2><span id='topic+query_popular_series'></span>

<h3>Description</h3>

<p>Create a query to retrieve popular series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_popular_series(survey_id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_popular_series_+3A_survey_id">survey_id</code></td>
<td>
<p>BLS survey abbreviation (two letter code)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of query parameters
</p>


<h3>See Also</h3>

<p>Other blsR-queries: 
<code><a href="#topic+query_all_surveys">query_all_surveys</a>()</code>,
<code><a href="#topic+query_latest_observation">query_latest_observation</a>()</code>,
<code><a href="#topic+query_n_series">query_n_series</a>()</code>,
<code><a href="#topic+query_series">query_series</a>()</code>,
<code><a href="#topic+query_survey_info">query_survey_info</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>popular_series_query &lt;- query_popular_series()
popular_labor_force_series &lt;- query_popular_series('LN')

</code></pre>

<hr>
<h2 id='query_series'>Create a query for a single time series</h2><span id='topic+query_series'></span>

<h3>Description</h3>

<p>Create a query for a single time series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_series(series_id, start_year = NULL, end_year = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_series_+3A_series_id">series_id</code></td>
<td>
<p>Character scalar BLS series ID</p>
</td></tr>
<tr><td><code id="query_series_+3A_start_year">start_year</code>, <code id="query_series_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of query parameters
</p>


<h3>See Also</h3>

<p>Other blsR-queries: 
<code><a href="#topic+query_all_surveys">query_all_surveys</a>()</code>,
<code><a href="#topic+query_latest_observation">query_latest_observation</a>()</code>,
<code><a href="#topic+query_n_series">query_n_series</a>()</code>,
<code><a href="#topic+query_popular_series">query_popular_series</a>()</code>,
<code><a href="#topic+query_survey_info">query_survey_info</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
unemployment_rate_query &lt;- query_series('LNS14000000')
unemployment_rate_query &lt;- query_series('LNS14000000', 2005, 2010)

</code></pre>

<hr>
<h2 id='query_survey_info'>Create a query to retrieve information about a survey</h2><span id='topic+query_survey_info'></span>

<h3>Description</h3>

<p>Create a query to retrieve information about a survey
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_survey_info(survey_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_survey_info_+3A_survey_id">survey_id</code></td>
<td>
<p>BLS survey abbreviation (two letter code)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of query parameters
</p>


<h3>See Also</h3>

<p>Other blsR-queries: 
<code><a href="#topic+query_all_surveys">query_all_surveys</a>()</code>,
<code><a href="#topic+query_latest_observation">query_latest_observation</a>()</code>,
<code><a href="#topic+query_n_series">query_n_series</a>()</code>,
<code><a href="#topic+query_popular_series">query_popular_series</a>()</code>,
<code><a href="#topic+query_series">query_series</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>query_survey_info('LN')

</code></pre>

<hr>
<h2 id='reduce_spanned_responses'>Reduce the multiple spanned responses into a list of series</h2><span id='topic+reduce_spanned_responses'></span>

<h3>Description</h3>

<p>Reduce the multiple spanned responses into a list of series
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reduce_spanned_responses(responses)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reduce_spanned_responses_+3A_responses">responses</code></td>
<td>
<p>a list of API responses as returned by <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>series list
</p>


<h3>See Also</h3>

<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>
</p>
<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>

<hr>
<h2 id='span_request_queries'>Generate multiple queries that don't exceed a year limit</h2><span id='topic+span_request_queries'></span>

<h3>Description</h3>

<p>Generate multiple queries that don't exceed a year limit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>span_request_queries(start_year, end_year, year_limit, query_fn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="span_request_queries_+3A_start_year">start_year</code>, <code id="span_request_queries_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="span_request_queries_+3A_year_limit">year_limit</code></td>
<td>
<p>positive integer</p>
</td></tr>
<tr><td><code id="span_request_queries_+3A_query_fn">query_fn</code></td>
<td>
<p>a function or closure that takes two arguments, <code>start_year</code>
and <code>end_year</code>, and returns a query (see <code><a href="purrr.html#topic+partial">purrr::partial()</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of query objects in reverse chronological order
</p>


<h3>See Also</h3>

<p>Other blsR-queries: 
<code><a href="#topic+query_all_surveys">query_all_surveys</a>()</code>,
<code><a href="#topic+query_latest_observation">query_latest_observation</a>()</code>,
<code><a href="#topic+query_n_series">query_n_series</a>()</code>,
<code><a href="#topic+query_popular_series">query_popular_series</a>()</code>,
<code><a href="#topic+query_series">query_series</a>()</code>,
<code><a href="#topic+query_survey_info">query_survey_info</a>()</code>
</p>
<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>

<hr>
<h2 id='span_series_request'>Break up a long request into multiple API calls</h2><span id='topic+span_series_request'></span>

<h3>Description</h3>

<p>Break up a long request into multiple API calls
</p>


<h3>Usage</h3>

<pre><code class='language-R'>span_series_request(start_year, end_year, year_limit, query_fn, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="span_series_request_+3A_start_year">start_year</code>, <code id="span_series_request_+3A_end_year">end_year</code></td>
<td>
<p>numeric 4-digit years. While optional, they are
strongly recommended. If one is provided, the other is mandatory. <code>end_year</code>
must be greater than <code>start_year</code></p>
</td></tr>
<tr><td><code id="span_series_request_+3A_year_limit">year_limit</code></td>
<td>
<p>positive integer</p>
</td></tr>
<tr><td><code id="span_series_request_+3A_query_fn">query_fn</code></td>
<td>
<p>a function or closure that takes two arguments, <code>start_year</code>
and <code>end_year</code>, and returns a query (see <code><a href="purrr.html#topic+partial">purrr::partial()</a></code>)</p>
</td></tr>
<tr><td><code id="span_series_request_+3A_...">...</code></td>
<td>
<p>additional arguments to pass to  <code><a href="#topic+bls_request">bls_request()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of API responses (what comes back from bls_re)
</p>


<h3>See Also</h3>

<p>Other blsR-requests: 
<code><a href="#topic+bls_request">bls_request</a>()</code>,
<code><a href="#topic+get_all_surveys">get_all_surveys</a>()</code>,
<code><a href="#topic+get_latest_observation">get_latest_observation</a>()</code>,
<code><a href="#topic+get_n_series_table">get_n_series_table</a>()</code>,
<code><a href="#topic+get_n_series">get_n_series</a>()</code>,
<code><a href="#topic+get_popular_series">get_popular_series</a>()</code>,
<code><a href="#topic+get_series_tables">get_series_tables</a>()</code>,
<code><a href="#topic+get_series_table">get_series_table</a>()</code>,
<code><a href="#topic+get_series">get_series</a>()</code>,
<code><a href="#topic+get_survey_info">get_survey_info</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>
</p>
<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>

<hr>
<h2 id='tidy_periods'>Clean the period information returned by BLS</h2><span id='topic+tidy_periods'></span>

<h3>Description</h3>

<p>Clean the period information returned by BLS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_periods(table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_periods_+3A_table">table</code></td>
<td>
<p>a tibble of the <code>data</code> slot in a series</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>tidy_periods</code> will return a tibble where the period and periodName columns
have been deleted and replaced. Monthly periodicity data will have a new
column <code>month</code> and quarterly data will have a new column <code>quarter</code>. Rows will
be sorted from oldest to newest.
</p>


<h3>Value</h3>

<p>a sorted tibble containing the period and the value
</p>


<h3>See Also</h3>

<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_table_as_zoo">tidy_table_as_zoo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
series &lt;- get_series('LNS14000001')
table &lt;- data_as_table(series$data)
tidy_table &lt;- tidy_periods(table)

## End(Not run)
</code></pre>

<hr>
<h2 id='tidy_table_as_zoo'>Convert a single series or n series tables into a zoo object</h2><span id='topic+tidy_table_as_zoo'></span>

<h3>Description</h3>

<p>Convert a single series or n series tables into a zoo object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_table_as_zoo(table, index_function = .zoo_index_function)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_table_as_zoo_+3A_table">table</code></td>
<td>
<p>a table of results</p>
</td></tr>
<tr><td><code id="tidy_table_as_zoo_+3A_index_function">index_function</code></td>
<td>
<p>optional closure. The closure argument is the <code>table</code>
and it should return a vector of values compatible with a <code>zoo</code> index. The
default function will return a vector of <code><a href="zoo.html#topic+yearmon">zoo::yearmon()</a></code> for monthly series and
<code><a href="zoo.html#topic+yearqtr">zoo::yearqtr()</a></code> for quarterly or annual series.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A utility function to easily convert retrieved BLS series into
<code>zoo</code> or <code>xts</code> objects.
</p>


<h3>Value</h3>

<p>a <code>zoo</code>object
</p>


<h3>See Also</h3>

<p>Other blsR-utils: 
<code><a href="#topic+bls-api-key">bls-api-key</a></code>,
<code><a href="#topic+data_as_table">data_as_table</a>()</code>,
<code><a href="#topic+data_as_tidy_table">data_as_tidy_table</a>()</code>,
<code><a href="#topic+merge_tables">merge_tables</a>()</code>,
<code><a href="#topic+merge_tidy_tables">merge_tidy_tables</a>()</code>,
<code><a href="#topic+reduce_spanned_responses">reduce_spanned_responses</a>()</code>,
<code><a href="#topic+span_request_queries">span_request_queries</a>()</code>,
<code><a href="#topic+span_series_request">span_series_request</a>()</code>,
<code><a href="#topic+tidy_periods">tidy_periods</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
series &lt;- get_series('LNS14000001')
table &lt;- data_as_tidy_table(series$data)
zoo_obj &lt;- tidy_table_as_zoo(table)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

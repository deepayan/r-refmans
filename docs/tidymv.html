<!DOCTYPE html><html><head><title>Help for package tidymv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidymv}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_start_event'><p>Create a start event column.</p></a></li>
<li><a href='#find_difference'><p>Return the regions in which the smooth is significantly different from zero.</p></a></li>
<li><a href='#geom_smooth_ci'><p>Smooths and confidence intervals.</p></a></li>
<li><a href='#get_difference'><p>Get model predictions for differences between conditions.</p></a></li>
<li><a href='#get_gam_predictions'><p>Get predictions from a GAM model.</p></a></li>
<li><a href='#get_smooths_difference'><p>Get difference of smooths from a GAM model</p></a></li>
<li><a href='#inter_df'><p>Dataset with two factors</p></a></li>
<li><a href='#plot_difference'><p>Plot difference smooth from a GAM.</p></a></li>
<li><a href='#plot_gamsd'><p>Deprecated functions in package <span class="pkg">tidymv</span>.</p></a></li>
<li><a href='#plot_gamsd-defunct'><p>Plot GAM estimate smooths and difference curve.</p></a></li>
<li><a href='#plot_smooths'><p>Plot GAM smooths.</p></a></li>
<li><a href='#pois_df'><p>Dataset with a Poisson outcome variable</p></a></li>
<li><a href='#predict_gam'><p>Get predictions from a GAM model.</p></a></li>
<li><a href='#summary_data'><p>Print a descriptive summary of a data frame.</p></a></li>
<li><a href='#tidymv-package'><p>tidymv: Tidy Model Visualisation for Generalised Additive Models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tidy Model Visualisation for Generalised Additive Models</td>
</tr>
<tr>
<td>Version:</td>
<td>3.4.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-05-09</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions for visualising generalised
    additive models and getting predicted values using tidy tools from the 'tidyverse' packages.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/stefanocoretta/tidymv">https://github.com/stefanocoretta/tidymv</a>,
<a href="https://stefanocoretta.github.io/tidymv/">https://stefanocoretta.github.io/tidymv/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/stefanocoretta/tidymv/issues">https://github.com/stefanocoretta/tidymv/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, lifecycle, magrittr, mgcv, rlang, tibble,
tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en_GB</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-09 21:18:45 UTC; ste</td>
</tr>
<tr>
<td>Author:</td>
<td>Stefano Coretta [aut, cre],
  Jacolien van Rij [cph] (Imported functions from itsadug),
  Martijn Wieling [cph] (Imported functions from itsadug)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefano Coretta &lt;stefano.coretta@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-10 02:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_start_event'>Create a start event column.</h2><span id='topic+create_start_event'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>This function is from the superseded package tidymv. Please, use the tidygam
package instead.
</p>
<p>Create a new column which marks the beginning of each series in a tibble (for example, time series).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_start_event(tibble, series_col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_start_event_+3A_tibble">tibble</code></td>
<td>
<p>A tibble arranged according to the series.</p>
</td></tr>
<tr><td><code id="create_start_event_+3A_series_col">series_col</code></td>
<td>
<p>The name of the column that defines the group of series, as an unquoted expression.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with an extra column that marks the beginning of the series.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
series_tbl &lt;- tibble(
  time_series = rep(1:5, 3),
  group = rep(c("a", "b", "c"), each = 5)
) %&gt;%
  create_start_event(group)

</code></pre>

<hr>
<h2 id='find_difference'>Return the regions in which the smooth is significantly different from zero.</h2><span id='topic+find_difference'></span>

<h3>Description</h3>

<p>Return the regions in which the smooth is significantly different from zero.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_difference(mean, se, xVals = NULL, f = 1, as.vector = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_difference_+3A_mean">mean</code></td>
<td>
<p>A vector with smooth predictions.</p>
</td></tr>
<tr><td><code id="find_difference_+3A_se">se</code></td>
<td>
<p>A vector with the standard error on the smooth predictions.</p>
</td></tr>
<tr><td><code id="find_difference_+3A_xvals">xVals</code></td>
<td>
<p>Optional vector with x values for the smooth.
When <code>xVals</code> is provided, the regions are returned in terms of x-
values, otherwise as indices.</p>
</td></tr>
<tr><td><code id="find_difference_+3A_f">f</code></td>
<td>
<p>A number to multiply the <code>se</code> with, to convert the <code>se</code>
into confidence intervals. Use 1.96 for 95% CI and 2.58 for 99%CI.</p>
</td></tr>
<tr><td><code id="find_difference_+3A_as.vector">as.vector</code></td>
<td>
<p>Logical: whether or not to return the data points as
vector, or not. Default is FALSE, and a list with start and end points will
be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a list with start points of each region
(<code>start</code>) and end points of each region (<code>end</code>). The logical
<code>xVals</code> indicates whether the returned values are on the x-scale
(TRUE) or indices (FALSE).
</p>


<h3>Author(s)</h3>

<p>Jacolien van Rij
</p>

<hr>
<h2 id='geom_smooth_ci'>Smooths and confidence intervals.</h2><span id='topic+geom_smooth_ci'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>This function is from the superseded package tidymv. Please, use the tidygam
package instead.
</p>
<p>It provides a <code>geom</code> for plotting GAM smooths with confidence intervals from the output of <a href="#topic+predict_gam">predict_gam</a>. It inherits the following aesthetics from a call to <code>ggplot</code>:
</p>

<ul>
<li><p> The term defining the x-axis.
</p>
</li>
<li><p> The fitted values (the <code>fit</code> column in the tibble returned by <a href="#topic+predict_gam">predict_gam</a>).
</p>
</li>
<li><p> The standard error of the fit (the <code>se.fit</code> column in the tibble returned by <a href="#topic+predict_gam">predict_gam</a>).
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>geom_smooth_ci(group = NULL, ci_z = 1.96, ci_alpha = 0.1, data = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_smooth_ci_+3A_group">group</code></td>
<td>
<p>The optional grouping factor.</p>
</td></tr>
<tr><td><code id="geom_smooth_ci_+3A_ci_z">ci_z</code></td>
<td>
<p>The z-value for calculating the CIs (the default is <code>1.96</code> for 95 percent CI).</p>
</td></tr>
<tr><td><code id="geom_smooth_ci_+3A_ci_alpha">ci_alpha</code></td>
<td>
<p>Transparency value of CIs (the default is <code>0.1</code>).</p>
</td></tr>
<tr><td><code id="geom_smooth_ci_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. If <code>NULL</code>, it is inherited.</p>
</td></tr>
<tr><td><code id="geom_smooth_ci_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>geom_path()</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(mgcv)
library(ggplot2)
set.seed(10)
data &lt;- gamSim(4)
model &lt;- gam(y ~ fac + s(x2) + s(x2, by = fac), data = data)

# get predictions
p &lt;- predict_gam(model)

# plot smooths and confidence intervals
ggplot(p, aes(x2, fit)) + geom_smooth_ci(fac)

</code></pre>

<hr>
<h2 id='get_difference'>Get model predictions for differences between conditions.</h2><span id='topic+get_difference'></span>

<h3>Description</h3>

<p>Get model predictions for differences between conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_difference(
  model,
  comp,
  cond = NULL,
  rm.ranef = TRUE,
  se = TRUE,
  sim.ci = FALSE,
  f = 1.96,
  return.n.posterior = 0,
  print.summary = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_difference_+3A_model">model</code></td>
<td>
<p>A gam object, produced by <code><a href="mgcv.html#topic+gam">mgcv::gam()</a></code> or
<code><a href="mgcv.html#topic+bam">mgcv::bam()</a></code>.</p>
</td></tr>
<tr><td><code id="get_difference_+3A_comp">comp</code></td>
<td>
<p>A named list with the two levels to compare.</p>
</td></tr>
<tr><td><code id="get_difference_+3A_cond">cond</code></td>
<td>
<p>A named list of the values to use for the other predictor
terms. Variables omitted from this list will have the closest observed
value to the median for continuous variables, or the reference level for
factors.</p>
</td></tr>
<tr><td><code id="get_difference_+3A_rm.ranef">rm.ranef</code></td>
<td>
<p>Logical: whether or not to remove random effects.
Default is TRUE. Alternatively a vector of numbers with the
model term number of the random effect(s) to remove.
(See notes.)</p>
</td></tr>
<tr><td><code id="get_difference_+3A_se">se</code></td>
<td>
<p>Logical: whether or not to return the confidence interval or
standard error around the estimates.</p>
</td></tr>
<tr><td><code id="get_difference_+3A_sim.ci">sim.ci</code></td>
<td>
<p>Logical: Using simultaneous confidence intervals or not
(default set to FALSE). The implementation of simultaneous CIs follows
Gavin Simpson's blog of December 15, 2016:
<a href="https://fromthebottomoftheheap.net/2016/12/15/simultaneous-interval-revisited/">https://fromthebottomoftheheap.net/2016/12/15/simultaneous-interval-revisited/</a>.
This interval is calculated from simulations based.
Please specify a seed (e.g., <code>set.seed(123)</code>) for reproducible results.
In addition, make sure to specify at least 200 points for each smooth
for the simulations when using simultaneous CI.
Note: in contrast with Gavin Simpson's code, here the Bayesian posterior
covariance matrix of the parameters is uncertainty corrected
(<code>unconditional=TRUE</code>) to reflect the uncertainty on the estimation of
smoothness parameters.</p>
</td></tr>
<tr><td><code id="get_difference_+3A_f">f</code></td>
<td>
<p>A number to scale the standard error. Defaults to 1.96, resulting
in 95\
2.58.</p>
</td></tr>
<tr><td><code id="get_difference_+3A_return.n.posterior">return.n.posterior</code></td>
<td>
<p>Numeric: N samples from
the posterior distribution of the fitted model are returned.
Default value is 0 (no samples returned).
Only works when <code>sim.ci=TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_difference_+3A_print.summary">print.summary</code></td>
<td>
<p>Logical: whether or not to print a summary of the
values selected for each predictor.
Default set to the print info messages option
(see <code>infoMessages</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame with the estimates of the difference and
optionally the confidence intervals around that estimate.
</p>


<h3>Notes</h3>

<p>Other, not specified effects and random effects are generally cancelled
out, when calculating the difference. When the predictors that
specify the conditions to compare are involved in other interactions
or included as random slopes, it may be useful to specify the values
of other predictors with <code>cond</code> or remove the random effects with
<code>rm.ranef</code>.
</p>


<h3>Author(s)</h3>

<p>Jacolien van Rij, Martijn Wieling
</p>

<hr>
<h2 id='get_gam_predictions'>Get predictions from a GAM model.</h2><span id='topic+get_gam_predictions'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>This function is from the superseded package tidymv. Please, use the tidygam
package instead.
</p>
<p>It returns a tibble with the predictions from a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_gam_predictions(
  model,
  series,
  series_length = 25,
  conditions = NULL,
  exclude_random = TRUE,
  exclude_terms = NULL,
  split = NULL,
  sep = "\\.",
  time_series,
  transform = NULL,
  ci_z = 1.96,
  .comparison = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_gam_predictions_+3A_model">model</code></td>
<td>
<p>A <code>gam</code> or <code>bam</code> model object.</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_series">series</code></td>
<td>
<p>An unquoted expression indicating the model term that defines the series on which smoothing is applied. This is the term that is displayed on the x-axis when plotting.</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_series_length">series_length</code></td>
<td>
<p>An integer indicating how many values along the time series to use for predicting the outcome term.</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_conditions">conditions</code></td>
<td>
<p>A list of quosures with <code>quos</code> specifying the levels to plot from the model terms.</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_exclude_random">exclude_random</code></td>
<td>
<p>Whether to exclude random smooths (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_exclude_terms">exclude_terms</code></td>
<td>
<p>Terms to be excluded from the prediction. Term names should be given as they appear in the model summary (for example, <code>"s(x0,x1)"</code>).</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_split">split</code></td>
<td>
<p>Columns to separate as a named list.</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_sep">sep</code></td>
<td>
<p>Separator between columns (default is <code>"\\."</code>, which is the default with ). If character, it is interpreted as a regular expression.</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_time_series">time_series</code></td>
<td>
<p>Deprecated, use <code>series</code> instead.</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_transform">transform</code></td>
<td>
<p>Function used to transform the fitted values (useful for getting plots on the response scale).</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_ci_z">ci_z</code></td>
<td>
<p>The z-value for calculating the CIs (the default is <code>1.96</code> for 95 percent CI).</p>
</td></tr>
<tr><td><code id="get_gam_predictions_+3A_.comparison">.comparison</code></td>
<td>
<p>Internal parameter, passed from plot_smooths().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with predictions from a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a> model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(mgcv)
set.seed(10)
data &lt;- gamSim(4)
model &lt;- gam(y ~ fac + s(x2) + s(x2, by = fac) + s(x0), data = data)

pred &lt;- get_gam_predictions(model, x2)

</code></pre>

<hr>
<h2 id='get_smooths_difference'>Get difference of smooths from a GAM model</h2><span id='topic+get_smooths_difference'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>This function is from the superseded package tidymv. Please, use the tidygam
package instead.
</p>
<p>It returns a tibble with difference of the specified levels of a smooth from
a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a>. The <code>sig_diff</code> column states
whether the CI includes 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_smooths_difference(
  model,
  series,
  difference,
  conditions = NULL,
  exclude_random = TRUE,
  series_length = 100,
  time_series
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_smooths_difference_+3A_model">model</code></td>
<td>
<p>A <code>gam</code> or <code>bam</code> model object.</p>
</td></tr>
<tr><td><code id="get_smooths_difference_+3A_series">series</code></td>
<td>
<p>An unquoted expression indicating the model term that defines the series on which smoothing is applied. This is the term that is displayed on the x-axis when plotting.</p>
</td></tr>
<tr><td><code id="get_smooths_difference_+3A_difference">difference</code></td>
<td>
<p>A named list with the levels to compute the difference of.</p>
</td></tr>
<tr><td><code id="get_smooths_difference_+3A_conditions">conditions</code></td>
<td>
<p>A named list specifying the levels to plot from the model
terms not among <code>series</code> or <code>difference</code>. Notice the difference
with <a href="#topic+plot_smooths">plot_smooths</a>, which uses <code>quos</code>.</p>
</td></tr>
<tr><td><code id="get_smooths_difference_+3A_exclude_random">exclude_random</code></td>
<td>
<p>Whether to exclude random smooths (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="get_smooths_difference_+3A_series_length">series_length</code></td>
<td>
<p>An integer indicating how many values along the time series to use for predicting the outcome term.</p>
</td></tr>
<tr><td><code id="get_smooths_difference_+3A_time_series">time_series</code></td>
<td>
<p>Deprecated, use <code>series</code> instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(mgcv)
set.seed(10)
data &lt;- gamSim(4)
model &lt;- gam(y ~ fac + s(x2) + s(x2, by = fac) + s(x0), data = data)

get_smooths_difference(model, x2, list(fac = c("1", "2")))

# For details, see vignette
## Not run: 
vignette("plot-smooths", package = "tidymv")

## End(Not run)

</code></pre>

<hr>
<h2 id='inter_df'>Dataset with two factors</h2><span id='topic+inter_df'></span>

<h3>Description</h3>

<p>A dataset with a normal-distributed outcome variable and two factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inter_df
</code></pre>


<h3>Format</h3>

<p>A tibble with 1259 observations and 4 variables.
</p>

<dl>
<dt><code>x0</code></dt><dd><p>time series</p>
</dd>
<dt><code>y</code></dt><dd><p>outcome variable</p>
</dd>
<dt><code>x1</code></dt><dd><p>factor with three levels</p>
</dd>
<dt><code>x2</code></dt><dd><p>factor with two levels</p>
</dd>
</dl>


<hr>
<h2 id='plot_difference'>Plot difference smooth from a GAM.</h2><span id='topic+plot_difference'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>This function is from the superseded package tidymv. Please, use the tidygam
package instead.
</p>
<p>It plots the difference smooth from a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a>.
Significant differences are marked with red areas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_difference(
  model,
  series,
  difference,
  conditions = NULL,
  exclude_random = TRUE,
  series_length = 100,
  ci_z = 1.96,
  time_series
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_difference_+3A_model">model</code></td>
<td>
<p>A <code>gam</code> or <code>bam</code> model object.</p>
</td></tr>
<tr><td><code id="plot_difference_+3A_series">series</code></td>
<td>
<p>An unquoted expression indicating the model term that defines the series on which smoothing is applied. This is the term that is displayed on the x-axis when plotting.</p>
</td></tr>
<tr><td><code id="plot_difference_+3A_difference">difference</code></td>
<td>
<p>A named list with the levels to compute the difference of.</p>
</td></tr>
<tr><td><code id="plot_difference_+3A_conditions">conditions</code></td>
<td>
<p>A named list specifying the levels to plot from the model terms not among <code>series</code> or <code>difference</code>. Notice the difference with <a href="#topic+plot_smooths">plot_smooths</a>, which uses <code>quos</code>.</p>
</td></tr>
<tr><td><code id="plot_difference_+3A_exclude_random">exclude_random</code></td>
<td>
<p>Whether to exclude random smooths (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="plot_difference_+3A_series_length">series_length</code></td>
<td>
<p>An integer indicating how many values along the time series to use for predicting the outcome term.</p>
</td></tr>
<tr><td><code id="plot_difference_+3A_ci_z">ci_z</code></td>
<td>
<p>The z-value for calculating the CIs (the default is <code>1.96</code> for 95 percent CI).</p>
</td></tr>
<tr><td><code id="plot_difference_+3A_time_series">time_series</code></td>
<td>
<p>Deprecated, use <code>series</code> instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;[ggplot][ggplot2::ggplot] object.&#8288;</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(mgcv)
set.seed(10)
data &lt;- gamSim(4)
model &lt;- gam(y ~ fac + s(x2) + s(x2, by = fac) + s(x0), data = data)

plot_difference(model, x2, list(fac = c("1", "2")))

# For details, see vignette
## Not run: 
vignette("plot-smooths", package = "tidymv")

## End(Not run)

</code></pre>

<hr>
<h2 id='plot_gamsd'>Deprecated functions in package <span class="pkg">tidymv</span>.</h2><span id='topic+plot_gamsd'></span><span id='topic+tidymv-defunct'></span>

<h3>Description</h3>

<p>The functions listed below are defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned. Help pages for defunct functions are
available at <code>help("&lt;function&gt;-defunct")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_gamsd(...)
</code></pre>


<h3>This function is deprecated and has been removed. Please, use <a href="#topic+plot_smooths">plot_smooths</a> and  <a href="#topic+plot_difference">plot_difference</a>.</h3>

<p>NA
</p>

<hr>
<h2 id='plot_gamsd-defunct'>Plot GAM estimate smooths and difference curve.</h2><span id='topic+plot_gamsd-defunct'></span>

<h3>Description</h3>

<p>It plots comparison smooths from the estimates of a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a>
and the difference curve. Significant differences are marked with red areas.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_gamsd-defunct_+3A_model">model</code></td>
<td>
<p>A <code>gam</code> or <code>bam</code> model object.</p>
</td></tr>
<tr><td><code id="plot_gamsd-defunct_+3A_view">view</code></td>
<td>
<p>The predictor determining the time series.</p>
</td></tr>
<tr><td><code id="plot_gamsd-defunct_+3A_comparison">comparison</code></td>
<td>
<p>The levels for the comparison as a named list.</p>
</td></tr>
<tr><td><code id="plot_gamsd-defunct_+3A_conditions">conditions</code></td>
<td>
<p>The values to use for other predictors as a named list.</p>
</td></tr>
<tr><td><code id="plot_gamsd-defunct_+3A_rm_re">rm_re</code></td>
<td>
<p>Whether to remove random effects (the default is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="plot_gamsd-defunct_+3A_bw">bw</code></td>
<td>
<p>Whether to plot in black and white (the default is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="plot_gamsd-defunct_+3A_ylim">ylim</code></td>
<td>
<p>Limits of the y-axis of the smooths panel.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tidymv-defunct">tidymv-defunct()</a></code>
</p>

<hr>
<h2 id='plot_smooths'>Plot GAM smooths.</h2><span id='topic+plot_smooths'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>This function is from the superseded package tidymv. Please, use the tidygam
package instead.
</p>
<p>It plots the smooths from the estimates of a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_smooths(
  model,
  series,
  comparison = NULL,
  facet_terms = NULL,
  conditions = NULL,
  exclude_random = TRUE,
  exclude_terms = NULL,
  series_length = 25,
  split = NULL,
  sep = "\\.",
  transform = NULL,
  ci_z = 1.96,
  time_series
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_smooths_+3A_model">model</code></td>
<td>
<p>A <code>gam</code> or <code>bam</code> model object.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_series">series</code></td>
<td>
<p>An unquoted expression indicating the model term that defines the series on which smoothing is applied. This is the term that is displayed on the x-axis when plotting.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_comparison">comparison</code></td>
<td>
<p>An unquoted expression indicating the model term for which the comparison will be plotted.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_facet_terms">facet_terms</code></td>
<td>
<p>An unquoted formula with the terms used for faceting.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_conditions">conditions</code></td>
<td>
<p>A list of quosures with <code>quos</code> specifying the levels to plot from the model terms not among <code>series</code>, <code>comparison</code>, or <code>facet_terms</code>.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_exclude_random">exclude_random</code></td>
<td>
<p>Whether to exclude random smooths (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_exclude_terms">exclude_terms</code></td>
<td>
<p>Terms to be excluded from the prediction. Term names should be given as they appear in the model summary (for example, <code>"s(x0,x1)"</code>).</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_series_length">series_length</code></td>
<td>
<p>An integer indicating how many values along the time series to use for predicting the outcome term.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_split">split</code></td>
<td>
<p>Columns to separate as a named list.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_sep">sep</code></td>
<td>
<p>Separator between columns (default is <code>"\\."</code>, which is the default with ). If character, it is interpreted as a regular expression.</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_transform">transform</code></td>
<td>
<p>Function used to transform the fitted values (useful for getting plots on the response scale).</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_ci_z">ci_z</code></td>
<td>
<p>The z-value for calculating the CIs (the default is <code>1.96</code> for 95 percent CI).</p>
</td></tr>
<tr><td><code id="plot_smooths_+3A_time_series">time_series</code></td>
<td>
<p>Deprecated, use <code>series</code> instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;[ggplot][ggplot2::ggplot] object.&#8288;</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(mgcv)
set.seed(10)
data &lt;- gamSim(4)
model &lt;- gam(y ~ fac + s(x2) + s(x2, by = fac) + s(x0), data = data)

plot_smooths(model, x2, fac)

# alternative model specification
model &lt;- gam(y ~ s(fac, bs = "re") + s(x2) + s(x2, by = fac) + s(x0), data = data)
plot_smooths(model, x2, fac)

# For details, see vignette
## Not run: 
vignette("plot-smooths", package = "tidymv")

## End(Not run)

</code></pre>

<hr>
<h2 id='pois_df'>Dataset with a Poisson outcome variable</h2><span id='topic+pois_df'></span>

<h3>Description</h3>

<p>A dataset with a Poisson-distributed outcome variable and a factor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pois_df
</code></pre>


<h3>Format</h3>

<p>A tibble with 2500 observations and 3 variables.
</p>

<dl>
<dt><code>y</code></dt><dd><p>outcome count variable</p>
</dd>
<dt><code>x</code></dt><dd><p>time series</p>
</dd>
<dt><code>fac</code></dt><dd><p>factor with two levels</p>
</dd>
</dl>


<hr>
<h2 id='predict_gam'>Get predictions from a GAM model.</h2><span id='topic+predict_gam'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>This function is from the superseded package tidymv. Please, use the tidygam
package instead.
</p>
<p>It returns a tibble with the predictions from all the terms in a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a> model.
</p>
<p>If you simply want to return a tibble with the predicted values of the
response/outcome variable based on all terms (minus excluded smooth terms),
set <code>type = "link"</code> (the default). Note that if <code>type = "link"</code>,
parametric terms cannot be excluded from the prediction, due to limitations
of <code>mgcv</code>. If you want to return a tibble with the predicted values of
the response/outcome variable for each term in the model separately, set
<code>type = "terms"</code>. This type can be helpful if you want more flexibility
in plotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_gam(
  model,
  exclude_terms = NULL,
  length_out = 50,
  values = NULL,
  type = "link"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_gam_+3A_model">model</code></td>
<td>
<p>A <code>gam</code> or <code>bam</code> model object.</p>
</td></tr>
<tr><td><code id="predict_gam_+3A_exclude_terms">exclude_terms</code></td>
<td>
<p>Terms to be excluded from the prediction. Term names should be given as they appear in the model summary (for example, <code>"s(x0,x1)"</code>).</p>
</td></tr>
<tr><td><code id="predict_gam_+3A_length_out">length_out</code></td>
<td>
<p>An integer indicating how many values along the numeric predictors to use for predicting the outcome term (the default is <code>50</code>).</p>
</td></tr>
<tr><td><code id="predict_gam_+3A_values">values</code></td>
<td>
<p>User supplied values for specific terms as a named list. If the value is <code>NULL</code>, the first value of the term is selected (useful when excluding terms).</p>
</td></tr>
<tr><td><code id="predict_gam_+3A_type">type</code></td>
<td>
<p>Either <code>"link"</code> or <code>"terms"</code>. See Details below.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with predictions from a <a href="mgcv.html#topic+gam">gam</a> or <a href="mgcv.html#topic+bam">bam</a> model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(mgcv)
set.seed(10)
data &lt;- gamSim(4)
model &lt;- gam(y ~ fac + s(x2) + s(x2, by = fac) + s(x0), data = data)

# get predictions
p &lt;- predict_gam(model)

# get predictions excluding x0 (the coefficient of x0 is set to 0);
# setting the value for the excluded term to NULL with the argument 'values'
# reduces computation time
p_2 &lt;- predict_gam(model, exclude_terms = "s(x0)", values = list(x0 = NULL))

# get predictions with chosen values of x0

p_3 &lt;- predict_gam(model, values = list(x0 = c(0.250599, 0.503313, 0.756028)))

## End(Not run)
</code></pre>

<hr>
<h2 id='summary_data'>Print a descriptive summary of a data frame.</h2><span id='topic+summary_data'></span>

<h3>Description</h3>

<p>The function prints a summary of the data.
Similar to the function <code><a href="utils.html#topic+str">utils::str()</a></code>, but easier readable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_data(data, print = TRUE, n = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_data_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="summary_data_+3A_print">print</code></td>
<td>
<p>Logical: whether or not to print the summary.</p>
</td></tr>
<tr><td><code id="summary_data_+3A_n">n</code></td>
<td>
<p>Number: maximum number of values being mentioned in the summary.
If NULL all values are being mentioned. Defaults to 10.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Optionally returns a named list with info.
</p>


<h3>Author(s)</h3>

<p>Jacolien van Rij
</p>

<hr>
<h2 id='tidymv-package'>tidymv: Tidy Model Visualisation for Generalised Additive Models</h2><span id='topic+tidymv'></span><span id='topic+tidymv-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides functions for visualising generalised additive models and getting predicted values using tidy tools from the 'tidyverse' packages.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Stefano Coretta <a href="mailto:stefano.coretta@gmail.com">stefano.coretta@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Jacolien van Rij (Imported functions from itsadug) [copyright holder]
</p>
</li>
<li><p> Martijn Wieling (Imported functions from itsadug) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/stefanocoretta/tidymv">https://github.com/stefanocoretta/tidymv</a>
</p>
</li>
<li> <p><a href="https://stefanocoretta.github.io/tidymv/">https://stefanocoretta.github.io/tidymv/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/stefanocoretta/tidymv/issues">https://github.com/stefanocoretta/tidymv/issues</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

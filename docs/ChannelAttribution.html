<!DOCTYPE html><html><head><title>Help for package ChannelAttribution</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ChannelAttribution}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#auto_markov_model'><p>Automatic Markov Model.</p></a></li>
<li><a href='#ChannelAttribution-package'>
<p>Markov Model for Online Multi-Channel Attribution</p></a></li>
<li><a href='#choose_order'><p>Choose order for Markov model.</p></a></li>
<li><a href='#Data'><p>Customer journeys data.</p></a></li>
<li><a href='#heuristic_models'><p>Heuristic models for the online attribution problem.</p></a></li>
<li><a href='#markov_model'><p>Markov model for the online attribution problem.</p></a></li>
<li><a href='#transition_matrix'><p>Transition matrix.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Markov Model for Online Multi-Channel Attribution</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-05-17</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Davide Altomare &lt;info@channelattribution.io&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Advertisers use a variety of online marketing channels to reach consumers and they want to know the degree each channel contributes to their marketing success. This is called online multi-channel attribution problem. This package contains a probabilistic algorithm for the attribution problem. The model uses a k-order Markov representation to identify structural correlations in the customer journey data. The package also contains three heuristic algorithms (first-touch, last-touch and linear-touch approach) for the same problem. The algorithms are implemented in C++.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://channelattribution.io">https://channelattribution.io</a></td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-17 18:54:06 UTC; davide</td>
</tr>
<tr>
<td>Author:</td>
<td>Davide Altomare [cre, aut],
  David Loris [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-17 19:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='auto_markov_model'>Automatic Markov Model.</h2><span id='topic+auto_markov_model'></span>

<h3>Description</h3>

<p>Estimate a Markov model from customer journey data after automatically choosing a suitable order. It requires paths that do not lead to conversion as input.</p>


<h3>Usage</h3>

<pre><code class='language-R'>auto_markov_model(Data, var_path, var_conv, var_null, var_value=NULL, 
             max_order=10, roc_npt=100, plot=FALSE, nsim_start=1e5, 
             max_step=NULL, out_more=FALSE, sep="&gt;", 
             ncore=1, nfold=10, seed=0, conv_par=0.05, rate_step_sim=1.5, 
             verbose=TRUE, flg_adv=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auto_markov_model_+3A_data">Data</code></td>
<td>
<p>data.frame containing customer journeys data.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_var_path">var_path</code></td>
<td>
<p>column name containing paths.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_var_conv">var_conv</code></td>
<td>
<p>column name containing total conversions.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_var_null">var_null</code></td>
<td>
<p>column name containing total paths that do not lead to conversions.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_var_value">var_value</code></td>
<td>
<p>column name containing total conversion value.</p>
</td></tr>  
<tr><td><code id="auto_markov_model_+3A_max_order">max_order</code></td>
<td>
<p>maximum Markov Model order considered.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_roc_npt">roc_npt</code></td>
<td>
<p>number of points used for approximating roc and auc.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_plot">plot</code></td>
<td>
<p>if TRUE, a plot with penalized auc with respect to order will be displayed.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_nsim_start">nsim_start</code></td>
<td>
<p>minimum number of simulations used in computation.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_max_step">max_step</code></td>
<td>
<p>maximum number of steps for a single simulated path. if NULL, it is the maximum number of steps found into Data.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_out_more">out_more</code></td>
<td>
<p>if TRUE, transition probabilities between channels and removal effects will be shown.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_sep">sep</code></td>
<td>
<p>separator between the channels.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_ncore">ncore</code></td>
<td>
<p>number of threads used in computation.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_nfold">nfold</code></td>
<td>
<p>how many repetitions are used to verify if convergence is reached at each iteration.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_seed">seed</code></td>
<td>
<p>random seed. Giving this parameter the same value over different runs guarantees that results will not vary.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_conv_par">conv_par</code></td>
<td>
<p>convergence parameter for the algorithm. The estimation process ends when the percentage of variation of the results over different repetitions is less than convergence parameter.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_rate_step_sim">rate_step_sim</code></td>
<td>
<p>number of simulations used at each iteration is equal to the number of simulations used at previous iteration multiplied by rate_step_sim.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE, additional information about process convergence will be shown.</p>
</td></tr>
<tr><td><code id="auto_markov_model_+3A_flg_adv">flg_adv</code></td>
<td>
<p>if TRUE, ChannelAttribution Pro banner is printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>class</code> <code>data.frame</code> with the estimated number of conversions and the estimated conversion value attributed to each channel.</p>


<h3>Author(s)</h3>

<p>Davide Altomare (<a href="mailto:info@channelattribution.io">info@channelattribution.io</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(ChannelAttribution)

data(PathData) 

auto_markov_model(Data, "path", "total_conversions", "total_null")


## End(Not run)

</code></pre>

<hr>
<h2 id='ChannelAttribution-package'>
Markov Model for Online Multi-Channel Attribution
</h2><span id='topic+ChannelAttribution-package'></span><span id='topic+ChannelAttribution'></span>

<h3>Description</h3>

<p>Advertisers use a variety of online marketing channels to reach consumers and they want to know the degree each channel contributes to their marketing success. This is called online multi-channel attribution problem. In many cases, advertisers approach this problem through some simple heuristics methods that do not take into account any customer interactions and often tend to underestimate the importance of small channels in marketing contribution. 
This package provides a function that approaches the attribution problem in a probabilistic way. It uses a k-order Markov representation to identify structural correlations in the customer journey data. This would allow advertisers to give a more reliable assessment of the marketing contribution of each channel. 
The approach basically follows the one presented in Eva Anderl, Ingo Becker, Florian v. Wangenheim, Jan H. Schumann (2014). Differently for them, we solved the estimation process using stochastic simulations. In this way it is also possible to take into account conversion values and their variability in the computation of the channel importance. 
The package also contains a function that estimates three heuristic models (first-touch, last-touch and linear-touch approach) for the same problem.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> ChannelAttribution</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 2.0.7 </td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2023-05-17 </td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Package contains functions for channel attribution in web marketing. 
</p>


<h3>Author(s)</h3>

<p>Davide Altomare, David Loris
</p>
<p>Maintainer Davide Altomare &lt;info@channelattribution.io&gt;
</p>


<h3>References</h3>

<p>ChannelAttribution Official Website: <a href="https://channelattribution.io">https://channelattribution.io</a>
</p>
<p>Eva Anderl, Ingo Becker, Florian v. Wangenheim, Jan H. Schumann: Mapping the Customer Journey, 2014, doi: <a href="https://doi.org/10.2139/ssrn.2343077">10.2139/ssrn.2343077</a>
</p>

<hr>
<h2 id='choose_order'>Choose order for Markov model.</h2><span id='topic+choose_order'></span>

<h3>Description</h3>

<p>Find the minimum Markov Model order that gives a good representation of customers' behaviour for data considered. It requires paths that do not lead to conversion as input. Minimum order is found maximizing a penalized area under ROC curve. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
choose_order(Data, var_path, var_conv, var_null, max_order=10, sep="&gt;", 
             ncore=1, roc_npt=100, plot=TRUE, flg_adv=TRUE)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choose_order_+3A_data">Data</code></td>
<td>
<p>data.frame containing customer journeys.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_var_path">var_path</code></td>
<td>
<p>column name of Data containing paths.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_var_conv">var_conv</code></td>
<td>
<p>column name of Data containing total conversions.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_var_null">var_null</code></td>
<td>
<p>column name of Data containing total paths that do not lead to conversion.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_max_order">max_order</code></td>
<td>
<p>maximum Markov Model order considered.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_sep">sep</code></td>
<td>
<p>separator between channels.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_ncore">ncore</code></td>
<td>
<p>number of threads used in computation.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_roc_npt">roc_npt</code></td>
<td>
<p>number of points used for approximating roc and auc.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_plot">plot</code></td>
<td>
<p>if TRUE, a plot with penalized auc with respect to order will be displayed.</p>
</td></tr>
<tr><td><code id="choose_order_+3A_flg_adv">flg_adv</code></td>
<td>
<p>if TRUE, ChannelAttribution Pro banner is printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>class</code> <code>List</code> with the estimated roc, auc and penalized auc.</p>


<h3>Author(s)</h3>

<p>Davide Altomare (<a href="mailto:info@channelattribution.io">info@channelattribution.io</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(ChannelAttribution)

data(PathData) 

res=choose_order(Data, var_path="path", var_conv="total_conversions",
                 var_null="total_null")

#plot auc and penalized auc	   
	   
plot(res$auc$order,res$auc$auc,type="l",xlab="order",ylab="pauc",main="AUC")
lines(res$auc$order,res$auc$pauc,col="red")
legend("right", legend=c("auc","penalized auc"), 
       col=c("black","red"),lty=1)


## End(Not run)
</code></pre>

<hr>
<h2 id='Data'>Customer journeys data.</h2><span id='topic+Data'></span>

<h3>Description</h3>

<p>Example dataset. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(PathData)</code></pre>


<h3>Format</h3>

<p><code>Data</code> is a data.frame with 10.000 rows and 4 columns: &quot;path&quot; containing customer paths, &quot;total_conversions&quot; containing total number of conversions, &quot;total_conversion_value&quot; containing total conversion value and &quot;total_null&quot; containing total number of paths that do not lead to conversion.
</p>

<hr>
<h2 id='heuristic_models'>Heuristic models for the online attribution problem.</h2><span id='topic+heuristic_models'></span>

<h3>Description</h3>

<p>Estimate theree heuristic models (first-touch, last-touch and linear) from customer journey data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heuristic_models(Data, var_path, var_conv, var_value=NULL, sep="&gt;", flg_adv=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heuristic_models_+3A_data">Data</code></td>
<td>
<p>data.frame containing paths and conversions.</p>
</td></tr>
<tr><td><code id="heuristic_models_+3A_var_path">var_path</code></td>
<td>
<p>column name containing paths.</p>
</td></tr>
<tr><td><code id="heuristic_models_+3A_var_conv">var_conv</code></td>
<td>
<p>column name containing total conversions.</p>
</td></tr>
<tr><td><code id="heuristic_models_+3A_var_value">var_value</code></td>
<td>
<p>column name containing total conversion value.</p>
</td></tr>
<tr><td><code id="heuristic_models_+3A_sep">sep</code></td>
<td>
<p>separator between the channels.</p>
</td></tr>
<tr><td><code id="heuristic_models_+3A_flg_adv">flg_adv</code></td>
<td>
<p>if TRUE, ChannelAttribution Pro banner is printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>class</code> <code>data.frame</code> with the estimated number of conversions and the estimated conversion value attributed to each channel for each model.</p>


<h3>Author(s)</h3>

<p>Davide Altomare (<a href="mailto:info@channelattribution.io">info@channelattribution.io</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(ChannelAttribution)

data(PathData) 

heuristic_models(Data,"path","total_conversions")
heuristic_models(Data,"path","total_conversions",var_value="total_conversion_value")


## End(Not run)

</code></pre>

<hr>
<h2 id='markov_model'>Markov model for the online attribution problem.</h2><span id='topic+markov_model'></span>

<h3>Description</h3>

<p>Estimate a k-order Markov model from customer journey data. Differently from markov_model, this function iterates estimation until convergence is reached and enables multiprocessing.</p>


<h3>Usage</h3>

<pre><code class='language-R'>markov_model(Data, var_path, var_conv, var_value=NULL, var_null=NULL, 
             order=1, nsim_start=1e5, max_step=NULL, out_more=FALSE, sep="&gt;", 
             ncore=1, nfold=10, seed=0, conv_par=0.05, rate_step_sim=1.5, 
             verbose=TRUE, flg_adv=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="markov_model_+3A_data">Data</code></td>
<td>
<p>data.frame containing customer journeys data.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_var_path">var_path</code></td>
<td>
<p>column name containing paths.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_var_conv">var_conv</code></td>
<td>
<p>column name containing total conversions.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_var_value">var_value</code></td>
<td>
<p>column name containing total conversion value.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_var_null">var_null</code></td>
<td>
<p>column name containing total paths that do not lead to conversions.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_order">order</code></td>
<td>
<p>Markov Model order.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_nsim_start">nsim_start</code></td>
<td>
<p>minimum number of simulations used in computation.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_max_step">max_step</code></td>
<td>
<p>maximum number of steps for a single simulated path. if NULL, it is the maximum number of steps found into Data.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_out_more">out_more</code></td>
<td>
<p>if TRUE, transition probabilities between channels and removal effects will be returned.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_sep">sep</code></td>
<td>
<p>separator between the channels.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_ncore">ncore</code></td>
<td>
<p>number of threads used in computation.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_nfold">nfold</code></td>
<td>
<p>how many repetitions are used to verify if convergence has been reached at each iteration.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_seed">seed</code></td>
<td>
<p>random seed. Giving this parameter the same value over different runs guarantees that results will not vary.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_conv_par">conv_par</code></td>
<td>
<p>convergence parameter for the algorithm. The estimation process ends when the percentage of variation of the results over different repetions is less than convergence parameter.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_rate_step_sim">rate_step_sim</code></td>
<td>
<p>number of simulations used at each iteration is equal to the number of simulations used at previous iteration multiplied by rate_step_sim.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE, additional information about process convergence will be shown.</p>
</td></tr>
<tr><td><code id="markov_model_+3A_flg_adv">flg_adv</code></td>
<td>
<p>if TRUE, ChannelAttribution Pro banner is printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>class</code> <code>data.frame</code> with the estimated number of conversions and the estimated conversion value attributed to each channel.</p>


<h3>Author(s)</h3>

<p>Davide Altomare (<a href="mailto:info@channelattribution.io">info@channelattribution.io</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(ChannelAttribution)

data(PathData) 

#Estimate a Makov model using total conversions
markov_model(Data, var_path="path", "total_conversions")

#Estimate a Makov model using total conversions and revenues
markov_model(Data, "path", "total_conversions",
var_value="total_conversion_value")

#Estimate a Makov model using total conversions, revenues and paths that do not lead to conversions
markov_model(Data, "path", "total_conversions",
var_value="total_conversion_value", var_null="total_null")

#Estimate a Makov model returning transition matrix and removal effects
markov_model(Data, "path", "total_conversions",
var_value="total_conversion_value", var_null="total_null", out_more=TRUE)

#Estimate a Markov model using 4 threads
markov_model(Data, "path", "total_conversions",
var_value="total_conversion_value", ncore=4)


## End(Not run)

</code></pre>

<hr>
<h2 id='transition_matrix'>Transition matrix.</h2><span id='topic+transition_matrix'></span>

<h3>Description</h3>

<p>Estimate a k-order transition matrix from customer journey data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>transition_matrix(Data, var_path, var_conv, var_null, order=1, sep="&gt;", 
                  flg_equal=TRUE, flg_adv=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transition_matrix_+3A_data">Data</code></td>
<td>
<p>data.frame containing customer journeys data.</p>
</td></tr>
<tr><td><code id="transition_matrix_+3A_var_path">var_path</code></td>
<td>
<p>column name containing paths.</p>
</td></tr>
<tr><td><code id="transition_matrix_+3A_var_conv">var_conv</code></td>
<td>
<p>column name containing total conversions.</p>
</td></tr>
<tr><td><code id="transition_matrix_+3A_var_null">var_null</code></td>
<td>
<p>column name containing paths that do not lead to conversions.</p>
</td></tr>
<tr><td><code id="transition_matrix_+3A_order">order</code></td>
<td>
<p>Markov Model order.</p>
</td></tr>
<tr><td><code id="transition_matrix_+3A_sep">sep</code></td>
<td>
<p>separator between the channels.</p>
</td></tr>
<tr><td><code id="transition_matrix_+3A_flg_equal">flg_equal</code></td>
<td>
<p>if TRUE, transitions from a channel to itself will be considered.</p>
</td></tr>
<tr><td><code id="transition_matrix_+3A_flg_adv">flg_adv</code></td>
<td>
<p>if TRUE, ChannelAttribution Pro banner is printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of <code>class</code> <code>List</code> containing a dataframe with channel names and a dataframe with the estimated transition matrix.</p>


<h3>Author(s)</h3>

<p>Davide Altomare (<a href="mailto:info@channelattribution.io">info@channelattribution.io</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(ChannelAttribution)

data(PathData) 

transition_matrix(Data, var_path="path", var_conv="total_conversions",
                  var_null="total_null", order=1, sep="&gt;", flg_equal=TRUE)

transition_matrix(Data, var_path="path", var_conv="total_conversions",
                  var_null="total_null", order=3, sep="&gt;", flg_equal=TRUE)


## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

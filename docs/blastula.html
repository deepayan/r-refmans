<!DOCTYPE html><html lang="en-US"><head><title>Help for package blastula</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {blastula}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>The magrittr pipe</p></a></li>
<li><a href='#add_attachment'><p>Add a file attachment to an email message</p></a></li>
<li><a href='#add_cta_button'><p>Create an HTML fragment for a CTA button</p></a></li>
<li><a href='#add_ggplot'><p>Create an HTML fragment for an embedded ggplot image</p></a></li>
<li><a href='#add_image'><p>Create an HTML fragment for an embedded image</p></a></li>
<li><a href='#add_imgur_image'><p>Deploy a local image to Imgur and create an image tag</p></a></li>
<li><a href='#add_readable_time'><p>Create a string with a more readable date/time</p></a></li>
<li><a href='#article'><p>Specify the components of an article</p></a></li>
<li><a href='#attach_connect_email'><p>Associate an email when publishing an R Markdown document to RStudio Connect</p></a></li>
<li><a href='#blastula_email'><p>The R Markdown <code>blastula_email</code> output format</p></a></li>
<li><a href='#blastula_template'><p>Default template for <code>compose_email()</code></p></a></li>
<li><a href='#block_articles'><p>A block of one, two, or three articles with a multicolumn layout</p></a></li>
<li><a href='#block_social_links'><p>A block of social sharing icons with links</p></a></li>
<li><a href='#block_spacer'><p>A spacer block</p></a></li>
<li><a href='#block_text'><p>A block of text</p></a></li>
<li><a href='#block_title'><p>A block with large title text</p></a></li>
<li><a href='#blocks'><p>An enclosure for all HTML block functions</p></a></li>
<li><a href='#compose_email'><p>Create the email message body</p></a></li>
<li><a href='#create_smtp_creds_file'><p>Store SMTP credentials in a file</p></a></li>
<li><a href='#create_smtp_creds_key'><p>Store SMTP credentials in the system's key-value store</p></a></li>
<li><a href='#credential_helpers'><p>Helpers for supplying SMTP credentials</p></a></li>
<li><a href='#delete_all_credential_keys'><p>Delete all <strong>blastula</strong> credential keys</p></a></li>
<li><a href='#delete_credential_key'><p>Delete a single <strong>blastula</strong> credential key</p></a></li>
<li><a href='#get_html_str'><p>Get the HTML content of an email message</p></a></li>
<li><a href='#md'><p>Interpret input text as Markdown-formatted text</p></a></li>
<li><a href='#prepare_rsc_example_files'><p>Prepare example files for RStudio Connect emailing with R Markdown</p></a></li>
<li><a href='#prepare_test_message'><p>Prepare a email test message object</p></a></li>
<li><a href='#print.blastula_message'><p>Print the email object to the Viewer</p></a></li>
<li><a href='#render_email'><p>R Markdown render functions for the <code>blastula_email</code> output format</p></a></li>
<li><a href='#send_by_mailgun'><p>Send an email message through the Mailgun API</p></a></li>
<li><a href='#smtp_send'><p>Send an email message through SMTP</p></a></li>
<li><a href='#social_link'><p>Specify the components of a social link</p></a></li>
<li><a href='#suppress_scheduled_email'><p>Suppress any scheduled emailing in RStudio Connect</p></a></li>
<li><a href='#view_credential_keys'><p>View all available <strong>blastula</strong> credential keys</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.5</td>
</tr>
<tr>
<td>Title:</td>
<td>Easily Send HTML Email Messages</td>
</tr>
<tr>
<td>Description:</td>
<td>Compose and send out responsive HTML email messages that render
    perfectly across a range of email clients and device sizes. Helper functions
    let the user insert embedded images, web link buttons, and 'ggplot2' plot
    objects into the message body. Messages can be sent through an 'SMTP'
    server, through the 'RStudio Connect' service, or through the 'Mailgun' API
    service <a href="https://www.mailgun.com/">https://www.mailgun.com/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rstudio/blastula">https://github.com/rstudio/blastula</a>,
<a href="https://pkgs.rstudio.com/blastula/">https://pkgs.rstudio.com/blastula/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/blastula/issues">https://github.com/rstudio/blastula/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>base64enc (&ge; 0.1-3), commonmark (&ge; 1.7), curl (&ge; 5.2),
digest, dplyr (&ge; 1.1.0), fs (&ge; 1.3.1), getPass (&ge; 0.2-2),
here (&ge; 1.0.0), htmltools (&ge; 0.5.7), httr (&ge; 1.4.0),
jsonlite (&ge; 1.8.0), magrittr (&ge; 1.5), mime (&ge; 0.6), rlang
(&ge; 1.0), rmarkdown, stringr (&ge; 1.4.0), uuid (&ge; 0.1-2)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, glue, testthat (&ge; 3.0.0), keyring, knitr,
xml2, openxlsx, withr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc (&gt;= 1.12.3) - http://pandoc.org</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-24 21:09:15 UTC; riannone</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Iannone <a href="https://orcid.org/0000-0003-3925-190X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Joe Cheng [aut],
  Jeroen Ooms <a href="https://orcid.org/0000-0002-4035-0289"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Ted Goas [cph] (cerberus-meta.html),
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Iannone &lt;rich@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-24 21:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>The magrittr pipe</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>The <code>blastula</code> package uses the pipe function, <code style="white-space: pre;">&#8288;\%&gt;\%&#8288;</code>, to turn function
composition into a series of imperative statements.
</p>

<hr>
<h2 id='add_attachment'>Add a file attachment to an email message</h2><span id='topic+add_attachment'></span>

<h3>Description</h3>

<p>This gives us a simple interface for attaching a file to the email object.
When it comes time to send the email through <code><a href="#topic+smtp_send">smtp_send()</a></code>, all attachments
(specified by individual calls to <code>add_attachment()</code>) will be faithfully
transmitted along with the message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_attachment(
  email,
  file,
  content_type = mime::guess_type(file),
  filename = basename(file)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_attachment_+3A_email">email</code></td>
<td>
<p>The email message object, as created by the <code><a href="#topic+compose_email">compose_email()</a></code>
function. The object's class is <code>email_message</code>.</p>
</td></tr>
<tr><td><code id="add_attachment_+3A_file">file</code></td>
<td>
<p>The filename for the file to be attached.</p>
</td></tr>
<tr><td><code id="add_attachment_+3A_content_type">content_type</code></td>
<td>
<p>The MIME type for the attachment. By default, this is
guessed by the <code>mime::guess_type()</code> function on the basis of the <code>file</code>'s
extension. The available MIME types that can be guessed are available in
the <code>mime::mimemap</code> named character vector.</p>
</td></tr>
<tr><td><code id="add_attachment_+3A_filename">filename</code></td>
<td>
<p>the filename for the attachment. This can be different than
the basename provided to <code>file</code> for the purpose of customization. By
default, the basename of <code>file</code> is taken to be the attachment's filename.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are options available to specify the attachment's MIME type, its
disposition, and customize the attachment's recipient-facing filename.
</p>

<hr>
<h2 id='add_cta_button'>Create an HTML fragment for a CTA button</h2><span id='topic+add_cta_button'></span>

<h3>Description</h3>

<p>Create the HTML fragment for a call to action button. This can be used as
part of the email body but, since this HTML, it must be contained within
<code><a href="#topic+md">md()</a></code>. There are options to specify the button text, the URL, and the
button's alignment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_cta_button(url, text, align = "center")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_cta_button_+3A_url">url</code></td>
<td>
<p>A URL for the button.</p>
</td></tr>
<tr><td><code id="add_cta_button_+3A_text">text</code></td>
<td>
<p>The text that is placed atop the CTA button.</p>
</td></tr>
<tr><td><code id="add_cta_button_+3A_align">align</code></td>
<td>
<p>The alignment of the button inside the main content area.
Options are <code>"center"</code> (the default), <code>"left"</code>, and <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object with an HTML fragment that can be placed inside
the message body wherever the CTA button should appear.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create the button as an HTML fragment
cta_button &lt;-
  add_cta_button(
    url = "http://www.website.net",
    text = "Press This Button"
  )

# Include the button in the email
# message body by using it as part of
# a vector inside of `md()`
email &lt;-
  compose_email(
    body = md(
      c(
  "Pressing the button will take
  you to an example website",
  cta_button
      )
    )
  )

if (interactive()) email

</code></pre>

<hr>
<h2 id='add_ggplot'>Create an HTML fragment for an embedded ggplot image</h2><span id='topic+add_ggplot'></span>

<h3>Description</h3>

<p>Add an ggplot plot inside the body of the email with this helper function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_ggplot(
  plot_object,
  width = 5,
  height = 5,
  alt = NULL,
  align = c("center", "left", "right", "inline"),
  float = c("none", "left", "right")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_ggplot_+3A_plot_object">plot_object</code></td>
<td>
<p>The <code>ggplot2</code> plot object.</p>
</td></tr>
<tr><td><code id="add_ggplot_+3A_width">width</code></td>
<td>
<p>The width of the output plot in inches.</p>
</td></tr>
<tr><td><code id="add_ggplot_+3A_height">height</code></td>
<td>
<p>The height of the output plot in inches.</p>
</td></tr>
<tr><td><code id="add_ggplot_+3A_alt">alt</code></td>
<td>
<p>Text description of image passed to the <code>alt</code> attribute inside of
the image (<code style="white-space: pre;">&#8288;&lt;img&gt;&#8288;</code>) tag for use when image loading is disabled and on
screen readers. Defaults to the <code>ggplot2</code> plot object's title, if exists.
Override by passing a custom character string or <code>""</code> for no text.</p>
</td></tr>
<tr><td><code id="add_ggplot_+3A_align">align</code></td>
<td>
<p>The alignment to be used for the image. If not <code>"inline"</code>, the
image will appear in its own block, i.e. there will not be text to the left
or right of it.</p>
</td></tr>
<tr><td><code id="add_ggplot_+3A_float">float</code></td>
<td>
<p>The float value to be used for the image. If not <code>"none"</code>, text
will flow around the image, and the <code>align</code> argument will be ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An HTML fragment that can be placed inside the message body wherever
the plot image should appear.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# Create a ggplot plot
plot &lt;-
  ggplot(
    data = mtcars,
    aes(x = disp, y = hp,
        color = wt, size = mpg)) +
  geom_point()

# Create an HTML fragment that
# contains an the ggplot as an
# embedded plot
plot_html &lt;-
  add_ggplot(plot_object = plot)

# Include the plot in the email
# message body by simply referencing
# the `plot_html` object
email &lt;-
  compose_email(
    body = md(
      c(
"Hello!

Here is a plot that will change
the way you look at cars forever.\n",
plot_html,
"Let me know what you think
about it!"
      )
    )
  )

if (interactive()) email

</code></pre>

<hr>
<h2 id='add_image'>Create an HTML fragment for an embedded image</h2><span id='topic+add_image'></span>

<h3>Description</h3>

<p>Add a local image inside the body of the email with this helper function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_image(
  file,
  alt = "",
  width = 520,
  align = c("center", "left", "right", "inline"),
  float = c("none", "left", "right")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_image_+3A_file">file</code></td>
<td>
<p>A path to an image file.</p>
</td></tr>
<tr><td><code id="add_image_+3A_alt">alt</code></td>
<td>
<p>Text description of image passed to the <code>alt</code> attribute inside of
the image (<code style="white-space: pre;">&#8288;&lt;img&gt;&#8288;</code>) tag for use when image loading is disabled and on
screen readers. <code>NULL</code> default produces blank (<code>""</code>) alt text.</p>
</td></tr>
<tr><td><code id="add_image_+3A_width">width</code></td>
<td>
<p>The width to be used for the image, in pixels.</p>
</td></tr>
<tr><td><code id="add_image_+3A_align">align</code></td>
<td>
<p>The alignment to be used for the image. If not <code>"inline"</code>, the
image will appear in its own block, i.e. there will not be text to the left
or right of it.</p>
</td></tr>
<tr><td><code id="add_image_+3A_float">float</code></td>
<td>
<p>The float value to be used for the image. If not <code>"none"</code>, text
will flow around the image, and the <code>align</code> argument will be ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object with an HTML fragment that can be placed inside
the message body wherever the image should appear.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an HTML fragment that
# contains an image
img_file_path &lt;-
  system.file(
    "example_files",
    "test_image.png",
    package = "blastula"
  )

img_file_html &lt;-
  add_image(file = img_file_path)

# Include the image in the email
# message body by simply referencing
# the `img_file_html` object
email &lt;-
  compose_email(
    body = md(
      c(
"Hello,

Here is an image:\n",
img_file_html
      )
    )
  )

if (interactive()) email

</code></pre>

<hr>
<h2 id='add_imgur_image'>Deploy a local image to Imgur and create an image tag</h2><span id='topic+add_imgur_image'></span>

<h3>Description</h3>

<p>Getting images into email message bodies (and expecting them to appear for
the recipient) can be a harrowing experience. External images (i.e.,
available at public URLs) work exceedingly well and most email clients will
faithfully display these images. With the <code>imgur_image()</code> function, we can
take a local image file or a <code>ggplot2</code> plot object and send it to the Imgur
service, and finally receive an image (<code style="white-space: pre;">&#8288;&lt;img&gt;&#8288;</code>) tag that can be directly
inserted into an email message using <code>compose_email()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_imgur_image(
  image,
  client_id = NULL,
  alt = NULL,
  width = 520,
  align = c("center", "left", "right", "inline"),
  float = c("none", "left", "right")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_imgur_image_+3A_image">image</code></td>
<td>
<p>The path to the local image we would like to deploy to Imgur and
for which we'd like an image tag.</p>
</td></tr>
<tr><td><code id="add_imgur_image_+3A_client_id">client_id</code></td>
<td>
<p>The Imgur Client ID value.</p>
</td></tr>
<tr><td><code id="add_imgur_image_+3A_alt">alt</code></td>
<td>
<p>Text description of image passed to the <code>alt</code> attribute inside of
the image (<code style="white-space: pre;">&#8288;&lt;img&gt;&#8288;</code>) tag for use when image loading is disabled and on
screen readers. <code>NULL</code> default produces blank (<code>""</code>) alt text.</p>
</td></tr>
<tr><td><code id="add_imgur_image_+3A_width">width</code></td>
<td>
<p>The width to be used for the image, in pixels.</p>
</td></tr>
<tr><td><code id="add_imgur_image_+3A_align">align</code></td>
<td>
<p>The alignment to be used for the image. If not <code>"inline"</code>, the
image will appear in its own block, i.e. there will not be text to the left
or right of it.</p>
</td></tr>
<tr><td><code id="add_imgur_image_+3A_float">float</code></td>
<td>
<p>The float value to be used for the image. If not <code>"none"</code>, text
will flow around the image, and the <code>align</code> argument will be ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To take advantage of this, we need to first have an account with Imgur and
then obtain a <code>Client-ID</code> key for the Imgur API. This can be easily done by
going to <code style="white-space: pre;">&#8288;https://api.imgur.com/oauth2/addclient&#8288;</code> and registering an
application. Be sure to select the OAuth 2 authorization type without a
callback URL.
</p>


<h3>Value</h3>

<p>An HTML fragment that can be placed inside the message body wherever
the image should appear.
</p>

<hr>
<h2 id='add_readable_time'>Create a string with a more readable date/time</h2><span id='topic+add_readable_time'></span>

<h3>Description</h3>

<p>Add a nicely-formatted date/time string inside the body of the email with
this helper function. We can provide a <code>POSIXct</code> date-time object or use the
current date/time/tz (based on the user's locale information at the time of
the function call). There are options to specify whether the date, time, and
time zone parts are to be included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_readable_time(time = NULL, use_date = TRUE, use_time = TRUE, use_tz = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_readable_time_+3A_time">time</code></td>
<td>
<p>The <code>POSIXct</code> time to use, and to make more readable for email
recipients. If a <code>time</code> is not provided (the default), the current system
time will be used.</p>
</td></tr>
<tr><td><code id="add_readable_time_+3A_use_date">use_date</code>, <code id="add_readable_time_+3A_use_time">use_time</code>, <code id="add_readable_time_+3A_use_tz">use_tz</code></td>
<td>
<p>Logical value that indicate whether to
include the date, time, or time zone components.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object that can be placed inside any message component
message wherever the function is called.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Generate a date and time value using a specified date/time value
add_readable_time(
  time = ISOdatetime(
    year = 2022,
    month = 3,
    day = 15,
    hour = 8,
    min = 30,
    sec = 0,
    tz = "GMT"
   ),
  use_tz = FALSE
)

</code></pre>

<hr>
<h2 id='article'>Specify the components of an article</h2><span id='topic+article'></span>

<h3>Description</h3>

<p>The <code>article()</code> function is used exclusively within <code>block_articles()</code>,
and having one, two, or three calls will arrange the articles in a row (or as
a column of articles at lower screen widths).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>article(image = NULL, title = NULL, content = NULL, link = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="article_+3A_image">image</code></td>
<td>
<p>An optional URL pointing to an image resource.</p>
</td></tr>
<tr><td><code id="article_+3A_title">title</code></td>
<td>
<p>An optional title for the article.</p>
</td></tr>
<tr><td><code id="article_+3A_content">content</code></td>
<td>
<p>An optional paragraph of text for the article.</p>
</td></tr>
<tr><td><code id="article_+3A_link">link</code></td>
<td>
<p>An optional link to apply to the content elements.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># We can define an article with a link
# to an image, title text, some content,
# and a link to relevant content
article &lt;-
  article(
    image = "https://i.imgur.com/dxSXzGb.jpg",
    title = "Hong Kong",
    content =
      "Once home to fishermen and farmers, \\
      modern Hong Kong is a teeming, \\
      commercially-vibrant metropolis where \\
      Chinese and Western influences fuse.",
    link = "http://www.discoverhongkong.com"
  )

if (interactive()) article
</code></pre>

<hr>
<h2 id='attach_connect_email'>Associate an email when publishing an R Markdown document to RStudio Connect</h2><span id='topic+attach_connect_email'></span>

<h3>Description</h3>

<p>This function is used to customize emails sent by RStudio Connect in
conjunction with publishing an R Markdown document. It associates a custom
email message with the main R Markdown document, which Connect can send to
selected recipients. The main input is a rendered email message, which can be
produced by either the <code><a href="#topic+render_email">render_email()</a></code> or <code><a href="#topic+render_connect_email">render_connect_email()</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attach_connect_email(
  email = NULL,
  subject = NULL,
  attachments = NULL,
  attach_output = FALSE,
  text = NULL,
  preview = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="attach_connect_email_+3A_email">email</code></td>
<td>
<p>A rendered email message. Normally, we'd want to use an
associated .Rmd file with the <code>blastula::blastula_email</code> R Markdown output
format in <code><a href="#topic+render_connect_email">render_connect_email()</a></code> call (where its <code>input</code> is the email
.Rmd file).</p>
</td></tr>
<tr><td><code id="attach_connect_email_+3A_subject">subject</code></td>
<td>
<p>An option to specify the the email subject while attaching the
email object.</p>
</td></tr>
<tr><td><code id="attach_connect_email_+3A_attachments">attachments</code></td>
<td>
<p>A vector of attachments for the Connect email. These files
can be any of those deployed when publishing to RStudio Connect, and, any
generated files (via R Markdown rendering).</p>
</td></tr>
<tr><td><code id="attach_connect_email_+3A_attach_output">attach_output</code></td>
<td>
<p>Should the rendered output of the main R Markdown
document be included as an email attachment? By default, this is <code>FALSE</code>.
If <code>TRUE</code> the main R Markdown document will be attached first (before any
files specified in <code>attachments</code>) and the filename will be preserved.</p>
</td></tr>
<tr><td><code id="attach_connect_email_+3A_text">text</code></td>
<td>
<p>Instead of using a rendered email document through the <code>email</code>
option, we can use plain text here. However, if any <code>email</code> object is
supplied then input to <code>text</code> is ignored.</p>
</td></tr>
<tr><td><code id="attach_connect_email_+3A_preview">preview</code></td>
<td>
<p>Should the email message display it's own preview window? If
<code>TRUE</code> (the default), the rendered email message will be shown in the
default browser.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since this function needs to be invoked within an R Markdown document, the
chunk option <code>echo=FALSE</code> is useful here (so that viewers of the rendered
document don't have to unnecessarily read code related to email inclusion).
While the output is invisible, any errors related to rendering will be
visible to the author.
</p>

<hr>
<h2 id='blastula_email'>The R Markdown <code>blastula_email</code> output format</h2><span id='topic+blastula_email'></span>

<h3>Description</h3>

<p>The R Markdown <code>blastula_email</code> output format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blastula_email(
  content_width = "1000px",
  toc = FALSE,
  toc_depth = 3,
  toc_float = FALSE,
  number_sections = FALSE,
  section_divs = TRUE,
  fig_width = 5.35,
  fig_height = 5,
  fig_retina = 2,
  fig_caption = TRUE,
  dev = "png",
  smart = TRUE,
  self_contained = TRUE,
  template = "blastula",
  includes = NULL,
  keep_md = FALSE,
  md_extensions = NULL,
  connect_footer = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="blastula_email_+3A_content_width">content_width</code></td>
<td>
<p>The width of the rendered HTML content. By default, this
is set to <code style="white-space: pre;">&#8288;1000px&#8288;</code>. Using widths less than <code style="white-space: pre;">&#8288;600px&#8288;</code> is generally not advised
but, if necessary, be sure to test such HTML emails with a wide range of
email clients before sending to the intended recipients. The Outlook mail
client (Windows, Desktop) does not respect <code>content_width</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_toc">toc</code></td>
<td>
<p>If you would like an automatically-generated table of contents in
the output email, choose <code>TRUE</code>. By default, this is <code>FALSE</code> where no table
of contents will be generated.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_toc_depth">toc_depth</code></td>
<td>
<p>The depth of headers to include in the table of contents (
should <code>toc</code> be set to <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_toc_float">toc_float</code></td>
<td>
<p>An option to float the table of contents to the left of the
main document content. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_number_sections">number_sections</code></td>
<td>
<p>Sections can be sequentially numbered if this is set
to <code>TRUE</code>. By default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_section_divs">section_divs</code></td>
<td>
<p>This wraps sections in <code style="white-space: pre;">&#8288;&lt;section&gt;&#8288;</code> tags and attaches
identifiers to the enclosing <code style="white-space: pre;">&#8288;&lt;section&gt;&#8288;</code>s. This is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_fig_width">fig_width</code>, <code id="blastula_email_+3A_fig_height">fig_height</code></td>
<td>
<p>The figure width and height in units of inches.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_fig_retina">fig_retina</code></td>
<td>
<p>The scaling factor for retina displays. The default value
is <code>2</code>, which is the preferred choice for most retina displays. This can be
set to <code>NULL</code> to prevent retina scaling. Note that this will always be
<code>NULL</code> if <code>keep_md</code> is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_fig_caption">fig_caption</code></td>
<td>
<p>An option to render figures with captions. By default,
this is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_dev">dev</code></td>
<td>
<p>The R graphics device for figures. By default, this is the <code>png</code>
device.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_smart">smart</code></td>
<td>
<p>An option to produce typographically correct output. This will
convert straight quotes to curly quotes, <code style="white-space: pre;">&#8288;---&#8288;</code> to em dashes, <code style="white-space: pre;">&#8288;--&#8288;</code> to en
dashes, and instances of <code>...</code> to ellipses. By default, this is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_self_contained">self_contained</code></td>
<td>
<p>Should a self-contained output file be generated. By
default, this is <code>TRUE</code>. The standalone HTML file will have no external
dependencies, it will use URIs to incorporate the contents of linked
scripts, stylesheets, images, and videos.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_template">template</code></td>
<td>
<p>The Pandoc template to use for rendering. This is the
<code>"blastula"</code> template by default.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_includes">includes</code></td>
<td>
<p>A named list of additional content to include within the
document. This is typically created using the <code><a href="rmarkdown.html#topic+includes">rmarkdown::includes()</a></code>
function. By default, this is set to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_keep_md">keep_md</code></td>
<td>
<p>Should you need the keep the intermediate Markdown (.md) file,
set this to <code>TRUE</code>. By default, the .md file is not kept.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_md_extensions">md_extensions</code></td>
<td>
<p>Markdown extensions to be added or removed from the
default definition or R Markdown.</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_connect_footer">connect_footer</code></td>
<td>
<p>Should a prepared footer message with links be included
in the rendered email?</p>
</td></tr>
<tr><td><code id="blastula_email_+3A_...">...</code></td>
<td>
<p>Specify other options in <code><a href="rmarkdown.html#topic+html_document">rmarkdown::html_document()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='blastula_template'>Default template for <code>compose_email()</code></h2><span id='topic+blastula_template'></span>

<h3>Description</h3>

<p>A template function that is suitable for using as the <code>template</code> argument of
<code><a href="#topic+compose_email">compose_email()</a></code>. Template functions should generally not be called
directly. When implementing your own template function, you must include
parameters for <code>html_body</code>, <code>html_header</code>, <code>html_footer</code>, and <code>title</code>; you
may also optionally add your own parameters, which callers to
<code>compose_email()</code> can provide through the <code>...</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blastula_template(
  html_body,
  html_header,
  html_footer,
  title,
  content_width = "1000px",
  font_family = "Helvetica, sans-serif"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="blastula_template_+3A_html_body">html_body</code>, <code id="blastula_template_+3A_html_header">html_header</code>, <code id="blastula_template_+3A_html_footer">html_footer</code></td>
<td>
<p>htmltools tag objects (e.g.
<code><a href="htmltools.html#topic+builder">htmltools::tags()</a></code> or <code><a href="htmltools.html#topic+HTML">htmltools::HTML()</a></code>), or <code>NULL</code> to omit.</p>
</td></tr>
<tr><td><code id="blastula_template_+3A_title">title</code></td>
<td>
<p>Plain text title to be used for the <code style="white-space: pre;">&#8288;&lt;title&gt;&#8288;</code> element; may be
displayed in mobile phone notifications.</p>
</td></tr>
<tr><td><code id="blastula_template_+3A_content_width">content_width</code></td>
<td>
<p>The width that should be used for the content area. By
default, this is set to <code style="white-space: pre;">&#8288;1000px&#8288;</code>. Using widths less than <code style="white-space: pre;">&#8288;600px&#8288;</code> is
generally not advised but, if necessary, be sure to test such HTML emails
with a wide range of email clients before sending to the intended
recipients.</p>
</td></tr>
<tr><td><code id="blastula_template_+3A_font_family">font_family</code></td>
<td>
<p>The CSS value to use for <code>font-family</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing a complete HTML document.
</p>

<hr>
<h2 id='block_articles'>A block of one, two, or three articles with a multicolumn layout</h2><span id='topic+block_articles'></span>

<h3>Description</h3>

<p>With <code>block_articles()</code>, we can create a single- or multi-column layout of
articles. The articles are responsive to the screen width, so side-by-side
articles will collapse and any of the optional images will resize
accordingly. The function can accept one to three <code>article()</code> calls, each
with varying amounts of text and imagery. Like all <code style="white-space: pre;">&#8288;block_*()&#8288;</code> functions,
<code>block_articles()</code> must be placed inside of <code>blocks()</code> and the resultant
<code>blocks</code> object can be provided to the <code>body</code>, <code>header</code>, or <code>footer</code>
arguments of <code>compose_email()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>block_articles(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="block_articles_+3A_...">...</code></td>
<td>
<p>One, two, or three calls to <code>article()</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create a block of three, side-by-side
# articles with three `article()`
# calls inside of `block_articles()`,
# itself placed in `blocks()`
email &lt;-
  compose_email(
    body =
      blocks(
        block_articles(
          article(
            image = "https://i.imgur.com/XMU8yJa.jpg",
            title = "Taiwan",
            content =
              "It is a thriving mosaic of tradition,
              culture, and high-tech development,
              merging Eastern and Western influences."
          ),
          article(
            image = "https://i.imgur.com/aYOm3Tk.jpg",
            title = "Japan",
            content =
              "Japan is an archipelago consisting
              of 6,852 islands along East Asia's
              Pacific Coast."
          ),
          article(
             image = "https://i.imgur.com/ekjFVOL.jpg",
             title = "Singapore",
             content =
               "Singapore is an island city-state
               in Southeast Asia. It's lies at the
               southern tip of the Malay Peninsula."
          )
        )
      )
    )

if (interactive()) email

</code></pre>

<hr>
<h2 id='block_social_links'>A block of social sharing icons with links</h2><span id='topic+block_social_links'></span>

<h3>Description</h3>

<p>With <code>block_social_links()</code>, we can create a block of social sharing links
and links to websites, email, or RSS feeds. The function can accept as many
<code>social_link()</code> calls as seen fit to email. Like all <code style="white-space: pre;">&#8288;block_*()&#8288;</code> functions,
<code>block_social_links()</code> must be placed inside of <code>blocks()</code> and the resultant
<code>blocks</code> object can be provided to the <code>body</code>, <code>header</code>, or <code>footer</code>
arguments of <code>compose_email()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>block_social_links(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="block_social_links_+3A_...">...</code></td>
<td>
<p>One or more calls to <code>social_link()</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create an email message with some
# articles in the `body`; in the footer,
# add some social sharing icons linking
# to web content using `block_social_links()`
email &lt;-
  compose_email(
    body =
      blocks(
        block_title("Exciting Travel Destinations"),
        block_articles(
          article(
            image = "https://i.imgur.com/dxSXzGb.jpg",
            title = "Hong Kong",
            content =
              "Once home to fishermen and farmers,
              modern Hong Kong is a teeming,
              commercially-vibrant metropolis where
              Chinese and Western influences fuse."
          ),
          article(
            image = "https://i.imgur.com/bJzVIrG.jpg",
            title = "Australia",
            content =
              "Australia ranks as one of the best
              places to live in the world by all
              indices of income, human development,
              healthcare, and civil rights."
          )
        )
      ),
    footer =
      blocks(
        block_text("Thanks for reading! Find us here:"),
        block_social_links(
          social_link(
            service = "pinterest",
            link = "https://www.pinterest.ca/TravelLeisure/",
            variant = "color"
          ),
          social_link(
            service = "tripadvisor",
            link = "https://www.tripadvisor.ca/TravelersChoice",
            variant = "color"
          )
        )
      )
  )

if (interactive()) email

</code></pre>

<hr>
<h2 id='block_spacer'>A spacer block</h2><span id='topic+block_spacer'></span>

<h3>Description</h3>

<p>With <code>block_spacer()</code> we can more easily define an area of whitespace in a
block-based layout. This function is meant to be easily combined with other
<code style="white-space: pre;">&#8288;block_*()&#8288;</code> functions. Like all <code style="white-space: pre;">&#8288;block_*()&#8288;</code> functions, <code>block_spacer()</code> must
be placed inside of <code>blocks()</code> and the resultant <code>blocks</code> object can be
provided to the <code>body</code>, <code>header</code>, or <code>footer</code> arguments of <code>compose_email()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>block_spacer()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'># Create a block of two, side-by-side
# articles with two `article()` calls
# inside of `block_articles()`, itself
# placed in `blocks()`; include some
# introductory text and place extra
# space around that text (with
# `block_spacer()`)
email &lt;-
  compose_email(
    body =
      blocks(
        block_spacer(),
        block_text(
          "These are two of the cities I visited this year.
          I liked them a lot, so, I'll visit them again!"),
        block_spacer(),
        block_articles(
          article(
            image = "https://i.imgur.com/dig0HQ2.jpg",
            title = "Los Angeles",
            content =
              "I want to live in Los Angeles.
              Not the one in Los Angeles.
              No, not the one in South California.
              They got one in South Patagonia."
          ),
          article(
            image = "https://i.imgur.com/RUvqHV8.jpg",
            title = "New York",
            content =
              "Start spreading the news.
              I'm leaving today.
              I want to be a part of it.
              New York, New York."
          )
        )
      )
    )

if (interactive()) email

</code></pre>

<hr>
<h2 id='block_text'>A block of text</h2><span id='topic+block_text'></span>

<h3>Description</h3>

<p>With <code>block_text()</code> we can define a text area and this can be easily combined
with other <code style="white-space: pre;">&#8288;block_*()&#8288;</code> functions. The text will take the entire width of the
block and will resize according to screen width. Like all <code style="white-space: pre;">&#8288;block_*()&#8288;</code>
functions, <code>block_text()</code> must be placed inside of <code>blocks()</code> and the
resultant <code>blocks</code> object can be provided to the <code>body</code>, <code>header</code>, or
<code>footer</code> arguments of <code>compose_email()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>block_text(text, align = c("left", "center", "right", "justify"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="block_text_+3A_text">text</code></td>
<td>
<p>Plain text or Markdown text (via <code><a href="#topic+md">md()</a></code>).</p>
</td></tr>
<tr><td><code id="block_text_+3A_align">align</code></td>
<td>
<p>The text alignment to be used for this block of text. The
default is <code>"left"</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create a block of two, side-by-side
# articles with two `article()` calls
# inside of `block_articles()`, itself
# placed in `blocks()`; also, include some
# text at the top with `block_text()`
email &lt;-
  compose_email(
    body =
      blocks(
        block_text(
          "These are two of the cities I visited this year.
          I liked them a lot, so, I'll visit them again!"),
        block_articles(
          article(
            image = "https://i.imgur.com/dig0HQ2.jpg",
            title = "Los Angeles",
            content =
              "I want to live in Los Angeles.
              Not the one in Los Angeles.
              No, not the one in South California.
              They got one in South Patagonia."
          ),
          article(
            image = "https://i.imgur.com/RUvqHV8.jpg",
            title = "New York",
            content =
              "Start spreading the news.
              I'm leaving today.
              I want to be a part of it.
              New York, New York."
          )
        )
      )
    )

if (interactive()) email

</code></pre>

<hr>
<h2 id='block_title'>A block with large title text</h2><span id='topic+block_title'></span>

<h3>Description</h3>

<p>With <code>block_title()</code> we can define a title text area and this can be easily
combined with other <code style="white-space: pre;">&#8288;block_*()&#8288;</code> functions. The title will take the entire
width of the block and will resize according to screen width. Like all
<code style="white-space: pre;">&#8288;block_*()&#8288;</code> functions, <code>block_title()</code> must be placed inside of <code>blocks()</code>
and the resultant <code>blocks</code> object can be provided to the <code>body</code>, <code>header</code>, or
<code>footer</code> arguments of <code>compose_email()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>block_title(title)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="block_title_+3A_title">title</code></td>
<td>
<p>Plain text or Markdown text (via <code><a href="#topic+md">md()</a></code>) for the title.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create a block of two, side-by-side
# articles with two `article()` calls
# inside of `block_articles()`, itself
# placed in `blocks()`; also, include a
# title at the top with `block_title()`
email &lt;-
  compose_email(
    body =
      blocks(
        block_title("Two Cities I Visited Recently"),
        block_articles(
          article(
            image = "https://i.imgur.com/dig0HQ2.jpg",
            title = "Los Angeles",
            content =
              "I want to live in Los Angeles.
              Not the one in Los Angeles.
              No, not the one in South California.
              They got one in South Patagonia."
          ),
          article(
            image = "https://i.imgur.com/RUvqHV8.jpg",
            title = "New York",
            content =
              "Start spreading the news.
              I'm leaving today.
              I want to be a part of it.
              New York, New York."
          )
        )
      )
    )

if (interactive()) email

</code></pre>

<hr>
<h2 id='blocks'>An enclosure for all HTML block functions</h2><span id='topic+blocks'></span>

<h3>Description</h3>

<p>To contain all of the block-based HTML <code style="white-space: pre;">&#8288;block_*()&#8288;</code> calls, we should use
the <code>blocks()</code> function. We can pass the resulting <code>blocks</code> object to either
of the <code>body</code>, <code>header</code>, and <code>footer</code> arguments of <code>compose_email()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blocks(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="blocks_+3A_...">...</code></td>
<td>
<p>One or more <code style="white-space: pre;">&#8288;block_*()&#8288;</code> calls.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># This is an example of how a
# title and text looks in each of
# the three content areas
email &lt;-
  compose_email(
    header =
      blocks(
        block_title("This is a Title in the **Header**"),
        block_text("This is text in the **Header**.")
      ),
    body =
      blocks(
        block_title("This is a Title in the **Body**"),
        block_text("This is text in the **Body**.")
      ),
    footer =
      blocks(
        block_title("This is a Title in the **Footer**"),
        block_text("This is text in the **Footer**.")
      )
  )

if (interactive()) email

</code></pre>

<hr>
<h2 id='compose_email'>Create the email message body</h2><span id='topic+compose_email'></span>

<h3>Description</h3>

<p>The <code>compose_email()</code> function allows us to easily create an email message.
We can incorporate character vectors into the message body, the header, or
the footer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compose_email(
  body = NULL,
  header = NULL,
  footer = NULL,
  title = NULL,
  ...,
  template = blastula_template
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compose_email_+3A_header">header</code>, <code id="compose_email_+3A_body">body</code>, <code id="compose_email_+3A_footer">footer</code></td>
<td>
<p>The three layout sections for an email message
(ordered from top to bottom). Markdown text can be supplied to each of
these by using the <code><a href="#topic+md">md()</a></code> text helper function. Alternatively, we can
supply a set of <code style="white-space: pre;">&#8288;block_*()&#8288;</code> calls enclosed within the <code><a href="#topic+blocks">blocks()</a></code> function
to take advantage of precomposed HTML blocks.</p>
</td></tr>
<tr><td><code id="compose_email_+3A_title">title</code></td>
<td>
<p>The title of the email message. This is not the subject but the
HTML title text which may appear in limited circumstances.</p>
</td></tr>
<tr><td><code id="compose_email_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the <code>template</code> function. If you're
using the default template, you can use <code>font_family</code> to control the base
font, and <code>content_width</code> to control the width of the main content; see
<code><a href="#topic+blastula_template">blastula_template()</a></code>. By default, the <code>content_width</code> is set to <code style="white-space: pre;">&#8288;1000px&#8288;</code>.
Using widths less than <code style="white-space: pre;">&#8288;600px&#8288;</code> is generally not advised but, if necessary,
be sure to test such HTML emails with a wide range of email clients before
sending to the intended recipients. The Outlook mail client (Windows,
Desktop) does not respect <code>content_width</code>.</p>
</td></tr>
<tr><td><code id="compose_email_+3A_template">template</code></td>
<td>
<p>An email template function to use. The default is
<code><a href="#topic+blastula_template">blastula_template()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>email_message</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a simple email message using
# Markdown-formatted text in the `body`
# and `footer` sections with the `md()`
# text helper function
email &lt;-
  compose_email(
    body = md(
"
## Hello!

This is an email message that was generated by the blastula package.

We can use **Markdown** formatting with the `md()` function.

Cheers,

The blastula team
"),
  footer = md(
"
sent via the [blastula](https://rstudio.github.io/blastula) R package
")
)

# The email message can always be
# previewed by calling the object
if (interactive()) email

</code></pre>

<hr>
<h2 id='create_smtp_creds_file'>Store SMTP credentials in a file</h2><span id='topic+create_smtp_creds_file'></span>

<h3>Description</h3>

<p>We can create a file with SMTP configuration and access credentials for the
purpose of more easily sending email messages through <code><a href="#topic+smtp_send">smtp_send()</a></code>. With
this file produced, the credentials helper <code><a href="#topic+creds_file">creds_file()</a></code> can be used in the
<code>credentials</code> argument of <code><a href="#topic+smtp_send">smtp_send()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_smtp_creds_file(
  file,
  user = NULL,
  provider = NULL,
  host = NULL,
  port = NULL,
  use_ssl = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_smtp_creds_file_+3A_file">file</code></td>
<td>
<p>The output filename for the credentials file.</p>
</td></tr>
<tr><td><code id="create_smtp_creds_file_+3A_user">user</code></td>
<td>
<p>The username for the email account. Typically, this is the email
address associated with the account.</p>
</td></tr>
<tr><td><code id="create_smtp_creds_file_+3A_provider">provider</code></td>
<td>
<p>An optional email provider shortname for autocompleting SMTP
configuration details (the <code>host</code>, <code>port</code>, <code>use_ssl</code> options). Options
currently include <code>gmail</code>, <code>outlook</code>, and <code>office365</code>. If nothing is
provided then values for <code>host</code>, <code>port</code>, and <code>use_ssl</code> are expected.</p>
</td></tr>
<tr><td><code id="create_smtp_creds_file_+3A_host">host</code>, <code id="create_smtp_creds_file_+3A_port">port</code>, <code id="create_smtp_creds_file_+3A_use_ssl">use_ssl</code></td>
<td>
<p>Configuration info for the SMTP server. The <code>host</code>
and <code>port</code> parameters are the address and port for the SMTP server.
<code>use_ssl</code> is an option as to whether to allow the use of STARTTLS, if
available: it should be <code>TRUE</code> unless you have a specific reason to set it
to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create a credentials file to make it
# much easier to send email out through
# Gmail with `smtp_send()`; name the
# file "gmail_creds"

# create_smtp_creds_file(
#   file = "gmail_creds",
#   user = "user_name@gmail.com",
#   provider = "gmail"
# )

</code></pre>

<hr>
<h2 id='create_smtp_creds_key'>Store SMTP credentials in the system's key-value store</h2><span id='topic+create_smtp_creds_key'></span>

<h3>Description</h3>

<p>We can set SMTP access credentials in the system-wide key-value store for the
purpose of more easily sending email messages through <code><a href="#topic+smtp_send">smtp_send()</a></code>. With
this key added, the credentials helper <code><a href="#topic+creds_key">creds_key()</a></code> can be used in the
<code>credentials</code> argument of <code><a href="#topic+smtp_send">smtp_send()</a></code> (the <code>id</code> value is used to
unambiguously refer to each key).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_smtp_creds_key(
  id,
  user = NULL,
  provider = NULL,
  host = NULL,
  port = NULL,
  use_ssl = NULL,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_smtp_creds_key_+3A_id">id</code></td>
<td>
<p>An identifying label for the keyname. The full key name is
constructed in the following way: <code style="white-space: pre;">&#8288;blastula-v1-&lt;id&gt;&#8288;</code>. This <code>id</code> value is
what's needed later to either use the key with <code><a href="#topic+creds_key">creds_key()</a></code>, or, delete
the key with <code><a href="#topic+delete_credential_key">delete_credential_key()</a></code>. A single, non-<code>NA</code> character,
numeric, or integer value can be supplied here; the <code>id</code> will be coerced to
a character value. If the <code>id</code> is supplied as a single character value, it
cannot be an empty string and it cannot include hyphen characters.</p>
</td></tr>
<tr><td><code id="create_smtp_creds_key_+3A_user">user</code></td>
<td>
<p>The username for the email account. Typically, this is the email
address associated with the account.</p>
</td></tr>
<tr><td><code id="create_smtp_creds_key_+3A_provider">provider</code></td>
<td>
<p>An optional email provider shortname for autocompleting SMTP
configuration details (the <code>host</code>, <code>port</code>, <code>use_ssl</code> options). Options
currently include <code>gmail</code>, <code>outlook</code>, and <code>office365</code>. If nothing is
provided then values for <code>host</code>, <code>port</code>, and <code>use_ssl</code> are expected.</p>
</td></tr>
<tr><td><code id="create_smtp_creds_key_+3A_host">host</code>, <code id="create_smtp_creds_key_+3A_port">port</code>, <code id="create_smtp_creds_key_+3A_use_ssl">use_ssl</code></td>
<td>
<p>Configuration info for the SMTP server. The <code>host</code>
and <code>port</code> parameters are the address and port for the SMTP server.
<code>use_ssl</code> is an option as to whether to allow the use of STARTTLS, if
available: it should be <code>TRUE</code> unless you have a specific reason to set it
to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="create_smtp_creds_key_+3A_overwrite">overwrite</code></td>
<td>
<p>An option that controls the overwriting of existing keys
with the same <code>id</code> value. By default, this is <code>FALSE</code> (where overwriting is
prohibited).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Support for setting keys through <code>create_smtp_creds_key()</code> is provided
through the <strong>keyring</strong> package. This function cannot be used without that
package being available on the system. We can use
<code>install.packages("keyring")</code> to install <strong>keyring</strong>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Store SMTP credentials using the
# system's secure key-value store to
# make it much easier to send email
# out through Gmail with `smtp_send()`;
# provide the `id` of "gmail_creds"

# create_smtp_creds_key(
#   id = "gmail_creds",
#   provider = "gmail",
#   user = "user_name@gmail.com",
#   )

</code></pre>

<hr>
<h2 id='credential_helpers'>Helpers for supplying SMTP credentials</h2><span id='topic+credential_helpers'></span><span id='topic+creds'></span><span id='topic+creds_anonymous'></span><span id='topic+creds_envvar'></span><span id='topic+creds_key'></span><span id='topic+creds_file'></span>

<h3>Description</h3>

<p>These helper functions, the credential helpers, are used to supply SMTP
configuration and authorization information for the <code><a href="#topic+smtp_send">smtp_send()</a></code> function.
The <code><a href="#topic+creds_file">creds_file()</a></code>, <code><a href="#topic+creds_anonymous">creds_anonymous()</a></code>, <code><a href="#topic+creds_key">creds_key()</a></code>, and <code><a href="#topic+creds">creds()</a></code>
functions are to be used expressly with the <code>credentials</code> argument of
<code><a href="#topic+smtp_send">smtp_send()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>creds(user = NULL, provider = NULL, host = NULL, port = NULL, use_ssl = TRUE)

creds_anonymous(provider = NULL, host = NULL, port = NULL, use_ssl = TRUE)

creds_envvar(
  user = NULL,
  pass_envvar = "SMTP_PASSWORD",
  provider = NULL,
  host = NULL,
  port = NULL,
  use_ssl = TRUE
)

creds_key(id)

creds_file(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="credential_helpers_+3A_user">user</code></td>
<td>
<p>The username for the email account. Typically, this is the email
address associated with the account.</p>
</td></tr>
<tr><td><code id="credential_helpers_+3A_provider">provider</code></td>
<td>
<p>An optional email provider shortname for autocompleting SMTP
configuration details (the <code>host</code>, <code>port</code>, <code>use_ssl</code> options). Options
currently include <code>gmail</code>, <code>outlook</code>, and <code>office365</code>. If nothing is
provided then values for <code>host</code>, <code>port</code>, and <code>use_ssl</code> are expected.</p>
</td></tr>
<tr><td><code id="credential_helpers_+3A_host">host</code>, <code id="credential_helpers_+3A_port">port</code>, <code id="credential_helpers_+3A_use_ssl">use_ssl</code></td>
<td>
<p>Configuration info for the SMTP server. The <code>host</code>
and <code>port</code> parameters are the address and port for the SMTP server;
<code>use_ssl</code> is an option as to whether to use SSL: supply a <code>TRUE</code> or <code>FALSE</code>
value.</p>
</td></tr>
<tr><td><code id="credential_helpers_+3A_pass_envvar">pass_envvar</code></td>
<td>
<p>The name of the environment variable that holds the value
for an email account password. This is only used in the <code><a href="#topic+creds_envvar">creds_envvar()</a></code>
credential helper function.</p>
</td></tr>
<tr><td><code id="credential_helpers_+3A_id">id</code></td>
<td>
<p>When using the <code><a href="#topic+creds_key">creds_key()</a></code> credential helper, the ID value of the
key (in the system key-value store) needs to be given here. This was
explicitly provided when using the <code><a href="#topic+create_smtp_creds_key">create_smtp_creds_key()</a></code> function (with
its own <code>id</code> argument). To get an information table with all available
<span class="pkg">blastula</span> keys in the key-value store, we can use the
<code><a href="#topic+view_credential_keys">view_credential_keys()</a></code> function.</p>
</td></tr>
<tr><td><code id="credential_helpers_+3A_file">file</code></td>
<td>
<p>When using the <code><a href="#topic+creds_file">creds_file()</a></code> credential helper, we need to
specify the location of the credential file, and, this is where that is
done. The credential file was ideally generated by the
<code><a href="#topic+create_smtp_creds_file">create_smtp_creds_file()</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code><a href="#topic+creds">creds()</a></code> credential helper allows for manual specification of SMTP
configuration and authentication.
</p>
<p>The <code><a href="#topic+creds_anonymous">creds_anonymous()</a></code> credential helper is similar to <code><a href="#topic+creds">creds()</a></code> but
provides convenient defaults for authenticating anonymously with an SMTP
server.
</p>
<p>The <code><a href="#topic+creds_key">creds_key()</a></code> credential helper gets credentials stored in the
system-wide key-value store. We can set that key and the credentials data
using the <code><a href="#topic+create_smtp_creds_key">create_smtp_creds_key()</a></code> function.
</p>
<p>The <code><a href="#topic+creds_file">creds_file()</a></code> credential helper is used to obtain credentials from a
file stored on disk. We can create that file using the
<code><a href="#topic+create_smtp_creds_file">create_smtp_creds_file()</a></code> function.
</p>
<p>The <code><a href="#topic+creds_envvar">creds_envvar()</a></code> credential helper reads the password from the
<code>SMTP_PASSWORD</code> environment variable (or an environment variable name that
you specify). If using environment variables for other parameters, call
<code><a href="base.html#topic+Sys.getenv">Sys.getenv()</a></code> manually (e.g. <code>user = Sys.getenv("SMTP_USER")</code>).
</p>


<h3>Value</h3>

<p>A credentials list object.
</p>

<hr>
<h2 id='delete_all_credential_keys'>Delete all <strong>blastula</strong> credential keys</h2><span id='topic+delete_all_credential_keys'></span>

<h3>Description</h3>

<p>The <code>delete_all_credential_keys()</code> function deletes all <strong>blastula</strong>
credential keys, giving you a clean slate. Should specific keys need to be
deleted, the <code><a href="#topic+delete_credential_key">delete_credential_key()</a></code> could be used (one call per credential
key to delete). Before using <code>delete_all_credential_keys()</code>, it may be useful
to see which keys are available in the key-value store. For that, use the
<code><a href="#topic+view_credential_keys">view_credential_keys()</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_all_credential_keys()
</code></pre>


<h3>Details</h3>

<p>Support for using the <code>delete_all_credential_keys()</code> function (and for doing
any credential key management) is provided through the <strong>keyring</strong> package.
This function cannot be used without that package being available on the
system. We can use <code>install.packages("keyring")</code> to install <strong>keyring</strong>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Delete all blastula credential keys
# in the system's key-value store

# delete_all_credential_keys()

</code></pre>

<hr>
<h2 id='delete_credential_key'>Delete a single <strong>blastula</strong> credential key</h2><span id='topic+delete_credential_key'></span>

<h3>Description</h3>

<p>It may be important to delete a credential key and the
<code>delete_credential_key()</code> function makes this possible. To understand which
keys are available in the key-value store (and to get their <code>id</code> values), use
the <code><a href="#topic+view_credential_keys">view_credential_keys()</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_credential_key(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="delete_credential_key_+3A_id">id</code></td>
<td>
<p>The identifying label for the credential key. Use the same <code>id</code>
that was used to create the key with the <code><a href="#topic+create_smtp_creds_key">create_smtp_creds_key()</a></code>
function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Support for using the <code>delete_credential_key()</code> function (and for doing any
credential key management) is provided through the <strong>keyring</strong> package. This
function cannot be used without that package being available on the system.
We can use <code>install.packages("keyring")</code> to install <strong>keyring</strong>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Delete the credential key with
# the `id` value of "outlook"

# delete_credential_key("outlook")

</code></pre>

<hr>
<h2 id='get_html_str'>Get the HTML content of an email message</h2><span id='topic+get_html_str'></span>

<h3>Description</h3>

<p>Get the HTML content string from an <code>email_message</code> object as a single-length
character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_html_str(message)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_html_str_+3A_message">message</code></td>
<td>
<p>The email message object, as created by the <code>compose_email()</code>
function. The object's class is <code>email_message</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object containing the email message's HTML content.
</p>

<hr>
<h2 id='md'>Interpret input text as Markdown-formatted text</h2><span id='topic+md'></span>

<h3>Description</h3>

<p>Interpret input text as Markdown-formatted text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>md(text)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="md_+3A_text">text</code></td>
<td>
<p>The text that is understood to contain Markdown formatting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object that is tagged for a Markdown-to-HTML
transformation.
</p>
<p>A rendered HTML object.
</p>

<hr>
<h2 id='prepare_rsc_example_files'>Prepare example files for RStudio Connect emailing with R Markdown</h2><span id='topic+prepare_rsc_example_files'></span>

<h3>Description</h3>

<p>A set of example files relevant to emailing with R Markdown in RStudio
Connect can be spawned in a specified location. There is a set of three files
that work together to provide a full report, an emailable version of that
report, and a file attachment; these files are:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_rsc_example_files(path = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepare_rsc_example_files_+3A_path">path</code></td>
<td>
<p>The location to which the files (in a subdirectory named
<code>"connect_examples"</code>) will be written. The path needs to exist but the
aforementioned subdirectory is not required to be present.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>"connect-example-main.Rmd"</code>: The main R Markdown document. Contains
a report template culminating in a final R code chunk that has calls to
<code><a href="#topic+render_connect_email">render_connect_email()</a></code> and <code><a href="#topic+attach_connect_email">attach_connect_email()</a></code>.
</p>
</li>
<li> <p><code>"connect-example-email.Rmd"</code>: An R Markdown document that contains
the email message. It is associated with the main R Markdown document by
incorporating some of its content (i.e., by reusing chunk names and extending
assigned values). It uses the <code>blastula::blastula_email</code> output type in the
YAML front matter.
</p>
</li>
<li> <p><code>"austin_home_sales.csv"</code>: A CSV file that will be included as an
attachment by way of the <code>attachments</code> argument in the
<code><a href="#topic+attach_connect_email">attach_connect_email()</a></code> function call within the main R Markdown document.
</p>
</li></ul>

<p>The main report and associated email can be published by opening
<code>"connect-example-main.Rmd"</code> and pressing the Publish button at the top-right
of the Editor pane (please ensure beforehand that you are set up work with
RStudio Connect). If asked <code>"What do you want to publish?"</code>, choose the first
option where only the <code>"connect-example-main"</code> document is published. All
three files should be checked in the final dialog box, press the <code>Publish</code>
button to publish to RStudio Connect.
</p>
<p>There is also the single <code>"connect-example-text-only.Rmd"</code> file that, when
published, serves as a mechanism to send a text-only email. The content of
the email is specified directly in the single <code><a href="#topic+attach_connect_email">attach_connect_email()</a></code>
function call and all other text in the R Markdown file is disregarded.
</p>

<hr>
<h2 id='prepare_test_message'>Prepare a email test message object</h2><span id='topic+prepare_test_message'></span>

<h3>Description</h3>

<p>Create an email test message object, which is helpful for sending a test
message with the <code>smtp_send()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_test_message(incl_ggplot = FALSE, incl_image = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepare_test_message_+3A_incl_ggplot">incl_ggplot</code></td>
<td>
<p>An option to include a ggplot plot within the body of the
test message. This requires that the <span class="pkg">ggplot2</span> package is installed. By
default, this is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="prepare_test_message_+3A_incl_image">incl_image</code></td>
<td>
<p>An option to include a test image within the body of the
test message. By default, this is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>email_message</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a credentials file to send
# a test message via Gmail's SMTP
# (this file is named "gmail_secret")

# create_smtp_creds_file(
#   file = "gmail_secret",
#   user = "sender@email.com",
#   provider = "gmail"
# )

# Send oneself a test message to
# test these new SMTP settings and
# to ensure that the message appears
# correctly in the email client

# prepare_test_message() %&gt;%
#   smtp_send(
#     from = "sender@email.com",
#     to = "sender@email.com",
#     subject = "Test Message",
#     credentials = creds_file(
#       file = "gmail_secret"
#       )
#     )

</code></pre>

<hr>
<h2 id='print.blastula_message'>Print the email object to the Viewer</h2><span id='topic+print.blastula_message'></span>

<h3>Description</h3>

<p>This function will provide a preview of the email message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'blastula_message'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.blastula_message_+3A_x">x</code></td>
<td>
<p>An <code>email_message</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='render_email'>R Markdown render functions for the <code>blastula_email</code> output format</h2><span id='topic+render_email'></span><span id='topic+render_connect_email'></span>

<h3>Description</h3>

<p>The <code>render_email()</code> and <code>render_connect_email()</code> functions both allow for
rendering an an email message. We can supply an R Markdown document (.Rmd)
with the output specified as <code>output: blastula::blastula_email</code>. While the
<code>render_email()</code> and <code>render_connect_email()</code> functions have similar
arguments, the <code>render_connect_email()</code> is preferred when publishing to the
RStudio Connect service. It allows for the inclusion of a predefined footer
that contains useful links for email recipients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_email(
  input,
  envir = parent.frame(),
  quiet = TRUE,
  output_options = list(),
  render_options = list()
)

render_connect_email(
  input,
  connect_footer = TRUE,
  envir = parent.frame(),
  quiet = TRUE,
  output_options = list(),
  render_options = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="render_email_+3A_input">input</code></td>
<td>
<p>The input file to be rendered. This should be an R Markdown
document (.Rmd) with the output specified as <code>output: blastula::blastula_email</code>.</p>
</td></tr>
<tr><td><code id="render_email_+3A_envir">envir</code></td>
<td>
<p>The environment in which the code chunks are to be evaluated
during knitting.</p>
</td></tr>
<tr><td><code id="render_email_+3A_quiet">quiet</code></td>
<td>
<p>An option to suppress printing of the command line output from
Pandoc during rendering. By default, this is set to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="render_email_+3A_output_options">output_options</code>, <code id="render_email_+3A_render_options">render_options</code></td>
<td>
<p>Lists of options can be used to augment
the rendering of the email message. The <code>output_options</code> list will be
passed as the <code>output_options</code> argument of <code>rmarkdown::render()</code>. The
<code>render_options</code> list is for providing additional arguments to
<code>rmarkdown::render()</code>. By default, both lists are empty.</p>
</td></tr>
<tr><td><code id="render_email_+3A_connect_footer">connect_footer</code></td>
<td>
<p>Should a prepared footer message with links be included
in the rendered email? This argument is only available in the
<code>render_connect_email()</code> function and is set to <code>TRUE</code> by default.</p>
</td></tr>
</table>

<hr>
<h2 id='send_by_mailgun'>Send an email message through the Mailgun API</h2><span id='topic+send_by_mailgun'></span>

<h3>Description</h3>

<p>Send an email message via the Mailgun API. This requires an account with
Mailgun.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>send_by_mailgun(message, subject = NULL, from, recipients, url, api_key)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="send_by_mailgun_+3A_message">message</code></td>
<td>
<p>The email message object, as created by the <code>compose_email()</code>
function. The object's class is <code>email_message</code></p>
</td></tr>
<tr><td><code id="send_by_mailgun_+3A_subject">subject</code></td>
<td>
<p>The subject of the email.</p>
</td></tr>
<tr><td><code id="send_by_mailgun_+3A_from">from</code></td>
<td>
<p>The email address of the sender. This does not have to be the
same email that is associated with the account actually sending the
message.</p>
</td></tr>
<tr><td><code id="send_by_mailgun_+3A_recipients">recipients</code></td>
<td>
<p>A vector of email addresses.</p>
</td></tr>
<tr><td><code id="send_by_mailgun_+3A_url">url</code></td>
<td>
<p>The URL for the sending domain.</p>
</td></tr>
<tr><td><code id="send_by_mailgun_+3A_api_key">api_key</code></td>
<td>
<p>The API key registered to the Mailgun service.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create a simple email message using
# Markdown formatting

# email &lt;-
#   compose_email(
#   body = "
#   Hello!
#
#   ## This a section heading
#
#   We can use Markdown formatting \
#   to **embolden** text or to add \
#   *emphasis*. This is exciting, \
#   right?
#
#   Cheers")

# Generate a vector of recipients

# recipient_list &lt;-
#   c("person_1@site.net",
#     "person_2@site.net")

# Send it to multiple people through
# the Mailgun API

# email %&gt;%
#   send_by_mailgun(
#     subject = "Sent through Mailgun",
#     from = "The Sender &lt;sender@send.org&gt;",
#     recipients = recipient_list,
#     url = "&lt;..mailgun_sending_domain..&gt;",
#     api = "&lt;..mailgun_api_key..&gt;")

</code></pre>

<hr>
<h2 id='smtp_send'>Send an email message through SMTP</h2><span id='topic+smtp_send'></span>

<h3>Description</h3>

<p>Send an email message to one or more recipients via an SMTP server. The email
message required as input to <code>smtp_send()</code> has to be created by using the
<code><a href="#topic+compose_email">compose_email()</a></code> function. The <code>email_message</code> object can be previewed by
printing the object, where the HTML preview will show how the message should
appear in recipients' email clients. File attachments can be added to the
email object by using the <code><a href="#topic+add_attachment">add_attachment()</a></code> function (one call per
attachment) prior to sending through this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smtp_send(
  email,
  to,
  from,
  subject = NULL,
  cc = NULL,
  bcc = NULL,
  credentials = NULL,
  creds_file = "deprecated",
  verbose = FALSE,
  login_options = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="smtp_send_+3A_email">email</code></td>
<td>
<p>The email message object, as created by the <code><a href="#topic+compose_email">compose_email()</a></code>
function. The object's class is <code>email_message</code>.</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_to">to</code></td>
<td>
<p>A vector of email addresses serving as primary recipients for the
message. For secondary recipients, use the <code>cc</code> and <code>bcc</code> arguments. A
named character vector can be used to specify the recipient names along
with the their email address (e.g., <code>c("Jane Doe" = "jane_doe@example.com")</code>).</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_from">from</code></td>
<td>
<p>The email address of the sender. Often this needs to be the same
email address that is associated with the account actually sending the
message. As with <code>to</code>, <code>cc</code>, and <code>bcc</code>, we can either supply a single email
address or use a named character vector with the sender name and email
address (e.g., <code>c("John Doe" = "john_doe@example.com")</code>).</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_subject">subject</code></td>
<td>
<p>The subject of the message, which is usually a brief summary
of the topic of the message. If not provided, an empty string will be used
(which is handled differently by email clients).</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_cc">cc</code>, <code id="smtp_send_+3A_bcc">bcc</code></td>
<td>
<p>A vector of email addresses for sending the message as a carbon
copy or blind carbon copy. The CC list pertains to recipients that are to
receive a copy of a message that is addressed primarily to others. The CC
listing of recipients is visible to all other recipients of the message.
The BCC list differs in that those recipients will be concealed from all
other recipients (including those on the BCC list). A named character
vector can be used to specify the recipient names along with the their
email address (e.g., <code>c("Joe Public" = "joe_public@example.com")</code>).</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_credentials">credentials</code></td>
<td>
<p>One of three credential helper functions must be used
here: (1) <code><a href="#topic+creds">creds()</a></code>, (2) <code><a href="#topic+creds_key">creds_key()</a></code>, or (3) <code><a href="#topic+creds_file">creds_file()</a></code>. The first,
<code><a href="#topic+creds">creds()</a></code>, allows for a manual specification of SMTP configuration and
credentials within that helper function. This is the most secure method for
supplying credentials as they aren't written to disk. The <code><a href="#topic+creds_key">creds_key()</a></code>
function is used if credentials are stored in the system-wide key-value
store, through use of the <code><a href="#topic+create_smtp_creds_key">create_smtp_creds_key()</a></code> function. The
<code><a href="#topic+creds_file">creds_file()</a></code> helper function relies on a credentials file stored on disk.
Such a file is created using the <code><a href="#topic+create_smtp_creds_file">create_smtp_creds_file()</a></code> function.</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_creds_file">creds_file</code></td>
<td>
<p>An option to specify a credentials file. As this argument
is deprecated, please consider using <code style="white-space: pre;">&#8288;credentials = creds_file(&lt;file&gt;)&#8288;</code>
instead.</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_verbose">verbose</code></td>
<td>
<p>Should verbose output from the internal curl <code>send_mail()</code>
call be printed? While the username and password will likely be echoed
during the exchange, such information is encoded and won't be stored on
the user's system.</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_login_options">login_options</code></td>
<td>
<p>A string representation of login options allowed by
<a href="https://curl.se/libcurl/c/CURLOPT_LOGIN_OPTIONS.html"><code>CURLOPT_LOGIN_OPTIONS</code></a>.</p>
</td></tr>
<tr><td><code id="smtp_send_+3A_...">...</code></td>
<td>
<p>Extra arguments passed to <code><a href="curl.html#topic+send_mail">curl::send_mail()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>We can avoid re-entering SMTP configuration and credentials information by
retrieving this information either from disk (with the file generated by use
of the <code><a href="#topic+create_smtp_creds_file">create_smtp_creds_file()</a></code> function), or, from the system's key-value
store (with the key set by the <code><a href="#topic+create_smtp_creds_key">create_smtp_creds_key()</a></code> function).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Before sending out an email through
# SMTP, we need an `email_message`
# object; for the purpose of a simple
# example, we can use the function
# `prepare_test_message()` to create
# a test version of an email (although
# we'd normally use `compose_email()`)
email &lt;- prepare_test_message()

# The `email` message can be sent
# through the `smtp_send()` function
# so long as we supply the appropriate
# credentials; The following three
# examples provide scenarios for both
# the creation of credentials and their
# retrieval within the `credentials`
# argument of `smtp_send()`

# (1) Providing the credentials info
# directly via the `creds()` helper
# (the most secure means of supplying
# credentials information)

# email %&gt;%
#   smtp_send(
#     from = "sender@email.com",
#     to = "recipient@email.com",
#     credentials = creds(
#       provider = "gmail",
#       user = "sender@email.com")
#   )

# (2) Using a credentials key (with
# the `create_smtp_creds_key()` and
# `creds_key()` functions)

# create_smtp_creds_key(
#  id = "gmail",
#  user = "sender@email.com",
#  provider = "gmail"
#  )

# email %&gt;%
#   smtp_send(
#     from = "sender@email.com",
#     to = "recipient@email.com",
#     credentials = creds_key(
#       "gmail"
#       )
#   )

# (3) Using a credentials file (with
# the `create_smtp_creds_file()` and
# `creds_file()` functions)

# create_smtp_creds_file(
#  file = "gmail_secret",
#  user = "sender@email.com",
#  provider = "gmail"
#  )

# email %&gt;%
#   smtp_send(
#     from = "sender@email.com",
#     to = "recipient@email.com",
#     credentials = creds_file(
#       "gmail_secret")
#   )

</code></pre>

<hr>
<h2 id='social_link'>Specify the components of a social link</h2><span id='topic+social_link'></span>

<h3>Description</h3>

<p>The <code>social_link()</code> function is used exclusively within
<code>block_social_links()</code> with as many calls as the number of social sharing
icons/links required. By providing a supported <code>service</code> name, a hosted icon
image can be used. A <code>link</code> must be provided; it will be part of social
sharing icon. All icons are rounded, transparent, and consist of a single
color, or level of gray.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>social_link(service, link, variant = NULL, alt = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="social_link_+3A_service">service</code></td>
<td>
<p>Either the name of a social sharing service or either of
<code>website</code>, <code>email</code>, or <code>rss</code>.</p>
</td></tr>
<tr><td><code id="social_link_+3A_link">link</code></td>
<td>
<p>The relevant link to content on the <code>service</code>.</p>
</td></tr>
<tr><td><code id="social_link_+3A_variant">variant</code></td>
<td>
<p>The variant of the icon to use. Options include <code>bw</code> (black
and white, the default), <code>color</code>, <code>dark_gray</code>, <code>gray</code>, and <code>light_gray</code>.</p>
</td></tr>
<tr><td><code id="social_link_+3A_alt">alt</code></td>
<td>
<p>Text description of image passed to the <code>alt</code> attribute inside of
the image (<code style="white-space: pre;">&#8288;&lt;img&gt;&#8288;</code>) tag for use when image loading is disabled and on
screen readers. If not supplied, then the name of the <code>service</code> will be
used as alt text.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following social sharing services have hosted icons available:
</p>

<ul>
<li><p> Twitter - Micro-blogging internet service.
</p>
</li>
<li><p> GitHub - Web-based hosting service for software development projects using Git.
</p>
</li>
<li><p> Facebook - Global online social networking service.
</p>
</li>
<li><p> Instagram - Online photo-sharing and social networking service.
</p>
</li>
<li><p> LinkedIn - Social networking service for people in professional occupations.
</p>
</li>
<li><p> YouTube - Video-sharing service owned by Google.
</p>
</li>
<li><p> Vimeo - An ad-free open video platform.
</p>
</li>
<li><p> Behance - A site for self-promotion of design projects.
</p>
</li>
<li><p> Dribbble - Online community for showcasing user-made artwork.
</p>
</li>
<li><p> Pinterest - Photo-sharing and publishing website for discovering interesting things.
</p>
</li>
<li><p> 500px - Online platform for photographers to gain global exposure.
</p>
</li>
<li><p> Yelp - Local-search service powered by crowd-sourced reviews.
</p>
</li>
<li><p> TripAdvisor - Travel and restaurant website with reviews and accommodation bookings.
</p>
</li>
<li><p> WordPress - Blogging platform and content management system.
</p>
</li>
<li><p> Blogger - A blog-publishing service hosted by Google.
</p>
</li>
<li><p> Tumblr - Micro-blogging and social networking website.
</p>
</li>
<li><p> Deezer - Web-based music streaming service.
</p>
</li>
<li><p> SoundCloud - A music sharing website and publishing tool for music distribution.
</p>
</li>
<li><p> Meetup - A service used to organize online groups that host in-person events.
</p>
</li>
<li><p> Etsy - An e-commerce website focused on handmade or vintage items and supplies.
</p>
</li>
<li><p> Reddit - A social news aggregation, web content rating, and discussion website.
</p>
</li>
<li><p> Stack Overflow - Question and answer site for professional and enthusiast programmers.
</p>
</li>
<li><p> Youku - A video hosting service for user-made and professionally produced videos.
</p>
</li>
<li><p> Sina Weibo - Micro-blogging website and one of the biggest social media platforms in China.
</p>
</li>
<li><p> QQ - Instant messaging software service developed by Tencent.
</p>
</li>
<li><p> Douban - A Chinese social networking service with a reputation for high-quality content.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Create an email message with some
# articles in the `body`; in the footer,
# add some social sharing icons linking
# to web content
email &lt;-
  compose_email(
    body =
      blocks(
        block_title("Exciting Travel Destinations"),
        block_articles(
          article(
            image = "https://i.imgur.com/dxSXzGb.jpg",
            title = "Hong Kong",
            content =
              "Once home to fishermen and farmers,
              modern Hong Kong is a teeming,
              commercially-vibrant metropolis where
              Chinese and Western influences fuse."
          ),
          article(
            image = "https://i.imgur.com/bJzVIrG.jpg",
            title = "Australia",
            content =
              "Australia ranks as one of the best
              places to live in the world by all
              indices of income, human development,
              healthcare, and civil rights."
          )
        )
      ),
    footer =
      blocks(
        block_text("Thanks for reading! Find us here:"),
        block_social_links(
          social_link(
            service = "pinterest",
            link = "https://www.pinterest.ca/TravelLeisure/",
            variant = "color"
          ),
          social_link(
            service = "tripadvisor",
            link = "https://www.tripadvisor.ca/TravelersChoice",
            variant = "color"
          )
        )
      )
  )

if (interactive()) email

</code></pre>

<hr>
<h2 id='suppress_scheduled_email'>Suppress any scheduled emailing in RStudio Connect</h2><span id='topic+suppress_scheduled_email'></span>

<h3>Description</h3>

<p>This function is useful for suppressing the scheduled emailing of a published
R Markdown document. It can be invoked anywhere in the R Markdown document
and is useful in a conditional statement, where the result of the condition
determines whether or not email suppression should occur.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suppress_scheduled_email(suppress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="suppress_scheduled_email_+3A_suppress">suppress</code></td>
<td>
<p>A logical value for whether email suppression should occur
after publication. By default, this is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since this function needs to be invoked within an R Markdown document, the
chunk option <code>echo=FALSE</code> is useful here (so that viewers of the rendered
document don't have to unnecessarily read code related to email suppression).
While the output is invisible, any errors related to the use of this function
will be visible to the author.
</p>

<hr>
<h2 id='view_credential_keys'>View all available <strong>blastula</strong> credential keys</h2><span id='topic+view_credential_keys'></span>

<h3>Description</h3>

<p>To understand which keys have been set using the <code><a href="#topic+create_smtp_creds_key">create_smtp_creds_key()</a></code>
function (and how they are identified), we can use the
<code>view_credential_keys()</code> function. What's provided is a tibble with three
columns: <code>id</code>, <code>key_name</code>, and <code>username</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>view_credential_keys()
</code></pre>


<h3>Details</h3>

<p>Support for using the <code>view_credential_keys()</code> function (and for doing any
credential key management) is provided through the <strong>keyring</strong> package. This
function cannot be used without that package being available on the system.
We can use <code>install.packages("keyring")</code> to install <strong>keyring</strong>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># View the available SMTP credentials
# that are in the system's secure
# key-value store; the `id` values
# in the returned tibble provide what's
# necessary to send email through
# `smtp_send()` and the `creds_key()`
# credential helper function

# view_credential_keys()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

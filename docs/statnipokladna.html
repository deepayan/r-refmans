<!DOCTYPE html><html><head><title>Help for package statnipokladna</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {statnipokladna}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#add_codelist'><p>Deprecated: Add codelist data to downloaded data</p></a></li>
<li><a href='#get_codelist'><p>Deprecated: Get codelist</p></a></li>
<li><a href='#get_dataset'><p>Deprecated: Retrieve and read dataset from statnipokladna</p></a></li>
<li><a href='#get_dataset_doc'><p>Deprecated: Get dataset documentation</p></a></li>
<li><a href='#get_table'><p>Deprecated: Get a statnipokladna table<br /><br /></p>
Deprecated, use <code>sp_get_table()</code> instead.</a></li>
<li><a href='#sp_add_codelist'><p>Add codelist data to downloaded data</p></a></li>
<li><a href='#sp_codelists'><p>List of available codelists</p></a></li>
<li><a href='#sp_datasets'><p>List of available datasets</p></a></li>
<li><a href='#sp_get_codelist'><p>Get codelist</p></a></li>
<li><a href='#sp_get_codelist_file'><p>Download a codelist XML file</p></a></li>
<li><a href='#sp_get_codelist_url'><p>Get URL of a given codelist</p></a></li>
<li><a href='#sp_get_codelist_viewer'><p>Get/open URL of codelist viewer</p></a></li>
<li><a href='#sp_get_dataset'><p>Retrieve dataset from statnipokladna</p></a></li>
<li><a href='#sp_get_dataset_doc'><p>Get dataset documentation</p></a></li>
<li><a href='#sp_get_dataset_url'><p>Get URL of dataset</p></a></li>
<li><a href='#sp_get_table'><p>Get a statnipokladna table</p></a></li>
<li><a href='#sp_get_table_file'><p>Get path to a CSV file containing a table.</p></a></li>
<li><a href='#sp_load_codelist'><p>Load codelist into a tibble from XML file</p></a></li>
<li><a href='#sp_load_table'><p>Load a statnipokladna table from a CSV file</p></a></li>
<li><a href='#sp_tables'><p>List of available tables (PARTIAL)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Use Data from the Czech Public Finance Database</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Get programmatic access to data from the Czech public
    budgeting and accounting database, Státní pokladna
    <a href="https://monitor.statnipokladna.cz/">https://monitor.statnipokladna.cz/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/petrbouchal/statnipokladna">https://github.com/petrbouchal/statnipokladna</a>,
<a href="https://petrbouchal.xyz/statnipokladna/">https://petrbouchal.xyz/statnipokladna/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/petrbouchal/statnipokladna/issues">https://github.com/petrbouchal/statnipokladna/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, curl (&ge; 4.3), dplyr (&ge; 1.0.0), httr (&ge; 1.4.1),
jsonlite, lifecycle (&ge; 1.0.1), lubridate (&ge; 1.7.4), magrittr,
purrr (&ge; 0.3.2), readr (&ge; 1.3.1), rlang (&ge; 0.4.0), stringi
(&ge; 1.4.3), stringr (&ge; 1.4.0), tibble (&ge; 2.1.3), tidyr (&ge;
1.0.0), utils (&ge; 3.6.0), xml2 (&ge; 1.2.2)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr (&ge; 1.30), markdown (&ge; 1.1), ragg (&ge; 0.4.0),
rmarkdown, testthat (&ge; 2.1.0), tidyselect (&ge; 1.2.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-05 08:56:54 UTC; petr</td>
</tr>
<tr>
<td>Author:</td>
<td>Petr Bouchal <a href="https://orcid.org/0000-0002-0471-716X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Petr Bouchal &lt;pbouchal@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-05 09:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='add_codelist'>Deprecated: Add codelist data to downloaded data</h2><span id='topic+add_codelist'></span>

<h3>Description</h3>

<p>Deprecated, use <code>sp_add_codelist()</code> instead.<br /><br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_codelist(
  data,
  codelist = NULL,
  period_column = .data$vykaz_date,
  redownload = FALSE,
  dest_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_codelist_+3A_data">data</code></td>
<td>
<p>a data frame returned by <code>sp_get_table()</code>.</p>
</td></tr>
<tr><td><code id="add_codelist_+3A_codelist">codelist</code></td>
<td>
<p>The codelist to add. Either a character vector of length one (see <code>sp_tables</code> for possible values), or a data frame returned by <code>sp_get_codelist()</code>.</p>
</td></tr>
<tr><td><code id="add_codelist_+3A_period_column">period_column</code></td>
<td>
<p>Unquoted column name of column identifying the data period in <code>data</code>. Leave to default if you have not changed the <code>data</code> object returned by <code>sp_get_table()</code>.</p>
</td></tr>
<tr><td><code id="add_codelist_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if file has already been downloaded? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="add_codelist_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble-package">tibble</a> of same length as <code>data</code>, with added columns from <code>codelist</code>. See Details.
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code><a href="#topic+get_codelist">get_codelist</a>()</code>,
<code><a href="#topic+sp_add_codelist">sp_add_codelist</a>()</code>,
<code><a href="#topic+sp_get_codelist">sp_get_codelist</a>()</code>,
<code><a href="#topic+sp_get_dataset">sp_get_dataset</a>()</code>,
<code><a href="#topic+sp_get_table">sp_get_table</a>()</code>
</p>

<hr>
<h2 id='get_codelist'>Deprecated: Get codelist</h2><span id='topic+get_codelist'></span>

<h3>Description</h3>

<p>Deprecated: use <code>sp_get_codelist()</code><br /><br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_codelist(codelist_id, n = NULL, dest_dir = NULL, redownload = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_codelist_+3A_codelist_id">codelist_id</code></td>
<td>
<p>A codelist ID. See <code>id</code> column in <code>sp_codelists</code> for a list of available codelists.</p>
</td></tr>
<tr><td><code id="get_codelist_+3A_n">n</code></td>
<td>
<p>Number of rows to return. Default (NULL) means all. Useful for quickly inspecting a codelist.</p>
</td></tr>
<tr><td><code id="get_codelist_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
<tr><td><code id="get_codelist_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if file has already been downloaded? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble-package">tibble</a>
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code><a href="#topic+add_codelist">add_codelist</a>()</code>,
<code><a href="#topic+sp_add_codelist">sp_add_codelist</a>()</code>,
<code><a href="#topic+sp_get_codelist">sp_get_codelist</a>()</code>,
<code><a href="#topic+sp_get_dataset">sp_get_dataset</a>()</code>,
<code><a href="#topic+sp_get_table">sp_get_table</a>()</code>
</p>

<hr>
<h2 id='get_dataset'>Deprecated: Retrieve and read dataset from statnipokladna</h2><span id='topic+get_dataset'></span>

<h3>Description</h3>

<p>Deprecated, use <code>sp_get_dataset()</code> instead.<br /><br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dataset(dataset_id, year, month = 12, dest_dir = NULL, redownload = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dataset_+3A_dataset_id">dataset_id</code></td>
<td>
<p>A dataset ID. See <code>id</code> column in <code>sp_datasets</code> for a list of available datasets</p>
</td></tr>
<tr><td><code id="get_dataset_+3A_year">year</code></td>
<td>
<p>year, numeric vector of length &lt;= 1 (can take multiple values), 2015-2019 for some datasets, 2010-2020 for others. Defaults to 2018.
(see Details for how to work with data across time periods.)</p>
</td></tr>
<tr><td><code id="get_dataset_+3A_month">month</code></td>
<td>
<p>month, numeric vector of length &lt;= 1 (can take multiple values). Must be between 1 and 12. Defaults to 12.
(see Details for how to work with data across time periods.)</p>
</td></tr>
<tr><td><code id="get_dataset_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
<tr><td><code id="get_dataset_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if file has already been downloaded? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Value</h3>

<p>character (link) if download = TRUE, nothing otherwise.
</p>

<hr>
<h2 id='get_dataset_doc'>Deprecated: Get dataset documentation</h2><span id='topic+get_dataset_doc'></span>

<h3>Description</h3>

<p>Deprecated, use <code>sp_get_dataset_doc()</code> instead.<br /><br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dataset_doc(dataset_id, dest_dir = ".", download = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dataset_doc_+3A_dataset_id">dataset_id</code></td>
<td>
<p>dataset ID. See <code>sp_datasets</code>.</p>
</td></tr>
<tr><td><code id="get_dataset_doc_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
<tr><td><code id="get_dataset_doc_+3A_download">download</code></td>
<td>
<p>Whether to download (the default) or open link in browser.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Value</h3>

<p>a <a href="tibble.html#topic+tibble-package">tibble</a>
</p>

<hr>
<h2 id='get_table'>Deprecated: Get a statnipokladna table<br /><br />
Deprecated, use <code>sp_get_table()</code> instead.</h2><span id='topic+get_table'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table(
  table_id,
  year,
  month = 12,
  ico = NULL,
  redownload = FALSE,
  dest_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_+3A_table_id">table_id</code></td>
<td>
<p>A table ID. See <code>id</code> column in <code>sp_tables</code> for a list of available tables</p>
</td></tr>
<tr><td><code id="get_table_+3A_year">year</code></td>
<td>
<p>year, numeric, 2015-2019 for some datasets, 2010-2020 for others.
Can be a vector of length &gt; 1 (see Details for how to work with data across time periods.).</p>
</td></tr>
<tr><td><code id="get_table_+3A_month">month</code></td>
<td>
<p>month, numeric. Must be 3, 6, 9 or 12. Can be a vector of length &gt; 1 (see details).</p>
</td></tr>
<tr><td><code id="get_table_+3A_ico">ico</code></td>
<td>
<p>ID(s) of org to return, character of length one or more. If unset, returns all orgs. ID not checked for correctness/existence. See <a href="https://monitor.statnipokladna.cz/datovy-katalog/prohlizec-ciselniku/ucjed">https://monitor.statnipokladna.cz/datovy-katalog/prohlizec-ciselniku/ucjed</a> to look up ID of any org in the dataset.</p>
</td></tr>
<tr><td><code id="get_table_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if recent file present? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="get_table_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="tibble.html#topic+tibble-package">tibble</a>
</p>

<hr>
<h2 id='sp_add_codelist'>Add codelist data to downloaded data</h2><span id='topic+sp_add_codelist'></span>

<h3>Description</h3>

<p>Joins a provided codelist, or downloads and processes one if necessary, and adds it to the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_add_codelist(
  data,
  codelist = NULL,
  period_column = .data$vykaz_date,
  by = NULL,
  redownload = FALSE,
  dest_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_add_codelist_+3A_data">data</code></td>
<td>
<p>a data frame returned by <code>sp_get_table()</code>.</p>
</td></tr>
<tr><td><code id="sp_add_codelist_+3A_codelist">codelist</code></td>
<td>
<p>The codelist to add. Either a character vector of length one (see <code>sp_tables</code> for possible values), or a data frame returned by <code>sp_get_codelist()</code>.</p>
</td></tr>
<tr><td><code id="sp_add_codelist_+3A_period_column">period_column</code></td>
<td>
<p>Unquoted column name of column identifying the data period in <code>data</code>. Leave to default if you have not changed the <code>data</code> object returned by <code>sp_get_table()</code>.</p>
</td></tr>
<tr><td><code id="sp_add_codelist_+3A_by">by</code></td>
<td>
<p>character. Columns by which to join the codelist. Same form as for <code style="white-space: pre;">&#8288;dplyr::left_join()``.&#8288;</code>.</p>
</td></tr>
<tr><td><code id="sp_add_codelist_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if file has already been downloaded? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="sp_add_codelist_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>data</code> argument should be a data frame produced by <code>sp_get_table()</code> If this is true, the <code>period_column</code> argument is not needed.
The <code>codelist</code> argument, if a data frame, should be a data frame produced by
<code>sp_get_codelist()</code>. Specifically, it assumes it contains the following columns:
</p>

<ul>
<li><p> start_date, a date
</p>
</li>
<li><p> end_date, a date
</p>
</li>
<li><p> column with the code, character usually named the same as the codelist
</p>
</li></ul>

<p>#' You can usually tell which codelist you need from the name of the column whose code you
are looking to expand, e.g. the codes in column paragraf can be expanded by codelist paragraf.
</p>
<p>The function filters the codelist to obtain a set of entries relevant to the time period of <code>data</code>.
If <code>data</code> contains tables for multiple periods, this is handled appropriately.
Codelist-originating columns in the resulting data frame are renamed so they do not interfere with
joining additional codelists, perhaps in a single pipe call.
</p>
<p>Note that some codelists are &quot;secondary&quot; and can only be joined onto other codelists.
If a codelist does not join using <code>sp_add_codelis()</code>, store the output of <code>sp_get_codelist()</code> and join
it manually using <code>dplyr</code>.
</p>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble-package">tibble</a> of same length as <code>data</code>, with added columns from <code>codelist</code>. See Details.
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code><a href="#topic+add_codelist">add_codelist</a>()</code>,
<code><a href="#topic+get_codelist">get_codelist</a>()</code>,
<code><a href="#topic+sp_get_codelist">sp_get_codelist</a>()</code>,
<code><a href="#topic+sp_get_dataset">sp_get_dataset</a>()</code>,
<code><a href="#topic+sp_get_table">sp_get_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sp_get_table("budget-central", 2017) %&gt;%
  sp_add_codelist("polozka") %&gt;%
  sp_add_codelist("paragraf")

pol &lt;- sp_get_codelist("paragraf")
par &lt;- sp_get_codelist("polozka")

sp_get_table("budget-central", 2017) %&gt;%
  sp_add_codelist(pol) %&gt;%
  sp_add_codelist(par)

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_codelists'>List of available codelists</h2><span id='topic+sp_codelists'></span>

<h3>Description</h3>

<p>Contains IDs and names of all (most) available codelists that can be retrieved by sp_get_codelist.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_codelists
</code></pre>


<h3>Format</h3>

<p>A data frame with 27 rows and 2 variables:
</p>

<dl>
<dt><code>id</code></dt><dd><p>character. ID, used as <code>codelist_id</code> argument in <code>sp_get_codelist</code>.</p>
</dd>
<dt><code>name</code></dt><dd><p>character. Short name, mostly corresponds to title used on statnipokladna.cz.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The <code>id</code> is to be used as the <code>codelist_id</code> parameter in <code>sp_get_codelist</code>.
See <a href="https://monitor.statnipokladna.cz/datovy-katalog/ciselniky">https://monitor.statnipokladna.cz/datovy-katalog/ciselniky</a> for a more detailed
descriptions and a GUI for exploring the lists.
</p>


<h3>See Also</h3>

<p>Other Lists of available entities: 
<code><a href="#topic+sp_datasets">sp_datasets</a></code>,
<code><a href="#topic+sp_tables">sp_tables</a></code>
</p>

<hr>
<h2 id='sp_datasets'>List of available datasets</h2><span id='topic+sp_datasets'></span>

<h3>Description</h3>

<p>Contains IDs and names of all available datasets that can be retrieved by get_dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_datasets
</code></pre>


<h3>Format</h3>

<p>A data frame with 9 rows and 3 variables:
</p>

<dl>
<dt><code>id</code></dt><dd><p>character. Dataset ID, used as <code>dataset_id</code> argument to <code>sp_get_dataset</code>.</p>
</dd>
<dt><code>name</code></dt><dd><p>character. Dataset name, mostly corresponds to title on the statnipokladna GUI.</p>
</dd>
</dl>



<h3>Details</h3>

<p>See <a href="https://monitor.statnipokladna.cz/datovy-katalog/transakcni-data">https://monitor.statnipokladna.cz/datovy-katalog/transakcni-data</a> for a more detailed descriptions
of the datasets.
</p>


<h3>See Also</h3>

<p>Other Lists of available entities: 
<code><a href="#topic+sp_codelists">sp_codelists</a></code>,
<code><a href="#topic+sp_tables">sp_tables</a></code>
</p>

<hr>
<h2 id='sp_get_codelist'>Get codelist</h2><span id='topic+sp_get_codelist'></span>

<h3>Description</h3>

<p>Downloads and processes codelist identified by <code>codelist_id</code>. See <code>sp_codelists</code> for a list of
of available codelists with their IDs and names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_codelist(codelist_id, n = NULL, dest_dir = NULL, redownload = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_codelist_+3A_codelist_id">codelist_id</code></td>
<td>
<p>A codelist ID. See <code>id</code> column in <code>sp_codelists</code> for a list of available codelists.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_+3A_n">n</code></td>
<td>
<p>Number of rows to return. Default (NULL) means all. Useful for quickly inspecting a codelist.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if file has already been downloaded? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can usually tell which codelist you need from the name of the column whose code you
are looking to expand, e.g. the codes in column paragraf can be expanded by codelist paragraf.
</p>
<p>The processing ensures that the resulting codelist can be correctly joined to
the data, automatically using <code>sp_add_codelist()</code> or manually.
The entire codelist is downloaded and not filtered for any particular date.
</p>
<p>Codelist XML files are stored in a temporary directory as determined by <code>tempdir()</code>
and persist per session to avoid redownloads.
</p>


<h3>Value</h3>

<p>a <a href="tibble.html#topic+tibble-package">tibble</a>
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code><a href="#topic+add_codelist">add_codelist</a>()</code>,
<code><a href="#topic+get_codelist">get_codelist</a>()</code>,
<code><a href="#topic+sp_add_codelist">sp_add_codelist</a>()</code>,
<code><a href="#topic+sp_get_dataset">sp_get_dataset</a>()</code>,
<code><a href="#topic+sp_get_table">sp_get_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sp_get_codelist("paragraf")

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_get_codelist_file'>Download a codelist XML file</h2><span id='topic+sp_get_codelist_file'></span>

<h3>Description</h3>

<p>This is normally called inside <code>sp_get_codelist()</code> but can be used separately if
finer-grained control of intermediate outputs is needed, e.g. in a <code>{targets}</code> workflow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_codelist_file(
  codelist_id = NULL,
  url = NULL,
  dest_dir = NULL,
  redownload = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_codelist_file_+3A_codelist_id">codelist_id</code></td>
<td>
<p>A codelist ID. See <code>id</code> column in <code>sp_codelists</code> for a list of available codelists.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_file_+3A_url">url</code></td>
<td>
<p>DESCRIPTION. Either this or <code>codelist_id</code> must be set. If both are set, <code>url</code> wins.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_file_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_file_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if file has already been downloaded? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>path to XML file; character vector of length one.
</p>


<h3>See Also</h3>

<p>Other Detailed workflow: 
<code><a href="#topic+sp_get_codelist_url">sp_get_codelist_url</a>()</code>,
<code><a href="#topic+sp_get_dataset_url">sp_get_dataset_url</a>()</code>,
<code><a href="#topic+sp_get_table_file">sp_get_table_file</a>()</code>,
<code><a href="#topic+sp_load_codelist">sp_load_codelist</a>()</code>,
<code><a href="#topic+sp_load_table">sp_load_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sp_get_codelist_file("druhuj")
codelist_url &lt;- sp_get_codelist_url("druhuj")
sp_get_codelist_file(url = codelist_url)

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_get_codelist_url'>Get URL of a given codelist</h2><span id='topic+sp_get_codelist_url'></span>

<h3>Description</h3>

<p>This is normally called inside <code>sp_get_codelist()</code> but can be used separately if
finer-grained control of intermediate outputs is needed, e.g. in a <code>{targets}</code> workflow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_codelist_url(codelist_id, check_if_exists = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_codelist_url_+3A_codelist_id">codelist_id</code></td>
<td>
<p>DESCRIPTION.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_url_+3A_check_if_exists">check_if_exists</code></td>
<td>
<p>Whether to check that the URL works (HTTP 200).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector of length one containing URL
</p>


<h3>See Also</h3>

<p>Other Detailed workflow: 
<code><a href="#topic+sp_get_codelist_file">sp_get_codelist_file</a>()</code>,
<code><a href="#topic+sp_get_dataset_url">sp_get_dataset_url</a>()</code>,
<code><a href="#topic+sp_get_table_file">sp_get_table_file</a>()</code>,
<code><a href="#topic+sp_load_codelist">sp_load_codelist</a>()</code>,
<code><a href="#topic+sp_load_table">sp_load_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sp_get_codelist_url("ucjed", FALSE)
if(FALSE) sp_get_codelist_url("ucjed_wrong", TRUE) # fails, invalid codelist

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_get_codelist_viewer'>Get/open URL of codelist viewer</h2><span id='topic+sp_get_codelist_viewer'></span>

<h3>Description</h3>

<p>Returns a URL for the online codelist browser in monitor.statnipokladna.cz and opens it in browser if open = TRUE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_codelist_viewer(codelist_id, open = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_codelist_viewer_+3A_codelist_id">codelist_id</code></td>
<td>
<p>A codelist ID. See <code>id</code> column in <code>sp_codelists</code> for a list of available codelists.</p>
</td></tr>
<tr><td><code id="sp_get_codelist_viewer_+3A_open">open</code></td>
<td>
<p>Whether to open URL in browser. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a URL, character vector of length one.
</p>


<h3>See Also</h3>

<p>Other Utilities: 
<code><a href="#topic+sp_get_dataset_doc">sp_get_dataset_doc</a>()</code>
</p>

<hr>
<h2 id='sp_get_dataset'>Retrieve dataset from statnipokladna</h2><span id='topic+sp_get_dataset'></span>

<h3>Description</h3>

<p>Downloads ZIP archives for a given dataset. If <code>year</code> or <code>month</code> have length &gt; 1, gets all combinations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_dataset(
  dataset_id,
  year,
  month = 12,
  dest_dir = NULL,
  redownload = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_dataset_+3A_dataset_id">dataset_id</code></td>
<td>
<p>A dataset ID. See <code>id</code> column in <code>sp_datasets</code> for a list of available datasets</p>
</td></tr>
<tr><td><code id="sp_get_dataset_+3A_year">year</code></td>
<td>
<p>year, numeric vector of length &lt;= 1 (can take multiple values), 2015-2019 for some datasets, 2010-2020 for others. Defaults to 2018.
(see Details for how to work with data across time periods.)</p>
</td></tr>
<tr><td><code id="sp_get_dataset_+3A_month">month</code></td>
<td>
<p>month, numeric vector of length &lt;= 1 (can take multiple values). Must be between 1 and 12. Defaults to 12.
(see Details for how to work with data across time periods.)</p>
</td></tr>
<tr><td><code id="sp_get_dataset_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
<tr><td><code id="sp_get_dataset_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if file has already been downloaded? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Files are stored in a temp folder as determined by <code>tempdir()</code> or the <code>dest_dir</code> param or the <code>statnipokladna.dest_dir</code> option.
and further sorted into subdirectories by dataset, year and month. If saved to <code>tempdir()</code> (the default), downloaded files per session to avoid redownloads.
</p>
<p>How data for different time periods is exported differs by dataset.
This has significant implications for how you get to usable full-year numbers or time series in different tables.
See <code>vignette("statnipokladna")</code> for details on this.
</p>


<h3>Value</h3>

<p>character string with complete paths to downloaded ZIP archives.
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code><a href="#topic+add_codelist">add_codelist</a>()</code>,
<code><a href="#topic+get_codelist">get_codelist</a>()</code>,
<code><a href="#topic+sp_add_codelist">sp_add_codelist</a>()</code>,
<code><a href="#topic+sp_get_codelist">sp_get_codelist</a>()</code>,
<code><a href="#topic+sp_get_table">sp_get_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
budget_2018 &lt;- sp_get_dataset("finm", 2018)
budget_mid2018 &lt;- sp_get_dataset("finm", 2018, 6)

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_get_dataset_doc'>Get dataset documentation</h2><span id='topic+sp_get_dataset_doc'></span>

<h3>Description</h3>

<p>Downloads XLS file with dataset documentation, or opens link to this file in browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_dataset_doc(dataset_id, dest_dir = NULL, download = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_dataset_doc_+3A_dataset_id">dataset_id</code></td>
<td>
<p>dataset ID. See <code>sp_datasets</code>.</p>
</td></tr>
<tr><td><code id="sp_get_dataset_doc_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
<tr><td><code id="sp_get_dataset_doc_+3A_download">download</code></td>
<td>
<p>Whether to download (the default) or open link in browser.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(invisible) path to file if <code>download = TRUE</code>, URL otherwise
</p>


<h3>See Also</h3>

<p>Other Utilities: 
<code><a href="#topic+sp_get_codelist_viewer">sp_get_codelist_viewer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sp_get_dataset_doc("finm")

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_get_dataset_url'>Get URL of dataset</h2><span id='topic+sp_get_dataset_url'></span>

<h3>Description</h3>

<p>Useful for workflows where you want to keep track of URLs and intermediate files, rather
than having all steps performed by one function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_dataset_url(dataset_id, year, month = 12, check_if_exists = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_dataset_url_+3A_dataset_id">dataset_id</code></td>
<td>
<p>Dataset ID. See <code>id</code> column in <code>sp_datasets</code> for a list of available codelists.</p>
</td></tr>
<tr><td><code id="sp_get_dataset_url_+3A_year">year</code></td>
<td>
<p>year, numeric vector of length &lt;= 1 (can take multiple values), 2015-2019 for some datasets, 2010-2020 for others.
(see Details for how to work with data across time periods.)</p>
</td></tr>
<tr><td><code id="sp_get_dataset_url_+3A_month">month</code></td>
<td>
<p>month, numeric vector of length &lt;= 1 (can take multiple values). Must be between 1 and 12. Defaults to 12.
(see Details for how to work with data across time periods.)</p>
</td></tr>
<tr><td><code id="sp_get_dataset_url_+3A_check_if_exists">check_if_exists</code></td>
<td>
<p>Whether to check that the URL works (HTTP 200).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of length one, containing a URL
</p>


<h3>See Also</h3>

<p>Other Detailed workflow: 
<code><a href="#topic+sp_get_codelist_file">sp_get_codelist_file</a>()</code>,
<code><a href="#topic+sp_get_codelist_url">sp_get_codelist_url</a>()</code>,
<code><a href="#topic+sp_get_table_file">sp_get_table_file</a>()</code>,
<code><a href="#topic+sp_load_codelist">sp_load_codelist</a>()</code>,
<code><a href="#topic+sp_load_table">sp_load_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sp_get_dataset_url("finm", 2018, 6, FALSE)
sp_get_dataset_url("finm", 2029, 6, FALSE) # works but returns invalid URL
if(FALSE) sp_get_dataset_url("finm_wrong", 2018, 6, TRUE) # fails, invalid dataset ID
if(FALSE) sp_get_dataset_url("finm", 2022, 6, TRUE) # fails, invalid time period

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_get_table'>Get a statnipokladna table</h2><span id='topic+sp_get_table'></span>

<h3>Description</h3>

<p>Cleans and loads a table. If needed, a dataset containing the table is downloaded.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_table(
  table_id,
  year,
  month = 12,
  ico = NULL,
  redownload = FALSE,
  dest_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_table_+3A_table_id">table_id</code></td>
<td>
<p>A table ID. See <code>id</code> column in <code>sp_tables</code> for a list of available tables</p>
</td></tr>
<tr><td><code id="sp_get_table_+3A_year">year</code></td>
<td>
<p>year, numeric, 2015-2019 for some datasets, 2010-2020 for others.
Can be a vector of length &gt; 1 (see Details for how to work with data across time periods.).</p>
</td></tr>
<tr><td><code id="sp_get_table_+3A_month">month</code></td>
<td>
<p>month, numeric. Must be 3, 6, 9 or 12. Can be a vector of length &gt; 1 (see details).</p>
</td></tr>
<tr><td><code id="sp_get_table_+3A_ico">ico</code></td>
<td>
<p>ID(s) of org to return, character of length one or more. If unset, returns all orgs. ID not checked for correctness/existence. See <a href="https://monitor.statnipokladna.cz/datovy-katalog/prohlizec-ciselniku/ucjed">https://monitor.statnipokladna.cz/datovy-katalog/prohlizec-ciselniku/ucjed</a> to look up ID of any org in the dataset.</p>
</td></tr>
<tr><td><code id="sp_get_table_+3A_redownload">redownload</code></td>
<td>
<p>Redownload even if recent file present? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="sp_get_table_+3A_dest_dir">dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>statnipokladna.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data is loaded from files downloaded automatically by <code>sp_get_dataset()</code>;
files persist in a temporary directory per session.
</p>
<p>How data for different time periods is exported differs by dataset.
This has significant implications for how you get to usable full-year numbers or time series in different tables.
See <code>vignette("statnipokladna")</code> for details on this.
</p>
<p>Data is processed in the following way:
</p>

<ul>
<li><p> all columns are given names that are human-readable and facilitato add codelists
</p>
</li>
<li><p> ICO (org. IDs) are normalised as in some datasets they are padded with leading zeros
</p>
</li>
<li><p> a vykaz_date, vykaz_year and vykaz_month columns are created to identify the time period
</p>
</li>
<li><p> value columns are transformed into numeric
</p>
</li>
<li><p> other columns are left as character to avoid losing information
</p>
</li></ul>



<h4>Correspondence between input and output columns</h4>

<p><strong>Shared/multiple tables</strong></p>

<table>
<tr>
 <td style="text-align: left;">
   Original </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> English </td><td style="text-align: left;"> Czech </td><td style="text-align: left;"> Note </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_VTAB </td><td style="text-align: left;"> vtab </td><td style="text-align: left;"> table number </td><td style="text-align: left;"> tabulka </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_UCJED </td><td style="text-align: left;"> ucjed </td><td style="text-align: left;"> accounting unit </td><td style="text-align: left;"> účetní jednotka </td><td style="text-align: left;"> NB: ucjed != ico; the two codes are different; ICO is universal, ucjed is specific to SP, and both denote an organisation. </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_VYKAZ </td><td style="text-align: left;"> vykaz </td><td style="text-align: left;"> report number </td><td style="text-align: left;"> výkaz </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZFUNDS_CT </td><td style="text-align: left;"> finmisto </td><td style="text-align: left;"> accounting centre </td><td style="text-align: left;"> finanční místo </td><td style="text-align: left;"> either kapitola or "organizační složka státu" (core state org) </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_ICO </td><td style="text-align: left;"> ico </td><td style="text-align: left;"> org ID </td><td style="text-align: left;"> IČO </td><td style="text-align: left;"> see ucjed </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_FUND </td><td style="text-align: left;"> zdroj </td><td style="text-align: left;"> funding source </td><td style="text-align: left;"> zdroj </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_KRAJ </td><td style="text-align: left;"> kraj </td><td style="text-align: left;"> region </td><td style="text-align: left;"> kraj </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_NUTS </td><td style="text-align: left;"> nuts </td><td style="text-align: left;"> NUTS code </td><td style="text-align: left;"> NUTS kód </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_LAU </td><td style="text-align: left;"> okres </td><td style="text-align: left;"> NUTS code of LAU1 unit </td><td style="text-align: left;"> LAU1 kód </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p><strong>Tables <code style="white-space: pre;">&#8288;budget-*&#8288;</code></strong></p>

<table>
<tr>
 <td style="text-align: left;">
   Original </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> English </td><td style="text-align: left;"> Czech </td><td style="text-align: left;"> Note </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZCMMT_ITM </td><td style="text-align: left;"> polozka </td><td style="text-align: left;"> item/line </td><td style="text-align: left;"> položka (druhové členění) </td><td style="text-align: left;"> NB: polozka != polvyk </td>
</tr>
<tr>
 <td style="text-align: left;">
   0FM_AREA </td><td style="text-align: left;"> kapitola </td><td style="text-align: left;"> chapter </td><td style="text-align: left;"> kapitola </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   0CI_TYPE </td><td style="text-align: left;"> polozka_type </td><td style="text-align: left;"> item/line type </td><td style="text-align: left;"> typ položky </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   FUNC0AREA </td><td style="text-align: left;"> paragraf </td><td style="text-align: left;"> sector line </td><td style="text-align: left;"> paragraf (odvětvové členění) </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_PVS </td><td style="text-align: left;"> pvs </td><td style="text-align: left;"> programme code </td><td style="text-align: left;"> programové výdaje státu </td><td style="text-align: left;"> post-2014 </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_EDS </td><td style="text-align: left;"> eds </td><td style="text-align: left;"> subsidy and proprty evidence </td><td style="text-align: left;"> Evidenční dotační systém / správa majetku ve vlastnictví státu </td><td style="text-align: left;"> post-2014, No codelist - perhaps external via https://www.edssmvs.cz/DocumentsList.aspx?Agenda=CEIS </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_UCRIS </td><td style="text-align: left;"> ucris </td><td style="text-align: left;"> purpose </td><td style="text-align: left;"> Účel </td><td style="text-align: left;"> post-2014, no codelist found </td>
</tr>
<tr>
 <td style="text-align: left;">
   0FUNC_AREA </td><td style="text-align: left;"> paragraf </td><td style="text-align: left;"> sector line </td><td style="text-align: left;"> paragraf (odvětvové členění) </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_ROZSCH </td><td style="text-align: left;"> budget_adopted </td><td style="text-align: left;"> budget as originally adopted </td><td style="text-align: left;"> schválený rozpočet </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_ROZPZM </td><td style="text-align: left;"> budget_amended </td><td style="text-align: left;"> budget as amended throughout the year </td><td style="text-align: left;"> rozpočet po změnách </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_KROZP </td><td style="text-align: left;"> budget_final </td><td style="text-align: left;"> final budget </td><td style="text-align: left;"> konečný rozpočet </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_OBLIG </td><td style="text-align: left;"> budget_oblig </td><td style="text-align: left;"> ? </td><td style="text-align: left;"> obligo </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_ROZKZ </td><td style="text-align: left;"> budget_spending </td><td style="text-align: left;"> actual spending </td><td style="text-align: left;"> skutečnost </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p><strong>Table <code>budget-indicators</code></strong>
</p>
<p>| Original | Output | English | Czech | Note |
| ZC_PSUK | psuk | budgetary indicator | Závazný a průřezový indikátor | Use <code>psuk</code> codelist |
</p>
<p>**Table <code>budget-central-old-subsidies</code> **
</p>
<p>| Original | Output | English | Czech | Note |
| ZC_ZREUZ | ucelznak | Purpose identifier | Účelový znak | - |
</p>
<p>**Table <code>budget-central-old-purpose-grants</code> **
</p>
<p>| Original | Output | English | Czech | Note |
| 0PU_MEASURE | rozprog | Budgetary programme | Rozpočtový program | - |
</p>
<p><strong>Tables <code style="white-space: pre;">&#8288;balance-sheet*&#8288;</code></strong></p>

<table>
<tr>
 <td style="text-align: left;">
   Original </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> English </td><td style="text-align: left;"> Czech </td><td style="text-align: left;"> Note </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_POLVYK </td><td style="text-align: left;"> polvyk </td><td style="text-align: left;"> item/line </td><td style="text-align: left;"> položka výkazu </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZC_SYNUC </td><td style="text-align: left;"> synuc </td><td style="text-align: left;"> synthetic account </td><td style="text-align: left;"> syntetický účet </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_MONET </td><td style="text-align: left;"> previous_net </td><td style="text-align: left;"> net, previous period </td><td style="text-align: left;"> netto minulé období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_AOBTTO </td><td style="text-align: left;"> current_gross </td><td style="text-align: left;"> gross, current period </td><td style="text-align: left;"> brutto běžné období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_AONET </td><td style="text-align: left;"> current_net </td><td style="text-align: left;"> net, current period </td><td style="text-align: left;"> netto běžné období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_AOKORR </td><td style="text-align: left;"> current_correction </td><td style="text-align: left;"> correction, current period </td><td style="text-align: left;"> korekce běžné období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p><strong>Tables <code style="white-space: pre;">&#8288;profit-and-loss-*&#8288;</code></strong></p>

<table>
<tr>
 <td style="text-align: left;">
   Original </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> English </td><td style="text-align: left;"> Czech </td><td style="text-align: left;"> Note </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_HLCIN </td><td style="text-align: left;"> previous_core </td><td style="text-align: left;"> core activity, previous period </td><td style="text-align: left;"> hlavní činnost, minulé období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_HOSCIN </td><td style="text-align: left;"> previous_economic </td><td style="text-align: left;"> economic activity, previous period </td><td style="text-align: left;"> hospodářská činnost, minulé období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_HLCIBO </td><td style="text-align: left;"> current_core </td><td style="text-align: left;"> core activity, current period </td><td style="text-align: left;"> hlavní činnost, běžné období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_HCINBO </td><td style="text-align: left;"> current_economic </td><td style="text-align: left;"> economic activity, current period </td><td style="text-align: left;"> hospodářská činnost, běžné období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p><strong>Table <code style="white-space: pre;">&#8288;changes-in-equity&#8288;</code></strong></p>

<table>
<tr>
 <td style="text-align: left;">
   Original </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> English </td><td style="text-align: left;"> Czech </td><td style="text-align: left;"> Note </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_STAVP </td><td style="text-align: left;"> before </td><td style="text-align: left;"> previous period </td><td style="text-align: left;"> stav minulé období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_STAVPO </td><td style="text-align: left;"> after </td><td style="text-align: left;"> current period </td><td style="text-align: left;"> stav běžné období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_ZVYS </td><td style="text-align: left;"> increase </td><td style="text-align: left;"> increase </td><td style="text-align: left;"> zvýšení stavu </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_SNIZ </td><td style="text-align: left;"> decrease </td><td style="text-align: left;"> decrease </td><td style="text-align: left;"> snížení stavu </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p><strong>Table <code>cash-flow</code></strong></p>

<table>
<tr>
 <td style="text-align: left;">
   Original </td><td style="text-align: left;"> Output </td><td style="text-align: left;"> English </td><td style="text-align: left;"> Czech </td><td style="text-align: left;"> Note </td>
</tr>
<tr>
 <td style="text-align: left;">
   ZU_BEZUO </td><td style="text-align: left;"> current </td><td style="text-align: left;"> current period </td><td style="text-align: left;"> běžné účetní období </td><td style="text-align: left;"> - </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h3>Value</h3>

<p>a <a href="tibble.html#topic+tibble-package">tibble</a>; see Details for key to the columns
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code><a href="#topic+add_codelist">add_codelist</a>()</code>,
<code><a href="#topic+get_codelist">get_codelist</a>()</code>,
<code><a href="#topic+sp_add_codelist">sp_add_codelist</a>()</code>,
<code><a href="#topic+sp_get_codelist">sp_get_codelist</a>()</code>,
<code><a href="#topic+sp_get_dataset">sp_get_dataset</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
allorgs_2018 &lt;- sp_get_table("budget-central", 2018)
allorgs_mid2018 &lt;- sp_get_table("budget-central", 2018, 6)
oneorg_multiyear &lt;- sp_get_table("budget-central", 2017:2018, 12, ico = "00064581")
oneorg_multihalfyears &lt;- sp_get_table("budget-central", 2017:2018, c(6, 12), ico = "00064581")

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_get_table_file'>Get path to a CSV file containing a table.</h2><span id='topic+sp_get_table_file'></span>

<h3>Description</h3>

<p>This is normally called inside <code>sp_get_table()</code> but can be used separately if
finer-grained control of intermediate outputs is needed, e.g. in a <code>{targets}</code> workflow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_get_table_file(table_id, dataset_path, reunzip = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_get_table_file_+3A_table_id">table_id</code></td>
<td>
<p>Table ID; see <code>id</code> column in <code>sp_tables</code> for a list of available codelists.</p>
</td></tr>
<tr><td><code id="sp_get_table_file_+3A_dataset_path">dataset_path</code></td>
<td>
<p>Path to downloaded dataset, as output by <code>sp_get_dataset()</code></p>
</td></tr>
<tr><td><code id="sp_get_table_file_+3A_reunzip">reunzip</code></td>
<td>
<p>Whether to overwrite existing CSV files by unzipping the archive downlaoded by <code>sp_get_dataset()</code>. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of length one - a path.
</p>


<h3>See Also</h3>

<p>Other Detailed workflow: 
<code><a href="#topic+sp_get_codelist_file">sp_get_codelist_file</a>()</code>,
<code><a href="#topic+sp_get_codelist_url">sp_get_codelist_url</a>()</code>,
<code><a href="#topic+sp_get_dataset_url">sp_get_dataset_url</a>()</code>,
<code><a href="#topic+sp_load_codelist">sp_load_codelist</a>()</code>,
<code><a href="#topic+sp_load_table">sp_load_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ds &lt;- sp_get_dataset("rozv", 2018, 12)
sp_get_table_file("balance-sheet", ds)

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_load_codelist'>Load codelist into a tibble from XML file</h2><span id='topic+sp_load_codelist'></span>

<h3>Description</h3>

<p>This is normally called inside <code>sp_get_codelist()</code> but can be used separately if
finer-grained control of intermediate outputs is needed, e.g. in a <code>{targets}</code> workflow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_load_codelist(path, n = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_load_codelist_+3A_path">path</code></td>
<td>
<p>Path to a file as returned by <code>sp_get_codelist_file()</code></p>
</td></tr>
<tr><td><code id="sp_load_codelist_+3A_n">n</code></td>
<td>
<p>Number of rows to return. Default (NULL) means all. Useful for quickly inspecting a codelist.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="tibble.html#topic+tibble-package">tibble</a>
</p>


<h3>See Also</h3>

<p>Other Detailed workflow: 
<code><a href="#topic+sp_get_codelist_file">sp_get_codelist_file</a>()</code>,
<code><a href="#topic+sp_get_codelist_url">sp_get_codelist_url</a>()</code>,
<code><a href="#topic+sp_get_dataset_url">sp_get_dataset_url</a>()</code>,
<code><a href="#topic+sp_get_table_file">sp_get_table_file</a>()</code>,
<code><a href="#topic+sp_load_table">sp_load_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cf &lt;- sp_get_codelist_file("druhuj")
sp_load_codelist(cf)

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_load_table'>Load a statnipokladna table from a CSV file</h2><span id='topic+sp_load_table'></span>

<h3>Description</h3>

<p>This is normally called inside <code>sp_get_table()</code> but can be used separately if
finer-grained control of intermediate outputs is needed, e.g. in a <code>{targets}</code> workflow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_load_table(path, ico = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sp_load_table_+3A_path">path</code></td>
<td>
<p>path to a CSV file, as output by <code>sp_get_table_file()</code>.</p>
</td></tr>
<tr><td><code id="sp_load_table_+3A_ico">ico</code></td>
<td>
<p>Organisation ID to filter by, if supplied.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <a href="tibble.html#topic+tibble-package">tibble</a>. See help for <code>sp_get_table()</code> for a key to the columns.
</p>


<h3>See Also</h3>

<p>Other Detailed workflow: 
<code><a href="#topic+sp_get_codelist_file">sp_get_codelist_file</a>()</code>,
<code><a href="#topic+sp_get_codelist_url">sp_get_codelist_url</a>()</code>,
<code><a href="#topic+sp_get_dataset_url">sp_get_dataset_url</a>()</code>,
<code><a href="#topic+sp_get_table_file">sp_get_table_file</a>()</code>,
<code><a href="#topic+sp_load_codelist">sp_load_codelist</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ds &lt;- sp_get_dataset("rozv", 2018, 12)
tf &lt;- sp_get_table_file("balance-sheet", ds)
sp_load_table(tf)

## End(Not run)
</code></pre>

<hr>
<h2 id='sp_tables'>List of available tables (PARTIAL)</h2><span id='topic+sp_tables'></span>

<h3>Description</h3>

<p>Contains IDs and names of all available tables that can be
retrieved by sp_get_table. Look inside the XLS documentation for each dataset at <a href="https://monitor.statnipokladna.cz/datovy-katalog/transakcni-data">https://monitor.statnipokladna.cz/datovy-katalog/transakcni-data</a>
to see more detailed descriptions. Note that tables do not correspond to the tabulka/<code>vtab</code> attribute of the tables, they represent files inside datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sp_tables
</code></pre>


<h3>Format</h3>

<p>A data frame with 2 rows and 4 variables:
</p>

<dl>
<dt><code>id</code></dt><dd><p>character Table id, used as <code>table_id</code> argument to <code>sp_get_table</code>.</p>
</dd>
<dt><code>dataset_id</code></dt><dd><p>integer Table number.</p>
</dd>
<dt><code>czech_name</code></dt><dd><p>character Czech name of the table.</p>
</dd>
<dt><code>note</code></dt><dd><p>character Note.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other Lists of available entities: 
<code><a href="#topic+sp_codelists">sp_codelists</a></code>,
<code><a href="#topic+sp_datasets">sp_datasets</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package spup</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {spup}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_distribution'><p>Simple check if distribution provided in defineUM() belongs</p>
to a list of supported distributions.</a></li>
<li><a href='#check_if_Spatial'><p>Simple check if class of provided object is Spatial</p></a></li>
<li><a href='#crm2vgm'><p>Converting a spatial correlogram model to a variogram model</p></a></li>
<li><a href='#defineMUM'><p>Define Mulivariate Uncertainty Model</p></a></li>
<li><a href='#defineUM'><p>Define an uncertainty model for a single variable</p></a></li>
<li><a href='#dem30m'><p>Digital Elevation Model of Zlatibor region in Serbia.</p></a></li>
<li><a href='#dem30m_sd'><p>Standard deviation of Digital Elevation Model of Zlatibor region in Serbia.</p></a></li>
<li><a href='#distribution_sampling'><p>Sampling from a given distribution</p></a></li>
<li><a href='#distribution_sampling_raster'><p>Sampling from a given distribution</p></a></li>
<li><a href='#executable'><p>Wrapper function for calling executables in R</p></a></li>
<li><a href='#find_strata'><p>Sampling from a given distribution</p></a></li>
<li><a href='#genSample'><p>Methods for generating Monte Carlo realizations from uncertain inputs.</p></a></li>
<li><a href='#genSample.JointNumericSpatial'><p>Generating Monte Carlo sample from a list of uncertain objects that are cross-correlated.</p></a></li>
<li><a href='#genSample.JointScalar'><p>Generating sample from cross-correlated variables described by a scalar.</p></a></li>
<li><a href='#genSample.MarginalCategoricalSpatial'><p>Generating Monte Carlo sample from an uncertain object of a class</p>
'MarginalCategoricalSpatial'</a></li>
<li><a href='#genSample.MarginalNumericSpatial'><p>Generating Monte Carlo sample from an uncertain object of a class</p>
'MarginalNumericSpatial'</a></li>
<li><a href='#genSample.MarginalScalar'><p>Generating Monte Carlo sample from an uncertain object of a class</p>
'MarginalScalar'</a></li>
<li><a href='#list_depth'><p>Function to find the level of list nesting</p></a></li>
<li><a href='#makeCRM'><p>Defining a spatial correlogram model</p></a></li>
<li><a href='#mean_MC_sgdf'><p>mean() function for MC sample saved in a SpatialGridDataFrame</p></a></li>
<li><a href='#OC'><p>Soil organic carbon content in a south area (33 x 33km) of lake Alaotra in Madagascar.</p></a></li>
<li><a href='#OC_sd'><p>Standard deviation of soil organic carbon content in a south area (33 x 33km) of lake Alaotra in Madagascar.</p></a></li>
<li><a href='#plot.SpatialCorrelogramModel'><p>Plots correlogram model</p></a></li>
<li><a href='#print.template'><p>Print method for class &quot;template.&quot;</p></a></li>
<li><a href='#propagate'><p>Propagation function</p></a></li>
<li><a href='#quantile_MC_sgdf'><p>quantile() function for MC sample saved in a SpatialGridDataFrame</p></a></li>
<li><a href='#render'><p>Rendering template</p></a></li>
<li><a href='#render.character'><p>Render method for &quot;character&quot; class.</p></a></li>
<li><a href='#render.template'><p>Render method for &quot;template&quot; class.</p></a></li>
<li><a href='#sd_MC_sgdf'><p>sd() function for MC sample saved in a SpatialGridDataFrame</p></a></li>
<li><a href='#spup&ndash;pkg'><p>spup - Package for spatial uncertainty propagation</p></a></li>
<li><a href='#stratsamp'><p>Stratified sampling for spatial variables</p></a></li>
<li><a href='#template'><p>Constructor for class &quot;template&quot;.</p></a></li>
<li><a href='#TN'><p>Soil total nitrogen content in a south area (33 x 33km) of lake Alaotra in Madagascar.</p></a></li>
<li><a href='#TN_sd'><p>Standard deviation of soil total nitrogen content in a south area (33 x 33km) of lake Alaotra in Madagascar.</p></a></li>
<li><a href='#var_MC_sgdf'><p>var() function for MC sample saved in a SpatialGridDataFrame</p></a></li>
<li><a href='#varcov'><p>Calculate variance covariance matrix</p></a></li>
<li><a href='#vgm2crm'><p>Convert vgm to crm</p></a></li>
<li><a href='#woon'><p>Neighbourhood in Rotterdam.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Spatial Uncertainty Propagation Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4-0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-09</td>
</tr>
<tr>
<td>Description:</td>
<td>Uncertainty propagation analysis in spatial environmental  modelling following methodology
         described in Heuvelink et al. (2007) &lt;<a href="https://doi.org/10.1080%2F13658810601063951">doi:10.1080/13658810601063951</a>&gt; 
         and Brown and Heuvelink (2007) &lt;<a href="https://doi.org/10.1016%2Fj.cageo.2006.06.015">doi:10.1016/j.cageo.2006.06.015</a>&gt;. The package provides functions
         for examining the uncertainty propagation starting from input data and model parameters,
         via the environmental model onto model outputs. The functions include uncertainty model specification,
         stochastic simulation and propagation of uncertainty using Monte Carlo (MC) techniques.
         Uncertain variables are described by probability distributions. Both numerical and categorical data types are handled.
         Spatial auto-correlation within an attribute and cross-correlation between attributes is accommodated for.
         The MC realizations may be used as input to the environmental models called from R, or externally.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, gstat, magrittr, methods, mvtnorm, purrr, raster,
whisker</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, GGally, gridExtra, knitr, png, readr, sp, testthat, sf</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-10 13:55:09 UTC; ks</td>
</tr>
<tr>
<td>Author:</td>
<td>Kasia Sawicka [aut, cre],
  Gerard Heuvelink [aut],
  Dennis Walvoort [aut],
  Stefan van Dam [ctb],
  Damiano Luzzi [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kasia Sawicka &lt;katwic55@ceh.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-10 14:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_distribution'>Simple check if distribution provided in defineUM() belongs
to a list of supported distributions.</h2><span id='topic+check_distribution'></span>

<h3>Description</h3>

<p>Simple check if distribution provided in defineUM() belongs
to a list of supported distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_distribution(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_distribution_+3A_object">object</code></td>
<td>
<p>Any R object. In defineUM() it is used to
examine if selected distribution is in supported list of ditributions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>

<hr>
<h2 id='check_if_Spatial'>Simple check if class of provided object is Spatial</h2><span id='topic+check_if_Spatial'></span>

<h3>Description</h3>

<p>Simple check if class of provided object is Spatial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_if_Spatial(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_if_Spatial_+3A_object">object</code></td>
<td>
<p>Any R object. In defineUM() it is used to
examine what type of data are delt with.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>

<hr>
<h2 id='crm2vgm'>Converting a spatial correlogram model to a variogram model</h2><span id='topic+crm2vgm'></span>

<h3>Description</h3>

<p>Used internally in genSample() in case of sampling by unconditional gaussian
simulation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crm2vgm(crm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crm2vgm_+3A_crm">crm</code></td>
<td>
<p>object of a class &quot;SpatialCorrelogramModel&quot;, output of makeCRM().</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To assure equalfinality the sill parameter for spatially correlated random
residuals is fixed and standardized to 1.
</p>


<h3>Value</h3>

<p>An object of a class &quot;variogramModel&quot; extending data.frame.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Gerard Heuvelink
</p>

<hr>
<h2 id='defineMUM'>Define Mulivariate Uncertainty Model</h2><span id='topic+defineMUM'></span>

<h3>Description</h3>

<p>Function that uses output of defineUM() to define joint probability distribution
for uncertain cross-correlated variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>defineMUM(UMlist, cormatrix, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="defineMUM_+3A_umlist">UMlist</code></td>
<td>
<p>a list of uncertain objects creaded in defineUM().</p>
</td></tr>
<tr><td><code id="defineMUM_+3A_cormatrix">cormatrix</code></td>
<td>
<p>matrix of cross-correlations.</p>
</td></tr>
<tr><td><code id="defineMUM_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The cormatrix is a square matrix of correlations,
dimensionally equal to the number of objects, symmetrical 
(transposed must be the same as original), diagonal must all be 1
all values must be &lt;-1, +1&gt;) and all eigenvalues must be &gt; 0.
The marginal Um objects must have provided id.
</p>


<h3>Value</h3>

<p>Object of a class &quot;JointNumericSpatial&quot; or &quot;JointScalar&quot;.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)

data(OC, OC_sd, TN, TN_sd)
OC_crm &lt;- makeCRM(acf0 = 0.6, range = 5000, model = "Sph")
OC_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(OC, OC_sd), crm = OC_crm, id = "OC")
class(OC_UM)
TN_crm &lt;- makeCRM(acf0 = 0.4, range = 5000, model = "Sph")
TN_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(TN, TN_sd), crm = TN_crm, id = "TN")
class(TN_UM)

soil_prop &lt;- list(OC_UM,TN_UM)
mySpatialMUM &lt;- defineMUM(soil_prop, matrix(c(1,0.7,0.7,1), nrow=2, ncol=2))
class(mySpatialMUM)

# scalar
scalarUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                     distr_param = c(1, 2), id="Var1")                
scalarUM2 &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                      distr_param = c(3, 2), id="Var2")
scalarUM3 &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                      distr_param = c(10, 2.5), id="Var3")                
myMUM &lt;- defineMUM(UMlist = list(scalarUM, scalarUM2, scalarUM3), 
               matrix(c(1,0.7,0.2,0.7,1,0.5,0.2,0.5,1), nrow = 3, ncol = 3))
class(myMUM)

</code></pre>

<hr>
<h2 id='defineUM'>Define an uncertainty model for a single variable</h2><span id='topic+defineUM'></span>

<h3>Description</h3>

<p>Function that allows to define marginal uncertainty distributions 
for model inputs and subsequent Monte Carlo analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>defineUM(
  uncertain = TRUE,
  distribution = NULL,
  distr_param = NULL,
  crm = NULL,
  categories = NULL,
  cat_prob = NULL,
  id = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="defineUM_+3A_uncertain">uncertain</code></td>
<td>
<p>&quot;TRUE&quot; or &quot;FALSE&quot;, determines if specification of
Uncertainty Model (UM) is needed. Currently not in use, but provided for 
furture implementation of contributions analysis.</p>
</td></tr>
<tr><td><code id="defineUM_+3A_distribution">distribution</code></td>
<td>
<p>a string that specifies which distribution to sample from. Only in use 
for continuos or discrete numerical variables. See Details for a list of supported distributions.</p>
</td></tr>
<tr><td><code id="defineUM_+3A_distr_param">distr_param</code></td>
<td>
<p>a vector or a list with distribution parameters. For example,
for the normal distribution in case of a spatial variable this must be a map
of means and a map of standard deviations. Only in use for continuous or discrete numerical variables.</p>
</td></tr>
<tr><td><code id="defineUM_+3A_crm">crm</code></td>
<td>
<p>a correlogram model, object of a class &quot;SpatialCorrelogramModel&quot;, output of makecormodel().
Can only be specified for numerical variables.</p>
</td></tr>
<tr><td><code id="defineUM_+3A_categories">categories</code></td>
<td>
<p>a vector of categories. Only in use for categorical
(e.g. saved as character) or discrete numerical variables.</p>
</td></tr>
<tr><td><code id="defineUM_+3A_cat_prob">cat_prob</code></td>
<td>
<p>spatial data frame or raster stack; a list of probabilities for the vector of categories.
Number of columns in the data frame cannot be smaller than number of categories. 
Only in use for categorical (e.g. saved as character) or discrete numerical variables.</p>
</td></tr>
<tr><td><code id="defineUM_+3A_id">id</code></td>
<td>
<p>identifier of the variable; only in use if the UM defined here is to be used in defineUM()
to construct a joint UM for numerical variables.</p>
</td></tr>
<tr><td><code id="defineUM_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the uncertain object is a spatial object, the distribution parameters
or the probabilities for categories must be provided by means of maps,
for example if a spatial variable has a normal distribution, a map of means
and standard deviations must be provided. 
If crm is provided and spatial correlation between the residuals is assumed
only the normal distribution for residuals is allowed.
</p>
<p>If no spatial correlations between residuals is assumed, allowed
distributions for marginal uncertainty models are listed in Table 1.
</p>
<p>Table 1 Parametric probability models allowed in defineUM(). 
For more details look up ?distribution.
</p>

<table>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> <strong>Distribution</strong> </td><td style="text-align: left;"> <strong>Syntax</strong> </td><td style="text-align: left;"> <strong>Parameters</strong> 
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> beta               </td><td style="text-align: left;"> "beta"    </td><td style="text-align: left;"> <code class="reqn">shape1</code>, <code class="reqn">shape2</code>, <code class="reqn">ncp</code> 
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> binomial           </td><td style="text-align: left;"> "binom"   </td><td style="text-align: left;"> <code class="reqn">size</code>, <code class="reqn">prob</code>                
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> Cauchy             </td><td style="text-align: left;"> "cauchy"  </td><td style="text-align: left;"> <code class="reqn">location</code>, <code class="reqn">scale</code>             
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> chi-squared        </td><td style="text-align: left;"> "chisq"   </td><td style="text-align: left;"> <code class="reqn">df</code>, <code class="reqn">ncp</code>                   
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> exponential        </td><td style="text-align: left;"> "exp"     </td><td style="text-align: left;"> <code class="reqn">rate</code>                             
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> gamma              </td><td style="text-align: left;"> "gamma"   </td><td style="text-align: left;"> <code class="reqn">shape</code>, <code class="reqn">rate</code>                
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> geometric          </td><td style="text-align: left;"> "geom"    </td><td style="text-align: left;"> <code class="reqn">prob</code>                             
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> hypergeometric     </td><td style="text-align: left;"> "hyper"   </td><td style="text-align: left;"> <code class="reqn">m</code>, <code class="reqn">n</code>, <code class="reqn">k</code>             
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> log-normal         </td><td style="text-align: left;"> "lnorm"   </td><td style="text-align: left;"> <code class="reqn">meanlog</code>, <code class="reqn">sdlog</code>            
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> negative binomial  </td><td style="text-align: left;"> "nbinom"  </td><td style="text-align: left;"> <code class="reqn">size</code>, <code class="reqn">prob</code>, <code class="reqn">mu</code>    
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> normal             </td><td style="text-align: left;"> "norm"    </td><td style="text-align: left;"> <code class="reqn">mean</code>, <code class="reqn">sd</code> 
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> Poisson            </td><td style="text-align: left;"> "pois"    </td><td style="text-align: left;"> <code class="reqn">lambda</code>
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> Student's          </td><td style="text-align: left;"> "t"       </td><td style="text-align: left;"> <code class="reqn">df</code>, <code class="reqn">ncp</code> 
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> uniform            </td><td style="text-align: left;"> "unif"    </td><td style="text-align: left;"> <code class="reqn">min</code>, <code class="reqn">max</code> 
</td>
</tr>
<tr>
 <td style="text-align: right;"> </td><td style="text-align: left;"> Weibull            </td><td style="text-align: left;"> "weibull" </td><td style="text-align: left;"> <code class="reqn">shape</code>, <code class="reqn">scale</code> 
</td>
</tr>

</table>



<h3>Value</h3>

<p>Object of a class &quot;MarginalXxx&quot; that includes all necessary information for creating realizations of
the uncertain variable. If provided arguments are: type of the distribution and corresponding parameters,
and corresponding parameters are spatial objects - an object of class &quot;MarginalNumericSpatial&quot;.
If provided arguments are: type of the distribution and corresponding parameters, and corresponding
parameters are non-spatial objects - an object of class &quot;MarginalNumericSpatial&quot;.
If provided arguments are: categories and probabilities, and probabilities are saved in a spatial object
- an object of class &quot;MarginalCategoricalSpatial&quot;. If provided arguments are: categories and probabilities,
and probabilities are saved in a non-spatial object - an object of class &quot;MarginalCategoricalDataFrame&quot;.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# define uncertainty model for spatial numerical variable
data(dem30m, dem30m_sd)
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
class(demUM)
                   
# define uncertainty model for spatial categorical variable
data(woon)
woonUM &lt;- defineUM(TRUE, categories = c(1,2,3), cat_prob = woon[, c(4:6)])
class(woonUM)

# define uncertainty model for a variable desribed by a scalar
scalarUM &lt;- defineUM(uncertain = TRUE, distribution = "gamma", distr_param = c(1,2))
class(scalarUM)

# define uncertainty model for two spatial cross-correlated variables
data(OC, OC_sd, TN, TN_sd)

OC_crm &lt;- makeCRM(acf0 = 0.6, range = 1000, model = "Sph")
OC_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(OC, OC_sd), crm = OC_crm, id = "OC")
class(OC_UM)

TN_crm &lt;- makeCRM(acf0 = 0.4, range = 1000, model = "Sph")
TN_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(TN, TN_sd), crm = TN_crm, id = "TN")
class(TN_UM)

</code></pre>

<hr>
<h2 id='dem30m'>Digital Elevation Model of Zlatibor region in Serbia.</h2><span id='topic+dem30m'></span>

<h3>Description</h3>

<p>A dataset containing the mean an example Digital Elevation Model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dem30m)
</code></pre>


<h3>Format</h3>

<p>a SpatialGridDataFrame with 15000 rows and 1 variable:
</p>

<dl>
<dt>Elevation</dt><dd><p>Digital Elevation Model, in meters</p>
</dd>
</dl>



<h3>Source</h3>

<p>The Zlatibor dataset was kindly provided by Prof. Branislav Bajat
from the University of Belgrade, Serbia.
</p>

<hr>
<h2 id='dem30m_sd'>Standard deviation of Digital Elevation Model of Zlatibor region in Serbia.</h2><span id='topic+dem30m_sd'></span>

<h3>Description</h3>

<p>A dataset containing the sd of an example Digital Elevation Model. 
It was calculated from dem30m using terrain funtion from raster package (opt = 'roughness').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dem30m_sd)
</code></pre>


<h3>Format</h3>

<p>a SpatialGridDataFrame with 15000 rows and 1 variable:
</p>

<dl>
<dt>Elevation_sd</dt><dd><p>Standard deviation of Digital Elevation Model, in meters</p>
</dd>
</dl>



<h3>Source</h3>

<p>The Zlatibor dataset was kindly provided by Prof. Branislav Bajat
from the University of Belgrade, Serbia.
</p>

<hr>
<h2 id='distribution_sampling'>Sampling from a given distribution</h2><span id='topic+distribution_sampling'></span>

<h3>Description</h3>

<p>Sampling from a given distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distribution_sampling(n, distribution, parameters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distribution_sampling_+3A_n">n</code></td>
<td>
<p>number of sampling runs</p>
</td></tr>
<tr><td><code id="distribution_sampling_+3A_distribution">distribution</code></td>
<td>
<p>A string describing selected distribution. The same as a part of
the string following the &quot;r&quot; in each random variate generation function in ?distributions.</p>
</td></tr>
<tr><td><code id="distribution_sampling_+3A_parameters">parameters</code></td>
<td>
<p>vector of parameters to pass to the random variate generation function after
number of observations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sample of random deviates.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>

<hr>
<h2 id='distribution_sampling_raster'>Sampling from a given distribution</h2><span id='topic+distribution_sampling_raster'></span>

<h3>Description</h3>

<p>Only used in samplemethod &quot;randomSampling&quot; for MarginalNumericSpatial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distribution_sampling_raster(distribution, parameters_stack)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distribution_sampling_raster_+3A_distribution">distribution</code></td>
<td>
<p>A string describing selected distribution. The same as a part of
the string following the &quot;r&quot; in each random variate generation function in ?distributions.</p>
</td></tr>
<tr><td><code id="distribution_sampling_raster_+3A_parameters_stack">parameters_stack</code></td>
<td>
<p>parameters to pass to the random variate generation function after
number of observations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sample of random deviates.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>

<hr>
<h2 id='executable'>Wrapper function for calling executables in R</h2><span id='topic+executable'></span>

<h3>Description</h3>

<p>Wrapper function for calling executables in R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>executable(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="executable_+3A_filename">filename</code></td>
<td>
<p>a path with a name to the .exe file to be wrapped here.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Executable output.
</p>


<h3>Author(s)</h3>

<p>Dennis Walvoort
</p>

<hr>
<h2 id='find_strata'>Sampling from a given distribution</h2><span id='topic+find_strata'></span>

<h3>Description</h3>

<p>Sampling from a given distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_strata(p, distribution, parameters, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_strata_+3A_p">p</code></td>
<td>
<p>a vector of quantiles.</p>
</td></tr>
<tr><td><code id="find_strata_+3A_distribution">distribution</code></td>
<td>
<p>a string indicating which distribution to sample from.
See ?defineUM() for Details.</p>
</td></tr>
<tr><td><code id="find_strata_+3A_parameters">parameters</code></td>
<td>
<p>parameters to pass to the appropriate sampling funtion, e.g.
mean and sd for &quot;norm&quot; distribution.</p>
</td></tr>
<tr><td><code id="find_strata_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Strata of the distribution defined by given quantiles.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Stefan van Dam
</p>

<hr>
<h2 id='genSample'>Methods for generating Monte Carlo realizations from uncertain inputs.</h2><span id='topic+genSample'></span>

<h3>Description</h3>

<p>Methods for classes: &quot;MarginalNumericSpatial&quot;, &quot;MarginalScalar&quot;, 
&quot;MarginalCategoricalSpatial&quot;, &quot;JointNumericSpatial&quot;, &quot;JointScalar&quot;.
Function that runs Monte Carlo simulations depending on the type of uncertain object.
Facilitates unconditional Gaussian simulation of errors for spatially
auto-correlated residuals, as well as random and stratified random sampling
if no spatial auto-correlation is included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genSample(
  UMobject,
  n,
  samplemethod,
  p = 0,
  asList = TRUE,
  debug.level = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genSample_+3A_umobject">UMobject</code></td>
<td>
<p>an uncertain object to sample from, output of defineUM() or defineMUM().</p>
</td></tr>
<tr><td><code id="genSample_+3A_n">n</code></td>
<td>
<p>integer, number of Monte Carlo realizations.</p>
</td></tr>
<tr><td><code id="genSample_+3A_samplemethod">samplemethod</code></td>
<td>
<p>a string, &quot;ugs&quot;, &quot;randomSampling&quot;, &quot;stratifiedSampling&quot;, 
&quot;lhs&quot; (&quot;lhs&quot; currently not in use).</p>
</td></tr>
<tr><td><code id="genSample_+3A_p">p</code></td>
<td>
<p>A vector of quantiles. Optional. Only required if sample method is &quot;stratifiedSampling&quot; or &quot;lhs&quot;.</p>
</td></tr>
<tr><td><code id="genSample_+3A_aslist">asList</code></td>
<td>
<p>logical. If asList = TRUE returns list of all samples as a list. 
If asList = FALSE returns samples in a format of distribution parameters in UMobject.</p>
</td></tr>
<tr><td><code id="genSample_+3A_debug.level">debug.level</code></td>
<td>
<p>integer; set gstat internal debug level, see below for useful values. 
If set to -1 (or any negative value), a progress counter is printed.</p>
</td></tr>
<tr><td><code id="genSample_+3A_...">...</code></td>
<td>
<p>Additional parameters that may be passed, e.g. in the &quot;ugs&quot; method. See examples.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sampling methods:
</p>
<p><strong>&quot;ugs&quot;</strong> Unconditional Gaussian simulation of spatially auto-correlated and/or
cross-correlated errors.
</p>
<p><strong>&quot;randomSampling&quot;</strong> Sampling multivariate distribution using eigenvalue decomposition
(based on 'mvtnorm' package).
</p>
<p><strong>&quot;stratifiedSampling&quot;</strong> Number of samples (n) must be dividable by the
number of quantiles to assure that each quantile is evenly represented.
</p>
<p><strong>&quot;lhs&quot;</strong> Not implemented yet. Sampling method for at least two uncertain inputs. The
uncertain.object is then a list of two or more. It uses a stratified sampling
method to generate inputs for the latin hypercube algorithm.
</p>
<p>NOTE. Version 1.3-1 includes bug fixing related to derivation of
cross-correlation matrix for multivariate uncertainty propagation analysis.
</p>


<h3>Value</h3>

<p>A Monte Carlo sample of the variables of interest. If asList = TRUE returns
list of all samples as lists.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Stefan van Dam, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)

### ------------------- "MarginalNumericSpatial" -------------------
# load data
data(dem30m, dem30m_sd)

# "ugs" method example
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
                   
# toy example
dem_sample &lt;- genSample(UMobject = demUM, n = 2, samplemethod = "ugs", nmax = 4, asList = FALSE)
str(dem_sample)
# any meaningful Monte Carlo analysis should have normally much larger number of runs               
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 100, samplemethod = "ugs", nmax = 20, asList = FALSE)
str(dem_sample)

## End(Not run)

# "startifiedSampling" method example
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", distr_param = c(dem30m, dem30m_sd))
# toy example
dem_sample &lt;- genSample(UMobject = demUM, n = 5, samplemethod = "stratifiedSampling", p = 0:5/5)
# any meaningful Monte Carlo analysis should have normally much larger number of runs
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 100, samplemethod = "stratifiedSampling", p = 0:5/5)
str(dem_sample)

## End(Not run)

# Examples with rasters
# (raster with auto-correlation)
data(OC, OC_sd)
OC_crm &lt;- makeCRM(acf0 = 0.6, range = 1000, model = "Sph")
OC_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(OC, OC_sd), crm = OC_crm, id = "OC")
class(OC_UM)
# toy example
some_sample &lt;- genSample(OC_UM, n = 2, "ugs", nmax = 4)
some_sample
# any meaningful Monte Carlo analysis should have normally much larger number of runs
## Not run: 
some_sample &lt;- genSample(OC_UM, n = 50, "ugs", nmax = 24)
some_sample

## End(Not run)


### ----------------------- "MarginalScalar" -----------------------
# example with normal distribution
scalarUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", distr_param = c(10, 1))
scalar_sample &lt;- genSample(scalarUM, n = 10, samplemethod = "randomSampling")


### ----------------- "MarginalCategoricalSpatial" -----------------
# load data
data(woon)
woonUM &lt;- defineUM(TRUE, categories = c(1,2,3), cat_prob = woon[, c(4:6)])
woon_sample &lt;- genSample(woonUM, 10, asList = FALSE)
class(woon_sample)
str(woon_sample@data)


### -------------------- "JointNumericSpatial" ----------------------
# load data
data(OC, OC_sd, TN, TN_sd)

# define marginal UMs
OC_crm &lt;- makeCRM(acf0 = 0.6, range = 1000, model = "Sph")
OC_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(OC, OC_sd), crm = OC_crm, id = "OC")
TN_crm &lt;- makeCRM(acf0 = 0.4, range = 1000, model = "Sph")
TN_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(TN, TN_sd), crm = TN_crm, id = "TN")

# define joint UM
soil_prop &lt;- list(OC_UM, TN_UM)
mySpatialMUM &lt;- defineMUM(soil_prop, matrix(c(1,0.7,0.7,1), nrow=2, ncol=2))
class(mySpatialMUM)

# sample - "ugs" method
# toy example
my_cross_sample &lt;- genSample(mySpatialMUM, n = 2, "ugs", nmax = 4, asList = TRUE)
class(my_cross_sample)
# any meaningful Monte Carlo analysis should have normally much larger number of runs
## Not run: 
my_cross_sample &lt;- genSample(mySpatialMUM, n = 100, "ugs", nmax = 24, asList = TRUE)
class(my_cross_sample)

## End(Not run)


### ------------------------- "JointScalar" ------------------------
scalarUM &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                     distr_param = c(1, 2), id="Var1")                
scalarUM2 &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                      distr_param = c(3, 2), id="Var2")
scalarUM3 &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                      distr_param = c(10, 2.5), id="Var3")                
myMUM &lt;- defineMUM(UMlist = list(scalarUM, scalarUM2, scalarUM3), 
               matrix(c(1,0.7,0.2,0.7,1,0.5,0.2,0.5,1), nrow = 3, ncol = 3))
my_sample &lt;- genSample(myMUM, n = 5, samplemethod = "randomSampling", asList = FALSE)
my_sample  



</code></pre>

<hr>
<h2 id='genSample.JointNumericSpatial'>Generating Monte Carlo sample from a list of uncertain objects that are cross-correlated.</h2><span id='topic+genSample.JointNumericSpatial'></span>

<h3>Description</h3>

<p>Uncertain objects are described by joint PDF or a list from independent objects. Sampling can be done
via three different sampling methods:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'JointNumericSpatial'
genSample(
  UMobject,
  n,
  samplemethod,
  p = 0,
  asList = TRUE,
  debug.level = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genSample.JointNumericSpatial_+3A_umobject">UMobject</code></td>
<td>
<p>object of a class JointNumericSpatial. Output of defineMUM().</p>
</td></tr>
<tr><td><code id="genSample.JointNumericSpatial_+3A_n">n</code></td>
<td>
<p>Integer. Number of Monte Carlo realizations.</p>
</td></tr>
<tr><td><code id="genSample.JointNumericSpatial_+3A_samplemethod">samplemethod</code></td>
<td>
<p>&quot;ugs&quot; for spatially cross-correlated errors, &quot;randomSampling&quot; for joint PDF of 
non-spatial variables, &quot;lhs&quot; if no correlation of errors is considered.</p>
</td></tr>
<tr><td><code id="genSample.JointNumericSpatial_+3A_p">p</code></td>
<td>
<p>A vector of quantiles. Optional. Only required if sample method is &quot;lhs&quot;.</p>
</td></tr>
<tr><td><code id="genSample.JointNumericSpatial_+3A_aslist">asList</code></td>
<td>
<p>Logical. If TRUE return sample in a form of a list, if FALSE returnsample in a format
of distribution parameters.</p>
</td></tr>
<tr><td><code id="genSample.JointNumericSpatial_+3A_debug.level">debug.level</code></td>
<td>
<p>integer; set gstat internal debug level, see below for useful values. 
If set to -1 (or any negative value), a progress counter is printed.</p>
</td></tr>
<tr><td><code id="genSample.JointNumericSpatial_+3A_...">...</code></td>
<td>
<p>Additional parameters that may be passed, e.g. in
the &quot;ugs&quot; method. See examples.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>&quot;ugs&quot;</strong> Unconditional gaussian simulation of spatially
cross-correlated errors.
</p>
<p><strong>&quot;randomSampling&quot;</strong> Sampling multivariate distribution using eigenvalue decomposition
(based on 'mvtnorm' package).
</p>
<p><strong>&quot;lhs&quot;</strong> Not implemented yet. Sampling method for at least two uncertain inputs. The
uncertain.object is then a list of two or more. It uses startified sampling
method to generate the inputs for the latin hypercude algorithm, hence number of samples (n)
must be dividable by the number of quantiles to assure each quantile is evenly represented.
</p>
<p>NOTE. Version 1.3-1 includes bug fixing related to derivation of
cross-correlation matrix for multivariate uncertainty propagation analysis.
</p>


<h3>Value</h3>

<p>A Monte Carlo sample of the variables of interest. If asList = TRUE returns
list of all samples as lists.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Stefan van Dam, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
# "ugs" method example
# load data
data(OC, OC_sd, TN, TN_sd)

# Test for SpatialGridDataFrames
OC &lt;- as(OC, 'SpatialGridDataFrame')
TN &lt;- as(TN, 'SpatialGridDataFrame')
OC_sd &lt;- as(OC_sd, 'SpatialGridDataFrame')
TN_sd &lt;- as(TN_sd, 'SpatialGridDataFrame')

# define marginal UMs
OC_crm &lt;- makeCRM(acf0 = 0.6, range = 5000, model = "Sph")
OC_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(OC, OC_sd), crm = OC_crm, id = "OC")
TN_crm &lt;- makeCRM(acf0 = 0.4, range = 5000, model = "Sph")
TN_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(TN, TN_sd), crm = TN_crm, id = "TN")

# define joint UM
soil_prop &lt;- list(OC_UM, TN_UM)
mySpatialMUM &lt;- defineMUM(soil_prop, matrix(c(1,0.7,0.7,1), nrow=2, ncol=2))

# sample - "ugs" method
# toy example
my_cross_sample &lt;- genSample(mySpatialMUM, n = 3, "ugs", nmax = 24, asList = TRUE)
class(my_cross_sample)
## Not run: 
my_cross_sample &lt;- genSample(mySpatialMUM, n = 50, "ugs", nmax = 24, asList = TRUE)
class(my_cross_sample)

## End(Not run)



</code></pre>

<hr>
<h2 id='genSample.JointScalar'>Generating sample from cross-correlated variables described by a scalar.</h2><span id='topic+genSample.JointScalar'></span>

<h3>Description</h3>

<p>Generating sample from cross-correlated variables described by a scalar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'JointScalar'
genSample(UMobject, n, samplemethod, p = 0, asList = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genSample.JointScalar_+3A_umobject">UMobject</code></td>
<td>
<p>object of a class JointScalar created using defineMUM.R</p>
</td></tr>
<tr><td><code id="genSample.JointScalar_+3A_n">n</code></td>
<td>
<p>integer; number of Monte Carlo runs</p>
</td></tr>
<tr><td><code id="genSample.JointScalar_+3A_samplemethod">samplemethod</code></td>
<td>
<p>&quot;randomSampling&quot; or &quot;lhs&quot;.</p>
</td></tr>
<tr><td><code id="genSample.JointScalar_+3A_p">p</code></td>
<td>
<p>a vector of quantiles. Optional. Only required if sample method is &quot;lhs&quot;.</p>
</td></tr>
<tr><td><code id="genSample.JointScalar_+3A_aslist">asList</code></td>
<td>
<p>logical. If asList = TRUE returns list of all samples as a list. 
If asList = FALSE returns samples in a format of distribution parameters in UMobject.</p>
</td></tr>
<tr><td><code id="genSample.JointScalar_+3A_...">...</code></td>
<td>
<p>Additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Monte Carlo sample of cross-correlated scalar variables.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
scalarUM &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                     distr_param = c(1, 2), id="Var1")                
scalarUM2 &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                      distr_param = c(3, 2), id="Var2")
scalarUM3 &lt;- defineUM(uncertain = TRUE, distribution = "norm",
                      distr_param = c(10, 2.5), id="Var3")                
myMUM &lt;- defineMUM(UMlist = list(scalarUM, scalarUM2, scalarUM3), 
               matrix(c(1,0.7,0.2,0.7,1,0.5,0.2,0.5,1), nrow = 3, ncol = 3))
my_sample &lt;- genSample(myMUM, n = 10, samplemethod = "randomSampling", asList = FALSE)
my_sample  

</code></pre>

<hr>
<h2 id='genSample.MarginalCategoricalSpatial'>Generating Monte Carlo sample from an uncertain object of a class 
'MarginalCategoricalSpatial'</h2><span id='topic+genSample.MarginalCategoricalSpatial'></span>

<h3>Description</h3>

<p>Generating Monte Carlo sample from an uncertain object of a class 
'MarginalCategoricalSpatial'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MarginalCategoricalSpatial'
genSample(UMobject, n, samplemethod, p = 0, asList = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genSample.MarginalCategoricalSpatial_+3A_umobject">UMobject</code></td>
<td>
<p>uncertain object defined using defineUM().</p>
</td></tr>
<tr><td><code id="genSample.MarginalCategoricalSpatial_+3A_n">n</code></td>
<td>
<p>Integer. Number of Monte Carlo realizations.</p>
</td></tr>
<tr><td><code id="genSample.MarginalCategoricalSpatial_+3A_samplemethod">samplemethod</code></td>
<td>
<p>not in use for categorical variables.</p>
</td></tr>
<tr><td><code id="genSample.MarginalCategoricalSpatial_+3A_p">p</code></td>
<td>
<p>not in use for categorical variables.</p>
</td></tr>
<tr><td><code id="genSample.MarginalCategoricalSpatial_+3A_aslist">asList</code></td>
<td>
<p>logical. If asList = TRUE returns list of all samples as a list. 
If asList = FALSE returns samples in a format of distribution parameters in UMobject.</p>
</td></tr>
<tr><td><code id="genSample.MarginalCategoricalSpatial_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Monte Carlo sample of a categorical spatial variable.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
# load data
data(woon)
woonUM &lt;- defineUM(TRUE, categories = c(1,2,3), cat_prob = woon[, c(4:6)])
woon_sample &lt;- genSample(woonUM, 10, asList = FALSE)
class(woon_sample)
str(woon_sample@data)
woon_sample &lt;- genSample(woonUM, 10)
class(woon_sample)

# analyse probability of having snow
# load data
data(dem30m, dem30m_sd)

# generate dummy probabilities for categories "snow" and "no snow"
dem30m$snow_prob &lt;- NA
dem30m$snow_prob[dem30m$Elevation &gt; 1000] &lt;- 0.75
dem30m$snow_prob[dem30m$Elevation &lt;= 1000] &lt;- 0.25
dem30m$no_snow_prob &lt;- 1 - dem30m$snow_prob
summary(dem30m@data)
snowUM &lt;- defineUM(uncertain = TRUE, categories = c("snow", "no snow"), cat_prob = dem30m[2:3])
class(snowUM)
snow_sample &lt;- genSample(snowUM, 10, asList = FALSE)
head(snow_sample@data)

</code></pre>

<hr>
<h2 id='genSample.MarginalNumericSpatial'>Generating Monte Carlo sample from an uncertain object of a class 
'MarginalNumericSpatial'</h2><span id='topic+genSample.MarginalNumericSpatial'></span>

<h3>Description</h3>

<p>Function that runs Monte Carlo simulations depending on the type of
uncertain object. Facilitates unconditional gausian simulation of errors for
spatially auto-correlated residulas, and random sampling, stratified
sampling if no spatial auto-correlation is included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MarginalNumericSpatial'
genSample(
  UMobject,
  n,
  samplemethod,
  p = 0,
  asList = TRUE,
  debug.level = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genSample.MarginalNumericSpatial_+3A_umobject">UMobject</code></td>
<td>
<p>uncertain object defined using defineUM().</p>
</td></tr>
<tr><td><code id="genSample.MarginalNumericSpatial_+3A_n">n</code></td>
<td>
<p>Integer. Number of Monte Carlo realizations.</p>
</td></tr>
<tr><td><code id="genSample.MarginalNumericSpatial_+3A_samplemethod">samplemethod</code></td>
<td>
<p>&quot;ugs&quot; for spatially correlated errors, &quot;randomSampling&quot; and
&quot;stratifiedSampling&quot; if no spatial correlation of errors is
considered.</p>
</td></tr>
<tr><td><code id="genSample.MarginalNumericSpatial_+3A_p">p</code></td>
<td>
<p>A vector of quantiles. Optional. Only required if sample method is
&quot;stratifiedSampling&quot; or &quot;lhs&quot;.</p>
</td></tr>
<tr><td><code id="genSample.MarginalNumericSpatial_+3A_aslist">asList</code></td>
<td>
<p>logical. If asList = TRUE returns list of all samples as a list. 
If asList = FALSE returns samples in a format of distribution parameters in UMobject.</p>
</td></tr>
<tr><td><code id="genSample.MarginalNumericSpatial_+3A_debug.level">debug.level</code></td>
<td>
<p>integer; set gstat internal debug level, see below for useful values. 
If set to -1 (or any negative value), a progress counter is printed.</p>
</td></tr>
<tr><td><code id="genSample.MarginalNumericSpatial_+3A_...">...</code></td>
<td>
<p>Additional parameters that may be passed, e.g. in
the &quot;ugs&quot; method. See examples.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>&quot;ugs&quot;</strong> Unconditional gaussian simulation of spatially
auto-correlated errors.
</p>
<p><strong>&quot;stratifiedSampling&quot;</strong> Number of samples (n) must be dividable by the
number of quantiles to assure each quantile is evenly represented.
</p>
<p><strong>&quot;lhs&quot;</strong> Sampling method for at least two uncertain inputs. The
uncertain.object is then a list of two or more. It uses startified sampling
method to generate the inputs for the latin hypercude algorithm, hence the p
is restricted as above.
</p>


<h3>Value</h3>

<p>A Monte Carlo sample of uncertain input of a class of distribution
parameters.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Stefan van Dam, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
# load data
data(dem30m, dem30m_sd)

# "ugs" method example
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
                   
# toy example
dem_sample &lt;- genSample(UMobject = demUM, n = 2, samplemethod = "ugs", nmax = 6, asList = FALSE)
str(dem_sample)               
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 50, samplemethod = "ugs", nmax = 20, asList = FALSE)
str(dem_sample)

## End(Not run)


# "startifiedSampling" method example
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", distr_param = c(dem30m, dem30m_sd))
# toy example
dem_sample &lt;- genSample(UMobject = demUM, n = 5, samplemethod = "stratifiedSampling", p = 0:5/5)
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 50, samplemethod = "stratifiedSampling", p = 0:5/5)
str(dem_sample)

## End(Not run)

# Examples with rasters
# (raster with auto-correlation)
data(OC, OC_sd)
OC_crm &lt;- makeCRM(acf0 = 0.6, range = 1000, model = "Sph")
OC_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(OC, OC_sd), crm = OC_crm, id = "OC")
class(OC_UM)
# toy example
some_sample &lt;- genSample(OC_UM, n = 3, "ugs", nmax=6)
some_sample
## Not run: 
some_sample &lt;- genSample(OC_UM, n = 50, "ugs", nmax=20)
some_sample

## End(Not run)

</code></pre>

<hr>
<h2 id='genSample.MarginalScalar'>Generating Monte Carlo sample from an uncertain object of a class 
'MarginalScalar'</h2><span id='topic+genSample.MarginalScalar'></span>

<h3>Description</h3>

<p>Function that runs Monte Carlo simulations for MarginalScalar class objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MarginalScalar'
genSample(UMobject, n, samplemethod, p = 0, asList = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genSample.MarginalScalar_+3A_umobject">UMobject</code></td>
<td>
<p>uncertain object defined using defineUM().</p>
</td></tr>
<tr><td><code id="genSample.MarginalScalar_+3A_n">n</code></td>
<td>
<p>Integer. Number of Monte Carlo realizations.</p>
</td></tr>
<tr><td><code id="genSample.MarginalScalar_+3A_samplemethod">samplemethod</code></td>
<td>
<p>&quot;randomSampling&quot; or &quot;stratifiedSampling&quot;.</p>
</td></tr>
<tr><td><code id="genSample.MarginalScalar_+3A_p">p</code></td>
<td>
<p>A vector of quantiles. Optional. Only required if sample method is
&quot;stratifiedSampling&quot;.</p>
</td></tr>
<tr><td><code id="genSample.MarginalScalar_+3A_aslist">asList</code></td>
<td>
<p>logical. If asList = TRUE returns list of all samples as a list. 
If asList = FALSE returns samples in a format of distribution parameters in UMobject.</p>
</td></tr>
<tr><td><code id="genSample.MarginalScalar_+3A_...">...</code></td>
<td>
<p>Additional parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>&quot;stratifiedSampling&quot;</strong> Number of samples (n) must be dividable by the
number of quantiles to assure each quantile is evenly represented.
</p>


<h3>Value</h3>

<p>A Monte Carlo sample of uncertain input of a class of distribution
parameters.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
# Example 1
scalarUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", distr_param = c(10, 1))
scalar_sample &lt;- genSample(scalarUM, n = 10, samplemethod = "randomSampling")

# Example 2
scalarUM &lt;- defineUM(uncertain = TRUE, distribution = "beta", distr_param = c(10, 1, 2))
scalar_sample &lt;- genSample(scalarUM, n = 10, samplemethod = "stratifiedSampling", p = 0:5/5)

</code></pre>

<hr>
<h2 id='list_depth'>Function to find the level of list nesting</h2><span id='topic+list_depth'></span>

<h3>Description</h3>

<p>Function to find the level of list nesting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_depth(List)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_depth_+3A_list">List</code></td>
<td>
<p>an object of class 'list'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an integer; level of list nesting
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
a &lt;- list(1,2)
list_depth(a)

a &lt;- list(list(1, 2), 3)
list_depth(a)

</code></pre>

<hr>
<h2 id='makeCRM'>Defining a spatial correlogram model</h2><span id='topic+makeCRM'></span><span id='topic+makecrm'></span>

<h3>Description</h3>

<p>Function that generates a spatial correlogram model, an object of class &quot;SpatialCorrelogramModel&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeCRM(
  acf0 = 1,
  range = NA,
  model,
  anis,
  kappa = 0.5,
  add.to,
  covtable,
  Err = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeCRM_+3A_acf0">acf0</code></td>
<td>
<p>Aurocorrelation function value at distance near 0. Default is 1. Must
fall in interval [0,1].</p>
</td></tr>
<tr><td><code id="makeCRM_+3A_range">range</code></td>
<td>
<p>Range parameter of the correlogram model component.</p>
</td></tr>
<tr><td><code id="makeCRM_+3A_model">model</code></td>
<td>
<p>Model type, e.g. &quot;Exp&quot;, &quot;Sph&quot;, &quot;Gau&quot;, &quot;Mat&quot; that vgm() accepts. See ?gstat::vgm() for more #' details.</p>
</td></tr>
<tr><td><code id="makeCRM_+3A_anis">anis</code></td>
<td>
<p>Anisotropy parameters. See ?gstat::vgm() for more details.</p>
</td></tr>
<tr><td><code id="makeCRM_+3A_kappa">kappa</code></td>
<td>
<p>Smoothness parameter for the Matern class of variogram models. See ?gstat::vgm() for more #' details.</p>
</td></tr>
<tr><td><code id="makeCRM_+3A_add.to">add.to</code></td>
<td>
<p>See ?gstat::vgm() (currently not in use)</p>
</td></tr>
<tr><td><code id="makeCRM_+3A_covtable">covtable</code></td>
<td>
<p>See ?gstat::vgm() (currently not in use)</p>
</td></tr>
<tr><td><code id="makeCRM_+3A_err">Err</code></td>
<td>
<p>Numeric. See ?gstat::vgm() for more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the spatial variables allowed autocorrelation functions are listed in Table 4.1 of the
gstat manual. Spatial correlation assumes stationarity, i.e. correlation depends only on the separation
distance between points in space. Anisotropy is allowed. No nested
models are allowed in the current version.
</p>


<h3>Value</h3>

<p>An object of a class &quot;SpatialCorrelogramModel&quot;. This is a list collating provided arguments.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mycormodel &lt;- makeCRM(acf0 = 0.8, range = 300, model = "Exp")
str(mycormodel)

</code></pre>

<hr>
<h2 id='mean_MC_sgdf'>mean() function for MC sample saved in a SpatialGridDataFrame</h2><span id='topic+mean_MC_sgdf'></span>

<h3>Description</h3>

<p>Calculates mean from MC realizations for each location in a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mean_MC_sgdf(realizations, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mean_MC_sgdf_+3A_realizations">realizations</code></td>
<td>
<p>MC sample saved in SpatialGridDataFrame.</p>
</td></tr>
<tr><td><code id="mean_MC_sgdf_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SpatialGridDataFrame; a mean of a MC sample.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
# load data
data(dem30m, dem30m_sd)
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
dem_sample &lt;- genSample(UMobject = demUM, n = 50, samplemethod = "ugs", 
                        nmax = 20, asList = FALSE)
dem_mean &lt;- mean_MC_sgdf(dem_sample)

</code></pre>

<hr>
<h2 id='OC'>Soil organic carbon content in a south area (33 x 33km) of lake Alaotra in Madagascar.</h2><span id='topic+OC'></span>

<h3>Description</h3>

<p>A dataset containing the mean of soil OC content from 0-30 cm layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(OC)
</code></pre>


<h3>Format</h3>

<p>a RasterLayer with dimensions  : 134, 135, 18090  (nrow, ncol, ncell), 
resolution  : 250, 250  (x, y).
</p>


<h3>Source</h3>

<p>ISRIC soilgrid information. HENGL, T., MENDES DE JESUS,
J., HEUVELINK, G. B. M., RUIPEREZ GONZALEZ, M., KILIBARDA, M.,
BLAGOTIC, A., SHANGGUAN, W., WRIGHT, M. N., GENG, X., BAUER-MARSCHALLINGER, B.,
GUEVARA, M. A., VARGAS, R., MACMILLAN, R. A., BATJES, N. H., LEENAARS, J. G. B.,
RIBEIRO, E., WHEELER, I., MANTEL, S. &amp; KEMPEN, B. 2017. SoilGrids250m:
Global gridded soil information based on machine learning. PLOS ONE, 12, e0169748.
</p>

<hr>
<h2 id='OC_sd'>Standard deviation of soil organic carbon content in a south area (33 x 33km) of lake Alaotra in Madagascar.</h2><span id='topic+OC_sd'></span>

<h3>Description</h3>

<p>A dataset containing the standard deviation of soil OC content from 0-30 cm layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(OC_sd)
</code></pre>


<h3>Format</h3>

<p>a RasterLayer with dimensions  : 134, 135, 18090  (nrow, ncol, ncell), 
resolution  : 250, 250  (x, y).
</p>


<h3>Source</h3>

<p>ISRIC soilgrid information. HENGL, T., MENDES DE JESUS,
J., HEUVELINK, G. B. M., RUIPEREZ GONZALEZ, M., KILIBARDA, M.,
BLAGOTIC, A., SHANGGUAN, W., WRIGHT, M. N., GENG, X., BAUER-MARSCHALLINGER, B.,
GUEVARA, M. A., VARGAS, R., MACMILLAN, R. A., BATJES, N. H., LEENAARS, J. G. B.,
RIBEIRO, E., WHEELER, I., MANTEL, S. &amp; KEMPEN, B. 2017. SoilGrids250m:
Global gridded soil information based on machine learning. PLOS ONE, 12, e0169748.
</p>

<hr>
<h2 id='plot.SpatialCorrelogramModel'>Plots correlogram model</h2><span id='topic+plot.SpatialCorrelogramModel'></span>

<h3>Description</h3>

<p>Plots correlogram model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SpatialCorrelogramModel'
plot(
  x,
  distance = 1,
  ylim = c(0, 1),
  xlab = "Distance",
  ylab = "Correlation",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.SpatialCorrelogramModel_+3A_x">x</code></td>
<td>
<p>Object of class &quot;SpatialCorrelogramModel&quot; as created by makeCRM().</p>
</td></tr>
<tr><td><code id="plot.SpatialCorrelogramModel_+3A_distance">distance</code></td>
<td>
<p>minimum distance between locations (unit should correspond
with the unit of the range parameter in makeCRM()).</p>
</td></tr>
<tr><td><code id="plot.SpatialCorrelogramModel_+3A_ylim">ylim</code></td>
<td>
<p>the y limits of the plot.</p>
</td></tr>
<tr><td><code id="plot.SpatialCorrelogramModel_+3A_xlab">xlab</code></td>
<td>
<p>a title for the x axis.</p>
</td></tr>
<tr><td><code id="plot.SpatialCorrelogramModel_+3A_ylab">ylab</code></td>
<td>
<p>a title for the y axis.</p>
</td></tr>
<tr><td><code id="plot.SpatialCorrelogramModel_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>plot of correlogram model
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka, Gerard Heuvelink
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mycormodel &lt;- makeCRM(acf0 = 0.8, range = 300, model = "Exp")
plot(mycormodel, distance = 1)

</code></pre>

<hr>
<h2 id='print.template'>Print method for class &quot;template.&quot;</h2><span id='topic+print.template'></span>

<h3>Description</h3>

<p>Print method for class &quot;template.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'template'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.template_+3A_x">x</code></td>
<td>
<p>Object of class &quot;template&quot;.</p>
</td></tr>
<tr><td><code id="print.template_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Template file content.
</p>


<h3>Author(s)</h3>

<p>Dennis Walvoort
</p>

<hr>
<h2 id='propagate'>Propagation function</h2><span id='topic+propagate'></span>

<h3>Description</h3>

<p>A function that runs a model repeatedly with Monte Carlo samples
of uncertain inputs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>propagate(realizations, model, n, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="propagate_+3A_realizations">realizations</code></td>
<td>
<p>a list where each element is a single Monte Carlo realizations 
if only one parameter/variable is considered uncertain; a list of such lists if more
than one parameter/variable is considered uncertain.</p>
</td></tr>
<tr><td><code id="propagate_+3A_model">model</code></td>
<td>
<p>model that is written as a function in R.</p>
</td></tr>
<tr><td><code id="propagate_+3A_n">n</code></td>
<td>
<p>number of Monte Carlo Runs.</p>
</td></tr>
<tr><td><code id="propagate_+3A_...">...</code></td>
<td>
<p>any further arguments that the model takes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Model output Monte Carlo realizations.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
## continuous spatial data example with a single variable
# load data
data(dem30m, dem30m_sd)

# Slope model 
Slope &lt;- function(DEM, ...) {
  require(raster)
  require(purrr)
  demraster &lt;- 
    DEM %&gt;%
    raster()
  demraster %&gt;%
    terrain(opt = 'slope', ...) %&gt;%
    as("SpatialGridDataFrame")
}
 
# uncertainty propagation
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
# toy example
dem_sample &lt;- genSample(UMobject = demUM, n = 3, samplemethod = "ugs", nmax = 20)
slope_sample &lt;- propagate(dem_sample, model = Slope, n = 3)
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 50, samplemethod = "ugs", nmax = 20)
slope_sample &lt;- propagate(dem_sample, model = Slope, n = 50)

## End(Not run)

## categorical spatial data example
# load data
data(woon)

# tax model
tax &lt;- function(building_Function) { 
  building_Function$tax2pay &lt;- NA
  building_Function$tax2pay[building_Function$Function == 1] &lt;- 1000
  building_Function$tax2pay[building_Function$Function == 2] &lt;- 10000
  building_Function$tax2pay[building_Function$Function == 3] &lt;- 10
  total_tax &lt;- sum(building_Function$tax2pay)
  total_tax
}

# uncertainty propagation
woonUM &lt;- defineUM(TRUE, categories = c(1,2,3), cat_prob = woon[, c(4:6)])
woon_sample &lt;- genSample(woonUM, 10)
class(woon_sample)
tax # the model takes SpatialGridDataFrame with a column called "Function"
for (i in 1:10) names(woon_sample[[i]]) &lt;- "Function"
tax_uncert &lt;- propagate(realizations = woon_sample, n = 10, model = tax)
tax_uncert &lt;- unlist(tax_uncert)
summary(tax_uncert)

## cross-correlated example
# load data
data(OC, OC_sd, TN, TN_sd)

# C/N model
C_N_model_raster &lt;- function(OC, TN) {
  OC/TN
}

# define marginal UMs
OC_crm &lt;- makeCRM(acf0 = 0.6, range = 1000, model = "Sph")
OC_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(OC, OC_sd), crm = OC_crm, id = "OC")
TN_crm &lt;- makeCRM(acf0 = 0.4, range = 1000, model = "Sph")
TN_UM &lt;- defineUM(TRUE, distribution = "norm", distr_param = c(TN, TN_sd), crm = TN_crm, id = "TN")

# define joint UM
mySpatialMUM &lt;- defineMUM(list(OC_UM, TN_UM), matrix(c(1,0.7,0.7,1), nrow=2, ncol=2))

# sample - "ugs" method
# toy example
my_cross_sample &lt;- genSample(mySpatialMUM, n = 3, "ugs", nmax = 24)
class(my_cross_sample)
# run propagation
CN_sample &lt;- propagate(realizations = my_cross_sample, model = C_N_model_raster, n = 3)
CN_sample
## Not run: 
my_cross_sample &lt;- genSample(mySpatialMUM, 50, "ugs", nmax = 24)
class(my_cross_sample)
# run propagation
CN_sample &lt;- propagate(realizations = my_cross_sample, model = C_N_model_raster, n = 50)
CN_sample

## End(Not run)

</code></pre>

<hr>
<h2 id='quantile_MC_sgdf'>quantile() function for MC sample saved in a SpatialGridDataFrame</h2><span id='topic+quantile_MC_sgdf'></span>

<h3>Description</h3>

<p>Calculates mean from MC realizations for each location in a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quantile_MC_sgdf(realizations, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="quantile_MC_sgdf_+3A_realizations">realizations</code></td>
<td>
<p>MC sample saved in SpatialGridDataFrame.</p>
</td></tr>
<tr><td><code id="quantile_MC_sgdf_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SpatialGridDataFrame; quantiles of a MC sample
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
data(dem30m, dem30m_sd)
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 50, samplemethod = "ugs",
                        nmax = 20, asList = FALSE)
dem_quantile &lt;- quantile_MC_sgdf(dem_sample, probs = c(0.1, 0.9))

## End(Not run)

</code></pre>

<hr>
<h2 id='render'>Rendering template</h2><span id='topic+render'></span>

<h3>Description</h3>

<p>Rendering is the process of replacing the tags in moustaches by text.
For this, we provide a set of render-methods. See the 'whisker' package
(or https://mustache.github.io) for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_+3A_x">x</code></td>
<td>
<p>an object of class &quot;character&quot; or &quot;template&quot;.</p>
</td></tr>
<tr><td><code id="render_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rendered character template or a file on disk.
</p>


<h3>Author(s)</h3>

<p>Dennis Walvoort
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
require(magrittr)
require(whisker)
# render character string
my_template &lt;- "Hello {{name}}. How are you doing?"
my_template %&gt;% 
  render(name = "Winnie the Pooh")

# render table      
my_template &lt;- c(
     "| x | y |",
     "|---|---|",
     "{{#MY_TABLE}}",
     "| {{X}} | {{Y}} |",
     "{{/MY_TABLE}}")
my_table &lt;- data.frame(X = 1:5, Y = letters[1:5])  
my_table
my_template %&gt;% 
render(MY_TABLE = unname(rowSplit(my_table))) %&gt;%
cat

</code></pre>

<hr>
<h2 id='render.character'>Render method for &quot;character&quot; class.</h2><span id='topic+render.character'></span>

<h3>Description</h3>

<p>Rendering is the process of replacing the tags in moustaches by text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'character'
render(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render.character_+3A_x">x</code></td>
<td>
<p>an object of class &quot;character&quot;.</p>
</td></tr>
<tr><td><code id="render.character_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rendered character template.
</p>


<h3>Author(s)</h3>

<p>Dennis Walvoort
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
require(magrittr)
require(whisker)
# render character string
my_template &lt;- "Hello {{name}}. How are you doing?"
my_template %&gt;% 
  render(name = "Winnie the Pooh")

# render table      
my_template &lt;- c(
     "| x | y |",
     "|---|---|",
     "{{#MY_TABLE}}",
     "| {{X}} | {{Y}} |",
     "{{/MY_TABLE}}")
my_table &lt;- data.frame(X = 1:5, Y = letters[1:5])  
my_table
my_template %&gt;% 
render(MY_TABLE = unname(rowSplit(my_table))) %&gt;%
cat
  
</code></pre>

<hr>
<h2 id='render.template'>Render method for &quot;template&quot; class.</h2><span id='topic+render.template'></span>

<h3>Description</h3>

<p>Rendering is the process of replacing the tags in moustaches by text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'template'
render(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render.template_+3A_x">x</code></td>
<td>
<p>an object of class &quot;template&quot;, a model input file with additional
extension &quot;.template&quot;.</p>
</td></tr>
<tr><td><code id="render.template_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rendered template file.
</p>


<h3>Author(s)</h3>

<p>Dennis Walvoort
</p>

<hr>
<h2 id='sd_MC_sgdf'>sd() function for MC sample saved in a SpatialGridDataFrame</h2><span id='topic+sd_MC_sgdf'></span>

<h3>Description</h3>

<p>Calculates sd from MC realizations for each location in a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_MC_sgdf(realizations, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sd_MC_sgdf_+3A_realizations">realizations</code></td>
<td>
<p>MC sample saved in a SpatialGridDataFrame.</p>
</td></tr>
<tr><td><code id="sd_MC_sgdf_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SpatialGridDataFrame; a sd of a MC sample.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
data(dem30m, dem30m_sd)
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 50, samplemethod = "ugs",
                        nmax = 20, asList = FALSE)
dem_sample_sd &lt;- sd_MC_sgdf(dem_sample)

## End(Not run)

</code></pre>

<hr>
<h2 id='spup+26ndash+3Bpkg'>spup - Package for spatial uncertainty propagation</h2><span id='topic+spup--pkg'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Facilitates uncertainty propagation analysis
using Monte Carlo methods. In particular, provides functions
that allow to do uncertainty analysis with spatial variables/models.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>

<hr>
<h2 id='stratsamp'>Stratified sampling for spatial variables</h2><span id='topic+stratsamp'></span>

<h3>Description</h3>

<p>Stratified sampling for spatial variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stratsamp(n, distribution, parameters, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stratsamp_+3A_n">n</code></td>
<td>
<p>sample size per stratum.</p>
</td></tr>
<tr><td><code id="stratsamp_+3A_distribution">distribution</code></td>
<td>
<p>a string, distribution type to sample from.</p>
</td></tr>
<tr><td><code id="stratsamp_+3A_parameters">parameters</code></td>
<td>
<p>given distribution parameters.</p>
</td></tr>
<tr><td><code id="stratsamp_+3A_p">p</code></td>
<td>
<p>a vector of quantiles.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sample of spatial variable. Matrix with n rows and length(p)-1 columns.
</p>


<h3>Author(s)</h3>

<p>Stefan van Dam, Kasia Sawicka
</p>

<hr>
<h2 id='template'>Constructor for class &quot;template&quot;.</h2><span id='topic+template'></span>

<h3>Description</h3>

<p>Class that stores all templates with model inputs. The aim of this class is to: 1. organise model input files;
2. perform some checks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>template(filenames)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="template_+3A_filenames">filenames</code></td>
<td>
<p>a string, a name of the model input file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A template is a model input file with: 1. the additional extension '.template'. 
2. input that needs to be modified is replaced by mustache-style tags.
</p>


<h3>Value</h3>

<p>An object of a class &quot;template&quot;.
</p>


<h3>Author(s)</h3>

<p>Dennis Walvoort
</p>

<hr>
<h2 id='TN'>Soil total nitrogen content in a south area (33 x 33km) of lake Alaotra in Madagascar.</h2><span id='topic+TN'></span>

<h3>Description</h3>

<p>A dataset containing the mean of soil TN content from 0-30 cm layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(TN)
</code></pre>


<h3>Format</h3>

<p>a RasterLayer with dimensions  : 134, 135, 18090  (nrow, ncol, ncell), 
resolution  : 250, 250  (x, y).
</p>


<h3>Source</h3>

<p>ISRIC soilgrid information. HENGL, T., MENDES DE JESUS,
J., HEUVELINK, G. B. M., RUIPEREZ GONZALEZ, M., KILIBARDA, M.,
BLAGOTIC, A., SHANGGUAN, W., WRIGHT, M. N., GENG, X., BAUER-MARSCHALLINGER, B.,
GUEVARA, M. A., VARGAS, R., MACMILLAN, R. A., BATJES, N. H., LEENAARS, J. G. B.,
RIBEIRO, E., WHEELER, I., MANTEL, S. &amp; KEMPEN, B. 2017. SoilGrids250m:
Global gridded soil information based on machine learning. PLOS ONE, 12, e0169748.
</p>

<hr>
<h2 id='TN_sd'>Standard deviation of soil total nitrogen content in a south area (33 x 33km) of lake Alaotra in Madagascar.</h2><span id='topic+TN_sd'></span>

<h3>Description</h3>

<p>A dataset containing the standard deviation of soil TN content from 0-30 cm layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(TN_sd)
</code></pre>


<h3>Format</h3>

<p>a RasterLayer with dimensions  : 134, 135, 18090  (nrow, ncol, ncell), 
resolution  : 250, 250  (x, y).
</p>


<h3>Source</h3>

<p>ISRIC soilgrid information. HENGL, T., MENDES DE JESUS,
J., HEUVELINK, G. B. M., RUIPEREZ GONZALEZ, M., KILIBARDA, M.,
BLAGOTIC, A., SHANGGUAN, W., WRIGHT, M. N., GENG, X., BAUER-MARSCHALLINGER, B.,
GUEVARA, M. A., VARGAS, R., MACMILLAN, R. A., BATJES, N. H., LEENAARS, J. G. B.,
RIBEIRO, E., WHEELER, I., MANTEL, S. &amp; KEMPEN, B. 2017. SoilGrids250m:
Global gridded soil information based on machine learning. PLOS ONE, 12, e0169748.
</p>

<hr>
<h2 id='var_MC_sgdf'>var() function for MC sample saved in a SpatialGridDataFrame</h2><span id='topic+var_MC_sgdf'></span>

<h3>Description</h3>

<p>Calculates var from MC realizations for each location in a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var_MC_sgdf(realizations, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_MC_sgdf_+3A_realizations">realizations</code></td>
<td>
<p>MC sample saved in SpatialGridDataFrame.</p>
</td></tr>
<tr><td><code id="var_MC_sgdf_+3A_...">...</code></td>
<td>
<p>additional parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SpatialGridDataFrame; a variance of a MC sample.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(12345)
data(dem30m, dem30m_sd)
dem_crm &lt;- makeCRM(acf0 = 0.78, range = 321, model = "Exp")
demUM &lt;- defineUM(uncertain = TRUE, distribution = "norm", 
                   distr_param = c(dem30m, dem30m_sd), crm = dem_crm)
## Not run: 
dem_sample &lt;- genSample(UMobject = demUM, n = 50, samplemethod = "ugs",
                        nmax = 20, asList = FALSE)
dem_var &lt;- var_MC_sgdf(dem_sample)

## End(Not run)

</code></pre>

<hr>
<h2 id='varcov'>Calculate variance covariance matrix</h2><span id='topic+varcov'></span>

<h3>Description</h3>

<p>Calculate variance covariance matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>varcov(sd_vector, cormat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="varcov_+3A_sd_vector">sd_vector</code></td>
<td>
<p>vector of standard deviations.</p>
</td></tr>
<tr><td><code id="varcov_+3A_cormat">cormat</code></td>
<td>
<p>correlation matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Variance-covariance matrix.
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vc &lt;- varcov(c(1,2,3), matrix(c(1,0.7,0.2,0.7,1,0.5,0.2,0.5,1), nrow = 3, ncol = 3))
vc

</code></pre>

<hr>
<h2 id='vgm2crm'>Convert vgm to crm</h2><span id='topic+vgm2crm'></span>

<h3>Description</h3>

<p>Convert vgm to crm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vgm2crm(vgm, psill, nugget, range, model, kappa = 0.5, Err = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vgm2crm_+3A_vgm">vgm</code></td>
<td>
<p>See ?vgm</p>
</td></tr>
<tr><td><code id="vgm2crm_+3A_psill">psill</code></td>
<td>
<p>See ?vgm</p>
</td></tr>
<tr><td><code id="vgm2crm_+3A_nugget">nugget</code></td>
<td>
<p>See ?vgm</p>
</td></tr>
<tr><td><code id="vgm2crm_+3A_range">range</code></td>
<td>
<p>See ?vgm</p>
</td></tr>
<tr><td><code id="vgm2crm_+3A_model">model</code></td>
<td>
<p>See ?vgm</p>
</td></tr>
<tr><td><code id="vgm2crm_+3A_kappa">kappa</code></td>
<td>
<p>See ?vgm</p>
</td></tr>
<tr><td><code id="vgm2crm_+3A_err">Err</code></td>
<td>
<p>See ?vgm</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Spatial correlogram model - standardised parameters of spatial variogram model
</p>


<h3>Author(s)</h3>

<p>Kasia Sawicka
</p>

<hr>
<h2 id='woon'>Neighbourhood in Rotterdam.</h2><span id='topic+woon'></span>

<h3>Description</h3>

<p>The 'woon' object is a SpatialPolygonDataFrame where each building is represented by one polygon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(woon)
</code></pre>


<h3>Format</h3>

<p>a SpatialPolygonDataFrame with 723 polygons and 7 variables:
</p>

<dl>
<dt>vbos</dt><dd><p>number of addresses present in the building</p>
</dd>
<dt>woonareash</dt><dd><p>residential area, in percent</p>
</dd>
<dt>Function</dt><dd><p>assigned category depending on vbos and woonareash -
for residential is 1, for offcie is 2, for other is 3</p>
</dd>
<dt>residential</dt><dd><p>probability that the building is residential</p>
</dd>
<dt>office</dt><dd><p>probability that the building is an office</p>
</dd>
<dt>other</dt><dd><p>probability that the building has other function</p>
</dd>
<dt>check</dt><dd><p>check if probabilities sum to 1</p>
</dd>
</dl>



<h3>Source</h3>

<p>Kadaster, NL.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ICC</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ICC}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ICC-package'><p>Facilitating Estimation of the Intraclass Correlation Coefficient</p></a></li>
<li><a href='#effort'><p>Optimum <code>k</code> Measures Based Upon a Fixed Total Researcher Effort</p></a></li>
<li><a href='#ICCbare'><p>Estimate the Intraclass Correlation Coefficient (ICC)</p></a></li>
<li><a href='#Nest'><p>Calculate the N required to estimate the ICC with a desired confidence interval</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Facilitating Estimation of the Intraclass Correlation
Coefficient</td>
</tr>
<tr>
<td>Version:</td>
<td>2.4.0</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/matthewwolak/ICC">https://github.com/matthewwolak/ICC</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/matthewwolak/ICC/issues">https://github.com/matthewwolak/ICC/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Description:</td>
<td>Assist in the estimation of the Intraclass Correlation Coefficient
    (ICC) from variance components of a one-way analysis of variance and also
    estimate the number of individuals or groups necessary to obtain an ICC
    estimate with a desired confidence interval width.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-20 01:39:24 UTC; mew0099</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew Wolak [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew Wolak &lt;matthewwolak@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-20 07:30:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='ICC-package'>Facilitating Estimation of the Intraclass Correlation Coefficient</h2><span id='topic+ICC-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Assist in the estimation of the Intraclass Correlation Coefficient (ICC) from
variance components of a one-way analysis of variance and also estimate the
desired confidence interval width.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Matthew Wolak <a href="mailto:matthewwolak@gmail.com">matthewwolak@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/matthewwolak/ICC">https://github.com/matthewwolak/ICC</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/matthewwolak/ICC/issues">https://github.com/matthewwolak/ICC/issues</a>
</p>
</li></ul>


<hr>
<h2 id='effort'>Optimum <code>k</code> Measures Based Upon a Fixed Total Researcher Effort</h2><span id='topic+effort'></span>

<h3>Description</h3>

<p>Given a fixed researcher effort (e.g., total number of assays able to be run),
this function plots the optimum <code>k</code> measurements per individual to use
in order to obtain the smallest confidence interval at an expected intraclass
correlation coefficient (ICC) estimate. The results are depicted graphically,
showing the tradeoff in confidence interval width with changing <code>k</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effort(
  est.type = c("hypothetical", "pilot"),
  e = NULL,
  ICC = NULL,
  x = NULL,
  y = NULL,
  data = NULL,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="effort_+3A_est.type">est.type</code></td>
<td>
<p>A character string of either <code>"hypothetical"</code> indicating
usage of the given values of effort (<code>e</code>) and intraclass correlation
coefficient (<code>ICC</code>) or if <code>"pilot"</code> is specified then to
calculate these from the dataset provided. Just the first letter may be
used.</p>
</td></tr>
<tr><td><code id="effort_+3A_e">e</code></td>
<td>
<p>A numeric value indicating the total effort (<code>n</code> individuals
times <code>k</code> measurements per individual). May be a vector of effort
levels.</p>
</td></tr>
<tr><td><code id="effort_+3A_icc">ICC</code></td>
<td>
<p>A numeric value of the expected intraclass correlation
coefficient.</p>
</td></tr>
<tr><td><code id="effort_+3A_x">x</code></td>
<td>
<p>Column name of <code>data</code> indicating the individual or group ID
from a pilot study.</p>
</td></tr>
<tr><td><code id="effort_+3A_y">y</code></td>
<td>
<p>Column name of <code>data</code> indicating the measurements from a pilot
study.</p>
</td></tr>
<tr><td><code id="effort_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> from a pilot experiment.</p>
</td></tr>
<tr><td><code id="effort_+3A_alpha">alpha</code></td>
<td>
<p>A numeric indicating the alpha level to use when estimating the
confidence interval.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>More than one <code>e</code> may be given. In this case, the graphical result
portrays multiple lines - each representing a different <code>e</code>.
</p>
<p>When <code>est.type="pilot"</code>, the function automatically generates an effort
10 percent larger and smaller than the calculated effort from the pilot data.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:matthewwolak@gmail.com">matthewwolak@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Nest">Nest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Example 1
  effort(est.type = "h", e = c(30, 60, 120), ICC = 0.2)
#Example 2
  data(ChickWeight)
  effort(est.type = "p", x = Chick, y = weight, data = ChickWeight)

</code></pre>

<hr>
<h2 id='ICCbare'>Estimate the Intraclass Correlation Coefficient (ICC)</h2><span id='topic+ICCbare'></span><span id='topic+ICCbareF'></span><span id='topic+ICCest'></span>

<h3>Description</h3>

<p>Estimates the ICC and confidence intervals using the variance components from
a one-way ANOVA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ICCbare(x, y, data = NULL)

ICCbareF(x, y, data = NULL)

ICCest(x, y, data = NULL, alpha = 0.05, CI.type = c("THD", "Smith"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ICCbare_+3A_x">x</code></td>
<td>
<p>A column name indicating individual or group id in the dataframe
<code>data</code>.</p>
</td></tr>
<tr><td><code id="ICCbare_+3A_y">y</code></td>
<td>
<p>A column name indicating measurements in the dataframe <code>data</code>.</p>
</td></tr>
<tr><td><code id="ICCbare_+3A_data">data</code></td>
<td>
<p>A data.frame containing <code>x</code> and <code>y</code>.</p>
</td></tr>
<tr><td><code id="ICCbare_+3A_alpha">alpha</code></td>
<td>
<p>A numeric specifying the alpha level to use when estimating the
confidence interval. Default is 0.05.</p>
</td></tr>
<tr><td><code id="ICCbare_+3A_ci.type">CI.type</code></td>
<td>
<p>A character indicating the particular confidence interval to
estimate. Can be specified by just the first letter of the name. See
Details section for more.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ICCbare</code> conducts simple estimation of the ICC that is meant to be as
simple as possible and fast for use in Monte Carlo simulations or
bootstrapping. If the design is balanced, <code>ICCbare</code> will calculate
variance components 'by hand', instead of using the <code>aov</code> function.
<code>ICCbare</code> can be used on balanced or unbalanced datasets with NAs.
</p>
<p><code>ICCbareF</code> is similar to <code>ICCbare</code>, however <code>ICCbareF</code> should
not be used with unbalanced datasets. <code>ICCbareF</code> is distinguished from
<code>ICCbare</code>, in that <code>ICCbare</code> is more flexible and can handle
missing values and unbalanced datasets.
</p>
<p>If the dependent variable, <code>x</code>, is not a factor, then the function will
change it into a factor and produce a warning message. 
</p>
<p>For <code>ICCest</code> he confidence interval (CI) can be estimated from one of
two methods included here. CIs of the type <code>"THD"</code> are based upon the
exact confidence limit equation in Searle (1971) and can be used for
unbalanced data (see Thomas and Hultquist 1978; Donner 1979). CIs of the type
<code>"Smith"</code> are based upon the approximate formulas for the standard error
of the ICC estimate (Smith 1956).
</p>


<h3>Value</h3>

<p>a <code>list</code>:
</p>

<dl>
<dt>ICC </dt><dd><p>the intraclass correlation coefficient</p>
</dd>
<dt>LowerCI </dt><dd><p>the lower confidence interval limit, where the confidence
level is set by <code>alpha</code></p>
</dd>
<dt>UpperCI </dt><dd><p>the upper confidence interval limit, where the confidence
level is set by <code>alpha</code></p>
</dd>
<dt>N </dt><dd><p>the total number of individuals or groups used in the analysis</p>
</dd>
<dt>k </dt><dd><p>the number of measurements per individual or group. In an
unbalanced design, k is always less than the mean number of
measurements per individual or group and is calculated using the
equation in Lessells and Boag (1987).</p>
</dd>
<dt>varw </dt><dd><p>the within individual or group variance</p>
</dd>
<dt>vara </dt><dd><p>the among individual or group variance</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><a href="mailto:matthewwolak@gmail.com">matthewwolak@gmail.com</a>
</p>


<h3>References</h3>

<p>C.M. Lessells and P.T. Boag. 1987. The Auk, 104(1):116-121.
</p>
<p>Searle, S.R. 1971. Linear Models. New York: Wiley.
</p>
<p>Thomas, J.D. and Hultquist, R.A. 1978. Annals of Statistics, 6:582-587.
</p>
<p>Donner, A. 1979. American Journal of Epidemiology, 110:335-342.
</p>
<p>Smith, C.A.B. 1956. Annals of Human Genetics, 21:363-373.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(ChickWeight)
# ICCest
  ICCest(Chick, weight, data = ChickWeight, CI.type = "S")
</code></pre>

<hr>
<h2 id='Nest'>Calculate the N required to estimate the ICC with a desired confidence interval</h2><span id='topic+Nest'></span>

<h3>Description</h3>

<p>Given a predicted ICC and <code>k</code> measures per individual/group, this
function will calculate the <code>N</code> individuals/groups required to obtain a
desired confidence interval <code>w</code>(Bonett 2002).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Nest(
  est.type = c("hypothetical", "pilot"),
  w,
  ICC = NULL,
  k = NULL,
  x = NULL,
  y = NULL,
  data = NULL,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Nest_+3A_est.type">est.type</code></td>
<td>
<p>A character string of either <code>"hypothetical"</code> indicating
usage of the given values of <code>k</code> and <code>ICC</code> or if <code>"pilot"</code>
is specified then to calculate these from the dataset provided. Just the
first letter may be used.</p>
</td></tr>
<tr><td><code id="Nest_+3A_w">w</code></td>
<td>
<p>A <code>numeric</code> of desired width for the confidence interval about
the ICC estimate.</p>
</td></tr>
<tr><td><code id="Nest_+3A_icc">ICC</code></td>
<td>
<p>The expected intraclass correlation coefficient.</p>
</td></tr>
<tr><td><code id="Nest_+3A_k">k</code></td>
<td>
<p>The number of measurements per individual or group.</p>
</td></tr>
<tr><td><code id="Nest_+3A_x">x</code></td>
<td>
<p>A column name of <code>data</code> indicating the individual or group ID
from a pilot study.</p>
</td></tr>
<tr><td><code id="Nest_+3A_y">y</code></td>
<td>
<p>A column name of <code>data</code> indicating the measurements from a pilot
study.</p>
</td></tr>
<tr><td><code id="Nest_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> from a pilot experiment.</p>
</td></tr>
<tr><td><code id="Nest_+3A_alpha">alpha</code></td>
<td>
<p>The alpha level to use when estimating the confidence interval.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>More than one <code>ICC</code> or <code>k</code> may be given. In this case, the return
value is a dataframe with rows representing the values of the specified ICCs
and the columns yield the different <code>k</code> values.
</p>


<h3>Value</h3>

<p><code>data.frame</code> indicating the N number of individuals or groups to
use to estimate the given ICC with a desired confidence interval width.
Rows represent different levels of ICC while columns indicate different
levels of <code>k</code> measurements per individual/group.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:matthewwolak@gmail.com">matthewwolak@gmail.com</a>
</p>


<h3>References</h3>

<p>D.G. Bonett. 2002. Statistics in Medicine, 21(9): 1331-1335.
</p>
<p>M.E. Wolak, D.J. Fairbairn, Y.R. Paulsen. 2011. Methods in Ecology and
Evolution, 3(1):129-137.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+effort">effort</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1
  n1&lt;-Nest("h", w = 0.14, ICC = 0.1, k = 10)
  n1
# Example 2
  data(ChickWeight)
  Nest("p", w = 0.14, x = Chick, y = weight, data = ChickWeight)
  ex2 &lt;- ICCest(Chick, weight, ChickWeight)
  ex2$UpperCI - ex2$LowerCI #confidence interval width of pilot study
  ex2
# Example 3
  Nest("h", w = 0.14, ICC = seq(0.05, 0.15, 0.05), k = seq(10, 12, 1))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

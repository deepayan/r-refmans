<!DOCTYPE html><html lang="en"><head><title>Help for package rbibutils</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rbibutils}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rbibutils-package'>
<p>Read 'Bibtex' Files and Convert Between Bibliography Formats</p></a></li>
<li><a href='#bibConvert'><p>Convert between bibliography formats</p></a></li>
<li><a href='#bibentryExtra'><p>Work with 'bibentryExtra' objects</p></a></li>
<li><a href='#rbibutils_formats'><p>Supported bibliography formats</p></a></li>
<li><a href='#readBib'><p>Read and write bibtex files</p></a></li>
<li><a href='#readBibentry'><p>Read and write bibentry files</p></a></li>
<li><a href='#register_JSSextra'><p>Create and register bibstyle JSSextra</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Read 'Bibtex' Files and Convert Between Bibliography Formats</td>
</tr>
<tr>
<td>Version:</td>
<td>2.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Read and write 'Bibtex' files. Convert between bibliography
    formats, including 'Bibtex', 'Biblatex', 'PubMed', 'Endnote', and
    'Bibentry'.  Includes a port of the 'bibutils' utilities by Chris
    Putnam <a href="https://sourceforge.net/projects/bibutils/">https://sourceforge.net/projects/bibutils/</a>. Supports all
    bibliography formats and character encodings implemented in
    'bibutils'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://geobosh.github.io/rbibutils/">https://geobosh.github.io/rbibutils/</a> (doc),
<a href="https://github.com/GeoBosh/rbibutils">https://github.com/GeoBosh/rbibutils</a> (devel)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/GeoBosh/rbibutils/issues">https://github.com/GeoBosh/rbibutils/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Config/Needs/memcheck:</td>
<td>devtools, rcmdcheck</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-04 06:38:09 UTC; georgi</td>
</tr>
<tr>
<td>Author:</td>
<td>Georgi N. Boshnakov [aut, cre] (R port, R code, new C code and
    modifications to bibutils' C code, conversion to Bibentry (R and C
    code)),
  Chris Putman [aut] (src/*, author of the bibutils libraries,
    https://sourceforge.net/projects/bibutils/),
  Richard Mathar [ctb] (src/addsout.c),
  Johannes Wilm [ctb] (src/biblatexin.c, src/bltypes.c),
  R Core Team [ctb] (base R's bibentry and bibstyle implementation)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Georgi N. Boshnakov &lt;georgi.boshnakov@manchester.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-04 08:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rbibutils-package'>
Read 'Bibtex' Files and Convert Between Bibliography Formats
</h2><span id='topic+rbibutils-package'></span><span id='topic+rbibutils'></span>

<h3>Description</h3>

<p>Read and write 'Bibtex' files. Convert between bibliography
    formats, including 'Bibtex', 'Biblatex', 'PubMed', 'Endnote', and
    'Bibentry'.  Includes a port of the 'bibutils' utilities by Chris
    Putnam &lt;https://sourceforge.net/projects/bibutils/&gt;. Supports all
    bibliography formats and character encodings implemented in
    'bibutils'.
</p>


<h3>Details</h3>

<p>Package <span class="pkg">rbibutils</span> provides an <span class="rlang"><b>R</b></span> port of the <code>bibutils</code>
programs plus additional facilities. The main function,
<code>bibConvert</code>, offers all conversions between bibliography formats
supported by library <code>bibutils</code>.  In addition, package
<span class="pkg">rbibutils</span> converts to and from <span class="rlang"><b>R</b></span>'s <code>bibentry</code> Bibtex-based
bibliography format.
</p>
<p>The core functionality is provided by the <code>bibutils</code> programs
which convert between various bibliography formats using a common MODS
XML intermediate format, see the source cited below.
</p>
<p>Currently we provide the function <code><a href="#topic+bibConvert">bibConvert</a></code>
for conversion between supported bibliography formats. For complete
list of formats supported by the package, see the documentation of
the original bibutils library.
</p>
<p><code><a href="#topic+readBib">readBib</a></code> and <code><a href="#topic+writeBib">writeBib</a></code> import/export BiBTeX
files.  <code><a href="#topic+readBibentry">readBibentry</a></code> and <code><a href="#topic+writeBibentry">writeBibentry</a></code>
import/export <span class="rlang"><b>R</b></span> source files in which the references are represented
by <code>bibentry()</code> calls. These functions were originally just
wrappers around <code>bibConvert</code>. <code><a href="#topic+readBib">readBib</a></code> has acquired
additional features, including a direct import (without going through
<code>bibConvert</code>) from BiBTeX files.
</p>
<p>All encodings supported by the bibutils library are available for
<code><a href="#topic+bibConvert">bibConvert</a></code>. 
</p>
<p>Further functionality may be provided in future releases, in
particular, the underlying C functions could be exposed to package
authors. Further R wrappers may be added, as well. However, the scope
of the package will remain conversion between formats based on
<code style="white-space: pre;">&#8288;bibutils&#8288;</code> and manipulation of the MODS XML intermediate
format. <span class="pkg">rbibutils</span> can be used also as an alternative to package
<span class="pkg">bibtex</span> (Francois 2020). For bibliography management see package
<span class="pkg">RefManager</span> (McLean 2017). For citations in R documentation (Rd
or roxygen2) see package <span class="pkg">Rdpack</span> (Boshnakov 2020).







</p>






<h3>Supported input and output formats</h3>

<p>Most formats are supported for both input and output, see the listings
below. A format supported for input can be converted to any of the
output formats.
</p>
<p>The input is first converted to <em>MODS XML intermediate</em>, the
latter is then converted to the requested output format.
In <span class="pkg">rbibutils</span> there are currently two exceptions to this rule.
First, the conversion from bibtex to bibentry offers the option to
bypass the conversion to <em>MODS XML intermediate</em> and parse
directly the bibtex file, see <code><a href="#topic+readBib">readBib</a></code> for details.
Second, the conversion from <code style="white-space: pre;">&#8288;bibentry&#8288;</code> to <code style="white-space: pre;">&#8288;BibTeX&#8288;</code> just uses
a <code style="white-space: pre;">&#8288;print&#8288;</code> method provided by <span class="rlang"><b>R</b></span>.
</p>
<p>In the table below column Abbreviation shows the abbreviation for
arguments <code>informat</code> and <code>outformat</code>, column FileExt gives
the default file extension for that format, column Input (Output)
contains TRUE if the format is supported for input (output) and FALSE
otherwise. Column Description gives basic description of the format.
</p>

<table>
<tr>
 <td style="text-align: left;"> <strong>Abbreviation </strong> </td><td style="text-align: left;"> <strong>FileExt </strong> </td><td style="text-align: left;"> <strong>Input </strong> </td><td style="text-align: left;"> <strong>Output </strong> </td><td style="text-align: left;"> <strong>Description </strong> </td>
</tr>
<tr>
 <td style="text-align: left;">  ads </td><td style="text-align: left;"> ads </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> ADS reference format</td>
</tr>
<tr>
 <td style="text-align: left;"> bib </td><td style="text-align: left;"> bib </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> BibTeX</td>
</tr>
<tr>
 <td style="text-align: left;"> bibtex </td><td style="text-align: left;"> bibtex </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> BibTeX</td>
</tr>
<tr>
 <td style="text-align: left;"> biblatex </td><td style="text-align: left;"> biblatex </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> BibLaTeX</td>
</tr>
<tr>
 <td style="text-align: left;"> copac </td><td style="text-align: left;"> copac </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> COPAC format references</td>
</tr>
<tr>
 <td style="text-align: left;"> ebi </td><td style="text-align: left;"> ebi </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> EBI XML</td>
</tr>
<tr>
 <td style="text-align: left;"> end </td><td style="text-align: left;"> end </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> EndNote (Refer format)</td>
</tr>
<tr>
 <td style="text-align: left;"> endx </td><td style="text-align: left;"> endx </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> EndNote XML</td>
</tr>
<tr>
 <td style="text-align: left;"> isi </td><td style="text-align: left;"> isi </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> ISI web of science</td>
</tr>
<tr>
 <td style="text-align: left;"> med </td><td style="text-align: left;"> med </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> Pubmed XML references</td>
</tr>
<tr>
 <td style="text-align: left;"> nbib </td><td style="text-align: left;"> nbib </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> Pubmed/National Library of Medicine nbib format</td>
</tr>
<tr>
 <td style="text-align: left;"> ris </td><td style="text-align: left;"> ris </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> RIS format</td>
</tr>
<tr>
 <td style="text-align: left;"> R, r, Rstyle </td><td style="text-align: left;"> R </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> R source file containing bibentry commands</td>
</tr>
<tr>
 <td style="text-align: left;"> rds </td><td style="text-align: left;"> rds </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> bibentry object in a binary file created by saveRDS()</td>
</tr>
<tr>
 <td style="text-align: left;"> xml </td><td style="text-align: left;"> xml </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> MODS XML intermediate</td>
</tr>
<tr>
 <td style="text-align: left;"> wordbib </td><td style="text-align: left;"> wordbib </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> Word 2007 bibliography format 
</td>
</tr>

</table>

<p><code style="white-space: pre;">&#8288;bibentry&#8288;</code> is the native <span class="rlang"><b>R</b></span> variant of BibTeX.  It can be input
directly from an <span class="rlang"><b>R</b></span> source file or from a binary <code style="white-space: pre;">&#8288;rds&#8288;</code> file. The
<code style="white-space: pre;">&#8288;"rds"&#8288;</code> format is a compressed binary format. The <code style="white-space: pre;">&#8288;rds&#8288;</code> file
should contain a <code style="white-space: pre;">&#8288;bibentry&#8288;</code> R object, saved from R with
<code>saveRDS</code>.  An R source file should contain one or more bibentry
instructions, see <code><a href="#topic+readBibentry">readBibentry</a></code> for details of the
contents.
</p>
<p>A <code style="white-space: pre;">&#8288;bibentry&#8288;</code> object can be written to a file as a binary
(<code style="white-space: pre;">&#8288;"rds"&#8288;</code>) object or as an <span class="rlang"><b>R</b></span> source file, see
<code><a href="#topic+bibConvert">bibConvert</a></code> and <code><a href="#topic+writeBib">writeBib</a></code> for details.
</p>
<p>ADS is the reference format of the Smithsonian Astrophysical
Observatory (SAO) and National Aeronautics and Space Administration
(NASA) Astrophyics Data System.
</p>
<p>For COPAC, see <code style="white-space: pre;">&#8288;https://en.wikipedia.org/wiki/Copac&#8288;</code>.
</p>


<h3>Note</h3>

<p>The <code>bibutils</code> library is included in a number of software
packages. These include include pandoc and a library for
Haskell. Executable programs for conversion are available for Linux
distributions but seem not easily available for Windows. Executable
and libraries can also be generated out-of-the-box from the
<code>bibutils</code> disribution (on Windows under MSYS).
</p>
<p><span class="pkg">rbibutils</span> adds conversions to/from <span class="rlang"><b>R</b></span>'s bibentry format and
direct conversion from bibtex, which preserves non-standard fields from
the bibtex source. There is also improved support for mathematical
expressions in bibtex files.
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov (R code and R port of bibutils),
Chris Putnam (author of bibutils library)
</p>


<h3>References</h3>


<p>Georgi
N Boshnakov (2020).
&ldquo;Rdpack: Update and Manipulate Rd Documentation Objects.&rdquo;
<a href="https://doi.org/10.5281/zenodo.3925612">doi:10.5281/zenodo.3925612</a>, R package version 2.0.0.
</p>
<p>Damiano Fantini (2019).
&ldquo;easyPubMed: Search and Retrieve Scientific Publication Records from PubMed.&rdquo;
R package version 2.13, <a href="https://CRAN.R-project.org/package=easyPubMed">https://CRAN.R-project.org/package=easyPubMed</a>.
</p>
<p>Romain Francois (2014).
<em>bibtex: bibtex parser</em>.
R package version 0.4.0.
</p>
<p>Mathew
William McLean (2017).
&ldquo;RefManageR: Import and Manage BibTeX and BibLaTeX References in R.&rdquo;
<em>The Journal of Open Source Software</em>.
<a href="https://doi.org/10.21105/joss.00338">doi:10.21105/joss.00338</a>.
</p>
<p>Chris Putnam (2020).
&ldquo;Library bibutils, version 6.10.&rdquo;
<a href="https://sourceforge.net/projects/bibutils/">https://sourceforge.net/projects/bibutils/</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bibConvert">bibConvert</a> for further details and examples</code>
</p>

<hr>
<h2 id='bibConvert'>Convert between bibliography formats</h2><span id='topic+bibConvert'></span>

<h3>Description</h3>

<p>Read a bibliography file in one of the supported formats, convert it
to another format, and write that to a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bibConvert(infile, outfile, informat, outformat, ..., tex, encoding, 
           options)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bibConvert_+3A_infile">infile</code></td>
<td>
<p>input file, a character string.</p>
</td></tr>
<tr><td><code id="bibConvert_+3A_outfile">outfile</code></td>
<td>
<p>output file, a character string.</p>
</td></tr>
<tr><td><code id="bibConvert_+3A_informat">informat</code></td>
<td>

<p>input format, a character string, see sections &ldquo;Supported
formats&rdquo; and &ldquo;Details&rdquo;.
</p>
</td></tr>
<tr><td><code id="bibConvert_+3A_outformat">outformat</code></td>
<td>

<p>output format, a character string, see sections &ldquo;Supported
formats&rdquo; and &ldquo;Details&rdquo;.
</p>
</td></tr>
<tr><td><code id="bibConvert_+3A_...">...</code></td>
<td>
<p>not used.</p>
</td></tr>
<tr><td><code id="bibConvert_+3A_tex">tex</code></td>
<td>

<p>TeX/LaTeX specific options, see section &ldquo;Details&rdquo;, a character
vector.
</p>
</td></tr>
<tr><td><code id="bibConvert_+3A_encoding">encoding</code></td>
<td>

<p><code>character(2)</code>, a length two vector specifying input and output
encodings. Default to both is <code>"utf8"</code>, see section
&ldquo;Details&rdquo;.
</p>
</td></tr>
<tr><td><code id="bibConvert_+3A_options">options</code></td>
<td>

<p>mainly for debugging: additional options for the converters, see
section &ldquo;Details&rdquo;.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Arguments <code>informat</code> and <code>outformat</code> can usually be omitted,
since <code>bibConvert</code> infers them from the extensions of the names
of the input and output files, see section &quot;File extensions&quot; below.
However, there is ambiguity for the extension <code>"bib"</code>, since it
is used for Bibtex and BibLaTeX entries. For this extension, the
default for both, <code>informat</code> and <code>outformat</code>, is
<code>"bibtex"</code>.
</p>
<p>Package <span class="pkg">rbibutils</span> supports format <code>"bibentry"</code>, in addition
to the formats supported by the bibutils library. A <code>bibentry</code>
object contains one or more references.  Two formats are supported for
<code>"bibentry"</code> for both input and output. A bibentry object
previously saved to a file using <code>saveRDS</code> (default extension
<code>"rds"</code>) or an R source file containing one or more
<code>bibentry</code> commands. The <code>"rds"</code> file is just read in and
should contain a <code>bibentry</code> object.
</p>
<p>When <code>bibconvert</code> outputs to an R source file, two variants are
supported: <code>"R"</code> and <code>"Rstyle"</code>.  When (<code>outformat =
  "R"</code>, there is one <code>bibentry</code> call for each reference, just as in
a Bibtex file, each reference is a single entry.  <code>outformat =
  "Rstyle"</code> uses the format of <code>print(be, style = "R")</code>, i.e., the
<code>bibentry</code> calls are output as a comma separated sequence wrapped
in <code>c()</code>. For input, it is not necessary to specify which
variant is used.
</p>





<p>Note that when the input format and output formats are identical, the
conversion is not necessarilly a null operation (except for
<code style="white-space: pre;">&#8288;xml&#8288;</code>, and even that may change). For example, depending on the
arguments the character encoding may change. Also, input BibTeX files
may contain additional instructions, such as journal abbreviations,
which are expanded and incorporated in the references but not
exported.  It should be remembered also that there may be loss of
information when converting from one format to another.
</p>
<p>For a complete list of supported bibliography formats, see section
&ldquo;Supported formats&rdquo; below. The documentation of the original
bibutils library (Putnam 2020) gives further details.
</p>
<p>Argument <code>encoding</code> is a character vector containing 2 elements,
specifying the encoding of the input and output files.  If the
encodings are the same, a length one vector can be supplied. The
default encodings are UTF-8 for input and output. A large number of
familiar encodings are supported, e.g. <code>"latin1"</code> and
<code>"cp1251"</code> (Windows Cyrillic). Some encodings have two or more
aliases and they are also accepted. If an unknown encoding is
requested, a list of all supported encodings will be printed.
</p>
<p>Argument <code>tex</code> is an unnamed character vector containing switches
for bibtex input and output (mostly output). Currently, the following
are available:
</p>

<dl>
<dt>uppercase</dt><dd><p>write bibtex tags/types in upper case.</p>
</dd>
<dt>no_latex</dt><dd>
<p>do not convert latex-style character combinations to letters.
</p>
</dd>
<dt>brackets</dt><dd><p>use brackets, not quotation marks surrounding data.</p>
</dd>
<dt>dash</dt><dd>
<p>use one dash <code>"-"</code>, not two <code>"--"</code>, in page ranges.
</p>
</dd>
<dt>fc</dt><dd><p>add final comma to bibtex output.</p>
</dd>
</dl>

<p>By default latex encodings for accented characters are converted to
letters. This may be a problem if the output encoding is not UTF-8,
since some characters created by this process may be invalid in that
encoding. For example, a BibTeX file which otherwise contains only
cyriilic and latin characters may have a few entries with authors
containing latin accented characters represented using the TeX
convention.  If those characters are not converted to Unicode letters,
they can be exported to <code>"cp1251"</code> (Windows Cyrillic) for
example. Specifying the option <code>no_latex</code> should solve the
problem in such cases.
</p>
<p>Argument <code>options</code> is mostly for debugging and mimics the command
line options of the bibutils' binaries. The argument is a named
character vector and is supplied as <code>c(tag1= val1, tag2 = val2,
  ...)</code>, where each tag is the name of an option and the value is the
corresponding value. The value for options that do not require one is
ignored and can be set to <code>""</code>. Some of the available options
are:
</p>

<dl>
<dt>h</dt><dd><p>help, show all available options.</p>
</dd>
<dt>nb</dt><dd><p>do not write Byte Order Mark in UTF8 output.</p>
</dd>
<dt>verbose</dt><dd><p>print intermediate output.</p>
</dd>
<dt>debug</dt><dd><p>print even more intermediate output.</p>
</dd>
</dl>



<h3>Value</h3>

<p>The function is used for the side effect of creating a file in the
requested format. It returns a list, currently containing the
following components:
</p>
<table role = "presentation">
<tr><td><code>infile</code></td>
<td>
<p>name of the input file,</p>
</td></tr>
<tr><td><code>outfile</code></td>
<td>
<p>name of the output file,</p>
</td></tr>
<tr><td><code>nref_in</code></td>
<td>
<p>number of references read from the input file,</p>
</td></tr>
<tr><td><code>nref_out</code></td>
<td>
<p>number of references written to the output file.</p>
</td></tr>
</table>
<p>Normally, <code>nref_in</code> and <code>nref_out</code> are the same.
If some references were imported successfully but failed on export,
<code>nref_out</code> may be smaller than <code>nref_in</code>. In such cases
informative messages are printed during processing. (If this happens
silently, it is probably a bug and please create an issue on Github.)
</p>


<h3>Supported formats</h3>

<p>If an input or output format is not specified by arguments, it is
inferred, if possible, from the file extension.
</p>
<p>In the table below column Abbreviation shows the abbreviation for
arguments <code>informat</code> and <code>outformat</code>, column FileExt gives
the default file extension for that format, column Input (Output)
contains TRUE if the format is supported for input (output) and FALSE
otherwise. Column Description gives basic description of the format.
</p>





















<table>
<tr>
 <td style="text-align: left;"> <strong>Abbreviation </strong> </td><td style="text-align: left;"> <strong>FileExt </strong> </td><td style="text-align: left;"> <strong>Input </strong> </td><td style="text-align: left;"> <strong>Output </strong> </td><td style="text-align: left;"> <strong>Description </strong> </td>
</tr>
<tr>
 <td style="text-align: left;">  ads </td><td style="text-align: left;"> ads </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> ADS reference format</td>
</tr>
<tr>
 <td style="text-align: left;"> bib </td><td style="text-align: left;"> bib </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> BibTeX</td>
</tr>
<tr>
 <td style="text-align: left;"> bibtex </td><td style="text-align: left;"> bibtex </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> BibTeX</td>
</tr>
<tr>
 <td style="text-align: left;"> biblatex </td><td style="text-align: left;"> biblatex </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> BibLaTeX</td>
</tr>
<tr>
 <td style="text-align: left;"> copac </td><td style="text-align: left;"> copac </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> COPAC format references</td>
</tr>
<tr>
 <td style="text-align: left;"> ebi </td><td style="text-align: left;"> ebi </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> EBI XML</td>
</tr>
<tr>
 <td style="text-align: left;"> end </td><td style="text-align: left;"> end </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> EndNote (Refer format)</td>
</tr>
<tr>
 <td style="text-align: left;"> endx </td><td style="text-align: left;"> endx </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> EndNote XML</td>
</tr>
<tr>
 <td style="text-align: left;"> isi </td><td style="text-align: left;"> isi </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> ISI web of science</td>
</tr>
<tr>
 <td style="text-align: left;"> med </td><td style="text-align: left;"> med </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> Pubmed XML references</td>
</tr>
<tr>
 <td style="text-align: left;"> nbib </td><td style="text-align: left;"> nbib </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> Pubmed/National Library of Medicine nbib format</td>
</tr>
<tr>
 <td style="text-align: left;"> ris </td><td style="text-align: left;"> ris </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> RIS format</td>
</tr>
<tr>
 <td style="text-align: left;"> R, r, Rstyle </td><td style="text-align: left;"> R </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> R source file containing bibentry commands</td>
</tr>
<tr>
 <td style="text-align: left;"> rds </td><td style="text-align: left;"> rds </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> bibentry object in a binary file created by saveRDS()</td>
</tr>
<tr>
 <td style="text-align: left;"> xml </td><td style="text-align: left;"> xml </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> MODS XML intermediate</td>
</tr>
<tr>
 <td style="text-align: left;"> wordbib </td><td style="text-align: left;"> wordbib </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> Word 2007 bibliography format 
</td>
</tr>

</table>

<p>The file <code>"easyPubMedvig.xml"</code> used in the examples for Pubmed
XML (<code>"med"</code>) was obtained using code from the vignette in
package <span class="pkg">easyPubMed</span> (Fantini 2019).
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>References</h3>


<p>Damiano Fantini (2019).
&ldquo;easyPubMed: Search and Retrieve Scientific Publication Records from PubMed.&rdquo;
R package version 2.13, <a href="https://CRAN.R-project.org/package=easyPubMed">https://CRAN.R-project.org/package=easyPubMed</a>.
</p>

<p>Chris Putnam (2020).
&ldquo;Library bibutils, version 6.10.&rdquo;
<a href="https://sourceforge.net/projects/bibutils/">https://sourceforge.net/projects/bibutils/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fn_biblatex &lt;- system.file("bib", "ex0.biblatex",  package = "rbibutils")
fn_biblatex
## file.show(fn_biblatex)

## convert a biblatex file to xml
modl &lt;- tempfile(fileext = ".xml")
bibConvert(infile = fn_biblatex, outfile = modl, informat = "biblatex", outformat = "xml")
## file.show(modl)

## convert a biblatex file to bibtex
bib &lt;- tempfile(fileext = ".bib")
bib2 &lt;- tempfile(fileext = ".bib")
bibConvert(infile = fn_biblatex, outfile = bib, informat = "biblatex", outformat = "bib")
## file.show(bib)

## convert a biblatex file to bibentry
rds &lt;- tempfile(fileext = ".rds")
fn_biblatex
rds
be &lt;- bibConvert(fn_biblatex, rds, "biblatex", "bibentry")
bea &lt;- bibConvert(fn_biblatex, rds, "biblatex") # same
readRDS(rds)

## convert to R source file
r &lt;- tempfile(fileext = ".R")
bibConvert(fn_biblatex, r, "biblatex")
## file.show(r)
cat(readLines(r), sep = "\n")

fn_cyr_utf8 &lt;- system.file("bib", "cyr_utf8.bib",  package = "rbibutils")

## Can't have files with different encodings in the package, so below
## first convert a UTF-8 file to something else.
##
## input here contains cyrillic (UTF-8) output to Windows Cyrillic,
## notice the "no_latex" option
a &lt;- bibConvert(fn_cyr_utf8, bib, encoding = c("utf8", "cp1251"), tex = "no_latex")

## now take the bib file and convert it to UTF-8
bibConvert(bib, bib2, encoding = c("cp1251", "utf8"))


## Latin-1 example: Author and Title fileds contain Latin-1 accented
##   characters, not real names. As above, the file is in UTF-8
fn_latin1_utf8  &lt;- system.file("bib", "latin1accents_utf8.bib", package = "rbibutils")
## convert to Latin-1, by default the accents are converted to TeX combinations:
b &lt;- bibConvert(fn_latin1_utf8, bib , encoding = c("utf8", "latin1"))
cat(readLines(bib), sep = "\n")
## use "no_latex" option to keep them Latin1:
c &lt;- bibConvert(fn_latin1_utf8, bib , encoding = c("utf8", "latin1"), tex = "no_latex")
## this will show properly in Latin-1 locale (or suitable text editor):
##cat(readLines(bib), sep = "\n")

## gb18030 example (Chinese)
##
## prepare some filenames for the examples below:
xeCJK_utf8    &lt;- system.file("bib/xeCJK_utf8.bib", package = "rbibutils")
xeCJK_gb18030 &lt;- system.file("bib/xeCJK_gb18030.bib", package = "rbibutils")
fn_gb18030 &lt;- tempfile(fileext = ".bib")
fn_rds &lt;- tempfile(fileext = ".rds")

## input bib file utf8, output bib file gb18030:
bibConvert(xeCJK_utf8, fn_gb18030, encoding = c("utf8", "gb18030"))

## input bib file utf8, output file rds (and the rds object is returned
bibConvert(xeCJK_utf8, fn_rds)
unlink(fn_gb18030)
unlink(fn_rds)

## a Pubmed file
fn_med &lt;- system.file("bib/easyPubMedvig.xml", package = "rbibutils")
## convert a Pubmed file to bibtex:
bibConvert(fn_med, bib, informat = "med")
## convert a Pubmed file to rds and import:
#bibConvert(fn_med, rds, informat = "med")


unlink(c(modl, bib, bib2, r, rds))
</code></pre>

<hr>
<h2 id='bibentryExtra'>Work with 'bibentryExtra' objects</h2><span id='topic+bibentryExtra'></span><span id='topic+as.bibentryExtra'></span><span id='topic+names.bibentryExtra'></span><span id='topic+names'></span><span id='topic++5B+5B.bibentryExtra'></span><span id='topic++5B.bibentryExtra'></span><span id='topic++24+3C-.bibentryExtra'></span><span id='topic++5B+5B+3C-.bibentryExtra'></span>

<h3>Description</h3>

<p>Objects from class <code>"bibentryExtra"</code> represent a collection of
bibliographic references. This page documents functions to create such
objects or convert other compatible objects to <code>"bibentryExtra"</code>,
as well as methods for subsetting and replacing parts of them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bibentryExtra(bibtype = NULL, ...)

as.bibentryExtra(x, ...)

## S3 method for class 'bibentryExtra'
x[[i, j, drop = TRUE]]

## S3 replacement method for class 'bibentryExtra'
x[[i]] &lt;- value

## S3 method for class 'bibentryExtra'
x[i, j, drop = TRUE]

## S3 replacement method for class 'bibentryExtra'
x$name &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bibentryExtra_+3A_bibtype">bibtype</code></td>
<td>

<p>a character string specifying the type of the bib entry. Can also be
a character vector to create an object containing more than one
entry, see <code><a href="utils.html#topic+bibentry">bibentry</a></code>.
</p>
</td></tr>
<tr><td><code id="bibentryExtra_+3A_x">x</code></td>
<td>

<p>for <code>bibentryExtra</code>, an object to be converted; otherwise an
object from class <code>"bibentryExtra"</code>.
</p>
</td></tr>
<tr><td><code id="bibentryExtra_+3A_i">i</code></td>
<td>

<p>the bib entry to extract or assign to, a character string (the key),
a singe integer number (position), or a list of length 2.  For the
extractor, <code>"[["</code>, <code>i</code> can also be of length more than 1
(character or integer) when <code>j</code> is missing completely. See
section &lsquo;Details&rsquo; for complete details.
</p>
</td></tr>
<tr><td><code id="bibentryExtra_+3A_j">j</code></td>
<td>

<p>field(s) to extract, a character vector or missing, see section
&lsquo;Details&rsquo;.
</p>
</td></tr>
<tr><td><code id="bibentryExtra_+3A_name">name</code></td>
<td>

<p>field to extract.
</p>
</td></tr>
<tr><td><code id="bibentryExtra_+3A_drop">drop</code></td>
<td>

<p>if <code>TRUE</code>, each entry in the returned list will contain the
attributes (e.g., <code>"bibtype"</code> and <code>"key"</code>).
</p>
</td></tr>
<tr><td><code id="bibentryExtra_+3A_value">value</code></td>
<td>

<p>value(s) to use for replacement, a list.
For <code>"[&lt;-"</code>, an object inheriting from <code>"bibentry"</code> (so,
including <code>"bibentryExtra"</code>), containing exactly one bib
item. Alternatively, a character vector or a list, see section
&lsquo;Details&rsquo;.
</p>
</td></tr>
<tr><td><code id="bibentryExtra_+3A_...">...</code></td>
<td>

<p>for <code>bibentryExtra</code>, any arguments that
<code><a href="utils.html#topic+bibentry">bibentry</a></code> accepts.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bibentryExtra</code> creates a <code>"bibentryExtra"</code> object.  It has
the same arguments as <code><a href="utils.html#topic+bibentry">bibentry</a></code>, see its help page for
full details. The main difference is that for <code>bibentryExtra</code>, the
bibentry type, is not restricted to have values from the list of
standard Bibtex types (which is the case for <code>bibtype</code>).
</p>
<p><code>bibentryExtra</code> sets the <code>"names"</code> attribute to the keys of
the bib entries in it. However, further changes in the names and/or
the keys can make them different. If you want to keep the names always
consistent with the keys, set <code>names(bee) &lt;- NULL</code>. This will
cause <code>names</code> to dynamically create collect the keys when called.
</p>
<p><code>as.bibentryExtra</code> is a generic function for conversion of
objects to class <code>"bibentryExtra"</code>, most notably from class
<code>"bibentry"</code>.
</p>
<p>Details on the subsetting methods are given below. The main think that
needs to be pointed out is that the bracket operators take as first
argument the values of one or more keys, while for the dollar
operators the argument is the name of a field (e.g., <code>journal</code>).
This is convenient but can cause confusion, since usually <code>$</code> and
<code>[[</code> are (mostly) equivalent. This can be avoided by using
argument <code>j</code>, since in the (i,j) pair <code>i</code> is always a key
(or keys) and <code>j</code> the names of fields.
</p>
<p>The subsetting methods aim to provide convenient access to components
of <code>"bibentryExtra"</code> objects.  In comparison to the corresponding
methods for <code>"bibenry"</code> objects, the methods for
<code>"bibentryExtra"</code> provide some additional features. Most notably,
some of them include argument <code>j</code>, see the details below.  If you
want similar access for <code>"bibenry"</code> objects, just convert them to
<code>"bibentryExtra"</code> using <code>as.bibentryExtra</code>.
</p>
<p>It is convenient to think of the <code>"bibentryExtra"</code> as a ragged
array with &lsquo;rows&rsquo; (the bib entries) and &lsquo;columns&rsquo; (the
fields in the items). This is a peculiar ragged array, where each bib
item (row) may have a different collection of fields.
</p>
<p>Additional functionality for the subscript operators that admit
argument <code>j</code> is provided for <code>"bibentryExtra"</code> objects.  We
will say that argument <code>j</code> <em>is missing completely</em> if it is
missing and there is no placeholder for it in the call. For example
<code>be[i]</code> and <code>be[i, drop = FALSE]</code> are examples when <code>j</code>
is missing completely. On the other hand, <code>be[i, ]</code> and
<code>be[i, , drop = FALSE]</code> are examples when <code>j</code> is missing,
but not completely.
</p>
<p>When <code>j</code> is completely missing, the subscript operations for
<code>"bibentryExtra"</code> objects work exactly as for <code>bibentry</code>
objects (they don't have methods that use <code>j</code>).
Alternatively, rather than use both <code>i</code> and <code>j</code>, one can set
<code>i</code> to be a list of length 2, whose two components stand for
<code>i</code> and <code>j</code>, respectively. The latter syntax can be used also
for the methods that don't have <code>j</code> as an argument
(but do have <code>i</code>).
</p>


<h4>The methods for the dollar operator</h4>

<p><code>"$"</code> extracts the specified field. <code>"bibentryExtra"</code>
inherits the <code>"bibentry"</code> method for <code>"$"</code>.  The result is
a list with one component for each bib entry.
</p>
<p>Note that the result is a list for several reasons. First, some
fields may have more than one element. Second, some values are
likely to be <code>NULL</code>. Third, some fields may be compound
objects, e.g. &lsquo;Author&rsquo;, which is from class <code>"person"</code>.
However, if the the returned list has one element, the enlosing list
is removed (similarly to matrices with one row).
</p>
<p>The <code>"bibentryExtra"</code> method for subset-assigment,
<code>"$&lt;-"</code>, assigns a new value to the specified field.  In most
cases, <code>value</code> should be a list of the same length as <code>x</code>.
Otherwise, it will be wrapped in a list If it is not a list, the
result may be unexpected. For example, a character vector will
replace the specified field in all bib entries.
</p>
<p>To change the values of the keys, specify field <code>"key"</code>. Again,
remember that you get a list of all keys, unless there is only one
bib entry in <code>x</code>. So, <code>value</code> should be a list of the same
length.
</p>



<h4>The double bracket extractor method</h4>

<p>The method for <code>"[["</code> accepts, unusually, two indices, <code>i</code>
and <code>j</code>, reflecting the above interpretation.
</p>
<p><code>i</code> is typically a character string or a positive integer
number identifying the bib item to extract, while <code>j</code> is a
character vector specifying the required fields of that bib
item. The result is a list. If <code>drop</code> is <code>FALSE</code>, then
the attributes of this list are set to those of the bib item
(e.g., <code>bibtype</code> and <code>key</code>).
</p>
<p>If <code>j</code> is missing, all fields of the item are included in the
result. However it depends on how <code>j</code> is missing. If it is
missing as in <code>x[[i, ]]</code> or <code>x[[i, , drop = FALSE]]</code>, the
result is as above and includes all entries in bib item <code>i</code>.
</p>
<p>Alternatively, <code>i</code> can be a list of length 2 and <code>j</code>
omitted. This is equivalent to a call with <code>i = i[[1]]</code> and
<code>j = i[[2]]</code>.
</p>
<p>If there is no redundant comma in the call, as in <code>x[[i]]</code> or
<code>x[[i, drop = FALSE]]</code>, then <code>i</code> must be a single index
value (positive integer number or character string).  The result is
a <code>"bibentryExtra"</code> object. This case is compatible with the
method for <code>"bibentry"</code> objects, which does not have argument
<code>j</code>. Note though that for the <code>"bibentry"</code> method <code>i</code>
can be of length more than 1.
</p>



<h4>The double bracket assignment method</h4>

<p>The assignment version of <code>"[["</code> does not have argument
<code>j</code>, so the two-element list form for <code>i</code> is used when
fields are needed, see above.
</p>
<p>If <code>value</code> inherits from <code>"bibentry"</code> (in particular, it can
be a <code>"bibentryExtra"</code> object), then <code>i</code> must be a single
character string or a positive integer specifying the bibitem to
replace with <code>value</code>. Notice that the new item may have a
different key.
</p>
<p>Otherwise, <code>value</code> should be a named list and <code>i</code> a list
of length 2.      
In this case, <code>i[[1]]</code> should be a character string of a
positive integer identifyng the bib item on which replacement will
take place, while <code>i[[2]]</code> is a character vector specifying the
fields to replace.  As a special case, <code>i[[2]]</code> can be the
character string <code>"*"</code>, which specifies that all elements of
<code>value</code> should be used.
</p>
<p>Usually <code>value</code> has names and these are interpreted as names of
fields.  In this case, the fields specified by <code>i[[2]]</code> are
replaced by the corresponding fields in <code>value</code>.
</p>
<p>If <code>value</code> has no names and <code>i[[2]]</code> is not equal to
<code>"*"</code> (see above), <code>value</code> must have the same length as
<code>i[[2]]</code> and its names are set to <code>i[[2]]</code>.
</p>



<h4>The single bracket extractor method</h4>

<p>For <code>"["</code>, <code>i</code> is an index vector specifying which bib
entries to extract. If <code>j</code> is missing completely, the bib
entries are extracted and returned as a <code>"bibentryExtra"</code>
object.
</p>
<p>If <code>j</code> is used, it is a character vector specifying which
fields to keep. For example, this could be a list of all standard
bibtex fields. Only fields from this list are kept. Note that this
may leave some bib entries invalid (i.e., missing compulsory
fields).
</p>
<p>Note that in any case the returned object has class
<code>"bibentryExtra"</code>.
</p>



<h3>Value</h3>

<p>for <code>as.bibentryExtra</code> and <code>bibentryExtra</code>,
a <code>"bibentryExtra"</code> object;
</p>
<p>for <code>"$"</code>, a list containing the requested fields with one list
component for each key.  If only one key was specified, the outer list
is dropped;
</p>
<p>for <code>"[["</code>, typically a list, but if argument <code>x</code> is
missing completely, the result is a <code>"bibentryExtra"</code> object,
as described in section &lsquo;The double bracket extractor
method&rsquo;;
</p>
<p>for <code>"["</code>, a <code>"bibentryExtra"</code> object;
</p>
<p>for the assignment operators (<code>"[[&lt;-"</code>, <code>"[&lt;-"</code> and <code>"$&lt;-"</code>),
the modified object <code>x</code>.
</p>
<p>for <code>names</code>, always a character vector. If attribute <code>names</code>
is <code>NULL</code>, the keys are put in a character vector and returned.
</p>


<h3>Note</h3>

<p>This is somewhat experimental but incompatible changes are unlikely.
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>See Also</h3>

<p>the vignette,
</p>
<p><code><a href="#topic+readBib">readBib</a></code> for importing bibtex files,
</p>
<p><code><a href="#topic+readBibentry">readBibentry</a></code> for importing from R source files
containing <code>bibentry</code> expressions,
</p>
<p><code><a href="#topic+charToBib">charToBib</a></code> for converting character vectors containing
<code>bibentry</code> expressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## example bib from ?bibentry
bref &lt;- c(
    bibentry(
        bibtype = "Manual",
        title = "boot: Bootstrap R (S-PLUS) Functions",
        author = c(
            person("Angelo", "Canty", role = "aut",
                   comment = "S original"),
            person(c("Brian", "D."), "Ripley", role = c("aut", "trl", "cre"),
                   comment = "R port, author of parallel support",
                   email = "ripley@stats.ox.ac.uk")
        ),
        year = "2012",
        note = "R package version 1.3-4",
        url = "https://CRAN.R-project.org/package=boot",
        key = "boot-package"
    ),
 
    bibentry(
        bibtype = "Book",
        title = "Bootstrap Methods and Their Applications",
        author = as.person("Anthony C. Davison [aut], David V. Hinkley [aut]"),
        year = "1997",
        publisher = "Cambridge University Press",
        address = "Cambridge",
        isbn = "0-521-57391-2",
        url = "http://statwww.epfl.ch/davison/BMA/",
        key = "boot-book"
    )
  )

brefExtra &lt;- as.bibentryExtra(bref)

## error: j is present, so i must have length 1:
## brefExtra[[1:2, "title"]]

## the returned list doesn't have attributes:
                                  brefExtra[[1, c("title", "author")]] # drop = TRUE by default

## now it does:
brefExtra[[1, "title", drop = FALSE]]
brefExtra[["boot-package", "title", drop = FALSE]]

brefExtra[["boot-book", ]]
brefExtra[["boot-book"]]


## assignment "[[&lt;-"
b2 &lt;- brefExtra
b2

## use all elements of 'value'
b2[[list(1, "*")]] &lt;- list(title = "New title", note = "a new note")

## replace title
b2[[list(1, "title")]] &lt;- list(title = "New title A")
b2

## no change,'year' is not in 'value'
b2[[list(1, "year")]] &lt;- list(title = "New title A2") 
b2

## remove 'year'
b2[[list(1, "year")]] &lt;- list(title = "New title A", year = NULL) ## removes 'year'
b2

## a bibentry 'value'
b2[[2]] &lt;- bibentry(bibtype = "Misc", title = "Dummy title",
                    author = "A A Dummy", organization = "none")
b2
</code></pre>

<hr>
<h2 id='rbibutils_formats'>Supported bibliography formats</h2><span id='topic+rbibutils_formats'></span>

<h3>Description</h3>

<p>Supported bibliography formats in package rbibutils.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbibutils_formats</code></pre>


<h3>Format</h3>

<p>A data frame with 16 observations on the following 5 variables:
</p>

<dl>
<dt><code>Abbreviation</code></dt><dd><p>a character vector.</p>
</dd>
<dt><code>FileExt</code></dt><dd><p>a character vector.</p>
</dd>
<dt><code>Input</code></dt><dd><p>a logical vector.</p>
</dd>
<dt><code>Output</code></dt><dd><p>a logical vector.</p>
</dd>
<dt><code>Description</code></dt><dd><p>a character vector.</p>
</dd>
</dl>



<h3>Details</h3>

<p>Each row in <code>rbibutils_formats</code> gives information about a supported
bibliography format in package <span class="pkg">rbibutils</span>. 
</p>
<p><code>Abbreviation</code> is the name to use in arguments <code>informat</code>
and <code>outformat</code> in <code><a href="#topic+bibConvert">bibConvert</a></code>.
</p>
<p><code>FileExt</code> is the default extension used to infer the input/output
format if the corresponding argument is missing.
</p>
<p><code>Input</code> (<code>Output</code>) is <code>TRUE</code> if the format is supported
for input (output).
</p>
<p><code>Description</code> gives a brief description of the format.
</p>
<p>See <code><a href="#topic+bibConvert">bibConvert</a></code>, section &ldquo;Supported formats&rdquo;, for
further details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rbibutils_formats
</code></pre>

<hr>
<h2 id='readBib'>Read and write bibtex files</h2><span id='topic+readBib'></span><span id='topic+writeBib'></span><span id='topic+charToBib'></span>

<h3>Description</h3>

<p>Read and write bibtex files.</p>


<h3>Usage</h3>

<pre><code class='language-R'>readBib(file, encoding = NULL, ..., direct = FALSE, 
        texChars = c("keep", "convert", "export", "Rdpack"), 
        macros = NULL, extra = FALSE, key, fbibentry = NULL)

writeBib(object, con = stdout(), append = FALSE)

charToBib(text, informat, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readBib_+3A_file">file</code></td>
<td>
<p>name or path to the file, a character string.</p>
</td></tr>
<tr><td><code id="readBib_+3A_encoding">encoding</code></td>
<td>
<p>the encoding of <code>file</code>, a character string.</p>
</td></tr>
<tr><td><code id="readBib_+3A_direct">direct</code></td>
<td>

<p>If <code>TRUE</code> parse <code>file</code> directly to <code>bibentry</code>,
otherwise convert first to intermediate XML, then to
<code>bibentry</code>.
</p>
</td></tr>
<tr><td><code id="readBib_+3A_texchars">texChars</code></td>
<td>

<p>What to do with characters represented by TeX commands  (for
example, accented Latin charaters? If <code>"export"</code>,
export as TeX escapes when possible. If <code>"convert"</code>, convert
to the target encoding. If <code>"keep"</code>, output the characters as
they were in the input file, like <code>"export"</code>, but don't convert
normal characters to TeX escapes.
</p>
<p><code>"Rdpack"</code> is mainly for internal use and its actions may be
changed. It is equivalent to &quot;keep&quot; plus some additional processing,
see <a href="https://github.com/GeoBosh/rbibutils/issues/7#issue-1020385889">https://github.com/GeoBosh/rbibutils/issues/7#issue-1020385889</a>.
</p>
</td></tr>
<tr><td><code id="readBib_+3A_macros">macros</code></td>
<td>

<p>additional bib files, usually containing bibtex macros, such as
journal abbreviations.
</p>
</td></tr>
<tr><td><code id="readBib_+3A_object">object</code></td>
<td>
<p>a <code>bibentry</code> object.</p>
</td></tr>
<tr><td><code id="readBib_+3A_con">con</code></td>
<td>
<p>filename (a character string) or a text connection</p>
</td></tr>
<tr><td><code id="readBib_+3A_append">append</code></td>
<td>
<p>if <code>TRUE</code> append to the file.</p>
</td></tr>
<tr><td><code id="readBib_+3A_text">text</code></td>
<td>

<p>a character vector.
</p>
</td></tr>
<tr><td><code id="readBib_+3A_informat">informat</code></td>
<td>

<p>the input format, defaults to <code>"bibtex"</code>. 
</p>
</td></tr>
<tr><td><code id="readBib_+3A_key">key</code></td>
<td>

<p>a character vectors of key(s) to use for entries without cite keys.
Should have the same number of elements as the number of such entries.
</p>
</td></tr>
<tr><td><code id="readBib_+3A_...">...</code></td>
<td>

<p>for <code>charTobib</code>, arguments to be passed on to <code>readBib</code> or
<code>bibConvert</code>, see Details.
Not used by <code>readBib</code> and <code>writeBib</code> (which throw error to
avoid silently ignoring unknown arguments).
</p>
</td></tr>
<tr><td><code id="readBib_+3A_extra">extra</code></td>
<td>
<p>if <code>TRUE</code>, allow non-standard bibtex types.</p>
</td></tr>
<tr><td><code id="readBib_+3A_fbibentry">fbibentry</code></td>
<td>
<p>a function to use for generating bib objects instead
of <code>bibentry()</code>, see Details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>readBib</code> is wrapper around <code>bibConvert</code> for import of
bibtex files into bibentry objects.
</p>
<p>If <code>direct = FALSE</code>, the bibtex file is converted first to XML
intermediate, then the XML file is converted to bibentry. The
advantage of this is that it gives a standardised representation of
the bibtex input. Fields that cannot be mapped to the intermediate
format are generally omitted.
</p>
<p>If <code>direct = TRUE</code> the input file is converted directly to
bibentry, without the XML intermediate step. This means that
non-standard fields in the bib entries are preserved in the bibentry
object.
</p>
<p>Argument <code>texChars</code>, currently implemented only for the case
<code>direct = TRUE</code>, gives some control over the processing of TeX
sequences representing characters (such as accented Latin characters):
If it is <code>"keep"</code> (the default), such sequences are kept as in
the input. <code>"convert"</code> causes them to be converted to the
characters they represent. Finally, <code>"export"</code> exports characters
as TeX sequences, whenever possible.
</p>
<p>The difference between <code>"keep"</code> and <code>"export"</code> is that
<code>"keep"</code> does not convert normal characters to TeX escapes, while
<code>"export"</code> does it if possible. For example, if the input file
contains the TeX sequence <code style="white-space: pre;">&#8288;\"o&#8288;</code> 
representing the letter o-umlaut, <code>"keep"</code> and <code>"export"</code>
will keep it as TeX sequence, while <code>"convert"</code> will convert it
to the character o-umlaut in the output encoding (normally UTF-8).  On
the othe hand, if the input file contains the character o-umlaut, then
<code>"keep"</code> and <code>"convert"</code> will convert it to the output
encoding of o-umlaut, while <code>"export"</code> will export it as
<code style="white-space: pre;">&#8288;\"o&#8288;</code>. 
</p>






<p>Currently, <code>texChars = "export"</code> does not process properly
mathematical formulas.
</p>
<p><code>fbibentry</code>, if supplied, should be a function with arguments
like bibentry to be used instead of <code>utils::bibentry</code> for
creating bib objects in <span class="rlang"><b>R</b></span>.
</p>
<p><code>writeBib</code> writes a <code>bibentry</code> object to a bibtex file.
</p>
<p><code>charTobib</code> is a convenience function for reading or converting
bibliography information, accepting the input from a
character vector rather than a file. If <code>informat</code> is missing it calls
<code>readBib</code>, otherwise <code>bibConvert</code>. In both cases
the remaining arguments are passed on and should be suitable for the
called function.
</p>
<p>The files specified by argument <code>macros</code> are read in before those
in <code>file</code>. Currently this is implemented by concatenating the
files in the order they appear in <code>c(macros, file)</code>. It is ok for
<code>macros</code> to be <code>character(0)</code>.
</p>


<h3>Value</h3>

<p>for <code>readBib</code>, a <code>bibentry</code> object.
If <code>extra</code> is <code>TRUE</code> it can also
be <code>bibentryExtra</code> (which inherits from <code>bibentry</code>).
If <code>fbibentry</code> is a function the return value is whatever it
returns.
</p>
<p>for <code>writeBib</code>, the <code>bibentry</code> object (invisibly)
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>See Also</h3>

<p><code><a href="#topic+readBibentry">readBibentry</a></code> and <code><a href="#topic+writeBibentry">writeBibentry</a></code> for
import/export to R code,
</p>
<p><code><a href="#topic+bibConvert">bibConvert</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create a bibentry object
bibs &lt;- readBib(system.file("REFERENCES.bib", package = "rbibutils"),
                encoding = "UTF-8")
## write bibs to a file
fn &lt;- tempfile(fileext = ".bib")
writeBib(bibs, fn)

## see the contents of the file
readLines(fn) # or: file.show(fn)

## import a bib file containing Chineese characters encoded with UTF-8:
ch_bib &lt;- readBib(system.file("bib/xeCJK_utf8.bib", package = "rbibutils"))
ch_bib
print(ch_bib, style = "R")

## import a bib file encoded with the official Chineese encoding:
ch_bib2 &lt;- readBib(system.file("bib/xeCJK_gb18030.bib", package = "rbibutils"),
                   encoding = "gb18030")


## a dummy reference with accented characters
## (in the file some are utf8, others are TeX escapes)
bibacc &lt;- system.file("bib/latin1accents_utf8.bib", package = "rbibutils")

## export as UTF-8 characters
## this will print as true characters in suitable locale:
be &lt;- readBib(bibacc, direct = TRUE, texChars = "convert")
print(be, style = "R")
print(be, style = "bibtex")
## compare to the input file:
readLines(bibacc)


be1 &lt;- readBib(bibacc, direct = TRUE)
be1a &lt;- readBib(bibacc, direct = TRUE, texChars = "keep") # same
be1
print(be1, style = "R")
print(be1, style = "bibtex")

## export as TeX escapes, when possible
be2 &lt;- readBib(bibacc, direct = TRUE, texChars = "export") ## same
be2
print(be2, style = "R")
print(be2, style = "bibtex")

## in older versions (up to 2.2.4) of rbibutils, "convert" converted
##     a lot of TeX commands representing symbols  to characters.
## This is no longer the case:
be3 &lt;- readBib(bibacc, direct = TRUE, texChars = "convert")
## be3
print(be3, style = "R")
## print(be3, style = "bibtex")

## charToBib
##
## get a bibtex reference for R
Rcore &lt;- format(citation(), style = "bibtex")
## add a citation key
Rcore &lt;- sub("@Manual{", "@Manual{Rcore", Rcore, fixed = TRUE)
cat(Rcore, sep = "\n")
beRcore &lt;- charToBib(Rcore)
beRcore
class(beRcore)
print(beRcore, style = "R")

## bibtex entries generated by citation() don't have cite keys.
## this sets the key to 'Rcore'
beRcore &lt;- charToBib(toBibtex(citation()), key = "Rcore")
beRcore$key == "Rcore"  # TRUE

## this sets two keys
bemore &lt;- charToBib(toBibtex( c(citation(), citation("rbibutils"))),
    key = c("Rcore", "Rpackage:rbibutils"))
all.equal(names(bemore), c("Rcore", "Rpackage:rbibutils"))


## a large example with several files - needs internet access;
## it is better to clone repository https://github.com/iridia-ulb/references
## and work on local files
##
## iridia_mac &lt;- c("abbrev.bib", "authors.bib", "journals.bib", "crossref.bib")
## iridia_biblio &lt;- "biblio.bib"
## 
## iridia_raw_url &lt;- "https://raw.githubusercontent.com/iridia-ulb/references/master"
## iridia_mac_url &lt;- file.path(iridia_raw_url, iridia_mac)
## iridia_biblio_url &lt;- file.path(iridia_raw_url, iridia_biblio)
## 
## bibdir &lt;- tempdir()
## iridia_mac_loc &lt;- file.path(bibdir, iridia_mac)
## iridia_biblio_loc &lt;- file.path(bibdir, iridia_biblio)
## 
## ## download the files to bibdir
## sapply(c(iridia_biblio_url, iridia_mac_url),
##        function(x) download.file(x, file.path(bibdir, basename(x))))
## 
## iridia &lt;- readBib(iridia_biblio_loc, direct = TRUE, macros = iridia_mac_loc)
## iridia[1]
## print(iridia[1], style = "R")
## toBibtex(iridia[1])  # or: print(iridia[1], style = "bibtex")
## length(iridia)  # 2576 at the time of writing

unlink(fn)
</code></pre>

<hr>
<h2 id='readBibentry'>Read and write bibentry files</h2><span id='topic+readBibentry'></span><span id='topic+writeBibentry'></span>

<h3>Description</h3>

<p>Read and write bibentry files.</p>


<h3>Usage</h3>

<pre><code class='language-R'>readBibentry(file, extra = FALSE, fbibentry = NULL)

writeBibentry(be, file = stdout(), style = c("Rstyle", "loose"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readBibentry_+3A_be">be</code></td>
<td>
<p>a bibentry object.</p>
</td></tr>
<tr><td><code id="readBibentry_+3A_file">file</code></td>
<td>

<p>filename, a character string or a connection. The default is stdout
(effectively, to write on the screen).
</p>
</td></tr>
<tr><td><code id="readBibentry_+3A_extra">extra</code></td>
<td>
<p>if <code>TRUE</code> allow non-standard bibtex types.</p>
</td></tr>
<tr><td><code id="readBibentry_+3A_style">style</code></td>
<td>

<p>if <code>"Rstyle"</code> (default), wrap in <code>c()</code>, otherwise don't
wrap and don't put commas between the entries, see Details section.
</p>
</td></tr>
<tr><td><code id="readBibentry_+3A_fbibentry">fbibentry</code></td>
<td>

<p>a function to use for generating bib objects. The default is
<code>utils::bibentry()</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions read/write <code>bibentry</code> objects from/to R source
files. Two styles are supported. <code>"Rstyle"</code> is the format used by
<code>print(be, style = "R")</code>, which writes the <code>bibentry</code> calls
as a comma separated sequence wrapped in <code>c()</code> (i.e., the file
contains a single R expression). Style <code>"loose"</code> writes the
entries without separators and no wrapping.
</p>
<p><code>writeBibentry</code> writes the object to the specified file in the
requested style (default is <code>"Rstyle"</code>). The file is neatly
formatted for humans to read and edit.
</p>
<p><code>readBibentry</code> reads the file and creates a <code>bibentry</code>
object. It doesn't have argument for style, since that is inferred
from the contents of the file. 
</p>
<p><code>bibentry()</code> calls that throw errors are not included in the
returned object. The errors are intercepted and converted to warnings,
identifying the corresponding <code>bibentry()</code> calls by their keys,
if present (otherwise the text of the whole bibentry is shown).
</p>


<h3>Value</h3>

<p>for <code>writeBibentry</code>, <code>NULL</code> (invisibly)
</p>
<p>for <code>readBibentry</code>, a <code>bibentry</code> object with the keys as
names
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>See Also</h3>

<p><code><a href="#topic+readBib">readBib</a></code> and <code><a href="#topic+writeBib">writeBib</a></code> for reading/writing
bib files,
</p>
<p><code><a href="#topic+bibConvert">bibConvert</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bibs &lt;- readBib(system.file("REFERENCES.bib", package = "rbibutils"),
                encoding = "UTF-8")
fn &lt;- tempfile(fileext = ".bib")

writeBibentry(bibs, file = fn) # style = "Rstyle" (default)
cat(readLines(fn), sep = "\n")

writeBibentry(bibs, file = fn, style = "loose")
cat(readLines(fn), sep = "\n")

unlink(fn)
</code></pre>

<hr>
<h2 id='register_JSSextra'>Create and register bibstyle JSSextra</h2><span id='topic+register_JSSextra'></span>

<h3>Description</h3>

<p>Create and register bibstyle JSSextra.</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_JSSextra(make_default = FALSE, reset = FALSE, parent_style = "JSS")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="register_JSSextra_+3A_make_default">make_default</code></td>
<td>

<p>if <code>TRUE</code> make <code>"JSSextra"</code> default.
</p>
</td></tr>
<tr><td><code id="register_JSSextra_+3A_reset">reset</code></td>
<td>

<p>recreate bibstyle <code>"JSSextra"</code>.
</p>
</td></tr>
<tr><td><code id="register_JSSextra_+3A_parent_style">parent_style</code></td>
<td>

<p>the style from which to derive <code>"JSSextra"</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>register_JSSextra</code> creates style <code>"JSSextra"</code> and registers
it for use in the current <span class="rlang"><b>R</b></span> session. This means that it can be
specified for functions which accept a bibstyle argument, most notably
printing objects from class <code>"bibentry"</code> and
<code>"bibentryExtra"</code>.  In normal use <code>register_JSSextra</code> is
called once in a session.
</p>
<p>Functions accepting a bibstyle argument use a default style if such an
argument is not provided. In most cases it is <code>"JSS"</code>.
</p>
<p>Using <code>tools::bibstyle()</code> the default style can be changed at any
time to any of the styles currently registered in the session. A list
of these styles can be obtained with
<code>tools::getBibstyle(TRUE)</code>. The currently default style can be
seen with <code>tools::getBibstyle()</code>.  As a convenience
<code>register_JSSextra(TRUE)</code> makes and registers <code>"JSSextra"</code>
as the default style.
</p>
<p>The remaining arguments should rarely be needed in normal
circumstances.
</p>
<p><code>register_JSSextra</code> stores the bibstyle object it creates and
just uses it when called again. <code>reset = TRUE</code> can be used to
force a fresh copy of <code>"JSSextra"</code> to be created.
</p>
<p>By default <code>"JSSextra"</code> is derived from <code>"JSS"</code>. To base it
on a different style, use argument <code>parent_style</code>.
</p>


<h3>Value</h3>

<p><code>register_JSSextra</code> is used mainly for the side effect of
registering and setting the style as default.  It returns the created
style (an environment) but it can be discarded.
</p>


<h3>Author(s)</h3>

<p>Georgi N. Boshnakov</p>


<h3>Examples</h3>

<pre><code class='language-R'>## current default style
tools::getBibstyle()
tools::getBibstyle(TRUE)  # all styles, currently "JSS" only

register_JSSextra()       # register "JSSextra"
tools::getBibstyle(TRUE)  # now it is available
tools::getBibstyle()      # ... but not default

register_JSSextra(TRUE)  # this makes it default
tools::getBibstyle()

## setting default style with bibstyle():
tools::bibstyle("JSS", .default = TRUE)
tools::getBibstyle()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

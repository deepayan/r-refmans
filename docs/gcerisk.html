<!DOCTYPE html><html><head><title>Help for package gcerisk</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gcerisk}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gcecox'>
<p>Fit Generalized Competing Event Model Based on Proportional Hazards Regression</p></a></li>
<li><a href='#gcefg'><p>Fit Generalized Competing Event Model Based on Fine Gray Regression</p></a></li>
<li><a href='#Sample'><p>Sample dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generalized Competing Event Model</td>
</tr>
<tr>
<td>Version:</td>
<td>19.05.24</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-05-22</td>
</tr>
<tr>
<td>Author:</td>
<td>Hanjie Shen &lt;shenhanjie0418@gmail.com&gt;, Ruben Carmona
    &lt;ruben.carmona13@gmail.com&gt;, Loren Mell &lt;lmell@ucsd.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hanjie Shen &lt;shenhanjie0418@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>survival, cmprsk, ggplot2,</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>Description:</td>
<td>Generalized competing event model based on Cox PH model and Fine-Gray model.
    This function is designed to develop optimized risk-stratification methods for competing
    risks data, such as described in:
    1. Carmona R, Gulaya S, Murphy JD, Rose BS, Wu J, Noticewala S,McHale MT, Yashar CM, Vaida F,
    and Mell LK (2014) &lt;<a href="https://doi.org/10.1016%2Fj.ijrobp.2014.03.047">doi:10.1016/j.ijrobp.2014.03.047</a>&gt;.
    2. Carmona R, Zakeri K, Green G, Hwang L, Gulaya S, Xu B, Verma R, Williamson CW, Triplett DP, Rose
    BS, Shen H, Vaida F, Murphy JD, and Mell LK (2016) &lt;<a href="https://doi.org/10.1200%2FJCO.2015.65.0739">doi:10.1200/JCO.2015.65.0739</a>&gt;.
    3. Lunn, Mary, and Don McNeil (1995) &lt;<a href="https://doi.org/10.2307%2F2532940">doi:10.2307/2532940</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-05-23 05:10:47 UTC; shen</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-05-23 07:50:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='gcecox'>
Fit Generalized Competing Event Model Based on Proportional Hazards Regression
</h2><span id='topic+gcecox'></span>

<h3>Description</h3>

<p>Fit a generalized competing event model by using Cox proportational hazards regression model
with <code>coxph</code> function in <code>survival</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gcecox(Time, Ind, Cov, N, M, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gcecox_+3A_time">Time</code></td>
<td>

<p>survival time for event(s) of interest.
</p>
</td></tr>
<tr><td><code id="gcecox_+3A_ind">Ind</code></td>
<td>

<p>the status indicators including the primary event(s) of interest, competing event(s) of interest, and all kind of event(s) of interest, normally 0 = alive, 1 = dead from the specific event(s) of interest.
</p>
</td></tr>
<tr><td><code id="gcecox_+3A_cov">Cov</code></td>
<td>

<p>a data frame containing all covariates.
</p>
</td></tr>
<tr><td><code id="gcecox_+3A_n">N</code></td>
<td>
<p>the number of bootstrap replicates</p>
</td></tr>
<tr><td><code id="gcecox_+3A_m">M</code></td>
<td>
<p>the number of bins for <code class="reqn">\omega</code> or <code class="reqn">\omega+</code> plots.</p>
</td></tr>
<tr><td><code id="gcecox_+3A_t">t</code></td>
<td>
<p>survival time point for <code class="reqn">\omega</code> or <code class="reqn">\omega+</code> plots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <strong>gcerisk</strong> package is designed to help investigators optimize risk-stratification methods for competing risks data, such as described in
Carmona R, Gulaya S, Murphy JD, Rose BS, Wu J, Noticewala S, McHale MT, Yashar CM, Vaida F, Mell LK. Validated competing event model for the stage I-II endometrial cancer population.
Int J Radiat Oncol Biol Phys. 2014;89:888-98. Standard risk models typically estimate the effects of one or more covariates on either
a single event of interest (such as overall mortality, or disease recurrence), or a composite set of events (e.g., disease-free survival, which combines events of interest with death from any cause).
This method is inefficient in stratifying patients who may be simultaneously at high risk for the event of interest but low risk for competing events, and who thus stand to gain the most from strategies to modulate the event of interest.
Compared to standard risk models, GCE models better stratify patients at higher (lower) risk for an event of interest and lower (higher) risk of competing events. GCE models focus on differentiating subjects based on
the ratio of the cumulative hazard (or cumulative hazard of the subdistribution) for the event of interest to the cumulative hazard (or cumulative hazard of the subdistribution) for all events (<code class="reqn">\omega</code>),
and the ratio of the cumulative hazard (or cumulative hazard of the subdistribution) for the event of interest to the cumulative hazard (or cumulative hazard of the subdistribution) for competing events (<code class="reqn">\omega+</code>).
</p>
<p>The <code>gcecox</code> function produces model estimates and confidence intervals from a generalized competing event model based on the Cox PH model for cause-specific hazards. The model assumes proportional hazards for the composite set of events.
</p>
<p>The function returns <code class="reqn">\omega</code> and <code class="reqn">\omega+</code> ratio estimates for the chosen covariates, with 95% confidence intervals, and plots <code class="reqn">\omega</code> and <code class="reqn">\omega+</code> at time t within M ordered subsets of subjects as a function of increasing risk (based on the linear predictor, i.e. the inner product of a subject's data vector and the coefficient vector).
</p>


<h3>Value</h3>

<table>
<tr><td><code>$coef1</code></td>
<td>
<p>generalized competing event model coefficients (log (<code class="reqn">\omega</code> ratio))</p>
</td></tr>
<tr><td><code>$coef2</code></td>
<td>
<p>generalized competing event model coefficients (log (<code class="reqn">\omega+</code> ratio))</p>
</td></tr>
<tr><td><code>$result1</code></td>
<td>
<p>result table for generalized competing event model containing exponential of coefficients (<code class="reqn">\omega</code> ratio) and 95% confidence intervals</p>
</td></tr>
<tr><td><code>$result2</code></td>
<td>
<p>result table for generalized competing event model containing exponential of coefficients (<code class="reqn">\omega+</code> ratio) and 95% confidence intervals</p>
</td></tr>
<tr><td><code>$omegaplot1</code></td>
<td>
<p><code class="reqn">\omega</code> plot for generalized  competing event model</p>
</td></tr>
<tr><td><code>$omegaplot2</code></td>
<td>
<p><code class="reqn">\omega+</code> plot for generalized  competing event model</p>
</td></tr>
<tr><td><code>$omegaplot3</code></td>
<td>
<p>plot of <code class="reqn">\omega</code> vs time</p>
</td></tr>
<tr><td><code>$omega</code></td>
<td>
<p>predicted <code class="reqn">\omega</code> values</p>
</td></tr>
<tr><td><code>$omegaplus</code></td>
<td>
<p>predicted <code class="reqn">\omega+</code> values</p>
</td></tr>
<tr><td><code>$riskscore1</code></td>
<td>
<p>predicted risk scores for <code class="reqn">\omega</code></p>
</td></tr>
<tr><td><code>$riskscore2</code></td>
<td>
<p>predicted risk scores for <code class="reqn">\omega+</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Hanjie Shen, Ruben Carmona, Loren Mell
</p>


<h3>References</h3>


<ul>
<li><p> Carmona R, Gulaya S, Murphy JD, Rose BS, Wu J, Noticewala S, McHale MT, Yashar CM, Vaida F, Mell LK. (2014) Validated competing event model for the stage I-II endometrial cancer population. Int J Radiat Oncol Biol Phys.89:888-98.
</p>
</li>
<li><p> Carmona R, Green GB, Zakeri K, Gulaya S, Xu B, Verma R, Williamson C, Rose BS, Murphy JD, Vaida F, Mell LK. (2015) Novel method to stratify elderly patients with head and neck cancer. J Clin Oncol 33 (suppl; abstr 9534).
</p>
</li>
<li><p> Carmona R, Zakeri K, Green GB, Triplett DP, Murphy JD, Mell LK. (2015) Novel method to stratify elderly patients with prostate cancer. J Clin Oncol 33 (suppl; abstr 9532).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># sample data to test
data(Sample)
test &lt;- Sample
rm(list=setdiff(ls(), "test"))
test &lt;- transform(test, LRF_OR_DF_FLAG = as.numeric(test$LRFFLAG | test$DFFLAG))
test &lt;- transform(test, CMFLAG = as.numeric(test$OSFLAG &amp; !test$LRFFLAG &amp; !test$DFFLAG))
test &lt;- transform(test, ACMFLAG = as.numeric(test$LRF_OR_DF_FLAG | test$CMFLAG))

Time &lt;- test$OSMO/12
Ind &lt;- data.frame(test$LRF_OR_DF_FLAG, test$CMFLAG, test$ACMFLAG)
Cov &lt;- test[,c(3,4,6,15)]
N &lt;- 100
M &lt;- 5
t &lt;- 5

fit &lt;- gcecox(Time, Ind, Cov, N, M, t)

</code></pre>

<hr>
<h2 id='gcefg'>Fit Generalized Competing Event Model Based on Fine Gray Regression</h2><span id='topic+gcefg'></span>

<h3>Description</h3>

<p>Fit a generalized competing event model by using Fine Gray
regression model with <code>crr</code> function in <code>cmprsk</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gcefg(Time, Ind, Cov, N, M, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gcefg_+3A_time">Time</code></td>
<td>

<p>survival time for event(s) of interest.
</p>
</td></tr>
<tr><td><code id="gcefg_+3A_ind">Ind</code></td>
<td>

<p>the status indicators including the primary event(s) of interest, competing event(s) of interest, and all kind of event(s) of interest, normally 0 = alive, 1 = dead from the specific event(s) of interest.
</p>
</td></tr>
<tr><td><code id="gcefg_+3A_cov">Cov</code></td>
<td>

<p>a data frame containing all covariates.
</p>
</td></tr>
<tr><td><code id="gcefg_+3A_n">N</code></td>
<td>
<p>the number of bootstrap replicates</p>
</td></tr>
<tr><td><code id="gcefg_+3A_m">M</code></td>
<td>
<p>the number of bins for <code class="reqn">\omega</code> or <code class="reqn">\omega+</code> plots.</p>
</td></tr>
<tr><td><code id="gcefg_+3A_t">t</code></td>
<td>
<p>survival time point for <code class="reqn">\omega</code> or <code class="reqn">\omega+</code> plots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <strong>gcerisk</strong> package is designed to help investigators optimize risk-stratification methods for competing risks data, such as described in
Carmona R, Gulaya S, Murphy JD, Rose BS, Wu J, Noticewala S, McHale MT, Yashar CM, Vaida F, Mell LK. Validated competing event model for the stage I-II endometrial cancer population.
Int J Radiat Oncol Biol Phys. 2014;89:888-98. Standard risk models typically estimate the effects of one or more covariates on either
a single event of interest (such as overall mortality, or disease recurrence), or a composite set of events (e.g., disease-free survival, which combines events of interest with death from any cause).
This method is inefficient in stratifying patients who may be simultaneously at high risk for the event of interest but low risk for competing events, and who thus stand to gain the most from strategies to modulate the event of interest.
Compared to standard risk models, GCE models better stratify patients at higher (lower) risk for an event of interest and lower (higher) risk of competing events. GCE models focus on differentiating subjects based on
the ratio of the cumulative hazard (or cumulative hazard of the subdistribution) for the event of interest to the cumulative hazard (or cumulative hazard of the subdistribution) for all events (<code class="reqn">\omega</code>),
and the ratio of the cumulative hazard (or cumulative hazard of the subdistribution) for the event of interest to the cumulative hazard (or cumulative hazard of the subdistribution) for competing events (<code class="reqn">\omega+</code>).
</p>
<p>The <code>gcefg</code> function produces model estimates and confidence intervals from a generalized competing event model based on the Fine-Gray model for subdistribution hazards. In the subdistribution hazards model, the function H(t)= -log(1-F(t)) represents the cumulative hazard of the subdistribution for the cumulative distribution function F(t).
The model assumes proportional subdistribution hazards for the composite set of events.
</p>
<p>The function returns <code class="reqn">\omega</code> and <code class="reqn">\omega+</code> ratio estimates for the chosen covariates, with 95% confidence intervals, and plots <code class="reqn">\omega</code> and <code class="reqn">\omega+</code> at time t within M ordered subsets of subjects as a function of increasing risk (based on the linear predictor, i.e. the inner product of a subject's data vector and the coefficient vector).
</p>


<h3>Value</h3>

<table>
<tr><td><code>$coef1</code></td>
<td>
<p>generalized competing event model coefficients (log (<code class="reqn">\omega</code> ratio))</p>
</td></tr>
<tr><td><code>$coef2</code></td>
<td>
<p>generalized competing event model coefficients (log (<code class="reqn">\omega+</code> ratio))</p>
</td></tr>
<tr><td><code>$result1</code></td>
<td>
<p>result table for generalized competing event model containing exponential of coefficients (<code class="reqn">\omega</code> ratio) and 95% confidence intervals</p>
</td></tr>
<tr><td><code>$result2</code></td>
<td>
<p>result table for generalized competing event model containing exponential of coefficients (<code class="reqn">\omega+</code> ratio) and 95% confidence intervals</p>
</td></tr>
<tr><td><code>$omegaplot1</code></td>
<td>
<p><code class="reqn">\omega</code> plot for generalized  competing event model</p>
</td></tr>
<tr><td><code>$omegaplot2</code></td>
<td>
<p><code class="reqn">\omega+</code> plot for generalized  competing event model</p>
</td></tr>
<tr><td><code>$omegaplot3</code></td>
<td>
<p>plot of <code class="reqn">\omega</code> vs time</p>
</td></tr>
<tr><td><code>$riskscore1</code></td>
<td>
<p>predicted risk scores for <code class="reqn">\omega</code></p>
</td></tr>
<tr><td><code>$riskscore2</code></td>
<td>
<p>predicted risk scores for <code class="reqn">\omega+</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Hanjie Shen, Ruben Carmona, Loren Mell
</p>


<h3>References</h3>


<ul>
<li><p> Carmona R, Gulaya S, Murphy JD, Rose BS, Wu J, Noticewala S, McHale MT, Yashar CM, Vaida F, Mell LK. (2014) Validated competing event model for the stage I-II endometrial cancer population. Int J Radiat Oncol Biol Phys.89:888-98.
</p>
</li>
<li><p> Carmona R, Green GB, Zakeri K, Gulaya S, Xu B, Verma R, Williamson C, Rose BS, Murphy JD, Vaida F, Mell LK. (2015) Novel method to stratify elderly patients with head and neck cancer. J Clin Oncol 33 (suppl; abstr 9534).
</p>
</li>
<li><p> Carmona R, Zakeri K, Green GB, Triplett DP, Murphy JD, Mell LK. (2015) Novel method to stratify elderly patients with prostate cancer. J Clin Oncol 33 (suppl; abstr 9532).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># sample data to test
data(Sample)
test &lt;- Sample
d &lt;- trunc(dim(test)[1]*0.1)
set.seed(seed=2017)
s &lt;- sample(dim(test)[1],d,replace = FALSE)
test &lt;- test[s,]
rm(list=setdiff(ls(), "test"))
test &lt;- transform(test, LRF_OR_DF_FLAG = as.numeric(test$LRFFLAG | test$DFFLAG))
test &lt;- transform(test, LRF_OR_DF_MO = pmin(test$LRFMO, test$DFMO))
test &lt;- transform(test, CMFLAG = as.numeric(test$OSFLAG &amp; !test$LRFFLAG &amp; !test$DFFLAG))
test &lt;- transform(test, ACMFLAG = as.numeric(test$LRF_OR_DF_FLAG | test$CMFLAG))
test &lt;- transform(test, ACM_MO = pmin(test$LRF_OR_DF_MO, test$OSMO))

cod1 &lt;- test$ACMFLAG
cod1[test$LRF_OR_DF_FLAG == 1] &lt;- 1
cod1[test$CMFLAG == 1] &lt;- 2
cod2 &lt;- test$ACMFLAG
Ind &lt;- data.frame(cod1 = cod1, cod2 = cod2)
Time &lt;- test$OSMO/12
Cov &lt;- test[,c(3,4,6,15)]

N &lt;- 50
M &lt;- 5
t &lt;- 5

fit &lt;- gcefg(Time, Ind, Cov, N, M, t)

</code></pre>

<hr>
<h2 id='Sample'>Sample dataset</h2><span id='topic+Sample'></span>

<h3>Description</h3>

<p>A sample dataset used to test functions in package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sample
</code></pre>


<h3>Format</h3>

<p>A data frame with 479 rows and 16 variables:
</p>

<dl>
<dt>X</dt><dd><p>index variable</p>
</dd>
<dt>gender</dt><dd><p>covariate</p>
</dd>
<dt>smoke20</dt><dd><p>covariate</p>
</dd>
<dt>etohheavy</dt><dd><p>covariate</p>
</dd>
<dt>higrade</dt><dd><p>covariate</p>
</dd>
<dt>age</dt><dd><p>covariate</p>
</dd>
<dt>OSFLAG</dt><dd><p>event variable</p>
</dd>
<dt>LRFFLAG</dt><dd><p>event variable</p>
</dd>
<dt>DFFLAG</dt><dd><p>event variable</p>
</dd>
<dt>DFSFLAG</dt><dd><p>event variable</p>
</dd>
<dt>OSMO</dt><dd><p>time variable</p>
</dd>
<dt>LRFMO</dt><dd><p>time variable</p>
</dd>
<dt>DFMO</dt><dd><p>time variable</p>
</dd>
<dt>DFSMO</dt><dd><p>time variable</p>
</dd>
<dt>BMI</dt><dd><p>covariate</p>
</dd>
<dt>black</dt><dd><p>covariate</p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

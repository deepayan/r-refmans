<!DOCTYPE html><html><head><title>Help for package gems</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gems}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gems'><p>gems: Generalized Multistate Simulation Model</p></a></li>
<li><a href='#ArtCohort'><p>Class <code>"ArtCohort"</code></p></a></li>
<li><a href='#cumulativeIncidence'><p>transition probabilities</p></a></li>
<li><a href='#generateHazardMatrix'><p>generate template for transition functions</p></a></li>
<li><a href='#generateParameterCovarianceMatrix'><p>generate a template for parameter covariances</p></a></li>
<li><a href='#generateParameterMatrix'><p>generate a template for mean parameters</p></a></li>
<li><a href='#PosteriorProbabilities'><p>Class <code>"PosteriorProbabilities"</code></p></a></li>
<li><a href='#simulateCohort'><p>Simulate cohort</p></a></li>
<li><a href='#tavi'><p>tavi data set</p></a></li>
<li><a href='#transition.structure'><p>Class <code>"transition.structure"</code></p></a></li>
<li><a href='#transitionProbabilities'><p>transition probabilities</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generalized Multistate Simulation Model</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-03-26</td>
</tr>
<tr>
<td>Author:</td>
<td>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Luisa Salazar Vizcaya &lt;luisapaola.salazarvizcaya@insel.ch&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>MASS, methods, msm, plyr, graphics, stats, utils, data.table</td>
</tr>
<tr>
<td>Suggests:</td>
<td>muhaz</td>
</tr>
<tr>
<td>Description:</td>
<td>Simulate and analyze multistate models with general hazard
    functions. gems provides functionality for the preparation of hazard functions
    and parameters, simulation from a general multistate model and predicting future
    events. The multistate model is not required to be a Markov model and may take
    the history of previous events into account. In the basic version, it allows
    to simulate from transition-specific hazard function, whose parameters are
    multivariable normally distributed.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-03-26 01:56:07 UTC; luisa</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-03-26 16:02:51 UTC</td>
</tr>
</table>
<hr>
<h2 id='gems'>gems: Generalized Multistate Simulation Model</h2><span id='topic+gems'></span><span id='topic+gems-package'></span>

<h3>Description</h3>

<p>Simulate and analyze multistate models with 
general hazard functions. gems provides functionality for the preparation 
of hazard functions and parameters, simulation from a general multistate 
model and predicting future events. The multistate model is not required 
to be a Markov model and may take the history of previous events into 
account. In the basic version, it allows to simulate from 
transition-specific hazard function, whose parameters are multivariable 
normally distributed.
</p>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>

<hr>
<h2 id='ArtCohort'>Class <code>"ArtCohort"</code></h2><span id='topic+ArtCohort'></span><span id='topic+ArtCohort-class'></span><span id='topic++5B+2CArtCohort+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+2CArtCohort-method'></span><span id='topic++5B.ArtCohort'></span><span id='topic+head+2CArtCohort-method'></span><span id='topic+head.ArtCohort'></span><span id='topic+summary+2CArtCohort-method'></span><span id='topic+summary.ArtCohort'></span><span id='topic+tail+2CArtCohort-method'></span><span id='topic+tail.ArtCohort'></span><span id='topic+update+2CArtCohort-method'></span><span id='topic+update.ArtCohort'></span>

<h3>Description</h3>

<p>Is a S4 class for the artificial cohort generated by <code>simulateCohort</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ArtCohort,ANY,ANY,ANY'
x[i, j, ..., drop = TRUE]

## S4 method for signature 'ArtCohort'
update(object, newsize, addbaseline = matrix(NA, nrow =
  newsize - object@size), newInitialStates = rep(1, newsize - object@size))

## S4 method for signature 'ArtCohort'
head(x, ...)

## S4 method for signature 'ArtCohort'
tail(x, ...)

## S4 method for signature 'ArtCohort'
summary(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ArtCohort_+3A_x">x</code>, <code id="ArtCohort_+3A_object">object</code></td>
<td>
<p>an ArtCohort</p>
</td></tr>
<tr><td><code id="ArtCohort_+3A_i">i</code>, <code id="ArtCohort_+3A_j">j</code>, <code id="ArtCohort_+3A_drop">drop</code></td>
<td>
<p>same as for <code>data.frame</code></p>
</td></tr>
<tr><td><code id="ArtCohort_+3A_...">...</code></td>
<td>
<p>passed on to <code>data.frame</code> method</p>
</td></tr>
<tr><td><code id="ArtCohort_+3A_newsize">newsize</code></td>
<td>
<p>size of the updated cohort</p>
</td></tr>
<tr><td><code id="ArtCohort_+3A_addbaseline">addbaseline</code></td>
<td>
<p>baseline for new part of cohort</p>
</td></tr>
<tr><td><code id="ArtCohort_+3A_newinitialstates">newInitialStates</code></td>
<td>
<p>initial states for new part of cohort</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>states.number</code></dt><dd><p>Object of class <code>"numeric"</code>: number of states</p>
</dd>
<dt><code>size</code></dt><dd><p>Object of class <code>"numeric"</code>: cohort size</p>
</dd>
<dt><code>baseline</code></dt><dd><p>Object of class <code>"matrix"</code>: baseline matrix</p>
</dd>
<dt><code>follow.up</code></dt><dd><p>Object of class <code>"numeric"</code>: maximum follow-up time</p>
</dd>
<dt><code>parameters</code></dt><dd><p>Object of class <code>"transition.structure"</code>: input parameters</p>
</dd>
<dt><code>parametersCovariances</code></dt><dd><p>Object of class <code>"transition.structure"</code>: 
input covariance matrices</p>
</dd>
<dt><code>timeToTransition</code></dt><dd><p>Object of class <code>"matrix"</code>: 
input timeToTransition matrix. logical components</p>
</dd>
<dt><code>transitionFunctions</code></dt><dd><p>Object of class <code>"transition.structure"</code>: 
input hazard functions</p>
</dd>
<dt><code>time.to.state</code></dt><dd><p>Object of class <code>"data.frame"</code>: entry times for each 
patient into each of the states</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects are created by calls to the
function <code>simulateCohort</code>.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simulateCohort">simulateCohort</a></code>,
<code><a href="#topic+transition.structure">transition.structure</a></code>,
<code><a href="#topic+transitionProbabilities">transitionProbabilities</a></code>, <code><a href="#topic+cumulativeIncidence">cumulativeIncidence</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("ArtCohort")

</code></pre>

<hr>
<h2 id='cumulativeIncidence'>transition probabilities</h2><span id='topic+cumulativeIncidence'></span>

<h3>Description</h3>

<p>Calculates the cumulative incidence and prediction intervals after first
state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cumulativeIncidence(object, times, M = 100, stateNames = paste("State",
  as.list(1:dim(cohorts)[1])))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cumulativeIncidence_+3A_object">object</code></td>
<td>
<p>either the output of <code><a href="#topic+simulateCohort">simulateCohort</a></code> or the
<code>matrix</code> with the <code>probabilities</code> slot of that output.</p>
</td></tr>
<tr><td><code id="cumulativeIncidence_+3A_times">times</code></td>
<td>
<p>a time vector.</p>
</td></tr>
<tr><td><code id="cumulativeIncidence_+3A_m">M</code></td>
<td>
<p>number of groups for calculating confidence intervals.</p>
</td></tr>
<tr><td><code id="cumulativeIncidence_+3A_statenames">stateNames</code></td>
<td>
<p>a list with the names of states.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"PosteriorProbabilities"</code>, containing the
statenames, timepoints and the cumulative incidence with pointwise
prediction intervals over time.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+PosteriorProbabilities">PosteriorProbabilities</a></code>,
<code><a href="#topic+ArtCohort">ArtCohort</a></code>, <code><a href="#topic+simulateCohort">simulateCohort</a></code>
</p>

<hr>
<h2 id='generateHazardMatrix'>generate template for transition functions</h2><span id='topic+generateHazardMatrix'></span>

<h3>Description</h3>

<p>This function simplifies generating the matrix of transition functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateHazardMatrix(statesNumber)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateHazardMatrix_+3A_statesnumber">statesNumber</code></td>
<td>
<p>the number of states to be considered.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>transition.structure</code> of dimension <code class="reqn">N \times N</code>,
where <code class="reqn">N</code> is the number of states and with value &quot;impossible&quot; for all
potential transitions.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+transition.structure">transition.structure</a></code>,
<code><a href="#topic+simulateCohort">simulateCohort</a></code>
</p>

<hr>
<h2 id='generateParameterCovarianceMatrix'>generate a template for parameter covariances</h2><span id='topic+generateParameterCovarianceMatrix'></span>

<h3>Description</h3>

<p>This function simplifies generating the matrix of parameter covariances from
a matrix of mean parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateParameterCovarianceMatrix(mu)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateParameterCovarianceMatrix_+3A_mu">mu</code></td>
<td>
<p>a <code>transition.structure</code> of dimension <code class="reqn">N \times N</code>, whose components <code>list</code> the mean values for the parameters in the
<code>transitionFunction</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>transition.structure</code> of dimension <code class="reqn">N \times N</code>
of covariance matrices for the <code>parameters</code>.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+transition.structure">transition.structure</a></code>,
<code><a href="#topic+generateParameterMatrix">generateParameterMatrix</a></code>, <code><a href="#topic+simulateCohort">simulateCohort</a></code>
</p>

<hr>
<h2 id='generateParameterMatrix'>generate a template for mean parameters</h2><span id='topic+generateParameterMatrix'></span>

<h3>Description</h3>

<p>This function simplifies generating the matrix of mean parameters from a
matrix of transition functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateParameterMatrix(hf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateParameterMatrix_+3A_hf">hf</code></td>
<td>
<p>a <code>transition.structure</code> of dimension <code class="reqn">N \times N</code>, where <code class="reqn">N</code> is the number of states.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>transition.structure</code> of dimension <code class="reqn">N \times N</code>,
whose components are <code>lists</code> of the right length for the parameters in
the corresponding hazard function <code>hf</code>.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+transition.structure">transition.structure</a></code>,
<code><a href="#topic+simulateCohort">simulateCohort</a></code>
</p>

<hr>
<h2 id='PosteriorProbabilities'>Class <code>"PosteriorProbabilities"</code></h2><span id='topic+PosteriorProbabilities'></span><span id='topic+PosteriorProbabilities-class'></span><span id='topic++5B+2CPosteriorProbabilities+2CANY+2CANY+2CANY-method'></span><span id='topic++5B+2CPosteriorProbabilities-method'></span><span id='topic++5B.PosteriorProbabilities'></span><span id='topic+head+2CPosteriorProbabilities-method'></span><span id='topic+head.PosteriorProbabilities'></span><span id='topic+plot+2CPosteriorProbabilities-method'></span><span id='topic+plot.PosteriorProbabilities'></span><span id='topic+tail+2CPosteriorProbabilities-method'></span><span id='topic+tail.PosteriorProbabilities'></span>

<h3>Description</h3>

<p>This S4 class summarizes the posterior probabilities over time for objects
of class <code>"ArtCohort"</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PosteriorProbabilities,ANY,ANY,ANY'
x[i, j, ..., drop = TRUE]

## S4 method for signature 'PosteriorProbabilities'
plot(x, ci = FALSE, main = paste(x@type,
  "after starting in State", x@states[1], "at time 0"),
  states = 1:dim(x@probabilities)[2], lwd = c(2, 2), col = c("blue",
  "green3"), lty = c(1, 2), xlab = "Time", ylab = "Probability", ...)

## S4 method for signature 'PosteriorProbabilities'
head(x, ...)

## S4 method for signature 'PosteriorProbabilities'
tail(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PosteriorProbabilities_+3A_x">x</code></td>
<td>
<p>the PosteriorProbabilities object</p>
</td></tr>
<tr><td><code id="PosteriorProbabilities_+3A_i">i</code>, <code id="PosteriorProbabilities_+3A_j">j</code>, <code id="PosteriorProbabilities_+3A_drop">drop</code></td>
<td>
<p>same as for a <code>"data.frame"</code></p>
</td></tr>
<tr><td><code id="PosteriorProbabilities_+3A_...">...</code></td>
<td>
<p>arguments passed on to main method</p>
</td></tr>
<tr><td><code id="PosteriorProbabilities_+3A_ci">ci</code></td>
<td>
<p>should confidence intervals be displayed</p>
</td></tr>
<tr><td><code id="PosteriorProbabilities_+3A_main">main</code>, <code id="PosteriorProbabilities_+3A_xlab">xlab</code>, <code id="PosteriorProbabilities_+3A_ylab">ylab</code></td>
<td>
<p>same as any plot</p>
</td></tr>
<tr><td><code id="PosteriorProbabilities_+3A_states">states</code></td>
<td>
<p>which states to display</p>
</td></tr>
<tr><td><code id="PosteriorProbabilities_+3A_lwd">lwd</code>, <code id="PosteriorProbabilities_+3A_col">col</code>, <code id="PosteriorProbabilities_+3A_lty">lty</code></td>
<td>
<p>vectors of lentht 2, with first component for the 
point estimate and second component for the confidence interval</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>states</code></dt><dd><p>Object of class <code>"character"</code>: names of states</p>
</dd>
<dt><code>times</code></dt><dd><p>Object of class <code>"numeric"</code>: time points at which probabilities are evaluated</p>
</dd>
<dt><code>probabilities</code></dt><dd><p>Object of class <code>"matrix"</code>: posterior Probabilities to be in each state at each time</p>
</dd>
<dt><code>lower</code></dt><dd><p>Object of class <code>"matrix"</code>: lower prediction bound to be in each state at each time</p>
</dd>
<dt><code>upper</code></dt><dd><p>Object of class <code>"matrix"</code>: upper prediction bound to be in each state at each time</p>
</dd>
<dt><code>type</code></dt><dd><p>Object of class <code>"character"</code>: describes type of probability</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects are created by calls to the
function <code>simulateCohort</code>.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>See Also</h3>

<p><code><a href="#topic+transitionProbabilities">transitionProbabilities</a></code>,
<code><a href="#topic+cumulativeIncidence">cumulativeIncidence</a></code>, <code><a href="#topic+ArtCohort">ArtCohort</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass("PosteriorProbabilities")

</code></pre>

<hr>
<h2 id='simulateCohort'>Simulate cohort</h2><span id='topic+simulateCohort'></span>

<h3>Description</h3>

<p>Simulates a cohort of patients from a set of functions associated to each
possible transition in a multistate model. The multistate model is not
required to be a Markov model and may take the history of previous events
into account. In the basic version, it allows to simulate from
transition-specific hazard function, whose parameters are multivariable
normally distributed.  For each state, all transition-specific hazard
functions and their parameters need to be specified. For simulating one
transition, all possible event times are simulated and the minimum is
chosen. Then simulation continues from the corresponding state until an
absorbing state of time <code>to</code> is reached.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulateCohort(transitionFunctions, parameters, cohortSize = 1000,
  parameterCovariances = FALSE, timeToTransition = array(FALSE, dim =
  dim(transitionFunctions@list.matrix)), baseline = matrix(NA, nrow =
  cohortSize), initialState = rep(1, cohortSize),
  absorbing = transitionFunctions@states.number, to = 100,
  report.every = 100, sampler.steps = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulateCohort_+3A_transitionfunctions">transitionFunctions</code></td>
<td>
<p>a <code>transition.structure</code> of dimension 
<code class="reqn">N \times N</code> that contains the hazard functions</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_parameters">parameters</code></td>
<td>
<p>a <code>transition.structure</code> of dimension <code class="reqn">N \times
N</code> that contains the parameters</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_cohortsize">cohortSize</code></td>
<td>
<p>a <code>numeric</code> indicating the number of patients to be
simulated.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_parametercovariances">parameterCovariances</code></td>
<td>
<p>a <code>transition.structure</code> of dimension
<code class="reqn">N \times N</code> of covariance matrices for the <code>parameters</code>.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_timetotransition">timeToTransition</code></td>
<td>
<p>a <code>logical</code> <code>matrix</code>; TRUE for all
transitions whose <code>transitionFunction</code> is specified as the time until
transition instead of as a hazard function or as a <code>character</code>.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_baseline">baseline</code></td>
<td>
<p>a <code>matrix</code> or <code>data.frame</code> of dimension
<code class="reqn">cohortSize \times M</code> with <code class="reqn">M</code> baseline
characteristics of subjects to be simulated.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_initialstate">initialState</code></td>
<td>
<p>a <code>numeric</code> of length <code>cohortSize</code> with the
initial state for each subject simulated.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_absorbing">absorbing</code></td>
<td>
<p>a <code>numeric</code> containing all absorbing states.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_to">to</code></td>
<td>
<p>final time of the simulation.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_report.every">report.every</code></td>
<td>
<p>a <code>numeric</code> to check progress of simulation.</p>
</td></tr>
<tr><td><code id="simulateCohort_+3A_sampler.steps">sampler.steps</code></td>
<td>
<p>a <code>numeric</code> indicating number of steps for
discretization of hazard functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>transitionFunctions</code> contains hazard functions or time to event
function associated to each possible transition. The elements of this
<code>list</code> can be either expressed as an explicit R <code>function</code> or as a
<code>character</code> (&quot;impossible&quot;, &quot;Weibull&quot;, &quot;multWeibull&quot;, &quot;exponential&quot;) in
order to express impossible transitions or parametric forms for the
distributions of time to event. If the functions should depend on time,
baseline characteristics or be <em>history-dependent</em>, the function
arguments <em>t</em>, <em>bl</em> or <em>history</em> can be used. Time <em>t</em>
refers to the time since entry into the current state. For the time since
the initial state, use <code>t+sum(history)</code>.
</p>
<p>The components of the <code>parameters</code> argument <code>list</code> the mean values
for the parameters in the <code>transitionFunction</code>. If the corresponding
<code>transitionFunction</code> is a <code>function</code>, the parameters should appear
in the same order as in the <code>function</code>, leaving out <em>t</em>, <em>bl</em>
and <em>history</em>. If the corresponding <code>transitionFunction</code> is the
<code>character</code> &quot;Weibull&quot;, the first argument is the shape and the second
one the scale. If the corresponding <code>transitionFunction</code> is the
<code>character</code> &quot;multWeibull&quot;, specify weights, shapes, scales in this
order.
</p>
<p>Note that when using the <code>parameterCovariances</code> argument it is the
users responsibility to ensure that the functions are parametrized such that
<code>parameters</code> for each transition are multivariate normally distributed
and mutually independent.
</p>


<h3>Value</h3>

<p>an object of class <code>"ArtCohort"</code> with <code>time.to.state</code> slot
of dimension <code class="reqn">cohortSize \times N</code> with entry times for
each patient into each of the states.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+generateHazardMatrix">generateHazardMatrix</a></code>,
<code><a href="#topic+generateParameterMatrix">generateParameterMatrix</a></code>,
<code><a href="#topic+generateParameterCovarianceMatrix">generateParameterCovarianceMatrix</a></code>,
<code><a href="#topic+ArtCohort">ArtCohort</a></code>, <code><a href="#topic+transitionProbabilities">transitionProbabilities</a></code>,
<code><a href="#topic+cumulativeIncidence">cumulativeIncidence</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Here is an example model with 3 states and 2 possible transitions. 
 
# number of states in the model
statesNumber &lt;- 3 

# cohort size
cohortSize &lt;- 100

# specification of hazard functions
hazardf &lt;- generateHazardMatrix(statesNumber)
hazardf[[1,2]] &lt;- function(t, r1, r2) 
{
  ifelse(t&lt;=2, r1 , r2)
}
hazardf[[2,3]] &lt;- "Weibull" 

# list of parameters for the hazard functions
mu &lt;- generateParameterMatrix(hazardf) 
mu[[1,2]] &lt;- list(0.33,  0.03) # r1, r2 
mu[[2,3]] &lt;- list(1,0.84) # shape, scale

# time
maxTime &lt;- 10

# simulate the cohort
cohort &lt;- simulateCohort(
  transitionFunctions = hazardf,
  parameters = mu,
  cohortSize = cohortSize,
  to=maxTime)

# output
head(cohort)

# transition probability
tr &lt;- transitionProbabilities(cohort, times=seq(0,4,.1))
plot(tr, ci=FALSE)

# cumulative incidence
inc &lt;- cumulativeIncidence(cohort, times=seq(0,4,.1))
plot(inc, ci=FALSE, states=c(2,3))

</code></pre>

<hr>
<h2 id='tavi'>tavi data set</h2><span id='topic+tavi'></span>

<h3>Description</h3>

<p>The simulated data set for each patient contains data for kidney injuries,
bleeding complications and the combined endpoint of stroke or death. The
data was simulated from the original data following the steps described in
the package vignette.
</p>


<h3>Format</h3>

<p>A data frame with 194 observations on the following 7 variables.
</p>

<dl>
<dt>id</dt><dd><p>a character vector that contains the patient
id's</p>
</dd> 
<dt>kidney</dt><dd><p>a numeric vector; indicator variable that show
if an event has occurred</p>
</dd> 
<dt>kidney.dur</dt><dd><p>a numeric vector; times
at which the events occurred or the patients were censored</p>
</dd>
<dt>bleeding</dt><dd><p>a numeric vector; indicator variable that show if an
event has occurred</p>
</dd> 
<dt>bleeding.dur</dt><dd><p>a numeric vector; times at
which the events occurred or the patients were censored</p>
</dd>
<dt>death</dt><dd><p>a numeric vector; indicator variable that show if an
event has occurred</p>
</dd> 
<dt>death.dur</dt><dd><p>a numeric vector; times at
which the events occurred or the patients were censored</p>
</dd> 
</dl>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
head(data(tavi))

</code></pre>

<hr>
<h2 id='transition.structure'>Class <code>"transition.structure"</code></h2><span id='topic++5B+5B+2Ctransition.structure-method'></span><span id='topic++5B+5B.transition.structure'></span><span id='topic++5B+5B+3C-+2Ctransition.structure-method'></span><span id='topic++5B+5B+3C-.transition.structure'></span><span id='topic+possibleTransitions'></span><span id='topic+possibleTransitions+2Ctransition.structure-method'></span><span id='topic+print+2Ctransition.structure-method'></span><span id='topic+print.transition.structure'></span><span id='topic+transition.structure'></span><span id='topic+transition.structure-class'></span>

<h3>Description</h3>

<p>This S4 class provides a structure to specify different characteristics of
transitions, such as transition functions functions, parameters or parameter
covariances.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'transition.structure'
x[[i, j, ..., exact = TRUE]]

## S4 replacement method for signature 'transition.structure'
x[[i, j]] &lt;- value

possibleTransitions(object)

## S4 method for signature 'transition.structure'
possibleTransitions(object)

## S4 method for signature 'transition.structure'
print(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transition.structure_+3A_x">x</code>, <code id="transition.structure_+3A_object">object</code></td>
<td>
<p>the <code>transition.structure</code></p>
</td></tr>
<tr><td><code id="transition.structure_+3A_i">i</code>, <code id="transition.structure_+3A_j">j</code></td>
<td>
<p>same as for <code>matrix</code></p>
</td></tr>
<tr><td><code id="transition.structure_+3A_exact">exact</code>, <code id="transition.structure_+3A_value">value</code>, <code id="transition.structure_+3A_...">...</code></td>
<td>
<p>passed on to <code>list</code> method</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>states.number</code></dt><dd><p>Object of class <code>"numeric"</code>: number of states</p>
</dd>
<dt><code>list.matrix</code></dt><dd><p>Object of class <code>"matrix"</code>: a <code>list</code> with two 
dimensions, where list element [i,j] correspond to transitions from i to j</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects are created by calls to the
functions <code>generateHazardMatrix</code>, <code>generateParameterMatrix</code>,
<code>generateParameterCovarianceMatrix</code>.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>See Also</h3>

<p><code><a href="#topic+generateHazardMatrix">generateHazardMatrix</a></code>,
<code><a href="#topic+generateParameterMatrix">generateParameterMatrix</a></code>,
<code><a href="#topic+generateParameterCovarianceMatrix">generateParameterCovarianceMatrix</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  showClass("transition.structure")

</code></pre>

<hr>
<h2 id='transitionProbabilities'>transition probabilities</h2><span id='topic+transitionProbabilities'></span>

<h3>Description</h3>

<p>Calculates the probabilities and prediction intervals after first state
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transitionProbabilities(object, times, M = 100, stateNames = paste("State",
  as.list(1:dim(cohorts)[1])))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transitionProbabilities_+3A_object">object</code></td>
<td>
<p>either the output of <code><a href="#topic+simulateCohort">simulateCohort</a></code> or the
<code>matrix</code> with the <code>probabilities</code> slot of that output.</p>
</td></tr>
<tr><td><code id="transitionProbabilities_+3A_times">times</code></td>
<td>
<p>a time vector.</p>
</td></tr>
<tr><td><code id="transitionProbabilities_+3A_m">M</code></td>
<td>
<p>number of groups for calculating confidence intervals.</p>
</td></tr>
<tr><td><code id="transitionProbabilities_+3A_statenames">stateNames</code></td>
<td>
<p>a list with the names of states.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"PosteriorProbabilities"</code>, containing the
statenames, timepoints and the transition probabilities with pointwise
prediction intervals over time.
</p>


<h3>Author(s)</h3>

<p>Luisa Salazar Vizcaya, Nello Blaser, Thomas Gsponer
</p>


<h3>References</h3>

<p>Nello Blaser, Luisa Salazar Vizcaya, Janne Estill, Cindy Zahnd, 
Bindu Kalesan, Matthias Egger, Olivia Keiser, Thomas Gsponer (2015). gems: 
An R Package for Simulating from Disease Progression Models. Journal of 
Statistical Software, 64(10), 1-22. URL http://www.jstatsoft.org/v64/i10/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+PosteriorProbabilities">PosteriorProbabilities</a></code>,
<code><a href="#topic+ArtCohort">ArtCohort</a></code>, <code><a href="#topic+simulateCohort">simulateCohort</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package orgutils</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {orgutils}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#orgutils-package'>
<p>Org Utils</p></a></li>
<li><a href='#readOrg'>
<p>Read Org Tables</p></a></li>
<li><a href='#toOrg'>
<p>Generate Org-mode Markup</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Helper Functions for Org Files</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5-0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-31</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Enrico Schumann &lt;es@enricoschumann.net&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Helper functions for Org files (<a href="https://orgmode.org/">https://orgmode.org/</a>):
  a generic function 'toOrg' for transforming R objects into Org
  markup (most useful for data frames; there are also methods for
  Dates/POSIXt) and a function to read Org tables into data frames.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>textutils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RUnit</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://enricoschumann.net/R/packages/orgutils/">http://enricoschumann.net/R/packages/orgutils/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-31 20:30:27 UTC; es19</td>
</tr>
<tr>
<td>Author:</td>
<td>Enrico Schumann <a href="https://orcid.org/0000-0001-7601-6576"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-31 21:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='orgutils-package'>
Org Utils
</h2><span id='topic+orgutils-package'></span><span id='topic+org'></span>

<h3>Description</h3>

<p>Helper functions to interact with Org files: read Org tables, convert
R objects to Org markup.
</p>


<h3>Details</h3>

<p>Org mode is a major mode for Emacs; see
<a href="https://orgmode.org/manual/Summary.html#Summary">https://orgmode.org/manual/Summary.html#Summary</a> for a
summary of what it does.
</p>
<p>The <span class="pkg">orgutils</span> package provides helper functions for
interacting with Org files (reading Org tables, convert R
objects to Org markup) without Emacs. Since Org syntax is
very human-readable, such conversions are useful also, for
instance, in plain-text emails or reports.
</p>
<p>There are several other packages that help you work with Org
files as well, such as <span class="pkg">orgR</span> or <span class="pkg">ascii</span>.
</p>


<h3>Author(s)</h3>

<p>Enrico Schumann &lt;es@enricoschumann.net&gt;
</p>


<h3>References</h3>

<p>Org mode manual <a href="https://orgmode.org/">https://orgmode.org/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+toOrg">toOrg</a></code>, <code><a href="#topic+readOrg">readOrg</a></code>
</p>

<hr>
<h2 id='readOrg'>
Read Org Tables
</h2><span id='topic+readOrg'></span>

<h3>Description</h3>

<p>Read an Org table from a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readOrg(file, header = TRUE, dec = ".", comment.char = "",
        encoding = "", strip.white = TRUE,
        stringsAsFactors = FALSE,
        table.name = NULL, text,
        table.missing = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readOrg_+3A_file">file</code></td>
<td>

<p>character
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_header">header</code></td>
<td>

<p>logical
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_dec">dec</code></td>
<td>

<p>character
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_comment.char">comment.char</code></td>
<td>

<p>character
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_encoding">encoding</code></td>
<td>

<p>the encoding of the file
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_strip.white">strip.white</code></td>
<td>

<p>logical
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>

<p>logical: note that the default <code>FALSE</code> differs
from read.csv
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_table.name">table.name</code></td>
<td>

<p>character: the name of the table to read (a regular
expression)
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_text">text</code></td>
<td>

<p>character: if <code>file</code> is not supplied,
<code>text</code> is read via
<code><a href="base.html#topic+textConnection">textConnection</a></code>
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_table.missing">table.missing</code></td>
<td>

<p>what to do if a table specified by
<code>table.name</code> is not found.  Default is to
return <code>NULL</code>. Set to string <code>"stop"</code> to
throw an error.
</p>
</td></tr>
<tr><td><code id="readOrg_+3A_...">...</code></td>
<td>

<p>further arguments
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>header</code> is <code>TRUE</code>, <code>readOrg</code> will read the first
10 lines of the file (or the table, when <code>table.name</code> is
specified) and try to find an org table header. Formating instructions
such as <code>&lt;5&gt;</code> are discarded. Then the function uses
<code><a href="utils.html#topic+read.csv">read.csv</a></code> to read the remainder of the file/table.
</p>
<p>When <code>table.name</code> is specified, the function looks for a line that
starts with <code>#+NAME: &lt;table.name&gt;</code> and reads the table that
follows that line.
</p>
<p>For empty files, <code>readOrg</code> behaves like <a href="utils.html#topic+read.csv">read.csv</a>:
when completely empty, it fails; when headers are found, a zero-row
<a href="base.html#topic+data.frame">data.frame</a> is returned.
</p>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>


<h3>Author(s)</h3>

<p>Enrico Schumann
</p>


<h3>References</h3>

<p>Org manual <a href="https://orgmode.org/manual/index.html">https://orgmode.org/manual/index.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+read.csv">read.csv</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## create an Org file with a table and read the table
tmp &lt;-
"#+TITLE: A Table

Next comes a table.

#+name: test_table
| a | b |
|---+---|
| 1 | 2 |
| 3 | 4 |

That was a table.
"

fname &lt;- tempfile("testfile", fileext = ".org")
writeLines(tmp, fname)

require("org")
readOrg(fname, table.name = "test_table")

## End(Not run)
</code></pre>

<hr>
<h2 id='toOrg'>
Generate Org-mode Markup
</h2><span id='topic+toOrg'></span><span id='topic+print.org'></span><span id='topic+toOrg.data.frame'></span><span id='topic+toOrg.Date'></span><span id='topic+toOrg.POSIXt'></span>

<h3>Description</h3>

<p>Transform R objects into Org-mode objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toOrg(x, ...)

## S3 method for class 'org'
print(x, ...)

## S3 method for class 'data.frame'
toOrg(x, row.names = NULL, ...)

## S3 method for class 'Date'
toOrg(x, inactive = FALSE, ...)

## S3 method for class 'POSIXt'
toOrg(x, inactive = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toOrg_+3A_x">x</code></td>
<td>

<p>an object
</p>
</td></tr>
<tr><td><code id="toOrg_+3A_row.names">row.names</code></td>
<td>

<p><code>NULL</code>, logical or character. If <code>TRUE</code>,
<code><a href="base.html#topic+row.names">row.names</a></code> of <code>x</code> are added as the first column,
with column name &quot;<code>row.names</code>&quot;. If a character string, the
string is used as the column name. See Examples.
</p>
<p>If <code>NULL</code>, <code><a href="base.html#topic+row.names">row.names</a></code> are added when they are not
<code>1, 2, ...</code> (i.e. row numbers).
</p>
<p>If <code>FALSE</code>, <code><a href="base.html#topic+row.names">row.names</a></code> are not added.
</p>
</td></tr>
<tr><td><code id="toOrg_+3A_inactive">inactive</code></td>
<td>

<p>logical: use inactive timestamps? See
<a href="http://orgmode.org/manual/Creating-timestamps.html">http://orgmode.org/manual/Creating-timestamps.html</a> .
</p>
</td></tr>
<tr><td><code id="toOrg_+3A_...">...</code></td>
<td>

<p>other arguments
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Transforms an object <code>x</code> into character vectors with Org
markup. Most useful when <code>x</code> is a <a href="base.html#topic+data.frame">data.frame</a>.
</p>
<p><code>toOrg</code> is meant for snippets of code, not for producing whole
Org documents.
</p>
<p>When you work with <code>POSIXt</code>, make sure that a
potential timezone does not cause trouble: Org does
not support timezones.
</p>


<h3>Value</h3>

<p>A character vector, usually with class <code>org</code>. In some cases,
class <code><a href="base.html#topic+character">character</a></code> is additionally attached.
</p>
<p>To save it to a file, use <code><a href="base.html#topic+writeLines">writeLines</a></code>.
</p>


<h3>Author(s)</h3>

<p>Enrico Schumann
</p>


<h3>References</h3>

<p>Org mode manual <a href="https://orgmode.org/manual/index.html">https://orgmode.org/manual/index.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+toLatex">toLatex</a></code>, function <code>as.orgtable</code> in
<span class="pkg">microplot</span>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toOrg(data.frame(a = 1:3, row.names = LETTERS[1:3]))
## =&gt;  | row.names | a |
##     |-----------+---|
##     | A         | 1 |
##     | B         | 2 |
##     | C         | 3 |

toOrg(data.frame(a = 1:3))
## =&gt;  | a |
##     |---|
##     | 1 |
##     | 2 |
##     | 3 |

toOrg(data.frame(a = 1:3), row.names = TRUE)
## =&gt;  | row.names | a |
##     |-----------+---|
##     | 1         | 1 |
##     | 2         | 2 |
##     | 3         | 3 |


toOrg(data.frame(a = 1:5), row.names = "row numbers")
## =&gt;  | row numbers | a |
##     |-------------+---|
##     | 1           | 1 |
##     | 2           | 2 |
##     | 3           | 3 |
##     | 4           | 4 |
##     | 5           | 5 |

## Not run: 
writeLines(toOrg(data.frame(a = 1:3)), "~/Desktop/my_table.org")
## End(Not run)

## Dates/Times
toOrg(as.Date("2015-01-01"))                   ## &lt;2015-01-01 Thu&gt;
toOrg(as.Date("2015-01-01"), inactive = TRUE)  ## [2015-01-01 Thu]
toOrg(Sys.time())                              ## &lt;2017-03-20 Mon 13:23:18&gt;

## Convert Org dates to Date

## see ?strptime: Each input string is processed as far as
##                necessary for the format specified: any
##                trailing characters are ignored.
d &lt;- toOrg(as.Date("2015-01-01"))
as.Date(d, "&lt;%Y-%m-%d")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package dampack</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dampack}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_common_aes'><p>Adds aesthetics to all plots to reduce code duplication</p></a></li>
<li><a href='#beta_params'><p>Calculate alpha and beta parameters of beta distribution.</p></a></li>
<li><a href='#calc_evpi'><p>Expected Value of Perfect Information (EVPI)</p></a></li>
<li><a href='#calc_evppi'><p>Estimation of the Expected Value of Partial Perfect Information (EVPPI)</p>
using a linear regression metamodel approach</a></li>
<li><a href='#calc_evsi'><p>Calculate Expected Value of Sample Information (EVSI)</p></a></li>
<li><a href='#calc_exp_loss'><p>Calculate the expected loss at a range of willingness-to-pay thresholds</p></a></li>
<li><a href='#calculate_icers'><p>Calculate incremental cost-effectiveness ratios (ICERs)</p></a></li>
<li><a href='#calculate_outcome'><p>A function that is used to calculate all outcomes</p></a></li>
<li><a href='#ceac'><p>Cost-Effectiveness Acceptability Curve (CEAC)</p></a></li>
<li><a href='#compute_icers'><p>compute icers for non-dominated strategies</p></a></li>
<li><a href='#create_dsa_oneway'><p>Create one-way deterministic sensitivity analysis object</p></a></li>
<li><a href='#create_dsa_twoway'><p>Create one-way deterministic sensitivity analysis object</p></a></li>
<li><a href='#create_sa'><p>A generic sensitivity analysis object</p></a></li>
<li><a href='#dirichlet_params'><p>Calculate alpha parameters of Dirichlet distribution.</p></a></li>
<li><a href='#example_psa'><p>Sample PSA data for testing</p></a></li>
<li><a href='#example_psa_obj'><p>Sample PSA data for testing</p></a></li>
<li><a href='#gamma_params'><p>Calculate shape and scale (or rate) parameters of a gamma distribution.</p></a></li>
<li><a href='#gen_psa_samp'><p>Generate PSA Sample</p></a></li>
<li><a href='#hund_strat'><p>Sample deterministic data for testing</p></a></li>
<li><a href='#is_owsa'><p>check that object is owsa object</p></a></li>
<li><a href='#labfun'><p>used to automatically label continuous scales</p></a></li>
<li><a href='#lnorm_params'><p>Calculate location and scale parameters of a log-normal distribution.</p></a></li>
<li><a href='#make_param_seq'><p>make a parameter sequence</p></a></li>
<li><a href='#make_psa_obj'><p>Create a PSA object</p></a></li>
<li><a href='#metamodel'><p>Linear regression metamodeling</p></a></li>
<li><a href='#mm_run_reg'><p>Build formula and run linear regression for metamodel</p></a></li>
<li><a href='#number_ticks'><p>Number of ticks for <code>ggplot2</code> plots</p></a></li>
<li><a href='#offset_trans'><p>transformation for owsa_tornado</p></a></li>
<li><a href='#owsa'><p>One-way sensitivity analysis</p></a></li>
<li><a href='#owsa_opt_strat'><p>plot the optimal strategy as the parameter values change</p></a></li>
<li><a href='#owsa_tornado'><p>Tornado plot of a one-way sensitivity analysis</p></a></li>
<li><a href='#plot.ceac'><p>Plot of Cost-Effectiveness Acceptability Curves (CEAC)</p></a></li>
<li><a href='#plot.evpi'><p>Plot of Expected Value of Perfect Information (EVPI)</p></a></li>
<li><a href='#plot.evppi'><p>Plot of Expected Value of Partial Perfect Information (EVPPI)</p></a></li>
<li><a href='#plot.evsi'><p>Plot of Expected Value of Sample Information (EVSI)</p></a></li>
<li><a href='#plot.exp_loss'><p>Plot of Expected Loss Curves (ELC)</p></a></li>
<li><a href='#plot.icers'><p>Plot of ICERs</p></a></li>
<li><a href='#plot.owsa'><p>Plot a sensitivity analysis</p></a></li>
<li><a href='#plot.psa'><p>Plot the psa object</p></a></li>
<li><a href='#plot.twsa'><p>Two-way sensitivity analysis plot</p></a></li>
<li><a href='#predict_ga'><p>Function to compute the preposterior for each of the</p>
basis functions of the GAM model.</a></li>
<li><a href='#predict_matrix_tensor_smooth_ga'><p>Predict matrix tensor smooth (GA)</p></a></li>
<li><a href='#predict_smooth_ga'><p>Function to compute the preposterior for each of the</p>
basis functions of a smooth for one parameter</a></li>
<li><a href='#predict.metamodel'><p>Predict from a one-way or two-way metamodel</p></a></li>
<li><a href='#print.metamodel'><p>Print metamodel</p></a></li>
<li><a href='#print.sa'><p>print a psa object</p></a></li>
<li><a href='#psa_cdiff'><p>Sample PSA dataset</p></a></li>
<li><a href='#rdirichlet'><p>Random number generation for the Dirichlet distribution with parameter vector alpha.</p></a></li>
<li><a href='#run_owsa_det'><p>Run deterministic one-way sensitivity analysis (OWSA)</p></a></li>
<li><a href='#run_psa'><p>Calculate outcomes for a PSA using a user-defined function.</p></a></li>
<li><a href='#run_twsa_det'><p>Run deterministic two-way sensitivity analysis (TWSA)</p></a></li>
<li><a href='#summary.ceac'><p>Summarize a ceac</p></a></li>
<li><a href='#summary.metamodel'><p>Summary of metamodel</p></a></li>
<li><a href='#summary.psa'><p>summarize a psa object across all simulations</p></a></li>
<li><a href='#twsa'><p>Two-way sensitivity analysis using linear regression metamodeling</p></a></li>
<li><a href='#wrapper_of_user_model'><p>Wrapper function for owsa_det and twsa_det</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Decision-Analytic Modeling Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A suite of functions for analyzing and visualizing the health economic outputs of mathematical models.
    This package was developed with funding from the National Institutes of Allergy and Infectious Diseases of the 
    National Institutes of Health under award no. R01AI138783. The content of this package is solely the 
    responsibility of the authors and does not necessarily represent the official views of the National Institutes 
    of Health. The theoretical underpinnings of 'dampack&rdquo;s functionality are detailed in Hunink et al. (2014) 
    &lt;<a href="https://doi.org/10.1017%2FCBO9781139506779">doi:10.1017/CBO9781139506779</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/DARTH-git/dampack">https://github.com/DARTH-git/dampack</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/DARTH-git/dampack/issues">https://github.com/DARTH-git/dampack/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5), ggplot2 (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>reshape2, ellipse, dplyr, scales, stringr, mgcv, truncnorm,
triangle, ggrepel</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, lintr, knitr, rmarkdown, kableExtra</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-05-30 21:18:20 UTC; Greg</td>
</tr>
<tr>
<td>Author:</td>
<td>Fernando Alarid-Escudero [aut],
  Greg Knowlton [aut, cre],
  Caleb Easterly [aut],
  Eva Enns [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Greg Knowlton &lt;knowl193@umn.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-05-30 21:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_common_aes'>Adds aesthetics to all plots to reduce code duplication</h2><span id='topic+add_common_aes'></span>

<h3>Description</h3>

<p>Adds aesthetics to all plots to reduce code duplication
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_common_aes(
  gplot,
  txtsize,
  scale_name = waiver(),
  col = c("none", "full", "bw"),
  col_aes = c("fill", "color"),
  lval = 50,
  greystart = 0.2,
  greyend = 0.8,
  continuous = c("none", "x", "y"),
  n_x_ticks = 6,
  n_y_ticks = 6,
  xbreaks = NULL,
  ybreaks = NULL,
  xlim = NULL,
  ylim = NULL,
  xtrans = "identity",
  ytrans = "identity",
  xexpand = waiver(),
  yexpand = waiver(),
  facet_lab_txtsize = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_common_aes_+3A_gplot">gplot</code></td>
<td>
<p>a ggplot object</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_scale_name">scale_name</code></td>
<td>
<p>how to name scale. Default inherits from variable name.</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_col_aes">col_aes</code></td>
<td>
<p>which aesthetics to modify with <code>col</code></p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_lval">lval</code></td>
<td>
<p>color lightness - 0 to 100</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_greystart">greystart</code></td>
<td>
<p>between 0 and 1. used in greyscale only. smaller numbers are lighter</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_greyend">greyend</code></td>
<td>
<p>between 0 and 1, greater than greystart.</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_continuous">continuous</code></td>
<td>
<p>which axes are continuous and should be modified by this function</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_n_x_ticks">n_x_ticks</code>, <code id="add_common_aes_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_xbreaks">xbreaks</code>, <code id="add_common_aes_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_xlim">xlim</code>, <code id="add_common_aes_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_xtrans">xtrans</code>, <code id="add_common_aes_+3A_ytrans">ytrans</code></td>
<td>
<p>transformations for the axes. See <code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code> for details.</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_xexpand">xexpand</code>, <code id="add_common_aes_+3A_yexpand">yexpand</code></td>
<td>
<p>Padding around data. See <code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code> for details.
The default behavior in ggplot2 is <code>expansion(0.05)</code>. See <code><a href="ggplot2.html#topic+expansion">expansion</a></code>
for how to modify this.</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_facet_lab_txtsize">facet_lab_txtsize</code></td>
<td>
<p>text size for plot facet labels</p>
</td></tr>
<tr><td><code id="add_common_aes_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot2</code> plot updated with a common aesthetic
</p>

<hr>
<h2 id='beta_params'>Calculate alpha and beta parameters of beta distribution.</h2><span id='topic+beta_params'></span>

<h3>Description</h3>

<p>Function to calculate the alpha and beta parameters of the beta distribution
based on the method of moments using the mean <code class="reqn">\mu</code> and standard
deviation <code class="reqn">\sigma</code> of the random variable of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beta_params(mean, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="beta_params_+3A_mean">mean</code></td>
<td>
<p>mean of the random variable.</p>
</td></tr>
<tr><td><code id="beta_params_+3A_sigma">sigma</code></td>
<td>
<p>standard deviation of the random variable (i.e., standard error).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing the following:
</p>
<p>alpha The method-of-moments estimate for the alpha parameter of the beta distribution
</p>
<p>beta The method-of-moments estimate for the beta parameter of the beta distribution
</p>


<h3>Details</h3>

<p>Based on methods of moments. If <code class="reqn">\mu</code> is the mean and
<code class="reqn">\sigma</code> is the standard deviation of the random variable, then
</p>
<p style="text-align: center;"><code class="reqn">\alpha = (\frac{1-\mu}{\sigma^2} - \frac{1}{\mu}) \mu^2</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">\beta = \alpha (\frac{1}{\mu} -1)</code>
</p>


<hr>
<h2 id='calc_evpi'>Expected Value of Perfect Information (EVPI)</h2><span id='topic+calc_evpi'></span>

<h3>Description</h3>

<p><code>calc_evpi</code> is used to compute the expected value of perfect information
(EVPI) from a probabilistic sensitivity analysis (PSA) dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_evpi(psa, wtp, pop = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_evpi_+3A_psa">psa</code></td>
<td>
<p>psa object from <code><a href="#topic+make_psa_obj">make_psa_obj</a></code></p>
</td></tr>
<tr><td><code id="calc_evpi_+3A_wtp">wtp</code></td>
<td>
<p>numeric vector with willingness-to-pay (WTP) thresholds</p>
</td></tr>
<tr><td><code id="calc_evpi_+3A_pop">pop</code></td>
<td>
<p>scalar that corresponds to the total population</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame and <code>evpi</code> object with the EVPI at each WTP threshold.
</p>


<h3>Details</h3>

<p><code>evpi</code> calculates the value of eliminating all the uncertainty of a
cost-effectiveness analysis at each WTP threshold.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.evpi">plot.evpi</a></code>, <code><a href="#topic+make_psa_obj">make_psa_obj</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load psa object provided with package
data("example_psa_obj")

# define wtp threshold vector (can also use a single wtp)
wtp &lt;- seq(1e4, 1e5, by = 1e4)
evpi &lt;- calc_evpi(example_psa_obj, wtp)
plot(evpi) # see ?plot.evpi for options

# can use plot options (# see ?plot.evpi for details)
plot(evpi, effect_units = "QALE")

# or can use ggplot layers
plot(evpi) + ggtitle("Expected Value of Perfect Information")
</code></pre>

<hr>
<h2 id='calc_evppi'>Estimation of the Expected Value of Partial Perfect Information (EVPPI)
using a linear regression metamodel approach</h2><span id='topic+calc_evppi'></span>

<h3>Description</h3>

<p><code>evppi</code> is used to estimate the Expected Value of Partial Perfect
Information (EVPPI) using a linear regression metamodel approach from a
probabilistic sensitivity analysis (PSA) dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_evppi(
  psa,
  wtp,
  params = NULL,
  outcome = c("nmb", "nhb"),
  type = c("gam", "poly"),
  poly.order = 2,
  k = -1,
  pop = 1,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_evppi_+3A_psa">psa</code></td>
<td>
<p>object of class psa, produced by <code><a href="#topic+make_psa_obj">make_psa_obj</a></code></p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_wtp">wtp</code></td>
<td>
<p>willingness-to-pay threshold</p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_params">params</code></td>
<td>
<p>A vector of parameter names to be analyzed in terms of EVPPI.</p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_outcome">outcome</code></td>
<td>
<p>either net monetary benefit (<code>"nmb"</code>)
or net health benefit (<code>"nhb"</code>)</p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_type">type</code></td>
<td>
<p>either generalized additive models (<code>"gam"</code>) or
polynomial models (<code>"poly"</code>)</p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_poly.order">poly.order</code></td>
<td>
<p>order of the polynomial, if <code>type == "poly"</code></p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_k">k</code></td>
<td>
<p>basis dimension, if <code>type == "gam"</code></p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_pop">pop</code></td>
<td>
<p>scalar that corresponds to the total population</p>
</td></tr>
<tr><td><code id="calc_evppi_+3A_progress">progress</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> for whether or not function progress
should be displayed in console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The expected value of partial pefect information (EVPPI) is the expected
value of perfect information from a subset of parameters of interest,
<code class="reqn">\theta_I</code>, of a cost-effectiveness analysis (CEA) of <code class="reqn">D</code> different
strategies with parameters <code class="reqn">\theta = \{ \theta_I, \theta_C\}</code>, where
<code class="reqn">\theta_C</code> is the set of complimenatry parameters of the CEA. The
function <code>calc_evppi</code> computes the EVPPI of <code class="reqn">\theta_I</code> from a
matrix of net monetary benefits <code class="reqn">B</code> of the CEA. Each column of <code class="reqn">B</code>
corresponds to the net benefit <code class="reqn">B_d</code> of strategy <code class="reqn">d</code>. The function
<code>calc_evppi</code> computes the EVPPI using a linear regression metamodel
approach following these steps:
</p>

<ol>
<li><p> Determine the optimal strategy <code class="reqn">d^*</code> from the expected net
benefits <code class="reqn">\bar{B}</code>
</p>
<p style="text-align: center;"><code class="reqn">d^* = argmax_{d} \{\bar{B}\}</code>
</p>

</li>
<li><p> Compute the opportunity loss for each <code class="reqn">d</code> strategy, <code class="reqn">L_d</code>
</p>
<p style="text-align: center;"><code class="reqn">L_d = B_d - B_{d^*}</code>
</p>

</li>
<li><p> Estimate a linear metamodel for the opportunity loss of each <code class="reqn">d</code>
strategy, <code class="reqn">L_d</code>, by regressing them on the spline basis functions of
<code class="reqn">\theta_I</code>, <code class="reqn">f(\theta_I)</code>
</p>
<p style="text-align: center;"><code class="reqn">L_d = \beta_0 + f(\theta_I) + \epsilon,</code>
</p>

<p>where <code class="reqn">\epsilon</code> is the residual term that captures the complementary
parameters <code class="reqn">\theta_C</code> and the difference between the original simulation
model and the metamodel.
</p>
</li>
<li><p> Compute the EVPPI of <code class="reqn">\theta_I</code> using the estimated losses for
each <code class="reqn">d</code> strategy, <code class="reqn">\hat{L}_d</code> from the linear regression metamodel
and applying the following equation:
</p>
<p style="text-align: center;"><code class="reqn">EVPPI_{\theta_I} = \frac{1}{K}\sum_{i=1}^{K}\max_d(\hat{L}_d)</code>
</p>

<p>The spline model in step 3 is fitted using the 'mgcv' package.
</p>
</li></ol>



<h3>Value</h3>

<p>A list containing 1) a data.frame with WTP thresholds and corresponding EVPPIs
for the selected parameters and 2) a list of metamodels used to estimate EVPPI for each
strategy at each willingness to pay threshold.
</p>


<h3>References</h3>


<ol>
<li><p> Jalal H, Alarid-Escudero F. A General Gaussian Approximation Approach
for Value of Information Analysis. Med Decis Making. 2018;38(2):174-188.
</p>
</li>
<li><p> Strong M, Oakley JE, Brennan A. Estimating Multiparameter Partial
Expected Value of Perfect Information from a Probabilistic Sensitivity
Analysis Sample: A Nonparametric Regression Approach. Med Decis Making.
2014;34(3):311–26.
</p>
</li></ol>


<hr>
<h2 id='calc_evsi'>Calculate Expected Value of Sample Information (EVSI)</h2><span id='topic+calc_evsi'></span>

<h3>Description</h3>

<p>Calculate Expected Value of Sample Information (EVSI)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_evsi(
  psa,
  wtp,
  params = NULL,
  outcome = c("nhb", "nmb"),
  k = -1,
  n = 100,
  n0 = 10,
  n_by_param = FALSE,
  pop = 1,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_evsi_+3A_psa">psa</code></td>
<td>
<p>object of class psa, produced by <code><a href="#topic+make_psa_obj">make_psa_obj</a></code></p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_wtp">wtp</code></td>
<td>
<p>willingness-to-pay threshold</p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_params">params</code></td>
<td>
<p>A vector of parameter names to be analyzed in terms of EVPPI.</p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_outcome">outcome</code></td>
<td>
<p>either net monetary benefit (<code>"nmb"</code>)
or net health benefit (<code>"nhb"</code>)</p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_k">k</code></td>
<td>
<p>basis dimension, if <code>type == "gam"</code></p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_n">n</code></td>
<td>
<p>additional sample size</p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_n0">n0</code></td>
<td>
<p>initial sample size</p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_n_by_param">n_by_param</code></td>
<td>
<p>if <code>TRUE</code>, each parameter in the metamodel can have a unique
initial and additional sample size. <code>n</code> and <code>n0</code> must be numerical
vectors of equal length to <code>params</code>, with each value corresponding to the
initial and additional sample sizes for each parameter in the metamodel. By default,
<code>n_by_param = FALSE</code>, and each value of <code>n</code> and <code>n0</code> is shared by
each parameter in the model. When <code>n_by_param = FALSE</code>, <code>n0</code> must be a single
numeric value, and <code>n</code> must be a numerical vector of additional sample sizes for
which EVSI is calculated from the metamodel.</p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_pop">pop</code></td>
<td>
<p>scalar that corresponds to the total population</p>
</td></tr>
<tr><td><code id="calc_evsi_+3A_progress">progress</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> for whether or not function progress
should be displayed in console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing 1) a data.frame with WTP thresholds, new prospective sample sizes
(if <code>n_by_param == FALSE</code>), and corresponding EVSIs
for the selected parameters and 2) a list of metamodels used to estimate EVSI for each
strategy at each willingness to pay threshold.
</p>

<hr>
<h2 id='calc_exp_loss'>Calculate the expected loss at a range of willingness-to-pay thresholds</h2><span id='topic+calc_exp_loss'></span>

<h3>Description</h3>

<p>The expected loss is the quantification of the foregone benefits
when choosing a suboptimal strategy given current evidence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_exp_loss(psa, wtp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_exp_loss_+3A_psa">psa</code></td>
<td>
<p>object of class <code>psa</code>, produced by function
<code><a href="#topic+make_psa_obj">make_psa_obj</a></code></p>
</td></tr>
<tr><td><code id="calc_exp_loss_+3A_wtp">wtp</code></td>
<td>
<p>vector of willingness to pay thresholds</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Visualize the expected loss at a variety of WTP thresholds using <code><a href="#topic+plot.exp_loss">plot.exp_loss</a></code>.
</p>


<h3>Value</h3>

<p>object with classes <code>exp_loss</code> and <code>data.frame</code>
</p>


<h3>References</h3>


<ol>
<li><p> Alarid-Escudero F, Enns EA, Kuntz KM, Michaud TL, Jalal H.
&quot;Time Traveling Is Just Too Dangerous&quot; But Some Methods Are Worth Revisiting:
The Advantages of Expected Loss Curves Over Cost-Effectiveness Acceptability
Curves and Frontier. Value Health. 2019;22(5):611-618.
</p>
</li>
<li><p> Eckermann S, Briggs A, Willan AR. Health technology assessment in the
cost- disutility plane. Med Decis Making. 2008;28(2):172–181.
</p>
</li></ol>



<h3>See Also</h3>

<p><code><a href="#topic+plot.exp_loss">plot.exp_loss</a></code>, <code><a href="#topic+make_psa_obj">make_psa_obj</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("example_psa_obj")
wtp &lt;- seq(1e4, 1e5, by = 1e4)
exp_loss &lt;- calc_exp_loss(example_psa_obj, wtp)

# can use head(), summary(), print(), etc.
head(exp_loss)

# plot an expected loss curve (ELC)
plot(exp_loss)

# the y axis is on a log scale by default
plot(exp_loss, log_y = FALSE)
</code></pre>

<hr>
<h2 id='calculate_icers'>Calculate incremental cost-effectiveness ratios (ICERs)</h2><span id='topic+calculate_icers'></span>

<h3>Description</h3>

<p>This function takes in strategies and their associated cost and effect, assigns them
one of three statuses (non-dominated, extended dominated, or dominated), and
calculates the incremental cost-effectiveness ratios for the non-dominated strategies
</p>
<p>The cost-effectiveness frontier can be visualized with <code>plot</code>, which calls <code><a href="#topic+plot.icers">plot.icers</a></code>.
</p>
<p>An efficent way to get from a probabilistic sensitivity analysis to an ICER table
is by using <code>summary</code> on the PSA object and then using its columns as
inputs to <code>calculate_icers</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_icers(cost, effect, strategies)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate_icers_+3A_cost">cost</code></td>
<td>
<p>vector of cost for each strategy</p>
</td></tr>
<tr><td><code id="calculate_icers_+3A_effect">effect</code></td>
<td>
<p>vector of effect for each strategy</p>
</td></tr>
<tr><td><code id="calculate_icers_+3A_strategies">strategies</code></td>
<td>
<p>string vector of strategy names
With the default (NULL), there is no reference strategy, and the strategies
are ranked in ascending order of cost.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame and <code>icers</code> object of strategies and their associated
status, incremental cost, incremental effect, and ICER.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.icers">plot.icers</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Base Case
# if you have a base case analysis, can use calculate_icers on that
data(hund_strat)
hund_icers &lt;- calculate_icers(hund_strat$Cost,
                              hund_strat$QALYs,
                              hund_strat$Strategy)

plot(hund_icers)
# we have so many strategies that we may just want to plot the frontier
plot(hund_icers, plot_frontier_only = TRUE)
# see ?plot.icers for more options

## Using a PSA object
data(psa_cdiff)

# summary() gives mean cost and effect for each strategy
sum_cdiff &lt;- summary(psa_cdiff)

# calculate icers
icers &lt;- calculate_icers(sum_cdiff$meanCost,
                         sum_cdiff$meanEffect,
                         sum_cdiff$Strategy)
icers

# visualize
plot(icers)

# by default, only the frontier is labeled
# if using a small number of strategies, you can label all the points
# note that longer strategy names will get truncated
plot(icers, label = "all")
</code></pre>

<hr>
<h2 id='calculate_outcome'>A function that is used to calculate all outcomes</h2><span id='topic+calculate_outcome'></span>

<h3>Description</h3>

<p>A function that is used to calculate all outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_outcome(
  outcome = c("nhb", "nmb", "eff", "cost", "nhb_loss", "nmb_loss", "nhb_loss_voi",
    "nmb_loss_voi"),
  cost,
  effect,
  wtp
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate_outcome_+3A_outcome">outcome</code></td>
<td>
<p>choice of outcome</p>
</td></tr>
<tr><td><code id="calculate_outcome_+3A_cost">cost</code></td>
<td>
<p>data frame with costs</p>
</td></tr>
<tr><td><code id="calculate_outcome_+3A_effect">effect</code></td>
<td>
<p>data frame with effects</p>
</td></tr>
<tr><td><code id="calculate_outcome_+3A_wtp">wtp</code></td>
<td>
<p>willingness-to-pay threshold</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame of the desired outcome values for each strategy
</p>

<hr>
<h2 id='ceac'>Cost-Effectiveness Acceptability Curve (CEAC)</h2><span id='topic+ceac'></span>

<h3>Description</h3>

<p><code>ceac</code> is used to compute and plot the cost-effectiveness acceptability
curves (CEAC) from a probabilistic sensitivity analysis (PSA) dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ceac(wtp, psa)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ceac_+3A_wtp">wtp</code></td>
<td>
<p>numeric vector with willingness-to-pay (WTP) thresholds</p>
</td></tr>
<tr><td><code id="ceac_+3A_psa">psa</code></td>
<td>
<p>psa object from <code><a href="#topic+make_psa_obj">make_psa_obj</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ceac</code> computes the probability of each of the strategies being
cost-effective at each <code>wtp</code> threshold. The returned object has classes
<code>ceac</code> and <code>data.frame</code>, and has its own plot method (<code><a href="#topic+plot.ceac">plot.ceac</a></code>).
</p>


<h3>Value</h3>

<p>An object of class <code>ceac</code> that can be visualized with <code>plot</code>. The <code>ceac</code>
object is a data.frame that shows the proportion of PSA samples for which each strategy at each
WTP threshold is cost-effective. The final column indicates whether or not the strategy at a
particular WTP is on the cost-efficient frontier.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.ceac">plot.ceac</a></code>, <code><a href="#topic+summary.ceac">summary.ceac</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># psa input provided with package
data("example_psa")
example_psa_obj &lt;- make_psa_obj(example_psa$cost, example_psa$effectiveness,
                    example_psa$parameters, example_psa$strategies)

# define wtp threshold vector (can also use a single wtp)
wtp &lt;- seq(1e4, 1e5, by = 1e4)
ceac_obj &lt;- ceac(wtp, example_psa_obj)
plot(ceac_obj) # see ?plot.ceac for options

# this is most useful when there are many strategies
# warnings are printed to describe strategies that
# have been filtered out
plot(ceac_obj, min_prob = 0.5)

# standard ggplot layers can be used
plot(ceac_obj) +
    labs(title = "CEAC", y = "Pr(Cost-effective) at WTP")

# the ceac object is also a data frame
head(ceac_obj)

# summary() tells us the regions of cost-effectiveness for each strategy.
# Note that the range_max column is an open parenthesis, meaning that the
# interval over which that strategy is cost-effective goes up to but does not include
# the value in the range_max column.
summary(ceac_obj)

</code></pre>

<hr>
<h2 id='compute_icers'>compute icers for non-dominated strategies</h2><span id='topic+compute_icers'></span>

<h3>Description</h3>

<p>compute icers for non-dominated strategies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_icers(non_d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_icers_+3A_non_d">non_d</code></td>
<td>
<p>a data frame of non-dominated strategies, with columns
&quot;Strategy&quot;, &quot;Cost&quot;, and &quot;Effect&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the input dataframe with columns &quot;Inc_Cost&quot;,
&quot;Inc_Effect&quot;, and &quot;ICER&quot; appended
</p>

<hr>
<h2 id='create_dsa_oneway'>Create one-way deterministic sensitivity analysis object</h2><span id='topic+create_dsa_oneway'></span>

<h3>Description</h3>

<p>The object returned by this function can be passed to
<code><a href="#topic+owsa">owsa</a></code> to do a one-way sensitivity analysis on each
parameter of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_dsa_oneway(
  parameters,
  effectiveness = NULL,
  strategies,
  cost = NULL,
  currency = "$",
  other_outcome = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_dsa_oneway_+3A_parameters">parameters</code></td>
<td>
<p>parameter values associated with costs, effectiveness, or other outcomes.
The table must have two columns, with each parameter name in the first column
and the associated parameter value in the second column:
</p>

<table>
<tr>
 <td style="text-align: left;">
parameter      </td><td style="text-align: left;"> value </td>
</tr>
<tr>
 <td style="text-align: left;">
param1 name     </td><td style="text-align: left;"> param1 val1 </td>
</tr>
<tr>
 <td style="text-align: left;">
...            </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
param2 name     </td><td style="text-align: left;">  param2 val1 </td>
</tr>
<tr>
 <td style="text-align: left;">
...            </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>
</td></tr>
<tr><td><code id="create_dsa_oneway_+3A_effectiveness">effectiveness</code></td>
<td>
<p>data frames containing data for costs,
effectiveness or another outcome (user-defined), respectively.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
<tr><td><code id="create_dsa_oneway_+3A_strategies">strategies</code></td>
<td>
<p>vector with the names of the strategies. Due to requirements in
certain uses of this vector, this function uses <code><a href="base.html#topic+make.names">make.names</a></code> to modify
strategy names as necessary. It is strongly suggested that you follow the rules
in the <code><a href="base.html#topic+make.names">make.names</a></code> help page, to avoid unexpected errors.</p>
</td></tr>
<tr><td><code id="create_dsa_oneway_+3A_cost">cost</code></td>
<td>
<p>data frames containing data for costs,
effectiveness or another outcome (user-defined), respectively.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
<tr><td><code id="create_dsa_oneway_+3A_currency">currency</code></td>
<td>
<p>symbol for the currency being used (ex. &quot;$&quot;, &quot;£&quot;)</p>
</td></tr>
<tr><td><code id="create_dsa_oneway_+3A_other_outcome">other_outcome</code></td>
<td>
<p>data frames containing data for costs,
effectiveness or another outcome (user-defined), respectively.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a class <code>dsa_oneway</code> object that can be passed to the <code><a href="#topic+owsa">owsa</a></code> function
to visualize the one-way sensitivity analyses contained in the object.
</p>

<hr>
<h2 id='create_dsa_twoway'>Create one-way deterministic sensitivity analysis object</h2><span id='topic+create_dsa_twoway'></span>

<h3>Description</h3>

<p>The object returned by this function can be passed to
<code><a href="#topic+owsa">owsa</a></code> to do a one-way sensitivity analysis on each
parameter of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_dsa_twoway(
  parameters,
  effectiveness = NULL,
  strategies,
  cost = NULL,
  currency = "$",
  other_outcome = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_dsa_twoway_+3A_parameters">parameters</code></td>
<td>
<p>parameter values associated with effectiveness and outcomes.
The table must have two columns, one for each parameter.
The parameter names must be the column names.
</p>

<table>
<tr>
 <td style="text-align: left;">
param1 name     </td><td style="text-align: left;"> param2 name </td>
</tr>
<tr>
 <td style="text-align: left;">
param1 val1     </td><td style="text-align: left;"> param2 val1 </td>
</tr>
<tr>
 <td style="text-align: left;">
param1 val2     </td><td style="text-align: left;"> param2 val2 </td>
</tr>
<tr>
 <td style="text-align: left;">
...            </td><td style="text-align: left;"> ... </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>
</td></tr>
<tr><td><code id="create_dsa_twoway_+3A_effectiveness">effectiveness</code></td>
<td>
<p>data frames containing data for costs,
effectiveness or another outcome (user-defined), respectively.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
<tr><td><code id="create_dsa_twoway_+3A_strategies">strategies</code></td>
<td>
<p>vector with the names of the strategies. Due to requirements in
certain uses of this vector, this function uses <code><a href="base.html#topic+make.names">make.names</a></code> to modify
strategy names as necessary. It is strongly suggested that you follow the rules
in the <code><a href="base.html#topic+make.names">make.names</a></code> help page, to avoid unexpected errors.</p>
</td></tr>
<tr><td><code id="create_dsa_twoway_+3A_cost">cost</code></td>
<td>
<p>data frames containing data for costs,
effectiveness or another outcome (user-defined), respectively.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
<tr><td><code id="create_dsa_twoway_+3A_currency">currency</code></td>
<td>
<p>symbol for the currency being used (ex. &quot;$&quot;, &quot;£&quot;)</p>
</td></tr>
<tr><td><code id="create_dsa_twoway_+3A_other_outcome">other_outcome</code></td>
<td>
<p>data frames containing data for costs,
effectiveness or another outcome (user-defined), respectively.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a class <code>dsa_twoway</code> object that can be passed to the <code><a href="#topic+twsa">twsa</a></code> function
to visualize the two-way sensitivity analysis contained in the object.
</p>

<hr>
<h2 id='create_sa'>A generic sensitivity analysis object</h2><span id='topic+create_sa'></span>

<h3>Description</h3>

<p>This function is called by <code><a href="#topic+make_psa_obj">make_psa_obj</a></code>,
<code><a href="#topic+create_dsa_oneway">create_dsa_oneway</a></code>,
and <code><a href="#topic+create_dsa_oneway">create_dsa_oneway</a></code>, and checks the structure of
each of the arguments before creating an SA object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_sa(
  parameters,
  parnames,
  effectiveness,
  strategies,
  cost,
  currency,
  other_outcome
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_sa_+3A_parameters">parameters</code></td>
<td>
<p>a data frame with parameter values for each model run. Each
column should represent a different parameter, and each row should represent a
simulation (in the same order as <code>cost</code> and <code>effectiveness</code>)</p>
</td></tr>
<tr><td><code id="create_sa_+3A_parnames">parnames</code></td>
<td>
<p>names for the parameters.</p>
</td></tr>
<tr><td><code id="create_sa_+3A_strategies">strategies</code></td>
<td>
<p>vector with the names of the strategies. Due to requirements in
certain uses of this vector, this function uses <code><a href="base.html#topic+make.names">make.names</a></code> to modify
strategy names as necessary. It is strongly suggested that you follow the rules
in the <code><a href="base.html#topic+make.names">make.names</a></code> help page, to avoid unexpected errors.</p>
</td></tr>
<tr><td><code id="create_sa_+3A_cost">cost</code>, <code id="create_sa_+3A_effectiveness">effectiveness</code>, <code id="create_sa_+3A_other_outcome">other_outcome</code></td>
<td>
<p>data frames containing data for costs,
effectiveness or another outcome (user-defined), respectively.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
<tr><td><code id="create_sa_+3A_currency">currency</code></td>
<td>
<p>symbol for the currency being used (ex. &quot;$&quot;, &quot;£&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns &quot;sa&quot; sensitivity analysis object.
</p>

<hr>
<h2 id='dirichlet_params'>Calculate alpha parameters of Dirichlet distribution.</h2><span id='topic+dirichlet_params'></span>

<h3>Description</h3>

<p>Function to calculate the <code class="reqn">\alpha</code> parameters of the Dirichlet distribution
based on the method of moments (MoM) using the mean <code class="reqn">\mu</code> and standard
deviation <code class="reqn">\sigma</code> of the random variables of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dirichlet_params(p.mean, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dirichlet_params_+3A_p.mean">p.mean</code></td>
<td>
<p>Vector of means of the random variables.</p>
</td></tr>
<tr><td><code id="dirichlet_params_+3A_sigma">sigma</code></td>
<td>
<p>Vector of standard deviation of the random variables
(i.e., standard error).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of method-of-moment estimates for the alpha parameters of the
dirichlet distribution
</p>


<h3>Details</h3>

<p>Based on methods of moments. If <code class="reqn">\mu</code> is a vector of means and
<code class="reqn">\sigma</code> is a vector of standard deviations of the random variables, then
the second moment <code class="reqn">X_2</code> is defined by <code class="reqn">\sigma^2 + \mu^2</code>. Using the
mean and the second moment, the <code class="reqn">J</code> alpha parameters are computed as follows
</p>
<p style="text-align: center;"><code class="reqn">\alpha_i = \frac{(\mu_1-X_{2_{1}})\mu_i}{X_{2_{1}}-\mu_1^2}</code>
</p>

<p>for <code class="reqn">i = 1, \ldots, J-1</code>, and
</p>
<p style="text-align: center;"><code class="reqn">\alpha_J = \frac{(\mu_1-X_{2_{1}})(1-\sum_{i=1}^{J-1}{\mu_i})}{X_{2_{1}}-\mu_1^2}</code>
</p>



<h3>References</h3>


<ol>
<li><p> Fielitz BD, Myers BL. Estimation of parameters in the beta distribution.
Dec Sci. 1975;6(1):1–13.
</p>
</li>
<li><p> Narayanan A. A note on parameter estimation in the multivariate beta
distribution. Comput Math with Appl. 1992;24(10):11–7.
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>p.mean &lt;- c(0.5, 0.15, 0.35)
p.se   &lt;- c(0.035, 0.025, 0.034)
dirichlet_params(p.mean, p.se)
</code></pre>

<hr>
<h2 id='example_psa'>Sample PSA data for testing</h2><span id='topic+example_psa'></span>

<h3>Description</h3>

<p>A dataset containing a number of PSA samples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_psa
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 5.
</p>

<hr>
<h2 id='example_psa_obj'>Sample PSA data for testing</h2><span id='topic+example_psa_obj'></span>

<h3>Description</h3>

<p>A psa object created from the data in example_psa
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_psa_obj
</code></pre>


<h3>Format</h3>

<p>An object of class <code>psa</code> of length 8.
</p>

<hr>
<h2 id='gamma_params'>Calculate shape and scale (or rate) parameters of a gamma distribution.</h2><span id='topic+gamma_params'></span>

<h3>Description</h3>

<p>Function to calculate the shape, <code class="reqn">\alpha</code>, and scale, <code class="reqn">\theta</code>, (or rate, <code class="reqn">\beta</code>)
parameters of a gamma distribution based on the method of moments (MoM)
using the mean <code class="reqn">\mu</code> and standard deviation <code class="reqn">\sigma</code> of the random
variable of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gamma_params(mu, sigma, scale = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gamma_params_+3A_mu">mu</code></td>
<td>
<p>scalar with the mean of the random variable.</p>
</td></tr>
<tr><td><code id="gamma_params_+3A_sigma">sigma</code></td>
<td>
<p>scalar with the standard deviation of the random variable.</p>
</td></tr>
<tr><td><code id="gamma_params_+3A_scale">scale</code></td>
<td>
<p>logical variable indicating scale parameterization of the gamma distribution
(Default is TRUE). If FALSE, rate parameterization is retrieved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list contianing the following:
</p>
<p>shape Shape parameter of gamma distribution
</p>
<p>scale Scale parameter of gamma distribution (If scale=TRUE)
</p>
<p>rate Rate parameter of gamma distribution (If scale=FALSE)
</p>


<h3>Details</h3>

<p>Based on method of moments. If <code class="reqn">\mu</code> is the mean and
<code class="reqn">\sigma</code> is the standard deviation of the random variable, then the
the shape, <code class="reqn">\alpha</code>, scale, <code class="reqn">\theta</code>, and rate, <code class="reqn">\beta</code>, parameters are computed
as follows
</p>
<p style="text-align: center;"><code class="reqn">\alpha=\frac{\mu^2}{\sigma^2},</code>
</p>

<p style="text-align: center;"><code class="reqn">\theta = \frac{\sigma^2}{\mu}</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">\beta = \frac{\mu}{\sigma^2}</code>
</p>



<h3>References</h3>


<ul>
<li><p> Gamma distribution. (2018, February 7). In Wikipedia, The Free
Encyclopedia. Retrieved 17:23, February 11, 2018,
from https://en.wikipedia.org/w/index.php?title=Gamma_distribution&amp;oldid=824541785
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>mu    &lt;- 2
sigma &lt;- 1
# Scale specification
gamma_params(mu, sigma)
# Rate specification
gamma_params(mu, sigma, scale = FALSE)
</code></pre>

<hr>
<h2 id='gen_psa_samp'>Generate PSA Sample</h2><span id='topic+gen_psa_samp'></span>

<h3>Description</h3>

<p><code>gen_psa_samp</code> generates a data.frame of sampled parameter values from
user-specified distributions
to be used in a probabilistic sensitivity analysis (PSA)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_psa_samp(
  params = NULL,
  dists = c("normal", "log-normal", "truncated-normal", "beta", "gamma", "dirichlet",
    "bootstrap", "constant", "triangle"),
  parameterization_types = c("mean, sd", "a, b", "shape, scale",
    "value, mean_prop, sd", "value, n", "value, alpha", "mean, sd, ll, ul", "val",
    "meanlog, sdlog", "ll, ul, mode"),
  dists_params = NULL,
  nsamp = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_psa_samp_+3A_params">params</code></td>
<td>
<p>string vector with the names of parameters to be generated by <code>gen_psa_samp</code>
and used by a user-defined function in <code>run_psa</code> to calculate outcomes.</p>
</td></tr>
<tr><td><code id="gen_psa_samp_+3A_dists">dists</code></td>
<td>
<p>string vector with the distributions from which <code>params</code> will be drawn.</p>
</td></tr>
<tr><td><code id="gen_psa_samp_+3A_parameterization_types">parameterization_types</code></td>
<td>
<p>string vector with parameterization types for each <code>dists</code></p>
</td></tr>
<tr><td><code id="gen_psa_samp_+3A_dists_params">dists_params</code></td>
<td>
<p>list of input parameters required to
by specific <code>dists</code> and <code>parameterization_types</code>
to fully describe distribution and generate parameter samples.</p>
</td></tr>
<tr><td><code id="gen_psa_samp_+3A_nsamp">nsamp</code></td>
<td>
<p>number of sets of parameter values to be generated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Length of vectors <code>params</code>, <code>dists</code>, <code>parameterization_types</code>, and list <code>dists_params</code> must all
be the same.
The nth element of <code>dists</code>, <code>parameterization_types</code>, and <code>dists_params</code>
all define the distribution that will be
used to draw samples of the corresponding nth element of the <code>params</code> vector.
</p>
<p>For a given element of <code>params</code>:
</p>

<ul>
<li><p> If <code>dists == "normal"</code>, <code>parameterization_types</code> can only be <code>"mean, sd"</code>,
and the corresponding element of list <code>dists_params</code> must be the the vector <code>c(mean, sd)</code>
</p>
</li>
<li><p> If <code>dists == "log-normal"</code>, <code>parameterization_types</code> can be either <code>"mean, sd"</code> or
<code>"meanlog, sdlog"</code>, and the corresponding element of list <code>dists_params</code> must be either
the the vector <code>c(mean, sd)</code> or <code>c(meanlog, sdlog)</code>. Use <code>"mean, sd"</code> if you have
sample mean and sample standard deviation of an empirical sample of the random variable, and use
<code>"meanlog, sdlog"</code> if you want to directly specify the parameters of the log-normal distribution
as specified by <code><a href="stats.html#topic+rlnorm">rlnorm</a></code>
</p>
</li>
<li><p> If <code>dists == "truncated-normal"</code>, <code>parameterization_types</code> can only be <code>"mean, sd, ll, ul"</code>,
and <code>dists_params</code> must be the vector <code>c(mean, sd, ll, ul)</code>, where <code>ll</code> is
the lower limit of the distribution and <code>ul</code>
is the upper limit of the distribution. If either the lower limit or the upper
limit does not exist, simply specify <code>NA</code> in
the corresponding position of the dists_params vector.
</p>
</li>
<li><p> If <code>dists == "beta"</code>, <code>parameterization_types</code> can be <code>"mean, sd"</code> or <code>"a, b"</code>
and the corresponding element of list <code>dists_params</code> must be the the vector <code>c(mean, sd)</code>
or <code>c(a, b)</code>, respectively.
</p>
</li>
<li><p> If <code>dists == "gamma"</code>, <code>parameterization_types</code> can be <code>"mean, sd"</code> or <code>"shape, scale"</code>
and the corresponding element of list <code>dists_params</code> must be the the vector <code>c(mean, sd)</code>
or <code>c(shape, scale)</code>, respectively.
</p>
</li>
<li><p> If <code>dists == "dirichlet"</code>, <code>parameterization_types</code> can be <code>"value, mean_prop, sd"</code>,
<code>"value, n"</code>, or <code>"value, alpha"</code>.
</p>

<ul>
<li><p> If <code>parameterization_types == "value, mean_prop, sd"</code>,
then the corresponding element of list <code>dists_params</code> must be a data.frame where the first column
is a string vector of the the different multinomial outcomes. These multinomial outcomes will become column names
in the data.frame returned by <code>gen_psa_samp</code>, and therefore the strings in this column should correspond to
variable names used in <code>FUN</code> for <code><a href="#topic+run_psa">run_psa</a></code>. The second and
third columns of this <code>dists_params</code>
should be numerical vectors containing the sample means and sample standard errors for
each of the multinomial outcomes.
</p>
</li>
<li><p> If <code>parameterization_types == "value, n"</code>, then <code>dists_params</code> must be a
data.frame with the first column
being a string vector of the multinomial outcomes, and the second column being a
vector of the observed number of each
multinomial outcome in a sample.
</p>
</li>
<li><p> If <code>parameterization_types == "value, alpha"</code>, then <code>dists_params</code> must be a data.frame with
the first column being a string vector of the multinomial outcomes, and
the second column must be a numerical vector
of the alpha parameter values for each multinomial outcome in the dirichlet distribution.
</p>
</li></ul>

</li>
<li><p> If <code>dists == "bootstrap"</code>, <code>parameterization_types</code> can only be
<code>"value, weight"</code>, and <code>dists_params</code>
must be a data.frame with the first column being a numerical vector
containing all of the bootstrap sample values, and
the second column being an integer vector designating the
sampling weights of each bootstrap sample value.  For example,
the number of rows in the <code>dists_params</code> data.frame
is the number of individuals in the population to be sampled
from (with replacement) or the number of values an
empirical distribution (e.g. a histogram). If each individual value in the
sample is unique and should be weighted equally,
set each weight to 1. If the sample distribution resembles a histogram,
the weights should be equal to the number of
observations for each unique value in the empirical distribution.
</p>
</li>
<li><p> If <code>dists == "constant"</code>, <code>parameterization_types</code> can only be <code>"val"</code>,
and <code>dists_params</code> must be a single numerical value.
</p>
</li></ul>



<h3>Value</h3>

<p>A dataframe with samples of parameters for a probabilistic sensitivity analysis (PSA)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+run_psa">run_psa</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#define parameter names
params &lt;- c("normal_param", "lognorm_param", "truncnorm_param", "beta_param",
            "gamma_param", "dirichlet_param", "bootstrap_param")

#indicate parent distribution types for each parameter
dists &lt;- c("normal", "log-normal", "truncated-normal", "beta", "gamma", "dirichlet", "bootstrap")

#indicate which type of parameterization is used for each parent distribution
parameterization_types &lt;- c("mean, sd", "mean, sd", "mean, sd, ll, ul", "mean, sd", "mean, sd",
                          "value, mean_prop, sd", "value, weight")

#provide distribution parameters that fully define each parent distribution, and
#ensure that these distribution parameters match the form expected by each combination of dists
#and parameterization_types
dists_params &lt;- list(c(1, 2), c(1, 3), c(1, 0.1, NA, 1), c(.5, .2), c(100, 1),
                   data.frame(value = c("level1", "level2", "level3"),
                              mean_prop = c(.1, .4, .5), sd = c(.05, .01, .1)),
                   data.frame(value = c(1, 2, 4, 6, 7, 8),
                              weight = c(1, 1, 1, 1, 1, 4)))

#generate 100 samples of parameter values to be used in a probabilistic sensitivity analysis
gen_psa_samp(params = params,
             dists = dists,
             parameterization_types = parameterization_types,
             dists_params = dists_params,
             nsamp = 100)

</code></pre>

<hr>
<h2 id='hund_strat'>Sample deterministic data for testing</h2><span id='topic+hund_strat'></span>

<h3>Description</h3>

<p>A dataset containing 100 strategies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hund_strat
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 100 rows and 3 columns.
</p>

<hr>
<h2 id='is_owsa'>check that object is owsa object</h2><span id='topic+is_owsa'></span>

<h3>Description</h3>

<p>check that object is owsa object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_owsa(obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_owsa_+3A_obj">obj</code></td>
<td>
<p>the object to be checked for the owsa class</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns TRUE if object is &quot;owsa&quot; object and FALSE if not.
</p>

<hr>
<h2 id='labfun'>used to automatically label continuous scales</h2><span id='topic+labfun'></span>

<h3>Description</h3>

<p>used to automatically label continuous scales
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labfun(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labfun_+3A_x">x</code></td>
<td>
<p>axis breaks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector giving a label for each input value
</p>

<hr>
<h2 id='lnorm_params'>Calculate location and scale parameters of a log-normal distribution.</h2><span id='topic+lnorm_params'></span>

<h3>Description</h3>

<p>Function to calculate the location, <code class="reqn">\mu</code>, and scale, <code class="reqn">\sigma</code>,
parameteres of a log-normal distribution based on the method of moments (MoM)
using the mean <code class="reqn">m</code> and variance <code class="reqn">v</code> of the non-logarithmized random
variable of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lnorm_params(m = 1, v = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lnorm_params_+3A_m">m</code></td>
<td>
<p>Scalar with the mean of the random variable.</p>
</td></tr>
<tr><td><code id="lnorm_params_+3A_v">v</code></td>
<td>
<p>Scalar with the variance of the random variable.
(i.e., squared standar error).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following:
</p>
<p>mu Location parameter of log-normal distribution
</p>
<p>sigma Scale parameter of log-normal distribution
</p>


<h3>Details</h3>

<p>Based on method of moments. If <code class="reqn">m</code> is the mean and
<code class="reqn">v</code> is the variance of the random variable, then the
the location, <code class="reqn">\mu</code>, and scale, <code class="reqn">\sigma</code>, parameteres are computed
as follows
</p>
<p style="text-align: center;"><code class="reqn">\mu = \ln{(\frac{m}{\sqrt{(1 + \frac{v}{m^2})}})}</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">\sigma = \sqrt{\ln{( 1 + \frac{v}{m^2})}}</code>
</p>



<h3>References</h3>


<ol>
<li><p> Ginos BF. Parameter Estimation for the Lognormal Distribution.
Brigham Young University; 2009.
</p>
</li>
<li><p> Log-normal distribution. (2017, April 20). In Wikipedia, The Free
Encyclopedia. Retrieved 16:47, April 23, 2017,
from https://en.wikipedia.org/w/index.php?title=Log-normal_distribution&amp;oldid=776357974
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- 3
v &lt;- 0.01
lnorm_params(m, v)
# True values: 100, 30, 70
</code></pre>

<hr>
<h2 id='make_param_seq'>make a parameter sequence</h2><span id='topic+make_param_seq'></span>

<h3>Description</h3>

<p>make a parameter sequence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_param_seq(p, ranges, nsamp, psa_paramvals)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_param_seq_+3A_p">p</code></td>
<td>
<p>parameter of interest</p>
</td></tr>
<tr><td><code id="make_param_seq_+3A_ranges">ranges</code></td>
<td>
<p>named vector of parameter ranges</p>
</td></tr>
<tr><td><code id="make_param_seq_+3A_nsamp">nsamp</code></td>
<td>
<p>number of points from the range</p>
</td></tr>
<tr><td><code id="make_param_seq_+3A_psa_paramvals">psa_paramvals</code></td>
<td>
<p>sampled values from the PSA. used to calculate the
range if none is supplied</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of parameter values spanning the range specified
</p>

<hr>
<h2 id='make_psa_obj'>Create a PSA object</h2><span id='topic+make_psa_obj'></span>

<h3>Description</h3>

<p>Creates an object to hold probabilistic sensitivity analysis data,
while checking the data for validity. The object can then be
used for many standard cost-effectiveness analyses (see Details below).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_psa_obj(
  cost,
  effectiveness,
  parameters = NULL,
  strategies = NULL,
  currency = "$",
  other_outcome = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_psa_obj_+3A_cost">cost</code></td>
<td>
<p>For the data.frame, each simulation should be a row and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
<tr><td><code id="make_psa_obj_+3A_effectiveness">effectiveness</code></td>
<td>
<p>For the data.frame, each simulation should be a row and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
<tr><td><code id="make_psa_obj_+3A_parameters">parameters</code></td>
<td>
<p>Data frame with values for each simulation (rows) and parameter (columns).
The column names should be the parameter names.</p>
</td></tr>
<tr><td><code id="make_psa_obj_+3A_strategies">strategies</code></td>
<td>
<p>vector with the names of the strategies. Due to requirements in
certain uses of this vector, this function uses <code><a href="base.html#topic+make.names">make.names</a></code> to modify
strategy names as necessary. It is strongly suggested that you follow the rules
in the <code><a href="base.html#topic+make.names">make.names</a></code> help page, to avoid unexpected errors.</p>
</td></tr>
<tr><td><code id="make_psa_obj_+3A_currency">currency</code></td>
<td>
<p>symbol for the currency being used (ex. &quot;$&quot;, &quot;£&quot;)</p>
</td></tr>
<tr><td><code id="make_psa_obj_+3A_other_outcome">other_outcome</code></td>
<td>
<p>data.frame containing values for another user-defined outcome.
Each simulation should be a row of the data frame, and each strategy should be a column.
Naming the columns of the data frames is not necessary, as they will be renamed with
the <code>strategies</code> vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The PSA object forms the backbone of one part of the <code>dampack</code> package.
</p>
<p>A scatterplot of the cost-effectiveness plane may be shown by running <code>plot</code>
on the output of <code>make_psa_obj</code>.
</p>
<p>Using this object, you may calculate:
</p>

<ul>
<li><p> Cost-effectiveness acceptability curves (<code><a href="#topic+ceac">ceac</a></code>)
</p>
</li>
<li><p> Expected value of perfect information (<code><a href="#topic+calc_evpi">calc_evpi</a></code>)
</p>
</li>
<li><p> Expected loss (<code><a href="#topic+calc_exp_loss">calc_exp_loss</a></code>)
</p>
</li>
<li><p> One-way sensitivity analysis (<code><a href="#topic+owsa">owsa</a></code>)
</p>
</li>
<li><p> Two-way sensitivity analysis (<code><a href="#topic+twsa">twsa</a></code>)
</p>
</li>
<li><p> Metamodels (<code><a href="#topic+metamodel">metamodel</a></code>)
</p>
</li></ul>

<p>In addition, the PSA may be converted to a base-case analysis by using <code>summary</code>
on the PSA object. The output of <code>summary</code> can be used in <code><a href="#topic+calculate_icers">calculate_icers</a></code>.
</p>


<h3>Value</h3>

<p>An object of class <code>psa</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.psa">summary.psa</a></code>, <code><a href="#topic+plot.psa">plot.psa</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># psa input provided with package
data("example_psa")
psa &lt;- make_psa_obj(example_psa$cost, example_psa$effectiveness,
                    example_psa$parameters, example_psa$strategies)

# custom print and summary methods
print(psa)
summary(psa)

# custom plot method; see ?plot.psa for options
plot(psa)

</code></pre>

<hr>
<h2 id='metamodel'>Linear regression metamodeling</h2><span id='topic+metamodel'></span>

<h3>Description</h3>

<p>This function estimates a linear regression metamodel for
a given decision-analytic model by using the results of a probabilistic sensitivity analysis (PSA)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metamodel(
  analysis = c("oneway", "twoway", "multiway"),
  psa,
  params = NULL,
  strategies = NULL,
  outcome = c("eff", "cost", "nhb", "nmb", "nhb_loss", "nmb_loss", "nhb_loss_voi",
    "nmb_loss_voi"),
  wtp = NULL,
  type = c("linear", "gam", "poly"),
  poly.order = 2,
  k = -1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metamodel_+3A_analysis">analysis</code></td>
<td>
<p>either &quot;oneway&quot; or &quot;twoway&quot;</p>
</td></tr>
<tr><td><code id="metamodel_+3A_psa">psa</code></td>
<td>
<p>psa object</p>
</td></tr>
<tr><td><code id="metamodel_+3A_params">params</code></td>
<td>
<p>string vector with the name(s) of the parameter of interest. Defaults to all.</p>
</td></tr>
<tr><td><code id="metamodel_+3A_strategies">strategies</code></td>
<td>
<p>vector of strategies to consider. The default (NULL) is that all strategies are considered.</p>
</td></tr>
<tr><td><code id="metamodel_+3A_outcome">outcome</code></td>
<td>
<p>either effectiveness (&quot;eff&quot;), cost (&quot;cost&quot;), net health benefit (&quot;nhb&quot;),
net monetary benefit (&quot;nmb&quot;), or the opportunity loss in terms of NHB or
NMB (&quot;nhb_loss&quot; and &quot;nmb_loss&quot;, respectively). &quot;nmb_loss_voi&quot; and &quot;nhb_loss_voi&quot; are only
used in internal function calls of metamodel within other VOI functions.</p>
</td></tr>
<tr><td><code id="metamodel_+3A_wtp">wtp</code></td>
<td>
<p>if outcome is NHB or NMB (or the associated loss), must provide the willingness-to-pay threshold</p>
</td></tr>
<tr><td><code id="metamodel_+3A_type">type</code></td>
<td>
<p>type of metamodel</p>
</td></tr>
<tr><td><code id="metamodel_+3A_poly.order">poly.order</code></td>
<td>
<p>order of polynomial for the linear regression metamodel.
Default: 2</p>
</td></tr>
<tr><td><code id="metamodel_+3A_k">k</code></td>
<td>
<p> the dimension of the basis used to represent the smooth term.
The default depends on the number of variables that the smooth is a
function of. <code>k</code> should not be less than the dimension of the
null space of the penalty for the term (see
<code><a href="mgcv.html#topic+null.space.dimension">null.space.dimension</a></code>), but will be reset if
it is. See <code><a href="mgcv.html#topic+choose.k">choose.k</a></code> for further information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The most important option is <code>analysis</code>, which can be either <code>"oneway"</code>
or <code>twoway</code>. If <code>analysis == "oneway"</code>, a separate metamodel is created
for each combination of the parameters in <code>params</code> and strategies in <code>strategies</code>
(by default, this is all strategies and parameters).
</p>
<p>If <code>analysis == "twoway"</code>, <code>params</code> must be a vector of two parameters, and a metamodel
is created with these two parameters for each strategy in <code>strategies</code>.
</p>


<h3>Value</h3>

<p>A metamodel object, which contains a list of metamodels and other relevant information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+predict.metamodel">predict.metamodel</a></code>,
<code><a href="#topic+make_psa_obj">make_psa_obj</a></code>,
<code><a href="#topic+owsa">owsa</a></code>,
<code><a href="#topic+twsa">twsa</a></code>
</p>

<hr>
<h2 id='mm_run_reg'>Build formula and run linear regression for metamodel</h2><span id='topic+mm_run_reg'></span>

<h3>Description</h3>

<p>Build formula and run linear regression for metamodel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mm_run_reg(analysis, dep, params, dat, type, poly.order, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mm_run_reg_+3A_analysis">analysis</code></td>
<td>
<p>either &quot;oneway&quot; or &quot;twoway&quot;</p>
</td></tr>
<tr><td><code id="mm_run_reg_+3A_dep">dep</code></td>
<td>
<p>dependent variable in regression</p>
</td></tr>
<tr><td><code id="mm_run_reg_+3A_params">params</code></td>
<td>
<p>string vector with the name(s) of the parameter of interest. Defaults to all.</p>
</td></tr>
<tr><td><code id="mm_run_reg_+3A_dat">dat</code></td>
<td>
<p>data to use in regression</p>
</td></tr>
<tr><td><code id="mm_run_reg_+3A_type">type</code></td>
<td>
<p>type of metamodel</p>
</td></tr>
<tr><td><code id="mm_run_reg_+3A_poly.order">poly.order</code></td>
<td>
<p>order of polynomial for the linear regression metamodel.
Default: 2</p>
</td></tr>
<tr><td><code id="mm_run_reg_+3A_k">k</code></td>
<td>
<p> the dimension of the basis used to represent the smooth term.
The default depends on the number of variables that the smooth is a
function of. <code>k</code> should not be less than the dimension of the
null space of the penalty for the term (see
<code><a href="mgcv.html#topic+null.space.dimension">null.space.dimension</a></code>), but will be reset if
it is. See <code><a href="mgcv.html#topic+choose.k">choose.k</a></code> for further information.</p>
</td></tr>
<tr><td><code id="mm_run_reg_+3A_all_params">all_params</code></td>
<td>
<p>all params in PSA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a statistical metamodel
</p>

<hr>
<h2 id='number_ticks'>Number of ticks for <code>ggplot2</code> plots</h2><span id='topic+number_ticks'></span>

<h3>Description</h3>

<p>Function for determining number of ticks on axis of <code>ggplot2</code> plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>number_ticks(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="number_ticks_+3A_n">n</code></td>
<td>
<p>integer giving the desired number of ticks on axis of
<code>ggplot2</code> plots. Non-integer values are rounded down.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of axis-label breaks
</p>


<h3>Details</h3>

<p>Based on function <code>pretty</code>.
</p>

<hr>
<h2 id='offset_trans'>transformation for owsa_tornado</h2><span id='topic+offset_trans'></span>

<h3>Description</h3>

<p>transformation for owsa_tornado
</p>


<h3>Usage</h3>

<pre><code class='language-R'>offset_trans(offset = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="offset_trans_+3A_offset">offset</code></td>
<td>
<p>the offset for the transformation (kind of the new 0)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>offset value supplied to ytrans in <code>add_common_aes</code>
</p>

<hr>
<h2 id='owsa'>One-way sensitivity analysis</h2><span id='topic+owsa'></span>

<h3>Description</h3>

<p>When used on a PSA object, this function uses a polynomial regression metamodel to predict the
average outcome of a decision-analytic model as a function of a single input parameter.
When used on a DSA object, this function uses the DSA results directly to show how the selected outcome varies
as a function of the input parameter of interest. In the DSA context, this function is called
internally by <code><a href="#topic+run_owsa_det">run_owsa_det</a></code> and should not be called by the user. In the PSA context,
the user must use this function to produce an <code>owsa</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>owsa(
  sa_obj,
  params = NULL,
  ranges = NULL,
  nsamp = 100,
  outcome = c("eff", "cost", "nhb", "nmb", "nhb_loss", "nmb_loss"),
  wtp = NULL,
  strategies = NULL,
  poly.order = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="owsa_+3A_sa_obj">sa_obj</code></td>
<td>
<p>sensitivity analysis object;
either a probabilistic sensitivity analysis (<code><a href="#topic+make_psa_obj">make_psa_obj</a></code>) or
a deterministic sensitivity analysis object (<code><a href="#topic+run_owsa_det">run_owsa_det</a></code>)</p>
</td></tr>
<tr><td><code id="owsa_+3A_params">params</code></td>
<td>
<p>string vector with the name(s) of the parameter of interest. Defaults to all.</p>
</td></tr>
<tr><td><code id="owsa_+3A_ranges">ranges</code></td>
<td>
<p>a named list of the form c(&quot;param&quot; = c(0, 1), ...)
that gives the ranges for the parameter of interest. If NULL,
parameter values from the middle 95
from this range is determined by <code>nsamp</code>.</p>
</td></tr>
<tr><td><code id="owsa_+3A_nsamp">nsamp</code></td>
<td>
<p>number of samples to take from the ranges</p>
</td></tr>
<tr><td><code id="owsa_+3A_outcome">outcome</code></td>
<td>
<p>either effectiveness (&quot;eff&quot;), cost (&quot;cost&quot;), net health benefit (&quot;nhb&quot;),
net monetary benefit (&quot;nmb&quot;), or the opportunity loss in terms of NHB or
NMB (&quot;nhb_loss&quot; and &quot;nmb_loss&quot;, respectively). &quot;nmb_loss_voi&quot; and &quot;nhb_loss_voi&quot; are only
used in internal function calls of metamodel within other VOI functions.</p>
</td></tr>
<tr><td><code id="owsa_+3A_wtp">wtp</code></td>
<td>
<p>if outcome is NHB or NMB (or the associated loss), must provide the willingness-to-pay threshold</p>
</td></tr>
<tr><td><code id="owsa_+3A_strategies">strategies</code></td>
<td>
<p>vector of strategies to consider. The default (NULL) is that all strategies are considered.</p>
</td></tr>
<tr><td><code id="owsa_+3A_poly.order">poly.order</code></td>
<td>
<p>order of polynomial for the linear regression metamodel.
Default: 2</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>data.frame</code> and <code>owsa</code> with the results of the sensitivity analysis.
Can be visualized with <code><a href="#topic+plot.owsa">plot.owsa</a>, <a href="#topic+owsa_tornado">owsa_tornado</a>, and <a href="#topic+owsa_opt_strat">owsa_opt_strat</a></code>
</p>

<hr>
<h2 id='owsa_opt_strat'>plot the optimal strategy as the parameter values change</h2><span id='topic+owsa_opt_strat'></span>

<h3>Description</h3>

<p>plot the optimal strategy as the parameter values change
</p>


<h3>Usage</h3>

<pre><code class='language-R'>owsa_opt_strat(
  owsa,
  params = NULL,
  maximize = TRUE,
  return = c("plot", "data"),
  plot_const = TRUE,
  col = c("full", "bw"),
  greystart = 0.2,
  greyend = 0.8,
  txtsize = 12,
  facet_ncol = 1,
  facet_nrow = NULL,
  facet_lab_txtsize = NULL,
  n_x_ticks = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="owsa_opt_strat_+3A_owsa">owsa</code></td>
<td>
<p>An owsa object</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_params">params</code></td>
<td>
<p>vector of parameters to plot</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_maximize">maximize</code></td>
<td>
<p>whether to maximize (TRUE) or minimize the outcome</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_return">return</code></td>
<td>
<p>either return a ggplot object <code>plot</code> or a data frame with
ranges of parameters for which each strategy is optimal.</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_plot_const">plot_const</code></td>
<td>
<p>whether to plot parameters that don't lead to
changes in optimal strategy as they vary.</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_greystart">greystart</code></td>
<td>
<p>between 0 and 1. used in greyscale only. smaller numbers are lighter</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_greyend">greyend</code></td>
<td>
<p>between 0 and 1, greater than greystart.</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_facet_ncol">facet_ncol</code></td>
<td>
<p>Number of columns in plot facet.</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_facet_nrow">facet_nrow</code></td>
<td>
<p>number of rows in plot facet.</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_facet_lab_txtsize">facet_lab_txtsize</code></td>
<td>
<p>text size for plot facet labels</p>
</td></tr>
<tr><td><code id="owsa_opt_strat_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>return == "plot"</code>, a <code>ggplot2</code> optimal strategy plot derived from the <code>owsa</code>
object, or if <code>return == "data"</code>, a <code>data.frame</code> containing all data contained in the plot.
The plot allows us to see how the strategy that maximizes the expectation of the outcome of interest
changes as a function of each parameter of interest.
</p>

<hr>
<h2 id='owsa_tornado'>Tornado plot of a one-way sensitivity analysis</h2><span id='topic+owsa_tornado'></span>

<h3>Description</h3>

<p>Tornado plot of a one-way sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>owsa_tornado(
  owsa,
  return = c("plot", "data"),
  txtsize = 12,
  min_rel_diff = 0,
  col = c("full", "bw"),
  n_y_ticks = 8,
  ylim = NULL,
  ybreaks = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="owsa_tornado_+3A_owsa">owsa</code></td>
<td>
<p>an owsa object</p>
</td></tr>
<tr><td><code id="owsa_tornado_+3A_return">return</code></td>
<td>
<p>either return a ggplot object <code>plot</code> or a data frame with
ranges of parameters for which each strategy is optimal.</p>
</td></tr>
<tr><td><code id="owsa_tornado_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="owsa_tornado_+3A_min_rel_diff">min_rel_diff</code></td>
<td>
<p>this function only plots
parameters that lead to a relative change in the outcome greater than or equal
to <code>min_rel_diff</code>, which must be between 0 and 1. The default (0) is that
no strategies are filtered.</p>
</td></tr>
<tr><td><code id="owsa_tornado_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="owsa_tornado_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="owsa_tornado_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="owsa_tornado_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>return == "plot"</code>, a <code>ggplot2</code> tornado plot derived from the <code>owsa</code>
object, or if <code>return == "data"</code>, a <code>data.frame</code> containing all data contained in the plot.
A tornado plot is a visual aid used to identify which parameters are driving most of the variation
in a specified model outcome.
</p>

<hr>
<h2 id='plot.ceac'>Plot of Cost-Effectiveness Acceptability Curves (CEAC)</h2><span id='topic+plot.ceac'></span>

<h3>Description</h3>

<p>Plots the CEAC, using the object created by <code><a href="#topic+ceac">ceac</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ceac'
plot(
  x,
  frontier = TRUE,
  points = TRUE,
  currency = "$",
  min_prob = 0,
  txtsize = 12,
  n_x_ticks = 10,
  n_y_ticks = 8,
  xbreaks = NULL,
  ybreaks = NULL,
  ylim = NULL,
  xlim = c(0, NA),
  col = c("full", "bw"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.ceac_+3A_x">x</code></td>
<td>
<p>object of class <code>ceac</code>.</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_frontier">frontier</code></td>
<td>
<p>whether to plot acceptability frontier (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_points">points</code></td>
<td>
<p>whether to plot points (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_currency">currency</code></td>
<td>
<p>string with currency used in the cost-effectiveness analysis (CEA).
Defaults to <code>$</code>, but can be any currency symbol or word (e.g., £, €, peso)</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_min_prob">min_prob</code></td>
<td>
<p>minimum probability to show strategy in plot.
For example, if the min_prob is 0.05, only strategies that ever
exceed Pr(Cost Effective) = 0.05 will be plotted. Most useful in situations
with many strategies.</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_xbreaks">xbreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_xlim">xlim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="plot.ceac_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ceac</code> computes the probability of each of the strategies being
cost-effective at each <code>wtp</code> value.
</p>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot of the CEAC.
</p>

<hr>
<h2 id='plot.evpi'>Plot of Expected Value of Perfect Information (EVPI)</h2><span id='topic+plot.evpi'></span>

<h3>Description</h3>

<p>Plots the <code>evpi</code> object created by <code><a href="#topic+calc_evpi">calc_evpi</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'evpi'
plot(
  x,
  txtsize = 12,
  currency = "$",
  effect_units = "QALY",
  n_y_ticks = 8,
  n_x_ticks = 20,
  xbreaks = NULL,
  ybreaks = NULL,
  xlim = c(0, NA),
  ylim = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.evpi_+3A_x">x</code></td>
<td>
<p>object of class <code>evpi</code>, produced by function
<code><a href="#topic+calc_evpi">calc_evpi</a></code></p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_currency">currency</code></td>
<td>
<p>string with currency used in the cost-effectiveness analysis (CEA).
Default: $, but it could be any currency symbol or word (e.g., £, €, peso)</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_effect_units">effect_units</code></td>
<td>
<p>units of effectiveness. Default: QALY</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_xbreaks">xbreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_xlim">xlim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.evpi_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot with the EVPI
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calc_evpi">calc_evpi</a></code>
</p>

<hr>
<h2 id='plot.evppi'>Plot of Expected Value of Partial Perfect Information (EVPPI)</h2><span id='topic+plot.evppi'></span>

<h3>Description</h3>

<p>Plots the <code>evppi</code> object created by <code><a href="#topic+calc_evppi">calc_evppi</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'evppi'
plot(
  x,
  txtsize = 12,
  currency = "$",
  effect_units = "QALY",
  n_y_ticks = 8,
  n_x_ticks = 20,
  xbreaks = NULL,
  ybreaks = NULL,
  xlim = c(0, NA),
  ylim = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.evppi_+3A_x">x</code></td>
<td>
<p>object of class <code>evppi</code>, produced by function
<code><a href="#topic+calc_evppi">calc_evppi</a></code></p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_currency">currency</code></td>
<td>
<p>string with currency used in the cost-effectiveness analysis (CEA).
Default: $, but it could be any currency symbol or word (e.g., £, €, peso)</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_effect_units">effect_units</code></td>
<td>
<p>units of effectiveness. Default: QALY</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_xbreaks">xbreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_xlim">xlim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.evppi_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot with the EVPPI
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calc_evppi">calc_evppi</a></code>
</p>

<hr>
<h2 id='plot.evsi'>Plot of Expected Value of Sample Information (EVSI)</h2><span id='topic+plot.evsi'></span>

<h3>Description</h3>

<p>Plots the <code>evsi</code> object created by <code><a href="#topic+calc_evsi">calc_evsi</a></code>.
EVSI is either plotted as a function of additional sample size
for each willingness-to-pay threshold provided, or
as a function of each willingness-to-pay
threshold, depending upon the usage of <code><a href="#topic+calc_evsi">calc_evsi</a></code>
used to create the <code>evsi</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'evsi'
plot(
  x,
  txtsize = 12,
  currency = "$",
  effect_units = "QALY",
  n_y_ticks = 8,
  n_x_ticks = 20,
  xbreaks = NULL,
  ybreaks = NULL,
  xlim = c(0, NA),
  ylim = NULL,
  col = c("full", "bw"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.evsi_+3A_x">x</code></td>
<td>
<p>object of class <code>evsi</code>, produced by function
<code><a href="#topic+calc_evsi">calc_evsi</a></code></p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_currency">currency</code></td>
<td>
<p>string with currency used in the cost-effectiveness analysis (CEA).
Default: $, but it could be any currency symbol or word (e.g., £, €, peso)</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_effect_units">effect_units</code></td>
<td>
<p>units of effectiveness. Default: QALY</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_xbreaks">xbreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_xlim">xlim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="plot.evsi_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot with the EVSI
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calc_evsi">calc_evsi</a></code>
</p>

<hr>
<h2 id='plot.exp_loss'>Plot of Expected Loss Curves (ELC)</h2><span id='topic+plot.exp_loss'></span>

<h3>Description</h3>

<p>Plot of Expected Loss Curves (ELC)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'exp_loss'
plot(
  x,
  log_y = TRUE,
  frontier = TRUE,
  points = TRUE,
  lsize = 1,
  txtsize = 12,
  currency = "$",
  effect_units = "QALY",
  n_y_ticks = 8,
  n_x_ticks = 20,
  xbreaks = NULL,
  ybreaks = NULL,
  xlim = c(0, NA),
  ylim = NULL,
  col = c("full", "bw"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.exp_loss_+3A_x">x</code></td>
<td>
<p>object of class <code>exp_loss</code>, produced by function
<code><a href="#topic+calc_exp_loss">calc_exp_loss</a></code></p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_log_y">log_y</code></td>
<td>
<p>take the base 10 log of the y axis</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_frontier">frontier</code></td>
<td>
<p>indicate the frontier (also the expected value of perfect information).
To only plot the EVPI see <code><a href="#topic+calc_evpi">calc_evpi</a></code>.</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_points">points</code></td>
<td>
<p>whether to plot points on the curve (TRUE) or not (FALSE)</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_lsize">lsize</code></td>
<td>
<p>line size. defaults to 1.</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_currency">currency</code></td>
<td>
<p>string with currency used in the cost-effectiveness analysis (CEA).
Default: $, but it could be any currency symbol or word (e.g., £, €, peso)</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_effect_units">effect_units</code></td>
<td>
<p>units of effectiveness. Default: QALY</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_xbreaks">xbreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_xlim">xlim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="plot.exp_loss_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> object with the expected loss
</p>

<hr>
<h2 id='plot.icers'>Plot of ICERs</h2><span id='topic+plot.icers'></span>

<h3>Description</h3>

<p>Plots the cost-effectiveness plane for a ICER object, calculated with <code><a href="#topic+calculate_icers">calculate_icers</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'icers'
plot(
  x,
  txtsize = 12,
  currency = "$",
  effect_units = "QALYs",
  label = c("frontier", "all", "none"),
  label_max_char = NULL,
  plot_frontier_only = FALSE,
  alpha = 1,
  n_x_ticks = 6,
  n_y_ticks = 6,
  xbreaks = NULL,
  ybreaks = NULL,
  xlim = NULL,
  ylim = NULL,
  xexpand = expansion(0.1),
  yexpand = expansion(0.1),
  max.iter = 20000,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.icers_+3A_x">x</code></td>
<td>
<p>Object of class <code>icers</code>.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_currency">currency</code></td>
<td>
<p>string. with currency used in the cost-effectiveness analysis (CEA).</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_effect_units">effect_units</code></td>
<td>
<p>string. unit of effectiveness</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_label">label</code></td>
<td>
<p>whether to label strategies on the efficient frontier, all strategies, or none.
defaults to frontier.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_label_max_char">label_max_char</code></td>
<td>
<p>max number of characters to label the strategies - if not NULL (the default)
longer strategies are truncated to save space.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_plot_frontier_only">plot_frontier_only</code></td>
<td>
<p>only plot the efficient frontier</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_alpha">alpha</code></td>
<td>
<p>opacity of points</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_xbreaks">xbreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_xlim">xlim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_xexpand">xexpand</code></td>
<td>
<p>Padding around data. See <code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code> for details.
The default behavior in ggplot2 is <code>expansion(0.05)</code>. See <code><a href="ggplot2.html#topic+expansion">expansion</a></code>
for how to modify this.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_yexpand">yexpand</code></td>
<td>
<p>Padding around data. See <code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code> for details.
The default behavior in ggplot2 is <code>expansion(0.05)</code>. See <code><a href="ggplot2.html#topic+expansion">expansion</a></code>
for how to modify this.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_max.iter">max.iter</code></td>
<td>
<p>Maximum number of iterations to try to resolve overlaps.
Defaults to 10000.</p>
</td></tr>
<tr><td><code id="plot.icers_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 object which can be modified by adding additional geoms
</p>

<hr>
<h2 id='plot.owsa'>Plot a sensitivity analysis</h2><span id='topic+plot.owsa'></span>

<h3>Description</h3>

<p>Plot a sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'owsa'
plot(
  x,
  txtsize = 12,
  col = c("full", "bw"),
  facet_scales = c("free_x", "free_y", "free", "fixed"),
  facet_nrow = NULL,
  facet_ncol = NULL,
  size = 1,
  n_x_ticks = 6,
  n_y_ticks = 6,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.owsa_+3A_x">x</code></td>
<td>
<p>an owsa object</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size in the plot</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_col">col</code></td>
<td>
<p>either full-color (&quot;full&quot;) or black and white (&quot;bw&quot;)</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_facet_scales">facet_scales</code></td>
<td>
<p>whether the x or y axes should be fixed.
See <code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code> in the <code>ggplo2</code> package for
more details.</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_facet_nrow">facet_nrow</code></td>
<td>
<p>number of rows in plot facet.</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_facet_ncol">facet_ncol</code></td>
<td>
<p>number of columns in plot facet.
The default (NULL) is passed to <code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code>,
which determines the number of rows and columns automatically.</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_size">size</code></td>
<td>
<p>either point size (ptype = &quot;point&quot;) and/or line size (ptype = &quot;line&quot;)</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.owsa_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot of the <code>owsa</code> object.
</p>

<hr>
<h2 id='plot.psa'>Plot the psa object</h2><span id='topic+plot.psa'></span>

<h3>Description</h3>

<p>Plot the psa object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'psa'
plot(
  x,
  center = TRUE,
  ellipse = TRUE,
  alpha = 0.2,
  txtsize = 12,
  col = c("full", "bw"),
  n_x_ticks = 6,
  n_y_ticks = 6,
  xbreaks = NULL,
  ybreaks = NULL,
  xlim = NULL,
  ylim = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.psa_+3A_x">x</code></td>
<td>
<p>the psa object</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_center">center</code></td>
<td>
<p>plot the mean cost and effectiveness for each strategy. defaults to TRUE</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_ellipse">ellipse</code></td>
<td>
<p>plot an ellipse around each strategy. defaults to TRUE</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_alpha">alpha</code></td>
<td>
<p>opacity of the scatterplot points.
0 is completely transparent, 1 is completely opaque</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_xbreaks">xbreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_ybreaks">ybreaks</code></td>
<td>
<p>vector of axis breaks.
will override <code>n_x_ticks</code> and/or <code>n_y_ticks</code> if provided.</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_xlim">xlim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_ylim">ylim</code></td>
<td>
<p>vector of axis limits, or NULL, which sets limits automatically</p>
</td></tr>
<tr><td><code id="plot.psa_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot of the PSA, showing the distribution of each PSA sample and strategy
on the cost-effectiveness plane.
</p>

<hr>
<h2 id='plot.twsa'>Two-way sensitivity analysis plot</h2><span id='topic+plot.twsa'></span>

<h3>Description</h3>

<p>Two-way sensitivity analysis plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'twsa'
plot(
  x,
  maximize = TRUE,
  col = c("full", "bw"),
  n_x_ticks = 6,
  n_y_ticks = 6,
  txtsize = 12,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.twsa_+3A_x">x</code></td>
<td>
<p>a twsa object</p>
</td></tr>
<tr><td><code id="plot.twsa_+3A_maximize">maximize</code></td>
<td>
<p>If <code>TRUE</code>, plot of strategy with maximum expected outcome
(default); if <code>FALSE</code>, plot of strategy with minimum expected outcome</p>
</td></tr>
<tr><td><code id="plot.twsa_+3A_col">col</code></td>
<td>
<p>either none, full color, or black and white</p>
</td></tr>
<tr><td><code id="plot.twsa_+3A_n_x_ticks">n_x_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.twsa_+3A_n_y_ticks">n_y_ticks</code></td>
<td>
<p>number of axis ticks</p>
</td></tr>
<tr><td><code id="plot.twsa_+3A_txtsize">txtsize</code></td>
<td>
<p>base text size</p>
</td></tr>
<tr><td><code id="plot.twsa_+3A_...">...</code></td>
<td>
<p>further arguments to plot.
This is not used by <code>dampack</code> but required for generic consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> plot of the two-way sensitivity analysis.
</p>

<hr>
<h2 id='predict_ga'>Function to compute the preposterior for each of the
basis functions of the GAM model.</h2><span id='topic+predict_ga'></span>

<h3>Description</h3>

<p>Function to compute the preposterior for each of the
basis functions of the GAM model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_ga(object, n, n0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_ga_+3A_object">object</code></td>
<td>
<p>gam object</p>
</td></tr>
<tr><td><code id="predict_ga_+3A_n">n</code></td>
<td>
<p>scalar or vector of new sample size to compute evsi on</p>
</td></tr>
<tr><td><code id="predict_ga_+3A_n0">n0</code></td>
<td>
<p>scalar or vector of effective prior sample size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the conditional loss associated with a gam, effective prior sample size,
and new sample size
</p>

<hr>
<h2 id='predict_matrix_tensor_smooth_ga'>Predict matrix tensor smooth (GA)</h2><span id='topic+predict_matrix_tensor_smooth_ga'></span>

<h3>Description</h3>

<p>Function to compute the preposterior for each of the
basis functions for one or more parameters and calculates
the tensor product if more than one parameter is selected
(Heavily based on function Predict.matrix.tensor.smooth from
mgcv package)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_matrix_tensor_smooth_ga(
  object,
  param_vals,
  vrf = rep(1, ncol(param_vals))
)
</code></pre>


<h3>Value</h3>

<p>tensor product based on list of pre-posterior distributions
</p>

<hr>
<h2 id='predict_smooth_ga'>Function to compute the preposterior for each of the
basis functions of a smooth for one parameter</h2><span id='topic+predict_smooth_ga'></span>

<h3>Description</h3>

<p>Function to compute the preposterior for each of the
basis functions of a smooth for one parameter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_smooth_ga(object, param_vals, vrf = 1)
</code></pre>


<h3>Value</h3>

<p>Pre-posterior for each basis function
</p>

<hr>
<h2 id='predict.metamodel'>Predict from a one-way or two-way metamodel</h2><span id='topic+predict.metamodel'></span>

<h3>Description</h3>

<p>Predict from a one-way or two-way metamodel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metamodel'
predict(object, ranges = NULL, nsamp = 100, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.metamodel_+3A_object">object</code></td>
<td>
<p>object with class &quot;metamodel&quot;</p>
</td></tr>
<tr><td><code id="predict.metamodel_+3A_ranges">ranges</code></td>
<td>
<p>a named list of the form c(&quot;param&quot; = c(0, 1), ...)
that gives the ranges for the parameter of interest. If NULL,
parameter values from the middle 95
from this range is determined by <code>nsamp</code>.</p>
</td></tr>
<tr><td><code id="predict.metamodel_+3A_nsamp">nsamp</code></td>
<td>
<p>number of samples from ranges</p>
</td></tr>
<tr><td><code id="predict.metamodel_+3A_...">...</code></td>
<td>
<p>further arguments to <code>predict</code> (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> containing the outcome values predicted by the metamodel
for each strategy and each combination of parameter values defined by <code>ranges</code>.
</p>

<hr>
<h2 id='print.metamodel'>Print metamodel</h2><span id='topic+print.metamodel'></span>

<h3>Description</h3>

<p>Print metamodel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metamodel'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.metamodel_+3A_x">x</code></td>
<td>
<p>metamodel to print</p>
</td></tr>
<tr><td><code id="print.metamodel_+3A_...">...</code></td>
<td>
<p>further arguments to print</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None (invisible NULL)
</p>

<hr>
<h2 id='print.sa'>print a psa object</h2><span id='topic+print.sa'></span>

<h3>Description</h3>

<p>print a psa object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sa'
print(x, all_strat = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.sa_+3A_x">x</code></td>
<td>
<p>the psa object</p>
</td></tr>
<tr><td><code id="print.sa_+3A_all_strat">all_strat</code></td>
<td>
<p>whether or not to print the full list of strategies. defaults to FALSE, which truncates
the strategy list to 5</p>
</td></tr>
<tr><td><code id="print.sa_+3A_...">...</code></td>
<td>
<p>further arguments to print (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None (invisible NULL).
</p>

<hr>
<h2 id='psa_cdiff'>Sample PSA dataset</h2><span id='topic+psa_cdiff'></span>

<h3>Description</h3>

<p>Sample PSA dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psa_cdiff
</code></pre>


<h3>Format</h3>

<p>An object of class <code>psa</code> (inherits from <code>sa</code>) of length 6.
</p>

<hr>
<h2 id='rdirichlet'>Random number generation for the Dirichlet distribution with parameter vector alpha.</h2><span id='topic+rdirichlet'></span>

<h3>Description</h3>

<p>Random number generation for the Dirichlet distribution with parameter vector alpha.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rdirichlet(n, alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rdirichlet_+3A_n">n</code></td>
<td>
<p>number of observations</p>
</td></tr>
<tr><td><code id="rdirichlet_+3A_alpha">alpha</code></td>
<td>
<p>vector of parameters defining Dirichlet distribution
</p>
<p>@importFrom stats rgamma
@return A vector random values sampled from a dirichlet distribution
@export</p>
</td></tr>
</table>

<hr>
<h2 id='run_owsa_det'>Run deterministic one-way sensitivity analysis (OWSA)</h2><span id='topic+run_owsa_det'></span>

<h3>Description</h3>

<p>This function runs a deterministic one-way sensitivity analysis (OWSA) on a
given function that produces outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_owsa_det(
  params_range,
  params_basecase,
  nsamp = 100,
  FUN,
  outcomes = NULL,
  strategies = NULL,
  progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_owsa_det_+3A_params_range">params_range</code></td>
<td>
<p>data.frame with 3 columns in the following order: &quot;pars&quot;,
&quot;min&quot;, and &quot;max&quot;. The number of samples from this range is
determined by <code>nsamp</code>. &quot;pars&quot; are the parameters of interest and must be a subset of
the parameters from <code>params_basecase</code>.</p>
</td></tr>
<tr><td><code id="run_owsa_det_+3A_params_basecase">params_basecase</code></td>
<td>
<p>a named list of basecase values for input parameters needed by <code>FUN</code>,
the user-defined function.</p>
</td></tr>
<tr><td><code id="run_owsa_det_+3A_nsamp">nsamp</code></td>
<td>
<p>number of sets of parameter values to be generated. If <code>NULL</code>, 100 parameter
values are used</p>
</td></tr>
<tr><td><code id="run_owsa_det_+3A_fun">FUN</code></td>
<td>
<p>function that takes the basecase in <code>params_basecase</code> and <code>...</code> to
produce the <code>outcome</code> of interest. The <code>FUN</code> must return a dataframe
where the first column are the strategy names and the rest of the columns must be outcomes.</p>
</td></tr>
<tr><td><code id="run_owsa_det_+3A_outcomes">outcomes</code></td>
<td>
<p>string vector with the outcomes of interest from <code>FUN</code>
produced by <code>nsamp</code></p>
</td></tr>
<tr><td><code id="run_owsa_det_+3A_strategies">strategies</code></td>
<td>
<p>vector of strategy names. The default <code>NULL</code> will use
strategy names in <code>FUN</code></p>
</td></tr>
<tr><td><code id="run_owsa_det_+3A_progress">progress</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> for whether or not function progress
should be displayed in console.</p>
</td></tr>
<tr><td><code id="run_owsa_det_+3A_...">...</code></td>
<td>
<p>Additional arguments to user-defined <code>FUN</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing dataframes with the results of the sensitivity analyses.
The list will contain a dataframe for each outcome specified.
List elements can be visualized with <code>plot.owsa</code>,
<code>owsa_opt_strat</code> and
<code>owsa_tornado</code> from <code>dampack</code>
</p>


<h3>Details</h3>


<ul>
<li> <p><code>params_range</code>
</p>

<ul>
<li><p> &quot;pars&quot; are the names of the input parameters of interest. These are the parameters that will
be varied in the deterministic sensitivity analysis. variables in &quot;pars&quot; column
must be a subset of variables in <code>params_basecase</code>
</p>
</li>
<li><p> &quot;min&quot; and &quot;max&quot; are the mininum and maximum values of the parameters of interest.</p>
</li></ul>

</li></ul>


<hr>
<h2 id='run_psa'>Calculate outcomes for a PSA using a user-defined function.</h2><span id='topic+run_psa'></span>

<h3>Description</h3>

<p><code>run_psa</code> calculates outcomes using a user-defined function and creates PSA objects
corresponding to the specified outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_psa(
  psa_samp,
  params_basecase = NULL,
  FUN,
  outcomes = NULL,
  strategies = NULL,
  currency = "$",
  progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_psa_+3A_psa_samp">psa_samp</code></td>
<td>
<p>A dataframe with samples of parameters for a probabilistic sensitivity analysis (PSA)</p>
</td></tr>
<tr><td><code id="run_psa_+3A_params_basecase">params_basecase</code></td>
<td>
<p>a named list of basecase values for input parameters needed by <code>FUN</code>,
the user-defined function.</p>
</td></tr>
<tr><td><code id="run_psa_+3A_fun">FUN</code></td>
<td>
<p>Function that takes the parameter values in <code>psa_samp</code> and <code>...</code> to
produce the <code>outcome</code> of interest. The <code>FUN</code> must return a dataframe
where the first column are the strategy names and the rest of the columns must be outcomes.</p>
</td></tr>
<tr><td><code id="run_psa_+3A_outcomes">outcomes</code></td>
<td>
<p>String vector with the outcomes of interest from <code>FUN</code>.</p>
</td></tr>
<tr><td><code id="run_psa_+3A_strategies">strategies</code></td>
<td>
<p>vector of strategy names. The default <code>NULL</code> will use
strategy names in <code>FUN</code></p>
</td></tr>
<tr><td><code id="run_psa_+3A_currency">currency</code></td>
<td>
<p>symbol for the currency being used (ex. &quot;$&quot;, &quot;£&quot;)</p>
</td></tr>
<tr><td><code id="run_psa_+3A_progress">progress</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> for whether or not function progress
should be displayed in console.</p>
</td></tr>
<tr><td><code id="run_psa_+3A_...">...</code></td>
<td>
<p>Additional arguments to user-defined <code>FUN</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing PSA objects for each outcome in <code>outcomes</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+run_psa">run_psa</a></code>,
<code><a href="#topic+make_psa_obj">make_psa_obj</a></code>,
<code><a href="#topic+gen_psa_samp">gen_psa_samp</a></code>,
</p>

<hr>
<h2 id='run_twsa_det'>Run deterministic two-way sensitivity analysis (TWSA)</h2><span id='topic+run_twsa_det'></span>

<h3>Description</h3>

<p>This function runs a deterministic two-way sensitivity analysis (TWSA) on a
given function that produces outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_twsa_det(
  params_range,
  params_basecase,
  nsamp = 40,
  FUN,
  outcomes = NULL,
  strategies = NULL,
  progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_twsa_det_+3A_params_range">params_range</code></td>
<td>
<p>data.frame with 2 rows and 3 columns in the following order: &quot;pars&quot;,
&quot;min&quot;, and &quot;max&quot;. The number of samples from this range is
determined by <code>nsamp</code>. &quot;pars&quot; are the 2 parameters of interest, which must be a subset of
the parameters from <code>params_basecase</code>.</p>
</td></tr>
<tr><td><code id="run_twsa_det_+3A_params_basecase">params_basecase</code></td>
<td>
<p>a named list of basecase values for input parameters needed by <code>FUN</code>,
the user-defined function.</p>
</td></tr>
<tr><td><code id="run_twsa_det_+3A_nsamp">nsamp</code></td>
<td>
<p>number of parameter values. If <code>NULL</code>, 40 parameter values are
used</p>
</td></tr>
<tr><td><code id="run_twsa_det_+3A_fun">FUN</code></td>
<td>
<p>Function that takes the basecase in <code>params_all</code> and <code>...</code> to
produce the <code>outcome</code> of interest. The <code>FUN</code> must return a dataframe
where the first column are the strategy names and the rest of the columns must be outcomes.</p>
</td></tr>
<tr><td><code id="run_twsa_det_+3A_outcomes">outcomes</code></td>
<td>
<p>String vector with the outcomes of interest from <code>FUN</code>
produced by <code>nsamp</code></p>
</td></tr>
<tr><td><code id="run_twsa_det_+3A_strategies">strategies</code></td>
<td>
<p>vector of strategy names. The default (NULL) will use
strategy names in FUN</p>
</td></tr>
<tr><td><code id="run_twsa_det_+3A_progress">progress</code></td>
<td>
<p><code>TRUE</code> or <code>FALSE</code> for whether or not function progress
should be displayed in console.</p>
</td></tr>
<tr><td><code id="run_twsa_det_+3A_...">...</code></td>
<td>
<p>Additional arguments to user-defined <code>FUN</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing dataframes with the results of the sensitivity analyses.
The list will contain a dataframe for each outcome specified.
</p>


<h3>Details</h3>


<ul>
<li> <p><code>params_range</code>
</p>

<ul>
<li><p> &quot;pars&quot; are the names of the two input parameters of interest. The two variables in &quot;pars&quot; column
must be a subset of variables in <code>params_basecase</code>
</p>
</li>
<li><p> &quot;min&quot; and &quot;max&quot; are the mininum and maximum values of the parameters of interest.</p>
</li></ul>

</li></ul>


<hr>
<h2 id='summary.ceac'>Summarize a ceac</h2><span id='topic+summary.ceac'></span>

<h3>Description</h3>

<p>Describes cost-effective strategies and their
associated intervals of cost-effectiveness
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ceac'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ceac_+3A_object">object</code></td>
<td>
<p>object returned from the <code>ceac</code> function</p>
</td></tr>
<tr><td><code id="summary.ceac_+3A_...">...</code></td>
<td>
<p>further arguments (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame showing the interval of cost effectiveness for each
interval. The intervals are open on the right endpoint -
i.e., [<code>range_min</code>, <code>range_max</code>)
</p>

<hr>
<h2 id='summary.metamodel'>Summary of metamodel</h2><span id='topic+summary.metamodel'></span>

<h3>Description</h3>

<p>Summary of metamodel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metamodel'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.metamodel_+3A_object">object</code></td>
<td>
<p>metamodel to summarize</p>
</td></tr>
<tr><td><code id="summary.metamodel_+3A_...">...</code></td>
<td>
<p>further arguments to summary</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> containing the r-squared for each strategy and parameter's metamodel.
</p>

<hr>
<h2 id='summary.psa'>summarize a psa object across all simulations</h2><span id='topic+summary.psa'></span>

<h3>Description</h3>

<p>summarize a psa object across all simulations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'psa'
summary(object, calc_sds = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.psa_+3A_object">object</code></td>
<td>
<p>the psa object</p>
</td></tr>
<tr><td><code id="summary.psa_+3A_calc_sds">calc_sds</code></td>
<td>
<p>whether or not to calculate the standard deviations. Defaults to FALSE</p>
</td></tr>
<tr><td><code id="summary.psa_+3A_...">...</code></td>
<td>
<p>further arguments to summary (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> containing the mean cost and effectiveness for each strategy and, if requested,
the standard deviations of the cost and effectiveness for each strategy.
</p>

<hr>
<h2 id='twsa'>Two-way sensitivity analysis using linear regression metamodeling</h2><span id='topic+twsa'></span>

<h3>Description</h3>

<p>This function displays a two-way sensitivity analysis (TWSA) graph
by estimating a linear regression metamodel of a PSA for a given
decision-analytic model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>twsa(
  sa_obj,
  param1 = NULL,
  param2 = NULL,
  ranges = NULL,
  nsamp = 100,
  outcome = c("eff", "cost", "nhb", "nmb", "nhb_loss", "nmb_loss"),
  wtp = NULL,
  strategies = NULL,
  poly.order = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="twsa_+3A_sa_obj">sa_obj</code></td>
<td>
<p>sensitivity analysis object;
either a probabilistic sensitivity analysis (<code><a href="#topic+make_psa_obj">make_psa_obj</a></code>) or
a deterministic sensitivity analysis object (<code><a href="#topic+run_owsa_det">run_owsa_det</a></code>)</p>
</td></tr>
<tr><td><code id="twsa_+3A_param1">param1</code></td>
<td>
<p>String with the name of the first parameter of interest</p>
</td></tr>
<tr><td><code id="twsa_+3A_param2">param2</code></td>
<td>
<p>String with the name of the second parameter of interest</p>
</td></tr>
<tr><td><code id="twsa_+3A_ranges">ranges</code></td>
<td>
<p>a named list of the form c(&quot;param&quot; = c(0, 1), ...)
that gives the ranges for the parameter of interest. If NULL,
parameter values from the middle 95
from this range is determined by <code>nsamp</code>.</p>
</td></tr>
<tr><td><code id="twsa_+3A_nsamp">nsamp</code></td>
<td>
<p>number of samples from ranges</p>
</td></tr>
<tr><td><code id="twsa_+3A_outcome">outcome</code></td>
<td>
<p>either effectiveness (&quot;eff&quot;), cost (&quot;cost&quot;), net health benefit (&quot;nhb&quot;),
net monetary benefit (&quot;nmb&quot;), or the opportunity loss in terms of NHB or
NMB (&quot;nhb_loss&quot; and &quot;nmb_loss&quot;, respectively). &quot;nmb_loss_voi&quot; and &quot;nhb_loss_voi&quot; are only
used in internal function calls of metamodel within other VOI functions.</p>
</td></tr>
<tr><td><code id="twsa_+3A_wtp">wtp</code></td>
<td>
<p>if outcome is NHB or NMB (or the associated loss), must provide the willingness-to-pay threshold</p>
</td></tr>
<tr><td><code id="twsa_+3A_strategies">strategies</code></td>
<td>
<p>vector of strategies to consider. The default (NULL) is that all strategies are considered.</p>
</td></tr>
<tr><td><code id="twsa_+3A_poly.order">poly.order</code></td>
<td>
<p>order of polynomial for the linear regression metamodel.
Default: 2</p>
</td></tr>
</table>


<h3>Value</h3>

<p>twsa A <code>ggplot2</code> object with the TWSA graph of <code>param1</code> and
<code>param2</code> on the outcome of interest.
</p>

<hr>
<h2 id='wrapper_of_user_model'>Wrapper function for owsa_det and twsa_det</h2><span id='topic+wrapper_of_user_model'></span>

<h3>Description</h3>

<p>Wrapper function for owsa_det and twsa_det
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrapper_of_user_model(
  x,
  user_fun,
  param_name,
  tmp_input,
  tmp_replace,
  progress_bar = NULL,
  param_counter = NULL,
  nsamp = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wrapper_of_user_model_+3A_x">x</code></td>
<td>
<p>iteration</p>
</td></tr>
<tr><td><code id="wrapper_of_user_model_+3A_user_fun">user_fun</code></td>
<td>
<p><code>FUN</code> input from users</p>
</td></tr>
<tr><td><code id="wrapper_of_user_model_+3A_param_name">param_name</code></td>
<td>
<p>user-defined list of parameters of interest</p>
</td></tr>
<tr><td><code id="wrapper_of_user_model_+3A_tmp_input">tmp_input</code></td>
<td>
<p>basecase values</p>
</td></tr>
<tr><td><code id="wrapper_of_user_model_+3A_tmp_replace">tmp_replace</code></td>
<td>
<p>values from predetermined DSA samples that will replace some values in <code>tmp_input</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>output of function defined by <code>user_fun</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

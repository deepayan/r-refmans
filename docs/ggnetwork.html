<!DOCTYPE html><html lang="en"><head><title>Help for package ggnetwork</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggnetwork}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#format_fortify'><p>format_fortify</p></a></li>
<li><a href='#fortify'><p>fortify generic</p></a></li>
<li><a href='#fortify.igraph'><p>Fortify method for networks of class <code>igraph</code></p></a></li>
<li><a href='#fortify.network'><p>Fortify method for networks of class <code>network</code></p></a></li>
<li><a href='#geom_edges'><p>Draw the edges of a network.</p></a></li>
<li><a href='#geom_edgetext'><p>Label the edges of a network.</p></a></li>
<li><a href='#geom_edgetext_repel'><p>Draw repulsive edge labels.</p></a></li>
<li><a href='#geom_nodes'><p>Draw the nodes of a network.</p></a></li>
<li><a href='#geom_nodetext'><p>Label the nodes of a network.</p></a></li>
<li><a href='#geom_nodetext_repel'><p>Draw repulsive node labels</p></a></li>
<li><a href='#ggnetwork'><p>Fortify network objects.</p></a></li>
<li><a href='#scale_safely'><p>Rescale x to (0, 1), except if x is constant</p></a></li>
<li><a href='#theme_blank'><p>Blank ggplot2 theme, suited for plotting networks.</p></a></li>
<li><a href='#theme_facet'><p>Blank ggplot2 theme with a panel border.</p></a></li>
<li><a href='#unit'><p>unit</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Geometries to Plot Networks with 'ggplot2'</td>
</tr>
<tr>
<td>Description:</td>
<td>Geometries to plot network objects with 'ggplot2'.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.13</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-02-14</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>François Briatte &lt;f.briatte@gmail.com&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/briatte/ggnetwork">https://github.com/briatte/ggnetwork</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/briatte/ggnetwork/issues">https://github.com/briatte/ggnetwork/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5), ggplot2 (&ge; 2.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggrepel (&ge; 0.5), network, igraph, sna, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>Collate:</td>
<td>'utilities.R' 'fortify-igraph.R' 'fortify-network.R'
'geom-nodes.R' 'geom-edges.R' 'ggnetwork.R'</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-14 10:17:48 UTC; fr</td>
</tr>
<tr>
<td>Author:</td>
<td>François Briatte <a href="https://orcid.org/0000-0001-6494-9774"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Michał Bojanowski <a href="https://orcid.org/0000-0001-7503-852X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Mickaël Canouil <a href="https://orcid.org/0000-0002-3396-4549"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Zachary Charlop-Powers
    <a href="https://orcid.org/0000-0001-8816-4680"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Jacob C. Fisher <a href="https://orcid.org/0000-0003-0299-0346"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Kipp Johnson <a href="https://orcid.org/0000-0002-5102-741X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Tyler Rinker [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-14 11:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='format_fortify'>format_fortify</h2><span id='topic+format_fortify'></span>

<h3>Description</h3>

<p>a unified function to format <code><a href="network.html#topic+network">network</a></code>
or <code><a href="igraph.html#topic+igraph-package">igraph</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_fortify(
  model,
  nodes = NULL,
  weights = NULL,
  arrow.gap = ifelse(network::is.directed(model), 0.025, 0),
  by = NULL,
  scale = TRUE,
  stringsAsFactors = getOption("stringsAsFactors", FALSE),
  .list_vertex_attributes_fun = NULL,
  .get_vertex_attributes_fun = NULL,
  .list_edges_attributes_fun = NULL,
  .get_edges_attributes_fun = NULL,
  .as_edges_list_fun = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_fortify_+3A_model">model</code></td>
<td>
<p>an object of class <code><a href="network.html#topic+network">network</a></code>
or <code><a href="igraph.html#topic+igraph-package">igraph</a></code>.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_nodes">nodes</code></td>
<td>
<p>a nodes object from a call to fortify.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_weights">weights</code></td>
<td>
<p>the name of an edge attribute to use as edge weights when
computing the network layout, if the layout supports such weights (see
'Details').
Defaults to <code>NULL</code> (no edge weights).</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_arrow.gap">arrow.gap</code></td>
<td>
<p>a parameter that will shorten the network edges in order to
avoid overplotting edge arrows and nodes; defaults to <code>0</code> when the
network is undirected (no edge shortening), or to <code>0.025</code> when the
network is directed. Small values near <code>0.025</code> will generally achieve
good results when the size of the nodes is reasonably small.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_by">by</code></td>
<td>
<p>a character vector that matches an edge attribute, which will be
used to generate a data frame that can be plotted with
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code>. The
nodes of the network will appear in all facets, at the same coordinates.
Defaults to <code>NULL</code> (no faceting).</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_scale">scale</code></td>
<td>
<p>whether to (re)scale the layout coordinates. Defaults to
<code>TRUE</code>, but should be set to <code>FALSE</code> if <code>layout</code> contains
meaningful spatial coordinates, such as latitude and longitude.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>whether vertex and edge attributes should be
converted to factors if they are of class <code>character</code>. Defaults to
the value of <code>getOption("stringsAsFactors")</code>, which is <code>FALSE</code>
by default: see <code><a href="base.html#topic+data.frame">data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_.list_vertex_attributes_fun">.list_vertex_attributes_fun</code></td>
<td>
<p>a &quot;list vertex attributes&quot; function.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_.get_vertex_attributes_fun">.get_vertex_attributes_fun</code></td>
<td>
<p>a &quot;get vertex attributes&quot; function.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_.list_edges_attributes_fun">.list_edges_attributes_fun</code></td>
<td>
<p>a &quot;get edges attributes&quot; function.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_.get_edges_attributes_fun">.get_edges_attributes_fun</code></td>
<td>
<p>a &quot;get edges attributes&quot; function.</p>
</td></tr>
<tr><td><code id="format_fortify_+3A_.as_edges_list_fun">.as_edges_list_fun</code></td>
<td>
<p>a &quot;as edges list&quot; function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+data.frame">data.frame</a></code> object.
</p>

<hr>
<h2 id='fortify'>fortify generic</h2><span id='topic+fortify'></span>

<h3>Description</h3>

<p>See <code>ggplot2::<a href="ggplot2.html#topic+fortify">fortify</a></code> for details.
</p>

<hr>
<h2 id='fortify.igraph'>Fortify method for networks of class <code><a href="igraph.html#topic+igraph-package">igraph</a></code></h2><span id='topic+fortify.igraph'></span>

<h3>Description</h3>

<p>Fortify method for networks of class <code><a href="igraph.html#topic+igraph-package">igraph</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'igraph'
fortify(
  model,
  data = NULL,
  layout = igraph::nicely(),
  arrow.gap = ifelse(igraph::is.directed(model), 0.025, 0),
  by = NULL,
  scale = TRUE,
  stringsAsFactors = getOption("stringsAsFactors", FALSE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fortify.igraph_+3A_model">model</code></td>
<td>
<p>an object of class <code><a href="igraph.html#topic+igraph-package">igraph</a></code>.</p>
</td></tr>
<tr><td><code id="fortify.igraph_+3A_data">data</code></td>
<td>
<p>not used by this method.</p>
</td></tr>
<tr><td><code id="fortify.igraph_+3A_layout">layout</code></td>
<td>
<p>a function call to an
<code><a href="igraph.html#topic+igraph-package">igraph</a></code> layout function, such as
<code><a href="igraph.html#topic+layout_nicely">layout_nicely</a></code> (the default), or a 2 column matrix
giving the x and y coordinates for the vertices.
See <code><a href="igraph.html#topic+layout_">layout_</a></code> for details.</p>
</td></tr>
<tr><td><code id="fortify.igraph_+3A_arrow.gap">arrow.gap</code></td>
<td>
<p>a parameter that will shorten the network edges in order to
avoid overplotting edge arrows and nodes; defaults to <code>0</code> when the
network is undirected (no edge shortening), or to <code>0.025</code> when the
network is directed. Small values near <code>0.025</code> will generally achieve
good results when the size of the nodes is reasonably small.</p>
</td></tr>
<tr><td><code id="fortify.igraph_+3A_by">by</code></td>
<td>
<p>a character vector that matches an edge attribute, which will be
used to generate a data frame that can be plotted with
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code>. The
nodes of the network will appear in all facets, at the same coordinates.
Defaults to <code>NULL</code> (no faceting).</p>
</td></tr>
<tr><td><code id="fortify.igraph_+3A_scale">scale</code></td>
<td>
<p>whether to (re)scale the layout coordinates. Defaults to
<code>TRUE</code>, but should be set to <code>FALSE</code> if <code>layout</code> contains
meaningful spatial coordinates, such as latitude and longitude.</p>
</td></tr>
<tr><td><code id="fortify.igraph_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>whether vertex and edge attributes should be
converted to factors if they are of class <code>character</code>. Defaults to
the value of <code>getOption("stringsAsFactors")</code>, which is <code>FALSE</code>
by default: see <code><a href="base.html#topic+data.frame">data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="fortify.igraph_+3A_...">...</code></td>
<td>
<p>additional parameters for the <code><a href="igraph.html#topic+layout_">layout_</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+data.frame">data.frame</a></code> object.
</p>

<hr>
<h2 id='fortify.network'>Fortify method for networks of class <code><a href="network.html#topic+network">network</a></code></h2><span id='topic+fortify.network'></span>

<h3>Description</h3>

<p>See the vignette at <a href="https://briatte.github.io/ggnetwork/">https://briatte.github.io/ggnetwork/</a> for a
description of both this function and the rest of the <code>ggnetwork</code>
package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'network'
fortify(
  model,
  data = NULL,
  layout = "fruchtermanreingold",
  weights = NULL,
  arrow.gap = ifelse(network::is.directed(model), 0.025, 0),
  by = NULL,
  scale = TRUE,
  stringsAsFactors = getOption("stringsAsFactors", FALSE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fortify.network_+3A_model">model</code></td>
<td>
<p>an object of class <code><a href="network.html#topic+network">network</a></code>.</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_data">data</code></td>
<td>
<p>not used by this method.</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_layout">layout</code></td>
<td>
<p>a network layout supplied by <code><a href="sna.html#topic+gplot.layout">gplot.layout</a></code>,
such as <code>"fruchtermanreingold"</code> (the default), or a two-column matrix
with as many rows as there are nodes in the network, in which case the
matrix is used as nodes coordinates.</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_weights">weights</code></td>
<td>
<p>the name of an edge attribute to use as edge weights when
computing the network layout, if the layout supports such weights (see
'Details').
Defaults to <code>NULL</code> (no edge weights).</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_arrow.gap">arrow.gap</code></td>
<td>
<p>a parameter that will shorten the network edges in order to
avoid overplotting edge arrows and nodes; defaults to <code>0</code> when the
network is undirected (no edge shortening), or to <code>0.025</code> when the
network is directed. Small values near <code>0.025</code> will generally achieve
good results when the size of the nodes is reasonably small.</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_by">by</code></td>
<td>
<p>a character vector that matches an edge attribute, which will be
used to generate a data frame that can be plotted with
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid</a></code>. The
nodes of the network will appear in all facets, at the same coordinates.
Defaults to <code>NULL</code> (no faceting).</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_scale">scale</code></td>
<td>
<p>whether to (re)scale the layout coordinates. Defaults to
<code>TRUE</code>, but should be set to <code>FALSE</code> if <code>layout</code> contains
meaningful spatial coordinates, such as latitude and longitude.</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>whether vertex and edge attributes should be
converted to factors if they are of class <code>character</code>. Defaults to
the value of <code>getOption("stringsAsFactors")</code>, which is <code>FALSE</code>
by default: see <code><a href="base.html#topic+data.frame">data.frame</a></code>.</p>
</td></tr>
<tr><td><code id="fortify.network_+3A_...">...</code></td>
<td>
<p>additional parameters for the <code>layout</code> argument; see
<code><a href="sna.html#topic+gplot.layout">gplot.layout</a></code> for available options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>fortify.network</code> will return a warning if it finds duplicated
edges after converting the network to an edge list. Duplicated edges should
be eliminated in favour of single weighted edges before using a network
layout that supports edge weights, such as the Kamada-Kawai force-directed
placement algorithm.
</p>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+data.frame">data.frame</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(ggplot2) &amp;&amp; require(network)) {

  # source: ?network::flo
  data(flo)

  # data example
  ggnetwork(flo)

  # plot example
  ggplot(ggnetwork(flo), aes(x, y, xend = xend, yend = yend)) +
    geom_edges(alpha = 0.5) +
    geom_nodes(size = 12, color = "white") +
    geom_nodetext(aes(label = vertex.names), fontface = "bold") +
    theme_blank()

  # source: ?network::emon
  data(emon)

  # data example
  ggnetwork(emon[[1]], layout = "target", niter = 100)

  # data example with edge weights
  ggnetwork(emon[[1]], layout = "kamadakawai", weights = "Frequency")

  # plot example with straight edges
  ggplot(
    ggnetwork(emon[[1]], layout = "kamadakawai", arrow.gap = 0.025),
    aes(x, y, xend = xend, yend = yend)
  ) +
    geom_edges(aes(color = Frequency),
      arrow = arrow(length = unit(10, "pt"), type = "closed")
    ) +
    geom_nodes(aes(size = Formalization)) +
    scale_color_gradient(low = "grey50", high = "tomato") +
    scale_size_area(breaks = 1:3) +
    theme_blank()

  # plot example with curved edges
  ggplot(
    ggnetwork(emon[[1]], layout = "kamadakawai", arrow.gap = 0.025),
    aes(x, y, xend = xend, yend = yend)
  ) +
    geom_edges(aes(color = Frequency),
      curvature = 0.1,
      arrow = arrow(length = unit(10, "pt"), type = "open")
    ) +
    geom_nodes(aes(size = Formalization)) +
    scale_color_gradient(low = "grey50", high = "tomato") +
    scale_size_area(breaks = 1:3) +
    theme_blank()

  # facet by edge attribute
  ggplot(
    ggnetwork(emon[[1]], arrow.gap = 0.02, by = "Frequency"),
    aes(x, y, xend = xend, yend = yend)
  ) +
    geom_edges(arrow = arrow(length = unit(5, "pt"), type = "closed")) +
    geom_nodes() +
    theme_blank() +
    facet_grid(. ~ Frequency, labeller = label_both)

  # user-provided layout
  ggplot(
    ggnetwork(emon[[1]], layout = matrix(runif(28), ncol = 2)),
    aes(x, y, xend = xend, yend = yend)
  ) +
    geom_edges(arrow = arrow(length = unit(5, "pt"), type = "closed")) +
    geom_nodes() +
    theme_blank()
}

</code></pre>

<hr>
<h2 id='geom_edges'>Draw the edges of a network.</h2><span id='topic+geom_edges'></span>

<h3>Description</h3>

<p>All arguments to this geom are identical to those of
<code><a href="ggplot2.html#topic+geom_segment">geom_segment</a></code>, including <code>arrow</code>, which is useful
to plot directed networks in conjunction with the <code>arrow.gap</code> argument
of <code><a href="#topic+fortify.network">fortify.network</a></code>. The <code>curvature</code>, <code>angle</code> and
<code>ncp</code> arguments of <code><a href="ggplot2.html#topic+geom_curve">geom_curve</a></code> are also available:
if <code>curvature</code> is set to any value above <code>0</code> (the default), the
edges produced by <code>geom_edges</code> will be curved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_edges(
  mapping = NULL,
  data = NULL,
  position = "identity",
  arrow = NULL,
  curvature = 0,
  angle = 90,
  ncp = 5,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_edges_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_arrow">arrow</code></td>
<td>
<p>specification for arrow heads, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_curvature">curvature</code></td>
<td>
<p>A numeric value giving the amount of curvature.
Negative values produce left-hand curves, positive values
produce right-hand curves, and zero produces a straight line.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_angle">angle</code></td>
<td>
<p>A numeric value between 0 and 180,
giving an amount to skew the control
points of the curve.  Values less than 90 skew the curve towards
the start point and values greater than 90 skew the curve
towards the end point.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_ncp">ncp</code></td>
<td>
<p>The number of control points used to draw the curve.
More control points creates a smoother curve.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_edges_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(network) &amp;&amp; require(sna)) {

  # rerun if the example does not produce reciprocated ties
  n &lt;- network(rgraph(10, tprob = 0.2), directed = TRUE)

  # just edges
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(size = 1, colour = "steelblue") +
    theme_blank()

  # with nodes
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(size = 1, colour = "steelblue") +
    geom_nodes(size = 3, colour = "steelblue") +
    theme_blank()

  # with arrows
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(
      size = 1, colour = "steelblue",
      arrow = arrow(length = unit(0.5, "lines"), type = "closed")
    ) +
    geom_nodes(size = 3, colour = "steelblue") +
    theme_blank()

  # with curvature
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(
      size = 1, colour = "steelblue", curvature = 0.15,
      arrow = arrow(length = unit(0.5, "lines"), type = "closed")
    ) +
    geom_nodes(size = 3, colour = "steelblue") +
    theme_blank()

  # arbitrary categorical edge attribute
  e &lt;- sample(letters[ 1:2 ], network.edgecount(n), replace = TRUE)
  set.edge.attribute(n, "type", e)
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(aes(linetype = type),
      size = 1, curvature = 0.15,
      arrow = arrow(length = unit(0.5, "lines"), type = "closed")
    ) +
    geom_nodes(size = 3, colour = "steelblue") +
    theme_blank()

  # arbitrary numeric edge attribute (signed network)
  e &lt;- sample(-2:2, network.edgecount(n), replace = TRUE)
  set.edge.attribute(n, "weight", e)
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(aes(colour = weight),
      curvature = 0.15,
      arrow = arrow(length = unit(0.5, "lines"), type = "closed")
    ) +
    geom_nodes(size = 3, colour = "grey50") +
    scale_colour_gradient(low = "steelblue", high = "tomato") +
    theme_blank()

  # draw only a subset of all edges
  positive_weight &lt;- function(x) {
    x[ x$weight &gt;= 0, ]
  }
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(aes(colour = weight), data = positive_weight) +
    geom_nodes(size = 4, colour = "grey50") +
    scale_colour_gradient(low = "gold", high = "tomato") +
    theme_blank()
}

</code></pre>

<hr>
<h2 id='geom_edgetext'>Label the edges of a network.</h2><span id='topic+geom_edgetext'></span><span id='topic+geom_edgelabel'></span>

<h3>Description</h3>

<p>All arguments to both <code><a href="#topic+geom_edgetext">geom_edgetext</a></code> and
<code><a href="#topic+geom_edgelabel">geom_edgelabel</a></code> are identical to those of
<code><a href="ggplot2.html#topic+geom_label">geom_label</a></code>, with the only difference that the
<code>label.size</code> argument defaults to <code>0</code> in order to avoid drawing a
border around the edge labels. The labels will be drawn at mid-edges.
<code>geom_text</code> and <code>geom_label</code> produce strictly
identical results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_edgetext(
  mapping = NULL,
  data = NULL,
  position = "identity",
  parse = FALSE,
  ...,
  nudge_x = 0,
  nudge_y = 0,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_edgelabel(
  mapping = NULL,
  data = NULL,
  position = "identity",
  parse = FALSE,
  ...,
  nudge_x = 0,
  nudge_y = 0,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_edgetext_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function. Cannot be jointly specified with
<code>nudge_x</code> or <code>nudge_y</code>.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_parse">parse</code></td>
<td>
<p>If <code>TRUE</code>, the labels will be parsed into expressions and
displayed as described in <code>?plotmath</code>.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_nudge_x">nudge_x</code>, <code id="geom_edgetext_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge labels by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_label.size">label.size</code></td>
<td>
<p>Size of label border, in mm.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_edgetext_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(network) &amp;&amp; require(sna)) {
  data(flo, package = "network")
  n &lt;- network(flo, directed = FALSE)

  # arbitrary categorical edge attribute
  e &lt;- sample(letters[ 1:4 ], network.edgecount(n), replace = TRUE)
  set.edge.attribute(n, "type", e)

  # with labelled edges
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(aes(colour = type)) +
    geom_edgetext(aes(label = type, colour = type)) +
    geom_nodes(size = 4, colour = "grey50") +
    theme_blank()

  # label only a subset of all edges with arbitrary symbol
  edge_type &lt;- function(x) {
    x[ x$type == "a", ]
  }
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges() +
    geom_edgetext(label = "=", data = edge_type) +
    geom_nodes(size = 4, colour = "grey50") +
    theme_blank()
}

</code></pre>

<hr>
<h2 id='geom_edgetext_repel'>Draw repulsive edge labels.</h2><span id='topic+geom_edgetext_repel'></span><span id='topic+geom_edgelabel_repel'></span>

<h3>Description</h3>

<p>All arguments to both <code><a href="#topic+geom_edgetext_repel">geom_edgetext_repel</a></code> and
<code><a href="#topic+geom_edgelabel_repel">geom_edgelabel_repel</a></code> are identical to those of
<code><a href="ggrepel.html#topic+geom_label_repel">geom_label_repel</a></code>. <code>geom_text_repel</code> and
<code>geom_label_repel</code> produce strictly identical results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_edgetext_repel(
  mapping = NULL,
  data = NULL,
  parse = FALSE,
  ...,
  box.padding = unit(0.25, "lines"),
  label.padding = unit(0.25, "lines"),
  point.padding = unit(1e-06, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0.25,
  arrow = NULL,
  force = 1,
  max.iter = 10000,
  nudge_x = 0,
  nudge_y = 0,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_edgelabel_repel(
  mapping = NULL,
  data = NULL,
  parse = FALSE,
  ...,
  box.padding = unit(0.25, "lines"),
  label.padding = unit(0.25, "lines"),
  point.padding = unit(1e-06, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0.25,
  arrow = NULL,
  force = 1,
  max.iter = 10000,
  nudge_x = 0,
  nudge_y = 0,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_edgetext_repel_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), is combined with the default mapping at the top level of the
plot. You only need to supply <code>mapping</code> if there isn't a mapping
defined for the plot.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_data">data</code></td>
<td>
<p>A data frame. If specified, overrides the default data frame
defined at the top level of the plot.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_parse">parse</code></td>
<td>
<p>If TRUE, the labels will be parsed into expressions and
displayed as described in ?plotmath</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. There are
three types of arguments you can use here:
</p>

<ul>
<li><p> Aesthetics: to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>.
</p>
</li>
<li><p> Other arguments to the layer, for example you override the
default <code>stat</code> associated with the layer.
</p>
</li>
<li><p> Other arguments passed on to the stat.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_box.padding">box.padding</code></td>
<td>
<p>Amount of padding around bounding box, as unit or number.
Defaults to 0.25. (Default unit is lines, but other units can be specified
by passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label, as unit or number.
Defaults to 0.25. (Default unit is lines, but other units can be specified
by passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_point.padding">point.padding</code></td>
<td>
<p>Amount of padding around labeled point, as unit or
number. Defaults to 0. (Default unit is lines, but other units can be
specified by passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners, as unit or number. Defaults
to 0.15. (Default unit is lines, but other units can be specified by
passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_label.size">label.size</code></td>
<td>
<p>Size of label border, in mm.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_arrow">arrow</code></td>
<td>
<p>specification for arrow heads, as created by <code><a href="grid.html#topic+arrow">arrow</a></code></p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_force">force</code></td>
<td>
<p>Force of repulsion between overlapping text labels. Defaults
to 1.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_max.iter">max.iter</code></td>
<td>
<p>Maximum number of iterations to try to resolve overlaps.
Defaults to 10000.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_nudge_x">nudge_x</code>, <code id="geom_edgetext_repel_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustments to nudge the
starting position of each text label. The units for <code>nudge_x</code> and
<code>nudge_y</code> are the same as for the data units on the x-axis and y-axis.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with
a warning.  If <code>TRUE</code> silently removes missing values.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_edgetext_repel_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(network) &amp;&amp; require(sna)) {
  data(flo, package = "network")
  n &lt;- network(flo, directed = FALSE)

  # arbitrary categorical edge attribute
  e &lt;- sample(1:4, network.edgecount(n), replace = TRUE)
  set.edge.attribute(n, "day", e)

  # with repulsive edge labels
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges() +
    geom_edgetext_repel(aes(label = day), box.padding = unit(0.5, "lines")) +
    geom_nodes(size = 4, colour = "grey50") +
    theme_blank()

  # repulsive edge labels for only a subset of all edges
  edge_day &lt;- function(x) {
    x[ x$day &gt; 2, ]
  }
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(aes(colour = cut(day, (4:0)[ -3 ]))) +
    geom_edgetext_repel(aes(
      label = paste("day", day),
      colour = cut(day, (4:0)[ -3 ])
    ), data = edge_day) +
    geom_nodes(size = 4, colour = "grey50") +
    scale_colour_manual("day",
      labels = c("old ties", "day 3", "day 4"),
      values = c("grey50", "gold", "tomato")
    ) +
    theme_blank()
}

</code></pre>

<hr>
<h2 id='geom_nodes'>Draw the nodes of a network.</h2><span id='topic+geom_nodes'></span>

<h3>Description</h3>

<p>All arguments to this geom are identical to those of
<code><a href="ggplot2.html#topic+geom_point">geom_point</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_nodes(
  mapping = NULL,
  data = NULL,
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_nodes_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_nodes_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_nodes_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_nodes_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_nodes_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_nodes_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_nodes_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(network) &amp;&amp; require(sna)) {
  data(flo, package = "network")
  n &lt;- network(flo, directed = FALSE)

  # just nodes
  ggplot(n, aes(x, y)) +
    geom_nodes(size = 3, shape = 21, colour = "steelblue") +
    theme_blank()

  # with edges
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "steelblue") +
    geom_nodes(size = 3, shape = 21, colour = "steelblue", fill = "white") +
    theme_blank()

  # with nodes sized according to degree centrality
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "steelblue") +
    geom_nodes(size = degree(n), shape = 21, colour = "steelblue", fill = "white") +
    theme_blank()

  # with nodes colored according to betweenness centrality

  n %v% "betweenness" &lt;- betweenness(flo)
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "grey50") +
    geom_nodes(aes(colour = betweenness), size = 3) +
    scale_colour_gradient(low = "gold", high = "tomato") +
    theme_blank() +
    theme(legend.position = "bottom")
}

</code></pre>

<hr>
<h2 id='geom_nodetext'>Label the nodes of a network.</h2><span id='topic+geom_nodetext'></span><span id='topic+geom_nodelabel'></span>

<h3>Description</h3>

<p>All arguments to these geoms are identical to those of
<code><a href="ggplot2.html#topic+geom_text">geom_text</a></code> and <code><a href="ggplot2.html#topic+geom_label">geom_label</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_nodetext(
  mapping = NULL,
  data = NULL,
  position = "identity",
  ...,
  parse = FALSE,
  nudge_x = 0,
  nudge_y = 0,
  check_overlap = FALSE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_nodelabel(
  mapping = NULL,
  data = NULL,
  position = "identity",
  ...,
  parse = FALSE,
  nudge_x = 0,
  nudge_y = 0,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0.25,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_nodetext_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function. Cannot be jointly specified with
<code>nudge_x</code> or <code>nudge_y</code>.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_parse">parse</code></td>
<td>
<p>If <code>TRUE</code>, the labels will be parsed into expressions and
displayed as described in <code>?plotmath</code>.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_nudge_x">nudge_x</code>, <code id="geom_nodetext_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge labels by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_check_overlap">check_overlap</code></td>
<td>
<p>If <code>TRUE</code>, text that overlaps previous text in the
same layer will not be plotted. <code>check_overlap</code> happens at draw time and in
the order of the data. Therefore data should be arranged by the label
column before calling <code>geom_text()</code>. Note that this argument is not
supported by <code>geom_label()</code>.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_nodetext_+3A_label.size">label.size</code></td>
<td>
<p>Size of label border, in mm.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## geom_nodetext examples

if (require(network) &amp;&amp; require(sna)) {
  n &lt;- network(rgraph(10, tprob = 0.2), directed = FALSE)

  # just node labels
  ggplot(n, aes(x, y)) +
    geom_nodetext(aes(label = vertex.names)) +
    theme_blank()

  # with nodes underneath
  ggplot(n, aes(x, y)) +
    geom_nodes(colour = "gold", size = 9) +
    geom_nodetext(aes(label = vertex.names)) +
    theme_blank()

  # with nodes and edges
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "gold") +
    geom_nodes(colour = "gold", size = 9) +
    geom_nodetext(aes(label = vertex.names)) +
    theme_blank()
}


## geom_nodelabel examples

if (require(network) &amp;&amp; require(sna)) {
  data(flo, package = "network")
  n &lt;- network(flo, directed = FALSE)

  # with text labels
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "grey50") +
    geom_nodelabel(aes(label = vertex.names)) +
    theme_blank()

  # with text labels coloured according to degree centrality
  n %v% "degree" &lt;- degree(n)
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "grey50") +
    geom_nodelabel(aes(label = vertex.names, fill = degree)) +
    scale_fill_gradient(low = "gold", high = "tomato") +
    theme_blank()

  # label only a subset of all nodes
  high_degree &lt;- function(x) {
    x[ x$degree &gt; median(x$degree), ]
  }
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "steelblue") +
    geom_nodes(aes(size = degree), colour = "steelblue") +
    geom_nodelabel(aes(label = vertex.names),
      data = high_degree,
      colour = "white", fill = "tomato"
    ) +
    theme_blank()
}

</code></pre>

<hr>
<h2 id='geom_nodetext_repel'>Draw repulsive node labels</h2><span id='topic+geom_nodetext_repel'></span><span id='topic+geom_nodelabel_repel'></span>

<h3>Description</h3>

<p>All arguments to these geoms are identical to those of
<code><a href="ggrepel.html#topic+geom_text_repel">geom_text_repel</a></code> and
<code><a href="ggrepel.html#topic+geom_label_repel">geom_label_repel</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_nodetext_repel(
  mapping = NULL,
  data = NULL,
  parse = FALSE,
  ...,
  box.padding = unit(0.25, "lines"),
  point.padding = unit(1e-06, "lines"),
  arrow = NULL,
  force = 1,
  max.iter = 10000,
  nudge_x = 0,
  nudge_y = 0,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_nodelabel_repel(
  mapping = NULL,
  data = NULL,
  parse = FALSE,
  ...,
  box.padding = unit(0.25, "lines"),
  label.padding = unit(0.25, "lines"),
  point.padding = unit(1e-06, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0.25,
  arrow = NULL,
  force = 1,
  max.iter = 10000,
  nudge_x = 0,
  nudge_y = 0,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_nodetext_repel_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), is combined with the default mapping at the top level of the
plot. You only need to supply <code>mapping</code> if there isn't a mapping
defined for the plot.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_data">data</code></td>
<td>
<p>A data frame. If specified, overrides the default data frame
defined at the top level of the plot.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_parse">parse</code></td>
<td>
<p>If TRUE, the labels will be parsed into expressions and
displayed as described in ?plotmath</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. There are
three types of arguments you can use here:
</p>

<ul>
<li><p> Aesthetics: to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>.
</p>
</li>
<li><p> Other arguments to the layer, for example you override the
default <code>stat</code> associated with the layer.
</p>
</li>
<li><p> Other arguments passed on to the stat.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_box.padding">box.padding</code></td>
<td>
<p>Amount of padding around bounding box, as unit or number.
Defaults to 0.25. (Default unit is lines, but other units can be specified
by passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_point.padding">point.padding</code></td>
<td>
<p>Amount of padding around labeled point, as unit or
number. Defaults to 0. (Default unit is lines, but other units can be
specified by passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_arrow">arrow</code></td>
<td>
<p>specification for arrow heads, as created by <code><a href="grid.html#topic+arrow">arrow</a></code></p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_force">force</code></td>
<td>
<p>Force of repulsion between overlapping text labels. Defaults
to 1.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_max.iter">max.iter</code></td>
<td>
<p>Maximum number of iterations to try to resolve overlaps.
Defaults to 10000.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_nudge_x">nudge_x</code>, <code id="geom_nodetext_repel_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustments to nudge the
starting position of each text label. The units for <code>nudge_x</code> and
<code>nudge_y</code> are the same as for the data units on the x-axis and y-axis.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with
a warning.  If <code>TRUE</code> silently removes missing values.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders</a></code>.</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label, as unit or number.
Defaults to 0.25. (Default unit is lines, but other units can be specified
by passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners, as unit or number. Defaults
to 0.15. (Default unit is lines, but other units can be specified by
passing <code>unit(x, "units")</code>).</p>
</td></tr>
<tr><td><code id="geom_nodetext_repel_+3A_label.size">label.size</code></td>
<td>
<p>Size of label border, in mm.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## geom_nodetext_repel example

if (require(network) &amp;&amp; require(sna)) {
  n &lt;- network(rgraph(10, tprob = 0.2), directed = FALSE)
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "steelblue") +
    geom_nodetext_repel(aes(label = paste("node", vertex.names)),
      box.padding = unit(1, "lines")
    ) +
    geom_nodes(colour = "steelblue", size = 3) +
    theme_blank()
}

## geom_nodelabel_repel examples

if (require(network) &amp;&amp; require(sna)) {
  data(flo, package = "network")
  n &lt;- network(flo, directed = FALSE)

  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "steelblue") +
    geom_nodelabel_repel(aes(label = vertex.names),
      box.padding = unit(1, "lines")
    ) +
    geom_nodes(colour = "steelblue", size = 3) +
    theme_blank()

  # label only a subset of all nodes
  n %v% "degree" &lt;- degree(n)
  low_degree &lt;- function(x) {
    x[ x$degree &lt; median(x$degree), ]
  }
  ggplot(n, aes(x, y, xend = xend, yend = yend)) +
    geom_edges(colour = "steelblue") +
    geom_nodelabel_repel(aes(label = vertex.names),
      box.padding = unit(1.5, "lines"),
      data = low_degree,
      segment.colour = "tomato",
      colour = "white", fill = "tomato"
    ) +
    geom_nodes(aes(size = degree), colour = "steelblue") +
    theme_blank()
}

</code></pre>

<hr>
<h2 id='ggnetwork'>Fortify network objects.</h2><span id='topic+ggnetwork'></span>

<h3>Description</h3>

<p>A wrapper for the <code><a href="#topic+fortify.network">fortify.network</a></code> and
<code><a href="#topic+fortify.igraph">fortify.igraph</a></code> functions that will also try to coerce matrices
and data frames to network objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggnetwork(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggnetwork_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="network.html#topic+network">network</a></code> or
<code><a href="igraph.html#topic+igraph-package">igraph</a></code>, or any object that can be
coerced to that class, such as an adjacency or incidence matrix, or an
edge list: see <code><a href="network.html#topic+edgeset.constructors">edgeset.constructors</a></code> and
<code><a href="network.html#topic+network">network</a></code> for details.</p>
</td></tr>
<tr><td><code id="ggnetwork_+3A_...">...</code></td>
<td>
<p>arguments passed to the <code><a href="#topic+fortify.network">fortify.network</a></code> or
<code><a href="#topic+fortify.igraph">fortify.igraph</a></code> functions.</p>
</td></tr>
</table>

<hr>
<h2 id='scale_safely'>Rescale x to (0, 1), except if x is constant</h2><span id='topic+scale_safely'></span>

<h3>Description</h3>

<p>Discussed in PR #32: https://github.com/briatte/ggnetwork/pull/32
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_safely(x, scale = diff(range(x)))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_safely_+3A_x">x</code></td>
<td>
<p>a vector to rescale</p>
</td></tr>
<tr><td><code id="scale_safely_+3A_scale">scale</code></td>
<td>
<p>the scale on which to rescale the vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The rescaled vector, coerced to a vector if necessary.
If the original vector was constant, all of its values are replaced by 0.5.
</p>


<h3>Author(s)</h3>

<p>Kipp Johnson
</p>

<hr>
<h2 id='theme_blank'>Blank ggplot2 theme, suited for plotting networks.</h2><span id='topic+theme_blank'></span>

<h3>Description</h3>

<p>A <code>ggplot2</code> theme without lines, borders, axis text or titles, suited
for plotting networks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_blank(base_size = 12, base_family = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_blank_+3A_base_size">base_size</code></td>
<td>
<p>base font size</p>
</td></tr>
<tr><td><code id="theme_blank_+3A_base_family">base_family</code></td>
<td>
<p>base font family</p>
</td></tr>
<tr><td><code id="theme_blank_+3A_...">...</code></td>
<td>
<p>other <code>theme</code> arguments</p>
</td></tr>
</table>

<hr>
<h2 id='theme_facet'>Blank ggplot2 theme with a panel border.</h2><span id='topic+theme_facet'></span>

<h3>Description</h3>

<p>A variation of <code><a href="#topic+theme_blank">theme_blank</a></code> that adds a panel border to the
plot, which is often suitable for plotting faceted networks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_facet(base_size = 12, base_family = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_facet_+3A_base_size">base_size</code></td>
<td>
<p>base font size</p>
</td></tr>
<tr><td><code id="theme_facet_+3A_base_family">base_family</code></td>
<td>
<p>base font family</p>
</td></tr>
<tr><td><code id="theme_facet_+3A_...">...</code></td>
<td>
<p>other <code>theme</code> arguments</p>
</td></tr>
</table>

<hr>
<h2 id='unit'>unit</h2><span id='topic+unit'></span>

<h3>Description</h3>

<p>See <code>ggplot2::<a href="ggplot2.html#topic+unit">unit</a></code> for details.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

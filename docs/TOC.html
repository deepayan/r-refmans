<!DOCTYPE html><html><head><title>Help for package TOC</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {TOC}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#TOC-package'>
<p>Total Operating Characteristic (TOC) Curve and ROC Curve</p></a></li>
<li><a href='#plot'><p>Plot an object of class Toc or Roc</p></a></li>
<li><a href='#ROC'>
<p>Construct the table for the ROC curve</p></a></li>
<li><a href='#roctable'>
<p>Construct a basic ROC table</p></a></li>
<li><a href='#scaling'><p>scale the output TOC values and change units</p></a></li>
<li><a href='#TOC'>
<p>Construct the table for the TOC curve</p></a></li>
<li><a href='#Toc-class'><p>Toc and Roc classes</p></a></li>
<li><a href='#uncertainty'>
<p>Uncertainty in AUC calculation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Total Operating Characteristic Curve and ROC Curve</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0-6</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-02-09</td>
</tr>
<tr>
<td>Author:</td>
<td>Robert G. Pontius &lt;rpontius@clarku.edu&gt;, Ali Santacruz, Amin Tayyebi, Benoit Parmentier, Kangping Si</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ali Santacruz &lt;amsantac@unal.edu.co&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>terra, bit, methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, utils</td>
</tr>
<tr>
<td>Description:</td>
<td>Construction of the Total Operating Characteristic (TOC) Curve and the Receiver (aka Relative) Operating Characteristic (ROC) Curve for spatial and non-spatial data. The TOC method is a modification of the ROC method which measures the ability of an index variable to diagnose either presence or absence of a characteristic. The diagnosis depends on whether the value of an index variable is above a threshold. Each threshold generates a two-by-two contingency table, which contains four entries: hits (H), misses (M), false alarms (FA), and correct rejections (CR). While ROC shows for each threshold only two ratios, H/(H + M) and FA/(FA + CR), TOC reveals the size of every entry in the contingency table for each threshold (Pontius Jr., R.G., Si, K. 2014. &lt;<a href="https://doi.org/10.1080%2F13658816.2013.862623">doi:10.1080/13658816.2013.862623</a>&gt;). </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/amsantac/TOC/issues">https://github.com/amsantac/TOC/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/amsantac/TOC">https://github.com/amsantac/TOC</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-09 15:37:26 UTC; spaziu</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-09 16:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='TOC-package'>
Total Operating Characteristic (TOC) Curve and ROC Curve
</h2><span id='topic+TOC-package'></span>

<h3>Description</h3>

<p>Construction of the Total Operating Characteristic (TOC) Curve and the Receiver (aka Relative) Operating Characteristic (ROC) Curve for spatial and non-spatial data. The TOC method is a modification of the ROC method which measures the ability of an index variable to diagnose either presence or absence of a characteristic. The diagnosis depends on whether the value of an index variable is above a threshold. Each threshold generates a two-by-two contingency table, which contains four entries: hits (H), misses (M), false alarms (FA), and correct rejections (CR). While ROC shows for each threshold only two ratios, H/(H + M) and FA/(FA + CR), TOC reveals the size of every entry in the contingency table for each threshold (Pontius Jr., R.G., Si, K. 2014. The total operating characteristic to measure diagnostic ability for multiple thresholds. Int. J. Geogr. Inf. Sci. 28 (3), 570-583 &lt;doi:10.1080/13658816.2013.862623&gt;).</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> TOC</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.0-6</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2023-02-09</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Robert G. Pontius, Ali Santacruz, Amin Tayyebi, Benoit Parmentier, Kangping Si
</p>
<p>Maintainer: Ali Santacruz
</p>


<h3>References</h3>

<p>Pontius Jr., R.G., Kangpin, Si. 2014. <em>The total operating characteristic to measure diagnostic ability for multiple thresholds</em>. International Journal of Geographical Information Science 28 (3): 570-583. &lt;doi:10.1080/13658816.2013.862623&gt;
</p>
<p>Pontius, G., Parmentier, B. 2014. <em>Recommendations for using the Relative Operating Characteristic (ROC)</em>. Landscape Ecology 29 (3): 367-382. &lt;doi:10.1007/s10980-013-9984-8&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+TOC">TOC</a></code>, <code><a href="#topic+plot">plot</a></code> 
</p>

<hr>
<h2 id='plot'>Plot an object of class Toc or Roc</h2><span id='topic+plot'></span><span id='topic+plot+2CToc-method'></span><span id='topic+plot+2CRoc-method'></span>

<h3>Description</h3>

<p>Plot a Total Operating Characteristic (TOC) curve or a Relative Operating Characteristic (ROC) curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Toc'
plot(x, labelThres = FALSE, modelLeg = "Model", digits = 3, 
nticks = 5, digitsL = 1, posL = NULL, offsetL = 0.5, ...)
   

## S4 method for signature 'Roc'
plot(x, labelThres = FALSE, modelLeg = "Model", digits = 3, 
nticks = 5, digitsL = 1, posL = NULL, offsetL = 0.5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_+3A_x">x</code></td>
<td>
<p>An object of class Toc or Roc</p>
</td></tr>
<tr><td><code id="plot_+3A_labelthres">labelThres</code></td>
<td>

<p>logical, default to FALSE. If TRUE, thresholds are labeled in the TOC plot
</p>
</td></tr>
<tr><td><code id="plot_+3A_modelleg">modelLeg</code></td>
<td>

<p>a character string for labeling the model in the legend 
</p>
</td></tr>
<tr><td><code id="plot_+3A_digits">digits</code></td>
<td>

<p>integer indicating the number of decimal places (round) or significant digits (signif) to be used for labeling the numeric axes. Negative values are allowed. See Details in the <code>round</code> function
</p>
</td></tr>
<tr><td><code id="plot_+3A_nticks">nticks</code></td>
<td>

<p>number of tickmarcks to be drawn along the axes
</p>
</td></tr>
<tr><td><code id="plot_+3A_digitsl">digitsL</code></td>
<td>

<p>integer indicating the number of decimal places (round) or significant digits (signif) to be used for labeling the thresholds. Negative values are allowed. See Details in the <code>round</code> function
</p>
</td></tr>
<tr><td><code id="plot_+3A_posl">posL</code></td>
<td>
 
<p>a position specifier for the text labels. Values of 1, 2, 3 and 4, respectively indicate positions below, to the left of, above and to the right of the corresponding coordinates
</p>
</td></tr>
<tr><td><code id="plot_+3A_offsetl">offsetL</code></td>
<td>

<p>when posL is specified, this value gives the offset of the label from the corresponding coordinate in fractions of a character width
</p>
</td></tr>
<tr><td><code id="plot_+3A_...">...</code></td>
<td>

<p>additional parameters to be passed to <code>plot</code>, <code>axis</code> or <code>text</code> 
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot showing the TOC or the ROC curve
</p>


<h3>References</h3>

<p>Pontius Jr., R.G., Kangpin, Si. 2014. <em>The total operating characteristic to measure diagnostic ability for multiple thresholds</em>. International Journal of Geographical Information Science 28 (3): 570-583. &lt;doi:10.1080/13658816.2013.862623&gt;
</p>
<p>Pontius, G., Parmentier, B. 2014. <em>Recommendations for using the Relative Operating Characteristic (ROC)</em>. Landscape Ecology 29 (3): 367-382. &lt;doi:10.1007/s10980-013-9984-8&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+TOC">TOC</a></code>, <code><a href="#topic+ROC">ROC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>index &lt;- rast(system.file("external/Prob_Map2.rst", package = "TOC"))
boolean &lt;- rast(system.file("external/Change_Map2b.rst", package = "TOC"))
mask &lt;- rast(system.file("external/MASK4.rst", package = "TOC"))

## create and plot the TOC curve
tocd &lt;- TOC(index, boolean, mask, nthres = 100)
plot(tocd, main = "TOC curve")

## create and plot the ROC curve
rocd &lt;- ROC(index, boolean, mask, nthres = 100)
plot(rocd, main = "ROC curve")

## label the thresholds in the plot
tocd &lt;- TOC(index, boolean, mask, nthres = 10)
plot(tocd, labelThres = TRUE, cex = 0.8, posL = 4)
</code></pre>

<hr>
<h2 id='ROC'>
Construct the table for the ROC curve
</h2><span id='topic+ROC'></span><span id='topic+ROC+2Cnumeric+2Cnumeric-method'></span><span id='topic+ROC+2CSpatRaster+2CSpatRaster-method'></span>

<h3>Description</h3>

<p>Construct the table for the Relative Operating Characteristic (ROC) curve for spatial or non-spatial data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'numeric,numeric'
ROC(index, boolean, mask = NULL, nthres = NULL, thres = NULL, 
NAval = 0, progress = FALSE)

## S4 method for signature 'SpatRaster,SpatRaster'
ROC(index, boolean, mask = NULL, nthres = NULL, thres = NULL, 
NAval = 0, progress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROC_+3A_index">index</code></td>
<td>

<p>index object of class numeric or SpatRaster
</p>
</td></tr>
<tr><td><code id="ROC_+3A_boolean">boolean</code></td>
<td>

<p>boolean object of class numeric or SpatRaster
</p>
</td></tr>
<tr><td><code id="ROC_+3A_mask">mask</code></td>
<td>

<p>mask object of class numeric or SpatRaster
</p>
</td></tr>
<tr><td><code id="ROC_+3A_nthres">nthres</code></td>
<td>

<p>an optional integer indicating the number of equal-interval thresholds to be evaluated for the ROC curve. See Details below
</p>
</td></tr>
<tr><td><code id="ROC_+3A_thres">thres</code></td>
<td>

<p>an optional numeric vector of thresholds to be evaluated for the ROC curve. See Details below
</p>
</td></tr>
<tr><td><code id="ROC_+3A_naval">NAval</code></td>
<td>

<p>value for nodata (NA values) in the mask object
</p>
</td></tr>
<tr><td><code id="ROC_+3A_progress">progress</code></td>
<td>

<p>logical; if TRUE, a progress bar is shown
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>thresholds are calculated as the unique values of the index object after masking out NA values (default option), if neither nthres nor thres is provided. The default option can be time-consuming if the amount of unique values in the index object (after masking out NA values) is large (e.g., greater than 1000). In the latter case, the user may prefer to enter specified thresholds (with the <code>thres</code> argument), or to indicate the number of equal-interval thresholds to be evaluated for the ROC curve (with the <code>nthres</code> argument)
</p>


<h3>Value</h3>

<p>an object of class <code>Roc</code> containing the ROC table, the area under the curve (AUC), maximum AUC and minimum AUC
</p>


<h3>References</h3>

<p>Pontius Jr., R.G., Kangpin, Si. 2014. <em>The total operating characteristic to measure diagnostic ability for multiple thresholds</em>. International Journal of Geographical Information Science 28 (3): 570-583. &lt;doi:10.1080/13658816.2013.862623&gt;
</p>
<p>Pontius, G., Parmentier, B. 2014. <em>Recommendations for using the Relative Operating Characteristic (ROC)</em>. Landscape Ecology 29 (3): 367-382. &lt;doi:10.1007/s10980-013-9984-8&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot">plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>index &lt;- rast(system.file("external/Prob_Map2.rst", package = "TOC"))
boolean &lt;- rast(system.file("external/Change_Map2b.rst", package = "TOC"))
mask &lt;- rast(system.file("external/MASK4.rst", package = "TOC"))

## thresholds can be defined by indicating the number of equal-interval thresholds 
rocd &lt;- ROC(index, boolean, mask, nthres = 100)
rocd

## a vector of thresholds can also be used to define the thresholds
thresholds &lt;- seq(min(unique(index)), max(unique(index)) + 1, 
                  by = ceiling(max(unique(index))/10))
rocd &lt;- ROC(index, boolean, mask, thres = thresholds)
rocd

## all the unique values of the index object can be evaluated as thresholds 
## (default option)
## Not run: 
rocd &lt;- ROC(index, boolean, mask, progress = TRUE)
rocd

## End(Not run)

## generate the ROC curve using non-spatial data (i.e., an object of class numeric)
## Not run: 
index &lt;- rast(system.file("external/Prob_Map2.rst", package = "TOC"))
boolean &lt;- rast(system.file("external/Change_Map2b.rst", package = "TOC"))
mask &lt;- rast(system.file("external/MASK4.rst", package = "TOC"))

index &lt;- values(index, mat = FALSE)
boolean &lt;- values(boolean, mat = FALSE)
mask &lt;- values(mask, mat = FALSE)
rocd &lt;- ROC(index, boolean, mask, nthres = 100)
rocd

## End(Not run)
</code></pre>

<hr>
<h2 id='roctable'>
Construct a basic ROC table
</h2><span id='topic+roctable'></span>

<h3>Description</h3>

<p>TOC internal function. Construct a basic ROC table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roctable(indval, boolval, maskval = NULL, nthres = NULL, 
         thres = NULL, NAval = 0, progress = FALSE, 
         ones.bool = NULL, zeros.bool = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="roctable_+3A_indval">indval</code></td>
<td>

<p>numeric index vector
</p>
</td></tr>
<tr><td><code id="roctable_+3A_boolval">boolval</code></td>
<td>

<p>numeric boolean vector
</p>
</td></tr>
<tr><td><code id="roctable_+3A_maskval">maskval</code></td>
<td>

<p>numeric mask vector
</p>
</td></tr>
<tr><td><code id="roctable_+3A_nthres">nthres</code></td>
<td>

<p>an optional integer indicating the number of equal-interval thresholds to be evaluated for the TOC curve. See Details below
</p>
</td></tr>
<tr><td><code id="roctable_+3A_thres">thres</code></td>
<td>

<p>an optional numeric vector of thresholds to be evaluated for the TOC curve. See Details below
</p>
</td></tr>
<tr><td><code id="roctable_+3A_naval">NAval</code></td>
<td>

<p>value for nodata (NA values) in the mask map
</p>
</td></tr>
<tr><td><code id="roctable_+3A_progress">progress</code></td>
<td>

<p>logical; if TRUE, a progress bar is shown
</p>
</td></tr>
<tr><td><code id="roctable_+3A_ones.bool">ones.bool</code></td>
<td>

<p>numeric value indicating total number of 1's in the boolean vector
</p>
</td></tr>
<tr><td><code id="roctable_+3A_zeros.bool">zeros.bool</code></td>
<td>

<p>numeric value indicating total number of 0's in the boolean vector
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with a basic ROC table and a numeric value for minimum value in the index vector
</p>


<h3>Note</h3>

<p>This function is not meant to be called by users directly
</p>

<hr>
<h2 id='scaling'>scale the output TOC values and change units</h2><span id='topic+scaling'></span><span id='topic+scaling+2CToc-method'></span>

<h3>Description</h3>

<p>scale the 'Hits' and 'Hits+FalseAlarms' values in the TOC output table, as well as the prevalence and population, using a scaling factor. Labels for the modified units in the TOC object are changed to <code>newUnits</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Toc'
scaling(x, scalingFactor, newUnits)
   
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scaling_+3A_x">x</code></td>
<td>

<p>an object of class Toc
</p>
</td></tr>
<tr><td><code id="scaling_+3A_scalingfactor">scalingFactor</code></td>
<td>

<p>numeric value to scale 'Hits' and 'Hits+FalseAlarms' values in the TOC output table, as well as the prevalence and population
</p>
</td></tr>
<tr><td><code id="scaling_+3A_newunits">newUnits</code></td>
<td>

<p>charater string for the new data units in the TOC object
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class TOC
</p>


<h3>See Also</h3>

<p><code><a href="#topic+TOC">TOC</a></code>, <code><a href="#topic+ROC">ROC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>index &lt;- rast(system.file("external/Prob_Map2.rst", package = "TOC"))
boolean &lt;- rast(system.file("external/Change_Map2b.rst", package = "TOC"))
mask &lt;- rast(system.file("external/MASK4.rst", package = "TOC"))
tocd &lt;- TOC(index, boolean, mask, nthres = 100)
plot(tocd)

## scale units from square m to square km
tocd_sqkm &lt;- scaling(tocd, scalingFactor = 1000000, newUnits = "square km")
plot(tocd_sqkm) 
</code></pre>

<hr>
<h2 id='TOC'>
Construct the table for the TOC curve
</h2><span id='topic+TOC'></span><span id='topic+TOC+2Cnumeric+2Cnumeric-method'></span><span id='topic+TOC+2CSpatRaster+2CSpatRaster-method'></span>

<h3>Description</h3>

<p>Construct the table for the Total Operating Characteristic (TOC) curve for spatial or non-spatial data. The TOC method is a modification of the ROC method which measures the ability of an index variable to diagnose either presence or absence of a characteristic. The diagnosis depends on whether the value of an index variable is above a threshold. Each threshold generates a two-by-two contingency table, which contains four entries: hits (H), misses (M), false alarms (FA), and correct rejections (CR). While ROC shows for each threshold only two ratios, H/(H + M) and FA/(FA + CR), TOC reveals the size of every entry in the contingency table for each threshold (Pontius Jr., R.G., Si, K. 2014. &lt;doi:10.1080/13658816.2013.862623&gt;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'numeric,numeric'
TOC(index, boolean, mask = NULL, nthres = NULL, thres = NULL, 
NAval = 0, P = NA, Q = NA, progress = FALSE, units = character(0))
## S4 method for signature 'SpatRaster,SpatRaster'
TOC(index, boolean, mask = NULL, nthres = NULL, thres = NULL, 
NAval = 0, P = NA, Q = NA, progress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TOC_+3A_index">index</code></td>
<td>

<p>index object of class numeric or SpatRaster
</p>
</td></tr>
<tr><td><code id="TOC_+3A_boolean">boolean</code></td>
<td>

<p>boolean object of class numeric or SpatRaster
</p>
</td></tr>
<tr><td><code id="TOC_+3A_mask">mask</code></td>
<td>

<p>mask object of class numeric or SpatRaster
</p>
</td></tr>
<tr><td><code id="TOC_+3A_nthres">nthres</code></td>
<td>

<p>an optional integer indicating the number of equal-interval thresholds to be evaluated for the TOC curve. See Details below
</p>
</td></tr>
<tr><td><code id="TOC_+3A_thres">thres</code></td>
<td>

<p>an optional numeric vector of thresholds to be evaluated for the TOC curve. See Details below
</p>
</td></tr>
<tr><td><code id="TOC_+3A_naval">NAval</code></td>
<td>

<p>value for nodata (NA values) in the mask object
</p>
</td></tr>
<tr><td><code id="TOC_+3A_p">P</code></td>
<td>

<p>count of reference presence observations in the population
</p>
</td></tr>
<tr><td><code id="TOC_+3A_q">Q</code></td>
<td>

<p>count of reference absence observations in the population
</p>
</td></tr>
<tr><td><code id="TOC_+3A_progress">progress</code></td>
<td>

<p>logical; if TRUE, a progress bar is shown
</p>
</td></tr>
<tr><td><code id="TOC_+3A_units">units</code></td>
<td>

<p>character string indicating data units
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>thresholds are calculated as the unique values of the index object after masking out NA values (default option), if neither nthres nor thres is provided. The default option can be time-consuming if the amount of unique values in the index object (after masking out NA values) is large (e.g., greater than 1000). In the latter case, the user may prefer to enter specified thresholds (with the <code>thres</code> argument), or to indicate the number of equal-interval thresholds to be evaluated for the TOC curve (with the <code>nthres</code> argument)
</p>


<h3>Value</h3>

<p>an object of class <code>Toc</code> containing the TOC table, the area under the curve (AUC), maximum AUC and minimum AUC, the prevalence, the population and the data units (for data in the TOC table slot, and the prevalence and population slots) 
</p>


<h3>References</h3>

<p>Pontius Jr., R.G., Kangpin, Si. 2014. <em>The total operating characteristic to measure diagnostic ability for multiple thresholds</em>. International Journal of Geographical Information Science 28 (3): 570-583. &lt;doi:10.1080/13658816.2013.862623&gt;
</p>
<p>Pontius, G., Parmentier, B. 2014. <em>Recommendations for using the Relative Operating Characteristic (ROC)</em>. Landscape Ecology 29 (3): 367-382. &lt;doi:10.1007/s10980-013-9984-8&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot">plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>index &lt;- rast(system.file("external/Prob_Map2.rst", package = "TOC"))
boolean &lt;- rast(system.file("external/Change_Map2b.rst", package = "TOC"))
mask &lt;- rast(system.file("external/MASK4.rst", package = "TOC"))

## thresholds can be defined by indicating the number of equal-interval thresholds 
tocd &lt;- TOC(index, boolean, mask, nthres = 100)
tocd

## a vector of thresholds can also be used to define the thresholds
thresholds &lt;- seq(min(unique(index)), max(unique(index)) + 1, 
                  by = ceiling(max(unique(index))/10))
tocd &lt;- TOC(index, boolean, mask, thres = thresholds)
tocd

## all the unique values of the index object can be evaluated as thresholds 
## (default option)
## Not run: 
tocd &lt;- TOC(index, boolean, mask, progress = TRUE)
tocd

## End(Not run)

## generate the TOC curve using non-spatial data (i.e., an object of class numeric)
## Not run: 
index &lt;- values(index, mat = FALSE)
boolean &lt;- values(boolean, mat = FALSE)
mask &lt;- values(mask, mat = FALSE)
tocd &lt;- TOC(index, boolean, mask, nthres = 100)

## End(Not run)
</code></pre>

<hr>
<h2 id='Toc-class'>Toc and Roc classes</h2><span id='topic+Toc-class'></span><span id='topic+Roc-class'></span>

<h3>Description</h3>

<p>Toc and Roc classes
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("Toc", ...)</code>, or with the helper functions such as <code>Toc</code>.
</p>


<h3>Slots</h3>

<p>Slots for Roc and Toc objects
</p>

<dl>
<dt><code>table</code>:</dt><dd><p>data.frame</p>
</dd> 
<dt><code>AUC</code>:</dt><dd><p>numeric; Area Under the Curve</p>
</dd>
<dt><code>maxAUC</code>:</dt><dd><p>numeric; maximum AUC</p>
</dd>
<dt><code>minAUC</code>:</dt><dd><p>numeric; minimum AUC</p>
</dd>
<dt><code>prevalence</code>:</dt><dd><p>numeric; prevalence</p>
</dd>
<dt><code>population</code>:</dt><dd><p>numeric; population</p>
</dd>
<dt><code>units</code>:</dt><dd><p>character; units for data in the TOC table, prevalence and population</p>
</dd> 
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>showClass("Toc")
</code></pre>

<hr>
<h2 id='uncertainty'>
Uncertainty in AUC calculation
</h2><span id='topic+uncertainty'></span>

<h3>Description</h3>

<p>TOC internal function. It calculates uncertainty in AUC calculation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uncertainty(index, tocd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uncertainty_+3A_index">index</code></td>
<td>

<p>index vector
</p>
</td></tr>
<tr><td><code id="uncertainty_+3A_tocd">tocd</code></td>
<td>

<p>data.frame output from <code>roctable</code>
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric value representing uncertainty in AUC calculation 
</p>


<h3>Note</h3>

<p>This function is not meant to be called by users directly
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

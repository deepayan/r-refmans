<!DOCTYPE html><html lang="en"><head><title>Help for package roger</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {roger}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#all_style'><p>Validation Using All Style Linters</p></a></li>
<li><a href='#assignment_style'><p>Validation of the Assignment Operator</p></a></li>
<li><a href='#commas_style'><p>Validation of Spacing Around Commas</p></a></li>
<li><a href='#comments_style'><p>Validation of Comments</p></a></li>
<li><a href='#curly_braces_style'><p>Validation of the Positioning of Braces</p></a></li>
<li><a href='#documentation_linters'><p>Validation of Documentation</p></a></li>
<li><a href='#getSourceData'><p>Get Parse Information and Source Code</p></a></li>
<li><a href='#line_length_style'><p>Validation of Length of Code and Comments Lines</p></a></li>
<li><a href='#nomagic_style'><p>Validation of Magic Numbers</p></a></li>
<li><a href='#ops_spaces_style'><p>Validation of Spacing Around Operators</p></a></li>
<li><a href='#parentheses_style'><p>Validation of Spacing Around Parentheses</p></a></li>
<li><a href='#roger-interface'><p>R Interface for Roger Command Line Tools</p></a></li>
<li><a href='#square_brackets_style'><p>Validation of Spacing Around Square Brackets</p></a></li>
<li><a href='#trailing_blank_lines_style'><p>Validation of Trailing Blank Lines</p></a></li>
<li><a href='#trailing_whitespace_style'><p>Validation of Trailing Whitespace</p></a></li>
<li><a href='#unneeded_concatenation_style'><p>Validation of Concatenation Usage</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Automated Grading of R Scripts</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5-1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-23</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for grading the coding style and documentation of R
  scripts. This is the R component of Roger the Omni Grader, an
  automated grading system for computer programming projects based on
  Unix shell scripts; see <a href="https://gitlab.com/roger-project">https://gitlab.com/roger-project</a>. The
  package also provides an R interface to the shell scripts. Inspired by
  the lintr package.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tinytest</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>roger-base (for interface functions only)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://roger-project.gitlab.io">https://roger-project.gitlab.io</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://gitlab.com/roger-project/roger-rpkg/-/issues">https://gitlab.com/roger-project/roger-rpkg/-/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-24 03:59:27 UTC; vincent</td>
</tr>
<tr>
<td>Author:</td>
<td>Vincent Goulet [aut, cre],
  Samuel Fr√©chette [aut],
  Jean-Christophe Langlois [aut],
  Jim Hester [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Vincent Goulet &lt;vincent.goulet@act.ulaval.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-24 04:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='all_style'>Validation Using All Style Linters</h2><span id='topic+all_style'></span>

<h3>Description</h3>

<p>Check the style of code using all available linters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_style(srcData, include, exclude, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="all_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
<tr><td><code id="all_style_+3A_include">include</code>, <code id="all_style_+3A_exclude">exclude</code></td>
<td>
<p>character vector of linters to use or to omit,
respectively. If both arguments are unspecified or <code>NULL</code>, all
available linters are used.</p>
</td></tr>
<tr><td><code id="all_style_+3A_...">...</code></td>
<td>
<p>further arguments passed to linters when appropriately
named.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The complete list of available style linters is as follows:
</p>

<ul>
<li><p>assignment_style
</p>
</li>
<li><p>close_brace_style
</p>
</li>
<li><p>close_bracket_style
</p>
</li>
<li><p>close_parenthesis_style
</p>
</li>
<li><p>commas_style
</p>
</li>
<li><p>comments_style
</p>
</li>
<li><p>left_parenthesis_style
</p>
</li>
<li><p>line_length_style
</p>
</li>
<li><p>nomagic_style
</p>
</li>
<li><p>open_brace_style
</p>
</li>
<li><p>open_brace_unique_style
</p>
</li>
<li><p>open_bracket_style
</p>
</li>
<li><p>open_parenthesis_style
</p>
</li>
<li><p>ops_spaces_style
</p>
</li>
<li><p>trailing_blank_lines_style
</p>
</li>
<li><p>trailing_whitespace_style
</p>
</li>
<li><p>unneeded_concatenation_style
</p>
</li></ul>



<h3>Value</h3>

<p>A named list with the results of the linters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(2, 3, 5)", "crossprod(2,", "x)",
    "a &lt;- array(1:24, 2:4)", "a[1, , ]",
    file = fil, sep = "\n")

all_style(getSourceData(fil))
all_style(getSourceData(fil), include = c("commas", "nomagic"))
all_style(getSourceData(fil), include = c("commas", "nomagic"),
          ignore.also = 5)
all_style(getSourceData(fil), exclude = "nomagic")
</code></pre>

<hr>
<h2 id='assignment_style'>Validation of the Assignment Operator</h2><span id='topic+assignment_style'></span>

<h3>Description</h3>

<p>Check that the left assign symbol (<code>&lt;-</code>) is used to assign values
to objects instead of the equation assign symbol (<code>=</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assignment_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assignment_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Although <code><a href="base.html#topic+assignOps">=</a></code> is a proper assignment symbol at
the top-level, its use is discouraged in R. Good coding practices
dictate to rather use <code>&lt;-</code> for (left) assignment to objects.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct coding practice
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- 2", file = fil, sep = "\n")
assignment_style(getSourceData(fil))

## Incorrect coding practice
cat("x = 2", file = fil, sep = "\n")
assignment_style(getSourceData(fil))
</code></pre>

<hr>
<h2 id='commas_style'>Validation of Spacing Around Commas</h2><span id='topic+commas_style'></span>

<h3>Description</h3>

<p>Check that commas are never preceded by a space, unless the previous
symbol is also a comma, and always followed by one, unless the comma
ends the line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>commas_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="commas_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate to follow commas by a space, unless it
ends its line, and to never put a space before. An exception to the
latter rule is consecutive commas, as in indexing of arrays.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct use of spacing around a comma
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(2, 3, 5)", "crossprod(2,", "x)",
    "a &lt;- array(1:24, 2:4)", "a[1, , ]",
    file = fil, sep = "\n")
commas_style(getSourceData(fil))

## Incorrect use of spacing around a comma
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(2,3, 5)", "crossprod(2 ,", "x)",
    "a &lt;- array(1:24, 2:4)", "a[1,, ]",
    file = fil, sep = "\n")
commas_style(getSourceData(fil))
</code></pre>

<hr>
<h2 id='comments_style'>Validation of Comments</h2><span id='topic+comments_style'></span>

<h3>Description</h3>

<p>Check that comment delimiters and the text of comments, when there is
any, are separated by at least one space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>comments_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="comments_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate to follow the comment delimiters by at
least one space when a comment contains text.
</p>
<p>The accepted delimiters are: one or more <code>\#</code> symbols possibly
followed immediately by any combination of punctuation characters of the
<code>[:punct:]</code> class (see <code><a href="base.html#topic+regex">regex</a></code>).  
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct comments
fil &lt;- tempfile(fileext = ".R")
cat("### foo",
    "##-- bar",
    "##  ",
    "#",
    "#***",
    file = fil, sep = "\n")
comments_style(getSourceData(fil))

## Incorrect comments
fil &lt;- tempfile(fileext = ".R")
cat("###foo",
    "##++bar",
    file = fil, sep = "\n")
comments_style(getSourceData(fil))
</code></pre>

<hr>
<h2 id='curly_braces_style'>Validation of the Positioning of Braces</h2><span id='topic+curly_braces_style'></span><span id='topic+close_brace_style'></span><span id='topic+open_brace_style'></span><span id='topic+open_brace_unique_style'></span>

<h3>Description</h3>

<p>Check that the opening and closing braces are positioned according to
standard bracing styles rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>close_brace_style(srcData)
open_brace_style(srcData, style = c("R", "1TBS"))
open_brace_unique_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="curly_braces_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
<tr><td><code id="curly_braces_style_+3A_style">style</code></td>
<td>
<p>character string of a supported bracing style.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate to use one bracing style uniformly in a
script.
</p>
<p>The &quot;R&quot; bracing style has both opening and closing braces on their own
lines, left aligned with their corresponding statement:
</p>
<pre>
    if (x &gt; 0)
    {
        ...
    }
  </pre>
<p>The &quot;1TBS&quot; bracing style, also known at &quot;K&amp;R&quot; style, has the opening
brace immediately follow its corresponding statement, separated by a
space. The closing brace lies on its own line, left aligned with the
statement:
</p>
<pre>
    if (x &gt; 0) {
        ...
    }
  </pre>
<p><code>open_brace_style</code> validates that the coding style in argument
is used for opening braces in a script file.
<code>open_brace_unique_style</code> validates that only one style is used
throughout the script.
</p>
<p>These functions use <code><a href="utils.html#topic+getParseText">getParseText</a></code> and, therefore, require
that the <code>"keep.source"</code> option is <code>TRUE</code>.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct positioning of braces in R bracing style
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- 2",
    "if (x &lt;= 2)",
    "{",
    "    y &lt;- 3",
    "    x + y",
    "}",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_brace_style(srcData, style = "R")
close_brace_style(srcData)

## Above code in invalid in 1TBS bracing style
open_brace_style(srcData, style = "1TBS")

## Incorrect positioning of the opening brace and
## misalignment of the closing brace
fil &lt;- tempfile(fileext = ".R")
cat("f &lt;- function(x) {",
    "    x^2",
    "  }",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_brace_style(srcData, style = "R")
close_brace_style(srcData)

## Incorrect simultaneous use of two bracing styles
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- 2",
    "if (x &lt;= 2)",
    "{",
    "    y &lt;- 3",
    "    x + y",
    "}",
    "for (i in 1:5) {",
    "    x + i",
    "}",
    file = fil, sep = "\n")
open_brace_unique_style(getSourceData(fil))
</code></pre>

<hr>
<h2 id='documentation_linters'>Validation of Documentation</h2><span id='topic+documentation_linters'></span><span id='topic+any_comments'></span><span id='topic+any_doc'></span><span id='topic+signature_doc'></span><span id='topic+section_doc'></span><span id='topic+description_section_doc'></span><span id='topic+arguments_section_doc'></span><span id='topic+value_section_doc'></span><span id='topic+examples_section_doc'></span><span id='topic+formals_doc'></span>

<h3>Description</h3>

<p>Check for comments and proper documentation of a function in a script
file.
</p>
<p>The expected documentation format is not unlike R help pages; see
details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>any_comments(srcData, ...)

any_doc(srcData, ...)

signature_doc(srcData, ...)

section_doc(srcData, pattern, ...)
description_section_doc(srcData, ...)
arguments_section_doc(srcData, ...)
value_section_doc(srcData, ...)
examples_section_doc(srcData, ...)

formals_doc(srcData, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="documentation_linters_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
<tr><td><code id="documentation_linters_+3A_pattern">pattern</code></td>
<td>
<p>character string containing a regular expression
describing a keyword to match in the documentation.</p>
</td></tr>
<tr><td><code id="documentation_linters_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="base.html#topic+grepl">grepl</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>any_comments</code> checks that a script file contains at least one
non empty comment, that is, a string with at least one character other
than whitespace after the comment delimiters.
</p>
<p>The other functions check the documentation provided with function
definitions in a script file. Comments starting in column 1 are
considered documentation.
</p>
<p><code>any_doc</code> checks that the file contains some documentation.
</p>
<p><code>signature_doc</code> checks that the signature (or usage information)
of every function is present in the documentation.
</p>
<p><code>section_doc</code> checks that the documentation contains a section
title corresponding to <code>pattern</code> for every (or as many) function
definition. Functions <code>description_section_doc</code>,
<code>arguments_section_doc</code>, <code>value_section_doc</code> and
<code>examples_section_doc</code> are wrappers for common patterns
<code>Description</code>, <code>Arguments?</code>, <code>Value</code> and
<code>Examples?</code>, respectively.
</p>
<p><code>formals_doc</code> checks that the description of every formal
argument is present in the documentation.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error, and the returned value has the following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>nlines</code></td>
<td>
<p>number of lines checked for comments or documentation
(<code>any_comments</code> and <code>any_doc</code> only);</p>
</td></tr>
<tr><td><code>fun</code></td>
<td>
<p>names of functions without a signature in the
documentation (<code>signature_doc</code> only);</p>
</td></tr>
<tr><td><code>sections</code></td>
<td>
<p>number of sections missing from documentation
(<code>section_doc</code> and wrapper functions only);</p>
</td></tr>
<tr><td><code>formals</code></td>
<td>
<p>formal arguments missing from documentation
(<code>formals_doc</code> only);</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Goulet, V.,
<a href="https://vigou3.gitlab.io/programmer-avec-r/">Programmer avec  R</a>
for the standard documentation format these functions were
developed for.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Script with non empty comments.
fil &lt;- tempfile(fileext = ".R")
cat(file = fil, "
#-
## here is foo
#-
foo &lt;- function(x, y = 2)
    x + y  #addition
")
any_comments(getSourceData(fil))

## Script with embedded documentation.
fil &lt;- tempfile(fileext = ".R")
cat(file = fil, "
###
### foo(x, y = 2)
###
##  Adding two vectors
##
##  Arguments
##
##  x: a vector
##  y: another vector
##
##  Value
##
##  Sum of the two vectors.
##
##  Examples
##
##  foo(1:5)
##
foo &lt;- function(x, y = 2)
    x + y
")
fooData &lt;- getSourceData(fil)

## Elements present in the documentation
any_comments(fooData)
any_doc(fooData)
arguments_section_doc(fooData)
value_section_doc(fooData)
examples_section_doc(fooData)
formals_doc(fooData)

## Missing section title
description_section_doc(fooData)
</code></pre>

<hr>
<h2 id='getSourceData'>Get Parse Information and Source Code</h2><span id='topic+getSourceData'></span>

<h3>Description</h3>

<p>Get parse information and source code from an R script file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSourceData(file, encoding, keep.source = getOption("keep.source"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSourceData_+3A_file">file</code></td>
<td>
<p>a connection object or a character.</p>
</td></tr>
<tr><td><code id="getSourceData_+3A_encoding">encoding</code></td>
<td>
<p>encoding to be assumed for input strings.</p>
</td></tr>
<tr><td><code id="getSourceData_+3A_keep.source">keep.source</code></td>
<td>
<p>a logical value; if <code>TRUE</code>, keep source
reference information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The parse information of the script file is obtained using
<code><a href="utils.html#topic+getParseData">getParseData</a></code>. The source code is read in using
<code><a href="base.html#topic+readLines">readLines</a></code>. Arguments <code>file</code>, <code>encoding</code> and
<code>keep.source</code> should be compatible with these functions.
</p>
<p>Linters using results of this function may not work properly if the
<code>encoding</code> argument does not match the encoding of the script
file.
</p>


<h3>Value</h3>

<p>A list of two elements:
</p>
<table role = "presentation">
<tr><td><code>parseData</code></td>
<td>
<p>parse information data frame;</p>
</td></tr>
<tr><td><code>Lines</code></td>
<td>
<p>source code character vector of length the number of
lines in the file.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

fil &lt;- tempfile(fileext = ".R")
cat("## A simple function",
    "foo &lt;- function(x, y)",
    "{",
    "    z &lt;- x + y",
    "    if (z &gt; 3)",
    "        (x * y)^2",
    "    else",
    "        sqrt(x * y)",
    "}",
    file = fil, sep = "\n")
getSourceData(fil)
</code></pre>

<hr>
<h2 id='line_length_style'>Validation of Length of Code and Comments Lines</h2><span id='topic+line_length_style'></span>

<h3>Description</h3>

<p>Check that the length of code and comment lines does not  exceed a
given limit in number of characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>line_length_style(srcData, nchar_max = 80L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="line_length_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
<tr><td><code id="line_length_style_+3A_nchar_max">nchar_max</code></td>
<td>
<p>maximum number of characters per line.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practice dictates to limit line length to a value around
80 characters for readability purposes.
</p>
<p>The line length is determined from the column number ending each line
of code in the parse information. This may give unintended results if
the encoding used in <code><a href="utils.html#topic+getParseData">getParseData</a></code> does not match the
encoding of the script file and the latter contains non ASCII
characters.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Valid line length
fil &lt;- tempfile(fileext = ".R")
cat("## innocuous comment",
    "x &lt;- 2",
    "y &lt;- 3",
    "x + y",
    file = fil, sep = "\n")
line_length_style(getSourceData(fil))

## Limit valid line length to only 20 characters
fil &lt;- tempfile(fileext = ".R")
cat("## no longer innocuous comment",
    "x &lt;- 2",
    "y &lt;- 3",
    "x + y",
    file = fil, sep = "\n")
line_length_style(getSourceData(fil), 20)
</code></pre>

<hr>
<h2 id='nomagic_style'>Validation of Magic Numbers</h2><span id='topic+nomagic_style'></span>

<h3>Description</h3>

<p>Check the absence of <em>magic numbers</em> in code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomagic_style(srcData, ignore = c(-1, 0, 1, 2, 100),
              ignore.also = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nomagic_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
<tr><td><code id="nomagic_style_+3A_ignore">ignore</code></td>
<td>
<p>vector of numbers not considered as magic.</p>
</td></tr>
<tr><td><code id="nomagic_style_+3A_ignore.also">ignore.also</code></td>
<td>
<p>vector of numbers not considered as magic in
addition to those in <code>ignore</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate to avoid using &ldquo;magic numbers&rdquo;
(unnamed or insufficiently documented numerical constants) in code.
For example, in the expression <code>y &lt;- x + 42</code>, <code>42</code> is a
magic number.
</p>
<p>When scanning the code for magic numbers, the following numerical
constants are ignored:
</p>

<ul>
<li><p>numbers in vectors <code>ignore</code> and <code>ignore.also</code>, with or
without a suffix <code>L</code> denoting integer values;
</p>
</li>
<li><p>numbers used as the only expression in indexing;
</p>
</li>
<li><p>numbers in &ldquo;simple&rdquo; assignments to variables with all
uppercase names.
</p>
</li></ul>

<p>&ldquo;Simple&rdquo; assignments serve to assign magic numbers to objects.
Such expressions should contain at most three levels of
sub-expressions and hold on a single line of code. The following
expressions contain one, two and three levels of sub-expressions,
respectively: <code>MAX &lt;- 4294967295</code>, <code>MAX &lt;- 4294967296 - 1</code>,
<code>MAX &lt;- 2^32 - 1</code>.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

fil &lt;- tempfile(fileext = ".R")
cat("MAX &lt;- 2^6 - 1",
    "MIN.INT &lt;- 42L",
    "99 -&gt; ERROR__",
    "size &lt;- 42",
    "x &lt;- rnorm(MAX)",
    "runif(123)",
    "x[1]",
    "x[1] * 7 + 2",
    "x[33]",
    "x * 100",
    "x &lt;- numeric(0)",
    "y &lt;- logical(5)",
    file = fil, sep = "\n")

## Default list of ignored magic numbers
nomagic_style(getSourceData(fil))

## Additional exceptions
nomagic_style(getSourceData(fil), ignore.also = c(5, 42))
</code></pre>

<hr>
<h2 id='ops_spaces_style'>Validation of Spacing Around Operators</h2><span id='topic+ops_spaces_style'></span>

<h3>Description</h3>

<p>Check that spacing around infix and unary operators is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ops_spaces_style(srcData, ops = ops_list)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ops_spaces_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
<tr><td><code id="ops_spaces_style_+3A_ops">ops</code></td>
<td>
<p>vector of R parser tokens corresponding to infix operators to
check for correct spacing; see details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate to surround infix operators with spaces
(including line breaks) and to follow unary operators immediately by
their argument.
</p>
<p>The default value for argument <code>ops</code> is an internal object
containing the following R parser tokens: <code>'+'</code>, <code>'-'</code>,
<code>'*'</code>, <code>GT</code>, <code>GE</code>, <code>LT</code>, <code>LE</code>,
<code>EQ</code>, <code>NE</code>, <code>AND</code>, <code>OR</code>, <code>AND2</code>,
<code>OR2</code>, <code>'!'</code>, <code>LEFT_ASSIGN</code>, <code>RIGHT_ASSIGN</code>,
<code>EQ_ASSIGN</code>, <code>EQ_SUB</code>, <code>IN</code>, <code>SPECIAL</code>.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct use of spacing around '+' and '-' operators
fil &lt;- tempfile(fileext = ".R")
cat("2 + 3",
    "-2",
    "(4\n + 2)",
    "4 +\n2",
    file = fil, sep = "\n")
ops_spaces_style(getSourceData(fil), c("'+'", "'-'"))

## Incorrect use of spacing around '&gt;' and '!' operators
fil &lt;- tempfile(fileext = ".R")
cat("2&gt; 3",
    "4 &gt;2",
    "6&gt;3",
    "! FALSE",
    "!\nFALSE",
    file = fil, sep = "\n")
ops_spaces_style(getSourceData(fil), c("GT", "'!'"))
</code></pre>

<hr>
<h2 id='parentheses_style'>Validation of Spacing Around Parentheses</h2><span id='topic+parentheses_style'></span><span id='topic+open_parenthesis_style'></span><span id='topic+close_parenthesis_style'></span><span id='topic+left_parenthesis_style'></span>

<h3>Description</h3>

<p>Check that spacing around parentheses is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>open_parenthesis_style(srcData)
close_parenthesis_style(srcData)
left_parenthesis_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parentheses_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate the correct spacing around parentheses.
First, opening parentheses should not be immediately followed by a
space. Second, closing parentheses should not be immediately preceded
by a space. Third, left (or opening) parentheses should always be
preceded by a space, except: in function calls; at the start of
sub-expressions; after the unary operators <code>!</code>, <code>+</code> and
<code>-</code>; after the operators <code>[</code>, <code>[[</code>, <code>^</code>, <code>:</code>,
and <code>/</code>, or after an optional left parenthesis.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct use of spacing around parentheses
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(2, 3, 5)",
    "if (any((2 * x) &gt; 4))",
    "    sum(x)",
    "!x",
    "-x",
    "1/(x + 1)",
    "2^(x - 1)",
    "2^((x - 1))",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_parenthesis_style(srcData)
close_parenthesis_style(srcData)
left_parenthesis_style(srcData)

## Incorrect use of spacing around parentheses
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(2, 3, 5 )",
    "if(any(x &gt; 4))",
    "    sum( x )",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_parenthesis_style(srcData)
close_parenthesis_style(srcData)
left_parenthesis_style(srcData)
</code></pre>

<hr>
<h2 id='roger-interface'>R Interface for Roger Command Line Tools</h2><span id='topic+roger-interface'></span><span id='topic+roger_checkreq'></span><span id='topic+roger_clone'></span><span id='topic+roger_grade'></span><span id='topic+roger_push'></span><span id='topic+roger_switch'></span><span id='topic+roger_validate'></span>

<h3>Description</h3>

<p>R interfaces to the Roger base system command line tools <code>roger
  checkreq</code>, <code>roger clone</code>, <code>roger grade</code>, <code>roger push</code>,
<code>roger switch</code> and <code>roger validate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roger_checkreq(file = "./requirements.txt", ...,
               .debugOnly = FALSE)

roger_clone(pattern, project, rogerrc_file = NULL, machine = NULL,
            curl_options = NULL, api = NULL, quiet = FALSE, ...,
            .debugOnly = FALSE)

roger_grade(dir = getwd(), config_file = NULL, time_limit = NULL,
            detached_head = FALSE, output_file = NULL,
            quiet = FALSE, ..., .debugOnly = FALSE)

roger_push(branch, repos = getwd(), create = FALSE, file = NULL,
           add_file = NULL, message = NULL, quiet = FALSE, ...,
           .debugOnly = FALSE)

roger_switch(branch, repos = getwd(), quiet = FALSE, ...,
             .debugOnly = FALSE)

roger_validate(dir = getwd(), config_file = NULL,
               check_local_repos = TRUE, ..., .debugOnly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="roger-interface_+3A_file">file</code></td>
<td>
<p>requirements file name for <code>checkreq</code>; name of the
grading results file for <code>push</code> (overriding the default, locale
dependent, value).</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_pattern">pattern</code></td>
<td>
<p>regular expression pattern.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_project">project</code></td>
<td>
<p>name of a Git project containing repositories.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_dir">dir</code></td>
<td>
<p>character vector of directory names containing projects to
grade or validate; only the first one is used by <code>validate</code>.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_repos">repos</code></td>
<td>
<p>character vector of Git repository names to publish
grading results into.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_branch">branch</code></td>
<td>
<p>name of the branch in which to publish the grading
results (identical for every repository).</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_add_file">add_file</code></td>
<td>
<p>character vector of file names to publish along with
the grading results.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_api">api</code></td>
<td>
<p>character string; name of the REST API used to retrieve
the urls of the repositories.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_check_local_repos">check_local_repos</code></td>
<td>
<p>boolean; check the status of the local
repository?</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_config_file">config_file</code></td>
<td>
<p>name of grading or validation configuration file;
overrides the defaults <code>gradeconf</code> and <code>valideconf</code>.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_create">create</code></td>
<td>
<p>boolean; is <code>branch</code> a new branch to create
in the repositories?</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_curl_options">curl_options</code></td>
<td>
<p>character vector of command line options to pass
to <code>curl</code>.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_detached_head">detached_head</code></td>
<td>
<p>boolean; leave the repositories in a detached
head state for further manual grading?</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_machine">machine</code></td>
<td>
<p>URI and context of the Git server.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_message">message</code></td>
<td>
<p>character vector of commit messages pasted together to
form a single paragraph.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_output_file">output_file</code></td>
<td>
<p>grading results file name; if <code>NULL</code> or
<code>-</code>, results are written to standard output.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_rogerrc_file">rogerrc_file</code></td>
<td>
<p>path to the rogerrc file.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_quiet">quiet</code></td>
<td>
<p>boolean; suppress output?</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_time_limit">time_limit</code></td>
<td>
<p>date and time in ISO 8601 format (YYYY-MM-DD
HH:MM:SS) by which to grade a project in a Git repository.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="base.html#topic+system2">system2</a></code>.</p>
</td></tr>
<tr><td><code id="roger-interface_+3A_.debugonly">.debugOnly</code></td>
<td>
<p>boolean; print the system call only?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions build calls to the Roger base system command line
tools and execute them using <code><a href="base.html#topic+system2">system2</a></code>.
</p>
<p>Command line option values are always quoted with
<code><a href="base.html#topic+shQuote">shQuote</a></code>.
</p>
<p>Refer to the command line tools documentation for detailed information
on the arguments and options.
</p>


<h3>Value</h3>

<p>Character vector containing the standard output and standard error of
the command line tools.
</p>


<h3>Note</h3>

<p>The interface functions require that the Roger base system is
installed on your machine and in your system path. See the Roger
Project download page <a href="https://roger-project.gitlab.io/download/">https://roger-project.gitlab.io/download/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Sample usage for students
## Not run: ## Validate the project in the current directory using the
## configuration file 'validateconf-prototype'.
roger_validate(config_file = "validateconf-prototype")
## End(Not run)

## Sample usage for graders.
## Not run: ## First check the availability of the grading tools.
roger_checkreq()

## Clone all repositories matching the pattern '[0-9]{9}_prototype'
## in the BitBucket project 'a2042-12345'.
roger_clone("[0-9]{9}_prototype", "a2042-12345")

## Grade all directories (repositories) starting with '[0-9]*'
## as of 2020-04-30 23:59:59 using the configuration in file
## 'gradeconf-prototype'; write results in file 'GRADING.txt'
## of each directory; leave repositories in detached head state
## for manual grading of files.
roger_grade("[0-9]*/", config_file = "gradeconf-prototype",
            time_limit = "2020-04-30 23:59:59", detached_head = TRUE,
            output_file = "GRADING.txt")

## Publish results in every repository in a new branch
## 'grading-results'. No need to specify the grading results file
## name since 'GRADING.txt' is the default in an English locale.
roger_push("grading-results", "[0-9]*/", create = TRUE,
           message = c("Here are your grading results"))

## Return all repositories to main branch.
roger_switch("main", "[0-9]*/")
## End(Not run)
</code></pre>

<hr>
<h2 id='square_brackets_style'>Validation of Spacing Around Square Brackets</h2><span id='topic+square_brackets_style'></span><span id='topic+open_bracket_style'></span><span id='topic+close_bracket_style'></span>

<h3>Description</h3>

<p>Check that spacing around square brackets is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>open_bracket_style(srcData)
close_bracket_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="square_brackets_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate the correct spacing around square
brackets: opening brackets should not be immediately followed by a
space; closing brackets should not be immediately preceded by a
space, unless that space is after a comma.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct use of spacing around square brackets
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(1, 2, 3, 5, 7, 9)",
    "x[x &gt; 3 &amp; x &lt; 7]",
    "dim(x) &lt;- c(2, 3)",
    "x[1, ]",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_bracket_style(srcData)
close_bracket_style(srcData)

## Incorrect use of spacing around square brackets
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(1, 2, 3, 5, 7, 9)",
    "x[ x &gt; 3 &amp; x &lt; 7 ]",
    "dim(x) &lt;- c(2, 3)",
    "x[1,]",
    "x[1,  ]",
    file = fil, sep = "\n")
srcData &lt;- getSourceData(fil)
open_bracket_style(srcData)
close_bracket_style(srcData)
</code></pre>

<hr>
<h2 id='trailing_blank_lines_style'>Validation of Trailing Blank Lines</h2><span id='topic+trailing_blank_lines_style'></span>

<h3>Description</h3>

<p>Check that a script file does not contain superfluous trailing blank
lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trailing_blank_lines_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trailing_blank_lines_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate that a script file should not end with
blank lines.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct script without trailing blank lines
fil &lt;- tempfile(fileext = ".R")
cat("## A simple function",
    "foo &lt;- function(x, y)",
    "{",
    "    x + y",
    "}",
    file = fil, sep = "\n")
trailing_blank_lines_style(getSourceData(fil))

## Incorrect script with trailing blank lines
fil &lt;- tempfile(fileext = ".R")
cat("## A simple function",
    "foo &lt;- function(x, y)",
    "{",
    "    x + y",
    "}",
    "",
    "",
    file = fil, sep = "\n")
trailing_blank_lines_style(getSourceData(fil))
</code></pre>

<hr>
<h2 id='trailing_whitespace_style'>Validation of Trailing Whitespace</h2><span id='topic+trailing_whitespace_style'></span>

<h3>Description</h3>

<p>Check that a script file does not contain unnecessary whitespace at
the end of lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trailing_whitespace_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trailing_whitespace_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Good coding practices dictate that a script file should contain
unnecessary whitespace (space or tabulation) at the end of lines.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct script without trailing whitespace
fil &lt;- tempfile(fileext = ".R")
cat("## A simple function",
    "foo &lt;- function(x, y)",
    "{",
    "    x + y",
    "}",
    file = fil, sep = "\n")
trailing_whitespace_style(getSourceData(fil))

## Incorrect script with trailing whitespace
fil &lt;- tempfile(fileext = ".R")
cat("## A simple function",
    "foo &lt;- function(x, y)",
    "{   ",
    "    x + y",
    "}\t",
    file = fil, sep = "\n")
trailing_whitespace_style(getSourceData(fil))
</code></pre>

<hr>
<h2 id='unneeded_concatenation_style'>Validation of Concatenation Usage</h2><span id='topic+unneeded_concatenation_style'></span>

<h3>Description</h3>

<p>Check that function <code>c</code> is used with more than one argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unneeded_concatenation_style(srcData)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unneeded_concatenation_style_+3A_srcdata">srcData</code></td>
<td>
<p>a list as returned by <code><a href="#topic+getSourceData">getSourceData</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code><a href="base.html#topic+c">c</a></code> is used to combine its arguments. Therefore,
good coding practice dictates that the function should never be used
with zero or one argument.
</p>
<p>Usage with zero argument to create an empty vector should be replaced
by calls to object creation functions like <code><a href="base.html#topic+numeric">numeric</a></code> or
<code><a href="base.html#topic+character">character</a></code>.
</p>
<p>Usage with one argument is a superfluous call to <code><a href="base.html#topic+c">c</a></code> that
should just be replaced by the argument.
</p>


<h3>Value</h3>

<p>Boolean. When <code>FALSE</code>, a <a href="base.html#topic+message">message</a> indicates the nature of
the error and the faulty lines, and the returned value has the
following <a href="base.html#topic+attributes">attributes</a>:
</p>
<table role = "presentation">
<tr><td><code>lines</code></td>
<td>
<p>faulty line numbers;</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>text of the error message.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Keep parse data in non interactive sessions.
if (!interactive())
    op &lt;- options(keep.source = TRUE)

## Correct use of the 'c()' function
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c(1, 2, 3, 4)", file = fil)
unneeded_concatenation_style(getSourceData(fil))

## Incorrect uses of the 'c()' function
fil &lt;- tempfile(fileext = ".R")
cat("x &lt;- c()",
    "x &lt;- c(42)",
    file = fil, sep = "\n")
unneeded_concatenation_style(getSourceData(fil))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

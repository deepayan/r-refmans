<!DOCTYPE html><html><head><title>Help for package image.ContourDetector</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {image.ContourDetector}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#image.ContourDetector-package'><p>The image.ContourDetector package detects contour lines in images</p></a></li>
<li><a href='#image_contour_detector'><p>Unsupervised Smooth Contour Lines Detection in an image</p></a></li>
<li><a href='#plot.cld'><p>Plot the detected contour lines from the image_contour_detector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Implementation of the Unsupervised Smooth Contour Line Detection
for Images</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of the Unsupervised Smooth Contour Detection algorithm for digital images as described in the paper: "Unsupervised Smooth Contour Detection" by Rafael Grompone von Gioi, and Gregory Randall (2016). 
    The algorithm is explained at &lt;<a href="https://doi.org/10.5201%2Fipol.2016.175">doi:10.5201/ipol.2016.175</a>&gt;.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jan Wijffels &lt;jwijffels@bnosac.be&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bnosac/image">https://github.com/bnosac/image</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.8), sp</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>pixmap, magick, raster</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-17 10:42:15 UTC; Jan</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan Wijffels [aut, cre, cph] (R wrapper),
  BNOSAC [cph] (R wrapper),
  Rafael Grompone von Gioi [ctb, cph] (src/smooth_contours),
  Gregory Randall [ctb, cph] (src/smooth_contours),
  Niccol√≤ Marchi [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-17 11:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='image.ContourDetector-package'>The image.ContourDetector package detects contour lines in images</h2><span id='topic+image.ContourDetector-package'></span>

<h3>Description</h3>

<p>Unsupervised Smooth Contour Detection.<br />
</p>
<p>Following the a contrario approach, the starting point is defining the conditions where contours should not be detected: 
soft gradient regions contaminated by noise. To achieve this, low frequencies are removed from the input image. 
Then, contours are validated as the frontiers separating two adjacent regions, one with significantly larger values 
than the other. Significance is evaluated using the Mann-Whitney U test to determine whether the samples were drawn 
from the same distribution or not. This test makes no assumption on the distributions. 
The resulting algorithm is similar to the classic Marr-Hildreth edge detector, 
with the addition of the statistical validation step. Combined with heuristics based on the Canny and Devernay methods, 
an efficient algorithm is derived producing sub-pixel contours.
</p>


<h3>References</h3>

<p>Rafael Grompone von Gioi, and Gregory Randall, Unsupervised Smooth Contour Detection, 
Image Processing On Line, 6 (2016), pp. 233-267. doi: <a href="https://doi.org/10.5201/ipol.2016.175">10.5201/ipol.2016.175</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+image_contour_detector">image_contour_detector</a>
</p>

<hr>
<h2 id='image_contour_detector'>Unsupervised Smooth Contour Lines Detection in an image</h2><span id='topic+image_contour_detector'></span>

<h3>Description</h3>

<p>Unsupervised Smooth Contour Detection.<br />
</p>
<p>Following the a contrario approach, the starting point is defining the conditions where contours should not be detected: 
soft gradient regions contaminated by noise. To achieve this, low frequencies are removed from the input image. 
Then, contours are validated as the frontiers separating two adjacent regions, one with significantly larger values 
than the other. Significance is evaluated using the Mann-Whitney U test to determine whether the samples were drawn 
from the same distribution or not. This test makes no assumption on the distributions. 
The resulting algorithm is similar to the classic Marr-Hildreth edge detector, 
with the addition of the statistical validation step. Combined with heuristics based on the Canny and Devernay methods, 
an efficient algorithm is derived producing sub-pixel contours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>image_contour_detector(x, Q = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="image_contour_detector_+3A_x">x</code></td>
<td>
<p>a matrix of image pixel values in the 0-255 range.</p>
</td></tr>
<tr><td><code id="image_contour_detector_+3A_q">Q</code></td>
<td>
<p>numeric value with the pixel quantization step</p>
</td></tr>
<tr><td><code id="image_contour_detector_+3A_...">...</code></td>
<td>
<p>further arguments, not used yet</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class cld which is a list with the following elements
</p>

<ul>
<li><p>curves: The number of contour lines found
</p>
</li>
<li><p>contourpoints: The number of points defining the contour lines found
</p>
</li>
<li><p>data: A data.frame with columns 'x', 'y' and 'curve' giving the x/y locations for each contour curve
</p>
</li></ul>



<h3>References</h3>

<p>Rafael Grompone von Gioi, and Gregory Randall, Unsupervised Smooth Contour Detection, 
Image Processing On Line, 6 (2016), pp. 233-267. doi: <a href="https://doi.org/10.5201/ipol.2016.175">10.5201/ipol.2016.175</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(pixmap)
imagelocation &lt;- system.file("extdata", "image.pgm", package="image.ContourDetector")
image         &lt;- read.pnm(file = imagelocation, cellres = 1)

x             &lt;- image@grey * 255
contourlines  &lt;- image_contour_detector(x, Q = 2)
contourlines
plot(image)
plot(contourlines, add = TRUE, col = "red")


##
## line_segment_detector expects a matrix as input
##  if you have a jpg/png/... convert it to pgm first or take the r/g/b channel

library(magick)
x   &lt;- image_read(system.file("extdata", "atomium.jpg", package="image.ContourDetector"))
x
mat &lt;- image_data(x, channels = "gray")
mat &lt;- as.integer(mat, transpose = TRUE)
mat &lt;- drop(mat)
contourlines &lt;- image_contour_detector(mat)
plot(contourlines)


##
##  working with a RasterLayer
##


library(raster)
x   &lt;- raster(system.file("extdata", "landscape.tif", package="image.ContourDetector"))

contourlines &lt;- image_contour_detector(x)
image(x)
plot(contourlines, add = TRUE, col = "blue", lwd = 10)


</code></pre>

<hr>
<h2 id='plot.cld'>Plot the detected contour lines from the image_contour_detector</h2><span id='topic+plot.cld'></span>

<h3>Description</h3>

<p>Plot the detected contour lines from the image_contour_detector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cld'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.cld_+3A_x">x</code></td>
<td>
<p>an object of class cld as returned by <code><a href="#topic+image_contour_detector">image_contour_detector</a></code></p>
</td></tr>
<tr><td><code id="plot.cld_+3A_...">...</code></td>
<td>
<p>further arguments passed on to plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisibly a SpatialLines object with the contour lines
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(pixmap)
imagelocation &lt;- system.file("extdata", "image.pgm", package="image.ContourDetector")
image         &lt;- read.pnm(file = imagelocation, cellres = 1)
contourlines  &lt;- image_contour_detector(image@grey * 255)
plot(image)
plot(contourlines, add = TRUE, col = "red")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

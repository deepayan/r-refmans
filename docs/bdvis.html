<!DOCTYPE html><html><head><title>Help for package bdvis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bdvis}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bdcalendarheat'><p>Calendar heat map of biodiversity data</p></a></li>
<li><a href='#bdcomplete'><p>Computes completeness values of the dataset</p></a></li>
<li><a href='#bdsummary'><p>Provides summary of biodiversity data</p></a></li>
<li><a href='#bdvis'><p>bdvis: Biodiversity Data Visualizations</p></a></li>
<li><a href='#bdwebmap'><p>(Deprecated) Interactive web page based map of records</p></a></li>
<li><a href='#chronohorogram'><p>Draws a chronohorogram of records</p></a></li>
<li><a href='#distrigraph'><p>Distribution graphs</p></a></li>
<li><a href='#format_bdvis'><p>Prepare data frame for flagging functions</p></a></li>
<li><a href='#getcellid'><p>Assign GBIF style degree cell ids and generate custom grid cell ids</p></a></li>
<li><a href='#gettaxo'><p>Get higher taxonomy data</p></a></li>
<li><a href='#mapgrid'><p>Maps the data points on the map in grid format</p></a></li>
<li><a href='#taxotree'><p>Treemap based on taxonomic hierarchy of records</p></a></li>
<li><a href='#tempolar'><p>Polar plot of temporal data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Biodiversity Data Visualizations</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.37</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-12-07</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Vijay Barve &lt;vijay.barve@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a set of functions to create basic visualizations to quickly
    preview different aspects of biodiversity information such as inventory 
    completeness, extent of coverage (taxonomic, temporal and geographic), gaps
    and biases. Barve &amp; Otegui (2016) &lt;<a href="https://doi.org/10.1093%2Fbioinformatics%2Fbtw333">doi:10.1093/bioinformatics/btw333</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>maps, plotrix, sqldf, plyr, taxize, treemap, ggplot2, lattice,
chron, sf</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rinat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/vijaybarve/bdvis/issues">https://github.com/vijaybarve/bdvis/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-08 00:11:39 UTC; barve</td>
</tr>
<tr>
<td>Author:</td>
<td>Vijay Barve <a href="https://orcid.org/0000-0002-4852-2567"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Javier Otegui <a href="https://orcid.org/0000-0002-8997-3559"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-08 00:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bdcalendarheat'>Calendar heat map of biodiversity data</h2><span id='topic+bdcalendarheat'></span>

<h3>Description</h3>

<p>Produces a heat map <a href="https://en.wikipedia.org/wiki/Heat_map">https://en.wikipedia.org/wiki/Heat_map</a>
representing the distribution of records in time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bdcalendarheat(indf = NA, title = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bdcalendarheat_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="bdcalendarheat_+3A_title">title</code></td>
<td>
<p>title custom title for the plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The calendar heat map is a matrix-like plot where each cell represents a 
unique date, and the color the cell is painted with shows the amount of 
records that have that particular date. Rows are weekdays and columns are 
week numbers, each year having its own &quot;panel&quot;.
</p>


<h3>Value</h3>

<p>No return value, called for plotting the heatmap plot
</p>


<h3>See Also</h3>

<p>Other Temporal visualizations: 
<code><a href="#topic+chronohorogram">chronohorogram</a>()</code>,
<code><a href="#topic+tempolar">tempolar</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
bdcalendarheat(inat)

## End(Not run)
</code></pre>

<hr>
<h2 id='bdcomplete'>Computes completeness values of the dataset</h2><span id='topic+bdcomplete'></span>

<h3>Description</h3>

<p>Computes completeness values for each cell. Currently returns Chao2 index of 
species richness.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bdcomplete(indf, recs = 50, gridscale = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bdcomplete_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="bdcomplete_+3A_recs">recs</code></td>
<td>
<p>minimum number of records per grid cell required to make the 
calculations. Default is 50. If there are too few records, the function 
throws an error.</p>
</td></tr>
<tr><td><code id="bdcomplete_+3A_gridscale">gridscale</code></td>
<td>
<p>plot the map grids at specific degree scale. Default is 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>After dividing the extent of the dataset in cells (via the
<code><a href="#topic+getcellid">getcellid</a></code> function), the function calculates the Chao2 estimator
of species richness. Given the nature of the calculations, a minimum number of
records must be present on each cell to properly compute the index. If there
are too few records in the cells, the function is unable to finish, and it
throws an error.
</p>
<p>This function produces a plot of number of species versus completeness index to
give an idea of output. The data frame  returned can be used to visualize the 
completeness of the data using <code><a href="#topic+mapgrid">mapgrid</a></code> function with ptype as 
&quot;complete&quot;.
</p>


<h3>Value</h3>

<p>data.frame with the columns </p>
 <ul>
<li><p> &quot;Cell_id&quot; - id of the cell
</p>
</li>
<li><p>&quot;nrec&quot; - Number of records in the cell
</p>
</li>
<li><p>&quot;Sobs&quot; - Number of Observed species 
</p>
</li>
<li><p>&quot;Sest&quot; - Estimated number of species 
</p>
</li>
<li><p>&quot;c&quot; - Completeness ratio the cell
</p>
<p>Plots a graph of Number of species vs completeness </p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+getcellid">getcellid</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
bdcomplete(inat)

## End(Not run)
</code></pre>

<hr>
<h2 id='bdsummary'>Provides summary of biodiversity data</h2><span id='topic+bdsummary'></span>

<h3>Description</h3>

<p>Calculates some general indicators of the volume, spatial, temporal and
taxonomic aspects of the provided data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bdsummary(indf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bdsummary_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function returns information on the volume of the data set (number of
records), temporal coverage (minimum and maximum dates), taxonomic coverage
(brief breakdown of the records by taxonomic levels) and spatial coverage
(coordinates of the edges of the bounding box containing all records and
division of covered area in degree cells) of the records.
</p>
<p>To update spatial grid data to dataset, please use <a href="#topic+format_bdvis">format_bdvis</a> or 
<a href="#topic+getcellid">getcellid</a> function before using bdsummary.
</p>


<h3>Value</h3>

<p>No return value, just displays the summary in console
</p>


<h3>See Also</h3>

<p>Other Data preparation functions: 
<code><a href="#topic+format_bdvis">format_bdvis</a>()</code>,
<code><a href="#topic+getcellid">getcellid</a>()</code>,
<code><a href="#topic+gettaxo">gettaxo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 if (requireNamespace("rinat", quietly=TRUE)) {
  inat &lt;- get_inat_obs_project("reptileindia") 
  inat &lt;- format_bdvis(inat, source="rinat")
  bdsummary(inat)
 }

## End(Not run)
</code></pre>

<hr>
<h2 id='bdvis'>bdvis: Biodiversity Data Visualizations</h2><span id='topic+bdvis'></span>

<h3>Description</h3>

<p>Biodiversity data visualizations using R would be helpful to understand 
completeness of biodiversity inventory, extent of geographical, taxonomic 
and temporal coverage, gaps and biases in data.
</p>


<h3>Data preparation</h3>

  
<ul>
<li> <p><a href="#topic+bdsummary">bdsummary</a>
</p>
</li>
<li> <p><a href="#topic+format_bdvis">format_bdvis</a>
</p>
</li>
<li> <p><a href="#topic+getcellid">getcellid</a>
</p>
</li>
<li> <p><a href="#topic+gettaxo">gettaxo</a>
</p>
</li></ul>



<h3>Spatial visualizations</h3>

 
<ul>
<li> <p><a href="#topic+bdwebmap">bdwebmap</a>
</p>
</li>
<li> <p><a href="#topic+mapgrid">mapgrid</a>
</p>
</li></ul>



<h3>Temporal Visualizations</h3>

  
<ul>
<li> <p><a href="#topic+bdcalendarheat">bdcalendarheat</a>
</p>
</li>
<li> <p><a href="#topic+chronohorogram">chronohorogram</a>
</p>
</li>
<li> <p><a href="#topic+tempolar">tempolar</a>
</p>
</li></ul>



<h3>Taxonomic Visualizations</h3>

  
<ul>
<li> <p><a href="#topic+taxotree">taxotree</a>
</p>
</li></ul>



<h3>Miscellaneous functions</h3>

  
<ul>
<li> <p><a href="#topic+bdcomplete">bdcomplete</a>
</p>
</li>
<li> <p><a href="#topic+distrigraph">distrigraph</a>
</p>
</li></ul>



<h3>Citation</h3>

  
<ul>
<li><p> Barve, V., &amp; Otegui, J. (2016). bdvis: Biodiversity data 
visualizations (R package V 0.2). Retrieved from 
https://cran.r-project.org/web/packages/bdvis/index.html
</p>
</li></ul>


<hr>
<h2 id='bdwebmap'>(Deprecated) Interactive web page based map of records</h2><span id='topic+bdwebmap'></span>

<h3>Description</h3>

<p>(Deprecated) Interactive web page based map of records
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bdwebmap()
</code></pre>


<h3>Value</h3>

<p>No return value. NULL
</p>

<hr>
<h2 id='chronohorogram'>Draws a chronohorogram of records</h2><span id='topic+chronohorogram'></span>

<h3>Description</h3>

<p>Draws a detailed temporal representation (also known as chronohorogram) of the
dates in the provided data set. For more information on the chronohorogram, 
please see the <code>References</code> section.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chronohorogram(
  indf = NA,
  title = "Chronohorogram",
  startyear = 1980,
  endyear = NA,
  colors = c("red", "blue"),
  ptsize = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chronohorogram_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="chronohorogram_+3A_title">title</code></td>
<td>
<p>title of the plot. Default is &quot;Chronohorogram&quot;</p>
</td></tr>
<tr><td><code id="chronohorogram_+3A_startyear">startyear</code></td>
<td>
<p>starting year for the plot. Default is 1980</p>
</td></tr>
<tr><td><code id="chronohorogram_+3A_endyear">endyear</code></td>
<td>
<p>end year for the plot. Default is current year</p>
</td></tr>
<tr><td><code id="chronohorogram_+3A_colors">colors</code></td>
<td>
<p>Pair of colors to build color gradient, in the form of a
character vector. Default is blue (less) - red (more) gradient
<code>c("red", "blue")</code></p>
</td></tr>
<tr><td><code id="chronohorogram_+3A_ptsize">ptsize</code></td>
<td>
<p>point size adjustment factor. Default is 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for plotting the graph
</p>


<h3>References</h3>

<p>Arino, A. H., &amp; Otegui, J. (2008). Sampling biodiversity sampling.
In Proceedings of TDWG (pp. 77-78). Retrieved from 
http://www.tdwg.org/fileadmin/2008conference/documents/Proceedings2008.pdf#page=77
</p>


<h3>See Also</h3>

<p>Other Temporal visualizations: 
<code><a href="#topic+bdcalendarheat">bdcalendarheat</a>()</code>,
<code><a href="#topic+tempolar">tempolar</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
chronohorogram(inat)

## End(Not run)
</code></pre>

<hr>
<h2 id='distrigraph'>Distribution graphs</h2><span id='topic+distrigraph'></span>

<h3>Description</h3>

<p>Build plots displaying distribution of biodiversity records among 
user-defined features.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distrigraph(indf, ptype = NA, cumulative = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distrigraph_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="distrigraph_+3A_ptype">ptype</code></td>
<td>
<p>Feature to represent. Accepted values are &quot;species&quot;, &quot;cell&quot;,
&quot;efforts&quot; and &quot;effortspecies&quot; (year)</p>
</td></tr>
<tr><td><code id="distrigraph_+3A_cumulative">cumulative</code></td>
<td>
<p>with ptype as efforts, plot a cumulative records graph</p>
</td></tr>
<tr><td><code id="distrigraph_+3A_...">...</code></td>
<td>
<p>any additional parameters for the <code><a href="graphics.html#topic+plot">plot</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The main use of this function is to create record histograms according to
different features of the data set. For example, one might want to see the 
evolution of records by year, or by species. This function enables easy 
access to such plots.
</p>


<h3>Value</h3>

<p>No return value, called for plotting the graphs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 distrigraph(inat,ptype="cell",col="tomato")
 distrigraph(inat,ptype="species",ylab="Species")
 distrigraph(inat,ptype="efforts",col="red")
 distrigraph(inat,ptype="efforts",col="red",type="s")

## End(Not run)
</code></pre>

<hr>
<h2 id='format_bdvis'>Prepare data frame for flagging functions</h2><span id='topic+format_bdvis'></span>

<h3>Description</h3>

<p><code>format_bdvis</code> renames certain fields in the data frame to make sure the 
other package functions knows how to use them. This step is highly 
recommended for the proper working of the functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_bdvis(
  indf,
  source = NULL,
  config = NULL,
  quiet = FALSE,
  gettaxo = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_bdvis_+3A_indf">indf</code></td>
<td>
<p>Required. The data.frame on which to operate.</p>
</td></tr>
<tr><td><code id="format_bdvis_+3A_source">source</code></td>
<td>
<p>Optional. Indicates the package that was used to retrieve the
data. Currently accepted values are &quot;rvertnet&quot;, &quot;rgbif&quot;, &quot;bdsns&quot; or 
&quot;rinat&quot;. Either <code>source</code>, <code>config</code> or individual parameters must
be present (see details).</p>
</td></tr>
<tr><td><code id="format_bdvis_+3A_config">config</code></td>
<td>
<p>Optional. Configuration object indicating mapping of field
names from the data.frame to the DarwinCore standard. Useful when importing
data multiple times from a source not available via the <code>source</code>
argument. Either <code>source</code>, <code>config</code> or individual parameters must
be present (see details).</p>
</td></tr>
<tr><td><code id="format_bdvis_+3A_quiet">quiet</code></td>
<td>
<p>Optional. Don't show any logging message at all. Defaults to
FALSE.</p>
</td></tr>
<tr><td><code id="format_bdvis_+3A_gettaxo">gettaxo</code></td>
<td>
<p>optional. Call function <a href="#topic+gettaxo">gettaxo</a> to build higher level 
taxanony. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="format_bdvis_+3A_...">...</code></td>
<td>
<p>Optional. If none of the previous is present, the four key
arguments (<code>Latitude</code>, <code>Longitude</code>,
<code>Date_collected</code>, <code>Scientific_name</code>) can be put here. See 
examples.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When invoked, there are three ways of indicating the function how to
transform the data.frame: using the <code>source</code> parameter, providing a
<code>config</code> object with field mapping, or passing individual values to the
mapping function. This is the order in which the function will parse
arguments; <code>source</code> overrides <code>config</code>, which overrides other
mapping arguments.
</p>
<p><code>source</code> refers to the package that was used to retrieve the data.
Currently, three values are supported for this argument: &quot;<code>rgbif</code>&quot;,
&quot;<code>rvertnet</code>&quot;, &quot;<code>besns</code>&quot; and &quot;<code>rinat</code>&quot;, but many more are on
their way. A caution with &quot;<code>besns</code>&quot; data is he scientific name has to 
be in the field &quot;<code>searchText</code>&quot;. 
</p>
<p><code>config</code> asks for a configuration object holding the mapping of the
field names. This option is basically a shortcut for those users with
custom-formatted data.frames who will use the same mapping many times, to
avoid having to type them each time. In practice, this object is a named list
with the following four fields: <code>Latitude</code>, <code>Longitude</code>, 
<code>Date_collected</code> and <code>Scientific_name</code>. Each element must have a 
string indicating the name of the column in the data.frame holding the values #' for that element. If the data.frame doesn't have one or more of these fields, #' put <code>NA</code> in that element; otherwise, the function will throw an error. 
See the examples section.
</p>
<p>If none of the two is provided, the function expects the user to provide the
mapping by passing the individual column names associated with the right 
term.
See the examples section.
</p>


<h3>Value</h3>

<p>The provided data frame, with field names changed to suite the 
functioning of further visualization functions.
</p>


<h3>See Also</h3>

<p>Other Data preparation functions: 
<code><a href="#topic+bdsummary">bdsummary</a>()</code>,
<code><a href="#topic+getcellid">getcellid</a>()</code>,
<code><a href="#topic+gettaxo">gettaxo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Using the rgbif package and the source argument
if (requireNamespace("rinat", quietly=TRUE)) {
 d &lt;- get_inat_obs_project("reptileindia") 
 d &lt;- format_bdvis(d, source="rinat")

 # Using a configuration object, matches 'rinat' schema
 conf &lt;- list(Latitude &lt;- "latitude",
              Longitude &lt;- "longitude",
              Date_collected &lt;- "Observed.on",
              Scientific_name &lt;- "Scientific.name")
 d &lt;- format_bdvis(d, config=conf)

 # Passing individual parameters, all optional
 d &lt;- format_bdvis(d,
                Latitude &lt;- "lat",
                Longitude &lt;- "lng",
                Date_collected &lt;- "ObservedOn",
                Scientific_name &lt;- "sciname")
}

## End(Not run)

</code></pre>

<hr>
<h2 id='getcellid'>Assign GBIF style degree cell ids and generate custom grid cell ids</h2><span id='topic+getcellid'></span>

<h3>Description</h3>

<p>Calculate and assign a GBIF-style degree cell id and centi-degree (0.1 
degrees, dividing a 1 degree cell into 100 centi-degree cells) cell id to each
record. This function also creates a custom grid scale if parameter gridscale 
is supplied. This is a necessary previous step for some functions like
<code><a href="#topic+mapgrid">mapgrid</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getcellid(indf, gridscale = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getcellid_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="getcellid_+3A_gridscale">gridscale</code></td>
<td>
<p>generate custom grid scale column for mapping. Default is 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with two columns for cell_id added
</p>


<h3>See Also</h3>

<p>Other Data preparation functions: 
<code><a href="#topic+bdsummary">bdsummary</a>()</code>,
<code><a href="#topic+format_bdvis">format_bdvis</a>()</code>,
<code><a href="#topic+gettaxo">gettaxo</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getcellid(inat)

## End(Not run)
</code></pre>

<hr>
<h2 id='gettaxo'>Get higher taxonomy data</h2><span id='topic+gettaxo'></span>

<h3>Description</h3>

<p>This function is slated to deprecate in next version. Please use function
taxotools::list_higher_taxo instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gettaxo(indf, genus = FALSE, verbose = FALSE, progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gettaxo_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="gettaxo_+3A_genus">genus</code></td>
<td>
<p>If TRUE, use only genus level data to get taxanomy</p>
</td></tr>
<tr><td><code id="gettaxo_+3A_verbose">verbose</code></td>
<td>
<p>If TRUE, displays each name string for which the higher 
taxonomy is sought</p>
</td></tr>
<tr><td><code id="gettaxo_+3A_progress">progress</code></td>
<td>
<p>If TRUE prints progress bar and messages on the consol.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Retrieve higher taxonomy information (like Family and Order) for each record 
from the &quot;Encyclopedia of Life&quot; web API.
</p>
<p>This function makes use of certain functions in the <code><a href="taxize.html#topic+taxize">taxize</a></code>
package. It scans and retrieves the taxonomic hierarchy for each scientific
name (or just genus name) in the data set. When new data are retrieved, they
are stored in a local sqlite database, taxo.db, for faster further access.
</p>


<h3>Value</h3>

<p>indf with added / updated columns </p>
 
<ul>
<li><p> &quot;Kingdom&quot; - Kingdom of the Scientific name 
</p>
</li>
<li><p> &quot;Phylum&quot; - Phylum of the Scientific name 
</p>
</li>
<li><p> &quot;Order_&quot; - Order of the Scientific name 
</p>
</li>
<li><p> &quot;Family&quot; - Family of the Scientific name 
</p>
</li>
<li><p> &quot;Genus&quot; - Genus of the Scientific name </p>
</li></ul>
<p> and also 
saves a local copy of taxonomy downloaded for future use in taxo.db sqlite 
file
</p>


<h3>See Also</h3>

<p>Other Data preparation functions: 
<code><a href="#topic+bdsummary">bdsummary</a>()</code>,
<code><a href="#topic+format_bdvis">format_bdvis</a>()</code>,
<code><a href="#topic+getcellid">getcellid</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
inat &lt;- gettaxo(inat)

## End(Not run)
</code></pre>

<hr>
<h2 id='mapgrid'>Maps the data points on the map in grid format</h2><span id='topic+mapgrid'></span>

<h3>Description</h3>

<p>Customizable grid-based spatial representation of the coordinates of the 
records in the data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapgrid(
  indf = NULL,
  comp = NULL,
  ptype = "records",
  title = "",
  bbox = NA,
  legscale = 0,
  collow = "blue",
  colhigh = "red",
  mapdatabase = NULL,
  region = NULL,
  shp = NA,
  gridscale = 1,
  customize = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapgrid_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_comp">comp</code></td>
<td>
<p>Completeness matrix generate by function <code><a href="#topic+bdcomplete">bdcomplete</a></code></p>
</td></tr>
<tr><td><code id="mapgrid_+3A_ptype">ptype</code></td>
<td>
<p>Type of map on the grid. Accepted values are &quot;presence&quot; for 
presence/absence maps, &quot;records&quot; for record-density map, &quot;species&quot; for 
species-density map and &quot;complete&quot; for completeness map</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_title">title</code></td>
<td>
<p>title for the map. There is no default title</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_bbox">bbox</code></td>
<td>
<p>bounding box for the map in format c(xmin,xmax,ymin,ymax)</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_legscale">legscale</code></td>
<td>
<p>Set legend scale to a higher value than the max value in the 
data</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_collow">collow</code></td>
<td>
<p>Color for lower range in the color ramp of the grid</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_colhigh">colhigh</code></td>
<td>
<p>Color for higher range in the color ramp of the grid</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_mapdatabase">mapdatabase</code></td>
<td>
<p>Parameter  is deprecated</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_region">region</code></td>
<td>
<p>Parameter is deprecated. Please use shape files.</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_shp">shp</code></td>
<td>
<p>path to shapefile to load as basemap (default NA)</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_gridscale">gridscale</code></td>
<td>
<p>plot the map grids at scale specified. Scale needs to 
specified in decimal degrees. Default is 1 degree which is approximately 100km.</p>
</td></tr>
<tr><td><code id="mapgrid_+3A_customize">customize</code></td>
<td>
<p>additional customization string to customize the map output 
using ggplot2 parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function builds a grid map colored according to the density of records 
in each cell. Grids are 1-degree cells, build with the 
<code><a href="#topic+getcellid">getcellid</a></code> function. Currently, four types of maps can be 
rendered. Presence maps show only if the cell is populated or not, without 
paying attention to how many records or species are present. Record-density 
maps apply a color gradient according to the number of records in the cell, 
regardless of the number of species they represent. Species-density maps apply 
a color gradient according to the number of different species in the cell, 
regardless of how many records there are for each one of those. Completeness 
maps apply a color gradient according to the completeness index, from 0
(incomplete) to 1 (complete).
</p>
<p>See parameter descriptions for ways of customizing the map.
</p>


<h3>Value</h3>

<p>No return value, called for plotting the graph
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
mapgrid(inat,ptype="records", region="India")

## End(Not run)
</code></pre>

<hr>
<h2 id='taxotree'>Treemap based on taxonomic hierarchy of records</h2><span id='topic+taxotree'></span>

<h3>Description</h3>

<p>Draws a treemap (<a href="https://en.wikipedia.org/wiki/Treemapping">https://en.wikipedia.org/wiki/Treemapping</a>) based on 
the taxonomic information of the records.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxotree(
  indf,
  n = 30,
  title = NA,
  legend = NA,
  sum1 = "Family",
  sum2 = "Genus"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taxotree_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="taxotree_+3A_n">n</code></td>
<td>
<p>maximum number of rectangles to be plotted in the treemap. Default is
30</p>
</td></tr>
<tr><td><code id="taxotree_+3A_title">title</code></td>
<td>
<p>title for the tree. Default is &quot;Records per &lt;sum1&gt;&quot;</p>
</td></tr>
<tr><td><code id="taxotree_+3A_legend">legend</code></td>
<td>
<p>legend title. Default is &quot;Number of &lt;sum2&gt;&quot;</p>
</td></tr>
<tr><td><code id="taxotree_+3A_sum1">sum1</code></td>
<td>
<p>Taxonomic level whose density will be represented with different 
cell sizes</p>
</td></tr>
<tr><td><code id="taxotree_+3A_sum2">sum2</code></td>
<td>
<p>Taxonomic level whose density will be represented with a color 
gradient</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function builds a treemap of the taxonomic information present in the 
data set. It represents this information at two levels (with the arguments 
sum1 and sum2). The first level (sum1) will be represented with cell sizes 
and is a reflection of the number of records in that group. If, for example, 
&quot;Family&quot; is selected as value for sum1, the size of the cells in the treemap 
will be directly proportional to the number of records for that taxonomic 
family. The second level (sum2) will be represented by color and is a 
reflection of the number of sub-groups in a particular cell. If, for example, 
&quot;Genus&quot; is selected as value for sum2, the color of the cell will depend on 
the number of different genera for that particular cell.
</p>


<h3>Value</h3>

<p>No return value, called for plotting the graph
</p>


<h3>References</h3>

<p>Otegui, J., Arino, A. H., Encinas, M. A., &amp; Pando, F. (2013). 
Assessing the Primary Data Hosted by the Spanish Node of the Global 
Biodiversity Information Facility (GBIF). PLoS ONE, 8(1), e55144. 
doi:10.1371/journal.pone.0055144
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 taxotree(inat)

## End(Not run)
</code></pre>

<hr>
<h2 id='tempolar'>Polar plot of temporal data</h2><span id='topic+tempolar'></span>

<h3>Description</h3>

<p>Representation in polar axis of the distribution of dates in the provided 
data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tempolar(
  indf = NA,
  timescale = NA,
  title = NA,
  color = NA,
  plottype = NA,
  avg = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tempolar_+3A_indf">indf</code></td>
<td>
<p>input data frame containing biodiversity data set</p>
</td></tr>
<tr><td><code id="tempolar_+3A_timescale">timescale</code></td>
<td>
<p>Temporal scale of the graph, or how are dates aggregated. 
Accepted values are: d (daily, each feature in the plot represents a day), 
w (weekly, each feature in the plot represents a week) and m (monthly, each
feature in the plot represents a month). Default is d (daily).</p>
</td></tr>
<tr><td><code id="tempolar_+3A_title">title</code></td>
<td>
<p>Title for the graph. Default is &quot;Temporal coverage&quot;.</p>
</td></tr>
<tr><td><code id="tempolar_+3A_color">color</code></td>
<td>
<p>color of the graph plot. Default is &quot;red&quot;.</p>
</td></tr>
<tr><td><code id="tempolar_+3A_plottype">plottype</code></td>
<td>
<p>Type of feature. Accepted values are: r (lines), p (polygon) 
and s (symbols). Default is p (polygon).</p>
</td></tr>
<tr><td><code id="tempolar_+3A_avg">avg</code></td>
<td>
<p>If TRUE plots a graph of the average records rather than total 
numbers. Default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns a plot representing the temporal distribution of 
records in the data set. This is done by representing dates in a radial axis,
with the distance from the center being the amount of records for that 
particular date. This function allows several arguments indicating different 
representation types. See the <code>arguments</code> section for an enumeration of 
them.
</p>


<h3>Value</h3>

<p>No return value, called for plotting the graph
</p>


<h3>References</h3>

<p>Otegui, J., Arino, A. H., Encinas, M. A., &amp; Pando, F. (2013). 
Assessing the Primary Data Hosted by the Spanish Node of the Global 
Biodiversity Information Facility (GBIF). PLoS ONE, 8(1), e55144. 
doi:10.1371/journal.pone.0055144
</p>


<h3>See Also</h3>

<p>Other Temporal visualizations: 
<code><a href="#topic+bdcalendarheat">bdcalendarheat</a>()</code>,
<code><a href="#topic+chronohorogram">chronohorogram</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tempolar(inat)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

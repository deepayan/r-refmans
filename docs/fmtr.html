<!DOCTYPE html><html><head><title>Help for package fmtr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fmtr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fmtr'><p>A package for formatting data</p></a></li>
<li><a href='#as.data.frame.fcat'><p>Convert a format catalog to a data frame</p></a></li>
<li><a href='#as.data.frame.fmt'><p>Casts a format to a data frame</p></a></li>
<li><a href='#as.data.frame.fmt_lst'><p>Convert a formatting list to a data frame</p></a></li>
<li><a href='#as.fcat'><p>Generic casting method for format catalogs</p></a></li>
<li><a href='#as.fcat.data.frame'><p>Convert a data frame to a format catalog</p></a></li>
<li><a href='#as.fcat.fmt_lst'><p>Convert a formatting list to a format catalog</p></a></li>
<li><a href='#as.fcat.list'><p>Convert a list to a format catalog</p></a></li>
<li><a href='#as.fcat.tbl_df'><p>Convert a tibble to a format catalog</p></a></li>
<li><a href='#as.flist'><p>Convert to a formatting list</p></a></li>
<li><a href='#as.flist.data.frame'><p>Convert a data frame to a formatting list</p></a></li>
<li><a href='#as.flist.fcat'><p>Convert a format catalog to a formatting list</p></a></li>
<li><a href='#as.flist.list'><p>Convert a list to a formatting list</p></a></li>
<li><a href='#as.flist.tbl_df'><p>Convert a tibble to a formatting list</p></a></li>
<li><a href='#as.fmt'><p>Generic casting method for formats</p></a></li>
<li><a href='#as.fmt.data.frame'><p>Convert a data frame to a user-defined format</p></a></li>
<li><a href='#condition'><p>Define a condition for a user-defined format</p></a></li>
<li><a href='#descriptions'><p>Get or set descriptions for data frame columns</p></a></li>
<li><a href='#fapply'><p>Apply formatting to a vector</p></a></li>
<li><a href='#fapply2'><p>Apply formatting to two vectors</p></a></li>
<li><a href='#fattr'><p>Set formatting attributes</p></a></li>
<li><a href='#fattr&lt;-'><p>Set formatting attributes</p></a></li>
<li><a href='#fcat'><p>Create a format catalog</p></a></li>
<li><a href='#fdata'><p>Format a data frame or tibble</p></a></li>
<li><a href='#flist'><p>Create a formatting list</p></a></li>
<li><a href='#fmt_cnt_pct'><p>Formatted count and percent</p></a></li>
<li><a href='#fmt_mean_sd'><p>Formatted mean and standard deviation</p></a></li>
<li><a href='#fmt_median'><p>Formatted Median</p></a></li>
<li><a href='#fmt_n'><p>Formatted Count</p></a></li>
<li><a href='#fmt_quantile_range'><p>Formatted Quantile Range</p></a></li>
<li><a href='#fmt_range'><p>Formatted Range</p></a></li>
<li><a href='#formats'><p>Get or set formats for a data frame</p></a></li>
<li><a href='#FormattingStrings'><p>Formatting Strings</p></a></li>
<li><a href='#is.fcat'><p>Class test for a format catalog</p></a></li>
<li><a href='#is.flist'><p>Is object a formatting list</p></a></li>
<li><a href='#is.format'><p>Determine whether an object is a user-defined format</p></a></li>
<li><a href='#justification'><p>Get or set justification for data frame columns</p></a></li>
<li><a href='#labels.fmt'><p>Extract labels from a user-defined format</p></a></li>
<li><a href='#print.fcat'><p>Print a format catalog</p></a></li>
<li><a href='#print.fmt'><p>Print a format</p></a></li>
<li><a href='#print.fmt_lst'><p>Print a formatting list</p></a></li>
<li><a href='#read.fcat'><p>Read a format catalog from the file system</p></a></li>
<li><a href='#value'><p>Create a user-defined format</p></a></li>
<li><a href='#widths'><p>Get or set column widths for a data frame</p></a></li>
<li><a href='#write.fcat'><p>Write a format catalog to the file system</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Easily Apply Formats to Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.6.3</td>
</tr>
<tr>
<td>Author:</td>
<td>David Bosak</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Bosak &lt;dbosak01@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Contains a set of functions that can be used to apply
  formats to data frames or vectors.  The package aims to provide 
  functionality similar to that of SAS速 formats. Formats are assigned to
  the format attribute on data frame columns.  Then when the fdata() 
  function is called, a new data frame is created with the column data
  formatted as specified.  The package also contains a value() function
  to create a user-defined format, similar to a SAS速 user-defined format.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://fmtr.r-sassy.org">https://fmtr.r-sassy.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dbosak01/fmtr/issues">https://github.com/dbosak01/fmtr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0), common</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, covr, logr, utils, dplyr, libr</td>
</tr>
<tr>
<td>Imports:</td>
<td>tibble, stats, crayon, Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-08 00:25:44 UTC; dbosa</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-09 06:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='fmtr'>A package for formatting data</h2><span id='topic+fmtr'></span><span id='topic+fmtr-package'></span>

<h3>Description</h3>

<p>The <strong>fmtr</strong> package contains functions to 
format vectors and data frames.
</p>


<h3>Details</h3>

<p>The <strong>fmtr</strong> package helps format data frames, similar 
to the way datasets are formatted in SAS速.  Formats are assigned
to columns using a <strong>format</strong> attribute.  Formats are then applied
by calling the <code>fdata</code> function on the data frame.  
The <code>fdata</code>
function returns a new data frame with the formats applied to each column
as specified. 
</p>
<p>All functions in the <code>fmtr</code> package also work with tidyverse tibbles.
</p>
<p>The <strong>fmtr</strong> package also contains a function named 
<code>value</code> for defining user-defined formats in a manner
similar to SAS速 formats.
</p>


<h3>Functions</h3>

<p>The main functions included in the <strong>fmtr</strong> package are 
as follows:
</p>

<ul>
<li> <p><code><a href="#topic+fdata">fdata</a></code>: Applies formatting 
to a dataframe.
</p>
</li>
<li> <p><code><a href="#topic+fapply">fapply</a></code>: Applies formatting 
to a vector.
</p>
</li>
<li> <p><code><a href="#topic+fcat">fcat</a></code>: Creates a format catalog.
</p>
</li>
<li> <p><code><a href="#topic+value">value</a></code>: Creates a new
user-defined format.
</p>
</li>
<li> <p><code><a href="#topic+formats">formats</a></code>: Helps assign format attributes
to a data frame.
</p>
</li>
<li> <p><code><a href="#topic+fattr">fattr</a></code>: Helps assign formatting attributes
to a vector.
</p>
</li></ul>



<h3>Available Formats</h3>

<p>The formats that can be used with <strong>fmtr</strong> include the following:
</p>

<ul>
<li><p> Formatting strings
</p>
</li>
<li><p> Named vectors
</p>
</li>
<li><p> Vectorized functions
</p>
</li>
<li><p> User-defined formats
</p>
</li>
<li><p> Formatting lists
</p>
</li></ul>

<p>A formatting string is a compact set of codes typically used for formatting
dates and numbers.  See <a href="#topic+FormattingStrings">FormattingStrings</a> for a glossary of 
common formatting codes.
</p>
<p>Named vectors map one string value to another string value.
</p>
<p>Vectorized functions can be those created by the user or by a formatting
function like those created with Base R or the <strong>scales</strong> package.
</p>
<p>User-defined functions are those created by the <strong>fmtr</strong> 
<code>value</code> function.  See <code><a href="#topic+value">value</a></code> for 
additional details.
</p>
<p>Formatting lists are lists which contain any of the above format types.
The formatting lists allow the user to apply one of several formats to the 
column.  Formatting lists may also be used to apply different formats 
to each item in a vector.  See <code><a href="#topic+flist">flist</a></code> for 
additional details on formatting lists.
</p>
<p>See the <code><a href="#topic+fapply">fapply</a></code> function documentation for additional details
on applying formats.
</p>
<p>Formats can be collected and stored as a single file, called a format
catalog.  This functionality makes it easy to reuse formats in new
programs, with new data, or to share them with colleagues.  
See the <code><a href="#topic+fcat">fcat</a></code> function for 
additional information.
</p>

<hr>
<h2 id='as.data.frame.fcat'>Convert a format catalog to a data frame</h2><span id='topic+as.data.frame.fcat'></span>

<h3>Description</h3>

<p>This function takes the information stored in a format 
catalog, and converts it to a data frame.  This data frame is 
useful for storage, editing, saving to a spreadsheet, etc.  The 
data frame shows the name of the formats, their type, and the format 
expression.  For user-defined formats, the data frame populates 
additional columns for the label and order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fcat'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.fcat_+3A_x">x</code></td>
<td>
<p>The format catalog to convert.</p>
</td></tr>
<tr><td><code id="as.data.frame.fcat_+3A_row.names">row.names</code></td>
<td>
<p>Row names of the return data frame.  Default is NULL.</p>
</td></tr>
<tr><td><code id="as.data.frame.fcat_+3A_optional">optional</code></td>
<td>
<p>TRUE or FALSE value indicating whether converting to
syntactic variable names is desired.  In the case of formats, the 
resulting data frame will always be returned with syntactic names, and 
this parameter is ignored.</p>
</td></tr>
<tr><td><code id="as.data.frame.fcat_+3A_...">...</code></td>
<td>
<p>Any follow-on parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains the values stored in the format 
catalog.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d%b%Y")
           
# Convert catalog to data frame to view the structure
df &lt;- as.data.frame(c1)
print(df)
#       Name Type Expression   Label Order
# 1   num_fmt    S       %.1f            NA
# 2 label_fmt    U   x == "A" Label A    NA
# 3 label_fmt    U   x == "B" Label B    NA
# 4 label_fmt    U       TRUE   Other    NA
# 5  date_fmt    S     %d%b%Y            NA

# Convert data frame back to a format catalog
c2 &lt;- as.fcat(df)
c2
# # A format catalog: 3 formats
# - $date_fmt: type S, "%d%b%Y"
# - $label_fmt: type U, 3 conditions
# - $num_fmt: type S, "%.1f"
</code></pre>

<hr>
<h2 id='as.data.frame.fmt'>Casts a format to a data frame</h2><span id='topic+as.data.frame.fmt'></span>

<h3>Description</h3>

<p>Cast a format object to a data frame.  This function is
a class-specific implementation of the the generic <code>as.data.frame</code> 
method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fmt'
as.data.frame(
  x,
  row.names = NULL,
  optional = FALSE,
  ...,
  name = deparse(substitute(x, env = environment()))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.fmt_+3A_x">x</code></td>
<td>
<p>An object of class &quot;fmt&quot;.</p>
</td></tr>
<tr><td><code id="as.data.frame.fmt_+3A_row.names">row.names</code></td>
<td>
<p>Row names of the return data frame.  Default is NULL.</p>
</td></tr>
<tr><td><code id="as.data.frame.fmt_+3A_optional">optional</code></td>
<td>
<p>TRUE or FALSE value indicating whether converting to
syntactic variable names is options.  In the case of formats, the 
resulting data frame will always be returned with syntactic names, and 
this parameter is ignored.</p>
</td></tr>
<tr><td><code id="as.data.frame.fmt_+3A_...">...</code></td>
<td>
<p>Any follow-on parameters.</p>
</td></tr>
<tr><td><code id="as.data.frame.fmt_+3A_name">name</code></td>
<td>
<p>An optional name for the format.  By default, the name of 
the variable holding the format will be used.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other fmt: 
<code><a href="#topic+as.fmt.data.frame">as.fmt.data.frame</a>()</code>,
<code><a href="#topic+as.fmt">as.fmt</a>()</code>,
<code><a href="#topic+condition">condition</a>()</code>,
<code><a href="#topic+is.format">is.format</a>()</code>,
<code><a href="#topic+labels.fmt">labels.fmt</a>()</code>,
<code><a href="#topic+print.fmt">print.fmt</a>()</code>,
<code><a href="#topic+value">value</a>()</code>
</p>

<hr>
<h2 id='as.data.frame.fmt_lst'>Convert a formatting list to a data frame</h2><span id='topic+as.data.frame.fmt_lst'></span>

<h3>Description</h3>

<p>This function takes the information stored in a formatting 
list, and converts it to a data frame.  The data frame format is 
useful for storage, editing, saving to a spreadsheet, etc.  The 
data frame shows the name of the formats, their type, and the format 
expression.  For user-defined formats, the data frame populates 
additional columns for the label and order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fmt_lst'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.fmt_lst_+3A_x">x</code></td>
<td>
<p>The formatting list to convert.</p>
</td></tr>
<tr><td><code id="as.data.frame.fmt_lst_+3A_row.names">row.names</code></td>
<td>
<p>Row names for the returned data frame.  Default is NULL.</p>
</td></tr>
<tr><td><code id="as.data.frame.fmt_lst_+3A_optional">optional</code></td>
<td>
<p>TRUE or FALSE value indicating whether converting to
syntactic variable names is desired.  In the case of formats, the 
resulting data frame will always be returned with syntactic names, and 
this parameter is ignored.</p>
</td></tr>
<tr><td><code id="as.data.frame.fmt_lst_+3A_...">...</code></td>
<td>
<p>Any follow-on parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains the values stored in the formatting 
list.
</p>


<h3>See Also</h3>

<p>Other flist: 
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a formatting list
c1 &lt;- flist(num_fmt  = "%.1f",
            label_fmt = value(condition(x == "A", "Label A"),
                              condition(x == "B", "Label B"),
                              condition(TRUE, "Other")),
            date_fmt = "%d%b%Y")
           
# Convert catalog to data frame to view the structure
df &lt;- as.data.frame(c1)
print(df)
#       Name Type Expression   Label Order
# 1   num_fmt    S       %.1f            NA
# 2 label_fmt    U   x == "A" Label A    NA
# 3 label_fmt    U   x == "B" Label B    NA
# 4 label_fmt    U       TRUE   Other    NA
# 5  date_fmt    S     %d%b%Y            NA

# Convert data frame back to a formatting list
c2 &lt;- as.flist(df)
c2
# # A formatting list: 3 formats
# - type: column
# - simplify: TRUE
#        Name Type Expression   Label Order
# 1  date_fmt    S     %d%b%Y          &lt;NA&gt;
# 2 label_fmt    U   x == "A" Label A  &lt;NA&gt;
# 3 label_fmt    U   x == "B" Label B  &lt;NA&gt;
# 4 label_fmt    U       TRUE   Other  &lt;NA&gt;
# 5   num_fmt    S       %.1f          &lt;NA&gt;
</code></pre>

<hr>
<h2 id='as.fcat'>Generic casting method for format catalogs</h2><span id='topic+as.fcat'></span>

<h3>Description</h3>

<p>A generic method for casting objects to
a format catalog.  Individual objects will inherit from this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.fcat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.fcat_+3A_x">x</code></td>
<td>
<p>The object to cast.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A format catalog, created using the information in the 
input object.
</p>


<h3>See Also</h3>

<p>For class-specific methods, see <code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a></code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a></code>, and <code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a></code>.
</p>
<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>

<hr>
<h2 id='as.fcat.data.frame'>Convert a data frame to a format catalog</h2><span id='topic+as.fcat.data.frame'></span>

<h3>Description</h3>

<p>This function takes a data frame as input
and converts it to a format catalog based on the information contained
in the data frame. The data frame should have 5 columns: &quot;Name&quot;, &quot;Type&quot;,
&quot;Expression&quot;, &quot;Label&quot; and &quot;Order&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'data.frame'
as.fcat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.fcat.data.frame_+3A_x">x</code></td>
<td>
<p>The data frame to convert.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>as.fcat.data.frame</code> converts a data frame to a format catalog. A
corresponding conversion for class &quot;tbl_df&quot; converts a tibble.
</p>
<p>To understand the structure of the input data frame, create a format and use
the <code>as.data.frame</code> method to convert the format to a data frame.
Then observe the columns and organization of the data.
</p>


<h3>Value</h3>

<p>A format catalog based on the information contained in the 
input data frame.
</p>


<h3>Input Data Frame Specifications</h3>

<p>The input data frame should contain the following columns:
</p>

<ul>
<li> <p><strong>Name</strong>: The name of the format
</p>
</li>
<li> <p><strong>Type</strong>: The type of format.  See the type codes below.
</p>
</li>
<li> <p><strong>Expression</strong>: The formatting expression. The expression will 
hold different types of values depending on the format type.
</p>
</li>
<li> <p><strong>Label</strong>: The label for user-defined, &quot;U&quot; type formats.
</p>
</li>
<li> <p><strong>Order</strong>: The order for user-defined, &quot;U&quot; type formats. 
</p>
</li></ul>

<p>Any additional columns will be ignored.  Column names are case-insensitive.
</p>
<p>Valid values for the &quot;Type&quot; column are as follows:
</p>

<ul>
<li> <p><strong>U</strong>: User Defined List created with the <code><a href="#topic+value">value</a></code> 
function.
</p>
</li>
<li> <p><strong>S</strong>: A formatting string of formatting codes.  
See <a href="#topic+FormattingStrings">FormattingStrings</a>.
</p>
</li>
<li> <p><strong>F</strong>: A vectorized function.
</p>
</li>
<li> <p><strong>V</strong>: A named vector lookup.</p>
</li></ul>

<p>The &quot;Label&quot; and &quot;Order&quot; columns are used only for a type &quot;U&quot;, user-defined
format created with the <code><a href="#topic+value">value</a></code> function.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d-%b-%Y")
           
# Convert catalog to data frame to view the structure
df &lt;- as.data.frame(c1)
print(df)
#       Name Type Expression   Label Order
# 1   num_fmt    S       %.1f            NA
# 2 label_fmt    U   x == "A" Label A    NA
# 3 label_fmt    U   x == "B" Label B    NA
# 4 label_fmt    U       TRUE   Other    NA
# 5  date_fmt    S   %d-%b-%Y            NA

# Convert data frame back to a format catalog
c2 &lt;- as.fcat(df)
c2
# # A format catalog: 3 formats
# - $date_fmt: type S, "%d-%b-%Y"
# - $label_fmt: type U, 3 conditions
# - $num_fmt: type S, "%.1f"

# Use re-converted catalog
fapply(123.456, c2$num_fmt)
# [1] "123.5"

fapply(c("A", "B", "C", "B"), c2$label_fmt)
# [1] "Label A" "Label B" "Other"   "Label B"

fapply(Sys.Date(), c2$date_fmt)
# [1] "07-Jan-2024"
</code></pre>

<hr>
<h2 id='as.fcat.fmt_lst'>Convert a formatting list to a format catalog</h2><span id='topic+as.fcat.fmt_lst'></span>

<h3>Description</h3>

<p>The <code>as.fcat.list</code> function converts a formatting list
to a format catalog.  For additional information on formatting lists,
see <code><a href="#topic+flist">flist</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fmt_lst'
as.fcat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.fcat.fmt_lst_+3A_x">x</code></td>
<td>
<p>The formatting list to convert.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A format catalog based on the formats contained in the input
formatting list.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>

<hr>
<h2 id='as.fcat.list'>Convert a list to a format catalog</h2><span id='topic+as.fcat.list'></span>

<h3>Description</h3>

<p>The <code>as.fcat.list</code> function converts a list of formats
to a format catalog.  Items in the list must be named.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
as.fcat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.fcat.list_+3A_x">x</code></td>
<td>
<p>The list to convert.  List must contained named formats.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A format catalog based on the formats contained in the input list.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>

<hr>
<h2 id='as.fcat.tbl_df'>Convert a tibble to a format catalog</h2><span id='topic+as.fcat.tbl_df'></span>

<h3>Description</h3>

<p>This function takes a data frame as input
and converts it to a format catalog based on the information contained
in the data frame. The data frame should have 5 columns: &quot;Name&quot;, &quot;Type&quot;,
&quot;Expression&quot;, &quot;Label&quot; and &quot;Order&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tbl_df'
as.fcat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.fcat.tbl_df_+3A_x">x</code></td>
<td>
<p>The data frame to convert.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>as.fcat.data.frame</code> converts a data frame to a format catalog. A
corresponding conversion for class &quot;tbl_df&quot; converts a tibble.
</p>
<p>To understand the structure of the input data frame, create a format and use
the <code>as.data.frame</code> method to convert the format to a data frame.
Then observe the columns and organization of the data.
</p>


<h3>Value</h3>

<p>A format catalog based on the information contained in the 
input data frame.
</p>


<h3>Input Data Frame Specifications</h3>

<p>The input data frame should contain the following columns:
</p>

<ul>
<li> <p><strong>Name</strong>: The name of the format
</p>
</li>
<li> <p><strong>Type</strong>: The type of format.  See the type codes below.
</p>
</li>
<li> <p><strong>Expression</strong>: The formatting expression. The expression will 
hold different types of values depending on the format type.
</p>
</li>
<li> <p><strong>Label</strong>: The label for user-defined, &quot;U&quot; type formats.
</p>
</li>
<li> <p><strong>Order</strong>: The order for user-defined, &quot;U&quot; type formats. 
</p>
</li></ul>

<p>Any additional columns will be ignored.  Column names are case-insensitive.
</p>
<p>Valid values for the &quot;Type&quot; column are as follows:
</p>

<ul>
<li> <p><strong>U</strong>: User Defined List created with the <code><a href="#topic+value">value</a></code> 
function.
</p>
</li>
<li> <p><strong>S</strong>: A formatting string of formatting codes.  
See <a href="#topic+FormattingStrings">FormattingStrings</a>.
</p>
</li>
<li> <p><strong>F</strong>: A vectorized function.
</p>
</li>
<li> <p><strong>V</strong>: A named vector lookup.</p>
</li></ul>

<p>The &quot;Label&quot; and &quot;Order&quot; columns are used only for a type &quot;U&quot;, user-defined
format created with the <code><a href="#topic+value">value</a></code> function.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d-%b-%Y")
           
# Convert catalog to data frame to view the structure
df &lt;- as.data.frame(c1)
print(df)
#       Name Type Expression   Label Order
# 1   num_fmt    S       %.1f            NA
# 2 label_fmt    U   x == "A" Label A    NA
# 3 label_fmt    U   x == "B" Label B    NA
# 4 label_fmt    U       TRUE   Other    NA
# 5  date_fmt    S   %d-%b-%Y            NA

# Convert data frame back to a format catalog
c2 &lt;- as.fcat(df)
c2
# # A format catalog: 3 formats
# - $date_fmt: type S, "%d-%b-%Y"
# - $label_fmt: type U, 3 conditions
# - $num_fmt: type S, "%.1f"

# Use re-converted catalog
fapply(123.456, c2$num_fmt)
# [1] "123.5"

fapply(c("A", "B", "C", "B"), c2$label_fmt)
# [1] "Label A" "Label B" "Other"   "Label B"

fapply(Sys.Date(), c2$date_fmt)
# [1] "07-Jan-2024"
</code></pre>

<hr>
<h2 id='as.flist'>Convert to a formatting list</h2><span id='topic+as.flist'></span>

<h3>Description</h3>

<p>Converts an object to a formatting list.  All
other parameters are the same as the <code>flist</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.flist(x, type = "column", lookup = NULL, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.flist_+3A_x">x</code></td>
<td>
<p>Object to convert.</p>
</td></tr>
<tr><td><code id="as.flist_+3A_type">type</code></td>
<td>
<p>The type of formatting list.  Valid values are 'row' or 'column'.
The default value is 'column'.</p>
</td></tr>
<tr><td><code id="as.flist_+3A_lookup">lookup</code></td>
<td>
<p>A lookup vector.  Used for looking up the format from 
the formatting list.  This parameter is only used for 'row' type 
formatting lists.</p>
</td></tr>
<tr><td><code id="as.flist_+3A_simplify">simplify</code></td>
<td>
<p>Whether to simplify the results to a vector.  Valid values 
are TRUE or FALSE.  Default is TRUE.  If the value is set to FALSE, the 
return type will be a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To apply more than one formatting object to a vector, use a formatting
list.  There are two types of formatting list: column and row.  The column
type formatting lists applies all formats to all values in the
vector.  The row type formatting list can apply a different format to 
each value in the vector.  
</p>
<p>Further, there are two styles of row type list: ordered and lookup.  The
ordered style applies each format in the list to the vector values
in the order specified.  The
ordered style will recycle the formats as needed.  The lookup style 
formatting list uses a lookup to determine which format from the list to
apply to a particular value of the vector.  The lookup column values should
correspond to names on the formatting list.  
</p>
<p>Examples of column type and row type formatting lists are given below.
</p>


<h3>Value</h3>

<p>A formatting list object.
</p>


<h3>See Also</h3>

<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1: Formatting List - Column Type ##
# Set up data
v1 &lt;- c(Sys.Date(), Sys.Date() + 30, Sys.Date() + 60)

# Create formatting list
fl1 &lt;- flist("%B", "The month is: %s")

# Apply formatting list to vector
fapply(v1, fl1)
# [1] "The month is: October"  "The month is: November" "The month is: December"

## Example 2: Formatting List - Row Type ordered ##
# Set up data
# Notice each row has a different data type
l1 &lt;- list("A", 1.263, as.Date("2020-07-21"), 
          "B", 5.8732, as.Date("2020-10-17"))
          
# These formats will be recycled in the order specified           
fl2 &lt;- flist(type = "row",
             c(A = "Label A", B = "Label B"),
             "%.1f",
             "%d%b%Y")

fapply(l1, fl2)
# [1] "Label A"   "1.3"       "21Jul2020" "Label B"   "5.9"       "17Oct2020"


## Example 3: Formatting List - Row Type with lookup ##
# Set up data
# Notice each row has a different data type
l2 &lt;- list(2841.258, "H", as.Date("2020-06-19"),
           "L", as.Date("2020-04-24"), 1382.8865)
v3 &lt;- c("num", "char", "date", "char", "date", "num")

# Create formatting list
fl3 &lt;- flist(type = "row", lookup = v3,
             num = function(x) format(x, digits = 2, nsmall = 1, 
                                  big.mark=","),
             char = value(condition(x == "H", "High"),
                     condition(x == "L", "Low"),
                     condition(TRUE, "NA")),
             date = "%d%b%Y")

# Apply formatting list to vector, using lookup
fapply(l2, fl3)
# [1] "2,841.3"   "High"      "19Jun2020" "Low"       "24Apr2020" "1,382.9"
</code></pre>

<hr>
<h2 id='as.flist.data.frame'>Convert a data frame to a formatting list</h2><span id='topic+as.flist.data.frame'></span>

<h3>Description</h3>

<p>Converts a data frame to a formatting list.  All
other parameters are the same as the <code>flist</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'data.frame'
as.flist(x, type = "column", lookup = NULL, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.flist.data.frame_+3A_x">x</code></td>
<td>
<p>Data frame to convert.</p>
</td></tr>
<tr><td><code id="as.flist.data.frame_+3A_type">type</code></td>
<td>
<p>The type of formatting list.  Valid values are 'row' or 'column'.
The default value is 'column'.</p>
</td></tr>
<tr><td><code id="as.flist.data.frame_+3A_lookup">lookup</code></td>
<td>
<p>A lookup vector.  Used for looking up the format from 
the formatting list.  This parameter is only used for 'row' type 
formatting lists.</p>
</td></tr>
<tr><td><code id="as.flist.data.frame_+3A_simplify">simplify</code></td>
<td>
<p>Whether to simplify the results to a vector.  Valid values 
are TRUE or FALSE.  Default is TRUE.  If the value is set to FALSE, the 
return type will be a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To apply more than one formatting object to a vector, use a formatting
list.  There are two types of formatting list: column and row.  The column
type formatting lists applies all formats to all values in the
vector.  The row type formatting list can apply a different format to 
each value in the vector.  
</p>
<p>Further, there are two styles of row type list: ordered and lookup.  The
ordered style applies each format in the list to the vector values
in the order specified.  The
ordered style will recycle the formats as needed.  The lookup style 
formatting list uses a lookup to determine which format from the list to
apply to a particular value of the vector.  The lookup column values should
correspond to names on the formatting list.  
</p>
<p>Examples of column type and row type formatting lists are given below.
</p>


<h3>Value</h3>

<p>A formatting list object.
</p>


<h3>See Also</h3>

<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1: Formatting List - Column Type ##
# Set up data
v1 &lt;- c(Sys.Date(), Sys.Date() + 30, Sys.Date() + 60)

# Create formatting list
fl1 &lt;- flist("%B", "The month is: %s")

# Apply formatting list to vector
fapply(v1, fl1)
# [1] "The month is: October"  "The month is: November" "The month is: December"

## Example 2: Formatting List - Row Type ordered ##
# Set up data
# Notice each row has a different data type
l1 &lt;- list("A", 1.263, as.Date("2020-07-21"), 
          "B", 5.8732, as.Date("2020-10-17"))
          
# These formats will be recycled in the order specified           
fl2 &lt;- flist(type = "row",
             c(A = "Label A", B = "Label B"),
             "%.1f",
             "%d%b%Y")

fapply(l1, fl2)
# [1] "Label A"   "1.3"       "21Jul2020" "Label B"   "5.9"       "17Oct2020"


## Example 3: Formatting List - Row Type with lookup ##
# Set up data
# Notice each row has a different data type
l2 &lt;- list(2841.258, "H", as.Date("2020-06-19"),
           "L", as.Date("2020-04-24"), 1382.8865)
v3 &lt;- c("num", "char", "date", "char", "date", "num")

# Create formatting list
fl3 &lt;- flist(type = "row", lookup = v3,
             num = function(x) format(x, digits = 2, nsmall = 1, 
                                  big.mark=","),
             char = value(condition(x == "H", "High"),
                     condition(x == "L", "Low"),
                     condition(TRUE, "NA")),
             date = "%d%b%Y")

# Apply formatting list to vector, using lookup
fapply(l2, fl3)
# [1] "2,841.3"   "High"      "19Jun2020" "Low"       "24Apr2020" "1,382.9"
</code></pre>

<hr>
<h2 id='as.flist.fcat'>Convert a format catalog to a formatting list</h2><span id='topic+as.flist.fcat'></span>

<h3>Description</h3>

<p>Converts a format catalog to a formatting list.  All
other parameters are the same as the <code>flist</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fcat'
as.flist(x, type = "column", lookup = NULL, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.flist.fcat_+3A_x">x</code></td>
<td>
<p>Format catalog to convert.</p>
</td></tr>
<tr><td><code id="as.flist.fcat_+3A_type">type</code></td>
<td>
<p>The type of formatting list.  Valid values are 'row' or 'column'.
The default value is 'column'.</p>
</td></tr>
<tr><td><code id="as.flist.fcat_+3A_lookup">lookup</code></td>
<td>
<p>A lookup vector.  Used for looking up the format from 
the formatting list.  This parameter is only used for 'row' type 
formatting lists.</p>
</td></tr>
<tr><td><code id="as.flist.fcat_+3A_simplify">simplify</code></td>
<td>
<p>Whether to simplify the results to a vector.  Valid values 
are TRUE or FALSE.  Default is TRUE.  If the value is set to FALSE, the 
return type will be a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To apply more than one formatting object to a vector, use a formatting
list.  There are two types of formatting list: column and row.  The column
type formatting lists applies all formats to all values in the
vector.  The row type formatting list can apply a different format to 
each value in the vector.  
</p>
<p>Further, there are two styles of row type list: ordered and lookup.  The
ordered style applies each format in the list to the vector values
in the order specified.  The
ordered style will recycle the formats as needed.  The lookup style 
formatting list uses a lookup to determine which format from the list to
apply to a particular value of the vector.  The lookup column values should
correspond to names on the formatting list.  
</p>
<p>Examples of column type and row type formatting lists are given below.
</p>


<h3>Value</h3>

<p>A formatting list object.
</p>


<h3>See Also</h3>

<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1: Formatting List - Column Type ##
# Set up data
v1 &lt;- c(Sys.Date(), Sys.Date() + 30, Sys.Date() + 60)

# Create formatting list
fl1 &lt;- flist("%B", "The month is: %s")

# Apply formatting list to vector
fapply(v1, fl1)
# [1] "The month is: October"  "The month is: November" "The month is: December"

## Example 2: Formatting List - Row Type ordered ##
# Set up data
# Notice each row has a different data type
l1 &lt;- list("A", 1.263, as.Date("2020-07-21"), 
          "B", 5.8732, as.Date("2020-10-17"))
          
# These formats will be recycled in the order specified           
fl2 &lt;- flist(type = "row",
             c(A = "Label A", B = "Label B"),
             "%.1f",
             "%d%b%Y")

fapply(l1, fl2)
# [1] "Label A"   "1.3"       "21Jul2020" "Label B"   "5.9"       "17Oct2020"


## Example 3: Formatting List - Row Type with lookup ##
# Set up data
# Notice each row has a different data type
l2 &lt;- list(2841.258, "H", as.Date("2020-06-19"),
           "L", as.Date("2020-04-24"), 1382.8865)
v3 &lt;- c("num", "char", "date", "char", "date", "num")

# Create formatting list
fl3 &lt;- flist(type = "row", lookup = v3,
             num = function(x) format(x, digits = 2, nsmall = 1, 
                                  big.mark=","),
             char = value(condition(x == "H", "High"),
                     condition(x == "L", "Low"),
                     condition(TRUE, "NA")),
             date = "%d%b%Y")

# Apply formatting list to vector, using lookup
fapply(l2, fl3)
# [1] "2,841.3"   "High"      "19Jun2020" "Low"       "24Apr2020" "1,382.9"
</code></pre>

<hr>
<h2 id='as.flist.list'>Convert a list to a formatting list</h2><span id='topic+as.flist.list'></span>

<h3>Description</h3>

<p>Converts a normal list to a formatting list.  All
other parameters are the same as the <code>flist</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
as.flist(x, type = "column", lookup = NULL, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.flist.list_+3A_x">x</code></td>
<td>
<p>List to convert.</p>
</td></tr>
<tr><td><code id="as.flist.list_+3A_type">type</code></td>
<td>
<p>The type of formatting list.  Valid values are 'row' or 'column'.
The default value is 'column'.</p>
</td></tr>
<tr><td><code id="as.flist.list_+3A_lookup">lookup</code></td>
<td>
<p>A lookup vector.  Used for looking up the format from 
the formatting list.  This parameter is only used for 'row' type 
formatting lists.</p>
</td></tr>
<tr><td><code id="as.flist.list_+3A_simplify">simplify</code></td>
<td>
<p>Whether to simplify the results to a vector.  Valid values 
are TRUE or FALSE.  Default is TRUE.  If the value is set to FALSE, the 
return type will be a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To apply more than one formatting object to a vector, use a formatting
list.  There are two types of formatting list: column and row.  The column
type formatting lists applies all formats to all values in the
vector.  The row type formatting list can apply a different format to 
each value in the vector.  
</p>
<p>Further, there are two styles of row type list: ordered and lookup.  The
ordered style applies each format in the list to the vector values
in the order specified.  The
ordered style will recycle the formats as needed.  The lookup style 
formatting list uses a lookup to determine which format from the list to
apply to a particular value of the vector.  The lookup column values should
correspond to names on the formatting list.  
</p>
<p>Examples of column type and row type formatting lists are given below.
</p>


<h3>Value</h3>

<p>A formatting list object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flist">flist</a></code> function documentation for additional details.
</p>
<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1: Create flist from list - column type
lst1 &lt;- list("%d%b%Y", "%.1f")
fl1  &lt;- as.flist(lst1, type = "column")

# Example 2: Create flist from list - row type
lst2 &lt;- list(lkup = c(A = "Label A", B = "Label B"),
             dec1 = "%.1f",
             dt1  = "%d%b%Y")
fl2 &lt;- as.flist(lst2, type = "row")
             
</code></pre>

<hr>
<h2 id='as.flist.tbl_df'>Convert a tibble to a formatting list</h2><span id='topic+as.flist.tbl_df'></span>

<h3>Description</h3>

<p>Converts a tibble to a formatting list.  All
other parameters are the same as the <code>flist</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tbl_df'
as.flist(x, type = "column", lookup = NULL, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.flist.tbl_df_+3A_x">x</code></td>
<td>
<p>Tibble to convert.</p>
</td></tr>
<tr><td><code id="as.flist.tbl_df_+3A_type">type</code></td>
<td>
<p>The type of formatting list.  Valid values are 'row' or 'column'.
The default value is 'column'.</p>
</td></tr>
<tr><td><code id="as.flist.tbl_df_+3A_lookup">lookup</code></td>
<td>
<p>A lookup vector.  Used for looking up the format from 
the formatting list.  This parameter is only used for 'row' type 
formatting lists.</p>
</td></tr>
<tr><td><code id="as.flist.tbl_df_+3A_simplify">simplify</code></td>
<td>
<p>Whether to simplify the results to a vector.  Valid values 
are TRUE or FALSE.  Default is TRUE.  If the value is set to FALSE, the 
return type will be a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To apply more than one formatting object to a vector, use a formatting
list.  There are two types of formatting list: column and row.  The column
type formatting lists applies all formats to all values in the
vector.  The row type formatting list can apply a different format to 
each value in the vector.  
</p>
<p>Further, there are two styles of row type list: ordered and lookup.  The
ordered style applies each format in the list to the vector values
in the order specified.  The
ordered style will recycle the formats as needed.  The lookup style 
formatting list uses a lookup to determine which format from the list to
apply to a particular value of the vector.  The lookup column values should
correspond to names on the formatting list.  
</p>
<p>Examples of column type and row type formatting lists are given below.
</p>


<h3>Value</h3>

<p>A formatting list object.
</p>


<h3>See Also</h3>

<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1: Formatting List - Column Type ##
# Set up data
v1 &lt;- c(Sys.Date(), Sys.Date() + 30, Sys.Date() + 60)

# Create formatting list
fl1 &lt;- flist("%B", "The month is: %s")

# Apply formatting list to vector
fapply(v1, fl1)
# [1] "The month is: October"  "The month is: November" "The month is: December"

## Example 2: Formatting List - Row Type ordered ##
# Set up data
# Notice each row has a different data type
l1 &lt;- list("A", 1.263, as.Date("2020-07-21"), 
          "B", 5.8732, as.Date("2020-10-17"))
          
# These formats will be recycled in the order specified           
fl2 &lt;- flist(type = "row",
             c(A = "Label A", B = "Label B"),
             "%.1f",
             "%d%b%Y")

fapply(l1, fl2)
# [1] "Label A"   "1.3"       "21Jul2020" "Label B"   "5.9"       "17Oct2020"


## Example 3: Formatting List - Row Type with lookup ##
# Set up data
# Notice each row has a different data type
l2 &lt;- list(2841.258, "H", as.Date("2020-06-19"),
           "L", as.Date("2020-04-24"), 1382.8865)
v3 &lt;- c("num", "char", "date", "char", "date", "num")

# Create formatting list
fl3 &lt;- flist(type = "row", lookup = v3,
             num = function(x) format(x, digits = 2, nsmall = 1, 
                                  big.mark=","),
             char = value(condition(x == "H", "High"),
                     condition(x == "L", "Low"),
                     condition(TRUE, "NA")),
             date = "%d%b%Y")

# Apply formatting list to vector, using lookup
fapply(l2, fl3)
# [1] "2,841.3"   "High"      "19Jun2020" "Low"       "24Apr2020" "1,382.9"
</code></pre>

<hr>
<h2 id='as.fmt'>Generic casting method for formats</h2><span id='topic+as.fmt'></span>

<h3>Description</h3>

<p>A generic method for casting objects to
a format.  Individual objects will inherit from this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.fmt(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.fmt_+3A_x">x</code></td>
<td>
<p>The object to cast.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatting object, created using the information in the 
input object.
</p>


<h3>See Also</h3>

<p>Other fmt: 
<code><a href="#topic+as.data.frame.fmt">as.data.frame.fmt</a>()</code>,
<code><a href="#topic+as.fmt.data.frame">as.fmt.data.frame</a>()</code>,
<code><a href="#topic+condition">condition</a>()</code>,
<code><a href="#topic+is.format">is.format</a>()</code>,
<code><a href="#topic+labels.fmt">labels.fmt</a>()</code>,
<code><a href="#topic+print.fmt">print.fmt</a>()</code>,
<code><a href="#topic+value">value</a>()</code>
</p>

<hr>
<h2 id='as.fmt.data.frame'>Convert a data frame to a user-defined format</h2><span id='topic+as.fmt.data.frame'></span>

<h3>Description</h3>

<p>This function takes a data frame as input
and converts it to a user-defined format based on the information contained
in the data frame. The data frame should have 5 columns: &quot;Name&quot;, &quot;Type&quot;,
&quot;Expression&quot;, &quot;Label&quot; and &quot;Order&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'data.frame'
as.fmt(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.fmt.data.frame_+3A_x">x</code></td>
<td>
<p>The data frame to convert.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>as.fmt.data.frame</code> function converts a data frame to a 
user-defined format. 
</p>
<p>To understand the structure of the input data frame, create a user-defined 
format and use the <code>as.data.frame</code> method to convert the format 
to a data frame.
Then observe the columns and organization of the data.
</p>


<h3>Value</h3>

<p>A format catalog based on the information contained in the 
input data frame.
</p>


<h3>Input Data Frame Specifications</h3>

<p>The input data frame should contain the following columns:
</p>

<ul>
<li> <p><strong>Name</strong>: The name of the format
</p>
</li>
<li> <p><strong>Type</strong>: The type of format.  See the type codes below.
</p>
</li>
<li> <p><strong>Expression</strong>: The formatting expression. The expression will 
hold different types of values depending on the format type.  Within the
data frame, this expression is stored as a character string.
</p>
</li>
<li> <p><strong>Label</strong>: The label for user-defined, &quot;U&quot; type formats.
</p>
</li>
<li> <p><strong>Order</strong>: The order for user-defined, &quot;U&quot; type formats. 
</p>
</li></ul>

<p>Any additional columns will be ignored.  Column names are case-insensitive.
</p>
<p>Valid values for the &quot;Type&quot; column are as follows:
</p>

<ul>
<li> <p><strong>U</strong>: User Defined List created with the <code><a href="#topic+value">value</a></code> 
function.
</p>
</li>
<li> <p><strong>S</strong>: A formatting string of formatting codes.  
See <a href="#topic+FormattingStrings">FormattingStrings</a>.
</p>
</li>
<li> <p><strong>F</strong>: A vectorized function.
</p>
</li>
<li> <p><strong>V</strong>: A named vector lookup.</p>
</li></ul>

<p>The &quot;Label&quot; and &quot;Order&quot; columns are used only for a type &quot;U&quot;, user-defined
format created with the <code><a href="#topic+value">value</a></code> function.
</p>


<h3>See Also</h3>

<p>Other fmt: 
<code><a href="#topic+as.data.frame.fmt">as.data.frame.fmt</a>()</code>,
<code><a href="#topic+as.fmt">as.fmt</a>()</code>,
<code><a href="#topic+condition">condition</a>()</code>,
<code><a href="#topic+is.format">is.format</a>()</code>,
<code><a href="#topic+labels.fmt">labels.fmt</a>()</code>,
<code><a href="#topic+print.fmt">print.fmt</a>()</code>,
<code><a href="#topic+value">value</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a user-defined format 
f1 &lt;- value(condition(x == "A", "Label A"),
            condition(x == "B", "Label B"),
            condition(TRUE, "Other"))
           
# Convert user-defined format to data frame to view the structure
df &lt;- as.data.frame(f1)
print(df)

# Name Type Expression   Label Order
# 1 f1    U   x == "A" Label A    NA
# 2 f1    U   x == "B" Label B    NA
# 3 f1    U       TRUE   Other    NA

# Convert data frame back to a user-defined format 
f2 &lt;- as.fmt(df)

# Use re-converted format
fapply(c("A", "B", "C", "B"), f2)
# [1] "Label A" "Label B" "Other"   "Label B"
</code></pre>

<hr>
<h2 id='condition'>Define a condition for a user-defined format</h2><span id='topic+condition'></span>

<h3>Description</h3>

<p>The <code>condition</code> function creates a condition for a user-defined format.
It is typically used in conjunction with the <code><a href="#topic+value">value</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condition(expr, label, order = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condition_+3A_expr">expr</code></td>
<td>
<p>A valid R expression.  The value in the expression is identified
by the variable 'x', i.e.  x == 'A' or x &gt; 3 &amp; x &lt; 6.  The expression 
should not be quoted.  The expression parameter will accept equality, 
relational, and logical operators.  It will also accept numeric or string
literals.  String literals should be quoted.  It will not accept functions 
or any expression that includes a comma.  For these more complex operations, 
it is best to use a vectorized function.  See <code><a href="#topic+fapply">fapply</a></code> for an example of 
a vectorized function.</p>
</td></tr>
<tr><td><code id="condition_+3A_label">label</code></td>
<td>
<p>A label to be assigned if the expression is TRUE.  The label 
can any valid literal value.  Typically, the label will be a character 
string.  However, the label parameter does not restrict the data type.
Meaning, the label could also be a number, date, or other R object type.
The label may also be a string format, which allows you to perform
conditional formatting.</p>
</td></tr>
<tr><td><code id="condition_+3A_order">order</code></td>
<td>
<p>An optional integer order number. When used, this parameter 
will effect the order of the labels returned from the 
<code><a href="#topic+labels.fmt">labels.fmt</a></code> function.  The purpose of the parameter is to control
ordering of the format labels independently of the order they are assigned
in the conditions.  The order parameter is useful when you are using the format
labels to assign ordered levels in a factor.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>condition</code> function creates a condition as part of a format 
definition.  The format is defined using the <code><a href="#topic+value">value</a></code> 
function.  The condition is defined as an expression/label pair.  The 
expression parameter can be any valid R expression.   The label parameter
can be any valid literal.  Conditions are evaluated in the order they 
are assigned.  A default condition is created by assigning the expression
parameter to TRUE.  If your data can contain missing values, it is 
recommended that you test for those values first.  Any data values that 
do not meet one of the conditions will fall through the format as-is.
</p>
<p>The condition object is an S3 class of type &quot;fmt_cond&quot;. The condition 
labels can be extracted from the format using the <code>labels</code> function.
</p>
<p>The format object may be applied to a vector using the <code>fapply</code>
function.  See <code><a href="#topic+fapply">fapply</a></code> for further details.
</p>


<h3>Value</h3>

<p>The new condition object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fdata">fdata</a></code> to apply formatting to a data frame,
<code><a href="#topic+value">value</a></code> to define a format,
<code><a href="base.html#topic+levels">levels</a></code> or <code><a href="#topic+labels.fmt">labels.fmt</a></code> to access the labels, and 
<code><a href="#topic+fapply">fapply</a></code> to apply the format to a vector.
</p>
<p>Other fmt: 
<code><a href="#topic+as.data.frame.fmt">as.data.frame.fmt</a>()</code>,
<code><a href="#topic+as.fmt.data.frame">as.fmt.data.frame</a>()</code>,
<code><a href="#topic+as.fmt">as.fmt</a>()</code>,
<code><a href="#topic+is.format">is.format</a>()</code>,
<code><a href="#topic+labels.fmt">labels.fmt</a>()</code>,
<code><a href="#topic+print.fmt">print.fmt</a>()</code>,
<code><a href="#topic+value">value</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set up vector
v1 &lt;- c("A", "B", "C", "B")

# Define format
fmt1 &lt;- value(condition(x == "A", "Label A"),
              condition(x == "B", "Label B"), 
              condition(TRUE, "Other"))
              
# Apply format to vector
v2 &lt;- fapply(v1, fmt1)
v2
# [1] "Label A" "Label B" "Other"   "Label B"
</code></pre>

<hr>
<h2 id='descriptions'>Get or set descriptions for data frame columns</h2><span id='topic+descriptions'></span><span id='topic+descriptions+3C-'></span>

<h3>Description</h3>

<p>The <code>descriptions</code> function extracts all assigned description
attributes from a 
data frame, and returns them in a named list. The function also
assigns description attributes from a named list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descriptions(x)

descriptions(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="descriptions_+3A_x">x</code></td>
<td>
<p>A data frame or tibble</p>
</td></tr>
<tr><td><code id="descriptions_+3A_value">value</code></td>
<td>
<p>A named list of description values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If descriptions are assigned to the &quot;description&quot; 
attributes of the data frame
columns, the <code>descriptions</code> function will extract those values.  The 
function will return the description values in a named list, 
where the names
correspond to the name of the column that the description was assigned to.
If a column does not have a description attribute assigned, that column
will not be included in the list. 
</p>
<p>When used on the receiving side of an assignment, the function will assign
descriptions to a data frame.  The description values 
should be in a named list, where
each name corresponds to the name of the data frame column to assign
values to.
</p>
<p>Finally, if you wish to clear out the description attributes, assign
a NULL value to the <code>descriptions</code> function.
</p>


<h3>Value</h3>

<p>A named list of description values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fdata">fdata</a></code> to display formatted data, 
<code><a href="#topic+value">value</a></code> to create user-defined formats, and 
<code><a href="#topic+fapply">fapply</a></code> to apply formatting to a vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Take subset of data
df1 &lt;- mtcars[1:5, c("mpg", "cyl") ]

# Print current state
print(df1)
#                    mpg cyl
# Mazda RX4         21.0   6
# Mazda RX4 Wag     21.0   6
# Datsun 710        22.8   4
# Hornet 4 Drive    21.4   6
# Hornet Sportabout 18.7   8

# Assign descriptions
descriptions(df1) &lt;- list(mpg = "Miles per Gallon", cyl = "Cylinders")

# Display descriptions
descriptions(df1)
# $mpg
# [1] "Miles per Gallon"
# 
# $cyl
# [1] "Cylinders"

# Clear descriptions
descriptions(df1) &lt;- NULL

# Confirm descriptions are cleared
descriptions(df1)
# list()
</code></pre>

<hr>
<h2 id='fapply'>Apply formatting to a vector</h2><span id='topic+fapply'></span>

<h3>Description</h3>

<p>The <code>fapply</code> function applies formatting to a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fapply(x, format = NULL, width = NULL, justify = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fapply_+3A_x">x</code></td>
<td>
<p>A vector, factor, or list to apply the format to.</p>
</td></tr>
<tr><td><code id="fapply_+3A_format">format</code></td>
<td>
<p>A format to be applied.</p>
</td></tr>
<tr><td><code id="fapply_+3A_width">width</code></td>
<td>
<p>The desired character width of the formatted vector.  Default
value is NULL, meaning the vector will be variable width.</p>
</td></tr>
<tr><td><code id="fapply_+3A_justify">justify</code></td>
<td>
<p>Whether to justify the return vector.  Valid values are 
'left', 'right', 'center', 'centre', or 'none'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>fapply</code> function accepts several types of formats:  formatting
strings, named vectors,
vectorized functions, or user-defined formats.  It also 
accepts a formatting list, composed of any of the previous types.  
The function will first determine the type of format, and then apply 
the format in the appropriate way.  Results are returned as a vector.
</p>
<p>The function also has parameters for width and justification.
</p>
<p>Parameters may also be passed as attributes on the vector.  See 
the <code><a href="#topic+fattr">fattr</a></code> function for additional information on setting
formatting attributes.
</p>


<h3>Value</h3>

<p>A vector of formatted values.
</p>


<h3>Types of Formats</h3>

<p>The <code>fapply</code> function will process any of the following types of
formats:
</p>

<ul>
<li><p><strong>Formatting string:</strong> A single string will be interpreted as 
a formatting string.  See the <a href="#topic+FormattingStrings">FormattingStrings</a> documentation for 
further details.
</p>
</li>
<li><p><strong>Named vector:</strong> A named vector can serve as a lookup list or 
decode 
for a vector.  You can use a named vector to perform simple 
lookups on character vectors.
</p>
</li>
<li><p><strong>Format object:</strong> A format object may be created using the 
<code><a href="#topic+value">value</a></code> function.  The format object is included in the 
<strong>fmtr</strong> package, and is specially designed for data categorization.  
</p>
</li>
<li><p><strong>Vectorized formatting function:</strong> A vectorized function 
provides
the most flexibility and power over your formatting.  You can use 
an existing formatting function from any package, or create 
your own vectorized formatting function using <code><a href="base.html#topic+Vectorize">Vectorize</a></code>.
</p>
</li></ul>

<p><code>fapply</code> will also accept a formatting list, which can contain any 
number of formats from the above list.  To create a formatting list, 
see the <code><a href="#topic+flist">flist</a></code> function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fcat">fcat</a></code> to create a format catalog,
<code><a href="#topic+value">value</a></code> to define a format, 
<code><a href="#topic+fattr">fattr</a></code> to easily set the formatting attributes of a vector, 
and <code><a href="#topic+flist">flist</a></code> to define a formatting list.  Also see 
<code><a href="#topic+fdata">fdata</a></code> to apply formats to an entire data frame, and 
<a href="#topic+FormattingStrings">FormattingStrings</a> for how to define a formatting string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1: Formatting string ##
v1 &lt;- c(1.235, 8.363, 5.954, 2.465)

# Apply string format.
fapply(v1, "%.1f")
# [1] "1.2" "8.4" "6.0" "2.5"

## Example 2: Named vector ##
# Set up vector
v2 &lt;- c("A", "B", "C", "B")

# Set up named vector for formatting
fmt2 &lt;- c(A = "Label A", B = "Label B", C = "Label C")

# Apply format to vector
fapply(v2, fmt2)
# [1] "Label A" "Label B" "Label C" "Label B"

## Example 3: User-defined format ##
# Define format
fmt3 &lt;- value(condition(x == "A", "Label A"),
              condition(x == "B", "Label B"), 
              condition(TRUE, "Other"))
              
# Apply format to vector
fapply(v2, fmt3)
# [1] "Label A" "Label B" "Other"   "Label B"

## Example 4: Formatting function ##
# Set up vectorized function
fmt4 &lt;- Vectorize(function(x) {

  if (x %in% c("A", "B"))
    ret &lt;- paste("Label", x)
  else
    ret &lt;- "Other" 
    
  return(ret)
})

# Apply format to vector
fapply(v2, fmt4)
# [1] "Label A" "Label B" "Other"   "Label B"

## Example 5: Formatting List - Row Type ##
# Set up data
# Notice each row has a different data type
v3 &lt;- list(2841.258, "H", Sys.Date(),
           "L", Sys.Date() + 60, 1382.8865)
v4 &lt;- c("int", "char", "date", "char", "date", "int")

# Create formatting list
lst &lt;- flist(type = "row", lookup = v4,
       int = function(x) format(x, digits = 2, nsmall = 1, 
                                  big.mark=","),
       char = value(condition(x == "H", "High"),
                     condition(x == "L", "Low"),
                     condition(TRUE, "NA")),
       date = "%d%b%Y")

# Apply formatting list to vector
fapply(v3, lst)
# [1] "2,841.3"   "High"      "06Jan2024" "Low"       "06Mar2024" "1,382.9"  

## Example 6: Formatting List - Column Type ##
# Set up data
v5 &lt;- c(Sys.Date(), Sys.Date() + 30, Sys.Date() + 60)
v5
# [1] "2024-01-06" "2024-02-05" "2024-03-06"

# Create formatting list
lst &lt;- flist("%B", "This month is: %s", type = "column")

# Apply formatting list to vector
fapply(v5, lst)
# [1] "This month is: January"  "This month is: February" "This month is: March" 

# Example 7: Conditional Formatting
# Data vector
v6 &lt;- c(8.38371, 1.46938, 3.28783, NA, 0.98632)

# User-defined format
fmt5 &lt;- value(condition(is.na(x), "Missing"),
              condition(x &lt; 1, "Low"), 
              condition(x &gt; 5, "High"),
              condition(TRUE, "%.2f"))

# Apply format to data vector
fapply(v6, fmt5)
# [1] "High"    "1.47"    "3.29"    "Missing" "Low" 
</code></pre>

<hr>
<h2 id='fapply2'>Apply formatting to two vectors</h2><span id='topic+fapply2'></span>

<h3>Description</h3>

<p>The <code>fapply2</code> function applies formatting to two different vectors, and 
combines them into a single vector.  This function is useful in cases
where your data is in two different variables, and you would like them
displayed as a single column for reporting purposes. For example, if you
wish to create one column to display mean and standard deviation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fapply2(
  x1,
  x2,
  format1 = NULL,
  format2 = NULL,
  sep = " ",
  width = NULL,
  justify = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fapply2_+3A_x1">x1</code></td>
<td>
<p>A vector, factor, or list to apply the format1 to.</p>
</td></tr>
<tr><td><code id="fapply2_+3A_x2">x2</code></td>
<td>
<p>A second vector, factor, or list to which format2 will be applied.</p>
</td></tr>
<tr><td><code id="fapply2_+3A_format1">format1</code></td>
<td>
<p>A format to be applied to the first input.</p>
</td></tr>
<tr><td><code id="fapply2_+3A_format2">format2</code></td>
<td>
<p>A format to be applied to the second input.</p>
</td></tr>
<tr><td><code id="fapply2_+3A_sep">sep</code></td>
<td>
<p>A separator to use between the two formatted values.  Default
is a single blank space (&quot; &quot;).</p>
</td></tr>
<tr><td><code id="fapply2_+3A_width">width</code></td>
<td>
<p>The desired character width of the formatted vector.  Default
value is NULL, meaning the vector will be variable width.</p>
</td></tr>
<tr><td><code id="fapply2_+3A_justify">justify</code></td>
<td>
<p>Whether to justify the return vector.  Valid values are 
'left', 'right', 'center', 'centre', or 'none'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>fapply2</code> function works nearly the same as <code><a href="#topic+fapply">fapply</a></code>.
The difference is it has parameters for two vectors and formats instead of one.  
The output of the function
is a single vector. The function essentially calls <code><a href="#topic+fapply">fapply</a></code> 
on each vector and pastes them together afterwards.
</p>
<p>There is an additional <code>sep</code> parameter so you can
define a separator between the two formatted values. 
The <code>width</code> and <code>justify</code> parameters
will apply to the single vector result.  The function will also
pick up format attributes on the supplied vectors.  
</p>
<p>The <code>fapply2</code> function accepts any of the format types 
that <code><a href="#topic+fapply">fapply</a></code> accepts.
See <code><a href="#topic+fapply">fapply</a></code> for additional information on the types
of formats that can be applied.
</p>
<p>Parameters may also be passed as attributes on the vector.  See 
the <code><a href="#topic+fattr">fattr</a></code> function for additional information on setting
formatting attributes.
</p>


<h3>Value</h3>

<p>A vector of formatted values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fapply">fapply</a></code> to format a single input,
<code><a href="#topic+fcat">fcat</a></code> to create a format catalog,
<code><a href="#topic+value">value</a></code> to define a format, 
<code><a href="#topic+fattr">fattr</a></code> to easily set the formatting attributes of a vector, 
and <code><a href="#topic+flist">flist</a></code> to define a formatting list.  Also see 
<code><a href="#topic+fdata">fdata</a></code> to apply formats to an entire data frame, and 
<a href="#topic+FormattingStrings">FormattingStrings</a> for how to define a formatting string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create sample data
dt &lt;- c(2.1, 5, 6, 9, 2, 7, 3)

# Calculate mean and standard deviation
v1 &lt;- mean(dt)
v2 &lt;- sd(dt)

# Apply formats and combine
fapply2(v1, v2, "%.1f", "(%.2f)")
# [1] "4.9 (2.66)"
</code></pre>

<hr>
<h2 id='fattr'>Set formatting attributes</h2><span id='topic+fattr'></span>

<h3>Description</h3>

<p>Assign formatting attributes to a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fattr(
  x,
  format = NULL,
  width = NULL,
  justify = NULL,
  label = NULL,
  description = NULL,
  keep = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fattr_+3A_x">x</code></td>
<td>
<p>The vector or data frame column to assign attributes to.</p>
</td></tr>
<tr><td><code id="fattr_+3A_format">format</code></td>
<td>
<p>The format to assign to the format attribute.  The format 
can be a formatting string, a named vector decode, a vectorized
formatting function, or a formatting list.</p>
</td></tr>
<tr><td><code id="fattr_+3A_width">width</code></td>
<td>
<p>The desired width of the formatted output.</p>
</td></tr>
<tr><td><code id="fattr_+3A_justify">justify</code></td>
<td>
<p>Justification of the output vector. Valid values are 
'none', 'left', 'right', 'center', or 'centre'.</p>
</td></tr>
<tr><td><code id="fattr_+3A_label">label</code></td>
<td>
<p>A label string to assign to the vector.  This parameter 
was added for convenience, as the label is frequently assigned at the 
same time the formatting attributes are assigned.</p>
</td></tr>
<tr><td><code id="fattr_+3A_description">description</code></td>
<td>
<p>A description string to assign to the vector. This parameter 
was added for convenience, as the description is frequently assigned at the 
same time the formatting attributes are assigned.</p>
</td></tr>
<tr><td><code id="fattr_+3A_keep">keep</code></td>
<td>
<p>Whether to keep any existing formatting attributes and 
transfer to the new vector.  Default value is TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>fattr</code> function is a convenience function for assigning 
formatting attributes to a vector.  The function accepts parameters
for format, width, and justify.  Any formatting attributes assigned 
can be applied using <code><a href="#topic+fapply">fapply</a></code> or
<code><a href="#topic+fdata">fdata</a></code>.
</p>


<h3>Value</h3>

<p>The vector with formatting attributes assigned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fdata">fdata</a></code> to apply formats to a data frame, 
<code><a href="#topic+fapply">fapply</a></code> to apply formats to a vector.  See
<a href="#topic+FormattingStrings">FormattingStrings</a> for documentation on formatting strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create vector
a &lt;- c(1.3243, 5.9783, 2.3848)

# Assign format attributes
a &lt;- fattr(a, format = "%.1f", width = 10, justify = "center")

# Apply format attributes
fapply(a)
# [1] "   1.3    " "   6.0    " "   2.4    "
</code></pre>

<hr>
<h2 id='fattr+26lt+3B-'>Set formatting attributes</h2><span id='topic+fattr+3C-'></span>

<h3>Description</h3>

<p>Assign formatting attributes to a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fattr(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fattr+2B26lt+2B3B-_+3A_x">x</code></td>
<td>
<p>The vector or data frame column to assign attributes to.</p>
</td></tr>
<tr><td><code id="fattr+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>A named vector of attribute values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>fattr</code> function is a convenience function for assigning 
formatting attributes to a vector.  The function accepts a named list of
formatting attributes.  Valid names are 'format', 'width', 'justify',
'label' and 'description'.
See <code><a href="#topic+fattr">fattr</a></code> for additional details.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fdata">fdata</a></code> to apply formats to a data frame, 
<code><a href="#topic+fapply">fapply</a></code> to apply formats to a vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create vector
a &lt;- c(1.3243, 5.9783, 2.3848)

# Assign format attributes
fattr(a) &lt;- list(format = "%.1f")

# Apply format attributes
fapply(a)
# [1] "1.3" "6.0" "2.4"
</code></pre>

<hr>
<h2 id='fcat'>Create a format catalog</h2><span id='topic+fcat'></span>

<h3>Description</h3>

<p>A format catalog is a collection of formats.  A format
collection allows you to manage and store formats as a unit.  The 
<code>fcat</code> function defines the format catalog.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fcat(..., log = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fcat_+3A_...">...</code></td>
<td>
<p>A set of formats. Pass the formats as a name/value pair.  Multiple
name/value pairs are separated by a comma.</p>
</td></tr>
<tr><td><code id="fcat_+3A_log">log</code></td>
<td>
<p>Whether to log the creation of the format catalog.  Default is
TRUE. This parameter is used internally.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A format catalog is an S3 object of class &quot;fcat&quot;.  The purpose of 
the catalog is to combine related formats, and allow you to manipulate all
of them as a single object.  The format catalog can be saved to/from a file 
using the <code><a href="#topic+write.fcat">write.fcat</a></code> and <code><a href="#topic+read.fcat">read.fcat</a></code> functions. 
A format catalog can also 
be converted to/from a data frame using the <code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a></code>
and <code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a></code> functions.  Formats are accessed in the
catalog using list syntax. 
</p>
<p>A format catalog can be used to assign formats to a data frame
or tibble using the <code><a href="#topic+formats">formats</a></code> function. Formats may be applied
using the <code><a href="#topic+fdata">fdata</a></code> and <code><a href="#topic+fapply">fapply</a></code> functions.
</p>
<p>A format catalog may contain any type of format except a formatting list.
Allowed formats include a formatting string, a named vector lookup, a 
user-defined format, and a vectorized formatting function.  A formatting 
list can be converted to a format catalog and saved independently.  See the 
<code><a href="#topic+flist">flist</a></code> function for more information on formatting lists.
</p>


<h3>Value</h3>

<p>The format catalog object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+formats">formats</a></code> function for assigning formats to a data 
frame, and the <code><a href="#topic+fdata">fdata</a></code> and <code><a href="#topic+fapply">fapply</a></code> functions for
applying formats.
</p>
<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d%b%Y")

# Use formats in the catalog
fapply(2, c1$num_fmt)
# [1] "2.0"

fapply(c("A", "B", "C", "B"), c1$label_fmt)
# [1] "Label A" "Label B" "Other"   "Label B"

fapply(Sys.Date(), c1$date_fmt)
# [1] "06Jan2024"

</code></pre>

<hr>
<h2 id='fdata'>Format a data frame or tibble</h2><span id='topic+fdata'></span>

<h3>Description</h3>

<p>The <code>fdata</code> function applies formatting attributes
to the entire data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fdata(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fdata_+3A_x">x</code></td>
<td>
<p>A data frame or tibble to be formatted.</p>
</td></tr>
<tr><td><code id="fdata_+3A_...">...</code></td>
<td>
<p>Any follow-on parameters to the format function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If formats are assigned to the &quot;format&quot; attributes of the data frame
columns, the <code>fdata</code> function will apply those formats
to the specified columns, and return a new, formatted data frame. 
Formats can be specified as formatting strings, named vectors, user-defined
formats, or vectorized formatting functions.  The <code>fdata</code> 
function will
apply the format to the associated column data using the <code><a href="#topic+fapply">fapply</a></code> 
function. A format can also be specified as a formatting list of the 
previous four types.  See the <code><a href="#topic+fapply">fapply</a></code>
function for additional information.
</p>
<p>After formatting each column, the <code>fdata</code> function will 
call the base R <code><a href="base.html#topic+format">format</a></code> function on 
the data frame.  Any follow on parameters will be sent to the <code>format</code>
function.   
</p>
<p>The <code>fdata</code> function will also apply any <code>width</code> or <code>justify</code>
attributes assigned to the data frame columns.  These attributes can be 
controlled at the column level.  Using
attributes to assign formatting and <code>fdata</code> to apply those attributes
gives you a great deal of control over how
your data is presented.
</p>


<h3>Value</h3>

<p>A new, formatted data frame or tibble with the formats applied.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fcat">fcat</a></code> to create a format catalog, 
<code><a href="#topic+fapply">fapply</a></code> to apply a format to a vector,
<code><a href="#topic+value">value</a></code> to define a format object,
<code><a href="#topic+fattr">fattr</a></code> to assign formatting specifications to a single 
column/vector, and the
<code><a href="#topic+formats">formats</a></code>, <code><a href="#topic+widths">widths</a></code>, and <code><a href="#topic+justification">justification</a></code>
functions to get or set formatting for an entire data frame.  Also see
<a href="#topic+FormattingStrings">FormattingStrings</a> for documentation on formatting strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Construct data frame from state vectors
df &lt;- data.frame(state = state.abb, area = state.area)[1:10, ]

# Calculate percentages
df$pct &lt;- df$area / sum(state.area) * 100

# Before formatting 
df
#    state   area         pct
# 1     AL  51609  1.42629378
# 2     AK 589757 16.29883824
# 3     AZ 113909  3.14804973
# 4     AR  53104  1.46761040
# 5     CA 158693  4.38572418
# 6     CO 104247  2.88102556
# 7     CT   5009  0.13843139
# 8     DE   2057  0.05684835
# 9     FL  58560  1.61839532
# 10    GA  58876  1.62712846

# Create state name lookup list
name_lookup &lt;- state.name
names(name_lookup) &lt;- state.abb

# Assign formats
formats(df) &lt;- list(state = name_lookup,                         
                    area  = function(x) format(x, big.mark = ","), 
                    pct   = "%.1f%%") 

# Apply formats
fdata(df)
#          state    area   pct
# 1      Alabama  51,609  1.4%
# 2       Alaska 589,757 16.3%
# 3      Arizona 113,909  3.1%
# 4     Arkansas  53,104  1.5%
# 5   California 158,693  4.4%
# 6     Colorado 104,247  2.9%
# 7  Connecticut   5,009  0.1%
# 8     Delaware   2,057  0.1%
# 9      Florida  58,560  1.6%
# 10     Georgia  58,876  1.6%
</code></pre>

<hr>
<h2 id='flist'>Create a formatting list</h2><span id='topic+flist'></span>

<h3>Description</h3>

<p>A formatting list contains more than one formatting object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flist(..., type = "column", lookup = NULL, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flist_+3A_...">...</code></td>
<td>
<p>A set of formatting objects.</p>
</td></tr>
<tr><td><code id="flist_+3A_type">type</code></td>
<td>
<p>The type of formatting list.  Valid values are 'row' or 'column'.
The default value is 'column'.</p>
</td></tr>
<tr><td><code id="flist_+3A_lookup">lookup</code></td>
<td>
<p>A lookup vector.  Used for looking up the format from 
the formatting list.  This parameter is only used for 'row' type 
formatting lists.</p>
</td></tr>
<tr><td><code id="flist_+3A_simplify">simplify</code></td>
<td>
<p>Whether to simplify the results to a vector.  Valid values 
are TRUE or FALSE.  Default is TRUE.  If the value is set to FALSE, the 
return type will be a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To apply more than one formatting object to a vector, use a formatting
list.  There are two types of formatting list: column and row.  The column
type formatting lists applies all formats to all values in the
vector.  The row type formatting list can apply a different format to 
each value in the vector.  
</p>
<p>Further, there are two styles of row type list: ordered and lookup.  The
ordered style applies each format in the list to the vector values
in the order specified.  The
ordered style will recycle the formats as needed.  The lookup style 
formatting list uses a lookup to determine which format from the list to
apply to a particular value of the vector.  The lookup column values should
correspond to names on the formatting list.  
</p>
<p>Examples of column type and row type formatting lists are given below.
</p>


<h3>Value</h3>

<p>A vector or list of formatted values.  The type of return value 
can be controlled with the <code>simplify</code> parameter.  The default return
type is a vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fapply">fapply</a></code> for information on how formats are applied
to a vector, <code><a href="#topic+value">value</a></code> for how to create a user-defined format,
and <code><a href="#topic+as.flist">as.flist</a></code> to convert an existing list of formats 
to a formatting
list. Also see <a href="#topic+FormattingStrings">FormattingStrings</a> for details on how to use
formatting strings.
</p>
<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1: Formatting List - Column Type ##
# Set up data
v1 &lt;- c(Sys.Date(), Sys.Date() + 30, Sys.Date() + 60)

# Create formatting list
fl1 &lt;- flist("%B", "The month is: %s")

# Apply formatting list to vector
fapply(v1, fl1)
# [1] "The month is: October"  "The month is: November" "The month is: December"

## Example 2: Formatting List - Row Type ordered ##
# Set up data
# Notice each row has a different data type
l1 &lt;- list("A", 1.263, as.Date("2020-07-21"), 
          "B", 5.8732, as.Date("2020-10-17"))
          
# These formats will be recycled in the order specified           
fl2 &lt;- flist(type = "row",
             c(A = "Label A", B = "Label B"),
             "%.1f",
             "%d%b%Y")

fapply(l1, fl2)
# [1] "Label A"   "1.3"       "21Jul2020" "Label B"   "5.9"       "17Oct2020"


## Example 3: Formatting List - Row Type with lookup ##
# Set up data
# Notice each row has a different data type
l2 &lt;- list(2841.258, "H", as.Date("2020-06-19"),
           "L", as.Date("2020-04-24"), 1382.8865)
v3 &lt;- c("num", "char", "date", "char", "date", "num")

# Create formatting list
fl3 &lt;- flist(type = "row", lookup = v3,
             num = function(x) format(x, digits = 2, nsmall = 1, 
                                  big.mark=","),
             char = value(condition(x == "H", "High"),
                     condition(x == "L", "Low"),
                     condition(TRUE, "NA")),
             date = "%d%b%Y")

# Apply formatting list to vector, using lookup
fapply(l2, fl3)
# [1] "2,841.3"   "High"      "19Jun2020" "Low"       "24Apr2020" "1,382.9"
</code></pre>

<hr>
<h2 id='fmt_cnt_pct'>Formatted count and percent</h2><span id='topic+fmt_cnt_pct'></span>

<h3>Description</h3>

<p>A function to calculate and format a count and percent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_cnt_pct(x, denom = NULL, format = "%5.1f", na = NULL, zero = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_cnt_pct_+3A_x">x</code></td>
<td>
<p>The input data vector or data frame column.</p>
</td></tr>
<tr><td><code id="fmt_cnt_pct_+3A_denom">denom</code></td>
<td>
<p>The denominator to use for the percentage. By default, the 
parameter is NULL, meaning the function will use the number of 
non-missing values of the data vector as the denominator.  
Otherwise, supply the denominator as a numeric value.</p>
</td></tr>
<tr><td><code id="fmt_cnt_pct_+3A_format">format</code></td>
<td>
<p>A formatting string suitable for input into the 
<code><a href="base.html#topic+sprintf">sprintf</a></code> function.  By default, this format is
defined as &quot;%5.1f&quot;, which displays the value with one decimal place.</p>
</td></tr>
<tr><td><code id="fmt_cnt_pct_+3A_na">na</code></td>
<td>
<p>The value to return for any NA value encountered in the input
vector.  Usually this parameter is passed as a string, such as 
&quot;-&quot;, yet any value can be supplied.</p>
</td></tr>
<tr><td><code id="fmt_cnt_pct_+3A_zero">zero</code></td>
<td>
<p>The value to return for any zero values encountered
in the input vector.  Usually this value is supplied as string
such as &quot;0 (-)&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates a percent and appends to the provided count.  The 
input vector is assumed to contain the counts. This function will not perform 
counting.  It will calculate percentages and append to the given counts.
</p>
<p>The result is then formatted using <code><a href="base.html#topic+sprintf">sprintf</a></code>. By default,
the number of non-missing values in the input data vector is used as the 
denominator.
Alternatively, you may supply the denominator using the <strong>denom</strong>
parameter.
You may also control the percent format using the <strong>format</strong> parameter.  
The function will return any NA values in the input data unaltered. 
</p>
<p>If the calculated percentage is between 0% and 1%, the function will 
display &quot;(&lt; 1.0%)&quot; as the percentage value.  Zero values will be displayed
as &quot;(  0.0%)&quot;
</p>


<h3>Value</h3>

<p>A character vector of formatted counts and percents.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+fmt_mean_sd">fmt_mean_sd</a>()</code>,
<code><a href="#topic+fmt_median">fmt_median</a>()</code>,
<code><a href="#topic+fmt_n">fmt_n</a>()</code>,
<code><a href="#topic+fmt_quantile_range">fmt_quantile_range</a>()</code>,
<code><a href="#topic+fmt_range">fmt_range</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>v1 &lt;- c(4, 3, 8, 6, 9, 5, NA, 0, 7, 4, 3, 7)

# Format count and percent
fmt_cnt_pct(v1)

# Output
# [1] "4 ( 36.4%)" "3 ( 27.3%)" "8 ( 72.7%)" "6 ( 54.5%)"
# [5] "9 ( 81.8%)" "5 ( 45.5%)" NA           "0 (  0.0%)"
# [9] "7 ( 63.6%)" "4 ( 36.4%)" "3 ( 27.3%)" "7 ( 63.6%)"

# Custom values for NA and zero
fmt_cnt_pct(v1, na = "N/A", zero = "0 (-)")

# Custom NA and zero output
# [1] "4 ( 36.4%)" "3 ( 27.3%)" "8 ( 72.7%)" "6 ( 54.5%)"
# [5] "9 ( 81.8%)" "5 ( 45.5%)" "N/A"        "0 (-)"
# [9] "7 ( 63.6%)" "4 ( 36.4%)" "3 ( 27.3%)" "7 ( 63.6%)"
</code></pre>

<hr>
<h2 id='fmt_mean_sd'>Formatted mean and standard deviation</h2><span id='topic+fmt_mean_sd'></span>

<h3>Description</h3>

<p>A function to calculate and format a mean and standard deviation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_mean_sd(x, format = "%.1f", sd_format = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_mean_sd_+3A_x">x</code></td>
<td>
<p>The input data vector or data frame column.</p>
</td></tr>
<tr><td><code id="fmt_mean_sd_+3A_format">format</code></td>
<td>
<p>A formatting string suitable for input into the 
<code><a href="base.html#topic+sprintf">sprintf</a></code> function.  By default, this format is
defined as &quot;%.1f&quot;, which displays the mean and standard deviation with 
one decimal place.</p>
</td></tr>
<tr><td><code id="fmt_mean_sd_+3A_sd_format">sd_format</code></td>
<td>
<p>An optional format for the standard deviation.  If this 
parameter is not supplied, the standard deviation will be formatted
the same as the mean, according to the 'format' parameter.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates a mean and standard deviation, and formats using
<code><a href="base.html#topic+sprintf">sprintf</a></code>. 
You may control the format using the <strong>format</strong> parameter.  
Function will ignore NA values in the input data. Results are 
returned as a character vector.
</p>


<h3>Value</h3>

<p>The formatted mean and standard deviation.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+fmt_cnt_pct">fmt_cnt_pct</a>()</code>,
<code><a href="#topic+fmt_median">fmt_median</a>()</code>,
<code><a href="#topic+fmt_n">fmt_n</a>()</code>,
<code><a href="#topic+fmt_quantile_range">fmt_quantile_range</a>()</code>,
<code><a href="#topic+fmt_range">fmt_range</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>v1 &lt;- c(4.3, 3.7, 8.7, 6.1, 9.2, 5.6, NA, 0.7, 7.8, 4.9)

# Format mean and standard deviation
fmt_mean_sd(v1)
# "5.7 (2.7)"
</code></pre>

<hr>
<h2 id='fmt_median'>Formatted Median</h2><span id='topic+fmt_median'></span>

<h3>Description</h3>

<p>A function to calculate and format a median.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_median(x, format = "%.1f")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_median_+3A_x">x</code></td>
<td>
<p>The input data vector or data frame column.</p>
</td></tr>
<tr><td><code id="fmt_median_+3A_format">format</code></td>
<td>
<p>A formatting string suitable for input into the 
<code><a href="base.html#topic+sprintf">sprintf</a></code> function.  By default, this format is
defined as &quot;%.1f&quot;, which displays the value with one decimal place.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates a median using the stats package
<code><a href="stats.html#topic+median">median</a></code>
function, and then formats the output using <code><a href="base.html#topic+sprintf">sprintf</a></code>.
You may control the format using the <strong>format</strong> parameter.  Function will 
ignore any NA values in the input data. Results are returned as a 
character vector.
</p>


<h3>Value</h3>

<p>The formatted median value.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+fmt_cnt_pct">fmt_cnt_pct</a>()</code>,
<code><a href="#topic+fmt_mean_sd">fmt_mean_sd</a>()</code>,
<code><a href="#topic+fmt_n">fmt_n</a>()</code>,
<code><a href="#topic+fmt_quantile_range">fmt_quantile_range</a>()</code>,
<code><a href="#topic+fmt_range">fmt_range</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>v1 &lt;- c(4.3, 3.7, 8.7, 6.1, 9.2, 5.6, NA, 0.7, 7.8, 4.9)

# Format median
fmt_median(v1)
# "5.6"
</code></pre>

<hr>
<h2 id='fmt_n'>Formatted Count</h2><span id='topic+fmt_n'></span>

<h3>Description</h3>

<p>A function to calculate and format a numeric count.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_n(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_n_+3A_x">x</code></td>
<td>
<p>The input data vector or data frame column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates a count using the Base R <code><a href="base.html#topic+sum">sum</a></code>
function. NA values are not counted. Results are returned as a 
character vector.
</p>


<h3>Value</h3>

<p>The formatted count value.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+fmt_cnt_pct">fmt_cnt_pct</a>()</code>,
<code><a href="#topic+fmt_mean_sd">fmt_mean_sd</a>()</code>,
<code><a href="#topic+fmt_median">fmt_median</a>()</code>,
<code><a href="#topic+fmt_quantile_range">fmt_quantile_range</a>()</code>,
<code><a href="#topic+fmt_range">fmt_range</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create example vector
v1 &lt;- c(4.3, 3.7, 8.7, 6.1, 9.2, 5.6, NA, 0.7, 7.8, 4.9)

# Format n
fmt_n(v1)
# "9"
</code></pre>

<hr>
<h2 id='fmt_quantile_range'>Formatted Quantile Range</h2><span id='topic+fmt_quantile_range'></span>

<h3>Description</h3>

<p>A function to calculate and format a quantile range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_quantile_range(
  x,
  format = "%.1f",
  sep = "-",
  lower = 0.25,
  upper = 0.75,
  type = 7
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_quantile_range_+3A_x">x</code></td>
<td>
<p>The input data vector or data frame column.</p>
</td></tr>
<tr><td><code id="fmt_quantile_range_+3A_format">format</code></td>
<td>
<p>A formatting string suitable for input into the 
<code><a href="base.html#topic+sprintf">sprintf</a></code> function.  By default, this format is
defined as &quot;%.1f&quot;, which displays the value with one decimal place.</p>
</td></tr>
<tr><td><code id="fmt_quantile_range_+3A_sep">sep</code></td>
<td>
<p>The character to use as a separator between the two quantiles.</p>
</td></tr>
<tr><td><code id="fmt_quantile_range_+3A_lower">lower</code></td>
<td>
<p>The lower quantile range.  Default is .25.</p>
</td></tr>
<tr><td><code id="fmt_quantile_range_+3A_upper">upper</code></td>
<td>
<p>The upper quantile range.  Default is .75.</p>
</td></tr>
<tr><td><code id="fmt_quantile_range_+3A_type">type</code></td>
<td>
<p>An integer between 1 and 9 selecting one of the nine quantile
algorithms.  The default is 7, which is the standard R default.
If you are trying to match SAS results, use type 2.
See the <code><a href="stats.html#topic+quantile">quantile</a></code> function documentation for further details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates a quantile range using the stats package
<code><a href="stats.html#topic+quantile">quantile</a></code>
function, and then formats the output using <code><a href="base.html#topic+sprintf">sprintf</a></code>.
You may control the format using the <strong>format</strong> parameter.  Function will 
ignore any NA values in the input data. Results are returned as a 
character vector. 
</p>
<p>By default, the function calculates the 1st and 3rd quantiles at .25 and .75.
The upper and lower quantile ranges may be changed with the <code>upper</code>
and <code>lower</code> parameters.
</p>


<h3>Value</h3>

<p>The formatted quantile range.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+fmt_cnt_pct">fmt_cnt_pct</a>()</code>,
<code><a href="#topic+fmt_mean_sd">fmt_mean_sd</a>()</code>,
<code><a href="#topic+fmt_median">fmt_median</a>()</code>,
<code><a href="#topic+fmt_n">fmt_n</a>()</code>,
<code><a href="#topic+fmt_range">fmt_range</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create example vector
v1 &lt;- c(4.3, 3.7, 8.7, 6.1, 9.2, 5.6, NA, 0.7, 7.8, 4.9)

# Format Quantiles
fmt_quantile_range(v1)
# "4.3 - 7.8"
</code></pre>

<hr>
<h2 id='fmt_range'>Formatted Range</h2><span id='topic+fmt_range'></span>

<h3>Description</h3>

<p>A function to calculate and format a numeric range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_range(x, format = "%s", sep = "-")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_range_+3A_x">x</code></td>
<td>
<p>The input data vector or data frame column.</p>
</td></tr>
<tr><td><code id="fmt_range_+3A_format">format</code></td>
<td>
<p>A formatting string suitable for input into the 
<code><a href="base.html#topic+sprintf">sprintf</a></code> function.  By default, this format is
defined as &quot;%s&quot;, which simply converts the value to a string with no
specific formatting.</p>
</td></tr>
<tr><td><code id="fmt_range_+3A_sep">sep</code></td>
<td>
<p>The token used to separate the minimum and maximum range
values.  Default value is a hyphen (&quot;-&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates a range using the Base R <code><a href="base.html#topic+range">range</a></code>
function, and then formats the output using <code><a href="base.html#topic+sprintf">sprintf</a></code>.
You may control the format using the <strong>format</strong> parameter.  Any NA values
in the input data are ignored. Results are returned as a character vector.
</p>


<h3>Value</h3>

<p>The formatted range values.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+fmt_cnt_pct">fmt_cnt_pct</a>()</code>,
<code><a href="#topic+fmt_mean_sd">fmt_mean_sd</a>()</code>,
<code><a href="#topic+fmt_median">fmt_median</a>()</code>,
<code><a href="#topic+fmt_n">fmt_n</a>()</code>,
<code><a href="#topic+fmt_quantile_range">fmt_quantile_range</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create example vector
v1 &lt;- c(4.3, 3.7, 8.7, 6.1, 9.2, 5.6, NA, 0.7, 7.8, 4.9)

# Format range
fmt_range(v1)
# "0.7 - 9.2"
</code></pre>

<hr>
<h2 id='formats'>Get or set formats for a data frame</h2><span id='topic+formats'></span><span id='topic+formats+3C-'></span>

<h3>Description</h3>

<p>The <code>formats</code> function extracts all assigned formats from a 
data frame, and returns them in a named list. The function also
assigns formats from a named list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formats(x)

formats(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formats_+3A_x">x</code></td>
<td>
<p>A data frame or tibble</p>
</td></tr>
<tr><td><code id="formats_+3A_value">value</code></td>
<td>
<p>A named list of formats</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If formats are assigned to the &quot;format&quot; attributes of the data frame
columns, the <code>formats</code> function will extract those formats.  The 
function will return the formats in a named list, where the names
correspond to the name of the column that the format was assigned to.
If a column does not have a format attribute assigned, that column
will not be included in the list. 
</p>
<p>When used on the receiving side of an assignment, the function will assign
formats to a data frame.  The formats should be in a named list, where
each name corresponds to the data frame column to assign the format to. 
</p>
<p>The <code>formats</code> function can also accept a format catalog as input.
This feature allows you to save formats in metadata, load them into a
format catalog, and quickly assign them to a data frame or tibble.  See
the <code><a href="#topic+fcat">fcat</a></code> function for additional information.
</p>
<p>Finally, if you wish to clear out format attributes, assign a NULL
value to the <code>formats</code> function.
</p>


<h3>Value</h3>

<p>A named list of formats.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fdata">fdata</a></code> to display formatted data, 
<code><a href="#topic+value">value</a></code> to create user-defined formats,  
<code><a href="#topic+fapply">fapply</a></code> to apply formats to a vector, and 
<code><a href="#topic+fcat">fcat</a></code> to create a format catalog. Also see
<a href="#topic+FormattingStrings">FormattingStrings</a> for documentation on formatting strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Take subset of data
df1 &lt;- mtcars[1:5, c("mpg", "cyl") ]

# Print current state
print(df1)
#                    mpg cyl
# Mazda RX4         21.0   6
# Mazda RX4 Wag     21.0   6
# Datsun 710        22.8   4
# Hornet 4 Drive    21.4   6
# Hornet Sportabout 18.7   8

# Assign formats
attr(df1$mpg, "format") &lt;- value(condition(x &gt;= 20, "High"),
                                 condition(x &lt; 20, "Low"))
attr(df1$cyl, "format") &lt;- function(x) format(x, nsmall = 1)

# Display formatted data
fdata(df1)
#                    mpg cyl
# Mazda RX4         High 6.0
# Mazda RX4 Wag     High 6.0
# Datsun 710        High 4.0
# Hornet 4 Drive    High 6.0
# Hornet Sportabout  Low 8.0

# Extract format list
lst &lt;- formats(df1)

# Alter format list and reassign
lst$mpg &lt;- value(condition(x &gt;= 22, "High"),
                 condition(x &lt; 22, "Low"))
lst$cyl &lt;- function(x) format(x, nsmall = 2)
formats(df1) &lt;-  lst

# Display formatted data
fdata(df1)
#                    mpg  cyl
# Mazda RX4          Low 6.00
# Mazda RX4 Wag      Low 6.00
# Datsun 710        High 4.00
# Hornet 4 Drive     Low 6.00
# Hornet Sportabout  Low 8.00

# Clear formats
formats(df1) &lt;- NULL

# Confirm formats are cleared 
formats(df1)
# list()
</code></pre>

<hr>
<h2 id='FormattingStrings'>Formatting Strings</h2><span id='topic+FormattingStrings'></span>

<h3>Description</h3>

<p>Formatting codes for formatting strings follow the conventions 
of the base R <code><a href="base.html#topic+strptime">strptime</a></code> and <code><a href="base.html#topic+sprintf">sprintf</a></code>
functions. See below for further details.
</p>


<h3>Details</h3>

<p>The <strong>fmtr</strong> packages accepts single strings as formatting 
specifications.  These formatting strings are interpreted differently 
depending on the data type of the vector being formatted.  For 
date and datetime vectors, the string will be interpreted as an input 
to the base R <code>strptime</code> function.  For all other types of vectors, 
the formatting string will be interpreted as an input to the <code>sprintf</code>
function.  
</p>
<p>The formatting codes for these functions are simple to use. For example, 
the code <code>fapply(as.Date("1970-01-01"), "%B %d, %Y")</code> will produce
the output <code>"January 01, 1970"</code>.  The code 
<code>fapply(1.2345, "%.1f")</code> will produce the output <code>"1.2"</code>.
</p>
<p>Below are some commonly used formatting codes for dates:
</p>

<ul>
<li><p> %d = day as a number 
</p>
</li>
<li><p> %a = abbreviated weekday
</p>
</li>
<li><p> %A = unabbreviated weekday	
</p>
</li>
<li><p> %m = month 
</p>
</li>
<li><p> %b = abbreviated month
</p>
</li>
<li><p> %B = unabbreviated month
</p>
</li>
<li><p> %y = 2-digit year
</p>
</li>
<li><p> %Y = 4-digit year	
</p>
</li>
<li><p> %H = hour (24 hour clock)
</p>
</li>
<li><p> %I = hour (12 hour clock)
</p>
</li>
<li><p> %M = minute
</p>
</li>
<li><p> %S = second
</p>
</li>
<li><p> %p = AM/PM indicator
</p>
</li></ul>

<p>See the <code><a href="base.html#topic+strptime">strptime</a></code> function for additional codes and 
examples of formatting dates and times.
</p>
<p>Below are some commonly used formatting codes for other data types:
</p>

<ul>
<li><p> %s = string
</p>
</li>
<li><p> %d = integer
</p>
</li>
<li><p> %f = floating point number
</p>
</li></ul>

<p>See the <code><a href="base.html#topic+sprintf">sprintf</a></code> function for additional codes and 
examples of formatting other data types.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fapply">fapply</a></code> for formatting vectors, and 
<code><a href="#topic+fdata">fdata</a></code> for formatting data frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Examples for formatting dates and times 
t &lt;- Sys.time()
fapply(t, "%d/%m/%Y")              # Day/Month/Year
fapply(t, "%d%b%Y")                # Day abbreviated month year
fapply(t, "%y-%m")                 # Two digit year - month
fapply(t, "%A, %B %d")             # Weekday, unabbreviated month and date
fapply(t, "%Y-%m%-%d %H:%M:%S %p") # Common timestamp format

# Examples for formatting numbers
a &lt;- 1234.56789
fapply(a, "%f")                    # Floating point number
fapply(a, "%.1f")                  # One decimal place
fapply(a, "%8.1f")                 # Fixed width
fapply(a, "%-8.1f")                # Fixed width left justified
fapply(a, "%08.1f")                # Zero padded
fapply(a, "%+.1f")                 # Forced sign
fapply(-a, "%+.1f")                # Negative 
fapply(a, "%.1f%%")                # Percentage
fapply(a, "$%.2f")                 # Currency
fapply(a, "The number is %f.")     # Interpolation
</code></pre>

<hr>
<h2 id='is.fcat'>Class test for a format catalog</h2><span id='topic+is.fcat'></span>

<h3>Description</h3>

<p>This function tests whether an object is a format catalog.  The
format catalog has a class of &quot;fcat&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.fcat(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.fcat_+3A_x">x</code></td>
<td>
<p>The object to test.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE, depending on whether or not the object is a 
format catalog.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d%b%Y")
           
# Test for "fcat" class
is.fcat(c1)  
# [1] TRUE

is.fcat(Sys.Date())   
# [1] FALSE       
</code></pre>

<hr>
<h2 id='is.flist'>Is object a formatting list</h2><span id='topic+is.flist'></span>

<h3>Description</h3>

<p>Determines if object is a formatting list of class 'fmt_lst'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.flist(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.flist_+3A_x">x</code></td>
<td>
<p>Object to test.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE, depending on class of object.
</p>


<h3>See Also</h3>

<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+print.fmt_lst">print.fmt_lst</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create flist
flst &lt;- flist("%d%b%Y", "%.1f")
is.flist(flst)
is.flist("A")
</code></pre>

<hr>
<h2 id='is.format'>Determine whether an object is a user-defined format</h2><span id='topic+is.format'></span>

<h3>Description</h3>

<p>The <code>is.format</code> function can be used to determine if an object is a 
user-defined format of class &quot;fmt&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.format(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.format_+3A_x">x</code></td>
<td>
<p>A user-defined format of class &quot;fmt&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>is.format</code> function returns TRUE if the object passed is a 
user-defined format.  User-defined formats are defined using the <code>value</code>
function. See the <code><a href="#topic+value">value</a></code>
function help for further details.
</p>


<h3>Value</h3>

<p>A logical value or TRUE or FALSE.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+value">value</a></code> to define a format,
<code><a href="#topic+condition">condition</a></code> to define the conditions for a format, and 
<code><a href="#topic+fapply">fapply</a></code> to apply the format to a vector.
</p>
<p>Other fmt: 
<code><a href="#topic+as.data.frame.fmt">as.data.frame.fmt</a>()</code>,
<code><a href="#topic+as.fmt.data.frame">as.fmt.data.frame</a>()</code>,
<code><a href="#topic+as.fmt">as.fmt</a>()</code>,
<code><a href="#topic+condition">condition</a>()</code>,
<code><a href="#topic+labels.fmt">labels.fmt</a>()</code>,
<code><a href="#topic+print.fmt">print.fmt</a>()</code>,
<code><a href="#topic+value">value</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Define format
fmt1 &lt;- value(condition(x == "A", "Label A"),
              condition(x == "B", "Label B"), 
              condition(TRUE, "Other"))
              
# Check for format
is.format(fmt1)
# [1] TRUE

is.format("A")
# [1] FALSE
</code></pre>

<hr>
<h2 id='justification'>Get or set justification for data frame columns</h2><span id='topic+justification'></span><span id='topic+justification+3C-'></span>

<h3>Description</h3>

<p>The <code>justification</code> function extracts all assigned justify
attributes from a 
data frame, and returns them in a named list. The function also
assigns justify attributes from a named list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>justification(x)

justification(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="justification_+3A_x">x</code></td>
<td>
<p>A data frame or tibble</p>
</td></tr>
<tr><td><code id="justification_+3A_value">value</code></td>
<td>
<p>A named list of justification values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If justification values are assigned to the &quot;justify&quot; 
attributes of the data frame
columns, the <code>justification</code> function will extract those values.  The 
function will return the justification values in a named list, 
where the names
correspond to the name of the column that the justification was assigned to.
If a column does not have a justify attribute assigned, that column
will not be included in the list. 
</p>
<p>When used on the receiving side of an assignment, the function will assign
justification to a data frame.  The justification values 
should be in a named list, where
each name corresponds to the name of the data frame column to assign
values to.
</p>
<p>Finally, if you wish to clear out the justification attributes, assign
a NULL value to the <code>justification</code> function.
</p>


<h3>Value</h3>

<p>A named list of justification values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fdata">fdata</a></code> to display formatted data, 
<code><a href="#topic+value">value</a></code> to create user-defined formats, and 
<code><a href="#topic+fapply">fapply</a></code> to apply formatting to a vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Take subset of data
df1 &lt;- mtcars[1:5, c("mpg", "cyl") ]

# Print current state
print(df1)
#                    mpg cyl
# Mazda RX4         21.0   6
# Mazda RX4 Wag     21.0   6
# Datsun 710        22.8   4
# Hornet 4 Drive    21.4   6
# Hornet Sportabout 18.7   8

# Assign justification
justification(df1) &lt;- list(mpg = "left", cyl = "right")
widths(df1) &lt;- list(mpg = 12, cyl = 10)

fdata(df1)
#                            mpg        cyl
# Mazda RX4         21                    6
# Mazda RX4 Wag     21                    6
# Datsun 710        22.8                  4
# Hornet 4 Drive    21.4                  6
# Hornet Sportabout 18.7                  8

# Display justification
justification(df1)
# $mpg
# [1] "left"
# 
# $cyl
# [1] "right"

# Display widths
widths(df1)
# $mpg
# [1] 12
# 
# $cyl
# [1] 10

# Clear justification
justification(df1) &lt;- NULL

# Confirm justifications are cleared
justification(df1)
# list()
</code></pre>

<hr>
<h2 id='labels.fmt'>Extract labels from a user-defined format</h2><span id='topic+labels.fmt'></span>

<h3>Description</h3>

<p>The <code>labels</code> function creates a vector of labels associated with 
a user-defined format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fmt'
labels(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labels.fmt_+3A_object">object</code></td>
<td>
<p>A user-defined format of class &quot;fmt&quot;.</p>
</td></tr>
<tr><td><code id="labels.fmt_+3A_...">...</code></td>
<td>
<p>Following arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>condition</code> function creates a condition as part of a format 
definition.  Each condition has a label as part of its definition.
The <code>labels</code> function extracts the labels from the conditions and
returns them as a vector.  While the labels will typically be of type
character, they can be of any data type. See the <code><a href="#topic+condition">condition</a></code>
function help for further details.
</p>


<h3>Value</h3>

<p>A vector of label values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+value">value</a></code> to define a format,
<code><a href="#topic+condition">condition</a></code> to define the conditions for a format, and 
<code><a href="#topic+fapply">fapply</a></code> to apply the format to a vector.
</p>
<p>Other fmt: 
<code><a href="#topic+as.data.frame.fmt">as.data.frame.fmt</a>()</code>,
<code><a href="#topic+as.fmt.data.frame">as.fmt.data.frame</a>()</code>,
<code><a href="#topic+as.fmt">as.fmt</a>()</code>,
<code><a href="#topic+condition">condition</a>()</code>,
<code><a href="#topic+is.format">is.format</a>()</code>,
<code><a href="#topic+print.fmt">print.fmt</a>()</code>,
<code><a href="#topic+value">value</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Define format
fmt1 &lt;- value(condition(x == "A", "Label A"),
              condition(x == "B", "Label B"), 
              condition(TRUE, "Other"))
              
# Extract labels
labels(fmt1)
# [1] "Label A" "Label B" "Other" 
</code></pre>

<hr>
<h2 id='print.fcat'>Print a format catalog</h2><span id='topic+print.fcat'></span>

<h3>Description</h3>

<p>A class-specific instance of the <code>print</code> function for 
format catalogs.  The function prints the format catalog in a tabular manner.  
Use <code>verbose = TRUE</code> to print the catalog as a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fcat'
print(x, ..., verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.fcat_+3A_x">x</code></td>
<td>
<p>The format catalog to print.</p>
</td></tr>
<tr><td><code id="print.fcat_+3A_...">...</code></td>
<td>
<p>Any follow-on parameters.</p>
</td></tr>
<tr><td><code id="print.fcat_+3A_verbose">verbose</code></td>
<td>
<p>Whether or not to print the format catalog in verbose style.
By default, the parameter is FALSE, meaning to print in tabular style.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object, invisibly.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#' # Create format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d%b%Y")
           
# Print the catalog
print(c1)
# # A format catalog: 3 formats
# - $num_fmt: type S, "%.1f"
# - $label_fmt: type U, 3 conditions
# - $date_fmt: type S, "%d%b%Y"
</code></pre>

<hr>
<h2 id='print.fmt'>Print a format</h2><span id='topic+print.fmt'></span>

<h3>Description</h3>

<p>Prints a format object.  This function is
a class-specific implementation of the the generic <code>print</code> method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fmt'
print(
  x,
  ...,
  name = deparse(substitute(x, env = environment())),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.fmt_+3A_x">x</code></td>
<td>
<p>An object of class &quot;fmt&quot;.</p>
</td></tr>
<tr><td><code id="print.fmt_+3A_...">...</code></td>
<td>
<p>Any follow-on parameters to the print function.</p>
</td></tr>
<tr><td><code id="print.fmt_+3A_name">name</code></td>
<td>
<p>The name of the format to print. By default, the variable
name that holds the format will be used.</p>
</td></tr>
<tr><td><code id="print.fmt_+3A_verbose">verbose</code></td>
<td>
<p>Turn on or off verbose printing mode.  Verbose mode will
print object as a list.  Otherwise, the object will be printed as a table.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other fmt: 
<code><a href="#topic+as.data.frame.fmt">as.data.frame.fmt</a>()</code>,
<code><a href="#topic+as.fmt.data.frame">as.fmt.data.frame</a>()</code>,
<code><a href="#topic+as.fmt">as.fmt</a>()</code>,
<code><a href="#topic+condition">condition</a>()</code>,
<code><a href="#topic+is.format">is.format</a>()</code>,
<code><a href="#topic+labels.fmt">labels.fmt</a>()</code>,
<code><a href="#topic+value">value</a>()</code>
</p>

<hr>
<h2 id='print.fmt_lst'>Print a formatting list</h2><span id='topic+print.fmt_lst'></span>

<h3>Description</h3>

<p>Print a formatting list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fmt_lst'
print(x, ..., verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.fmt_lst_+3A_x">x</code></td>
<td>
<p>The formatting list to print</p>
</td></tr>
<tr><td><code id="print.fmt_lst_+3A_...">...</code></td>
<td>
<p>Follow-on parameters to the print function</p>
</td></tr>
<tr><td><code id="print.fmt_lst_+3A_verbose">verbose</code></td>
<td>
<p>Whether to print in summary or list-style.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other flist: 
<code><a href="#topic+as.data.frame.fmt_lst">as.data.frame.fmt_lst</a>()</code>,
<code><a href="#topic+as.flist.data.frame">as.flist.data.frame</a>()</code>,
<code><a href="#topic+as.flist.fcat">as.flist.fcat</a>()</code>,
<code><a href="#topic+as.flist.list">as.flist.list</a>()</code>,
<code><a href="#topic+as.flist.tbl_df">as.flist.tbl_df</a>()</code>,
<code><a href="#topic+as.flist">as.flist</a>()</code>,
<code><a href="#topic+flist">flist</a>()</code>,
<code><a href="#topic+is.flist">is.flist</a>()</code>
</p>

<hr>
<h2 id='read.fcat'>Read a format catalog from the file system</h2><span id='topic+read.fcat'></span>

<h3>Description</h3>

<p>The <code>read.fcat</code> function reads a format catalog
from the file system.  The function accepts a path to the format catalog,
reads the catalog, and returns it.
</p>
<p>Note that the format catalog is saved as an RDS file.  The &quot;.fcat&quot; file 
extension only serves to distinguish the format catalog from other RDS
files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.fcat(file_path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.fcat_+3A_file_path">file_path</code></td>
<td>
<p>The path to the format catalog.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The format catalog as an R object.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+write.fcat">write.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d%b%Y")
           
# Get temp directory
tmp &lt;- tempdir()            
           
# Save catalog to file system
pth &lt;- write.fcat(c1, dir_path = tmp)

# Read from file system
c2 &lt;- read.fcat(pth)

# Use formats in the catalog
fapply(2, c1$num_fmt)
# [1] "2.0"

fapply(c("A", "B", "C", "B"), c1$label_fmt)
# [1] "Label A" "Label B" "Other"   "Label B"

fapply(Sys.Date(), c1$date_fmt)
# [1] "07Jan2024"
</code></pre>

<hr>
<h2 id='value'>Create a user-defined format</h2><span id='topic+value'></span>

<h3>Description</h3>

<p>The <code>value</code> function creates a user-defined format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>value(..., log = TRUE, as.factor = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="value_+3A_...">...</code></td>
<td>
<p>One or more <code><a href="#topic+condition">condition</a></code> functions.</p>
</td></tr>
<tr><td><code id="value_+3A_log">log</code></td>
<td>
<p>Whether to log the creation of the format.  Default is
TRUE. This parameter is used internally.</p>
</td></tr>
<tr><td><code id="value_+3A_as.factor">as.factor</code></td>
<td>
<p>If TRUE, the <code><a href="#topic+fapply">fapply</a></code> function will return
the result as an ordered factor.  Otherwise, the result will be returned
as a vector.  Default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>value</code> function creates a user defined format object, in a manner
similar to a SAS速 format.  The <code>value</code> function accepts 
one or more <code>condition</code> arguments that define the format.  The 
conditions map an R expression to a label.  When applied, the format 
will return the label corresponding to the first true expression.
</p>
<p>The format object is an S3 class of type &quot;fmt&quot;. When the object is created,
the <strong>levels</strong> attribute of the object will be set with a vector 
of values
assigned to the <strong>labels</strong> property of the <code>condition</code> arguments.  
These labels may be accessed either from the <code>levels</code> function or the 
<code>labels</code> function.  If no order has been assigned to the conditions,
the labels will be returned in the order the conditions were passed to the
<code>value</code> function.  If an order has been assigned to the conditions,
the labels will be returned in the order specified.
</p>
<p>The format object may be applied to a vector using the <code>fapply</code>
function.  See <code><a href="#topic+fapply">fapply</a></code> for further details.
</p>
<p>Note that the label may also be a string format.  That means a 
user-defined format can be used to apply string formats conditionally.
This capability is useful when you want to conditionally format 
data values.
</p>


<h3>Value</h3>

<p>The new format object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+condition">condition</a></code> to define a condition,
<code><a href="base.html#topic+levels">levels</a></code> or <code><a href="#topic+labels.fmt">labels.fmt</a></code> to access the labels, and 
<code><a href="#topic+fapply">fapply</a></code> to apply the format to a vector.
</p>
<p>Other fmt: 
<code><a href="#topic+as.data.frame.fmt">as.data.frame.fmt</a>()</code>,
<code><a href="#topic+as.fmt.data.frame">as.fmt.data.frame</a>()</code>,
<code><a href="#topic+as.fmt">as.fmt</a>()</code>,
<code><a href="#topic+condition">condition</a>()</code>,
<code><a href="#topic+is.format">is.format</a>()</code>,
<code><a href="#topic+labels.fmt">labels.fmt</a>()</code>,
<code><a href="#topic+print.fmt">print.fmt</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example 1: Character to Character Mapping ##
# Set up vector
v1 &lt;- c("A", "B", "C", "B")

# Define format
fmt1 &lt;- value(condition(x == "A", "Label A"),
              condition(x == "B", "Label B"), 
              condition(TRUE, "Other"))
              
# Apply format to vector
fapply(v1, fmt1)
# [1] "Label A" "Label B" "Other"   "Label B"

## Example 2: Character to Integer Mapping ##
fmt2 &lt;- value(condition(x == "A", 1),
              condition(x == "B", 2),
              condition(TRUE, 3))

# Apply format to vector
fapply(v1, fmt2)
# [1] 1 2 3 2

## Example 3: Categorization of Continuous Variable ##
# Set up vector
v2 &lt;- c(1, 6, 11, 7)

# Define format
fmt3 &lt;- value(condition(x &lt; 5, "Low"),
              condition(x &gt;= 5 &amp; x &lt; 10, "High"), 
              condition(TRUE, "Out of range"))
              
# Apply format to vector
fapply(v2, fmt3)
# [1] "Low"          "High"         "Out of range" "High" 

### Example 4: Conditional formatting
v3 &lt;- c(10.398873, 12.98762, 0.5654, 11.588372)

fmt4 &lt;- value(condition(x &lt; 1, "&lt; 1.0"),
              condition(TRUE, "%.2f"))
              
fapply(v3, fmt4)
# [1] "10.40" "12.99" "&lt; 1.0" "11.59"

</code></pre>

<hr>
<h2 id='widths'>Get or set column widths for a data frame</h2><span id='topic+widths'></span><span id='topic+widths+3C-'></span>

<h3>Description</h3>

<p>The <code>widths</code> function extracts all assigned widths from a 
data frame, and returns them in a named list. The function also
assigns widths from a named list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>widths(x)

widths(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="widths_+3A_x">x</code></td>
<td>
<p>A data frame or tibble</p>
</td></tr>
<tr><td><code id="widths_+3A_value">value</code></td>
<td>
<p>A named list of widths.  The widths must be positive integers
greater than zero.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If widths are assigned to the &quot;width&quot; attributes of the data frame
columns, the <code>widths</code> function will extract those widths.  The 
function will return the widths in a named list, where the names
correspond to the name of the column that the width was assigned to.
If a column does not have a width attribute assigned, that column
will not be included in the list. 
</p>
<p>When used on the receiving side of an assignment, the function will assign
widths to a data frame.  The widths should be in a named list, where
each name corresponds to the data frame column to assign the width to.
</p>
<p>Finally, if you wish to clear out the width attributes, assign
a NULL value to the <code>widths</code> function.
</p>


<h3>Value</h3>

<p>A named list of widths. The widths must be positive integers
greater than zero.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fdata">fdata</a></code> to display formatted data, 
<code><a href="#topic+value">value</a></code> to create user-defined formats, and 
<code><a href="#topic+fapply">fapply</a></code> to apply formats to a vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Take subset of data
df1 &lt;- mtcars[1:5, c("mpg", "cyl") ]

# Print current state
print(df1)
#                    mpg cyl
# Mazda RX4         21.0   6
# Mazda RX4 Wag     21.0   6
# Datsun 710        22.8   4
# Hornet 4 Drive    21.4   6
# Hornet Sportabout 18.7   8

# Assign widths
widths(df1) &lt;- list(mpg = 12, cyl = 10) 

# Display formatted data
fdata(df1)
#                            mpg        cyl
# Mazda RX4                 21.0          6
# Mazda RX4 Wag             21.0          6
# Datsun 710                22.8          4
# Hornet 4 Drive            21.4          6
# Hornet Sportabout         18.7          8

# View assigned widths
widths(df1)
# $mpg
# [1] 12
# 
# $cyl
# [1] 10

# Clear widths
widths(df1) &lt;- NULL

# Confirm widths are cleared
widths(df1)
# list()
</code></pre>

<hr>
<h2 id='write.fcat'>Write a format catalog to the file system</h2><span id='topic+write.fcat'></span>

<h3>Description</h3>

<p>The <code>write.fcat</code> function writes a format catalog
to the file system.  By default, the catalog will be written to the 
current working directory, using the variable name as the file name.  These
defaults can be overridden using the appropriate parameters.  The catalog
will be saved with a file extension of &quot;.fcat&quot;. 
</p>
<p>Note that the format catalog is saved as an RDS file.  The &quot;.fcat&quot; file 
extension only serves to distinguish the format catalog from other RDS
files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.fcat(x, dir_path = getwd(), file_name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.fcat_+3A_x">x</code></td>
<td>
<p>The format catalog to write.</p>
</td></tr>
<tr><td><code id="write.fcat_+3A_dir_path">dir_path</code></td>
<td>
<p>The directory path to write the catalog to. Default is the 
current working directory.</p>
</td></tr>
<tr><td><code id="write.fcat_+3A_file_name">file_name</code></td>
<td>
<p>The name of the file to save the catalog as.  Default is
the name of the variable that contains the catalog.  The &quot;.fcat&quot; file
extension will be added automatically.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The full path of the saved format catalog.
</p>


<h3>See Also</h3>

<p>Other fcat: 
<code><a href="#topic+as.data.frame.fcat">as.data.frame.fcat</a>()</code>,
<code><a href="#topic+as.fcat.data.frame">as.fcat.data.frame</a>()</code>,
<code><a href="#topic+as.fcat.fmt_lst">as.fcat.fmt_lst</a>()</code>,
<code><a href="#topic+as.fcat.list">as.fcat.list</a>()</code>,
<code><a href="#topic+as.fcat">as.fcat</a>()</code>,
<code><a href="#topic+fcat">fcat</a>()</code>,
<code><a href="#topic+is.fcat">is.fcat</a>()</code>,
<code><a href="#topic+print.fcat">print.fcat</a>()</code>,
<code><a href="#topic+read.fcat">read.fcat</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create format catalog
c1 &lt;- fcat(num_fmt  = "%.1f",
           label_fmt = value(condition(x == "A", "Label A"),
                             condition(x == "B", "Label B"),
                             condition(TRUE, "Other")),
           date_fmt = "%d%b%Y")
           
# Get temp directory
tmp &lt;- tempdir()            
           
# Save catalog to file system
pth &lt;- write.fcat(c1, dir_path = tmp)

# Read from file system
c2 &lt;- read.fcat(pth)

# Use formats in the catalog
fapply(2, c1$num_fmt)
# [1] "2.0"

fapply(c("A", "B", "C", "B"), c1$label_fmt)
# [1] "Label A" "Label B" "Other"   "Label B"

fapply(Sys.Date(), c1$date_fmt)
# [1] "07Jan2024"
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

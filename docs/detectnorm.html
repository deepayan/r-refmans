<!DOCTYPE html><html lang="en"><head><title>Help for package detectnorm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {detectnorm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#beta_mdat'><p>Example meta-analysis: Extremely Non-normal Data</p></a></li>
<li><a href='#desbeta'><p>Calculate skewness and kurtosis based on Beta distribution in one group</p></a></li>
<li><a href='#destrunc'><p>Calculate skewness and kurtosis based on truncated normal distribution in one group</p></a></li>
<li><a href='#detectnorm'><p>Calculate skewness and kurtosis based on Beta or truncated normal distribution in a meta-analysis for SMD (Two independent groups)</p></a></li>
<li><a href='#rnonnorm'><p>Non-normal Distribution</p></a></li>
<li><a href='#trun_mdat'><p>Example meta-analysis: Truncated Normal Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Detect Nonnormality in Meta-Analysis without Raw Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rongwei Sun &lt;irissun_s@hotmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Non-normality could greatly distort the meta-analytic results, according to the simulation in Sun and Cheung (2020) &lt;<a href="https://doi.org/10.3758%2Fs13428-019-01334-x">doi:10.3758/s13428-019-01334-x</a>&gt;. This package aims to detect non-normality for two independent groups with only limited descriptive statistics, including mean, standard deviation, minimum, and maximum. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/irissun/detectnorm">https://github.com/irissun/detectnorm</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/irissun/detectnorm/issues">https://github.com/irissun/detectnorm/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>nleqslv, ggplot2, truncnorm, Rdpack, psych</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, metafor (&ge; 3.4-0), rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-07-15 13:29:16 UTC; iris</td>
</tr>
<tr>
<td>Author:</td>
<td>Rongwei Sun <a href="https://orcid.org/0000-0003-0034-1422"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Shu Fai Cheung <a href="https://orcid.org/0000-0002-9871-9448"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, ctb, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-07-16 09:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='beta_mdat'>Example meta-analysis: Extremely Non-normal Data</h2><span id='topic+beta_mdat'></span>

<h3>Description</h3>

<p>This dataset is generated by nonnormal data with function <code>rnonnorm</code>. It contains the descriptive data in individual studies in the meta-analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beta_mdat
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 40 studies:
</p>

<dl>
<dt>study</dt><dd><p>No of studies</p>
</dd>
<dt>n1</dt><dd><p>sample size of group 1 with equal sample size for the two studies. Generated with uniform distribution.</p>
</dd>
<dt>m1</dt><dd><p>mean of group 1. Population mean is equal to 1. The data of group 1 is generated with skewness = 4 and kurtosis = 2. </p>
</dd>
<dt>sd1</dt><dd><p>standard deviation of group 1. Population sd of group 1 is equal to 1. </p>
</dd>
<dt>lo1</dt><dd><p>minimum of the generated sample for group 1. </p>
</dd>
<dt>hi1</dt><dd><p>maximum of the generated sample for group 1. </p>
</dd>
<dt>n2</dt><dd><p>sample size of study 2; n1 = n2 for each study</p>
</dd>
<dt>m2</dt><dd><p>mean of group 2. Population mean is equal to 1.5. The data of group 2 is generated with skewness = -4 and kurtosis = 2. </p>
</dd>
<dt>sd2</dt><dd><p>standard deviation of group 2. Population sd of group 2 is equal to 1. </p>
</dd>
<dt>lo2</dt><dd><p>minimum of the generated sample for group 2. </p>
</dd>
<dt>hi2</dt><dd><p>maximum of the generated sample for group 2. </p>
</dd>
<dt>skew1</dt><dd><p>sample skewness for group 1. </p>
</dd>
<dt>skew2</dt><dd><p>sammple skewness for group 2. </p>
</dd>
</dl>


<hr>
<h2 id='desbeta'>Calculate skewness and kurtosis based on Beta distribution in one group</h2><span id='topic+desbeta'></span>

<h3>Description</h3>

<p>This function can be used to calculate the skewness and kurtosis based on the Beta distribution. Also, this function estimate the shape parameters alpha and beta.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>desbeta(
  vmean,
  vsd,
  lo,
  hi,
  method = "MM",
  rawdata = NULL,
  showFigure = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="desbeta_+3A_vmean">vmean</code></td>
<td>
<p>sample mean of the truncated data</p>
</td></tr>
<tr><td><code id="desbeta_+3A_vsd">vsd</code></td>
<td>
<p>sample standard deviation of the truncated data</p>
</td></tr>
<tr><td><code id="desbeta_+3A_lo">lo</code></td>
<td>
<p>minimum possible value</p>
</td></tr>
<tr><td><code id="desbeta_+3A_hi">hi</code></td>
<td>
<p>maximum possible value</p>
</td></tr>
<tr><td><code id="desbeta_+3A_method">method</code></td>
<td>
<p>when method = 'MM', the method used is the method of moments, when method = &quot;ML', the method used to estimate the distribution is maximum likelihood</p>
</td></tr>
<tr><td><code id="desbeta_+3A_rawdata">rawdata</code></td>
<td>
<p>when raw data is available, we could still use it to check it figuratively, if the data was closed to the normal distribution, or truncated normal distribution.</p>
</td></tr>
<tr><td><code id="desbeta_+3A_showfigure">showFigure</code></td>
<td>
<p>when showFigure = TRUE, it will display the plots with theoretical normal curve and the truncated normal curve.</p>
</td></tr>
<tr><td><code id="desbeta_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'showFigure = TRUE', the output will be a list with two objects: one is the data frame of shape parameters (alpha and beta), mean and standard deviation of standard beta distribution (mean and sd), and skewness and kurtosis; the other is the theoretical figures of beta and normal distributions. If 'showFigure = FALSE', the output will be only the data frame.
</p>


<h3>References</h3>

<p>Johnson NL, Kotz S, Balakrishnan N (1995).
&ldquo;Continuous univariate distributions.&rdquo;
In volume 289, chapter 25 Beta Distributions.
John wiley &amp; sons.
</p>
<p>Smithson M, Verkuilen J (2006).
&ldquo;A better lemon squeezer? Maximum-likelihood regression with beta-distributed dependent variables.&rdquo;
<em>Psychological methods</em>, <b>11</b>(1), 54.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+destrunc">destrunc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data('beta_mdat')
desbeta(vmean=beta_mdat$m2[6], vsd=beta_mdat$sd2[6],
hi = beta_mdat$hi2[6], lo = beta_mdat$lo2[6], showFigure = TRUE)

</code></pre>

<hr>
<h2 id='destrunc'>Calculate skewness and kurtosis based on truncated normal distribution in one group</h2><span id='topic+destrunc'></span>

<h3>Description</h3>

<p>This function can be used to calculate the skewness and kurtosis based on the truncated normal distribution. Also, it can be used to estimate the mean and variance of the parent distribution (the distribution before truncated).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>destrunc(
  vmean,
  vsd,
  lo,
  hi,
  rawdata = NULL,
  showFigure = FALSE,
  xstart,
  btol,
  ftol,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="destrunc_+3A_vmean">vmean</code></td>
<td>
<p>sample mean of the truncated data</p>
</td></tr>
<tr><td><code id="destrunc_+3A_vsd">vsd</code></td>
<td>
<p>sample standard deviation of the truncated data</p>
</td></tr>
<tr><td><code id="destrunc_+3A_lo">lo</code></td>
<td>
<p>minimum possible value</p>
</td></tr>
<tr><td><code id="destrunc_+3A_hi">hi</code></td>
<td>
<p>maximum possible value</p>
</td></tr>
<tr><td><code id="destrunc_+3A_rawdata">rawdata</code></td>
<td>
<p>when raw data is available, we could still use it to check it figuratively, if the data was closed to the normal distribution, or truncated normal distribution.</p>
</td></tr>
<tr><td><code id="destrunc_+3A_showfigure">showFigure</code></td>
<td>
<p>when showFigure = TRUE, it will display the plots with theoretical normal curve and the truncated normal curve.</p>
</td></tr>
<tr><td><code id="destrunc_+3A_xstart">xstart</code></td>
<td>
<p>see the package <code><a href="nleqslv.html#topic+nleqslv">nleqslv</a></code></p>
</td></tr>
<tr><td><code id="destrunc_+3A_btol">btol</code></td>
<td>
<p>see the package <code><a href="nleqslv.html#topic+nleqslv">nleqslv</a></code></p>
</td></tr>
<tr><td><code id="destrunc_+3A_ftol">ftol</code></td>
<td>
<p>see the package <code><a href="nleqslv.html#topic+nleqslv">nleqslv</a></code></p>
</td></tr>
<tr><td><code id="destrunc_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'showFigure = TRUE', the output will be a list with two objects: one is the data frame of parent mean and standard deviation (pmean and psd), mean and standard deviation of truncated normal distribution (mean and sd), and skewness and kurtosis; the other is the theoretical figures of beta and normal distributions. If 'showFigure = FALSE', the output will be only the data frame.
</p>


<h3>References</h3>

<p>Shah SM, Jaiswal MC (1966).
&ldquo;Estimation of parameters of doubly truncated normal distribution from first four sample moments.&rdquo;
<em>Annals of the Institute of Statistical Mathematics</em>, <b>18</b>(1), 107&ndash;111.
</p>
<p>Robert CP (1995).
&ldquo;Simulation of truncated normal variables.&rdquo;
<em>Statistics and computing</em>, <b>5</b>(2), 121&ndash;125.
</p>
<p>Barr DR, Sherrill ET (1999).
&ldquo;Mean and variance of truncated normal distributions.&rdquo;
<em>The American Statistician</em>, <b>53</b>(4), 357&ndash;361.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+desbeta">desbeta</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("trun_mdat")
destrunc(vmean=trun_mdat$m2[6], vsd=trun_mdat$sd2[6],
hi = 4, lo = 0, showFigure = TRUE)
#example2
destrunc(vmean=trun_mdat$m1[17], vsd=trun_mdat$sd1[17],
hi = 4, lo = 0, showFigure = TRUE)

</code></pre>

<hr>
<h2 id='detectnorm'>Calculate skewness and kurtosis based on Beta or truncated normal distribution in a meta-analysis for SMD (Two independent groups)</h2><span id='topic+detectnorm'></span>

<h3>Description</h3>

<p>This function can be used to calculate the skewness and kurtosis based on the Beta distribution with the dataset used to conduct meta-analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detectnorm(
  m1i,
  sd1i,
  n1i,
  lo1i,
  hi1i,
  m2i,
  sd2i,
  n2i,
  lo2i,
  hi2i,
  data,
  showFigure = FALSE,
  distri = "beta",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="detectnorm_+3A_m1i">m1i</code></td>
<td>
<p>vector to the means of first group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_sd1i">sd1i</code></td>
<td>
<p>vector to specifiy the standard deviation of first group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_n1i">n1i</code></td>
<td>
<p>vector to specify the sample size of first group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_lo1i">lo1i</code></td>
<td>
<p>vector to specify the possible minimum of the first group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_hi1i">hi1i</code></td>
<td>
<p>vector to specify the possible maximum of the first group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_m2i">m2i</code></td>
<td>
<p>vector to the means of second group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_sd2i">sd2i</code></td>
<td>
<p>vector to specifiy the standard deviation of second group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_n2i">n2i</code></td>
<td>
<p>vector to specify the sample size of second group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_lo2i">lo2i</code></td>
<td>
<p>vector to specify the possible minimum of the second group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_hi2i">hi2i</code></td>
<td>
<p>vector to specify the possible maximum of the second group</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_data">data</code></td>
<td>
<p>the opitional original data frame containing the data for the function</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_showfigure">showFigure</code></td>
<td>
<p>when showFigure = TRUE, it will display all the plots (within the result as a list, result$fig) with theoretical normal curve and the truncated normal curve.</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_distri">distri</code></td>
<td>
<p>Beta distribution is used when using 'distri = &quot;beta&quot;'; Truncated normal distribution is used when using 'distri = &quot;truncnorm&quot;'</p>
</td></tr>
<tr><td><code id="detectnorm_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of the data frame adding some columns of the possible skewness and kurtosis for each groups.
</p>


<h3>References</h3>

<p>Barr DR, Sherrill ET (1999).
&ldquo;Mean and variance of truncated normal distributions.&rdquo;
<em>The American Statistician</em>, <b>53</b>(4), 357&ndash;361.
</p>
<p>Johnson NL, Kotz S, Balakrishnan N (1995).
&ldquo;Continuous univariate distributions.&rdquo;
In volume 289, chapter 25 Beta Distributions.
John wiley &amp; sons.
</p>
<p>Robert CP (1995).
&ldquo;Simulation of truncated normal variables.&rdquo;
<em>Statistics and computing</em>, <b>5</b>(2), 121&ndash;125.
</p>
<p>Shah SM, Jaiswal MC (1966).
&ldquo;Estimation of parameters of doubly truncated normal distribution from first four sample moments.&rdquo;
<em>Annals of the Institute of Statistical Mathematics</em>, <b>18</b>(1), 107&ndash;111.
</p>
<p>Smithson M, Verkuilen J (2006).
&ldquo;A better lemon squeezer? Maximum-likelihood regression with beta-distributed dependent variables.&rdquo;
<em>Psychological methods</em>, <b>11</b>(1), 54.
</p>
<p>Sun RW, Cheung SF (2020).
&ldquo;The influence of nonnormality from primary studies on the standardized mean difference in meta-analysis.&rdquo;
<em>Behavior Research Methods</em>, <b>52</b>(4), 1552&ndash;1567.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#truncated normal data
data("trun_mdat")
ex &lt;- detectnorm(m1i = m1,sd1i = sd1,n1i = n1,
hi1i = 4,lo1i = 0,m2i = m2,sd2i = sd2,n2i = n2,
hi2i = 4,lo2i=0,distri = "truncnorm", data = trun_mdat)
head(ex)
#extremely non-normal data
data("beta_mdat")
ex2 &lt;- detectnorm(m1i = m1,sd1i = sd1,n1i = n1,
hi1i = hi1,lo1i = lo1,m2i = m2,sd2i = sd2,n2i = n2,
hi2i = hi2,lo2i=lo2,distri = "beta", data = beta_mdat)
head(ex2)
mean(ex2$skew1)#sample skewness calculated from the sample
mean(ex2$g1_skewness) #estimated using beta
</code></pre>

<hr>
<h2 id='rnonnorm'>Non-normal Distribution</h2><span id='topic+rnonnorm'></span>

<h3>Description</h3>

<p>Generating Non-normal data with specified skewness and kurtosis using Fleishman's Method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rnonnorm(n, mean = 0, sd = 1, skew = 0, kurt = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rnonnorm_+3A_n">n</code></td>
<td>
<p>number of observations</p>
</td></tr>
<tr><td><code id="rnonnorm_+3A_mean">mean</code></td>
<td>
<p>mean</p>
</td></tr>
<tr><td><code id="rnonnorm_+3A_sd">sd</code></td>
<td>
<p>standard deviation</p>
</td></tr>
<tr><td><code id="rnonnorm_+3A_skew">skew</code></td>
<td>
<p>skewness</p>
</td></tr>
<tr><td><code id="rnonnorm_+3A_kurt">kurt</code></td>
<td>
<p>kurtosis</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used to generate non-normal data with specified skewness and kurtosis using Fleishman's Power Method.
</p>


<h3>Value</h3>

<p>A list of two objects: non-normal data is 'dat'; and the other is the Fleishman Coeffficients used to generate the distributions.
</p>


<h3>References</h3>

<p>Fleishman AI (1978).
&ldquo;A method for simulating non-normal distributions.&rdquo;
<em>Psychometrika</em>, <b>43</b>(4), 521&ndash;532.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(341031)
exdat &lt;- rnonnorm(n = 100, mean = 1, sd = 2, skew = 3, kurt = 2)$dat
hist(exdat)

</code></pre>

<hr>
<h2 id='trun_mdat'>Example meta-analysis: Truncated Normal Data</h2><span id='topic+trun_mdat'></span>

<h3>Description</h3>

<p>This dataset is generated by truncated normal data with function <code>rtruncnorm</code> with the scale of 0-4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trun_mdat
</code></pre>


<h3>Format</h3>

<p>A data frame with 40 studies:
</p>

<dl>
<dt>study</dt><dd><p>No of studies</p>
</dd>
<dt>n1</dt><dd><p>sample size of group 1 with equal sample size for the two studies. Generated with uniform distribution.</p>
</dd>
<dt>m1</dt><dd><p>mean of group 1. Population mean is equal to 1. The data of group 1 is generated with the scale 0-4. </p>
</dd>
<dt>sd1</dt><dd><p>standard deviation of group 1. Population sd of group 1 is equal to 1. </p>
</dd>
<dt>lo1</dt><dd><p>minimum of the generated sample for group 1. </p>
</dd>
<dt>hi1</dt><dd><p>maximum of the generated sample for group 1. </p>
</dd>
<dt>n2</dt><dd><p>sample size of study 2; n1 = n2 for each study</p>
</dd>
<dt>m2</dt><dd><p>mean of group 2. Population mean is equal to 1.5. The data of group 2 is generated with the scale 0-4. </p>
</dd>
<dt>sd2</dt><dd><p>standard deviation of group 2. Population sd of group 2 is equal to 1. </p>
</dd>
<dt>lo2</dt><dd><p>minimum of the generated sample for group 2. </p>
</dd>
<dt>hi2</dt><dd><p>maximum of the generated sample for group 2. </p>
</dd>
<dt>skew1</dt><dd><p>sample skewness for group 1. </p>
</dd>
<dt>skew2</dt><dd><p>sammple skewness for group 2. </p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

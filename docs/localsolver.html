<!DOCTYPE html><html><head><title>Help for package localsolver</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {localsolver}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#localsolver'><p>R API to LocalSolver</p></a></li>
<li><a href='#add.output.expr'><p>Add expression to output of ls.problem.</p></a></li>
<li><a href='#clear.output.exprs'><p>Remove all output expressions (see: <code>add.output.expr</code>).</p></a></li>
<li><a href='#google_example_1_data'><p>Data set for google_machine_reassignment demo.</p></a></li>
<li><a href='#ls.problem'><p>Create problem instance from model formulated in LSP language.</p></a></li>
<li><a href='#ls.solve'><p>Solves a LocalSolver problem on data passed.</p></a></li>
<li><a href='#lsp.model.example'><p>Load LSP model example code.</p></a></li>
<li><a href='#print.ls.problem'><p>Prints an object of class ls.problem.</p></a></li>
<li><a href='#reset.lsp.params'><p>Reset all ls.problem instance parameters.</p></a></li>
<li><a href='#set.params'><p>Set ls.problem instance parameters.</p></a></li>
<li><a href='#set.temp.dir'><p>Sets folder to use for the problem instance solving process temporary data.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R API to LocalSolver</td>
</tr>
<tr>
<td>Description:</td>
<td>The package converts R data onto input and data for LocalSolver,
    executes optimization and exposes optimization results as R data.
    LocalSolver (http://www.localsolver.com/) is an optimization engine
    developed by Innovation24 (http://www.innovation24.fr/). It is designed to
    solve large-scale mixed-variable non-convex optimization problems.  The
    localsolver package is developed and maintained by WLOG Solutions
    (http://www.wlogsolutions.com/en/) in collaboration with Decision Support
    and Analysis Division at Warsaw School of Economics
    (http://www.sgh.waw.pl/en/).</td>
</tr>
<tr>
<td>Version:</td>
<td>2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Date:</td>
<td>2014-04-07</td>
</tr>
<tr>
<td>Author:</td>
<td>Walerian Sokolowski [aut, cre, cph],
  Wit Jakuczun [aut, cph],
  Natalia Okinczyc [aut],
  Bogumil Kaminski [aut]</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>At least trial version of LocalSolver to be
downloaded from http://www.localsolver.com/download.html</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2014-06-17 19:29:34 UTC; ws171913</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Walerian Sokolowski &lt;walerian.sokolowski@wlogsolutions.com&gt;</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2014-06-18 00:29:05</td>
</tr>
</table>
<hr>
<h2 id='localsolver'>R API to LocalSolver</h2><span id='topic+localsolver'></span><span id='topic+localsolver-package'></span>

<h3>Description</h3>

<p>The package converts R data onto input and data for
LocalSolver, executes optimization and exposes optimization
results as R data.
</p>


<h3>Details</h3>

<p><em>LocalSolver</em> (<a href="http://www.localsolver.com/">http://www.localsolver.com/</a>) is
an optimization engine developed by <em>Innovation24</em>
(<a href="http://www.innovation24.fr/">http://www.innovation24.fr/</a>). It is designed to
solve large-scale mixed-variable non-convex optimization
problems.
</p>
<p>The localsolver package is result of cooperation of
<em>WLOG Solutions</em>
(<a href="http://www.wlogsolutions.com/en/">http://www.wlogsolutions.com/en/</a>) in collaboration
Decision Support and Analysis Division at <em>Warsaw
School of Economics</em> (<a href="http://www.sgh.waw.pl/en/">http://www.sgh.waw.pl/en/</a>).
</p>
<p>The localsolver package allows for solving optimization
problems in R by using the LocalSolver program. It combines
efficiency and easiness of model formulation, which
characterize the LocalSolver program, with the elasticity
of data in R. The model formulation in LSP language is
provided by a user as a string or text file, and the input
data - as a list. The solution is also a list, with chosen
decision variables, constraints and objective function
values. Thus the problem can be solved many times (for
example, by iterating with different parameter settings)
and the result is provided in a form which makes further
processing or visualization in R fast and easy.
</p>
<p>It is highly recommended that the LocalSolver software is
installed before the R package.<br /> The test version
(limited to 100 decisions and 1000 variables) can be
downloaded from the website:
<a href="http://www.localsolver.com/download.html">http://www.localsolver.com/download.html</a><br /> The
access to the trial license for full version requires
contacting the <em>Innovation24</em> company. For further
information please visit the website:
<a href="http://www.localsolver.com/">http://www.localsolver.com/</a>
</p>
<p>Bugs and feature requests can be reported by e-mail:
<em>Walerian Sokolowski
&lt;walerian.sokolowski@wlogsolutions.com&gt;</em>. We are also
looking forward for any future package development
suggestions.
</p>

<hr>
<h2 id='add.output.expr'>Add expression to output of ls.problem.</h2><span id='topic+add.output.expr'></span>

<h3>Description</h3>

<p>Added expression will be printed out by the LocalSolver and
added to <code><a href="#topic+ls.solve">ls.solve</a></code> result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add.output.expr(lsp, expr.text.lsp, dimensions = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add.output.expr_+3A_lsp">lsp</code></td>
<td>
<p>problem instance created with
<code><a href="#topic+ls.problem">ls.problem</a></code>.</p>
</td></tr>
<tr><td><code id="add.output.expr_+3A_expr.text.lsp">expr.text.lsp</code></td>
<td>
<p>text of expression in LSP language
(an objective function, constraint or decision variable
name).</p>
</td></tr>
<tr><td><code id="add.output.expr_+3A_dimensions">dimensions</code></td>
<td>
<p>vector of variables expected
dimensions. 1 for a number, length of a vector or
dimensions of resulting matrix or array (see
<code><a href="base.html#topic+array">array</a></code> <code>dim</code> parameter). The vector of
the dimensions must be of length 1, 2 or 3, as the
library does not maintain arrays of more than 3
dimensions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each added expression is extracted out of LocalSolver
output according to <code>dimensions</code> provided. Extracted
values are converted into R data structures. If
<code>dimension</code> is 1 the expression is considered to be a
number. Otherwise the expression is converted to R
<code>array</code> with <code>dimensions</code> passed as dim(see
<code><a href="base.html#topic+array">array</a></code>).
</p>
<p>All output expression values are exposed as
<code><a href="base.html#topic+numeric">numeric</a>s</code>.
</p>
<p><strong>Currently errors in expression and inconsistency in
dimensions passed are not detected properly. Handling such
situations is planned to be implemented in next localsolver
package version.</strong>
</p>


<h3>Value</h3>

<p>Updated <code>ls.problem</code> instance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.text.lsp &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(model.text.lsp)
lsp &lt;- add.output.expr(lsp, "knapsackWeight")
# produces table x[i in 1..5][j in 1..10] in LocalSolver output
# and array with dims = c(5,10) under name x in output of ls.solve.
lsp &lt;- add.output.expr(lsp, "x", c(5, 10))
</code></pre>

<hr>
<h2 id='clear.output.exprs'>Remove all output expressions (see: <code><a href="#topic+add.output.expr">add.output.expr</a></code>).</h2><span id='topic+clear.output.exprs'></span>

<h3>Description</h3>

<p>Remove all output expressions (see:
<code><a href="#topic+add.output.expr">add.output.expr</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear.output.exprs(lsp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clear.output.exprs_+3A_lsp">lsp</code></td>
<td>
<p>problem instance created with
<code><a href="#topic+ls.problem">ls.problem</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated ls.problem instance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.text.lsp &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(model.text.lsp)
lsp &lt;- add.output.expr(lsp, "knapsackWeight")
lsp &lt;- clear.output.exprs(lsp)
</code></pre>

<hr>
<h2 id='google_example_1_data'>Data set for google_machine_reassignment demo.</h2><span id='topic+google_example_1_data'></span>

<h3>Description</h3>

<p>Data set for google_machine_reassignment demo.
</p>

<hr>
<h2 id='ls.problem'>Create problem instance from model formulated in LSP language.</h2><span id='topic+ls.problem'></span>

<h3>Description</h3>

<p>Creates problem instance from model LSP code passed.
Detects functions in model LSP code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls.problem(model.text.lsp, ls.path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ls.problem_+3A_model.text.lsp">model.text.lsp</code></td>
<td>
<p>text of model formulated in LSP
language.</p>
</td></tr>
<tr><td><code id="ls.problem_+3A_ls.path">ls.path</code></td>
<td>
<p>path to the LocalSolver executable.
Optional argument (NULL by default). If not provided, the
LocalSolver will be searched by the system in <span class="env">PATH</span>
environment variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions detected in model LSP code must contain
<code>model</code> function as it main 'workhorse' function of
LocalSolver model. They can contain <code>param</code>,
<code>display</code> and any other custom functions.
</p>
<p>Because localsolver package defines <code>input</code> function
based on data passed to <code><a href="#topic+ls.solve">ls.solve</a></code> and
<code>output</code> function base on output expressions added to
problem instance with <code><a href="#topic+add.output.expr">add.output.expr</a></code> these
two(<code>input</code> and <code>output</code>) functions cannot occur
in model LSP code passed. Passing them will cause
appropriate error.
</p>
<p>For mode details see LocalSolver LSP language reference
manual:
<a href="http://www.localsolver.com/lspreferencemanual.html">http://www.localsolver.com/lspreferencemanual.html</a>.
</p>


<h3>Value</h3>

<p>created ls.problem instance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.text.lsp &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(model.text.lsp)
</code></pre>

<hr>
<h2 id='ls.solve'>Solves a LocalSolver problem on data passed.</h2><span id='topic+ls.solve'></span>

<h3>Description</h3>

<p>Prepares input and data for LocalSolver, runs the
application and parses its output to get resulting values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls.solve(lsp, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ls.solve_+3A_lsp">lsp</code></td>
<td>
<p>problem instance created with
<code><a href="#topic+ls.problem">ls.problem</a></code>.</p>
</td></tr>
<tr><td><code id="ls.solve_+3A_data">data</code></td>
<td>
<p>named list of data items. Each element of the
list should be indexed with the parameter name and should
be a number, vector, matrix or array (of dimension 2 or
3) of numbers. The class of the numbers should be either
integer (they will be then handled as integer by the
LocalSolver) or numeric (LocalSolver will then treat them
as elements of class double).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Result of this function is named list of output expressions
added to the problem (for description of R data structures
form see <code><a href="#topic+add.output.expr">add.output.expr</a></code>). Parameters set
with <code><a href="#topic+set.params">set.params</a></code> are passed to LocalSolver by
means of generation(or modification) of LocalSolver
<code>param</code> function (see LocalSolver LSP language
reference manual
<a href="http://www.localsolver.com/lspreferencemanual.html">http://www.localsolver.com/lspreferencemanual.html</a>
for more details).
</p>
<p><strong>Make sure you pass integers in <code>data</code> if you
want them to be <code>ints</code> in LocalSolver. Otherwise they
will be considered <code>doubles</code>.</strong>
</p>
<p>Errors occurred in model LSP code (passed while creating
problem with <code><a href="#topic+ls.problem">ls.problem</a></code>) are handled: They
cause error containing original error message and error
occurrence context to make it easier to detect potential
errors in model LSP code. All other LocalSolver errors
(e.g. in output expressions) and interaction errors
(between localsolver package and LocalSolver process) are
passed to caller without processing.
</p>


<h3>Value</h3>

<p>named list of all output expression values on best solution
found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.text.lsp &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(model.text.lsp)
lsp &lt;- set.params(lsp, lsTimeLimit=60)
lsp &lt;- add.output.expr(lsp, "x", 4)
data &lt;- list(nbItems=4L, itemWeights=c(1L,2L,3L,4L), itemValues=c(5,6,7,8), knapsackBound=40L)
result &lt;- ls.solve(lsp, data)
</code></pre>

<hr>
<h2 id='lsp.model.example'>Load LSP model example code.</h2><span id='topic+lsp.model.example'></span>

<h3>Description</h3>

<p>Load LSP model example code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lsp.model.example(example.file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lsp.model.example_+3A_example.file">example.file</code></td>
<td>
<p>example file path relative to
packaged root.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>text of model formulated in LSP language.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lsp.model.example('extdata/knapsack.txt')
</code></pre>

<hr>
<h2 id='print.ls.problem'>Prints an object of class ls.problem.</h2><span id='topic+print.ls.problem'></span>

<h3>Description</h3>

<p>Prints an object of class ls.problem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ls.problem'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ls.problem_+3A_x">x</code></td>
<td>
<p>problem instance created with
<code><a href="#topic+ls.problem">ls.problem</a></code>.</p>
</td></tr>
<tr><td><code id="print.ls.problem_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other
methods.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>model.text.lsp &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(model.text.lsp)
lsp
</code></pre>

<hr>
<h2 id='reset.lsp.params'>Reset all ls.problem instance parameters.</h2><span id='topic+reset.lsp.params'></span>

<h3>Description</h3>

<p>Problem parameters can be set with
<code><a href="#topic+set.params">set.params</a></code>. This method resets all their
values to defaults, which have been described in help for
the <code><a href="#topic+set.params">set.params</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reset.lsp.params(lsp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reset.lsp.params_+3A_lsp">lsp</code></td>
<td>
<p>the lsp object whose parameters are to be
reset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>lsp object with all parameters reset to their default
values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>modelText &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(modelText)
lsp$params
lsp &lt;- set.params(lsp, lsTimeLimit=60, lsSeed=7)
lsp$params
lsp &lt;- reset.lsp.params(lsp)
lsp$params
</code></pre>

<hr>
<h2 id='set.params'>Set ls.problem instance parameters.</h2><span id='topic+set.params'></span>

<h3>Description</h3>

<p>Updates the chosen parameters of an object of class
<code>ls.problem</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set.params(lsp, lsTimeLimit = lsp$params$lsTimeLimit,
  lsIterationLimit = lsp$params$lsIterationLimit,
  lsTimeBetweenDisplays = lsp$params$lsTimeBetweenDisplays,
  lsSeed = lsp$params$lsSeed, lsNbThreads = lsp$params$lsNbThreads,
  lsAnnealingLevel = lsp$params$lsAnnealingLevel,
  lsVerbosity = lsp$params$lsVerbosity,
  indexFromZero = lsp$params$indexFromZero)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set.params_+3A_lsp">lsp</code></td>
<td>
<p>problem instance created with
<code><a href="#topic+ls.problem">ls.problem</a></code>.</p>
</td></tr>
<tr><td><code id="set.params_+3A_lstimelimit">lsTimeLimit</code></td>
<td>
<p>the number of the seconds which will
be spent to optimize the objective function (functions),
or a vector of times (in seconds) assigned to each
objective function. The length of the vector should
correspond to the length of the number of objective
functions.</p>
</td></tr>
<tr><td><code id="set.params_+3A_lsiterationlimit">lsIterationLimit</code></td>
<td>
<p>the number of iterations made to
optimize the objective function (functions), or a vector
of iteration numbers assigned to each objective function.
The length of the vector should correspond to the length
of the number of objective functions.</p>
</td></tr>
<tr><td><code id="set.params_+3A_lstimebetweendisplays">lsTimeBetweenDisplays</code></td>
<td>
<p>the time (in seconds)
between successive displays of the information about the
search (default: 1)</p>
</td></tr>
<tr><td><code id="set.params_+3A_lsseed">lsSeed</code></td>
<td>
<p>pseudo-random number generator seed
(default: 0).</p>
</td></tr>
<tr><td><code id="set.params_+3A_lsnbthreads">lsNbThreads</code></td>
<td>
<p>the number of threads over which the
search is paralleled (default: 2).</p>
</td></tr>
<tr><td><code id="set.params_+3A_lsannealinglevel">lsAnnealingLevel</code></td>
<td>
<p>simulated annealing level (no
annealing: 0, default: 1).</p>
</td></tr>
<tr><td><code id="set.params_+3A_lsverbosity">lsVerbosity</code></td>
<td>
<p>verbosity (no display: 0, default:
1).</p>
</td></tr>
<tr><td><code id="set.params_+3A_indexfromzero">indexFromZero</code></td>
<td>
<p>indicates whether the data and
decision variables (vectors and matrices) are to be
indexed from 0. If <code>FALSE</code> (by default), they will
be indexed from 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated ls.problem instance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model.text.lsp &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(model.text.lsp)
lsp &lt;- set.params(lsp, lsTimeLimit=10, lsIterationLimit= 5)
</code></pre>

<hr>
<h2 id='set.temp.dir'>Sets folder to use for the problem instance solving process temporary data.</h2><span id='topic+set.temp.dir'></span>

<h3>Description</h3>

<p>Exposed for technical reasons. Temporary folder is used to
store files for communication with LocalSolver application.
By default system received temp folder is used. Setting
temporary folder is useful in case <code><a href="#topic+ls.solve">ls.solve</a></code>
is performed in parallel. In that case each call should use
own lsp instance with dedicated temporary folder. In case
of changing this directory, it is important to choose a
path to a folder with write access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set.temp.dir(lsp, path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set.temp.dir_+3A_lsp">lsp</code></td>
<td>
<p>problem instance created with
<code><a href="#topic+ls.problem">ls.problem</a></code>.</p>
</td></tr>
<tr><td><code id="set.temp.dir_+3A_path">path</code></td>
<td>
<p>the directory, which will be used for
temporary data.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>model.text.lsp &lt;- lsp.model.example('extdata/knapsack.txt')
lsp &lt;- ls.problem(model.text.lsp)
lsp &lt;- set.temp.dir(lsp, tempdir())
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ELT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ELT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ELT-package'>
<p>ELT - A package to build Experience Life Tables</p></a></li>
<li><a href='#AddReference'><p>AddReference function.</p></a></li>
<li><a href='#ComparisonMethods'><p>ComparisonMethods function</p></a></li>
<li><a href='#CompletionA'><p>CompletionA function</p></a></li>
<li><a href='#CompletionB'><p>CompletionB function</p></a></li>
<li><a href='#Dispersion'><p>Dispersion function</p></a></li>
<li><a href='#FctMethod1'><p>FctMethod1 function</p></a></li>
<li><a href='#FctMethod2'><p>FctMethod2 function</p></a></li>
<li><a href='#FctMethod3'><p>FctMethod3 function</p></a></li>
<li><a href='#FctMethod4_1stPart'><p>FctMethod4_1stPart function</p></a></li>
<li><a href='#FctMethod4_2ndPart'><p>FctMethod4_2ndPart function</p></a></li>
<li><a href='#Method1'><p>Method1 function</p></a></li>
<li><a href='#Method2'><p>Method2 function</p></a></li>
<li><a href='#Method3'><p>Method3 function</p></a></li>
<li><a href='#Method4A'><p>Method4A function</p></a></li>
<li><a href='#Method4B'><p>Method4B function</p></a></li>
<li><a href='#MyPortfolio'><p>MyPortfolio used for the exemple.</p></a></li>
<li><a href='#NoCompletion'><p>NoCompletion function</p></a></li>
<li><a href='#ReadHistory'><p>readHistory function</p></a></li>
<li><a href='#ReferenceFemale'><p>ReferenceFemale used for the exemple.</p></a></li>
<li><a href='#ReferenceMale'><p>ReferenceMale used for the exemple.</p></a></li>
<li><a href='#SurfacePlot'><p>SurfacePlot function</p></a></li>
<li><a href='#ValidationLevel1'><p>ValidationLevel1 function</p></a></li>
<li><a href='#ValidationLevel2'><p>ValidationLevel2 function</p></a></li>
<li><a href='#ValidationLevel3'><p>ValidationLevel3 function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Experience Life Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>1.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-29</td>
</tr>
<tr>
<td>Author:</td>
<td>Julien Tomas, Frederic Planchet, Wassim Youssef</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Wassim Youssef &lt;Wassim.G.Youssef@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Build experience life tables.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10.0), locfit, lattice, latticeExtra, xlsx</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-29 06:19:20 UTC; wassimyoussef</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-29 06:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='ELT-package'>
ELT - A package to build Experience Life Tables
</h2><span id='topic+ELT-package'></span><span id='topic+ELT'></span>

<h3>Description</h3>

<p>Collection of functions that can be used following a pre-established procedure to build and validate actuarial life tables. 
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> ELT</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.6</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-04-10</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GNU</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> locfit,lattice,latticeExtra,xlsx</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The package is meant to be used following a pre-established procedure.
</p>
<p>See the reference for more info.
</p>
<p>Please notice that the package includes the following internal functions:
</p>
<p>.BeforeAfterCompletion(); .ComparisonFitsMethods(); .ComparisonFitsMethodsLog(); .ComparisonResidualsMethods(); .ComparisonResidualsMethods(); .ComparisonTrendsMethods(); .CompletionDG2005(); .CompLevel1(); .CompLevel2(); .CompLevel3(); .DevFct(); .ExportHistoryInExcel(); .ExportPeriodicLifeExpinExcel(); .ExportSingleIndiciesinExcel(); .ExportValidationL1inExcel(); .ExportValidationL2inExcel(); .FctCohortLifeExp5(); .FctPerLifeExp(); .FctSingleIndices(); .FitPopsAfterCompletionLog(); .FittedDxtAndConfInt(); .GetCritLevel1(); .GetCritLevel2(); .GetCV(); .GetFitSim(); .GetHistory(); .GetQtiles(); .GetRelDisp(); .GetSimExp(); .PlotCrit(); .PlotCritChoice(); .PlotDIntConf(); .PlotExpQtle(); .PlotFittedYear(); .PlotFittedYearLog(); .PlotMethod(); .PlotParamCompletion(); .PlotPerExp(); .PlotRelDisp(); .PlotRes(); .ResFct(); .SimDxt(); .ValidationLevel3(); .WarningInvalidAge() .
</p>
<p>These functions can be accessed with the prefix ELT::: using the following syntax: ELT:::[name of the function] . For example : ELT:::.GetHistory(). See technical note II1291-15 (http://www.ressources-actuarielles.net/gtmortalite) for the arguments and examples of the functions.
</p>


<h3>References</h3>

<p><cite>Tomas, J. , Planchet, F. , Prospective mortality tables and portfolio experience, Chapter 9 in <em>Computational Actuarial Science</em>, with R ; Arthur Charpentier Editor, Chapman, 2014</cite>
</p>
<p><cite>Tomas, J. , Planchet, F. , Constructing entity specific prospective mortality table : adjustment to a reference, <em>Les cahiers de recherche de l'ISFA</em>, 2013(13), pp.1-31, 2013.</cite>
</p>
<p><cite>Tomas, J. , Planchet, F. , Construction d'une table de mortalite par positionnement : Mode d'emploi, <em>Institut des Actuaires, Rapport technique II1291-15</em>, pp. 1-27, 2013</cite>
</p>
<p><cite>Tomas, J. , Planchet, F. , Criteres de Validation : Aspects Methodologiques, <em>Institut des Actuaires, Rapport technique II1291-14</em>, pp. 1-31, 2013</cite>
</p>
<p><cite>Tomas, J. , Planchet, F. , Methodes de positionnement : Aspects Methodologiques, <em>Institut des Actuaires, Rapport technique II1291-12</em>, pp. 1-12, 2013</cite>
</p>
<p><cite>Denuit, M. and Goderniaux, A. C. (2005). Closing and projecting life tables using log-linear models. <em>Bulletin of the Swiss Association of Actuaries</em>, (1), 29-48</cite>
</p>
<p><cite><a href="http://www.ressources-actuarielles.net/gtmortalite">http://www.ressources-actuarielles.net/gtmortalite</a> for data and exemple codes.</cite>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(MyPortfolio)
data(ReferenceMale)
data(ReferenceFemale)

## ------------------------------------------------------------------------ ##
##  Initialize Age variables                                                ##
## ------------------------------------------------------------------------ ##

AgeRange &lt;- 30:90
AgeCrit &lt;- 30:90
AgeRef &lt;- 30:95

History &lt;- ReadHistory(MyPortfolio = MyPortfolio, DateBegObs = "1996/01/01",
DateEndObs = "2007/12/31", DateFormat = "

MyData &lt;- AddReference(History = History, ReferenceMale = ReferenceMale,
ReferenceFemale = ReferenceFemale)

## ######################################################################## ##
## METHOD 1 ############################################################### ##
## ######################################################################## ##

## ------------------------------------------------------------------------ ##
##  Execute method 1                                                        ##
## ------------------------------------------------------------------------ ##

OutputMethod1 &lt;- Method1(MyData = MyData, AgeRange = AgeRange,  Plot = T)

## ------------------------------------------------------------------------ ##
##  Validate method 1 by the 1st level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 1st level citeria.

ValidationLevel1Method1 &lt;- ValidationLevel1(OutputMethod = OutputMethod1, MyData = MyData,
 AgeCrit = AgeCrit, ValCrit = 0.05, Plot = T, Excel = T)

## ---------- If the criterions corresponding to the 1st level are not 
## ---------- satisfied, we can modify the age range used to compute the SMR
## ---------- and reexecute
## ---------- OutputMethod1 &lt;- Method1(...)
## ---------- and
## ---------- ValidationLevel1Method1 &lt;- ValidationLevel1(...).
## ---------- If the criterions corresponding to the 1st level are still not 
## ---------- satisfied, we turn to the method 2, and it is useless to
## ---------- pursue the completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the criterions corresponding to the 2nd level.
## ---------- We can also turn to method 3 or 4 to improve the fit at a cost 
## ---------- of a somewhat greeter complexity.

## ------------------------------------------------------------------------ ##
##  Validate method 1 by the 2nd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 2nd level criterions

ValidationLevel2Method1 &lt;- ValidationLevel2(OutputMethod = OutputMethod1, MyData = MyData,
 AgeCrit = AgeCrit, ValCrit = 0.05, Excel = T)

## ---------- If the criterions corresponding to the 2nd level are not satisfied
## ---------- we turn to the method 2 and it is useless to pursue the 
## ---------- completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the completion of the table and the criterions corresponding to
## ---------- the 3rd level.

## ------------------------------------------------------------------------ ##
##  Completion Method 1                                                     ##
## ------------------------------------------------------------------------ ##

## ---------- Age range for the selection of the optimal starting age.

AgeRangeOptMale &lt;- AgeRangeOptFemale &lt;-  c(80, 80)

## ---------- In theory, we could select the optimal starting age, however 
## ---------- the optimal starting age can vary a lot with the calendar years
## ---------- leading to a relatively irregular surface. In practice, we
## ---------- select then a fixed age for the whole years.

## ---------- Starting age for which the fitted probabilities of the death are
## ---------- replaced by the values obtained from the completion model.

BegAgeCompMale &lt;- BegAgeCompFemale &lt;- 85

## ---------- We check if the completion is smoothed with graphical
## ---------- diagnostics.

CompletionMethod1 &lt;- CompletionA(OutputMethod = OutputMethod1, MyData = MyData,
 AgeRangeOptMale = AgeRangeOptMale, AgeRangeOptFemale = AgeRangeOptFemale,
 BegAgeCompMale = BegAgeCompMale, BegAgeCompFemale = BegAgeCompFemale, ShowPlot = T)

## ---------- If the completion is not satisfying, we modify the values
## ---------- AgeRangeOpt and BegAgeComp, and we repeat the previous script
## ---------- CompletionA()
## ---------- If the completion is satisfying, we execute

FinalMethod1 &lt;- CompletionB(ModCompletion = CompletionMethod1, OutputMethod = OutputMethod1,
 MyData = MyData, Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Validate method 1 by the 3rd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 3rd level criterions

ValidationLevel3Method1 &lt;- ValidationLevel3(FinalMethod = FinalMethod1, MyData = MyData,
 Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Coef Varition, Conf int. and rel. disp. of fitted per. life exp.        ##
## ------------------------------------------------------------------------ ##

## ---------- Compute the coefficient of variation, confidence intervals and
## ---------- relative dispersion of the fitted perdiodic life expectancies

DispersionMethod1 &lt;- Dispersion(FinalMethod = FinalMethod1, MyData = MyData, Plot = T,NbSim = 10)

## ######################################################################## ##
## METHOD 2 ############################################################### ##
## ######################################################################## ##

## ------------------------------------------------------------------------ ##
##  Execute method 2                                                        ##
## ------------------------------------------------------------------------ ##

OutputMethod2 &lt;- Method2(MyData = MyData, AgeRange = AgeRange, Plot = T)

## ------------------------------------------------------------------------ ##
##  Validate method 2 by the 1st level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 1st level citeria.

ValidationLevel1Method2 &lt;- ValidationLevel1(OutputMethod = OutputMethod2, MyData = MyData,
 AgeCrit = AgeCrit, ValCrit = 0.05, Plot = T, Excel = T)

## ---------- If the criterions corresponding to the 1st level are not 
## ---------- satisfied, we turn to the method 3, and it is useless to
## ---------- pursue the completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the criterions corresponding to the 2nd level.
## ---------- We can also turn to method 4 to improve the fit at a cost 
## ---------- of a somewhat greeter complexity.

## ------------------------------------------------------------------------ ##
##  Validate method 2 by the 2nd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 2nd level criterions

ValidationLevel2Method2 &lt;- ValidationLevel2(OutputMethod = OutputMethod2, AgeCrit = AgeCrit,
 ValCrit = 0.05, MyData = MyData, Excel = T)

## ---------- If the criterions corresponding to the 2nd level are not satisfied
## ---------- we turn to the method 3 and it is useless to pursue the 
## ---------- completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the completion of the table and the criterions corresponding to
## ---------- the 3rd level.

## ------------------------------------------------------------------------ ##
##  Completion Method 2                                                     ##
## ------------------------------------------------------------------------ ##

## ---------- We check if the completion is smoothed with graphical
## ---------- diqgnostics.

CompletionMethod2 &lt;- CompletionA(OutputMethod = OutputMethod2, MyData = MyData,
 AgeRangeOptMale = AgeRangeOptMale, AgeRangeOptFemale = AgeRangeOptFemale, 
BegAgeCompMale = BegAgeCompMale, BegAgeCompFemale = BegAgeCompFemale, ShowPlot = T)

## ---------- If the completion is not satisfying, we modify the values
## ---------- AgeRangeOpt and BegAgeComp, and we repeat the previous script
## ---------- CompletionA()
## ---------- If the completion is satisfying, we execute

FinalMethod2 &lt;- CompletionB(ModCompletion = CompletionMethod2, OutputMethod = OutputMethod2,
 MyData = MyData, Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Validate method 2 by the 3rd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 3rd level criterions

ValidationLevel3Method2 &lt;- ValidationLevel3(FinalMethod = FinalMethod2, MyData = MyData,
 Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Coef Varition, Conf int. and rel. disp. of fitted per. life exp.        ##
## ------------------------------------------------------------------------ ##

## ---------- Compute the coefficient of variation, confidence intervals and
## ---------- relative dispersion of the fitted perdiodic life expectancies

DispersionMethod2 &lt;- Dispersion(FinalMethod = FinalMethod2, MyData = MyData, Plot = T, NbSim = 10)

## ######################################################################## ##
## METHOD 3 ############################################################### ##
## ######################################################################## ##

## ------------------------------------------------------------------------ ##
##  Execute method 3                                                        ##
## ------------------------------------------------------------------------ ##

OutputMethod3 &lt;- Method3(MyData = MyData, AgeRange = AgeRange, Plot = T)

## ------------------------------------------------------------------------ ##
##  Validate method 3 by the 1st level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 1st level citeria.

ValidationLevel1Method3 &lt;- ValidationLevel1(OutputMethod = OutputMethod3, MyData = MyData,
 AgeCrit = AgeCrit, ValCrit = 0.05, Plot = T, Excel = T)

## ---------- If the criterions corresponding to the 1st level are not 
## ---------- satisfied, we turn to the method 4, and it is useless to
## ---------- pursue the completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the criterions corresponding to the 2nd level.

## ------------------------------------------------------------------------ ##
##  Validate method 3 by the 2nd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 2nd level criterions

ValidationLevel2Method3 &lt;- ValidationLevel2(OutputMethod = OutputMethod3, MyData = MyData,
 AgeCrit = AgeCrit, ValCrit = 0.05, Excel = T)

## ---------- If the criterions corresponding to the 2nd level are not satisfied
## ---------- we turn to the method 4 and it is useless to pursue the 
## ---------- completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the completion of the table and the criterions corresponding to
## ---------- the 3rd level.

## ------------------------------------------------------------------------ ##
##  Completion Method 3                                                     ##
## ------------------------------------------------------------------------ ##

## ---------- We check if the completion is smoothed with graphical
## ---------- diqgnostics.

CompletionMethod3 &lt;- CompletionA(OutputMethod = OutputMethod3, MyData = MyData, 
AgeRangeOptMale = AgeRangeOptMale, AgeRangeOptFemale = AgeRangeOptFemale,
 BegAgeCompMale = BegAgeCompMale, BegAgeCompFemale = BegAgeCompFemale, ShowPlot = T)

## ---------- If the completion is not satisfying, we modify the values
## ---------- AgeRangeOpt and BegAgeComp, and we repeat the previous script
## ---------- CompletionA()
## ---------- If the completion is satisfying, we execute

FinalMethod3 &lt;- CompletionB(ModCompletion = CompletionMethod3, OutputMethod = OutputMethod3,
MyData = MyData, Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Validate method 3 by the 3rd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 3rd level criterions

ValidationLevel3Method3 &lt;- ValidationLevel3(FinalMethod = FinalMethod3, MyData = MyData,
 Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Coef Varition, Conf int. and rel. disp. of fitted per. life exp.        ##
## ------------------------------------------------------------------------ ##

## ---------- Compute the coefficient of variation, confidence intervals and
## ---------- relative dispersion of the fitted perdiodic life expectancies

DispersionMethod3 &lt;- Dispersion(FinalMethod = FinalMethod3, MyData = MyData, Plot = T, NbSim = 10)

## ######################################################################## ##
## METHOD 4 ############################################################### ##
## ######################################################################## ##

## ------------------------------------------------------------------------ ##
##  Execute method 4                                                        ##
## ------------------------------------------------------------------------ ##

## ---------- Execute method 4 first part.

OutputMethod4PartOne &lt;- Method4A(MyData = MyData, AgeRange = AgeRange, AgeCrit = AgeCrit,
 ShowPlot = T)

## ---------- Select the optimal smoothing parameters.

## ---------- Execute method 4 second part.

OutputMethod4 &lt;- Method4B(PartOne, MyData = MyData, OptMale = c(1, 16),
 OptFemale = c(1, 14), Plot = T)

## ------------------------------------------------------------------------ ##
##  Validate method 4 by the 1st level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 1st level citeria.

ValidationLevel1Method4 &lt;- ValidationLevel1(OutputMethod = OutputMethod4, MyData = MyData,
 AgeCrit = AgeCrit, ValCrit = 0.05, Plot = T, Excel = T)

## ---------- If the criterions corresponding to the 1st level are not 
## ---------- satisfied, we turn to the method 4, and it is useless to
## ---------- pursue the completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the criterions corresponding to the 2nd level.

## ------------------------------------------------------------------------ ##
##  Validate method 4 by the 2nd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 2nd level criterions

ValidationLevel2Method4 &lt;- ValidationLevel2(OutputMethod = OutputMethod4, MyData = MyData,
 AgeCrit = AgeCrit, ValCrit = 0.05, Excel = T)

## ---------- If the criterions corresponding to the 2nd level are not satisfied
## ---------- we turn to the method 4 and it is useless to pursue the 
## ---------- completion of the table and the validation.
## ---------- If the criterions are satisfied, we continue the validation with
## ---------- the completion of the table and the criterions corresponding to
## ---------- the 3rd level.

## ------------------------------------------------------------------------ ##
##  Completion Method 4                                                     ##
## ------------------------------------------------------------------------ ##

## ---------- We check if the completion is smoothed with graphical
## ---------- diqgnostics.

CompletionMethod4 &lt;- CompletionA(OutputMethod = OutputMethod4, MyData = MyData,
 AgeRangeOptMale = AgeRangeOptMale, AgeRangeOptFemale = AgeRangeOptFemale, 
BegAgeCompMale = BegAgeCompMale, BegAgeCompFemale = BegAgeCompFemale, ShowPlot = T)

## ---------- If the completion is not satisfying, we modify the values
## ---------- AgeRangeOpt and BegAgeComp, and we repeat the previous script
## ---------- CompletionA()
## ---------- If the completion is satisfying, we execute

FinalMethod4 &lt;- CompletionB(ModCompletion = CompletionMethod4, OutputMethod = OutputMethod4,
 MyData = MyData, Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Validate method 4 by the 3rd level citeria                              ##
## ------------------------------------------------------------------------ ##

## ---------- Execute 3rd level criterions

ValidationLevel3Method4 &lt;- ValidationLevel3(FinalMethod = FinalMethod4, MyData = MyData,
Plot = T, Excel = T)

## ------------------------------------------------------------------------ ##
##  Coef Varition, Conf int. and rel. disp. of fitted per. life exp.        ##
## ------------------------------------------------------------------------ ##

## ---------- Set the number of simulations

## ---------- Compute the coefficient of variation, confidence intervals and
## ---------- relative dispersion of the fitted perdiodic life expectancies

DispersionMethod4 &lt;- Dispersion(FinalMethod = FinalMethod4, MyData = MyData, Plot = T, NbSim = 10)

## ######################################################################## ##
## COMPARISON OF THE METHODS ############################################## ##
## ######################################################################## ##

## ---------- Once we have fitted the data with a number of methods, we can
## ---------- compare them. In the following, we compare the fitted
## ---------- probabilities of death in original and log scale, the
## ---------- residuals, the fitted deaths as well as the coherence of the
## ---------- extrapolated mortality trends

## ---------- You can change the color vector for comparison, color need to
## ---------- be in html format

## ---------- Store the output into a list

ListOutputs &lt;- list(OutputMethod1, OutputMethod2, OutputMethod3, OutputMethod4)
ListValidationLevel1 &lt;- list(ValidationLevel1Method1, ValidationLevel1Method2,
 ValidationLevel1Method3, ValidationLevel1Method4)
ListValidationLevel2 &lt;- list(ValidationLevel2Method1, ValidationLevel2Method2,
 ValidationLevel2Method3, ValidationLevel2Method4)
ListValidationLevel3 &lt;- list(ValidationLevel3Method1, ValidationLevel3Method2,
 ValidationLevel3Method3, ValidationLevel3Method4)

ComparisonsMethodsLevels123 &lt;- ComparisonMethods(ListOutputs, ListValidationLevel1,
 ListValidationLevel2, ListValidationLevel3, MyData = MyData, Plot = T, AgeCrit = AgeCrit)


## End(Not run)
</code></pre>

<hr>
<h2 id='AddReference'>AddReference function.</h2><span id='topic+AddReference'></span>

<h3>Description</h3>

<p>This function imports reference tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AddReference(History, ReferenceMale = NULL, ReferenceFemale = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AddReference_+3A_history">History</code></td>
<td>
<p>History as returned by the ReadHistory function.</p>
</td></tr>
<tr><td><code id="AddReference_+3A_referencemale">ReferenceMale</code></td>
<td>
<p>data.frame representing the reference table. See data(ReferenceMale) for the format.</p>
</td></tr>
<tr><td><code id="AddReference_+3A_referencefemale">ReferenceFemale</code></td>
<td>
<p>data.frame representing the reference table. See data(ReferenceFemale) for the format.</p>
</td></tr>
</table>

<hr>
<h2 id='ComparisonMethods'>ComparisonMethods function</h2><span id='topic+ComparisonMethods'></span>

<h3>Description</h3>

<p>This function compares two or several methods using the three groups of criteria from the validation process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ComparisonMethods(ListOutputs, ListValidationLevel1, ListValidationLevel2,
  ListValidationLevel3, MyData = MyData, Plot = F,
  ColorComp = c("#FF6590", "#309BFF", "#AD79FC", "#3CAB5F"),
  LtyComp = rep(1, 4), AgeCrit)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ComparisonMethods_+3A_listoutputs">ListOutputs</code></td>
<td>
<p>For the comparisons of n methods, a list of n elements containing the returned value of the functions Methodn().</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_listvalidationlevel1">ListValidationLevel1</code></td>
<td>
<p>For the comparisons of n methods, a list of n elements containing the returned value of the function ValidationLevel1() for each of the n methods.</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_listvalidationlevel2">ListValidationLevel2</code></td>
<td>
<p>For the comparisons of n methods, a list of n elements containing the returned value of the function ValidationLevel2() for each of the n methods.</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_listvalidationlevel3">ListValidationLevel3</code></td>
<td>
<p>For the comparisons of n methods, a list of n elements containing the returned value of the function ValidationLevel3() for each of the n methods.</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots corresponding to the smoothed surface.</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_colorcomp">ColorComp</code></td>
<td>
<p>The color that will be used for the plots (HTML notation). For the comparisons of n methods, ColorComp is a vector of length n.</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_ltycomp">LtyComp</code></td>
<td>
<p>Vector of parameters (length n) for the lty plot parameter.</p>
</td></tr>
<tr><td><code id="ComparisonMethods_+3A_agecrit">AgeCrit</code></td>
<td>
<p>Age range for the comparison of adjusted mortality and observed mortality.</p>
</td></tr>
</table>

<hr>
<h2 id='CompletionA'>CompletionA function</h2><span id='topic+CompletionA'></span>

<h3>Description</h3>

<p>This function executes the first part of table closure using Denuit and Goderniaux (2005)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CompletionA(OutputMethod, MyData, AgeRangeOptMale, AgeRangeOptFemale,
  BegAgeCompMale, BegAgeCompFemale, Color = MyData$Param$Color,
  ShowPlot = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CompletionA_+3A_outputmethod">OutputMethod</code></td>
<td>
<p>The list returned by one of these functions : Method1(), Method2(), Method3() or Method4B().</p>
</td></tr>
<tr><td><code id="CompletionA_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="CompletionA_+3A_agerangeoptmale">AgeRangeOptMale</code></td>
<td>
<p>Age range from which the optimal starting age is selected for males</p>
</td></tr>
<tr><td><code id="CompletionA_+3A_agerangeoptfemale">AgeRangeOptFemale</code></td>
<td>
<p>Age range from which the optimal starting age is selected for females</p>
</td></tr>
<tr><td><code id="CompletionA_+3A_begagecompmale">BegAgeCompMale</code></td>
<td>
<p>For ages after BegAgeCompMale, observed death probabilitiy is replaced by the model output.</p>
</td></tr>
<tr><td><code id="CompletionA_+3A_begagecompfemale">BegAgeCompFemale</code></td>
<td>
<p>For ages after BegAgeCompFemale, observed death probabilitiy is replaced by the model output.</p>
</td></tr>
<tr><td><code id="CompletionA_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
<tr><td><code id="CompletionA_+3A_showplot">ShowPlot</code></td>
<td>
<p>If true, create graphics comparing Before/After the completion create graphics of the completed surfaces.</p>
</td></tr>
</table>

<hr>
<h2 id='CompletionB'>CompletionB function</h2><span id='topic+CompletionB'></span>

<h3>Description</h3>

<p>This function executes the second part of table closure
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CompletionB(ModCompletion, OutputMethod, MyData, Color = MyData$Param$Color,
  Plot = F, Excel = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CompletionB_+3A_modcompletion">ModCompletion</code></td>
<td>
<p>Output of the function CompletionA().</p>
</td></tr>
<tr><td><code id="CompletionB_+3A_outputmethod">OutputMethod</code></td>
<td>
<p>The list returned by one of these functions : Method1(), Method2(), Method3() or Method4B().</p>
</td></tr>
<tr><td><code id="CompletionB_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="CompletionB_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
<tr><td><code id="CompletionB_+3A_plot">Plot</code></td>
<td>
<p>If true, create graphics.</p>
</td></tr>
<tr><td><code id="CompletionB_+3A_excel">Excel</code></td>
<td>
<p>If true, create Excel files.</p>
</td></tr>
</table>

<hr>
<h2 id='Dispersion'>Dispersion function</h2><span id='topic+Dispersion'></span>

<h3>Description</h3>

<p>This function allows to calculate confidence intervals for period life expectancies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Dispersion(FinalMethod, MyData, NbSim, CompletionTable = T, Plot = F,
  Color = MyData$Param$Color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Dispersion_+3A_finalmethod">FinalMethod</code></td>
<td>
<p>The list returned by the CompletionB() function.</p>
</td></tr>
<tr><td><code id="Dispersion_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="Dispersion_+3A_nbsim">NbSim</code></td>
<td>
<p>The number of simulations for the Dispersion.</p>
</td></tr>
<tr><td><code id="Dispersion_+3A_completiontable">CompletionTable</code></td>
<td>
<p>If TRUE, apply completion</p>
</td></tr>
<tr><td><code id="Dispersion_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots describing the validation analysis.</p>
</td></tr>
<tr><td><code id="Dispersion_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
</table>

<hr>
<h2 id='FctMethod1'>FctMethod1 function</h2><span id='topic+FctMethod1'></span>

<h3>Description</h3>

<p>FctMethod1() is an alternative to Method1(). It allows to process the smoothing without using a &quot;Data&quot; object and by defining all the needed parameters independently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FctMethod1(d, e, qref, x1, x2, t1, t2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FctMethod1_+3A_d">d</code></td>
<td>
<p>Number of deaths.</p>
</td></tr>
<tr><td><code id="FctMethod1_+3A_e">e</code></td>
<td>
<p>Exposure to risk.</p>
</td></tr>
<tr><td><code id="FctMethod1_+3A_qref">qref</code></td>
<td>
<p>Mortality rates in Reference Table.</p>
</td></tr>
<tr><td><code id="FctMethod1_+3A_x1">x1</code></td>
<td>
<p>Age range used for calculation.</p>
</td></tr>
<tr><td><code id="FctMethod1_+3A_x2">x2</code></td>
<td>
<p>Age range of reference table.</p>
</td></tr>
<tr><td><code id="FctMethod1_+3A_t1">t1</code></td>
<td>
<p>Calendar years used for the calculation. It corresponds to the common years among observations and the reference table.</p>
</td></tr>
<tr><td><code id="FctMethod1_+3A_t2">t2</code></td>
<td>
<p>Calendar years of the reference.</p>
</td></tr>
</table>

<hr>
<h2 id='FctMethod2'>FctMethod2 function</h2><span id='topic+FctMethod2'></span>

<h3>Description</h3>

<p>FctMethod2() is an alternative to Method2(). It allows to process the smoothing without using a &quot;Data&quot; object and by defining all the needed parameters independently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FctMethod2(d, e, qref, x1, x2, t1, t2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FctMethod2_+3A_d">d</code></td>
<td>
<p>Number of deaths.</p>
</td></tr>
<tr><td><code id="FctMethod2_+3A_e">e</code></td>
<td>
<p>Exposure to risk.</p>
</td></tr>
<tr><td><code id="FctMethod2_+3A_qref">qref</code></td>
<td>
<p>Mortality rates in Reference Table.</p>
</td></tr>
<tr><td><code id="FctMethod2_+3A_x1">x1</code></td>
<td>
<p>Age range used for calculation.</p>
</td></tr>
<tr><td><code id="FctMethod2_+3A_x2">x2</code></td>
<td>
<p>Age range of reference table.</p>
</td></tr>
<tr><td><code id="FctMethod2_+3A_t1">t1</code></td>
<td>
<p>Calendar years used for the calculation. It corresponds to the common years among observations and the reference table.</p>
</td></tr>
<tr><td><code id="FctMethod2_+3A_t2">t2</code></td>
<td>
<p>Calendar years of the reference.</p>
</td></tr>
</table>

<hr>
<h2 id='FctMethod3'>FctMethod3 function</h2><span id='topic+FctMethod3'></span>

<h3>Description</h3>

<p>FctMethod3() is an alternative to Method3(). It allows to process the smoothing without using a &quot;Data&quot; object and by defining all the needed parameters independently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FctMethod3(d, e, qref, x1, x2, t1, t2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FctMethod3_+3A_d">d</code></td>
<td>
<p>Number of deaths.</p>
</td></tr>
<tr><td><code id="FctMethod3_+3A_e">e</code></td>
<td>
<p>Exposure to risk.</p>
</td></tr>
<tr><td><code id="FctMethod3_+3A_qref">qref</code></td>
<td>
<p>Mortality rates in Reference Table.</p>
</td></tr>
<tr><td><code id="FctMethod3_+3A_x1">x1</code></td>
<td>
<p>Age range used for calculation.</p>
</td></tr>
<tr><td><code id="FctMethod3_+3A_x2">x2</code></td>
<td>
<p>Age range of reference table.</p>
</td></tr>
<tr><td><code id="FctMethod3_+3A_t1">t1</code></td>
<td>
<p>Calendar years used for the calculation. It corresponds to the common years among observations and the reference table.</p>
</td></tr>
<tr><td><code id="FctMethod3_+3A_t2">t2</code></td>
<td>
<p>Calendar years of the reference.</p>
</td></tr>
</table>

<hr>
<h2 id='FctMethod4_1stPart'>FctMethod4_1stPart function</h2><span id='topic+FctMethod4_1stPart'></span>

<h3>Description</h3>

<p>FctMethod4_1stPart() is an alternative to Method4A(). It allows to process the smoothing without using a &quot;Data&quot; object and by defining all the needed parameters independently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FctMethod4_1stPart(d, e, qref, x1, x2, t1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FctMethod4_1stPart_+3A_d">d</code></td>
<td>
<p>Number of deaths.</p>
</td></tr>
<tr><td><code id="FctMethod4_1stPart_+3A_e">e</code></td>
<td>
<p>Exposure to risk.</p>
</td></tr>
<tr><td><code id="FctMethod4_1stPart_+3A_qref">qref</code></td>
<td>
<p>Mortality rates in Reference Table.</p>
</td></tr>
<tr><td><code id="FctMethod4_1stPart_+3A_x1">x1</code></td>
<td>
<p>Age range used for calculation.</p>
</td></tr>
<tr><td><code id="FctMethod4_1stPart_+3A_x2">x2</code></td>
<td>
<p>Age range of reference table.</p>
</td></tr>
<tr><td><code id="FctMethod4_1stPart_+3A_t1">t1</code></td>
<td>
<p>Calendar years used for the calculation. It corresponds to the common years among observations and the reference table.</p>
</td></tr>
</table>

<hr>
<h2 id='FctMethod4_2ndPart'>FctMethod4_2ndPart function</h2><span id='topic+FctMethod4_2ndPart'></span>

<h3>Description</h3>

<p>FctMethod4_2ndPart() is an alternative to Method4B(). It allows to process the smoothing without using a &quot;Data&quot; object and by defining all the needed parameters independently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FctMethod4_2ndPart(d, e, qref, x1, x2, t1, t2, P.Opt, h.Opt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FctMethod4_2ndPart_+3A_d">d</code></td>
<td>
<p>Number of deaths.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_e">e</code></td>
<td>
<p>Exposure to risk.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_qref">qref</code></td>
<td>
<p>Mortality rates in Reference Table.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_x1">x1</code></td>
<td>
<p>Age range used for calculation.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_x2">x2</code></td>
<td>
<p>Age range of reference table.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_t1">t1</code></td>
<td>
<p>Calendar years used for the calculation. It corresponds to the common years among observations and the reference table.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_t2">t2</code></td>
<td>
<p>Calendar years of the reference table.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_p.opt">P.Opt</code></td>
<td>
<p>Degree of approximation.</p>
</td></tr>
<tr><td><code id="FctMethod4_2ndPart_+3A_h.opt">h.Opt</code></td>
<td>
<p>Window width.</p>
</td></tr>
</table>

<hr>
<h2 id='Method1'>Method1 function</h2><span id='topic+Method1'></span>

<h3>Description</h3>

<p>This function fits the Qxt using method 1 (SMR method, see reference).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Method1(MyData, AgeRange, Plot = F, Color = MyData$Param$Color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Method1_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="Method1_+3A_agerange">AgeRange</code></td>
<td>
<p>Age range used for the calculation of the SMR.</p>
</td></tr>
<tr><td><code id="Method1_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots corresponding to the smoothed surface.</p>
</td></tr>
<tr><td><code id="Method1_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
</table>

<hr>
<h2 id='Method2'>Method2 function</h2><span id='topic+Method2'></span>

<h3>Description</h3>

<p>This function fits the Qxt using method 2 (two parameters relational method, see reference).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Method2(MyData, AgeRange, Plot = F, Color = MyData$Param$Color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Method2_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="Method2_+3A_agerange">AgeRange</code></td>
<td>
<p>Age range used for the calculation of the parameters.</p>
</td></tr>
<tr><td><code id="Method2_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots corresponding to the smoothed surface.</p>
</td></tr>
<tr><td><code id="Method2_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
</table>

<hr>
<h2 id='Method3'>Method3 function</h2><span id='topic+Method3'></span>

<h3>Description</h3>

<p>This function fits the Qxt using method 3 (Poisson GLM, see reference).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Method3(MyData, AgeRange, Plot = F, Color = MyData$Param$Color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Method3_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="Method3_+3A_agerange">AgeRange</code></td>
<td>
<p>Age range used for the calculation of the parameters of the Poisson model.</p>
</td></tr>
<tr><td><code id="Method3_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots corresponding to the smoothed surface.</p>
</td></tr>
<tr><td><code id="Method3_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
</table>

<hr>
<h2 id='Method4A'>Method4A function</h2><span id='topic+Method4A'></span>

<h3>Description</h3>

<p>This function fits the Qxt using method 4 (first step) (non-parametric smoothing, see reference).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Method4A(MyData, AgeRange, AgeCrit, ShowPlot = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Method4A_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="Method4A_+3A_agerange">AgeRange</code></td>
<td>
<p>Age range used for the construction of the life table.</p>
</td></tr>
<tr><td><code id="Method4A_+3A_agecrit">AgeCrit</code></td>
<td>
<p>Age range for the comparison of adjusted mortality and observed mortality.</p>
</td></tr>
<tr><td><code id="Method4A_+3A_showplot">ShowPlot</code></td>
<td>
<p>AIC plots and plots allowing to judge about the fit.</p>
</td></tr>
</table>

<hr>
<h2 id='Method4B'>Method4B function</h2><span id='topic+Method4B'></span>

<h3>Description</h3>

<p>This function fits the Qxt using method 4 (second step) (non-parametric smoothing, see reference).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Method4B(PartOne, MyData, OptMale, OptFemale, Plot = F, ShowPlot = F,
  Color = MyData$Param$Color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Method4B_+3A_partone">PartOne</code></td>
<td>
<p>The list returned by the Method4A() function.</p>
</td></tr>
<tr><td><code id="Method4B_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="Method4B_+3A_optmale">OptMale</code></td>
<td>
<p>Optimal smoothing parameters, obtained from the graphics generated by Method4A() for the male population.</p>
</td></tr>
<tr><td><code id="Method4B_+3A_optfemale">OptFemale</code></td>
<td>
<p>Optimal smoothing parameters, obtained from the graphics generated by Method4A() for the female population.</p>
</td></tr>
<tr><td><code id="Method4B_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots corresponding to the smoothed surface.</p>
</td></tr>
<tr><td><code id="Method4B_+3A_showplot">ShowPlot</code></td>
<td>
<p>If true, show plots.</p>
</td></tr>
<tr><td><code id="Method4B_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
</table>

<hr>
<h2 id='MyPortfolio'>MyPortfolio used for the exemple.</h2><span id='topic+MyPortfolio'></span>

<h3>Description</h3>

<p>Artificial Portfolio data exemple.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(MyPortfolio)</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>data(MyPortfolio)</code></pre>

<hr>
<h2 id='NoCompletion'>NoCompletion function</h2><span id='topic+NoCompletion'></span>

<h3>Description</h3>

<p>This function allows to keep the adjustment used by the locating method for high ages (for methods 1, 2 or 3).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NoCompletion(OutputMethod, MyData, Color = MyData$Param$Color, Plot = F,
  Excel = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NoCompletion_+3A_outputmethod">OutputMethod</code></td>
<td>
<p>The list returned by one of these functions : Method1(), Method2(), Method3() or Method4B().</p>
</td></tr>
<tr><td><code id="NoCompletion_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="NoCompletion_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
<tr><td><code id="NoCompletion_+3A_plot">Plot</code></td>
<td>
<p>If TRUE, final mortality surfaces will be saved in Results/Graphics/FinalTables</p>
</td></tr>
<tr><td><code id="NoCompletion_+3A_excel">Excel</code></td>
<td>
<p>If TRUE, final tables will be saved in Results/Excel/FinalTables.xlsx</p>
</td></tr>
</table>

<hr>
<h2 id='ReadHistory'>readHistory function</h2><span id='topic+ReadHistory'></span>

<h3>Description</h3>

<p>This function reads a data.frame and calculates exposure and number of deaths. This is the first function the user must call to build a mortality table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ReadHistory(MyPortfolio, DateBegObs, DateEndObs, DateFormat, Plot = F,
  Color = "#A4072E", Excel = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ReadHistory_+3A_myportfolio">MyPortfolio</code></td>
<td>
<p>MyPortfolio is a data.frame of 6 columns as follows :
-Id : Id for the line ;
-Gender : Male or Female ;
-DateOfBirth : aaaa/mm/jj ;
-DateIn : aaaa/mm/jj ;
-DateOut : aaaa/mm/jj ;
-Status : &quot;other&quot; or &quot;deceased&quot;.</p>
</td></tr>
<tr><td><code id="ReadHistory_+3A_datebegobs">DateBegObs</code></td>
<td>
<p>Date for the beginning of the observations.</p>
</td></tr>
<tr><td><code id="ReadHistory_+3A_dateendobs">DateEndObs</code></td>
<td>
<p>Date for the end of the observations.</p>
</td></tr>
<tr><td><code id="ReadHistory_+3A_dateformat">DateFormat</code></td>
<td>
<p>Date format as expected by the as.Date R function.</p>
</td></tr>
<tr><td><code id="ReadHistory_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots corresponding to the smoothed surface.</p>
</td></tr>
<tr><td><code id="ReadHistory_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
<tr><td><code id="ReadHistory_+3A_excel">Excel</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains excel files corresponding to the smoothed surface.</p>
</td></tr>
</table>

<hr>
<h2 id='ReferenceFemale'>ReferenceFemale used for the exemple.</h2><span id='topic+ReferenceFemale'></span>

<h3>Description</h3>

<p>This data corresponds to an adjusted version of the French national demographic projections INSEE 2060 for the female population.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ReferenceFemale)</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>data(ReferenceFemale)</code></pre>

<hr>
<h2 id='ReferenceMale'>ReferenceMale used for the exemple.</h2><span id='topic+ReferenceMale'></span>

<h3>Description</h3>

<p>This data corresponds to an adjusted version of the French national demographic projections INSEE 2060 for the male population.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ReferenceMale)</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>data(ReferenceMale)</code></pre>

<hr>
<h2 id='SurfacePlot'>SurfacePlot function</h2><span id='topic+SurfacePlot'></span>

<h3>Description</h3>

<p>Allows to plot a surface.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SurfacePlot(xx, zexpr, mainexpr, axis, cc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SurfacePlot_+3A_xx">xx</code></td>
<td>
<p>data as matrix.</p>
</td></tr>
<tr><td><code id="SurfacePlot_+3A_zexpr">zexpr</code></td>
<td>
<p>Title of z axis.</p>
</td></tr>
<tr><td><code id="SurfacePlot_+3A_mainexpr">mainexpr</code></td>
<td>
<p>Name for the graphic.</p>
</td></tr>
<tr><td><code id="SurfacePlot_+3A_axis">axis</code></td>
<td>
<p>c(min(abscissa), max(abscissa), min(ordinate), max(ordinate)).</p>
</td></tr>
<tr><td><code id="SurfacePlot_+3A_cc">cc</code></td>
<td>
<p>Color.</p>
</td></tr>
</table>

<hr>
<h2 id='ValidationLevel1'>ValidationLevel1 function</h2><span id='topic+ValidationLevel1'></span>

<h3>Description</h3>

<p>This function performs the first level of validation on the returned value of one of these functions : Method1(), Method2(), Method3() or Method4B().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ValidationLevel1(OutputMethod, MyData, ValCrit, AgeCrit, Plot = F,
  Color = MyData$Param$Color, Excel = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ValidationLevel1_+3A_outputmethod">OutputMethod</code></td>
<td>
<p>The list returned by one of these functions : Method1(), Method2(), Method3() or Method4B().</p>
</td></tr>
<tr><td><code id="ValidationLevel1_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="ValidationLevel1_+3A_valcrit">ValCrit</code></td>
<td>
<p>Critical value for the comparison of adjusted mortality and observed mortality.</p>
</td></tr>
<tr><td><code id="ValidationLevel1_+3A_agecrit">AgeCrit</code></td>
<td>
<p>Age range for the comparison of adjusted mortality and observed mortality.</p>
</td></tr>
<tr><td><code id="ValidationLevel1_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots describing the validation analysis.</p>
</td></tr>
<tr><td><code id="ValidationLevel1_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
<tr><td><code id="ValidationLevel1_+3A_excel">Excel</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains excel files describing the validation analysis.</p>
</td></tr>
</table>

<hr>
<h2 id='ValidationLevel2'>ValidationLevel2 function</h2><span id='topic+ValidationLevel2'></span>

<h3>Description</h3>

<p>This function performs the second level of validation on the returned value of one of these functions : Method1(), Method2(), Method3() or Method4B() (see reference).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ValidationLevel2(OutputMethod, MyData, ValCrit, AgeCrit, Excel = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ValidationLevel2_+3A_outputmethod">OutputMethod</code></td>
<td>
<p>The list returned by one of these functions : Method1(), Method2(), Method3() or Method4B().</p>
</td></tr>
<tr><td><code id="ValidationLevel2_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="ValidationLevel2_+3A_valcrit">ValCrit</code></td>
<td>
<p>Critical value for the comparison of adjusted mortality and observed mortality.</p>
</td></tr>
<tr><td><code id="ValidationLevel2_+3A_agecrit">AgeCrit</code></td>
<td>
<p>Age range for the comparison of adjusted mortality and observed mortality.</p>
</td></tr>
<tr><td><code id="ValidationLevel2_+3A_excel">Excel</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains excel files describing the validation analysis.</p>
</td></tr>
</table>

<hr>
<h2 id='ValidationLevel3'>ValidationLevel3 function</h2><span id='topic+ValidationLevel3'></span>

<h3>Description</h3>

<p>This function performs the third level of validation on the returned value of one of these functions : Method1(), Method2(), Method3() or Method4B().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ValidationLevel3(FinalMethod, MyData, Plot = F, Color = MyData$Param$Color,
  Excel = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ValidationLevel3_+3A_finalmethod">FinalMethod</code></td>
<td>
<p>The list returned by the CompletionB() function.</p>
</td></tr>
<tr><td><code id="ValidationLevel3_+3A_mydata">MyData</code></td>
<td>
<p>The list returned by the AddReference() function.</p>
</td></tr>
<tr><td><code id="ValidationLevel3_+3A_plot">Plot</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains png plots describing the validation analysis.</p>
</td></tr>
<tr><td><code id="ValidationLevel3_+3A_color">Color</code></td>
<td>
<p>The color that will be used for the plots (HTML notation).</p>
</td></tr>
<tr><td><code id="ValidationLevel3_+3A_excel">Excel</code></td>
<td>
<p>If set to TRUE, a sub-directory will be created in the working directory. This sub-directory will contains excel files describing the validation analysis.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

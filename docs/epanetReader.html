<!DOCTYPE html><html><head><title>Help for package epanetReader</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {epanetReader}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#binBreaker'><p>Bin Breaker</p></a></li>
<li><a href='#epanetDefaultOptions'><p>Epanet Default Options</p></a></li>
<li><a href='#epanetReader'><p>Read text files from Epanet into R</p></a></li>
<li><a href='#expandedLinkTable'><p>Expanded Link Table</p></a></li>
<li><a href='#is.epanet.inp'><p>Check if an object as class 'epanet.inp'</p></a></li>
<li><a href='#is.epanet.rpt'><p>Check if an object has class 'epanet.rpt'</p></a></li>
<li><a href='#is.epanetmsx.rpt'><p>Check if an object has class 'epanetmsx.rpt'</p></a></li>
<li><a href='#is.expandedLinkTable'><p>Check if an object has class 'expandedLinkTable'</p></a></li>
<li><a href='#is.sparkline'><p>Check if an object has class 'sparkline'</p></a></li>
<li><a href='#is.sparklineTable'><p>Check if an object has class 'sparklineTable'</p></a></li>
<li><a href='#Net1'><p>Epanet's Net1 Example</p></a></li>
<li><a href='#Net1rpt'><p>Epanet's Net1 Example</p></a></li>
<li><a href='#plot.epanet.inp'><p>Plot Method for epanet.inp</p></a></li>
<li><a href='#plot.epanet.rpt'><p>Plot Simulation Results</p></a></li>
<li><a href='#plot.epanetmsx.rpt'><p>Plot method for epanetmsx.rpt</p></a></li>
<li><a href='#plot.expandedLinkTable'><p>plot an expanded link table</p></a></li>
<li><a href='#plot.sparkline'><p>Plot a sparkline</p></a></li>
<li><a href='#plot.sparklineTable'><p>Plot Sparkline Table</p></a></li>
<li><a href='#plotElementsLegend'><p>Plot Legend of Network Elements</p></a></li>
<li><a href='#plotInpLinks'><p>Plot .inp Links</p></a></li>
<li><a href='#plotInpNodes'><p>Plot Node Elements</p></a></li>
<li><a href='#plotSparklineTable'><p>Plot Sparkline Table</p></a></li>
<li><a href='#print.summary.epanet.rpt'><p>Print rpt summary</p></a></li>
<li><a href='#print.summary.epanetmsx.rpt'><p>Print msx rpt summary</p></a></li>
<li><a href='#read_lines_wrapper'><p>Read lines wrapper</p></a></li>
<li><a href='#read.inp'><p>Read .inp file</p></a></li>
<li><a href='#read.msxrpt'><p>Read msx results</p></a></li>
<li><a href='#read.rpt'><p>Read .rpt file</p></a></li>
<li><a href='#sparkline'><p>Sparkline</p></a></li>
<li><a href='#sparklineTable'><p>Sparkline Table</p></a></li>
<li><a href='#summary.epanet.inp'><p>Summary Method for epanet.inp</p></a></li>
<li><a href='#summary.epanet.rpt'><p>Summary of Epanet Simulation Results</p></a></li>
<li><a href='#summary.epanetmsx.rpt'><p>Summary of Epanet-msx Simulation Results</p></a></li>
<li><a href='#write.inp'><p>Write .inp file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Read Epanet Files into R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-06-27</td>
</tr>
<tr>
<td>Author:</td>
<td>Bradley J. Eck</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bradley Eck &lt;brad@bradeck.net&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), graphics, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, epanet2toolkit, data.table (&ge; 1.11.2)</td>
</tr>
<tr>
<td>Description:</td>
<td>Reads water network simulation data in 'Epanet' text-based
    '.inp' and '.rpt' formats into R. Also reads results from 'Epanet-msx'.
    Provides basic summary information and plots.  The README file has a 
    quick introduction. See <a href="http://www2.epa.gov/water-research/epanet">http://www2.epa.gov/water-research/epanet</a> 
    for more information on the Epanet software for modeling
    hydraulic and water quality behavior of water piping systems.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bradleyjeck/epanetReader">https://github.com/bradleyjeck/epanetReader</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-06-26 04:10:47 UTC; brad</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-06-26 04:44:58 UTC</td>
</tr>
</table>
<hr>
<h2 id='binBreaker'>Bin Breaker</h2><span id='topic+binBreaker'></span>

<h3>Description</h3>

<p>Generate break points for use with cut() 
and range labels based on sample max and min
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binBreaker(x, nbin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="binBreaker_+3A_x">x</code></td>
<td>
<p>vector to find cuts for</p>
</td></tr>
<tr><td><code id="binBreaker_+3A_nbin">nbin</code></td>
<td>
<p>number of bins</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Helpful in making labels use the acutal max and min rather than
the +/- 1
</p>


<h3>Value</h3>

<p>list with elements Breaks and Labels
</p>

<hr>
<h2 id='epanetDefaultOptions'>Epanet Default Options</h2><span id='topic+epanetDefaultOptions'></span>

<h3>Description</h3>

<p>A list of Epanet's default options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epanetDefaultOptions()
</code></pre>


<h3>Details</h3>

<p>Provides a named list in the form of OPTION = default_value where the 
values are taken from pages 152-154 of the manual.
</p>


<h3>References</h3>

<p>Rossman, L. A. (2000). Epanet 2 users manual. US EPA, Cincinnati, Ohio.
http://nepis.epa.gov/Adobe/PDF/P1007WWU.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>epanetDefaultOptions() 
</code></pre>

<hr>
<h2 id='epanetReader'>Read text files from Epanet into R</h2><span id='topic+epanetReader'></span><span id='topic+epanetReader-package'></span>

<h3>Description</h3>

<p><span class="pkg">epanetReader</span> is a package for reading water network information
and simulation results in Epanet's .inp
and .rpt files into R.  See functions <a href="#topic+read.inp">read.inp</a>, 
<a href="#topic+read.rpt">read.rpt</a>, and <a href="#topic+read.msxrpt">read.msxrpt</a> for some examples.
</p>


<h3>Author(s)</h3>

<p>Bradley J. Eck
</p>

<hr>
<h2 id='expandedLinkTable'>Expanded Link Table</h2><span id='topic+expandedLinkTable'></span>

<h3>Description</h3>

<p>Create an expandedLinkTable object by adding node coordinates to a 
data frame of pipes, pumps, or valves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expandedLinkTable(Links, Coordinates)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expandedLinkTable_+3A_links">Links</code></td>
<td>
<p>data frame of Pipes, Pumps or Valves of from epanet.inp</p>
</td></tr>
<tr><td><code id="expandedLinkTable_+3A_coordinates">Coordinates</code></td>
<td>
<p>table of epanet.inp</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an expandedLinkTable object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- expandedLinkTable(Net1$Pipes, Net1$Coordinates) 
print(x)
plot(x) 
</code></pre>

<hr>
<h2 id='is.epanet.inp'>Check if an object as class 'epanet.inp'</h2><span id='topic+is.epanet.inp'></span>

<h3>Description</h3>

<p>Check if an object as class 'epanet.inp'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.epanet.inp(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.epanet.inp_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='is.epanet.rpt'>Check if an object has class 'epanet.rpt'</h2><span id='topic+is.epanet.rpt'></span>

<h3>Description</h3>

<p>Check if an object has class 'epanet.rpt'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.epanet.rpt(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.epanet.rpt_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='is.epanetmsx.rpt'>Check if an object has class 'epanetmsx.rpt'</h2><span id='topic+is.epanetmsx.rpt'></span>

<h3>Description</h3>

<p>Check if an object has class 'epanetmsx.rpt'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.epanetmsx.rpt(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.epanetmsx.rpt_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='is.expandedLinkTable'>Check if an object has class 'expandedLinkTable'</h2><span id='topic+is.expandedLinkTable'></span>

<h3>Description</h3>

<p>Check if an object has class 'expandedLinkTable'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.expandedLinkTable(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.expandedLinkTable_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='is.sparkline'>Check if an object has class 'sparkline'</h2><span id='topic+is.sparkline'></span>

<h3>Description</h3>

<p>Check if an object has class 'sparkline'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.sparkline(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.sparkline_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='is.sparklineTable'>Check if an object has class 'sparklineTable'</h2><span id='topic+is.sparklineTable'></span>

<h3>Description</h3>

<p>Check if an object has class 'sparklineTable'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.sparklineTable(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.sparklineTable_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
</table>

<hr>
<h2 id='Net1'>Epanet's Net1 Example</h2><span id='topic+Net1'></span>

<h3>Description</h3>

<p>A dataset created by reading the Net1.inp file
distributed with Epanet using this package's
read.inp() function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Net1
</code></pre>


<h3>Format</h3>

<p>An object of class <code>epanet.inp</code> created by <a href="#topic+read.inp">read.inp</a>.</p>


<h3>Source</h3>

<p>http://www.epa.gov/sites/production/files/2014-06/en2setup_0.exe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#confirm built-in dataset matches output of read.inp
inp &lt;- file.path( find.package("epanetReader"), "extdata","Net1.inp") 
n1 &lt;- suppressWarnings( read.inp(inp) )
ok &lt;- isTRUE( all.equal(Net1, n1))
if( ok==FALSE) stop("built-in Net1 doesn't match read.inp")
</code></pre>

<hr>
<h2 id='Net1rpt'>Epanet's Net1 Example</h2><span id='topic+Net1rpt'></span>

<h3>Description</h3>

<p>A dataset created by reading the Net1.rpt file
distributed with Epanet using this package's
read.rpt() function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Net1rpt
</code></pre>


<h3>Format</h3>

<p>An object of class <code>epanet.rpt</code> created by <a href="#topic+read.rpt">read.rpt</a>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>#confirm built-in dataset matches output of read.rpt
rpt &lt;- file.path( find.package("epanetReader"), "extdata","Net1.rpt") 
n1r &lt;- read.rpt(rpt)
ok &lt;- isTRUE( all.equal(Net1rpt, n1r))
if( ok==FALSE) stop("built-in Net1rpt doesn't match read.rpt")
</code></pre>

<hr>
<h2 id='plot.epanet.inp'>Plot Method for epanet.inp</h2><span id='topic+plot.epanet.inp'></span>

<h3>Description</h3>

<p>Make a plot of the network using base graphics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'epanet.inp'
plot(x, plot.junctions = TRUE,
  legend.locn = "topright", plot.labels = FALSE, link.lwd = 3,
  link.col = "black", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.epanet.inp_+3A_x">x</code></td>
<td>
<p>object of class epanet.inp</p>
</td></tr>
<tr><td><code id="plot.epanet.inp_+3A_plot.junctions">plot.junctions</code></td>
<td>
<p>logical indicating whether to plot junctions</p>
</td></tr>
<tr><td><code id="plot.epanet.inp_+3A_legend.locn">legend.locn</code></td>
<td>
<p>character string passed to legend() specifying
the location of the legend on the plot</p>
</td></tr>
<tr><td><code id="plot.epanet.inp_+3A_plot.labels">plot.labels</code></td>
<td>
<p>logical indicating whether to plot the labels using text()</p>
</td></tr>
<tr><td><code id="plot.epanet.inp_+3A_link.lwd">link.lwd</code></td>
<td>
<p>value of lwd passed to segments()</p>
</td></tr>
<tr><td><code id="plot.epanet.inp_+3A_link.col">link.col</code></td>
<td>
<p>value of col passed to segments()</p>
</td></tr>
<tr><td><code id="plot.epanet.inp_+3A_...">...</code></td>
<td>
<p>other arguments passed to plot()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implements the generic plot function for S3 objects of class epanet.inp.
The plot is built from base graphics by creating a blank plot and then calling 
the helper functions plotInpLinks(), plotInpNodes(), plotElementsLegend().
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(Net1) 
plot(Net1, plot.labels=TRUE)
</code></pre>

<hr>
<h2 id='plot.epanet.rpt'>Plot Simulation Results</h2><span id='topic+plot.epanet.rpt'></span>

<h3>Description</h3>

<p>Plots simulation results for a single time step in map form
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'epanet.rpt'
plot(x, inp, Timestep = "0:00:00", juncQty = "Demand",
  linkQty = "Velocity", legend1.locn = "topright",
  legend2.locn = "topleft", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.epanet.rpt_+3A_x">x</code></td>
<td>
<p>epanet.rpt object</p>
</td></tr>
<tr><td><code id="plot.epanet.rpt_+3A_inp">inp</code></td>
<td>
<p>epanet.inp object associated with x</p>
</td></tr>
<tr><td><code id="plot.epanet.rpt_+3A_timestep">Timestep</code></td>
<td>
<p>string indicating the time to plot</p>
</td></tr>
<tr><td><code id="plot.epanet.rpt_+3A_juncqty">juncQty</code></td>
<td>
<p>string specifying which column of x$nodeResults
(Demand, Head, Pressure, Chlorine, etc.) 
to show by circle size at network junctions</p>
</td></tr>
<tr><td><code id="plot.epanet.rpt_+3A_linkqty">linkQty</code></td>
<td>
<p>string specifying which column of x$linkResults
(Flow, Velocity, Headloss)
to show by line width on network links</p>
</td></tr>
<tr><td><code id="plot.epanet.rpt_+3A_legend1.locn">legend1.locn</code></td>
<td>
<p>string passed to legend() for placing legend of network elements</p>
</td></tr>
<tr><td><code id="plot.epanet.rpt_+3A_legend2.locn">legend2.locn</code></td>
<td>
<p>string passed to legend() for placing legend of junction and link quantities</p>
</td></tr>
<tr><td><code id="plot.epanet.rpt_+3A_...">...</code></td>
<td>
<p>further arguments passed to plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>juncQty plots and values for Junctions only; Tanks and Reservoirs are not included.
In contrast, linkQty is scaled over all of the link types: Pipes, Pumps &amp; Valves.
These choices aim at a map showing demand at junctions and velocity in links.
</p>

<hr>
<h2 id='plot.epanetmsx.rpt'>Plot method for epanetmsx.rpt</h2><span id='topic+plot.epanetmsx.rpt'></span>

<h3>Description</h3>

<p>Plots a sparkline table of Epanet-msx results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'epanetmsx.rpt'
plot(x, elementType = "Nodes", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.epanetmsx.rpt_+3A_x">x</code></td>
<td>
<p>epanetmsx.rpt object</p>
</td></tr>
<tr><td><code id="plot.epanetmsx.rpt_+3A_elementtype">elementType</code></td>
<td>
<p>character indicating whether results for &quot;nodes&quot; or links&quot; should be plotted</p>
</td></tr>
<tr><td><code id="plot.epanetmsx.rpt_+3A_...">...</code></td>
<td>
<p>further arguments passed to plotSparklineTable</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>plotSparklineTable
</p>

<hr>
<h2 id='plot.expandedLinkTable'>plot an expanded link table</h2><span id='topic+plot.expandedLinkTable'></span>

<h3>Description</h3>

<p>plot an expanded link table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'expandedLinkTable'
plot(x, add = FALSE, label = FALSE,
  linewidths = 3, color = "black", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.expandedLinkTable_+3A_x">x</code></td>
<td>
<p>object of type expandedLinkTable</p>
</td></tr>
<tr><td><code id="plot.expandedLinkTable_+3A_add">add</code></td>
<td>
<p>logical indicating whether to add to the currently active plot.
add=FALSE creates a new plot.</p>
</td></tr>
<tr><td><code id="plot.expandedLinkTable_+3A_label">label</code></td>
<td>
<p>logical indicating if the links should be labeled at the mid points</p>
</td></tr>
<tr><td><code id="plot.expandedLinkTable_+3A_linewidths">linewidths</code></td>
<td>
<p>passed to lwd argument in segments()</p>
</td></tr>
<tr><td><code id="plot.expandedLinkTable_+3A_color">color</code></td>
<td>
<p>passed to col argument in segments()</p>
</td></tr>
<tr><td><code id="plot.expandedLinkTable_+3A_...">...</code></td>
<td>
<p>further arguments passed to segments()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An implementation of the generic plot function for
expandedLinkTable objects. Links are drawn using segments(). 
Useful for building up network plots.
</p>

<hr>
<h2 id='plot.sparkline'>Plot a sparkline</h2><span id='topic+plot.sparkline'></span>

<h3>Description</h3>

<p>Plot a sparkline
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sparkline'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.sparkline_+3A_x">x</code></td>
<td>
<p>sparkline object</p>
</td></tr>
<tr><td><code id="plot.sparkline_+3A_...">...</code></td>
<td>
<p>further arguments passed to plot.default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implementation of the generic plot function for a single sparkline object.
The primarily used to build up plots of a sparklineTable
</p>


<h3>See Also</h3>

<p>sparkline
</p>

<hr>
<h2 id='plot.sparklineTable'>Plot Sparkline Table</h2><span id='topic+plot.sparklineTable'></span>

<h3>Description</h3>

<p>Plot Sparkline Table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sparklineTable'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.sparklineTable_+3A_x">x</code></td>
<td>
<p>object of class sparklineTable</p>
</td></tr>
<tr><td><code id="plot.sparklineTable_+3A_...">...</code></td>
<td>
<p>further arguments passed to par</p>
</td></tr>
</table>

<hr>
<h2 id='plotElementsLegend'>Plot Legend of Network Elements</h2><span id='topic+plotElementsLegend'></span>

<h3>Description</h3>

<p>Add legend of network elements to the active plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotElementsLegend(legend.locn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotElementsLegend_+3A_legend.locn">legend.locn</code></td>
<td>
<p>keyword for location of legend. See details of legend()
function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Helper function for adding a legend to the active plot.  
Uses plot characters 16, 15, 8 and 25 for Tanks, Reservoirs, Pumps and Valves 
for compatibility with plotInpNodes()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## make a new blank plot 
plot( c(0,1), c(0,1), type = 'n') 
## add the nodes, including junctions 
plotElementsLegend('topright') 
</code></pre>

<hr>
<h2 id='plotInpLinks'>Plot .inp Links</h2><span id='topic+plotInpLinks'></span>

<h3>Description</h3>

<p>Add lines for pipes, pumps and valves
from an epanet.inp object to an existing plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotInpLinks(x, lwd = 3, col = "black")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotInpLinks_+3A_x">x</code></td>
<td>
<p>epanet.inp object</p>
</td></tr>
<tr><td><code id="plotInpLinks_+3A_lwd">lwd</code></td>
<td>
<p>width of lines</p>
</td></tr>
<tr><td><code id="plotInpLinks_+3A_col">col</code></td>
<td>
<p>color of lines</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Helper function for building up a plot of the network by
adding links to an existing plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## make a new blank plot 
plot( range(Net1$Coordinates$X), range(Net1$Coordinates$Y), type = 'n') 
## add the links
plotInpLinks(Net1) 
</code></pre>

<hr>
<h2 id='plotInpNodes'>Plot Node Elements</h2><span id='topic+plotInpNodes'></span>

<h3>Description</h3>

<p>Adds node elements from epanet.inp object to an existing plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotInpNodes(x, plot.junctions)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotInpNodes_+3A_x">x</code></td>
<td>
<p>epanet.inp object</p>
</td></tr>
<tr><td><code id="plotInpNodes_+3A_plot.junctions">plot.junctions</code></td>
<td>
<p>logical indicating whether to plot junctions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Helper function for building up a network plot. Tanks and
Reservoirs are shown using plot characters (pch) '           16 and 15.
Junctions, if plotted, appear as pch =&quot;.&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## make a new blank plot 
plot( range(Net1$Coordinates$X), range(Net1$Coordinates$Y), type = 'n') 
## add the nodes, including junctions 
plotInpNodes(Net1, TRUE ) 
</code></pre>

<hr>
<h2 id='plotSparklineTable'>Plot Sparkline Table</h2><span id='topic+plotSparklineTable'></span>

<h3>Description</h3>

<p>Generate a table of sparkline plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotSparklineTable(df, row.var, col.vars, xvar = NULL, xrange.labels = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotSparklineTable_+3A_df">df</code></td>
<td>
<p>data.frame of values to plot.</p>
</td></tr>
<tr><td><code id="plotSparklineTable_+3A_row.var">row.var</code></td>
<td>
<p>variable for rows of the table</p>
</td></tr>
<tr><td><code id="plotSparklineTable_+3A_col.vars">col.vars</code></td>
<td>
<p>variables for columns of the table</p>
</td></tr>
<tr><td><code id="plotSparklineTable_+3A_xvar">xvar</code></td>
<td>
<p>optional name of variable for horizontal axis of sparkline plots</p>
</td></tr>
<tr><td><code id="plotSparklineTable_+3A_xrange.labels">xrange.labels</code></td>
<td>
<p>optional vector of length 2 with labels for the first
and last quantities plotted on x-axis, often a date and/or time</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates a table of 'sparkline' plots of data in df. rows the table correspond to 
different values of row.var. The table's first column gives the value of row.var. The 
remaining columns contain sparkline plots for the values of col.vars.  When xvar is not
provided values are plotted against their index in the extracted vector. The starting
and ending values are labeled. 
Uses layout() function to arrange plots.
</p>


<h3>References</h3>

<p>E. Tufte, Beautiful Evidence, Graphics Press, 2006.
</p>


<h3>See Also</h3>

<p>yaletoolkit and sparkTable packages
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotSparklineTable( Orange, row.var = 'Tree', col.vars = c('age','circumference'))
plotSparklineTable( Loblolly, row.var = 'Seed', col.vars = 'height')
## specify the x variable if you have it, especially if it differs 
plotSparklineTable(Theoph, row.var = 'Subject', col.vars = 'conc')
## a warning is normally issued with the ranges of xvar differ 
suppressWarnings( plotSparklineTable(Theoph, row.var = 'Subject', col.vars = 'conc', xvar = 'Time'))
</code></pre>

<hr>
<h2 id='print.summary.epanet.rpt'>Print rpt summary</h2><span id='topic+print.summary.epanet.rpt'></span>

<h3>Description</h3>

<p>The function prints a summary of simulation results
contained in the rpt file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.epanet.rpt'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.summary.epanet.rpt_+3A_x">x</code></td>
<td>
<p>a summary.epanet.rpt object</p>
</td></tr>
<tr><td><code id="print.summary.epanet.rpt_+3A_...">...</code></td>
<td>
<p>further arguments passed to print</p>
</td></tr>
</table>

<hr>
<h2 id='print.summary.epanetmsx.rpt'>Print msx rpt summary</h2><span id='topic+print.summary.epanetmsx.rpt'></span>

<h3>Description</h3>

<p>The function prints a summary of multi-species simulation results
contained in the report file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.epanetmsx.rpt'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.summary.epanetmsx.rpt_+3A_x">x</code></td>
<td>
<p>a summary.epanetmsx.rpt object</p>
</td></tr>
<tr><td><code id="print.summary.epanetmsx.rpt_+3A_...">...</code></td>
<td>
<p>further arguments passed to print</p>
</td></tr>
</table>

<hr>
<h2 id='read_lines_wrapper'>Read lines wrapper</h2><span id='topic+read_lines_wrapper'></span>

<h3>Description</h3>

<p>Wrapper function for different implementations of
readlines functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_lines_wrapper(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_lines_wrapper_+3A_file">file</code></td>
<td>
<p>the name of the file to read</p>
</td></tr>
</table>


<h3>Details</h3>

<p>calls Kmisc::readlines if available and base::readLines otherwise
</p>


<h3>Value</h3>

<p>character vector where each entry corresponds to 
a line in the file.
</p>

<hr>
<h2 id='read.inp'>Read .inp file</h2><span id='topic+read.inp'></span><span id='topic+epanet.inp'></span>

<h3>Description</h3>

<p>Read an Epanet .inp file into R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.inp(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.inp_+3A_file">file</code></td>
<td>
<p>the name of the file to read</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function reads a text file in Epanet's .inp format 
and returns an S3 object with entries for 
sections of the .inp file.  Sections of the .inp file that are implemented 
appear in the Value section.
</p>
<p>Fields for node or link ID are stored as characters not factors or integers.
However, some fields are stored as factors
to allow more informative summaries. Examples include valve type and pipe status.  
</p>
<p>Sections that are absent from the .inp file are NULL in the list.
</p>
<p>Columns of data.frames use the headings exported by 
the Epanet GUI. 
</p>
<p>The [OPTIONS] section in the .inp file is used to update
a list of Epanet's default options. In this way if an option such as
units is not specified by the .inp file, the units that would be used by
default are provided.
</p>
<p>In the [PATTERNS] and [CURVES] sections, integers used as names of list elements are backquoted
according to the default behavior in R.  So if the .inp file has a pattern &quot;1&quot;
this pattern will appear as element '1' in the list that is returned. A warning is issued in this case.
</p>


<h3>Value</h3>

<p>Returns an epanet.inp S3 object with 
elements of the following names and types corresponding to sections
of the .inp file. Sections missing from the .inp file have a value of NULL.
</p>
<table>
<tr><td><code>Title</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Junctions</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Tanks</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Reservoirs</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Pipes</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Pumps</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Valves</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Demands</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Status</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Emitters</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Quality</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Sources</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Reactions</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Mixing</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Patterns</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code>Curves</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code>Controls</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Rules</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Energy</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Times</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Report</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Options</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code>Coordinates</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Vertices</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Labels</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>Backdrop</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code>Tags</code></td>
<td>
<p>character</p>
</td></tr>
</table>


<h3>References</h3>

<p>Rossman, L. A. (2000). Epanet 2 users manual. US EPA, Cincinnati, Ohio.
</p>
<p>http://nepis.epa.gov/Adobe/PDF/P1007WWU.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanetReader"), "extdata","Net1.inp") 

#read the network file into R
n1 &lt;- read.inp(inp)
summary(n1)
names(n1)
summary(n1$Junctions)
summary(n1$Pipes)
plot(n1) 
</code></pre>

<hr>
<h2 id='read.msxrpt'>Read msx results</h2><span id='topic+read.msxrpt'></span><span id='topic+epanetmsx.rpt'></span>

<h3>Description</h3>

<p>reads an Epanet-msx .rpt file into R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.msxrpt(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.msxrpt_+3A_file">file</code></td>
<td>
<p>the name of the file to read</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specify the needed outputs from an Epanet-msx simulation in the
[REPORT] section of the .msx file to create reports for reading with 
with this function. 
</p>
<p>The function returns an S3 object (list) with a data.frame for node results and
data.frame for link results.  These data.frames contain results from all
the time periods to facilitate time series plots.
</p>


<h3>Value</h3>

<p>Returns an epanetmsx.rpt S3 object . 
</p>
<table>
<tr><td><code>nodeResults</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>linkResults</code></td>
<td>
<p>data.frame</p>
</td></tr>
</table>


<h3>References</h3>

<p>Shang, F., Uber, J.G., Rossman, L.A. (2011)
EPANET Multi-species Extension User's Manual.
US Environmental Protection Agency, Cincinnati.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to example file included with this package
msr &lt;- file.path( find.package("epanetReader"), "extdata","example.rpt") 

#read the results into R
x &lt;- read.msxrpt(msr)
names(x)
summary(x)
plot(x)
</code></pre>

<hr>
<h2 id='read.rpt'>Read .rpt file</h2><span id='topic+read.rpt'></span>

<h3>Description</h3>

<p>reads an Epanet .rpt file into R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.rpt(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.rpt_+3A_file">file</code></td>
<td>
<p>the name of the file to read</p>
</td></tr>
</table>


<h3>Details</h3>

<p>add lines &quot;Page 0&quot;, &quot;Links All&quot; and &quot;Nodes All&quot; to the
[REPORT] section of the .inp file to output info to read in
with this function
</p>
<p>In contrast to the treatment of .inp files, data from .rpt
files is stored using a slightly different structure than the .rpt file.  The
function returns an object (list) with a data.frame for node results and
data.frame for link results and a data.frame for energy usage.  The node and
link results data frames contain results from all the time periods to
facilitate time series plots.
</p>


<h3>Value</h3>

<p>Returns an epanet.rpt S3 object with two data.frame elements. 
</p>
<table>
<tr><td><code>nodeResults</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>linkResults</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code>energyUsage</code></td>
<td>
<p>data.frame</p>
</td></tr>
</table>


<h3>References</h3>

<p>Rossman, L. A. (2000). Epanet 2 users manual. US EPA, Cincinnati, Ohio.
</p>
<p>http://nepis.epa.gov/Adobe/PDF/P1007WWU.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.rpt example file included with this package
rpt &lt;- file.path( find.package("epanetReader"), "extdata","Net1.rpt") 
n1r &lt;- read.rpt(rpt)
summary(n1r)
names(n1r)

#Results for a chosen time period can be retrieved using the subset function.
subset(n1r$nodeResults, Timestamp == "0:00:00")

# time series plot for a nodal value
plot( Chlorine ~ timeInSeconds,  
      data = subset(n1r$nodeResults, ID == "22"))    

# Plotting the epanet.rpt object itself gives a map.
# Note that the object created from the .inp file is required.
inp &lt;- file.path( find.package("epanetReader"), "extdata","Net1.inp") 
n1 &lt;- read.inp(inp)
plot( n1r, n1)

# Energy Usage table
print(n1r$energyUsage)
</code></pre>

<hr>
<h2 id='sparkline'>Sparkline</h2><span id='topic+sparkline'></span>

<h3>Description</h3>

<p>Create sparkline object by extracting from a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sparkline(df, id.var, ID, yvar, xvar)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sparkline_+3A_df">df</code></td>
<td>
<p>data.frame from which data for the sparkline is extracted</p>
</td></tr>
<tr><td><code id="sparkline_+3A_id.var">id.var</code></td>
<td>
<p>variable in df with IDs</p>
</td></tr>
<tr><td><code id="sparkline_+3A_id">ID</code></td>
<td>
<p>value in id.var on which to extract</p>
</td></tr>
<tr><td><code id="sparkline_+3A_yvar">yvar</code></td>
<td>
<p>name of variable for the y values in the sparkline</p>
</td></tr>
<tr><td><code id="sparkline_+3A_xvar">xvar</code></td>
<td>
<p>optional name of variable for horizontal axis of sparkline plots</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates an object with info for a single sparkline by extracting 
from a data.frame.  The function works on data.frames with one column of ID variables
and possibly several columns of other variables.  The main use is 
as a helper function for building up a <a href="#topic+sparklineTable">sparklineTable</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## look at the names in the built-in data set Theoph
names(Theoph) 
## make sparkline object for the concentration over time in subject 2
sl &lt;- sparkline(df= Theoph, id.var = 'Subject', ID = 2, yvar='conc', xvar = 'Time') 
plot(sl)
</code></pre>

<hr>
<h2 id='sparklineTable'>Sparkline Table</h2><span id='topic+sparklineTable'></span>

<h3>Description</h3>

<p>Create S3 object of data for table of sparklines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sparklineTable(df, row.var, col.vars, xvar = NULL, xrange.labels = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sparklineTable_+3A_df">df</code></td>
<td>
<p>data.frame of values to plot.</p>
</td></tr>
<tr><td><code id="sparklineTable_+3A_row.var">row.var</code></td>
<td>
<p>variable for rows of the table</p>
</td></tr>
<tr><td><code id="sparklineTable_+3A_col.vars">col.vars</code></td>
<td>
<p>variables for columns of the table</p>
</td></tr>
<tr><td><code id="sparklineTable_+3A_xvar">xvar</code></td>
<td>
<p>optional name of variable for horizontal axis of sparkline plots</p>
</td></tr>
<tr><td><code id="sparklineTable_+3A_xrange.labels">xrange.labels</code></td>
<td>
<p>optional vector of length 2 with labels for the first
and last quantities plotted on x-axis, often a date and/or time</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>plotSparklineTable
</p>

<hr>
<h2 id='summary.epanet.inp'>Summary Method for epanet.inp</h2><span id='topic+summary.epanet.inp'></span>

<h3>Description</h3>

<p>Summarizes the network by printing the Title of the
network and the number of each type of elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'epanet.inp'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.epanet.inp_+3A_object">object</code></td>
<td>
<p>of class epanet.inp</p>
</td></tr>
<tr><td><code id="summary.epanet.inp_+3A_...">...</code></td>
<td>
<p>futher arguments</p>
</td></tr>
</table>

<hr>
<h2 id='summary.epanet.rpt'>Summary of Epanet Simulation Results</h2><span id='topic+summary.epanet.rpt'></span>

<h3>Description</h3>

<p>Provides a basic summary of simulation results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'epanet.rpt'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.epanet.rpt_+3A_object">object</code></td>
<td>
<p>of epanet.rpt class</p>
</td></tr>
<tr><td><code id="summary.epanet.rpt_+3A_...">...</code></td>
<td>
<p>further arguments passed to summary()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Summary of pipe results shows positive and negative
values of flow but only positive values of velocity
as in the rpt file.
</p>

<hr>
<h2 id='summary.epanetmsx.rpt'>Summary of Epanet-msx Simulation Results</h2><span id='topic+summary.epanetmsx.rpt'></span>

<h3>Description</h3>

<p>Provides a basic summary of simulation results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'epanetmsx.rpt'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.epanetmsx.rpt_+3A_object">object</code></td>
<td>
<p>of epanetmsx.rpt class</p>
</td></tr>
<tr><td><code id="summary.epanetmsx.rpt_+3A_...">...</code></td>
<td>
<p>further arguments passed to summary()</p>
</td></tr>
</table>

<hr>
<h2 id='write.inp'>Write .inp file</h2><span id='topic+write.inp'></span>

<h3>Description</h3>

<p>Write an epanet.inp object to a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.inp(x, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.inp_+3A_x">x</code></td>
<td>
<p>epanet.inp object to write</p>
</td></tr>
<tr><td><code id="write.inp_+3A_file">file</code></td>
<td>
<p>the name of the file where object is written</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Writes an epanet.inp object to a file suitable for simulation
with EPANET.
</p>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>write.inp(Net1, "Net1-fromR.inp")
n1 &lt;- read.inp("Net1-fromR.inp")
all.equal(Net1, n1)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

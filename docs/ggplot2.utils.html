<!DOCTYPE html><html><head><title>Help for package ggplot2.utils</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggplot2.utils}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#geom_km'><p>Add a Kaplan-Meier Survival Curve</p></a></li>
<li><a href='#geom_km_ticks'><p>Add Tick Marks to a Kaplan-Meier Survival Curve</p></a></li>
<li><a href='#geom_table'><p>Inset tables</p></a></li>
<li><a href='#GeomKm'><p>New <code>ggproto</code> Objects</p></a></li>
<li><a href='#ggplot2.utils-package'><p><code>ggplot2.utils</code> Package</p></a></li>
<li><a href='#h_surv_fit'><p>Helper for Common Kaplan-Meier Computations</p></a></li>
<li><a href='#stat_km'><p>Adds a Kaplan-Meier Estimate of Survival Statistic</p></a></li>
<li><a href='#stat_km_compute'><p>Helper for <code>stat_km</code></p></a></li>
<li><a href='#stat_km_ticks'><p>Adds Tick Marks to a Kaplan-Meier Estimate of Survival Statistic</p></a></li>
<li><a href='#stat_km_ticks_compute'><p>Helper for <code>stat_km_ticks</code></p></a></li>
<li><a href='#stat_n_text'><p>Add Text Indicating the Sample Size to a ggplot2 Plot</p></a></li>
<li><a href='#stat_prop'><p>Compute Proportions According to Custom Denominator</p></a></li>
<li><a href='#ttheme_gtdefault'><p>Table themes</p></a></li>
<li><a href='#ttheme_set'><p>Set default table theme</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Selected Utilities Extending 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-12-12</td>
</tr>
<tr>
<td>Description:</td>
<td>Selected utilities, in particular 'geoms' and 'stats'
    functions, extending the 'ggplot2' package. This package imports
    functions from 'EnvStats' &lt;<a href="https://doi.org/10.1007%2F978-1-4614-8456-1">doi:10.1007/978-1-4614-8456-1</a>&gt; by Millard (2013), 
    'ggpp' <a href="https://CRAN.R-project.org/package=ggpp">https://CRAN.R-project.org/package=ggpp</a> by Aphalo et al. (2023) 
    and 'ggstats' &lt;<a href="https://doi.org/10.5281%2Fzenodo.10183964">doi:10.5281/zenodo.10183964</a>&gt; by Larmarange (2023), 
    and then exports them. This package also contains modified code from 
    'ggquickeda' <a href="https://CRAN.R-project.org/package=ggquickeda">https://CRAN.R-project.org/package=ggquickeda</a> by 
    Mouksassi et al. (2023) for Kaplan-Meier lines and ticks additions to plots.  
    All functions are tested to make sure that they work reliably.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://insightsengineering.github.io/ggplot2.utils/">https://insightsengineering.github.io/ggplot2.utils/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/insightsengineering/ggplot2.utils/issues">https://github.com/insightsengineering/ggplot2.utils/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2 (&ge; 3.3.0), R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, EnvStats, ggpp, ggstats, survival</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, lifecycle, testthat (&ge; 3.0.0), tibble, vdiffr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'geom_km.R' 'geom_km_ticks.R' 'geom_table.R' 'ggproto.R'
'package.R' 'stat_km_compute.R' 'stat_km.R' 'stat_km_ticks.R'
'stat_n_text.R' 'stat_prop.R' 'table_themes.R' 'ttheme_set.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-08 15:27:57 UTC; sabanesd</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Sabanés Bové [aut, cre],
  Samer Mouksassi [aut] (wrote original Kaplan-Meier code),
  Michael Sachs [aut] (wrote original Kaplan-Meier code),
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Sabanés Bové &lt;daniel.sabanes_bove@roche.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-08 23:10:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='geom_km'>Add a Kaplan-Meier Survival Curve</h2><span id='topic+geom_km'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Adds the Kaplan-Meier survival curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_km(
  mapping = NULL,
  data = NULL,
  stat = "km",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_km_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_km_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_km_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_km_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_km()</code> understands the following aesthetics (required aesthetics in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>: the survival/censoring times, automatically mapped by <code><a href="#topic+stat_km">stat_km()</a></code>.
</p>
</li>
<li> <p><strong><code>y</code></strong>: the survival probability estimates, automatically mapped by <code><a href="#topic+stat_km">stat_km()</a></code>.
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Inspired by <code>geom_km</code> written by Michael Sachs (in <code>ggkm</code>) and
Samer Mouksassi (in <code>ggquickeda</code>). Here we directly use <code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_step()</a></code>
instead of the more general <code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_path()</a></code>.
</p>


<h3>See Also</h3>

<p>The default <code>stat</code> for this <code>geom</code> is <code><a href="#topic+stat_km">stat_km()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(
  time = exp(rnorm(250, mean = sex)),
  status = rbinom(250, 1, .75),
  sex = sex
)
ggplot(df, aes(time = time, status = status, color = factor(sex))) +
  geom_km()
</code></pre>

<hr>
<h2 id='geom_km_ticks'>Add Tick Marks to a Kaplan-Meier Survival Curve</h2><span id='topic+geom_km_ticks'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Adds tickmarks at the times when there are censored observations but no
events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_km_ticks(
  mapping = NULL,
  data = NULL,
  stat = "km_ticks",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  na.rm = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_km_ticks_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_km_ticks_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_km_ticks_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_km_ticks_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_km_ticks_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_km_ticks_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_km_ticks_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_km_ticks_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_km_ticks()</code> understands the following aesthetics (required aesthetics in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>: the survival/censoring times, automatically mapped by <code><a href="#topic+stat_km_ticks">stat_km_ticks()</a></code>.
</p>
</li>
<li> <p><strong><code>y</code></strong>: the survival probability estimates, automatically mapped by <code><a href="#topic+stat_km_ticks">stat_km_ticks()</a></code>.
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>color</code>
</p>
</li>
<li> <p><code>shape</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>stroke</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Michael Sachs (in <code>ggkm</code>), Samer Mouksassi (in <code>ggquickeda</code>).
</p>


<h3>See Also</h3>

<p>The default <code>stat</code> for this <code>geom</code> is <code><a href="#topic+stat_km_ticks">stat_km_ticks()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(
  time = exp(rnorm(250, mean = sex)),
  status = rbinom(250, 1, .75),
  sex = sex
)
ggplot(df, aes(time = time, status = status, color = factor(sex), group = factor(sex))) +
  geom_km() +
  geom_km_ticks(col = "black")
</code></pre>

<hr>
<h2 id='geom_table'>Inset tables</h2><span id='topic+geom_table'></span><span id='topic+geom_table_npc'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>See <code><a href="ggpp.html#topic+geom_table">ggpp::geom_table()</a></code> for details.
</p>


<h3>Value</h3>

<p>A plot layer instance.
</p>

<hr>
<h2 id='GeomKm'>New <code>ggproto</code> Objects</h2><span id='topic+GeomKm'></span><span id='topic+GeomKmTicks'></span><span id='topic+ggproto'></span><span id='topic+StatKm'></span><span id='topic+StatKmTicks'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Additional <code><a href="ggplot2.html#topic+ggproto">ggplot2::ggproto</a></code> objects used by the custom <code>geom</code> and
<code>stat</code> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GeomKm

GeomKmTicks

StatKm

StatKmTicks
</code></pre>


<h3>Format</h3>

<p>An object of class <code>GeomKm</code> (inherits from <code>GeomStep</code>, <code>GeomPath</code>, <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 4.
</p>
<p>An object of class <code>GeomKmTicks</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 6.
</p>
<p>An object of class <code>StatKm</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>
<p>An object of class <code>StatKmTicks</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Author(s)</h3>

<p><code>GeomKm</code>, <code>StatKm</code>, <code>GeomKmTicks</code> and <code>StatKmTicks</code> were modified
(in particular certain functionality was removed) from code
originally written by Michael Sachs (in <code>ggkm</code>) and
Samer Mouksassi (in <code>ggquickeda</code>).
</p>

<hr>
<h2 id='ggplot2.utils-package'><code>ggplot2.utils</code> Package</h2><span id='topic+ggplot2.utils'></span><span id='topic+ggplot2.utils-package'></span>

<h3>Description</h3>

<p><code>ggplot2.utils</code> provides simple access to utility functions
extending <code>ggplot2</code>.
</p>


<h3>Details</h3>

<p>Currently all of the functions are imported from other extension packages:
</p>

<ul>
<li> <p><code>ggpp</code>: <code><a href="#topic+geom_table">geom_table()</a></code> and associated functions.
</p>
</li>
<li> <p><code>EnvStats</code>: <code><a href="#topic+stat_n_text">stat_n_text()</a></code> and associated functions.
</p>
</li>
<li> <p><code>ggstats</code>: <code><a href="#topic+stat_prop">stat_prop()</a></code> and associated functions.
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel Sabanés Bové <a href="mailto:daniel.sabanes_bove@roche.com">daniel.sabanes_bove@roche.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Samer Mouksassi (wrote original Kaplan-Meier code)
</p>
</li>
<li><p> Michael Sachs (wrote original Kaplan-Meier code)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://insightsengineering.github.io/ggplot2.utils/">https://insightsengineering.github.io/ggplot2.utils/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/insightsengineering/ggplot2.utils/issues">https://github.com/insightsengineering/ggplot2.utils/issues</a>
</p>
</li></ul>


<hr>
<h2 id='h_surv_fit'>Helper for Common Kaplan-Meier Computations</h2><span id='topic+h_surv_fit'></span>

<h3>Description</h3>

<p>Helper for Common Kaplan-Meier Computations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_surv_fit(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="h_surv_fit_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br /> with <code>time</code> and <code>status</code> numeric columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code><a href="survival.html#topic+survfit">survival::survfit()</a></code> result as basis of
the Kaplan-Meier estimate.
</p>

<hr>
<h2 id='stat_km'>Adds a Kaplan-Meier Estimate of Survival Statistic</h2><span id='topic+stat_km'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
This <code>stat</code> is for computing the Kaplan-Meier survival estimate for
right-censored data. It requires the aesthetic mapping <code>time</code> for the
observation times and <code>status</code> which indicates the event status,
either 0 for alive and 1 for dead, or 1 for alive and 2 for dead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_km(
  mapping = NULL,
  data = NULL,
  geom = "km",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_km_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_km_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="stat_km_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_km_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with columns:
</p>

<ul>
<li> <p><code>time</code>: <code>time</code> in <code>data</code>.
</p>
</li>
<li> <p><code>survival</code>: survival estimate at <code>time</code>.
</p>
</li></ul>



<h3>Note</h3>

<p>Logical <code>status</code> is not supported.
</p>


<h3>Author(s)</h3>

<p>Michael Sachs (in <code>ggkm</code>), Samer Mouksassi (in <code>ggquickeda</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(
  time = exp(rnorm(250, mean = sex)),
  status = rbinom(250, 1, .75),
  sex = sex
)
ggplot(df, aes(time = time, status = status, color = factor(sex))) +
  stat_km()
</code></pre>

<hr>
<h2 id='stat_km_compute'>Helper for <code>stat_km</code></h2><span id='topic+stat_km_compute'></span>

<h3>Description</h3>

<p>Helper for <code>stat_km</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_km_compute(data, scales)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_km_compute_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br /> with <code>time</code> and <code>status</code> numeric columns.</p>
</td></tr>
<tr><td><code id="stat_km_compute_+3A_scales">scales</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with <code>time</code> and <code>survival</code> columns.
</p>

<hr>
<h2 id='stat_km_ticks'>Adds Tick Marks to a Kaplan-Meier Estimate of Survival Statistic</h2><span id='topic+stat_km_ticks'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
This <code>stat</code> is for computing the location of the tick marks for the
Kaplan-Meier survival estimate for right-censored data.
It requires the aesthetic mapping <code>time</code> for the
observation times and <code>status</code> which indicates the event status,
either 0 for alive and 1 for dead, or 1 for alive and 2 for dead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_km_ticks(
  mapping = NULL,
  data = NULL,
  geom = "km_ticks",
  position = "identity",
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_km_ticks_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_km_ticks_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_km_ticks_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="stat_km_ticks_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_km_ticks_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_km_ticks_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_km_ticks_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with columns:
</p>

<ul>
<li> <p><code>time</code>: <code>time</code> in <code>data</code>.
</p>
</li>
<li> <p><code>survival</code>: survival estimate at <code>time</code>.
</p>
</li>
<li> <p><code>n.risk</code>: number of patients at risk.
</p>
</li>
<li> <p><code>n.censor</code>: number of patients censored.
</p>
</li>
<li> <p><code>n.event</code>: number of patients with event.
</p>
</li></ul>



<h3>Note</h3>

<p>Logical <code>status</code> is not supported.
</p>


<h3>Author(s)</h3>

<p>Michael Sachs (in <code>ggkm</code>), Samer Mouksassi (in <code>ggquickeda</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
sex &lt;- rbinom(250, 1, .5)
df &lt;- data.frame(
  time = exp(rnorm(250, mean = sex)),
  status = rbinom(250, 1, .75),
  sex = sex
)
ggplot(df, aes(time = time, status = status, color = factor(sex))) +
  stat_km() +
  stat_km_ticks()
</code></pre>

<hr>
<h2 id='stat_km_ticks_compute'>Helper for <code>stat_km_ticks</code></h2><span id='topic+stat_km_ticks_compute'></span>

<h3>Description</h3>

<p>Helper for <code>stat_km_ticks</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_km_ticks_compute(data, scales)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_km_ticks_compute_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br /> with <code>time</code> and <code>status</code> numeric columns.</p>
</td></tr>
<tr><td><code id="stat_km_ticks_compute_+3A_scales">scales</code></td>
<td>
<p>not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with <code>time</code>, <code>survival</code>, <code>n.risk</code>, <code>n.censor</code> and <code>n.event</code>
columns.
</p>

<hr>
<h2 id='stat_n_text'>Add Text Indicating the Sample Size to a ggplot2 Plot</h2><span id='topic+stat_n_text'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>See <code><a href="EnvStats.html#topic+stat_n_text">EnvStats::stat_n_text()</a></code> for details.
</p>


<h3>Value</h3>

<p>A plot layer including the sample size text.
</p>

<hr>
<h2 id='stat_prop'>Compute Proportions According to Custom Denominator</h2><span id='topic+stat_prop'></span><span id='topic+StatProp'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>See <code><a href="ggstats.html#topic+stat_prop">ggstats::stat_prop()</a></code> for details.
</p>


<h3>Value</h3>

<p>A plot layer containing the custom proportions.
</p>

<hr>
<h2 id='ttheme_gtdefault'>Table themes</h2><span id='topic+ttheme_gtdefault'></span><span id='topic+ttheme_gtbw'></span><span id='topic+ttheme_gtdark'></span><span id='topic+ttheme_gtlight'></span><span id='topic+ttheme_gtminimal'></span><span id='topic+ttheme_gtplain'></span><span id='topic+ttheme_gtsimple'></span><span id='topic+ttheme_gtstripes'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>See <code><a href="ggpp.html#topic+ttheme_gtdefault">ggpp::ttheme_gtdefault()</a></code> for details.
</p>


<h3>Value</h3>

<p>A <code>list</code> object that can be used as <code>ttheme</code> in the
construction of tables with functions from package 'gridExtra'.
</p>

<hr>
<h2 id='ttheme_set'>Set default table theme</h2><span id='topic+ttheme_set'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>See <code><a href="ggpp.html#topic+ttheme_set">ggpp::ttheme_set()</a></code> for details.
</p>


<h3>Value</h3>

<p>A named list with the previous value of the option.
</p>


<h3>Note</h3>

<p>When testing this function, we found that in contrast to the original
documentation, the theme is not fixed when the plot object is constructed.
Instead, the option setting affects the rendering of ready built plot
objects.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

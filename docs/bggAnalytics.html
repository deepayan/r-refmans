<!DOCTYPE html><html><head><title>Help for package bggAnalytics</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bggAnalytics}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bggAnalytics-package'><p>bggAnalytics: BoardGameGeek's Board Game Data Analysis Tools</p></a></li>
<li><a href='#.bgg_readurl'><p>Safely scrap HTML website</p></a></li>
<li><a href='#.bgg_url'><p>Return a given BoardGameGeek URL</p></a></li>
<li><a href='#.compress'><p>Compress vector into single string</p></a></li>
<li><a href='#.extend_url_by_params'><p>Extend given URL by class params</p></a></li>
<li><a href='#.get_varspecs'><p>Get variable specification table for a given class</p></a></li>
<li><a href='#.internal_fun'><p>Get one of the internal functions from the package</p></a></li>
<li><a href='#.plural'><p>Add '-s' to the end of a string based on a count</p></a></li>
<li><a href='#.private_getter'><p>Getter for private slots of R6 objects</p></a></li>
<li><a href='#.process_params'><p>Class parameters preprocessing</p></a></li>
<li><a href='#.split_acc2list'><p>Split according to a list</p></a></li>
<li><a href='#.xml_concatenate'><p>Concatenate XML nodesets from a list</p></a></li>
<li><a href='#.xml_expand'><p>Get all 'items' nodes from XML Nodeset</p></a></li>
<li><a href='#bgg_gameurl'><p>Get BoardGameGeek URLs for games with given IDs</p></a></li>
<li><a href='#bgg_merge'><p>Merge data from two bggAPI objects</p></a></li>
<li><a href='#bgg_namestyle'><p>Detect the namestyle of the data table</p></a></li>
<li><a href='#bgg_topgames'><p>Get IDs of top rated games on BoardGameGeek</p></a></li>
<li><a href='#bgg_variables'><p>All variables that are available for fetching through bggAPI objects</p></a></li>
<li><a href='#bggAPI'><p>Interface for BoardGameGeek's XML API2</p></a></li>
<li><a href='#bggCollection'><p>API for user collections</p></a></li>
<li><a href='#bggGames'><p>API for Games and Things</p></a></li>
<li><a href='#bggSearch'><p>API for BoardGameGeek search engine</p></a></li>
<li><a href='#custom_fetches'><p>Custom fetching methods for non-scalar variables</p></a></li>
<li><a href='#extraction_functions'><p>Extraction functions</p></a></li>
<li><a href='#h_index'><p>H-Index</p></a></li>
<li><a href='#squeeze'><p>Squeeze integers into a single string</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>BoardGameGeek's Board Game Data Analysis Tools</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for analysing board game data. Mainly focused on providing 
    an interface for BoardGameGeek's XML API2 through R6 class system objects.
    More details about the BoardGameGeek's API can be obtained here
    <a href="https://boardgamegeek.com/wiki/page/BGG_XML_API2">https://boardgamegeek.com/wiki/page/BGG_XML_API2</a>.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Jakub Bujnowicz [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jakub Bujnowicz &lt;bujnowiczgithub@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/JakubBujnowicz/bggAnalytics">https://github.com/JakubBujnowicz/bggAnalytics</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, pryr, stringr, utils, xml2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0), data.table, R6</td>
</tr>
<tr>
<td>Collate:</td>
<td>'class_utils.R' 'bggAPI.R' 'bggAnalytics-package.R'
'bggCollection.R' 'bggGames.R' 'bggSearch.R' 'bgg_tools.R'
'custom_fetches.R' 'data.R' 'h_index.R' 'html_utils.R'
'params_utils.R' 'postprocessing.R' 'squeeze.R' 'utils.R'
'zzz.R'</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-31 11:51:21 UTC; User</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-31 12:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bggAnalytics-package'>bggAnalytics: BoardGameGeek's Board Game Data Analysis Tools</h2><span id='topic+bggAnalytics'></span><span id='topic+bggAnalytics-package'></span>

<h3>Description</h3>

<p>Tools for analysing board game data. Mainly focused on providing an interface for BoardGameGeek's XML API2 through R6 class system objects. More details about the BoardGameGeek's API can be obtained here <a href="https://boardgamegeek.com/wiki/page/BGG_XML_API2">https://boardgamegeek.com/wiki/page/BGG_XML_API2</a>.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/JakubBujnowicz/bggAnalytics">https://github.com/JakubBujnowicz/bggAnalytics</a>
</p>
</li></ul>


<hr>
<h2 id='.bgg_readurl'>Safely scrap HTML website</h2><span id='topic+.bgg_readurl'></span>

<h3>Description</h3>

<p>Opens the connection with <code>curl</code> and closes in case of error. Returns
more unambiguous error messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.bgg_readurl(url, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".bgg_readurl_+3A_url">url</code></td>
<td>
<p>a single string, an URL to a given website.</p>
</td></tr>
<tr><td><code id=".bgg_readurl_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code>read_html</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A parsed XML.
</p>

<hr>
<h2 id='.bgg_url'>Return a given BoardGameGeek URL</h2><span id='topic+.bgg_url'></span>

<h3>Description</h3>

<p>Get hyperlinks to given pages of BoardGameGeek site.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.bgg_url(of)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".bgg_url_+3A_of">of</code></td>
<td>
<p>Single string, either 'api', &quot;ranking&quot; or &quot;boardgame&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Single string with a page URL.
</p>

<hr>
<h2 id='.compress'>Compress vector into single string</h2><span id='topic+.compress'></span>

<h3>Description</h3>

<p>Returns string which shows <code>n_show</code> first elements and <code>vec</code> and
amount of truncated elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.compress(vec, n_show = 5, collapse = ", ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".compress_+3A_vec">vec</code></td>
<td>
<p>Atomic vector.</p>
</td></tr>
<tr><td><code id=".compress_+3A_n_show">n_show</code></td>
<td>
<p>Positive integer.</p>
</td></tr>
<tr><td><code id=".compress_+3A_collapse">collapse</code></td>
<td>
<p>Single string, how to collapse the given vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Single string.
</p>

<hr>
<h2 id='.extend_url_by_params'>Extend given URL by class params</h2><span id='topic+.extend_url_by_params'></span>

<h3>Description</h3>

<p>This takes an <code>url</code> and extends it by the given parameters for a
certain class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.extend_url_by_params(url, params, class)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".extend_url_by_params_+3A_url">url</code></td>
<td>
<p>a single string.</p>
</td></tr>
<tr><td><code id=".extend_url_by_params_+3A_params">params</code></td>
<td>
<p>NULL or a list with params.</p>
</td></tr>
<tr><td><code id=".extend_url_by_params_+3A_class">class</code></td>
<td>
<p>a single string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single string with extended URL.
</p>

<hr>
<h2 id='.get_varspecs'>Get variable specification table for a given class</h2><span id='topic+.get_varspecs'></span>

<h3>Description</h3>

<p>This can be used within <code>bggAPI</code> methods to extract rows for a proper
class. This also handles the 'pretty names'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.get_varspecs()
</code></pre>


<h3>Value</h3>

<p>The data.table with variable specifications
</p>

<hr>
<h2 id='.internal_fun'>Get one of the internal functions from the package</h2><span id='topic+.internal_fun'></span>

<h3>Description</h3>

<p>This makes sure internal functions from this package can be accessed which
sometimes fails when using <code>match.fun</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.internal_fun(fun_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".internal_fun_+3A_fun_name">fun_name</code></td>
<td>
<p>a single string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function.
</p>

<hr>
<h2 id='.plural'>Add '-s' to the end of a string based on a count</h2><span id='topic+.plural'></span>

<h3>Description</h3>

<p>Does exactly what the title says.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.plural(string, count)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".plural_+3A_string">string</code></td>
<td>
<p>a single string.</p>
</td></tr>
<tr><td><code id=".plural_+3A_count">count</code></td>
<td>
<p>a single number that determines the addition of &quot;-s&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single string.
</p>

<hr>
<h2 id='.private_getter'>Getter for private slots of R6 objects</h2><span id='topic+.private_getter'></span>

<h3>Description</h3>

<p>This function returns another function which is able to extract private
slots. It decreases redundant code and makes class definitions easier to
read.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.private_getter(slotname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".private_getter_+3A_slotname">slotname</code></td>
<td>
<p>Single string, name of private slot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function that extracts the private 'slotname' slot from a R6 object.
</p>

<hr>
<h2 id='.process_params'>Class parameters preprocessing</h2><span id='topic+.process_params'></span>

<h3>Description</h3>

<p>Process, validate and assign default values to parameters of a given class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.process_params(params, class)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".process_params_+3A_params">params</code></td>
<td>
<p>NULL or a list with params.</p>
</td></tr>
<tr><td><code id=".process_params_+3A_class">class</code></td>
<td>
<p>a single string, class name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with checked ans assigned parameters.
</p>

<hr>
<h2 id='.split_acc2list'>Split according to a list</h2><span id='topic+.split_acc2list'></span>

<h3>Description</h3>

<p>This splits <code>x</code> using <code><a href="base.html#topic+split">split</a></code> by making sure that
the returned list is of the same length as <code>list</code> and every element
is of the same length as <code>list</code>'s elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.split_acc2list(x, list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".split_acc2list_+3A_x">x</code></td>
<td>
<p>an <code>R</code> object to split.</p>
</td></tr>
<tr><td><code id=".split_acc2list_+3A_list">list</code></td>
<td>
<p>a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list.
</p>

<hr>
<h2 id='.xml_concatenate'>Concatenate XML nodesets from a list</h2><span id='topic+.xml_concatenate'></span>

<h3>Description</h3>

<p>Take a list of XML nodesets (e.g. outputs of <code>.xml_expand</code>) and combine
them together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.xml_concatenate(xml_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".xml_concatenate_+3A_xml_list">xml_list</code></td>
<td>
<p>a list of XML nodesets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An XML nodeset.
</p>

<hr>
<h2 id='.xml_expand'>Get all 'items' nodes from XML Nodeset</h2><span id='topic+.xml_expand'></span>

<h3>Description</h3>

<p>This function expands <code>xml_nodeset</code> objects to all 'item' children. It
allows to use <code>lapply(., f)</code> per object (corresponding to one row in
<code>data</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.xml_expand(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".xml_expand_+3A_xml">xml</code></td>
<td>
<p>an XML nodeset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>XML nodeset.
</p>

<hr>
<h2 id='bgg_gameurl'>Get BoardGameGeek URLs for games with given IDs</h2><span id='topic+bgg_gameurl'></span>

<h3>Description</h3>

<p>This function is a simple wrapper that returns URLs to given games by using
their IDs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bgg_gameurl(ids)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bgg_gameurl_+3A_ids">ids</code></td>
<td>
<p>a numeric vector of positive integers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the same length as <code>x</code>, contains URLs.
</p>


<h3>Author(s)</h3>

<p>Jakub Bujnowicz <a href="mailto:bujnowiczgithub@gmail.com">bujnowiczgithub@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bgg_gameurl(1:10)

</code></pre>

<hr>
<h2 id='bgg_merge'>Merge data from two bggAPI objects</h2><span id='topic+bgg_merge'></span>

<h3>Description</h3>

<p>This allows for merging data from two bggAPI objects. Namestyle is inherited
from <code>x</code> and columns from <code>y$data</code> are added to <code>x$data</code>
(unless they are already there).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bgg_merge(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bgg_merge_+3A_x">x</code>, <code id="bgg_merge_+3A_y">y</code></td>
<td>
<p>objects that inherit from <code>bggAPI</code> class.</p>
</td></tr>
<tr><td><code id="bgg_merge_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="data.table.html#topic+merge">merge</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.table with variables from both <code>x</code> and <code>y</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sr &lt;- bggSearch$new("Terraforming Mars")
gm &lt;- bggGames$new(sr$ids)

gm$expand(c("name", "type", "rank"))

bgg_merge(sr, gm)

</code></pre>

<hr>
<h2 id='bgg_namestyle'>Detect the namestyle of the data table</h2><span id='topic+bgg_namestyle'></span>

<h3>Description</h3>

<p>Detects whether the <code>dt</code> data.table was created by a <code>bggAPI</code>
object with <code>'pretty'</code> or <code>'classic'</code> names. Ends with the error if
one of them cannot be unequivocally determined. This can be useful when
working on a modified table that is no longer directly connected to any
<code>bggAPI</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bgg_namestyle(dt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bgg_namestyle_+3A_dt">dt</code></td>
<td>
<p>a data.table from <code>data</code> slot of a <code>bggAPI</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single string.
</p>


<h3>Author(s)</h3>

<p>Jakub Bujnowicz <a href="mailto:bujnowiczgithub@gmail.com">bujnowiczgithub@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gm &lt;- bggGames$new(ids = 167791)
bgg_namestyle(gm$data)

gm$switch_namestyle("pretty")
bgg_namestyle(gm$data)

# Breaks
# bgg_namestyle(iris)

</code></pre>

<hr>
<h2 id='bgg_topgames'>Get IDs of top rated games on BoardGameGeek</h2><span id='topic+bgg_topgames'></span>

<h3>Description</h3>

<p>This function scraps BoardGameGeek website for IDs of games with given
<code>places</code> in the games ranking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bgg_topgames(places = 1:100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bgg_topgames_+3A_places">places</code></td>
<td>
<p>a numeric vector of positive integers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector of IDs.
</p>


<h3>Author(s)</h3>

<p>Jakub Bujnowicz <a href="mailto:bujnowiczgithub@gmail.com">bujnowiczgithub@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bgg_topgames()

x &lt;- 1:5 * 25 + 5
ids &lt;- bgg_topgames(sample(x))
gm &lt;- bggGames$new(ids)
gm$expand(c("name", "rank"))
gm

</code></pre>

<hr>
<h2 id='bgg_variables'>All variables that are available for fetching through bggAPI objects</h2><span id='topic+bgg_variables'></span>

<h3>Description</h3>

<p>Contains names and specification of variables that can be used in
<code>fetch</code> and <code>expand</code> methods of classes that inherit from
<code>bggAPI</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bgg_variables
</code></pre>


<h3>Format</h3>

<p>A data.table with the following columns:
</p>

<dl>
<dt><code>Class</code></dt><dd><p>a character vector, names of class that is able to
fetch given variable.</p>
</dd>
<dt><code>PrettyName, ClassicName</code></dt><dd><p>a character vector, names of
variables in the two available styles, <code>"pretty"</code> and
<code>"classic"</code>.</p>
</dd>
<dt><code>Scalar</code></dt><dd><p>a logical vector, whether the variable is scalar,
i.e. does the length of a fetched variable vector is equal to the length
of object's <code>ids</code> field. Every scalar variable may be used in
the <code>expand</code> methods.</p>
</dd>
<dt><code>Stats</code></dt><dd><p>a logical vector, whether the object needs the
parameter <code>stats = TRUE</code> to fetch this variable.</p>
</dd>
<dt><code>Compression</code></dt><dd><p>a character vector, names of functions that are
used to compress variables to scalar variables when using <code>fetch(.,
    compress = TRUE)</code> or <code>expand</code> for non-scalar variables.
<code>"NULL"</code> means that a variable is non-compressible.</p>
</dd>
</dl>



<h3>Details</h3>

<p>A variable can be used by the object's <code>extend</code> method if it's
<code>Scalar</code> value is <code>TRUE</code> or <code>Compression</code> is not equal to
<code>"NULL"</code>.
</p>

<hr>
<h2 id='bggAPI'>Interface for BoardGameGeek's XML API2</h2><span id='topic+bggAPI'></span>

<h3>Description</h3>

<p>This is a class that works as a main interface to
BoardGameGeek's API. All other <code>bgg*</code> classes inherit from
<code>bggAPI</code>. Furthermore, there is no initialization method for
<code>bggAPI</code> as it serves just as a super class for other classes.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>ids</code></dt><dd><p>Numeric vector of positive integers. Contains IDs of all
BoardGameGeek items that were requested and are present in
<code>data</code>. The vector is sorted by default.</p>
</dd>
<dt><code>data</code></dt><dd><p>Data.table with currently fetched variables from the
object's XML. It has a row count equal to the length of <code>ids</code>.
Note that the copy is returned, so no modification of <code>data</code>
is possible outside of class methods.</p>
</dd>
<dt><code>xml</code></dt><dd><p>An XML nodeset obtained through the BoardGameGeek's API.
It's length is equal to the length of <code>ids</code>.</p>
</dd>
<dt><code>api_url</code></dt><dd><p>A character vector of one or more strings with URLs
used to fetch XMLs.</p>
</dd>
<dt><code>params</code></dt><dd><p>A list with object parameters.</p>
</dd>
<dt><code>timestamp</code></dt><dd><p>The date (with time) of the object creation and,
what follows, the last moment that the data was certainly up to
date.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-bggAPI-fetch"><code>bggAPI$fetch()</code></a>
</p>
</li>
<li> <p><a href="#method-bggAPI-expand"><code>bggAPI$expand()</code></a>
</p>
</li>
<li> <p><a href="#method-bggAPI-switch_namestyle"><code>bggAPI$switch_namestyle()</code></a>
</p>
</li>
<li> <p><a href="#method-bggAPI-clone"><code>bggAPI$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-bggAPI-fetch"></a>



<h4>Method <code>fetch()</code></h4>

<p>Fetches variables with given <code>variable_names</code> from the
object's <code>xml</code>. Returns them as a list. This is a main method of
getting non-scalar variables (as they are hard to fit into a
data.table).
</p>


<h5>Usage</h5>

<div class="r"><pre>bggAPI$fetch(variable_names = NULL, compress = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>variable_names</code></dt><dd><p>a character vector with names of variables to
fetch.</p>
</dd>
<dt><code>compress</code></dt><dd><p>a logical value, decides whether the fetched variables
should be compress into a scalar form (if possible).</p>
</dd>
</dl>

</div>


<hr>
<a id="method-bggAPI-expand"></a>



<h4>Method <code>expand()</code></h4>

<p>Expands the <code>data</code> table by given <code>variable_names</code>
by reference. For the list of available variables for every object
check the <code><a href="#topic+bgg_variables">bgg_variables</a></code> dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggAPI$expand(variable_names = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>variable_names</code></dt><dd><p>a character vector with names of variables to add
to <code>data</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-bggAPI-switch_namestyle"></a>



<h4>Method <code>switch_namestyle()</code></h4>

<p>Switches between two styles of naming the variables:
<code>'classic'</code> and <code>'pretty'</code>. The former is a default value and
uses code names concordant with BoardGameGeek's naming convention in
the XMLs. The latter is more intuitive and uses UpperCamelCase.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggAPI$switch_namestyle(to)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>to</code></dt><dd><p>a single string, either <code>'classic'</code> or <code>'pretty'</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Returns <code>TRUE</code> or <code>FALSE</code> invisibly depending on
whether the names have been switched.
</p>


<hr>
<a id="method-bggAPI-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggAPI$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://boardgamegeek.com/wiki/page/BGG_XML_API2">BoardGameGeek XML
API2</a>
</p>

<hr>
<h2 id='bggCollection'>API for user collections</h2><span id='topic+bggCollection'></span>

<h3>Description</h3>

<p>Access the data of a given user's collection. See
<code><a href="#topic+bggAPI">bggAPI</a></code> for more details on inherited slots and methods.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+bggAPI">bggAnalytics::bggAPI</a></code> -&gt; <code>bggCollection</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>username</code></dt><dd><p>A single string, name of a user whose collection
should be fetched.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-bggCollection-new"><code>bggCollection$new()</code></a>
</p>
</li>
<li> <p><a href="#method-bggCollection-print"><code>bggCollection$print()</code></a>
</p>
</li>
<li> <p><a href="#method-bggCollection-clone"><code>bggCollection$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="expand"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-expand'><code>bggAnalytics::bggAPI$expand()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="fetch"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-fetch'><code>bggAnalytics::bggAPI$fetch()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="switch_namestyle"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-switch_namestyle'><code>bggAnalytics::bggAPI$switch_namestyle()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-bggCollection-new"></a>



<h4>Method <code>new()</code></h4>

<p>Object initialization.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggCollection$new(username = NULL, params = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>username</code></dt><dd><p>a single string with a BoardGameGeek name of a user whose
collection is to be fetched.</p>
</dd>
<dt><code>params</code></dt><dd><p>a list of object parameters. If not all the parameters are
included in the list, default values are used (<code>NULL</code> instead of
the list is possible for all the default parameters). <br />
Following parameters are allowed for the <code>bggGames</code> class with
default values in parentheses:
</p>

<ul>
<li><p><code>pretty_names</code> - (<code>FALSE</code>) a boolean value,
should the object should use pretty names,
</p>
</li>
<li><p><code>stats</code> - (<code>TRUE</code>) a boolean value, should the
ranking and rating stats be included for every item. Note that some
variables require that <code>stats</code> is <code>TRUE</code>.
</p>
</li>
<li><p><code>brief</code> - (<code>FALSE</code>) a boolean value, should the
results be abbreviated.
</p>
</li>
<li><p><code>own, rated, played, comment, trade, want, wishlist</code> -
(<code>NULL</code>) a boolean value, <code>FALSE</code> excludes items with a
given status while <code>TRUE</code> includes only them. <code>NULL</code>
returns items regardless of the status.
</p>
</li>
<li><p><code>wishlistpriority</code> - (<code>NULL</code>) a positive integer
between 1 and 5, returns only items with a given wishlist
priority. <code>NULL</code> returns items regardless of the priority.
</p>
</li>
<li><p><code>minrating, rating</code> - (<code>NULL</code>) a positive integer
between 1 and 10, returns only items with a given minimum rating
(<code>minrating</code>) or maximum rating (<code>rating</code>). <code>NULL</code>
returns items regardless of the rating.
</p>
</li></ul>
</dd>
</dl>

</div>


<hr>
<a id="method-bggCollection-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print object information.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggCollection$print()</pre></div>


<hr>
<a id="method-bggCollection-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggCollection$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://boardgamegeek.com/wiki/page/BGG_XML_API2">BoardGameGeek XML
API2</a>
</p>

<hr>
<h2 id='bggGames'>API for Games and Things</h2><span id='topic+bggGames'></span>

<h3>Description</h3>

<p>This class provides an interface for games, expansions,
accessories and other things listed on BoardGameGeek. The official
documentation describes 'things' as every physical, tangible item.See
<code><a href="#topic+bggAPI">bggAPI</a></code> for more details on inherited slots and methods.
</p>


<h3>Details</h3>

<p>Although this class is named &lsquo;bggGames', it inherits it&rsquo;s
functionality from the BoardGameGeek XML API2 'Things' (see References).
The name is motivated by the fact that the whole BoardGameGeek's site as
well as this package is mainly focused on board games.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+bggAPI">bggAnalytics::bggAPI</a></code> -&gt; <code>bggGames</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-bggGames-new"><code>bggGames$new()</code></a>
</p>
</li>
<li> <p><a href="#method-bggGames-print"><code>bggGames$print()</code></a>
</p>
</li>
<li> <p><a href="#method-bggGames-clone"><code>bggGames$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="expand"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-expand'><code>bggAnalytics::bggAPI$expand()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="fetch"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-fetch'><code>bggAnalytics::bggAPI$fetch()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="switch_namestyle"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-switch_namestyle'><code>bggAnalytics::bggAPI$switch_namestyle()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-bggGames-new"></a>



<h4>Method <code>new()</code></h4>

<p>Object initialization.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggGames$new(ids, chunk_size = 500, params = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>ids</code></dt><dd><p>a numeric vector of positive integers, IDs of games/things to
include in the object.</p>
</dd>
<dt><code>chunk_size</code></dt><dd><p>a positive integer, the maximum length of a chunk that
<code>ids</code> are split into. All chunks connect to BoardGameGeek's API
separately, so lowering this number increases computation time. On the
other hand if a chunk is too long, URL might be too long to fetch.</p>
</dd>
<dt><code>params</code></dt><dd><p>a list of object parameters. If not all the parameters are
included in the list, default values are used (<code>NULL</code> instead of
the list is possible for all the default parameters). <br />
Following parameters are allowed for the <code>bggGames</code> class with
default values in parentheses:
</p>

<ul>
<li><p><code>pretty_names</code> - (<code>FALSE</code>) a boolean value,
should the object should use pretty names,
</p>
</li>
<li><p><code>stats</code> - (<code>TRUE</code>) a boolean value, should the
ranking and rating stats be included for every item. Note that some
variables require that <code>stats</code> is <code>TRUE</code>.
</p>
</li></ul>
</dd>
</dl>

</div>


<hr>
<a id="method-bggGames-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print object information.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggGames$print()</pre></div>


<hr>
<a id="method-bggGames-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggGames$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://boardgamegeek.com/wiki/page/BGG_XML_API2">BoardGameGeek XML
API2</a>
</p>

<hr>
<h2 id='bggSearch'>API for BoardGameGeek search engine</h2><span id='topic+bggSearch'></span>

<h3>Description</h3>

<p>Search for items on the BoardGameGeek with a given query. See
<code><a href="#topic+bggAPI">bggAPI</a></code> for more details on inherited slots and methods.
</p>


<h3>Details</h3>

<p>Note that the result is trimmed to items with unique IDs. Due to
XML API2 'Search' returning multiple items for a single ID with different
types, variable <code>'type'</code> might be not accurately represented.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+bggAPI">bggAnalytics::bggAPI</a></code> -&gt; <code>bggSearch</code>
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>query</code></dt><dd><p>A single string with the wanted query.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-bggSearch-new"><code>bggSearch$new()</code></a>
</p>
</li>
<li> <p><a href="#method-bggSearch-print"><code>bggSearch$print()</code></a>
</p>
</li>
<li> <p><a href="#method-bggSearch-clone"><code>bggSearch$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="expand"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-expand'><code>bggAnalytics::bggAPI$expand()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="fetch"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-fetch'><code>bggAnalytics::bggAPI$fetch()</code></a></span></li>
<li><span class="pkg-link" data-pkg="bggAnalytics" data-topic="bggAPI" data-id="switch_namestyle"><a href='../../bggAnalytics/html/bggAPI.html#method-bggAPI-switch_namestyle'><code>bggAnalytics::bggAPI$switch_namestyle()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-bggSearch-new"></a>



<h4>Method <code>new()</code></h4>

<p>Object initialization.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggSearch$new(query, params = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>query</code></dt><dd><p>a single string, query used to perform the search.</p>
</dd>
<dt><code>params</code></dt><dd><p>a list of object parameters. If not all the parameters are
included in the list, default values are used (<code>NULL</code> instead of
the list is possible for all the default parameters). <br />
Following parameters are allowed for the <code>bggGames</code> class with
default values in parentheses:
</p>

<ul>
<li><p><code>pretty_names</code> - (<code>FALSE</code>) a boolean value,
should the object should use pretty names,
</p>
</li>
<li><p><code>type</code> - (<code>NULL</code>) a single string, type of things
to look for. Possible values: <code>'rpgitem'</code>, <code>'videogame'</code>,
<code>'boardgame'</code>, <code>'boardgameaccessory'</code>,
<code>'boardgameexpansion'</code>. <code>NULL</code> uses all possible values.
</p>
</li>
<li><p><code>exact</code> - (<code>FALSE</code>) a boolean value, should the
results be restricted to items that match the <code>query</code> exactly.
</p>
</li></ul>
</dd>
</dl>

</div>


<hr>
<a id="method-bggSearch-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print object information.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggSearch$print()</pre></div>


<hr>
<a id="method-bggSearch-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>bggSearch$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://boardgamegeek.com/wiki/page/BGG_XML_API2">BoardGameGeek XML
API2</a>
</p>

<hr>
<h2 id='custom_fetches'>Custom fetching methods for non-scalar variables</h2><span id='topic+custom_fetches'></span><span id='topic+.fetch_pollplayers'></span><span id='topic+.fetch_pollage'></span><span id='topic+.fetch_polllanguage'></span><span id='topic+.fetch_ranks_gms'></span><span id='topic+.fetch_ranks_cllctn'></span><span id='topic+.fetch_bestplayers'></span><span id='topic+.fetch_recplayers'></span><span id='topic+.fetch_notrecplayers'></span>

<h3>Description</h3>

<p>This methods are written for more complicated structures (called variables
here) that can't be contained into a simple atomic vector. They are called by
name within <code>.fetch_internal</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.fetch_pollplayers(xml)

.fetch_pollage(xml)

.fetch_polllanguage(xml)

.fetch_ranks_gms(xml)

.fetch_ranks_cllctn(xml)

.fetch_bestplayers(xml)

.fetch_recplayers(xml)

.fetch_notrecplayers(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="custom_fetches_+3A_xml">xml</code></td>
<td>
<p>an XML nodeset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Type of output might be different for every variable.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>.fetch_pollplayers()</code>: Method for pollplayers of bggGames.
</p>
</li>
<li> <p><code>.fetch_pollage()</code>: Method for pollage of bggGames.
</p>
</li>
<li> <p><code>.fetch_polllanguage()</code>: Method for polllanguage of bggGames.
</p>
</li>
<li> <p><code>.fetch_ranks_gms()</code>: Method for ranks of bggGames.
</p>
</li>
<li> <p><code>.fetch_ranks_cllctn()</code>: Method for ranks of bggCollection.
</p>
</li>
<li> <p><code>.fetch_bestplayers()</code>: Method for bestplayers of bggGames.
</p>
</li>
<li> <p><code>.fetch_recplayers()</code>: Method for recplayers of bggGames.
</p>
</li>
<li> <p><code>.fetch_notrecplayers()</code>: Method for bestplayers of bggGames.
</p>
</li></ul>

<hr>
<h2 id='extraction_functions'>Extraction functions</h2><span id='topic+extraction_functions'></span><span id='topic+.nodes2text'></span><span id='topic+.nodes2number'></span><span id='topic+.nodes2logical'></span><span id='topic+.attr2text'></span><span id='topic+.attr2number'></span><span id='topic+.attr2logical'></span><span id='topic+.attr2datetime'></span>

<h3>Description</h3>

<p>These functions extract data from given nodes/attributes from XML item list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.nodes2text(xml, xpath, scalar = TRUE)

.nodes2number(xml, xpath, scalar = TRUE)

.nodes2logical(xml, xpath, scalar = TRUE)

.attr2text(xml, xpath, attr, scalar = TRUE)

.attr2number(xml, xpath, attr, scalar = TRUE)

.attr2logical(xml, xpath, attr, scalar = TRUE)

.attr2datetime(xml, xpath, attr, scalar = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extraction_functions_+3A_xml">xml</code></td>
<td>
<p>XML item list.</p>
</td></tr>
<tr><td><code id="extraction_functions_+3A_xpath">xpath</code></td>
<td>
<p>Single string, name of XPATH expression, for example node name.</p>
</td></tr>
<tr><td><code id="extraction_functions_+3A_attr">attr</code></td>
<td>
<p>Single string, name of attribute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of elements of equal length as <code>xml</code>.
</p>

<hr>
<h2 id='h_index'>H-Index</h2><span id='topic+h_index'></span>

<h3>Description</h3>

<p>Calculate H-Index from the number of game plays. H-Index measures the
experience of a player based on reported play counts. It rises only when one
plays many different games multiple times. It tries to distinguish players
who play a few games really often and these who try every game once and leave
it on the shelf from those who have the broad collection of high-count plays.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_index(num_plays)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="h_index_+3A_num_plays">num_plays</code></td>
<td>
<p>a numeric vector of non-negative integers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single non-negative integer.
</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/H-index">H-Index in Wikipedia</a>
<a href="https://boardgamegeek.com/thread/953084/whats-your-h-index">BoardGameGeek
thread about H-Index</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>h_index(0)
h_index(c(0, 0, 1, 2, 1))
h_index(c(2, 2, 5, 100))
h_index(c(2, 3, 5, 100))

</code></pre>

<hr>
<h2 id='squeeze'>Squeeze integers into a single string</h2><span id='topic+squeeze'></span><span id='topic+unsqueeze'></span>

<h3>Description</h3>

<p>This acts similar to <code><a href="base.html#topic+toString">toString</a></code> function, but it tries to
make the string as short as possible by squeezing sequences of integers into
boundary values only. Please see the examples section. <code>unsqueez</code>
reverses this operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>squeeze(integers)

unsqueeze(strings, strict = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="squeeze_+3A_integers">integers</code></td>
<td>
<p>a numeric vector of integers.</p>
</td></tr>
<tr><td><code id="squeeze_+3A_strings">strings</code></td>
<td>
<p>a character vector of strings, preferably outputs of
<code>squeeze</code>.</p>
</td></tr>
<tr><td><code id="squeeze_+3A_strict">strict</code></td>
<td>
<p>a logical value, decides whether the output should be strictly
a list. If <code>FALSE</code> and the <code>strings</code> is a single string, the
function returns an atomic vector instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>squeeze</code> returns a vector of characters, <code>unsqueeze</code>
returns a list of numerics or a numeric vector.
</p>


<h3>Author(s)</h3>

<p>Jakub Bujnowicz <a href="mailto:bujnowiczgithub@gmail.com">bujnowiczgithub@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>integers &lt;- c(1, 3:5, NA, 27:38, 10:13, 9:11, 6)
squeeze(integers)

unsqueeze(squeeze(integers))
setdiff(na.omit(integers), unsqueeze(squeeze(integers)))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

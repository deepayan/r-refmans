<!DOCTYPE html><html><head><title>Help for package spselect</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {spselect}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lars.ss'>
<p>Spatial scale least angle regression (LARS)</p></a></li>
<li><a href='#lasso.ss'>
<p>Spatial scale lasso</p></a></li>
<li><a href='#spselect-package'>
<p>Selecting spatial scale of area-level covariates in regression models</p></a></li>
<li><a href='#stagewise.ss'>
<p>Spatial scale incremental forward stagewise regression</p></a></li>
<li><a href='#stepwise.ss'>
<p>Spatial scale forward stepwise regression</p></a></li>
<li><a href='#X'>
<p>Input data X</p></a></li>
<li><a href='#X.3D'>
<p>Input data X.3D</p></a></li>
<li><a href='#y'>
<p>Response data y</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Selecting Spatial Scale of Covariates in Regression Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-08-29</td>
</tr>
<tr>
<td>Author:</td>
<td>Lauren Grant, David Wheeler</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lauren Grant &lt;pacele@vcu.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>tester, magic, pracma</td>
</tr>
<tr>
<td>Description:</td>
<td>Fits spatial scale (SS) forward stepwise regression, SS incremental forward stagewise regression, SS least angle regression (LARS), and SS lasso models.  All area-level covariates are considered at all available scales to enter a model, but the SS algorithms are constrained to select each area-level covariate at a single spatial scale.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-08-29 16:07:16 UTC; Lauren</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-08-29 18:53:24</td>
</tr>
</table>
<hr>
<h2 id='lars.ss'>
Spatial scale least angle regression (LARS)
</h2><span id='topic+lars.ss'></span>

<h3>Description</h3>

<p>This function fits a spatial scale (SS) LARS model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lars.ss(y, X, ss, a.lst, S.v, C.v, col.plot, verbose=TRUE, plot=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lars.ss_+3A_y">y</code></td>
<td>

<p>A numeric response vector
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_x">X</code></td>
<td>

<p>A data frame of numeric variables
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_ss">ss</code></td>
<td>

<p>A vector of names to identify the different levels of covariates available as potential candidates for model input
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_a.lst">a.lst</code></td>
<td>

<p>A list of identity matrices, where each column indicates a particular level or spatial scale for a specified covariate (e.g., ss1_x2)
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_s.v">S.v</code></td>
<td>

<p>A vector of positive integers, where each number denotes the number of spatial scales associated with a particular covariate
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_c.v">C.v</code></td>
<td>

<p>A vector, where all values are initialized to 0
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_col.plot">col.plot</code></td>
<td>

<p>A vector of colors (corresponding to each SS) used in the coefficient path plot
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_verbose">verbose</code></td>
<td>

<p>If TRUE, details are printed as the algorithm progresses
</p>
</td></tr>
<tr><td><code id="lars.ss_+3A_plot">plot</code></td>
<td>

<p>If TRUE, a coefficient path plot is generated
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates coefficients using the SS LARS modeling approach.
The function also provides summary details and plots a coefficient path plot.
</p>


<h3>Value</h3>

<p>A list with the following items:
</p>
<table>
<tr><td><code>beta</code></td>
<td>
<p>Regression coefficient estimates from all set of model solutions</p>
</td></tr>
<tr><td><code>beta.aic</code></td>
<td>
<p>Regression coefficient estimates from final model</p>
</td></tr>
<tr><td><code>ind.v</code></td>
<td>
<p>Vector of indices to denote the corresponding columns of X associated with each active predictor </p>
</td></tr>
<tr><td><code>aic.v</code></td>
<td>
<p>Vector of Akaike information criterion (AIC) values</p>
</td></tr>
<tr><td><code>stack.ss</code></td>
<td>
<p>Vector of indices to indicate the level at which each covariate enters the model</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lauren Grant, David Wheeler
</p>


<h3>References</h3>

<p>Grant LP, Gennings C, Wheeler, DC. (2015). Selecting spatial scale of covariates in regression models of environmental exposures.
Cancer Informatics, 14(S2), 81-96. doi: 10.4137/CIN.S17302
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(y)
data(X)

names.X &lt;- colnames(X)

ss &lt;- c("ind", "ss1", "ss2")

a.lst &lt;- list(NULL)
a.lst[[1]] &lt;- 1
dim(a.lst[[1]]) &lt;- c(1,1)
dimnames(a.lst[[1]]) &lt;- list(NULL, names.X[1])

a.lst[[2]] &lt;- diag(2)
dimnames(a.lst[[2]]) &lt;- list(NULL, names.X[c(2,3)])

a.lst[[3]] &lt;- diag(2)
dimnames(a.lst[[3]]) &lt;- list(NULL, names.X[c(4,5)])

S.v &lt;- c(1,2,2) 
C.v &lt;- rep(0,length(a.lst))

mod_LARS.ss &lt;- lars.ss(y, X, ss, a.lst, S.v, C.v, c("black", "red", "green"))
</code></pre>

<hr>
<h2 id='lasso.ss'>
Spatial scale lasso
</h2><span id='topic+lasso.ss'></span>

<h3>Description</h3>

<p>This function fits a spatial scale (SS) lasso model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lasso.ss(y, X, ss, a.lst, S.v, C.v, col.plot, verbose=TRUE, plot=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lasso.ss_+3A_y">y</code></td>
<td>

<p>A numeric response vector
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_x">X</code></td>
<td>

<p>A data frame of numeric variables
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_ss">ss</code></td>
<td>

<p>A vector of names to identify the different levels of covariates available as potential candidates for model input
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_a.lst">a.lst</code></td>
<td>

<p>A list of identity matrices, where each column indicates a particular level or spatial scale for a specified covariate (e.g., ss1_x2)
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_s.v">S.v</code></td>
<td>

<p>A vector of positive integers, where each number denotes the number of spatial scales associated with a particular covariate
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_c.v">C.v</code></td>
<td>

<p>A vector, where all values are initialized to 0
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_col.plot">col.plot</code></td>
<td>

<p>A vector of colors (corresponding to each SS) used in the coefficient path plot
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_verbose">verbose</code></td>
<td>

<p>If TRUE, details are printed as the algorithm progresses
</p>
</td></tr>
<tr><td><code id="lasso.ss_+3A_plot">plot</code></td>
<td>

<p>If TRUE, a coefficient path plot is generated
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates coefficients using the SS lasso modeling approach.
The function also provides summary details and plots a coefficient path plot.
</p>


<h3>Value</h3>

<p>A list with the following items:
</p>
<table>
<tr><td><code>beta</code></td>
<td>
<p>Regression coefficient estimates from all set of model solutions</p>
</td></tr>
<tr><td><code>beta.aic</code></td>
<td>
<p>Regression coefficient estimates from final model</p>
</td></tr>
<tr><td><code>ind.v</code></td>
<td>
<p>Vector of indices to denote the corresponding columns of X associated with each active predictor </p>
</td></tr>
<tr><td><code>aic.v</code></td>
<td>
<p>Vector of Akaike information criterion (AIC) values</p>
</td></tr>
<tr><td><code>stack.ss</code></td>
<td>
<p>Vector of indices to indicate the level at which each covariate enters the model</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lauren Grant, David Wheeler
</p>


<h3>References</h3>

<p>Grant LP, Gennings C, Wheeler, DC. (2015). Selecting spatial scale of covariates in regression models of environmental exposures.
Cancer Informatics, 14(S2), 81-96. doi: 10.4137/CIN.S17302
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(y)
data(X)

names.X &lt;- colnames(X)

ss &lt;- c("ind", "ss1", "ss2")

a.lst &lt;- list(NULL)
a.lst[[1]] &lt;- 1
dim(a.lst[[1]]) &lt;- c(1,1)
dimnames(a.lst[[1]]) &lt;- list(NULL, names.X[1])

a.lst[[2]] &lt;- diag(2)
dimnames(a.lst[[2]]) &lt;- list(NULL, names.X[c(2,3)])

a.lst[[3]] &lt;- diag(2)
dimnames(a.lst[[3]]) &lt;- list(NULL, names.X[c(4,5)])

S.v &lt;- c(1,2,2)
C.v &lt;- rep(0,length(a.lst))

mod_lasso.ss &lt;- lasso.ss(y, X, ss, a.lst, S.v, C.v, c("black", "red", "green"))
</code></pre>

<hr>
<h2 id='spselect-package'>
Selecting spatial scale of area-level covariates in regression models
</h2><span id='topic+spselect-package'></span><span id='topic+spselect'></span>

<h3>Description</h3>

<p>Fits spatial scale (SS) forward stepwise regression, SS incremental forward stagewise regression, SS least angle regression (LARS), and SS lasso
models.  All area-level covariates are considered at all available scales to enter a model, but the SS algorithms are constrained to select each area-level covariate at a single spatial scale.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> spselect</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-08-29</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;=2)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Lauren Grant, David Wheeler
</p>
<p>Maintainer: Lauren Grant &lt;pacele@vcu.edu&gt;
</p>


<h3>References</h3>

<p>Grant LP, Gennings C, Wheeler, DC. (2015). Selecting spatial scale of covariates in regression models of environmental exposures.
Cancer Informatics, 14(S2), 81-96. doi: 10.4137/CIN.S17302
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(y)
data(X.3D)
y.name &lt;- "y"
ss &lt;- c("ind", "ss1", "ss2")
mod_forward.step.ss_1 &lt;- stepwise.ss(y, X.3D, y.name, ss, 1)
</code></pre>

<hr>
<h2 id='stagewise.ss'>
Spatial scale incremental forward stagewise regression
</h2><span id='topic+stagewise.ss'></span>

<h3>Description</h3>

<p>This function fits a spatial scale (SS) incremental forward stagewise regression model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stagewise.ss(y, X, X.3D, ss, increment, tolerance, col.plot, verbose=TRUE, plot=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stagewise.ss_+3A_y">y</code></td>
<td>

<p>A numeric response vector
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_x">X</code></td>
<td>

<p>A data frame of numeric variables
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_x.3d">X.3D</code></td>
<td>

<p>A 3-D or stacked array of numeric variables, where each stack represents a particular level of covariates (i.e., individual- and area-level
variables at more than one spatial scale). In cases where values are only present for a covariate at certain levels, that covariate is assigned
missing values at all other levels.
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_ss">ss</code></td>
<td>

<p>A vector of names to identify the different levels of covariates available as potential candidates for model input
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_increment">increment</code></td>
<td>

<p>A positive step size
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_tolerance">tolerance</code></td>
<td>

<p>A small, positive value used as a stopping criterion when none of the predictors are correlated with the residuals. The algorithm stops if the
overall maximum correlation is less than a specified tolerance.
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_col.plot">col.plot</code></td>
<td>

<p>A vector of colors (corresponding to each SS) used in the coefficient path plot
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_verbose">verbose</code></td>
<td>

<p>If TRUE, details are printed as the algorithm progresses
</p>
</td></tr>
<tr><td><code id="stagewise.ss_+3A_plot">plot</code></td>
<td>

<p>If TRUE, a coefficient path plot is generated
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates coefficients using the SS forward stagewise regression approach.
The function also provides summary details and plots a coefficient path plot.
</p>


<h3>Value</h3>

<p>A list with the following items:
</p>
<table>
<tr><td><code>beta.final</code></td>
<td>
<p>Regression coefficient estimates from final model</p>
</td></tr>
<tr><td><code>stack.ss</code></td>
<td>
<p>Vector of indices to indicate the level at which each covariate enters the model</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lauren Grant, David Wheeler
</p>


<h3>References</h3>

<p>Grant LP, Gennings C, Wheeler, DC. (2015). Selecting spatial scale of covariates in regression models of environmental exposures.
Cancer Informatics, 14(S2), 81-96. doi: 10.4137/CIN.S17302
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(y)
data(X)
data(X.3D)
ss &lt;- c("ind", "ss1", "ss2")
mod_forward.stage.ss_0.1 &lt;- stagewise.ss(y, X ,X.3D, ss, 0.1, 0.1, c("black", "red", "green"))
</code></pre>

<hr>
<h2 id='stepwise.ss'>
Spatial scale forward stepwise regression
</h2><span id='topic+stepwise.ss'></span>

<h3>Description</h3>

<p>This function fits a spatial scale (SS) forward stepwise regression model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stepwise.ss(y, X.3D, y.name, ss, epsilon, verbose=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stepwise.ss_+3A_y">y</code></td>
<td>

<p>A numeric response vector
</p>
</td></tr>
<tr><td><code id="stepwise.ss_+3A_x.3d">X.3D</code></td>
<td>

<p>A 3-D or stacked array of numeric variables, where each stack represents a particular level of covariates (i.e., individual- and area-level
variables at more than one spatial scale). In cases where values are only present for a covariate at certain levels, that covariate is assigned
missing values at all other levels.                                
</p>
</td></tr>
<tr><td><code id="stepwise.ss_+3A_y.name">y.name</code></td>
<td>

<p>A name for y
</p>
</td></tr>
<tr><td><code id="stepwise.ss_+3A_ss">ss</code></td>
<td>

<p>A vector of names to identify the different levels of covariates available as potential candidates for model input
</p>
</td></tr>
<tr><td><code id="stepwise.ss_+3A_epsilon">epsilon</code></td>
<td>

<p>A positive value used as a stopping criterion when there is inadequate improvement in the model's performance. The algorithm stops if the
difference in the Akaike information criterion (AIC) between the current model and the proposed model is less than epsilon.  
</p>
</td></tr>
<tr><td><code id="stepwise.ss_+3A_verbose">verbose</code></td>
<td>

<p>If TRUE, details are printed as the algorithm progresses
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates coefficients using the SS forward stepwise regression approach.
The function also estimates the model fit and provides summary details.
</p>


<h3>Value</h3>

<p>A list with the following items:
</p>
<table>
<tr><td><code>beta.final</code></td>
<td>
<p>Regression coefficient estimates from final model</p>
</td></tr>
<tr><td><code>aic.final</code></td>
<td>
<p>AIC for final model</p>
</td></tr>
<tr><td><code>summary.final</code></td>
<td>
<p>Summary output of final model</p>
</td></tr>
<tr><td><code>stack.ss</code></td>
<td>
<p>Vector of indices to indicate the level at which each covariate enters the model</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lauren Grant, David Wheeler
</p>


<h3>References</h3>

<p>Grant LP, Gennings C, Wheeler, DC. (2015). Selecting spatial scale of covariates in regression models of environmental exposures.
Cancer Informatics, 14(S2), 81-96. doi: 10.4137/CIN.S17302
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(y)
data(X.3D)
y.name &lt;- "y"
ss &lt;- c("ind", "ss1", "ss2")
mod_forward.step.ss_1 &lt;- stepwise.ss(y, X.3D, y.name, ss, 1)
</code></pre>

<hr>
<h2 id='X'>
Input data X
</h2><span id='topic+X'></span>

<h3>Description</h3>

<p>Simulated input data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(X)</code></pre>


<h3>Format</h3>

<p>A data frame with 20 observations on the following 5 variables:
</p>

<dl>
<dt><code>x1</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>ss1_x2</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>ss2_x2</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>ss1_x3</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>ss2_x3</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Details</h3>

<p>The data consist of simulated variables, including an individual-level covariate (x1) and two area-level covariates (x2, x3) available at two
different spatial scales (ss1, ss2).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(X)
</code></pre>

<hr>
<h2 id='X.3D'>
Input data X.3D
</h2><span id='topic+X.3D'></span>

<h3>Description</h3>

<p>Simulated input data (in stacked array format)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(X.3D)</code></pre>


<h3>Format</h3>

<p>A 20x3x3 stacked array with the following stacks:
</p>

<dl>
<dt><code>ind</code></dt><dd><p>a numeric array containing an individual-level variable (x1)</p>
</dd>
<dt><code>ss1</code></dt><dd><p>a numeric array containing area-level variables (x2, x3) available at ss1</p>
</dd>
<dt><code>ss2</code></dt><dd><p>a numeric array containing area-level variables (x2, x3) available at ss2</p>
</dd>
</dl>



<h3>Details</h3>

<p>The data consist of simulated variables, including an individual-level covariate (x1) and two area-level covariates (x2, x3) available at two
different spatial scales (ss1, ss2). The data are in the form of a 3-D or stacked array, where each stack represents a particular level of
covariates, including spatial scale. The first stack contains the individual-level variable; the second and third stacks contain the area-level
variables at the ss1 and ss2 levels, respectively. Note that in cases where values are only present for a covariate at certain levels, that
covariate is assigned missing values at all other levels.
</p>


<h3>References</h3>

<p>Grant LP, Gennings C, Wheeler, DC. (2015). Selecting spatial scale of covariates in regression models of environmental exposures.
Cancer Informatics, 14(S2), 81-96. doi: 10.4137/CIN.S17302
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(X.3D)
</code></pre>

<hr>
<h2 id='y'>
Response data y
</h2><span id='topic+y'></span>

<h3>Description</h3>

<p>Simulated response data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(y)</code></pre>


<h3>Format</h3>

<p>A numeric response vector with 20 observations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(y)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

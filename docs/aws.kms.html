<!DOCTYPE html><html lang="en"><head><title>Help for package aws.kms</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {aws.kms}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aws.kms-package'><p>aws.kms</p></a></li>
<li><a href='#create_kms_alias'><p>Create/Delete KMS Key Alias</p></a></li>
<li><a href='#create_kms_key'><p>Create/Update/Retrieve/Delete Encryption Key</p></a></li>
<li><a href='#enable_kms_key'><p>Enable/Disable Encryption Key</p></a></li>
<li><a href='#enable_kms_rotation'><p>Enable/Disable Key Rotation</p></a></li>
<li><a href='#encrypt'><p>Perform encryption/decryption</p></a></li>
<li><a href='#generate_blob'><p>Generate Random Blob</p></a></li>
<li><a href='#generate_data_key'><p>Generate data keys</p></a></li>
<li><a href='#kmsHTTP'><p>Execute AWS KMS API Request</p></a></li>
<li><a href='#list_kms_keys'><p>List Encryption Keys</p></a></li>
<li><a href='#put_kms_material'><p>Put/Delete KMS Key Material</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>'AWS Key Management Service' Client Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Client package for the 'AWS Key Management Service' <a href="https://aws.amazon.com/kms/">https://aws.amazon.com/kms/</a>, a cloud service for managing encryption keys.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/cloudyr/aws.kms">https://github.com/cloudyr/aws.kms</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cloudyr/aws.kms/issues">https://github.com/cloudyr/aws.kms/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite, base64enc, aws.signature (&ge; 0.4.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-13 23:26:42 UTC; svnuser</td>
</tr>
<tr>
<td>Author:</td>
<td>Thomas J. Leeper <a href="https://orcid.org/0000-0003-4097-6326"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Simon Urbanek [cre, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Urbanek &lt;simon.urbanek@R-project.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-14 08:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='aws.kms-package'>aws.kms</h2><span id='topic+aws.kms-package'></span><span id='topic+aws.kms'></span>

<h3>Description</h3>

<p>AWS Key Management Service (KMS) Client.
</p>


<h3>Details</h3>

<p>This is a client for the AWS Key Management Service (KMS), which can be used to create and manage encryption keys used by AWS services or to setup a secure HTTP-based encryption service using <code><a href="#topic+encrypt">encrypt</a></code> and <code><a href="#topic+decrypt">decrypt</a></code>. KMS is also used natively by other AWS services.
</p>


<h3>Author(s)</h3>

<p>Thomas J. Leeper &lt;thosjleeper@gmail.com&gt;
</p>


<h3>References</h3>

<p><a href="https://docs.aws.amazon.com/kms/latest/developerguide/overview.html">https://docs.aws.amazon.com/kms/latest/developerguide/overview.html</a>
<a href="https://docs.aws.amazon.com/kms/latest/APIReference/Welcome.html">https://docs.aws.amazon.com/kms/latest/APIReference/Welcome.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+list_kms_keys">list_kms_keys</a></code>, <code><a href="#topic+generate_blob">generate_blob</a></code>, <code><a href="#topic+encrypt">encrypt</a></code>
</p>

<hr>
<h2 id='create_kms_alias'>Create/Delete KMS Key Alias</h2><span id='topic+create_kms_alias'></span><span id='topic+delete_kms_alias'></span><span id='topic+update_kms_alias'></span><span id='topic+list_kms_aliases'></span>

<h3>Description</h3>

<p>Manage KMS key aliases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_kms_alias(key, alias, ...)

delete_kms_alias(alias, ...)

update_kms_alias(key, alias, ...)

list_kms_aliases(n, marker, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_kms_alias_+3A_key">key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with &ldquo;alias/&rdquo;.</p>
</td></tr>
<tr><td><code id="create_kms_alias_+3A_alias">alias</code></td>
<td>
<p>A character string specifying an alias name.</p>
</td></tr>
<tr><td><code id="create_kms_alias_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_kms_alias_+3A_n">n</code></td>
<td>
<p>For <code>list_kms_alises</code>, an integer specifying a number of keys to return (for pagination).</p>
</td></tr>
<tr><td><code id="create_kms_alias_+3A_marker">marker</code></td>
<td>
<p>For <code>list_kms_alises</code>, a pagination marker.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>create_kms_alias</code> creates an alias for KMS key, which can be used in place of the KeyId or ARN. A given key can have multiple aliases. <code>delete_kms_alias</code> deletes an named alias. <code>update_kms_alias</code> reassigns an alias to a new key.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+delete_kms_key">delete_kms_key</a></code>, <code><a href="#topic+encrypt">encrypt</a></code>
</p>

<hr>
<h2 id='create_kms_key'>Create/Update/Retrieve/Delete Encryption Key</h2><span id='topic+create_kms_key'></span><span id='topic+update_kms_key'></span><span id='topic+get_kms_key'></span><span id='topic+delete_kms_key'></span><span id='topic+undelete_kms_key'></span>

<h3>Description</h3>

<p>Create/update/retrieve/delete a KMS encryption key
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_kms_key(
  description = NULL,
  origin = c("AWS_KMS", "EXTERNAL"),
  usage = "ENCRYPT_DECRYPT",
  ...
)

update_kms_key(key, description, ...)

get_kms_key(key, ...)

delete_kms_key(key, delay = 7, ...)

undelete_kms_key(key, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_kms_key_+3A_description">description</code></td>
<td>
<p>Optionally, a character string describing the key. This can be updated later using <code>update_kms_key</code>. An alias for the key, which can be used in lieu of the KeyId in subsequent calls can be set with <code><a href="#topic+create_kms_alias">create_kms_alias</a></code>.</p>
</td></tr>
<tr><td><code id="create_kms_key_+3A_origin">origin</code></td>
<td>
<p>A character string specifying the origin. Default is &ldquo;AWS_KMS&rdquo;. If &ldquo;EXTERNAL&rdquo;, use <code><a href="#topic+put_kms_material">put_kms_material</a></code> to add a key created using other infrastructure. See <a href="https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html">https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys.html</a> for details.</p>
</td></tr>
<tr><td><code id="create_kms_key_+3A_usage">usage</code></td>
<td>
<p>Ignored.</p>
</td></tr>
<tr><td><code id="create_kms_key_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="create_kms_key_+3A_key">key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with &ldquo;alias/&rdquo;.</p>
</td></tr>
<tr><td><code id="create_kms_key_+3A_delay">delay</code></td>
<td>
<p>An integer specifying a number of delays to wait before deleting key. Minimum 7 and maximum 30.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>create_kms_key</code> and <code>get_kms_key</code> return a list of class &ldquo;aws_kms_key&rdquo;. <code>delete_kms_key</code> and <code>undelete_kms_key</code> return a logical.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+list_kms_keys">list_kms_keys</a></code>, <code><a href="#topic+create_kms_alias">create_kms_alias</a></code>, <code><a href="#topic+disable_kms_key">disable_kms_key</a></code>, <code><a href="#topic+encrypt">encrypt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # create key
  k &lt;- create_kms_key(description = "example")
  
  # get key
  get_kms_key(k)
  
  # delete in 30 days
  delete_kms_key(k, delay = 30)

## End(Not run)
</code></pre>

<hr>
<h2 id='enable_kms_key'>Enable/Disable Encryption Key</h2><span id='topic+enable_kms_key'></span><span id='topic+disable_kms_key'></span>

<h3>Description</h3>

<p>Enable or disable a KMS encryption key
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enable_kms_key(key, ...)

disable_kms_key(key, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enable_kms_key_+3A_key">key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with &ldquo;alias/&rdquo;.</p>
</td></tr>
<tr><td><code id="enable_kms_key_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+list_kms_keys">list_kms_keys</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # create key
  k &lt;- create_kms_key(description = "example")
  
  # disable key
  disable_kms_key(k)
  
  # enable key
  enable_kms_key(k)
  
  # delete in 7 days
  delete_kms_key(k)

## End(Not run)
</code></pre>

<hr>
<h2 id='enable_kms_rotation'>Enable/Disable Key Rotation</h2><span id='topic+enable_kms_rotation'></span><span id='topic+disable_kms_rotation'></span><span id='topic+get_kms_rotation'></span>

<h3>Description</h3>

<p>Enable or disable a encryption key rotation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enable_kms_rotation(key, ...)

disable_kms_rotation(key, ...)

get_kms_rotation(key, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enable_kms_rotation_+3A_key">key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with &ldquo;alias/&rdquo;.</p>
</td></tr>
<tr><td><code id="enable_kms_rotation_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+list_kms_keys">list_kms_keys</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # create key
  k &lt;- create_kms_key(description = "example")
  
  # enable rotation
  enable_kms_rotation(k)
  
  # disable rotation
  disable_kms_rotation(k)
  
  # confirm rotation is disabled
  get_kms_rotation(k)
  
  # delete in 7 days
  delete_kms_key(k)

## End(Not run)
</code></pre>

<hr>
<h2 id='encrypt'>Perform encryption/decryption</h2><span id='topic+encrypt'></span><span id='topic+decrypt'></span><span id='topic+reencrypt'></span>

<h3>Description</h3>

<p>Encrypt plain text into ciphertext, or the reverse
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encrypt(text, key, encode = TRUE, ...)

decrypt(text, key, encode = TRUE, ...)

reencrypt(text, key, encode = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="encrypt_+3A_text">text</code></td>
<td>
<p>For <code>encrypt</code>, a character string specifying up to 4 kilobytes of data to be encrypted using the specified key. For <code>decrypt</code>, ciphertext of maximum 6144 bytes.</p>
</td></tr>
<tr><td><code id="encrypt_+3A_key">key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with &ldquo;alias/&rdquo;.</p>
</td></tr>
<tr><td><code id="encrypt_+3A_encode">encode</code></td>
<td>
<p>A logical specifying whether to base 64 encode <code>text</code>.</p>
</td></tr>
<tr><td><code id="encrypt_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>encrypt</code> encrypts source text using a KMS key. <code>decrypt</code> reverses this process using the same key. <code>reencrypt</code> reencrypts an (encrypted) ciphertext using a new key. The purpose of these functions, according to AWS, to is encrypt and decrypt data keys (of the source created with <code><a href="#topic+generate_data_key">generate_data_key</a></code>) rather than general purpose encryption given the relatively low upper limit on the size of <code>text</code>.
</p>


<h3>Value</h3>

<p><code>encrypt</code> returns a base64-encoded binary object as a character string.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+generate_data_key">generate_data_key</a></code>, <code><a href="#topic+generate_blob">generate_blob</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # create a key
  k &lt;- create_kms_key()
  
  # encrypt
  tmp &lt;- tempfile()
  cat("example test", file = tmp)
  (etext &lt;- encrypt(tmp, k))
  
  # decrypt
  (dtext &lt;- decrypt(etext, k, encode = FALSE))
  if (require("base64enc")) {
    rawToChar(base64enc::base64decode(dtext))
  }
  
  # cleanup
  delete_kms_key(k)

## End(Not run)
</code></pre>

<hr>
<h2 id='generate_blob'>Generate Random Blob</h2><span id='topic+generate_blob'></span>

<h3>Description</h3>

<p>Generate a random byte string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_blob(bytes = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate_blob_+3A_bytes">bytes</code></td>
<td>
<p>An integer specifying a number of bytes between 1 and 1024.</p>
</td></tr>
<tr><td><code id="generate_blob_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>create_kms_alias</code> creates an alias for KMS key, which can be used in place of the KeyId or ARN. A given key can have multiple aliases. <code>delete_kms_alias</code> deletes an named alias. <code>update_kms_alias</code> reassigns an alias to a new key.
</p>


<h3>Value</h3>

<p>A base64-encoded character string.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+encrypt">encrypt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  b &lt;- generate_blob()
  if (require("base64enc")) {
     base64enc::base64decode(b)
  }

## End(Not run)
</code></pre>

<hr>
<h2 id='generate_data_key'>Generate data keys</h2><span id='topic+generate_data_key'></span>

<h3>Description</h3>

<p>Generate data keys for local encryption
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_data_key(key, spec = c("AES_256", "AES_128"), plaintext = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate_data_key_+3A_key">key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with &ldquo;alias/&rdquo;.</p>
</td></tr>
<tr><td><code id="generate_data_key_+3A_spec">spec</code></td>
<td>
<p>A character string specifying the length of the data encryption key, either &ldquo;AES_256&rdquo; or &ldquo;AES_128&rdquo;.</p>
</td></tr>
<tr><td><code id="generate_data_key_+3A_plaintext">plaintext</code></td>
<td>
<p>A logical indicating whether to return the data key in plain text, as well as in encrypted form.</p>
</td></tr>
<tr><td><code id="generate_data_key_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function generates and returns a &ldquo;data key&rdquo; for use in local encrption. The suggested workflow from AWS is to encrypt, do the following:
</p>

<ol>
<li><p> Use this operation (<code>generate_data_key</code>) to get a data encryption key.
</p>
</li>
<li><p> Use the plaintext data encryption key (returned in the Plaintext field of the response) to encrypt data locally, then erase the plaintext data key from memory.
</p>
</li>
<li><p> Store the encrypted data key (returned in the CiphertextBlob field of the response) alongside the locally encrypted data.
</p>
</li></ol>

<p>Then to decrypt locally:
</p>

<ol>
<li><p> Use <code><a href="#topic+decrypt">decrypt</a></code> to decrypt the encrypted data key into a plaintext copy of the data key.
</p>
</li>
<li><p> Use the plaintext data key to decrypt data locally, then erase the plaintext data key from memory.
</p>
</li></ol>



<h3>Value</h3>

<p><code>encrypt</code> returns a base64-encoded binary object as a character string.
</p>


<h3>References</h3>

<p><a href="https://docs.aws.amazon.com/kms/latest/APIReference/API_GenerateDataKey.html">https://docs.aws.amazon.com/kms/latest/APIReference/API_GenerateDataKey.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+generate_blob">generate_blob</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # create a (CMK) key
  k &lt;- create_kms_key()
  
  # generate a data key for local encryption
  datakey &lt;- generate_data_key(key = k)
  
  ## encrypt something locally using datakey$Plaintext
  ## then delete the plaintext key
  datakey$Plaintext &lt;- NULL
  
  # decrypt the encrypted data key
  datakey$Plaintext &lt;- decrypt(datakey$CiphertextBlob, k, encode = FALSE)
  ## then use this to decrypt locally
  
  # cleanup
  delete_kms_key(k)

## End(Not run)
</code></pre>

<hr>
<h2 id='kmsHTTP'>Execute AWS KMS API Request</h2><span id='topic+kmsHTTP'></span>

<h3>Description</h3>

<p>This is the workhorse function to execute calls to the KMS API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kmsHTTP(
  action,
  query = list(),
  headers = list(),
  body = NULL,
  verbose = getOption("verbose", FALSE),
  region = Sys.getenv("AWS_DEFAULT_REGION", "us-east-1"),
  key = NULL,
  secret = NULL,
  session_token = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kmsHTTP_+3A_action">action</code></td>
<td>
<p>A character string specifying the API action to take</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_query">query</code></td>
<td>
<p>An optional named list containing query string parameters and their character values.</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_headers">headers</code></td>
<td>
<p>A list of headers to pass to the HTTP request.</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_body">body</code></td>
<td>
<p>A request body</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_verbose">verbose</code></td>
<td>
<p>A logical indicating whether to be verbose. Default is given by <code>options("verbose")</code>.</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_region">region</code></td>
<td>
<p>A character string specifying an AWS region. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_key">key</code></td>
<td>
<p>A character string specifying an AWS Access Key. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_secret">secret</code></td>
<td>
<p>A character string specifying an AWS Secret Key. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_session_token">session_token</code></td>
<td>
<p>Optionally, a character string specifying an AWS temporary Session Token to use in signing a request. See <code><a href="aws.signature.html#topic+locate_credentials">locate_credentials</a></code>.</p>
</td></tr>
<tr><td><code id="kmsHTTP_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="httr.html#topic+GET">GET</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function constructs and signs a KMS API request and returns the results thereof, or relevant debugging information in the case of error.
</p>


<h3>Value</h3>

<p>If successful, a named list. Otherwise, a data structure of class &ldquo;aws-error&rdquo; containing any error message(s) from AWS and information about the request attempt.
</p>


<h3>Author(s)</h3>

<p>Thomas J. Leeper
</p>

<hr>
<h2 id='list_kms_keys'>List Encryption Keys</h2><span id='topic+list_kms_keys'></span>

<h3>Description</h3>

<p>List encryption keys in KMS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_kms_keys(n = 100, marker = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_kms_keys_+3A_n">n</code></td>
<td>
<p>An integer specifying a number of keys to return (for pagination).</p>
</td></tr>
<tr><td><code id="list_kms_keys_+3A_marker">marker</code></td>
<td>
<p>A pagination marker.</p>
</td></tr>
<tr><td><code id="list_kms_keys_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_kms_key">get_kms_key</a></code>, <code><a href="#topic+create_kms_key">create_kms_key</a></code>, <code><a href="#topic+delete_kms_key">delete_kms_key</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  list_kms_keys()

## End(Not run)
</code></pre>

<hr>
<h2 id='put_kms_material'>Put/Delete KMS Key Material</h2><span id='topic+put_kms_material'></span><span id='topic+delete_kms_material'></span><span id='topic+get_material_parameters'></span>

<h3>Description</h3>

<p>Manage key material for &ldquo;external&rdquo; keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>put_kms_material(key, material, token, expires = TRUE, valid_to = NULL, ...)

delete_kms_material(key, ...)

get_material_parameters(
  key,
  algorithm = c("RSAES_PKCS1_V1_5", "RSAES_OAEP_SHA_1", "RSAES_OAEP_SHA_256"),
  spec = "RSA_2048",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="put_kms_material_+3A_key">key</code></td>
<td>
<p>A character string specifying a key ID, Amazon Resource Name (ARN), alias name, or alias ARN. When using an alias name, prefix it with &ldquo;alias/&rdquo;.</p>
</td></tr>
<tr><td><code id="put_kms_material_+3A_material">material</code></td>
<td>
<p>A character string specifying the base64-encoded key material (encrypted according to parameters returned by <code>get_material_parameters</code>).</p>
</td></tr>
<tr><td><code id="put_kms_material_+3A_token">token</code></td>
<td>
<p>A character string returned in <code>get_material_parameters()$ImportToken</code>.</p>
</td></tr>
<tr><td><code id="put_kms_material_+3A_expires">expires</code></td>
<td>
<p>Optionally, a logical indicating whether the key material expires. If <code>TRUE</code> (the default), <code>valid_to</code> is required.</p>
</td></tr>
<tr><td><code id="put_kms_material_+3A_valid_to">valid_to</code></td>
<td>
<p>Optionally (if <code>expires = TRUE</code>), a number specifying when the key material expires.</p>
</td></tr>
<tr><td><code id="put_kms_material_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+kmsHTTP">kmsHTTP</a></code>.</p>
</td></tr>
<tr><td><code id="put_kms_material_+3A_algorithm">algorithm</code></td>
<td>
<p>A character string specifying an encryption algorithm used to encrypt the key material.</p>
</td></tr>
<tr><td><code id="put_kms_material_+3A_spec">spec</code></td>
<td>
<p>Ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>put_kms_material</code> adds key material to an &ldquo;external&rdquo; KMS key, which can be created using <code>create_kms_key</code>. The import requires <code>delete_kms_material</code> deletes the imported material (but not the key itself).
</p>


<h3>References</h3>

<p><a href="https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys-encrypt-key-material.html">https://docs.aws.amazon.com/kms/latest/developerguide/importing-keys-encrypt-key-material.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_kms_key">create_kms_key</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package tzupdater</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tzupdater}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tzupdater-package'><p>A Tool For Automatically Download And Compile Tz Database From The IANA Website.</p></a></li>
<li><a href='#get_active_tz_db'><p>get_active_tz_db</p></a></li>
<li><a href='#get_last_published_tz'><p>get_last_published_tz</p></a></li>
<li><a href='#install_last_tz'><p>install_last_tz</p></a></li>
<li><a href='#install_tz'><p>install_tz</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Time Zone Database Updater</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Author:</td>
<td>Sebastien Thonnard</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sebastien Thonnard &lt;sebastien.thonnard@icloud.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Download and compile any version of the
  IANA Time Zone Database (also known as Olson database)
  and make it current in your R session.
  Beware: on Windows 'Cygwin' is required!</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-12 07:35:27 UTC; sebastienthonnard</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-12 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tzupdater-package'>A Tool For Automatically Download And Compile Tz Database From The IANA Website.</h2><span id='topic+tzupdater'></span><span id='topic+tzupdater-package'></span>

<h3>Description</h3>

<p>Download and compile any version of the IANA Time Zone Database (also known as Olson database) and make it current
in your R session.
This will NOT replace your system tz database.
</p>


<h3>Details</h3>

<p>Context:<br />
It can be useful to download and compile the latest tz database because tz information are constently changing,
hence your system might not have the latest version. Outdated tz database can cause troubles when converting from UTC to local time
and vice-versa. You won't have any obvious error, you will just get wrong UTC offset or zone name.
</p>
<p>Prerequisite:<br />
You need the timezone compiler (zic). <br />
-On Windows you can get it by installing Cygwin (<a href="https://www.cygwin.com">https://www.cygwin.com</a>)<br />
zic should be installed in C:\Cygwin\usr\sbin by default. If you installed Cygwin somewhere else, <br />
please add the zic path to your environment pariable PATH or specify the path in the function call.<br />
-On macOS zic is installed by default.<br />
-On Linux zic is generally already available. Otherwise it is part of package tzdata.<br />
Using Alpine Linux you can get it by running the following command:<br />
apk add tzdata
</p>
<p>Bugs report:<br />
<a href="https://github.com/sthonnard/tzupdater">https://github.com/sthonnard/tzupdater</a>
</p>


<h3>tzupdater functions</h3>

<p><strong>install_last_tz()</strong><br />
Automatically get the latest version available and compile it. Once done make it active. 
If your tz database is already the latest, do nothing.
</p>
<p><strong>get_last_published_tz()</strong><br />
Get the name of the latest version available at IANA website.<br />
</p>
<p><strong>get_active_tz_db()</strong><br />
Get the active tz database version on your session.<br />
</p>
<p><strong>install_tz(version_to_install)</strong><br />
Download and install the IANA time zone specified in parameter.
</p>

<hr>
<h2 id='get_active_tz_db'>get_active_tz_db</h2><span id='topic+get_active_tz_db'></span>

<h3>Description</h3>

<p>Get the active tz database version
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_active_tz_db()
</code></pre>


<h3>Value</h3>

<p>Active tz database for the current session.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the active tz database in your session:
get_active_tz_db()
</code></pre>

<hr>
<h2 id='get_last_published_tz'>get_last_published_tz</h2><span id='topic+get_last_published_tz'></span>

<h3>Description</h3>

<p>Get the name of the latest version available at IANA website.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_last_published_tz()
</code></pre>


<h3>Value</h3>

<p>Latest IANA tz db version name or Unknown if not found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Will return for instance "2019c"
get_last_published_tz()
</code></pre>

<hr>
<h2 id='install_last_tz'>install_last_tz</h2><span id='topic+install_last_tz'></span>

<h3>Description</h3>

<p>Install latest tz database if required, and make it active.<br /><br />
Will stop in case it is not possible to know what the last version is.<br />
If it happens browse IANA website at https://www.iana.org/time-zones and install last version with install_tz(version).<br />
?install_tz for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_last_tz(
  zic_path = NA,
  target_folder = paste0(tempdir(), "/tzupdater/data/IANA_release"),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_last_tz_+3A_zic_path">zic_path</code></td>
<td>
<p>Optional for Windows: path to the zic compiler (if not in
C:\Cygwin\usr\sbin).</p>
</td></tr>
<tr><td><code id="install_last_tz_+3A_target_folder">target_folder</code></td>
<td>
<p>Optional target folder. Default will be
tzupdater/data/IANA_release as subdirectory of your temp dir.</p>
</td></tr>
<tr><td><code id="install_last_tz_+3A_verbose">verbose</code></td>
<td>
<p>Print information to the console TRUE/FALSE. Default TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get the latest version available and compile. 
# If your tz database is already the latest, do nothing.
install_last_tz()

# Same, but more verbose.
install_last_tz(verbose = TRUE)

# On Windows: install latest tz database, with Cygwin installed in c:\Cygwin.
install_last_tz(zic_path="C:\\Cygwin\\usr\\sbin")
</code></pre>

<hr>
<h2 id='install_tz'>install_tz</h2><span id='topic+install_tz'></span>

<h3>Description</h3>

<p>Download and compile a tz database from the IANA website and make it active as an option.
In case the tz db exists already, do not download again.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_tz(
  tgt_version = "2019c",
  zic_path = NA,
  target_folder = paste0(tempdir(), "/tzupdater/data/IANA_release"),
  show_zic_log = FALSE,
  err_stop = TRUE,
  activate_tz = TRUE,
  verbose = TRUE,
  fail_if_zic_missing = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_tz_+3A_tgt_version">tgt_version</code></td>
<td>
<p>Version to download and compile (eg 2019c, 2019a).</p>
</td></tr>
<tr><td><code id="install_tz_+3A_zic_path">zic_path</code></td>
<td>
<p>Optional for Windows: path to the zic compiler (if not in C:\Cygwin\usr\sbin)</p>
</td></tr>
<tr><td><code id="install_tz_+3A_target_folder">target_folder</code></td>
<td>
<p>Optional target folder. Default will be tzupdater/data/IANA_release as in tempdir()</p>
</td></tr>
<tr><td><code id="install_tz_+3A_show_zic_log">show_zic_log</code></td>
<td>
<p>Optional: show logs from the zic compiler (TRUE/FALSE). Default FALSE.</p>
</td></tr>
<tr><td><code id="install_tz_+3A_err_stop">err_stop</code></td>
<td>
<p>Stop on error (TRUE/FALSE). Default TRUE. Recommanded to TRUE.</p>
</td></tr>
<tr><td><code id="install_tz_+3A_activate_tz">activate_tz</code></td>
<td>
<p>Activate the tz database once installed. Default TRUE.</p>
</td></tr>
<tr><td><code id="install_tz_+3A_verbose">verbose</code></td>
<td>
<p>Print additional information to the console TRUE/FALSE. Default TRUE.</p>
</td></tr>
<tr><td><code id="install_tz_+3A_fail_if_zic_missing">fail_if_zic_missing</code></td>
<td>
<p>Stop execution if zic is missing (default FALSE, will only display a message)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Install tz database 2019c
install_tz("2019c")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

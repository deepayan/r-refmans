<!DOCTYPE html><html lang="en"><head><title>Help for package BioPred</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BioPred}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cat_summary'><p>Summarize Categorical Variables in Subgroup</p></a></li>
<li><a href='#cdf_plot'><p>CDF  Plot for a biomarker</p></a></li>
<li><a href='#cut_perf'><p>Cutoff Performance Evaluation</p></a></li>
<li><a href='#eval_metric_bin'><p>Evaluation Metrics for XGBoostSub_bin Model</p></a></li>
<li><a href='#eval_metric_con'><p>Evaluation Metrics for XGBoostSub_con Model</p></a></li>
<li><a href='#eval_metric_sur'><p>Evaluation Metrics for XGBoostSub_sur Model</p></a></li>
<li><a href='#fixcut_bin'><p>Fixed Cutoff Analysis for Individual Biomarker Associated with Binary Outcome Variables</p></a></li>
<li><a href='#fixcut_con'><p>Fixed Cutoff Analysis for Individual Biomarker Associated with Continuous Outcome</p></a></li>
<li><a href='#fixcut_sur'><p>Fixed Cutoff Analysis for Individual Biomarker Associated with Survival Outcome</p></a></li>
<li><a href='#gam_ctr_plot'><p>GAM Contrast Plot</p></a></li>
<li><a href='#gam_plot'><p>GAM Plot</p></a></li>
<li><a href='#get_subgroup_results'><p>Get Subgroup Results</p></a></li>
<li><a href='#isout'><p>Outlier Detection Based on Boxplot</p></a></li>
<li><a href='#predictive_biomarker_imp'><p>Plot Predictive Biomarker Importance based on XGBoost-based Subgroup Model</p></a></li>
<li><a href='#roc_bin'><p>AUC ROC Table for Biomarkers Associated with Binary Outcomes</p></a></li>
<li><a href='#roc_bin_plot'><p>ROC Plot Biomarkers Associated with Binary Outcomes</p></a></li>
<li><a href='#scat_cont_plot'><p>Scatter Plot for a Biomarker Associated with Continuous Outcome</p></a></li>
<li><a href='#subgrp_perf'><p>Subgroup Performance Evaluation for Prognostic Cases</p></a></li>
<li><a href='#subgrp_perf_pred'><p>Subgroup Performance Evaluation for Predictive Cases</p></a></li>
<li><a href='#tutorial_data'><p>Tutorial Data</p></a></li>
<li><a href='#XGBoostSub_bin'><p>XGBoost Model with Modified Loss Function for Subgroup Identification with Binary Outcomes</p></a></li>
<li><a href='#XGBoostSub_con'><p>XGBoost Model with Modified Loss Function for Subgroup Identification with Continuous Outcomes</p></a></li>
<li><a href='#XGBoostSub_sur'><p>XGBoost Model with Modified Loss Function for Subgroup Identification with Survival Outcomes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>An R Package for Biomarkers Analysis in Precision Medicine</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-11-03</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zihuan Liu &lt;zihuan.liu@abbvie.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions for training extreme gradient boosting model using propensity score A-learning and weight-learning methods. For further details, see Liu et al. (2024) &lt;<a href="https://doi.org/10.1093%2Fbioinformatics%2Fbtae592">doi:10.1093/bioinformatics/btae592</a>&gt;.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>xgboost, pROC, ggplot2, PropCIs, survival, survminer, mgcv,
onewaytests, car</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, kableExtra</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-04 00:56:19 UTC; LIUZX18</td>
</tr>
<tr>
<td>Author:</td>
<td>Zihuan Liu [aut, cre],
  Yan Sun [aut],
  Xin Huang [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-04 08:30:13 UTC</td>
</tr>
</table>
<hr>
<h2 id='cat_summary'>Summarize Categorical Variables in Subgroup</h2><span id='topic+cat_summary'></span>

<h3>Description</h3>

<p>This function provides a summary of categorical variables in a dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat_summary(
  yvar,
  yname,
  xvars,
  xname.list,
  data,
  yvar.display = yvar,
  xvars.display = xvars
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cat_summary_+3A_yvar">yvar</code></td>
<td>
<p>Name of the variable for summary.</p>
</td></tr>
<tr><td><code id="cat_summary_+3A_yname">yname</code></td>
<td>
<p>A vector of ordered y values.</p>
</td></tr>
<tr><td><code id="cat_summary_+3A_xvars">xvars</code></td>
<td>
<p>Names of the variables for grouping.</p>
</td></tr>
<tr><td><code id="cat_summary_+3A_xname.list">xname.list</code></td>
<td>
<p>A list (same order as xvars) of ordered x values for each xvar.</p>
</td></tr>
<tr><td><code id="cat_summary_+3A_data">data</code></td>
<td>
<p>The dataset.</p>
</td></tr>
<tr><td><code id="cat_summary_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name for yvar.</p>
</td></tr>
<tr><td><code id="cat_summary_+3A_xvars.display">xvars.display</code></td>
<td>
<p>Display name for xvars.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the contingency table, frequency table, and percentage table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  outcome = sample(c("A", "B", "C"), 100, replace = TRUE),  # categorical outcome
  group1 = sample(c("Male", "Female"), 100, replace = TRUE),  # group variable 1
  group2 = sample(c("Young", "Old"), 100, replace = TRUE)  # group variable 2
)

# Summarize categorical outcome by two grouping variables
cat_summary(
  yvar = "outcome",
  yname = c("A", "B", "C"),  # ordered categories for outcome
  xvars = c("group1", "group2"),
  xname.list = list(c("Male", "Female"), c("Young", "Old")),
  data = data,
  yvar.display = "Outcome Category",
  xvars.display = c("Gender", "Age Group")
)
</code></pre>

<hr>
<h2 id='cdf_plot'>CDF  Plot for a biomarker</h2><span id='topic+cdf_plot'></span>

<h3>Description</h3>

<p>Cumulative Distribution Function (CDF) plot for a biomarker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cdf_plot(xvar, data, y.int = 5, xlim = NULL, xvar.display = xvar, group = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cdf_plot_+3A_xvar">xvar</code></td>
<td>
<p>The biomarker name.</p>
</td></tr>
<tr><td><code id="cdf_plot_+3A_data">data</code></td>
<td>
<p>The dataset.</p>
</td></tr>
<tr><td><code id="cdf_plot_+3A_y.int">y.int</code></td>
<td>
<p>Increasement interval on the y.</p>
</td></tr>
<tr><td><code id="cdf_plot_+3A_xlim">xlim</code></td>
<td>
<p>cdf plot range for xvar, when NULL, c(min(x), max(x)) will be used.</p>
</td></tr>
<tr><td><code id="cdf_plot_+3A_xvar.display">xvar.display</code></td>
<td>
<p>Display name of the biomarker.</p>
</td></tr>
<tr><td><code id="cdf_plot_+3A_group">group</code></td>
<td>
<p>A separate CDF line will be plotted for each group.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the CDF inverse plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
  data &lt;- data.frame(
  biomarker = rnorm(100, mean = 50, sd = 10),
  group = sample(c("Group A", "Group B"), 100, replace = TRUE)
)

# Basic CDF plot for a single biomarker without groups
  cdf_plot(
  xvar = "biomarker",
  data = data,
  y.int = 10,
  xlim = c(30, 70),
  xvar.display = "Biomarker Level"
)
# CDF plot for a biomarker with groups
cdf_plot(
  xvar = "biomarker",
  data = data,
  y.int = 10,
  xlim = c(30, 70),
  xvar.display = "Biomarker Level",
  group = "group"
)
</code></pre>

<hr>
<h2 id='cut_perf'>Cutoff Performance Evaluation</h2><span id='topic+cut_perf'></span>

<h3>Description</h3>

<p>This function evaluates the performance of a predictive model at a selected cutoff point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cut_perf(
  yvar,
  censorvar = NULL,
  xvar,
  cutoff,
  dir,
  xvars.adj = NULL,
  data,
  type,
  yvar.display = yvar,
  xvar.display = xvar
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cut_perf_+3A_yvar">yvar</code></td>
<td>
<p>Response variable name.</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_censorvar">censorvar</code></td>
<td>
<p>Censoring variable name (0-censored, 1-event).</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_xvar">xvar</code></td>
<td>
<p>Biomarker name.</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_cutoff">cutoff</code></td>
<td>
<p>Selected cutoff value.</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_dir">dir</code></td>
<td>
<p>Direction for desired subgroup (&quot;&gt;&quot;, &quot;&gt;=&quot;, &quot;&lt;&quot;, &quot;&lt;=&quot;).</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_xvars.adj">xvars.adj</code></td>
<td>
<p>Other covariates to adjust when evaluating the performance.</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_data">data</code></td>
<td>
<p>Data frame containing the variables.</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_type">type</code></td>
<td>
<p>Type of analysis: &quot;c&quot; for continuous, &quot;s&quot; for survival, and &quot;b&quot; for binary.</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name of response variable.</p>
</td></tr>
<tr><td><code id="cut_perf_+3A_xvar.display">xvar.display</code></td>
<td>
<p>Display name of biomarker variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing various performance metrics and optionally, plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  survival_time = rexp(100, rate = 0.1),  # survival time
  status = sample(c(0, 1), 100, replace = TRUE),  # censoring status
  biomarker = rnorm(100, mean = 0, sd = 1),  # biomarker levels
  covariate1 = rnorm(100, mean = 50, sd = 10)  # an additional covariate
)
# Perform cutoff performance evaluation for continuous outcome
data$continuous_outcome &lt;- rnorm(100, mean = 10, sd = 5)
cut_perf(
  yvar = "continuous_outcome",
  xvar = "biomarker",
  cutoff = 0.5,
  dir = "&gt;=",
  data = data,
  type = "c",
  yvar.display = "Continuous Outcome",
  xvar.display = "Biomarker Level"
)

# Perform cutoff performance evaluation for binary outcome
data$binary_outcome &lt;- sample(c(0, 1), 100, replace = TRUE)
cut_perf(
  yvar = "binary_outcome",
  xvar = "biomarker",
  cutoff = 0,
  dir = "&lt;=",
  data = data,
  type = "b",
  yvar.display = "Binary Outcome",
  xvar.display = "Biomarker Level"
)
</code></pre>

<hr>
<h2 id='eval_metric_bin'>Evaluation Metrics for XGBoostSub_bin Model</h2><span id='topic+eval_metric_bin'></span>

<h3>Description</h3>

<p>Function for evaluating XGBoostSub_bin model performance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_metric_bin(model, X_feature, y_label, pi, trt, Loss_type = "A_learning")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eval_metric_bin_+3A_model">model</code></td>
<td>
<p>The trained XGBoostSub_bin model object.</p>
</td></tr>
<tr><td><code id="eval_metric_bin_+3A_x_feature">X_feature</code></td>
<td>
<p>The input features matrix.</p>
</td></tr>
<tr><td><code id="eval_metric_bin_+3A_y_label">y_label</code></td>
<td>
<p>The input y matrix.</p>
</td></tr>
<tr><td><code id="eval_metric_bin_+3A_pi">pi</code></td>
<td>
<p>The propensity scores vector, which should range from 0 to 1, representing the probability of assignment to treatment.</p>
</td></tr>
<tr><td><code id="eval_metric_bin_+3A_trt">trt</code></td>
<td>
<p>The treatment indicator vector. Should take values of 1 or -1, where 1 represents the treatment group and -1 represents the control group.</p>
</td></tr>
<tr><td><code id="eval_metric_bin_+3A_loss_type">Loss_type</code></td>
<td>
<p>Type of loss function to use: &quot;A_learning&quot; or &quot;Weight_learning&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>eval_metric: Function for Evaluating XGBoostSub_bin Model Performance
</p>
<p>This function evaluates the performance of an XGBoostSub_bin model using a A-learning or weight-learning function.
</p>


<h3>Value</h3>

<p>Evaluation result of the XGBoostSub_bin model.
</p>

<hr>
<h2 id='eval_metric_con'>Evaluation Metrics for XGBoostSub_con Model</h2><span id='topic+eval_metric_con'></span>

<h3>Description</h3>

<p>Function for evaluating XGBoostSub_con model performance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_metric_con(model, X_feature, y_label, pi, trt, Loss_type = "A_learning")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eval_metric_con_+3A_model">model</code></td>
<td>
<p>The trained XGBoostSub_con model object.</p>
</td></tr>
<tr><td><code id="eval_metric_con_+3A_x_feature">X_feature</code></td>
<td>
<p>The input features matrix.</p>
</td></tr>
<tr><td><code id="eval_metric_con_+3A_y_label">y_label</code></td>
<td>
<p>The input y matrix.</p>
</td></tr>
<tr><td><code id="eval_metric_con_+3A_pi">pi</code></td>
<td>
<p>The propensity scores vector, which should range from 0 to 1, representing the probability of assignment to treatment.</p>
</td></tr>
<tr><td><code id="eval_metric_con_+3A_trt">trt</code></td>
<td>
<p>The treatment indicator vector. Should take values of 1 or -1, where 1 represents the treatment group and -1 represents the control group.</p>
</td></tr>
<tr><td><code id="eval_metric_con_+3A_loss_type">Loss_type</code></td>
<td>
<p>Type of loss function to use: &quot;A_learning&quot; or &quot;Weight_learning&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>eval_metric: Function for Evaluating XGBoostSub_con Model Performance
</p>
<p>This function evaluates the performance of an XGBoostSub_con model using a A-learning or weight-learning function.
</p>


<h3>Value</h3>

<p>Evaluation result of the XGBoostSub_con model.
</p>

<hr>
<h2 id='eval_metric_sur'>Evaluation Metrics for XGBoostSub_sur Model</h2><span id='topic+eval_metric_sur'></span>

<h3>Description</h3>

<p>Function for evaluating XGBoostSub_sur model performance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_metric_sur(
  model,
  X_feature,
  y_label,
  pi,
  trt,
  censor,
  Loss_type = "A_learning"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eval_metric_sur_+3A_model">model</code></td>
<td>
<p>The trained XGBoostSub_sur model object.</p>
</td></tr>
<tr><td><code id="eval_metric_sur_+3A_x_feature">X_feature</code></td>
<td>
<p>The input features matrix.</p>
</td></tr>
<tr><td><code id="eval_metric_sur_+3A_y_label">y_label</code></td>
<td>
<p>The input y matrix.</p>
</td></tr>
<tr><td><code id="eval_metric_sur_+3A_pi">pi</code></td>
<td>
<p>The propensity scores vector, which should range from 0 to 1, representing the probability of assignment to treatment.</p>
</td></tr>
<tr><td><code id="eval_metric_sur_+3A_trt">trt</code></td>
<td>
<p>The treatment indicator vector. Should take values of 1 or -1, where 1 represents the treatment group and -1 represents the control group.</p>
</td></tr>
<tr><td><code id="eval_metric_sur_+3A_censor">censor</code></td>
<td>
<p>The censor status vector. Should take values of 1 or 0, where 1 represents censoring and 0 represents an observed event.</p>
</td></tr>
<tr><td><code id="eval_metric_sur_+3A_loss_type">Loss_type</code></td>
<td>
<p>Type of loss function to use: &quot;A_learning&quot; or &quot;Weight_learning&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>eval_metric: Function for Evaluating XGBoostSub_con Model Performance
</p>
<p>This function evaluates the performance of an XGBoostSub_con model using a A-learning or weight-learning function.
</p>


<h3>Value</h3>

<p>Evaluation result of the XGBoostSub_sur model.
</p>

<hr>
<h2 id='fixcut_bin'>Fixed Cutoff Analysis for Individual Biomarker Associated with Binary Outcome Variables</h2><span id='topic+fixcut_bin'></span>

<h3>Description</h3>

<p>This function conducts fixed cutoff analysis for individual biomarker associated with binary outcome variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fixcut_bin(
  yvar,
  xvar,
  dir,
  cutoffs,
  data,
  method = "Fisher",
  yvar.display = yvar,
  xvar.display = xvar,
  vert.x = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fixcut_bin_+3A_yvar">yvar</code></td>
<td>
<p>Binary response variable name. 0 represents controls and 1 represents cases.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_xvar">xvar</code></td>
<td>
<p>Biomarker name.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_dir">dir</code></td>
<td>
<p>Cutoff direction for the desired subgroup. Options are &quot;&gt;&quot;, &quot;&gt;=&quot;, &quot;&lt;&quot;, or &quot;&lt;=&quot;.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_cutoffs">cutoffs</code></td>
<td>
<p>A vector of candidate cutoffs.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_method">method</code></td>
<td>
<p>Method for cutoff selection. Options are &quot;Fisher&quot;, &quot;Youden&quot;, &quot;Conc.Prob&quot;, &quot;Accuracy&quot;, or &quot;Kappa&quot;.
- &quot;Fisher&quot;: Minimizes the Fisher test p-value.
- &quot;Youden&quot;: Maximizes the Youden index.
- &quot;Conc.Prob&quot;: Maximizes sensitivity * specificity.
- &quot;Accuracy&quot;: Maximizes accuracy.
- &quot;Kappa&quot;: Maximizes Kappa coefficient.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name of the response variable.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_xvar.display">xvar.display</code></td>
<td>
<p>Display name of the predictor variable.</p>
</td></tr>
<tr><td><code id="fixcut_bin_+3A_vert.x">vert.x</code></td>
<td>
<p>Whether to display the cutoff in a 90-degree angle when plotting (saves space).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing statistical summaries, selected cutoff statistics, selected cutoff value, confusion matrix,
and a ggplot object for visualization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  outcome = sample(c(0, 1), 100, replace = TRUE),
  biomarker = rnorm(100, mean = 0, sd = 1)
)

# Perform fixed cutoff analysis using the "Fisher" method for a biomarker
fixcut_bin(
  yvar = "outcome",
  xvar = "biomarker",
  dir = "&gt;",
  cutoffs = seq(-2, 2, by = 0.5),
  data = data,
  method = "Fisher",
  yvar.display = "Binary Outcome",
  xvar.display = "Biomarker Level",
  vert.x = TRUE
)

# Perform fixed cutoff analysis using the "Youden" method
fixcut_bin(
  yvar = "outcome",
  xvar = "biomarker",
  dir = "&lt;",
  cutoffs = seq(-2, 2, by = 0.5),
  data = data,
  method = "Youden",
  yvar.display = "Binary Outcome",
  xvar.display = "Biomarker Level",
  vert.x = FALSE
)

# Perform fixed cutoff analysis using "Accuracy" method with different direction
fixcut_bin(
  yvar = "outcome",
  xvar = "biomarker",
  dir = "&gt;=",
  cutoffs = c(-1, 0, 1),
  data = data,
  method = "Accuracy",
  yvar.display = "Binary Outcome",
  xvar.display = "Biomarker Level",
  vert.x = TRUE
)
</code></pre>

<hr>
<h2 id='fixcut_con'>Fixed Cutoff Analysis for Individual Biomarker Associated with Continuous Outcome</h2><span id='topic+fixcut_con'></span>

<h3>Description</h3>

<p>This function conducts fixed cutoff analysis for individual biomarker associated with continuous outcome variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fixcut_con(
  yvar,
  xvar,
  dir,
  cutoffs,
  data,
  method = "t.test",
  yvar.display = yvar,
  xvar.display = xvar,
  vert.x = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fixcut_con_+3A_yvar">yvar</code></td>
<td>
<p>Continuous response variable name.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_xvar">xvar</code></td>
<td>
<p>Biomarker name.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_dir">dir</code></td>
<td>
<p>Cutoff direction for the desired subgroup. Options are &quot;&gt;&quot;, &quot;&gt;=&quot;, &quot;&lt;&quot;, or &quot;&lt;=&quot;.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_cutoffs">cutoffs</code></td>
<td>
<p>A vector of candidate cutoffs.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_method">method</code></td>
<td>
<p>Method for cutoff selection. Currently only supports &quot;t.test&quot;.
- &quot;t.test&quot;: Minimizes the t-test p-value.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name of the response variable.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_xvar.display">xvar.display</code></td>
<td>
<p>Display name of the predictor variable.</p>
</td></tr>
<tr><td><code id="fixcut_con_+3A_vert.x">vert.x</code></td>
<td>
<p>Whether to display the cutoff in a 90-degree angle when plotting (saves space).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing statistical summaries, selected cutoff statistics, selected cutoff value, group statistics,
and a ggplot object for visualization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  outcome = rnorm(100, mean = 10, sd = 5),
  biomarker = rnorm(100, mean = 0, sd = 1)
)

# Perform fixed cutoff analysis using the "t.test" method with '&gt;' direction
fixcut_con(
  yvar = "outcome",
  xvar = "biomarker",
  dir = "&gt;",
  cutoffs = seq(-2, 2, by = 0.5),
  data = data,
  method = "t.test",
  yvar.display = "Continuous Outcome",
  xvar.display = "Biomarker Level",
  vert.x = TRUE
)

# Perform fixed cutoff analysis with '&lt;=' direction
fixcut_con(
  yvar = "outcome",
  xvar = "biomarker",
  dir = "&lt;=",
  cutoffs = c(-1, 0, 1),
  data = data,
  method = "t.test",
  yvar.display = "Continuous Outcome",
  xvar.display = "Biomarker Level",
  vert.x = FALSE
)
</code></pre>

<hr>
<h2 id='fixcut_sur'>Fixed Cutoff Analysis for Individual Biomarker Associated with Survival Outcome</h2><span id='topic+fixcut_sur'></span>

<h3>Description</h3>

<p>This function conducts fixed cutoff analysis for Individual Biomarker Associated with survival outcome variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fixcut_sur(
  yvar,
  censorvar,
  xvar,
  dir,
  cutoffs,
  data,
  method = "logrank",
  yvar.display = yvar,
  xvar.display = xvar,
  vert.x = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fixcut_sur_+3A_yvar">yvar</code></td>
<td>
<p>Survival response variable name.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_censorvar">censorvar</code></td>
<td>
<p>Censoring variable. 0 indicates censored, 1 indicates an event.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_xvar">xvar</code></td>
<td>
<p>Biomarker name.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_dir">dir</code></td>
<td>
<p>Cutoff direction for the desired subgroup.
Options are &quot;&gt;&quot;, &quot;&gt;=&quot;, &quot;&lt;&quot;, or &quot;&lt;=&quot;.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_cutoffs">cutoffs</code></td>
<td>
<p>A vector of candidate cutoffs.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_method">method</code></td>
<td>
<p>Method for cutoff selection.
Currently only supports &quot;logrank&quot;.
- &quot;logrank&quot;: Minimizes the logrank test p-value.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name of the response variable.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_xvar.display">xvar.display</code></td>
<td>
<p>Display name of the predictor variable.</p>
</td></tr>
<tr><td><code id="fixcut_sur_+3A_vert.x">vert.x</code></td>
<td>
<p>Whether to display the cutoff in a 90-degree angle when plotting (saves space).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing statistical summaries, selected cutoff statistics, selected cutoff value, group statistics,
and a ggplot object for visualization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  time = rexp(100, rate = 0.1),  # survival time
  status = sample(c(0, 1), 100, replace = TRUE),  # censoring status
  biomarker = rnorm(100, mean = 0, sd = 1)  # biomarker levels
)

fixcut_sur(
  yvar = "time",
  censorvar = "status",
  xvar = "biomarker",
  dir = "&lt;=",
  cutoffs = c(-1, 0, 1),
  data = data,
  method = "logrank",
  yvar.display = "Survival Time",
  xvar.display = "Biomarker Level",
  vert.x = FALSE
)
</code></pre>

<hr>
<h2 id='gam_ctr_plot'>GAM Contrast Plot</h2><span id='topic+gam_ctr_plot'></span>

<h3>Description</h3>

<p>Computes and plots the contrasts between treatment and control group based on a GAM for exploring the relationship be-tween treatment benefit and biomarker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gam_ctr_plot(
  yvar,
  censorvar = NULL,
  xvar,
  xvars.adj = NULL,
  sxvars.adj = NULL,
  trtvar = NULL,
  type,
  data,
  k,
  title = "Group Contrast",
  ybreaks = NULL,
  xbreaks = NULL,
  rugcol.var = NULL,
  link.scale = TRUE,
  prt.sum = TRUE,
  prt.chk = FALSE,
  outlier.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gam_ctr_plot_+3A_yvar">yvar</code></td>
<td>
<p>Response variable name.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_censorvar">censorvar</code></td>
<td>
<p>Censoring variable name (0-censored, 1-event). Required if type is &quot;s&quot; (survival).</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_xvar">xvar</code></td>
<td>
<p>Biomarker name.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_xvars.adj">xvars.adj</code></td>
<td>
<p>Potential confounding variables to adjust for using linear terms.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_sxvars.adj">sxvars.adj</code></td>
<td>
<p>Potential confounding variables to adjust for using curves.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_trtvar">trtvar</code></td>
<td>
<p>Treatment variable that the contrast will build upon (treatment-control).</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_type">type</code></td>
<td>
<p>Type of response variable. Options are &quot;c&quot; for continuous, &quot;s&quot; for survival, and &quot;b&quot; for binary response.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_k">k</code></td>
<td>
<p>Upper limit on the degrees of freedom associated with an s smooth.When this k is too large, program will report error saying</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_title">title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_ybreaks">ybreaks</code></td>
<td>
<p>Breaks on the y-axis.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_xbreaks">xbreaks</code></td>
<td>
<p>Breaks on the x-axis.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_rugcol.var">rugcol.var</code></td>
<td>
<p>Variable name that defines the color of the rug.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_link.scale">link.scale</code></td>
<td>
<p>Whether to show the plot (y-axis) in the scale of the link function (linear predictor).</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_prt.sum">prt.sum</code></td>
<td>
<p>Whether to print summary or not.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_prt.chk">prt.chk</code></td>
<td>
<p>Whether to print model diagnosis.</p>
</td></tr>
<tr><td><code id="gam_ctr_plot_+3A_outlier.rm">outlier.rm</code></td>
<td>
<p>Whether to remove outliers based on 1.5IQR.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the p-value table, summarized p-value table, s-value table, summarized s-value table, and the plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  response = rnorm(100),
  biomarker = rnorm(100, mean = 50, sd = 10),
  censor = sample(c(0, 1), 100, replace = TRUE),
  treatment = sample(c(0, 1), 100, replace = TRUE),
  age = rnorm(100, mean = 60, sd = 10),
  group = sample(c("Group A", "Group B"), 100, replace = TRUE)
)

# Generate a GAM contrast plot for a continuous response variable
gam_ctr_plot(
  yvar = "response",
  xvar = "biomarker",
  trtvar = "treatment",
  type = "c",
  data = data,
  xvars.adj = "age",
  k = 5,
  title = "GAM Contrast Plot for Treatment vs. Control"
)

# Generate a GAM contrast plot for survival analysis
gam_ctr_plot(
  yvar = "response",
  censorvar = "censor",
  xvar = "biomarker",
  trtvar = "treatment",
  type = "s",
  data = data,
  k = 5,
  title = "GAM Contrast Plot for Survival Data"
)

# Generate a GAM contrast plot for a binary response variable
data$binary_response &lt;- as.numeric(data$response &gt; 0)
gam_ctr_plot(
  yvar = "binary_response",
  xvar = "biomarker",
  trtvar = "treatment",
  type = "b",
  data = data,
  k = 5,
  title = "GAM Contrast Plot for Binary Outcome"
)
</code></pre>

<hr>
<h2 id='gam_plot'>GAM Plot</h2><span id='topic+gam_plot'></span>

<h3>Description</h3>

<p>Generates a generalized additive model (GAM) plot for exploring the relationship between a response
variable and a biomarker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gam_plot(
  yvar,
  censorvar = NULL,
  xvar,
  xvars.adj = NULL,
  sxvars.adj = NULL,
  type,
  data,
  k,
  pred.type = "iterms",
  link.scale = TRUE,
  title = "Trend Plot",
  ybreaks = NULL,
  xbreaks = NULL,
  rugcol.var = NULL,
  add.points = FALSE,
  prt.sum = TRUE,
  prt.chk = FALSE,
  outlier.rm = FALSE,
  newdat = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gam_plot_+3A_yvar">yvar</code></td>
<td>
<p>Response variable name.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_censorvar">censorvar</code></td>
<td>
<p>Censoring variable name for survival analysis (0-censored, 1-event).</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_xvar">xvar</code></td>
<td>
<p>Biomarker name.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_xvars.adj">xvars.adj</code></td>
<td>
<p>Potential confounding variables to adjust for using linear terms.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_sxvars.adj">sxvars.adj</code></td>
<td>
<p>Potential confounding variables to adjust for using curve terms.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; for continuous, &quot;s&quot; for survival, and &quot;b&quot; for binary response.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_k">k</code></td>
<td>
<p>Upper limit on the degrees of freedom associated with an s smooth.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_pred.type">pred.type</code></td>
<td>
<p>&quot;iterms&quot; for trend of xvar, &quot;response&quot; for Y at the original scale.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_link.scale">link.scale</code></td>
<td>
<p>Whether to show the plot in the scale of the link function.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_title">title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_ybreaks">ybreaks</code></td>
<td>
<p>Breaks on the y-axis.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_xbreaks">xbreaks</code></td>
<td>
<p>Breaks on the x-axis.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_rugcol.var">rugcol.var</code></td>
<td>
<p>Variable name defining the color of the rug and points.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_add.points">add.points</code></td>
<td>
<p>Whether to add data points to the plot.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_prt.sum">prt.sum</code></td>
<td>
<p>Whether to print summary or not.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_prt.chk">prt.chk</code></td>
<td>
<p>Whether to print model diagnosis.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_outlier.rm">outlier.rm</code></td>
<td>
<p>Whether to remove outliers based on 1.5IQR.</p>
</td></tr>
<tr><td><code id="gam_plot_+3A_newdat">newdat</code></td>
<td>
<p>User-supplied customized data for prediction and plotting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing p-table, s-table, GAM summary, GAM check, and the plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  response = rnorm(100),
  biomarker = rnorm(100, mean = 50, sd = 10),
  censor = sample(c(0, 1), 100, replace = TRUE),
  age = rnorm(100, mean = 60, sd = 10),
  group = sample(c("Group A", "Group B"), 100, replace = TRUE)
)

# Generate a GAM plot for a continuous response variable
gam_plot(
  yvar = "response",
  xvar = "biomarker",
  type = "c",
  data = data,
  xvars.adj = "age",
  sxvars.adj = NULL,
  k = 5,
  pred.type = "iterms",
  title = "GAM Plot of Biomarker and Response"
)

# Generate a GAM plot for survival analysis
gam_plot(
  yvar = "response",
  censorvar = "censor",
  xvar = "biomarker",
  type = "s",
  data = data,
  k = 5,
  title = "GAM Survival Plot for Biomarker"
)

# Generate a GAM plot for a binary response variable
data$binary_response &lt;- as.numeric(data$response &gt; 0)
gam_plot(
  yvar = "binary_response",
  xvar = "biomarker",
  type = "b",
  data = data,
  k = 5,
  pred.type = "response",
  title = "GAM Plot for Binary Response"
)
</code></pre>

<hr>
<h2 id='get_subgroup_results'>Get Subgroup Results</h2><span id='topic+get_subgroup_results'></span>

<h3>Description</h3>

<p>This function predicts the treatment assignment for each patient based on a cutoff value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_subgroup_results(model, X_feature, subgroup_label = NULL, cutoff = 0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_subgroup_results_+3A_model">model</code></td>
<td>
<p>The trained XGBoost-based subgroup model.</p>
</td></tr>
<tr><td><code id="get_subgroup_results_+3A_x_feature">X_feature</code></td>
<td>
<p>The data matrix containing patient features.</p>
</td></tr>
<tr><td><code id="get_subgroup_results_+3A_subgroup_label">subgroup_label</code></td>
<td>
<p>(Optional) The subgroup labels. In real-world data, this information is typically unknown and only available in simulated data. If provided, the prediction accuracy will also be returned.</p>
</td></tr>
<tr><td><code id="get_subgroup_results_+3A_cutoff">cutoff</code></td>
<td>
<p>The cutoff value for treatment assignment, defaulted to 0.5.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing each subject and assigned treatment (1 for treatment, 0 for control). If subgroup labels are provided, it also returns the prediction accuracy of the subgroup labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X_data &lt;- matrix(rnorm(100 * 10), ncol = 10)  # 100 samples with 10 features
y_data &lt;- rnorm(100)  # continuous outcome variable
trt &lt;- sample(c(1, -1), 100, replace = TRUE)  # treatment indicator (1 or -1)
pi &lt;- runif(100, min = 0.3, max = 0.7)  # propensity scores between 0 and 1

# Define XGBoost parameters
params &lt;- list(
  max_depth = 3,
  eta = 0.1,
  subsample = 0.8,
  colsample_bytree = 0.8
)

# Train the model using A-learning loss
model_A &lt;- XGBoostSub_con(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  Loss_type = "A_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)
subgroup_results=get_subgroup_results(model_A, X_data, subgroup_label=NULL, cutoff = 0.5)
</code></pre>

<hr>
<h2 id='isout'>Outlier Detection Based on Boxplot</h2><span id='topic+isout'></span>

<h3>Description</h3>

<p>This function identifies outliers in a numeric vector based on the interquartile range (IQR) method used in boxplots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isout(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="isout_+3A_x">x</code></td>
<td>
<p>A numeric vector of values for outlier detection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating which elements of the input vector are outliers (TRUE if an outlier, FALSE otherwise).
</p>

<hr>
<h2 id='predictive_biomarker_imp'>Plot Predictive Biomarker Importance based on XGBoost-based Subgroup Model</h2><span id='topic+predictive_biomarker_imp'></span>

<h3>Description</h3>

<p>This function calculates and plots the importance of biomarkers in a trained XGBoostSub_con, XGBoostSub_bin or XGBoostSub_sur model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predictive_biomarker_imp(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predictive_biomarker_imp_+3A_model">model</code></td>
<td>
<p>The trained XGBoost-based model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A barplot showing the biomarker importance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X_data &lt;- matrix(rnorm(100 * 10), ncol = 10)  # 100 samples with 10 features
y_data &lt;- rnorm(100)  # continuous outcome variable
trt &lt;- sample(c(1, -1), 100, replace = TRUE)  # treatment indicator (1 or -1)
pi &lt;- runif(100, min = 0.3, max = 0.7)  # propensity scores between 0 and 1

# Define XGBoost parameters
params &lt;- list(
  max_depth = 3,
  eta = 0.1,
  subsample = 0.8,
  colsample_bytree = 0.8
)

# Train the model using A-learning loss
model_A &lt;- XGBoostSub_con(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  Loss_type = "A_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)
biomarker_imp=predictive_biomarker_imp(model_A)
</code></pre>

<hr>
<h2 id='roc_bin'>AUC ROC Table for Biomarkers Associated with Binary Outcomes</h2><span id='topic+roc_bin'></span>

<h3>Description</h3>

<p>Computes the area under the receiver operating characteristic (ROC) curve for Biomarkers Associated with Binary Outcomes,
and returns the results as a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roc_bin(yvar, xvars, dirs, data, yvar.display = yvar, xvars.display = xvars)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="roc_bin_+3A_yvar">yvar</code></td>
<td>
<p>Binary response variable name, where 0 represents controls and 1 represents cases.</p>
</td></tr>
<tr><td><code id="roc_bin_+3A_xvars">xvars</code></td>
<td>
<p>A vector of biomarker names.</p>
</td></tr>
<tr><td><code id="roc_bin_+3A_dirs">dirs</code></td>
<td>
<p>A vector of directions for the biomarkers. Options are &quot;auto&quot;, &quot;&gt;&quot;, or &quot;&lt;&quot;.
- &quot;auto&quot; (default): automatically determines in which group the median is higher and takes the direction accordingly.
- &quot;&gt;&quot;: indicates that the biomarkers for the control group are higher than those for the case group (controls &gt; t &gt;= cases).
- &quot;&lt;&quot;: indicates that the biomarkers for the control group are lower or equal to those for the case group (controls &lt; t &lt;= cases).</p>
</td></tr>
<tr><td><code id="roc_bin_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="roc_bin_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name for the binary response variable.</p>
</td></tr>
<tr><td><code id="roc_bin_+3A_xvars.display">xvars.display</code></td>
<td>
<p>Display names for the biomarkers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table containing the AUC values for each biomarker.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  outcome = sample(c(0, 1), 100, replace = TRUE),
  biomarker1 = rnorm(100, mean = 0, sd = 1),
  biomarker2 = rnorm(100, mean = 5, sd = 2)
)

# Compute AUC for a single biomarker with auto direction
roc_bin(
  yvar = "outcome",
  xvars = "biomarker1",
  dirs = "auto",
  data = data,
  yvar.display = "Binary Outcome",
  xvars.display = "Biomarker 1"
)

# Compute AUC for multiple biomarkers with specified directions
roc_bin(
  yvar = "outcome",
  xvars = c("biomarker1", "biomarker2"),
  dirs = c("auto", "&lt;"),
  data = data,
  yvar.display = "Binary Outcome",
  xvars.display = c("Biomarker 1", "Biomarker 2")
)
</code></pre>

<hr>
<h2 id='roc_bin_plot'>ROC Plot Biomarkers Associated with Binary Outcomes</h2><span id='topic+roc_bin_plot'></span>

<h3>Description</h3>

<p>Generates ROC plots for different biomarkers associated with binary outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roc_bin_plot(
  yvar,
  xvars,
  dirs,
  data,
  yvar.display = yvar,
  xvars.display = xvars
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="roc_bin_plot_+3A_yvar">yvar</code></td>
<td>
<p>Binary response variable name, where 0 represents controls and 1 represents cases.</p>
</td></tr>
<tr><td><code id="roc_bin_plot_+3A_xvars">xvars</code></td>
<td>
<p>A vector of biomarker names.</p>
</td></tr>
<tr><td><code id="roc_bin_plot_+3A_dirs">dirs</code></td>
<td>
<p>A vector of directions for the biomarkers. Options are &quot;auto&quot;, &quot;&gt;&quot;, or &quot;&lt;&quot;.
- &quot;auto&quot; (default): automatically determines in which group the median is higher and takes the direction accordingly.
- &quot;&gt;&quot; indicates that the biomarkers for the control group are higher than those for the case group (controls &gt; t &gt;= cases).
- &quot;&lt;&quot; indicates that the biomarkers for the control group are lower or equal to those for the case group (controls &lt; t &lt;= cases).</p>
</td></tr>
<tr><td><code id="roc_bin_plot_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="roc_bin_plot_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name for the binary response variable.</p>
</td></tr>
<tr><td><code id="roc_bin_plot_+3A_xvars.display">xvars.display</code></td>
<td>
<p>Display names for the biomarkers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ROC plots for different biomarkers associated with binary outcomes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  outcome = sample(c(0, 1), 100, replace = TRUE),
  biomarker1 = rnorm(100, mean = 0, sd = 1),
  biomarker2 = rnorm(100, mean = 5, sd = 2)
)

# Generate ROC plot for a single biomarker with auto direction
roc_bin_plot(
  yvar = "outcome",
  xvars = "biomarker1",
  dirs = "auto",
  data = data,
  yvar.display = "Binary Outcome",
  xvars.display = "Biomarker 1"
)

# Generate ROC plots for multiple biomarkers with specified directions
roc_bin_plot(
  yvar = "outcome",
  xvars = c("biomarker1", "biomarker2"),
  dirs = c("auto", "&lt;"),
  data = data,
  yvar.display = "Binary Outcome",
  xvars.display = c("Biomarker 1", "Biomarker 2")
)
</code></pre>

<hr>
<h2 id='scat_cont_plot'>Scatter Plot for a Biomarker Associated with Continuous Outcome</h2><span id='topic+scat_cont_plot'></span>

<h3>Description</h3>

<p>Generates a scatter plot for exploring the relationship between a continuous response variable
and a biomarker variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scat_cont_plot(
  yvar,
  xvar,
  data,
  ybreaks = NULL,
  xbreaks = NULL,
  yvar.display = yvar,
  xvar.display = xvar
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scat_cont_plot_+3A_yvar">yvar</code></td>
<td>
<p>Continuous response variable name.</p>
</td></tr>
<tr><td><code id="scat_cont_plot_+3A_xvar">xvar</code></td>
<td>
<p>biomarker name.</p>
</td></tr>
<tr><td><code id="scat_cont_plot_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="scat_cont_plot_+3A_ybreaks">ybreaks</code></td>
<td>
<p>Breaks on the y-axis.</p>
</td></tr>
<tr><td><code id="scat_cont_plot_+3A_xbreaks">xbreaks</code></td>
<td>
<p>Breaks on the x-axis.</p>
</td></tr>
<tr><td><code id="scat_cont_plot_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name for the response variable.</p>
</td></tr>
<tr><td><code id="scat_cont_plot_+3A_xvar.display">xvar.display</code></td>
<td>
<p>Display name for the biomarker variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing correlation coefficients, scatter plot, slope, and intercept.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- data.frame(
  outcome = rnorm(100, mean = 10, sd = 2),
  biomarker = rnorm(100, mean = 0, sd = 1)
)

# Generate a scatter plot with default axis breaks
scat_cont_plot(
  yvar = "outcome",
  xvar = "biomarker",
  data = data,
  yvar.display = "Continuous Outcome",
  xvar.display = "Biomarker Level"
)

# Generate a scatter plot with specified axis breaks
scat_cont_plot(
  yvar = "outcome",
  xvar = "biomarker",
  data = data,
  ybreaks = seq(5, 15, by = 1),
  xbreaks = seq(-2, 2, by = 0.5),
  yvar.display = "Continuous Outcome",
  xvar.display = "Biomarker Level"
)
</code></pre>

<hr>
<h2 id='subgrp_perf'>Subgroup Performance Evaluation for Prognostic Cases</h2><span id='topic+subgrp_perf'></span>

<h3>Description</h3>

<p>This function evaluates subgroup performance based on different types of response variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subgrp_perf(
  yvar,
  censorvar = NULL,
  grpvar,
  grpname,
  xvars.adj = NULL,
  data,
  type,
  yvar.display = yvar,
  grpvar.display = grpvar
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subgrp_perf_+3A_yvar">yvar</code></td>
<td>
<p>The response variable name.</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_censorvar">censorvar</code></td>
<td>
<p>(Optional) The censoring variable name (0-censored, 1-event).</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_grpvar">grpvar</code></td>
<td>
<p>The subgroup variable name.</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_grpname">grpname</code></td>
<td>
<p>A vector of ordered subgroup names (values in the column of grpvar).</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_xvars.adj">xvars.adj</code></td>
<td>
<p>(Optional) Other covariates to adjust when evaluating the performance.</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_data">data</code></td>
<td>
<p>The dataset containing the variables.</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_type">type</code></td>
<td>
<p>The type of response variable: &quot;c&quot; for continuous, &quot;s&quot; for survival, and &quot;b&quot; for binary.</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name of the response variable.</p>
</td></tr>
<tr><td><code id="subgrp_perf_+3A_grpvar.display">grpvar.display</code></td>
<td>
<p>Display name of the group variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing subgroup performance results including logrank p-value, median and mean survival, Cox model p-value, ANOVA p-value, and more based on the specified response variable type.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  survival_time = rexp(100, rate = 0.1),  # survival time
  status = sample(c(0, 1), 100, replace = TRUE),  # censoring status
  group = sample(c("Low", "Medium", "High"), 100, replace = TRUE),  # subgroup variable
  covariate = rnorm(100, mean = 50, sd = 10)  # an additional covariate
)

# Perform subgroup performance evaluation for survival analysis
subgrp_perf(
  yvar = "survival_time",
  censorvar = "status",
  grpvar = "group",
  grpname = c("Low", "Medium", "High"),
  data = data,
  type = "s",
  yvar.display = "Survival Time",
  grpvar.display = "Risk Group"
)

# Perform subgroup performance evaluation for continuous outcome
data$continuous_outcome &lt;- rnorm(100, mean = 10, sd = 5)
subgrp_perf(
  yvar = "continuous_outcome",
  grpvar = "group",
  grpname = c("Low", "Medium", "High"),
  data = data,
  type = "c",
  yvar.display = "Continuous Outcome",
  grpvar.display = "Risk Group"
)

# Perform subgroup performance evaluation for binary outcome
data$binary_outcome &lt;- sample(c(0, 1), 100, replace = TRUE)
subgrp_perf(
  yvar = "binary_outcome",
  grpvar = "group",
  grpname = c("Low", "Medium", "High"),
  data = data,
  type = "b",
  yvar.display = "Binary Outcome",
  grpvar.display = "Risk Group"
)
</code></pre>

<hr>
<h2 id='subgrp_perf_pred'>Subgroup Performance Evaluation for Predictive Cases</h2><span id='topic+subgrp_perf_pred'></span>

<h3>Description</h3>

<p>This function evaluates the performance of subgroups based on different types of response variables in predictive cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subgrp_perf_pred(
  yvar,
  censorvar = NULL,
  grpvar,
  grpname,
  trtvar,
  trtname,
  xvars.adj = NULL,
  data,
  type,
  yvar.display = yvar,
  grpvar.display = grpvar,
  trtvar.display = trtvar
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subgrp_perf_pred_+3A_yvar">yvar</code></td>
<td>
<p>Response variable name.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_censorvar">censorvar</code></td>
<td>
<p>Censoring variable name (0-censored, 1-event).</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_grpvar">grpvar</code></td>
<td>
<p>Subgroup variable name.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_grpname">grpname</code></td>
<td>
<p>A vector of ordered subgroup names (values in the column of grpvar).</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_trtvar">trtvar</code></td>
<td>
<p>Treatment variable name.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_trtname">trtname</code></td>
<td>
<p>A vector of ordered treatment names (values in the column of trtvar).</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_xvars.adj">xvars.adj</code></td>
<td>
<p>Other covariates to adjust when evaluating the performance.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_data">data</code></td>
<td>
<p>The dataset.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; for continuous; &quot;s&quot; for &quot;survival&quot;, and &quot;b&quot; for binary.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_yvar.display">yvar.display</code></td>
<td>
<p>Display name of the response variable.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_grpvar.display">grpvar.display</code></td>
<td>
<p>Display name of the group variable.</p>
</td></tr>
<tr><td><code id="subgrp_perf_pred_+3A_trtvar.display">trtvar.display</code></td>
<td>
<p>Display name of the treatment variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the comparison results, group results, and possibly a plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load a sample dataset
data &lt;- data.frame(
  response = rnorm(100, mean = 10, sd = 5),  # continuous response
  survival_time = rexp(100, rate = 0.1),  # survival time
  status = sample(c(0, 1), 100, replace = TRUE),  # censoring status
  group = sample(c("Low", "Medium", "High"), 100, replace = TRUE),  # subgroup variable
  treatment = sample(c("A", "B"), 100, replace = TRUE)  # treatment variable
)

# Subgroup performance evaluation for predictive cases - survival analysis
subgrp_perf_pred(
  yvar = "survival_time",
  censorvar = "status",
  grpvar = "group",
  grpname = c("Low", "Medium", "High"),
  trtvar = "treatment",
  trtname = c("A", "B"),
  data = data,
  type = "s",
  yvar.display = "Survival Time",
  grpvar.display = "Risk Group",
  trtvar.display = "Treatment"
)

# Subgroup performance evaluation for predictive cases - continuous outcome
subgrp_perf_pred(
  yvar = "response",
  grpvar = "group",
  grpname = c("Low", "Medium", "High"),
  trtvar = "treatment",
  trtname = c("A", "B"),
  data = data,
  type = "c",
  yvar.display = "Response",
  grpvar.display = "Risk Group",
  trtvar.display = "Treatment"
)

# Subgroup performance evaluation for predictive cases - binary outcome
data$binary_response &lt;- sample(c(0, 1), 100, replace = TRUE)
subgrp_perf_pred(
  yvar = "binary_response",
  grpvar = "group",
  grpname = c("Low", "Medium", "High"),
  trtvar = "treatment",
  trtname = c("A", "B"),
  data = data,
  type = "b",
  yvar.display = "Binary Response",
  grpvar.display = "Risk Group",
  trtvar.display = "Treatment"
)
</code></pre>

<hr>
<h2 id='tutorial_data'>Tutorial Data</h2><span id='topic+tutorial_data'></span>

<h3>Description</h3>

<p>A dataset containing sample data for demonstrating the functionalities of the BioPred package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(tutorial_data)
</code></pre>


<h3>Format</h3>

<p>A data frame with the following columns:
</p>

<dl>
<dt>x1</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x2</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x3</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x4</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x5</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x6</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x7</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x8</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x9</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>x10</dt><dd><p>Numeric. A biomarker variable.</p>
</dd>
<dt>y.con</dt><dd><p>Numeric. A continuous outcome variable.</p>
</dd>
<dt>y.bin</dt><dd><p>Binary. A binary outcome variable, where 0 represents one class and 1 represents another class.</p>
</dd>
<dt>y.time</dt><dd><p>Numeric. The time in months, used for survival analysis.</p>
</dd>
<dt>y.event</dt><dd><p>Binary. Event indicator variable, where 0 indicates censoring and 1 indicates the event of interest occurred.</p>
</dd>
<dt>subgroup_label</dt><dd><p>Binary. Ground truth of subgroup label. In real-world scenarios, this information is typically unavailable.</p>
</dd>
<dt>treatment</dt><dd><p>Binary. Treatment indicator variable, where 0 represents control and 1 represents treatment.</p>
</dd>
<dt>treatment_categorical</dt><dd><p>Factor. A categorical version of the treatment variable, with levels &quot;Placebo&quot; and &quot;Treatment&quot;.</p>
</dd>
<dt>risk_category</dt><dd><p>Factor.</p>
</dd>
</dl>



<h3>Details</h3>

<p>This dataset is used to illustrate various functions within the BioPred package, including predictive modeling and subgroup analysis. The columns represent different types of data typically encountered in clinical studies.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(tutorial_data)
head(tutorial_data)
</code></pre>

<hr>
<h2 id='XGBoostSub_bin'>XGBoost Model with Modified Loss Function for Subgroup Identification with Binary Outcomes</h2><span id='topic+XGBoostSub_bin'></span>

<h3>Description</h3>

<p>Function for training XGBoost model with customized loss function for binary outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XGBoostSub_bin(
  X_data,
  y_data,
  trt,
  pi,
  Loss_type = "A_learning",
  params = list(),
  nrounds = 50,
  disable_default_eval_metric = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="XGBoostSub_bin_+3A_x_data">X_data</code></td>
<td>
<p>The input features matrix.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_y_data">y_data</code></td>
<td>
<p>The input y matrix.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_trt">trt</code></td>
<td>
<p>The treatment indicator vector. Should take values of 1 or -1, where 1 represents the treatment group and -1 represents the control group.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_pi">pi</code></td>
<td>
<p>The propensity scores vector, which should range from 0 to 1, representing the probability of assignment to treatment.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_loss_type">Loss_type</code></td>
<td>
<p>Type of loss function to use: &quot;A_learning&quot; or &quot;Weight_learning&quot;.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_params">params</code></td>
<td>
<p>A list of additional parameters for the xgb.train function.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_nrounds">nrounds</code></td>
<td>
<p>Number of boosting rounds. Default is 50.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_disable_default_eval_metric">disable_default_eval_metric</code></td>
<td>
<p>If 1, default evaluation metric will be disabled.</p>
</td></tr>
<tr><td><code id="XGBoostSub_bin_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, training progress will be printed; if FALSE, no progress will be printed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>XGBoostSub_bin: Function for Training XGBoost Model with Customized Loss Function for binary outcomes
</p>
<p>This function trains an XGBoost model using a customized loss function based on the A-learning and weight-learning.
</p>
<p>This function requires the 'xgboost' library. Make sure to install and load the 'xgboost' library before using this function.
</p>
<p>After running this function, the returned model can be used like a regular xgboost model.
</p>


<h3>Value</h3>

<p>Trained XGBoostSub_bin model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X_data &lt;- matrix(rnorm(100 * 10), ncol = 10)  # 100 samples with 10 features
y_data &lt;- rbinom(100, 1, 0.5)  # binary outcomes (0 or 1)
trt &lt;- sample(c(1, -1), 100, replace = TRUE)  # treatment indicator (1 or -1)
pi &lt;- runif(100, min = 0.3, max = 0.7)  # propensity scores between 0 and 1

# Define XGBoost parameters
params &lt;- list(
  max_depth = 3,
  eta = 0.1,
  subsample = 0.8,
  colsample_bytree = 0.8
)

# Train the model using A-learning loss
model_A &lt;- XGBoostSub_bin(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  Loss_type = "A_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)

# Train the model using Weight-learning loss
model_W &lt;- XGBoostSub_bin(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  Loss_type = "Weight_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)

</code></pre>

<hr>
<h2 id='XGBoostSub_con'>XGBoost Model with Modified Loss Function for Subgroup Identification with Continuous Outcomes</h2><span id='topic+XGBoostSub_con'></span>

<h3>Description</h3>

<p>Function for training XGBoost model with customized loss function for continuous outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XGBoostSub_con(
  X_data,
  y_data,
  trt,
  pi,
  Loss_type = "A_learning",
  params = list(),
  nrounds = 50,
  disable_default_eval_metric = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="XGBoostSub_con_+3A_x_data">X_data</code></td>
<td>
<p>The input features matrix.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_y_data">y_data</code></td>
<td>
<p>The input y matrix.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_trt">trt</code></td>
<td>
<p>The treatment indicator vector. Should take values of 1 or -1, where 1 represents the treatment group and -1 represents the control group.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_pi">pi</code></td>
<td>
<p>The propensity scores vector, which should range from 0 to 1, representing the probability of assignment to treatment.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_loss_type">Loss_type</code></td>
<td>
<p>Type of loss function to use: &quot;A_learning&quot; or &quot;Weight_learning&quot;.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_params">params</code></td>
<td>
<p>A list of additional parameters for the xgb.train function.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_nrounds">nrounds</code></td>
<td>
<p>Number of boosting rounds. Default is 50.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_disable_default_eval_metric">disable_default_eval_metric</code></td>
<td>
<p>If 1, default evaluation metric will be disabled.</p>
</td></tr>
<tr><td><code id="XGBoostSub_con_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, training progress will be printed; if FALSE, no progress will be printed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>XGBoostSub_con: Function for Training XGBoost Model with Customized Loss Function for continuous outcomes
</p>
<p>This function trains an XGBoost model using a customized loss function based on the A-learning and weight-learning.
</p>
<p>This function requires the 'xgboost' library. Make sure to install and load the 'xgboost' library before using this function.
</p>
<p>After running this function, the returned model can be used like a regular xgboost model.
</p>


<h3>Value</h3>

<p>Trained XGBoostSub_con model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X_data &lt;- matrix(rnorm(100 * 10), ncol = 10)  # 100 samples with 10 features
y_data &lt;- rnorm(100)  # continuous outcome variable
trt &lt;- sample(c(1, -1), 100, replace = TRUE)  # treatment indicator (1 or -1)
pi &lt;- runif(100, min = 0.3, max = 0.7)  # propensity scores between 0 and 1

# Define XGBoost parameters
params &lt;- list(
  max_depth = 3,
  eta = 0.1,
  subsample = 0.8,
  colsample_bytree = 0.8
)

# Train the model using A-learning loss
model_A &lt;- XGBoostSub_con(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  Loss_type = "A_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)

# Train the model using Weight-learning loss
model_W &lt;- XGBoostSub_con(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  Loss_type = "Weight_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)

</code></pre>

<hr>
<h2 id='XGBoostSub_sur'>XGBoost Model with Modified Loss Function for Subgroup Identification with Survival Outcomes</h2><span id='topic+XGBoostSub_sur'></span>

<h3>Description</h3>

<p>Function for training XGBoost model with customized loss function for survival outcomes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XGBoostSub_sur(
  X_data,
  y_data,
  trt,
  pi,
  censor,
  Loss_type = "Weight_learning",
  params = list(),
  nrounds = 50,
  disable_default_eval_metric = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="XGBoostSub_sur_+3A_x_data">X_data</code></td>
<td>
<p>The input features matrix.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_y_data">y_data</code></td>
<td>
<p>The input y matrix.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_trt">trt</code></td>
<td>
<p>The treatment indicator vector. Should take values of 1 or -1, where 1 represents the treatment group and -1 represents the control group.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_pi">pi</code></td>
<td>
<p>The propensity scores vector, which should range from 0 to 1, representing the probability of assignment to treatment.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_censor">censor</code></td>
<td>
<p>The censor status vector. Should take values of 1 or 0, where 1 represents censoring and 0 represents an observed event.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_loss_type">Loss_type</code></td>
<td>
<p>Type of loss function to use: &quot;A_learning&quot; or &quot;Weight_learning&quot;.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_params">params</code></td>
<td>
<p>A list of additional parameters for the xgb.train function.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_nrounds">nrounds</code></td>
<td>
<p>Number of boosting rounds. Default is 50.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_disable_default_eval_metric">disable_default_eval_metric</code></td>
<td>
<p>If 1, default evaluation metric will be disabled.</p>
</td></tr>
<tr><td><code id="XGBoostSub_sur_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, training progress will be printed; if FALSE, no progress will be printed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>XGBoostSub_sur: Function for Training XGBoost Model with Customized Loss Function for survival outcomes
</p>
<p>This function trains an XGBoost model using a customized loss function based on the A-learning and weight-learning.
</p>
<p>This function requires the 'xgboost' library. Make sure to install and load the 'xgboost' library before using this function.
</p>


<h3>Value</h3>

<p>Trained XGBoostSub_sur model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X_data &lt;- matrix(rnorm(100 * 10), ncol = 10)  # 100 samples with 10 features
y_data &lt;- rexp(100, rate = 0.1)  # survival times, simulated as exponential
trt &lt;- sample(c(1, -1), 100, replace = TRUE)  # treatment indicator (1 or -1)
pi &lt;- runif(100, min = 0.3, max = 0.7)  # propensity scores between 0 and 1
censor &lt;- rbinom(100, 1, 0.7)  # censoring indicator (1 = censored, 0 = observed)

# Define XGBoost parameters
params &lt;- list(
  max_depth = 3,
  eta = 0.1,
  subsample = 0.8,
  colsample_bytree = 0.8
)

# Train the model using A-learning loss
model_A &lt;- XGBoostSub_sur(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  censor = censor,
  Loss_type = "A_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)

# Train the model using Weight-learning loss
model_W &lt;- XGBoostSub_sur(
  X_data = X_data,
  y_data = y_data,
  trt = trt,
  pi = pi,
  censor = censor,
  Loss_type = "Weight_learning",
  params = params,
  nrounds = 5,
  disable_default_eval_metric = 1,
  verbose = TRUE
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package Q7</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Q7}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#clone'><p>Clone</p></a></li>
<li><a href='#clone.Q7instance'><p>Clone an Instance</p></a></li>
<li><a href='#extend'><p>Extend a Type upon a (Proto)type</p></a></li>
<li><a href='#feature'><p>Create an Object Feature</p></a></li>
<li><a href='#feature_generic'><p>Create a Generic Feature</p></a></li>
<li><a href='#implement'><p>Implement any Feature for an Object</p></a></li>
<li><a href='#is'><p>Is it a Q7 Type, Instance or Feature?</p></a></li>
<li><a href='#list2inst'><p>Build a Q7 Object Instance from a List</p></a></li>
<li><a href='#localize'><p>Make a Localized Copy of a Q7 Type or Instance</p></a></li>
<li><a href='#merge'><p>Merge all Members of Two Instances</p></a></li>
<li><a href='#type'><p>Create a Q7 Type</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Types and Features for Object Oriented Programming</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Construct message-passing style objects with types and features. Q7 types uses composition instead of inheritance in creating derived types, allowing defining any code segment as feature and associating any feature to any object. Compared to R6, Q7 is simpler and more flexible, and is more friendly in syntax.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-11-23 14:20:23 UTC; ELATI</td>
</tr>
<tr>
<td>Author:</td>
<td>Siqi Zhang <a href="https://orcid.org/0000-0003-2617-5776"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Bayer HealthCare [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Siqi Zhang &lt;iqis.gnahz@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-25 10:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='clone'>Clone</h2><span id='topic+clone'></span>

<h3>Description</h3>

<p>Clone
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clone(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clone_+3A_...">...</code></td>
<td>
<p>dot-dot-dot</p>
</td></tr>
</table>

<hr>
<h2 id='clone.Q7instance'>Clone an Instance</h2><span id='topic+clone.Q7instance'></span>

<h3>Description</h3>

<p>Clone an Instance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Q7instance'
clone(inst, deep = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clone.Q7instance_+3A_inst">inst</code></td>
<td>
<p>Q7 object instance</p>
</td></tr>
<tr><td><code id="clone.Q7instance_+3A_deep">deep</code></td>
<td>
<p>to copy nested object instances recursively; Boolean</p>
</td></tr>
<tr><td><code id="clone.Q7instance_+3A_...">...</code></td>
<td>
<p>dot-dot-dot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Q7 object instance
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Type1 &lt;- type(function(num){
  print_num &lt;- function(){
    base::print(num)
  }
})
myType1 &lt;- Type1(1)
myType1$print_num()
myType1_clone &lt;- clone(myType1)
myType1_clone$print_num()

</code></pre>

<hr>
<h2 id='extend'>Extend a Type upon a (Proto)type</h2><span id='topic+extend'></span>

<h3>Description</h3>

<p>Used only inside a type definition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extend(prototype)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extend_+3A_prototype">prototype</code></td>
<td>
<p>Q7type; function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>localized Q7type; function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Type1 &lt;- type(function(arg1){
    val1 &lt;- arg1
    get_val1 &lt;- function(){
         val1
    }
}, "Type1")

Type2 &lt;- type(function(arg1, arg2){
    extend(Type1)(arg1)
    val2 &lt;- arg2
    get_val2 &lt;- function(){
        val2
    }
}, "Type2")

myType2 &lt;- Type2("foo", "bar")

myType2$get_val1()
myType2$get_val2()

</code></pre>

<hr>
<h2 id='feature'>Create an Object Feature</h2><span id='topic+feature'></span>

<h3>Description</h3>

<p>Create an Object Feature
</p>


<h3>Usage</h3>

<pre><code class='language-R'>feature(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="feature_+3A_expr">expr</code></td>
<td>
<p>expression</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Q7 feature
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Type1 &lt;- type(function(num){})

hasMagic &lt;- feature({
    change_number &lt;- function(){
        num + 1
    }
})

myType1 &lt;- Type1(1) %&gt;% hasMagic()
myType1$change_number()


# Use S3 method dispatch for different behaviors
hasMagic &lt;- feature_generic(s3 = "hasMagic")

hasMagic.Type1 &lt;- feature({
    change_number &lt;- function(){
        num + 1
    }
})

hasMagic.Type2 &lt;- feature({
    change_number &lt;- function(){
        num - 1
    }
})

Type1 &lt;- type(function(num){},
              s3 = "Type1") %&gt;%
    hasMagic()

Type2 &lt;- type(function(num){},
              s3 = "Type2") %&gt;%
    hasMagic()

myType1 &lt;- Type1(1)
myType1$change_number()

myType2 &lt;- Type2(1)
myType2$change_number()

</code></pre>

<hr>
<h2 id='feature_generic'>Create a Generic Feature</h2><span id='topic+feature_generic'></span>

<h3>Description</h3>

<p>Use this function when you need to create more than one methods
for Q7 types with different S3 classes.
The <code>s3</code> field and the feature's name should be the same.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>feature_generic(s3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="feature_generic_+3A_s3">s3</code></td>
<td>
<p>S3 Class of the feature</p>
</td></tr>
<tr><td><code id="feature_generic_+3A_...">...</code></td>
<td>
<p>dot-dot-dot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a generic Q7 feature
</p>


<h3>See Also</h3>

<p><code><a href="#topic+feature">feature</a></code>
</p>

<hr>
<h2 id='implement'>Implement any Feature for an Object</h2><span id='topic+implement'></span>

<h3>Description</h3>

<p>Implement any Feature for an Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>implement(obj, feat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="implement_+3A_obj">obj</code></td>
<td>
<p>Q7 object (type or instance)</p>
</td></tr>
<tr><td><code id="implement_+3A_feat">feat</code></td>
<td>
<p>Q7 feature or expression</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Q7 object (type or instance)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Type1 &lt;- type(function(num){})

myType1 &lt;- Type1(1) %&gt;% implement({
    change_number &lt;- function(){
        num + 1
    }
})

myType1$change_number()
</code></pre>

<hr>
<h2 id='is'>Is it a Q7 Type, Instance or Feature?</h2><span id='topic+is'></span><span id='topic+is_type'></span><span id='topic+is_instance'></span><span id='topic+is_feature'></span>

<h3>Description</h3>

<p>Is it a Q7 Type, Instance or Feature?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_type(x)

is_instance(x)

is_feature(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_+3A_x">x</code></td>
<td>
<p>object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boolean
</p>

<hr>
<h2 id='list2inst'>Build a Q7 Object Instance from a List</h2><span id='topic+list2inst'></span>

<h3>Description</h3>

<p>Build a Q7 Object Instance from a List
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list2inst(x, s3 = "default", parent = parent.frame(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list2inst_+3A_x">x</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code id="list2inst_+3A_s3">s3</code></td>
<td>
<p>S3 class name of the instance</p>
</td></tr>
<tr><td><code id="list2inst_+3A_parent">parent</code></td>
<td>
<p>parent environment of the instance</p>
</td></tr>
<tr><td><code id="list2inst_+3A_...">...</code></td>
<td>
<p>dot-dot-dot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Q7 object instance
</p>


<h3>Examples</h3>

<pre><code class='language-R'>my_data &lt;- list(a = 1,
                add_to_a = function(value){
                  .my$a &lt;- a + value
                })

myDataObject &lt;- list2inst(my_data)

myDataObject$a
myDataObject$add_to_a(20)
myDataObject$a

</code></pre>

<hr>
<h2 id='localize'>Make a Localized Copy of a Q7 Type or Instance</h2><span id='topic+localize'></span>

<h3>Description</h3>

<p>Make a Localized Copy of a Q7 Type or Instance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>localize(obj, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="localize_+3A_obj">obj</code></td>
<td>
<p>Q7 type or instance</p>
</td></tr>
<tr><td><code id="localize_+3A_envir">envir</code></td>
<td>
<p>environment</p>
</td></tr>
</table>


<h3>Value</h3>

<p>function
</p>

<hr>
<h2 id='merge'>Merge all Members of Two Instances</h2><span id='topic+merge'></span>

<h3>Description</h3>

<p>All public and private members of instance 2 will be
copied to instance 1, overwriting any of the same names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge(inst1, inst2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_+3A_inst1">inst1</code></td>
<td>
<p>instance to move members to</p>
</td></tr>
<tr><td><code id="merge_+3A_inst2">inst2</code></td>
<td>
<p>instance to move members from</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Q7 instance, with environment identity of <code>inst1</code> and members from both instances.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Screamer &lt;- type(function(words){
  scream &lt;- function(){
    paste0(paste(words,
                 collapse = " "),
           "!!!")
  }
})

Whisperer &lt;- type(function(words){
  whisper &lt;- function(){
    paste0("shhhhhhh.....",
           paste(words,
                 collapse = " "),
           "...")
  }
})

p1 &lt;- Screamer("I love you")
p1$scream()

p2 &lt;- Whisperer("My parents came back")
p2$whisper()

p1 &lt;- p1 %&gt;% merge(p2)

# note the the "word" for both methods became that of p2
p1$whisper()
p1$scream()

</code></pre>

<hr>
<h2 id='type'>Create a Q7 Type</h2><span id='topic+type'></span>

<h3>Description</h3>

<p>Create a Q7 Type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type(x = function() {
}, s3 = "Q7default")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="type_+3A_x">x</code></td>
<td>
<p>function or expression; becomes the definition of the object</p>
</td></tr>
<tr><td><code id="type_+3A_s3">s3</code></td>
<td>
<p>S3 class for the object; necessary when using S3 generic functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Q7 type; function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Adder &lt;- type(function(num1, num2){
    add_nums &lt;- function(){
        num1 + num2
    }
 })

myAdder &lt;- Adder(1, 2)
myAdder$add_nums()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

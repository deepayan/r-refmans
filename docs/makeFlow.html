<!DOCTYPE html><html><head><title>Help for package makeFlow</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {makeFlow}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#makeFlow-package'>
<p>Visualizing Sequential Classifications</p></a></li>
<li><a href='#addAlpha'>
<p>addAlpha()</p></a></li>
<li><a href='#colorCount'>
<p>colorCount()</p></a></li>
<li><a href='#FlowSummaries'>
<p>FlowSummaries()</p></a></li>
<li><a href='#GateSummaries'>
<p>GateSummaries()</p></a></li>
<li><a href='#makeFlow'>
<p>makeFlow()</p></a></li>
<li><a href='#shelters'>
<p>shelters</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Visualizing Sequential Classifications</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-08-22</td>
</tr>
<tr>
<td>Author:</td>
<td>Alex J. Krebs</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alex J. Krebs &lt;Krebs.AlexJ@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A user-friendly tool for visualizing categorical or group movement.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, RColorBrewer</td>
</tr>
<tr>
<td>Copyright:</td>
<td>Copyright Notice GENERAL DISCLAIMER This program is free
software; you can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the
Free Software Foundation; either version 2, or (at your option)
any later version. This program is distributed in the hope that
it will be useful, but WITHOUT ANY WARRANTY; without even the
implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more details.
In short: You may use it any way you like, as long as you do
not charge money for it, remove this notice, or hold anyone
liable for its results. Also, please acknowledge the source and
communicate changes to the author. If this software is used in
work presented for publication, kindly reference it using for
example: Krebs AJ (2016): makeFlow: Visualizing Sequential
Classifications. Be sure to reference R itself and other
libraries used.</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-08-24 06:27:15 UTC; DELL PC</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-08-24 18:02:38</td>
</tr>
</table>
<hr>
<h2 id='makeFlow-package'>
Visualizing Sequential Classifications
</h2><span id='topic+makeFlow-package'></span>

<h3>Description</h3>

<p>A user-friendly tool for visualizing categorical or group movement.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> makeFlow</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Visualizing Sequential Classifications</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-08-22</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Alex J. Krebs</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Alex J. Krebs &lt;Krebs.AlexJ@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> A user-friendly tool for visualizing categorical or group movement.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> 
dplyr,
RColorBrewer</td>
</tr>
<tr>
 <td style="text-align: left;">
Copyright: </td><td style="text-align: left;"> Copyright Notice  GENERAL DISCLAIMER  This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2, or (at your option) any later version. This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. In short: You may use it any way you like, as long as you do not charge money for it, remove this notice, or hold anyone liable for its results. Also, please acknowledge the source and communicate changes to the author. If this software is used in work presented for publication, kindly reference it using for example: Krebs AJ (2016): makeFlow: Visualizing Sequential Classifications. Be sure to reference R itself and other libraries used.</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 5.0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Index of help topics:
</p>
<pre>
FlowSummaries           FlowSummaries()
GateSummaries           GateSummaries()
addAlpha                addAlpha()
colorCount              colorCount()
makeFlow                makeFlow()
makeFlow-package        Visualizing Sequential Classifications
shelters                shelters
</pre>
<p>Users should ensure all classFields (columns) are explicitly defined in the same dataset.
colorCount(), FlowSummaries(), GateSummaries(), and makeFlow() can all operate with the same two basic inputs: data and classFields. Graphical parameters can be defined with additional makeFlow() arguments.
</p>


<h3>Author(s)</h3>

<p>Alex J. Krebs
</p>
<p>Maintainer: Alex J. Krebs &lt;Krebs.AlexJ@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##  Data:
##  carData &lt;- mtcars
##  carData$car &lt;- "All Cars"
##  carData$speedclass &lt;- ifelse(carData$qsec &lt; 15, "Fast",
##                          ifelse(carData$qsec &lt; 18, "Mid-Speed","Slow"))
##  carData$speedclass &lt;- factor(x = carData$speedclass, levels = c("Slow","Mid-Speed","Fast"))
##  
##  Create Diagram:
##  makeFlow(data = carData, classFields = c("car","cyl","speedclass"),
##    gateWidth = 20, minVerticalBtwnGates = .15, distanceBtwnGates = 70,
##    fieldLabels = c("", "Cylinders","Speed"), gateBorder = "black")

##  Generate underlying tables using GateSummaries() and FlowSummaries()
</code></pre>

<hr>
<h2 id='addAlpha'>
addAlpha()
</h2><span id='topic+addAlpha'></span>

<h3>Description</h3>

<p>Adds a specified opacity (between 0 and 1) to any color(s) listed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addAlpha(col, alpha = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addAlpha_+3A_col">col</code></td>
<td>

<p>A vector of one or many colors.
</p>
</td></tr>
<tr><td><code id="addAlpha_+3A_alpha">alpha</code></td>
<td>

<p>A value between 0 and 1. 0 indicates complete transparency. 1 indicates complete opacity.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the Hexadecimal representation of the modified color(s).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## The function is currently defined as
function (col, alpha = 1) 
{
    if (missing(col)) 
        stop("Please provide a vector of colors.")
    apply(sapply(col, col2rgb)/255, 2, function(x) {
        rgb(x[1], x[2], x[3], alpha = alpha)
    })
  }
</code></pre>

<hr>
<h2 id='colorCount'>
colorCount()
</h2><span id='topic+colorCount'></span>

<h3>Description</h3>

<p>Returns an integer representing the number of unique categories from all specified fields. This value should serve as a guide for users specifying colors in the makeFlow() function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colorCount(data, classFields)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colorCount_+3A_data">data</code></td>
<td>

<p>An object of class data.frame in which all specified classFields (or column names) can be found.
</p>
</td></tr>
<tr><td><code id="colorCount_+3A_classfields">classFields</code></td>
<td>

<p>A vector of the column names intended to be represented in a makeFlow() diagram. Each element must be a string.
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Relies on Hadley Wickham's dplyr package.
</p>


<h3>Author(s)</h3>

<p>Alex J. Krebs
</p>

<hr>
<h2 id='FlowSummaries'>
FlowSummaries()
</h2><span id='topic+FlowSummaries'></span>

<h3>Description</h3>

<p>Outputs a list of objects of class tbl_df containing values presented in a makeFlow() diagram utilizing the same data and classFields arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FlowSummaries(data, classFields)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FlowSummaries_+3A_data">data</code></td>
<td>

<p>An object of class data.frame in which all specified classFields (column names) can be found.
</p>
</td></tr>
<tr><td><code id="FlowSummaries_+3A_classfields">classFields</code></td>
<td>

<p>A vector of the column names intended to be represented in the makeFlow() diagram. Each element must be a string.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Outputs tables with standard naming convention of Flow_Summary_x. For example, Flow_Summary_1 provides the counts and frequencies of each category (gate) from the first column specified in classFields moving to each of the categories (gates) in the second column listed in classFields.
</p>


<h3>Note</h3>

<p>Relies on Hadley Wickham's dplyr package.
</p>


<h3>Author(s)</h3>

<p>Alex J. Krebs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## myFlows &lt;- FlowSummaries(data= shelters, classFields= c("loc","Jan","Feb","Mar"))
## Flow_Summary_2 will show the counts and percentages from
## "Jan" categories that move to the categories in "Feb"
</code></pre>

<hr>
<h2 id='GateSummaries'>
GateSummaries()
</h2><span id='topic+GateSummaries'></span>

<h3>Description</h3>

<p>Outputs a list of objects of class tbl_df containing the values in a makeFlow() diagram utilizing the same data and classFields arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GateSummaries(data, classFields)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GateSummaries_+3A_data">data</code></td>
<td>

<p>An object of class data.frame in which all specified classFields (column names) can be found.
</p>
</td></tr>
<tr><td><code id="GateSummaries_+3A_classfields">classFields</code></td>
<td>

<p>A vector of the column names intended to be represented in a makeFlow() diagram. Each element must be a string.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Outputs tables with standard naming convention of Gate_Summary_x. For example, Gate_Summary_1 provides the counts and frequencies of each category within the first column specified in the classFields argument.
</p>


<h3>Note</h3>

<p>Relies on Hadley Wickham's dplyr package.
</p>


<h3>Author(s)</h3>

<p>Alex J. Krebs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## myGates &lt;- GateSummaries(data = shelters, classFields = c("loc","Jan","Feb","Mar"))
## Gate_Summary_2 will show the count and percentage of observations
##  within each category of the column "Jan"
</code></pre>

<hr>
<h2 id='makeFlow'>
makeFlow()
</h2><span id='topic+makeFlow'></span>

<h3>Description</h3>

<p>Uses the selected dataset and specified order of columns to produce a left-to-right flow diagram. This function assumes the use of a single dataset and categorical variables resembling observations' movement from one state to another, such that at every state, every observation can be mapped. Colors bridging states assume the color of the gate from which they originate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeFlow(data, classFields, rotate = F, gatecolors = NA, minVerticalBtwnGates = 0.1, 
connectingAlpha = 0.5, bg = "white", plotTitle = "", titleAdj = 0.5, txtColor = "black", 
distanceBtwnGates = 50, gateWidth = 7, gateBorder = NA, labels = T, fieldLabels = NA, 
showPercentages = T, showConnectPercentages = F, percentTextColor = "black", 
showCounts = T, countTextColor = "black")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeFlow_+3A_data">data</code></td>
<td>

<p>An object of class data.frame in which all specified classFields (column names) can be found.
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_classfields">classFields</code></td>
<td>

<p>A vector of the column names intended to be represented in a makeFlow() diagram. Each element in this vector must be a string.
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_rotate">rotate</code></td>
<td>

<p>Set to TRUE to rotate all text. This is a work-around to allow for a vertical (top-down) flow. Manual manipulation after exporting a diagram is needed to adjust the orientation of the output.
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_gatecolors">gatecolors</code></td>
<td>

<p>A vector of colors to apply to gates. For greater control, the alphabetized order of categories from all selected classFields will match the corresponding color in this list. If the length of this vector is shorter than the number of unique categories in the full diagram, a predefined palette &quot;Set3&quot; is substituted in its place, and a warning message will alert the user of how many colors are required for manual input. If more colors are supplied than necessary, only the required number will be taken from the beginning of the vector. (default is NA, which will assign colors from palette &quot;Set3&quot;)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_minverticalbtwngates">minVerticalBtwnGates</code></td>
<td>

<p>A single value (likely between 0 and 1) used to determine the minumum plotted gap between categories (gates) within the same classField. For reference, the default plot height is 1. (default is 0.1)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_connectingalpha">connectingAlpha</code></td>
<td>

<p>A single decimal value [0,1] setting the opacity of the &quot;flows&quot; connecting gates. (default is 0.5)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_bg">bg</code></td>
<td>

<p>A single color from colors() specifying the diagram's background color. (default is &quot;white&quot;)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_plottitle">plotTitle</code></td>
<td>

<p>The title of the diagram. (default is &quot;&quot;)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_titleadj">titleAdj</code></td>
<td>

<p>A single value [0,1] adjusting the title's horizontal placement. 0 implies left-align; 1 impllies right-align. (default is 0.5)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_txtcolor">txtColor</code></td>
<td>

<p>A single color from colors() specifying the text color in the diagram. (default is &quot;black&quot;)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_distancebtwngates">distanceBtwnGates</code></td>
<td>

<p>A single numeric value representing the horizontal distance between classFields. (default is 50)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_gatewidth">gateWidth</code></td>
<td>

<p>A single numeric value representing the horizontal width of gates. (default is 7)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_gateborder">gateBorder</code></td>
<td>

<p>A single color from colors() specifying the color of all gates' borders. (default is NA)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_labels">labels</code></td>
<td>

<p>Set to FALSE to not see the category labels above each gate.
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_fieldlabels">fieldLabels</code></td>
<td>

<p>A character vector of names to identify each classField in the diagram. These labels will be placed below each set of gates. If labels is FALSE, fieldLabels will not be displayed. (default is NA)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_showpercentages">showPercentages</code></td>
<td>

<p>Set to FALSE to hide the percentage values within gates.
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_showconnectpercentages">showConnectPercentages</code></td>
<td>

<p>Set to FALSE to hide the percentage values within flows.
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_percenttextcolor">percentTextColor</code></td>
<td>

<p>A single color from colors() for the gate percentage and flow percentage texts. (default is &quot;black&quot;)
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_showcounts">showCounts</code></td>
<td>

<p>Set to FALSE to hide the counts of observations within each gate.
</p>
</td></tr>
<tr><td><code id="makeFlow_+3A_counttextcolor">countTextColor</code></td>
<td>

<p>A single color from colors() for the gate count text. (default is &quot;black&quot;)
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Relies on Hadley Wickham's dplyr package to generate summaries. Gates within each field are ordered alphabetically, numerically, or (if applicable) in the order of a factor's levels.
</p>


<h3>Author(s)</h3>

<p>Alex J. Krebs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## makeFlow(data = shelters, classFields = c("loc","Jan","Feb","Mar"),
##          fieldLabels = c("","Jan","Feb","Mar"), gateWidth = 20)
</code></pre>

<hr>
<h2 id='shelters'>
shelters
</h2><span id='topic+shelters'></span>

<h3>Description</h3>

<p>Pseudodata depicting the outcomes of 10,000 animals in shelters over three months generated to demonstrate the makeFlow() diagram. Aside: consider adopting your next pet :)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("shelters")</code></pre>


<h3>Format</h3>

<p>A data frame with 10000 observations on the following 6 variables.
</p>

<dl>
<dt><code>loc</code></dt><dd><p>a factor with levels <code>shelter</code></p>
</dd>
<dt><code>name</code></dt><dd><p>a character vector</p>
</dd>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>Jan</code></dt><dd><p>a factor with levels <code>Remaining</code> <code>Adopted</code> <code>Transfered</code> <code>Euthanized</code></p>
</dd>
<dt><code>Feb</code></dt><dd><p>a factor with levels <code>Remaining</code> <code>Adopted</code> <code>Transfered</code> <code>Euthanized</code></p>
</dd>
<dt><code>Mar</code></dt><dd><p>a factor with levels <code>Remaining</code> <code>Adopted</code> <code>Transfered</code> <code>Euthanized</code></p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

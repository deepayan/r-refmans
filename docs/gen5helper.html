<!DOCTYPE html><html><head><title>Help for package gen5helper</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gen5helper}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.is'><p>Cast an object to match class of another object</p></a></li>
<li><a href='#Boltzmann'><p>Boltzmann model for fitting time series data</p></a></li>
<li><a href='#factor2num'><p>this is a file for functions that are universally useful at common data manipulations</p>
Convert factor to numeric</a></li>
<li><a href='#fit.boltzmann'><p>Fit readings with Boltzmann model</p></a></li>
<li><a href='#g5h.annotate'><p>Annotate a cleaned dataset</p></a></li>
<li><a href='#g5h.clean_'><p>Clean Gen5 exported data</p></a></li>
<li><a href='#g5h.clean2'><p>Clean Gen5 exported data</p></a></li>
<li><a href='#g5h.set_time2'><p>Add time intervals to cleaned dataset</p></a></li>
<li><a href='#gen5helper'><p>gen5helper: A Collection of Functions for Processing Gen5 2.06 Exported Data</p></a></li>
<li><a href='#get.halftime'><p>Get half time by linear fitting</p></a></li>
<li><a href='#mapvalues_'><p>Map the unique values of a vector</p></a></li>
<li><a href='#most.freq'><p>Return most frequent numbers</p></a></li>
<li><a href='#normalize'><p>Scale a vector to 0-1 by min and max</p></a></li>
<li><a href='#range_'><p>Return range of a vector</p></a></li>
<li><a href='#saveRDS_'><p>saveRDS and return .data</p></a></li>
<li><a href='#smooth.mean'><p>Smooth a vector using moving average</p></a></li>
<li><a href='#ungroup_'><p>Run ungroup() and as.data.frame()</p></a></li>
<li><a href='#write.csv_'><p>write.csv without row.names</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Processing 'Gen5' 2.06 Exported Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Yanxian Lin [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yanxian Lin &lt;yanxian00@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of functions for processing 'Gen5' 2.06 exported data.
    'Gen5' is an essential data analysis software for BioTek plate readers <a href="https://www.biotek.com/products/software-robotics-software/gen5-microplate-reader-and-imager-software/">https://www.biotek.com/products/software-robotics-software/gen5-microplate-reader-and-imager-software/</a>. This package contains functions for data cleaning, 
    modeling and plotting using exported data from 'Gen5' version 2.06. It exports
    technically correct data defined in (Edwin de Jonge and Mark van der Loo 
    (2013) <a href="https://cran.r-project.org/doc/contrib/de_Jonge+van_der_Loo-Introduction_to_data_cleaning_with_R.pdf">https://cran.r-project.org/doc/contrib/de_Jonge+van_der_Loo-Introduction_to_data_cleaning_with_R.pdf</a>) for customized analysis. It 
    contains Boltzmann fitting for general kinetic analysis.  
    See <a href="https://www.github.com/yanxianUCSB/gen5helper">https://www.github.com/yanxianUCSB/gen5helper</a> for more information,
    documentation and examples.</td>
</tr>
<tr>
<td>Depends:</td>
<td>dplyr, utils</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, minpack.lm, plyr, pracma, tidyr, stats, naturalsort,
rlang</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-11-18 15:37:59 UTC; yanxlin</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-11-22 15:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.is'>Cast an object to match class of another object</h2><span id='topic+as.is'></span>

<h3>Description</h3>

<p>Cast an object to match class of another object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.is(x, vec)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.is_+3A_x">x</code></td>
<td>
<p>object to transform</p>
</td></tr>
<tr><td><code id="as.is_+3A_vec">vec</code></td>
<td>
<p>object to extract class</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>as.is(c("1", "2", "3"), 1:3)

</code></pre>

<hr>
<h2 id='Boltzmann'>Boltzmann model for fitting time series data</h2><span id='topic+Boltzmann'></span>

<h3>Description</h3>

<p>Boltzmann model for fitting time series data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Boltzmann(time_, val_, A0 = 1, k0 = 1, t20 = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Boltzmann_+3A_time_">time_</code></td>
<td>
<p>time series</p>
</td></tr>
<tr><td><code id="Boltzmann_+3A_val_">val_</code></td>
<td>
<p>normalized value</p>
</td></tr>
<tr><td><code id="Boltzmann_+3A_a0">A0</code></td>
<td>
<p>amplititude</p>
</td></tr>
<tr><td><code id="Boltzmann_+3A_k0">k0</code></td>
<td>
<p>rate constant</p>
</td></tr>
<tr><td><code id="Boltzmann_+3A_t20">t20</code></td>
<td>
<p>halt time</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a model
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Boltzmann(1:10, c(0,0,1,3,5,7,9,10,10,10), A0 = 10, k0 = 10, t20 = 5)

</code></pre>

<hr>
<h2 id='factor2num'>this is a file for functions that are universally useful at common data manipulations
Convert factor to numeric</h2><span id='topic+factor2num'></span>

<h3>Description</h3>

<p>this is a file for functions that are universally useful at common data manipulations
Convert factor to numeric
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factor2num(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="factor2num_+3A_x">x</code></td>
<td>
<p>factor</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>factor2num(factor(c('1', '10', '100')))

</code></pre>

<hr>
<h2 id='fit.boltzmann'>Fit readings with Boltzmann model</h2><span id='topic+fit.boltzmann'></span>

<h3>Description</h3>

<p>fit.boltzmann() using Boltzmann model to fit readings and time intervals with
unit of hours, using start as initial guesses. It appends A, y0, k, t2 and val.predict, while preserving existing
variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit.boltzmann(.data, A0 = 1, k0 = 1, t20 = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit.boltzmann_+3A_.data">.data</code></td>
<td>
<p>data.frame with x as time, y as value</p>
</td></tr>
<tr><td><code id="fit.boltzmann_+3A_a0">A0</code></td>
<td>
<p>initial guess of amplititue, default 1</p>
</td></tr>
<tr><td><code id="fit.boltzmann_+3A_k0">k0</code></td>
<td>
<p>initial guess, default 1</p>
</td></tr>
<tr><td><code id="fit.boltzmann_+3A_t20">t20</code></td>
<td>
<p>initial guess, default 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with fitted parameter and predicted value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit.boltzmann(data.frame(x=1:10,y=c(0,0,1,3,5,7,9,10,10,10)), A0 = 10, k0 = 10, t20 = 5)

</code></pre>

<hr>
<h2 id='g5h.annotate'>Annotate a cleaned dataset</h2><span id='topic+g5h.annotate'></span>

<h3>Description</h3>

<p>Add time interval in hour from the oldest timestamp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g5h.annotate(.data, by = "col")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="g5h.annotate_+3A_.data">.data</code></td>
<td>
<p>data.frame cleaned by g5h.clean()</p>
</td></tr>
<tr><td><code id="g5h.annotate_+3A_by">by</code></td>
<td>
<p>'col' or 'row', default is 'col'. See ?g5h.gather_col for more info.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# suppose "gen5_export.txt" is the export from Gen5 2.06

g5h.clean2("gen5_export.txt") %&gt;%
    g5h.annotate()

</code></pre>

<hr>
<h2 id='g5h.clean_'>Clean Gen5 exported data</h2><span id='topic+g5h.clean_'></span>

<h3>Description</h3>

<p>g5h.clean_() returns technically correct data.frame from Gen5 2.06 exported
tab-delim data. The exported data can be generated using default export
protocol in Gen5 2.06. See Gen5 User Guide for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g5h.clean_(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="g5h.clean__+3A_file">file</code></td>
<td>
<p>the name of the file which the data are to be read from. If it
does not contain an absolute path, the file name is relative to the current
working directory, getwd().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>technically correct data.frame.
</p>

<hr>
<h2 id='g5h.clean2'>Clean Gen5 exported data</h2><span id='topic+g5h.clean2'></span>

<h3>Description</h3>

<p>g5h.clean2() returns technically correct data.frame from Gen5 2.06 exported
tab-delim data. The exported data can be generated using default export
protocol in Gen5 2.06. See Gen5 User Guide for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g5h.clean2(files)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="g5h.clean2_+3A_files">files</code></td>
<td>
<p>a vector of names of the file which the data are to be read from.
If it does not contain an absolute path, the file name is relative to the
current working directory, getwd().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>technically correct data.frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# suppose "exported_data_1.txt" and "exported_data_2.txt" are the exports from Gen5 2.06

# this line will clean one exported data
data &lt;- g5h.clean2("exported_data_1.txt")

# this line will clean two exported data and return one appended dataset
data &lt;- g5h.clean2(c("exported_data_1.txt", "exported_data_2.txt"))


</code></pre>

<hr>
<h2 id='g5h.set_time2'>Add time intervals to cleaned dataset</h2><span id='topic+g5h.set_time2'></span>

<h3>Description</h3>

<p>g5h.set_time() preserves existing variables and add new variable,
time, which are time intervals in hours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g5h.set_time2(.data, units = "hours")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="g5h.set_time2_+3A_.data">.data</code></td>
<td>
<p>data.frame cleaned by g5h.clean()</p>
</td></tr>
<tr><td><code id="g5h.set_time2_+3A_units">units</code></td>
<td>
<p>&quot;hours&quot; or &quot;minutes&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>input data.frame appended with time
</p>

<hr>
<h2 id='gen5helper'>gen5helper: A Collection of Functions for Processing Gen5 2.06 Exported Data</h2><span id='topic+gen5helper'></span><span id='topic+gen5helper-package'></span>

<h3>Description</h3>

<p>A collection of functions for processing Gen5 2.06 exported data.
Gen 5 is a popular data analysis software for BioTek plate readers. This
packages contains functions for data cleaning, modeling and plotting using
exported data from Gen5 version 2.06. It exports technically correct data
defined in (Edwin de Jonge and Mark van der Loo, 2013) for customized
analysis. It contains Boltzmann fitting for general kinetic analysis. It
also implement line plot and bar plot for generating publishable figures.
See https://www.github.com/yanxianUCSB/gen5helper for more information,
documentation and examples.
</p>

<hr>
<h2 id='get.halftime'>Get half time by linear fitting</h2><span id='topic+get.halftime'></span>

<h3>Description</h3>

<p>get half time according to http://www.amylofit.ch.cam.ac.uk
The algorithm for the extraction of the half times proceeds as follows: first the middle
part of the curve is selected, by determining when the average over several points is first
above 0.3 and when the average is last below 0.7. The number of points to be averaged
over depends on the number of points in the curve. A straight line is then fitted to this
middle part of the curve, the point at which it crosses the value of 0.5 is recorded as the
half time. (source: DOI: nprot.2016.010)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.halftime(time, val)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.halftime_+3A_time">time</code></td>
<td>
<p>vector of time</p>
</td></tr>
<tr><td><code id="get.halftime_+3A_val">val</code></td>
<td>
<p>vector of values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>half time
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get.halftime(c(1:10), c(0,1,2,3,4,5,6,7,8,9))
get.halftime(c(1:10), c(0,0,1,3,5,7,9,10,10,10))

</code></pre>

<hr>
<h2 id='mapvalues_'>Map the unique values of a vector</h2><span id='topic+mapvalues_'></span>

<h3>Description</h3>

<p>Map the unique values of a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapvalues_(x, facs, bNaturalSort = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapvalues__+3A_x">x</code></td>
<td>
<p>factor or character</p>
</td></tr>
<tr><td><code id="mapvalues__+3A_facs">facs</code></td>
<td>
<p>character. It maps unique(x) to facs</p>
</td></tr>
<tr><td><code id="mapvalues__+3A_bnaturalsort">bNaturalSort</code></td>
<td>
<p>binary. Whether to convert factor in natural order.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>factor
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mapvalues_(c("A","A","B","C"), c("one", "two", "three"))
mapvalues_(c("apple", "apple", "banana", "pineable", "pineable"), c(3, 2, 1), bNaturalSort = TRUE)

</code></pre>

<hr>
<h2 id='most.freq'>Return most frequent numbers</h2><span id='topic+most.freq'></span>

<h3>Description</h3>

<p>get the n most frequent elements in an array
</p>


<h3>Usage</h3>

<pre><code class='language-R'>most.freq(x, n = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="most.freq_+3A_x">x</code></td>
<td>
<p>an array of elements</p>
</td></tr>
<tr><td><code id="most.freq_+3A_n">n</code></td>
<td>
<p>integer, default is 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the most n elements
</p>


<h3>Examples</h3>

<pre><code class='language-R'>most.freq(c('a', 'a', 'b', 'b', 'b', 'c'), n = 2)
most.freq(c(1, 1, 2, 3, 3, 3, 4, 4), n = 2)

</code></pre>

<hr>
<h2 id='normalize'>Scale a vector to 0-1 by min and max</h2><span id='topic+normalize'></span>

<h3>Description</h3>

<p>Scale a vector to 0-1 by min and max
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalize(x, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normalize_+3A_x">x</code></td>
<td>
<p>numeric</p>
</td></tr>
<tr><td><code id="normalize_+3A_na.rm">na.rm</code></td>
<td>
<p>bool whether to remove NA values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a normalized vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>normalize(0:10)
normalize(c(1, 100, NA, 10), na.rm = TRUE)
</code></pre>

<hr>
<h2 id='range_'>Return range of a vector</h2><span id='topic+range_'></span>

<h3>Description</h3>

<p>This computes the range of a vector as a value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>range_(x, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="range__+3A_x">x</code></td>
<td>
<p>numeric</p>
</td></tr>
<tr><td><code id="range__+3A_na.rm">na.rm</code></td>
<td>
<p>bool whether to remove NA values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>range_(c(1, 5, 10))
range_(c(1, 5, 10, NA), na.rm = TRUE)
</code></pre>

<hr>
<h2 id='saveRDS_'>saveRDS and return .data</h2><span id='topic+saveRDS_'></span>

<h3>Description</h3>

<p>This function returns the object passed in, can be used for dplyr pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saveRDS_(.data, file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saveRDS__+3A_.data">.data</code></td>
<td>
<p>object to be saved</p>
</td></tr>
<tr><td><code id="saveRDS__+3A_file">file</code></td>
<td>
<p>filename to save</p>
</td></tr>
<tr><td><code id="saveRDS__+3A_...">...</code></td>
<td>
<p>for saveRDS</p>
</td></tr>
</table>


<h3>Value</h3>

<p>whatever object passed in.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data &lt;- data.frame(a=1, b=2, c=3)
data %&gt;%
    saveRDS_(file.path(tempdir(), "data.rds")) %&gt;%
    print()


</code></pre>

<hr>
<h2 id='smooth.mean'>Smooth a vector using moving average</h2><span id='topic+smooth.mean'></span>

<h3>Description</h3>

<p>Smooth a vector using moving average
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smooth.mean(vec, naverage)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="smooth.mean_+3A_vec">vec</code></td>
<td>
<p>numeric vector</p>
</td></tr>
<tr><td><code id="smooth.mean_+3A_naverage">naverage</code></td>
<td>
<p>width of moving average</p>
</td></tr>
</table>


<h3>Value</h3>

<p>smoothed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>smooth.mean(1:10, 2)
smooth.mean(1:10, 3)
smooth.mean(1:10, 5)
</code></pre>

<hr>
<h2 id='ungroup_'>Run ungroup() and as.data.frame()</h2><span id='topic+ungroup_'></span>

<h3>Description</h3>

<p>Run ungroup() and as.data.frame()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ungroup_(.data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ungroup__+3A_.data">.data</code></td>
<td>
<p>grouped data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an ungrouped data.frame()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data &lt;- data.frame(m=c(1,2), n=c(2,3), group=c('a','b'))
data %&gt;%
    group_by(group) %&gt;%
    ungroup_()

</code></pre>

<hr>
<h2 id='write.csv_'>write.csv without row.names</h2><span id='topic+write.csv_'></span>

<h3>Description</h3>

<p>This function returns the object passed in, can be used for dplyr pipeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.csv_(x, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.csv__+3A_x">x</code></td>
<td>
<p>object</p>
</td></tr>
<tr><td><code id="write.csv__+3A_file">file</code></td>
<td>
<p>filename for write.csv</p>
</td></tr>
</table>


<h3>Value</h3>

<p>whatever object passed in
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
write.csv_(data.frame(a=1, b=2, c=3), file.path(tempdir(), "data.csv"))

data &lt;- data.frame(a=1, b=2, c=3)
data %&gt;%
    file.path(tempdir(), "data.csv") %&gt;%
    print()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

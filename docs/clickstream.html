<!DOCTYPE html><html lang="en"><head><title>Help for package clickstream</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {clickstream}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#clickstream-package'><p>Analyzes Clickstreams Based on Markov Chains</p></a></li>
<li><a href='#+2B+2CPattern+2CPattern-method'><p>Concatenates two <code>Pattern</code> objects</p></a></li>
<li><a href='#absorbingStates'><p>Returns All Absorbing States</p></a></li>
<li><a href='#as.ClickClust'><p>Coerces a Clickstream Object to a ClickClust Object</p></a></li>
<li><a href='#as.clickstreams'><p>Converts a character vector or a character list into a clickstream list.</p></a></li>
<li><a href='#as.moltenTransactions'><p>Coerces a Clickstream Object to a Transactions Object</p></a></li>
<li><a href='#as.transactions'><p>Coerces a Clickstream Object to a Transactions Object</p></a></li>
<li><a href='#chiSquareTest'><p>Calculates the chi-square statistic</p></a></li>
<li><a href='#clusterClickstreams'><p>Performs K-Means Clustering on a List of Clickstreams</p></a></li>
<li><a href='#EvaluationResult-class'><p>Class <code>EvaluationResult</code></p></a></li>
<li><a href='#fitMarkovChain'><p>Fits a List of Clickstreams to a Markov Chain</p></a></li>
<li><a href='#fitMarkovChains'><p>Generates a list of markov chains from a given set of clusters</p></a></li>
<li><a href='#frequencies'><p>Generates a Data Frame of State Frequencies for All Clickstreams in a List of Clickstreams</p></a></li>
<li><a href='#getConsensusClusters'><p>Generates an optimal set of clusters for a clickstream object based on consensus clustering.</p></a></li>
<li><a href='#getConsensusClustersParallel'><p>Generates an optimal set of clusters for a clickstream based on consensus clustering and with parallel computation</p></a></li>
<li><a href='#getOptimalMarkovChain'><p>Generates the optimal markov chains from a list of markov chains and corresponding clusters</p></a></li>
<li><a href='#hmPlot'><p>Plots a Heatmap</p></a></li>
<li><a href='#initialize+2CPattern-method'><p>Creates a new <code>Pattern</code> object</p></a></li>
<li><a href='#MarkovChain-class'><p>Class <code>MarkovChain</code></p></a></li>
<li><a href='#mcEvaluate'><p>Evaluates the number of occurrences of predicted next clicks</p></a></li>
<li><a href='#mcEvaluateAll'><p>Evaluates all next page clicks in a clickstream training data set against a test data</p></a></li>
<li><a href='#mcEvaluateAllClusters'><p>Evaluates all next page clicks in a clickstream training data set against a test data</p></a></li>
<li><a href='#Pattern-class'><p>Class <code>Pattern</code></p></a></li>
<li><a href='#plot+2CMarkovChain-method'><p>Plots a <code>MarkovChain</code> object</p></a></li>
<li><a href='#predict+2CMarkovChain-method'><p>Predicts the Next Click(s) of a User</p></a></li>
<li><a href='#predict.ClickstreamClusters'><p>Predicts the Cluster for a Given Pattern Object</p></a></li>
<li><a href='#print.ClickstreamClusters'><p>Prints a ClickstreamClusters Object</p></a></li>
<li><a href='#print.Clickstreams'><p>Prints a Clickstreams Object</p></a></li>
<li><a href='#print.MarkovChainSummary'><p>Prints the Summary of a MarkovChain Object</p></a></li>
<li><a href='#randomClicks'><p>Generates a Sequence of Clicks</p></a></li>
<li><a href='#randomClickstreams'><p>Generates a List of Clickstreams</p></a></li>
<li><a href='#readClickstreams'><p>Reads a List of Clickstreams from File</p></a></li>
<li><a href='#show+2CEvaluationResult-method'><p>Shows an <code>EvaluationResult</code> object</p></a></li>
<li><a href='#show+2CMarkovChain-method'><p>Shows a <code>MarkovChain</code> object</p></a></li>
<li><a href='#show+2CPattern-method'><p>Shows a <code>Pattern</code> object</p></a></li>
<li><a href='#states'><p>Returns All States</p></a></li>
<li><a href='#summary+2CMarkovChain-method'><p>Prints the Summary of a MarkovChain Object</p></a></li>
<li><a href='#summary.ClickstreamClusters'><p>Prints a Summary of a ClickstreamCluster Object</p></a></li>
<li><a href='#summary.Clickstreams'><p>Prints a Summary of a Clickstreams Object</p></a></li>
<li><a href='#transientStates'><p>Returns All Transient States</p></a></li>
<li><a href='#writeClickstreams'><p>Writes a List of Clickstreams to File</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analyzes Clickstreams Based on Markov Chains</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-27</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Scholz, Theo van Kraay</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Scholz &lt;michael.scholz@th-deg.de&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of tools to read, analyze and write lists of click sequences
    on websites (i.e., clickstream). A click can be represented by a number,
    character or string. Clickstreams can be modeled as zero- (only computes
    occurrence probabilities), first- or higher-order Markov chains.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.1), methods, igraph, stats, utils, reshape2, MASS</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr, Rsolnp, arules, linprog, ggplot2, ClickClust, parallel,
data.table</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-27 13:59:04 UTC; mScholz</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-27 14:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='clickstream-package'>Analyzes Clickstreams Based on Markov Chains</h2><span id='topic+clickstream-package'></span><span id='topic+clickstream'></span>

<h3>Description</h3>

<p>This package allows modeling clickstreams with Markov chains. It supports to
model clickstreams as zero-order, first-order or higher-order Markov chains.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;"> Package: </td><td style="text-align: left;"> clickstream</td>
</tr>
<tr>
 <td style="text-align: left;"> Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;"> Version:
</td><td style="text-align: left;"> 1.3.3</td>
</tr>
<tr>
 <td style="text-align: left;"> Date: </td><td style="text-align: left;"> 2023-09-27</td>
</tr>
<tr>
 <td style="text-align: left;"> License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;"> Depends: </td><td style="text-align: left;">
R (&gt;= 3.0), methods</td>
</tr>
<tr>
 <td style="text-align: left;"> </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>
<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>References</h3>

<p>Scholz, M. (2016) R Package clickstream: Analyzing Clickstream Data with Markov Chains, <em>Journal of Statistical Software</em>, <b>74</b>, 4, pages 1&ndash;17 .
</p>
<p>Ching, W.-K.and Huang, X. and Ng, M.K. and Siu, T.-K. (2013) <em>Markov Chains &ndash; Models, Algorithms and Applications</em>, 2nd edition, New York: Springer-Verlag.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# fitting a simple Markov chain and predicting the next click
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
startPattern &lt;- new("Pattern", sequence = c("h", "c"))
predict(mc, startPattern)
plot(mc)

</code></pre>

<hr>
<h2 id='+2B+2CPattern+2CPattern-method'>Concatenates two <code>Pattern</code> objects</h2><span id='topic++2B+2CPattern+2CPattern-method'></span>

<h3>Description</h3>

<p>Concatenates two <code>Pattern</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Pattern,Pattern'
e1 + e2
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B2B+2B2CPattern+2B2CPattern-method_+3A_e1">e1</code></td>
<td>
<p>First pattern</p>
</td></tr>
<tr><td><code id="+2B2B+2B2CPattern+2B2CPattern-method_+3A_e2">e2</code></td>
<td>
<p>Second pattern</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(e1 = \&quot;Pattern\&quot;, e2 = \&quot;Pattern\&quot;)&quot;)</dt><dd><p>Concatenates two <code>Pattern</code> objects.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='absorbingStates'>Returns All Absorbing States</h2><span id='topic+absorbingStates'></span><span id='topic+absorbingStates+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Returns All Absorbing States
</p>


<h3>Usage</h3>

<pre><code class='language-R'>absorbingStates(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="absorbingStates_+3A_object">object</code></td>
<td>
<p>An instance of the <code>MarkovChain</code>-class</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> Returns the names of all states that never have a successor
in a clickstream (i.e. that are absorbing).</p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='as.ClickClust'>Coerces a Clickstream Object to a ClickClust Object</h2><span id='topic+as.ClickClust'></span>

<h3>Description</h3>

<p>Coerces a <code>Clickstream</code> object to a <code>ClickClust</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.ClickClust(clickstreamList)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.ClickClust_+3A_clickstreamlist">clickstreamList</code></td>
<td>
<p>A list of clickstreams.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list consisting of a dataset X and a vector of initial states y
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+frequencies">frequencies</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
X &lt;- as.ClickClust(cls)

</code></pre>

<hr>
<h2 id='as.clickstreams'>Converts a character vector or a character list into a clickstream list.</h2><span id='topic+as.clickstreams'></span>

<h3>Description</h3>

<p>Converts a character vector or a character list into a clickstream list. Note that non-alphanumeric characters will be removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.clickstreams(obj, sep = ",", header = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.clickstreams_+3A_obj">obj</code></td>
<td>
<p>The character vector or character list which will be converted into a clickstream list.
Each line of the vector must represent exactly one click stream.</p>
</td></tr>
<tr><td><code id="as.clickstreams_+3A_sep">sep</code></td>
<td>
<p>The character separating clicks (default is &ldquo;,&rdquo;).</p>
</td></tr>
<tr><td><code id="as.clickstreams_+3A_header">header</code></td>
<td>
<p>A logical flag indicating whether the first entry of each entry
in the character vector is the name of the clickstream.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of clickstreams. Each element is a vector of characters
representing the clicks. The name of each list element is either extracted from the
character vector or a unique number.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.Clickstreams">print.Clickstreams</a></code>, <code><a href="#topic+randomClickstreams">randomClickstreams</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
print(cls)

</code></pre>

<hr>
<h2 id='as.moltenTransactions'>Coerces a Clickstream Object to a Transactions Object</h2><span id='topic+as.moltenTransactions'></span>

<h3>Description</h3>

<p>Coerces a <code>Clickstream</code> object to a <code>transactions</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.moltenTransactions(clickstreamList)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.moltenTransactions_+3A_clickstreamlist">clickstreamList</code></td>
<td>
<p>A list of clickstreams.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of the old class <code><a href="arules.html#topic+transactions">transactions</a></code>
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+frequencies">frequencies</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
trans &lt;- as.moltenTransactions(cls)

</code></pre>

<hr>
<h2 id='as.transactions'>Coerces a Clickstream Object to a Transactions Object</h2><span id='topic+as.transactions'></span>

<h3>Description</h3>

<p>Coerces a <code>Clickstream</code> object to a <code>transactions</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.transactions(clickstreamList)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.transactions_+3A_clickstreamlist">clickstreamList</code></td>
<td>
<p>A list of clickstreams.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of the class <code><a href="arules.html#topic+transactions">transactions</a></code>
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+frequencies">frequencies</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
trans &lt;- as.transactions(cls)

</code></pre>

<hr>
<h2 id='chiSquareTest'>Calculates the chi-square statistic</h2><span id='topic+chiSquareTest'></span>

<h3>Description</h3>

<p>Calculates the chi-Square statistic, p-value, and degrees of freedom, for the first-order transition matrix of a <code>MarkovChain</code> object compared with observed state changes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chiSquareTest(cls, mc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chiSquareTest_+3A_cls">cls</code></td>
<td>
<p>The clickstream object.</p>
</td></tr>
<tr><td><code id="chiSquareTest_+3A_mc">mc</code></td>
<td>
<p>The Markov chain against which to compare the clickstream data. Please note that the first-order transition matrix is used for performing the chi-square test.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
                 "User2,i,c,i,c,c,c,d",
                 "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
                 "User4,c,c,p,c,d")

csf &lt;- tempfile()
writeLines(clickstreams, csf)
cls &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)

mc &lt;- fitMarkovChain(cls)
chiSquareTest(cls, mc)
</code></pre>

<hr>
<h2 id='clusterClickstreams'>Performs K-Means Clustering on a List of Clickstreams</h2><span id='topic+clusterClickstreams'></span>

<h3>Description</h3>

<p>Performs k-means clustering on a list of clickstreams. For each clickstream a
transition matrix of a given order is computed. These transition matrices
are used as input for performing k-means clustering.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clusterClickstreams(clickstreamList, order = 0, centers, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clusterClickstreams_+3A_clickstreamlist">clickstreamList</code></td>
<td>
<p>A list of clickstreams for which the cluster analysis
is performed.</p>
</td></tr>
<tr><td><code id="clusterClickstreams_+3A_order">order</code></td>
<td>
<p>The order of the transition matrices used as input for
clustering (default is 0; 0 and 1 are possible).</p>
</td></tr>
<tr><td><code id="clusterClickstreams_+3A_centers">centers</code></td>
<td>
<p>The number of clusters.</p>
</td></tr>
<tr><td><code id="clusterClickstreams_+3A_...">...</code></td>
<td>
<p>Additional parameters for k-means clustering (see
<code><a href="stats.html#topic+kmeans">kmeans</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This method returns a <code>ClickstreamClusters</code> object (S3-class).
It is a list with the following components: </p>
<table role = "presentation">
<tr><td><code>clusters</code></td>
<td>
<p> The resulting list of
<code>Clickstreams</code> objects.</p>
</td></tr>
<tr><td><code>centers</code></td>
<td>
<p> A matrix of cluster centres.  </p>
</td></tr> <tr><td><code>states</code></td>
<td>
<p> Vector of states</p>
</td></tr> 
<tr><td><code>totss</code></td>
<td>
<p> The total sum of squares.  </p>
</td></tr> <tr><td><code>withinss</code></td>
<td>
<p> Vector of within-cluster 
sum of squares, one component per cluster.  </p>
</td></tr> <tr><td><code>tot.withinss</code></td>
<td>
<p> Total within-cluster sum of
squares, i.e., <code>sum(withinss)</code>.  </p>
</td></tr> <tr><td><code>betweenss</code></td>
<td>
<p> The
between-cluster sum of squares, i.e., <code>totss - tot.withinss</code>.  </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.ClickstreamClusters">print.ClickstreamClusters</a></code>,
<code><a href="#topic+summary.ClickstreamClusters">summary.ClickstreamClusters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
clusters &lt;- clusterClickstreams(cls, order = 0, centers = 2)
print(clusters)

</code></pre>

<hr>
<h2 id='EvaluationResult-class'>Class <code>EvaluationResult</code></h2><span id='topic+EvaluationResult-class'></span>

<h3>Description</h3>

<p>Class <code>EvaluationResult</code>
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("EvaluationResult", ...)</code>. This S4 class describes <code>EvaluationResult</code> objects.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mcEvaluate">mcEvaluate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# show EvaluationResult definition
showClass("EvaluationResult")

</code></pre>

<hr>
<h2 id='fitMarkovChain'>Fits a List of Clickstreams to a Markov Chain</h2><span id='topic+fitMarkovChain'></span>

<h3>Description</h3>

<p>This function fits a list of clickstreams to a Markov chain. Zero-order,
first-order as well as higher-order Markov chains are supported. For
estimating higher-order Markov chains this function solves the following
linear or quadratic programming problem:<br /> </p>
<p style="text-align: center;"><code class="reqn">\min ||\sum_{i=1}^k X-\lambda_i
Q_iX||</code>
</p>
 <p style="text-align: center;"><code class="reqn">\mathrm{s.t.}</code>
</p>

<p style="text-align: center;"><code class="reqn">\sum_{i=1}^k \lambda_i = 1</code>
</p>
 <p style="text-align: center;"><code class="reqn">\lambda_i \ge
0</code>
</p>
<p> The distribution of states is given as <code class="reqn">X</code>.
<code class="reqn">\lambda_i</code> is the lag parameter for lag <code class="reqn">i</code> and <code class="reqn">Q_i</code> the
transition matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitMarkovChain(clickstreamList, order = 1, verbose = TRUE, control = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitMarkovChain_+3A_clickstreamlist">clickstreamList</code></td>
<td>
<p>A list of clickstreams for which a Markov chain is
fitted.</p>
</td></tr>
<tr><td><code id="fitMarkovChain_+3A_order">order</code></td>
<td>
<p>(Optional) The order of the Markov chain that is fitted from
the clickstreams. Per default, Markov chains with <code>order=1</code> are fitted.
It is also possible to fit zero-order Markov chains (<code>order=0</code>) and
higher-order Markov chains.</p>
</td></tr>
<tr><td><code id="fitMarkovChain_+3A_verbose">verbose</code></td>
<td>
<p>(Optional) An optimal logical variable to indicate whether warnings
and infos should be printed.</p>
</td></tr>
<tr><td><code id="fitMarkovChain_+3A_control">control</code></td>
<td>
<p>(Optional) The control list of optimization parameters. Parameter
<code>optimizer</code> specifies the type of solver used to solve the given
optimization problem. Possible values are &quot;linear&quot; (default) and &quot;quadratic&quot;.
Parameter <code>use.lpSolve</code> determines whether lpSolve or linprog is used as
linear solver.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For solving the quadratic programming problem of higher-order Markov chains,
an augmented Lagrange multiplier method from the package
<code>Rsolnp</code> is used.
</p>


<h3>Value</h3>

<p>Returns a <code>MarkovChain</code> object.
</p>


<h3>Note</h3>

<p>At least half of the clickstreams need to consist of as many clicks as
the order of the Markov chain that should be fitted.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>References</h3>

<p>This method implements the parameter estimation method presented
in Ching, W.-K. et al.: <em>Markov Chains &ndash; Models, Algorithms and
Applications</em>, 2nd edition, Springer, 2013.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+MarkovChain-class">MarkovChain</a></code>,
<code>Rsolnp</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# fitting a simple Markov chain
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
show(mc)

</code></pre>

<hr>
<h2 id='fitMarkovChains'>Generates a list of markov chains from a given set of clusters</h2><span id='topic+fitMarkovChains'></span>

<h3>Description</h3>

<p>The purpose of this function is to generate pre-computed markov chain objects from clusters of clickstreams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitMarkovChains(clusters, order = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitMarkovChains_+3A_clusters">clusters</code></td>
<td>
<p>The clusters from which to generate markov chain objects.</p>
</td></tr>
<tr><td><code id="fitMarkovChains_+3A_order">order</code></td>
<td>
<p>The order for the markov chain.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
training &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
              "User2,i,c,i,c,c,c,d",
              "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
              "User4,c,c,p,c,d")

test &lt;- c("User1,h,c,c,p,p,h,c,p,p,c,p,p,o",
          "User2,i,c,i,c,c,c,d",
          "User4,c,c,c,c,d")

trainingCLS &lt;- as.clickstreams(training, header = TRUE)
testCLS &lt;- as.clickstreams(test, header = TRUE)

clusters &lt;- clusterClickstreams(trainingCLS, centers = 2)
markovchains &lt;- fitMarkovChains(clusters, order = 1)
</code></pre>

<hr>
<h2 id='frequencies'>Generates a Data Frame of State Frequencies for All Clickstreams in a List of Clickstreams</h2><span id='topic+frequencies'></span>

<h3>Description</h3>

<p>Generates a data frame of state frequencies for all clickstreams in a list of clickstreams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frequencies(clickstreamList)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="frequencies_+3A_clickstreamlist">clickstreamList</code></td>
<td>
<p>A list of clickstreams.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing state frequencies for each clickstream.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code>transactions</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
frequencyDF &lt;- frequencies(cls)

</code></pre>

<hr>
<h2 id='getConsensusClusters'>Generates an optimal set of clusters for a clickstream object based on consensus clustering.</h2><span id='topic+getConsensusClusters'></span>

<h3>Description</h3>

<p>This is an experimental function for a consensus clustering algorithm based on targeting a range of average next state probabilities derived when fitting each cluster to a markov chain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getConsensusClusters(
  trainingCLS,
  testCLS,
  maxIterations = 5,
  optimalProbMean = 0.5,
  range = 0.3,
  centresMin = 2,
  clusterCentresRange = 0,
  order = 1,
  takeHighest = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getConsensusClusters_+3A_trainingcls">trainingCLS</code></td>
<td>
<p>Clickstream object with training data (this should be the data used to build the markov chain object).</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_testcls">testCLS</code></td>
<td>
<p>Clickstream object with test data.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_maxiterations">maxIterations</code></td>
<td>
<p>Number of times to iterate (repeat) through the k-means clustering.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_optimalprobmean">optimalProbMean</code></td>
<td>
<p>The target average probability of each next page click prediction in a 1st order markov chain.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_range">range</code></td>
<td>
<p>The range above the optimal probability to target.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_centresmin">centresMin</code></td>
<td>
<p>The minimum cluster centres to evaluate.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_clustercentresrange">clusterCentresRange</code></td>
<td>
<p>the additional cluster centres to evaluate.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_order">order</code></td>
<td>
<p>The order for markov chains that will be used to evaluate each cluster.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_takehighest">takeHighest</code></td>
<td>
<p>Determines whether to default to the highest mean next click probability, or error if the target is not reached after the given number of k-means iterations.</p>
</td></tr>
<tr><td><code id="getConsensusClusters_+3A_verbose">verbose</code></td>
<td>
<p>Should this function report extra information on progress?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>training &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
              "User2,i,c,i,c,c,c,d",
              "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
              "User4,h,c,c,p,p,c,p,p,p,i,p,o",
              "User5,i,h,c,c,p,p,c,p,c,d",
              "User6,i,h,c,c,p,p,c,p,c,o",
              "User7,i,h,c,c,p,p,c,p,c,d",
              "User8,i,h,c,c,p,p,c,p,c,d,o")

test &lt;- c(
    "User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
    "User2,i,c,i,c,c,c,d",
    "User3,h,i,c,i,c,p,c,c,p,c,c,i,d"
)

trainingCLS &lt;- as.clickstreams(training, header = TRUE)
testCLS &lt;- as.clickstreams(test, header = TRUE)

clusters &lt;- getConsensusClusters(trainingCLS, testCLS, maxIterations=5, 
                         optimalProbMean=0.40, range = 0.70, centresMin = 2, 
                         clusterCentresRange = 0, order = 1, takeHighest = FALSE, 
                         verbose = FALSE)
markovchains &lt;- fitMarkovChains(clusters)
startPattern &lt;- new("Pattern", sequence = c("i", "h", "c", "p"))
mc &lt;- getOptimalMarkovChain(startPattern, markovchains, clusters)
predict(mc, startPattern)
</code></pre>

<hr>
<h2 id='getConsensusClustersParallel'>Generates an optimal set of clusters for a clickstream based on consensus clustering and with parallel computation</h2><span id='topic+getConsensusClustersParallel'></span>

<h3>Description</h3>

<p>This is an experimental function for a consensus clustering algorithm based on targeting a range of average next state probabilities derived when fitting each cluster to a markov chain. This function parallelizes k-means and fitToMarkovChain operations across computer cores, and depends on the parallel package to function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getConsensusClustersParallel(
  trainingCLS,
  testCLS,
  maxIterations = 5,
  optimalProbMean = 0.5,
  range = 0.3,
  centresMin = 2,
  clusterCentresRange = 0,
  order = 1,
  cores = 2,
  takeHighest = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getConsensusClustersParallel_+3A_trainingcls">trainingCLS</code></td>
<td>
<p>Clickstream object with training data (this should be the data used to build the markov chain object).</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_testcls">testCLS</code></td>
<td>
<p>Clickstream object with test data.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_maxiterations">maxIterations</code></td>
<td>
<p>Number of times to iterate (repeat) through the k-means clustering.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_optimalprobmean">optimalProbMean</code></td>
<td>
<p>The target average probability of each next page click prediction in a 1st order markov chain.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_range">range</code></td>
<td>
<p>The range above the optimal probability to target.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_centresmin">centresMin</code></td>
<td>
<p>The minimum cluster centres to evaluate.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_clustercentresrange">clusterCentresRange</code></td>
<td>
<p>the additional cluster centres to evaluate.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_order">order</code></td>
<td>
<p>The order for markov chains that will be used to evaluate each cluster.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_cores">cores</code></td>
<td>
<p>Number of cores used for clustering.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_takehighest">takeHighest</code></td>
<td>
<p>Determines whether to default to the highest mean next click probability, or error if the target is not reached after the given number of k-means iterations.</p>
</td></tr>
<tr><td><code id="getConsensusClustersParallel_+3A_verbose">verbose</code></td>
<td>
<p>Should this function report extra information on progress?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>training &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
              "User2,i,c,i,c,c,c,d",
              "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
              "User4,h,c,c,p,p,c,p,p,p,i,p,o",
              "User5,i,h,c,c,p,p,c,p,c,d",
              "User6,i,h,c,c,p,p,c,p,c,o",
              "User7,i,h,c,c,p,p,c,p,c,d",
              "User8,i,h,c,c,p,p,c,p,c,d,o")

test &lt;- c(
    "User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
    "User2,i,c,i,c,c,c,d",
    "User3,h,i,c,i,c,p,c,c,p,c,c,i,d"
)

trainingCLS &lt;- as.clickstreams(training, header = TRUE)
testCLS &lt;- as.clickstreams(test, header = TRUE)

clusters &lt;- getConsensusClustersParallel(trainingCLS, testCLS, maxIterations=3, 
                                 optimalProbMean=0.40, range = 0.70, centresMin = 2, 
                                 clusterCentresRange = 0, order = 1, cores = 1,
                                 takeHighest = FALSE, verbose = FALSE)
markovchains &lt;- fitMarkovChains(clusters)
startPattern &lt;- new("Pattern", sequence = c("i", "h", "c", "p"))
mc &lt;- getOptimalMarkovChain(startPattern, markovchains, clusters)
predict(mc, startPattern)
</code></pre>

<hr>
<h2 id='getOptimalMarkovChain'>Generates the optimal markov chains from a list of markov chains and corresponding clusters</h2><span id='topic+getOptimalMarkovChain'></span>

<h3>Description</h3>

<p>The purpose of this function is to predict from a pattern using pre-computed markov chains and corresponding clusters. The markov chain corresponding with the cluster that is the best fit to the prediction value is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getOptimalMarkovChain(startPattern, markovchains, clusters)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getOptimalMarkovChain_+3A_startpattern">startPattern</code></td>
<td>
<p>The pattern object to be used.</p>
</td></tr>
<tr><td><code id="getOptimalMarkovChain_+3A_markovchains">markovchains</code></td>
<td>
<p>The pre-computed markov chains generated from a set of clusters.</p>
</td></tr>
<tr><td><code id="getOptimalMarkovChain_+3A_clusters">clusters</code></td>
<td>
<p>The corresponding clusters (should be in the corresponding order as the markov chains).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
training &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
              "User2,i,c,i,c,c,c,d",
              "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
              "User4,c,c,p,c,d")

test &lt;- c("User1,h,c,c,p,p,h,c,p,p,c,p,p,o",
          "User2,i,c,i,c,c,c,d",
          "User4,c,c,c,c,d")

trainingCLS &lt;- as.clickstreams(training, header = TRUE)
testCLS &lt;- as.clickstreams(test, header = TRUE)

clusters &lt;- clusterClickstreams(trainingCLS, centers = 2)
markovchains &lt;- fitMarkovChains(clusters, order = 1)
startPattern &lt;- new("Pattern", sequence = c("c")) 
mc &lt;- getOptimalMarkovChain(startPattern, markovchains, clusters)
predict(mc, startPattern)
</code></pre>

<hr>
<h2 id='hmPlot'>Plots a Heatmap</h2><span id='topic+hmPlot'></span><span id='topic+hmPlot+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Plots a Heatmap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hmPlot(
  object,
  order = 1,
  absorptionProbability = FALSE,
  title = NA,
  lowColor = "yellow",
  highColor = "red",
  flip = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hmPlot_+3A_object">object</code></td>
<td>
<p>The <code>MarkovChain</code> for which a heatmap is
plotted.</p>
</td></tr>
<tr><td><code id="hmPlot_+3A_order">order</code></td>
<td>
<p>Order of the transition matrix that should be plotted. Default is 1.</p>
</td></tr>
<tr><td><code id="hmPlot_+3A_absorptionprobability">absorptionProbability</code></td>
<td>
<p>Should the heatmap show absorption probabilities? Default is FALSE.</p>
</td></tr>
<tr><td><code id="hmPlot_+3A_title">title</code></td>
<td>
<p>Title of the heatmap.</p>
</td></tr>
<tr><td><code id="hmPlot_+3A_lowcolor">lowColor</code></td>
<td>
<p>Color for the lowest transition probability of 0. Default is &quot;yellow&quot;.</p>
</td></tr>
<tr><td><code id="hmPlot_+3A_highcolor">highColor</code></td>
<td>
<p>Color for the highest transition probability of 1. Default is &quot;red&quot;.</p>
</td></tr>
<tr><td><code id="hmPlot_+3A_flip">flip</code></td>
<td>
<p>Flip to horizontal plot. Default is FALSE.</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> Plots a heatmap for a specified transition matrix or
the absorption probability matrix of a given <code>MarkovChain</code> object. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fitMarkovChain">fitMarkovChain</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# fitting a simple Markov chain and plotting a heat map
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
hmPlot(mc)

</code></pre>

<hr>
<h2 id='initialize+2CPattern-method'>Creates a new <code>Pattern</code> object</h2><span id='topic+initialize+2CPattern-method'></span>

<h3>Description</h3>

<p>Creates a new <code>Pattern</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Pattern'
initialize(.Object, sequence, probability, absorbingProbabilities, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="initialize+2B2CPattern-method_+3A_.object">.Object</code></td>
<td>
<p>Pattern (name of the class)</p>
</td></tr>
<tr><td><code id="initialize+2B2CPattern-method_+3A_sequence">sequence</code></td>
<td>
<p>Click sequence</p>
</td></tr>
<tr><td><code id="initialize+2B2CPattern-method_+3A_probability">probability</code></td>
<td>
<p>Probability for the click sequence</p>
</td></tr>
<tr><td><code id="initialize+2B2CPattern-method_+3A_absorbingprobabilities">absorbingProbabilities</code></td>
<td>
<p>Probabilities that the sequence will finally end in one of the absorbing states</p>
</td></tr>
<tr><td><code id="initialize+2B2CPattern-method_+3A_...">...</code></td>
<td>
<p>Further arguments for the <code>CallNextMethod</code> function</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(sequence = \&quot;character\&quot;, probability = \&quot;numeric\&quot;, absorbingProbabilities = \&quot;numeric&quot;))</dt><dd><p>Creates a new <code>Pattern</code> object.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='MarkovChain-class'>Class <code>MarkovChain</code></h2><span id='topic+MarkovChain-class'></span>

<h3>Description</h3>

<p>Class <code>MarkovChain</code>
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("MarkovChain", ...)</code>. This S4 class describes <code>MarkovChain</code> objects.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fitMarkovChain">fitMarkovChain</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# show MarkovChain definition
showClass("MarkovChain")

# fit a simple Markov chain from a list of click streams
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
show(mc)

</code></pre>

<hr>
<h2 id='mcEvaluate'>Evaluates the number of occurrences of predicted next clicks</h2><span id='topic+mcEvaluate'></span>

<h3>Description</h3>

<p>Evaluates the number of occurrences of predicted next clicks vs. total number of starting pattern occurrences
in a given clickstream. The predicted next click can be a markov chain of any order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcEvaluate(mc, startPattern, testCLS)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mcEvaluate_+3A_mc">mc</code></td>
<td>
<p>a markovchain object (this should have been built from a set of training data)</p>
</td></tr>
<tr><td><code id="mcEvaluate_+3A_startpattern">startPattern</code></td>
<td>
<p>the starting pattern we want to predict next click on, and evaluate observed occurrences in test data.</p>
</td></tr>
<tr><td><code id="mcEvaluate_+3A_testcls">testCLS</code></td>
<td>
<p>clickstream object with test data</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>training &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
              "User2,i,c,i,c,c,c,d",
              "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
              "User4,c,c,p,c,d")

test &lt;- c("User1,h,h,h,h,c,c,p,p,h,c,p,p,c,p,p,o",
          "User2,i,c,i,c,c,c,d",
          "User4,c,c,c,c,d,c,c,c,c")

csf &lt;- tempfile()
writeLines(training, csf)
trainingCLS &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)

csf &lt;- tempfile()
writeLines(test, csf)
testCLS &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)

mc &lt;- fitMarkovChain(trainingCLS, order = 1)
startPattern &lt;- new("Pattern", sequence = c("c","c")) 
res &lt;- mcEvaluate(mc, startPattern, testCLS)
res
</code></pre>

<hr>
<h2 id='mcEvaluateAll'>Evaluates all next page clicks in a clickstream training data set against a test data</h2><span id='topic+mcEvaluateAll'></span>

<h3>Description</h3>

<p>Evaluates all next page clicks in a clickstream training data set against a test data. Handles higher order by cycling through every possible pattern permutation. Produces a report of observed and expected values in a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcEvaluateAll(
  mc,
  trainingCLS,
  testCLS,
  includeChiSquare = TRUE,
  returnChiSquareOnly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mcEvaluateAll_+3A_mc">mc</code></td>
<td>
<p>A markovchain object that corresponds to a list of clusters.</p>
</td></tr>
<tr><td><code id="mcEvaluateAll_+3A_trainingcls">trainingCLS</code></td>
<td>
<p>Clickstream object with training data (this should be the data used to build the markov chain object).</p>
</td></tr>
<tr><td><code id="mcEvaluateAll_+3A_testcls">testCLS</code></td>
<td>
<p>Clickstream object with test data.</p>
</td></tr>
<tr><td><code id="mcEvaluateAll_+3A_includechisquare">includeChiSquare</code></td>
<td>
<p>Should the result include the chi-square value?</p>
</td></tr>
<tr><td><code id="mcEvaluateAll_+3A_returnchisquareonly">returnChiSquareOnly</code></td>
<td>
<p>Should the result only consist of the chi-square value?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mcEvaluate">mcEvaluate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>training &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p",
              "User2,i,c,i,c,c,c,d")

test &lt;- c("User1,h,c,c,p,c,h,c,d,p,c,d,p",
             "User2,i,c,i,p,c,c,d")

csf &lt;- tempfile()
writeLines(training, csf)
trainingCLS &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)

csf &lt;- tempfile()
writeLines(test, csf)
testCLS &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)

mc &lt;- fitMarkovChain(trainingCLS, order = 2)
mcEvaluateAll(mc, trainingCLS, testCLS)
</code></pre>

<hr>
<h2 id='mcEvaluateAllClusters'>Evaluates all next page clicks in a clickstream training data set against a test data</h2><span id='topic+mcEvaluateAllClusters'></span>

<h3>Description</h3>

<p>Evaluates all next page clicks in a clickstream training data set against a test data on the basis of a set of pre-computed Markov chains and corresponding clusters. Handles higher order by cycling through every possible pattern permutation. Produces and produces a report of observed and expected values in a matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcEvaluateAllClusters(
  markovchains,
  clusters,
  testCLS,
  trainingCLS,
  includeChiSquare = TRUE,
  returnChiSquareOnly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mcEvaluateAllClusters_+3A_markovchains">markovchains</code></td>
<td>
<p>A list of MarkovChain-objects.</p>
</td></tr>
<tr><td><code id="mcEvaluateAllClusters_+3A_clusters">clusters</code></td>
<td>
<p>The list of clusters.</p>
</td></tr>
<tr><td><code id="mcEvaluateAllClusters_+3A_testcls">testCLS</code></td>
<td>
<p>Clickstream object with test data.</p>
</td></tr>
<tr><td><code id="mcEvaluateAllClusters_+3A_trainingcls">trainingCLS</code></td>
<td>
<p>Clickstream object with training data (this should be the data used to build the markov chain object).</p>
</td></tr>
<tr><td><code id="mcEvaluateAllClusters_+3A_includechisquare">includeChiSquare</code></td>
<td>
<p>Should the result include the chi-square value?</p>
</td></tr>
<tr><td><code id="mcEvaluateAllClusters_+3A_returnchisquareonly">returnChiSquareOnly</code></td>
<td>
<p>Should the result only consist of the chi-square value?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Theo van Kraay <a href="mailto:theo.vankraay@hotmail.com">theo.vankraay@hotmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mcEvaluateAll">mcEvaluateAll</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>training &lt;- c("User1,h,c,c,p,c,h,c,h,o,p,p,c,p,p,o",
              "User2,i,c,i,c,c,c,o,o,o,i,d",
              "User3,h,i,c,i,c,o,i,p,c,c,p,c,c,i,d",
              "User4,c,c,p,c,d,o,i,h,o,o")

test &lt;- c("User1,h,c,c,p,p,h,o,i,c,p,p,c,p,p,o",
          "User2,i,c,i,c,c,c,d",
          "User4,c,c,c,c,d")

csf &lt;- tempfile()
writeLines(training, csf)
trainingCLS &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)

csf &lt;- tempfile()
writeLines(test, csf)
testCLS &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)

clusters &lt;- clusterClickstreams(trainingCLS, centers = 2, order = 1)
markovchains &lt;- fitMarkovChains(clusters, order = 2)
mcEvaluateAllClusters(markovchains, clusters, testCLS, trainingCLS)
</code></pre>

<hr>
<h2 id='Pattern-class'>Class <code>Pattern</code></h2><span id='topic+Pattern-class'></span>

<h3>Description</h3>

<p>This S4 class describes a click pattern consisting of a sequence of clicks
and a probability of occurrence.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new("Pattern", sequence, probability, ...)</code>. This S4 class describes a click pattern consisting of a sequence of clicks
and a probability of occurrence.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+MarkovChain-class">randomClicks</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# show Pattern definition
showClass("Pattern")

# create simple Pattern objects
pattern1 &lt;- new("Pattern", sequence = c("h", "c", "p"))
pattern2 &lt;- new("Pattern", sequence = c("c", "p", "p"), probability = 0.2)
pattern3 &lt;- new("Pattern", sequence = c("h", "p", "p"), probability = 0.35,
        absorbingProbabilities = data.frame(d = 0.6, o = 0.4))
</code></pre>

<hr>
<h2 id='plot+2CMarkovChain-method'>Plots a <code>MarkovChain</code> object</h2><span id='topic+plot+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Plots a <code>MarkovChain</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MarkovChain'
plot(x, order = 1, digits = 2, minProbability = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot+2B2CMarkovChain-method_+3A_x">x</code></td>
<td>
<p>An instance of the <code>MarkovChain</code>-class</p>
</td></tr>
<tr><td><code id="plot+2B2CMarkovChain-method_+3A_order">order</code></td>
<td>
<p>The order of the transition matrix that should be plotted</p>
</td></tr>
<tr><td><code id="plot+2B2CMarkovChain-method_+3A_digits">digits</code></td>
<td>
<p>The number of digits of the transition probabilities</p>
</td></tr>
<tr><td><code id="plot+2B2CMarkovChain-method_+3A_minprobability">minProbability</code></td>
<td>
<p>Only transitions with a probability &gt;= the specified minProbability will be shown</p>
</td></tr>
<tr><td><code id="plot+2B2CMarkovChain-method_+3A_...">...</code></td>
<td>
<p>Further parameters for the <code>plot</code>-function in package <code>igraph</code></p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(x = \&quot;MarkovChain\&quot;, order = \&quot;numeric\&quot;, digits = \&quot;numeric\&quot;)&quot;)</dt><dd><p> Plots the transition matrix with order <code>order</code> of a <code>MarkovChain</code> object as graph. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='predict+2CMarkovChain-method'>Predicts the Next Click(s) of a User</h2><span id='topic+predict+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Predicts the Next Click(s) of a User
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MarkovChain'
predict(object, startPattern, dist = 1, ties = "random")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict+2B2CMarkovChain-method_+3A_object">object</code></td>
<td>
<p>The <code>MarkovChain</code> used for predicting the next
click(s)</p>
</td></tr>
<tr><td><code id="predict+2B2CMarkovChain-method_+3A_startpattern">startPattern</code></td>
<td>
<p>Starting clicks of a user as <code>Pattern</code> object. A
<code>Pattern</code> with an empty sequence is also possible.</p>
</td></tr>
<tr><td><code id="predict+2B2CMarkovChain-method_+3A_dist">dist</code></td>
<td>
<p>(Optional) The number of clicks that should be predicted
(default is 1).</p>
</td></tr>
<tr><td><code id="predict+2B2CMarkovChain-method_+3A_ties">ties</code></td>
<td>
<p>(Optional) The strategy for handling ties in predicting the next
click. Possible strategies are <code>random</code> (default) and <code>first</code>.</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> This method predicts the next click(s) of a user.
The first clicks of a user
are given as <code>Pattern</code> object. The next click(s) are predicted based on
the transition probabilities in the <code>MarkovChain</code> object. The
probability distribution of the next click (n) is estimated as follows:<br />
</p>
<p style="text-align: center;"><code class="reqn">X^{(n)}=B \cdot \sum_{i=1}^k \lambda_iQ_iX^{(n-i)}</code>
</p>
<p> The distribution of states at time <code class="reqn">n</code> is given as
<code class="reqn">X^n</code>. The transition matrix for lag <code class="reqn">i</code> is given as <code class="reqn">Q_i</code>.
<code class="reqn">\lambda_i</code> specifies the lag parameter and <code class="reqn">B</code> the absorbing
probability matrix. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fitMarkovChain">fitMarkovChain</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# fitting a simple Markov chain and predicting the next click
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
startPattern &lt;- new("Pattern", sequence = c("h", "c"))
predict(mc, startPattern)
#
# predict with predefined absorbing probabilities
#
startPattern &lt;- new("Pattern", sequence = c("h", "c"),
        absorbingProbabilities = data.frame(d = 0.2, o = 0.8))
predict(mc, startPattern)

</code></pre>

<hr>
<h2 id='predict.ClickstreamClusters'>Predicts the Cluster for a Given Pattern Object</h2><span id='topic+predict.ClickstreamClusters'></span>

<h3>Description</h3>

<p>Predicts the cluster for a given <code>Pattern</code> object. Potential clusters
need to be identified with the method <code>clusterClickstreams</code> before
predicting the cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ClickstreamClusters'
predict(object, pattern, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.ClickstreamClusters_+3A_object">object</code></td>
<td>
<p>A <code>ClickstreamClusters</code> object containing the
clusters. <code>ClickstreamClusters</code> represent the result of a
cluster analysis on a list of clickstreams (see
<code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>).</p>
</td></tr>
<tr><td><code id="predict.ClickstreamClusters_+3A_pattern">pattern</code></td>
<td>
<p>Sequence of a user's initial clicks as <code>Pattern</code> object.</p>
</td></tr>
<tr><td><code id="predict.ClickstreamClusters_+3A_...">...</code></td>
<td>
<p>Ignored parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the index of the clusters to which the given <code>Pattern</code>
object most probably belongs to.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>,
<code><a href="#topic+print.ClickstreamClusters">print.ClickstreamClusters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
clusters &lt;- clusterClickstreams(cls, order = 0, centers = 2)
pattern &lt;- new("Pattern", sequence = c("h", "c"))
predict(clusters, pattern)

</code></pre>

<hr>
<h2 id='print.ClickstreamClusters'>Prints a ClickstreamClusters Object</h2><span id='topic+print.ClickstreamClusters'></span>

<h3>Description</h3>

<p>Prints a <code>ClickstreamClusters</code> object. A <code>ClickstreamClusters</code>
object represents the result of a cluster analysis on a list of clickstreams
(see <code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ClickstreamClusters'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.ClickstreamClusters_+3A_x">x</code></td>
<td>
<p>A <code>ClickstreamClusters</code> object (see <code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>).</p>
</td></tr>
<tr><td><code id="print.ClickstreamClusters_+3A_...">...</code></td>
<td>
<p>Ignored parameters.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>,
<code><a href="#topic+summary.ClickstreamClusters">summary.ClickstreamClusters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
clusters &lt;- clusterClickstreams(cls, order = 0, centers = 2)
print(clusters)

</code></pre>

<hr>
<h2 id='print.Clickstreams'>Prints a Clickstreams Object</h2><span id='topic+print.Clickstreams'></span>

<h3>Description</h3>

<p>Prints a <code>Clickstreams</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Clickstreams'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.Clickstreams_+3A_x">x</code></td>
<td>
<p>A list of clickstreams.</p>
</td></tr>
<tr><td><code id="print.Clickstreams_+3A_...">...</code></td>
<td>
<p>Ignored parameters.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readClickstreams">readClickstreams</a></code>, <code><a href="#topic+randomClickstreams">randomClickstreams</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
print(cls)

</code></pre>

<hr>
<h2 id='print.MarkovChainSummary'>Prints the Summary of a MarkovChain Object</h2><span id='topic+print.MarkovChainSummary'></span>

<h3>Description</h3>

<p>Prints the summary of a <code>MarkovChain</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MarkovChainSummary'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.MarkovChainSummary_+3A_x">x</code></td>
<td>
<p>A <code>MarkovChainSummary</code> object generated with
the function <code><a href="#topic+MarkovChain-class">summary</a></code></p>
</td></tr>
<tr><td><code id="print.MarkovChainSummary_+3A_...">...</code></td>
<td>
<p>Ignored parameters.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+MarkovChain-class">summary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
print(summary(mc))

</code></pre>

<hr>
<h2 id='randomClicks'>Generates a Sequence of Clicks</h2><span id='topic+randomClicks'></span><span id='topic+randomClicks+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Generates a Sequence of Clicks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomClicks(object, startPattern, dist)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomClicks_+3A_object">object</code></td>
<td>
<p>The <code>MarkovChain</code> used for generating the next
click(s)</p>
</td></tr>
<tr><td><code id="randomClicks_+3A_startpattern">startPattern</code></td>
<td>
<p><code>Pattern</code> containing the first clicks of a user. A
<code>Pattern</code> object with an empty sequence is also possible.</p>
</td></tr>
<tr><td><code id="randomClicks_+3A_dist">dist</code></td>
<td>
<p>(Optional) The number of clicks that should be generated
(default is 1).</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> Generates a sequence of clicks by randomly walking through
the transition graph of a given <code>MarkovChain</code> object. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fitMarkovChain">fitMarkovChain</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# fitting a simple Markov chain and predicting the next click
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
startPattern &lt;- new("Pattern", sequence = c("h", "c"))
predict(mc, startPattern)

</code></pre>

<hr>
<h2 id='randomClickstreams'>Generates a List of Clickstreams</h2><span id='topic+randomClickstreams'></span>

<h3>Description</h3>

<p>Generates a list of clickstreams by randomly walking through a given
transition matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomClickstreams(
  states,
  startProbabilities,
  transitionMatrix,
  meanLength,
  n = 100
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomClickstreams_+3A_states">states</code></td>
<td>
<p>Names of all possible states.</p>
</td></tr>
<tr><td><code id="randomClickstreams_+3A_startprobabilities">startProbabilities</code></td>
<td>
<p>Start probabilities for all states.</p>
</td></tr>
<tr><td><code id="randomClickstreams_+3A_transitionmatrix">transitionMatrix</code></td>
<td>
<p>Matrix of transition probabilities.</p>
</td></tr>
<tr><td><code id="randomClickstreams_+3A_meanlength">meanLength</code></td>
<td>
<p>Average length of the click streams.</p>
</td></tr>
<tr><td><code id="randomClickstreams_+3A_n">n</code></td>
<td>
<p>Number of click streams to be generated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of clickstreams.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fitMarkovChain">fitMarkovChain</a></code>, <code><a href="#topic+readClickstreams">readClickstreams</a></code>,
<code><a href="#topic+print.Clickstreams">print.Clickstreams</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# generate a simple list of click streams
states &lt;- c("a", "b", "c")
startProbabilities &lt;- c(0.2, 0.5, 0.3)
transitionMatrix &lt;- matrix(c(0, 0.4, 0.6, 0.3, 0.1, 0.6, 0.2, 0.8, 0), nrow = 3)
cls &lt;- randomClickstreams(states, startProbabilities, transitionMatrix, meanLength = 5, n = 10)
print(cls)

</code></pre>

<hr>
<h2 id='readClickstreams'>Reads a List of Clickstreams from File</h2><span id='topic+readClickstreams'></span>

<h3>Description</h3>

<p>Reads a list of clickstream from a csv-file. Note that non-alphanumeric characters will be removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readClickstreams(file, sep = ",", header = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readClickstreams_+3A_file">file</code></td>
<td>
<p>The name of the file which the clickstreams are to be read from.
Each line of the file appears as one click stream. If it does not contain an
absolute path, the file name is relative to the current working directory,
<code><a href="base.html#topic+getwd">getwd</a></code>.</p>
</td></tr>
<tr><td><code id="readClickstreams_+3A_sep">sep</code></td>
<td>
<p>The character separating clicks (default is &ldquo;,&rdquo;).</p>
</td></tr>
<tr><td><code id="readClickstreams_+3A_header">header</code></td>
<td>
<p>A logical flag indicating whether the first entry of each line
in the file is the name of the clickstream user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of clickstreams. Each element is a vector of characters
representing the clicks. The name of each list element is either the header
of a clickstream file or a unique number.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.Clickstreams">print.Clickstreams</a></code>, <code><a href="#topic+randomClickstreams">randomClickstreams</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
csf &lt;- tempfile()
writeLines(clickstreams, csf)
cls &lt;- readClickstreams(csf, header = TRUE)
unlink(csf)
print(cls)

</code></pre>

<hr>
<h2 id='show+2CEvaluationResult-method'>Shows an <code>EvaluationResult</code> object</h2><span id='topic+show+2CEvaluationResult-method'></span>

<h3>Description</h3>

<p>Shows an <code>EvaluationResult</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'EvaluationResult'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2CEvaluationResult-method_+3A_object">object</code></td>
<td>
<p>An instance of the <code>EvaluationResult</code>-class</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;EvaluationResult\&quot;)&quot;)</dt><dd><p> Shows an <code>EvaluationResult</code> object. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='show+2CMarkovChain-method'>Shows a <code>MarkovChain</code> object</h2><span id='topic+show+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Shows a <code>MarkovChain</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MarkovChain'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2CMarkovChain-method_+3A_object">object</code></td>
<td>
<p>An instance of the <code>MarkovChain</code>-class</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> Shows an <code>MarkovChain</code> object. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='show+2CPattern-method'>Shows a <code>Pattern</code> object</h2><span id='topic+show+2CPattern-method'></span>

<h3>Description</h3>

<p>Shows a <code>Pattern</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Pattern'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2CPattern-method_+3A_object">object</code></td>
<td>
<p>An instance of the <code>Pattern</code>-class</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;Pattern\&quot;)&quot;)</dt><dd><p> Shows a <code>Pattern</code> object. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='states'>Returns All States</h2><span id='topic+states'></span><span id='topic+states+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Returns All States
</p>


<h3>Usage</h3>

<pre><code class='language-R'>states(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="states_+3A_object">object</code></td>
<td>
<p>An instance of the <code>MarkovChain</code>-class</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> Returns the name of all states of a <code>MarkovChain</code> object. </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='summary+2CMarkovChain-method'>Prints the Summary of a MarkovChain Object</h2><span id='topic+summary+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Prints the Summary of a MarkovChain Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MarkovChain'
summary(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary+2B2CMarkovChain-method_+3A_object">object</code></td>
<td>
<p>An instance of the <code>MarkovChain</code>-class</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>MarkovChainSummary</code> object.
</p>
<table role = "presentation">
<tr><td><code>list("desc")</code></td>
<td>
<p>A short description of the <code>MarkovChain</code> object.</p>
</td></tr>
<tr><td><code>list("observations")</code></td>
<td>
<p>The number of observations from which the
<code>MarkovChain</code> has been fitted.</p>
</td></tr> <tr><td><code>list("k")</code></td>
<td>
<p>The number of
estimation parameters.</p>
</td></tr> <tr><td><code>list("logLikelihood")</code></td>
<td>
<p>The maximal log-likelihood of
the <code>MarkovChain</code> estimation.</p>
</td></tr> <tr><td><code>list("aic")</code></td>
<td>
<p>Akaike's Information
Criterion for the <code>MarkovChain</code> object</p>
</td></tr> <tr><td><code>list("bic")</code></td>
<td>
<p>Bayesian
Information Criterion for the <code>MarkovChain</code> object</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> Generates a summary for a given <code>MarkovChain</code> object </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='summary.ClickstreamClusters'>Prints a Summary of a ClickstreamCluster Object</h2><span id='topic+summary.ClickstreamClusters'></span>

<h3>Description</h3>

<p>Prints a summary of a <code>ClickstreamCluster</code> object. A
<code>ClickstreamClusters</code> object represents the result of a cluster
analysis on a list of clickstreams (see <code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ClickstreamClusters'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.ClickstreamClusters_+3A_object">object</code></td>
<td>
<p>A <code>ClickstreamClusters</code> object returned by
<code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>.</p>
</td></tr>
<tr><td><code id="summary.ClickstreamClusters_+3A_...">...</code></td>
<td>
<p>Ignored parameters.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>,
<code><a href="#topic+print.ClickstreamClusters">print.ClickstreamClusters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
clusters &lt;- clusterClickstreams(cls, order = 0, centers = 2)
summary(clusters)

</code></pre>

<hr>
<h2 id='summary.Clickstreams'>Prints a Summary of a Clickstreams Object</h2><span id='topic+summary.Clickstreams'></span>

<h3>Description</h3>

<p>Prints a summary of a <code>Clickstreams</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Clickstreams'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.Clickstreams_+3A_object">object</code></td>
<td>
<p>A <code>Clickstreams</code> object (see <code><a href="#topic+readClickstreams">readClickstreams</a></code>).</p>
</td></tr>
<tr><td><code id="summary.Clickstreams_+3A_...">...</code></td>
<td>
<p>Ignored parameters.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readClickstreams">readClickstreams</a></code>, <code><a href="#topic+randomClickstreams">randomClickstreams</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
summary(cls)

</code></pre>

<hr>
<h2 id='transientStates'>Returns All Transient States</h2><span id='topic+transientStates'></span><span id='topic+transientStates+2CMarkovChain-method'></span>

<h3>Description</h3>

<p>Returns All Transient States
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transientStates(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transientStates_+3A_object">object</code></td>
<td>
<p>An instance of the <code>MarkovChain</code>-class</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt>list(&quot;signature(object = \&quot;MarkovChain\&quot;)&quot;)</dt><dd><p> Returns the names of all states that have a non-zero
probability that a user will never return to them (i.e. that are transient). </p>
</dd> </dl>



<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>

<hr>
<h2 id='writeClickstreams'>Writes a List of Clickstreams to File</h2><span id='topic+writeClickstreams'></span>

<h3>Description</h3>

<p>Writes a list of clickstream to a csv-file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeClickstreams(
  clickstreamList,
  file,
  header = TRUE,
  sep = ",",
  quote = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="writeClickstreams_+3A_clickstreamlist">clickstreamList</code></td>
<td>
<p>The list of clickstreams to be written.</p>
</td></tr>
<tr><td><code id="writeClickstreams_+3A_file">file</code></td>
<td>
<p>The name of the file which the clickstreams are written to.</p>
</td></tr>
<tr><td><code id="writeClickstreams_+3A_header">header</code></td>
<td>
<p>A logical flag indicating whether the name of each clickstream
element should be used as first element.</p>
</td></tr>
<tr><td><code id="writeClickstreams_+3A_sep">sep</code></td>
<td>
<p>The character used to separate clicks (default is &ldquo;,&rdquo;).</p>
</td></tr>
<tr><td><code id="writeClickstreams_+3A_quote">quote</code></td>
<td>
<p>A logical flag indicating whether each element of a clickstream
will be surrounded by double quotes (default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readClickstreams">readClickstreams</a></code>, <code><a href="#topic+clusterClickstreams">clusterClickstreams</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
clusters &lt;- clusterClickstreams(cls, order = 0, centers = 2)
writeClickstreams(cls, file = "clickstreams.csv", header = TRUE, sep = ",")

# Remove the clickstream file
unlink("clickstreams.csv")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

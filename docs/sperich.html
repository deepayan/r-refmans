<!DOCTYPE html><html><head><title>Help for package sperich</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sperich}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add.Edges'><p>Edge Creation</p></a></li>
<li><a href='#adjustment'><p>Adjustment of interpolated species richness</p></a></li>
<li><a href='#cclFun'><p>Connected Component Labeling</p></a></li>
<li><a href='#createHeightmask'><p>Height-Mask Creation</p></a></li>
<li><a href='#createImage'><p>Image Creation</p></a></li>
<li><a href='#createLandwatermask'><p>Land-Water-Mask Creation</p></a></li>
<li><a href='#createNonInterpolatedGrid'><p>Create a species occurrences grid with no interpolation</p></a></li>
<li><a href='#data.into.Grid'><p>Species occurrences to grid</p></a></li>
<li><a href='#dataset.all.species'><p>Angiosperm Dataset</p></a></li>
<li><a href='#dataset.height'><p>Height-Information Dataset</p></a></li>
<li><a href='#dataset.landwater'><p>Land-Water-Information Dataset</p></a></li>
<li><a href='#edgeNotValid'><p>Edge-Water-Test</p></a></li>
<li><a href='#evaluate'><p>Result grid evaluation</p></a></li>
<li><a href='#export_tif'><p>Export result grid as GeoTiff</p></a></li>
<li><a href='#extract.species'><p>Species Extraktion</p></a></li>
<li><a href='#fill.Areas'><p>Fill Algorithm</p></a></li>
<li><a href='#generate.subsamples'><p>Subsample Creation</p></a></li>
<li><a href='#getDimension'><p>getDimension</p></a></li>
<li><a href='#getDistance'><p>Distance between two points in a grid</p></a></li>
<li><a href='#getNarrowEndemics'><p>Narrow endemic species extraction</p></a></li>
<li><a href='#getOrigin'><p>Origin Koordinates</p></a></li>
<li><a href='#searchClusters'><p>Search clusters in the result grid of species richness estimation.</p></a></li>
<li><a href='#species.range'><p>Species range estimation</p></a></li>
<li><a href='#species.richness'><p>Species richness estimation</p></a></li>
<li><a href='#species.richness.cv'><p>Species richness cross-validation</p></a></li>
<li><a href='#species.richness.main'><p>Main Function for species richness estimation</p></a></li>
<li><a href='#species.richness.nonweighted'><p>Species richness estimation without weighting</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Auxiliary Functions to Estimate Centers of Biodiversity</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5-9</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-07-13</td>
</tr>
<tr>
<td>Author:</td>
<td>Maximilian Lange, Sven Lautenbach, Claudia Raedig</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Maximilian Lange &lt;maximilian-lange@t-online.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides some easy-to-use functions to interpolate species range based on species occurrences and to estimate centers of biodiversity.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>sp, foreach, methods, grDevices, graphics, raster, stats,
utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>lattice, RColorBrewer</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-13 12:21:23 UTC; langema</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-18 07:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add.Edges'>Edge Creation</h2><span id='topic+add.Edges'></span>

<h3>Description</h3>

<p>This function adds an edge between two points to a grid.</p>


<h3>Usage</h3>

<pre><code class='language-R'>add.Edges(grid,point.a, point.b)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add.Edges_+3A_grid">grid</code></td>
<td>
<p>A grid to which the edge should be added.</p>
</td></tr>
<tr><td><code id="add.Edges_+3A_point.a">point.a</code></td>
<td>
<p>A point in a grid given by its row and column.</p>
</td></tr>
<tr><td><code id="add.Edges_+3A_point.b">point.b</code></td>
<td>
<p>A point in a grid given by its row and column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function adds an edge between two points to a grid.</p>


<h3>Value</h3>

<p>The grid with new edge included.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##initialize data
m &lt;- matrix(0,10,10)
point.a &lt;- c(5,8)
point.b &lt;- c(10,3)

##calculate the distance of the two points
m &lt;- add.Edges(m,point.a,point.b)
image(m)
</code></pre>

<hr>
<h2 id='adjustment'>Adjustment of interpolated species richness</h2><span id='topic+adjustment'></span>

<h3>Description</h3>

<p>This routine adjusts the weighted species richness for sampling effort.</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjustment(species.richness, noninterpolatedgrid, clusterlist)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adjustment_+3A_species.richness">species.richness</code></td>
<td>
<p>The grid that should be adjusted. It contains the result of species richness estimation or cross-validation.</p>
</td></tr>
<tr><td><code id="adjustment_+3A_noninterpolatedgrid">noninterpolatedgrid</code></td>
<td>
<p>A grid containing the species occurrences (could be created via function 'createNonInterpolatedGrid').</p>
</td></tr>
<tr><td><code id="adjustment_+3A_clusterlist">clusterlist</code></td>
<td>
<p>A list of vectors of pixelpositions (created by 'searchClusters') which are spatial related.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine adjusts the interpolated species richness for sampling effort 
by incorporating an additional weighting factor. Therefor, it needs clusters 
of pixels of the result grid to find centers of species richness and to create these weighting factor. </p>


<h3>Value</h3>

<p>This function returns a grid containing the adjusted species richness information.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
					dimension, origin, resolution=1)

##estimate species richness
species.richness.weighted &lt;- species.richness(dataset.all.species, 
		landwatermask.nocoast, distances=1:5, weight=0.5, dimension, origin, resolution=1,
		upperbound=5, all.species=1:2)

##prepare adjustment
noninterpolatedgrid &lt;- createNonInterpolatedGrid(dataset.all.species, 
				dimension, origin, resolution=1, all.species=-1)
clusterlimit &lt;- 100

clusterlist &lt;- searchClusters(species.richness.weighted, 
		dimension, origin, resolution=1, clusterlimit)

##adjust species richness
species.richness.weighted.adjusted &lt;- adjustment(species.richness.weighted, 
		noninterpolatedgrid, clusterlist)
</code></pre>

<hr>
<h2 id='cclFun'>Connected Component Labeling</h2><span id='topic+cclFun'></span>

<h3>Description</h3>

<p>This routine identifies disjunct patches within a distribution matrix.</p>


<h3>Usage</h3>

<pre><code class='language-R'>cclFun(mat)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cclFun_+3A_mat">mat</code></td>
<td>
<p>Matrix with 0 as background value and positive values as occurrences to check patches for.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine identifies disjunct patches of positive values within a matrix containing zeros as background values.</p>


<h3>Value</h3>

<p>This function returns a matrix with zero as background value and positive values numbering and representing the disjunct patches.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange</p>


<h3>Examples</h3>

<pre><code class='language-R'>## example data
tmat = { matrix(c( 0,0,0,1,0,0,1,1,0,1,
                   0,0,1,0,1,0,0,0,0,0,
                   0,1,NA,1,0,1,0,0,0,1,
                   1,0,1,1,1,0,1,0,0,1,
                   0,1,0,1,0,1,0,0,0,1,
                   0,0,1,0,1,0,0,1,1,0,
                   1,0,0,1,0,0,1,0,0,1,
                   0,1,0,0,0,1,0,0,0,1,
                   0,0,1,1,1,0,0,0,0,1,
                   1,1,1,0,0,0,0,0,0,1),
		nr=10,byrow=TRUE) }

ccl.mat &lt;- cclFun(tmat)
</code></pre>

<hr>
<h2 id='createHeightmask'>Height-Mask Creation</h2><span id='topic+createHeightmask'></span>

<h3>Description</h3>

<p>This function creates a height-mask as a grid based on given dimension and coordinates.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createHeightmask(dataset.height, dimension, origin, resolution=1)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createHeightmask_+3A_dataset.height">dataset.height</code></td>
<td>
<p>A dataframe containing the longitude and lattitude of the grid 
cell location as 'long' and 'lat' and the height of the cell as 'height'.
If the value of 'dataset.height' is 'NULL', the returned grid contains 0 as 
height-information of every cell.</p>
</td></tr>
<tr><td><code id="createHeightmask_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="createHeightmask_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="createHeightmask_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine creates a height-mask as a grid. As Input a 
dataset with height-information is needed. The grid will 
be created with a given dimension.
</p>


<h3>Value</h3>

<p>This function returns a grid which contains the height information of the observed area.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.height)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create height-matrix
height.matrix &lt;- createHeightmask(dataset.height, dimension, origin, resolution=1)
</code></pre>

<hr>
<h2 id='createImage'>Image Creation</h2><span id='topic+createImage'></span>

<h3>Description</h3>

<p>This function creates a levelplot of the result-grid of species range estimation and saves it as a PNG-File.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createImage(grid, landwatermask, image.title, 
			directory, filename, origin, 
			parts=10, resolution=1)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createImage_+3A_grid">grid</code></td>
<td>
<p>The grid that should be plotted. It contains the weighted species richness information.</p>
</td></tr>
<tr><td><code id="createImage_+3A_landwatermask">landwatermask</code></td>
<td>
<p>A grid containing the land-water-information of the observed area. 
If a grid cell containes no land, the value of the cell in the 
landwatermask is -1, otherwise it is 0.</p>
</td></tr>
<tr><td><code id="createImage_+3A_image.title">image.title</code></td>
<td>
<p>The heading of the created image.</p>
</td></tr>
<tr><td><code id="createImage_+3A_directory">directory</code></td>
<td>
<p>The directory in which the image should be stored.</p>
</td></tr>
<tr><td><code id="createImage_+3A_filename">filename</code></td>
<td>
<p>The filename of the created PNG-File.</p>
</td></tr>
<tr><td><code id="createImage_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="createImage_+3A_parts">parts</code></td>
<td>
<p>An Integer value determining the number of divisions in the colorkey of the created image.</p>
</td></tr>
<tr><td><code id="createImage_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine creates a levelplot of the weighted 
species richness information and stores it as a PNG-File.
The package lattice is required.</p>


<h3>Value</h3>

<p>The return type is boolean. The value is TRUE if the image-creation 
was successful and FALSE if the image-creation has failed.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
						dimension, origin, resolution=1)

##estimate species richness
species.richness.weighted &lt;- species.richness(dataset.all.species, 
	landwatermask.nocoast, distances=1:5, weight=0.5, dimension, 
	origin, resolution=1, upperbound=3000, all.species=1:2)

##create image
## Not run: 
image.success &lt;- createImage(species.richness.weighted, landwatermask.nocoast, 
	    image.title="Test", directory=getwd(), filename="species.richness.test01.png", 
	    origin, parts=10, resolution=1)
print(image.success)

## End(Not run)
</code></pre>

<hr>
<h2 id='createLandwatermask'>Land-Water-Mask Creation</h2><span id='topic+createLandwatermask'></span>

<h3>Description</h3>

<p>This function creates a land-water-mask as a grid based on given dimension and coordinates.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createLandwatermask(dataset.landwater, dimension, origin, resolution=1)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createLandwatermask_+3A_dataset.landwater">dataset.landwater</code></td>
<td>
<p>A dataset containing the percentage of land on 
a cell of a grid. The coordinates of the cell should be given as 
longitude (named: long) and lattude (named: lat) and the percentage 
of land shoud be named landsum. If the value of 'dataset.landwater' 
is 'NULL', a grid containing only land-cells will be created.</p>
</td></tr>
<tr><td><code id="createLandwatermask_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="createLandwatermask_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="createLandwatermask_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine creates a land-water-mask as a grid. As Input a 
dataset with land-water-information is needed. The grid will 
be created with a given dimension. </p>


<h3>Value</h3>

<p>This function returns a grid which contains the land-water information of the observed area. 
The value of cells containing land is 0, the value of water-cells is -1.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
					dimension, origin, resolution=1)
</code></pre>

<hr>
<h2 id='createNonInterpolatedGrid'>Create a species occurrences grid with no interpolation</h2><span id='topic+createNonInterpolatedGrid'></span>

<h3>Description</h3>

<p>This routine creates a grid containing the species occurrences.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createNonInterpolatedGrid(dataset.all.species, dimension, 
			origin, resolution=1, all.species=-1)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createNonInterpolatedGrid_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing all observed species with their ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="createNonInterpolatedGrid_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="createNonInterpolatedGrid_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="createNonInterpolatedGrid_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="createNonInterpolatedGrid_+3A_all.species">all.species</code></td>
<td>
<p>The vector with the numbers of the species which should be mentioned. If the first value is -1, 
all species in the database will be added to the grid.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine creates a grid and adds all species mentioned in 'all.species' to it.</p>


<h3>Value</h3>

<p>A grid containing the species occurrences without interpolation.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)
resolution &lt;- 1
all.species &lt;- -1

##create grid containing species occurrences
species.occurrences &lt;- createNonInterpolatedGrid(dataset.all.species, 
				dimension, origin, resolution, all.species)
</code></pre>

<hr>
<h2 id='data.into.Grid'>Species occurrences to grid</h2><span id='topic+data.into.Grid'></span>

<h3>Description</h3>

<p>This function adds the species occurrence data to a new grid with given dimension, shift and resolution.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.into.Grid(dataset.one.species, dimension, origin, resolution=1)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.into.Grid_+3A_dataset.one.species">dataset.one.species</code></td>
<td>
<p>A dataset containing one species with its ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of the occurrence locations of that species.</p>
</td></tr>
<tr><td><code id="data.into.Grid_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="data.into.Grid_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="data.into.Grid_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine adds the species occurrence data to the grid through 
adding their location as a point into it.
</p>


<h3>Value</h3>

<p>This function returns a grid which contains the species occurrence information.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

#extract datasets of one species out of database
dataset.one.species &lt;- extract.species(dataset.all.species, 3)

##add species occurrence information to grid
grid &lt;- data.into.Grid(dataset.one.species, dimension, origin, resolution=1)
</code></pre>

<hr>
<h2 id='dataset.all.species'>Angiosperm Dataset</h2><span id='topic+dataset.all.species'></span>

<h3>Description</h3>

<p>This data set gives an example of angiosperm species and their occurrence in southern america.
</p>


<h3>Format</h3>

<p>A dataframe containing the longitude and lattitude of the occurrence location as 'long' and 'lat' and the species ID as 'speciesID'.</p>


<h3>Source</h3>

<p>Angiosperm Database</p>


<h3>References</h3>

<p>Morawetz, W. and Raedig, C. (2007). Angiosperm biodiversity, endemism and conservation in the Neotropics. Taxon 56:1245-1254.
</p>

<hr>
<h2 id='dataset.height'>Height-Information Dataset</h2><span id='topic+dataset.height'></span>

<h3>Description</h3>

<p>This data set containes the height of 1 degree grid cells of southern america.
</p>


<h3>Format</h3>

<p>A dataframe containing the longitude and lattitude of the grid cell location as 'long' and 'lat' and the height of the cell as 'height'.</p>

<hr>
<h2 id='dataset.landwater'>Land-Water-Information Dataset</h2><span id='topic+dataset.landwater'></span>

<h3>Description</h3>

<p>This data set containes the percentage of land/water of 1 degree grid cells of southern america.
</p>


<h3>Format</h3>

<p>A dataframe containing the longitude and lattitude of the grid cell location as 'long' and 'lat' and the percentage of land/water as landsum.</p>

<hr>
<h2 id='edgeNotValid'>Edge-Water-Test</h2><span id='topic+edgeNotValid'></span>

<h3>Description</h3>

<p>This function checks if an edge would cross a water or mountain surface.</p>


<h3>Usage</h3>

<pre><code class='language-R'>edgeNotValid(grid,point.a, point.b, landwatermask, upperbound)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edgeNotValid_+3A_grid">grid</code></td>
<td>
<p>A grid to which the edge should be added if it hits no water or mountain surfaces.</p>
</td></tr>
<tr><td><code id="edgeNotValid_+3A_point.a">point.a</code></td>
<td>
<p>A point in a grid given by its row and column.</p>
</td></tr>
<tr><td><code id="edgeNotValid_+3A_point.b">point.b</code></td>
<td>
<p>A point in a grid given by its row and column.</p>
</td></tr>
<tr><td><code id="edgeNotValid_+3A_landwatermask">landwatermask</code></td>
<td>
<p>A grid containing the land-water-information of the observed area. 
If a grid cell containes no land, the value of the cell in the 
landwatermask is -1, otherwise it is 0. Additional, height-informations could 
be added for land surfaces. In this case, take care of the 'upperbound' value.</p>
</td></tr>
<tr><td><code id="edgeNotValid_+3A_upperbound">upperbound</code></td>
<td>
<p>This value determines the height (based on values in 'landwatermask') 
which is considered to be a barrier for species distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function checks if an edge would cross a water or mountain surface.</p>


<h3>Value</h3>

<p>A boolean value which determines if the edge would cross a water or mountain surface.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##initialize variables
distance &lt;- 5

##create grid parameters
dimension &lt;- getDimension(dataset.all.species)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, dimension, origin)

##extract datasets of one species out of database
dataset.one.species &lt;- extract.species(dataset.all.species, 3)

##create grid
grid &lt;- matrix(0,dimension[1],dimension[2])

##add points
grid &lt;- data.into.Grid(dataset.one.species, dimension, origin)

##points to list
points &lt;- which(grid &gt; 0)
points.xy &lt;- list()
for (i in 1:length(points)){
	points.xy[[i]] &lt;- c(ifelse((points[i] %% dimension[1]) == 0, dimension[1], 
			points[i] %% dimension[1]), ceiling(points[i]/dimension[1]))
}

##Edge-Water-Test
check &lt;- edgeNotValid(grid, points.xy[[1]],points.xy[[2]], 
			landwatermask.nocoast, 1000)
print(check)
</code></pre>

<hr>
<h2 id='evaluate'>Result grid evaluation</h2><span id='topic+evaluate'></span>

<h3>Description</h3>

<p>This function evaluates the result grids of species richness estimation.</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluate(result.grid.one, result.grid.two, 
		title.one="Histogramm of species richness", 
		title.two="Histogramm of species richness", xmax=400, ymax=1000,
		directory=getwd(), filename="histogramm.png")</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evaluate_+3A_result.grid.one">result.grid.one</code></td>
<td>
<p>A result grid of species richness estimation. If the value is 'NULL', the grid is ignored 
and only the other grid will be included in the resulting png-file.</p>
</td></tr>
<tr><td><code id="evaluate_+3A_result.grid.two">result.grid.two</code></td>
<td>
<p>A result grid of species richness estimation. If the value is 'NULL', the grid is ignored 
and only the other grid will be included in the resulting png-file.</p>
</td></tr>
<tr><td><code id="evaluate_+3A_title.one">title.one</code></td>
<td>
<p>The title for the histogramm of the first grid ('result.grid.one').</p>
</td></tr>
<tr><td><code id="evaluate_+3A_title.two">title.two</code></td>
<td>
<p>The title for the histogramm of the second grid ('result.grid.two').</p>
</td></tr>
<tr><td><code id="evaluate_+3A_xmax">xmax</code></td>
<td>
<p>The maximum value of the abscissa respectively the maximum number of species in the grid.</p>
</td></tr>
<tr><td><code id="evaluate_+3A_ymax">ymax</code></td>
<td>
<p>The maximum value of the ordinate respectively the maximum frequency shown in the histogramm.</p>
</td></tr>
<tr><td><code id="evaluate_+3A_directory">directory</code></td>
<td>
<p>The directory the png-file is created in.</p>
</td></tr>
<tr><td><code id="evaluate_+3A_filename">filename</code></td>
<td>
<p>The name of the created png-file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine evaluates the result grids of a species richness estimation (details in Raedig et al. 2010).
It creates one or two histogramms (depending on input) of the species occurrences with additional information about the 
total number of species of the grid and other statistic scores. 
It is possible to create on png-file for every result grid or to compare two result-grids in one png-file, 
depending on how many grids are defined as input.
</p>


<h3>Value</h3>

<p>This function creates a png-file with one or two histogramms (depending on input) and additional statistic informations.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load data
data(dataset.all.species)
data(dataset.landwater)

#create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

#create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater,
dimension, origin, resolution=1)

#estimate species richness
species.richness.weighted &lt;- species.richness(dataset.all.species,
landwatermask.nocoast, distances=1:5, weight=0.5, dimension,
origin, resolution=1, upperbound=3000, all.species=1:2)

#evaluation
## Not run: 
evaluate(species.richness.weighted, NULL, title.one="Histogramm 1")

## End(Not run)
</code></pre>

<hr>
<h2 id='export_tif'>Export result grid as GeoTiff</h2><span id='topic+export_tif'></span>

<h3>Description</h3>

<p>This function exports the result grid as a GeoTiff.</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_tif(grid, origin, resolution, epsg_code, directory=getwd(), 
		filename="grid.tif")</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_tif_+3A_grid">grid</code></td>
<td>
<p>The grid that should be exported.</p>
</td></tr>
<tr><td><code id="export_tif_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="export_tif_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="export_tif_+3A_epsg_code">epsg_code</code></td>
<td>
<p>The epsg_code of the origin coordines. Defauls to 4326.</p>
</td></tr>
<tr><td><code id="export_tif_+3A_directory">directory</code></td>
<td>
<p>The directory in which the file will be created.</p>
</td></tr>
<tr><td><code id="export_tif_+3A_filename">filename</code></td>
<td>
<p>The name of the created GeoTiff-file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine exports a grid as a GeoTiff-file.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
						dimension, origin, resolution=1)

##estimate species richness
species.richness.weighted &lt;- species.richness(dataset.all.species,
	landwatermask.nocoast, distances=1:5, weight=0.5, dimension,
	origin, resolution=1, upperbound=3000, all.species=1:2)

##export
## Not run:  
export_tif(species.richness.weighted, origin, resolution=1, epsg_code="4326",
	    directory=getwd(), filename="species.richness.tif")

## End(Not run)
</code></pre>

<hr>
<h2 id='extract.species'>Species Extraktion</h2><span id='topic+extract.species'></span>

<h3>Description</h3>

<p>This function extracts the datasets of one species out of a database filled with species and their occurrence locations.</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract.species(dataset.all.species, species.number)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract.species_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing all observed species with their ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="extract.species_+3A_species.number">species.number</code></td>
<td>
<p>The number of the species which should be extracted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extracts the datasets of one species out of a database 
filled with species (named by their speciesID) and their occurrence 
locations mentioned with lattitude (named lat) and longitude (named long).
</p>


<h3>Value</h3>

<p>This function returns a dataset which contains the species occurrence locations.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)

#extract datasets of one species (with speciesID=3) out of database
dataset.one.species &lt;- extract.species(dataset.all.species, 3)
</code></pre>

<hr>
<h2 id='fill.Areas'>Fill Algorithm</h2><span id='topic+fill.Areas'></span>

<h3>Description</h3>

<p>This function fills all bounded areas in a grid.</p>


<h3>Usage</h3>

<pre><code class='language-R'>fill.Areas(grid, landwatermask)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fill.Areas_+3A_grid">grid</code></td>
<td>
<p>A grid in which the areas should be filled. Cells with values greater than zero 
represent the bounds, cells with values lower or equal zero will be filled with 
value 1 if they are bounded.</p>
</td></tr>
<tr><td><code id="fill.Areas_+3A_landwatermask">landwatermask</code></td>
<td>
<p>A grid containing the land-water-information of the observed area. 
If a grid cell containes no land, the value of the cell in the 
landwatermask is -1, otherwise it is 0. Cells with negative values will not be filled.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function fills all bounded areas in a grid.</p>


<h3>Value</h3>

<p>The grid with filled areas.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##initialize data
m &lt;- matrix(0,10,10)
m[2:8,2] &lt;- 1
m[2:8,8] &lt;- 1
m[2,2:8] &lt;- 1
m[8,2:8] &lt;- 1

##initialize mask (in this case: empty mask)
mask &lt;- matrix(0,10,10)

##calculate the distance of the two points
m &lt;- fill.Areas(m, mask)
image(m)
</code></pre>

<hr>
<h2 id='generate.subsamples'>Subsample Creation</h2><span id='topic+generate.subsamples'></span>

<h3>Description</h3>

<p>A function that creates an array of subsamples of a dataset.</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate.subsamples(number.of.occurrences, fold, loocv.limit)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate.subsamples_+3A_number.of.occurrences">number.of.occurrences</code></td>
<td>
<p>The number of occurrences of the species.</p>
</td></tr>
<tr><td><code id="generate.subsamples_+3A_fold">fold</code></td>
<td>
<p>The number of groups which should be created if the number of occurrences is greater than loocv.limit.</p>
</td></tr>
<tr><td><code id="generate.subsamples_+3A_loocv.limit">loocv.limit</code></td>
<td>
<p>The limit below which the subsamples are created for a leave-one-out-cross-validation instead of a k-fold-cross-validation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine creates subsamples of species occurrences based on the number of 
occurrences of the chosen species and the number of groups which should be created.
If the number of occurrences of the chosen species is below the loocv.limit, 
the groups contain only one member and the fold value will be ignored. The subsamples 
can be used for a k-fold or leave-one-out-cross-validation.
</p>


<h3>Value</h3>

<p>This function returns a grid which contains the subsamples.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>subsamples &lt;- generate.subsamples(15,3,5)
</code></pre>

<hr>
<h2 id='getDimension'>getDimension</h2><span id='topic+getDimension'></span>

<h3>Description</h3>

<p>This function calculates the dimension of the grid which should be used for a species richness estimation.</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDimension(dataset.all.species, resolution=1)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDimension_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing all observed species with their ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="getDimension_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the dimension of the grid which 	
should be used for a species richness estimation on a given 
database of species occurrence locations.
</p>


<h3>Value</h3>

<p>The dimension which is needed to create a grid used 
for a species richness estimation on a given database 
of species occurrence locations.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)

#extract dimension out of the database
dimension &lt;- getDimension(dataset.all.species, resolution=1)
print(dimension)
</code></pre>

<hr>
<h2 id='getDistance'>Distance between two points in a grid</h2><span id='topic+getDistance'></span>

<h3>Description</h3>

<p>This function calculates the distance of two points in a grid.</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDistance(point.a, point.b, resolution=1)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDistance_+3A_point.a">point.a</code></td>
<td>
<p>A point in a grid given by its row and column.</p>
</td></tr>
<tr><td><code id="getDistance_+3A_point.b">point.b</code></td>
<td>
<p>A point in a grid given by its row and column.</p>
</td></tr>
<tr><td><code id="getDistance_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the distance of two points in a grid by the Pythagorean theorem.</p>


<h3>Value</h3>

<p>The distance of the two points as an numeric value based on geographical degrees.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##initialize data
point.a &lt;- c(5,8)
point.b &lt;- c(10,3)

##calculate the distance of the two points
distance &lt;- getDistance(point.a,point.b, resolution=1)
print(distance)
</code></pre>

<hr>
<h2 id='getNarrowEndemics'>Narrow endemic species extraction</h2><span id='topic+getNarrowEndemics'></span>

<h3>Description</h3>

<p>This function extracts the row number of narrow endemic species in the given dataset.</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNarrowEndemics(dataset.all.species, all.species, 
			narrow.endemic.limit, dimension, origin, 
			resolution)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNarrowEndemics_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing all observed species with their ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="getNarrowEndemics_+3A_all.species">all.species</code></td>
<td>
<p>A vector with the numbers of the species which should be mentioned. If the first value is -1, 
all species in the database will be used.</p>
</td></tr>
<tr><td><code id="getNarrowEndemics_+3A_narrow.endemic.limit">narrow.endemic.limit</code></td>
<td>
<p>This value determines the limit of points and the maximum distance of these points up to 
which a species is considered as narrow endemic species.</p>
</td></tr>
<tr><td><code id="getNarrowEndemics_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the grid which should be processed.</p>
</td></tr>
<tr><td><code id="getNarrowEndemics_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid which should be processed.</p>
</td></tr>
<tr><td><code id="getNarrowEndemics_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid which should be processed in (geographical) degree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extracts the row numbers of narrow endemic species in the given datasets.</p>


<h3>Value</h3>

<p>This function returns a vector containing the row numbers of narrow endemic species in the given dataset.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Claudia Raedig</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data(dataset.all.species)

## create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

## search narrow endemic species in row 100 to 200 in the dataset
narrow.endemic.species &lt;- getNarrowEndemics(dataset.all.species,
				all.species=100:200, narrow.endemic.limit=8,
				dimension, origin, resolution=1)
</code></pre>

<hr>
<h2 id='getOrigin'>Origin Koordinates</h2><span id='topic+getOrigin'></span>

<h3>Description</h3>

<p>This function calculates the origin of the grid used for a species richness estimation.</p>


<h3>Usage</h3>

<pre><code class='language-R'>getOrigin(dataset.all.species)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getOrigin_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing all observed species with their ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the coordinates of the origin of the grid which 
should be used for a species richness estimation.
</p>


<h3>Value</h3>

<p>The coordinates of the origin of the grid used for species richness estimation.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)

#extract coordinates of origin out of database
origin &lt;- getOrigin(dataset.all.species)
print(origin)
</code></pre>

<hr>
<h2 id='searchClusters'>Search clusters in the result grid of species richness estimation.</h2><span id='topic+searchClusters'></span>

<h3>Description</h3>

<p>This routine searches clusters in the result grid of species richness estimation.</p>


<h3>Usage</h3>

<pre><code class='language-R'>searchClusters(species.richness, dimension, origin, resolution, clusterlimit)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="searchClusters_+3A_species.richness">species.richness</code></td>
<td>
<p>The grid that should be adjusted. It contains the result of species richness estimation or cross-validation.</p>
</td></tr>
<tr><td><code id="searchClusters_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="searchClusters_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="searchClusters_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="searchClusters_+3A_clusterlimit">clusterlimit</code></td>
<td>
<p>The limit under which values of 'species.richness' should not be used to build clusters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine searches clusters in the result grid of species richness estimation to find centers of species richness.</p>


<h3>Value</h3>

<p>This function returns a list containing vectors of the position of pixels which belong together.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
				dimension, origin, resolution=1)

##estimate species richness
species.richness.weighted &lt;- species.richness(dataset.all.species,
landwatermask.nocoast, distances=1:5, weight=0.5, dimension,
origin, resolution=1, upperbound=3000, all.species=1:2)

##prepare clustersearch
clusterlimit &lt;- 100

##adjust species richness
clusterlist &lt;- searchClusters(species.richness.weighted, 
		dimension, origin, resolution=1, clusterlimit)
</code></pre>

<hr>
<h2 id='species.range'>Species range estimation</h2><span id='topic+species.range'></span>

<h3>Description</h3>

<p>This function estimates the species range based on given occurrences of one species.</p>


<h3>Usage</h3>

<pre><code class='language-R'>species.range(dataset.one.species, distance, dimension, origin, 
	resolution=1, landwatermask, upperbound, cross.validation=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="species.range_+3A_dataset.one.species">dataset.one.species</code></td>
<td>
<p>A dataset containing one species with its ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of the occurrence locations of that species.</p>
</td></tr>
<tr><td><code id="species.range_+3A_landwatermask">landwatermask</code></td>
<td>
<p>A grid containing the land-water-information of the observed area. 
If a grid cell containes no land, the value of the cell in the 
landwatermask is -1, otherwise it is 0. Additional, height-informations could 
be added for land surfaces. In this case, take care of the 'upperbound' value.</p>
</td></tr>
<tr><td><code id="species.range_+3A_distance">distance</code></td>
<td>
<p>The maximum distance in which two occurrences are considered as related occurrences. 
These two occurrences will be connected with an edge.</p>
</td></tr>
<tr><td><code id="species.range_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="species.range_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="species.range_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="species.range_+3A_upperbound">upperbound</code></td>
<td>
<p>This value determines the height (based on values in 'landwatermask') 
which is considered to be a barrier for species distribution.</p>
</td></tr>
<tr><td><code id="species.range_+3A_cross.validation">cross.validation</code></td>
<td>
<p>A logical value determining wether a cross-validation is performed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine estimates the species range based on given occurrences of one species through 
a geometric interpolation model (details in Raedig et al. 2010).
</p>


<h3>Value</h3>

<p>This function returns a grid which contains the species range information.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
					dimension, origin, resolution=1)

##extract datasets of one species out of database
dataset.one.species &lt;- extract.species(dataset.all.species, 3)

##estimate species range
species.range.tmp &lt;- species.range(dataset.one.species, distance=5, 
		dimension, origin, resolution=1, landwatermask.nocoast)
</code></pre>

<hr>
<h2 id='species.richness'>Species richness estimation</h2><span id='topic+species.richness'></span>

<h3>Description</h3>

<p>This function estimates the species richness based on given species occurrences.</p>


<h3>Usage</h3>

<pre><code class='language-R'>species.richness(dataset.all.species, landwatermask, 
	distances=2:10, weight=0.5, dimension, origin, resolution=1,
	upperbound, all.species=-1, silent=TRUE, do.parallel=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="species.richness_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing the species with their ID 
(named: speciesID)and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_landwatermask">landwatermask</code></td>
<td>
<p>A grid containing the land-water-information of the observed area. 
If a grid cell containes no land, the value of the cell in the 
landwatermask is -1, otherwise it is 0. Additional, height-informations could 
be added for land surfaces. In this case, take care of the 'upperbound' value.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_distances">distances</code></td>
<td>
<p>The distances which will be used for species range estimation.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_weight">weight</code></td>
<td>
<p>The tuning parameter of the weighting procedure (details in Raedig et al. 2010).</p>
</td></tr>
<tr><td><code id="species.richness_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_upperbound">upperbound</code></td>
<td>
<p>This value determines the height (based on values in 'landwatermask') 
which is considered to be a barrier for species distribution.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_all.species">all.species</code></td>
<td>
<p>The vector with the numbers of the species which should be mentioned. If the first value is -1, 
all species in the database will be used for species richness estimation.</p>
</td></tr>
<tr><td><code id="species.richness_+3A_silent">silent</code></td>
<td>
<p>A boolean flag that determines wether the report of status messages should be suppressed or not. </p>
</td></tr>
<tr><td><code id="species.richness_+3A_do.parallel">do.parallel</code></td>
<td>
<p>A boolean flag determining wether the function uses the 'foreach'-package to estimate species richness via parallel processing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine estimates the species richness based on given species occurrences through 
a geometric interpolation model (details in Raedig et al. 2010).
</p>


<h3>Value</h3>

<p>This function returns a grid which contains the weighted 
species richness information.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach, Claudia Raedig</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
				dimension, origin, resolution=1)

##estimate species richness
species.richness.weighted &lt;- species.richness(dataset.all.species, 
		landwatermask.nocoast, distances=1:5, weight=0.5, dimension, 
		origin, resolution=1, upperbound=5, all.species=1:2, silent=TRUE)
</code></pre>

<hr>
<h2 id='species.richness.cv'>Species richness cross-validation</h2><span id='topic+species.richness.cv'></span>

<h3>Description</h3>

<p>This function cross-validates the species richness based on given species occurrences.</p>


<h3>Usage</h3>

<pre><code class='language-R'>species.richness.cv(dataset.all.species, landwatermask, fold=5, 
	loocv.limit=10, distances=3:10, weight=0.5, dimension, origin, 
	resolution=1, upperbound, all.species=-1, 
	silent=TRUE, do.parallel=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="species.richness.cv_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing the species with their ID 
(named: speciesID)and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_landwatermask">landwatermask</code></td>
<td>
<p>A grid containing the land-water-information of the observed area. 
If a grid cell containes no land, the value of the cell in the 
landwatermask is -1, otherwise it is 0. Additional, height-informations could 
be added for land surfaces. In this case, take care of the 'upperbound' value.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_fold">fold</code></td>
<td>
<p>The number of groups which should be created if the number of occurrences is greater than loocv.limit.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_loocv.limit">loocv.limit</code></td>
<td>
<p>The limit below which the subsamples are created for a leave-one-out-cross-validation instead of a k-fold-cross-validation.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_distances">distances</code></td>
<td>
<p>The distances which will be used for species range estimation.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_weight">weight</code></td>
<td>
<p>The tuning parameter of the weighting procedure (details in Raedig et al. 2010).</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_upperbound">upperbound</code></td>
<td>
<p>This value determines the height (based on values in 'landwatermask') 
which is considered to be a barrier for species distribution.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_all.species">all.species</code></td>
<td>
<p>The vector with the numbers of the species which should be mentioned. If the first value is -1, 
all species in the database will be used for species richness estimation.</p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_silent">silent</code></td>
<td>
<p>A boolean flag that determines wether the report of status messages should be suppressed or not. </p>
</td></tr>
<tr><td><code id="species.richness.cv_+3A_do.parallel">do.parallel</code></td>
<td>
<p>A boolean flag determining wether the function uses the 'foreach'-package to cross-validate via parallel processing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine cross-validates the species richness based on given species occurrences through 
a geometric interpolation model (details in Raedig et al. 2010).
</p>


<h3>Value</h3>

<p>This function returns a grid which contains the cross-validated 
species richness information.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach, Claudia Raedig</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
				dimension, origin, resolution=1)

##estimate species richness
species.richness.weighted &lt;- species.richness.cv(dataset.all.species, 
		landwatermask.nocoast, fold=5, loocv.limit=10, distances=2:5, 
		weight=0.5, dimension, origin, resolution=1, upperbound=5, 
		all.species=1:2)
</code></pre>

<hr>
<h2 id='species.richness.main'>Main Function for species richness estimation</h2><span id='topic+species.richness.main'></span>

<h3>Description</h3>

<p>The main function to estimate or cross-validate the species richness based on given species occurrences.</p>


<h3>Usage</h3>

<pre><code class='language-R'>species.richness.main(dataset.all.species, dataset.landwater, 
	dataset.height, distances=1:10, weight=0.5, resolution=1,
	narrow.endemic=FALSE, narrow.endemic.limit=5, upperbound=5, 
	cross.validation=FALSE, fold=5, loocv.limit=10, 
	create.image=FALSE, image.title="Interpolated Species Richness", 
	directory=getwd(), filename="species.richness.png", 
	evaluation=FALSE, eval.title="Histogramm", adjust=FALSE, 
	clusterlimit=100, predefinedClusterlist=NULL, all.species=-1, 
	export=FALSE, exportname="species.richness.tif", 
	noninterpolatedgrid=NULL, silent=TRUE, do.parallel=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="species.richness.main_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing all observed species with their ID 
(named: speciesID) and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_dataset.landwater">dataset.landwater</code></td>
<td>
<p>A dataset containing the percentage of land on 
a cell of a grid. The coordinates
of the cell should be given as longitude (named: long) and 
lattude (named: lat) and the percentage of land shoud be named landsum. 
If the value of 'dataset.landwater' is 'NULL', the land-water-information 
has no effect on the species richness estimation.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_dataset.height">dataset.height</code></td>
<td>
<p>A dataset containing the longitude and lattitude of the grid cell location 
as 'long' and 'lat' and the height of the cell as 'height'. If the value of 
'dataset.height' is 'NULL', the height-information has no effect on the 
species richness estimation.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_distances">distances</code></td>
<td>
<p>The distances used for species range estimation or cross validation.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_weight">weight</code></td>
<td>
<p>The tuning parameter of the weighting procedure (details in Raedig et al. 2010).</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_narrow.endemic">narrow.endemic</code></td>
<td>
<p>A boolean flag that determines if only narrow endemic species 
should be considered in species richness estimation.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_narrow.endemic.limit">narrow.endemic.limit</code></td>
<td>
<p>This value determines the limit of points and the maximum distance of these points up to 
which a species is considered as narrow endemic species.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_upperbound">upperbound</code></td>
<td>
<p>This value determines the height which is considered to be a barrier for species distribution.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_cross.validation">cross.validation</code></td>
<td>
<p>A logical value determining wether a cross-validation is performed. If the value is true, 
the parameters narrow.endemic and narrow.endemic.limit will be ignored.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_fold">fold</code></td>
<td>
<p>The number of groups which should be created if the number of occurrences is greater than loocv.limit.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_loocv.limit">loocv.limit</code></td>
<td>
<p>The limit below which the subsamples are created for a leave-one-out-cross-validation instead of a k-fold-cross-validation.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_create.image">create.image</code></td>
<td>
<p>A boolean flag that determines if an image (PNG-File) is created.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_image.title">image.title</code></td>
<td>
<p>The heading of the created image.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_directory">directory</code></td>
<td>
<p>The directory in which the created files should be stored.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_filename">filename</code></td>
<td>
<p>The filename of the created PNG-Files.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_evaluation">evaluation</code></td>
<td>
<p>A boolean value determining wether the routine 'evaluate' is used or not. If the value is true, a PNG-File with a histogramm of the result grid will be created.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_eval.title">eval.title</code></td>
<td>
<p>The heading of the created histogramm.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_adjust">adjust</code></td>
<td>
<p>A boolean value determining wether an adjustment of the result grid should be done or not.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_clusterlimit">clusterlimit</code></td>
<td>
<p>The limit below values of 'species.richness' should not be used to build clusters. 
Each cluster will be adjusted with an own centre of species richness.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_predefinedclusterlist">predefinedClusterlist</code></td>
<td>
<p>A list of vectors of pixelpositions (created by 'searchClusters') which are spatial related. 
The default value is NULL because the list will be created if 'adjust' is 'TRUE', 
but it may be useful for robustness estimation, because the cross-validation result should be 
adjusted with the same clusterlist as the related species richness estimation 
(and without a pre-defined clusterlist, other clusters will be build).</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_all.species">all.species</code></td>
<td>
<p>A vector with the identification numbers of the considered species. If the first value is -1, 
all species in the database will be used.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_export">export</code></td>
<td>
<p>A boolean value that determines if the routine should export the results as GeoTiff.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_exportname">exportname</code></td>
<td>
<p>The name of the created GeoTiff-file.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_noninterpolatedgrid">noninterpolatedgrid</code></td>
<td>
<p>A grid containing the species occurrences (could be created via function 'createNonInterpolatedGrid').
If the value of this parameter is 'NULL', it will be created if an adjustment should be done. 
The parameter may be usefull to save time while processing more than one 'species.richness.main'.</p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_silent">silent</code></td>
<td>
<p>A boolean flag that determines wether the report of status messages should be suppressed or not. </p>
</td></tr>
<tr><td><code id="species.richness.main_+3A_do.parallel">do.parallel</code></td>
<td>
<p>A boolean flag determining wether the function uses the 'foreach'-package to process in parallel.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine is the main function of this package. It either estimates or 
cross-validates the species richness based on given species occurrences using 
a geometric interpolation model (details in Raedig et al. 2010).
</p>


<h3>Value</h3>

<p>This function returns a grid which contains either the weighted or the 
cross-validated species richness information. Additionally, an 
image (PNG-File) of that grid can be created.
</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)
data(dataset.height)

##estimate species richness
species.richness.weighted &lt;- species.richness.main(dataset.all.species, 	
	    dataset.landwater, dataset.height, distances=1:5, weight=0.5, 
	    resolution=1, narrow.endemic=FALSE, narrow.endemic.limit=5, 
	    upperbound=5, cross.validation=FALSE, fold=5, loocv.limit=10, 
	    create.image=FALSE, directory=getwd(), filename="species.richness.png", 
	    all.species=1:2, export=FALSE)
</code></pre>

<hr>
<h2 id='species.richness.nonweighted'>Species richness estimation without weighting</h2><span id='topic+species.richness.nonweighted'></span>

<h3>Description</h3>

<p>This function estimates the species richness for a given distance based on given species occurrences without using weighting factor.</p>


<h3>Usage</h3>

<pre><code class='language-R'>species.richness.nonweighted(dataset.all.species, landwatermask, 
	distance=10, dimension, origin, resolution=1,
	upperbound, all.species=-1, silent=TRUE,
	do.parallel=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="species.richness.nonweighted_+3A_dataset.all.species">dataset.all.species</code></td>
<td>
<p>A dataset containing the species with their ID 
(named: speciesID)and the longitude (named: long) and 
latitude (named: lat) of their occurrence location.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_landwatermask">landwatermask</code></td>
<td>
<p>A grid containing the land-water-information of the observed area. 
If a grid cell containes no land, the value of the cell in the 
landwatermask is -1, otherwise it is 0. Additional, height-informations could 
be added for land surfaces. In this case, take care of the 'upperbound' value.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_distance">distance</code></td>
<td>
<p>The distance which will be used for species range estimation.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_dimension">dimension</code></td>
<td>
<p>The dimension of the processed grid.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_origin">origin</code></td>
<td>
<p>The geographic coordinates of the origin of the grid.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_resolution">resolution</code></td>
<td>
<p>The resolution of the grid in (geographical) degree.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_upperbound">upperbound</code></td>
<td>
<p>This value determines the height (based on values in 'landwatermask') 
which is considered to be a barrier for species distribution.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_all.species">all.species</code></td>
<td>
<p>The vector with the numbers of the species which should be mentioned. If the first value is -1, 
all species in the database will be used for species richness estimation.</p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_silent">silent</code></td>
<td>
<p>A boolean flag that determines wether the report of status messages should be suppressed or not. </p>
</td></tr>
<tr><td><code id="species.richness.nonweighted_+3A_do.parallel">do.parallel</code></td>
<td>
<p>A boolean flag determining wether the function uses the 'foreach'-package to estimate species richness via parallel processing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This routine estimates the species richness for a given distance (without weighted summation) based on given species occurrences through 
a geometric interpolation model (details in Raedig et al. 2010).
</p>


<h3>Value</h3>

<p>This function returns a grid which contains the species richness information for a given distance.</p>


<h3>Author(s)</h3>

<p>Maximilian Lange, Sven Lautenbach</p>


<h3>References</h3>

<p>Raedig, C., Dorman, C.F., Hildebrandt, A. and Lautenbach, S. (2010). 
Reassessing Neotropical angiosperm distribution patterns based on 
monographic data: a geometric interpolation approach. Biodivers Conserv, 19, 1523-1546.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##load data
data(dataset.all.species)
data(dataset.landwater)

##create grid parameters
dimension &lt;- getDimension(dataset.all.species, resolution=1)
origin &lt;- getOrigin(dataset.all.species)

##create landwatermask
landwatermask.nocoast &lt;- createLandwatermask(dataset.landwater, 
				dimension, origin, resolution=1)

##estimate species richness
species.richness.noweight &lt;- species.richness.nonweighted(dataset.all.species, 
		landwatermask.nocoast, distance=5, dimension, 
		origin, resolution=1, upperbound=5, all.species=1:2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package r3js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {r3js}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#arrows3js'><p>Add arrows to a data3js object</p></a></li>
<li><a href='#axis3js'><p>Add an axis to an r3js plot</p></a></li>
<li><a href='#background3js'><p>Set the plot background color</p></a></li>
<li><a href='#box3js'><p>Add a box to an r3js plot</p></a></li>
<li><a href='#clippingPlane3js'><p>Create a clipping plane object</p></a></li>
<li><a href='#grid3js'><p>Add axis grids to an data3js object</p></a></li>
<li><a href='#group3js'><p>Start a new r3js object group</p></a></li>
<li><a href='#lastID'><p>Get the ID of the last object(s) added</p></a></li>
<li><a href='#legend3js'><p>Add a legend to an data3js object</p></a></li>
<li><a href='#light3js'><p>Add a light source to a data3js object</p></a></li>
<li><a href='#lines3js'><p>Add lines to a data3js object</p></a></li>
<li><a href='#material3js'><p>Set material properties of an r3js object</p></a></li>
<li><a href='#mtext3js'><p>Add text to the margin of an r3js plot</p></a></li>
<li><a href='#plot3js'><p>3D scatter / line plot</p></a></li>
<li><a href='#plot3js.new'><p>Setup a new r3js plot</p></a></li>
<li><a href='#plot3js.window'><p>Set axis limits for a data3js object</p></a></li>
<li><a href='#points3js'><p>Add points to a data3js object</p></a></li>
<li><a href='#r3js'><p>Plot a data3js object</p></a></li>
<li><a href='#r3js-shiny'><p>Shiny bindings for r3js</p></a></li>
<li><a href='#save3js'><p>Save an r3js plot to an HTML file</p></a></li>
<li><a href='#save3jsWidget'><p>Save an r3js widget to an HTML file</p></a></li>
<li><a href='#segments3js'><p>Add lines segments a 3js object</p></a></li>
<li><a href='#shape3js'><p>Add a generic shape to an 3js plot</p></a></li>
<li><a href='#sphere3js'><p>Add a sphere of defined radius to a data3js object</p></a></li>
<li><a href='#surface3js'><p>Add a surface to an data3js object</p></a></li>
<li><a href='#teapot'><p>Utah Teapot</p></a></li>
<li><a href='#text3js'><p>Add text to a data3js object</p></a></li>
<li><a href='#triangle3js'><p>Add a triangle to a data3js object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'WebGL'-Based 3D Plotting using the 'three.js' Library</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-03-21</td>
</tr>
<tr>
<td>Author:</td>
<td>Sam Wilks</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sam Wilks &lt;sw463@cam.ac.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides R and 'JavaScript' functions to allow 'WebGL'-based 3D plotting
    using the 'three.js' 'JavaScript' library. Interactivity through roll-over 
    highlighting and toggle buttons is also supported.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmlwidgets, htmltools, jsonlite, ellipsis, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, rmarkdown, colorspace, knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-21 09:59:44 UTC; samwilks</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-21 10:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='arrows3js'>Add arrows to a data3js object</h2><span id='topic+arrows3js'></span>

<h3>Description</h3>

<p>Add arrows to a data3js object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arrows3js(
  data3js,
  from,
  to,
  lwd = 1,
  arrowhead_width = 0.2,
  arrowhead_length = 0.5,
  col = "black",
  mat = "lambert",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arrows3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_from">from</code></td>
<td>
<p>nx3 matrix of coords for the arrow start points</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_to">to</code></td>
<td>
<p>nx3 matrix of coords for the arrow end points</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_arrowhead_width">arrowhead_width</code></td>
<td>
<p>arrowhead width</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_arrowhead_length">arrowhead_length</code></td>
<td>
<p>arrowhead length</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_mat">mat</code></td>
<td>
<p>material (see <code>material3js()</code>)</p>
</td></tr>
<tr><td><code id="arrows3js_+3A_...">...</code></td>
<td>
<p>other arguments to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Draw a set of arrows
from &lt;- cbind(
  runif(10, 0.2, 0.8),
  runif(10, 0.2, 0.8),
  runif(10, 0.2, 0.8)
)

to &lt;- jitter(from, amount = 0.2)

# Setup base plot
p &lt;- plot3js(label_axes = FALSE)

# Add arrows
p &lt;- arrows3js(
  p, from, to,
  arrowhead_length = 0.06,
  arrowhead_width = 0.04,
  lwd = 0.01
)

# View the plot
r3js(p, translation = c(0, 0, 0.15), zoom = 2)

</code></pre>

<hr>
<h2 id='axis3js'>Add an axis to an r3js plot</h2><span id='topic+axis3js'></span>

<h3>Description</h3>

<p>This is used as part of the <code>plot3js()</code> function but can be called
separately to add an axis, generally in combination after other lower
level functions like <code>plot3js.new()</code> and <code>plot3js.window()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>axis3js(
  data3js,
  side,
  at = NULL,
  labels = NULL,
  cornerside = "f",
  labeloffset = 0.1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="axis3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="axis3js_+3A_side">side</code></td>
<td>
<p>The axis side, either &quot;x&quot;, &quot;y&quot; or &quot;z&quot;</p>
</td></tr>
<tr><td><code id="axis3js_+3A_at">at</code></td>
<td>
<p>Where to draw labels</p>
</td></tr>
<tr><td><code id="axis3js_+3A_labels">labels</code></td>
<td>
<p>Vector of labels to use</p>
</td></tr>
<tr><td><code id="axis3js_+3A_cornerside">cornerside</code></td>
<td>
<p>See <code>material3js()</code></p>
</td></tr>
<tr><td><code id="axis3js_+3A_labeloffset">labeloffset</code></td>
<td>
<p>Amount of offset of axis labels from the edge of the plot</p>
</td></tr>
<tr><td><code id="axis3js_+3A_...">...</code></td>
<td>
<p>Other arguments to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>

<hr>
<h2 id='background3js'>Set the plot background color</h2><span id='topic+background3js'></span>

<h3>Description</h3>

<p>Set the plot background color
</p>


<h3>Usage</h3>

<pre><code class='language-R'>background3js(data3js, col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="background3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="background3js_+3A_col">col</code></td>
<td>
<p>The background color</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>

<hr>
<h2 id='box3js'>Add a box to an r3js plot</h2><span id='topic+box3js'></span>

<h3>Description</h3>

<p>Add a box to an r3js plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>box3js(
  data3js,
  sides = c("x", "y", "z"),
  dynamic = TRUE,
  col = "grey80",
  geometry = FALSE,
  renderOrder = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="box3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="box3js_+3A_sides">sides</code></td>
<td>
<p>The axis side to show the box, any combination of &quot;x&quot;, &quot;y&quot; or &quot;z&quot;</p>
</td></tr>
<tr><td><code id="box3js_+3A_dynamic">dynamic</code></td>
<td>
<p>Should edges of the box closest to the viewer hide themselves automatically</p>
</td></tr>
<tr><td><code id="box3js_+3A_col">col</code></td>
<td>
<p>Box color</p>
</td></tr>
<tr><td><code id="box3js_+3A_geometry">geometry</code></td>
<td>
<p>Should the box be rendered as a physical geometry in the scene (see <code>lines3js()</code>)</p>
</td></tr>
<tr><td><code id="box3js_+3A_renderorder">renderOrder</code></td>
<td>
<p>The render order for the box, defaults to 1</p>
</td></tr>
<tr><td><code id="box3js_+3A_...">...</code></td>
<td>
<p>Other arguments to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- plot3js.new()
p &lt;- box3js(p)
r3js(p)

</code></pre>

<hr>
<h2 id='clippingPlane3js'>Create a clipping plane object</h2><span id='topic+clippingPlane3js'></span>

<h3>Description</h3>

<p>This function can be used to create a clipping plane that can then be applied
to individual objects in a plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clippingPlane3js(coplanarPoints)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clippingPlane3js_+3A_coplanarpoints">coplanarPoints</code></td>
<td>
<p>A matrix of 3 points coplanar to the plane, each row is
a point, cols are coordinates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an r3js clipping plane object
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set up plot
p &lt;- plot3js(
  xlim = c(-2, 2),
  ylim = c(-2, 2),
  zlim = c(-2, 2)
)

# Add a sphere with clipping planes
p &lt;- sphere3js(
  data3js = p,
  0, 0, 0,
  radius = 2,
  col = "red",
  clippingPlanes = list(
    clippingPlane3js(
      rbind(
        c(1.5,0,1),
        c(1.5,1,1),
        c(1.5,0,0)
      )
    ),
    clippingPlane3js(
      rbind(
        c(1,1.8,1),
        c(0,1.8,1),
        c(1,1.8,0)
      )
    ),
    clippingPlane3js(
      rbind(
        c(0,-1.8,1),
        c(1,-1.8,1),
        c(1,-1.8,0)
      )
    )
  )
)

# View the plot
r3js(p, zoom = 2)

</code></pre>

<hr>
<h2 id='grid3js'>Add axis grids to an data3js object</h2><span id='topic+grid3js'></span>

<h3>Description</h3>

<p>This is used for example by <code>plot3js()</code> to add axis grids to a plot
these show along the faces of the plotting box, indicating axis ticks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grid3js(
  data3js,
  sides = c("x", "y", "z"),
  axes = c("x", "y", "z"),
  at = NULL,
  dynamic = TRUE,
  col = "grey95",
  lwd = 1,
  geometry = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grid3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="grid3js_+3A_sides">sides</code></td>
<td>
<p>The axis sides to show the box, any combination of &quot;x&quot;, &quot;y&quot; or &quot;z&quot;</p>
</td></tr>
<tr><td><code id="grid3js_+3A_axes">axes</code></td>
<td>
<p>Axes for which to draw the grid lines</p>
</td></tr>
<tr><td><code id="grid3js_+3A_at">at</code></td>
<td>
<p>Where to draw grid lines along the axis</p>
</td></tr>
<tr><td><code id="grid3js_+3A_dynamic">dynamic</code></td>
<td>
<p>Should edges of the box closest to the viewer hide themselves automatically</p>
</td></tr>
<tr><td><code id="grid3js_+3A_col">col</code></td>
<td>
<p>Grid line color</p>
</td></tr>
<tr><td><code id="grid3js_+3A_lwd">lwd</code></td>
<td>
<p>Grid line width</p>
</td></tr>
<tr><td><code id="grid3js_+3A_geometry">geometry</code></td>
<td>
<p>Should the lines be rendered as a physical geometry in the scene (see <code>lines3js()</code>)</p>
</td></tr>
<tr><td><code id="grid3js_+3A_...">...</code></td>
<td>
<p>Other arguments to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Setup blank base plot
p &lt;- plot3js(draw_grid = FALSE, xlab = "X", ylab = "Y", zlab = "Z")

# Add a box
p &lt;- box3js(p)

# Add grid lines but only for the z axis
p &lt;- grid3js(
  p, col = "red",
  axes = "z"
)

r3js(p)

# Add grid lines but only for the z axis and
# only at either end of the x axis
p &lt;- grid3js(
  p, col = "blue",
  axes = "z",
  sides = "x"
)

r3js(p)

</code></pre>

<hr>
<h2 id='group3js'>Start a new r3js object group</h2><span id='topic+group3js'></span>

<h3>Description</h3>

<p>This function can be used to link plot objects together into a group in order to apply
highlighting and interactive effects. See details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group3js(data3js, objectIDs, groupIDs = objectIDs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="group3js_+3A_data3js">data3js</code></td>
<td>
<p>The r3js data object</p>
</td></tr>
<tr><td><code id="group3js_+3A_objectids">objectIDs</code></td>
<td>
<p>IDs for each object you want to apply the group to.</p>
</td></tr>
<tr><td><code id="group3js_+3A_groupids">groupIDs</code></td>
<td>
<p>IDs for each object you want to include in the group.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an empty r3js group object in the form of a list.
</p>

<hr>
<h2 id='lastID'>Get the ID of the last object(s) added</h2><span id='topic+lastID'></span>

<h3>Description</h3>

<p>Get the ID of the last object(s) added to an data3js object, this is useful when for
example wanting to link different objects together into groups, you can use this
function after adding each of them to keep a record of their unique plot id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lastID(data3js)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lastID_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector of ID(s) for the last object added. After e.g. <code>sphere3js()</code>, this
will simply be a single id relating to the sphere added, after e.g. <code>points3js()</code> this will
be a vector of ids relating to each point in turn.
</p>

<hr>
<h2 id='legend3js'>Add a legend to an data3js object</h2><span id='topic+legend3js'></span>

<h3>Description</h3>

<p>Add a legend to an data3js object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>legend3js(data3js, legend, fill)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="legend3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="legend3js_+3A_legend">legend</code></td>
<td>
<p>Character vector of legend labels</p>
</td></tr>
<tr><td><code id="legend3js_+3A_fill">fill</code></td>
<td>
<p>If supplied the fill color of a box placed next to each label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Setup plot
p &lt;- plot3js(
  x = iris$Sepal.Length,
  y = iris$Sepal.Width,
  z = iris$Petal.Length,
  col = rainbow(3)[iris$Species],
  xlab = "Sepal Length",
  ylab = "Sepal Width",
  zlab = "Petal Length"
)

# Add simple legend
p &lt;- legend3js(
  data3js = p,
  legend = levels(iris$Species),
  fill = rainbow(3)
)

# View plot
r3js(p, zoom = 2)

</code></pre>

<hr>
<h2 id='light3js'>Add a light source to a data3js object</h2><span id='topic+light3js'></span>

<h3>Description</h3>

<p>When no light source is provided the 3d scene is lit from the top left, this
function allows you to specify different numbers of light sources at
different positions - not yet fully implemented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>light3js(
  data3js,
  position = NULL,
  intensity = 1,
  type = "directional",
  col = "white"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="light3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="light3js_+3A_position">position</code></td>
<td>
<p>Position of the light source in x, y, z coords, see details.</p>
</td></tr>
<tr><td><code id="light3js_+3A_intensity">intensity</code></td>
<td>
<p>Light intensity</p>
</td></tr>
<tr><td><code id="light3js_+3A_type">type</code></td>
<td>
<p>Type of light, either &quot;point&quot;, &quot;directional&quot; or &quot;ambient&quot;, see details.</p>
</td></tr>
<tr><td><code id="light3js_+3A_col">col</code></td>
<td>
<p>Light color</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If light position is &quot;directional&quot;, the default light will appear to
come from the direction of the position argument but from an infinite
distance. If &quot;point&quot; the light will appear to emanate from that position in
coordinate space light a light bulb. If &quot;ambient&quot; any position argument is
ignored and the light will light all aspects of the scene evenly from no
particular position.
</p>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set up a plot
p0 &lt;- plot3js(
  x = 1:4,
  y = c(2,1,3,4),
  z = c(3,2,4,1),
  xlim = c(0, 5),
  ylim = c(0, 5),
  zlim = c(0, 5),
  size = 20,
  col = c("white", "blue", "red", "green"),
  grid_col = "grey40",
  background = "black"
)

# Light scene intensely from above
p &lt;- light3js(
  p0,
  position = c(0, 1, 0)
)
r3js(p, zoom = 2)

# Light scene positionally from the middle of the plot
p &lt;- light3js(
  p0,
  position = c(2.5, 2.5, 2.5),
  type = "point"
)
r3js(p, zoom = 2)

# Light scene ambiently with a yellow light
p &lt;- light3js(
  p0,
  intensity = 0.3,
  type = "ambient",
  col = "yellow"
)
r3js(p, zoom = 2)

</code></pre>

<hr>
<h2 id='lines3js'>Add lines to a data3js object</h2><span id='topic+lines3js'></span>

<h3>Description</h3>

<p>This adds lines to a plot, similarly to the <code>lines()</code> function. You have to decide whether
you would like lines to physically exist as geometries in the scene (geometry = TRUE), i.e. as
cylinders, or rather as webgl lines draw into the scene (geometry = FALSE). Such lines added will
be &quot;non-geometric&quot; in the sense that they do not physically exist in the scene, so will not be
shaded according to lighting, and their width will remain constant independent of how the plot
is zoomed. As with <code>points3js(geometry = FALSE)</code> lines drawn in this way are rendered much more
efficiently and sometimes the fixed width characteristic is desirable, for example grid lines
are drawn in this way.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lines3js(
  data3js,
  x,
  y,
  z,
  lwd = 1,
  col = "black",
  highlight,
  geometry = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lines3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="lines3js_+3A_x">x</code></td>
<td>
<p>x coordinates</p>
</td></tr>
<tr><td><code id="lines3js_+3A_y">y</code></td>
<td>
<p>y coordinates</p>
</td></tr>
<tr><td><code id="lines3js_+3A_z">z</code></td>
<td>
<p>z coordinates</p>
</td></tr>
<tr><td><code id="lines3js_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="lines3js_+3A_col">col</code></td>
<td>
<p>line color (only a single color is currently supported)</p>
</td></tr>
<tr><td><code id="lines3js_+3A_highlight">highlight</code></td>
<td>
<p>highlight characteristics (see <code>highlight3ks()</code>)</p>
</td></tr>
<tr><td><code id="lines3js_+3A_geometry">geometry</code></td>
<td>
<p>logical, should the point be rendered as a physical geometry</p>
</td></tr>
<tr><td><code id="lines3js_+3A_...">...</code></td>
<td>
<p>further parameters to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Draw three lines
x &lt;- seq(from = 0, to = 6, length.out = 100)
y &lt;- cos(x*5)
z &lt;- sin(x*5)
linecols &lt;- rainbow(100)

p &lt;- plot3js(
  xlim = c(0, 6),
  ylim = c(0, 6),
  zlim = c(-1, 1),
  aspect = c(1, 1, 1),
  label_axes = FALSE
)

# Add a line using the linegl representation
p &lt;- lines3js(
  data3js = p,
  x, y + 1, z,
  col = linecols
)

# Add a thicker line using the linegl representation
p &lt;- lines3js(
  data3js = p,
  x, y + 3, z,
  lwd = 3,
  col = linecols
)

# Add a line as a physical geometry to the plot
p &lt;- lines3js(
  data3js = p,
  x, y + 5, z,
  lwd = 0.2,
  geometry = TRUE,
  col = "blue" # Currently only supports fixed colors
)

# View the plot
r3js(p, rotation = c(0, 0, 0), zoom = 2)

</code></pre>

<hr>
<h2 id='material3js'>Set material properties of an r3js object</h2><span id='topic+material3js'></span>

<h3>Description</h3>

<p>Arguments refer to different material properties for an object, many of which
refer directly to properties as described in the <a href="https://threejs.org/docs/index.html?q=material#api/en/materials/Material">'threejs' documentation</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>material3js(
  mat = "phong",
  col = "black",
  fill = "black",
  opacity = NULL,
  xpd = TRUE,
  lwd = 1,
  dashSize = NULL,
  gapSize = NULL,
  interactive = NULL,
  label = NULL,
  toggle = NULL,
  depthWrite = NULL,
  depthTest = NULL,
  polygonOffset = NULL,
  polygonOffsetFactor = NULL,
  polygonOffsetUnits = NULL,
  shininess = 30,
  faces = NULL,
  corners = NULL,
  rotation = NULL,
  normalise = NULL,
  poffset = NULL,
  clippingPlanes = NULL,
  frontSide = TRUE,
  backSide = TRUE,
  renderOrder = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="material3js_+3A_mat">mat</code></td>
<td>
<p>Material to use for the object, one of &quot;basic&quot;, &quot;lambert&quot;, &quot;phong&quot;
or &quot;line&quot;, see e.g.
<a href="https://threejs.org/docs/index.html#api/en/materials/MeshBasicMaterial">MeshBasicMaterial</a></p>
</td></tr>
<tr><td><code id="material3js_+3A_col">col</code></td>
<td>
<p>Color</p>
</td></tr>
<tr><td><code id="material3js_+3A_fill">fill</code></td>
<td>
<p>Fill color</p>
</td></tr>
<tr><td><code id="material3js_+3A_opacity">opacity</code></td>
<td>
<p>Opacity</p>
</td></tr>
<tr><td><code id="material3js_+3A_xpd">xpd</code></td>
<td>
<p>Should parts of the object outside the plot limits be shown</p>
</td></tr>
<tr><td><code id="material3js_+3A_lwd">lwd</code></td>
<td>
<p>Line width</p>
</td></tr>
<tr><td><code id="material3js_+3A_dashsize">dashSize</code></td>
<td>
<p>Dash size for dashed lines</p>
</td></tr>
<tr><td><code id="material3js_+3A_gapsize">gapSize</code></td>
<td>
<p>Gap size for dashed lines</p>
</td></tr>
<tr><td><code id="material3js_+3A_interactive">interactive</code></td>
<td>
<p>Is the object interactive</p>
</td></tr>
<tr><td><code id="material3js_+3A_label">label</code></td>
<td>
<p>The label for the object</p>
</td></tr>
<tr><td><code id="material3js_+3A_toggle">toggle</code></td>
<td>
<p>Toggle button associated with the object</p>
</td></tr>
<tr><td><code id="material3js_+3A_depthwrite">depthWrite</code></td>
<td>
<p>See
<a href="https://threejs.org/docs/index.html#api/en/materials/Material.depthWrite">depthWrite</a></p>
</td></tr>
<tr><td><code id="material3js_+3A_depthtest">depthTest</code></td>
<td>
<p>See
<a href="https://threejs.org/docs/index.html#api/en/materials/Material.depthTest">depthTest</a></p>
</td></tr>
<tr><td><code id="material3js_+3A_polygonoffset">polygonOffset</code></td>
<td>
<p>See
<a href="https://threejs.org/docs/index.html#api/en/materials/Material.polygonOffset">polygonOffset</a></p>
</td></tr>
<tr><td><code id="material3js_+3A_polygonoffsetfactor">polygonOffsetFactor</code></td>
<td>
<p>See
<a href="https://threejs.org/docs/index.html#api/en/materials/Material.polygonOffsetFactor">polygonOffsetFactor</a></p>
</td></tr>
<tr><td><code id="material3js_+3A_polygonoffsetunits">polygonOffsetUnits</code></td>
<td>
<p>See
<a href="https://threejs.org/docs/index.html#api/en/materials/Material.polygonOffsetUnits">polygonOffsetUnits</a></p>
</td></tr>
<tr><td><code id="material3js_+3A_shininess">shininess</code></td>
<td>
<p>Shininess of object surface</p>
</td></tr>
<tr><td><code id="material3js_+3A_faces">faces</code></td>
<td>
<p>For dynamically hidden objects, the face with which it is
associated, see details.</p>
</td></tr>
<tr><td><code id="material3js_+3A_corners">corners</code></td>
<td>
<p>For dynamically hidden objects, the corners with which it is
associated, see details.</p>
</td></tr>
<tr><td><code id="material3js_+3A_rotation">rotation</code></td>
<td>
<p>In place rotation of the object geometry (most relevant for
points)</p>
</td></tr>
<tr><td><code id="material3js_+3A_normalise">normalise</code></td>
<td>
<p>Should coordinates be normalised to be with respect to axis
ranges or placed according to the plotting box which has unit coordinates.</p>
</td></tr>
<tr><td><code id="material3js_+3A_poffset">poffset</code></td>
<td>
<p>Positional offset, the offset is relative to the plotting area
size rather than axis limits</p>
</td></tr>
<tr><td><code id="material3js_+3A_clippingplanes">clippingPlanes</code></td>
<td>
<p>Clipping planes to apply to the object</p>
</td></tr>
<tr><td><code id="material3js_+3A_frontside">frontSide</code></td>
<td>
<p>Logical indicating whether the front side of a mesh should
be rendered</p>
</td></tr>
<tr><td><code id="material3js_+3A_backside">backSide</code></td>
<td>
<p>Logical indicating whether the back side of a mesh should be
rendered</p>
</td></tr>
<tr><td><code id="material3js_+3A_renderorder">renderOrder</code></td>
<td>
<p>See
<a href="https://threejs.org/docs/index.html#api/en/core/Object3D.renderOrder">renderOrder</a></p>
</td></tr>
<tr><td><code id="material3js_+3A_...">...</code></td>
<td>
<p>Additional arguments (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of material properties
</p>

<hr>
<h2 id='mtext3js'>Add text to the margin of an r3js plot</h2><span id='topic+mtext3js'></span>

<h3>Description</h3>

<p>This is used for example to add axis labels but can also
be used for other purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mtext3js(data3js, text, side, line = 0, at = 0.5, cornerside = "f", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mtext3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="mtext3js_+3A_text">text</code></td>
<td>
<p>The margin text</p>
</td></tr>
<tr><td><code id="mtext3js_+3A_side">side</code></td>
<td>
<p>The axis side, either &quot;x&quot;, &quot;y&quot; or &quot;z&quot;</p>
</td></tr>
<tr><td><code id="mtext3js_+3A_line">line</code></td>
<td>
<p>The number of lines away from the plot edge</p>
</td></tr>
<tr><td><code id="mtext3js_+3A_at">at</code></td>
<td>
<p>Position along the plot edge, defaults to 0.5 (middle)</p>
</td></tr>
<tr><td><code id="mtext3js_+3A_cornerside">cornerside</code></td>
<td>
<p>See <code>material3js()</code></p>
</td></tr>
<tr><td><code id="mtext3js_+3A_...">...</code></td>
<td>
<p>Other arguments to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a blank plot
p &lt;- plot3js.new()
p &lt;- box3js(p)

# Add some margin text
p &lt;- mtext3js(p, "0.5m", side = "x")
p &lt;- mtext3js(p, "0.25m", side = "x", at = 0.25, line = 1)
p &lt;- mtext3js(p, "1m", side = "y", at = 1, line = 2)
r3js(p)

</code></pre>

<hr>
<h2 id='plot3js'>3D scatter / line plot</h2><span id='topic+plot3js'></span>

<h3>Description</h3>

<p>A high level method for generating a 3D scatter or line plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot3js(
  x,
  y,
  z,
  xlim = NULL,
  ylim = NULL,
  zlim = NULL,
  xlab = NULL,
  ylab = NULL,
  zlab = NULL,
  label = NULL,
  type = "points",
  geometry = NULL,
  axislabel_line = 3,
  aspect = NULL,
  label_axes = c("x", "y", "z"),
  draw_box = TRUE,
  draw_grid = TRUE,
  grid_lwd = 1,
  grid_col = "grey90",
  axis_lwd = grid_lwd,
  box_lwd = grid_lwd,
  box_col = grid_col,
  background = "#ffffff",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot3js_+3A_x">x</code></td>
<td>
<p>x coords for points / lines</p>
</td></tr>
<tr><td><code id="plot3js_+3A_y">y</code></td>
<td>
<p>y coords for points / lines</p>
</td></tr>
<tr><td><code id="plot3js_+3A_z">z</code></td>
<td>
<p>z coords for points / lines</p>
</td></tr>
<tr><td><code id="plot3js_+3A_xlim">xlim</code></td>
<td>
<p>plot x limits</p>
</td></tr>
<tr><td><code id="plot3js_+3A_ylim">ylim</code></td>
<td>
<p>plot y limits</p>
</td></tr>
<tr><td><code id="plot3js_+3A_zlim">zlim</code></td>
<td>
<p>plot z limits</p>
</td></tr>
<tr><td><code id="plot3js_+3A_xlab">xlab</code></td>
<td>
<p>x axis label</p>
</td></tr>
<tr><td><code id="plot3js_+3A_ylab">ylab</code></td>
<td>
<p>y axis label</p>
</td></tr>
<tr><td><code id="plot3js_+3A_zlab">zlab</code></td>
<td>
<p>z axis label</p>
</td></tr>
<tr><td><code id="plot3js_+3A_label">label</code></td>
<td>
<p>optional vector of interactive point labels</p>
</td></tr>
<tr><td><code id="plot3js_+3A_type">type</code></td>
<td>
<p>one of &quot;points&quot; or &quot;lines&quot;</p>
</td></tr>
<tr><td><code id="plot3js_+3A_geometry">geometry</code></td>
<td>
<p>should points and lines be represented as physical
geometries? Default for points is TRUE and for lines is FALSE, see
<code>points()</code> and <code>lines()</code> for more information.</p>
</td></tr>
<tr><td><code id="plot3js_+3A_axislabel_line">axislabel_line</code></td>
<td>
<p>Distance of axis label from plot</p>
</td></tr>
<tr><td><code id="plot3js_+3A_aspect">aspect</code></td>
<td>
<p>Plot axis aspect ratio, see <code>plot3js.window()</code></p>
</td></tr>
<tr><td><code id="plot3js_+3A_label_axes">label_axes</code></td>
<td>
<p>Vector of axes to label, any combination of &quot;x&quot;, &quot;y&quot; and
&quot;z&quot;</p>
</td></tr>
<tr><td><code id="plot3js_+3A_draw_box">draw_box</code></td>
<td>
<p>Should a box be drawn around the plot</p>
</td></tr>
<tr><td><code id="plot3js_+3A_draw_grid">draw_grid</code></td>
<td>
<p>Should an axis grid be drawn in the background</p>
</td></tr>
<tr><td><code id="plot3js_+3A_grid_lwd">grid_lwd</code></td>
<td>
<p>Grid line width</p>
</td></tr>
<tr><td><code id="plot3js_+3A_grid_col">grid_col</code></td>
<td>
<p>Grid line color</p>
</td></tr>
<tr><td><code id="plot3js_+3A_axis_lwd">axis_lwd</code></td>
<td>
<p>Axis line width</p>
</td></tr>
<tr><td><code id="plot3js_+3A_box_lwd">box_lwd</code></td>
<td>
<p>Box line width</p>
</td></tr>
<tr><td><code id="plot3js_+3A_box_col">box_col</code></td>
<td>
<p>Box color</p>
</td></tr>
<tr><td><code id="plot3js_+3A_background">background</code></td>
<td>
<p>Background color for the plot</p>
</td></tr>
<tr><td><code id="plot3js_+3A_...">...</code></td>
<td>
<p>Further parameters to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data3js object, that can be plotted as a widget using
<code>print()</code> or <code>r3js()</code> or further added to with the other plotting
functions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Simple plot example
p &lt;- plot3js(
  x = iris$Sepal.Length,
  y = iris$Sepal.Width,
  z = iris$Petal.Length,
  col = rainbow(3)[iris$Species],
  xlab = "Sepal Length",
  ylab = "Sepal Width",
  zlab = "Petal Length"
)

r3js(p, zoom = 2)

# Plotting with point rollover info and highlighting
p &lt;- plot3js(
  x = USJudgeRatings$CONT,
  y = USJudgeRatings$INTG,
  z = USJudgeRatings$DMNR,
  highlight = list(
    col = "darkgreen",
    size = 2.5
  ),
  xlab = "CONT",
  ylab = "INTG",
  zlab = "DMNR",
  size = 2,
  col = "green",
  label = rownames(USJudgeRatings)
)

r3js(p, zoom = 2)

</code></pre>

<hr>
<h2 id='plot3js.new'>Setup a new r3js plot</h2><span id='topic+plot3js.new'></span>

<h3>Description</h3>

<p>This function sets up a new r3js plot and returns an r3js plotting object
that can later be added to using other functions such as <code>points3js()</code>
and <code>lines3js()</code> etc.  It is in many ways equivalent to the <code>plot.new()</code>
command.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot3js.new(background = "#ffffff")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot3js.new_+3A_background">background</code></td>
<td>
<p>Background color to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a new data3js plotting object
</p>

<hr>
<h2 id='plot3js.window'>Set axis limits for a data3js object</h2><span id='topic+plot3js.window'></span>

<h3>Description</h3>

<p>This is similar to the <code>plot.window()</code> command except that plot limits can
only be set once for each plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot3js.window(data3js, xlim, ylim, zlim, aspect = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot3js.window_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="plot3js.window_+3A_xlim">xlim</code></td>
<td>
<p>x axis limits</p>
</td></tr>
<tr><td><code id="plot3js.window_+3A_ylim">ylim</code></td>
<td>
<p>y axis limits</p>
</td></tr>
<tr><td><code id="plot3js.window_+3A_zlim">zlim</code></td>
<td>
<p>z axis limits</p>
</td></tr>
<tr><td><code id="plot3js.window_+3A_aspect">aspect</code></td>
<td>
<p>vector of length 3 giving the aspect ratio, or null to
automatically set the aspect ratio such that axes have the same visual
length</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>

<hr>
<h2 id='points3js'>Add points to a data3js object</h2><span id='topic+points3js'></span>

<h3>Description</h3>

<p>This is the base function for adding points to a plot. Alongside other parameters
you will need to decide whether you want the points plotted as physical geometries
(geometry = TRUE) or webgl points rendered with a shader (geometry = FALSE). Points
rendered as geometries use <code>geopoint3js()</code> and will respect lighting and intersect
properly, also more point types are supported but come at a larger computational
cost of rendering. webgl points use <code>glpoints3js()</code> and are rendered orders of
magnitude faster but have less flexible appearances and ignore lighting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>points3js(
  data3js,
  x,
  y,
  z,
  size = 1,
  col = "black",
  fill = col,
  shape = "sphere",
  highlight,
  geometry = TRUE,
  label = NULL,
  toggle = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="points3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="points3js_+3A_x">x</code></td>
<td>
<p>point x coords</p>
</td></tr>
<tr><td><code id="points3js_+3A_y">y</code></td>
<td>
<p>point y coords</p>
</td></tr>
<tr><td><code id="points3js_+3A_z">z</code></td>
<td>
<p>point z coords</p>
</td></tr>
<tr><td><code id="points3js_+3A_size">size</code></td>
<td>
<p>point sizes</p>
</td></tr>
<tr><td><code id="points3js_+3A_col">col</code></td>
<td>
<p>point colors</p>
</td></tr>
<tr><td><code id="points3js_+3A_fill">fill</code></td>
<td>
<p>point fill color</p>
</td></tr>
<tr><td><code id="points3js_+3A_shape">shape</code></td>
<td>
<p>point shapes, see the examples below for a list of different types.</p>
</td></tr>
<tr><td><code id="points3js_+3A_highlight">highlight</code></td>
<td>
<p>highlight characteristics (see <code>highlight3js()</code>)</p>
</td></tr>
<tr><td><code id="points3js_+3A_geometry">geometry</code></td>
<td>
<p>logical, should the point be rendered as a physical geometry</p>
</td></tr>
<tr><td><code id="points3js_+3A_label">label</code></td>
<td>
<p>optional vector of interactive labels to apply to the points (see <code>highlight3js()</code>)</p>
</td></tr>
<tr><td><code id="points3js_+3A_toggle">toggle</code></td>
<td>
<p>optional vector of interactive toggles associate to each point (see <code>highlight3js()</code>)</p>
</td></tr>
<tr><td><code id="points3js_+3A_...">...</code></td>
<td>
<p>further parameters to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>geo_shapes &lt;- c(
  "circle", "square", "triangle",
  "circle open", "square open", "triangle open",
  "circle filled", "square filled", "triangle filled",
  "sphere", "cube", "tetrahedron",
  "cube open",
  "cube filled"
)

gl_shapes &lt;- c(
  "circle", "square", "triangle",
  "circle open", "square open", "triangle open",
  "circle filled", "square filled", "triangle filled",
  "sphere"
)

# Setup base plot
p &lt;- plot3js(
  xlim = c(0, length(geo_shapes) + 1),
  ylim = c(-4, 4),
  zlim = c(-4, 4),
  label_axes = FALSE
)

# Plot the different point geometries
p &lt;- points3js(
  data3js = p,
  x = seq_along(geo_shapes),
  y = rep(0, length(geo_shapes)),
  z = rep(0, length(geo_shapes)),
  size = 2,
  shape = geo_shapes,
  col = rainbow(length(geo_shapes)),
  fill = "grey70"
)

r3js(p, rotation = c(0, 0, 0), zoom = 2)

# Setup base plot
p &lt;- plot3js(
  xlim = c(0, length(gl_shapes) + 1),
  ylim = c(-4, 4),
  zlim = c(-4, 4),
  label_axes = FALSE
)

# Plot the different gl points
p &lt;- points3js(
  data3js = p,
  x = seq_along(gl_shapes),
  y = rep(0, length(gl_shapes)),
  z = rep(0, length(gl_shapes)),
  size = 2,
  shape = gl_shapes,
  col = rainbow(length(gl_shapes)),
  fill = "grey50",
  geometry = FALSE
)

r3js(p, rotation = c(0, 0, 0), zoom = 2)

# Plot a 10,000 points using the much more efficient gl.point representation

# Setup base plot
p &lt;- plot3js(
  xlim = c(-4, 4),
  ylim = c(-4, 4),
  zlim = c(-4, 4),
  label_axes = FALSE
)

p &lt;- points3js(
  data3js = p,
  x = rnorm(10000, 0),
  y = rnorm(10000, 0),
  z = rnorm(10000, 0),
  size = 0.6,
  col = rainbow(10000),
  shape = "sphere",
  geometry = FALSE
)

r3js(p, rotation = c(0, 0, 0), zoom = 2)

</code></pre>

<hr>
<h2 id='r3js'>Plot a data3js object</h2><span id='topic+r3js'></span>

<h3>Description</h3>

<p>This function takes the assembled data3js object and plots it as an
htmlwidget.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r3js(
  data3js,
  rotation = c(-1.45, 0, -2.35),
  zoom = 2,
  translation = c(0, 0, 0),
  styles = list(),
  title = "R3JS viewer",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="r3js_+3A_rotation">rotation</code></td>
<td>
<p>Plot starting rotation as an XYZ Euler rotation</p>
</td></tr>
<tr><td><code id="r3js_+3A_zoom">zoom</code></td>
<td>
<p>Plot starting zoom factor</p>
</td></tr>
<tr><td><code id="r3js_+3A_translation">translation</code></td>
<td>
<p>Plot starting translation</p>
</td></tr>
<tr><td><code id="r3js_+3A_styles">styles</code></td>
<td>
<p>List of styles controlling elements of the plot, see examples</p>
</td></tr>
<tr><td><code id="r3js_+3A_title">title</code></td>
<td>
<p>Title for the viewer</p>
</td></tr>
<tr><td><code id="r3js_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code>htmlwidgets::createWidget()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an html widget of the plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Control toggle button appearance
r3js(
  plot3js(
    x = iris$Sepal.Length,
    y = iris$Sepal.Width,
    z = iris$Petal.Length,
    col = rainbow(3)[iris$Species],
    xlab = "Sepal Length",
    ylab = "Sepal Width",
    zlab = "Petal Length",
    toggle = iris$Species
  ),
  styles = list(
    togglediv = list(
      bottom = "4px",
      right = "4px"
    ),
    toggles = list(
      setosa = list(
        on  = list(backgroundColor = colorspace::darken(rainbow(3)[1], 0.1), color = "white"),
        off = list(backgroundColor = colorspace::lighten(rainbow(3)[1], 0.8), color = "white")
      ),
      versicolor = list(
        on  = list(backgroundColor = colorspace::darken(rainbow(3)[2], 0.1), color = "white"),
        off = list(backgroundColor = colorspace::lighten(rainbow(3)[2], 0.8), color = "white")
      ),
      virginica = list(
        on  = list(backgroundColor = colorspace::darken(rainbow(3)[3], 0.1), color = "white"),
        off = list(backgroundColor = colorspace::lighten(rainbow(3)[3], 0.8), color = "white")
      )
    )
  ),
  zoom = 1.5
)

</code></pre>

<hr>
<h2 id='r3js-shiny'>Shiny bindings for r3js</h2><span id='topic+r3js-shiny'></span><span id='topic+r3jsOutput'></span><span id='topic+renderR3js'></span>

<h3>Description</h3>

<p>Output and render functions for using r3js within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r3jsOutput(outputId, width = "100%", height = "400px")

renderR3js(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="r3js-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="r3js-shiny_+3A_width">width</code>, <code id="r3js-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="r3js-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a r3js</p>
</td></tr>
<tr><td><code id="r3js-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="r3js-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An output or render function that enables the use of the widget
within Shiny applications.
</p>

<hr>
<h2 id='save3js'>Save an r3js plot to an HTML file</h2><span id='topic+save3js'></span>

<h3>Description</h3>

<p>Converts r3js plot data to a widget and saves it to an HTML file (e.g. for
sharing with others)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save3js(
  data3js,
  file,
  title = "r3js plot",
  selfcontained = TRUE,
  libdir = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save3js_+3A_data3js">data3js</code></td>
<td>
<p>The r3js data object to be saved</p>
</td></tr>
<tr><td><code id="save3js_+3A_file">file</code></td>
<td>
<p>File to save HTML into</p>
</td></tr>
<tr><td><code id="save3js_+3A_title">title</code></td>
<td>
<p>Text to use as the title of the generated page</p>
</td></tr>
<tr><td><code id="save3js_+3A_selfcontained">selfcontained</code></td>
<td>
<p>Whether to save the HTML as a single self-contained file
(with external resources base64 encoded) or a file with external resources
placed in an adjacent directory.</p>
</td></tr>
<tr><td><code id="save3js_+3A_libdir">libdir</code></td>
<td>
<p>Directory to copy HTML dependencies into (defaults to
filename_files)</p>
</td></tr>
<tr><td><code id="save3js_+3A_...">...</code></td>
<td>
<p>Further arguments to pass to <code>r3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for the side-effect of saving the plot.
</p>

<hr>
<h2 id='save3jsWidget'>Save an r3js widget to an HTML file</h2><span id='topic+save3jsWidget'></span>

<h3>Description</h3>

<p>Save a rendered r3js widget to an HTML file (e.g. for sharing with others).
This is mostly a wrapper for <code><a href="htmlwidgets.html#topic+saveWidget">saveWidget</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save3jsWidget(
  widget,
  file,
  title = "r3js plot",
  selfcontained = TRUE,
  libdir = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save3jsWidget_+3A_widget">widget</code></td>
<td>
<p>Widget to save</p>
</td></tr>
<tr><td><code id="save3jsWidget_+3A_file">file</code></td>
<td>
<p>File to save HTML into</p>
</td></tr>
<tr><td><code id="save3jsWidget_+3A_title">title</code></td>
<td>
<p>Text to use as the title of the generated page</p>
</td></tr>
<tr><td><code id="save3jsWidget_+3A_selfcontained">selfcontained</code></td>
<td>
<p>Whether to save the HTML as a single self-contained file
(with external resources base64 encoded) or a file with external resources
placed in an adjacent directory</p>
</td></tr>
<tr><td><code id="save3jsWidget_+3A_libdir">libdir</code></td>
<td>
<p>Directory to copy HTML dependencies into (defaults to
filename_files)</p>
</td></tr>
<tr><td><code id="save3jsWidget_+3A_...">...</code></td>
<td>
<p>Further arguments to pass to <code><a href="htmlwidgets.html#topic+saveWidget">saveWidget</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for the side-effect of saving the plot.
</p>

<hr>
<h2 id='segments3js'>Add lines segments a 3js object</h2><span id='topic+segments3js'></span>

<h3>Description</h3>

<p>Add lines segments a 3js object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segments3js(
  data3js,
  x,
  y,
  z,
  lwd = 1,
  col = "black",
  highlight,
  geometry = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segments3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="segments3js_+3A_x">x</code></td>
<td>
<p>x coords</p>
</td></tr>
<tr><td><code id="segments3js_+3A_y">y</code></td>
<td>
<p>y coords</p>
</td></tr>
<tr><td><code id="segments3js_+3A_z">z</code></td>
<td>
<p>z coords</p>
</td></tr>
<tr><td><code id="segments3js_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="segments3js_+3A_col">col</code></td>
<td>
<p>line color</p>
</td></tr>
<tr><td><code id="segments3js_+3A_highlight">highlight</code></td>
<td>
<p>highlight characteristics (see <code>highlight3ks()</code>)</p>
</td></tr>
<tr><td><code id="segments3js_+3A_geometry">geometry</code></td>
<td>
<p>logical, should the lines be rendered as a physical geometries</p>
</td></tr>
<tr><td><code id="segments3js_+3A_...">...</code></td>
<td>
<p>further parameters to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Draw three lines
x &lt;- seq(from = 0, to = 6, length.out = 100)
y &lt;- cos(x*5)
z &lt;- sin(x*5)
linecols &lt;- rainbow(100)

p &lt;- plot3js(
  xlim = c(0, 6),
  ylim = c(0, 6),
  zlim = c(-1, 1),
  aspect = c(1, 1, 1),
  label_axes = FALSE
)

# Add a line using the linegl representation
p &lt;- segments3js(
  data3js = p,
  x, y + 1, z,
  col = linecols
)

# Add a thicker line using the linegl representation
p &lt;- segments3js(
  data3js = p,
  x, y + 3, z,
  lwd = 3,
  col = linecols
)

# Add a line as a physical geometry to the plot
p &lt;- segments3js(
  data3js = p,
  x, y + 5, z,
  lwd = 0.2,
  geometry = TRUE,
  col = "blue" # Currently only supports fixed colors
)

# View the plot
r3js(p, rotation = c(0, 0, 0), zoom = 2)

</code></pre>

<hr>
<h2 id='shape3js'>Add a generic shape to an 3js plot</h2><span id='topic+shape3js'></span>

<h3>Description</h3>

<p>Add a generic shape to an 3js plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shape3js(
  data3js,
  vertices,
  faces,
  normals = NULL,
  col = "black",
  highlight,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shape3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="shape3js_+3A_vertices">vertices</code></td>
<td>
<p>An nx3 matrix of 3d vertex coordinates</p>
</td></tr>
<tr><td><code id="shape3js_+3A_faces">faces</code></td>
<td>
<p>An nx3 matrix of indices relating to vertices that make up each triangular face</p>
</td></tr>
<tr><td><code id="shape3js_+3A_normals">normals</code></td>
<td>
<p>Optional nx3 matrix of normals to each vertex</p>
</td></tr>
<tr><td><code id="shape3js_+3A_col">col</code></td>
<td>
<p>Shape color</p>
</td></tr>
<tr><td><code id="shape3js_+3A_highlight">highlight</code></td>
<td>
<p>highlight attributes (see <code>highlight3js()</code>)</p>
</td></tr>
<tr><td><code id="shape3js_+3A_...">...</code></td>
<td>
<p>Additional attributes to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Draw a teapot
data(teapot)
p &lt;- plot3js(
  xlim = range(teapot$vertices[,1]),
  ylim = range(teapot$vertices[,2]),
  zlim = range(teapot$vertices[,3]),
  label_axes = FALSE,
  aspect = c(1, 1, 1)
)

p &lt;- shape3js(
  p,
  vertices = teapot$vertices,
  faces = teapot$edges,
  col = "lightblue"
)

r3js(p, rotation = c(-2.8, 0, 3.14), zoom = 1.2)

</code></pre>

<hr>
<h2 id='sphere3js'>Add a sphere of defined radius to a data3js object</h2><span id='topic+sphere3js'></span>

<h3>Description</h3>

<p>Unlike points3js, where geometric points can also be represented as
spheres, this adds sphere that is sized with respect to the actual
dimensions of the plotting space (and so if aspect ratios differ for
each axis may not actually appear sphere-like).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sphere3js(data3js, x, y, z, radius, col = "black", highlight, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sphere3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="sphere3js_+3A_x">x</code></td>
<td>
<p>x coordinate of the sphere center</p>
</td></tr>
<tr><td><code id="sphere3js_+3A_y">y</code></td>
<td>
<p>y coordinate of the sphere center</p>
</td></tr>
<tr><td><code id="sphere3js_+3A_z">z</code></td>
<td>
<p>z coordinate of the sphere center</p>
</td></tr>
<tr><td><code id="sphere3js_+3A_radius">radius</code></td>
<td>
<p>sphere radius</p>
</td></tr>
<tr><td><code id="sphere3js_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="sphere3js_+3A_highlight">highlight</code></td>
<td>
<p>highlight attributes (see <code>highlight3js()</code>)</p>
</td></tr>
<tr><td><code id="sphere3js_+3A_...">...</code></td>
<td>
<p>other arguments to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Setup base plot
p &lt;- plot3js(
  xlim = c(-10, 10),
  ylim = c(-5, 5),
  zlim = c(-8, 8)
)

# Add sphere (this will look distorted because of axis scaling)
p &lt;- sphere3js(
  data3js = p,
  0, 0, 0,
  radius = 5,
  col = "green"
)

r3js(p, zoom = 2.5)

# Setup base plot with equal aspect ratio
p &lt;- plot3js(
  xlim = c(-10, 10),
  ylim = c(-5, 5),
  zlim = c(-8, 8),
  aspect = c(1, 1, 1)
)

# Add sphere (fixed aspect ratio now makes the sphere look spherical)
p &lt;- sphere3js(
  data3js = p,
  0, 0, 0,
  radius = 5,
  col = "green"
)

r3js(p, zoom = 2)

</code></pre>

<hr>
<h2 id='surface3js'>Add a surface to an data3js object</h2><span id='topic+surface3js'></span>

<h3>Description</h3>

<p>This function behaves very similarly to the <code>surface3d</code> function in the <code>rgl</code>
package, although the handling of NA values are handled differently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surface3js(
  data3js,
  x,
  y,
  z,
  col = "black",
  mat,
  wireframe = FALSE,
  highlight,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="surface3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="surface3js_+3A_x">x</code></td>
<td>
<p>Values corresponding to rows of z, or matrix of x coordinates</p>
</td></tr>
<tr><td><code id="surface3js_+3A_y">y</code></td>
<td>
<p>Values corresponding to the columns of z, or matrix of y coordinates</p>
</td></tr>
<tr><td><code id="surface3js_+3A_z">z</code></td>
<td>
<p>Matrix of heights</p>
</td></tr>
<tr><td><code id="surface3js_+3A_col">col</code></td>
<td>
<p>The color of the surface as either a single value, vector or matrix.</p>
</td></tr>
<tr><td><code id="surface3js_+3A_mat">mat</code></td>
<td>
<p>The material to use when drawing the matrix, for a solid surface the default is
&quot;phong&quot;, for a wireframe the default is &quot;line&quot;.</p>
</td></tr>
<tr><td><code id="surface3js_+3A_wireframe">wireframe</code></td>
<td>
<p>Logical value for if the surface should be displayed as a mesh</p>
</td></tr>
<tr><td><code id="surface3js_+3A_highlight">highlight</code></td>
<td>
<p>highlight attributes (see <code>highlight3js()</code>)</p>
</td></tr>
<tr><td><code id="surface3js_+3A_...">...</code></td>
<td>
<p>Material and texture properties. See <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># volcano example taken from "persp"
z &lt;- 2 * volcano        # Exaggerate the relief
x &lt;- 10 * (1:nrow(z))   # 10 meter spacing (S to N)
y &lt;- 10 * (1:ncol(z))   # 10 meter spacing (E to W)

zlim &lt;- range(z)
zlen &lt;- zlim[2] - zlim[1] + 1

colorlut &lt;- terrain.colors(zlen) # height color lookup table
col &lt;- colorlut[ z - zlim[1] + 1 ] # assign colors to heights for each point

p &lt;- plot3js(
  xlim = range(x),
  ylim = range(y),
  zlim = range(z),
  label_axes = FALSE,
  aspect = c(1, 1, 1) # Maintain a constant aspect ratio
)

p &lt;- surface3js(
  data3js = p,
  x, y, z,
  col = col
)

r3js(
  data3js = p,
  rotation = c(-1.15, 0, -0.65),
  zoom = 1.5
)

</code></pre>

<hr>
<h2 id='teapot'>Utah Teapot</h2><span id='topic+teapot'></span>

<h3>Description</h3>

<p>The Utah teapot is a classic computer graphics example. This data set
contains a representation in terms of triangles. This is taken from the
<code>misc3d</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>teapot
</code></pre>


<h3>Format</h3>

<p>A list with components vertices and edges. vertices is a 1976 by 3
numeric matrix of the coordinates of the vertices. edges is a 3751 by 3
integer matrix of the indices of the triangles.
</p>


<h3>Source</h3>

<p>Taken from the <code>misc3d</code> package
</p>

<hr>
<h2 id='text3js'>Add text to a data3js object</h2><span id='topic+text3js'></span>

<h3>Description</h3>

<p>The text added can either be as an html text object, superimposed on the scene
but moving relative to appear relative to the specified coordinqtes, or an actual
geometry, which will appear in the scene, zoom and rotate with it etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text3js(
  data3js,
  x,
  y,
  z,
  text,
  size = NULL,
  col = "inherit",
  toggle = NULL,
  type = "geometry",
  alignment = "center",
  offset = c(0, 0),
  style = list(fontFamily = "sans-serif"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="text3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="text3js_+3A_x">x</code></td>
<td>
<p>x coords</p>
</td></tr>
<tr><td><code id="text3js_+3A_y">y</code></td>
<td>
<p>y coords</p>
</td></tr>
<tr><td><code id="text3js_+3A_z">z</code></td>
<td>
<p>z coords</p>
</td></tr>
<tr><td><code id="text3js_+3A_text">text</code></td>
<td>
<p>character vector of text</p>
</td></tr>
<tr><td><code id="text3js_+3A_size">size</code></td>
<td>
<p>text size, if type is &quot;geometry&quot; this is interpreted in terms of
text height within the plotting space (default 1), if type is &quot;html&quot; then
this is interpreted as size in pts (default 16).</p>
</td></tr>
<tr><td><code id="text3js_+3A_col">col</code></td>
<td>
<p>text color</p>
</td></tr>
<tr><td><code id="text3js_+3A_toggle">toggle</code></td>
<td>
<p>associated text toggle button</p>
</td></tr>
<tr><td><code id="text3js_+3A_type">type</code></td>
<td>
<p>text type, either &quot;geometry&quot; or &quot;html&quot;</p>
</td></tr>
<tr><td><code id="text3js_+3A_alignment">alignment</code></td>
<td>
<p>text alignment, i.e. &quot;left&quot; &quot;top&quot; &quot;topright&quot;</p>
</td></tr>
<tr><td><code id="text3js_+3A_offset">offset</code></td>
<td>
<p>onscreen text offset for html text, x then y</p>
</td></tr>
<tr><td><code id="text3js_+3A_style">style</code></td>
<td>
<p>named list of css style attributes to apply to the html text</p>
</td></tr>
<tr><td><code id="text3js_+3A_...">...</code></td>
<td>
<p>Additional attributes to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+triangle3js">triangle3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set text parameters
x &lt;- 1:4
y &lt;- rep(0, 4)
z &lt;- rep(0, 4)
labels &lt;- LETTERS[1:4]
sizes &lt;- c(0.4, 0.6, 0.8, 1)

# Create empty plot
p0 &lt;- plot3js(
  xlim = c(0, 5),
  ylim = c(-1, 1),
  zlim = c(-1, 1),
  aspect = c(1, 1, 1),
  label_axes = FALSE
)

# Add text as a geometry
p &lt;- text3js(
  data3js = p0,
  x = x,
  y = y,
  z = z,
  size = sizes,
  text = labels
)

r3js(p, rotation = c(0, 0, 0), zoom = 1)

# Add text as a html labels
p &lt;- text3js(
  data3js = p0,
  x = x,
  y = y,
  z = z,
  size = sizes*40,
  text = labels,
  type = "html"
)

r3js(p, rotation = c(0, 0, 0), zoom = 1)

</code></pre>

<hr>
<h2 id='triangle3js'>Add a triangle to a data3js object</h2><span id='topic+triangle3js'></span>

<h3>Description</h3>

<p>Add a triangle to a data3js object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>triangle3js(data3js, vertices, col = "black", highlight, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="triangle3js_+3A_data3js">data3js</code></td>
<td>
<p>The data3js object</p>
</td></tr>
<tr><td><code id="triangle3js_+3A_vertices">vertices</code></td>
<td>
<p>An nx3 matrix of triangle vertices</p>
</td></tr>
<tr><td><code id="triangle3js_+3A_col">col</code></td>
<td>
<p>Single color for the triangles or vector of vertex colors</p>
</td></tr>
<tr><td><code id="triangle3js_+3A_highlight">highlight</code></td>
<td>
<p>highlight attributes (see <code>highlight3js()</code>)</p>
</td></tr>
<tr><td><code id="triangle3js_+3A_...">...</code></td>
<td>
<p>Additional attributes to pass to <code>material3js()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an updated data3js object
</p>


<h3>See Also</h3>

<p>Other plot components: 
<code><a href="#topic+arrows3js">arrows3js</a>()</code>,
<code><a href="#topic+axis3js">axis3js</a>()</code>,
<code><a href="#topic+box3js">box3js</a>()</code>,
<code><a href="#topic+grid3js">grid3js</a>()</code>,
<code><a href="#topic+legend3js">legend3js</a>()</code>,
<code><a href="#topic+light3js">light3js</a>()</code>,
<code><a href="#topic+lines3js">lines3js</a>()</code>,
<code><a href="#topic+mtext3js">mtext3js</a>()</code>,
<code><a href="#topic+points3js">points3js</a>()</code>,
<code><a href="#topic+segments3js">segments3js</a>()</code>,
<code><a href="#topic+shape3js">shape3js</a>()</code>,
<code><a href="#topic+sphere3js">sphere3js</a>()</code>,
<code><a href="#topic+surface3js">surface3js</a>()</code>,
<code><a href="#topic+text3js">text3js</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Draw some random triangles
M &lt;- matrix(
  data = rnorm(36),
  ncol = 3,
  nrow = 12
)

p &lt;- plot3js(
  xlim = range(M[,1]),
  ylim = range(M[,2]),
  zlim = range(M[,3]),
  label_axes = FALSE
)

p &lt;- triangle3js(
  p,
  vertices = M,
  col = rainbow(nrow(M))
)

r3js(p, zoom = 2)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

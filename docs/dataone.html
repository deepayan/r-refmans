<!DOCTYPE html><html><head><title>Help for package dataone</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dataone}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AbstractTableDescriber-class'><p>Base Class for Specific Metadata Parsers</p></a></li>
<li><a href='#addData,DataPackage,D1Object-method'><p>Add a D1Object containing a data object to a DataPackage</p></a></li>
<li><a href='#archive'><p>Archive an object on a Member Node or Coordinating Node, which hides it from casual searches.</p></a></li>
<li><a href='#asDataFrame'><p>return the D1Object data as a data.frame.</p></a></li>
<li><a href='#auth_delete'><p>DELETE a resource with authenticated credentials.</p></a></li>
<li><a href='#auth_get'><p>GET a resource with authenticated credentials if available.</p></a></li>
<li><a href='#auth_head'><p>Send a http HEAD request for a resource with authenticated credentials if available.</p></a></li>
<li><a href='#auth_post'><p>POST a resource with authenticated credentials.</p></a></li>
<li><a href='#auth_put'><p>PUT a resource with authenticated credentials.</p></a></li>
<li><a href='#auth_put_post_delete'><p>POST, PUT, or DELETE a resource with authenticated credentials.</p></a></li>
<li><a href='#AuthenticationManager'><p>Create an AuthenticationManager object</p></a></li>
<li><a href='#AuthenticationManager-class'><p>Manage DataONE authentication.</p></a></li>
<li><a href='#canRead,D1Object-method'><p>Test whether the provided subject can read an object.</p></a></li>
<li><a href='#CertificateManager'><p>Create a CertificateManager object</p></a></li>
<li><a href='#CertificateManager-class'><p>CertficateManager provides mechanisms to obtain, load, verify, and display X509 certificates.</p></a></li>
<li><a href='#CNode'><p>Create a CNode object.</p></a></li>
<li><a href='#CNode-class'><p>Provides R API to DataONE Coordinating Node services.</p></a></li>
<li><a href='#convert.csv'><p>Convert a DataFrame to Standard CSV.</p></a></li>
<li><a href='#createD1Object'><p>Create the Object in the DataONE System</p></a></li>
<li><a href='#createDataPackage'><p>Create a DataPackage on a DataONE Member Node</p></a></li>
<li><a href='#createObject'><p>Create an object on a Member Node.</p></a></li>
<li><a href='#d1_errors'><p>This function parses a DataONE service response message for errors, and extracts and</p>
prints error information.</a></li>
<li><a href='#D1Client'><p>The DataONE client class used to download, update and search for data in the DataONE network.</p></a></li>
<li><a href='#D1Client-class'><p>The D1Client class contains methods that perform high level DataONE tasks</p></a></li>
<li><a href='#d1IdentifierSearch'><p>Query the DataONE Solr endpoint of the Coordinating Node.</p></a></li>
<li><a href='#D1Node'><p>Create a D1Node object.</p></a></li>
<li><a href='#D1Node-class'><p>A base class for CNode and MNode.</p></a></li>
<li><a href='#D1Object'><p>Create a D1Object instance.</p></a></li>
<li><a href='#D1Object-class'><p>D1Object (Defunct) is a representation of a DataObject.</p></a></li>
<li><a href='#d1SolrQuery'><p>A method to query the DataONE solr endpoint of the Coordinating Node.</p></a></li>
<li><a href='#data.characterEncoding'><p>CharacterEncoding</p></a></li>
<li><a href='#data.formatFamily'><p>Data Format</p></a></li>
<li><a href='#data.tableAttributeNames'><p>returns the attribute names</p></a></li>
<li><a href='#data.tableAttributeOrientation'><p>The Attribute (Header) Orientation</p></a></li>
<li><a href='#data.tableAttributeStorageTypes'><p>returns the attributes' data storage types</p></a></li>
<li><a href='#data.tableAttributeTypes'><p>returns the attributes' data types</p></a></li>
<li><a href='#data.tableFieldDelimiter'><p>Field Delimiter</p></a></li>
<li><a href='#data.tableMissingValueCodes'><p>returns missing value codes</p></a></li>
<li><a href='#data.tableQuoteCharacter'><p>Quote Character</p></a></li>
<li><a href='#data.tableSkipLinesHeader'><p>Number of lines to skip before reading data</p></a></li>
<li><a href='#dataone'><p>Search, download and upload data to the DataONE network.</p></a></li>
<li><a href='#dataone-defunct'><p>Defunct</p></a></li>
<li><a href='#dataone-deprecated'><p>Deprecated</p></a></li>
<li><a href='#describeObject'><p>Efficiently get systemmetadata for an object.</p></a></li>
<li><a href='#documented.d1Identifiers'><p>Get DataONE identifiers</p></a></li>
<li><a href='#documented.entityNames'><p>Get the entity names associated with each table</p></a></li>
<li><a href='#documented.sizes'><p>Get the sizes of the described data tables.</p></a></li>
<li><a href='#downloadCert'><p>Open the CILogon Certificate download page in the default browser.</p></a></li>
<li><a href='#downloadObject'><p>Download an object from the DataONE Federation to Disk.</p></a></li>
<li><a href='#echoCredentials'><p>Echo the credentials used to make the call.</p></a></li>
<li><a href='#EMLParser'><p>Construct an EML parser object.</p></a></li>
<li><a href='#EMLParser-class'><p>Handler for Parsing Table Format Details from Metadata</p></a></li>
<li><a href='#encodeSolr'><p>Encode the input for Solr Queries</p></a></li>
<li><a href='#encodeUrlPath'><p>Encode the Input for a URL Path Segment.</p></a></li>
<li><a href='#encodeUrlQuery'><p>Encode the Input for a URL Query Segment.</p></a></li>
<li><a href='#evaluateAuth'><p>Evaluate DataONE authentication.</p></a></li>
<li><a href='#generateIdentifier'><p>Get a unique identifier that is generated by the Member Node repository and guaranteed to be unique.</p></a></li>
<li><a href='#get_user_agent'><p>User agent string</p></a></li>
<li><a href='#getAuthExpires'><p>Get the expiration date of the current authentication method.</p></a></li>
<li><a href='#getAuthMethod'><p>Get the current valid authentication mechanism.</p></a></li>
<li><a href='#getAuthSubject'><p>Get the authentication subject.</p></a></li>
<li><a href='#getCapabilities'><p>Get the node capabilities description, and store the information in the MNode.</p></a></li>
<li><a href='#getCert'><p>Get the DataONE X.509 Certificate location.</p></a></li>
<li><a href='#getCertExpires'><p>Show the date and time when an X.509 certificate expires.</p></a></li>
<li><a href='#getCertInfo'><p>Get X.509 Certificate information</p></a></li>
<li><a href='#getCertLocation'><p>Get the file path on disk of the client certificate file.</p></a></li>
<li><a href='#getChecksum'><p>Get the checksum for the data object associated with the specified pid.</p></a></li>
<li><a href='#getCN'><p>Get the coordinating node associated with this D1Client object.</p></a></li>
<li><a href='#getD1Object'><p>Download a data object from the DataONE Federation.</p></a></li>
<li><a href='#getData,D1Object-method'><p>Get the data content of a D1Object.</p></a></li>
<li><a href='#getDataObject'><p>Download a file (and it's associated system metadata) from the DataONE Federation as a DataObject.</p></a></li>
<li><a href='#getDataPackage'><p>Download data from the DataONE Federation as a DataPackage.</p></a></li>
<li><a href='#getEndpoint'><p>Return the URL endpoint for the DataONE Coordinating Node.</p></a></li>
<li><a href='#getErrorDescription'><p>Extract an error message from an http response.</p></a></li>
<li><a href='#getFormat'><p>Get information for a single DataONE object format</p></a></li>
<li><a href='#getFormatId,D1Object-method'><p>Get the FormatId of the D1Object</p></a></li>
<li><a href='#getIdentifier,D1Object-method'><p>Get the Identifier of the D1Object</p></a></li>
<li><a href='#getMetadataMember'><p>Get the DataObject containing package metadata</p></a></li>
<li><a href='#getMN'><p>Get a member node client based on its node identifier.</p></a></li>
<li><a href='#getMNode'><p>Get a reference to a node based on its identifier</p></a></li>
<li><a href='#getMNodeId'><p>Get the member node identifier associated with this D1Client object..</p></a></li>
<li><a href='#getObject'><p>Get the bytes associated with an object on this Node.</p></a></li>
<li><a href='#getPackage'><p>Download a data package from a member node.</p></a></li>
<li><a href='#getQueryEngineDescription'><p>Query a node for the list of query engines available on the node</p></a></li>
<li><a href='#getSystemMetadata'><p>Get the metadata describing system properties associated with an object on this Node.</p></a></li>
<li><a href='#getToken'><p>Get the value of the DataONE Authentication Token, if one exists.</p></a></li>
<li><a href='#getTokenInfo'><p>Get authentication token information</p></a></li>
<li><a href='#hasReservation'><p>Checks to determine if the supplied subject is the owner of the reservation of id.</p></a></li>
<li><a href='#initialize,D1Client-method'><p>Initialize a D1Client object</p></a></li>
<li><a href='#initialize,D1Node-method'><p>Initialize a D1Node</p></a></li>
<li><a href='#initialize,D1Object-method'><p>Initialize a D1Object</p></a></li>
<li><a href='#isAuthExpired'><p>Check if the currently valid authentication method has reached the expiration time.</p></a></li>
<li><a href='#isAuthorized'><p>Check if an action is authorized for the specified identifier</p></a></li>
<li><a href='#isAuthValid'><p>Verify authentication for a member node.</p></a></li>
<li><a href='#isCertExpired'><p>Determine if an X.509 certificate has expired.</p></a></li>
<li><a href='#listFormats'><p>List all object formats registered in DataONE.</p></a></li>
<li><a href='#listMemberNodes'><p>List DataONE Member Nodes.</p></a></li>
<li><a href='#listNodes'><p>Get the list of nodes associated with a CN</p></a></li>
<li><a href='#listObjects'><p>Retrieve the list of objects that match the search parameters</p></a></li>
<li><a href='#listQueryEngines'><p>Query a node for the list of query engines available on the node</p></a></li>
<li><a href='#MNode'><p>Create a MNode object representing a DataONE Member Node repository.</p></a></li>
<li><a href='#MNode-class'><p>Provides R API to DataONE Member Node services.</p></a></li>
<li><a href='#obscureAuth'><p>Temporarily disable DataONE authentication.</p></a></li>
<li><a href='#obscureCert'><p>Obscure the CILogon Client Certificate</p></a></li>
<li><a href='#parseCapabilities'><p>Construct a Node, using a passed in capabilities XML</p></a></li>
<li><a href='#parseSolrResult'><p>Parse Solr output into an R list</p></a></li>
<li><a href='#ping'><p>Test if a node is online and accepting DataONE requests</p></a></li>
<li><a href='#query'><p>Search DataONE for data and metadata objects</p></a></li>
<li><a href='#reserveIdentifier'><p>Reserve a identifier that is unique in the DataONE network.</p></a></li>
<li><a href='#resolve'><p>Get a list of coordinating nodes holding a given pid.</p></a></li>
<li><a href='#restoreAuth'><p>Restore authentication (after being disabled with <code>obscureAuth</code>).</p></a></li>
<li><a href='#restoreCert'><p>Restore the CILogon client certificate by renaming it to its original location</p></a></li>
<li><a href='#setMNodeId'><p>Set the member node identifier to be associated with the D1Client object.</p></a></li>
<li><a href='#setObsoletedBy'><p>Set a pid as being obsoleted by another pid</p></a></li>
<li><a href='#setPublicAccess,D1Object-method'><p>Make the object publicly readable.</p></a></li>
<li><a href='#showAuth'><p>Display all authentication information</p></a></li>
<li><a href='#showClientSubject'><p>Get DataONE Identity as Stored in the CILogon Certificate.</p></a></li>
<li><a href='#updateObject'><p>Update an object on a Member Node, by creating a new object that replaces an original.</p></a></li>
<li><a href='#updateSystemMetadata'><p>Update the system metadata associated with an object.</p></a></li>
<li><a href='#uploadDataObject'><p>Upload a DataObject to a DataONE member node.</p></a></li>
<li><a href='#uploadDataPackage'><p>Upload a DataPackage to a DataONE member node.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.2.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-06-08</td>
</tr>
<tr>
<td>Title:</td>
<td>R Interface to the DataONE REST API</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides read and write access to data and metadata from
    the DataONE network <a href="https://www.dataone.org">https://www.dataone.org</a> of data repositories.  
    Each DataONE repository implements a consistent repository application 
    programming interface. Users call methods in R to access these remote 
    repository functions, such as methods to query the metadata catalog, get 
    access to metadata for particular data packages, and read the data objects 
    from the data repository. Users can also insert and update data objects on 
    repositories that support these methods.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, digest, openssl (&ge; 0.9.3), xml2</td>
</tr>
<tr>
<td>Imports:</td>
<td>XML (&ge; 3.95-0.1), httr, methods, stringi, stringr, datapack
(&ge; 1.4.0), plyr, parsedate, uuid, base64enc, jsonlite</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/DataONEorg/rdataone">https://github.com/DataONEorg/rdataone</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/DataONEorg/rdataone/issues">https://github.com/DataONEorg/rdataone/issues</a></td>
</tr>
<tr>
<td>Collate:</td>
<td>'AbstractTableDescriber.R' 'auth_request.R' 'D1Node.R'
'AuthenticationManager.R' 'CNode.R' 'CertificateManager.R'
'D1Object.R' 'MNode.R' 'D1Client.R' 'EMLParser.R'
'dataone-defunct.R' 'dataone-deprecated.R' 'dataone-package.R'</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-10 18:48:18 UTC; sjclark</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew B. Jones <a href="https://orcid.org/0000-0003-0077-4738"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Peter Slaughter <a href="https://orcid.org/0000-0002-2192-403X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Rob Nahf [aut],
  Carl Boettiger <a href="https://orcid.org/0000-0002-1642-628X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Chris Jones <a href="https://orcid.org/0000-0002-8121-2341"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Bryce Mecum <a href="https://orcid.org/0000-0002-0381-3766"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jeanette Clark <a href="https://orcid.org/0000-0003-4703-1974"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Jordan Read <a href="https://orcid.org/0000-0002-3888-6631"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Lauren Walker <a href="https://orcid.org/0000-0003-2192-431X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Edmund Hart <a href="https://orcid.org/0000-0001-7367-7969"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Scott Chamberlain <a href="https://orcid.org/0000-0003-1444-9135"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Regents of the University of California [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew B. Jones &lt;jones@nceas.ucsb.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-06-10 19:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='AbstractTableDescriber-class'>Base Class for Specific Metadata Parsers</h2><span id='topic+AbstractTableDescriber-class'></span>

<h3>Description</h3>

<p>Classes that inherit from this class provide the format-specific ways to
provide read.csv with parsing instructions.
</p>


<h3>Details</h3>

<p>This class defines the generic methods metadata parser classes need to implement
to allow proper parsing of tabular data objects.  Subclasses should:
1. provide method implementations for all generics
2. register the class to the tableDescriber.registry for the formats they claim to parse.
3. provide a 'constructor' method that accepts a D1Object as the first argument - the 
D1Object will be the metadata object to be parsed
</p>
<p>For example, the EMLParser registers itself as a handler for eml v2.0.0 - v2.1.1
with the following.
</p>
<p><code>
if (!exists("tableDescriber.registry")) tableDescriber.registry &lt;- list()
tableDescriber.registry[[ "eml://ecoinformatics.org/eml-2.0.0" ]] &lt;- "EMLParser"
tableDescriber.registry[[ "eml://ecoinformatics.org/eml-2.0.1" ]] &lt;- "EMLParser"
tableDescriber.registry[[ "eml://ecoinformatics.org/eml-2.1.0" ]] &lt;- "EMLParser"
tableDescriber.registry[[ "eml://ecoinformatics.org/eml-2.1.1" ]] &lt;- "EMLParser"
</code>
</p>
<p>Note that the key in the list is the DataONE formatIdentifier that can be 
found at &quot;https://cn.dataone.org/cn/v2/formats&quot;.
</p>
<p>Subclass implementers should conform their methods to the behavior defined 
in the generic.
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='addData+2CDataPackage+2CD1Object-method'>Add a D1Object containing a data object to a DataPackage</h2><span id='topic+addData+2CDataPackage+2CD1Object-method'></span>

<h3>Description</h3>

<p>The D1Object <code>do</code> is added to the data package <code>x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DataPackage,D1Object'
addData(x, do, mo = as.character(NA))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addData+2B2CDataPackage+2B2CD1Object-method_+3A_x">x</code></td>
<td>
<p>The <code>"DataPackage"</code> to which the data object should be added.</p>
</td></tr>
<tr><td><code id="addData+2B2CDataPackage+2B2CD1Object-method_+3A_do">do</code></td>
<td>
<p>A D1Object to add to the DataPackage</p>
</td></tr>
<tr><td><code id="addData+2B2CDataPackage+2B2CD1Object-method_+3A_mo">mo</code></td>
<td>
<p>A D1Object (containing metadata describing <code>"do"</code> ) to associate with the data object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the optional <code>mo</code> parameter is specified, then it is assumed that this DataObject is a metadata
object that describes the data object that is being added. The DataObject specified in the <code>mo</code> parameter will
also be added to the DataPackage, if it has not already been added. Then the <code>addData</code> function will add a relationship
to the resource map that indicates that the metadata object describes the science object, using CiTO, the Citation Typing Ontology, 
<code>documents</code> and <code>isDocumentedBy</code> relationships.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
library(datapack)
library(uuid)
dp &lt;- new("DataPackage")
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
# Create metadata object that describes science data
newId &lt;- sprintf("urn:uuid:%s", UUIDgenerate())
csvfile &lt;- system.file("extdata/sample.csv", package="dataone")
sciObj &lt;- new("DataObject", id=newId, format="text/csv",filename=csvfile)
dp &lt;- addData(dp, do = sciObj)

## End(Not run)
</code></pre>

<hr>
<h2 id='archive'>Archive an object on a Member Node or Coordinating Node, which hides it from casual searches.</h2><span id='topic+archive'></span><span id='topic+archive+2CD1Node-method'></span>

<h3>Description</h3>

<p>This method provides the ability to archive a data or metadata object on the Member Node
provided in the <code>'mnode'</code> parameter.  Archiving removes the object from DataONE search functions,
thereby making it more difficult to find without completely removing the object.  Archive is intended
for objects that should not be used by current researchers, but for which there is a desire to maintain
a historical record, such as when journal articles might cite the object.  Users can still obtain the
contents of archived objects if they have the identifier, but will not discover it through searches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archive(x, ...)

## S4 method for signature 'D1Node'
archive(x, pid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="archive_+3A_x">x</code></td>
<td>
<p>The MNode or CNode instance on which the object will be created</p>
</td></tr>
<tr><td><code id="archive_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="archive_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object to be created</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This operation requires an X.509 certificate to be present in the default location of the file 
system. This certificate provides authentication credentials from 
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.  See <code><a href="#topic+CertificateManager">CertificateManager</a></code> for details.
For DataONE Version 2.0, an authentication token can also be used for authentication. 
Also, administrator privilege is required to run archive() on a DataONE Coordinating Node.
</p>


<h3>Value</h3>

<p>The pid that was archived if successful, otherwise NULL
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Node-class">D1Node</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
library(uuid)
library(digest)
library(datapack)
# First create a new object
cn &lt;- CNode("STAGING")
mn &lt;- getMNode(cn, "urn:node:mnStageUCSB2")
testdf &lt;- data.frame(x=1:10,y=11:20)
csvfile &lt;- paste(tempfile(), ".csv", sep="")
write.csv(testdf, csvfile, row.names=FALSE)
\dontrun{
newid &lt;- generateIdentifier(mn, "UUID")
}
# Create an identifier manually
newid &lt;- paste("urn:uuid:", UUIDgenerate(), sep="") 
format &lt;- "text/csv"
size &lt;- file.info(csvfile)$size
sha256 &lt;- digest(csvfile, algo="sha256", serialize=FALSE, file=TRUE)
sysmeta &lt;- new("SystemMetadata", identifier=newid, formatId=format, size=size, checksum=sha256)
sysmeta &lt;- addAccessRule(sysmeta, "public", "read")
# Create (upload) the object to DataONE (requires authentication)
\dontrun{
create(mn, newid, csvfile, sysmeta)
# Now for demonstration purposes, archive the object
# Archive the object (requires authentication)
archivedId &lt;- archive(mn, newid)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='asDataFrame'>return the D1Object data as a data.frame.</h2><span id='topic+asDataFrame'></span><span id='topic+asDataFrame+2CD1Object+2CD1Object-method'></span><span id='topic+asDataFrame+2CD1Object+2CAbstractTableDescriber-method'></span>

<h3>Description</h3>

<p>This method uses the provided metadata reference object for instructions on
how to parse the data table (which parameters to set)
'reference' is the metadata D1Object that gives instruction on how to read the data
into the dataFrame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asDataFrame(x, reference, ...)

## S4 method for signature 'D1Object,D1Object'
asDataFrame(x, reference, ...)

## S4 method for signature 'D1Object,AbstractTableDescriber'
asDataFrame(x, reference, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="asDataFrame_+3A_x">x</code></td>
<td>
<p>A D1Object</p>
</td></tr>
<tr><td><code id="asDataFrame_+3A_reference">reference</code></td>
<td>
<p>A reference to a D1Object</p>
</td></tr>
<tr><td><code id="asDataFrame_+3A_...">...</code></td>
<td>
<p>(Additional parameters)</p>
</td></tr>
</table>

<hr>
<h2 id='auth_delete'>DELETE a resource with authenticated credentials.</h2><span id='topic+auth_delete'></span>

<h3>Description</h3>

<p>DELETE data at a URL using an HTTP DELETE request using authentication credentials 
provided in a client certificate.  Authenticated access depends on the suggested
openssl package. If the openssl package is not installed, then the request fails.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_delete(url, encode = "multipart", body = as.list(NA), node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_delete_+3A_url">url</code></td>
<td>
<p>The URL to be accessed via authenticated DELETE</p>
</td></tr>
<tr><td><code id="auth_delete_+3A_encode">encode</code></td>
<td>
<p>the type of encoding to use for the DELETE body, defaults to 'multipart'</p>
</td></tr>
<tr><td><code id="auth_delete_+3A_body">body</code></td>
<td>
<p>a list of data to be included in the body of the DELETE request</p>
</td></tr>
<tr><td><code id="auth_delete_+3A_node">node</code></td>
<td>
<p>The D1Node object that the request will be made to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the HTTP response from the request
</p>

<hr>
<h2 id='auth_get'>GET a resource with authenticated credentials if available.</h2><span id='topic+auth_get'></span>

<h3>Description</h3>

<p>Retrieve the data at a URL using an HTTP GET request using authentication credentials 
provided in a client certificate.  Authenticated access depends on the suggested
openssl package. If the openssl package is not installed, then the request falls back
to an unauthenticated request, which may fail due to insufficient permissions.
Configuration options for httr/RCurl can be passed using the normal config()
mechanisms to generate a config option. Use httr_options() to see a complete list
of available options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_get(url, nconfig = config(), node, path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_get_+3A_url">url</code></td>
<td>
<p>The URL to be accessed via authenticated GET.</p>
</td></tr>
<tr><td><code id="auth_get_+3A_nconfig">nconfig</code></td>
<td>
<p>HTTP configuration options as used by curl, defaults to empty list</p>
</td></tr>
<tr><td><code id="auth_get_+3A_node">node</code></td>
<td>
<p>The D1Node object that the request will be made to.</p>
</td></tr>
<tr><td><code id="auth_get_+3A_path">path</code></td>
<td>
<p>Path to a file to write object to</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the response object from the method
</p>

<hr>
<h2 id='auth_head'>Send a http HEAD request for a resource with authenticated credentials if available.</h2><span id='topic+auth_head'></span>

<h3>Description</h3>

<p>Retrieve http header information for a URL using an HTTP HEAD request 
using authentication credentials provided in a client certificate or token.  
Authenticated access depends on the suggested openssl package. If the openssl 
package is not installed, then the request falls back to an unauthenticated request, 
which may fail due to insufficient permissions.
Configuration options for httr/RCurl can be passed using the normal config()
mechanisms to generate a config option. Use httr_options() to see a complete list
of available options. Note: The HEAD method is identical to GET except that the server MUST 
NOT return a message-body in the response.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_head(url, nconfig = config(), node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_head_+3A_url">url</code></td>
<td>
<p>The URL to be accessed via authenticated HEAD.</p>
</td></tr>
<tr><td><code id="auth_head_+3A_nconfig">nconfig</code></td>
<td>
<p>HTTP configuration options as used by curl, defaults to empty list</p>
</td></tr>
<tr><td><code id="auth_head_+3A_node">node</code></td>
<td>
<p>The D1Node object that the request will be made to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the response object from the method
</p>

<hr>
<h2 id='auth_post'>POST a resource with authenticated credentials.</h2><span id='topic+auth_post'></span>

<h3>Description</h3>

<p>POST data to a URL using an HTTP POST request using authentication credentials 
provided in a client certificate.  Authenticated access depends on the suggested
openssl package. If the openssl package is not installed, then the request fails.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_post(url, encode = "multipart", body = NULL, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_post_+3A_url">url</code></td>
<td>
<p>The URL to be accessed via authenticated POST</p>
</td></tr>
<tr><td><code id="auth_post_+3A_encode">encode</code></td>
<td>
<p>the type of encoding to use for the POST body, defaults to 'multipart'</p>
</td></tr>
<tr><td><code id="auth_post_+3A_body">body</code></td>
<td>
<p>a list of data to be included in the body of the POST request</p>
</td></tr>
<tr><td><code id="auth_post_+3A_node">node</code></td>
<td>
<p>The D1Node object that the request will be made to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the HTTP response from the request
</p>

<hr>
<h2 id='auth_put'>PUT a resource with authenticated credentials.</h2><span id='topic+auth_put'></span>

<h3>Description</h3>

<p>PUT data to a URL using an HTTP PUT request using authentication credentials 
provided in a client certificate.  Authenticated access depends on the suggested
openssl package. If the openssl package is not installed, then the request fails.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_put(url, encode = "multipart", body = NULL, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_put_+3A_url">url</code></td>
<td>
<p>The URL to be accessed via authenticated PUT</p>
</td></tr>
<tr><td><code id="auth_put_+3A_encode">encode</code></td>
<td>
<p>the type of encoding to use for the PUT body, defaults to 'multipart'</p>
</td></tr>
<tr><td><code id="auth_put_+3A_body">body</code></td>
<td>
<p>a list of data to be included in the body of the PUT request</p>
</td></tr>
<tr><td><code id="auth_put_+3A_node">node</code></td>
<td>
<p>The D1Node object that the request will be made to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the HTTP response from the request
</p>

<hr>
<h2 id='auth_put_post_delete'>POST, PUT, or DELETE a resource with authenticated credentials.</h2><span id='topic+auth_put_post_delete'></span>

<h3>Description</h3>

<p>POST, PUT, or DELETE data to a URL using an HTTP request using authentication credentials 
provided in a client authentication, either via authentication token or certificate.
If the user does not have a valid token or certificate, request fails.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_put_post_delete(method, url, encode = "multipart", body = NULL, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_put_post_delete_+3A_method">method</code></td>
<td>
<p>a string indicating which HTTP method to use (post, put, or delete)</p>
</td></tr>
<tr><td><code id="auth_put_post_delete_+3A_url">url</code></td>
<td>
<p>The URL to be accessed via authenticated PUT</p>
</td></tr>
<tr><td><code id="auth_put_post_delete_+3A_encode">encode</code></td>
<td>
<p>the type of encoding to use for the PUT body, defaults to 'multipart'</p>
</td></tr>
<tr><td><code id="auth_put_post_delete_+3A_body">body</code></td>
<td>
<p>a list of data to be included in the body of the PUT request</p>
</td></tr>
<tr><td><code id="auth_put_post_delete_+3A_node">node</code></td>
<td>
<p>The D1Node object that the request will be made to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the response object from the method
</p>

<hr>
<h2 id='AuthenticationManager'>Create an AuthenticationManager object</h2><span id='topic+AuthenticationManager'></span><span id='topic+AuthenticationManager+2CANY-method'></span>

<h3>Description</h3>

<p>Construct an instance of AuthenticationManager to provide mechanisms to load, verify, and 
display DataONE authentication information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AuthenticationManager(...)

## S4 method for signature 'ANY'
AuthenticationManager()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AuthenticationManager_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the AuthenticationManager object
</p>

<hr>
<h2 id='AuthenticationManager-class'>Manage DataONE authentication.</h2><span id='topic+AuthenticationManager-class'></span>

<h3>Description</h3>

<p>AuthenticationManager provides mechanisms to validate DataONE authentication,
when either a DataONE authentication token or X.509 Certificate is used.
</p>


<h3>Details</h3>

<p>Understanding how your identity is managed is important for working with DataONE, especially to 
avoid unexpected results. For example, depending your authorization status, searches may
return only public records, or the full set of public and private records. Object and package 
retrievals might fail if some or all of the objects being retrieved are private.  Creating or 
updating objects on DataONE nodes and reserving identifiers might fail if your 
authorization credentials are missing or expired.
</p>
<p>DataONE version 1.0 identifies you using CILogon-provided x509 certificates. DataONE has 
partnered with CILogon to provide a widely-accessible certificate issuing mechanism 
that allows DataONE users to use existing trusted institutional and public accounts.
</p>
<p>DataONE version 2.0 provides an addition authentication mechanism known as
authentication tokens. For information about tokens and instructions for generating
a token for use with the dataone R package, view the overview document by
entering the command: <code>'vignette("dataone-overview")'</code>. DataONE authentication
tokens can be obtained by signing in to your DataONE account at https://search.dataone.org.
</p>
<p>CILogon recognizes many identity providers, including many universities as well as
Google, so most times users new to DataONE can get certificates using one
of their existing accounts. For more information about the CILogon service, see 
<a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a> .
</p>


<h3>Slots</h3>


<dl>
<dt><code>obscured</code></dt><dd><p>Value of type <code>"character"</code> Is authentication disabled (obscured)?</p>
</dd>
</dl>


<h3>Methods</h3>


<ul>
<li><p><code><a href="#topic+AuthenticationManager">AuthenticationManager</a></code>: Create an AuthenticationManager object.
</p>
</li>
<li><p><code><a href="#topic+isAuthValid">isAuthValid</a></code>: Verify authentication for a member node.
</p>
</li>
<li><p><code><a href="#topic+getToken">getToken</a></code>: Get the value of the DataONE Authentication Token, if one exists.
</p>
</li>
<li><p><code><a href="#topic+getCert">getCert</a></code>: Get the DataONE X.509 Certificate location.
</p>
</li>
<li><p><code><a href="#topic+getAuthMethod">getAuthMethod</a></code>: Get the current valid authentication mechanism.
</p>
</li>
<li><p><code><a href="#topic+getAuthSubject">getAuthSubject</a></code>: Get the authentication subject.
</p>
</li>
<li><p><code><a href="#topic+getAuthExpires">getAuthExpires</a></code>: Get the expiration date of the current authentication method.
</p>
</li>
<li><p><code><a href="#topic+isAuthExpired">isAuthExpired</a></code>: Check if the currently valid authentication method has reached the expiration time.
</p>
</li>
<li><p><code><a href="#topic+obscureAuth">obscureAuth</a></code>: Temporarily disable DataONE authentication.
</p>
</li>
<li><p><code><a href="#topic+restoreAuth">restoreAuth</a></code>: Restore authentication (after being disabled with <code>obscureAuth</code>).
</p>
</li>
<li><p><code><a href="#topic+showAuth">showAuth</a></code>: Display all authentication information.
</p>
</li>
<li><p><code><a href="#topic+getTokenInfo">getTokenInfo</a></code>: Display all authentication token information.
</p>
</li>
<li><p><code><a href="#topic+getCertInfo">getCertInfo</a></code>: Display all X.509 certificate information.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+dataone">dataone</a></code> package description.
</p>

<hr>
<h2 id='canRead+2CD1Object-method'>Test whether the provided subject can read an object.</h2><span id='topic+canRead+2CD1Object-method'></span>

<h3>Description</h3>

<p>Using the AccessPolicy, tests whether the subject has read permission
for the object.  This method is meant work prior to submission to a repository, 
and will show the permissions that would be enforced by the repository on submission.
Currently it only uses the AccessPolicy to determine who can read (and not the rightsHolder field,
which always can read an object).  If an object has been granted read access by the
special &quot;public&quot; subject, then all subjects have read access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Object'
canRead(x, subject)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="canRead+2B2CD1Object-method_+3A_x">x</code></td>
<td>
<p>D1Object</p>
</td></tr>
<tr><td><code id="canRead+2B2CD1Object-method_+3A_subject">subject</code></td>
<td>
<p>: the subject name of the person/system to check for read permissions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The subject name used in both the AccessPolicy and in the <code>'subject'</code>
argument to this method is a string value, but is generally formatted as an X.509
name formatted according to RFC 2253.
</p>


<h3>Value</h3>

<p>logical TRUE if the subject has read permission, or FALSE otherwise
</p>

<hr>
<h2 id='CertificateManager'>Create a CertificateManager object</h2><span id='topic+CertificateManager'></span><span id='topic+CertificateManager+2CANY-method'></span>

<h3>Description</h3>

<p>Construct an instance of CertficateManager to provide mechanisms to obtain, load, verify, and 
display X509 certificates.  If the <code>'location'</code> field is provided, then that location is interpreted
as the fully qualified path to a certificate on the local filesystem, and the default locations will not be
searched.  If <code>'location'</code> is missing, then the default Globus Grid Security Infrastructure (GSI) 
location is searched, which is <code>'/tmp/x509up_u${UID}'</code> on Unix 
or <code>'${tmpdir}/x509up_u${UID}'</code> on Windows or <code>'${tmpdir}/x509up_u${user.name}'</code> if <code>'${UID}'</code> 
is not defined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CertificateManager(...)

## S4 method for signature 'ANY'
CertificateManager()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CertificateManager_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the CertificateManager object
</p>

<hr>
<h2 id='CertificateManager-class'>CertficateManager provides mechanisms to obtain, load, verify, and display X509 certificates.</h2><span id='topic+CertificateManager-class'></span>

<h3>Description</h3>

<p>CertficateManager provides management functions for X.509 certificates that are 
used to authenticate connections to DataONE nodes over SSL.  The X.509 certificates are issued 
by a recognized Certificate Authority, typically CILogon, and include fields that provide 
information about the authenticated party, including the distinguished name of the subject, the 
dates of validity of the certificate, and other information needed for authorization decisions.  
Certificate validity is determined by examining the validity of the certificate signatures for 
each certificate in a chain leading to a trusted root certificate.  Within DataONE, the current 
trusted root certificate authorities are CILogon and DataONE itself.
</p>


<h3>Details</h3>

<p>Understanding how your identity is managed is important for working with DataONE, especially to 
avoid unexpected results. For example, depending your authorization status, searches may or may 
return only public records, or the full set of public and private records. Object and package 
retrievals might fail if some or all of the objects being retrieved are private.  Creating or 
updating objects on DataONE nodes and reserving identifiers reservations might fail if your 
authorization certificate is missing or expired.
</p>
<p>DataONE identifies you using CILogon-provided x509 certificates. DataONE has 
partnered with CILogon to provide a widely-accessible certificate issuing mechanism 
that allows DataONE users to use existing trusted institutional and public accounts.
</p>
<p>CILogon recognizes many identity providers, including many universities as well as
Google, so most times users new to DataONE can get certificates using one
of their existing accounts. For more information about the CILogon service, see 
&quot;https://cilogon.org/?skin=DataONE&quot; .
</p>
<p>X509 Certificates differ from typical username-password login schemes in that
certificates can be used by more than one application, which is very useful when
using more than one DataONE-enabled application.  The certificates CILogon issues
for DataONE are so-called &quot;short-lived&quot; certificates that currently expire 18 hours 
from the time of issuing.  Typically you will want to download a fresh certificate
the first time you interact with DataONE each day.
</p>


<h3>Slots</h3>


<dl>
<dt><code>location</code></dt><dd><p>value of type <code>"character"</code>, containing a path to a custom certificate location</p>
</dd>
<dt><code>obscuredpath</code></dt><dd><p>value of type <code>"character"</code>, containing the path used to temporarily obscure a certificate</p>
</dd>
</dl>


<h3>Methods</h3>


<ul>
<li><p><code><a href="#topic+CertificateManager">CertificateManager</a></code>: Create a CertificateManager object.
</p>
</li>
<li><p><code><a href="#topic+getCertLocation">getCertLocation</a></code>: Get the file path on disk of the client certificate file.
</p>
</li>
<li><p><code><a href="#topic+showClientSubject">showClientSubject</a></code>: Get DataONE Identity as Stored in the CILogon Certificate.
</p>
</li>
<li><p><code><a href="#topic+isCertExpired">isCertExpired</a></code>: Determine if an X.509 certificate has expired.
</p>
</li>
<li><p><code><a href="#topic+getCertExpires">getCertExpires</a></code>: Show the date and time when an X.509 certificate expires.
</p>
</li>
<li><p><code><a href="#topic+downloadCert">downloadCert</a></code>: Open the CILogon Certificate download page in the default browser.
</p>
</li>
<li><p><code><a href="#topic+obscureCert">obscureCert</a></code>: Obscure the CILogon Client Certificate.
</p>
</li>
<li><p><code><a href="#topic+restoreCert">restoreCert</a></code>: Restore the CILogon client certificate by renaming it to its original location
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Matthew Jones, Rob Nahf
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dataone">dataone</a></code> package description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cm &lt;- suppressWarnings(CertificateManager())
cert &lt;- getCertLocation(cm)
subject &lt;- showClientSubject(cm)
expires &lt;- getCertExpires(cm)
isExpired &lt;- isCertExpired(cm)
cm &lt;- obscureCert(cm)
cm &lt;- restoreCert(cm)

## End(Not run)
</code></pre>

<hr>
<h2 id='CNode'>Create a CNode object.</h2><span id='topic+CNode'></span><span id='topic+CNode+2CANY-method'></span><span id='topic+CNode+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Create a CNode object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CNode(x, ...)

## S4 method for signature 'ANY'
CNode()

## S4 method for signature 'character'
CNode(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CNode_+3A_x">x</code></td>
<td>
<p>The label for the DataONE environment to be using ('PROD','STAGING', 'STAGING2,'SANDBOX', 'SANDBOX2','DEV', 'DEV2')</p>
</td></tr>
<tr><td><code id="CNode_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For an explanation of DataONE Coordinating Nodes, see the 
section <em>&quot;DataONE Environments&quot;</em> in the overview vignette by entering the R command: <code>vignette("dataone-overview")</code>.
</p>


<h3>Value</h3>

<p>the CNode object representing the DataONE environment
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cn &lt;- CNode("PROD")

## End(Not run)
</code></pre>

<hr>
<h2 id='CNode-class'>Provides R API to DataONE Coordinating Node services.</h2><span id='topic+CNode-class'></span>

<h3>Description</h3>

<p>The CNode class provides methods that interact with a DataONE Coordinating Node.
</p>


<h3>Slots</h3>


<dl>
<dt><code>endpoint</code></dt><dd><p>A character vector containing URL service endpoint for the Coordinating Node</p>
</dd>
<dt><code>services</code></dt><dd><p>A data.frame containing the supported service tiers for a CN</p>
</dd>
<dt><code>serviceUrls</code></dt><dd><p>A data.frame contains URL endpoints for certain services</p>
</dd>
</dl>


<h3>Methods</h3>


<ul>
<li><p><code><a href="#topic+CNode">CNode</a></code>: Construct a CNode object.
</p>
</li>
<li><p><code><a href="#topic+listFormats">listFormats</a></code>: List all object formats registered in DataONE.
</p>
</li>
<li><p><code><a href="#topic+getFormat">getFormat</a></code>: Get information for a single DataONE object format  
</p>
</li>
<li><p><code><a href="#topic+getChecksum">getChecksum</a></code>: Get the checksum for the data object associated with the specified pid.
</p>
</li>
<li><p><code><a href="#topic+listNodes">listNodes</a></code>: Get the list of nodes associated with a CN. 
</p>
</li>
<li><p><code><a href="#topic+reserveIdentifier">reserveIdentifier</a></code>: Reserve a identifier that is unique in the DataONE network.
</p>
</li>
<li><p><code><a href="#topic+hasReservation">hasReservation</a></code>: Checks to determine if the supplied subject is the owner of the reservation of id.
</p>
</li>
<li><p><code><a href="#topic+setObsoletedBy">setObsoletedBy</a></code>: Set a pid as being obsoleted by another pid
</p>
</li>
<li><p><code><a href="#topic+getObject">getObject</a></code>: Get the bytes associated with an object on this Coordinating Node. 
</p>
</li>
<li><p><code><a href="#topic+getSystemMetadata">getSystemMetadata</a></code>: Get the bytes associated with an object on this Coordinating Node.
</p>
</li>
<li><p><code><a href="#topic+describeObject">describeObject</a></code>: Get a list of coordinating nodes holding a given pid. 
</p>
</li>
<li><p><code><a href="#topic+resolve">resolve</a></code>: Get a list of coordinating nodes holding a given pid.
</p>
</li>
<li><p><code><a href="#topic+getMNode">getMNode</a></code>: Get a reference to a node based on its identifier. 
</p>
</li>
<li><p><code><a href="#topic+echoCredentials">echoCredentials</a></code>: Echo the credentials used to make the call. 
</p>
</li>
<li><p><code><a href="#topic+isAuthorized">isAuthorized</a></code>: Check if an action is authorized for the specified identifier. 
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+dataone">dataone</a></code> package description.
</p>

<hr>
<h2 id='convert.csv'>Convert a DataFrame to Standard CSV.</h2><span id='topic+convert.csv'></span><span id='topic+convert.csv+2CD1Client-method'></span>

<h3>Description</h3>

<p>Convert a DataFrame to Standard CSV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert.csv(x, ...)

## S4 method for signature 'D1Client'
convert.csv(x, df, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert.csv_+3A_x">x</code></td>
<td>
<p>A D1Client object</p>
</td></tr>
<tr><td><code id="convert.csv_+3A_...">...</code></td>
<td>
<p>additional params passed to write.csv</p>
</td></tr>
<tr><td><code id="convert.csv_+3A_df">df</code></td>
<td>
<p>the dataFrame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the dataframe serialized as a .csv
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
testdf &lt;- data.frame(x=1:10,y=11:20)
sdf &lt;- convert.csv(d1c, testdf)  

## End(Not run)
</code></pre>

<hr>
<h2 id='createD1Object'>Create the Object in the DataONE System</h2><span id='topic+createD1Object'></span><span id='topic+createD1Object+2CD1Client+2CD1Object-method'></span>

<h3>Description</h3>

<p>Create the Object in the DataONE System
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createD1Object(x, d1Object, ...)

## S4 method for signature 'D1Client,D1Object'
createD1Object(x, d1Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createD1Object_+3A_x">x</code></td>
<td>
<p>: D1Client</p>
</td></tr>
<tr><td><code id="createD1Object_+3A_d1object">d1Object</code></td>
<td>
<p>A D1Object instance to upload to DataONE</p>
</td></tr>
<tr><td><code id="createD1Object_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the object was successfully uploaded, FALSE if not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
library(uuid)
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
data &lt;- readLines(system.file("extdata/strix-pacific-northwest.xml", package="dataone"))
dataRaw &lt;- charToRaw(paste(data, collapse="\n"))
newid &lt;- sprintf("urn:node:%s", UUIDgenerate())
d1o &lt;- new("D1Object", id=newid, data=dataRaw, format="text/plain")
d1o &lt;- setPublicAccess(d1o)
# Upload the object to DataONE (requires authentication)
uploaded &lt;- createD1Object(d1c, d1o)

## End(Not run)
</code></pre>

<hr>
<h2 id='createDataPackage'>Create a DataPackage on a DataONE Member Node</h2><span id='topic+createDataPackage'></span><span id='topic+createDataPackage+2CD1Client+2CDataPackage-method'></span>

<h3>Description</h3>

<p>Upload all members of a DataPackage to DataONE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createDataPackage(x, dataPackage, ...)

## S4 method for signature 'D1Client,DataPackage'
createDataPackage(x, dataPackage, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createDataPackage_+3A_x">x</code></td>
<td>
<p>A D1Client instance.</p>
</td></tr>
<tr><td><code id="createDataPackage_+3A_datapackage">dataPackage</code></td>
<td>
<p>The DataPackage instance to be submitted to DataONE for creation.</p>
</td></tr>
<tr><td><code id="createDataPackage_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The identifier of the uploaded package.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
testdf &lt;- data.frame(x=1:10,y=11:20)
csvfile &lt;- tempfile(pattern = "file", tmpdir = tempdir(), fileext = ".csv")
write.csv(testdf, csvfile, row.names=FALSE)
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
dp &lt;- new("DataPackage")
emlFile &lt;- system.file("extdata/strix-pacific-northwest.xml", package="dataone")
emlChar &lt;- readLines(emlFile)
emlRaw &lt;- charToRaw(paste(emlChar, collapse="\n"))
emlId &lt;- sprintf("urn:uuid:%s", UUIDgenerate())
metadataObj &lt;- new("D1Object", id=emlId, format="eml://ecoinformatics.org/eml-2.1.1", data=emlRaw, 
  mnNodeId=getMNodeId(d1c))
sdf &lt;- read.csv(csvfile)
stf &lt;- charToRaw(convert.csv(d1c, sdf))
sciId &lt;- sprintf("urn:uuid:%s", UUIDgenerate())
sciObj &lt;- new("D1Object", id=sciId, format="text/csv", data=stf, mnNodeId=getMNodeId(d1c))
dp &lt;- addMember(dp, do=sciObj, mo=metadataObj)
expect_true(is.element(sciObj@dataObject@sysmeta@identifier, getIdentifiers(dp)))
resourceMapId &lt;- createDataPackage(d1c, dp, replicate=TRUE, public=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='createObject'>Create an object on a Member Node.</h2><span id='topic+createObject'></span><span id='topic+createObject+2CMNode-method'></span>

<h3>Description</h3>

<p>This method provides the ability to upload a data or metadata object to the Member Node
provided in the <code>'mnode'</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createObject(x, ...)

## S4 method for signature 'MNode'
createObject(x, pid, file = as.character(NA), sysmeta, dataobj = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createObject_+3A_x">x</code></td>
<td>
<p>The MNode instance on which the object will be created</p>
</td></tr>
<tr><td><code id="createObject_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="createObject_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object to be created</p>
</td></tr>
<tr><td><code id="createObject_+3A_file">file</code></td>
<td>
<p>the absolute file location of the object to be uploaded</p>
</td></tr>
<tr><td><code id="createObject_+3A_sysmeta">sysmeta</code></td>
<td>
<p>a SystemMetadata instance describing properties of the object</p>
</td></tr>
<tr><td><code id="createObject_+3A_dataobj">dataobj</code></td>
<td>
<p>a <code>raw</code> object to use for the upload, instead of the contents of the <code>file</code> argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the version 2.0 library and higher, this operation can utilize an 
'dataone_token' option to provide credentials for write operations in DataONE.
The authentication token is obtained from DataONE (see your profile on https://search.dataone.org).
See the <code>vignette("dataone-overview")</code> for details.
Alternatively, the version 1.0 approach of using an X.509 certificate in a default location of the file 
system can also be used. This certificate provides authentication credentials from 
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.  See <code>vignette("dataone-overview")</code> for details.
</p>


<h3>Value</h3>

<p>a <code>character</code> containing the identifier that was created.
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.create">https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.create</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Create an object in the DataONE "STAGING" environment
library(dataone)
library(uuid)
library(digest)
library(datapack)
cn &lt;- CNode("STAGING")
mn &lt;- getMNode(cn, "urn:node:mnStageUCSB2")
# Have Dataone create an identifier for you (requires authentication)
\dontrun{
newid &lt;- generateIdentifier(mn, "UUID")
}
# Create an identifier manually
newid &lt;- paste("urn:uuid:", UUIDgenerate(), sep="") 
testdf &lt;- data.frame(x=1:10,y=11:20)
csvfile &lt;- paste(tempfile(), ".csv", sep="")
write.csv(testdf, csvfile, row.names=FALSE)
format &lt;- "text/csv"
size &lt;- file.info(csvfile)$size
sha256 &lt;- digest(csvfile, algo="sha256", serialize=FALSE, file=TRUE)
sysmeta &lt;- new("SystemMetadata", identifier=newid, formatId=format, size=size, checksum=sha256)
sysmeta &lt;- addAccessRule(sysmeta, "public", "read")
# Upload the data to DataONE (requires authentication)
\dontrun{
createObject(mn, newid, csvfile, sysmeta)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='d1_errors'>This function parses a DataONE service response message for errors, and extracts and
prints error information.</h2><span id='topic+d1_errors'></span>

<h3>Description</h3>

<p>This function parses a DataONE service response message for errors, and extracts and
prints error information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d1_errors(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d1_errors_+3A_x">x</code></td>
<td>
<p>The DataONE service response</p>
</td></tr>
</table>

<hr>
<h2 id='D1Client'>The DataONE client class used to download, update and search for data in the DataONE network.</h2><span id='topic+D1Client'></span><span id='topic+D1Client+2CANY+2CANY-method'></span><span id='topic+D1Client+2Ccharacter+2CANY-method'></span><span id='topic+D1Client+2Ccharacter+2Ccharacter-method'></span><span id='topic+D1Client+2CCNode+2CMNode-method'></span><span id='topic+D1Client+2Ccharacter+2CMNode-method'></span>

<h3>Description</h3>

<p>The DataONE client class used to download, update and search for data in the DataONE network.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>D1Client(x, y, ...)

## S4 method for signature 'ANY,ANY'
D1Client()

## S4 method for signature 'character,ANY'
D1Client(x, y, ...)

## S4 method for signature 'character,character'
D1Client(x, y)

## S4 method for signature 'CNode,MNode'
D1Client(x, y, ...)

## S4 method for signature 'character,MNode'
D1Client(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="D1Client_+3A_x">x</code></td>
<td>
<p>The label for the DataONE environment to be using ('PROD','STAGING','SANDBOX','DEV'). This parameter
can alternatively be a <code><a href="#topic+CNode">CNode</a></code> instance, with the 'y' parameter specified as an <code><a href="#topic+MNode">MNode</a></code> instance.</p>
</td></tr>
<tr><td><code id="D1Client_+3A_y">y</code></td>
<td>
<p>The node Id of the application's 'home' node.  Should be already registered to the corresponding 'env'. This
parameter can alternatively be an <code><a href="#topic+MNode">MNode</a></code> instance, with the 'x' parameter specified as a <code><a href="#topic+CNode">CNode</a></code> instance.</p>
</td></tr>
<tr><td><code id="D1Client_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the D1Client object representing the DataONE environment
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cli &lt;- D1Client("PROD", "urn:node:KNB")
cn &lt;- CNode('STAGING2')
mn &lt;- getMNode(cn,'urn:node:mnTestKNB')
cli &lt;- D1Client(cn,mn)

## End(Not run)
</code></pre>

<hr>
<h2 id='D1Client-class'>The D1Client class contains methods that perform high level DataONE tasks</h2><span id='topic+D1Client-class'></span>

<h3>Description</h3>

<p>The methods in the D1Client class call the low level DataONE API to
perform involved tasks such as uploading all the packages in a DataPackage (i.e
<code><a href="#topic+uploadDataPackage">uploadDataPackage</a></code>)
</p>


<h3>Slots</h3>


<dl>
<dt><code>cn</code></dt><dd><p>The Coordinating Node associated with the D1Client object</p>
</dd>
<dt><code>mn</code></dt><dd><p>The Member Node associated with this D1Client object</p>
</dd>
</dl>


<h3>Methods</h3>


<ul>
<li><p><code><a href="#topic+D1Client">D1Client</a></code>: Construct a D1Client object.
</p>
</li>
<li><p><code><a href="#topic+convert.csv">convert.csv</a></code>: Convert a DataFrame to Standard CSV.
</p>
</li>
<li><p><code><a href="#topic+createDataPackage">createDataPackage</a></code>: Create a DataPackage on a DataONE Member Node.
</p>
</li>
<li><p><code><a href="#topic+encodeUrlPath">encodeUrlPath</a></code>: Encode the Input for a URL Path Segment.
</p>
</li>
<li><p><code><a href="#topic+encodeUrlQuery">encodeUrlQuery</a></code>: Encode the Input for a URL Query Segment.
</p>
</li>
<li><p><code><a href="#topic+getDataObject">getDataObject</a></code>: Download a single data object from a DataONE Federation member node.
</p>
</li>
<li><p><code><a href="#topic+getDataPackage">getDataPackage</a></code>: Download a collection of data object from the DataONE Federation member node as a DataPackage.
</p>
</li>
<li><p><code><a href="#topic+getEndpoint">getEndpoint</a></code>: Return the URL endpoint for the DataONE Coordinating Node.
</p>
</li>
<li><p><code><a href="#topic+getMetadataMember">getMetadataMember</a></code>: Get the DataObject containing package metadata.
</p>
</li>
<li><p><code><a href="#topic+getMNodeId">getMNodeId</a></code>: Get the member node identifier associated with this D1Client object.
</p>
</li>
<li><p><code><a href="#topic+listMemberNodes">listMemberNodes</a></code>: List DataONE Member Nodes.
</p>
</li>
<li><p><code><a href="#topic+reserveIdentifier">reserveIdentifier</a></code>: Reserve a unique identifier in the DataONE Network.
</p>
</li>
<li><p><code><a href="#topic+uploadDataObject">uploadDataObject</a></code>: Upload a DataObject to a DataONE member node.
</p>
</li>
<li><p><code><a href="#topic+uploadDataPackage">uploadDataPackage</a></code>: Upload a DataPackage to a DataONE member node.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+dataone">dataone</a></code> package description.
</p>

<hr>
<h2 id='d1IdentifierSearch'>Query the DataONE Solr endpoint of the Coordinating Node.</h2><span id='topic+d1IdentifierSearch'></span><span id='topic+d1IdentifierSearch+2CD1Client-method'></span>

<h3>Description</h3>

<p>The DataONE CN Solr query engine is searched using
the provided query string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d1IdentifierSearch(x, ...)

## S4 method for signature 'D1Client'
d1IdentifierSearch(x, solrQuery)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d1IdentifierSearch_+3A_x">x</code></td>
<td>
<p>D1Client: representing the DataONE environment being queried</p>
</td></tr>
<tr><td><code id="d1IdentifierSearch_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
<tr><td><code id="d1IdentifierSearch_+3A_solrquery">solrQuery</code></td>
<td>
<p>character: a query string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of identifiers found
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
client &lt;- new("D1Client")
result &lt;- d1IdentifierSearch(client,solrQuery="species population diversity")

## End(Not run)
</code></pre>

<hr>
<h2 id='D1Node'>Create a D1Node object.</h2><span id='topic+D1Node'></span><span id='topic+D1Node+2CXMLInternalElementNode-method'></span>

<h3>Description</h3>

<p>Create a D1Node object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>D1Node(xml, ...)

## S4 method for signature 'XMLInternalElementNode'
D1Node(xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="D1Node_+3A_xml">xml</code></td>
<td>
<p>An XML object that describes the node to be initialized (see <a href="#topic+listNodes">listNodes</a>).</p>
</td></tr>
<tr><td><code id="D1Node_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the Node object representing the DataONE environment
</p>

<hr>
<h2 id='D1Node-class'>A base class for CNode and MNode.</h2><span id='topic+D1Node-class'></span>

<h3>Description</h3>

<p>D1Node is a base class for CNode and MNode classes and contains class slots and
methods that are common between these two child classes.
</p>


<h3>Slots</h3>


<dl>
<dt><code>identifier</code></dt><dd><p>A character string containing a URN that uniquely identifiers the node</p>
</dd>
<dt><code>name</code></dt><dd><p>A character string containing a plain text name for the node</p>
</dd>
<dt><code>description</code></dt><dd><p>A character string describing the node</p>
</dd>
<dt><code>baseURL</code></dt><dd><p>A character string of the registered baseURL for the node, which does not include the version string</p>
</dd>
<dt><code>subject</code></dt><dd><p>A character string containing the Distinguished Name of this node, used for authentication</p>
</dd>
<dt><code>contactSubject</code></dt><dd><p>The Distinguished Name of contact person for this node</p>
</dd>
<dt><code>replicate</code></dt><dd><p>A logical flag indicating whether the node accepts replicas</p>
</dd>
<dt><code>type</code></dt><dd><p>The node type, either 'mn' or 'cn'</p>
</dd>
<dt><code>state</code></dt><dd><p>A character string that indicates whether or not the node is accessible, either 'up' or 'down'</p>
</dd>
<dt><code>services</code></dt><dd><p>A data.frame containing the service tiers supported by this node.</p>
</dd>
<dt><code>serviceUrls</code></dt><dd><p>A data.frame that contains DataONE service Urls</p>
</dd>
<dt><code>APIversion</code></dt><dd><p>A character string indicating version of the DataONE API for this node, e.g. &quot;v2&quot;</p>
</dd>
<dt><code>env</code></dt><dd><p>A character string, either 'prod' if this node is in the production environment, otherwise 'test'</p>
</dd>
</dl>


<h3>Methods</h3>


<ul>
<li><p><code><a href="#topic+D1Node-initialize">D1Node-initialize</a>{initialize}</code>: Initialize a D1Node
</p>
</li>
<li><p><code><a href="#topic+D1Node">D1Node</a></code>: Create a MNode object representing a DataONE Member Node repository.
</p>
</li>
<li><p><code><a href="#topic+archive">archive</a></code>: Change the state of an object so that it is hidden from searches.
</p>
</li>
<li><p><code><a href="#topic+describeObject">describeObject</a></code>: Get header information for a given pid. 
</p>
</li>
<li><p><code><a href="#topic+getChecksum">getChecksum</a></code>: Get the checksum for the data object associated with the specified pid.
</p>
</li>
<li><p><code><a href="#topic+getObject">getObject</a></code>: Get the bytes associated with an object on a node.
</p>
</li>
<li><p><code><a href="#topic+getQueryEngineDescription">getQueryEngineDescription</a></code>: Query a node for the list of query engines available on the node.
</p>
</li>
<li><p><code><a href="#topic+getSystemMetadata">getSystemMetadata</a></code>: Get the metadata describing system properties associated with an object on the Node.
</p>
</li>
<li><p><code><a href="#topic+listObjects">listObjects</a></code>: Retrieve the list of objects that match the search parameters.
</p>
</li>
<li><p><code><a href="#topic+listQueryEngines">listQueryEngines</a></code>: Query a node for the list of query engines available on the node.
</p>
</li>
<li><p><code><a href="#topic+ping">ping</a></code>: Test if a node is online and accepting DataONE requests.
</p>
</li>
<li><p><code><a href="#topic+encodeSolr">encodeSolr</a></code>: Encode the input for Solr Queries.
</p>
</li>
<li><p><code><a href="#topic+query">query</a></code>: Search DataONE for data and metadata objects.
</p>
</li>
<li><p><code><a href="#topic+isAuthorized">isAuthorized</a></code>: Check if an action is authorized for the specified identifier. 
</p>
</li></ul>


<hr>
<h2 id='D1Object'>Create a D1Object instance.</h2><span id='topic+D1Object'></span>

<h3>Description</h3>

<p>Create a D1Object instance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>D1Object(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="D1Object_+3A_...">...</code></td>
<td>
<p>(additional arguments)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the D1Object instance
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Object-class">D1Object</a></code> class description.
</p>

<hr>
<h2 id='D1Object-class'>D1Object (Defunct) is a representation of a DataObject.</h2><span id='topic+D1Object-class'></span>

<h3>Description</h3>

<p>D1Object has been defunct in favor of datapack::DataObject, which provides
a wrapper for data and associated SystemMetadata.
</p>


<h3>Slots</h3>


<dl>
<dt><code>dataObject</code></dt><dd><p>A backing instance of a DataObject, to which all methods and state are proxied</p>
</dd>
</dl>


<h3>Methods</h3>


<ul>
<li><p><code><a href="#topic+D1Object-initialize">D1Object-initialize</a></code>: Initialize a D1Object
</p>
</li>
<li><p><code><a href="#topic+getData">getData</a></code>: Get the data content of a specified D1Object.
</p>
</li>
<li><p><code><a href="#topic+getIdentifier">getIdentifier</a></code>: Get the identifier of the D1Object.
</p>
</li>
<li><p><code><a href="#topic+getFormatId">getFormatId</a></code>: Get the formatId of the D1Object
</p>
</li>
<li><p><code><a href="#topic+setPublicAccess">setPublicAccess</a></code>: Add a Rule to the AccessPolicy to make the object publicly readable.
</p>
</li>
<li><p><code><a href="#topic+canRead">canRead</a></code>: Test whether the provided subject can read an object.
</p>
</li>
<li><p><code><a href="#topic+asDataFrame">asDataFrame</a></code>: Return the D1Object as a data.frame.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+dataone">dataone</a></code> package description.
</p>

<hr>
<h2 id='d1SolrQuery'>A method to query the DataONE solr endpoint of the Coordinating Node.</h2><span id='topic+d1SolrQuery'></span><span id='topic+d1SolrQuery+2CD1Client+2Clist-method'></span><span id='topic+d1SolrQuery+2CD1Client+2Ccharacter-method'></span>

<h3>Description</h3>

<p>It expects any lucene reserved characters to already be escaped with backslash. If
solrQuery is a list, it is expected to have field names as attributes and search
values as the values in the list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d1SolrQuery(x, solrQuery)

## S4 method for signature 'D1Client,list'
d1SolrQuery(x, solrQuery)

## S4 method for signature 'D1Client,character'
d1SolrQuery(x, solrQuery)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="d1SolrQuery_+3A_x">x</code></td>
<td>
<p>the D1Client (environment) being queried</p>
</td></tr>
<tr><td><code id="d1SolrQuery_+3A_solrquery">solrQuery</code></td>
<td>
<p>list or character: a fully encoded query string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the solr response (XML)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
library(dataone)
d1c &lt;- D1Client("PROD", "urn:node:KNB")
queryParams &lt;- list(q="id:doi*", rows="5", 
    fq="(abstract:chlorophyll AND dateUploaded:[2000-01-01T00:00:00Z TO NOW])", 
    fl="title,id,abstract,size,dateUploaded,attributeName")
result &lt;- d1SolrQuery(d1c, queryParams)

## End(Not run)
</code></pre>

<hr>
<h2 id='data.characterEncoding'>CharacterEncoding</h2><span id='topic+data.characterEncoding'></span><span id='topic+data.characterEncoding+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>The character encoding used, for example &quot;UTF-8&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.characterEncoding(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.characterEncoding(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.characterEncoding_+3A_x">x</code></td>
<td>
<p>the TableDescriber</p>
</td></tr>
<tr><td><code id="data.characterEncoding_+3A_index">index</code></td>
<td>
<p>index of the table within the document</p>
</td></tr>
<tr><td><code id="data.characterEncoding_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the encoding used when serializing the data
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.formatFamily'>Data Format</h2><span id='topic+data.formatFamily'></span><span id='topic+data.formatFamily+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Get the table format family.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.formatFamily(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.formatFamily(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.formatFamily_+3A_x">x</code></td>
<td>
<p>the TableDescriber</p>
</td></tr>
<tr><td><code id="data.formatFamily_+3A_index">index</code></td>
<td>
<p>index of the table within the document</p>
</td></tr>
<tr><td><code id="data.formatFamily_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the format of the data object being described
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableAttributeNames'>returns the attribute names</h2><span id='topic+data.tableAttributeNames'></span><span id='topic+data.tableAttributeNames+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>THe attribute names are defined in the metadata document for 
the specified data table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableAttributeNames(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableAttributeNames(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableAttributeNames_+3A_x">x</code></td>
<td>
<p>- the TableDescriber instance</p>
</td></tr>
<tr><td><code id="data.tableAttributeNames_+3A_index">index</code></td>
<td>
<p>- the index of the table to get results for</p>
</td></tr>
<tr><td><code id="data.tableAttributeNames_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the attribute (column) names of the data
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableAttributeOrientation'>The Attribute (Header) Orientation</h2><span id='topic+data.tableAttributeOrientation'></span><span id='topic+data.tableAttributeOrientation+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Which way to the attribute headers run?  Most data has a header row
where the attribute names go across &quot;columns&quot;, in row in which case, the 
return value for this method should be &quot;columns.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableAttributeOrientation(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableAttributeOrientation(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableAttributeOrientation_+3A_x">x</code></td>
<td>
<p>- the TableDescriber</p>
</td></tr>
<tr><td><code id="data.tableAttributeOrientation_+3A_index">index</code></td>
<td>
<p>- the index of the table within the document</p>
</td></tr>
<tr><td><code id="data.tableAttributeOrientation_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>legal values  are &quot;columns&quot; | &quot;rows&quot;
</p>


<h3>Note</h3>

<p>this is the opposite question from how records are organized!!
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableAttributeStorageTypes'>returns the attributes' data storage types</h2><span id='topic+data.tableAttributeStorageTypes'></span><span id='topic+data.tableAttributeStorageTypes+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>The attributes' data storage types are defined in the metadata document for 
the specified data table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableAttributeStorageTypes(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableAttributeStorageTypes(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableAttributeStorageTypes_+3A_x">x</code></td>
<td>
<p>- the TableDescriber instance</p>
</td></tr>
<tr><td><code id="data.tableAttributeStorageTypes_+3A_index">index</code></td>
<td>
<p>- the index of the table to get results for</p>
</td></tr>
<tr><td><code id="data.tableAttributeStorageTypes_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the data storage types of the attributes
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableAttributeTypes'>returns the attributes' data types</h2><span id='topic+data.tableAttributeTypes'></span><span id='topic+data.tableAttributeTypes+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>The attributes' data types are defined in the metadata document for 
the specified data table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableAttributeTypes(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableAttributeTypes(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableAttributeTypes_+3A_x">x</code></td>
<td>
<p>- the TableDescriber instance</p>
</td></tr>
<tr><td><code id="data.tableAttributeTypes_+3A_index">index</code></td>
<td>
<p>- the index of the table to get results for</p>
</td></tr>
<tr><td><code id="data.tableAttributeTypes_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the data types of the attributes
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableFieldDelimiter'>Field Delimiter</h2><span id='topic+data.tableFieldDelimiter'></span><span id='topic+data.tableFieldDelimiter+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Get the table field delimiter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableFieldDelimiter(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableFieldDelimiter(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableFieldDelimiter_+3A_x">x</code></td>
<td>
<p>the TableDescriber</p>
</td></tr>
<tr><td><code id="data.tableFieldDelimiter_+3A_index">index</code></td>
<td>
<p>index of the table within the document</p>
</td></tr>
<tr><td><code id="data.tableFieldDelimiter_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the field delimiter(s) of the data object being described
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableMissingValueCodes'>returns missing value codes</h2><span id='topic+data.tableMissingValueCodes'></span><span id='topic+data.tableMissingValueCodes+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>the missing value codes are defined in the metadata document for 
the specified data table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableMissingValueCodes(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableMissingValueCodes(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableMissingValueCodes_+3A_x">x</code></td>
<td>
<p>- the TableDescriber instance</p>
</td></tr>
<tr><td><code id="data.tableMissingValueCodes_+3A_index">index</code></td>
<td>
<p>- the index of the table to get results for</p>
</td></tr>
<tr><td><code id="data.tableMissingValueCodes_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of missing value codes
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableQuoteCharacter'>Quote Character</h2><span id='topic+data.tableQuoteCharacter'></span><span id='topic+data.tableQuoteCharacter+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>Get the table quote character.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableQuoteCharacter(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableQuoteCharacter(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableQuoteCharacter_+3A_x">x</code></td>
<td>
<p>the TableDescriber</p>
</td></tr>
<tr><td><code id="data.tableQuoteCharacter_+3A_index">index</code></td>
<td>
<p>index of the table within the document</p>
</td></tr>
<tr><td><code id="data.tableQuoteCharacter_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the quote characters(s) for the data object being described
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='data.tableSkipLinesHeader'>Number of lines to skip before reading data</h2><span id='topic+data.tableSkipLinesHeader'></span><span id='topic+data.tableSkipLinesHeader+2CEMLParser+2Cnumeric-method'></span>

<h3>Description</h3>

<p>The specified number of lines are skipped.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.tableSkipLinesHeader(x, index, ...)

## S4 method for signature 'EMLParser,numeric'
data.tableSkipLinesHeader(x, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.tableSkipLinesHeader_+3A_x">x</code></td>
<td>
<p>- the TableDescriber</p>
</td></tr>
<tr><td><code id="data.tableSkipLinesHeader_+3A_index">index</code></td>
<td>
<p>- the index of the table within the document</p>
</td></tr>
<tr><td><code id="data.tableSkipLinesHeader_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the number of lines to skip
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>


<h3>See Also</h3>

<p><code>help(read.table)</code>
</p>

<hr>
<h2 id='dataone'>Search, download and upload data to the DataONE network.</h2><span id='topic+dataone'></span>

<h3>Description</h3>

<p>The R package <em>dataone</em> provides read/write access to data and metadata from the 
<a href="https://www.dataone.org/">DataONE</a> network of 
Member Node data repositories. Member Nodes in DataONE are independent data repositories that have adopted the DataONE 
services for interoperability, making each of the repositories accessible to client tools such as the DataONE R Client 
using a standard interface. The DataONE R Client can be used to access data files and to write new data and metadata files 
to nodes in the DataONE network.
</p>


<h3>Classes</h3>


<ul>
<li><p><code><a href="#topic+AuthenticationManager-class">AuthenticationManager</a></code>: AuthenticationManager provides methods to validate DataONE authentication.
</p>
</li>
<li><p><code><a href="#topic+CNode-class">CNode</a></code>: A CNode represents a DataONE Coordinating Node and can be used to access its services.
</p>
</li>
<li><p><code><a href="#topic+D1Client-class">D1Client</a></code>: The D1Client class contains methods that perform high level dataone tasks.
</p>
</li>
<li><p><code><a href="#topic+D1Node-class">D1Node</a></code>: A base class for CNode and MNode.
</p>
</li>
<li><p><code><a href="#topic+MNode-class">MNode</a></code>: MNode provides functions interacting with the a DataONE Member Node repository.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Matthew B. Jones (NCEAS) and Peter Slaughter (NCEAS)
</p>


<h3>See Also</h3>

<p>A description of the <em>dataone</em> R package is available with the command: <code>'vignette("dataone-overview")'</code>.
</p>

<hr>
<h2 id='dataone-defunct'>Defunct</h2><span id='topic+dataone-defunct'></span>

<h3>Description</h3>

<p>The following items are defunct in this release of dataone and are
no longer supported.
</p>


<h3>These S4 methods are defunct</h3>


<ul>
<li><p><code><a href="#topic+D1Object">D1Object</a></code>: A representation of a DataObject
</p>

<ul>
<li><p><code><a href="#topic+D1Object-initialize">D1Object-initialize</a></code>: Initialize a D1Object
</p>
</li>
<li><p><code><a href="nlme.html#topic+getData">getData</a></code>: Get the data content of a specified D1Object.
</p>
</li>
<li><p><code><a href="datapack.html#topic+getIdentifier">getIdentifier</a></code>: Get the identifier of the D1Object.
</p>
</li>
<li><p><code><a href="datapack.html#topic+getFormatId">getFormatId</a></code>: Get the formatId of the D1Object
</p>
</li>
<li><p><code><a href="datapack.html#topic+setPublicAccess">setPublicAccess</a></code>: Add a Rule to the AccessPolicy to make the object publicly readable.
</p>
</li>
<li><p><code><a href="datapack.html#topic+canRead">canRead</a></code>: Test whether the provided subject can read an object.
</p>
</li>
<li><p><code><a href="#topic+asDataFrame">asDataFrame</a></code>: Return the D1Object as a data.frame.
</p>
</li>
<li><p><code><a href="#topic+setObsoletedBy">setObsoletedBy</a></code>: Set a pid as being obsoleted by another pid.
</p>
</li></ul>
 
</li>
<li><p><code><a href="#topic+D1Client">D1Client</a></code>: The DataONE client class used to download, update and search for data in the DataONE network
</p>

<ul>
<li><p><code><a href="#topic+d1SolrQuery">d1SolrQuery</a></code>: A method to query the DataONE solr endpoint of the Coordinating Node.
</p>
</li>
<li><p><code><a href="#topic+d1IdentifierSearch">d1IdentifierSearch</a></code>: Query the DataONE Solr endpoint of the Coordinating Node.
</p>
</li>
<li><p><code><a href="#topic+createDataPackage">createDataPackage</a></code>: Create a DataPackage on a DataONE Member Node
</p>
</li>
<li><p><code><a href="#topic+getMN">getMN</a></code>: Get a member node client based on its node identifier.
</p>
</li>
<li><p><code><a href="#topic+convert.csv">convert.csv</a></code>: Convert a DataFrame to Standard CSV.
</p>
</li>
<li><p><code><a href="datapack.html#topic+addData">addData</a></code>: Add a D1Object containing a data object to a DataPackage
</p>
</li>
<li><p><code><a href="#topic+createD1Object">createD1Object</a></code>: Create the Object in the DataONE System
</p>
</li>
<li><p><code><a href="#topic+getD1Object">getD1Object</a></code>: Download a data object from the DataONE Federation.
</p>
</li></ul>

</li>
<li><p><code>EMLParser</code>: A representation of a DataObject
</p>

<ul>
<li><p><code><a href="#topic+documented.entityNames">documented.entityNames</a></code>: The entity names associated with each table are returned.
</p>
</li>
<li><p><code><a href="#topic+documented.d1Identifiers">documented.d1Identifiers</a></code>: Get the DataONE identifier associated with each table.
</p>
</li>
<li><p><code><a href="#topic+documented.sizes">documented.sizes</a></code>: Get the table size.
</p>
</li></ul>

</li>
<li><p><code>AbstractTableDescriber</code>: Base Class for Specific Metadata Parsers
</p>

<ul>
<li><p><code><a href="#topic+data.formatFamily">data.formatFamily</a></code>: Get the table format family.
</p>
</li>
<li><p><code><a href="#topic+data.tableFieldDelimiter">data.tableFieldDelimiter</a></code>: Get the table field delimiter.
</p>
</li>
<li><p><code><a href="#topic+data.tableQuoteCharacter">data.tableQuoteCharacter</a></code>: Get the table quote character.
</p>
</li>
<li><p><code><a href="#topic+data.characterEncoding">data.characterEncoding</a></code>: The character encoding used, for example &quot;UTF-8&quot;
</p>
</li>
<li><p><code><a href="#topic+data.tableAttributeOrientation">data.tableAttributeOrientation</a></code>: Which way to the attribute headers run?  Most data has a header row
</p>
</li>
<li><p><code><a href="#topic+data.tableSkipLinesHeader">data.tableSkipLinesHeader</a></code>: The specified number of lines are skipped.
</p>
</li>
<li><p><code><a href="#topic+data.tableMissingValueCodes">data.tableMissingValueCodes</a></code>: the missing value codes are defined in the metadata document for
</p>
</li>
<li><p><code><a href="#topic+data.tableAttributeNames">data.tableAttributeNames</a></code>: The attribute names are defined in the metadata document for
</p>
</li>
<li><p><code><a href="#topic+data.tableAttributeTypes">data.tableAttributeTypes</a></code>: The attributes' data types are defined in the metadata document for
</p>
</li>
<li><p><code><a href="#topic+data.tableAttributeStorageTypes">data.tableAttributeStorageTypes</a></code>: The attributes' data storage types are defined in the metadata document for
</p>
</li></ul>

</li></ul>


<hr>
<h2 id='dataone-deprecated'>Deprecated</h2><span id='topic+dataone-deprecated'></span>

<h3>Description</h3>

<p>The following items are deprecated in this release of dataone and will be 
removed in a future release
</p>


<h3>These S4 methods are deprecated</h3>


<ul>
<li><p><code><a href="#topic+setObsoletedBy">setObsoletedBy</a></code>: Set a pid as being obsoleted by another pid.
</p>
</li>
<li><p><code><a href="#topic+CertificateManager">CertificateManager</a></code>: Create a CertificateManager object.
</p>
</li>
<li><p><code><a href="#topic+getCertLocation">getCertLocation</a></code>: Get the file path on disk of the client certificate file.
</p>
</li>
<li><p><code><a href="#topic+showClientSubject">showClientSubject</a></code>: Get DataONE Identity as Stored in the CILogon Certificate.
</p>
</li>
<li><p><code><a href="#topic+isCertExpired">isCertExpired</a></code>: Determine if an X.509 certificate has expired.
</p>
</li>
<li><p><code><a href="#topic+getCertExpires">getCertExpires</a></code>: Show the date and time when an X.509 certificate expires.
</p>
</li>
<li><p><code><a href="#topic+downloadCert">downloadCert</a></code>: Open the CILogon Certificate download page in the default browser.
</p>
</li>
<li><p><code><a href="#topic+obscureCert">obscureCert</a></code>: Obscure the CILogon Client Certificate.
</p>
</li>
<li><p><code><a href="#topic+restoreCert">restoreCert</a></code>: Restore the CILogon client certificate by renaming it to its original location
</p>
</li></ul>


<hr>
<h2 id='describeObject'>Efficiently get systemmetadata for an object.</h2><span id='topic+describeObject'></span><span id='topic+describeObject+2CD1Node-method'></span>

<h3>Description</h3>

<p>This method provides a lighter weight mechanism than getSystemMetadata() for a client to
determine basic properties of the referenced object. This operation requires read privileges for the
object specified by <code>'pid'</code>, as is granted with a DataONE authentication token or X.509 certificate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describeObject(x, ...)

## S4 method for signature 'D1Node'
describeObject(x, pid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="describeObject_+3A_x">x</code></td>
<td>
<p>The MNode or CNode instance to send request to.</p>
</td></tr>
<tr><td><code id="describeObject_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="describeObject_+3A_pid">pid</code></td>
<td>
<p>Identifier for the object in question. May be either a PID or a SID. Transmitted as
part of the URL path and must be escaped accordingly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of header elements
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MNRead.describe">https://purl.dataone.org/architecture/apis/MN_APIs.html#MNRead.describe</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
mn_uri &lt;- "https://knb.ecoinformatics.org/knb/d1/mn/v1"
mn &lt;- MNode(mn_uri)
pid &lt;- "knb.473.1"
describeObject(mn, pid)
describeObject(mn, "adfadf") # warning message when wrong pid

## End(Not run)
</code></pre>

<hr>
<h2 id='documented.d1Identifiers'>Get DataONE identifiers</h2><span id='topic+documented.d1Identifiers'></span><span id='topic+documented.d1Identifiers+2CEMLParser-method'></span>

<h3>Description</h3>

<p>Get the DataONE identifier associated with each table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>documented.d1Identifiers(x, ...)

## S4 method for signature 'EMLParser'
documented.d1Identifiers(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="documented.d1Identifiers_+3A_x">x</code></td>
<td>
<p>the TableDescriber</p>
</td></tr>
<tr><td><code id="documented.d1Identifiers_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of dataONE identifiers
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='documented.entityNames'>Get the entity names associated with each table</h2><span id='topic+documented.entityNames'></span><span id='topic+documented.entityNames+2CEMLParser-method'></span>

<h3>Description</h3>

<p>The entity names associated with each table are returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>documented.entityNames(x, ...)

## S4 method for signature 'EMLParser'
documented.entityNames(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="documented.entityNames_+3A_x">x</code></td>
<td>
<p>the TableDescriber</p>
</td></tr>
<tr><td><code id="documented.entityNames_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of entity names
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='documented.sizes'>Get the sizes of the described data tables.</h2><span id='topic+documented.sizes'></span><span id='topic+documented.sizes+2CEMLParser-method'></span>

<h3>Description</h3>

<p>Get the table size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>documented.sizes(x, ...)

## S4 method for signature 'EMLParser'
documented.sizes(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="documented.sizes_+3A_x">x</code></td>
<td>
<p>the TableDescriber</p>
</td></tr>
<tr><td><code id="documented.sizes_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of data table sizes (in bytes)
</p>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='downloadCert'>Open the CILogon Certificate download page in the default browser.</h2><span id='topic+downloadCert'></span><span id='topic+downloadCert+2CCertificateManager-method'></span>

<h3>Description</h3>

<p>A convenience method to take you to the CILogon download page:  
&quot;https://cilogon.org/?skin=DataONE. Logging into CILogon will allow
you to download your X.509 certificate to your local computer.  Typically,
the certificate is saved in the default Globus location for certificates 
(<code><a href="#topic+getCertLocation">getCertLocation</a></code>) and once it is there, the <code>'dataone'</code> 
package will use the certificate for all authenticated operations.  Deleting 
the certificate file is the equivalent of logging out.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>downloadCert(x, ...)

## S4 method for signature 'CertificateManager'
downloadCert(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="downloadCert_+3A_x">x</code></td>
<td>
<p>a CertificateManager instance</p>
</td></tr>
<tr><td><code id="downloadCert_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>

<hr>
<h2 id='downloadObject'>Download an object from the DataONE Federation to Disk.</h2><span id='topic+downloadObject'></span><span id='topic+downloadObject+2CD1Client-method'></span>

<h3>Description</h3>

<p>A convenience method to download an object to disk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>downloadObject(x, identifier, ...)

## S4 method for signature 'D1Client'
downloadObject(x, identifier, path = getwd(), check = as.logical(TRUE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="downloadObject_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
<tr><td><code id="downloadObject_+3A_identifier">identifier</code></td>
<td>
<p>The identifier of the object to get.</p>
</td></tr>
<tr><td><code id="downloadObject_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="downloadObject_+3A_path">path</code></td>
<td>
<p>(optional) Path to a directory to write object to. The name of the file will be determined from the
SystemMetada of the object (see details for more information).
The function will fail if a file with the same name already exists in the directory.</p>
</td></tr>
<tr><td><code id="downloadObject_+3A_check">check</code></td>
<td>
<p>(optional) A logical value, if TRUE check if this object has been obsoleted by another object in DataONE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method performs multiple underlying calls to the DataONE repository network. 
CN.resolve() is called to locate the object on one or more repositories, and then each of these
is accessed until success at downloading the associated SystemMetadata for the object. 
The SystemMetadata is used to assign a name to the file that is output to disk. If a fileName is specified in
the SystemMetadata, then the file output to disk will be named according to the SystemMetadata fileName. 
If there is not a specified SystemMetadata fileName, the identifier will be used as the file name output to disk.
If the identifier is used as the file name, a file name extension will be determined using the SystemMetadata
formatID along with information from CNCore.listFormats(). If the SystemMetadata formatID is
&quot;application/octet-stream&quot; no extension will be written.
</p>


<h3>Value</h3>

<p>A path where the ouput file is written to.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
d1c &lt;- D1Client("PROD", "urn:node:KNB")
pid &lt;- "solson.5.1"
path &lt;- downloadObject(d1c, pid)

## End(Not run)
</code></pre>

<hr>
<h2 id='echoCredentials'>Echo the credentials used to make the call.</h2><span id='topic+echoCredentials'></span><span id='topic+echoCredentials+2CCNode-method'></span>

<h3>Description</h3>

<p>This method can be used to verify the client certificate is valid 
and contains the expected information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>echoCredentials(x, ...)

## S4 method for signature 'CNode'
echoCredentials(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="echoCredentials_+3A_x">x</code></td>
<td>
<p>The coordinating node to send the request to.</p>
</td></tr>
<tr><td><code id="echoCredentials_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The authentication credentials contained in the X.509 certificate or
authentication token are send with the request.
</p>


<h3>Value</h3>

<p>A list containing authentication info.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cn &lt;- CNode("STAGING")
creds &lt;- echoCredentials(cn)
print(creds$person$subject)

## End(Not run)
</code></pre>

<hr>
<h2 id='EMLParser'>Construct an EML parser object.</h2><span id='topic+EMLParser'></span><span id='topic+EMLParser+2CD1Object-method'></span>

<h3>Description</h3>

<p>Construct an EML parser object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EMLParser(d1Object, ...)

## S4 method for signature 'D1Object'
EMLParser(d1Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EMLParser_+3A_d1object">d1Object</code></td>
<td>
<p>The D1Object to obtain data from.</p>
</td></tr>
<tr><td><code id="EMLParser_+3A_...">...</code></td>
<td>
<p>Additional parameters</p>
</td></tr>
</table>

<hr>
<h2 id='EMLParser-class'>Handler for Parsing Table Format Details from Metadata</h2><span id='topic+EMLParser-class'></span>

<h3>Description</h3>

<p>#' Implements methods to provide parsing instructions for asDataFrame.
</p>


<h3>Details</h3>

<p>#' handles eml formats 2.0.0 through 2.1.1
</p>


<h3>Slots</h3>


<dl>
<dt><code>d1Object</code></dt><dd><p>the metadata object</p>
</dd>
<dt><code>xmlDocRoot</code></dt><dd><p>the xml representation of the metadata</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>rnahf
</p>

<hr>
<h2 id='encodeSolr'>Encode the input for Solr Queries</h2><span id='topic+encodeSolr'></span><span id='topic+encodeSolr+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Treating all special characters and spaces as literals, backslash escape special
characters, and double-quote if necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encodeSolr(x, ...)

## S4 method for signature 'character'
encodeSolr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="encodeSolr_+3A_x">x</code></td>
<td>
<p>: a string to encode</p>
</td></tr>
<tr><td><code id="encodeSolr_+3A_...">...</code></td>
<td>
<p>(not yet used.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the encoded form of the input
</p>


<h3>Examples</h3>

<pre><code class='language-R'>encodeSolr("this &amp; that")
</code></pre>

<hr>
<h2 id='encodeUrlPath'>Encode the Input for a URL Path Segment.</h2><span id='topic+encodeUrlPath'></span><span id='topic+encodeUrlPath+2CD1Client-method'></span>

<h3>Description</h3>

<p>Encodes the characters of the input so they are not interpreted as reserved
characters in url strings.  Will also encode non-ASCII unicode characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encodeUrlPath(x, ...)

## S4 method for signature 'D1Client'
encodeUrlPath(x, pathSegment, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="encodeUrlPath_+3A_x">x</code></td>
<td>
<p>A D1Client object</p>
</td></tr>
<tr><td><code id="encodeUrlPath_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="encodeUrlPath_+3A_pathsegment">pathSegment</code></td>
<td>
<p>: a string to encode</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the encoded form of the input
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
fullyEncodedPath &lt;- paste0("cn/v1/object/", 
    encodeUrlPath(d1c, "doi:10.6085/AA/YBHX00_XXXITBDXMMR01_20040720.50.5"))

## End(Not run)
</code></pre>

<hr>
<h2 id='encodeUrlQuery'>Encode the Input for a URL Query Segment.</h2><span id='topic+encodeUrlQuery'></span><span id='topic+encodeUrlQuery+2CD1Client-method'></span>

<h3>Description</h3>

<p>Encodes the characters of the input so they are not interpreted as reserved
characters in url strings.  Will also encode non-ASCII unicode characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encodeUrlQuery(x, ...)

## S4 method for signature 'D1Client'
encodeUrlQuery(x, querySegment, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="encodeUrlQuery_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
<tr><td><code id="encodeUrlQuery_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="encodeUrlQuery_+3A_querysegment">querySegment</code></td>
<td>
<p>: a string to encode</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the encoded form of the input
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
fullyEncodedQuery &lt;- paste0("q=id:",
    encodeUrlQuery(d1c, encodeSolr("doi:10.6085/AA/YBHX00_XXXITBDXMMR01_20040720.50.5")))

## End(Not run)
</code></pre>

<hr>
<h2 id='evaluateAuth'>Evaluate DataONE authentication.</h2><span id='topic+evaluateAuth'></span><span id='topic+evaluateAuth+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>A valid DataONE authentication method is looked for and all
authentication information is retrieved from it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluateAuth(.Object, ...)

## S4 method for signature 'AuthenticationManager'
evaluateAuth(.Object, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evaluateAuth_+3A_.object">.Object</code></td>
<td>
<p>an Authentication Object.</p>
</td></tr>
<tr><td><code id="evaluateAuth_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
<tr><td><code id="evaluateAuth_+3A_node">node</code></td>
<td>
<p>A D1Node object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the node specified in the <code>'node'</code> parameter is a DataONE v2 node
or higher, then an authentication token is checked if one exists. If it is readable
and not expired, then information for the token is returned. If a valid token does
not exist, then the X.509 certificate is checked, if it exists. If it is valid
then information is returned for the certificate.
</p>


<h3>Value</h3>

<p>A table containing authentication information.
</p>

<hr>
<h2 id='generateIdentifier'>Get a unique identifier that is generated by the Member Node repository and guaranteed to be unique.</h2><span id='topic+generateIdentifier'></span><span id='topic+enerateIdentifier'></span><span id='topic+generateIdentifier+2CMNode-method'></span>

<h3>Description</h3>

<p>Creating objects requires use of a unique persistent identifier (pid) when calling the create
function.  Member Nodes may optionally provide the generateIdentifier service to issue such identifiers, 
ensuring that they are unique. Each identifier conforms to an identifier scheme, which determines the syntax and
rules for how the identifier that is generated is formatted.  All Member Nodes that implement this method must 
support the UUID scheme, but may also support other schemes such as DOI and others.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateIdentifier(x, ...)

## S4 method for signature 'MNode'
generateIdentifier(x, scheme = "UUID", fragment = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateIdentifier_+3A_x">x</code></td>
<td>
<p>The MNode instance on which the object will be created</p>
</td></tr>
<tr><td><code id="generateIdentifier_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="generateIdentifier_+3A_scheme">scheme</code></td>
<td>
<p>The identifier scheme to be used, such as DOI, UUID, etc.</p>
</td></tr>
<tr><td><code id="generateIdentifier_+3A_fragment">fragment</code></td>
<td>
<p>An optional fragment to be prepended to the identifier for schemes that support it (not all do).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the version 2.0 library and higher, this operation can utilize an 
'dataone_token' option to provide credentials for write operations in DataONE.
The authentication token is obtained from DataONE (see your profile on https://search.dataone.org).
See the <code>vignette("dataone-overview")</code> for details.
Alternatively, the version 1.0 approach of using an X.509 certificate in a default location of the file 
system can also be used. This certificate provides authentication credentials from 
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.  See <code>vignette("dataone-overview")</code> for details.
</p>


<h3>Value</h3>

<p>the character string of the generated unique identifier
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.generateIdentifier">https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.generateIdentifier</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode("STAGING")
mn &lt;- getMNode(cn, "urn:node:mnStageUCSB2")
newid &lt;- generateIdentifier(mn, "UUID")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_user_agent'>User agent string</h2><span id='topic+get_user_agent'></span>

<h3>Description</h3>

<p>Get a string representation of the user agent to be sent to the server along
with other request details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_user_agent()
</code></pre>

<hr>
<h2 id='getAuthExpires'>Get the expiration date of the current authentication method.</h2><span id='topic+getAuthExpires'></span><span id='topic+getAuthExpires+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>The expiration date of the current authentication method, either
authentication token or X.509 certificate, is returned as a Greenwich Mean Time (GMT) value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAuthExpires(.Object, node)

## S4 method for signature 'AuthenticationManager'
getAuthExpires(.Object, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAuthExpires_+3A_.object">.Object</code></td>
<td>
<p>An AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="getAuthExpires_+3A_node">node</code></td>
<td>
<p>A D1Node instance</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The expiration date for the current authentication mechanism being used.
</p>

<hr>
<h2 id='getAuthMethod'>Get the current valid authentication mechanism.</h2><span id='topic+getAuthMethod'></span><span id='topic+getAuthMethod+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Get the current valid authentication mechanism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAuthMethod(.Object, ...)

## S4 method for signature 'AuthenticationManager'
getAuthMethod(.Object, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAuthMethod_+3A_.object">.Object</code></td>
<td>
<p>An AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="getAuthMethod_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="getAuthMethod_+3A_node">node</code></td>
<td>
<p>A D1Node instance to determine the authentication method for.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The current authentication method being used, either an authentication token or an X.509 certificate. The <code>'node'</code>
argument is used to determine the authentication mechanism that is appropriate for the specified <code>'node'</code>.
For example, authentication tokens are supported on DataONE nodes that use the DataONE V2.0 API or higher, so if the 
node uses the V1 API, then only an X.509 certificate can be used.
</p>


<h3>Value</h3>

<p>The current authentication mechanism as a character string, either &quot;token&quot; or &quot;cert&quot;.
</p>

<hr>
<h2 id='getAuthSubject'>Get the authentication subject.</h2><span id='topic+getAuthSubject'></span><span id='topic+getAuthSubject+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Get the authentication subject.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAuthSubject(.Object, ...)

## S4 method for signature 'AuthenticationManager'
getAuthSubject(.Object, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAuthSubject_+3A_.object">.Object</code></td>
<td>
<p>an AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="getAuthSubject_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="getAuthSubject_+3A_node">node</code></td>
<td>
<p>A D1Node instance</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The authenticated user, aka 'subject' is retrieved from the authentication mechanism
currently being used, either an authentication token or an X.509 certificate. The <code>'node'</code>
argument is used to determine the authentication mechanism that is appropriate for the specified <code>'node'</code>.
For example, authentication tokens are supported on DataONE nodes that use the DataONE V2.0 API or higher, so if the 
node uses the V1 API, then only an X.509 certificate can be used.
</p>


<h3>Value</h3>

<p>the DataONE Subject that is your client's identity
</p>

<hr>
<h2 id='getCapabilities'>Get the node capabilities description, and store the information in the MNode.</h2><span id='topic+getCapabilities'></span><span id='topic+getCapabilities+2CMNode-method'></span>

<h3>Description</h3>

<p>Access the DataONE getCapabilities() service for the Member Node, which returns an XML
description of the repository and the services it offers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCapabilities(x, ...)

## S4 method for signature 'MNode'
getCapabilities(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCapabilities_+3A_x">x</code></td>
<td>
<p>The node identifier with which this node is registered in DataONE</p>
</td></tr>
<tr><td><code id="getCapabilities_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an XMLInternalDocument object representing the DataONE environment
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MN_core.getCapabilities">https://purl.dataone.org/architecture/apis/MN_APIs.html#MN_core.getCapabilities</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")
xml &lt;- getCapabilities(mn)

## End(Not run)
</code></pre>

<hr>
<h2 id='getCert'>Get the DataONE X.509 Certificate location.</h2><span id='topic+getCert'></span><span id='topic+getCert+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Get the DataONE X.509 Certificate location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCert(.Object, ...)

## S4 method for signature 'AuthenticationManager'
getCert(.Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCert_+3A_.object">.Object</code></td>
<td>
<p>an AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="getCert_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The filename of the current DataONE X.509 Certificate if it is available.
</p>

<hr>
<h2 id='getCertExpires'>Show the date and time when an X.509 certificate expires.</h2><span id='topic+getCertExpires'></span><span id='topic+getCertExpires+2CCertificateManager-method'></span>

<h3>Description</h3>

<p>Each X.509 has a range of certificate validity times.  This method returns the X.509 
<code>'notAfter'</code> field formatted as a <code>'POSIXct'</code> date value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCertExpires(x, ...)

## S4 method for signature 'CertificateManager'
getCertExpires(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCertExpires_+3A_x">x</code></td>
<td>
<p>a CertificateManager instance</p>
</td></tr>
<tr><td><code id="getCertExpires_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>POSIXct value
</p>

<hr>
<h2 id='getCertInfo'>Get X.509 Certificate information</h2><span id='topic+getCertInfo'></span><span id='topic+getCertInfo+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>The DataONE X.509 certificate is read, if it is present and the
information contained in the certificate is returned as a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCertInfo(.Object)

## S4 method for signature 'AuthenticationManager'
getCertInfo(.Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCertInfo_+3A_.object">.Object</code></td>
<td>
<p>an Authentication Object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing information about the X.509 certificate.
</p>

<hr>
<h2 id='getCertLocation'>Get the file path on disk of the client certificate file.</h2><span id='topic+getCertLocation'></span><span id='topic+getCertLocation+2CCertificateManager-method'></span>

<h3>Description</h3>

<p>Find the location of the client certificate, which is typically in a default
location on disk, unless the <code>'location'</code> slot has been set with a custom location for
the certificate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCertLocation(x, ...)

## S4 method for signature 'CertificateManager'
getCertLocation(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCertLocation_+3A_x">x</code></td>
<td>
<p>a CertificateManager instance</p>
</td></tr>
<tr><td><code id="getCertLocation_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default  Globus Grid Security Infrastructure (GSI) location is <code>'/tmp/x509up_u${UID}'</code> 
on Unix or <code>'${tmpdir}/x509up_u${UID}'</code> on Windows or <code>'${tmpdir}/x509up_u${user.name}'</code> 
if <code>'${UID}'</code> is not defined.
</p>


<h3>Value</h3>

<p>character the path to the certificate
</p>

<hr>
<h2 id='getChecksum'>Get the checksum for the data object associated with the specified pid.</h2><span id='topic+getChecksum'></span><span id='topic+getChecksum+2CCNode-method'></span><span id='topic+getChecksum+2CMNode-method'></span>

<h3>Description</h3>

<p>A checksum is calculated for an object when it is uploaded to DataONE and
is submitted with the object's system metadata. The <code>'getChecksum'</code> method retrieves
the checksum from the specified coordinating node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getChecksum(x, ...)

## S4 method for signature 'CNode'
getChecksum(x, pid, ...)

## S4 method for signature 'MNode'
getChecksum(x, pid, checksumAlgorithm = "SHA-256")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getChecksum_+3A_x">x</code></td>
<td>
<p>The CNode instance from which the checksum will be retrieved</p>
</td></tr>
<tr><td><code id="getChecksum_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="getChecksum_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object</p>
</td></tr>
<tr><td><code id="getChecksum_+3A_checksumalgorithm">checksumAlgorithm</code></td>
<td>
<p>The algorithm used to calculate the checksum. Default=&quot;SHA-256&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character the checksum value, with the checksum algorithm as the attribute &quot;algorithm&quot;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Node-class">D1Node-class</a>{D1Node}</code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
library(dataone)
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")
pid &lt;- "doi:10.5063/F1QN64NZ"
chksum &lt;- getChecksum(mn, pid)

## End(Not run)
## Not run: 
pid &lt;- "doi:10.5063/F1QN64NZ"
cn &lt;- CNode()
pid &lt;- "doi:10.5063/F1QN64NZ"
chksum &lt;- getChecksum(cn, pid)

## End(Not run)
</code></pre>

<hr>
<h2 id='getCN'>Get the coordinating node associated with this D1Client object.</h2><span id='topic+getCN'></span><span id='topic+getCN+2CD1Client-method'></span>

<h3>Description</h3>

<p>Get the coordinating node associated with this D1Client object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCN(x)

## S4 method for signature 'D1Client'
getCN(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCN_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The method getCN has been deprecated.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cli &lt;- D1Client("STAGING2", "urn:node:mnTestKNB")
testCN &lt;- getCN(cli)

## End(Not run)
</code></pre>

<hr>
<h2 id='getD1Object'>Download a data object from the DataONE Federation.</h2><span id='topic+getD1Object'></span><span id='topic+getD1Object+2CD1Client-method'></span>

<h3>Description</h3>

<p>An object is download from the DataONE network for the identifier that is provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getD1Object(x, identifier, ...)

## S4 method for signature 'D1Client'
getD1Object(x, identifier)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getD1Object_+3A_x">x</code></td>
<td>
<p>A D1Client instance</p>
</td></tr>
<tr><td><code id="getD1Object_+3A_identifier">identifier</code></td>
<td>
<p>The identifier of the object to download from DataONE</p>
</td></tr>
<tr><td><code id="getD1Object_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A datapack:DataObject
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
library(dataone)
d1c &lt;- D1Client("PROD", "urn:node:KNB")
pid &lt;- "solson.5.1"
dataObj &lt;- getD1Object(d1c, pid)
data &lt;- getData(dataObj)

## End(Not run)
</code></pre>

<hr>
<h2 id='getData+2CD1Object-method'>Get the data content of a D1Object.</h2><span id='topic+getData+2CD1Object-method'></span>

<h3>Description</h3>

<p>Get the data content of a D1Object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Object'
getData(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getData+2B2CD1Object-method_+3A_x">x</code></td>
<td>
<p>D1Object the data structure from where to get the data</p>
</td></tr>
</table>

<hr>
<h2 id='getDataObject'>Download a file (and it's associated system metadata) from the DataONE Federation as a DataObject.</h2><span id='topic+getDataObject'></span><span id='topic+getDataObject+2CD1Client-method'></span>

<h3>Description</h3>

<p>A convenience method to download a data object and its associated SystemMetadata, wrapped
in a DataObject class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDataObject(x, identifier, ...)

## S4 method for signature 'D1Client'
getDataObject(
  x,
  identifier,
  lazyLoad = FALSE,
  limit = "1MB",
  quiet = TRUE,
  checksumAlgorithm = as.character(NA)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDataObject_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
<tr><td><code id="getDataObject_+3A_identifier">identifier</code></td>
<td>
<p>The identifier of the object to get.</p>
</td></tr>
<tr><td><code id="getDataObject_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
<tr><td><code id="getDataObject_+3A_lazyload">lazyLoad</code></td>
<td>
<p>A <code>logical</code> value. If TRUE, then only package member system metadata is downloaded and not data.</p>
</td></tr>
<tr><td><code id="getDataObject_+3A_limit">limit</code></td>
<td>
<p>A <code>character</code> value specifying maximum package member size to download. Specified with &quot;KB&quot;, &quot;MB&quot; or &quot;TB&quot;
for example: &quot;100KB&quot;, &quot;10MB&quot;, &quot;20GB&quot;, &quot;1TB&quot;. The default is &quot;1MB&quot;. Only takes effect if 'lazyLoad=FALSE'.</p>
</td></tr>
<tr><td><code id="getDataObject_+3A_quiet">quiet</code></td>
<td>
<p>A <code>'logical'</code>. If TRUE (the default) then informational messages will not be printed.</p>
</td></tr>
<tr><td><code id="getDataObject_+3A_checksumalgorithm">checksumAlgorithm</code></td>
<td>
<p>A <code>character</code> value specifying the algorithm to use to re-calculate (after download) the system metadata checksum 
for the object's data bytes for example: &quot;SHA-256&quot;. The default is &quot;NA&quot;, which specifies that this 
re-calculation will not be performed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method performs multiple underlying calls to the DataONE repository network. 
CN.resolve() is called to locate the object on one or more repositories, and then each of these
is accessed until the associated SystemMetadata and data bytes are successfully downloaded. This 
data is then used to construct the returned DataObject. This function replaces the previous 
getD1Object() method in the version 1
dataone library. <br /><br />
The <code>lazyLoad</code> parameter controls whether the data byes for a DataONE item are downloaded (the system
metadata is always downloaded). When <code>lazyLoad</code>=FALSE,the <code>limit</code> parameter can be used to specify
the maximum size of a data file that will be downloaded. If <code>lazyLoad</code> is TRUE, then <code>limit</code>
is ignored. The <code>lazyLoad</code> and <code>limit</code> can be used together in the following ways:
</p>

<table>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> 'lazyLoad' </td><td style="text-align: left;"> 'limit' </td><td style="text-align: left;"> result </td><td style="text-align: left;"> comments </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> ---------- </td><td style="text-align: left;"> ------- </td><td style="text-align: left;"> ------ </td><td style="text-align: left;"> --------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> Any value </td><td style="text-align: left;"> Data bytes are not downloaded </td><td style="text-align: left;"> The 'limit' parameter is ignored </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> Not specified </td><td style="text-align: left;"> Data bytes are download if less than 1MB </td><td style="text-align: left;"> The default 'limit' of 1MB is used </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> 10MB </td><td style="text-align: left;"> Data bytes are downloaded if less than 10MB </td><td style="text-align: left;"> The specified 'limit' values is used </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Note that DataONE system metadata is always downloaded and populated into the resulting DataObject, regardless
of the 'lazyLoad' and 'limit' values specified in the call to 'getDataObject()'.
</p>


<h3>Value</h3>

<p>A DataObject or NULL if the object was not found in DataONE
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
d1c &lt;- D1Client("PROD", "urn:node:KNB")
pid &lt;- "solson.5.1"
obj &lt;- getDataObject(d1c, pid)
data &lt;- getData(obj)

## End(Not run)
</code></pre>

<hr>
<h2 id='getDataPackage'>Download data from the DataONE Federation as a DataPackage.</h2><span id='topic+getDataPackage'></span><span id='topic+getDataPackage+2CD1Client-method'></span>

<h3>Description</h3>

<p>This is convenience method that will download all the members in a DataONE data package 
and insert them into a DataPackage, including associated SystemMetadata for each package
member.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDataPackage(x, identifier, ...)

## S4 method for signature 'D1Client'
getDataPackage(
  x,
  identifier,
  lazyLoad = FALSE,
  limit = "1MB",
  quiet = TRUE,
  checksumAlgorithm = as.character(NA)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDataPackage_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
<tr><td><code id="getDataPackage_+3A_identifier">identifier</code></td>
<td>
<p>The identifier of a package, package metadata or other package member</p>
</td></tr>
<tr><td><code id="getDataPackage_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
<tr><td><code id="getDataPackage_+3A_lazyload">lazyLoad</code></td>
<td>
<p>A <code>logical</code> value. If TRUE, then only package member system metadata is downloaded and not data.
The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="getDataPackage_+3A_limit">limit</code></td>
<td>
<p>A <code>character</code> value specifying maximum package member size to download. Specified with &quot;KB&quot;, &quot;MB&quot; or &quot;TB&quot;
for example: &quot;100KB&quot;, &quot;10MB&quot;, &quot;20GB&quot;, &quot;1TB&quot;. The default is &quot;1MB&quot;. Only takes effect if 'lazyLoad=FALSE'.</p>
</td></tr>
<tr><td><code id="getDataPackage_+3A_quiet">quiet</code></td>
<td>
<p>A <code>'logical'</code>. If TRUE (the default) then informational messages will not be printed.</p>
</td></tr>
<tr><td><code id="getDataPackage_+3A_checksumalgorithm">checksumAlgorithm</code></td>
<td>
<p>A <code>character</code> value specifying the algorithm to use to re-calculate (after download) the system metadata checksum 
for the object's data bytes for example: &quot;SHA-256&quot;. The default is &quot;NA&quot;, which specifies that this re-calculation will not be performed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A 'data package' that resides on a DataONE member node is defined as a collection of
digital objects that are described by a metadata document. <br /><br />
The <code>lazyLoad</code> parameter controls whether the data bytes for a DataONE package member are downloaded (the system
metadata is always downloaded). When <code>lazyLoad</code>=FALSE, the <code>limit</code> parameter can be used to specify
the maximum size of a data file that will be downloaded. If <code>lazyLoad</code> is TRUE, then <code>limit</code>
is ignored. The <code>lazyLoad</code> and <code>limit</code> parameters can be used together in the following ways:
</p>

<table>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> 'lazyLoad' </td><td style="text-align: left;"> 'limit' </td><td style="text-align: left;"> result </td><td style="text-align: left;"> comments </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> ---------- </td><td style="text-align: left;"> ------- </td><td style="text-align: left;"> ------ </td><td style="text-align: left;"> --------------------- </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> Any value </td><td style="text-align: left;"> Data bytes are not downloaded </td><td style="text-align: left;"> The 'limit' parameter is ignored </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> Not specified </td><td style="text-align: left;"> Data bytes are download if less than 1MB </td><td style="text-align: left;"> The default 'limit' of 1MB is used </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> FALSE </td><td style="text-align: left;"> 10MB </td><td style="text-align: left;"> Data bytes are downloaded if less than 10MB </td><td style="text-align: left;"> The specified 'limit' values is used </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>A DataPackage or NULL if the package was not found in DataONE
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
d1c &lt;- D1Client("PROD", "urn:node:KNB")
pid &lt;- "solson.5.1"
pkg &lt;- getDataPackage(d1c, pid)

## End(Not run)
</code></pre>

<hr>
<h2 id='getEndpoint'>Return the URL endpoint for the DataONE Coordinating Node.</h2><span id='topic+getEndpoint'></span><span id='topic+getEndpoint+2CD1Client-method'></span>

<h3>Description</h3>

<p>A D1Client object is associated with a DataONE Coordinating Node. This
CN is either the production CN (from the &quot;PROD&quot; environment, the default), or a CN from one
of the development environments (&quot;STAGING&quot;, &quot;SANDBOX&quot;, &quot;DEV&quot;). The base URL for the CN
is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getEndpoint(x, ...)

## S4 method for signature 'D1Client'
getEndpoint(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getEndpoint_+3A_x">x</code></td>
<td>
<p>A D1Client object</p>
</td></tr>
<tr><td><code id="getEndpoint_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing the URL of the Coordinating Node
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cli &lt;- D1Client("STAGING2", "urn:node:mnTestKNB")
cnUrl &lt;- getEndpoint(cli)

## End(Not run)
</code></pre>

<hr>
<h2 id='getErrorDescription'>Extract an error message from an http response.</h2><span id='topic+getErrorDescription'></span>

<h3>Description</h3>

<p>Http requests can fail
for a variety of reasons, so getErrorDescription first tries to
determine what type of response was sent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getErrorDescription(response)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getErrorDescription_+3A_response">response</code></td>
<td>
<p>The httr response object to extract the error description from.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The return types handled by this function are:
o An incorrect url is sent to DataONE and an error is returned by
the web server, not a specified DataONE service url. In this case,
a generic error message may be returned, e.g. status=404, URL not found
o A DataONE service was called, and returned an error message. In this
case the DataONE response is parsed in an attempt to retrieve a
meaningful error message.
</p>

<hr>
<h2 id='getFormat'>Get information for a single DataONE object format</h2><span id='topic+getFormat'></span><span id='topic+getFormat+2CCNode-method'></span>

<h3>Description</h3>

<p>Get information for a single DataONE object format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFormat(x, ...)

## S4 method for signature 'CNode'
getFormat(x, formatId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFormat_+3A_x">x</code></td>
<td>
<p>A CNode object instance</p>
</td></tr>
<tr><td><code id="getFormat_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="getFormat_+3A_formatid">formatId</code></td>
<td>
<p>The formatId to retrieve.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of all object formats registered in the DataONE Object Format Vocabulary.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode()
fmt &lt;- getFormat(cn, "eml://ecoinformatics.org/eml-2.1.0")
cat(sprintf("format name: %s\n", fmt$name))
cat(sprintf("format type: %s\n", fmt$type))
cat(sprintf("format Id: %s\n", fmt$id))

## End(Not run)
</code></pre>

<hr>
<h2 id='getFormatId+2CD1Object-method'>Get the FormatId of the D1Object</h2><span id='topic+getFormatId+2CD1Object-method'></span>

<h3>Description</h3>

<p>Get the FormatId of the D1Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Object'
getFormatId(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFormatId+2B2CD1Object-method_+3A_x">x</code></td>
<td>
<p>D1Object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the formatId
</p>

<hr>
<h2 id='getIdentifier+2CD1Object-method'>Get the Identifier of the D1Object</h2><span id='topic+getIdentifier+2CD1Object-method'></span>

<h3>Description</h3>

<p>Get the Identifier of the D1Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Object'
getIdentifier(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getIdentifier+2B2CD1Object-method_+3A_x">x</code></td>
<td>
<p>D1Object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the identifier
</p>

<hr>
<h2 id='getMetadataMember'>Get the DataObject containing package metadata</h2><span id='topic+getMetadataMember'></span><span id='topic+getMetadataMember+2CD1Client+2CDataPackage-method'></span>

<h3>Description</h3>

<p>Each DataObject in the DataPackage is inspected to see if it matches one
of the formats supported by DataONE for metadata. If a package member's format matches
one of the supported formats, the identifier for that member is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMetadataMember(x, dp, ...)

## S4 method for signature 'D1Client,DataPackage'
getMetadataMember(x, dp, as = "character", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMetadataMember_+3A_x">x</code></td>
<td>
<p>A D1Client object</p>
</td></tr>
<tr><td><code id="getMetadataMember_+3A_dp">dp</code></td>
<td>
<p>A DataPackage object</p>
</td></tr>
<tr><td><code id="getMetadataMember_+3A_...">...</code></td>
<td>
<p>(Additional arguments, Not yet used.)</p>
</td></tr>
<tr><td><code id="getMetadataMember_+3A_as">as</code></td>
<td>
<p>A value of type <code>"character"</code> that specifies the return value. Possible values are <code>"character"</code> (the default) or <code>"DataPackage"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method calls the DataONE CN 'format' service to obtain the current format
list.
</p>


<h3>Value</h3>

<p>The identifier of the metadata object
</p>

<hr>
<h2 id='getMN'>Get a member node client based on its node identifier.</h2><span id='topic+getMN'></span><span id='topic+getMN+2CD1Client+2CANY-method'></span><span id='topic+getMN+2CD1Client+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Get a member node client based on its node identifier.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMN(x, nodeid, ...)

## S4 method for signature 'D1Client,ANY'
getMN(x, nodeid, ...)

## S4 method for signature 'D1Client,character'
getMN(x, nodeid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMN_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
<tr><td><code id="getMN_+3A_nodeid">nodeid</code></td>
<td>
<p>The identifier of the node to retrieve.</p>
</td></tr>
<tr><td><code id="getMN_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This method has been superceded by <code><a href="#topic+getMNodeId">getMNodeId</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cli &lt;- D1Client("STAGING2", "urn:node:mnTestKNB")
testMN &lt;- getMN(cli)

## End(Not run)
</code></pre>

<hr>
<h2 id='getMNode'>Get a reference to a node based on its identifier</h2><span id='topic+getMNode'></span><span id='topic+getMNode+2CCNode-method'></span>

<h3>Description</h3>

<p>Get a reference to a node based on its identifier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMNode(x, ...)

## S4 method for signature 'CNode'
getMNode(x, nodeid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMNode_+3A_x">x</code></td>
<td>
<p>The coordinating node to query for its registered Member Nodes</p>
</td></tr>
<tr><td><code id="getMNode_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="getMNode_+3A_nodeid">nodeid</code></td>
<td>
<p>The standard identifier string for this node</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For an explanation of DataONE Coordinating Nodes and Member Node
identifiers, see the section <em>&quot;DataONE Environments&quot;</em> in the overview vignette 
by entering the R command: <code>vignette("dataone-overview")</code>.
</p>


<h3>Value</h3>

<p>the Member Node as an MNode reference, or NULL if not found
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")

## End(Not run)
</code></pre>

<hr>
<h2 id='getMNodeId'>Get the member node identifier associated with this D1Client object..</h2><span id='topic+getMNodeId'></span><span id='topic+getMNodeId+2CD1Client-method'></span>

<h3>Description</h3>

<p>One Member Node can be associated with the client as the default to which
data and metadata are written.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMNodeId(x)

## S4 method for signature 'D1Client'
getMNodeId(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMNodeId_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Member Node identifier  as a character vector
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cli &lt;- D1Client("STAGING2", "urn:node:mnTestKNB")
mn &lt;- getMNodeId(cli)

## End(Not run)
</code></pre>

<hr>
<h2 id='getObject'>Get the bytes associated with an object on this Node.</h2><span id='topic+getObject'></span><span id='topic+getObject+2CCNode-method'></span><span id='topic+getObject+2CMNode-method'></span>

<h3>Description</h3>

<p>Get the bytes associated with an object on this Node.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getObject(x, ...)

## S4 method for signature 'CNode'
getObject(x, pid)

## S4 method for signature 'MNode'
getObject(x, pid, check = as.logical(FALSE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getObject_+3A_x">x</code></td>
<td>
<p>The Node instance from which the pid will be downloaded</p>
</td></tr>
<tr><td><code id="getObject_+3A_...">...</code></td>
<td>
<p>(Not yet used).</p>
</td></tr>
<tr><td><code id="getObject_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object to be downloaded</p>
</td></tr>
<tr><td><code id="getObject_+3A_check">check</code></td>
<td>
<p>A logical value, if TRUE check if this object has been obsoleted by another object in DataONE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This operation acts as the 'public' anonymous user unless an X.509 certificate is
present in the default location of the file system, in which case the access will be authenticated.
</p>


<h3>Value</h3>

<p>the bytes of the object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Node-class">D1Node-class</a>{D1Node}</code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")
pid &lt;- "solson.5.1"
obj &lt;- getObject(mn, pid)
df &lt;- read.csv(text=rawToChar(obj))

## End(Not run)
</code></pre>

<hr>
<h2 id='getPackage'>Download a data package from a member node.</h2><span id='topic+getPackage'></span><span id='topic+getPackage+2CMNode-method'></span>

<h3>Description</h3>

<p>Given a valid identifier, download a file containing all of the package 
members of the corresponding DataONE data package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPackage(x, ...)

## S4 method for signature 'MNode'
getPackage(
  x,
  identifier,
  format = "application/bagit-097",
  dirPath = NULL,
  unzip = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPackage_+3A_x">x</code></td>
<td>
<p>A MNode instance representing a DataONE Member Node repository.</p>
</td></tr>
<tr><td><code id="getPackage_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
<tr><td><code id="getPackage_+3A_identifier">identifier</code></td>
<td>
<p>The identifier of the package to retrieve. The identifier can be for the
resource map, metadata file, data file, or any other package member.</p>
</td></tr>
<tr><td><code id="getPackage_+3A_format">format</code></td>
<td>
<p>The format to send the package in.</p>
</td></tr>
<tr><td><code id="getPackage_+3A_dirpath">dirPath</code></td>
<td>
<p>The directory path to save the package to.</p>
</td></tr>
<tr><td><code id="getPackage_+3A_unzip">unzip</code></td>
<td>
<p>(logical) If the dirPath is specified, the package can also be unzipped automatically (unzip=TRUE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default data package file format is a Bagit file (<a href="https://tools.ietf.org/html/draft-kunze-bagit-09">https://tools.ietf.org/html/draft-kunze-bagit-09</a>).
The downloaded package file is compressed using the ZIP format and will be located in an R session temporary
file. Other packaging formats can be requested if they have been implemented by the requested member node.
</p>


<h3>Value</h3>

<p>The location of the package file downloaded from the member node.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+MNode-class">MNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")
packageFileName &lt;- getPackage(mn, id="resourceMap_Blandy.76.2")

## End(Not run)
</code></pre>

<hr>
<h2 id='getQueryEngineDescription'>Query a node for the list of query engines available on the node</h2><span id='topic+getQueryEngineDescription'></span><span id='topic+getQueryEngineDescription+2CD1Node-method'></span>

<h3>Description</h3>

<p>Query a node for the list of query engines available on the node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getQueryEngineDescription(x, ...)

## S4 method for signature 'D1Node'
getQueryEngineDescription(x, queryEngineName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getQueryEngineDescription_+3A_x">x</code></td>
<td>
<p>The CNode or MNode to query</p>
</td></tr>
<tr><td><code id="getQueryEngineDescription_+3A_...">...</code></td>
<td>
<p>(Additional arguments - not yet used.)</p>
</td></tr>
<tr><td><code id="getQueryEngineDescription_+3A_queryenginename">queryEngineName</code></td>
<td>
<p>The query engine name to get a description for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list The query engine description
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode("PROD")
engineDesc &lt;- getQueryEngineDescription(cn, "solr")
cat(sprintf("Query engine version: %s\n", engineDesc$queryEngineVersion))
cat(sprintf("Query engine name: %s\n", engineDesc$name))
engineDesc &lt;- getQueryEngineDescription(cn, "solr")
head(engineDesc$queryFields, n=3L)

## End(Not run)
</code></pre>

<hr>
<h2 id='getSystemMetadata'>Get the metadata describing system properties associated with an object on this Node.</h2><span id='topic+getSystemMetadata'></span><span id='topic+getSystemMetadata+2CCNode-method'></span><span id='topic+getSystemMetadata+2CMNode-method'></span>

<h3>Description</h3>

<p>The SystemMetadata includes information about the identity, type, access control, and other system
level details about the object.
</p>
<p>The SystemMetadata includes information about the identity, type, access control, and other system
level details about the object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSystemMetadata(x, ...)

## S4 method for signature 'CNode'
getSystemMetadata(x, pid)

## S4 method for signature 'MNode'
getSystemMetadata(x, pid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSystemMetadata_+3A_x">x</code></td>
<td>
<p>The Node instance from which the SystemMetadata will be downloaded</p>
</td></tr>
<tr><td><code id="getSystemMetadata_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="getSystemMetadata_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This operation acts as the 'public' anonymous user unless an X.509 certificate is
present in the default location of the file system, in which case the access will be authenticated.
</p>
<p>This operation acts as the 'public' anonymous user unless an X.509 certificate is
present in the default location of the file system, in which case the access will be authenticated.
</p>


<h3>Value</h3>

<p>SystemMetadata for the object
</p>
<p>SystemMetadata for the object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
library(dataone)
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")
pid &lt;- "doi:10.5063/F1QN64NZ"
sysmeta &lt;- getSystemMetadata(mn, pid)

## End(Not run)
## Not run: 
library(dataone)
cn &lt;- CNode()
pid &lt;- "aceasdata.3.2"
sysmeta &lt;- getSystemMetadata(cn, pid)

## End(Not run)
</code></pre>

<hr>
<h2 id='getToken'>Get the value of the DataONE Authentication Token, if one exists.</h2><span id='topic+getToken'></span><span id='topic+getToken+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Get the value of the DataONE Authentication Token, if one exists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getToken(.Object, ...)

## S4 method for signature 'AuthenticationManager'
getToken(.Object, node = as.character(NA))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getToken_+3A_.object">.Object</code></td>
<td>
<p>an AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="getToken_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
<tr><td><code id="getToken_+3A_node">node</code></td>
<td>
<p>either a CNode or MNode object to get the appropriate token for.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A token value is retrieved based on the DataONE environment that the specified node is
located in, either the production environment or a test environment.
</p>


<h3>Value</h3>

<p>The current authentication token.
</p>

<hr>
<h2 id='getTokenInfo'>Get authentication token information</h2><span id='topic+getTokenInfo'></span><span id='topic+getTokenInfo+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>The DataONE authentication token is read, if it has been
set, and the information it contains is returned as a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTokenInfo(.Object)

## S4 method for signature 'AuthenticationManager'
getTokenInfo(.Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTokenInfo_+3A_.object">.Object</code></td>
<td>
<p>an Authentication Object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing information about the authentication token.
</p>

<hr>
<h2 id='hasReservation'>Checks to determine if the supplied subject is the owner of the reservation of id.</h2><span id='topic+hasReservation'></span><span id='topic+hasReservation+2CCNode-method'></span>

<h3>Description</h3>

<p>The hasReservation method checks the reservation of an identifier that has
previously been reserved with the <code>reserveIdentifier</code> method. The identifier must have
been reserved by the specified DataONE user identity (<code>subject</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hasReservation(x, ...)

## S4 method for signature 'CNode'
hasReservation(x, pid, subject = as.character(NA))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hasReservation_+3A_x">x</code></td>
<td>
<p>A CNode instance.</p>
</td></tr>
<tr><td><code id="hasReservation_+3A_...">...</code></td>
<td>
<p>Additional parameters.</p>
</td></tr>
<tr><td><code id="hasReservation_+3A_pid">pid</code></td>
<td>
<p>The identifier that is being checked for existing as a reserved identifier or is in use as 
an identifier for an existing object</p>
</td></tr>
<tr><td><code id="hasReservation_+3A_subject">subject</code></td>
<td>
<p>The subject of the principal (user) that made the reservation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To determine the DataONE identity that is currently being used for DataONE
authentication, use the <code>echoCredentials</code> method.
</p>


<h3>Value</h3>

<p>A logical value where TRUE means a reservation exists for the specified pid by the subject.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode("STAGING")
creds &lt;- echoCredentials(cn)
subject &lt;- creds$person$subject
# Previously reserved pid (using reserveIdentifeir()), e.g. DOI or uuid
pid &lt;- "urn:node:e27bb4f3-96bb-4af4-8902-f5914def077c"
hasRes &lt;- hasReservation(cn, pid, subject=subject)

## End(Not run)
</code></pre>

<hr>
<h2 id='initialize+2CD1Client-method'>Initialize a D1Client object</h2><span id='topic+initialize+2CD1Client-method'></span><span id='topic+D1Client-initialize'></span>

<h3>Description</h3>

<p>Initialize a D1Client object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Client'
initialize(
  .Object,
  cn = NA,
  mn = NA,
  env = as.character(NA),
  mNodeid = as.character(NA)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initialize+2B2CD1Client-method_+3A_.object">.Object</code></td>
<td>
<p>A D1client object.</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Client-method_+3A_cn">cn</code></td>
<td>
<p>The Member Node object to associate this D1Client with.</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Client-method_+3A_mn">mn</code></td>
<td>
<p>The Member Node object to associate this D1Client with.</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Client-method_+3A_env">env</code></td>
<td>
<p>The DataONE environment to initialize this D1Client with, e.g. &quot;PROD&quot;, &quot;STAGING&quot;, &quot;SANDBOX&quot;, &quot;DEV&quot;</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Client-method_+3A_mnodeid">mNodeid</code></td>
<td>
<p>The node identifier of the Member Node to associate with this D1Client.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">dataone</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
d1c &lt;- D1Client("PROD", "urn:node:KNB")

## End(Not run)
</code></pre>

<hr>
<h2 id='initialize+2CD1Node-method'>Initialize a D1Node</h2><span id='topic+initialize+2CD1Node-method'></span><span id='topic+D1Node-initialize'></span>

<h3>Description</h3>

<p>Initialize a D1Node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Node'
initialize(.Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initialize+2B2CD1Node-method_+3A_.object">.Object</code></td>
<td>
<p>the D1Node object</p>
</td></tr>
</table>

<hr>
<h2 id='initialize+2CD1Object-method'>Initialize a D1Object</h2><span id='topic+initialize+2CD1Object-method'></span><span id='topic+D1Object-initialize'></span>

<h3>Description</h3>

<p>Initialize a D1Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Object'
initialize(.Object, id, data, format, mnNodeId = as.character(NA))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initialize+2B2CD1Object-method_+3A_.object">.Object</code></td>
<td>
<p>A D1Object instance.</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Object-method_+3A_id">id</code></td>
<td>
<p>The identifier for the object</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Object-method_+3A_data">data</code></td>
<td>
<p>An R object (data or metadata) that this D1Object contains.</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Object-method_+3A_format">format</code></td>
<td>
<p>The Object format.</p>
</td></tr>
<tr><td><code id="initialize+2B2CD1Object-method_+3A_mnnodeid">mnNodeId</code></td>
<td>
<p>The DataONE node identifier associated with this object, i.e. &quot;urn:node:KNB&quot;</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+D1Object-class">D1Object</a></code> class description.
</p>

<hr>
<h2 id='isAuthExpired'>Check if the currently valid authentication method has reached the expiration time.</h2><span id='topic+isAuthExpired'></span><span id='topic+isAuthExpired+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Check if the currently valid authentication method has reached the expiration time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isAuthExpired(.Object, ...)

## S4 method for signature 'AuthenticationManager'
isAuthExpired(.Object, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isAuthExpired_+3A_.object">.Object</code></td>
<td>
<p>An AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="isAuthExpired_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="isAuthExpired_+3A_node">node</code></td>
<td>
<p>A D1Node instance</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical value: TRUE if authentication has expired, FALSE if not.
</p>

<hr>
<h2 id='isAuthorized'>Check if an action is authorized for the specified identifier</h2><span id='topic+isAuthorized'></span><span id='topic+isAuthorized+2CD1Node-method'></span>

<h3>Description</h3>

<p>Test if the user identified by the provided token has 
authorization for operation on the specified object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isAuthorized(x, ...)

## S4 method for signature 'D1Node'
isAuthorized(x, id, action)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isAuthorized_+3A_x">x</code></td>
<td>
<p>The node to send the request to. This is either a <code>"CNode"</code> or <code>"MNode"</code> instance.</p>
</td></tr>
<tr><td><code id="isAuthorized_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="isAuthorized_+3A_id">id</code></td>
<td>
<p>The DataONE identifier (pid or sid) to check access for.</p>
</td></tr>
<tr><td><code id="isAuthorized_+3A_action">action</code></td>
<td>
<p>The DataONE action to check, possible values: &quot;read&quot;, &quot;write&quot;, &quot;changePermission&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The identifier parameter may be either a DataONE persistent identifier (pid)
or series identifier (sid).
</p>


<h3>Value</h3>

<p>a logical, TRUE if the action is authorized, false if not.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Send an authorization check to the D1 production CN.
cn &lt;- CNode("PROD")
pid &lt;- "doi:10.6073/pasta/7fcb8fea57843fae65f63094472f502d"
canRead &lt;- isAuthorized(cn, pid, "read")
canWrite &lt;- isAuthorized(cn, pid, "write")
canChange &lt;- isAuthorized(cn, pid, "changePermission")

# Now send a check to a member node.
mn &lt;- getMNode(cn, "urn:node:KNB")
pid &lt;- "doi:10.6085/AA/pisco_recruitment.149.1"
canRead &lt;- isAuthorized(mn, pid, "read")
canWrite &lt;- isAuthorized(mn, pid, "write")
canChange &lt;- isAuthorized(mn, pid, "changePermission")

## End(Not run)
</code></pre>

<hr>
<h2 id='isAuthValid'>Verify authentication for a member node.</h2><span id='topic+isAuthValid'></span><span id='topic+isAuthValid+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>The currently used DataONE client authentication method (either tokens or X.509 certificates)
is checked and verified for the specified node (either CN or MN). If an authentication token is available
via the R options facility, it will be used i.e. available via getOption(&quot;dataone_token&quot;).  However, 
authentication tokens can only be used for DataONE v2 or higher nodes. X.509 certificates can be used 
with DataONE v1 or higher nodes. 
See the <em>&quot;dataone&quot;</em> vignette <em>&quot;dataone-overview&quot;</em> for more information on authentication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isAuthValid(.Object, ...)

## S4 method for signature 'AuthenticationManager'
isAuthValid(.Object, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isAuthValid_+3A_.object">.Object</code></td>
<td>
<p>An AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="isAuthValid_+3A_...">...</code></td>
<td>
<p>additional parameters</p>
</td></tr>
<tr><td><code id="isAuthValid_+3A_node">node</code></td>
<td>
<p>The node object (MNode or CNode) that authentication is being checked for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical value: TRUE if authentication is valid, false if not.
</p>

<hr>
<h2 id='isCertExpired'>Determine if an X.509 certificate has expired.</h2><span id='topic+isCertExpired'></span><span id='topic+isCertExpired+2CCertificateManager-method'></span>

<h3>Description</h3>

<p>Returns <code>'TRUE'</code> if the certificate associated with a CertificateManager instance is expired.
A certificate is expired if any of the following conditions hold: 1) the current time is before or after the 
certificate validity dates, 2) the certificate is not valid according to a trusted Certificate Authority, or
3) no certificate can be found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isCertExpired(x, ...)

## S4 method for signature 'CertificateManager'
isCertExpired(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isCertExpired_+3A_x">x</code></td>
<td>
<p>a CertificateManager instance</p>
</td></tr>
<tr><td><code id="isCertExpired_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the certificate is expired
</p>

<hr>
<h2 id='listFormats'>List all object formats registered in DataONE.</h2><span id='topic+listFormats'></span><span id='topic+listFormats+2CCNode-method'></span>

<h3>Description</h3>

<p>The <a href="#topic+listFormats">listFormats</a> method queries a DataONE Coordinating Node for a 
list of all entries in the Object Format Vocabulary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listFormats(x, ...)

## S4 method for signature 'CNode'
listFormats(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listFormats_+3A_x">x</code></td>
<td>
<p>a valid CNode object</p>
</td></tr>
<tr><td><code id="listFormats_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a dataframe of all object formats registered in the DataONE Object Format Vocabulary.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode()
formats &lt;- listFormats(cn)

## End(Not run)
</code></pre>

<hr>
<h2 id='listMemberNodes'>List DataONE Member Nodes.</h2><span id='topic+listMemberNodes'></span><span id='topic+listMemberNodes+2CD1Client-method'></span>

<h3>Description</h3>

<p>A D1Client object is associated with a DataONE Coordinating Node. The
<code>listMemberNodes</code> method lists all member nodes associated with a CN.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listMemberNodes(x)

## S4 method for signature 'D1Client'
listMemberNodes(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listMemberNodes_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
d1c &lt;- D1Client("PROD")
nodelist &lt;- listMemberNodes(d1c)

## End(Not run)
</code></pre>

<hr>
<h2 id='listNodes'>Get the list of nodes associated with a CN</h2><span id='topic+listNodes'></span><span id='topic+listNodes+2CCNode-method'></span>

<h3>Description</h3>

<p>Get the list of nodes associated with a CN
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listNodes(x, ...)

## S4 method for signature 'CNode'
listNodes(x, url = as.character(NA), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listNodes_+3A_x">x</code></td>
<td>
<p>The coordinating node to query for its registered Member Nodes</p>
</td></tr>
<tr><td><code id="listNodes_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="listNodes_+3A_url">url</code></td>
<td>
<p>Optional - the url of the CN.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the list of nodes in the DataONE CN environment
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cn &lt;- CNode()
nodelist &lt;- listNodes(cn)
nodeid &lt;- nodelist[[2]]@identifier

## End(Not run)
</code></pre>

<hr>
<h2 id='listObjects'>Retrieve the list of objects that match the search parameters</h2><span id='topic+listObjects'></span><span id='topic+listObjects+2CD1Node-method'></span>

<h3>Description</h3>

<p>Retrieve the list of objects that match the search parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listObjects(x, ...)

## S4 method for signature 'D1Node'
listObjects(
  x,
  fromDate = as.character(NA),
  toDate = as.character(NA),
  formatId = as.character(NA),
  replicaStatus = as.logical(TRUE),
  start = as.integer(0),
  count = as.integer(1000)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listObjects_+3A_x">x</code></td>
<td>
<p>The Node instance from which the SystemMetadata will be downloaded</p>
</td></tr>
<tr><td><code id="listObjects_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="listObjects_+3A_fromdate">fromDate</code></td>
<td>
<p>Entries with a modified date greater than <code>'fromDate'</code> will be returned.
This value must be specified in ISO 8601 format, i.e. &quot;YYYY-MM-DDTHH:MM:SS.mmm+00:00&quot;</p>
</td></tr>
<tr><td><code id="listObjects_+3A_todate">toDate</code></td>
<td>
<p>Entries with a modified date less than <code>'toDate'</code> will be returned.
This value must be specified in ISO 8601 format, i.e. &quot;YYYY-MM-DDTHH:MM:SS.mmm+00:00&quot;</p>
</td></tr>
<tr><td><code id="listObjects_+3A_formatid">formatId</code></td>
<td>
<p>The format to match, for example &quot;eml://ecoinformatics.org/eml-2.1.1&quot;</p>
</td></tr>
<tr><td><code id="listObjects_+3A_replicastatus">replicaStatus</code></td>
<td>
<p>A logical value that determines if replica (object not on it's origin node) should be returned. Default is TRUE.</p>
</td></tr>
<tr><td><code id="listObjects_+3A_start">start</code></td>
<td>
<p>An integer that specifies the first element of the result set that will be returned</p>
</td></tr>
<tr><td><code id="listObjects_+3A_count">count</code></td>
<td>
<p>An integer that specifies how many results will be returned</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The list of objects that is returned is paged according to the <code>'start'</code> and
<code>'count'</code> values, so that large result sets can be returned over multiple calls.
</p>


<h3>Value</h3>

<p>list Objects that met the search criteria
</p>
<p>list Objects that met the search criteria
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MN_read.listObjects">https://purl.dataone.org/architecture/apis/MN_APIs.html#MN_read.listObjects</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode("STAGING")
fromDate &lt;- "2013-01-01T01:01:01.000+00:00"
toDate &lt;- "2015-12-31T01:01:01.000+00:00"
formatId &lt;- "eml://ecoinformatics.org/eml-2.1.0"
start &lt;- 0
count &lt;- 5
objects &lt;- listObjects(cn, fromDate=fromDate, toDate=toDate, 
    formatId=formatId, start=start, count=count)
# Inspect id of first object 
objects[1]$objectInfo$identifier

## End(Not run)
</code></pre>

<hr>
<h2 id='listQueryEngines'>Query a node for the list of query engines available on the node</h2><span id='topic+listQueryEngines'></span><span id='topic+listQueryEngines+2CD1Node-method'></span>

<h3>Description</h3>

<p>Query a node for the list of query engines available on the node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listQueryEngines(x, ...)

## S4 method for signature 'D1Node'
listQueryEngines(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listQueryEngines_+3A_x">x</code></td>
<td>
<p>The CNode or MNode to list the query engines for.</p>
</td></tr>
<tr><td><code id="listQueryEngines_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list The list of query engines.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cn &lt;- CNode("STAGING")
engines &lt;- listQueryEngines(cn)

## End(Not run)
</code></pre>

<hr>
<h2 id='MNode'>Create a MNode object representing a DataONE Member Node repository.</h2><span id='topic+MNode'></span><span id='topic+MNode+2Ccharacter-method'></span><span id='topic+MNode+2CD1Node-method'></span>

<h3>Description</h3>

<p>Construct an instance of MNode to provide mechanisms to access, create, and update data and 
metadata objects on the associated Member Node.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MNode(x)

## S4 method for signature 'character'
MNode(x)

## S4 method for signature 'D1Node'
MNode(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MNode_+3A_x">x</code></td>
<td>
<p>a URI representing a  base URL (i.e. https://knb.ecoinformatics.org/knb/d1/mn/v2); or a reference to a dataone::Node instance</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the <code>'x'</code> is a string, it is treated as a URI and an attempt to find an associated
Member Node at that base URL is attempted.  If <code>'x'</code> is a Node reference, then it is cast to a MNode
instance.  This typically is used from the getMNode() function from the CNode class, which is the preferred
way to retrieve an instance of an MNode.
</p>


<h3>Value</h3>

<p>the MNode object-
</p>


<h3>See Also</h3>

<p><code><a href="#topic+MNode-class">MNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
mn &lt;- MNode("https://knb.ecoinformatics.org/knb/d1/mn/v2")

## End(Not run)
</code></pre>

<hr>
<h2 id='MNode-class'>Provides R API to DataONE Member Node services.</h2><span id='topic+MNode-class'></span>

<h3>Description</h3>

<p>MNode provides functions that interact with a DataONE Member Node (MN). A MN 
is a repository that provides access for reading and writing data and metadata using the
DataONE MN service API.  The MN API includes functions for retrieving data and metadata based on its
unique persistent identifier (pid), as well as for creating, updating, and archiving these data and
metadata objects.
</p>


<h3>Details</h3>

<p>Methods that perform write operations (such as createObject and updateObject) on the MN generally 
require authentication. For MNs that have implemented the DataONE API version 2.0 and higher, these operations can utilize an 
authentication token to provide credentials for write operations in DataONE.
The authentication token is obtained from DataONE (see your account profile on https://search.dataone.org).
See the <code>vignette("dataone-overview")</code> for details.
Alternatively, the version 1.0 approach of using an X.509 certificate in a default location of the file 
system can also be used. This certificate provides authentication credentials from 
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>endpoint</code></dt><dd><p>The url to access node services, which is the baseURL plus the version string</p>
</dd>
</dl>


<h3>Methods</h3>


<ul>
<li><p><code><a href="#topic+MNode">MNode</a></code>: Create a MNode object representing a DataONE Member Node repository.
</p>
</li>
<li><p><code><a href="#topic+createObject">createObject</a></code>: Create an object on a Member Node.
</p>
</li>
<li><p><code><a href="#topic+getObject">getObject</a></code>: Get the bytes associated with an object on the Member Node
</p>
</li>
<li><p><code><a href="#topic+getCapabilities">getCapabilities</a></code>: Get the node capabilities description, and store the information in the MNode.
</p>
</li>
<li><p><code><a href="#topic+generateIdentifier">generateIdentifier</a></code>: Get a unique identifier that is generated by the Member Node repository and guaranteed to be unique.
</p>
</li>
<li><p><code><a href="#topic+getPackage">getPackage</a></code>: Download a data package from a member node.
</p>
</li>
<li><p><code><a href="#topic+updateObject">updateObject</a></code>: Update an object to a Member Node, by creating a new object that replaces an original.
</p>
</li>
<li><p><code><a href="#topic+updateSystemMetadata">updateSystemMetadata</a></code>: Update the system metadata associated with an object.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+dataone">dataone</a></code> package description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
library(uuid)
library(digest)
cn &lt;- CNode("STAGING")
mn &lt;- getMNode(cn, "urn:node:mnStageUCSB2")
mnid &lt;- mn@identifier
# Have Dataone create an identifier for you (requires authentication)
\dontrun{
newid &lt;- generateIdentifier(mn, "UUID")
}
# Create an identifier manually
newid &lt;- paste("urn:uuid:", UUIDgenerate(), sep="")
testdf &lt;- data.frame(x=1:10,y=11:20)
csvfile &lt;- paste(tempfile(), ".csv", sep="")
write.csv(testdf, csvfile, row.names=FALSE)
f &lt;- "text/csv"
size &lt;- file.info(csvfile)$size
sha256 &lt;- digest(csvfile, algo="sha256", serialize=FALSE, file=TRUE)
sysmeta &lt;- new("SystemMetadata", identifier=newid, formatId=f, size=size,
    checksum=sha256, originMemberNode=mnid, authoritativeMemberNode=mnid)
# Upload data to DataONE (requires authentication)
\dontrun{
response &lt;- createObject(mn, newid, csvfile, sysmeta)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='obscureAuth'>Temporarily disable DataONE authentication.</h2><span id='topic+obscureAuth'></span><span id='topic+obscureAuth+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Calling <code>obscureAuth</code> temporarily disables authentication so that
</p>


<h3>Usage</h3>

<pre><code class='language-R'>obscureAuth(.Object)

## S4 method for signature 'AuthenticationManager'
obscureAuth(.Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obscureAuth_+3A_.object">.Object</code></td>
<td>
<p>An AuthenticationManager instance</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method is intended to be used for authentication testing.
<code>isAuthValid</code> will return FALSE. Authentication can be re-enabled by calling
<code>restoreAuth</code>.
</p>


<h3>Value</h3>

<p>The expiration date for the current authentication mechanism being used.
</p>

<hr>
<h2 id='obscureCert'>Obscure the CILogon Client Certificate</h2><span id='topic+obscureCert'></span><span id='topic+obscureCert+2CCertificateManager-method'></span>

<h3>Description</h3>

<p>Obscures the x509 certificate that CILogon installs, effectively making future
interactions with the DataONE services public/anonymous.  This function simple renames an
existing certificate file to a known location, allowing 'public' operations.  Note, when the 
client certificate is obscured via the renaming, you will not be able to create objects in 
DataONE, or utilize any other methods that require authentication.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>obscureCert(x, ...)

## S4 method for signature 'CertificateManager'
obscureCert(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obscureCert_+3A_x">x</code></td>
<td>
<p>a CertificateManager instance</p>
</td></tr>
<tr><td><code id="obscureCert_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the modified CertificateManager instance
</p>


<h3>See Also</h3>

<p><code><a href="#topic+restoreCert">restoreCert</a></code> is this method's inverse operation
</p>

<hr>
<h2 id='parseCapabilities'>Construct a Node, using a passed in capabilities XML</h2><span id='topic+parseCapabilities'></span><span id='topic+parseCapabilities+2CD1Node-method'></span>

<h3>Description</h3>

<p>Construct a Node, using a passed in capabilities XML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseCapabilities(x, ...)

## S4 method for signature 'D1Node'
parseCapabilities(x, xml)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parseCapabilities_+3A_x">x</code></td>
<td>
<p>The node to which capabilities should be applied.</p>
</td></tr>
<tr><td><code id="parseCapabilities_+3A_...">...</code></td>
<td>
<p>(not yet used)</p>
</td></tr>
<tr><td><code id="parseCapabilities_+3A_xml">xml</code></td>
<td>
<p>The XML capabilities representing the node to be created</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Node object with modified capabilities properties from the XML
</p>

<hr>
<h2 id='parseSolrResult'>Parse Solr output into an R list</h2><span id='topic+parseSolrResult'></span><span id='topic+parseSolrResult+2CXMLInternalDocument-method'></span>

<h3>Description</h3>

<p>Solr output that is specified with a writer type of XML <code>'&amp;wt="xml"'</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseSolrResult(doc, ...)

## S4 method for signature 'XMLInternalDocument'
parseSolrResult(doc, parse, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parseSolrResult_+3A_doc">doc</code></td>
<td>
<p>The Solr result to parse, in XML format</p>
</td></tr>
<tr><td><code id="parseSolrResult_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="parseSolrResult_+3A_parse">parse</code></td>
<td>
<p>A logical value, if TRUE the result is parsed to appropriate R types.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>resultList The Solr result as an R list
</p>

<hr>
<h2 id='ping'>Test if a node is online and accepting DataONE requests</h2><span id='topic+ping'></span><span id='topic+ping+2CD1Node-method'></span>

<h3>Description</h3>

<p>Test if a node is online and accepting DataONE requests
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ping(x, ...)

## S4 method for signature 'D1Node'
ping(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ping_+3A_x">x</code></td>
<td>
<p>The CNode or MNode to check</p>
</td></tr>
<tr><td><code id="ping_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical A logical value set to TRUE if the node is up and FALSE if it is not
</p>
<p>logical A logical value set to TRUE if the node is up and FALSE if it is not
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")
isAlive &lt;- ping(mn)

## End(Not run)
</code></pre>

<hr>
<h2 id='query'>Search DataONE for data and metadata objects</h2><span id='topic+query'></span><span id='topic+query+2CD1Node-method'></span>

<h3>Description</h3>

<p>The DataONE search index is searched for data that matches the specified query parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query(x, ...)

## S4 method for signature 'D1Node'
query(
  x,
  solrQuery = as.character(NA),
  encode = TRUE,
  as = "list",
  parse = TRUE,
  searchTerms = as.character(NA),
  encodeReserved = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="query_+3A_x">x</code></td>
<td>
<p>The CNode or MNode instance to send the query to.</p>
</td></tr>
<tr><td><code id="query_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="query_+3A_solrquery">solrQuery</code></td>
<td>
<p>The query search terms, either as a string or as list with named members.</p>
</td></tr>
<tr><td><code id="query_+3A_encode">encode</code></td>
<td>
<p>A logical, if <code>TRUE</code> then the query is URL encoded. The default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="query_+3A_as">as</code></td>
<td>
<p>The return type. Possible values: &quot;json&quot;, &quot;xml&quot;, &quot;list&quot; or &quot;data.frame&quot; with &quot;list&quot; as the default.</p>
</td></tr>
<tr><td><code id="query_+3A_parse">parse</code></td>
<td>
<p>A logical value. If TRUE, then the result is parsed and converted to appropriate R data types. If FALSE, character values are returned.</p>
</td></tr>
<tr><td><code id="query_+3A_searchterms">searchTerms</code></td>
<td>
<p>A list of name / value pairs (an alternative to <code>solrQuery</code>).</p>
</td></tr>
<tr><td><code id="query_+3A_encodereserved">encodeReserved</code></td>
<td>
<p>A logical, if TRUE then reserved characters in the query are URL encoded (FALSE is default). See <code>URLencode</code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>"query"</code> method sends a query to a DataONE search index that uses the Apache Solr search 
engine <a href="https://solr.apache.org/">https://solr.apache.org/</a>. This same Solr search engine is the underlying mechanism used by the
DataONE online search tool available at <a href="https://search.dataone.org/">https://search.dataone.org/</a>.
</p>
<p>The <code>"solrQuery"</code> argument is used to specify search terms that data of interest must match. This parameter uses
Solr query terms, so some familiarity with Solr is helpful, however, fairly simple queries can be effective. This
argument can be created as either a single character string containing the Solr query, for example: <code>solrQuery = "q=id:doi*&amp;rows=2&amp;wt=json"</code>,
or as a list of key value pairs: <code>solrQuery = list(q = "id:doi*", rows = "2", wt = "json")</code>. These two queries produce the same result.
</p>
<p>As an alternative to specifying the Solr query terms using the <code>"solrquery"</code> argument, the <code>"searchTerms"</code> argument
can be specified, which does not require any Solr syntax. This parameter is a list with query field / value pairs, i.e. 
<code>searchTerms=list(abstract=kelp, attribute=biomass)</code>.
The query fields can be listed for a DataONE node using <code><a href="#topic+getQueryEngineDescription">getQueryEngineDescription</a></code>.
Either <code>"searchTerms"</code> or <code>"solrQuery"</code> must be specified.
</p>
<p>The <code>"as"</code> argument is used to specify the query result to be returned as: &quot;json&quot;, xml&quot;, &quot;list&quot;, &quot;data.frame&quot;.
</p>
<p>The <code>"parsed"</code> argument, if specified as TRUE, causes the query result to be converted to appropriate R data types.
For example, if <code>ar = "xml"</code> and <code>parsed = TRUE</code>, then the query result is returned as an R XMLInternalDocument, or 
If <code>'parsed = FALSE'</code> then a character variable with the XML string is returned. Specify <code>as = "list"</code> to have 
the result parsed to an R list, with each list element containing one Solr query result of the total result set.
</p>


<h3>Value</h3>

<p>search results as a list, data.frame or XML document
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode("PROD")
queryParams &lt;- list(q="id:doi*", rows="5", 
    fq="(abstract:chlorophyll AND dateUploaded:[2000-01-01T00:00:00Z TO NOW])", 
    fl="title,id,abstract,size,dateUploaded,attributeName")
# Return result as a list.
result &lt;- query(cn, queryParams, as="list")

# Query and return the result as a data.frame of character values.
queryParams &lt;- list(q="id:doi*", rows="3", 
    fq="(abstract:chlorophyll AND dateUploaded:[2000-01-01T00:00:00Z TO NOW])", 
    fl="title,id,abstract,size,dateUploaded,attributeName")
result &lt;- query(cn, queryParams, as="data.frame", parse=FALSE)

# Return the result as JSON
queryParams &lt;- "q=id:doi*&amp;rows=2&amp;wt=json"
result &lt;- query(cn, queryParams, as="json")

# The following query shows how to embed quotes
cn &lt;- CNode("SANDBOX2")
queryParamList &lt;- list(q="(attribute:lake) and (attribute:\"Percent Nitrogen\")", rows="1000",
                       fl="title,id,abstract,size,dateUploaded,attributeName", wt="xml")
result &lt;- query(cn, queryParamList, as="data.frame")

# The following query uses the searchTerms parameter
cn &lt;- CNode()
mn &lt;- getMNode(cn, "urn:node:KNB")
mySearchTerms &lt;- list(abstract="kelp", attribute="biomass")
result &lt;- query(mn, searchTerms=mySearchTerms, as="data.frame")

## End(Not run)
</code></pre>

<hr>
<h2 id='reserveIdentifier'>Reserve a identifier that is unique in the DataONE network.</h2><span id='topic+reserveIdentifier'></span><span id='topic+reserveIdentifier+2CCNode-method'></span><span id='topic+reserveIdentifier+2CD1Client-method'></span>

<h3>Description</h3>

<p>The reserveIdentifier method contains the DataONE CN and reserves the specified
identifier that the user has provided. Once a an identifier has been reserved, it and can not be used by any other user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reserveIdentifier(x, ...)

## S4 method for signature 'CNode'
reserveIdentifier(x, id)

## S4 method for signature 'D1Client'
reserveIdentifier(x, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reserveIdentifier_+3A_x">x</code></td>
<td>
<p>The coordinating node to query for its registered Member Nodes</p>
</td></tr>
<tr><td><code id="reserveIdentifier_+3A_...">...</code></td>
<td>
<p>Additional parameters.</p>
</td></tr>
<tr><td><code id="reserveIdentifier_+3A_id">id</code></td>
<td>
<p>The identifier that is to be reserved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This method requires a DataONE authentication token or X.509 Certificate. The reservation is made
for the DataONE user identity that created the current authentication token or X.509 certificate.
</p>


<h3>Value</h3>

<p>The reserved pid if it was successfully reserved, otherwise NULL
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
library(uuid)
cn &lt;- CNode("STAGING")
myId &lt;- sprintf("urn:uuid:%s", UUIDgenerate())
newId &lt;- reserveIdentifier(cn, myId)

## End(Not run)
</code></pre>

<hr>
<h2 id='resolve'>Get a list of coordinating nodes holding a given pid.</h2><span id='topic+resolve'></span><span id='topic+resolve+2CCNode-method'></span>

<h3>Description</h3>

<p>Returns a list of nodes (MNs or CNs) known to hold copies of the object identified by id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resolve(x, ...)

## S4 method for signature 'CNode'
resolve(x, pid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resolve_+3A_x">x</code></td>
<td>
<p>a valid CNode object</p>
</td></tr>
<tr><td><code id="resolve_+3A_...">...</code></td>
<td>
<p>Additional arguments (not yet used).</p>
</td></tr>
<tr><td><code id="resolve_+3A_pid">pid</code></td>
<td>
<p>the id of the identified object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of URLs that the object can be downloaded from, or NULL if the object is not found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
cn &lt;- CNode("STAGING")
id &lt;- "doi:10.6073/pasta/9a27a1615e8e4c366ad09fefbfa2fced"
locations &lt;- resolve(cn,id)

## End(Not run)
</code></pre>

<hr>
<h2 id='restoreAuth'>Restore authentication (after being disabled with <code>obscureAuth</code>).</h2><span id='topic+restoreAuth'></span><span id='topic+restoreAuth+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Restore authentication (after being disabled with <code>obscureAuth</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restoreAuth(.Object)

## S4 method for signature 'AuthenticationManager'
restoreAuth(.Object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="restoreAuth_+3A_.object">.Object</code></td>
<td>
<p>An AuthenticationManager instance</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The expiration date for the current authentication mechanism being used.
</p>

<hr>
<h2 id='restoreCert'>Restore the CILogon client certificate by renaming it to its original location</h2><span id='topic+restoreCert'></span><span id='topic+restoreCert+2CCertificateManager-method'></span>

<h3>Description</h3>

<p>Restores the x509 certificate that CILogon installs, which allows future
interactions with nodes to be authenticated with the certificate.  This function simply 
renames an obscured certificate file to its original location, allowing authenticated 
operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restoreCert(x, ...)

## S4 method for signature 'CertificateManager'
restoreCert(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="restoreCert_+3A_x">x</code></td>
<td>
<p>a CertificateManager instance</p>
</td></tr>
<tr><td><code id="restoreCert_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the modified CertificateManager instance
</p>


<h3>See Also</h3>

<p><code><a href="#topic+obscureCert">obscureCert</a></code> is this method's inverse operation
</p>

<hr>
<h2 id='setMNodeId'>Set the member node identifier to be associated with the D1Client object.</h2><span id='topic+setMNodeId'></span><span id='topic+setMNodeId+2CD1Client+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The member node identifier is the URN identifier used by
DataONE to uniquely identifier a node, for example &quot;urn:node:KNB&quot; specifies
the &quot;Knowledge Network for Biodiversity&quot; member node.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setMNodeId(x, id)

## S4 method for signature 'D1Client,character'
setMNodeId(x, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setMNodeId_+3A_x">x</code></td>
<td>
<p>A D1Client object.</p>
</td></tr>
<tr><td><code id="setMNodeId_+3A_id">id</code></td>
<td>
<p>A DataONE member node identifier.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>One Member Node can be associated with the client as the default to which
data and metadata are written.
</p>


<h3>Author(s)</h3>

<p>setMNodeId
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>

<hr>
<h2 id='setObsoletedBy'>Set a pid as being obsoleted by another pid</h2><span id='topic+setObsoletedBy'></span><span id='topic+setObsoletedBy+2CCNode+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Updates the SystemMetadata 'obsoletedBy' property for an object, indicating that the object 
specified by pid has been obsoleted by the identifier in obsoletedByPid.
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.  See <code><a href="#topic+CertificateManager">CertificateManager</a></code> for details.
In DataONE version 2.0, authentication tokens can also be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setObsoletedBy(x, pid, obsoletedByPid, ...)

## S4 method for signature 'CNode,character'
setObsoletedBy(x, pid, obsoletedByPid, serialVersion)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setObsoletedBy_+3A_x">x</code></td>
<td>
<p>The CNode instance on which the object will be created</p>
</td></tr>
<tr><td><code id="setObsoletedBy_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object to be obsoleted</p>
</td></tr>
<tr><td><code id="setObsoletedBy_+3A_obsoletedbypid">obsoletedByPid</code></td>
<td>
<p>The identifier of the object that obsoletes the object identified by pid.</p>
</td></tr>
<tr><td><code id="setObsoletedBy_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="setObsoletedBy_+3A_serialversion">serialVersion</code></td>
<td>
<p>The serial version of the system metadata of the pid being obsoleted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the pid was obsoleted, otherwise FALSE is returned
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CNode-class">CNode</a></code> class description.
</p>

<hr>
<h2 id='setPublicAccess+2CD1Object-method'>Make the object publicly readable.</h2><span id='topic+setPublicAccess+2CD1Object-method'></span>

<h3>Description</h3>

<p>This method should be called prior to creating the object in DataONE.  
When called before 
creating the object, adds a rule to the access policy that makes this object
publicly readable.  If called after creation, it will only change the system
metadata locally, and will not have any effect on remotely uploaded copies of
the D1Object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'D1Object'
setPublicAccess(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setPublicAccess+2B2CD1Object-method_+3A_x">x</code></td>
<td>
<p>D1Object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>D1Object with modified access rules
</p>


<h3>See Also</h3>

<p><code><a href="datapack.html#topic+DataObject-class">DataObject</a></code> class description.
</p>

<hr>
<h2 id='showAuth'>Display all authentication information</h2><span id='topic+showAuth'></span><span id='topic+showAuth+2CAuthenticationManager-method'></span>

<h3>Description</h3>

<p>Display all authentication information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showAuth(.Object, ...)

## S4 method for signature 'AuthenticationManager'
showAuth(.Object, node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showAuth_+3A_.object">.Object</code></td>
<td>
<p>An AuthenticationManager instance</p>
</td></tr>
<tr><td><code id="showAuth_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
<tr><td><code id="showAuth_+3A_node">node</code></td>
<td>
<p>A D1Node instance</p>
</td></tr>
</table>

<hr>
<h2 id='showClientSubject'>Get DataONE Identity as Stored in the CILogon Certificate.</h2><span id='topic+showClientSubject'></span><span id='topic+showClientSubject+2CCertificateManager-method'></span>

<h3>Description</h3>

<p>Returns Your Identity according to DataONE (and CILogon) as provided in the Subject
field of the X.509 certificate.  The value is a Distinguished Name, and can be used in all fields that
require a user identity for access control authorization. If the certificate is missing on expired, then
the subject 'public' is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showClientSubject(x, ...)

## S4 method for signature 'CertificateManager'
showClientSubject(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showClientSubject_+3A_x">x</code></td>
<td>
<p>a CertificateManager instance</p>
</td></tr>
<tr><td><code id="showClientSubject_+3A_...">...</code></td>
<td>
<p>(Not yet used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the DataONE Subject that is your client's identity
</p>

<hr>
<h2 id='updateObject'>Update an object on a Member Node, by creating a new object that replaces an original.</h2><span id='topic+updateObject'></span><span id='topic+updateObject+2CMNode-method'></span>

<h3>Description</h3>

<p>This method provides the ability to update a data or metadata object to the Member Node
provided in the <code>'x'</code> parameter.  In DataONE, both the original object and the new object are
maintained, each with its own persistent identifier, and the 'obsoletes' field in the SystemMetadata is
used to reflect the fact that the new object replaces the old.  Both objects remain accessible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateObject(x, ...)

## S4 method for signature 'MNode'
updateObject(x, pid, file = as.character(NA), newpid, sysmeta, dataobj = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateObject_+3A_x">x</code></td>
<td>
<p>The MNode instance on which the object will be created</p>
</td></tr>
<tr><td><code id="updateObject_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="updateObject_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object to be updated</p>
</td></tr>
<tr><td><code id="updateObject_+3A_file">file</code></td>
<td>
<p>the absolute file location of the object to be uploaded</p>
</td></tr>
<tr><td><code id="updateObject_+3A_newpid">newpid</code></td>
<td>
<p>The identifier of the new object to be created</p>
</td></tr>
<tr><td><code id="updateObject_+3A_sysmeta">sysmeta</code></td>
<td>
<p>a SystemMetadata instance describing properties of the object</p>
</td></tr>
<tr><td><code id="updateObject_+3A_dataobj">dataobj</code></td>
<td>
<p>a <code>raw</code> object to use for the upload, instead of the contents of the <code>file</code> argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the version 2.0 library and higher, this operation can utilize an 
'dataone_token' option to provide credentials for write operations in DataONE.
The authentication token is obtained from DataONE (see your profile on https://search.dataone.org).
See the <code>vignette("dataone-overview")</code> for details.
Alternatively, the version 1.0 approach of using an X.509 certificate in a default location of the file 
system can also be used. This certificate provides authentication credentials from 
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.  See <code>vignette("dataone-overview")</code> for details.
</p>


<h3>Value</h3>

<p>A <code>character</code> containing the identifier if successful.
</p>


<h3>Note</h3>

<p>Please see the vignette *upload-data* for an example: <code>vignette("upload-data")</code>
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.update">https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.update</a>
</p>

<hr>
<h2 id='updateSystemMetadata'>Update the system metadata associated with an object.</h2><span id='topic+updateSystemMetadata'></span><span id='topic+updateSystemMetadata+2CMNode-method'></span>

<h3>Description</h3>

<p>A modified SytemMetadata object can be sent to DataONE that contains
updated information. This function allow updating of the system metadata without
updating the object that it describes, so that mutable attributes such as accessPolicy
can be updated easily.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateSystemMetadata(x, ...)

## S4 method for signature 'MNode'
updateSystemMetadata(x, pid, sysmeta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateSystemMetadata_+3A_x">x</code></td>
<td>
<p>The MNode instance from which the SystemMetadata will be downloaded</p>
</td></tr>
<tr><td><code id="updateSystemMetadata_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="updateSystemMetadata_+3A_pid">pid</code></td>
<td>
<p>The identifier of the object</p>
</td></tr>
<tr><td><code id="updateSystemMetadata_+3A_sysmeta">sysmeta</code></td>
<td>
<p>a SystemMetadata instance with updated information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the version 2.0 library and higher, this operation can utilize an 
'dataone_token' option to provide credentials for write operations in DataONE.
The authentication token is obtained from DataONE (see your profile on https://search.dataone.org).
See the <code>vignette("dataone-overview")</code> for details.
Alternatively, the version 1.0 approach of using an X.509 certificate in a default location of the file 
system can also be used. This certificate provides authentication credentials from 
CILogon <a href="https://cilogon.org/?skin=DataONE">https://cilogon.org/?skin=DataONE</a>.  See <code>vignette("dataone-overview")</code> for details.
</p>


<h3>Value</h3>

<p>A logical value, TRUE if the operation was successful, FALSE if there was an error.
</p>


<h3>Note</h3>

<p>Please see the vignette *upload-data* for an example: <code>vignette("upload-data")</code>
</p>


<h3>See Also</h3>

<p><a href="https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.updateSystemMetadata">https://purl.dataone.org/architecture/apis/MN_APIs.html#MNStorage.updateSystemMetadata</a>
</p>

<hr>
<h2 id='uploadDataObject'>Upload a DataObject to a DataONE member node.</h2><span id='topic+uploadDataObject'></span><span id='topic+uploadDataObject+2CD1Client-method'></span>

<h3>Description</h3>

<p>Upload a DataObject to a DataONE member node.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uploadDataObject(x, ...)

## S4 method for signature 'D1Client'
uploadDataObject(
  x,
  do,
  replicate = as.logical(FALSE),
  numberReplicas = NA,
  preferredNodes = NA,
  public = as.logical(FALSE),
  accessRules = NA,
  quiet = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uploadDataObject_+3A_x">x</code></td>
<td>
<p>A D1Client instance.</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_do">do</code></td>
<td>
<p>The DataObject instance to be uploaded to DataONE.</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_replicate">replicate</code></td>
<td>
<p>A value of type <code>"logical"</code>, if TRUE then DataONE will replicate this object to other member nodes</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_numberreplicas">numberReplicas</code></td>
<td>
<p>A value of type <code>"numeric"</code>, for number of supported replicas.</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_preferrednodes">preferredNodes</code></td>
<td>
<p>A list of <code>"character"</code>, each of which is the node identifier for a node to which a replica should be sent.</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_public">public</code></td>
<td>
<p>A <code>"logical"</code> value - if TRUE then the uploaded object will be publicly readable.</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_accessrules">accessRules</code></td>
<td>
<p>Access rules of <code>'data.frame'</code> that will be added to the access policy</p>
</td></tr>
<tr><td><code id="uploadDataObject_+3A_quiet">quiet</code></td>
<td>
<p>A <code>'logical'</code>. If TRUE (the default) then informational messages will not be printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>id The id of the DataObject that was uploaded
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
library(datapack)
testdf &lt;- data.frame(x=1:10,y=11:20)
csvfile &lt;- tempfile(pattern = "file", tmpdir = tempdir(), fileext = ".csv")
write.csv(testdf, csvfile, row.names=FALSE)
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
do &lt;- new("DataObject", format="text/csv", mnNodeId=getMNodeId(d1c), filename=csvfile)
# Upload a single DataObject to DataONE (requires authentication)
newId &lt;- uploadDataObject(d1c, do, replicate=FALSE, preferredNodes=NA ,  public=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='uploadDataPackage'>Upload a DataPackage to a DataONE member node.</h2><span id='topic+uploadDataPackage'></span><span id='topic+uploadDataPackage+2CD1Client-method'></span>

<h3>Description</h3>

<p>Upload all DataObjects contained in the DataPackage by calling <code><a href="#topic+uploadDataObject">uploadDataObject</a></code>
on each of the members. Also a resourceMap object is created from the
recorded relationships between DataObjects, and this is uploaded as well.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uploadDataPackage(x, ...)

## S4 method for signature 'D1Client'
uploadDataPackage(
  x,
  dp,
  replicate = NA,
  numberReplicas = NA,
  preferredNodes = NA,
  public = as.logical(FALSE),
  accessRules = NA,
  quiet = as.logical(TRUE),
  resolveURI = as.character(NA),
  packageId = as.character(NA),
  as = "character",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uploadDataPackage_+3A_x">x</code></td>
<td>
<p>A D1Client instance.</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_...">...</code></td>
<td>
<p>(Not yet used.)</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_dp">dp</code></td>
<td>
<p>The DataPackage instance to be submitted to DataONE for creation.</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_replicate">replicate</code></td>
<td>
<p>A value of type <code>"logical"</code>, if TRUE then DataONE will replicate this object to other member nodes</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_numberreplicas">numberReplicas</code></td>
<td>
<p>A value of type <code>"numeric"</code>, for number of supported replicas.</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_preferrednodes">preferredNodes</code></td>
<td>
<p>A list of <code>"character"</code>, each of which is the node identifier for a node to which a replica should be sent.</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_public">public</code></td>
<td>
<p>A <code>'logical'</code>, if TRUE then all objects in this package will be accessible by any user</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_accessrules">accessRules</code></td>
<td>
<p>Access rules of <code>'data.frame'</code> that will be added to the access policy of each object in the datapackage.</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_quiet">quiet</code></td>
<td>
<p>A <code>'logical'</code>. If TRUE (the default) then informational messages will not be printed.</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_resolveuri">resolveURI</code></td>
<td>
<p>A URI to prepend to identifiers (i.e. for use when creating the ResourceMap). See <a href="datapack.html#topic+serializePackage">serializePackage</a></p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_packageid">packageId</code></td>
<td>
<p>A value of type <code>"character"</code> specifying a unique identifier to use for the uploaded package (resource map pid)</p>
</td></tr>
<tr><td><code id="uploadDataPackage_+3A_as">as</code></td>
<td>
<p>A value of type <code>"character"</code> that specifies the return value. Possible values are <code>"character"</code> (the default) or <code>"DataPackage"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The DataPackage describes the collection of data object and their associated 
metadata object, with the relationships and members serialized into a document
stored under, and retrievable with, the packageId as it's own distinct object.
Any objects in the data map that have a dateUploaded value are assumed to be 
pre-existing in the system, and skipped.
</p>


<h3>Value</h3>

<p>id The identifier of the resource map for this data package
</p>


<h3>Note</h3>

<p>Member objects are created serially, and most errors in creating one object will 
interrupt the create process for the whole, with the result that some members will 
be created, and the remainder not.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+D1Client-class">D1Client</a></code> class description.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dataone)
library(datapack)
dp &lt;- new("DataPackage")
sampleData &lt;- system.file("extdata/sample.csv", package="dataone")
dataObj &lt;- new("DataObject", format="text/csv", file=sampleData)
dataObj &lt;- setPublicAccess(dataObj)
sampleEML &lt;- system.file("extdata/strix-pacific-northwest.xml", package="dataone")
metadataObj &lt;- new("DataObject", format="eml://ecoinformatics.org/eml-2.1.1", file=sampleEML)
metadataObj &lt;- setPublicAccess(metadataObj)
dp &lt;- addMember(dp, do = dataObj, mo = metadataObj)
d1c &lt;- D1Client("STAGING", "urn:node:mnStageUCSB2")
# Upload all members of the DataPackage to DataONE (requires authentication)
packageId &lt;- uploadDataPackage(d1c, dp, replicate=TRUE, public=TRUE, numberReplicas=2)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

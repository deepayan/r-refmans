<!DOCTYPE html><html><head><title>Help for package RcppParallel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RcppParallel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#flags'><p>Compilation flags for RcppParallel</p></a></li>
<li><a href='#RcppParallel-package'><p>Parallel programming tools for Rcpp</p></a></li>
<li><a href='#RcppParallel.package.skeleton'><p>Create a skeleton for a new package depending on RcppParallel</p></a></li>
<li><a href='#setThreadOptions'><p>Thread options for RcppParallel</p></a></li>
<li><a href='#tbbLibraryPath'><p>Get the Path to a TBB Library</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Parallel Programming Tools for 'Rcpp'</td>
</tr>
<tr>
<td>Version:</td>
<td>5.1.7</td>
</tr>
<tr>
<td>Description:</td>
<td>High level functions for parallel programming with 'Rcpp'.
    For example, the 'parallelFor()' function can be used to convert the work of
    a standard serial "for" loop into a parallel one and the 'parallelReduce()'
    function can be used for accumulating aggregate or other values.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>Rcpp, RUnit, knitr, rmarkdown</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make, Intel TBB, Windows: cmd.exe and
cscript.exe, Solaris: g++ is required</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rcppcore.github.io/RcppParallel/">https://rcppcore.github.io/RcppParallel/</a>,
<a href="https://github.com/RcppCore/RcppParallel">https://github.com/RcppCore/RcppParallel</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/RcppCore/RcppParallel/issues">https://github.com/RcppCore/RcppParallel/issues</a></td>
</tr>
<tr>
<td>Biarch:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-27 19:15:41 UTC; kevin</td>
</tr>
<tr>
<td>Author:</td>
<td>JJ Allaire [aut],
  Romain Francois [aut, cph],
  Kevin Ushey [aut, cre],
  Gregory Vandenbrouck [aut],
  Marcus Geelnard [aut, cph] (TinyThread library,
    https://tinythreadpp.bitsnbites.eu/),
  Hamada S. Badr <a href="https://orcid.org/0000-0002-9808-2344"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Posit, PBC [cph],
  Intel [aut, cph] (Intel TBB library, https://www.threadingbuildingblocks.org/),
  Microsoft [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kevin Ushey &lt;kevin@rstudio.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-27 21:02:40 UTC</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; x86_64-pc-linux-gnu; 2024-01-02 07:18:15 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='flags'>Compilation flags for RcppParallel</h2><span id='topic+flags'></span><span id='topic+RcppParallelLibs'></span><span id='topic+LdFlags'></span><span id='topic+CxxFlags'></span>

<h3>Description</h3>

<p>Output the compiler or linker flags required to build against RcppParallel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CxxFlags()

LdFlags()

RcppParallelLibs()
</code></pre>


<h3>Details</h3>

<p>These functions are typically called from <code>Makevars</code> as follows:</p>
<pre>PKG_LIBS += $(shell "${R_HOME}/bin/Rscript" -e "RcppParallel::LdFlags()")
</pre>
<p>On Windows, the flags ensure that the package links with the built-in TBB
library. On Linux and macOS, the output is empty, because TBB is loaded
dynamically on load by <code>RcppParallel</code>.
</p>
<p><span class="rlang"><b>R</b></span> packages using RcppParallel should also add the following to their
<code>NAMESPACE</code> file:</p>
<pre>importFrom(RcppParallel, RcppParallelLibs)
</pre>
<p>This is necessary to ensure that <span class="pkg">RcppParallel</span> (and so, TBB) is loaded
and available.
</p>


<h3>Value</h3>

<p>Returns <code>NULL</code>, invisibly. These functions are called for
their side effects (writing the associated flags to stdout).
</p>

<hr>
<h2 id='RcppParallel-package'>Parallel programming tools for Rcpp</h2><span id='topic+RcppParallel-package'></span><span id='topic+RcppParallel'></span>

<h3>Description</h3>

<p>High level functions for doing parallel programming with Rcpp.  For example,
the <code>parallelFor()</code> function can be used to convert the work of a
standard serial &quot;for&quot; loop into a parallel one, and the <code>parallelReduce()</code>
function can be used for accumulating aggregate or other values.
</p>


<h3>Details</h3>

<p>The high level interface enables safe and robust parallel programming
without direct manipulation of operating system threads. On Windows, macOS,
and Linux systems the underlying implementation is based on Intel TBB
(Threading Building Blocks). On other platforms, a less-performant fallback
implementation based on the TinyThread library is used.
</p>
<p>For additional documentation, see the package website at:
</p>
<p><a href="https://rcppcore.github.io/RcppParallel/">https://rcppcore.github.io/RcppParallel/</a>
</p>

<hr>
<h2 id='RcppParallel.package.skeleton'>Create a skeleton for a new package depending on RcppParallel</h2><span id='topic+RcppParallel.package.skeleton'></span>

<h3>Description</h3>

<p><code>RcppParallel.package.skeleton</code> automates the creation of a new source
package that intends to use features of RcppParallel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RcppParallel.package.skeleton(name = "anRpackage", example_code = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RcppParallel.package.skeleton_+3A_name">name</code></td>
<td>
<p>The name of your R package.</p>
</td></tr>
<tr><td><code id="RcppParallel.package.skeleton_+3A_example_code">example_code</code></td>
<td>
<p>If <code>TRUE</code>, example C++ code using RcppParallel is
added to the package.</p>
</td></tr>
<tr><td><code id="RcppParallel.package.skeleton_+3A_...">...</code></td>
<td>
<p>Optional arguments passed to <a href="Rcpp.html#topic+Rcpp.package.skeleton">Rcpp.package.skeleton</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is based on the <a href="utils.html#topic+package.skeleton">package.skeleton</a> function which it executes
first.
</p>
<p>In addition to <a href="Rcpp.html#topic+Rcpp.package.skeleton">Rcpp.package.skeleton</a> :
</p>
<p>The &lsquo;<span class="samp">&#8288;DESCRIPTION&#8288;</span>&rsquo; file gains an Imports line requesting that the
package depends on RcppParallel and a LinkingTo line so that the package
finds RcppParallel header files.
</p>
<p>The &lsquo;<span class="samp">&#8288;NAMESPACE&#8288;</span>&rsquo; gains a <code>useDynLib</code> directive as well as an
<code>importFrom(RcppParallel, evalCpp</code> to ensure instantiation of
RcppParallel.
</p>
<p>The &lsquo;<span class="samp">&#8288;src&#8288;</span>&rsquo; directory is created if it does not exists and a
&lsquo;<span class="samp">&#8288;Makevars&#8288;</span>&rsquo; file is added setting the environment variables
&lsquo;<span class="samp">&#8288;PKG_LIBS&#8288;</span>&rsquo; to accomodate the necessary flags to link with the
RcppParallel library.
</p>
<p>If the <code>example_code</code> argument is set to <code>TRUE</code>, example files
&lsquo;<span class="samp">&#8288;vector-sum.cpp&#8288;</span>&rsquo; is created in the &lsquo;<span class="samp">&#8288;src&#8288;</span>&rsquo; directory.
<code>Rcpp::compileAttributes()</code> is then called to generate
<code>src/RcppExports.cpp</code> and <code>R/RcppExports.R</code>. These files are given
as an example and should eventually by removed from the generated package.
</p>


<h3>Value</h3>

<p>Nothing, used for its side effects
</p>


<h3>References</h3>

<p>Read the <em>Writing R Extensions</em> manual for more details.
</p>
<p>Once you have created a <em>source</em> package you need to install it: see
the <em>R Installation and Administration</em> manual, <code><a href="utils.html#topic+INSTALL">INSTALL</a></code>
and <code><a href="utils.html#topic+install.packages">install.packages</a></code>.
</p>


<h3>See Also</h3>

<p><a href="utils.html#topic+package.skeleton">package.skeleton</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
# simple package
RcppParallel.package.skeleton("foobar")

## End(Not run)

</code></pre>

<hr>
<h2 id='setThreadOptions'>Thread options for RcppParallel</h2><span id='topic+setThreadOptions'></span><span id='topic+defaultNumThreads'></span>

<h3>Description</h3>

<p>Set thread options (number of threads to use for task scheduling and stack
size per-thread) for RcppParallel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setThreadOptions(numThreads = "auto", stackSize = "auto")

defaultNumThreads()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setThreadOptions_+3A_numthreads">numThreads</code></td>
<td>
<p>Number of threads to use for task scheduling. Call <code>defaultNumThreads()</code>
to determine the the default value used for &quot;auto&quot;.</p>
</td></tr>
<tr><td><code id="setThreadOptions_+3A_stacksize">stackSize</code></td>
<td>
<p>Stack size (in bytes) to use for worker threads. The
default used for &quot;auto&quot; is 2MB on 32-bit systems and 4MB on 64-bit systems
(note that this parameter has no effect on Windows).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>RcppParallel is automatically initialized with the default number of threads
and thread stack size when it loads. You can call <code>setThreadOptions()</code> at
any time to change the defaults.
</p>
<p>The <code>parallelFor()</code> and <code>parallelReduce()</code> also accept <code>numThreads</code> as
an argument, if you'd like to control the number of threads specifically
to be made available for a particular parallel function call. Note that
this value is advisory, and TBB may choose a smaller number of threads
if the number of requested threads cannot be honored on the system.
</p>


<h3>Value</h3>

<p><code>defaultNumThreads()</code> returns the default number of threads used by
RcppParallel, if another value isn't specified either via
<code>setThreadOptions()</code> or explicitly in calls to <code>parallelFor()</code> and
<code>parallelReduce()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(RcppParallel)
setThreadOptions(numThreads = 4)
defaultNumThreads()

## End(Not run)

</code></pre>

<hr>
<h2 id='tbbLibraryPath'>Get the Path to a TBB Library</h2><span id='topic+tbbLibraryPath'></span>

<h3>Description</h3>

<p>Retrieve the path to a TBB library. This can be useful for <span class="rlang"><b>R</b></span> packages
using RcppParallel that wish to use, or re-use, the version of TBB that
RcppParallel has been configured to use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbbLibraryPath(name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbbLibraryPath_+3A_name">name</code></td>
<td>
<p>The name of the TBB library to be resolved. Normally, this is one of
<code>tbb</code>, <code>tbbmalloc</code>, or <code>tbbmalloc_proxy</code>. When <code>NULL</code>, the library
path containing the TBB libraries is returned instead.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

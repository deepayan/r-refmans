<!DOCTYPE html><html><head><title>Help for package visa</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {visa}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.spectra.data.frame'><p>Create a SpectraDataFrame</p></a></li>
<li><a href='#cm.nsr'><p>Selecting the best 2-Band combinations for Normalized Simple Ratio (NSR)</p></a></li>
<li><a href='#cm.sr'><p>Selecting the best 2-Band combinations for Simple Ratio (SR)</p></a></li>
<li><a href='#ggplot'><p>Create a new ggplot plot with a geom_line() layer from spectra data</p></a></li>
<li><a href='#ggplot-method'><p>Plot functions</p></a></li>
<li><a href='#ndvi2'><p>Calculate and plot a 2-band NDVI.</p></a></li>
<li><a href='#NSpec.DB'><p>Example data in the Spectra/SpectraDatabase format.</p></a></li>
<li><a href='#NSpec.DF'><p>Example data in the SpectraDataFrame format</p></a></li>
<li><a href='#spectra'><p>Access the spectra data of 'SpectraDatabase'.</p></a></li>
<li><a href='#Spectra-class'><p>Create a Spectra or SpectraDatabase</p></a></li>
<li><a href='#SpectraDatabase-class'><p>Class 'SpectraDatabase'</p></a></li>
<li><a href='#SpectraDataFrame-class'><p>Class 'SpectraDataFrame'</p></a></li>
<li><a href='#SpectraMatrix-class'><p>Class 'SpectraMatrix'</p></a></li>
<li><a href='#sr'><p>Calculate Simple Ratio (SR).</p></a></li>
<li><a href='#visa'><p>visa: Vegetation Imaging Spectroscopy Analyzer</p></a></li>
<li><a href='#wavelength'><p>Access the wavelength of Spectra</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Vegetation Imaging Spectroscopy Analyzer</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides easy-to-use tools for data analysis and visualization for hyperspectral remote sensing (also known as imaging spectroscopy), with 
    a particular focus on vegetation hyperspectral data analysis. It consists of a set of functions, ranging from the organization of hyperspectral data 
    in the proper data structure for spectral feature selection, calculation of vegetation index, multivariate analysis, as well as to the visualization 
    of spectra and results of analysis in the 'ggplot2' style.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kang-yu/visa">https://github.com/kang-yu/visa</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kang-yu/visa/issues">https://github.com/kang-yu/visa/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, ggpmisc, methods, Matrix, reshape2, RColorBrewer</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, testthat, flux, knitr, rmarkdown, stringi</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'visa.R' 'Spectra-class.R' 'cm.nsr.R' 'cm.sr.R'
'data-specdb.R' 'data-specdf.R' 'ggplot-method.R'
'ggplot.lmfit.R' 'ggspectra.R' 'ndvi2.R' 'spectra.R' 'sr.R'
'wavelength.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-19 10:48:33 UTC; Kang Yu</td>
</tr>
<tr>
<td>Author:</td>
<td>Kang Yu [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kang Yu &lt;kang.yu@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-20 07:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.spectra.data.frame'>Create a SpectraDataFrame</h2><span id='topic+as.spectra.data.frame'></span><span id='topic+as.specdf'></span>

<h3>Description</h3>

<p>Constructor <code>as.spectra.data.frame</code> function creates a SpectraDataFrame object, which is equivalent to the use of <a href="#topic+as.specdf">as.specdf</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.spectra.data.frame(
  spectra = matrix(0),
  wavelength = numeric(0),
  w.unit = character(0),
  data = data.frame(0),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.spectra.data.frame_+3A_spectra">spectra</code></td>
<td>
<p>A matrix</p>
</td></tr>
<tr><td><code id="as.spectra.data.frame_+3A_wavelength">wavelength</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="as.spectra.data.frame_+3A_w.unit">w.unit</code></td>
<td>
<p>A character string</p>
</td></tr>
<tr><td><code id="as.spectra.data.frame_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
<tr><td><code id="as.spectra.data.frame_+3A_...">...</code></td>
<td>
<p>Other options for similar format of variables</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>sdf</code></td>
<td>
<p>Returns a SpectraDataFrame.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>sdf &lt;- as.spectra.data.frame(matrix(1:10, 1), 1:10, "nm", data.frame(a = 1, b =2))
str(sdf)
</code></pre>

<hr>
<h2 id='cm.nsr'>Selecting the best 2-Band combinations for Normalized Simple Ratio (NSR)</h2><span id='topic+cm.nsr'></span>

<h3>Description</h3>

<p>This function develops a optimization algorithm based on correlation analysis between spectral matrix 'spectra' and the
vegetation variable of interest x, which
determines the best spectral band combinations of the full spectrum that are most predictive for 'x'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm.nsr(S, x, w = wavelength(S), w.unit = NULL, cm.plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cm.nsr_+3A_s">S</code></td>
<td>
<p>A matrix of spectral data, a row is a spectrum across all spectral bands.</p>
</td></tr>
<tr><td><code id="cm.nsr_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="cm.nsr_+3A_w">w</code></td>
<td>
<p>A vector of wavelength.</p>
</td></tr>
<tr><td><code id="cm.nsr_+3A_w.unit">w.unit</code></td>
<td>
<p>Character string, default = NULL,</p>
</td></tr>
<tr><td><code id="cm.nsr_+3A_cm.plot">cm.plot</code></td>
<td>
<p>A logic value for whether plotting the coefficient matrix or not, default FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function runs a calculation of </p>
<p style="text-align: center;"><code class="reqn"> NDVI = (\lambda_i - \lambda_j)/(\lambda_i + \lambda_j) </code>
</p>
<p> using all the possible pairs/combinations of any two bands (i,j)
within the full spectrum range thoroughly. A correlation analysis is then performed between the x and all possible NDVIs, and it calculates
the correlation coefficients (r) which indicates the predictive performance of each NDVI and its corresponding two-band combination. The
output is the wavelength (nm) indicating the best two bands that produce the highest value of r.
</p>


<h3>Value</h3>

<table>
<tr><td><code>cm</code></td>
<td>
<p>Returns a correlation coefficients matrix.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+cor">cor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
data(NSpec.DF)
x &lt;- NSpec.DF$N # nitrogen
S &lt;- NSpec.DF$spectra[, seq(1, ncol(NSpec.DF$spectra), 5)] # resampled to 5 nm steps
cm &lt;- cm.nsr(S, x, cm.plot = TRUE)

</code></pre>

<hr>
<h2 id='cm.sr'>Selecting the best 2-Band combinations for Simple Ratio (SR)</h2><span id='topic+cm.sr'></span>

<h3>Description</h3>

<p>This function develops a optimization algorithm based on correlation analysis between spectral matrix 'spectra' and the
vegetation variable of interest x, which
determines the best spectral band combinations of the full spectrum that are most predictive for 'x'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm.sr(S, x, w = wavelength(S), w.unit = NULL, cm.plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cm.sr_+3A_s">S</code></td>
<td>
<p>A matrix of spectral data, a row is a spectrum across all spectral bands.</p>
</td></tr>
<tr><td><code id="cm.sr_+3A_x">x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="cm.sr_+3A_w">w</code></td>
<td>
<p>A vector of wavelength.</p>
</td></tr>
<tr><td><code id="cm.sr_+3A_w.unit">w.unit</code></td>
<td>
<p>Character string, default = NULL,</p>
</td></tr>
<tr><td><code id="cm.sr_+3A_cm.plot">cm.plot</code></td>
<td>
<p>A logic value for whether plotting the coefficient matrix or not, default FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function runs a calculation of </p>
<p style="text-align: center;"><code class="reqn"> NDVI = \lambda_i / \lambda_j </code>
</p>
<p> using all the possible pairs/combinations of any two bands (i,j)
within the full spectrum range thoroughly. A correlation analysis is then performed between the x and all possible NDVIs, and it calculates
the correlation coefficients (r) which indicates the predictive performance of each NDVI and its corresponding two-band combination. The
output is the wavelength (nm) indicating the best two bands that produce the highest value of r.
</p>


<h3>Value</h3>

<table>
<tr><td><code>cm</code></td>
<td>
<p>Returns a correlation coefficients matrix.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+cm.nsr">cm.nsr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
data(NSpec.DF)
x &lt;- NSpec.DF$N # nitrogen
S &lt;- NSpec.DF$spectra[, seq(1, ncol(NSpec.DF$spectra), 10)] # resampled to 10 nm steps
cm &lt;- cm.sr(S, x, cm.plot = FALSE)

</code></pre>

<hr>
<h2 id='ggplot'>Create a new ggplot plot with a geom_line() layer from spectra data</h2><span id='topic+ggplot'></span><span id='topic+ggplot.spectra'></span><span id='topic+ggplot.cm'></span>

<h3>Description</h3>

<p><code>ggplot()</code> initializes a ggplot object. It can be used to
declare the input spectra object for a graphic and to optionally specify the
set of plot aesthetics intended to be common throughout all
subsequent layers unless specifically overridden.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'spectra'
ggplot(
  data,
  mapping = NULL,
  ...,
  wl = NULL,
  w.unit = "nm",
  environment = parent.frame()
)

## S3 method for class 'cm'
ggplot(
  data,
  mapping = NULL,
  ...,
  show.stat = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_+3A_data">data</code></td>
<td>
<p>Default spectra database to use for plot. If not a spectra database, the
methods used will be those defined in package <code>ggplot2</code>. See <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>.
If not specified, must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_mapping">mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot.
If not specified, in the case of spectra objects, a default mapping will
be used.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to methods. Not currently used.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_wl">wl</code></td>
<td>
<p>numeric The wavelength vector.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_w.unit">w.unit</code></td>
<td>
<p>character The wavelength unit of the spectra.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_environment">environment</code></td>
<td>
<p>If an variable defined in the aesthetic mapping is not
found in the data, ggplot will look for it in this environment. It defaults
to using the environment in which <code>ggplot()</code> is called.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_show.stat">show.stat</code></td>
<td>
<p>A logic value. whether show the best R^2 and bands.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ggplot()</code> is typically used to construct a plot
incrementally, using the + operator to add layers to the
existing ggplot object. This is advantageous in that the
code is explicit about which layers are added and the order
in which they are added. For complex graphics with multiple
layers, initialization with <code>ggplot</code> is recommended.
</p>


<h3>Value</h3>

<table>
<tr><td><code>cm_plot</code></td>
<td>
<p>Returns a ggplot object of correlation-matrix.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Current implementation does not merge default mapping with user
supplied mapping. If user supplies a mapping, it is used as is.
To add to the default mapping, aes() can be used by itself to compose
the ggplot.
</p>


<h3>See Also</h3>

<p><code>?ggpmisc::ggplot()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
library(ggplot2)
ggplot.spectra(NSpec.DF)

library(visa)
data(NSpec.DF)
x &lt;- NSpec.DF$N # nitrogen
S &lt;- NSpec.DF$spectra[, seq(1, ncol(NSpec.DF$spectra), 5)] # resampled to 10 nm steps
cm &lt;- cm.sr(S, x, cm.plot = FALSE)
ggplot.cm(cm)
</code></pre>

<hr>
<h2 id='ggplot-method'>Plot functions</h2><span id='topic+ggplot-method'></span><span id='topic+ggplot.lmfit'></span>

<h3>Description</h3>

<p>This functions plots model fit using ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lmfit'
ggplot(x, y, ..., environment = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot-method_+3A_x">x</code>, <code id="ggplot-method_+3A_y">y</code></td>
<td>
<p>Two vectors</p>
</td></tr>
<tr><td><code id="ggplot-method_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to methods. Not currently used.</p>
</td></tr>
<tr><td><code id="ggplot-method_+3A_environment">environment</code></td>
<td>
<p>If an variable defined in the aesthetic mapping is not
found in the data, ggplot will look for it in this environment. It defaults
to using the environment in which <code>ggplot()</code> is called.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Visualization of linear fit (y = ax + b), using scatter plots and with regression line, as well as
added details of regression equation and R^2.
</p>


<h3>Value</h3>

<table>
<tr><td><code>p</code></td>
<td>
<p>Returns a ggplot object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
x &lt;- 1:10
y &lt;- 2:11+0.5
ggplot.lmfit(x, y)

</code></pre>

<hr>
<h2 id='ndvi2'>Calculate and plot a 2-band NDVI.</h2><span id='topic+ndvi2'></span>

<h3>Description</h3>

<p>This function calculates a 2-band NDVI using the <code><a href="#topic+nsr">nsr</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ndvi2(s, b1, b2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ndvi2_+3A_s">s</code></td>
<td>
<p>Spectral data in the format of visa's Spectra object, spectra.data.frame or spectra.matrix.</p>
</td></tr>
<tr><td><code id="ndvi2_+3A_b1">b1</code></td>
<td>
<p>A integer number which defines the wavelength of the 1st spectral band.</p>
</td></tr>
<tr><td><code id="ndvi2_+3A_b2">b2</code></td>
<td>
<p>A integer number which defines the wavelength of the 2nd spectral band.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate a NDVI with two specific bands of choice. The new NDVI follows the
the standard formula </p>
<p style="text-align: center;"><code class="reqn">NDVI = (\lambda_i + \lambda_j)/(\lambda_i - \lambda_j)</code>
</p>
<p>.
Bands i and j correspond to the b1 and b2 input arguments, respectively. Wavelength
indexes are determined based on the first argument 's'.
</p>


<h3>Value</h3>

<table>
<tr><td><code>ndvi</code></td>
<td>
<p>The returned values are the new NDVI.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
s &lt;- NSpec.DF$spectra
ndvi2(s, 780, 680)

</code></pre>

<hr>
<h2 id='NSpec.DB'>Example data in the Spectra/SpectraDatabase format.</h2><span id='topic+NSpec.DB'></span><span id='topic+Data-SpectraDatabase+2CData-Spectra'></span>

<h3>Description</h3>

<p>A S4 data structure containing the plant spectra and nitorgen (N) content. Spectra is organized as a matrix and is stored as a slot,
named 'spectra'. The corresponding N content is stored in the slot 'data', which is a data.frame to be used for storing vegetation traits,
such as here the plant N content.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NSpec.DB
</code></pre>


<h3>Format</h3>

<p>A Spectra object with 19 rows and 4 slots (spectra, wavelength, w.unit, data).
</p>

<dl>
<dt>spectra</dt><dd><p>A matrix of plant spectral data</p>
</dd>
<dt>wavelength</dt><dd><p>A vector of wavelength for the 'spectra' data</p>
</dd>
<dt>w.unit</dt><dd><p>A character string of wavelength unit (default &quot;nm&quot;)</p>
</dd>
<dt>data</dt><dd><p>A data.frame of vegetation traits, here plant nitrogen content</p>
</dd>
</dl>
<p>...currently not used

</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
data(NSpec.DB)
str(NSpec.DB)

</code></pre>

<hr>
<h2 id='NSpec.DF'>Example data in the SpectraDataFrame format</h2><span id='topic+NSpec.DF'></span><span id='topic+Data-SpectraDataFrame'></span>

<h3>Description</h3>

<p>A dataset containing the plant Nitrogen content and spectra.
The Spectra matrix is stored as a variable (in a column) of a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NSpec.DF
</code></pre>


<h3>Format</h3>

<p>A data frame with 19 rows and 2 variables:
</p>

<dl>
<dt>N</dt><dd><p>Plant nitrogen content</p>
</dd>
<dt>spectra</dt><dd><p>A variable of Matrix of plant spectra</p>
</dd>
</dl>
<p>...

</p>


<h3>See Also</h3>

<p><a href="base.html#topic+data.frame">data.frame</a> and <code><a href="#topic+NSpec.DB">NSpec.DB</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
data(NSpec.DF)
str(NSpec.DF)
</code></pre>

<hr>
<h2 id='spectra'>Access the spectra data of 'SpectraDatabase'.</h2><span id='topic+spectra'></span><span id='topic+spectra+2CSpectra-method'></span><span id='topic+spectra+2CSpectra+2CANY-method'></span><span id='topic+spectra+2Cdata.frame-method'></span><span id='topic+spectra+2Cdata.frame+2CANY-method'></span><span id='topic+spectra+2Cmatrix-method'></span><span id='topic+spectra+2Cmatrix+2CANY-method'></span>

<h3>Description</h3>

<p>Functions to access slot data of the Class Spectra.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spectra(object, ...)

## S4 method for signature 'Spectra'
spectra(object, ...)

## S4 method for signature 'data.frame'
spectra(object, ...)

## S4 method for signature 'matrix'
spectra(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spectra_+3A_object">object</code></td>
<td>
<p>A Spectra object, spectra.data.frame, or spectra.matrix.</p>
</td></tr>
<tr><td><code id="spectra_+3A_...">...</code></td>
<td>
<p>Other options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Construct generic functions for the Spectra object, spectra.data.frame,
and spectra.matrix.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># For the S4 class 'Spectra'
library(visa)
data(NSpec.DB)
spectra_matrix &lt;- spectra(NSpec.DB)
# For the spectra data.frame
data(NSpec.DF)
spectra_matrix &lt;- spectra(NSpec.DF)

</code></pre>

<hr>
<h2 id='Spectra-class'>Create a Spectra or SpectraDatabase</h2><span id='topic+Spectra-class'></span><span id='topic+Spectra'></span><span id='topic+Spectra+2CSpectra-class'></span><span id='topic+as.spectra'></span><span id='topic+as.spectra.database'></span>

<h3>Description</h3>

<p>Constructor <code>as.spectra</code> creates a Spectra object.
</p>
<p>Constructor <code>as.spectra.database</code> creates a SpectraDatabase object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.spectra(
  spectra = matrix(0),
  wavelength = numeric(0),
  w.unit = "nm",
  data = data.frame(),
  ...
)

as.spectra.database(
  spectra = matrix(0),
  wavelength = numeric(0),
  w.unit = "nm",
  data = data.frame(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Spectra-class_+3A_spectra">spectra</code></td>
<td>
<p>A matrix</p>
</td></tr>
<tr><td><code id="Spectra-class_+3A_wavelength">wavelength</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="Spectra-class_+3A_w.unit">w.unit</code></td>
<td>
<p>A character string</p>
</td></tr>
<tr><td><code id="Spectra-class_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
<tr><td><code id="Spectra-class_+3A_...">...</code></td>
<td>
<p>Other parameters</p>
</td></tr>
</table>


<h3>Slots</h3>


<dl>
<dt><code>spectra</code></dt><dd><p>A matrix</p>
</dd>
<dt><code>wavelength</code></dt><dd><p>A numeric vector</p>
</dd>
<dt><code>w.unit</code></dt><dd><p>A character string</p>
</dd>
<dt><code>data</code></dt><dd><p>A data.frame</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>s &lt;- as.spectra(matrix(1:100, 4), 1:25, "nm", data.frame(x = letters[1:4]))
str(s)

s &lt;- as.spectra.database(matrix(1:100, 4), 1:25, "nm", data.frame(x = letters[1:4]))
str(s)
</code></pre>

<hr>
<h2 id='SpectraDatabase-class'>Class 'SpectraDatabase'</h2><span id='topic+SpectraDatabase-class'></span><span id='topic+SpectraDatabase-class+2Cspectra.database'></span>

<h3>Description</h3>

<p>SpectraDatabase is an extended 'Spectra' class, with associated vegetation data ('data')
in a <a href="base.html#topic+data.frame">data.frame</a>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>spectra</code></dt><dd><p>A matrix</p>
</dd>
<dt><code>wavelength</code></dt><dd><p>A numeric vector</p>
</dd>
<dt><code>w.unit</code></dt><dd><p>A character string</p>
</dd>
<dt><code>data</code></dt><dd><p>A data.frame of vegetation data corresponding to the spectra</p>
</dd>
</dl>

<hr>
<h2 id='SpectraDataFrame-class'>Class 'SpectraDataFrame'</h2><span id='topic+SpectraDataFrame-class'></span><span id='topic+SpectraDataFrame+2Cspectra.data.frame'></span>

<h3>Description</h3>

<p>SpectraDataFrame is an extended 'Spectra' class, with associated vegetation data ('data')
in a <a href="base.html#topic+data.frame">data.frame</a>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>spectra</code></dt><dd><p>A matrix</p>
</dd>
<dt><code>wavelength</code></dt><dd><p>A numeric vector</p>
</dd>
<dt><code>w.unit</code></dt><dd><p>A character string</p>
</dd>
<dt><code>data</code></dt><dd><p>A data.frame of vegetation data corresponding to the spectra</p>
</dd>
</dl>

<hr>
<h2 id='SpectraMatrix-class'>Class 'SpectraMatrix'</h2><span id='topic+SpectraMatrix-class'></span><span id='topic+SpectraMaxtrix-class+2Cspectra.maxtrix'></span><span id='topic+as.spectra.matrix'></span>

<h3>Description</h3>

<p>SpectraMatrix is a extended 'Spectra' class.
</p>
<p>Constructor <code>as.spectra.matrix</code> creates a SpectraMatrix object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.spectra.matrix(
  spectra = matrix(0),
  wavelength = numeric(0),
  w.unit = character(0)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SpectraMatrix-class_+3A_spectra">spectra</code></td>
<td>
<p>A matrix</p>
</td></tr>
<tr><td><code id="SpectraMatrix-class_+3A_wavelength">wavelength</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="SpectraMatrix-class_+3A_w.unit">w.unit</code></td>
<td>
<p>A character string</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>sdf</code></td>
<td>
<p>Returns a SpectraDataFrame.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>smatrix &lt;- as.spectra.matrix(matrix(1:10, 1), 1:10, "nm")
str(smatrix)
</code></pre>

<hr>
<h2 id='sr'>Calculate Simple Ratio (SR).</h2><span id='topic+sr'></span><span id='topic+nsr'></span><span id='topic+lm.sr'></span><span id='topic+lm.nsr'></span>

<h3>Description</h3>

<p>Simple Ratio is the ratio of the spectra (mostly reflectance) between two bands
in the format of </p>
<p style="text-align: center;"><code class="reqn">SR = \lambda_i/\lambda_j</code>
</p>

<p>It is a normalization of SR by doing NSR = (1-SR)/(1+SR), with the same two spectral bands.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sr(s, b1, b2)

nsr(s, b1, b2)

lm.sr(s, b1, b2, y)

lm.nsr(s, b1, b2, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sr_+3A_s">s</code></td>
<td>
<p>Spectral data in the format of visa's Spectra object, spectra.data.frame or spectra.matrix.</p>
</td></tr>
<tr><td><code id="sr_+3A_b1">b1</code></td>
<td>
<p>A integer number which defines the wavelength of the 1st spectral band.</p>
</td></tr>
<tr><td><code id="sr_+3A_b2">b2</code></td>
<td>
<p>A integer number which defines the wavelength of the 2nd spectral band.</p>
</td></tr>
<tr><td><code id="sr_+3A_y">y</code></td>
<td>
<p>A numeric variable to correlate with SR</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Simple ratio and NDVI looking indices are the two groups of mostly used spectral indices in remote sensing.
</p>
<p>As it exactly reads in its name, it is a normalization of the SR and ranges in (0,1).
</p>


<h3>Value</h3>

<table>
<tr><td><code>sr</code></td>
<td>
<p>Returns a simple ratio index.</p>
</td></tr>
<tr><td><code>nsr</code></td>
<td>
<p>Returns a NSR index.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>Returns a ggplot object.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>Returns a ggplot object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
s &lt;- NSpec.DF$spectra
sr1 &lt;- sr(s, 480, 550)

s &lt;- NSpec.DF$spectra
nsr1 &lt;- nsr(s, 480, 550)

s &lt;- NSpec.DF
y &lt;- NSpec.DF$N
lm.sr(s,600,500,y)

s &lt;- NSpec.DF
y &lt;- NSpec.DF$N
lm.nsr(s,600,500,y)

</code></pre>

<hr>
<h2 id='visa'>visa: Vegetation Imaging Spectroscopy Analyzer</h2><span id='topic+visa'></span><span id='topic+visa-package'></span>

<h3>Description</h3>

<p>Provides easy-to-use tools for data analysis and visualization for hyperspectral remote sensing (also known as imaging spectroscopy), with 
a particular focus on vegetation hyperspectral data analysis. It consists of a set of functions, ranging from the organization of hyperspectral data 
in the proper data structure for spectral feature selection, calculation of vegetation index, multivariate analysis, as well as to the visualization 
of spectra and results of analysis in the 'ggplot2' style.
</p>


<h3>Details</h3>

<p>The visa package provides a set of functions for hyperspectral data analysis, with the main purpose
of simplifying the analysis and interpretation of vegetation spectral data.
</p>
<p>It implement two categories of important functions, including its own function and also
some built on other r packages.
</p>

<ul>
<li><p> vegetation indices, and
</p>
</li>
<li><p> multivariate analyses....
</p>
</li></ul>

<p>To know more about visa, check the vignettes:
'browseVignettes(&quot;visa&quot;)'
</p>


<h3>Vegetation Indices</h3>

<p>Support the calculation of vegetation indices from literature, as well as creation of new indices.
</p>


<h3>Multivariate analysis</h3>

<p>... not implemented yet
The multivariate analysis use the spectra.data.frame format.
</p>


<h3>Author(s)</h3>

<p>Kang Yu
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/kang-yu/visa">https://github.com/kang-yu/visa</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/kang-yu/visa/issues">https://github.com/kang-yu/visa/issues</a>
</p>
</li></ul>


<hr>
<h2 id='wavelength'>Access the wavelength of Spectra</h2><span id='topic+wavelength'></span><span id='topic+waveband'></span><span id='topic+wavelength+2CSpectra-method'></span><span id='topic+wavelength+2CSpectra+2CANY-method'></span><span id='topic+wavelength+2Cdata.frame-method'></span><span id='topic+wavelength+2Cdata.frame+2CANY-method'></span><span id='topic+wavelength+2Cmatrix-method'></span><span id='topic+wavelength+2Cmatrix+2CANY-method'></span>

<h3>Description</h3>

<p>Construct generic functions for the Spectra object, spectra.data.frame, and spectra.matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wavelength(object, ...)

## S4 method for signature 'Spectra'
wavelength(object, ...)

## S4 method for signature 'data.frame'
wavelength(object, ...)

## S4 method for signature 'matrix'
wavelength(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wavelength_+3A_object">object</code></td>
<td>
<p>A object of Spectra</p>
</td></tr>
<tr><td><code id="wavelength_+3A_...">...</code></td>
<td>
<p>Other options (... T/F with unit)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A call to new returns a newly allocated object from the class identified by the first argument.
This call in turn calls the method for the generic function 'initialize'.
Construct a Spectra class by using the
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(visa)
# For S4 class Spectra
wavelength(NSpec.DB)
# For spectra data.frame format
wavelength(NSpec.DF)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

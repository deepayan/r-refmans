<!DOCTYPE html><html><head><title>Help for package sejmRP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sejmRP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_database'><p>Creating database</p></a></li>
<li><a href='#deputies_add_new'><p>Adding new deputies to table</p></a></li>
<li><a href='#deputies_create_table'><p>Creating table with deputies</p></a></li>
<li><a href='#deputies_get_data'><p>Getting data about deputies</p></a></li>
<li><a href='#deputies_get_ids'><p>Getting deputies' ids</p></a></li>
<li><a href='#deputies_update_table'><p>Updating table with deputies</p></a></li>
<li><a href='#get_deputies_table'><p>Importing deputies table from a database</p></a></li>
<li><a href='#get_filtered_statements'><p>Retrieve filtered statements from a database</p></a></li>
<li><a href='#get_filtered_votes'><p>Retrieve filtered votes from a database</p></a></li>
<li><a href='#get_statements_table'><p>Importing statements table from a database</p></a></li>
<li><a href='#get_votes_table'><p>Importing votes table from a database</p></a></li>
<li><a href='#get_votings_table'><p>Importing votings table from a database</p></a></li>
<li><a href='#remove_database'><p>Removing database</p></a></li>
<li><a href='#safe_html'><p>Safe html scrapping</p></a></li>
<li><a href='#safe_readHTMLTable'><p>Safe html table scrapping</p></a></li>
<li><a href='#statements_create_table'><p>Creating table with deputies' statements</p></a></li>
<li><a href='#statements_get_statement'><p>Getting statements</p></a></li>
<li><a href='#statements_get_statements_data'><p>Getting data about statements</p></a></li>
<li><a href='#statements_get_statements_table'><p>Getting statements' table</p></a></li>
<li><a href='#statements_update_table'><p>Updating table with deputies' statements</p></a></li>
<li><a href='#votes_create_table'><p>Creating table with votes</p></a></li>
<li><a href='#votes_get_clubs_links'><p>Getting links with voting's results for each club</p></a></li>
<li><a href='#votes_get_results'><p>Getting voting's results for each club</p></a></li>
<li><a href='#votes_match_deputies_ids'><p>Matching deputies to theirs' ids</p></a></li>
<li><a href='#votes_update_table'><p>Updating table with votes</p></a></li>
<li><a href='#votings_create_table'><p>Creating table with votings</p></a></li>
<li><a href='#votings_get_date'><p>Getting date of meeting</p></a></li>
<li><a href='#votings_get_meetings_links'><p>Getting meetings' links</p></a></li>
<li><a href='#votings_get_meetings_table'><p>Getting meetings' table</p></a></li>
<li><a href='#votings_get_votings_links'><p>Getting votings' links</p></a></li>
<li><a href='#votings_get_votings_table'><p>Getting votings' table</p></a></li>
<li><a href='#votings_update_table'><p>Updating table with votings</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>An Information About Deputies and Votings in Polish Diet from
Seventh to Eighth Term of Office</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-03-28</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Piotr Smuda &lt;piotrsmuda@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Set of functions that access information about deputies and votings
    in Polish diet from webpage <a href="http://www.sejm.gov.pl">http://www.sejm.gov.pl</a>. The package was developed
    as a result of an internship in MI2 Group - <a href="http://mi2.mini.pw.edu.pl">http://mi2.mini.pw.edu.pl</a>, Faculty
    of Mathematics and Information Science, Warsaw University of Technology.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="http://github.com/mi2-warsaw/sejmRP/issues">http://github.com/mi2-warsaw/sejmRP/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>true</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>DBI, dplyr, tidyr, cluster, factoextra, RPostgreSQL, rvest,
stringi, XML, xml2</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-03-28 16:57:35 UTC; smender</td>
</tr>
<tr>
<td>Author:</td>
<td>Piotr Smuda [aut, cre],
  Przemyslaw Biecek [aut],
  Tomasz Mikolajczyk [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-03-28 17:29:47 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_database'>Creating database</h2><span id='topic+create_database'></span>

<h3>Description</h3>

<p>Function <code>create_database</code> creates a database with four empty
tables: deputies, votings, votes, statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_database(dbname, user, password, host)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_database_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="create_database_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="create_database_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="create_database_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
</table>


<h3>Details</h3>

<pre>
Created tables:
1. deputies with columns:
    1) id_deputy - deputy's id,
    2) nr_term_of_office - Polish Diet's number of term of office,
    3) surname_name - deputy's names and surnames,
2. votings with columns:
    1) id_voting - voting's id,
    2) nr_term_of_office - Polish Diet's number of term of office,
    3) nr_meeting - meeting's number,
    4) date_meeting - meeting's date,
    5) nr_voting - voting's number,
    6) topic_voting - voting's topic,
    7) link_results - link with voting's results,
3. votes with columns:
    1) id_vote - vote's id,
    2) nr_term_of_office - Polish Diet's number of term of office,
    3) id_deputy - deputy's id,
    4) id_voting - voting's id,
    5) vote - deputy's vote, one of: 'Za','Przeciw',
              'Wstrzymal sie','Nieobecny',
    6) club - deputy's club,
4. statements with columns:
    1) id_statement - statement's id, like: 
    (meeting's number).(voting's number).(statement's number),
    2) nr_term_of_office - Polish Diet's number of term of office,
    3) surname_name - author of statement,
    4) date_statement - statement's date,
    5) titles_order_points - title of order points,
    6) statement - content of statement.</pre>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
create_database(dbname, user, password, host)
## End(Not run)

</code></pre>

<hr>
<h2 id='deputies_add_new'>Adding new deputies to table</h2><span id='topic+deputies_add_new'></span>

<h3>Description</h3>

<p>Function <code>deputies_add_new</code> adds new deputies to a table with deputies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deputies_add_new(dbname, user, password, host, type, id,
  nr_term_of_office = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deputies_add_new_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="deputies_add_new_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="deputies_add_new_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="deputies_add_new_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="deputies_add_new_+3A_type">type</code></td>
<td>
<p>type of deputies which be add to table with deputies: active, inactive</p>
</td></tr>
<tr><td><code id="deputies_add_new_+3A_id">id</code></td>
<td>
<p>id of deputies from which we start add new deputies</p>
</td></tr>
<tr><td><code id="deputies_add_new_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>deputies_add_new</code> adds new deputies to a table with deputies.
Also there is a choice between types of deputies, because on the page 
of Polish diet deputies are splitted into <em>active</em> and <em>inactive</em>.
In addition id of the last added deputy in <em>deputies</em> table is needed.
</p>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
deputies_add_new(dbname, user, password, host, 'active', id)
deputies_add_new(dbname, user, password, host, 'inactive', id)
## End(Not run)

</code></pre>

<hr>
<h2 id='deputies_create_table'>Creating table with deputies</h2><span id='topic+deputies_create_table'></span>

<h3>Description</h3>

<p>Function <code>deputies_create_table</code> creates a table with deputies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deputies_create_table(dbname, user, password, host,
   nr_term_of_office = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deputies_create_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="deputies_create_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="deputies_create_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="deputies_create_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="deputies_create_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>Use only this function for first time, when the <em>deputies</em> table
is empty. Then use <code>deputies_update_table</code>.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
deputies_create_table(dbname, user, password, host)
## End(Not run)

</code></pre>

<hr>
<h2 id='deputies_get_data'>Getting data about deputies</h2><span id='topic+deputies_get_data'></span>

<h3>Description</h3>

<p>Function <code>deputies_get_data</code> gets data about deputies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deputies_get_data(type, nr_term_of_office = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deputies_get_data_+3A_type">type</code></td>
<td>
<p>type of deputies which be add to table with deputies: active, inactive</p>
</td></tr>
<tr><td><code id="deputies_get_data_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>deputies_get_data</code> gets deputies' ids and personal data like
name and surname. Also there is a choice between types of deputies, because
on the page of Polish diet deputies are splitted into <em>active</em> and <em>inactive</em>.
</p>


<h3>Value</h3>

<p>data frame with two columns: id_deputy, surname_name
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
deputies_get_data('active')
deputies_get_data('inactive')
## End(Not run)

</code></pre>

<hr>
<h2 id='deputies_get_ids'>Getting deputies' ids</h2><span id='topic+deputies_get_ids'></span>

<h3>Description</h3>

<p>Function <code>deputies_get_ids</code> gets deputies' ids from <em>deputies</em> table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deputies_get_ids(dbname, user, password, host,
   nr_term_of_office = 8, windows = .Platform$OS.type == 'windows')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deputies_get_ids_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="deputies_get_ids_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="deputies_get_ids_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="deputies_get_ids_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="deputies_get_ids_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
<tr><td><code id="deputies_get_ids_+3A_windows">windows</code></td>
<td>
<p>information of used operation system; default: 
.Platform$OS.type == 'windows'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>deputies_get_ids</code> gets deputies' ids from <em>deputies</em> table.
As result of this function you get named character vector with ids, where their
names are names and surnames of deputies. Because of encoding issue on Windows
operation system, you need to select if you use Windows.
</p>


<h3>Value</h3>

<p>named character vector
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
deputies_get_ids(dbname, user, password, host, TRUE)
deputies_get_ids(dbname, user, password, host, FALSE)
## End(Not run)

</code></pre>

<hr>
<h2 id='deputies_update_table'>Updating table with deputies</h2><span id='topic+deputies_update_table'></span>

<h3>Description</h3>

<p>Function <code>deputies_update_table</code> updates a table with deputies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deputies_update_table(dbname, user, password, host,
   nr_term_of_office = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deputies_update_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="deputies_update_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="deputies_update_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="deputies_update_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="deputies_update_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
deputies_update_table(dbname, user, password, host)
## End(Not run)

</code></pre>

<hr>
<h2 id='get_deputies_table'>Importing deputies table from a database</h2><span id='topic+get_deputies_table'></span>

<h3>Description</h3>

<p>Function <code>get_deputies_table</code> imports deputies table from a database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_deputies_table(dbname = 'sejmrp', user = 'reader',
  password = 'qux94874', host = 'services.mini.pw.edu.pl',
  sorted_by_id = TRUE, windows = .Platform$OS.type == 'windows')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_deputies_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database; default: 'sejmrp'</p>
</td></tr>
<tr><td><code id="get_deputies_table_+3A_user">user</code></td>
<td>
<p>name of user; default: 'reader'</p>
</td></tr>
<tr><td><code id="get_deputies_table_+3A_password">password</code></td>
<td>
<p>password of database; default: 'qux94874'</p>
</td></tr>
<tr><td><code id="get_deputies_table_+3A_host">host</code></td>
<td>
<p>name of host; default: 'services.mini.pw.edu.pl'</p>
</td></tr>
<tr><td><code id="get_deputies_table_+3A_sorted_by_id">sorted_by_id</code></td>
<td>
<p>information if table should be sorted by id; default: TRUE</p>
</td></tr>
<tr><td><code id="get_deputies_table_+3A_windows">windows</code></td>
<td>
<p>information of used operation system; default: .Platform$OS.type == 'windows'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>get_deputies_table</code> imports deputies table from a database.
The result of this function is a data frame with deputies' data. Because of
encoding issue on Windows operation system, you need to select if you use Windows.
</p>


<h3>Value</h3>

<p>data frame
</p>


<h3>Note</h3>

<p>Default parameters use privilages of 'reader'. It can only SELECT data from database.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
deputies &lt;- get_deputies_table()
dim(deputies)
# [1] 983 3
names(deputies)
# [1] 'id_deputy' 'nr_term_of_office' 'surname_name'
## End(Not run)

</code></pre>

<hr>
<h2 id='get_filtered_statements'>Retrieve filtered statements from a database</h2><span id='topic+get_filtered_statements'></span>

<h3>Description</h3>

<p>Function <code>get_filtered_statements</code> reads filtered statements from a database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_filtered_statements(dbname = 'sejmrp', user = 'reader',
  password = 'qux94874', host = 'services.mini.pw.edu.pl',
  windows = .Platform$OS.type == 'windows', terms_of_office = integer(0), 
  deputies = character(0), dates = character(0), topics = character(0),
  content = character(0), max_rows = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_filtered_statements_+3A_dbname">dbname</code></td>
<td>
<p>name of database; default: 'sejmrp'</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_user">user</code></td>
<td>
<p>name of user; default: 'reader'</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_password">password</code></td>
<td>
<p>password of database; default: 'qux94874'</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_host">host</code></td>
<td>
<p>name of host; default: 'services.mini.pw.edu.pl'</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_windows">windows</code></td>
<td>
<p>information of used operation system; default: .Platform$OS.type == 'windows'</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_terms_of_office">terms_of_office</code></td>
<td>
<p>range of terms of office's numbers that will be taken to filter data
from database; default: integer(0)</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_deputies">deputies</code></td>
<td>
<p>full names of deputies that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_dates">dates</code></td>
<td>
<p>period of time that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_topics">topics</code></td>
<td>
<p>text patterns that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_content">content</code></td>
<td>
<p>text patterns that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_statements_+3A_max_rows">max_rows</code></td>
<td>
<p>maximum number of rows to download; default: Inf</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>get_filtered_statements</code> reads filtered statements from a database.
The result of this function is an invisible data frame with statements' data.
</p>
<p>Possible filters:
</p>

<ol>
<li><p> terms_of_office - range of terms of office's numbers. This filter is a integer
vector with two elements, where the first describes a left boundary of range
and the second a right boundary. It is possible to choose only one term of office,
just try the same number as first and second element of vector.
</p>
</li>
<li><p> deputies - full names of deputies. This filter is a character vector with full
names of deputies in format: 'surname first_name second_name'. If you are not sure
if the deputy you were thinking about has second name, try 'surname first_name' or
just 'surname'. There is high probability that proper deputy will be chosen.
It is possible to choose more than one deputy.
</p>
</li>
<li><p> dates - period of time. This filter is a character vector with two elements
in date format 'YYYY-MM-DD', where the first describes left boundary of period and
the second right boundary. It is possible to choose only one day, just try the same
date as first and second element of vector.
</p>
</li>
<li><p> topics - text patterns. This filter is a character vector with text patterns of
topics in order points. Note that the order points are written like
sentences, so remember about case inflection of nouns and adjectives and use stems of
words as patterns. For example if you want to find order points about education 
(in Polish: szkolnictwo) try 'szkolnictw'. It is possible to choose more than one pattern.
</p>
</li>
<li><p> content - text patterns. This filter is a character vector with text patterns
in statements. Note that strings with statements are sentences, so remember about case
inflection of nouns and adjectives and use stems of words as patterns. 
For example if you want to find order points about education (in Polish:
szkolnictwo) try 'szkolnictw'. It is possible to choose more than one pattern.</p>
</li></ol>

<p>If you did not choose any filter, the whole database will be downloaded.
Note that, due to data size (&lt;= ~150 MB) it may take few seconds / minutes
to download all statements.
</p>
<p>Because of encoding issue on Windows operation system, you also need to select
if you use Windows.
</p>


<h3>Value</h3>

<p>data frame with NULL
</p>


<h3>Note</h3>

<p>Default parameters use privilages of 'reader'. It can only SELECT data from database.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Tomasz Mikolajczyk, Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
filtered_statements &lt;- get_filtered_statements()
dim(filtered_statements)
# [1] 2568       6
names(filtered_statements)
[1] 'id_statement' 'nr_term_of_office' 'surname_name' 'date_statement'
[5] 'titles_order_points' 'statement'
object.size(filtered_statements)
# 6488552 bytes
## End(Not run)

</code></pre>

<hr>
<h2 id='get_filtered_votes'>Retrieve filtered votes from a database</h2><span id='topic+get_filtered_votes'></span>

<h3>Description</h3>

<p>Function <code>get_filtered_votes</code> reads filtered votes from a database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_filtered_votes(dbname = 'sejmrp', user = 'reader',
  password = 'qux94874', host = 'services.mini.pw.edu.pl',
  windows = .Platform$OS.type == 'windows', clubs = character(0),
  dates = character(0), terms_of_office = integer(0), 
  meetings = integer(0), votings = integer(0),
  deputies = character(0), topics = character(0), max_rows = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_filtered_votes_+3A_dbname">dbname</code></td>
<td>
<p>name of database; default: 'sejmrp'</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_user">user</code></td>
<td>
<p>name of user; default: 'reader'</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_password">password</code></td>
<td>
<p>password of database; default: 'qux94874'</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_host">host</code></td>
<td>
<p>name of host; default: 'services.mini.pw.edu.pl'</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_windows">windows</code></td>
<td>
<p>information of used operation system; default: .Platform$OS.type == 'windows'</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_clubs">clubs</code></td>
<td>
<p>names of clubs that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_dates">dates</code></td>
<td>
<p>period of time that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_terms_of_office">terms_of_office</code></td>
<td>
<p>range of terms of office's numbers that will be taken to filter data
from database; default: integer(0)</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_meetings">meetings</code></td>
<td>
<p>range of meetings' numbers that will be taken to filter data from database;
default: integer(0)</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_votings">votings</code></td>
<td>
<p>range of votings' numbers that will be taken to filter data from database;
default: integer(0)</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_deputies">deputies</code></td>
<td>
<p>full names of deputies that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_topics">topics</code></td>
<td>
<p>text patterns that will be taken to filter data from database;
default: character(0)</p>
</td></tr>
<tr><td><code id="get_filtered_votes_+3A_max_rows">max_rows</code></td>
<td>
<p>maximum number of rows to download; default: Inf</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>get_filtered_votes</code> reads filtered votes from a database.
The result of this function is an invisible data frame with statements' data.
</p>
<p>Possible filters:
</p>

<ol>
<li><p> clubs - names of clubs. This filter is a character vector with elements
like for example: 'PO', 'PiS', 'SLD'. It is possible to choose more than one club.
</p>
</li>
<li><p> dates - period of time. This filter is a character vector with two elements
in date format 'YYYY-MM-DD', where the first describes left boundary of period and
the second right boundary. It is possible to choose only one day, just try the same
date as first and second element of vector.
</p>
</li>
<li><p> terms_of_office - range of terms of office's numbers. This filter is a integer
vector with two elements, where the first describes a left boundary of range
and the second a right boundary. It is possible to choose only one term of office,
just try the same number as first and second element of vector.
</p>
</li>
<li><p> meetings - range of meetings' numbers. This filter is a integer vector with two
elements, where the first describes a left boundary of range and the second a right
boundary. It is possible to choose only one meeting, just try the same number
as first and second element of vector.
</p>
</li>
<li><p> votings - range of votings' numbers. This filter is a integer vector with two
elements, where the first describes a left boundary of range and the second a right
boundary. It is possible to choose only one voting, just try the same number
as first and second element of vector.
</p>
</li>
<li><p> deputies - full names of deputies. This filter is a character vector with full
names of deputies in format: 'surname first_name second_name'. If you are not sure
if the deputy you were thinking about has second name, try 'surname first_name' or
just 'surname'. There is high probability that proper deputy will be chosen.
It is possible to choose more than one deputy.
</p>
</li>
<li><p> topics - text patterns. This filter is a character vector with text patterns of
topics that you are interested about. Note that the votings' topics are written like
sentences, so remember about case inflection of nouns and adjectives and use stems of
words as patterns. For example if you want to find votings about education (in Polish:
szkolnictwo) try 'szkolnictw'. It is possible to choose more than one pattern.</p>
</li></ol>

<p>If you did not choose any filter, the whole database will be downloaded.
Note that, due to data size (&lt;= ~150 MB) it may take few seconds / minutes
to download all votes.
</p>
<p>Because of encoding issue on Windows operation system, you also need to select
if you use Windows.
</p>


<h3>Value</h3>

<p>data frame with NULL
</p>


<h3>Note</h3>

<p>Default parameters use privilages of 'reader'. It can only SELECT data from database.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
filtered_votes &lt;- get_filtered_votes()
dim(filtered_votes)
# [1] 2826483       9
names(filtered_votes)
[1] 'surname_name' 'nr_term_of_office' 'club' 'vote' 'id_voting'
[6] 'nr_meeting' 'nr_voting' 'date_meeting' 'topic_voting'
object.size(filtered_votes)
# 148694336 bytes
## End(Not run)

</code></pre>

<hr>
<h2 id='get_statements_table'>Importing statements table from a database</h2><span id='topic+get_statements_table'></span>

<h3>Description</h3>

<p>Function <code>get_statements_table</code> imports statements table from a database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_statements_table(dbname = 'sejmrp', user = 'reader',
  password = 'qux94874', host = 'services.mini.pw.edu.pl',
  sorted_by_id = TRUE, windows = .Platform$OS.type == 'windows')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_statements_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database; default: 'sejmrp'</p>
</td></tr>
<tr><td><code id="get_statements_table_+3A_user">user</code></td>
<td>
<p>name of user; default: 'reader'</p>
</td></tr>
<tr><td><code id="get_statements_table_+3A_password">password</code></td>
<td>
<p>password of database; default: 'qux94874'</p>
</td></tr>
<tr><td><code id="get_statements_table_+3A_host">host</code></td>
<td>
<p>name of host; default: 'services.mini.pw.edu.pl'</p>
</td></tr>
<tr><td><code id="get_statements_table_+3A_sorted_by_id">sorted_by_id</code></td>
<td>
<p>information if table should be sorted by id; default: TRUE</p>
</td></tr>
<tr><td><code id="get_statements_table_+3A_windows">windows</code></td>
<td>
<p>information of used operation system;
default: .Platform$OS.type == 'windows'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>get_statements_table</code> imports statements table from a database.
The result of this function is a data frame with statements' data. Because of
encoding issue on Windows operation system, you need to select if you use Windows.
</p>


<h3>Value</h3>

<p>data frame
</p>


<h3>Note</h3>

<p>Default parameters use privilages of 'reader'. It can only SELECT data from database.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
statements &lt;- get_statements_table()
dim(statements)
# [1] 43432 6
names(statements)
# [1] 'id_statement' 'nr_term_of_office' 'surname_name'
# [4] 'date_statement' 'titles_order_points' 'statement'
## End(Not run)

</code></pre>

<hr>
<h2 id='get_votes_table'>Importing votes table from a database</h2><span id='topic+get_votes_table'></span>

<h3>Description</h3>

<p>Function <code>get_votes_table</code> imports votes table from a database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_votes_table(dbname = 'sejmrp', user = 'reader',
  password = 'qux94874', host = 'services.mini.pw.edu.pl',
  sorted_by_id = TRUE, windows = .Platform$OS.type == 'windows')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_votes_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database; default: 'sejmrp'</p>
</td></tr>
<tr><td><code id="get_votes_table_+3A_user">user</code></td>
<td>
<p>name of user; default: 'reader'</p>
</td></tr>
<tr><td><code id="get_votes_table_+3A_password">password</code></td>
<td>
<p>password of database; default: 'qux94874'</p>
</td></tr>
<tr><td><code id="get_votes_table_+3A_host">host</code></td>
<td>
<p>name of host; default: 'services.mini.pw.edu.pl'</p>
</td></tr>
<tr><td><code id="get_votes_table_+3A_sorted_by_id">sorted_by_id</code></td>
<td>
<p>information if table should be sorted by id; default: TRUE</p>
</td></tr>
<tr><td><code id="get_votes_table_+3A_windows">windows</code></td>
<td>
<p>information of used operation system;
default: .Platform$OS.type == 'windows'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>get_votes_table</code> imports votes table from a database.
The result of this function is a data frame with votes' data. Because of
encoding issue on Windows operation system, you need to select if you use Windows.
</p>


<h3>Value</h3>

<p>data frame
</p>


<h3>Note</h3>

<p>Default parameters use privilages of 'reader'. It can only SELECT data from database.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votes &lt;- get_votes_table()
dim(votes)
# [1] 2826483 6
names(votes)
# [1] 'id_vote' 'nr_term_of_office' 'id_deputy' 'id_voting' 'vote' 'club'
object.size(votes)
# 90474040 bytes
## End(Not run)

</code></pre>

<hr>
<h2 id='get_votings_table'>Importing votings table from a database</h2><span id='topic+get_votings_table'></span>

<h3>Description</h3>

<p>Function <code>get_votings_table</code> imports votings table from a database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_votings_table(dbname = 'sejmrp', user = 'reader',
  password = 'qux94874', host = 'services.mini.pw.edu.pl',
  sorted_by_id = TRUE, windows = .Platform$OS.type == 'windows')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_votings_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database; default: 'sejmrp'</p>
</td></tr>
<tr><td><code id="get_votings_table_+3A_user">user</code></td>
<td>
<p>name of user; default: 'reader'</p>
</td></tr>
<tr><td><code id="get_votings_table_+3A_password">password</code></td>
<td>
<p>password of database; default: 'qux94874'</p>
</td></tr>
<tr><td><code id="get_votings_table_+3A_host">host</code></td>
<td>
<p>name of host; default: 'services.mini.pw.edu.pl'</p>
</td></tr>
<tr><td><code id="get_votings_table_+3A_sorted_by_id">sorted_by_id</code></td>
<td>
<p>information if table should be sorted by id; default: TRUE</p>
</td></tr>
<tr><td><code id="get_votings_table_+3A_windows">windows</code></td>
<td>
<p>information of used operation system;
default: .Platform$OS.type == 'windows'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>get_votings_table</code> imports votings table from a database.
The result of this function is a data frame with votings' data. Because of
encoding issue on Windows operation system, you need to select if you use Windows.
</p>


<h3>Value</h3>

<p>data frame
</p>


<h3>Note</h3>

<p>Default parameters use privilages of 'reader'. It can only SELECT data from database.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votings &lt;- get_votings_table()
dim(votings)
# [1] 6212 7
names(votings)
# [1] 'id_voting' 'nr_term_of_office' 'nr_meeting'   
# [4] 'date_meeting' 'nr_voting' 'topic_voting' 
# [7] 'link_results'
## End(Not run)

</code></pre>

<hr>
<h2 id='remove_database'>Removing database</h2><span id='topic+remove_database'></span>

<h3>Description</h3>

<p>Function <code>remove_database</code> remove whole database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_database(dbname, user, password, host)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_database_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="remove_database_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="remove_database_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="remove_database_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
remove_database(dbname, user, password, host)
## End(Not run)

</code></pre>

<hr>
<h2 id='safe_html'>Safe html scrapping</h2><span id='topic+safe_html'></span>

<h3>Description</h3>

<p>Function <code>safe_html</code> tries to download the URL several times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safe_html(page, time = 60, attempts = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safe_html_+3A_page">page</code></td>
<td>
<p>requested URL</p>
</td></tr>
<tr><td><code id="safe_html_+3A_time">time</code></td>
<td>
<p>sleep interval after each failure</p>
</td></tr>
<tr><td><code id="safe_html_+3A_attempts">attempts</code></td>
<td>
<p>max number of tries (if there is a problem with connection)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>safe_html</code> performes 10 (by default) attempts to download the URL
and waits 60sec (by default) after each failure
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Author(s)</h3>

<p>Przemyslaw Biecek
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- paste0('http://www.sejm.gov.pl/Sejm7.nsf/',
               'wypowiedz.xsp?posiedzenie=15&amp;dzien=1&amp;wyp=008')
safe_html(page)
## End(Not run)

</code></pre>

<hr>
<h2 id='safe_readHTMLTable'>Safe html table scrapping</h2><span id='topic+safe_readHTMLTable'></span>

<h3>Description</h3>

<p>Function <code>safe_readHTMLTable</code> tries to download the table from given URL several times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safe_readHTMLTable(..., time = 60, attempts = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safe_readHTMLTable_+3A_...">...</code></td>
<td>
<p>arguments that will be passed to readHTMLTable</p>
</td></tr>
<tr><td><code id="safe_readHTMLTable_+3A_time">time</code></td>
<td>
<p>sleep interval after each failure</p>
</td></tr>
<tr><td><code id="safe_readHTMLTable_+3A_attempts">attempts</code></td>
<td>
<p>max number of tries (if there is a problem with connection)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>safe_readHTMLTable</code> performes 10 (by default) attempts to download the URL
and waits 60sec (by default) after each failure
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Author(s)</h3>

<p>Przemyslaw Biecek
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- paste0('http://www.sejm.gov.pl/Sejm7.nsf/',
               'posiedzenie.xsp?posiedzenie=99&amp;dzien=2')
safe_readHTMLTable(page)
## End(Not run)

</code></pre>

<hr>
<h2 id='statements_create_table'>Creating table with deputies' statements</h2><span id='topic+statements_create_table'></span>

<h3>Description</h3>

<p>Function <code>statements_create_table</code> creates a table with deputies' statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statements_create_table(dbname, user, password, host,
  nr_term_of_office = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="statements_create_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="statements_create_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="statements_create_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="statements_create_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="statements_create_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>Use only this function for first time, when the <em>statements</em> table
is empty. Then use <code>statements_update_table</code>.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda, Tomasz Mikolajczyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
statements_create_table(dbname, user, password, host)
## End(Not run)

</code></pre>

<hr>
<h2 id='statements_get_statement'>Getting statements</h2><span id='topic+statements_get_statement'></span>

<h3>Description</h3>

<p>Function <code>statements_get_statement</code> gets statement's content.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statements_get_statement(page, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="statements_get_statement_+3A_page">page</code></td>
<td>
<p>deputy's statement's page</p>
</td></tr>
<tr><td><code id="statements_get_statement_+3A_...">...</code></td>
<td>
<p>other arguments, that will be passed to safe_html()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>statements_get_statement</code> gets statement's content.
Example of page with deputy's statement: 
http://www.sejm.gov.pl/Sejm7.nsf/wypowiedz.xsp?posiedzenie=15&amp;dzien=1&amp;wyp=008
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda, Tomasz Mikolajczyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- paste0('http://www.sejm.gov.pl/Sejm7.nsf/',
               'wypowiedz.xsp?posiedzenie=15&amp;dzien=1&amp;wyp=008')
statements_get_statement(page)
## End(Not run)

</code></pre>

<hr>
<h2 id='statements_get_statements_data'>Getting data about statements</h2><span id='topic+statements_get_statements_data'></span>

<h3>Description</h3>

<p>Function <code>statements_get_statements_data</code> gets data about statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statements_get_statements_data(statements_links,
  home_page = 'http://www.sejm.gov.pl/')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="statements_get_statements_data_+3A_statements_links">statements_links</code></td>
<td>
<p>list of elements of XMLNodeSet class with statements' ids, links 
and their's authors</p>
</td></tr>
<tr><td><code id="statements_get_statements_data_+3A_home_page">home_page</code></td>
<td>
<p>main page of polish diet: http://www.sejm.gov.pl/</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>statements_get_statements_data</code> gets data about statements like
author, page with content of statement and it's id.
</p>


<h3>Value</h3>

<p>data frame with three columns: names, statements_links, ids
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda, Tomasz Mikolajczyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- safe_html(paste0('http://www.sejm.gov.pl/Sejm7.nsf/',
               'wypowiedz.xsp?posiedzenie=15&amp;dzien=1&amp;wyp=0'))
page &lt;- html_nodes(page, '.stenogram')
statements_links &lt;- html_nodes(page, 'h2 a')
statements_get_statements_data(statements_links,
  home_page = 'http://www.sejm.gov.pl/Sejm7.nsf/')
## End(Not run)

</code></pre>

<hr>
<h2 id='statements_get_statements_table'>Getting statements' table</h2><span id='topic+statements_get_statements_table'></span>

<h3>Description</h3>

<p>Function <code>statements_get_statements_table</code> gets statements' table from
meeting's page.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statements_get_statements_table(page)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="statements_get_statements_table_+3A_page">page</code></td>
<td>
<p>meeting's page</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>statements_get_statements_table</code> gets statements' table. from
meeting's page. Example of a meeting's page: 
http://www.sejm.gov.pl/Sejm7.nsf/posiedzenie.xsp?posiedzenie=99&amp;dzien=2
The result of this function is a data frame with three columns, where
the first includes author of statement, the second the number of order point 
and the third is a title of order point.
</p>


<h3>Value</h3>

<p>data frame with three unnamed columns
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- 'http://www.sejm.gov.pl/Sejm7.nsf/posiedzenie.xsp?posiedzenie=99&amp;dzien=2'
statements_get_statements_table(page)
## End(Not run)

</code></pre>

<hr>
<h2 id='statements_update_table'>Updating table with deputies' statements</h2><span id='topic+statements_update_table'></span>

<h3>Description</h3>

<p>Function <code>statements_update_table</code> updates a table with deputies' statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statements_update_table(dbname, user, password, host,
  nr_term_of_office = 8, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="statements_update_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="statements_update_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="statements_update_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="statements_update_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="statements_update_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
<tr><td><code id="statements_update_table_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE then additional info will be printed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda, Tomasz Mikolajczyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
statements_update_table(dbname, user, password, host)
## End(Not run)

</code></pre>

<hr>
<h2 id='votes_create_table'>Creating table with votes</h2><span id='topic+votes_create_table'></span>

<h3>Description</h3>

<p>Function <code>votes_create_table</code> creates a table with votes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votes_create_table(dbname, user, password, host,
  nr_term_of_office = 8, windows = .Platform$OS.type == 'windows')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votes_create_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="votes_create_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="votes_create_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="votes_create_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="votes_create_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
<tr><td><code id="votes_create_table_+3A_windows">windows</code></td>
<td>
<p>information of used operation system; 
default: .Platform$OS.type == 'windows'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>Use only this function for first time, when the <em>votes</em> table
is empty. Then use <code>votes_update_table</code>.
</p>
<p>There is a possibility that someone's voice reader broke during voting
and this situation is treated like this deputy was absent. Even if deputy
made a decision, he's/she's vote is 'Nieobecny'.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votes_create_table(dbname, user, password, host, 7, TRUE)
votes_create_table(dbname, user, password, host, 7, FALSE)
## End(Not run)

</code></pre>

<hr>
<h2 id='votes_get_clubs_links'>Getting links with voting's results for each club</h2><span id='topic+votes_get_clubs_links'></span>

<h3>Description</h3>

<p>Function <code>votes_get_clubs_links</code> gets links with voting's results for each club
from voting's page.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votes_get_clubs_links(home_page = 'http://www.sejm.gov.pl/Sejm8.nsf/',
  page)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votes_get_clubs_links_+3A_home_page">home_page</code></td>
<td>
<p>main page of polish diet: http://www.sejm.gov.pl/Sejm8.nsf/</p>
</td></tr>
<tr><td><code id="votes_get_clubs_links_+3A_page">page</code></td>
<td>
<p>voting's page</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>votes_get_clubs_links</code> gets links with voting's results for each club
from voting's page. Example of a voting's page: 
http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=glosowania&amp;
NrKadencji=7&amp;NrPosiedzenia=1&amp;NrGlosowania=1
</p>


<h3>Value</h3>

<p>data frame with two columns: club, links
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
home_page &lt;- 'http://www.sejm.gov.pl/Sejm7.nsf/'
page &lt;- paste0('http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?',
  'symbol=glosowania&amp;NrKadencji=7&amp;NrPosiedzenia=1&amp;NrGlosowania=1')
votes_get_clubs_links(home_page, page)
## End(Not run)

</code></pre>

<hr>
<h2 id='votes_get_results'>Getting voting's results for each club</h2><span id='topic+votes_get_results'></span>

<h3>Description</h3>

<p>Function <code>votes_get_results</code> gets voting's results for each club.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votes_get_results(page)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votes_get_results_+3A_page">page</code></td>
<td>
<p>club's voting's results page</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>votes_get_results</code> gets voting's results for each club.
Example of page with voting's results of PO club: 
http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=klubglos&amp;
IdGlosowania=37494&amp;KodKlubu=PO
</p>


<h3>Value</h3>

<p>data frame with two columns: deputy, vote
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- paste0('http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?',
           'symbol=klubglos&amp;IdGlosowania=37494&amp;KodKlubu=PO')
votes_get_results(page)
## End(Not run)

</code></pre>

<hr>
<h2 id='votes_match_deputies_ids'>Matching deputies to theirs' ids</h2><span id='topic+votes_match_deputies_ids'></span>

<h3>Description</h3>

<p>Function <code>votes_match_deputies_ids</code> matches deputies from voting's results
page to theirs' ids from <em>deputies</em> table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votes_match_deputies_ids(dbname, user, password, host, page, 
   nr_term_of_office = 8, windows = .Platform$OS.type == 'windows')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votes_match_deputies_ids_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="votes_match_deputies_ids_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="votes_match_deputies_ids_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="votes_match_deputies_ids_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="votes_match_deputies_ids_+3A_page">page</code></td>
<td>
<p>club's voting's results page</p>
</td></tr>
<tr><td><code id="votes_match_deputies_ids_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
<tr><td><code id="votes_match_deputies_ids_+3A_windows">windows</code></td>
<td>
<p>information of used operation system; 
default: .Platform$OS.type == 'windows'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>votes_match_deputies_ids</code> matches deputies from voting's results
page to theirs' ids from <em>deputies</em> table. The result of this function is
a data frame with deputies' data, ids and votes. Because of encoding issue
on Windows operation system, you need to select if you use Windows.
Example of page with voting's results of PO club: 
http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?
symbol=klubglos&amp;IdGlosowania=37494&amp;KodKlubu=PO
</p>


<h3>Value</h3>

<p>data frame with three columns: deputy, vote, id
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- paste0('http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?',
             'symbol=klubglos&amp;IdGlosowania=37494&amp;KodKlubu=PO')
votes_match_deputies_ids(dbname, user, password, host, page, 7, TRUE)
votes_match_deputies_ids(dbname, user, password, host, page, 7, FALSE)
## End(Not run)

</code></pre>

<hr>
<h2 id='votes_update_table'>Updating table with votes</h2><span id='topic+votes_update_table'></span>

<h3>Description</h3>

<p>Function <code>votes_update_table</code> updates a table with votes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votes_update_table(dbname, user, password, host,
  nr_term_of_office = 8, windows = .Platform$OS.type == 'windows',
  verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votes_update_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="votes_update_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="votes_update_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="votes_update_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="votes_update_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
<tr><td><code id="votes_update_table_+3A_windows">windows</code></td>
<td>
<p>information of used operation system; 
default: .Platform$OS.type == 'windows'</p>
</td></tr>
<tr><td><code id="votes_update_table_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE then additional info will be printed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>There is a possibility that someone's voice reader broke during voting
and this situation is treated like this deputy was absent. Even if deputy
made a decision, he's/she's vote is 'Nieobecny'.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votes_update_table(dbname, user, password, host, 7, TRUE)
votes_update_table(dbname, user, password, host, 7, FALSE)
## End(Not run)

</code></pre>

<hr>
<h2 id='votings_create_table'>Creating table with votings</h2><span id='topic+votings_create_table'></span>

<h3>Description</h3>

<p>Function <code>votings_create_table</code> creates a table with votings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votings_create_table(dbname, user, password, host,
  nr_term_of_office = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votings_create_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="votings_create_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="votings_create_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="votings_create_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="votings_create_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>Use only this function for first time, when the <em>votings</em> table
is empty. Then use <code>votings_update_table</code>.
</p>
<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votings_create_table(dbname, user, password, host)
## End(Not run)

</code></pre>

<hr>
<h2 id='votings_get_date'>Getting date of meeting</h2><span id='topic+votings_get_date'></span>

<h3>Description</h3>

<p>Function <code>votings_get_date</code> gets a date of meeting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votings_get_date(page)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votings_get_date_+3A_page">page</code></td>
<td>
<p>meeting's page</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Example of a meeting's page: 
http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=listaglos&amp;IdDnia=1179
</p>


<h3>Value</h3>

<p>date in format YYYY-MM-DD as character
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- 'http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=listaglos&amp;IdDnia=1179'
votings_get_date(page)
## End(Not run)

</code></pre>

<hr>
<h2 id='votings_get_meetings_links'>Getting meetings' links</h2><span id='topic+votings_get_meetings_links'></span>

<h3>Description</h3>

<p>Function <code>votings_get_meetings_links</code> gets meetings' links.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votings_get_meetings_links(
  home_page = 'http://www.sejm.gov.pl/Sejm8.nsf/', page = 
  'http://www.sejm.gov.pl/Sejm8.nsf/agent.xsp?symbol=posglos&amp;NrKadencji=8')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votings_get_meetings_links_+3A_home_page">home_page</code></td>
<td>
<p>main page of polish diet: http://www.sejm.gov.pl/Sejm8.nsf/</p>
</td></tr>
<tr><td><code id="votings_get_meetings_links_+3A_page">page</code></td>
<td>
<p>page with votings in polish diet: 
http://www.sejm.gov.pl/Sejm8.nsf/agent.xsp?
symbol=posglos&amp;NrKadencji=8</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votings_get_meetings_links()
## End(Not run)

</code></pre>

<hr>
<h2 id='votings_get_meetings_table'>Getting meetings' table</h2><span id='topic+votings_get_meetings_table'></span>

<h3>Description</h3>

<p>Function <code>votings_get_meetings_table</code> gets meetings' table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votings_get_meetings_table(page = 
  'http://www.sejm.gov.pl/Sejm8.nsf/agent.xsp?symbol=posglos&amp;NrKadencji=8')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votings_get_meetings_table_+3A_page">page</code></td>
<td>
<p>page with votings in polish diet: 
http://www.sejm.gov.pl/Sejm8.nsf/agent.xsp?
symbol=posglos&amp;NrKadencji=8</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>votings_get_meetings_table</code> gets meetings' table. The
result of this function is a data frame with three columns, where
the first includes numbers of meetings, the second theirs' dates in
Polish and the third is with numbers of votings on each meeting.
</p>


<h3>Value</h3>

<p>data frame with three unnamed columns
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votings_get_meetings_table()
## End(Not run)

</code></pre>

<hr>
<h2 id='votings_get_votings_links'>Getting votings' links</h2><span id='topic+votings_get_votings_links'></span>

<h3>Description</h3>

<p>Function <code>votings_get_votings_links</code> gets votings' links from
meeting's page.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votings_get_votings_links(home_page = 'http://www.sejm.gov.pl/Sejm8.nsf/',
  page)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votings_get_votings_links_+3A_home_page">home_page</code></td>
<td>
<p>main page of polish diet: http://www.sejm.gov.pl/Sejm8.nsf/</p>
</td></tr>
<tr><td><code id="votings_get_votings_links_+3A_page">page</code></td>
<td>
<p>meeting's page</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Example of a meeting's page: 
http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=listaglos&amp;IdDnia=1179
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
home_page &lt;- 'http://www.sejm.gov.pl/Sejm7.nsf/'
page &lt;- 'http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=listaglos&amp;IdDnia=1179'
votings_get_votings_links(home_page, page)
## End(Not run)

</code></pre>

<hr>
<h2 id='votings_get_votings_table'>Getting votings' table</h2><span id='topic+votings_get_votings_table'></span>

<h3>Description</h3>

<p>Function <code>votings_get_votings_table</code> gets votings' table from
meeting's page.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votings_get_votings_table(page)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votings_get_votings_table_+3A_page">page</code></td>
<td>
<p>meeting's page</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>votings_get_votings_table</code> gets votings' table from
meeting's page. Example of a meeting's page: 
http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=listaglos&amp;IdDnia=1179
The result of this function is a data frame with three columns, where
the first includes numbers of votings, the second voting's time 
and the third is with voting's topics.
</p>


<h3>Value</h3>

<p>data frame with three columns: Nr, Godzina (Time), Temat (Topic)
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
page &lt;- 'http://www.sejm.gov.pl/Sejm7.nsf/agent.xsp?symbol=listaglos&amp;IdDnia=1179'
votings_get_votings_table(page)
## End(Not run)

</code></pre>

<hr>
<h2 id='votings_update_table'>Updating table with votings</h2><span id='topic+votings_update_table'></span>

<h3>Description</h3>

<p>Function <code>votings_update_table</code> updates table with votings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>votings_update_table(dbname, user, password, host,
  nr_term_of_office = 8, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="votings_update_table_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="votings_update_table_+3A_user">user</code></td>
<td>
<p>name of user</p>
</td></tr>
<tr><td><code id="votings_update_table_+3A_password">password</code></td>
<td>
<p>password of database</p>
</td></tr>
<tr><td><code id="votings_update_table_+3A_host">host</code></td>
<td>
<p>name of host</p>
</td></tr>
<tr><td><code id="votings_update_table_+3A_nr_term_of_office">nr_term_of_office</code></td>
<td>
<p>number of term of office of Polish Diet; default: 8</p>
</td></tr>
<tr><td><code id="votings_update_table_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE then additional info will be printed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>


<h3>Note</h3>

<p>All information is stored in PostgreSQL database.
</p>


<h3>Author(s)</h3>

<p>Piotr Smuda
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
votings_update_table(dbname, user, password, host)
## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

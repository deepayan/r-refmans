<!DOCTYPE html><html lang="en"><head><title>Help for package saeHB.twofold</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {saeHB.twofold}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataTwofold'><p>Simulated dataset Under Two Fold Subarea level model with Normal distribution.</p></a></li>
<li><a href='#dataTwofoldNS'><p>Simulated dataset Under Two Fold Subarea level model with Normal distribution and Non-sampled subarea</p></a></li>
<li><a href='#NormalTF'><p>Small Area Estimation Using Hierarchical Bayesian Method under Twofold Subarea Level Model with Normal distribution</p></a></li>
<li><a href='#saeHB.twofold'><p>saeHB.twofold : Small Area Estimation Under Twofold Subarea Level Model Using Hierarchical Bayesian Method</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Hierarchical Bayes Twofold Subarea Level Model SAE</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Reyhan Saadi &lt;reyhansaadi335@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>We designed this package to provides several functions for area and subarea level of small area estimation under Twofold Subarea Level Model using hierarchical Bayesian (HB) method with Univariate Normal distribution for variables of interest. Some dataset simulated by a data generation are also provided. The 'rjags' package is employed to obtain parameter estimates using Gibbs Sampling algorithm. Model-based estimators involves the HB estimators which include the mean, the variation of mean, and the quantile. For the reference, see Rao and Molina (2015) &lt;<a href="https://doi.org/10.1002%2F9781118735855">doi:10.1002/9781118735855</a>&gt;, Torabi and Rao (2014) &lt;<a href="https://doi.org/10.1016%2Fj.jmva.2014.02.001">doi:10.1016/j.jmva.2014.02.001</a>&gt;, Leyla Mohadjer et al.(2007) <a href="http://www.asasrms.org/Proceedings/y2007/Files/JSM2007-000559.pdf">http://www.asasrms.org/Proceedings/y2007/Files/JSM2007-000559.pdf</a>, and Erciulescu et al.(2019) &lt;<a href="https://doi.org/10.1111%2Frssa.12390">doi:10.1111/rssa.12390</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rjags, coda, stringr, stats, grDevices, graphics, data.table,
utils</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>JAGS (http://mcmc-jags.sourceforge.net)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/reymath99/saeHB.twofold">https://github.com/reymath99/saeHB.twofold</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/reymath99/saeHB.twofold/issues">https://github.com/reymath99/saeHB.twofold/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-27 10:39:18 UTC; USER10</td>
</tr>
<tr>
<td>Author:</td>
<td>Reyhan Saadi [aut, cre],
  Azka Ubaidillah [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-28 11:20:03 UTC</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
</table>
<hr>
<h2 id='dataTwofold'>Simulated dataset Under Two Fold Subarea level model with Normal distribution.</h2><span id='topic+dataTwofold'></span>

<h3>Description</h3>

<p>A dataset to simulate Small Area Estimation using Hierarchical Bayesian method under Two Fold Subarea level model with Normal distribution on variabel interest.
</p>
<p>This data is generated by these following steps:
</p>

<ol>
<li><p> Generate sampling error <code class="reqn">e_{ij}</code>,subarea random effect <code class="reqn">u_{ij}</code>, area random effect <code class="reqn">v_{i}</code>, auxiliary variabel <code class="reqn">x_{ij1},x_{ij2}</code>, and weight or proportions of unit <code class="reqn">w_{ij}</code>
</p>

<ul>
<li><p> Generate subarea random effect <code class="reqn">u_{ij}</code>~<code class="reqn">N(0,8)</code>
</p>
</li>
<li><p> Generate area random effect <code class="reqn">v_{i}</code> ~ <code class="reqn">N(0,8)</code>
</p>
</li>
<li><p> Generate auxilary variabel on subarea level <code class="reqn">x_{ij1}</code>~ <code class="reqn">U(0,1)</code>
</p>
</li>
<li><p> Generate auxilary variabel on subarea level <code class="reqn">x_{ij2}</code>~<code class="reqn">N(10,1)</code>
</p>
</li>
<li><p> Generate unit proportion on each subarea <code class="reqn">w_{ij}</code>~<code class="reqn">U(10,20)</code>
</p>
</li>
<li><p> Generate sampling error <code class="reqn">e_{ij}</code>~<code class="reqn">N(0,\sigma^{2}_{e})</code> where <code class="reqn">\sigma^{2}_{e}</code>~<code class="reqn">IG(1,1)</code> is a variance of direct estimator
</p>
</li>
<li><p> Setting coefficient <code class="reqn">\beta_{0}=\beta_{1}=\beta_{2} =1</code>
</p>
</li>
<li><p> Calculate target parameter <code class="reqn">\mu_{ij}=\beta_{0} +\beta_{1}x_{ij1} +\beta_{2}x_{ij2}+v_{i}+u_{ij}</code>
</p>
</li>
<li><p> Calculate direct estimator <code class="reqn">y_{ij}=\mu_{ij}+e_{ij}</code>
</p>
</li></ul>

</li>
<li><p> Auxiliary variables <code class="reqn">x_{ij1}</code>,<code class="reqn">x_{ij2}</code>, direct estimation (<code class="reqn">y_{ij}</code>) ,vardir, and weight <code class="reqn">w_{ij}</code> are combined in a dataframe called dataTwofold
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataTwofold
</code></pre>


<h3>Format</h3>

<p>A data frame with 90 rows and 6 columns:
</p>

<dl>
<dt>y</dt><dd><p>Direct estimation of subarea mean <code class="reqn">y_{ij}</code></p>
</dd>
<dt>x1</dt><dd><p>Auxiliary variabel of <code class="reqn">x_{ij1}</code></p>
</dd>
<dt>x2</dt><dd><p>Auxiliary variabel of <code class="reqn">x_{ij2}</code></p>
</dd>
<dt>codearea</dt><dd><p>Index that describes the code relating to warea for each subarea</p>
</dd>
<dt>w</dt><dd><p>Unit proportion on each subarea or weight <code class="reqn">w_{ij}</code></p>
</dd>
<dt>vardir</dt><dd><p>Sampling variance of direct estimator <code class="reqn">y_{ij}</code></p>
</dd>
</dl>


<hr>
<h2 id='dataTwofoldNS'>Simulated dataset Under Two Fold Subarea level model with Normal distribution and Non-sampled subarea</h2><span id='topic+dataTwofoldNS'></span>

<h3>Description</h3>


<ol>
<li><p> A dataset to simulate Small Area Estimation using Hierarchical Bayesian method under Two Fold Subarea level model with Normal distribution and Non-sampled subarea
</p>
</li>
<li><p> This data contains NA values that indicates no sampled at one or more Subareas. It uses the <code><a href="#topic+dataTwofold">dataTwofold</a></code> with the direct estimates and the related variances in 10 subareas are missing.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataTwofoldNS
</code></pre>


<h3>Format</h3>

<p>A data frame with 90 rows and 6 columns:
</p>

<dl>
<dt>y</dt><dd><p>Direct estimation of subarea mean <code class="reqn">y_{ij}</code></p>
</dd>
<dt>x1</dt><dd><p>Auxiliary variabel of <code class="reqn">x_{ij1}</code></p>
</dd>
<dt>x2</dt><dd><p>Auxiliary variabel of <code class="reqn">x_{ij2}</code></p>
</dd>
<dt>codearea</dt><dd><p>Index that describes the code relating to area for each subarea</p>
</dd>
<dt>w</dt><dd><p>Unit proportion on each subarea or weight <code class="reqn">w_{ij}</code></p>
</dd>
<dt>vardir</dt><dd><p>Sampling variance of direct estimator <code class="reqn">y_{ij}</code></p>
</dd>
</dl>


<hr>
<h2 id='NormalTF'>Small Area Estimation Using Hierarchical Bayesian Method under Twofold Subarea Level Model with Normal distribution</h2><span id='topic+NormalTF'></span>

<h3>Description</h3>


<ul>
<li> <p>This function is implemented to variable of interest <code class="reqn">y</code> that assumed to be a Normal Distribution. The range of data is <code class="reqn">-\infty &lt;y&lt;\infty</code>
</p>
</li>
<li> <p>This function gives estimation of subarea and area means simultaneously under Twofold Subarea Level Small Area Estimation Model Using Hierarchical Bayesian Method with Normal distribution
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>NormalTF(
  formula,
  vardir,
  area,
  weight,
  iter.update = 3,
  iter.mcmc = 2000,
  thin = 1,
  burn.in = 1000,
  data,
  coef,
  var.coef
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NormalTF_+3A_formula">formula</code></td>
<td>
<p>Formula that describe the fitted model</p>
</td></tr>
<tr><td><code id="NormalTF_+3A_vardir">vardir</code></td>
<td>
<p>Sampling variances of direct estimations on each subarea</p>
</td></tr>
<tr><td><code id="NormalTF_+3A_area">area</code></td>
<td>
<p>Index that describes the code relating to area in each subarea.This should be defined for aggregation to get area estimator. Index start from 1 until m</p>
</td></tr>
<tr><td><code id="NormalTF_+3A_weight">weight</code></td>
<td>
<p>Vector contain proportion units or proportion of population on each subarea. <code class="reqn">w_{ij}</code></p>
</td></tr>
<tr><td><code id="NormalTF_+3A_iter.update">iter.update</code></td>
<td>
<p>Number of updates perform in Gibbs Sampling with default <code>3</code></p>
</td></tr>
<tr><td><code id="NormalTF_+3A_iter.mcmc">iter.mcmc</code></td>
<td>
<p>Number of total iteration per chain perform in Gibbs Sampling with default <code>2000</code></p>
</td></tr>
<tr><td><code id="NormalTF_+3A_thin">thin</code></td>
<td>
<p>Thinning rate perform in Gibbs Sampling and it must be a positive integer with default <code>1</code></p>
</td></tr>
<tr><td><code id="NormalTF_+3A_burn.in">burn.in</code></td>
<td>
<p>Number of burn in period in Gibbs Sampling with default <code>1000</code></p>
</td></tr>
<tr><td><code id="NormalTF_+3A_data">data</code></td>
<td>
<p>The data frame</p>
</td></tr>
<tr><td><code id="NormalTF_+3A_coef">coef</code></td>
<td>
<p>Vector contains initial value for mean on coefficient's prior distribution or <code class="reqn">\beta</code>'s prior distribution</p>
</td></tr>
<tr><td><code id="NormalTF_+3A_var.coef">var.coef</code></td>
<td>
<p>Vector contains Initial value for varians on coefficient's prior distribution or <code class="reqn">\beta</code>'s prior distribution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list with following objects:
</p>

<dl>
<dt>Est_sub</dt><dd><p>A dataframe that contains the values, standar deviation, and quantile of Subarea mean Estimates using Twofold Subarea level model under Hierarchical Bayes method</p>
</dd>
<dt>Est_area</dt><dd><p>A dataframe that contains the values, standar deviation, and quantile of Area mean Estimates using Twofold Subarea level model under Hierarchical Bayes method</p>
</dd>
<dt>refVar</dt><dd><p>A dataframe that contains estimated subarea and area random effect variance <code class="reqn">(\sigma_{u}^{2}</code> and <code class="reqn">\sigma_{v}^{2})</code></p>
</dd>
<dt>coefficient</dt><dd><p>A dataframe that contains the estimated model coefficient <code class="reqn">\beta</code></p>
</dd>
<dt>plot</dt><dd><p>Trace, Density, Autocorrelation Function Plot of coefficient</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>##load dataset for data without any nonsampled subarea
data(dataTwofold)

#formula of fitted model
formula=y~x1+x2

#model fitting
mod=NormalTF(formula,vardir="vardir",area="codearea",weight="w",data=dataTwofold)

#estimate
mod$Est_sub #Subarea mean estimate
mod$Est_area #area mean estimate
mod$coefficient #coefficient estimate
mod$refVar #random effect subarea and area estimates

#Load Library 'coda' to execute the plot
#autocorr.plot(mod$plot[[3]]) is used to generate ACF Plot
#plot(mod$plot[[3]]) is used to generate Density and trace plot

##for dataset with nonsampled subarea use dataTwofoldNS
</code></pre>

<hr>
<h2 id='saeHB.twofold'>saeHB.twofold : Small Area Estimation Under Twofold Subarea Level Model Using Hierarchical Bayesian Method</h2><span id='topic+saeHB.twofold'></span>

<h3>Description</h3>

<p>Provides several functions for area and subarea level of small area estimation under Twofold Subarea Level Model using hierarchical Bayesian (HB) method with Univariate Normal distribution for variables of interest. Some dataset simulated by a data generation are also provided. The 'rjags' package is employed to obtain parameter estimates using Gibbs Sampling algorithm. Model-based estimators involves the HB estimators which include the mean, the variation of mean, and the quantile. For the reference, see Rao and Molina (2015), Torabi (2014), Leyla Mohadjer et.al(2007)
</p>


<h3>Author(s)</h3>

<p>Reyhan Saadi, Azka Ubaidillah
</p>
<p><strong>Maintaner</strong>: Reyhan Saadi <a href="mailto:reyhansaadi335@gmail.com">reyhansaadi335@gmail.com</a>
</p>


<h3>Functions</h3>


<dl>
<dt><code><a href="#topic+NormalTF">NormalTF</a></code></dt><dd><p>This function gives estimation of subarea and area means simultaneously under Twofold Subarea Small Area Estimation Model Using Hierarchical Bayesian Method with Normal distribution based on model in Torabi (2014) amd Erciulescu et al. (2018)</p>
</dd>
</dl>



<h3>Reference</h3>


<ul>
<li><p>Mohadjer, L.K., Rao, J.N., Liu, B., Krenzke, T., &amp; Kerckhove, W.V. (2007). Hierarchical Bayes Small Area Estimates of Adult Literacy Using Unmatched Sampling and Linking Models.
</p>
</li>
<li><p>Torabi, M., &amp; Rao, J.N. (2014). On small area estimation under a sub-area level model. J. Multivar. Anal., 127, 36-55. DOI:10.1016/j.jmva.2014.02.001
</p>
</li>
<li><p>Rao, J.N.K &amp; Molina. (2015). Small Area Estimation 2nd Edition. New York: John Wiley and Sons, Inc. DOI:10.1002/9781118735855 
</p>
</li>
<li><p>Erciulescu, A.L., Cruze, N.B. and Nandram, B. (2019), Model-based county level crop estimates incorporating auxiliary sources of information. J. R. Stat. Soc. A, 182: 283-303. DOI:10.1111/rssa.12390
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

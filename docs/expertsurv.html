<!DOCTYPE html><html lang="en"><head><title>Help for package expertsurv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {expertsurv}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#expertsurv-package'><p>Incorporating Expert Opinion with Parametric Survival Models</p></a></li>
<li><a href='#bc'><p>Breast cancer survival data</p></a></li>
<li><a href='#bos'><p>Bronchiolitis obliterans syndrome after lung transplants</p></a></li>
<li><a href='#compile_stan'><p>Compile Specified Stan Models for Bayesian Survival Analysis</p></a></li>
<li><a href='#compiled_models_saved'><p>Object with Compiled Stan Code</p></a></li>
<li><a href='#cred_int'><p>Credible interval for pooled distribution</p></a></li>
<li><a href='#data'><p>A fictional survival trial taken directly from survHE.</p></a></li>
<li><a href='#elicit_surv'><p>Elicit survival judgements interactively and estimate survival models</p></a></li>
<li><a href='#fit.models.expert'><p>Fit Parametric Survival Models Incorporating Expert Opinion</p></a></li>
<li><a href='#make.surv'><p>Engine for Probabilistic Sensitivity Analysis on the survival curves</p></a></li>
<li><a href='#model.fit.plot'><p>Graphical representation of the measures of model fitting based on Information Criteria</p></a></li>
<li><a href='#plot_expert_opinion'><p>Plotting Pooled Expert Opinion</p></a></li>
<li><a href='#plot.expertsurv'><p>Plot survival curves for the models fitted using <code>fit.models</code></p></a></li>
<li><a href='#print.expertsurv'><p>Print a summary of the survival model(s) fitted by <code>fit.models</code></p></a></li>
<li><a href='#psa.plot'><p>Graphical depiction of the probabilistic sensitivity analysis for the</p>
survival curves - ported from <code>survHE</code></a></li>
<li><a href='#summary.expertsurv'><p>Prints a summary table for the distribution the mean survival time for a</p>
given model and data</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Incorporate Expert Opinion with Parametric Survival Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-02-17</td>
</tr>
<tr>
<td>Description:</td>
<td>Enables users to incorporate expert opinion with parametric survival analysis using a Bayesian or frequentist approach. Expert Opinion can be provided on the survival probabilities at certain time-point(s) or for the difference in mean survival between two treatment arms. Please reference it's use as Cooney, P., White, A. (2023) &lt;<a href="https://doi.org/10.1177%2F0272989X221150212">doi:10.1177/0272989X221150212</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), survival</td>
</tr>
<tr>
<td>Imports:</td>
<td>abind, assertthat, dplyr, generics, ggplot2, magrittr (&ge;
2.0), Matrix, numDeriv, purrr, Rcpp (&ge; 0.12.0), Rdpack, rlang,
rms, rstan (&ge; 2.26.0), rstantools (&ge; 2.2.0), rstpm2, scales,
SHELF, statmod, stats, stringr, tibble, tidyr, tidyselect,
utils, broom, sn, muhaz, mvtnorm, quadprog,</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>BH (&ge; 1.66.0), Rcpp (&ge; 0.12.0), RcppArmadillo, RcppEigen
(&ge; 0.3.3.3.0), RcppParallel (&ge; 5.0.1), rstan (&ge; 2.26.0),
splines2, StanHeaders (&ge; 2.26.0)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, bookdown, knitr, rjags, R2jags, loo, xlsx, shiny,
shinyWidgets, shinycssloaders, shinyjs, shinyMatrix, shinybusy,
ggpubr, splines2, survminer, colorspace, testthat, covr, eha</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-19 15:25:05 UTC; phili</td>
</tr>
<tr>
<td>Author:</td>
<td>Philip Cooney <a href="https://orcid.org/0000-0001-9649-0195"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Arthur White <a href="https://orcid.org/0000-0002-7268-5163"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philip Cooney &lt;phcooney@tcd.ie&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-20 18:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='expertsurv-package'>Incorporating Expert Opinion with Parametric Survival Models</h2><span id='topic+expertsurv-package'></span><span id='topic+expertsurv'></span>

<h3>Description</h3>

<p>Contains functions to include expert opinion with the parametric models commonly
used in health economic modelling. Theoretical details are described elsewhere (Cooney and White 2023).  Borrows many functions from the <code>survHE</code> package (Baio 2020) and <code>flexsurv</code> package (Jackson 2016).
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;"> Package: </td><td style="text-align: left;"> expertsurv </td>
</tr>
<tr>
 <td style="text-align: left;"> Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;"> Version: </td><td style="text-align: left;">
1.4.0</td>
</tr>
<tr>
 <td style="text-align: left;"> Date: </td><td style="text-align: left;"> 2023-09-22</td>
</tr>
<tr>
 <td style="text-align: left;"> License: </td><td style="text-align: left;"> MIT + file LICENSE </td>
</tr>
<tr>
 <td style="text-align: left;"> LazyLoad: </td><td style="text-align: left;">
yes</td>
</tr>
<tr>
 <td style="text-align: left;"> </td>
</tr>

</table>
<p> Integrate expert opinions on survival and mean differences in survival with common parametric survival models using either a Bayesian or frequentist framework.
</p>


<h3>Author(s)</h3>

<p>Philip Cooney Package Creator, Maintainer
</p>
<p>Arthur White  Thesis Supervisor
</p>


<h3>References</h3>

<p>P Cooney (2023). expertsurv: Incorporating expert opinion into parametric survival models.
</p>
<p>Baio G (2020).
&ldquo;survHE: Survival Analysis for Health Economic Evaluation and Cost-Effectiveness Modeling.&rdquo;
<em>Journal of Statistical Software</em>, <b>95</b>(14), 1&ndash;47.
<a href="https://doi.org/10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>.
Cooney P, White A (2023).
&ldquo;Direct Incorporation of Expert Opinion into Parametric Survival Models to Inform Survival Extrapolation.&rdquo;
<em>Medical Decision Making</em>, <b>1</b>(1), 0272989X221150212.
<a href="https://doi.org/10.1177/0272989X221150212">doi:10.1177/0272989X221150212</a>, PMID: 36647200, https://doi.org/10.1177/0272989X221150212, <a href="https://doi.org/10.1177/0272989X221150212">https://doi.org/10.1177/0272989X221150212</a>.
Jackson C (2016).
&ldquo;flexsurv: A Platform for Parametric Survival Modeling in R.&rdquo;
<em>Journal of Statistical Software</em>, <b>70</b>(8), 1&ndash;33.
<a href="https://doi.org/10.18637/jss.v070.i08">doi:10.18637/jss.v070.i08</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Define expert opinion
require("dplyr")
param_expert_example1 &lt;- list()
#1 timepoint and 2 experts with equal weight,
#first a normal distribution, second a non-standard t-distribution with
#3 degrees of freedom

param_expert_example1[[1]] &lt;- data.frame(dist = c("norm","t"),
                               wi = c(0.5,0.5), # Ensure Weights sum to 1
                               param1 = c(0.1,0.12),
                               param2 = c(0.05,0.05),
                                param3 = c(NA,3))


timepoint_expert &lt;- 14

data2 &lt;- data %&gt;% rename(status = censored) %&gt;% mutate(time2 = ifelse(time &gt; 10, 10, time),
                  status2 = ifelse(time&gt; 10, 0, status))

example1  &lt;- fit.models.expert(formula=Surv(time2,status2)~1,data=data2,
                              distr=c("wph", "gomp"),
                              method="mle",
                              pool_type = "log pool", 
                              opinion_type = "survival",
                              times_expert = timepoint_expert, 
                              param_expert = param_expert_example1)

 #Visualize the goodness of fit
 model.fit.plot(example1, type = "aic")
 #Visualize the survival curve
 plot(example1, add.km = TRUE, t = 0:30)


</code></pre>

<hr>
<h2 id='bc'>Breast cancer survival data</h2><span id='topic+bc'></span>

<h3>Description</h3>

<p>Survival times of 686 patients with primary node positive breast cancer. See <span class="pkg">flexsurv</span> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bc
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 686 rows and 4 columns.
</p>

<hr>
<h2 id='bos'>Bronchiolitis obliterans syndrome after lung transplants</h2><span id='topic+bos'></span><span id='topic+bosms3'></span><span id='topic+bosms4'></span>

<h3>Description</h3>

<p>See <code><a href="flexsurv.html#topic+flexsurv">flexsurv</a></code> for details.
</p>


<h3>Format</h3>

<p>A data frame containing a sequence of observed or censored
transitions to the next stage of severity or death.  It is grouped
by patient and includes histories of 204 patients.  All patients
start in state 1 (no BOS) at six months after transplant, and may
subsequently develop BOS or die.
</p>


<h3>Source</h3>

<p>Papworth Hospital, U.K.
</p>


<h3>References</h3>

<p>Heng. D. et al. (1998).  Bronchiolitis Obliterans Syndrome:
Incidence, Natural History, Prognosis, and Risk Factors.  Journal of Heart
and Lung Transplantation 17(12)1255&ndash;1263.
</p>

<hr>
<h2 id='compile_stan'>Compile Specified Stan Models for Bayesian Survival Analysis</h2><span id='topic+compile_stan'></span>

<h3>Description</h3>

<p>The <code>compile_stan</code> function pre-compiles specified Stan models used in the <code>expertsurv</code> package for Bayesian survival analysis. By compiling the models ahead of time, you can significantly reduce computation time during model fitting, as the models won't need to be compiled each time they're used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_stan(dist_stan = c("exp", "wei", "wph", "rps", "llo", "lno"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compile_stan_+3A_dist_stan">dist_stan</code></td>
<td>
<p>A character vector specifying the distributions to compile. Options include:
</p>

<dl>
<dt><code>"exp"</code></dt><dd><p>Exponential distribution</p>
</dd>
<dt><code>"wei"</code></dt><dd><p>Weibull distribution</p>
</dd>
<dt><code>"wph"</code></dt><dd><p>Weibull Proportional Hazards</p>
</dd>
<dt><code>"rps"</code></dt><dd><p>Restricted Piecewise Survival</p>
</dd>
<dt><code>"llo"</code></dt><dd><p>Log-Logistic distribution</p>
</dd>
<dt><code>"lno"</code></dt><dd><p>Log-Normal distribution</p>
</dd>
</dl>

<p>Defaults to <code>c("exp", "wei", "wph", "rps", "llo", "lno")</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Pre-compiling Stan models is recommended when working with Bayesian methods in survival analysis, as it avoids the overhead of compiling models during each function call. This is particularly beneficial when running multiple models or iterations.
</p>
<p>The function internally calls <code>rstan::stan_model()</code> for each specified distribution, compiling the Stan code associated with that model.
</p>


<h3>Value</h3>

<p>A named list of compiled Stan models corresponding to the specified distributions.
</p>


<h3>See Also</h3>

<p><a href="#topic+compile_stan">compile_stan</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(dplyr)
# Prepare the data
# Assume 'data' is your dataset containing 'time' and 'censored' variables
data2 &lt;- data %&gt;%
  rename(status = censored) %&gt;%
  mutate(
    time2 = ifelse(time &gt; 10, 10, time),
    status2 = ifelse(time &gt; 10, 0, status)
  )

# Pre-compile Stan models (ideally after installing the package)
# This step can be time-consuming but only needs to be done once per session
compiled_models_saved &lt;- compile_stan()

# Fit the survival models using Bayesian methods
example1 &lt;- fit.models.expert(
  formula = Surv(time2, status2) ~ 1,
  data = data2,
  distr = c("wei", "gom"),  # Weibull and Gompertz distributions
  method = "bayes",
  compile_mods = compiled_models_saved)

# Examine the results
summary(example1)
plot(example1)


</code></pre>

<hr>
<h2 id='compiled_models_saved'>Object with Compiled Stan Code</h2><span id='topic+compiled_models_saved'></span>

<h3>Description</h3>

<p>Pre-compiled stan models that can be generated by the <a href="#topic+compile_stan">compile_stan</a> function. These compiled stan models can be supplied to the <code>fit.models.expert</code> function with the argument <code>compile_mods</code>. This greatly facilitates the estimation of the parametric survival models run by stan.
</p>


<h3>Source</h3>

<p>Generated from <a href="#topic+compile_stan">compile_stan</a>
</p>

<hr>
<h2 id='cred_int'>Credible interval for pooled distribution</h2><span id='topic+cred_int'></span>

<h3>Description</h3>

<p>Returns the interval based on defined quantiles.
The approach used only provides an approximate (although quite accurate) integral.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cred_int(plt_obj, val = "linear pool", interval = c(0.025, 0.975))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cred_int_+3A_plt_obj">plt_obj</code></td>
<td>
<p>A plot object from <code>plot_expert_opinion</code>.</p>
</td></tr>
<tr><td><code id="cred_int_+3A_val">val</code></td>
<td>
<p>The name of the opinion for which the interval will be generated.</p>
</td></tr>
<tr><td><code id="cred_int_+3A_interval">interval</code></td>
<td>
<p>A vector of the upper and lower probabilities. Default is the standard 95% interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Credible interval based on the pooled distribution
</p>


<h3>Examples</h3>

<pre><code class='language-R'>param_expert_example1 &lt;- list()
param_expert_example1[[1]] &lt;- data.frame(dist = c("norm","t"),
    wi = c(0.5,0.5), # Ensure Weights sum to 1
    param1 = c(0.1,0.12),
    param2 = c(0.005,0.005),
    param3 = c(NA,3))
  
plot_opinion1&lt;- plot_expert_opinion(param_expert_example1[[1]], 
              weights = param_expert_example1[[1]]$wi)
cred_int(plot_opinion1,val = "linear pool", interval = c(0.025, 0.975))


</code></pre>

<hr>
<h2 id='data'>A fictional survival trial taken directly from survHE.</h2><span id='topic+data'></span>

<h3>Description</h3>

<p>A dataset containing fictional data from a trial, where
the main outcome is in terms of time-to-event and
censoring indicator and with additional covariates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 367 rows and 8 columns.
</p>


<h3>References</h3>

<p>Baio G (2020).
&ldquo;survHE: Survival Analysis for Health Economic Evaluation and Cost-Effectiveness Modeling.&rdquo;
<em>Journal of Statistical Software</em>, <b>95</b>(14), 1&ndash;47.
<a href="https://doi.org/10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>.
</p>

<hr>
<h2 id='elicit_surv'>Elicit survival judgements interactively and estimate survival models</h2><span id='topic+elicit_surv'></span>

<h3>Description</h3>

<p>Opens up a web browser (using the shiny package), from which you can specify
judgements and fit distributions for multiple timepoints and experts.
Plots of the fitted density functions are provided overlayed on the survival data (where appropriate).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elicit_surv(compile_mods = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elicit_surv_+3A_compile_mods">compile_mods</code></td>
<td>
<p>list of compiled stan models generated by <a href="#topic+compile_stan">compile_stan</a>. Supplying the compiled stan models will greatly speed up the computation of the Bayesian analysis (otherwise each time a stan model is run it will be compiled (and not reused between runs)).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Once the elicitation is complete the analysis can be run.
Click &quot;Download R objects&quot; to download the <code>expertsurv</code> object generated from the analysis.
Click &quot;Download report&quot; to generate a report including plots and parameter values for the parametric survival models.
For detailed instructions use <code>browseVignettes("expertsurv")</code>
</p>


<h3>Value</h3>

<p>If &quot;Download R objects&quot; selected an <code>expertsurv</code> object containing the results of the elicitation and analysis. The object includes:
</p>

<ul>
<li> <p><code>model</code>: The fitted survival models.
</p>
</li>
<li> <p><code>parameters</code>: The estimated parameters for each model.
</p>
</li></ul>

<p>If &quot;Download report&quot; selected either .html, .pdf or .docx document is downloaded with:
</p>

<ul>
<li> <p><code>plot</code>: Plots of the fitted survival overlayed on the Kaplan Meier data and plot of expert opinion as probability distributions.
</p>
</li>
<li> <p><code>summary</code>: A summary report of the analysis including goodness of fit and parameter values.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Philip Cooney <a href="mailto:phcooney@tcd.ie">phcooney@tcd.ie</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
elicit_surv()
}
</code></pre>

<hr>
<h2 id='fit.models.expert'>Fit Parametric Survival Models Incorporating Expert Opinion</h2><span id='topic+fit.models.expert'></span>

<h3>Description</h3>

<p>The <code>fit.models.expert</code> function extends the capabilities of the <code>survHE</code> package by allowing users to fit parametric survival models that incorporate expert opinion. Expert opinions can be on survival probabilities at specific time points or on expected differences in survival between groups. This function is particularly useful when empirical data is scarce or incomplete, and expert knowledge can help inform the analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit.models.expert(
  formula = NULL,
  data,
  distr = NULL,
  method = "bayes",
  opinion_type = "survival",
  param_expert = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit.models.expert_+3A_formula">formula</code></td>
<td>
<p>An object of class <code><a href="stats.html#topic+formula">formula</a></code> specifying the survival model to be fitted, as per <code>fit.models</code> in the <span class="pkg">survHE</span> package. The left-hand side must be a <code><a href="survival.html#topic+Surv">Surv</a></code> object, and the right-hand side specifies the covariates.</p>
</td></tr>
<tr><td><code id="fit.models.expert_+3A_data">data</code></td>
<td>
<p>A data frame containing the variables specified in the <code>formula</code>, as per <code>fit.models</code>.</p>
</td></tr>
<tr><td><code id="fit.models.expert_+3A_distr">distr</code></td>
<td>
<p>A character vector specifying the distribution(s) to be used for the survival model(s), as per <code>fit.models</code>. Options include, but are not limited to:
</p>

<ul>
<li> <p><code>"exp"</code>: Exponential distribution
</p>
</li>
<li> <p><code>"wei"</code>: Weibull distribution
</p>
</li>
<li> <p><code>"gom"</code>: Gompertz distribution
</p>
</li>
<li> <p><code>"gengamma"</code>: Generalized Gamma distribution
</p>
</li>
<li> <p><code>"genf"</code>: Generalized F distribution (not available for <code>method = "bayes"</code>)
</p>
</li>
<li> <p><code>"rps"</code>: Royston-Parmar spline model (not available with <code>opinion_type = "mean"</code>)
</p>
</li></ul>

<p>Note: The Generalized F model is not available when <code>method = "bayes"</code>, and the Royston-Parmar model is not available with expert opinion on the mean survival.</p>
</td></tr>
<tr><td><code id="fit.models.expert_+3A_method">method</code></td>
<td>
<p>The estimation method to be used. Options are:
</p>

<ul>
<li> <p><code>"mle"</code>: Maximum Likelihood Estimation
</p>
</li>
<li> <p><code>"bayes"</code>: Bayesian estimation using either Stan or JAGS
</p>
</li></ul>

<p>Note: The <code>"inla"</code> method is not included. For Bayesian analysis, specify <code>method = "bayes"</code> (do not use <code>"hmc"</code> as in <span class="pkg">survHE</span>).</p>
</td></tr>
<tr><td><code id="fit.models.expert_+3A_opinion_type">opinion_type</code></td>
<td>
<p>A character string specifying the type of expert opinion provided:
</p>

<ul>
<li> <p><code>"survival"</code>: Expert opinion on the survival function at specific time points
</p>
</li>
<li><p> Other values (e.g., <code>"mean"</code>): Expert opinion on differences in expected survival (area under the survival curve)
</p>
</li></ul>
</td></tr>
<tr><td><code id="fit.models.expert_+3A_param_expert">param_expert</code></td>
<td>
<p>A list where each element corresponds to a time point (if applicable) and contains a data frame of expert opinions. Each data frame should have the following columns, with each row representing an expert:
</p>

<dl>
<dt><code>dist</code></dt><dd><p>Name of the distribution assigned to each expert's opinion. Options include <code>"norm"</code>, <code>"t"</code>, <code>"lnorm"</code>, <code>"gamma"</code>, <code>"beta"</code>.</p>
</dd>
<dt><code>wi</code></dt><dd><p>Weight of the expert's opinion. Weights must sum to 1 across all experts for each time point.</p>
</dd>
<dt><code>param1</code></dt><dd><p>First parameter of the specified distribution (e.g., mean for normal distribution). Parameters follow the conventions of the <span class="pkg">SHELF</span> package.</p>
</dd>
<dt><code>param2</code></dt><dd><p>Second parameter of the specified distribution (e.g., standard deviation for normal distribution).</p>
</dd>
<dt><code>param3</code></dt><dd><p>Third parameter of the distribution, if applicable (e.g., degrees of freedom for the t-distribution); otherwise, set to <code>NA</code>.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="fit.models.expert_+3A_...">...</code></td>
<td>
<p>Other arguments required depending on the analysis. Important ones include:
</p>

<dl>
<dt><code>id_St</code></dt><dd><p>Required if the model includes covariates (e.g., treatments) and expert opinion on survival probabilities. Specifies the row number in the data frame representing the covariate pattern for which the expert opinion is provided.</p>
</dd>
<dt><code>id_trt</code></dt><dd><p>Required if including expert opinion about differences in expected survival. Specifies the row number representing the treatment group.</p>
</dd>
<dt><code>id_comp</code></dt><dd><p>Required if including expert opinion about differences in expected survival. Specifies the row number representing the comparator group.</p>
</dd>
<dt><code>times_expert</code></dt><dd><p>A numeric vector of time points at which expert opinion on survival probabilities is provided.</p>
</dd>
<dt><code>compile_mods</code></dt><dd><p>For Bayesian analysis, a list of pre-compiled Stan models can be supplied to speed up computation. Pre-compiling models is recommended and can be done using <code><a href="#topic+compile_stan">compile_stan</a></code>.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function enables the integration of expert opinion into parametric survival models. Expert opinion can be particularly valuable when data is limited or censored, as it allows for informed estimates of survival functions or differences between treatment groups.
</p>
<p>The function supports both Maximum Likelihood Estimation (MLE) and Bayesian methods. For Bayesian estimation, models are fitted using Stan or JAGS, depending on the distribution. Pre-compiling Stan models using <code><a href="#topic+compile_stan">compile_stan</a></code> is highly recommended to reduce computation time.
</p>


<h3>Value</h3>

<p>An object of class <code>expertsurv</code> containing the fitted models, parameter estimates, and other relevant information. This object can be used with plotting and summary functions for further analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)

# Example 1: Incorporating Expert Opinion on Survival Probabilities Using MLE

# Define expert opinion as a normal distribution centered at 0.1 with sd 0.05
param_expert_example1 &lt;- list()
param_expert_example1[[1]] &lt;- data.frame(
  dist = "norm",
  wi = 1,  # Ensure weights sum to 1 across experts
  param1 = 0.1,
  param2 = 0.05,
  param3 = NA
)

# Time point at which expert opinion is provided
timepoint_expert &lt;- 14  # For example, 14 months

# Prepare the data
# Assume 'data' is your dataset containing 'time' and 'censored' variables
data2 &lt;- data %&gt;%
  rename(status = censored) %&gt;%
  mutate(
    time2 = ifelse(time &gt; 10, 10, time),
    status2 = ifelse(time &gt; 10, 0, status)
  )

# Fit the survival models using MLE, incorporating expert opinion
example1 &lt;- fit.models.expert(
  formula = Surv(time2, status2) ~ 1,
  data = data2,
  distr = c("wei", "gom"),  # Weibull and Gompertz distributions
  method = "mle",
  opinion_type = "survival",
  times_expert = timepoint_expert,
  param_expert = param_expert_example1
)

# Plot the fitted survival curves along with the Kaplan-Meier estimate
plot(example1, add.km = TRUE, t = 0:20)

# Compare models using Akaike Information Criterion (AIC)
model.fit.plot(example1, type = "aic")

# Example 2: Incorporating Expert Opinion Using Bayesian Estimation

# Pre-compile Stan models (ideally after installing the package)
# This step can be time-consuming but only needs to be done once per session
compiled_models_saved &lt;- compile_stan()

# Fit the survival models using Bayesian estimation with expert opinion
example1_bayes &lt;- fit.models.expert(
  formula = Surv(time2, status2) ~ 1,
  data = data2,
  distr = c("wei", "gom"),
  method = "bayes",
  opinion_type = "survival",
  times_expert = timepoint_expert,
  param_expert = param_expert_example1,
  iter = 2000,  # Set to a high number for convergence (e.g., 2000 or more)
  compile_mods = compiled_models_saved
)

# Summarize the Bayesian model results
summary(example1_bayes)

# Plot the Bayesian fitted survival curves
plot(example1_bayes, add.km = TRUE, t = 0:20)

## End(Not run)
</code></pre>

<hr>
<h2 id='make.surv'>Engine for Probabilistic Sensitivity Analysis on the survival curves</h2><span id='topic+make.surv'></span>

<h3>Description</h3>

<p>Creates the survival curves for the fitted model(s) - Original code from <code>survHE</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make.surv(fit, mod = 1, t = NULL, newdata = NULL, nsim = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make.surv_+3A_fit">fit</code></td>
<td>
<p>the result of the call to the <code>fit.models</code> function,
containing the model fitting (and other relevant information)</p>
</td></tr>
<tr><td><code id="make.surv_+3A_mod">mod</code></td>
<td>
<p>the index of the model. Default value is 1, but the user can
choose which model fit to visualise, if the call to fit.models has a vector
argument for distr (so many models are fitted &amp; stored in the same object)</p>
</td></tr>
<tr><td><code id="make.surv_+3A_t">t</code></td>
<td>
<p>the time vector to be used for the estimation of the survival curve</p>
</td></tr>
<tr><td><code id="make.surv_+3A_newdata">newdata</code></td>
<td>
<p>a list (of lists), specifiying the values of the covariates
at which the computation is performed. For example
<code>list(list(arm=0),list(arm=1))</code> will create two survival curves, one
obtained by setting the covariate <code>arm</code> to the value 0 and the other by
setting it to the value 1. In line with <code>flexsurv</code> notation, the user
needs to either specify the value for <em>all</em> the covariates or for none (in
which case, <code>newdata=NULL</code>, which is the default). If some value is
specified and at least one of the covariates is continuous, then a single
survival curve will be computed in correspondence of the average values of
all the covariates (including the factors, which in this case are expanded
into indicators).</p>
</td></tr>
<tr><td><code id="make.surv_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations from the distribution of the survival
curves. Default at <code>nsim=1</code>, in which case uses the point estimate for
the relevant distributional parameters and computes the resulting survival
curve</p>
</td></tr>
<tr><td><code id="make.surv_+3A_...">...</code></td>
<td>
<p>Additional options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with survival times for the fitted models
</p>


<h3>Author(s)</h3>

<p>Gianluca Baio
</p>


<h3>References</h3>

<p>Baio G (2020).
&ldquo;survHE: Survival Analysis for Health Economic Evaluation and Cost-Effectiveness Modeling.&rdquo;
<em>Journal of Statistical Software</em>, <b>95</b>(14), 1&ndash;47.
<a href="https://doi.org/10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+psa.plot">psa.plot</a></code>(for example)
</p>

<hr>
<h2 id='model.fit.plot'>Graphical representation of the measures of model fitting based on Information Criteria</h2><span id='topic+model.fit.plot'></span>

<h3>Description</h3>

<p>Plots a summary of the model fit for all the models fitted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model.fit.plot(..., type = "dic")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.fit.plot_+3A_...">...</code></td>
<td>
<p>Optional inputs. Must include an <code>expertsurv</code> object.</p>
</td></tr>
<tr><td><code id="model.fit.plot_+3A_type">type</code></td>
<td>
<p>should the DIC, WAIC, PML be plotted (AIC, BIC also allowed but only valid for frequentist approach).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with the relevant model fitting statistics plotted in order of fit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require("dplyr")
param_expert_example1 &lt;- list()
param_expert_example1[[1]] &lt;- data.frame(dist = c("norm"),
                                         wi = c(1), # Ensure Weights sum to 1
                                         param1 = c(0.1),
                                         param2 = c(0.05),
                                         param3 = c(NA))
timepoint_expert &lt;- 14 # Expert opinion at t = 14


data2 &lt;- expertsurv::data %&gt;% rename(status = censored) %&gt;% 
mutate(time2 = ifelse(time &gt; 10, 10, time),
status2 = ifelse(time&gt; 10, 0, status))
example1  &lt;- fit.models.expert(formula=Surv(time2,status2)~1,data=data2,
                              distr=c("wei", "gomp"),
                              method="mle",
                              pool_type = "linear pool", 
                              opinion_type = "survival",
                              times_expert = timepoint_expert, 
                              param_expert = param_expert_example1)


model.fit.plot(example1, type = "aic")


</code></pre>

<hr>
<h2 id='plot_expert_opinion'>Plotting Pooled Expert Opinion</h2><span id='topic+plot_expert_opinion'></span>

<h3>Description</h3>

<p>Returns a ggplot with the individual expert opinions along with the pooled distributions (both linear and logarithmic).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_expert_opinion(
  object,
  xl_plt = NULL,
  xu_plt = NULL,
  weights = NULL,
  St_indic = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_expert_opinion_+3A_object">object</code></td>
<td>
<p>Either a object of class elicitation (from <code>SHELF</code>) or a dataframe with parameters of the distribution (see Example below).</p>
</td></tr>
<tr><td><code id="plot_expert_opinion_+3A_xl_plt">xl_plt</code></td>
<td>
<p>Optionally set the lower bound for the plot</p>
</td></tr>
<tr><td><code id="plot_expert_opinion_+3A_xu_plt">xu_plt</code></td>
<td>
<p>Optionally set the upper bound for the plot</p>
</td></tr>
<tr><td><code id="plot_expert_opinion_+3A_weights">weights</code></td>
<td>
<p>A vector with the weight of each expert. If omitted, set to equal weights.</p>
</td></tr>
<tr><td><code id="plot_expert_opinion_+3A_st_indic">St_indic</code></td>
<td>
<p>Set to 1 if you want to truncate the distributions to be between 0 and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot with pooled distributions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> expert_df &lt;- data.frame(dist = c("norm","t"), #Distribution Name
                         wi = c(1/3,2/3), #Expert weights
                         param1 = c(0.3,0.40), #Parameter 1
                         param2 = c(0.05,0.05),# Parameter 2
                         param3 = c(NA,3)) #Parameter 3: Only t-distribution
 
plot_expert_opinion(expert_df , weights = expert_df$wi)

                                                        
</code></pre>

<hr>
<h2 id='plot.expertsurv'>Plot survival curves for the models fitted using <code>fit.models</code></h2><span id='topic+plot.expertsurv'></span>

<h3>Description</h3>

<p>Plot survival curves for the models fitted using <code>fit.models</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'expertsurv'
plot(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.expertsurv_+3A_...">...</code></td>
<td>
<p>Must include at least one result object saved as the call to the <code>fit.models</code> function.
May include other optional parameters. These include:
</p>

<ul>
<li> <p><code>add.km</code>: Whether the KM curve should be added.
</p>
</li>
<li> <p><code>newdata</code>: Specifies a profile of covariates (in the list <code>newdata</code>). Other possibilities are additional (mainly graphical) options:
</p>

<ul>
<li> <p><code>xlab</code>: A string with the label for the x-axis (default = &quot;time&quot;).
</p>
</li>
<li> <p><code>ylab</code>: A string with the label for the y-axis (default = &quot;Survival&quot;).
</p>
</li>
<li> <p><code>lab.profile</code>: A (vector of) string(s) indicating the labels associated with the strata defining the different survival curves to plot. Defaults to the value used by the Kaplan Meier estimate given in <code>fit.models</code>.
</p>
</li>
<li> <p><code>xlim</code>: A vector determining the limits for the x-axis.
</p>
</li>
<li> <p><code>colors</code>: A vector of characters defining the colours in which to plot the different survival curves.
</p>
</li>
<li> <p><code>lab.profile</code>: A vector of characters defining the names of the models fitted.
</p>
</li>
<li> <p><code>add.km</code>: TRUE (whether to also add the Kaplan Meier estimates of the data).
</p>
</li>
<li> <p><code>annotate</code>: FALSE (whether to also add text to highlight the observed vs extrapolated data).
</p>
</li>
<li> <p><code>legend.position</code>: A vector of proportions to place the legend. Default to 'c(.75,.9)', which means 75% across the x-axis and 90% across the y-axis.
</p>
</li>
<li> <p><code>legend.title</code>: Suitable instructions to format the title of the legend; defaults to 'element_text(size=15,face=&quot;bold&quot;)' but other arguments can be added (using 'ggplot' facilities).
</p>
</li>
<li> <p><code>legend.text</code>: Suitable instructions to format the text of the legend; defaults to 'element_text(colour=&quot;black&quot;, size=14, face=&quot;plain&quot;)' but other arguments can be added (using 'ggplot' facilities).
</p>
</li></ul>

</li>
<li> <p><code>plot_opinion</code>: TRUE will provide an illustration of the expert opinion at each time-point.
</p>
</li>
<li> <p><code>plot_ci</code>: Statistical uncertainty can be plotted using the <code>plot_ci = TRUE</code> argument and by specifying <code>nsim</code> equal to the number of desired simulations (for Bayesian models, this must be less than the total number of simulations from the posterior). By default, the confidence/credible intervals are plotted as dashed lines. If an area/ribbon plot is preferred, set <code>ci_plot_ribbon = TRUE</code>.
</p>
</li>
<li> <p><code>nsim</code>: Even if statistical uncertainty is not required in the plots, it is recommended that <code>nsim</code> is set to a reasonable number. If <code>nsim = 1</code> by default, the maximum likelihood estimates or the posterior mean of the parameters will be used to plot the results. In most cases, this should suffice (particularly for maximum likelihood). However, the expected survival estimated by the full sampling distribution may be different from the estimate at its expectation/maximum likelihood estimate.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 object of the survival curves.
</p>


<h3>Author(s)</h3>

<p>Gianluca Baio
</p>


<h3>References</h3>

<p>Baio G (2020).
&ldquo;survHE: Survival Analysis for Health Economic Evaluation and Cost-Effectiveness Modeling.&rdquo;
<em>Journal of Statistical Software</em>, <b>95</b>(14), 1&ndash;47.
<a href="https://doi.org/10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit.models.expert">fit.models.expert</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require("dplyr")
param_expert_example1 &lt;- list()
param_expert_example1[[1]] &lt;- data.frame(dist = c("norm","t"),
                                         wi = c(0.5,0.5), # Ensure Weights sum to 1
                                         param1 = c(0.1,0.12),
                                         param2 = c(0.15,0.5),
                                         param3 = c(NA,3))

timepoint_expert &lt;- 14
data2 &lt;- data %&gt;% rename(status = censored) %&gt;% mutate(time2 = ifelse(time &gt; 10, 10, time),
                                                       status2 = ifelse(time&gt; 10, 0, status))
example1_mle &lt;- fit.models.expert(formula=Surv(time2,status2)~1,data=data2,
                                  distr=c("wph", "exp"),
                                  method="mle",
                                  pool_type = "log pool",
                                  opinion_type = "survival",
                                  times_expert = timepoint_expert,
                                  param_expert = param_expert_example1)


plot(example1_mle, add.km = TRUE, t = 0:30,plot_opinion = TRUE)

</code></pre>

<hr>
<h2 id='print.expertsurv'>Print a summary of the survival model(s) fitted by <code>fit.models</code></h2><span id='topic+print.expertsurv'></span>

<h3>Description</h3>

<p>Prints the summary table for the model(s) fitted, with the estimate of the
parameters - ported from <code>survHE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'expertsurv'
print(x, mod = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.expertsurv_+3A_x">x</code></td>
<td>
<p>the <code>expertsurv</code> object (the output of the call to
<code>fit.models</code>)</p>
</td></tr>
<tr><td><code id="print.expertsurv_+3A_mod">mod</code></td>
<td>
<p>is the index of the model. Default value is 1, but the user can
choose which model fit to visualise, if the call to fit.models has a vector
argument for distr (so many models are fitted &amp; stored in the same object)</p>
</td></tr>
<tr><td><code id="print.expertsurv_+3A_...">...</code></td>
<td>
<p>additional options, including: <code>digits</code> = number of
significant digits to be shown in the summary table (default = 6)
<code>original</code> = a flag to say whether the <em>original</em> table
from either <code>flexsurv</code> or <code>rstan/JAGS</code> should be printed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Printed message (no object returned) providing estimates of the survival models.
</p>


<h3>Author(s)</h3>

<p>Gianluca Baio
</p>


<h3>References</h3>

<p>Baio G (2020).
&ldquo;survHE: Survival Analysis for Health Economic Evaluation and Cost-Effectiveness Modeling.&rdquo;
<em>Journal of Statistical Software</em>, <b>95</b>(14), 1&ndash;47.
<a href="https://doi.org/10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require("dplyr")
param_expert_example1 &lt;- list()
param_expert_example1[[1]] &lt;- data.frame(dist = c("norm","t"),
                                         wi = c(0.5,0.5), # Ensure Weights sum to 1
                                       param1 = c(0.1,0.12),
                                      param2 = c(0.15,0.5),
                                       param3 = c(NA,3))
timepoint_expert &lt;- 14
data2 &lt;- data %&gt;% rename(status = censored) %&gt;% mutate(time2 = ifelse(time &gt; 10, 10, time),
                                                       status2 = ifelse(time&gt; 10, 0, status))
mle = example1 &lt;- fit.models.expert(formula=Surv(time2,status2)~1,data=data2,
                   distr=c("wph", "gomp"),
                   method="mle",
                   pool_type = "log pool",
                   opinion_type = "survival",
                   times_expert = timepoint_expert,
                   param_expert = param_expert_example1)
print(mle)
</code></pre>

<hr>
<h2 id='psa.plot'>Graphical depiction of the probabilistic sensitivity analysis for the
survival curves - ported from <code>survHE</code></h2><span id='topic+psa.plot'></span>

<h3>Description</h3>

<p>Plots the survival curves for all the PSA simulations. The function is
actually deprecated - similar graphs can be obtained directly using
the <code>plot</code> method (with options), which allows a finer depiction
of the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psa.plot(psa, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psa.plot_+3A_psa">psa</code></td>
<td>
<p>the result of the call to the function <code>make.surv</code></p>
</td></tr>
<tr><td><code id="psa.plot_+3A_...">...</code></td>
<td>
<p>Optional graphical parameters, such as: <code>xlab</code> = label for
the x-axis <code>ylab</code> = label for the y-axis <code>col</code> = (vector) of
colors for the lines to be plotted <code>alpha</code> = the level of transparency
for the curves (default = 0.2)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 object of the survival curve including parameter uncertainty
</p>


<h3>Author(s)</h3>

<p>Gianluca Baio
</p>


<h3>References</h3>

<p>Baio G (2020).
&ldquo;survHE: Survival Analysis for Health Economic Evaluation and Cost-Effectiveness Modeling.&rdquo;
<em>Journal of Statistical Software</em>, <b>95</b>(14), 1&ndash;47.
<a href="https://doi.org/10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require("dplyr")
param_expert_example1 &lt;- list()
param_expert_example1[[1]] &lt;- data.frame(dist = c("norm","t"),
                                        wi = c(0.5,0.5), # Ensure Weights sum to 1
                                        param1 = c(0.1,0.12),
                                        param2 = c(0.15,0.5),
                                        param3 = c(NA,3))

timepoint_expert &lt;- 14
data2 &lt;- data %&gt;% rename(status = censored) %&gt;% mutate(time2 = ifelse(time &gt; 10, 10, time),
                                                      status2 = ifelse(time&gt; 10, 0, status))
example1 &lt;- fit.models.expert(formula=Surv(time2,status2)~1,data=data2,
                             distr=c("wph", "gomp"),
                             method="mle",
                             pool_type = "log pool",
                             opinion_type = "survival",
                             times_expert = timepoint_expert,
                             param_expert = param_expert_example1)

p.mle = make.surv(example1,mod= 2,t = 1:30, nsim=1000) #Plot the Gompertz model
psa.plot(p.mle , name_labs = "PSA", labs = "Gompertz", col ="blue")

</code></pre>

<hr>
<h2 id='summary.expertsurv'>Prints a summary table for the distribution the mean survival time for a
given model and data</h2><span id='topic+summary.expertsurv'></span>

<h3>Description</h3>

<p>Calculates the mean survival time as the area under the survival curve -
ported from <code>survHE</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'expertsurv'
summary(object, mod = 1, t = NULL, nsim = 1000, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.expertsurv_+3A_object">object</code></td>
<td>
<p>a <code>expertsurv</code> object (resulting from the call to <code>fit.models</code>)</p>
</td></tr>
<tr><td><code id="summary.expertsurv_+3A_mod">mod</code></td>
<td>
<p>the model to be analysed (default = 1)</p>
</td></tr>
<tr><td><code id="summary.expertsurv_+3A_t">t</code></td>
<td>
<p>the vector of times to be used in the computation. Default = NULL,
which means the observed times will be used. NB: the vector of times should
be: i) long enough so that S(t) goes to 0; and ii) dense enough so that the
approximation to the AUC is sufficiently precise</p>
</td></tr>
<tr><td><code id="summary.expertsurv_+3A_nsim">nsim</code></td>
<td>
<p>the number of simulations from the survival curve distributions
to be used (to compute interval estimates)</p>
</td></tr>
<tr><td><code id="summary.expertsurv_+3A_...">...</code></td>
<td>
<p>Additional options</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list comprising of the following elements:
</p>
<table role = "presentation">
<tr><td><code>mean.surv</code></td>
<td>
<p> A matrix with the simulated values for the mean
survival times </p>
</td></tr> <tr><td><code>tab</code></td>
<td>
<p> A summary table </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Gianluca Baio
</p>


<h3>References</h3>

<p>Baio G (2020).
&ldquo;survHE: Survival Analysis for Health Economic Evaluation and Cost-Effectiveness Modeling.&rdquo;
<em>Journal of Statistical Software</em>, <b>95</b>(14), 1&ndash;47.
<a href="https://doi.org/10.18637/jss.v095.i14">doi:10.18637/jss.v095.i14</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit.models.expert">fit.models.expert</a></code>, <code><a href="#topic+make.surv">make.surv</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require("dplyr")
data2 &lt;- data %&gt;% rename(status = censored) %&gt;% mutate(time2 = ifelse(time &gt; 10, 10, time),
                                                       status2 = ifelse(time&gt; 10, 0, status))
mle = example1 &lt;- fit.models.expert(formula=Surv(time2,status2)~1,data=data2,
                   distr=c("wph", "gomp"),
                   method="mle")
summary(mle)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

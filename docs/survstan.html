<!DOCTYPE html><html lang="en"><head><title>Help for package survstan</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {survstan}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#survstan-package'><p>The 'survstan' package.</p></a></li>
<li><a href='#aftreg'><p>Fitting Accelerated Failure Time Models</p></a></li>
<li><a href='#ahreg'><p>Fitting Accelerated Hazard Models</p></a></li>
<li><a href='#AIC.survstan'><p>Akaike information criterion</p></a></li>
<li><a href='#anova.survstan'><p>anova method for survstan models</p></a></li>
<li><a href='#coef.survstan'><p>Estimated regression coefficients</p></a></li>
<li><a href='#confint.survstan'><p>Confidence intervals for the regression coefficients</p></a></li>
<li><a href='#cross_time'><p>Generic S3 method cross_time</p></a></li>
<li><a href='#cross_time.survstan'><p>Computes the crossing survival times</p></a></li>
<li><a href='#ehreg'><p>Fitting Extended Hazard Models</p></a></li>
<li><a href='#emmeans-survstan-helpers'><p>Support Functions for <span class="pkg">emmeans</span></p></a></li>
<li><a href='#estimates'><p>Parameters estimates of a survstan model</p></a></li>
<li><a href='#extractAIC.survstan'><p>Extract AIC from a Fitted Model</p></a></li>
<li><a href='#gastric'><p>Gastric cancer data set</p></a></li>
<li><a href='#ggprentice'><p>The Generalized Gamma Distribution (Prentice's alternative parametrization)</p></a></li>
<li><a href='#ggresiduals'><p>Generic S3 method ggresiduals</p></a></li>
<li><a href='#ggresiduals.survstan'><p>ggresiduals method for survstan models</p></a></li>
<li><a href='#ggstacy'><p>The Generalized Gamma Distribution (Stacy's original parametrization)</p></a></li>
<li><a href='#Gompertz'><p>The Gompertz Distribution</p></a></li>
<li><a href='#ipass'><p>IRESSA Pan-Asia Study (IPASS) data set</p></a></li>
<li><a href='#logLik.survstan'><p>Extract Log-Likelihood from a Fitted Model</p></a></li>
<li><a href='#model.matrix.survstan'><p>Model.matrix method for survstan models</p></a></li>
<li><a href='#phreg'><p>Fitting Proportional Hazards Models</p></a></li>
<li><a href='#poreg'><p>Fitting Proportional Odds Models</p></a></li>
<li><a href='#print.summary.survstan'><p>Print the summary.survstan output</p></a></li>
<li><a href='#rank_models'><p>Rank a collection of survstan models</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#residuals.survstan'><p>residuals method for survstan models</p></a></li>
<li><a href='#se'><p>Generic S3 method se</p></a></li>
<li><a href='#se.survstan'><p>Estimated standard errors</p></a></li>
<li><a href='#summary.survstan'><p>Summary for a survstan object</p></a></li>
<li><a href='#survfit.survstan'><p>survfit method for survstan models</p></a></li>
<li><a href='#tidy.survstan'><p>Tidy a survstan object</p></a></li>
<li><a href='#vcov.survstan'><p>Variance-covariance matrix</p></a></li>
<li><a href='#ypreg'><p>Fitting Yang and Prentice Models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Fitting Survival Regression Models via 'Stan'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.7.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Parametric survival regression models under the maximum likelihood approach via 'Stan'. Implemented regression models include accelerated failure time models, proportional hazards models, proportional odds models, accelerated hazard models, Yang and Prentice models, and extended hazard models. Available baseline survival distributions include exponential, Weibull, log-normal, log-logistic, gamma, generalized gamma, rayleigh, Gompertz and fatigue (Birnbaum-Saunders) distributions. References: Lawless (2002) &lt;ISBN:9780471372158&gt;; Bennett (1982) &lt;<a href="https://doi.org/10.1002%2Fsim.4780020223">doi:10.1002/sim.4780020223</a>&gt;; Chen and Wang(2000) &lt;<a href="https://doi.org/10.1080%2F01621459.2000.10474236">doi:10.1080/01621459.2000.10474236</a>&gt;; Demarqui and Mayrink (2021) &lt;<a href="https://doi.org/10.1214%2F20-BJPS471">doi:10.1214/20-BJPS471</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), survival</td>
</tr>
<tr>
<td>Imports:</td>
<td>actuar (&ge; 3.0.0), broom, doFuture, dplyr, extraDistr,
foreach, future, generics, ggplot2, gridExtra, MASS, methods,
purrr, Rcpp (&ge; 0.12.0), RcppParallel (&ge; 5.0.1), Rdpack,
rlang, rstan (&ge; 2.26.0), rstantools (&ge; 2.3.1), tibble, tidyr</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>BH (&ge; 1.66.0), Rcpp (&ge; 0.12.0), RcppEigen (&ge; 0.3.3.3.0),
RcppParallel (&ge; 5.0.1), rstan (&ge; 2.26.0), StanHeaders (&ge;
2.26.0)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/fndemarqui/survstan">https://github.com/fndemarqui/survstan</a>,
<a href="https://fndemarqui.github.io/survstan/">https://fndemarqui.github.io/survstan/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/fndemarqui/survstan/issues">https://github.com/fndemarqui/survstan/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>emmeans (&ge; 1.4.2), estimability, GGally, knitr, rmarkdown,
testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-12 16:07:59 UTC; fndemarqui</td>
</tr>
<tr>
<td>Author:</td>
<td>Fabio Demarqui <a href="https://orcid.org/0000-0001-9236-1986"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Andrew Johnson [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Fabio Demarqui &lt;fndemarqui@est.ufmg.br&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-12 16:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='survstan-package'>The 'survstan' package.</h2><span id='topic+survstan-package'></span><span id='topic+survstan'></span>

<h3>Description</h3>

<p>The aim of the R package survstan is to provide a toolkit for fitting survival models using Stan. The R package survstan can be used to fit right-censored survival data under independent censoring. The implemented models allow the fitting of survival data in the presence/absence of covariates. All inferential procedures are currently based on the maximum likelihood (ML) approach.
</p>
<p>_PACKAGE
</p>


<h3>References</h3>

<p>Stan Development Team (2023).
&ldquo;RStan: the R interface to Stan.&rdquo;
R package version 2.21.8, <a href="https://mc-stan.org/">https://mc-stan.org/</a>.
</p>
<p>Lawless JF (2002).
<em>Statistical Models and Methods for Lifetime Data</em>,  Wiley Series in Probability and Statistics, 2nd Edition edition.
John Wiley and Sons.
ISBN 9780471372158.
</p>
<p>Bennett S (1983).
&ldquo;Analysis of survival data by the proportional odds model.&rdquo;
<em>Statistics in Medicine</em>, <b>2</b>(2), 273-277.
<a href="https://doi.org/10.1002/sim.4780020223">doi:10.1002/sim.4780020223</a>.
</p>
<p>Chen YQ, Wang M (2000).
&ldquo;Analysis of Accelerated Hazards Models.&rdquo;
<em>Journal of the American Statistical Association</em>, <b>95</b>(450), 608-618.
<a href="https://doi.org/10.1080/01621459.2000.10474236">doi:10.1080/01621459.2000.10474236</a>.
</p>
<p>Demarqui FN, Mayrink VD (2021).
&ldquo;Yang and Prentice model with piecewise exponential baseline distribution for modeling lifetime data with crossing survival curves.&rdquo;
<em>Brazilian Journal of Probability and Statistics</em>, <b>35</b>(1), 172 &ndash; 186.
<a href="https://doi.org/10.1214/20-BJPS471">doi:10.1214/20-BJPS471</a>.
</p>

<hr>
<h2 id='aftreg'>Fitting Accelerated Failure Time Models</h2><span id='topic+aftreg'></span>

<h3>Description</h3>

<p>Function to fit accelerated failure time (AFT)  models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aftreg(formula, data, baseline = "weibull", dist = NULL, init = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aftreg_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="aftreg_+3A_data">data</code></td>
<td>
<p>data an optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. If not found in data, the variables are taken from environment(formula), typically the environment from which function is called.</p>
</td></tr>
<tr><td><code id="aftreg_+3A_baseline">baseline</code></td>
<td>
<p>the chosen baseline distribution; options currently available are: exponential, weibull, lognormal, loglogistic and Birnbaum-Saunders (fatigue) distributions.</p>
</td></tr>
<tr><td><code id="aftreg_+3A_dist">dist</code></td>
<td>
<p>alternative way to specify the baseline distribution (for compatibility with the <code><a href="survival.html#topic+survreg">survreg</a></code> function); default is NULL.</p>
</td></tr>
<tr><td><code id="aftreg_+3A_init">init</code></td>
<td>
<p>initial values specification (default value is 0); see the detailed documentation for <code>init</code> in <code><a href="rstan.html#topic+optimizing">optimizing</a></code>.</p>
</td></tr>
<tr><td><code id="aftreg_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>aftreg returns an object of class &quot;aftreg&quot; containing the fitted model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull")
summary(fit)


</code></pre>

<hr>
<h2 id='ahreg'>Fitting Accelerated Hazard Models</h2><span id='topic+ahreg'></span>

<h3>Description</h3>

<p>Function to fit accelerated hazard (AH) models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ahreg(formula, data, baseline = "weibull", dist = NULL, init = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ahreg_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="ahreg_+3A_data">data</code></td>
<td>
<p>data an optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. If not found in data, the variables are taken from environment(formula), typically the environment from which function is called.</p>
</td></tr>
<tr><td><code id="ahreg_+3A_baseline">baseline</code></td>
<td>
<p>the chosen baseline distribution; options currently available are: exponential, weibull, lognormal, loglogistic and Birnbaum-Saunders (fatigue) distributions.</p>
</td></tr>
<tr><td><code id="ahreg_+3A_dist">dist</code></td>
<td>
<p>alternative way to specify the baseline distribution (for compatibility with the <code><a href="survival.html#topic+survreg">survreg</a></code> function); default is NULL.</p>
</td></tr>
<tr><td><code id="ahreg_+3A_init">init</code></td>
<td>
<p>initial values specification (default value is 0); see the detailed documentation for <code>init</code> in <code><a href="rstan.html#topic+optimizing">optimizing</a></code>.</p>
</td></tr>
<tr><td><code id="ahreg_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ahreg returns an object of class &quot;ahreg&quot; containing the fitted model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- ahreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull")
summary(fit)



</code></pre>

<hr>
<h2 id='AIC.survstan'>Akaike information criterion</h2><span id='topic+AIC.survstan'></span>

<h3>Description</h3>

<p>Akaike information criterion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
AIC(object, ..., k = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AIC.survstan_+3A_object">object</code></td>
<td>
<p>an object of the class survstan.</p>
</td></tr>
<tr><td><code id="AIC.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="AIC.survstan_+3A_k">k</code></td>
<td>
<p>numeric, the penalty per parameter to be used; the default k = 2 is the classical AIC.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the Akaike information criterion value when a single model is passed to the function; otherwise, a data.frame with the Akaike information criterion values and the number of parameters is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit1 &lt;- aftreg(Surv(futime, fustat) ~ 1, data = ovarian, baseline = "weibull", init = 0)
fit2 &lt;- aftreg(Surv(futime, fustat) ~ rx, data = ovarian, baseline = "weibull", init = 0)
fit3 &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
AIC(fit1, fit2, fit3)


</code></pre>

<hr>
<h2 id='anova.survstan'>anova method for survstan models</h2><span id='topic+anova.survstan'></span>

<h3>Description</h3>

<p>Compute analysis of variance (or deviance) tables for one or more fitted model objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
anova(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="anova.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the ANOVA table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit1 &lt;- aftreg(Surv(futime, fustat) ~ 1, data = ovarian, baseline = "weibull", init = 0)
fit2 &lt;- aftreg(Surv(futime, fustat) ~ rx, data = ovarian, baseline = "weibull", init = 0)
fit3 &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
anova(fit1, fit2, fit3)


</code></pre>

<hr>
<h2 id='coef.survstan'>Estimated regression coefficients</h2><span id='topic+coef.survstan'></span>

<h3>Description</h3>

<p>Estimated regression coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.survstan_+3A_object">object</code></td>
<td>
<p>an object of the class survstan</p>
</td></tr>
<tr><td><code id="coef.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the estimated regression coefficients
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
coef(fit)


</code></pre>

<hr>
<h2 id='confint.survstan'>Confidence intervals for the regression coefficients</h2><span id='topic+confint.survstan'></span>

<h3>Description</h3>

<p>Confidence intervals for the regression coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
confint(object, parm = NULL, level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="confint.survstan_+3A_object">object</code></td>
<td>
<p>an object of the class survstan.</p>
</td></tr>
<tr><td><code id="confint.survstan_+3A_parm">parm</code></td>
<td>
<p>a specification of which parameters are to be given confidence intervals, either a vector of numbers or a vector of names. If missing, all parameters are considered.</p>
</td></tr>
<tr><td><code id="confint.survstan_+3A_level">level</code></td>
<td>
<p>the confidence level required.</p>
</td></tr>
<tr><td><code id="confint.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>100(1-alpha) confidence intervals for the regression coefficients.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
confint(fit)


</code></pre>

<hr>
<h2 id='cross_time'>Generic S3 method cross_time</h2><span id='topic+cross_time'></span>

<h3>Description</h3>

<p>Generic S3 method cross_time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cross_time(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cross_time_+3A_object">object</code></td>
<td>
<p>a fitted model object</p>
</td></tr>
<tr><td><code id="cross_time_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the crossing survival time
</p>

<hr>
<h2 id='cross_time.survstan'>Computes the crossing survival times</h2><span id='topic+cross_time.survstan'></span>

<h3>Description</h3>

<p>Computes the crossing survival times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
cross_time(
  object,
  newdata1,
  newdata2,
  conf.level = 0.95,
  nboot = 1000,
  cores = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cross_time.survstan_+3A_object">object</code></td>
<td>
<p>an object of class survstan</p>
</td></tr>
<tr><td><code id="cross_time.survstan_+3A_newdata1">newdata1</code></td>
<td>
<p>a data frame containing the first set of explanatory variables</p>
</td></tr>
<tr><td><code id="cross_time.survstan_+3A_newdata2">newdata2</code></td>
<td>
<p>a data frame containing the second set of explanatory variables</p>
</td></tr>
<tr><td><code id="cross_time.survstan_+3A_conf.level">conf.level</code></td>
<td>
<p>level of the confidence/credible intervals</p>
</td></tr>
<tr><td><code id="cross_time.survstan_+3A_nboot">nboot</code></td>
<td>
<p>number of bootstrap samples (default nboot=1000).</p>
</td></tr>
<tr><td><code id="cross_time.survstan_+3A_cores">cores</code></td>
<td>
<p>number of cores to be used in the bootstrap sampling; default is 1 core;</p>
</td></tr>
<tr><td><code id="cross_time.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the crossing survival time
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
data(ipass)
fit &lt;- ypreg(Surv(time, status)~arm, data=ipass, baseline = "weibull")
summary(fit)
newdata1 &lt;- data.frame(arm=0)
newdata2 &lt;- data.frame(arm=1)
tcross &lt;- cross_time(fit, newdata1, newdata2, nboot = 10)
tcross


</code></pre>

<hr>
<h2 id='ehreg'>Fitting Extended Hazard Models</h2><span id='topic+ehreg'></span>

<h3>Description</h3>

<p>Function to fit Extended Hazard (EH) models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ehreg(formula, data, baseline = "weibull", dist = NULL, init = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ehreg_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="ehreg_+3A_data">data</code></td>
<td>
<p>data an optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. If not found in data, the variables are taken from environment(formula), typically the environment from which function is called.</p>
</td></tr>
<tr><td><code id="ehreg_+3A_baseline">baseline</code></td>
<td>
<p>the chosen baseline distribution; options currently available are: exponential, weibull, lognormal, loglogistic and Birnbaum-Saunders (fatigue) distributions.</p>
</td></tr>
<tr><td><code id="ehreg_+3A_dist">dist</code></td>
<td>
<p>alternative way to specify the baseline distribution (for compatibility with the <code><a href="survival.html#topic+survreg">survreg</a></code> function); default is NULL.</p>
</td></tr>
<tr><td><code id="ehreg_+3A_init">init</code></td>
<td>
<p>initial values specification (default value is 0); see the detailed documentation for <code>init</code> in <code><a href="rstan.html#topic+optimizing">optimizing</a></code>.</p>
</td></tr>
<tr><td><code id="ehreg_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ehreg returns an object of class &quot;ehreg&quot; containing the fitted model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- ehreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull")
summary(fit)



</code></pre>

<hr>
<h2 id='emmeans-survstan-helpers'>Support Functions for <span class="pkg">emmeans</span></h2><span id='topic+emmeans-survstan-helpers'></span><span id='topic+recover_data.survstan'></span><span id='topic+recover_data.ypreg'></span><span id='topic+recover_data.ehreg'></span>

<h3>Description</h3>

<p>Functions required for compatibility of <span class="pkg">survstan</span> with <span class="pkg">emmeans</span>.
Users are not required to call these functions themselves. Instead,
they will be called automatically by the <code>emmeans</code> function
of the <span class="pkg">emmeans</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recover_data.survstan(object, ...)

recover_data.ypreg(object, term = c("short", "long"), ...)

recover_data.ehreg(object, term = c("AF", "RH"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="emmeans-survstan-helpers_+3A_object">object</code></td>
<td>
<p>An object of the same class as is supported by a new method.</p>
</td></tr>
<tr><td><code id="emmeans-survstan-helpers_+3A_...">...</code></td>
<td>
<p>Additional parameters that may be supported by the method.</p>
</td></tr>
<tr><td><code id="emmeans-survstan-helpers_+3A_term">term</code></td>
<td>
<p>character specifying whether AF or RH term regression coefficients are to be used.</p>
</td></tr>
</table>

<hr>
<h2 id='estimates'>Parameters estimates of a survstan model</h2><span id='topic+estimates'></span>

<h3>Description</h3>

<p>Parameters estimates of a survstan model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimates(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimates_+3A_object">object</code></td>
<td>
<p>an object of the class survstan.</p>
</td></tr>
<tr><td><code id="estimates_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the parameters estimates of a given survstan model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
estimates(fit)


</code></pre>

<hr>
<h2 id='extractAIC.survstan'>Extract AIC from a Fitted Model</h2><span id='topic+extractAIC.survstan'></span>

<h3>Description</h3>

<p>Computes the (generalized) Akaike An Information Criterion for a fitted parametric model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
extractAIC(fit, scale, k = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extractAIC.survstan_+3A_fit">fit</code></td>
<td>
<p>a fitted model of the class survstan</p>
</td></tr>
<tr><td><code id="extractAIC.survstan_+3A_scale">scale</code></td>
<td>
<p>optional numeric specifying the scale parameter of the model. Currently only used in the &quot;lm&quot; method, where scale specifies the estimate of the error variance, and scale = 0 indicates that it is to be estimated by maximum likelihood.</p>
</td></tr>
<tr><td><code id="extractAIC.survstan_+3A_k">k</code></td>
<td>
<p>numeric specifying the ‘weight’ of the equivalent degrees of freedom part in the AIC formula.</p>
</td></tr>
<tr><td><code id="extractAIC.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the ANOVA table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit1 &lt;- aftreg(Surv(futime, fustat) ~ 1, data = ovarian, baseline = "weibull", init = 0)
fit2 &lt;- aftreg(Surv(futime, fustat) ~ rx, data = ovarian, baseline = "weibull", init = 0)
fit3 &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
extractAIC(fit1)
extractAIC(fit2)
extractAIC(fit3)


</code></pre>

<hr>
<h2 id='gastric'>Gastric cancer data set</h2><span id='topic+gastric'></span>

<h3>Description</h3>

<p>Data set from a clinical trial conducted by the Gastrointestinal Tumor Study Group (GTSG) in 1982. The data set refers to the survival times of patients with locally nonresectable gastric cancer. Patients were either treated with chemotherapy combined with radiation or chemotherapy alone.
</p>


<h3>Format</h3>

<p>A data frame with 90 rows and 3 variables:
</p>

<ul>
<li><p> time: survival times (in days)
</p>
</li>
<li><p> status: failure indicator (1 - failure; 0 - otherwise)
</p>
</li>
<li><p> trt: treatments (1 - chemotherapy + radiation; 0 - chemotherapy alone)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Fabio N. Demarqui <a href="mailto:fndemarqui@est.ufmg.br">fndemarqui@est.ufmg.br</a>
</p>


<h3>References</h3>

<p>Gastrointestinal Tumor Study Group. (1982) A Comparison of Combination Chemotherapy and Combined Modality Therapy for Locally Advanced Gastric Carcinoma. Cancer 49:1771-7.
</p>

<hr>
<h2 id='ggprentice'>The Generalized Gamma Distribution (Prentice's alternative parametrization)</h2><span id='topic+ggprentice'></span><span id='topic+dggprentice'></span><span id='topic+pggprentice'></span><span id='topic+qggprentice'></span><span id='topic+rggprentice'></span>

<h3>Description</h3>

<p>Probability function, distribution function, quantile function and random generation for the  distribution with parameters mu, sigma and varphi.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dggprentice(x, mu, sigma, varphi, log = FALSE)

pggprentice(q, mu = 0, sigma = 1, varphi, lower.tail = TRUE, log.p = FALSE)

qggprentice(p, mu = 0, sigma = 1, varphi, lower.tail = TRUE, log.p = FALSE)

rggprentice(n, mu = 0, sigma = 1, varphi, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggprentice_+3A_x">x</code></td>
<td>
<p>vector of (non-negative integer) quantiles.</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_mu">mu</code></td>
<td>
<p>location parameter of the distribution.</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_sigma">sigma</code></td>
<td>
<p>scale parameter of the distribution (sigma &gt; 0).</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_varphi">varphi</code></td>
<td>
<p>shape parameter of the distribution.</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_log">log</code>, <code id="ggprentice_+3A_log.p">log.p</code></td>
<td>
<p>logical; if TRUE, probabilities p are given as log(p).</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_q">q</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; if TRUE (default), probabilities are <code class="reqn">P[X \le x]</code>; otherwise, <code class="reqn">P[X &gt; x]</code>.</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_p">p</code></td>
<td>
<p>vector of probabilities.</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_n">n</code></td>
<td>
<p>number of random values to return.</p>
</td></tr>
<tr><td><code id="ggprentice_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Probability density function:
</p>
<p style="text-align: center;"><code class="reqn">
f(x | \mu, \sigma, \varphi) =
\begin{cases}
\frac{|\varphi|(\varphi^{-2})^{\varphi^{-2}}}{\sigma x\Gamma(\varphi^{-2})}\exp\{\varphi^{-2}[\varphi w - \exp(\varphi w)]\}I_{[0, \infty)}(x), &amp; \varphi \neq 0 \\
\frac{1}{\sqrt{2\pi}x\sigma}\exp\left\{-\frac{1}{2}\left(\frac{log(x)-\mu}{\sigma}\right)^2\right\}I_{[0, \infty)}(x), &amp; \varphi = 0
\end{cases}
 </code>
</p>

<p>where <code class="reqn">w = \frac{\log(x) - \mu}{\sigma}</code>, for <code class="reqn">-\infty &lt; \mu &lt; \infty</code>, <code class="reqn">\sigma&gt;0</code> and <code class="reqn">-\infty &lt; \varphi &lt; \infty</code>.
</p>
<p>Distribution function:
</p>
<p style="text-align: center;"><code class="reqn">
F(x|\mu, \sigma, \varphi) =
 \begin{cases}
F_{G}(y|1/\varphi^2, 1), &amp; \varphi &gt; 0 \\
1-F_{G}(y|1/\varphi^2, 1), &amp; \varphi &lt; 0 \\
F_{LN}(x|\mu, \sigma), &amp; \varphi = 0
\end{cases}
</code>
</p>

<p>where <code class="reqn">y = \displaystyle\left(\frac{x}{\sigma}\right)^\varphi</code>,
<code class="reqn">F_{G}(\cdot|\nu, 1)</code> is the distribution function of
a gamma distribution with shape parameter <code class="reqn">1/\varphi^2</code> and scale
parameter equals to 1, and <code class="reqn">F_{LN}(x|\mu, \sigma)</code> corresponds to the
distribution function of a lognormal distribution with location parameter
<code class="reqn">\mu</code> and scale parameter <code class="reqn">\sigma</code>.
</p>


<h3>Value</h3>

<p>dggprentice gives the (log) probability function, pggprentice gives the (log) distribution function, qggprentice gives the quantile function, and rggprentice generates random deviates.
</p>

<hr>
<h2 id='ggresiduals'>Generic S3 method ggresiduals</h2><span id='topic+ggresiduals'></span>

<h3>Description</h3>

<p>Generic S3 method ggresiduals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggresiduals(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggresiduals_+3A_object">object</code></td>
<td>
<p>a fitted model object.</p>
</td></tr>
<tr><td><code id="ggresiduals_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generic method to plot residuals of survival models.
</p>


<h3>Value</h3>

<p>the desired residual plot.
</p>

<hr>
<h2 id='ggresiduals.survstan'>ggresiduals method for survstan models</h2><span id='topic+ggresiduals.survstan'></span>

<h3>Description</h3>

<p>ggresiduals method for survstan models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
ggresiduals(object, type = c("coxsnell", "martingale", "deviance"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggresiduals.survstan_+3A_object">object</code></td>
<td>
<p>a fitted model object of the class survstan.</p>
</td></tr>
<tr><td><code id="ggresiduals.survstan_+3A_type">type</code></td>
<td>
<p>type of residuals used in the plot: coxsnell (default), martingale and deviance.</p>
</td></tr>
<tr><td><code id="ggresiduals.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function produces residuals plots of Cox-Snell residuals, martingale residuals and deviance residuals.
</p>


<h3>Value</h3>

<p>the desired residual plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
ovarian$rx &lt;- as.factor(ovarian$rx)
fit &lt;- aftreg(Surv(futime, fustat) ~ age + rx, data = ovarian, baseline = "weibull", init = 0)
ggresiduals(fit, type = "coxsnell")
ggresiduals(fit, type = "martingale")
ggresiduals(fit, type = "deviance")


</code></pre>

<hr>
<h2 id='ggstacy'>The Generalized Gamma Distribution (Stacy's original parametrization)</h2><span id='topic+ggstacy'></span><span id='topic+dggstacy'></span><span id='topic+pggstacy'></span><span id='topic+qggstacy'></span><span id='topic+rggstacy'></span>

<h3>Description</h3>

<p>Probability function, distribution function, quantile function and random generation for the  distribution with parameters alpha, gamma and kappa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dggstacy(x, alpha, gamma, kappa, log = FALSE)

pggstacy(q, alpha, gamma, kappa, log.p = FALSE, lower.tail = TRUE)

qggstacy(
  p,
  alpha = 1,
  gamma = 1,
  kappa = 1,
  log.p = FALSE,
  lower.tail = TRUE,
  ...
)

rggstacy(n, alpha = 1, gamma = 1, kappa = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggstacy_+3A_x">x</code></td>
<td>
<p>vector of (non-negative integer) quantiles.</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_alpha">alpha</code></td>
<td>
<p>shape parameter of the  distribution (alpha &gt; 0).</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_gamma">gamma</code></td>
<td>
<p>scale parameter of the  distribution (gamma &gt; 0).</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_kappa">kappa</code></td>
<td>
<p>shape parameter of the  distribution (kappa &gt; 0).</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_log">log</code>, <code id="ggstacy_+3A_log.p">log.p</code></td>
<td>
<p>logical; if TRUE, probabilities p are given as log(p).</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_q">q</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; if TRUE (default), probabilities are <code class="reqn">P[X \le x]</code>; otherwise, <code class="reqn">P[X &gt; x]</code>.</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_p">p</code></td>
<td>
<p>vector of probabilities.</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
<tr><td><code id="ggstacy_+3A_n">n</code></td>
<td>
<p>number of random values to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Probability density function:
</p>
<p style="text-align: center;"><code class="reqn">
f(x|\alpha, \gamma, \kappa) = \frac{\kappa}{\gamma^{\alpha}\Gamma(\alpha/\kappa)}x^{\alpha-1}\exp\left\{-\left(\frac{x}{\gamma}\right)^{\kappa}\right\}I_{[0, \infty)}(x),
</code>
</p>

<p>for <code class="reqn">\alpha&gt;0</code>, <code class="reqn">\gamma&gt;0</code> and <code class="reqn">\kappa&gt;0</code>.
</p>
<p>Distribution function:
</p>
<p style="text-align: center;"><code class="reqn">
F(t|\alpha, \gamma, \kappa) = F_{G}(x|\nu, 1),
</code>
</p>

<p>where <code class="reqn">x = \displaystyle\left(\frac{t}{\gamma}\right)^\kappa</code>, and <code class="reqn">F_{G}(\cdot|\nu, 1)</code> corresponds to the distribution function of a gamma distribution with shape parameter <code class="reqn">\nu = \alpha/\gamma</code> and scale parameter equals to 1.
</p>


<h3>Value</h3>

<p>dggstacy gives the (log) probability function, pggstacy gives the (log) distribution function, qggstacy gives the quantile function, and rggstacy generates random deviates.
</p>

<hr>
<h2 id='Gompertz'>The Gompertz Distribution</h2><span id='topic+Gompertz'></span><span id='topic+dgompertz'></span><span id='topic+gompertz'></span><span id='topic+pgompertz'></span><span id='topic+qgompertz'></span><span id='topic+hgompertz'></span><span id='topic+Hgompertz'></span><span id='topic+rgompertz'></span>

<h3>Description</h3>

<p>Probability function, distribution function, quantile function and random generation for the  distribution with parameters alpha and gamma.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dgompertz(x, alpha = 1, gamma = 1, log = FALSE, ...)

pgompertz(q, alpha = 1, gamma = 1, lower.tail = TRUE, log.p = FALSE, ...)

qgompertz(p, alpha = 1, gamma = 1, lower.tail = FALSE, log.p = FALSE, ...)

rgompertz(n, alpha = 1, gamma = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Gompertz_+3A_x">x</code></td>
<td>
<p>vector of (non-negative integer) quantiles.</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_alpha">alpha</code></td>
<td>
<p>shape parameter of the  distribution (alpha &gt; 0).</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_gamma">gamma</code></td>
<td>
<p>scale parameter of the  distribution (gamma &gt; 0).</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_log">log</code>, <code id="Gompertz_+3A_log.p">log.p</code></td>
<td>
<p>logical; if TRUE, probabilities p are given as log(p).</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_q">q</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_lower.tail">lower.tail</code></td>
<td>
<p>logical; if TRUE (default), probabilities are <code class="reqn">P[X \le x]</code>; otherwise, <code class="reqn">P[X &gt; x]</code>.</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_p">p</code></td>
<td>
<p>vector of probabilities.</p>
</td></tr>
<tr><td><code id="Gompertz_+3A_n">n</code></td>
<td>
<p>number of random values to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Probability density function:
</p>
<p style="text-align: center;"><code class="reqn">
f(x|\alpha, \gamma) = \alpha\gamma \exp\{\gamma x - \alpha(e^{\gamma x} - 1)\}I_{[0, \infty)}(x),
</code>
</p>

<p>for <code class="reqn">\alpha&gt;0</code> and <code class="reqn">\gamma&gt;0</code>.
</p>
<p>Distribution function:
</p>
<p style="text-align: center;"><code class="reqn">
F(x|\alpha, \gamma) = 1 - \exp\{- \alpha(e^{\gamma x} - 1)\},
</code>
</p>

<p>for <code class="reqn">x&gt;0</code>, <code class="reqn">\alpha&gt;0</code> and <code class="reqn">\gamma&gt;0</code>.
</p>


<h3>Value</h3>

<p>dgompertz gives the (log) probability function, pgompertz gives the (log) distribution function, qgompertz gives the quantile function, and rgompertz generates random deviates.
</p>

<hr>
<h2 id='ipass'>IRESSA Pan-Asia Study (IPASS) data set</h2><span id='topic+ipass'></span>

<h3>Description</h3>

<p>Reconstructed IPASS clinical trial data reported in Argyropoulos and Unruh (2015). Although reconstructed, this data set preserves all features exhibited in references with full access to the observations from this clinical trial. The data base is related to the period of March 2006 to April 2008. The main purpose of the study is to compare the drug gefitinib against carboplatin/paclitaxel doublet chemotherapy as first line treatment, in terms of progression free survival (in months), to be applied to selected non-small-cell lung cancer (NSCLC) patients.
</p>


<h3>Format</h3>

<p>A data frame with 1217 rows and 3 variables:
</p>

<ul>
<li><p> time: progression free survival (in months)
</p>
</li>
<li><p> status: failure indicator (1 - failure; 0 - otherwise)
</p>
</li>
<li><p> arm: (1 - gefitinib; 0 - carboplatin/paclitaxel doublet chemotherapy)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Fabio N. Demarqui <a href="mailto:fndemarqui@est.ufmg.br">fndemarqui@est.ufmg.br</a>
</p>


<h3>References</h3>

<p>Argyropoulos, C. and Unruh, M. L. (2015). Analysis of time to event outcomes in randomized controlled trials by generalized additive models. PLOS One 10, 1-33.
</p>

<hr>
<h2 id='logLik.survstan'>Extract Log-Likelihood from a Fitted Model</h2><span id='topic+logLik.survstan'></span>

<h3>Description</h3>

<p>Extracts the log-likelihood function for a fitted parametric model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
logLik(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="logLik.survstan_+3A_object">object</code></td>
<td>
<p>a fitted model of the class survstan</p>
</td></tr>
<tr><td><code id="logLik.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the log-likelihood value when a single model is passed to the function; otherwise, a data.frame with the log-likelihood values and the number of parameters is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit1 &lt;- aftreg(Surv(futime, fustat) ~ 1, data = ovarian, baseline = "weibull", init = 0)
fit2 &lt;- aftreg(Surv(futime, fustat) ~ rx, data = ovarian, baseline = "weibull", init = 0)
fit3 &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
logLik(fit1, fit2, fit3)


</code></pre>

<hr>
<h2 id='model.matrix.survstan'>Model.matrix method for survstan models</h2><span id='topic+model.matrix.survstan'></span>

<h3>Description</h3>

<p>Reconstruct the model matrix for a survstan model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
model.matrix(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.matrix.survstan_+3A_object">object</code></td>
<td>
<p>an object of the class survstan.</p>
</td></tr>
<tr><td><code id="model.matrix.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The model matrix (or matrices) for the fit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
model.matrix(fit)


</code></pre>

<hr>
<h2 id='phreg'>Fitting Proportional Hazards Models</h2><span id='topic+phreg'></span>

<h3>Description</h3>

<p>Function to fit proportional hazards (PH) models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phreg(formula, data, baseline = "weibull", dist = NULL, init = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="phreg_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="phreg_+3A_data">data</code></td>
<td>
<p>data an optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. If not found in data, the variables are taken from environment(formula), typically the environment from which function is called.</p>
</td></tr>
<tr><td><code id="phreg_+3A_baseline">baseline</code></td>
<td>
<p>the chosen baseline distribution; options currently available are: exponential, weibull, lognormal, loglogistic and Birnbaum-Saunders (fatigue) distributions.</p>
</td></tr>
<tr><td><code id="phreg_+3A_dist">dist</code></td>
<td>
<p>alternative way to specify the baseline distribution (for compatibility with the <code><a href="survival.html#topic+survreg">survreg</a></code> function); default is NULL.</p>
</td></tr>
<tr><td><code id="phreg_+3A_init">init</code></td>
<td>
<p>initial values specification (default value is 0); see the detailed documentation for <code>init</code> in <code><a href="rstan.html#topic+optimizing">optimizing</a></code>.</p>
</td></tr>
<tr><td><code id="phreg_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>phreg returns an object of class &quot;phreg&quot; containing the fitted model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- phreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull")
summary(fit)



</code></pre>

<hr>
<h2 id='poreg'>Fitting Proportional Odds Models</h2><span id='topic+poreg'></span>

<h3>Description</h3>

<p>Function to fit proportional odds (PO) models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poreg(formula, data, baseline = "weibull", dist = NULL, init = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="poreg_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="poreg_+3A_data">data</code></td>
<td>
<p>data an optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. If not found in data, the variables are taken from environment(formula), typically the environment from which function is called.</p>
</td></tr>
<tr><td><code id="poreg_+3A_baseline">baseline</code></td>
<td>
<p>the chosen baseline distribution; options currently available are: exponential, weibull, lognormal, loglogistic and Birnbaum-Saunders (fatigue) distributions.</p>
</td></tr>
<tr><td><code id="poreg_+3A_dist">dist</code></td>
<td>
<p>alternative way to specify the baseline distribution (for compatibility with the <code><a href="survival.html#topic+survreg">survreg</a></code> function); default is NULL.</p>
</td></tr>
<tr><td><code id="poreg_+3A_init">init</code></td>
<td>
<p>initial values specification (default value is 0); see the detailed documentation for <code>init</code> in <code><a href="rstan.html#topic+optimizing">optimizing</a></code>.</p>
</td></tr>
<tr><td><code id="poreg_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>poreg returns an object of class &quot;poreg&quot; containing the fitted model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- poreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull")
summary(fit)



</code></pre>

<hr>
<h2 id='print.summary.survstan'>Print the summary.survstan output</h2><span id='topic+print.summary.survstan'></span>

<h3>Description</h3>

<p>Produces a printed summary of a fitted survstan model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.survstan'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.summary.survstan_+3A_x">x</code></td>
<td>
<p>an object of the class summary.survstan.</p>
</td></tr>
<tr><td><code id="print.summary.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='rank_models'>Rank a collection of survstan models</h2><span id='topic+rank_models'></span>

<h3>Description</h3>

<p>Rank a collection of survstan models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rank_models(formula, data, survreg, baseline, dist = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rank_models_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="rank_models_+3A_data">data</code></td>
<td>
<p>data an optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. If not found in data, the variables are taken from environment(formula), typically the environment from which function is called.</p>
</td></tr>
<tr><td><code id="rank_models_+3A_survreg">survreg</code></td>
<td>
<p>survival regression models to be fitted (AFT, AH, PH, PO, YP and EH).</p>
</td></tr>
<tr><td><code id="rank_models_+3A_baseline">baseline</code></td>
<td>
<p>baseline distributions to be fitted; options currently available are: exponential, weibull, lognormal, loglogistic and Birnbaum-Saunders (fatigue) distributions.</p>
</td></tr>
<tr><td><code id="rank_models_+3A_dist">dist</code></td>
<td>
<p>alternative way to specify the baseline distributions (for compability with the <code><a href="survival.html#topic+survreg">survreg</a></code> function); default is NULL.</p>
</td></tr>
<tr><td><code id="rank_models_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble containing the fitted models ranked according to their AICs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
library(dplyr)

veteran &lt;- veteran %&gt;%
  mutate(across(c(trt, prior, celltype), as.factor))
fits &lt;- rank_models(
  formula = Surv(time, status) ~ celltype+karno,
  data = veteran,
  survreg = c("aftreg", "ahreg", "phreg", "poreg", "ypreg", "ehreg"),
  baseline = c("exponential", "weibull", "lognormal", "loglogistic", "fatigue", "gamma", "rayleigh")
)



</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+tidy'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+tidy">tidy</a></code></p>
</dd>
</dl>

<hr>
<h2 id='residuals.survstan'>residuals method for survstan models</h2><span id='topic+residuals.survstan'></span>

<h3>Description</h3>

<p>residuals method for survstan models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
residuals(object, type = c("coxsnell", "martingale", "deviance"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="residuals.survstan_+3A_object">object</code></td>
<td>
<p>a fitted model object of the class survstan.</p>
</td></tr>
<tr><td><code id="residuals.survstan_+3A_type">type</code></td>
<td>
<p>type of residuals desired: coxsnell (default), martingale and deviance.</p>
</td></tr>
<tr><td><code id="residuals.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extracts the residuals, martingale residuals and deviance residuals of a survstan object.
</p>


<h3>Value</h3>

<p>a vector containing the desired residuals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
ovarian$rx &lt;- as.factor(ovarian$rx)
fit &lt;- aftreg(Surv(futime, fustat) ~ age + rx, data = ovarian, baseline = "weibull", init = 0)
residuals(fit, type = "coxsnell")
residuals(fit, type = "martingale")
residuals(fit, type = "deviance")

</code></pre>

<hr>
<h2 id='se'>Generic S3 method se</h2><span id='topic+se'></span>

<h3>Description</h3>

<p>Generic S3 method se
</p>


<h3>Usage</h3>

<pre><code class='language-R'>se(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="se_+3A_object">object</code></td>
<td>
<p>a fitted model object.</p>
</td></tr>
<tr><td><code id="se_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the standard errors associated with a set of parameter estimators for a given model.
</p>

<hr>
<h2 id='se.survstan'>Estimated standard errors</h2><span id='topic+se.survstan'></span>

<h3>Description</h3>

<p>Estimated standard errors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
se(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="se.survstan_+3A_object">object</code></td>
<td>
<p>an object of the class survstan.</p>
</td></tr>
<tr><td><code id="se.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector with the standard errors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
se(fit)


</code></pre>

<hr>
<h2 id='summary.survstan'>Summary for a survstan object</h2><span id='topic+summary.survstan'></span>

<h3>Description</h3>

<p>Summary for a survstan object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
summary(object, conf.level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.survstan_+3A_object">object</code></td>
<td>
<p>the result of a call to summary.survstan</p>
</td></tr>
<tr><td><code id="summary.survstan_+3A_conf.level">conf.level</code></td>
<td>
<p>the confidence level required.</p>
</td></tr>
<tr><td><code id="summary.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of the class summary.survstan containing a summary of the fitted model.
</p>

<hr>
<h2 id='survfit.survstan'>survfit method for survstan models</h2><span id='topic+survfit.survstan'></span>

<h3>Description</h3>

<p>Computes the predicted survivor function for a phpe model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
survfit(formula, newdata = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survfit.survstan_+3A_formula">formula</code></td>
<td>
<p>an object of the class survstan</p>
</td></tr>
<tr><td><code id="survfit.survstan_+3A_newdata">newdata</code></td>
<td>
<p>a data frame containing the set of explanatory variables; if NULL, a data.frame with the observed failure times and their corresponding estimated baseline survivals is returned.</p>
</td></tr>
<tr><td><code id="survfit.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame containing the estimated survival probabilities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
library(ggplot2)
data(ipass)
ipass$arm &lt;- as.factor(ipass$arm)
fit &lt;- ypreg(Surv(time, status)~arm, data=ipass, baseline = "weibull")
summary(fit)
newdata &lt;- data.frame(arm=as.factor(0:1))
surv &lt;- survfit(fit, newdata)
ggplot(surv, aes(x=time, y=surv, color = arm)) +
  geom_line()


</code></pre>

<hr>
<h2 id='tidy.survstan'>Tidy a survstan object</h2><span id='topic+tidy.survstan'></span>

<h3>Description</h3>

<p>Tidy a survstan object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
tidy(x, conf.int = FALSE, conf.level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tidy.survstan_+3A_x">x</code></td>
<td>
<p>a fitted model object.</p>
</td></tr>
<tr><td><code id="tidy.survstan_+3A_conf.int">conf.int</code></td>
<td>
<p>Logical indicating whether or not to include a confidence interval in the tidied output. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="tidy.survstan_+3A_conf.level">conf.level</code></td>
<td>
<p>the confidence level required.</p>
</td></tr>
<tr><td><code id="tidy.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert a fitted model into a tibble.
</p>


<h3>Value</h3>

<p>a tibble with a summary of the fit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull")
tidy(fit)


</code></pre>

<hr>
<h2 id='vcov.survstan'>Variance-covariance matrix</h2><span id='topic+vcov.survstan'></span>

<h3>Description</h3>

<p>This function extracts and returns the variance-covariance matrix associated with the regression coefficients when the maximum likelihood estimation approach is used in the model fitting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survstan'
vcov(object, all = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vcov.survstan_+3A_object">object</code></td>
<td>
<p>an object of the class survstan.</p>
</td></tr>
<tr><td><code id="vcov.survstan_+3A_all">all</code></td>
<td>
<p>logical; if FALSE (default), only covariance matrix associated with regression coefficients is returned; if TRUE, the full covariance matrix is returned.</p>
</td></tr>
<tr><td><code id="vcov.survstan_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the variance-covariance matrix associated with the parameters estimators.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- aftreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull", init = 0)
vcov(fit)


</code></pre>

<hr>
<h2 id='ypreg'>Fitting Yang and Prentice Models</h2><span id='topic+ypreg'></span>

<h3>Description</h3>

<p>Function to fit Yang and Prentice (YP) models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ypreg(formula, data, baseline = "weibull", dist = NULL, init = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ypreg_+3A_formula">formula</code></td>
<td>
<p>an object of class &quot;formula&quot; (or one that can be coerced to that class): a symbolic description of the model to be fitted.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_data">data</code></td>
<td>
<p>data an optional data frame, list or environment (or object coercible by as.data.frame to a data frame) containing the variables in the model. If not found in data, the variables are taken from environment(formula), typically the environment from which function is called.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_baseline">baseline</code></td>
<td>
<p>the chosen baseline distribution; options currently available are: exponential, weibull, lognormal, loglogistic and Birnbaum-Saunders (fatigue) distributions.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_dist">dist</code></td>
<td>
<p>alternative way to specify the baseline distribution (for compatibility with the <code><a href="survival.html#topic+survreg">survreg</a></code> function); default is NULL.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_init">init</code></td>
<td>
<p>initial values specification (default value is 0); see the detailed documentation for <code>init</code> in <code><a href="rstan.html#topic+optimizing">optimizing</a></code>.</p>
</td></tr>
<tr><td><code id="ypreg_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ypreg returns an object of class &quot;ypreg&quot; containing the fitted model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survstan)
fit &lt;- ypreg(Surv(futime, fustat) ~ ecog.ps + rx, data = ovarian, baseline = "weibull")
summary(fit)



</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package annotater</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {annotater}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#annotater-package'><p>annotater: Annotate Package Load Calls</p></a></li>
<li><a href='#align_annotations'><p>Vertical alignment of package annotations</p></a></li>
<li><a href='#annotate_active_file'><p>Annotate active file</p></a></li>
<li><a href='#annotate_data_active_file'><p>Annotate loaded data in active file</p></a></li>
<li><a href='#annotate_fun_calls'><p>Annotate function calls</p></a></li>
<li><a href='#annotate_fun_calls_active_file'><p>Annotate function calls in active file</p></a></li>
<li><a href='#annotate_pkg_calls'><p>Annotate package calls</p></a></li>
<li><a href='#annotate_pkg_datasets'><p>Annotate package datasets</p></a></li>
<li><a href='#annotate_repo_source'><p>Annotate repository sources</p></a></li>
<li><a href='#annotate_repos_active_file'><p>Annotate repositories in active file</p></a></li>
<li><a href='#annotate_repostitle'><p>Annotate package titles and repository sources</p></a></li>
<li><a href='#annotate_repostitle_active'><p>Annotate titles and repositories in active file</p></a></li>
<li><a href='#annotate_script'><p>Annotate script</p></a></li>
<li><a href='#check_pkgs'><p>Check if packages are installed</p></a></li>
<li><a href='#expand_metapackages'><p>Expand metapackages</p></a></li>
<li><a href='#expand_metapackages_active_file'><p>Expand metapackages in active file</p></a></li>
<li><a href='#get_pkg_datasets'><p>Query data from packages</p></a></li>
<li><a href='#match_pkg_names'><p>Match package names</p></a></li>
<li><a href='#pkg_version'><p>Retrieve Package version</p></a></li>
<li><a href='#repo_details'><p>Retrieve repo details</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Annotate Package Load Calls</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides non-invasive annotation of package load calls 
    such as \code{library()}, \code{p_load()}, and \code{require()} so that we can have an idea of what 
    the packages we are loading are meant for.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>stringr, purrr, tibble, dplyr, stringi, readr, rstudioapi,
tidyr, rlang,</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/luisDVA/annotater">https://github.com/luisDVA/annotater</a>, <a href="https://annotater.liomys.mx">https://annotater.liomys.mx</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/luisDVA/annotater/issues">https://github.com/luisDVA/annotater/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, covr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-26 21:18:49 UTC; luisd</td>
</tr>
<tr>
<td>Author:</td>
<td>Luis D. Verde Arregoitia
    <a href="https://orcid.org/0000-0001-9520-6543"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Juan Cruz Rodriguez [ctb],
  Hadley Wickham [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Luis D. Verde Arregoitia &lt;luis@liomys.mx&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-26 21:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='annotater-package'>annotater: Annotate Package Load Calls</h2><span id='topic+annotater'></span><span id='topic+annotater-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides non-invasive annotation of package load calls such as <code>library()</code>, <code>p_load()</code>, and <code>require()</code> so that we can have an idea of what the packages we are loading are meant for.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Luis D. Verde Arregoitia <a href="mailto:luis@liomys.mx">luis@liomys.mx</a> (<a href="https://orcid.org/0000-0001-9520-6543">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Juan Cruz Rodriguez [contributor]
</p>
</li>
<li><p> Hadley Wickham [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/luisDVA/annotater">https://github.com/luisDVA/annotater</a>
</p>
</li>
<li> <p><a href="https://annotater.liomys.mx">https://annotater.liomys.mx</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/luisDVA/annotater/issues">https://github.com/luisDVA/annotater/issues</a>
</p>
</li></ul>


<hr>
<h2 id='align_annotations'>Vertical alignment of package annotations</h2><span id='topic+align_annotations'></span>

<h3>Description</h3>

<p>Internal helper function, based on 'unheadr::regex_valign&ldquo;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>align_annotations(
  annot_string,
  regex_ai = paste0("(?!\\))(?!\\s)(?=\\#\\sCRAN\\sv|",
    "\\#\\sBiocon|\\#\\snot\\sinstall|", "\\#\\s\\[|\\#\\sPosit R)"),
  sep_str = ""
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="align_annotations_+3A_annot_string">annot_string</code></td>
<td>
<p>Character vector with annotated package calls.</p>
</td></tr>
<tr><td><code id="align_annotations_+3A_regex_ai">regex_ai</code></td>
<td>
<p>Custom regular expression to match lines with package annotations.</p>
</td></tr>
<tr><td><code id="align_annotations_+3A_sep_str">sep_str</code></td>
<td>
<p>Whitespace separator.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with vertically aligned package calls.
</p>

<hr>
<h2 id='annotate_active_file'>Annotate active file</h2><span id='topic+annotate_active_file'></span>

<h3>Description</h3>

<p>Annotates package load calls in the active .R file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_active_file()
</code></pre>


<h3>Value</h3>

<p>No return value, wraps [annotate_pkg_calls()] for access via Addin
</p>

<hr>
<h2 id='annotate_data_active_file'>Annotate loaded data in active file</h2><span id='topic+annotate_data_active_file'></span>

<h3>Description</h3>

<p>Annotates package load calls with loaded datasets in the active .R file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_data_active_file()
</code></pre>


<h3>Value</h3>

<p>No return value, wraps [annotate_pkg_datasets()] for access via Addin
</p>

<hr>
<h2 id='annotate_fun_calls'>Annotate function calls</h2><span id='topic+annotate_fun_calls'></span>

<h3>Description</h3>

<p>Annotate function calls
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_fun_calls(string_og)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotate_fun_calls_+3A_string_og">string_og</code></td>
<td>
<p>text string (script) with package load calls</p>
</td></tr>
</table>


<h3>Value</h3>

<p>text string with function call annotations. Will make note of
packages not currently installed. Lines with existing comments or
annotations are ignored by the regular expression that matches package
names. Be aware that package-specific methods (e.g., print or summary
methods) will be annotated too.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_string &lt;- c("library(boot)\nrequire(lattice)\ncanonical.theme()")
cat(annotate_fun_calls(test_string))

</code></pre>

<hr>
<h2 id='annotate_fun_calls_active_file'>Annotate function calls in active file</h2><span id='topic+annotate_fun_calls_active_file'></span>

<h3>Description</h3>

<p>Annotates package load calls with the used functions of each package in the
active .R file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_fun_calls_active_file()
</code></pre>


<h3>Value</h3>

<p>No return value, wraps [annotate_fun_calls()] for access via Addin
</p>

<hr>
<h2 id='annotate_pkg_calls'>Annotate package calls</h2><span id='topic+annotate_pkg_calls'></span>

<h3>Description</h3>

<p>Annotate package calls
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_pkg_calls(string_og, pkg_field = "Title")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotate_pkg_calls_+3A_string_og">string_og</code></td>
<td>
<p>Text string (script) with package load calls.</p>
</td></tr>
<tr><td><code id="annotate_pkg_calls_+3A_pkg_field">pkg_field</code></td>
<td>
<p>Field from package description to retrieve, defaults to
&quot;Title&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text string with package Title annotations. Will make note of
packages not currently installed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_string &lt;- c("library(boot)\nrequire(tools)")
annotate_pkg_calls(test_string)
</code></pre>

<hr>
<h2 id='annotate_pkg_datasets'>Annotate package datasets</h2><span id='topic+annotate_pkg_datasets'></span>

<h3>Description</h3>

<p>Annotate package datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_pkg_datasets(string_og)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotate_pkg_datasets_+3A_string_og">string_og</code></td>
<td>
<p>text string (script) with package load calls</p>
</td></tr>
</table>


<h3>Details</h3>

<p>No support for <span class="pkg">pacman</span> package loading at this time.
</p>


<h3>Value</h3>

<p>text string with annotations for datasets loaded from packages
explicitly, lazily, or through name-spacing. Will make note of packages not
currently installed. Lines with existing comments or annotations are
ignored.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_string &lt;- c("library(tidyr)\nlibrary(purrr)\ndata(construction)\nsummary(fish_encounters)")
annotate_pkg_datasets(test_string)

</code></pre>

<hr>
<h2 id='annotate_repo_source'>Annotate repository sources</h2><span id='topic+annotate_repo_source'></span>

<h3>Description</h3>

<p>Annotate repository sources
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_repo_source(string_og)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotate_repo_source_+3A_string_og">string_og</code></td>
<td>
<p>text string (script) with package load calls</p>
</td></tr>
</table>


<h3>Value</h3>

<p>text string with package repository source annotations. Will make
note of packages not currently installed. Lines with existing comments or
annotations are ignored by the regular expression that matches package
names. Also ignores base packages. Local installs now annotated as such.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_string &lt;- c("library(boot)\nrequire(lattice)")
annotate_repo_source(test_string)
</code></pre>

<hr>
<h2 id='annotate_repos_active_file'>Annotate repositories in active file</h2><span id='topic+annotate_repos_active_file'></span>

<h3>Description</h3>

<p>Annotates package load calls with repository details in the active .R file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_repos_active_file()
</code></pre>


<h3>Value</h3>

<p>No return value, wraps [annotate_repo_source()] for access via Addin
</p>

<hr>
<h2 id='annotate_repostitle'>Annotate package titles and repository sources</h2><span id='topic+annotate_repostitle'></span>

<h3>Description</h3>

<p>Annotate package titles and repository sources
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_repostitle(string_og)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotate_repostitle_+3A_string_og">string_og</code></td>
<td>
<p>Text string (script) with package load calls.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some annotations may be long, check for possible line breaks
introduced into your script.
</p>


<h3>Value</h3>

<p>Text string with package titles and package repository source
annotations. Will make note of packages not currently installed. Lines with
existing comments or annotations are ignored by the regular expression that
matches package names. Also ignores base packages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_string &lt;- c("library(boot)\nrequire(lattice)")
annotate_repostitle(test_string)
</code></pre>

<hr>
<h2 id='annotate_repostitle_active'>Annotate titles and repositories in active file</h2><span id='topic+annotate_repostitle_active'></span>

<h3>Description</h3>

<p>Annotates package load calls with package titles and repository details in
the active .R file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_repostitle_active()
</code></pre>


<h3>Value</h3>

<p>No return value, wraps [annotate_repostitle()] for access via Addin
</p>

<hr>
<h2 id='annotate_script'>Annotate script</h2><span id='topic+annotate_script'></span>

<h3>Description</h3>

<p>Annotate script
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate_script(script_file, pkg_field = "Title")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annotate_script_+3A_script_file">script_file</code></td>
<td>
<p>Path to an R script.</p>
</td></tr>
<tr><td><code id="annotate_script_+3A_pkg_field">pkg_field</code></td>
<td>
<p>Field from package description to retrieve, defaults to
&quot;Title&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints the annotated script to the console.
</p>

<hr>
<h2 id='check_pkgs'>Check if packages are installed</h2><span id='topic+check_pkgs'></span>

<h3>Description</h3>

<p>Check if packages are installed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_pkgs(pkgvec)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_pkgs_+3A_pkgvec">pkgvec</code></td>
<td>
<p>Vector of package names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with installation status for packages in the input text.
</p>

<hr>
<h2 id='expand_metapackages'>Expand metapackages</h2><span id='topic+expand_metapackages'></span>

<h3>Description</h3>

<p>Expand metapackages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_metapackages(string_og)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="expand_metapackages_+3A_string_og">string_og</code></td>
<td>
<p>text string (script) with package load calls</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text string with metapackage load calls replaced by multiple separate
calls to the core packages that make up the metapackage. Core packages will
be fenced in four commenting symbols and the order follows the attachment
order from each metapackage. Will make note of metapackages not currently
installed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_string &lt;- c("library(tidyverse)")
expand_metapackages(test_string)

</code></pre>

<hr>
<h2 id='expand_metapackages_active_file'>Expand metapackages in active file</h2><span id='topic+expand_metapackages_active_file'></span>

<h3>Description</h3>

<p>Replaces metapackage load calls in the active .R file with multiple separate
calls to its core packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_metapackages_active_file()
</code></pre>


<h3>Value</h3>

<p>No return value, wraps [expand_metapackages()] for access via Addin
</p>

<hr>
<h2 id='get_pkg_datasets'>Query data from packages</h2><span id='topic+get_pkg_datasets'></span>

<h3>Description</h3>

<p>Query data from packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pkg_datasets(inst_pkgs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_pkg_datasets_+3A_inst_pkgs">inst_pkgs</code></td>
<td>
<p>Vector of package names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with all the bundled data from the specified packages.
</p>

<hr>
<h2 id='match_pkg_names'>Match package names</h2><span id='topic+match_pkg_names'></span>

<h3>Description</h3>

<p>Match package names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_pkg_names(string_og)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="match_pkg_names_+3A_string_og">string_og</code></td>
<td>
<p>Text string (script) with package load calls.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the package load calls and package names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_string &lt;- c("library(boot)\nrequire(Matrix)")
match_pkg_names(test_string)
</code></pre>

<hr>
<h2 id='pkg_version'>Retrieve Package version</h2><span id='topic+pkg_version'></span>

<h3>Description</h3>

<p>Internal helper function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_version(pkgs_col)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pkg_version_+3A_pkgs_col">pkgs_col</code></td>
<td>
<p>Package name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the package version.
</p>

<hr>
<h2 id='repo_details'>Retrieve repo details</h2><span id='topic+repo_details'></span>

<h3>Description</h3>

<p>Internal helper function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>repo_details(pkgs_col)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="repo_details_+3A_pkgs_col">pkgs_col</code></td>
<td>
<p>Name of variable with the non-CRAN repos.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of user names and repository names.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

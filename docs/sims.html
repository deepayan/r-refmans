<!DOCTYPE html><html><head><title>Help for package sims</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sims}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#params'><p>Parameters for sims functions</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#sims_add'><p>Add Simulated Datasets</p></a></li>
<li><a href='#sims_check'><p>Check Simulated Data</p></a></li>
<li><a href='#sims_copy'><p>Copy Simulated Datasets</p></a></li>
<li><a href='#sims_data'><p>Simulated Datasets</p></a></li>
<li><a href='#sims_data_files'><p>Simulated Data Files</p></a></li>
<li><a href='#sims_info'><p>Simulated Data Argument Values</p></a></li>
<li><a href='#sims_rdists'><p>Sims Random R Distributions</p></a></li>
<li><a href='#sims_simulate'><p>Simulate Datasets</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Simulate Data from R or 'JAGS' Code</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Generates data from R or 'JAGS' code for use in simulation
    studies.  The data are returned as an 'nlist::nlists' object and/or
    saved to file as individual '.rds' files.  Parallelization is
    implemented using the 'future' package.  Progress is reported using
    the 'progressr' package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>chk, future.apply, nlist, parallel, stats, yesno</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, future, knitr, progressr, rjags, rmarkdown, testthat
(&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-20 12:18:27 UTC; joe</td>
</tr>
<tr>
<td>Author:</td>
<td>Audrey Beliveau [aut],
  Joe Thorley <a href="https://orcid.org/0000-0002-7683-4592"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joe Thorley &lt;joe@poissonconsulting.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-20 18:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='params'>Parameters for sims functions</h2><span id='topic+params'></span>

<h3>Description</h3>

<p>Descriptions of the parameters for the sims functions.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="params_+3A_path">path</code></td>
<td>
<p>A string of the path to the directory with the simulated data.</p>
</td></tr>
<tr><td><code id="params_+3A_path_from">path_from</code></td>
<td>
<p>A string of the path to the directory containing
the simulated datasets.</p>
</td></tr>
<tr><td><code id="params_+3A_path_to">path_to</code></td>
<td>
<p>A string of the path to the directory to copy
the simulated dataset to.</p>
</td></tr>
<tr><td><code id="params_+3A_code">code</code></td>
<td>
<p>A string of the JAGS or R code to generate the data.
The JAGS code must not be in a data or model block.</p>
</td></tr>
<tr><td><code id="params_+3A_constants">constants</code></td>
<td>
<p>An nlist object (or list that can be coerced to nlist)
specifying the values of nodes in code.
The values are included in the output dataset.</p>
</td></tr>
<tr><td><code id="params_+3A_parameters">parameters</code></td>
<td>
<p>An nlist object (or list that can be coerced to nlist)
specifying the values of nodes in code.
The values are not included in the output dataset.</p>
</td></tr>
<tr><td><code id="params_+3A_monitor">monitor</code></td>
<td>
<p>A character vector (or regular expression if a string)
specifying the names of the nodes in code to include in the dataset.
By default all nodes are included.</p>
</td></tr>
<tr><td><code id="params_+3A_stochastic">stochastic</code></td>
<td>
<p>A logical scalar specifying whether to monitor
deterministic and stochastic (NA), only deterministic (FALSE)
or only stochastic nodes (TRUE).</p>
</td></tr>
<tr><td><code id="params_+3A_latent">latent</code></td>
<td>
<p>A logical scalar specifying whether to monitor
observed and latent (NA), only latent (TRUE)
or only observed nodes (FALSE).</p>
</td></tr>
<tr><td><code id="params_+3A_nsims">nsims</code></td>
<td>
<p>A whole number between 1 and 1,000,000 specifying
the number of data sets to simulate. By default 1 data set is simulated.</p>
</td></tr>
<tr><td><code id="params_+3A_save">save</code></td>
<td>
<p>A flag specifying whether to return the data sets as
an <code>nlists</code> object or save in <code>path</code>. If <code>save = NA</code>
the datasets are returned as an <code>nlists</code> object and saved in <code>path</code>.</p>
</td></tr>
<tr><td><code id="params_+3A_exists">exists</code></td>
<td>
<p>A flag specifying whether the <code>path</code> directory should
already exist (if <code>exists = NA</code> it doesn't matter).</p>
</td></tr>
<tr><td><code id="params_+3A_rdists">rdists</code></td>
<td>
<p>A character vector specifying the R functions to recognize
as stochastic.</p>
</td></tr>
<tr><td><code id="params_+3A_ask">ask</code></td>
<td>
<p>A flag specifying whether to ask before deleting sims
compatible files.</p>
</td></tr>
<tr><td><code id="params_+3A_silent">silent</code></td>
<td>
<p>A flag specifying whether to suppress warnings.</p>
</td></tr>
</table>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+nlist'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>nlist</dt><dd><p><code><a href="nlist.html#topic+nlist">nlist</a></code></p>
</dd>
</dl>

<hr>
<h2 id='sims_add'>Add Simulated Datasets</h2><span id='topic+sims_add'></span>

<h3>Description</h3>

<p>Add Simulated Datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_add(path = ".", nsims = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sims_add_+3A_path">path</code></td>
<td>
<p>A string specifying the path to the directory to
add the data sets to.</p>
</td></tr>
<tr><td><code id="sims_add_+3A_nsims">nsims</code></td>
<td>
<p>A count of the number of additional datasets to generate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the names of the files created.
</p>

<hr>
<h2 id='sims_check'>Check Simulated Data</h2><span id='topic+sims_check'></span>

<h3>Description</h3>

<p>Checks the simulated data argument values in the '.sims.rds' file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_check(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sims_check_+3A_path">path</code></td>
<td>
<p>A string of the path to the directory with the simulated data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The checks include whether number and names of the data files
in the directory are consistent with the number of simulations.
</p>


<h3>Value</h3>

<p>An informative error or invisible list of the argument values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(10)
sims_simulate("a &lt;- runif(1)",
  save = TRUE, path = tempdir(), exists = NA,
  ask = FALSE
)
(sims_check(tempdir()))
</code></pre>

<hr>
<h2 id='sims_copy'>Copy Simulated Datasets</h2><span id='topic+sims_copy'></span>

<h3>Description</h3>

<p>Copy Simulated Datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_copy(
  path_from = ".",
  path_to = paste0(path_from, "_copy"),
  exists = FALSE,
  ask = getOption("sims.ask", TRUE),
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sims_copy_+3A_path_from">path_from</code></td>
<td>
<p>A string of the path to the directory containing
the simulated datasets.</p>
</td></tr>
<tr><td><code id="sims_copy_+3A_path_to">path_to</code></td>
<td>
<p>A string of the path to the directory to copy
the simulated dataset to.</p>
</td></tr>
<tr><td><code id="sims_copy_+3A_exists">exists</code></td>
<td>
<p>A flag specifying whether <code>path_to</code> should already exist.
If <code>exists = NA</code> it doesn't matter. If the directory already exists
sims compatible files are deleted if <code>exists = TRUE</code> or <code>exists = NA</code>
otherwise an
error is thrown.</p>
</td></tr>
<tr><td><code id="sims_copy_+3A_ask">ask</code></td>
<td>
<p>A flag specifying whether to ask before deleting files.</p>
</td></tr>
<tr><td><code id="sims_copy_+3A_silent">silent</code></td>
<td>
<p>A flag specifying whether to suppress warnings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the names of the files copied.
</p>

<hr>
<h2 id='sims_data'>Simulated Datasets</h2><span id='topic+sims_data'></span>

<h3>Description</h3>

<p>Gets the simulated datasets as an <code><a href="nlist.html#topic+nlists">nlist::nlists_object()</a></code>.
There is no guarantee that all the datasets will fit in memory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_data(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sims_data_+3A_path">path</code></td>
<td>
<p>A string of the path to the directory with the simulated data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code><a href="nlist.html#topic+nlists">nlist::nlists_object()</a></code> of the simulated datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(10)
sims_simulate("a &lt;- runif(1)",
  nsims = 10L, path = tempdir(),
  exists = NA, ask = FALSE
)
library(nlist)
sims_data(tempdir())
</code></pre>

<hr>
<h2 id='sims_data_files'>Simulated Data Files</h2><span id='topic+sims_data_files'></span>

<h3>Description</h3>

<p>Gets the names of the simulated data files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_data_files(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sims_data_files_+3A_path">path</code></td>
<td>
<p>A string of the path to the directory with the simulated data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the names of the simulated data files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(10)
sims_simulate("a &lt;- runif(1)",
  nsims = 10L, path = tempdir(),
  exists = NA, ask = FALSE
)
sims_data_files(tempdir())
</code></pre>

<hr>
<h2 id='sims_info'>Simulated Data Argument Values</h2><span id='topic+sims_info'></span>

<h3>Description</h3>

<p>Gets the simulated data argument values in the '.sims.rds' file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_info(path = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sims_info_+3A_path">path</code></td>
<td>
<p>A string of the path to the directory with the simulated data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of the values in <code>file.path(path, '.sims.rds')</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(10)
sims_simulate("a &lt;- runif(1)", path = tempdir(), exists = NA, ask = FALSE)
sims_info(tempdir())
</code></pre>

<hr>
<h2 id='sims_rdists'>Sims Random R Distributions</h2><span id='topic+sims_rdists'></span>

<h3>Description</h3>

<p>Gets the names of the R random variate generating functions
listed in <code><a href="stats.html#topic+Distributions">Distributions()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_rdists()
</code></pre>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sims_rdists()
</code></pre>

<hr>
<h2 id='sims_simulate'>Simulate Datasets</h2><span id='topic+sims_simulate'></span>

<h3>Description</h3>

<p>Simulates datasets using JAGS or R code. By default
returns the datasets as an <code><a href="nlist.html#topic+nlists">nlist::nlists_object()</a></code>.
If <code>path</code> is provided then the datasets are written to the directory
as individual <code>.rds</code> files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sims_simulate(
  code,
  constants = nlist::nlist(),
  parameters = nlist::nlist(),
  monitor = ".*",
  stochastic = NA,
  latent = NA,
  nsims = 1,
  save = FALSE,
  path = ".",
  exists = FALSE,
  rdists = sims_rdists(),
  ask = getOption("sims.ask", TRUE),
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sims_simulate_+3A_code">code</code></td>
<td>
<p>A string of the JAGS or R code to generate the data.
The JAGS code must not be in a data or model block.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_constants">constants</code></td>
<td>
<p>An nlist object (or list that can be coerced to nlist)
specifying the values of nodes in code.
The values are included in the output dataset.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_parameters">parameters</code></td>
<td>
<p>An nlist object (or list that can be coerced to nlist)
specifying the values of nodes in code.
The values are not included in the output dataset.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_monitor">monitor</code></td>
<td>
<p>A character vector (or regular expression if a string)
specifying the names of the nodes in code to include in the dataset.
By default all nodes are included.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_stochastic">stochastic</code></td>
<td>
<p>A logical scalar specifying whether to monitor
deterministic and stochastic (NA), only deterministic (FALSE)
or only stochastic nodes (TRUE).</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_latent">latent</code></td>
<td>
<p>A logical scalar specifying whether to monitor
observed and latent (NA), only latent (TRUE)
or only observed nodes (FALSE).</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_nsims">nsims</code></td>
<td>
<p>A whole number between 1 and 1,000,000 specifying
the number of data sets to simulate. By default 1 data set is simulated.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_save">save</code></td>
<td>
<p>A flag specifying whether to return the data sets as
an <code>nlists</code> object or save in <code>path</code>. If <code>save = NA</code>
the datasets are returned as an <code>nlists</code> object and saved in <code>path</code>.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_path">path</code></td>
<td>
<p>A string specifying the path to the directory to save
the data sets in.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_exists">exists</code></td>
<td>
<p>A flag specifying whether the <code>path</code> directory should
already exist (if <code>exists = NA</code> it doesn't matter).</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_rdists">rdists</code></td>
<td>
<p>A character vector specifying the R functions to recognize
as stochastic.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_ask">ask</code></td>
<td>
<p>A flag specifying whether to ask before deleting sims
compatible files.</p>
</td></tr>
<tr><td><code id="sims_simulate_+3A_silent">silent</code></td>
<td>
<p>A flag specifying whether to suppress warnings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>JAGS code is identified by the presence of '~' indicating a
stochastic variable node.
Otherwise code is assumed to be R code and stochastic variable nodes
are those where assignment is immediately succeeded
by a call to one of the functions named in <code>rdists</code>.
</p>
<p>Both constants and parameters must be <code style="white-space: pre;">&#8288;[nlist::nlist_object]s&#8288;</code>
(or lists that can be coerced to such) .
The only difference between constants and parameters is that the values in
constants are appended to the output data while the values in parameters
are not.
Neither constants or parameters can include missing values nor can they
have elements with the same name.
Elements which are not in code are dropped with a warning
(unless <code>silent = TRUE</code> in which case the warning is suppressed).
</p>
<p>Each set of simulated data set is written as a separate .rds file.
The files are labelled <code>data0000001.rds</code>, <code>data0000002.rds</code>,
<code>data0000003.rds</code> etc.
The argument values are saved in the hidden file <code>.sims.rds</code>.
</p>
<p>sims compatible files are those matching the regular expression
<code style="white-space: pre;">&#8288;^((data\\\\d\{7,7\})|([.]sims))[.]rds$&#8288;</code>.
</p>
<p>Parallelization is implemented using the future package.
</p>


<h3>Value</h3>

<p>By default an <code><a href="nlist.html#topic+nlists">nlist::nlists_object()</a></code> of the simulated data.
Otherwise if <code>path</code> is defined saves the datasets as individual <code>.rds</code>
files and returns TRUE.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sims_rdists">sims_rdists()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(101)
sims_simulate("a &lt;- runif(1)", path = tempdir(), exists = NA, ask = FALSE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

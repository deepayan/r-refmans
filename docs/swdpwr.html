<!DOCTYPE html><html><head><title>Help for package swdpwr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {swdpwr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BinICC'><p>A function for calculating the intracluster correlation coefficient (ICC) for binary outcomes given the cluster level random effects variance</p></a></li>
<li><a href='#ContICC'><p>A function for calculating ICCs for continuous outcomes given random effects variances</p></a></li>
<li><a href='#print.swdpower'><p>Print the results of swdpower</p></a></li>
<li><a href='#swdpower'><p>A function of power calculation for Stepped Wedge Design Studies</p></a></li>
<li><a href='#swdpwr-package'>
<p>Power Calculation for Stepped Wedge Cluster Randomized Trials</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Power Calculation for Stepped Wedge Cluster Randomized Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>1.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-28</td>
</tr>
<tr>
<td>Author:</td>
<td>Jiachen Chen [cre, aut], Xin Zhou [aut], Fan Li [aut] and Donna Spiegelman [aut].</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jiachen Chen &lt;jiachen.chen322@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>To meet the needs of statistical power calculation for stepped wedge cluster randomized trials, we developed this software. Different parameters can be specified by users for different scenarios, including: cross-sectional and cohort designs, binary and continuous outcomes, marginal (GEE) and conditional models (mixed effects model), three link functions (identity, log, logit links), with and without time effects under exchangeable, nested exchangeable and block exchangeable correlation structures. Unequal numbers of clusters per sequence are also allowed. The methods included in this package: Zhou et al. (2020) &lt;<a href="https://doi.org/10.1093%2Fbiostatistics%2Fkxy031">doi:10.1093/biostatistics/kxy031</a>&gt;, Li et al. (2018) &lt;<a href="https://doi.org/10.1111%2Fbiom.12918">doi:10.1111/biom.12918</a>&gt;. Supplementary documents can be found at: <a href="https://ysph.yale.edu/cmips/research/software/swdpwr/">https://ysph.yale.edu/cmips/research/software/swdpwr/</a>. The Shiny app for swdpwr can be accessed at: <a href="https://jiachenchen322.shinyapps.io/swdpwr_shinyapp/">https://jiachenchen322.shinyapps.io/swdpwr_shinyapp/</a>. The package also includes functions that perform calculations for the intra-cluster correlation coefficients based on the random effects variances as input variables for continuous and binary outcomes, respectively. </td>
</tr>
<tr>
<td>Imports:</td>
<td>spatstat.random</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-28 19:30:02 UTC</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-28 18:59:20 UTC; jiachenchen</td>
</tr>
</table>
<hr>
<h2 id='BinICC'>A function for calculating the intracluster correlation coefficient (ICC) for binary outcomes given the cluster level random effects variance</h2><span id='topic+BinICC'></span>

<h3>Description</h3>

<p>This function calculates the ICC (intracluster correlation coeffcient which measures the correlation between individuals in the same cluster) under different link funcitions in a cross-sectional stepped wedge CRT with binary outcomes. This model considers only the fixed time effects and does not include cluster by time interaction random effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BinICC(link = "identity", meanresponse_start, tau2 = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BinICC_+3A_link">link</code></td>
<td>
<p>choose link function from link=&quot;identity&quot;, link=&quot;log&quot; and link=&quot;logit&quot;, with default value of identity link</p>
</td></tr>
<tr><td><code id="BinICC_+3A_meanresponse_start">meanresponse_start</code></td>
<td>
<p>the anticipated mean response in the control group at the start of the study</p>
</td></tr>
<tr><td><code id="BinICC_+3A_tau2">tau2</code></td>
<td>
<p>also denoted as sigma_b: variance of the between-cluster random effect, default is 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object returned includes the link function and value for the ICC in this study
</p>


<h3>Examples</h3>

<pre><code class='language-R'>BinICC(link="identity",meanresponse_start=0.2,tau2=0.05)

</code></pre>

<hr>
<h2 id='ContICC'>A function for calculating ICCs for continuous outcomes given random effects variances</h2><span id='topic+ContICC'></span>

<h3>Description</h3>

<p>This function calculates the within-period, between-period, and within-individual correlation parameters for continuous outcomes in a stepped wedge CRT
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ContICC(
  type = "cross-sectional",
  sigma2 = 1,
  sigma_b = 0,
  sigma_c = 0,
  sigma_pi = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ContICC_+3A_type">type</code></td>
<td>
<p>choose the study type, specify type=&quot;cohort&quot; for closed cohort study and type=&quot;cross-sectional&quot; for cross-sectional study, default is &quot;cross-sectional&quot;</p>
</td></tr>
<tr><td><code id="ContICC_+3A_sigma2">sigma2</code></td>
<td>
<p>marginal variance of the outcom, default is 1</p>
</td></tr>
<tr><td><code id="ContICC_+3A_sigma_b">sigma_b</code></td>
<td>
<p>variance of the between-cluster random effect, default is 0</p>
</td></tr>
<tr><td><code id="ContICC_+3A_sigma_c">sigma_c</code></td>
<td>
<p>variance of the cluster-by-time interaction random effect, default is 0</p>
</td></tr>
<tr><td><code id="ContICC_+3A_sigma_pi">sigma_pi</code></td>
<td>
<p>variance of the random effect for repeated measures of one individual, this parameter should not be specified for cross-sectional studies, default is NA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object returned includes the study type and values for the ICCs in this study
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ContICC(type="cohort",sigma2=1.5,sigma_b=0.5,sigma_c=0.2,sigma_pi=0.3)
</code></pre>

<hr>
<h2 id='print.swdpower'>Print the results of swdpower</h2><span id='topic+print.swdpower'></span>

<h3>Description</h3>

<p>The <code><a href="base.html#topic+print">print</a></code> method for class &quot;swdpower&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'swdpower'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.swdpower_+3A_x">x</code></td>
<td>
<p>an object used to select a method.</p>
</td></tr>
<tr><td><code id="print.swdpower_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output from <code><a href="base.html#topic+print">print</a></code>
</p>

<hr>
<h2 id='swdpower'>A function of power calculation for Stepped Wedge Design Studies</h2><span id='topic+swdpower'></span>

<h3>Description</h3>

<p>This function performs power calculations for stepped wedge cluster randomized trials under different scenarios.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swdpower(
  K,
  design,
  family = "binomial",
  model = "conditional",
  link = "identity",
  type = "cross-sectional",
  meanresponse_start = NA,
  meanresponse_end0 = meanresponse_start,
  meanresponse_end1 = NA,
  effectsize_beta = NA,
  sigma2 = 0,
  typeIerror = 0.05,
  alpha0 = 0.1,
  alpha1 = alpha0/2,
  alpha2 = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swdpower_+3A_k">K</code></td>
<td>
<p>number of participants at each time period in a cluster, specified as the average clusterperiod size considering cluster-size variability</p>
</td></tr>
<tr><td><code id="swdpower_+3A_design">design</code></td>
<td>
<p>I*J dimensional data set that describes the study design (control 0, intervention 1), I is the number of clusters, J is the number of time periods. Unequal allocation of sequences and only complete designs with no transition periods are allowed</p>
</td></tr>
<tr><td><code id="swdpower_+3A_family">family</code></td>
<td>
<p>family of responses, specify family=&quot;gaussian&quot; for continuous outcome and family=&quot;binomial&quot; for binary outcome, with default value of &quot;binomial&quot;</p>
</td></tr>
<tr><td><code id="swdpower_+3A_model">model</code></td>
<td>
<p>choose from conditional model (model=&quot;conditional&quot;) and marginal model (model=&quot;marginal&quot;), with default value of applying conditional model</p>
</td></tr>
<tr><td><code id="swdpower_+3A_link">link</code></td>
<td>
<p>choose link function from link=&quot;identity&quot;, link=&quot;log&quot; and link=&quot;logit&quot;, with default value of identity link</p>
</td></tr>
<tr><td><code id="swdpower_+3A_type">type</code></td>
<td>
<p>choose the study type, specify type=&quot;cohort&quot; for closed cohort study and type=&quot;cross-sectional&quot; for cross-sectional study, with default value of cross-sectional study</p>
</td></tr>
<tr><td><code id="swdpower_+3A_meanresponse_start">meanresponse_start</code></td>
<td>
<p>the anticipated mean response in the control group at the start of the study</p>
</td></tr>
<tr><td><code id="swdpower_+3A_meanresponse_end0">meanresponse_end0</code></td>
<td>
<p>the anticipated mean response in the control group at the end of the study, with default value equals to meanresponse_start (no time effects)</p>
</td></tr>
<tr><td><code id="swdpower_+3A_meanresponse_end1">meanresponse_end1</code></td>
<td>
<p>the anticipated mean response in the intervention group at the end of the study</p>
</td></tr>
<tr><td><code id="swdpower_+3A_effectsize_beta">effectsize_beta</code></td>
<td>
<p>the anticipated effect size, just omit this parameter if you don't need to specify it. In all scenarios, you can choose to specify the three parameters about mean responses without specifying this effect size, or alternatively specify meanresponse_start, meanresponse_end0 and this effect size. For continuous outcomes, users can conduct power calculations by only specifying this parameter without the above three parameters about mean responses (as the power is dependent just on it), then calculation will be implemented assuming scenarios without time effects. If you would consider scenarios with time effects and continuous outcomes, please specify meanresponse_start, meanresponse_end0 (donot require accurate information, just make sure they are not equal) and this effectsize_beta.</p>
</td></tr>
<tr><td><code id="swdpower_+3A_sigma2">sigma2</code></td>
<td>
<p>marginal variance of the outcome (only needed for continuous outcomes and should not be an input for binary outcomes), with default value of 0.</p>
</td></tr>
<tr><td><code id="swdpower_+3A_typeierror">typeIerror</code></td>
<td>
<p>two-sided type I error, with default value of 0.05</p>
</td></tr>
<tr><td><code id="swdpower_+3A_alpha0">alpha0</code></td>
<td>
<p>within-period correlation, with default value of 0.1</p>
</td></tr>
<tr><td><code id="swdpower_+3A_alpha1">alpha1</code></td>
<td>
<p>between-period correlation, with default value of alpha0/2</p>
</td></tr>
<tr><td><code id="swdpower_+3A_alpha2">alpha2</code></td>
<td>
<p>within-individual correlation, should not be an input under cross-sectional designs although it is numerically identical to alpha1 in this scenario by definition</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object returned has a class of <code>swdpower</code>, which includes a list of the design matrix and a summary of this design (including the power)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(swdpwr)
#a cross-sectional design with 12 clusters, 3 periods and binary outcomes applying conditional model
#alpha2 should not be specified, as the current version does not support power calculation using
#conditional models with binary outcomes in a cohort design
#create a 12*3 matrix which describes the study design,
#0 means control status, 1 means intervention status
dataset = matrix(c(rep(c(0,1,1),6),rep(c(0,0,1),6)),12,3,byrow=TRUE)

#specify meanresponse_start, meanresponse_end0 and meanresponse_end1
swdpower(K = 30, design = dataset, family = "binomial", model = "conditional", link = "logit",
type = "cross-sectional", meanresponse_start = 0.2, meanresponse_end0 = 0.3,
meanresponse_end1 = 0.4, typeIerror = 0.05, alpha0 = 0.01, alpha1 = 0.01)

#specify meanresponse_start, meanresponse_end0 and effectsize_beta
swdpower(K = 30, design = dataset, family = "binomial", model = "conditional", link = "logit",
type = "cross-sectional", meanresponse_start = 0.2, meanresponse_end0 = 0.3, effectsize_beta = 0.6,
typeIerror = 0.05, alpha0 = 0.01, alpha1 = 0.01)

#a cohort design with 8 clusters, 3 periods and continuous outcomes applying marginal model
#sigma2 should be specified, as continuous outcomes require marginal variance in calculation
#create a 8*3 matrix which describes the study design,
#0 means control status, 1 means intervention status
dataset = matrix(c(rep(c(0,1,1),4),rep(c(0,0,1),4)),8,3, byrow=TRUE)

#specify meanresponse_start, meanresponse_end0 and meanresponse_end1
swdpower(K = 24, design = dataset, family = "gaussian", model = "marginal", link = "identity",
type = "cohort", meanresponse_start = 0.1, meanresponse_end0 = 0.2,  meanresponse_end1 = 0.4,
sigma2 = 0.095, typeIerror = 0.05, alpha0 = 0.03, alpha1 = 0.015, alpha2 = 0.2)

#specify effectsize_beta only, then the program runs assuming no time effects
swdpower(K = 24, design = dataset, family = "gaussian", model = "marginal", link = "identity",
type = "cohort",effectsize_beta=0.3, sigma2 = 0.095, typeIerror = 0.05, alpha0 = 0.03,
alpha1 = 0.015, alpha2 = 0.2)
</code></pre>

<hr>
<h2 id='swdpwr-package'>
Power Calculation for Stepped Wedge Cluster Randomized Trials
</h2><span id='topic+swdpwr-package'></span><span id='topic+swdpwr'></span>

<h3>Description</h3>

<p>This package includes a function <code>swdpower</code> that accounts for power calculation for stepped wedge cluster randomized trials.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> swdpwr</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.9</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2023-09-28</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (version 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Previous literature and developement of software focused mainly on continuous outcomes and obtained approximation results for binary outcomes. This package implemented new methods of power calculation for stepped wedge designs with binary outcomes and also incorporated procedures for continuous outcomes. The function <code>swdpower</code> can accommodate both cross-sectional and cohort designs, binary and continuous outcomes, marginal (GEE) and conditional models (mixed effects model), three link functions (identity, log, logit links), with and without time effects under exchangeable, nested exchangeable and block exchangeable correlation structures. Unequal numbers of clusters per sequence are also allowed. With this package, investigators can obtain more accurate calculation of statistical power, that will help a lot in the design and analysis of stepped wedge cluster randomized trials. The package also includes functions that perform calculations for the intra-cluster correlation coefficients based on the random effects variances as input variables for continuous and binary outcomes, respectively. Other supplementary documents can be found at: https://ysph.yale.edu/cmips/research/software/swdpwr/. The Shiny app for swdpwr can be accessed at: &lt;https://jiachenchen322.shinyapps.io/swdpwr_shinyapp/&gt;.
</p>



<h3>Author(s)</h3>

<p>Jiachen Chen, Xin Zhou , Fan Li and Donna Spiegelman.
</p>
<p>Maintainer:Jiachen Chen &lt;jiachen.chen322@gmail.com&gt;
</p>


<h3>References</h3>

<p>Zhou X, Liao X, Kunz L M, et al. A maximum likelihood approach to power calculations for stepped wedge designs of binary outcomes[J]. Biostatistics, 2020, 21(1): 102-121.
</p>
<p>Li F, Turner E L, Preisser J S. Sample size determination for GEE analyses of stepped wedge cluster randomized trials[J]. Biometrics, 2018, 74(4): 1450-1458.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

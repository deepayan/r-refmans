<!DOCTYPE html><html><head><title>Help for package synthesizer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {synthesizer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#synthesizer-package'><p>synthesizer: Synthesize Data Based on Emperical Multivariate Distributions and Rank Order Matching</p></a></li>
<li><a href='#dcor'><p>Difference between correlation</p></a></li>
<li><a href='#dmean'><p>Summarization of location and spread between synthetic and real data</p></a></li>
<li><a href='#make_synthesizer'><p>Create a function that generates synthetic data</p></a></li>
<li><a href='#pmse'><p>Compute the pMSE metric between synthetic and real data</p></a></li>
<li><a href='#qa'><p>Quality assurance for synthesized data</p></a></li>
<li><a href='#synthesize'><p>Create synthetic version of a dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Synthesize Data Based on Emperical Multivariate Distributions
and Rank Order Matching</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-12</td>
</tr>
<tr>
<td>Author:</td>
<td>Mark van der Loo</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mark van der Loo &lt;mark.vanderloo@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Data is synthesized using a combination of inverse transform
    sampling from the emperical quantile functions for each variable, and 
    then copying the rank order structure from the original dataset. The
    package also includes a number of functions to measure the utility of
    synthesized datasets.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, randomForest</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>simplermarkdown</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tinytest, simplermarkdown</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-12 15:12:08 UTC; mark</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-13 17:40:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='synthesizer-package'>synthesizer: Synthesize Data Based on Emperical Multivariate Distributions and Rank Order Matching</h2><span id='topic+synthesizer'></span><span id='topic+synthesizer-package'></span>

<h3>Description</h3>

<p>Data is synthesized using a combination of inverse transform sampling from the emperical quantile functions for each variable, and then copying the rank order structure from the original dataset. The package also includes a number of functions to measure the utility of synthesized datasets.
</p>

<hr>
<h2 id='dcor'>Difference between correlation</h2><span id='topic+dcor'></span>

<h3>Description</h3>

<p>Returns the Frobenius norm of the difference between the 
correlation matrices for numeric columns in synthetic
and real data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dcor(synth, real)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dcor_+3A_synth">synth</code></td>
<td>
<p><code>[data.frame]</code> Synthetic data</p>
</td></tr>
<tr><td><code id="dcor_+3A_real">real</code></td>
<td>
<p><code>[data.frame]</code> Real data</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other measures: 
<code><a href="#topic+dmean">dmean</a>()</code>,
<code><a href="#topic+pmse">pmse</a>()</code>,
<code><a href="#topic+qa">qa</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dcor(iris, iris) # 0
dcor(synthesize(cars), cars)

</code></pre>

<hr>
<h2 id='dmean'>Summarization of location and spread between synthetic and real data</h2><span id='topic+dmean'></span><span id='topic+dsd'></span>

<h3>Description</h3>

<p>For each numerical variable in the two datasets, compute the relative
difference between the mean (standard deviation) of the real data and the
mean (standard deviation) of the synthetic data. The summary is the average
of these relative differences over all numerical variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dmean(synth, real, tol = 1e-08, ...)

dsd(synth, real, tol = 1e-08, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dmean_+3A_synth">synth</code></td>
<td>
<p><code>[data.frame]</code> Synthetic data</p>
</td></tr>
<tr><td><code id="dmean_+3A_real">real</code></td>
<td>
<p><code>[data.frame]</code> Real data</p>
</td></tr>
<tr><td><code id="dmean_+3A_tol">tol</code></td>
<td>
<p><code>[numeric]</code> Nonnegative tolerance. If the absolute 
mean (standard deviation) of a variable is smaller than 
<code>tol</code>, it is considered zero. In that case the 
absolute difference instead of the absolute relative 
difference is computed.</p>
</td></tr>
<tr><td><code id="dmean_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>mean</code>. e.g. use <code>trim=c(0.01,0.99)</code>
for mean estimation that is less sensitive to outliers.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Real and synthetic data are expected to have the same column names,
orders, and data types.
</p>


<h3>See Also</h3>

<p>Other measures: 
<code><a href="#topic+dcor">dcor</a>()</code>,
<code><a href="#topic+pmse">pmse</a>()</code>,
<code><a href="#topic+qa">qa</a>()</code>
</p>
<p>Other measures: 
<code><a href="#topic+dcor">dcor</a>()</code>,
<code><a href="#topic+pmse">pmse</a>()</code>,
<code><a href="#topic+qa">qa</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dmean(cars, cars) # 0
dmean(synthesize(cars), cars)

dsd(cars, cars) # 0
dsd(synthesize(cars), cars)


</code></pre>

<hr>
<h2 id='make_synthesizer'>Create a function that generates synthetic data</h2><span id='topic+make_synthesizer'></span><span id='topic+make_synthesizer.numeric'></span><span id='topic+make_synthesizer.integer'></span><span id='topic+make_synthesizer.factor'></span><span id='topic+make_synthesizer.character'></span><span id='topic+make_synthesizer.data.frame'></span>

<h3>Description</h3>

<p>Create a function that accepts a non-negative integer <code>n</code>, and
that returns synthetic data sampled from the emperical (multivariate)
distribution of <code>y</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_synthesizer(y)

## S3 method for class 'numeric'
make_synthesizer(y)

## S3 method for class 'integer'
make_synthesizer(y)

## S3 method for class 'factor'
make_synthesizer(y)

## S3 method for class 'character'
make_synthesizer(y)

## S3 method for class 'data.frame'
make_synthesizer(y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_synthesizer_+3A_y">y</code></td>
<td>
<p><code>[vector|data.frame]</code> Template data to be synthesized.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>function</code> accepting a single integer argument: the number
of synthesized values or records to return.
</p>


<h3>See Also</h3>

<p>Other synthesis: 
<code><a href="#topic+synthesize">synthesize</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>synth &lt;- make_synthesizer(cars$speed)
synth(10)


synth &lt;- make_synthesizer(iris)
synth(6)
synth(150)
synth(250)

</code></pre>

<hr>
<h2 id='pmse'>Compute the pMSE metric between synthetic and real data</h2><span id='topic+pmse'></span>

<h3>Description</h3>

<p>The propensity mean squared error is defined as
<code class="reqn">\frac{1}{N}\sum_{i=1}^N(p_i-c)^2</code>, where <code class="reqn">c</code> is the number of
synthetic records, divided by the sum of the number of synthetic and real
records.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmse(synth, real, model = c("lr", "rf"), nrep = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmse_+3A_synth">synth</code></td>
<td>
<p><code>[data.frame]</code> Synthesized data.</p>
</td></tr>
<tr><td><code id="pmse_+3A_real">real</code></td>
<td>
<p><code>[real]</code> Data to compare with the synthesized data.</p>
</td></tr>
<tr><td><code id="pmse_+3A_model">model</code></td>
<td>
<p><code>[character]</code> Model used to compute propensity scores. Options
are <code>"lr"</code>: logistic regression, and <code>"rf"</code>: random forest.</p>
</td></tr>
<tr><td><code id="pmse_+3A_nrep">nrep</code></td>
<td>
<p><code>[integer]</code> Number of model repetitions to average the 
pMSE value over. Ignored for <code>lr</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other measures: 
<code><a href="#topic+dcor">dcor</a>()</code>,
<code><a href="#topic+dmean">dmean</a>()</code>,
<code><a href="#topic+qa">qa</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>scars &lt;- synthesize(cars)
pmse(scars, cars)

</code></pre>

<hr>
<h2 id='qa'>Quality assurance for synthesized data</h2><span id='topic+qa'></span>

<h3>Description</h3>

<p>Repeatedly synthesize a dataset, record a set of quality
measures for each repetition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qa(real, n = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qa_+3A_real">real</code></td>
<td>
<p><code>[data.frame]</code> A data set to be synthesized.</p>
</td></tr>
<tr><td><code id="qa_+3A_n">n</code></td>
<td>
<p><code>[integer]</code> Number of repetitions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with <code>n</code> rows and each column a quality measure.
</p>


<h3>See Also</h3>

<p>Other measures: 
<code><a href="#topic+dcor">dcor</a>()</code>,
<code><a href="#topic+dmean">dmean</a>()</code>,
<code><a href="#topic+pmse">pmse</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
qa(iris)

</code></pre>

<hr>
<h2 id='synthesize'>Create synthetic version of a dataset</h2><span id='topic+synthesize'></span>

<h3>Description</h3>

<p>Create <code>n</code> values or records based on the emperical (multivariate)
distribution of <code>y</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>synthesize(y, n = NROW(y))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="synthesize_+3A_y">y</code></td>
<td>
<p><code>[vector|data.frame]</code> data to synthesize.</p>
</td></tr>
<tr><td><code id="synthesize_+3A_n">n</code></td>
<td>
<p><code>[integer]</code> Number of values or records to synthesize.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other synthesis: 
<code><a href="#topic+make_synthesizer">make_synthesizer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>synthesize(cars$speed,10)
synthesize(cars)
synthesize(cars,25)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

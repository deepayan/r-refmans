<!DOCTYPE html><html lang="en-GB"><head><title>Help for package cookiemonster</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cookiemonster}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_cookies'><p>Add Cookies to the Browser</p></a></li>
<li><a href='#default_jar'><p>Get the default cookie storage directory (jar)</p></a></li>
<li><a href='#delete_cookies'><p>Delete Cookies</p></a></li>
<li><a href='#encrypt_vec'><p>Encrypts/Decrypts a vector</p></a></li>
<li><a href='#get_cookies'><p>Retrieve cookies from a jar</p></a></li>
<li><a href='#store_cookies'><p>Store cookies in a jar</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Your Friendly Solution to Managing Browser Cookies</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>A convenient tool to store and format browser cookies and use them 
    in 'HTTP' requests (for example, through 'httr2', 'httr' or 'curl').</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>curl, httr, httr2, jsonlite, knitr, rmarkdown, spelling,
testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, openssl, rappdirs, stringi, tibble, urltools, vctrs</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-30 14:48:28 UTC; johannes</td>
</tr>
<tr>
<td>Author:</td>
<td>Johannes B. Gruber
    <a href="https://orcid.org/0000-0001-9177-1772"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Johannes B. Gruber &lt;JohannesB.Gruber@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-30 15:20:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_cookies'>Add Cookies to the Browser</h2><span id='topic+add_cookies'></span>

<h3>Description</h3>

<p>This function allows you to add browser cookies to the cookie storage. It can
work with either a cookie file or a direct cookie string (e.g., copied from a
CURL call). But remember, just like in real life, you can't have your cookie
and eat it too - pick only one!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_cookies(cookiefile, cookiestring, domain = NULL, confirm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_cookies_+3A_cookiefile">cookiefile</code></td>
<td>
<p>A character string indicating the path to the cookie file.</p>
</td></tr>
<tr><td><code id="add_cookies_+3A_cookiestring">cookiestring</code></td>
<td>
<p>A character string representing the cookie in string
format.</p>
</td></tr>
<tr><td><code id="add_cookies_+3A_domain">domain</code></td>
<td>
<p>An optional parameter that specifies the host/domain. It's only
used when <code>cookiestring</code> is provided.</p>
</td></tr>
<tr><td><code id="add_cookies_+3A_confirm">confirm</code></td>
<td>
<p>If <code>TRUE</code>, you confirm to write the cookie jar to disk
(if it does not exist yet) without seeing the interactive menu.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No explicit return. Instead, this function stores the cookies using
the <code>store_cookies</code> function.
</p>


<h3>Note</h3>

<p>You can't provide both a cookiefile and a cookiestring at the same
time. That's like trying to dunk two cookies in a tiny cup of milk!
</p>
<p>Your cookies are saved in an encrypted file. See <a href="#topic+encrypt_vec">encrypt_vec</a> for
more info.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+store_cookies">store_cookies</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># to conform with CRAN policies, examples use a temporary location. Do not use
# the options like this, except you want your cookies gone when closing R.
options(cookie_dir = tempdir())

# Using a cookie file:
# to conform with CRAN policies, examples use a temporary location. Do not use
# the options like this, except you want your cookies gone when closing R.
add_cookies(cookiefile = system.file("extdata", "cookies.txt", package = "cookiemonster"))

# Using a cookie string:
add_cookies(cookiestring = "username=johndoe; password=secret", domain = "www.example.com")

</code></pre>

<hr>
<h2 id='default_jar'>Get the default cookie storage directory (jar)</h2><span id='topic+default_jar'></span>

<h3>Description</h3>

<p>This function returns the default directory (jar) for storing cookies. Users
can set their own cookie storage location by using <code>options(cookie_dir =
"your/directory/here")</code>. If no custom directory is specified, the default
directory used by the <code>rappdirs</code> package will be returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_jar()
</code></pre>


<h3>Value</h3>

<p>A string representing the path to the default cookie storage
directory (jar).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get the default jar
default_jar()

# Set a custom cookie storage directory
options(cookie_dir = "/path/to/your/cookie/directory")
# Get the custom cookie directory
default_jar()

# revert to the package default
options(cookie_dir = rappdirs::user_cache_dir("r_cookies"))
</code></pre>

<hr>
<h2 id='delete_cookies'>Delete Cookies</h2><span id='topic+delete_cookies'></span>

<h3>Description</h3>

<p>Delete Cookies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_cookies(
  domain,
  key = "",
  jar = default_jar(),
  fixed = FALSE,
  ask = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="delete_cookies_+3A_domain">domain</code></td>
<td>
<p>The domain for which the cookies should be deleted.</p>
</td></tr>
<tr><td><code id="delete_cookies_+3A_key">key</code></td>
<td>
<p>An optional filter to retrieve only certain cookies by matching
certain keys/names. Accepts regular expression depending on the value of
<code>fixed</code>.</p>
</td></tr>
<tr><td><code id="delete_cookies_+3A_jar">jar</code></td>
<td>
<p>A character string of the path to the cookie jar (the default is
to use <code>default_jar()</code> to get a suitable directory).</p>
</td></tr>
<tr><td><code id="delete_cookies_+3A_fixed">fixed</code></td>
<td>
<p>If <code>TRUE</code>, <code>domain</code> and <code>key</code> are matched as is.
If either <code>domain</code> or <code>key</code>, only those values are treated as is.</p>
</td></tr>
<tr><td><code id="delete_cookies_+3A_ask">ask</code></td>
<td>
<p>A logical value indicating whether the user should be asked to
confirm the deletion.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. Called to remove cookies from jar.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># to conform with CRAN policies, examples use a temporary location. Do not use
# the options like this, except you want your cookies gone when closing R.
options(cookie_dir = tempdir())

add_cookies(cookiefile = system.file("extdata", "cookies.txt", package = "cookiemonster"))
delete_cookies("example.com", ask = FALSE)
</code></pre>

<hr>
<h2 id='encrypt_vec'>Encrypts/Decrypts a vector</h2><span id='topic+encrypt_vec'></span><span id='topic+decrypt_vec'></span>

<h3>Description</h3>

<p>Used internally to encrypt/decrypt the value column of your
cookie jar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encrypt_vec(vec)

decrypt_vec(vec)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="encrypt_vec_+3A_vec">vec</code></td>
<td>
<p>A vector of values to encrypt</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you save valuable cookies, for example login information, you
should encrypt them with a personalised password. This can be set with,
e.g., <code>Sys.setenv("COOKIE_KEY" = "megageheim")</code> or in an
.Renviron file.
</p>


<h3>Value</h3>

<p>list of encrypted elements (for <code>encrypt_vec</code>); vector of
decrypted elements (for <code>encrypt_vec</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>enc &lt;- encrypt_vec(c("foo", "bar"))
decrypt_vec(enc)

</code></pre>

<hr>
<h2 id='get_cookies'>Retrieve cookies from a jar</h2><span id='topic+get_cookies'></span>

<h3>Description</h3>

<p>Imagine you're reaching into a magical jar overflowing with those scrumptious
digital delights from websites you've visited. The flavour? Up to you! Just
select your desired output format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cookies(
  domain,
  key = "",
  jar = default_jar(),
  as = c("data.frame", "string", "vector"),
  fixed = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cookies_+3A_domain">domain</code></td>
<td>
<p>A character string of the domain to retrieve cookies for.
Accepts regular expression depending on the value of <code>fixed</code>.</p>
</td></tr>
<tr><td><code id="get_cookies_+3A_key">key</code></td>
<td>
<p>An optional filter to retrieve only certain cookies by matching
certain keys/names. Accepts regular expression depending on the value of
<code>fixed</code>.</p>
</td></tr>
<tr><td><code id="get_cookies_+3A_jar">jar</code></td>
<td>
<p>A character string of the path to the cookie jar (the default is
to use <code>default_jar()</code> to get a suitable directory).</p>
</td></tr>
<tr><td><code id="get_cookies_+3A_as">as</code></td>
<td>
<p>A character string of the type of output to return.</p>
</td></tr>
<tr><td><code id="get_cookies_+3A_fixed">fixed</code></td>
<td>
<p>If <code>TRUE</code>, <code>domain</code> and <code>key</code> are matched as is.
If either <code>domain</code> or <code>key</code>, only those values are treated as is.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function returns cookies in one of three formats:
</p>

<ul>
<li><p><strong>data.frame:</strong> is how cookies are stored internally and can be used for manual inspection.
</p>
</li>
<li><p><strong>string:</strong> is used by <code>curl</code> and <code>httr2</code>.
</p>
</li>
<li><p><strong>vector:</strong> is used by <code>httr</code>.
</p>
</li></ul>

<p>See <code>vignette("cookies", "cookiemonster")</code> for how to use cookies with
these packages.
</p>


<h3>Value</h3>

<p>Depending on the value of <code>as</code>, returns either a data frame, a
character string, or a named vector.
</p>


<h3>Note</h3>

<p>Your cookies are saved in an encrypted file. See <a href="#topic+encrypt_vec">encrypt_vec</a> for
more info.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_cookies">add_cookies</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># to conform with CRAN policies, examples use a temporary location. Do not use the options like this
options(cookie_dir = tempdir())

# put some cookies in the jar
add_cookies(cookiestring = "chococookie=delicious", domain = "example.com")
# Reach into your cookie jar and enjoy!
get_cookies("example.com")
# put different cookies into the jar (overwrites previous)
add_cookies(cookiestring = "oatmeal=delicious; peanutbutter=delicious", domain = "example.com")
add_cookies(cookiestring = "snickerdoodle=delicious", domain = "another.example.com")
# only get cookies for example.com, not another.example.com
get_cookies("^example.com")
# only get some cookies from example.com
get_cookies(domain = "^example.com", key = "peanut")
</code></pre>

<hr>
<h2 id='store_cookies'>Store cookies in a jar</h2><span id='topic+store_cookies'></span>

<h3>Description</h3>

<p>Store cookies in a jar
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store_cookies(cookies, jar = default_jar(), confirm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="store_cookies_+3A_cookies">cookies</code></td>
<td>
<p>A data frame of cookies</p>
</td></tr>
<tr><td><code id="store_cookies_+3A_jar">jar</code></td>
<td>
<p>The directory to store the cookies in. Defaults to
<code>default_jar()</code>.</p>
</td></tr>
<tr><td><code id="store_cookies_+3A_confirm">confirm</code></td>
<td>
<p>If <code>TRUE</code>, you confirm to write the cookie jar to disk
(if it does not exist yet) without seeing the interactive menu.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to save (encrypted) cookies on disk.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># to conform with CRAN policies, examples use a temporary location. Do not use
# the options like this, except you want your cookies gone when closing R.
options(cookie_dir = tempdir())

if (requireNamespace("curl", quietly = TRUE)) {
  # get cookies from a curl request
  library(curl)
  h &lt;- new_handle()
  resp &lt;- curl_fetch_memory("https://hb.cran.dev/cookies/set?new_cookies=moo", handle = h)
  cookies &lt;- handle_cookies(h)

  # then store them for future use
  store_cookies(cookies)

  # then you can retrieve them and use in future calls
  get_cookies("hb.cran.dev")
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

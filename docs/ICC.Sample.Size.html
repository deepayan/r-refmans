<!DOCTYPE html><html><head><title>Help for package ICC.Sample.Size</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ICC.Sample.Size}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ICC.Sample.Size-package'>
<p>Calculation of Sample Size and Power for ICC</p></a></li>
<li><a href='#calculateAchievablep0'>
<p>Function to calculate largest p0 that the data are powered to test</p></a></li>
<li><a href='#calculateIccPower'>
<p>Function to calculate post-hoc power for ICC studies</p></a></li>
<li><a href='#calculateIccSampleSize'>
<p>Function to calculate sample size required for studies where ICC is primary outcome.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-08-01</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculation of Sample Size and Power for ICC</td>
</tr>
<tr>
<td>Author:</td>
<td>Alasdair Rathbone [aut,cre], Saurabh Shaw [aut], Dinesh Kumbhare [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alasdair Rathbone &lt;alasdair.rathbone@gmail.com&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions to calculate the requisite sample size for studies where ICC is 
    the primary outcome. Can also be used for calculation of power. In both cases it
    allows the user to test the impact of changing input variables by calculating the outcome
    for several different values of input variables. Based off the work of Zou.
    Zou, G. Y. (2012). Sample size formulas for estimating intraclass correlation coefficients with
    precision and assurance. Statistics in medicine, 31(29), 3972-3981.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-09-02 12:48:14 UTC; alasdairrathbone</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-09-04 01:03:54</td>
</tr>
</table>
<hr>
<h2 id='ICC.Sample.Size-package'>
Calculation of Sample Size and Power for ICC
</h2><span id='topic+ICC.Sample.Size-package'></span><span id='topic+ICC.Sample.Size'></span>

<h3>Description</h3>

<p>Provides functions to calculate the requisite sample size for studies where ICC is the primary outcome. Can also be used for calculation of power. In both cases it allows the user to test the impact of changing input variables by calculating the outcome for several different values of input variables. Based off the work of Zou. Zou, G. Y. (2012). Sample size formulas for estimating intraclass correlation coefficients with precision and assurance. Statistics in medicine, 31(29), 3972-3981.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> ICC.Sample.Size</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2015-08-01</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>This package provides a sample size and power calculator for ICC based off those derived by Zou (Zou, G. Y. (2012). Sample size formulas for estimating intraclass correlation coefficients with precision and assurance. Statistics in medicine, 31(29), 3972-3981.) It contains the following functions:
</p>
<p><code>calculateIccSampleSize</code>:
Calculates a sample size for given values of p, the null hypothesis p0, number of raters (k), desired power and alpha. Can also generate sample sizes for different values of p, p0 or combinations of p and p0 from 0-1.
</p>
<p><code>ICC.power</code>:
Calculates power for given value of p, the null hypothesis p0, number of raters (k), number of comparisons (N) and alpha. Can also be used to calculate the effect of increasing N at given intervals to a maximum N, or to calculate the increase in sample size to obtain increasing power with a given maximum N. 
</p>
<p><code>ICC.achievable.p0</code>:
Calculates the largest possible null hypothesis that can be tests with given power and alpha for p, the null hypothesis p0, number of raters (k) and number of comparisons (N)
</p>


<h3>Author(s)</h3>

<p>Alasdair Rathbone, Saurabh Shaw, Dinesh Kumbhare
</p>
<p>Maintainer: Alasdair Rathbone &lt;alasdair.rathbone@gmail.com&gt;
</p>


<h3>References</h3>

<p>Zou, G. Y. (2012). Sample size formulas for estimating intraclass correlation coefficients with precision and assurance. Statistics in medicine, 31(29), 3972-3981.
</p>

<hr>
<h2 id='calculateAchievablep0'>
Function to calculate largest p0 that the data are powered to test
</h2><span id='topic+calculateAchievablep0'></span>

<h3>Description</h3>

<p>This function when given the parameters of a study to measure an ICC calculates what is the largest p0 that can be tested for at the specified power, alpha and number of tails.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateAchievablep0(p,k,alpha,tails,power,N)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculateAchievablep0_+3A_p">p</code></td>
<td>

<p>The intraclass correlation coefficient obtained in the study. No default.
</p>
</td></tr>
<tr><td><code id="calculateAchievablep0_+3A_k">k</code></td>
<td>

<p>The number of ratings of each subject. If missing default is 2.
</p>
</td></tr>
<tr><td><code id="calculateAchievablep0_+3A_alpha">alpha</code></td>
<td>

<p>The desired alpha for hypothesis testing. If missing default is 0.05.
</p>
</td></tr>
<tr><td><code id="calculateAchievablep0_+3A_tails">tails</code></td>
<td>

<p>The number of trails for hypothesis test. If missing default is 2.
</p>
</td></tr>
<tr><td><code id="calculateAchievablep0_+3A_power">power</code></td>
<td>

<p>The desired power of the hypothesis test. If missing default is 0.80.
</p>
</td></tr>
<tr><td><code id="calculateAchievablep0_+3A_n">N</code></td>
<td>

<p>The number of subjects in the study. No default
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following items:
</p>
<table>
<tr><td><code>resultFrame</code></td>
<td>

<p>A data frame consisting of columns p0,N,p,k,alpha,tails and power.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alasdair Rathbone, Saurabh Shaw, Dinesh Kumbhare
</p>
<p>Maintainer: Alasdair Rathbone &lt;alasdair.rathbone@gmail.com&gt;
</p>


<h3>References</h3>

<p>Zou, G. Y. (2012). Sample size formulas for estimating intraclass correlation coefficients with precision and assurance. Statistics in medicine, 31(29), 3972-3981.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Calculate achieveable p0 for a given study with p=0.80,k=2,alpha=0.05,tails=2,power=0.80,N=30
calculateAchievablep0(p=0.80,k=2,alpha=0.05,tails=2,power=0.80,N=30)
</code></pre>

<hr>
<h2 id='calculateIccPower'>
Function to calculate post-hoc power for ICC studies
</h2><span id='topic+calculateIccPower'></span>

<h3>Description</h3>

<p>Calculates a post-hoc power for an ICC study. Given the study parameters can also demonstrate the additional power gained by increasing number of subjects or the number of subjects needed to be added to increase power. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateIccPower(p,p0,k,alpha,tails,N,by,desiredPower,maxN,step)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculateIccPower_+3A_p">p</code></td>
<td>

<p>The intraclass correlation coefficient obtained in the study. No default.
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_p0">p0</code></td>
<td>

<p>The null hypothesis value of p. If missing default is 0.
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_k">k</code></td>
<td>

<p>The number of ratings of each subject. If missing default is 2.
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_alpha">alpha</code></td>
<td>

<p>The desired alpha for hypothesis testing. If missing default is 0.05.
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_tails">tails</code></td>
<td>

<p>The number of trails for hypothesis test. If missing default is 2.
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_n">N</code></td>
<td>

<p>The number of subjects in the study. No default
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_by">by</code></td>
<td>

<p>Can be used to calculate sample sizes for varied p and/or p0.
</p>
<p>If <code>by=""</code> Only the post-hoc power will be calculated.
</p>
<p>If <code>by="N"</code> Increases N by step and calculates new power for each larger N until either maximum N or desired power is reached.
</p>
<p>If <code>by="power"</code> Increase power by step and calculates requisite sample size for each larger power until either maximum N or desired power is reached.
</p>
<p>If missing, default is <code>""</code>. 
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_desiredpower">desiredPower</code></td>
<td>

<p>The desired power of the study. If calculated desired power is reached then function will cease to increase N or power by steps and return result. If missing default is 0.80.
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_maxn">maxN</code></td>
<td>

<p>The maximum N to increase sample size to when testing the effect on increasing sample size on power or the requisite increase in sample size for increasing power. If maxN is reached then function will cease to increase N or power by steps and return result. If missing default is 10 times the N of the study.
</p>
</td></tr>
<tr><td><code id="calculateIccPower_+3A_step">step</code></td>
<td>

<p>When the function varies N or power it calculates power or sample size respectively for N or power, then for 0+<code>step*(i-1)</code> where <code>i</code> is the number of repeats, until MaxN or desired power is reached.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following items:
</p>
<table>
<tr><td><code>parameters</code></td>
<td>

<p>Dataframe with columns p,p0,k,alpha,tails,N,power.
</p>
</td></tr>
<tr><td><code>NPower</code></td>
<td>

<p>Dataframe with a list of N's and powers calculated. Provided when by=&quot;N&quot; or by&quot;power&quot;.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alasdair Rathbone, Saurabh Shaw, Dinesh Kumbhare
</p>
<p>Maintainer: Alasdair Rathbone &lt;alasdair.rathbone@gmail.com&gt;
</p>


<h3>References</h3>

<p>Zou, G. Y. (2012). Sample size formulas for estimating intraclass correlation coefficients with precision and assurance. Statistics in medicine, 31(29), 3972-3981.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Calculate post-hoc power for p=0.80, p0=0.60, k=2, alpha=0.05, tails=2 and N of 30.
calculateIccPower(p=0.80,p0=0.60,k=2,alpha=0.05,tails=2,N=30)
##Calculate post-hoc power for p=0.80, p0=0.60, k=2, alpha=0.05, tails=2 and N of 30.
##Test effect on power of increasing sample size in steps of 1 up until a maximum of 50
##with a desired power of 0.80.
calculateIccPower(p=0.80,p0=0.60,k=2,alpha=0.05,tails=2,N=30, by="N",desiredPower=0.80,maxN=50)
##alculate post-hoc power for p=0.80, p0=0.60, k=2, alpha=0.05, tails=2 and N of 30.
##Calculate the sample size need to increase power by
##steps of 0.05 up until a maximum sample size of 50 with a desired power of 0.80.
calculateIccPower(p=0.80,p0=0.60,k=2,alpha=0.05,tails=2,N=30, by="power",desiredPower=0.80,maxN=50)
</code></pre>

<hr>
<h2 id='calculateIccSampleSize'>
Function to calculate sample size required for studies where ICC is primary outcome.
</h2><span id='topic+calculateIccSampleSize'></span>

<h3>Description</h3>

<p>Calculates a sample size for given values of p, the null hypothesis p0, number of ratings (k), desired power and alpha. Can also generate sample sizes for different values of p, p0 or combinations of p and p0 from 0-1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateIccSampleSize(p,p0,k,alpha,tails,power,by,step)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculateIccSampleSize_+3A_p">p</code></td>
<td>

<p>The hypothesized value of p. Hypothesized based on previous data, or experience. If missing default is 0.
</p>
</td></tr>
<tr><td><code id="calculateIccSampleSize_+3A_p0">p0</code></td>
<td>

<p>The null hypothesis value of p. If missing default is 0.
</p>
</td></tr>
<tr><td><code id="calculateIccSampleSize_+3A_k">k</code></td>
<td>

<p>The number of ratings of each subject. If missing default is 2.
</p>
</td></tr>
<tr><td><code id="calculateIccSampleSize_+3A_alpha">alpha</code></td>
<td>

<p>The desired alpha for hypothesis testing. If missing default is 0.05.
</p>
</td></tr>
<tr><td><code id="calculateIccSampleSize_+3A_tails">tails</code></td>
<td>

<p>The number of trails for hypothesis test. If missing default is 2.
</p>
</td></tr>
<tr><td><code id="calculateIccSampleSize_+3A_power">power</code></td>
<td>

<p>The desired power of the hypothesis test. If missing default is 0.80.
</p>
</td></tr>
<tr><td><code id="calculateIccSampleSize_+3A_by">by</code></td>
<td>

<p>Can be used to calculate sample sizes for varied p and/or p0.
</p>
<p>If <code>by=""</code> Only the sample size for the specified p and p0 will be calculated.
</p>
<p>If <code>by="p"</code> Calculates sample sizes for all p starting from 0, increasing by <code>step</code> until 1.
</p>
<p>If <code>by="p0"</code> Calculates sample sizes for all p0 starting from 0, increasing by <code>step</code> until 1.
</p>
<p>If <code>by="both"</code> Calculates sample sizes for all combinations of p and p0 starting each from 0, increasing by <code>step</code> until 1. Row labels are p and column labels are p0.
</p>
<p>If missing, default is <code>""</code>. 
</p>
</td></tr>
<tr><td><code id="calculateIccSampleSize_+3A_step">step</code></td>
<td>

<p>When the function varies p or p0 it calculates sample size for 0, then for 0+<code>step*(i-1)</code> where <code>i</code> is the number of repeats, until <code>p=1</code>
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with the following items:
</p>
<table>
<tr><td><code>resultdf</code></td>
<td>

<p>Data frame with columns N, p, p0, k, alpha, tails, and power.
</p>
</td></tr>
<tr><td><code>sampleSize</code></td>
<td>

<p>For <code>by="p"</code> or <code>by="p0"</code> is a data frame with columns of p or p0 respectively and N.
</p>
</td></tr>
<tr><td><code>nDataframe</code></td>
<td>

<p>For <code>by="both"</code> is a data frame with rows defined by p and columns defined by p0 representing values of N for each combination.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Alasdair Rathbone, Saurabh Shaw, Dinesh Kumbhare
</p>
<p>Maintainer: Alasdair Rathbone &lt;alasdair.rathbone@gmail.com&gt;
</p>


<h3>References</h3>

  
<p>Zou, G. Y. (2012). Sample size formulas for estimating intraclass correlation coefficients with precision and assurance. Statistics in medicine, 31(29), 3972-3981.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Calculate Sample Size for p=0.80, p0=0.60, two ratings, alpha=0.05 with two tails and power=0.80.
calculateIccSampleSize(p=0.80,p0=0.60,k=2,alpha=0.05,tails=2,power=0.80)
## Calculate Sample Size as above, but test varying p from 0 to 1 by steps of 0.05
calculateIccSampleSize(p=0.80,p0=0.60,k=2,alpha=0.05,tails=2,power=0.80,by="p",step=0.05)
## Calculate Sample Size as above, but test varying p0 from 0 to 1 by steps of 0.05
calculateIccSampleSize(p=0.80,p0=0.60,k=2,alpha=0.05,tails=2,power=0.80,by="p0",step=0.05)
## Calculate Sample Size as above, but test varying both p and p0 from 0 to 1 by steps of 0.05
calculateIccSampleSize(p=0.80,p0=0.60,k=2,alpha=0.05,tails=2,power=0.80,by="both",step=0.05)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

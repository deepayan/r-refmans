<!DOCTYPE html><html lang="en-GB"><head><title>Help for package video</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {video}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addVideoLanguages'><p>Add Language Support</p></a></li>
<li><a href='#guessVideoFormat'><p>Guess Video Format Type</p></a></li>
<li><a href='#includeTextTracks'><p>Add Text Tracks to Video</p></a></li>
<li><a href='#runVideoExample'><p>Run <code>{video}</code> Example Applications</p></a></li>
<li><a href='#video'><p>Video Player</p></a></li>
<li><a href='#video-server'><p>Update video.js Server-Side</p></a></li>
<li><a href='#video-shiny'><p>Shiny bindings for video</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'Shiny' Extension of 'video.js'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Video interactivity within 'shiny' applications using 'video.js'. Enables
    the status of the video to be sent from the UI to the server, and allows events
    such as playing and pausing the video to be triggered from the server.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ashbaldry/video">https://github.com/ashbaldry/video</a>,
<a href="https://github.com/videojs/video.js">https://github.com/videojs/video.js</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ashbaldry/video/issues">https://github.com/ashbaldry/video/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny, htmlwidgets, jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr, shinytest2, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-02 19:04:09 UTC; arbal</td>
</tr>
<tr>
<td>Author:</td>
<td>Ashley Baldry [aut, cre],
  Steve Heffernan [aut] (Creator of video.js)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ashley Baldry &lt;arbaldry91@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-02 19:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addVideoLanguages'>Add Language Support</h2><span id='topic+addVideoLanguages'></span><span id='topic+availableLanguages'></span>

<h3>Description</h3>

<p>Enabling languages (other than English) to appear as tooltips and other buttons in video.js widgets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addVideoLanguages(video, languages)

availableLanguages()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addVideoLanguages_+3A_video">video</code></td>
<td>
<p>A <code><a href="#topic+video">video</a></code></p>
</td></tr>
<tr><td><code id="addVideoLanguages_+3A_languages">languages</code></td>
<td>
<p>A character vector of languages to support in the video.
See <code>availableVideoLanguages()</code> for a full list</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If any languages are missing, you can add a separate script in the head of the application
that will apply the language to all videos. See <a href="https://videojs.com/guides/languages/">https://videojs.com/guides/languages/</a>
for more details
</p>


<h3>Value</h3>

<p>An updated <code>video</code> with extra language support
</p>


<h3>Examples</h3>

<pre><code class='language-R'>video &lt;- video("https://vjs.zencdn.net/v/oceans.mp4")
video &lt;- addVideoLanguages(video, c("es", "fr", "de"))

if (interactive()) {
  library(shiny)

  ui &lt;- fluidPage(lang = "fr", video)
  server &lt;- function(input, output) {}
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='guessVideoFormat'>Guess Video Format Type</h2><span id='topic+guessVideoFormat'></span>

<h3>Description</h3>

<p>If no type is provided when generating a video.js video, then the format needs to
be guessed. Included in the package is a dataset of the default type of each
video. This will give the default type of each file provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guessVideoFormat(files)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guessVideoFormat_+3A_files">files</code></td>
<td>
<p>A vector of URL paths (relative or absolute) to videos</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector the same length as <code>files</code> of the video types.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>guessVideoFormat("video.mp4")

</code></pre>

<hr>
<h2 id='includeTextTracks'>Add Text Tracks to Video</h2><span id='topic+includeTextTracks'></span>

<h3>Description</h3>

<p>video.js contains the ability to include tracks with the video, including subtitles,
captions and descriptions. <code>includeTextTracks</code> will make sure that they are
included on load, and find the defaults to embed with the video.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>includeTextTracks(
  video,
  files,
  language = "en",
  label = "English",
  kind = "subtitles",
  default = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="includeTextTracks_+3A_video">video</code></td>
<td>
<p>A <code><a href="#topic+video">video</a>()</code></p>
</td></tr>
<tr><td><code id="includeTextTracks_+3A_files">files</code></td>
<td>
<p>A vector of WebVTT files that contain &quot;cues&quot; of when text should appear,
hide and what text to display</p>
</td></tr>
<tr><td><code id="includeTextTracks_+3A_language">language</code></td>
<td>
<p>The valid BCP 47 code for the language of the text track,
e.g. &quot;en&quot; for English or &quot;es&quot; for Spanish.</p>
</td></tr>
<tr><td><code id="includeTextTracks_+3A_label">label</code></td>
<td>
<p>Short descriptive text for the track that will used in the user interface.
For example, in a menu for selecting a captions language.</p>
</td></tr>
<tr><td><code id="includeTextTracks_+3A_kind">kind</code></td>
<td>
<p>An optional vector to match the type of text tracks in <code>files</code>:
</p>

<dl>
<dt>subtitles</dt><dd><p>(default): Translations of the dialogue in the video for when audio is
available but not understood. Subtitles are shown over the video.</p>
</dd>
<dt>captions</dt><dd><p>Transcription of the dialogue, sound effects, musical cues, and other
audio information for viewer who are deaf/hard of hearing, or the video is muted.
Captions are also shown over the video.</p>
</dd>
<dt>chapters</dt><dd><p>Chapter titles that are used to create navigation within the video.
Typically, these are in the form of a list of chapters that the viewer can use to
navigate the video.</p>
</dd>
<dt>descriptions</dt><dd><p>Text descriptions of the action in the content for when the video portion
isn't available or because the viewer is blind or not using a screen. Descriptions are
read by a screen reader or turned into a separate audio track.</p>
</dd>
<dt>metadata</dt><dd><p>Tracks that have data meant for JavaScript to parse and do something with.
These aren't shown to the user.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="includeTextTracks_+3A_default">default</code></td>
<td>
<p>The boolean <code>default</code> attribute can be used to indicate that a track's
mode should start as &quot;showing&quot;. Otherwise, the viewer would need to select their language
from a captions or subtitles menu.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All vectors must either be the same length as <code>files</code> or of length 1. In the latter,
they will be applied to all <code>files</code> supplied.
</p>


<h3>Value</h3>

<p>An updated <code>video</code> with text tracks included
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vid &lt;- video("https://vjs.zencdn.net/v/oceans.mp4")
includeTextTracks(vid, "url/to/subtitles.vtt")

</code></pre>

<hr>
<h2 id='runVideoExample'>Run <code>{video}</code> Example Applications</h2><span id='topic+runVideoExample'></span><span id='topic+availableVideoExamples'></span>

<h3>Description</h3>

<p>Run <code>{video}</code> Example Applications
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runVideoExample(example = "basic", display.mode = "showcase", ...)

availableVideoExamples()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="runVideoExample_+3A_example">example</code></td>
<td>
<p>Name of the example to load. Current examples include:
</p>

<dl>
<dt>basic</dt><dd><p>Basic example of <code>video</code> in use</p>
</dd>
<dt>full</dt><dd><p>Basic example of using all buttons available in <code>video</code></p>
</dd>
<dt>server</dt><dd><p>Example showing server-side functionality</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="runVideoExample_+3A_display.mode">display.mode</code></td>
<td>
<p>The mode in which to display the application. By default set to <code>"showcase"</code> to show
code behind the example.</p>
</td></tr>
<tr><td><code id="runVideoExample_+3A_...">...</code></td>
<td>
<p>Optional arguments to send to <code>shiny::runApp</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value; interrupt R to stop the application (usually by pressing Ctrl+C or Esc).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>availableVideoExamples()

if (interactive()) {
  library(shiny)
  library(video)

  runVideoExample("server")
}

</code></pre>

<hr>
<h2 id='video'>Video Player</h2><span id='topic+video'></span>

<h3>Description</h3>

<p>A video player that can be embedded in HTML pages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>video(
  files,
  format = NULL,
  options = list(),
  seek_ping_rate = 1000,
  width = NULL,
  height = NULL,
  elementId = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="video_+3A_files">files</code></td>
<td>
<p>A vector of file paths or URLs pointing</p>
</td></tr>
<tr><td><code id="video_+3A_format">format</code></td>
<td>
<p>An optional list of formats of <code>video</code></p>
</td></tr>
<tr><td><code id="video_+3A_options">options</code></td>
<td>
<p>A named list of options to apply to the video. List of available options
available in Details</p>
</td></tr>
<tr><td><code id="video_+3A_seek_ping_rate">seek_ping_rate</code></td>
<td>
<p>Number of milliseconds between each update of 'input${id}_seek' while playing. Default is
set to 1000. If set to 0, then 'input${id}_seek' will not exist.</p>
</td></tr>
<tr><td><code id="video_+3A_width">width</code>, <code id="video_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended. Use <code>NA</code> for it to use
the original video width/height.</p>
</td></tr>
<tr><td><code id="video_+3A_elementid">elementId</code></td>
<td>
<p>HTML id tag to be given to the video player element</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Here are some more common options to implement:
</p>

<dl>
<dt>autoplay</dt><dd>
<p>Whether or not the video will autoplay on load. NOTE: There is not a guarantee autoplay will work in the browser.
</p>

<dl>
<dt><code>FALSE</code></dt><dd><p>Default: Video won't autoplay</p>
</dd>
<dt><code>TRUE</code></dt><dd><p>Video will use browser's autoplay</p>
</dd>
<dt><code>"muted"</code></dt><dd><p>Will mute the video and then manually call <code>play()</code> on <code>loadstart()</code>. Likely to work on browsers</p>
</dd>
<dt><code>"play"</code></dt><dd><p>Will call <code>play()</code> on <code>loadstart()</code>, similar to browser autoplay</p>
</dd>
</dl>

</dd>
<dt>controls</dt><dd>
<p>Determines whether or not the player has controls that the user can interact with. By default
<code>video</code> will include controls even if not specified in the options.
</p>
</dd>
<dt>poster</dt><dd>
<p>A URL to an image that displays before the video begins playing.
This is often a frame of the video or a custom title screen.
</p>
</dd>
</dl>

<p>For a full list of available options check out <a href="https://videojs.com/guides/options/">https://videojs.com/guides/options/</a>
</p>


<h3>Value</h3>

<p>A shiny.tag containing all of the required options for a <code>videojs</code> JS object to be initialised in a shiny application.
</p>
<p>On the server side there will be up to four additional objects available as inputs:
</p>

<dl>
<dt><code>{id}_playing</code></dt><dd><p>A logical value as to whether or not the <code>video</code> is playing audio</p>
</dd>
<dt><code>{id}_seek</code></dt><dd><p>(If <code>seek_ping_rate &gt; 0</code>) the current time of the track loaded</p>
</dd>
<dt><code>{id}_duration</code></dt><dd><p>The duration of the track loaded</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  ui &lt;- fluidPage(
    title = "howler.js Player",
    video("https://vjs.zencdn.net/v/oceans.mp4")
  )

  server &lt;- function(input, output) {
  }

  runShiny(ui, server)
}

</code></pre>

<hr>
<h2 id='video-server'>Update video.js Server-Side</h2><span id='topic+video-server'></span><span id='topic+playVideo'></span><span id='topic+pauseVideo'></span><span id='topic+stopVideo'></span><span id='topic+seekVideo'></span><span id='topic+changeVideo'></span><span id='topic+updatePlaybackRate'></span>

<h3>Description</h3>

<p>Change the state of the video player from the server.
</p>
<p><code>playVideo</code>, <code>pauseVideo</code> and <code>stopVideo</code> will all be applied to the current video.
</p>
<p><code>changeVideo</code> will update the track to the URL or file specified.
</p>
<p><code>updatePlaybackRate</code> will change how fast the video is playing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>playVideo(id, session = getDefaultReactiveDomain())

pauseVideo(id, session = getDefaultReactiveDomain())

stopVideo(id, session = getDefaultReactiveDomain())

seekVideo(id, seek, session = getDefaultReactiveDomain())

changeVideo(id, files, format = NULL, session = getDefaultReactiveDomain())

updatePlaybackRate(id, playrate = 1, session = getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="video-server_+3A_id">id</code></td>
<td>
<p>ID of the <code>video</code> to update</p>
</td></tr>
<tr><td><code id="video-server_+3A_session">session</code></td>
<td>
<p>Shiny session</p>
</td></tr>
<tr><td><code id="video-server_+3A_seek">seek</code></td>
<td>
<p>Time (in seconds) to set the position of the track</p>
</td></tr>
<tr><td><code id="video-server_+3A_files">files</code></td>
<td>
<p>A vector of file paths or URLs pointing</p>
</td></tr>
<tr><td><code id="video-server_+3A_format">format</code></td>
<td>
<p>An optional list of formats of <code>video</code></p>
</td></tr>
<tr><td><code id="video-server_+3A_playrate">playrate</code></td>
<td>
<p>Speed of playback of the video. Default is set to 1 (normal speed)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updates the the state of the specified <code>video</code> in the shiny application.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  ui &lt;- fluidPage(
    title = "howler.js Player",
    video(
      "https://vjs.zencdn.net/v/oceans.mp4",
      elementId = "video"
     ),
    actionButton("pause", "Pause Video")
  )

  server &lt;- function(input, output) {
    observeEvent(input$pause, pauseVideo("video"))
  }

  runShiny(ui, server)
}

</code></pre>

<hr>
<h2 id='video-shiny'>Shiny bindings for video</h2><span id='topic+video-shiny'></span><span id='topic+videoOutput'></span><span id='topic+renderVideo'></span>

<h3>Description</h3>

<p>Output and render functions for using video within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>videoOutput(outputId, width = "100%", height = "400px")

renderVideo(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="video-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="video-shiny_+3A_width">width</code>, <code id="video-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="video-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a video</p>
</td></tr>
<tr><td><code id="video-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="video-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An output or render function that enables the use of the widget within Shiny applications.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

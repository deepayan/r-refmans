<!DOCTYPE html><html><head><title>Help for package PatientProfiles</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PatientProfiles}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PatientProfiles-package'><p>PatientProfiles: Identify Characteristics of Patients in the OMOP Common Data Model</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#addAge'><p>Compute the age of the individuals at a certain date</p></a></li>
<li><a href='#addCategories'><p>Categorize a numeric variable</p></a></li>
<li><a href='#addCdmName'><p>Add cdm name</p></a></li>
<li><a href='#addCohortIntersect'><p>Compute the intersect with a target cohort, you can compute the number of</p>
occurrences, a flag of presence, a certain date and/or the time difference</a></li>
<li><a href='#addCohortIntersectCount'><p>It creates columns to indicate number of occurrences of intersection with a</p>
cohort</a></li>
<li><a href='#addCohortIntersectDate'><p>Date of cohorts that are present in a certain window</p></a></li>
<li><a href='#addCohortIntersectDays'><p>It creates columns to indicate the number of days between the current table</p>
and a target cohort</a></li>
<li><a href='#addCohortIntersectFlag'><p>It creates columns to indicate the presence of cohorts</p></a></li>
<li><a href='#addCohortName'><p>Add cohort name for each cohort_definition_id</p></a></li>
<li><a href='#addConceptIntersect'><p>It creates columns to indicate overlap information between a table and a</p>
concept</a></li>
<li><a href='#addConceptIntersectCount'><p>It creates column to indicate the count overlap information between a table</p>
and a concept</a></li>
<li><a href='#addConceptIntersectDate'><p>It creates column to indicate the date overlap information between a table</p>
and a concept</a></li>
<li><a href='#addConceptIntersectDays'><p>It creates column to indicate the days of difference from an index date to a</p>
concept</a></li>
<li><a href='#addConceptIntersectFlag'><p>It creates column to indicate the flag overlap information between a table</p>
and a concept</a></li>
<li><a href='#addDateOfBirth'><p>Add a column with the individual birth date</p></a></li>
<li><a href='#addDemographics'><p>Compute demographic characteristics at a certain date</p></a></li>
<li><a href='#addFutureObservation'><p>Compute the number of days till the end of the observation period at a</p>
certain date</a></li>
<li><a href='#addInObservation'><p>Indicate if a certain record is within the observation period</p></a></li>
<li><a href='#addIntersect'><p>It creates columns to indicate overlap information between two tables</p>
'r lifecycle::badge(&quot;deprecated&quot;)'</a></li>
<li><a href='#addLargeScaleCharacteristics'><p>This function is used to add columns with the large scale characteristics of</p>
a cohort table.</a></li>
<li><a href='#addPriorObservation'><p>Compute the number of days of prior observation in the current observation period</p>
at a certain date</a></li>
<li><a href='#addSex'><p>Compute the sex of the individuals</p></a></li>
<li><a href='#addTableIntersect'><p>Compute the intersect with an omop table, you can compute the number of</p>
occurrences, a flag of presence, a certain date, the time difference and/or
obtain a certain column.</a></li>
<li><a href='#addTableIntersectCount'><p>Compute number of intersect with an omop table.</p></a></li>
<li><a href='#addTableIntersectDate'><p>Compute date of intersect with an omop table.</p></a></li>
<li><a href='#addTableIntersectDays'><p>Compute time to intersect with an omop table.</p></a></li>
<li><a href='#addTableIntersectField'><p>Intersecting the cohort with columns of an OMOP table of user's choice.</p>
It will add an extra column to the cohort, indicating the intersected
entries with the target columns in a window of the user's choice.</a></li>
<li><a href='#addTableIntersectFlag'><p>Compute a flag intersect with an omop table.</p></a></li>
<li><a href='#assertNameStyle'><p>Assert whether a nameStyle contains the needed information.</p></a></li>
<li><a href='#availableEstimates'><p>Show the available estimates that can be used for the different variable_type</p>
supported.</a></li>
<li><a href='#availableFunctions'><p>Show the available functions for the 4 classifications of data that are</p>
supported (numeric, date, binary and categorical)</a></li>
<li><a href='#endDateColumn'><p>Get the name of the end date column for a certain table in the cdm</p></a></li>
<li><a href='#formatCharacteristics'><p>Format a summarised_characteristics object into a visual table.</p></a></li>
<li><a href='#gtCharacteristics'><p>Create a gt table from a summarisedCharacteristics object.</p></a></li>
<li><a href='#gtResult'><p>Create a gt table from a summary object.</p></a></li>
<li><a href='#mockPatientProfiles'><p>It creates a mock database for testing PatientProfiles package</p></a></li>
<li><a href='#optionsTableCharacteristics'><p>Additional arguments for the function tableCharacteristics.</p></a></li>
<li><a href='#optionsTableCohortOverlap'><p>Additional arguments for the function tableCohortOverlap.</p></a></li>
<li><a href='#optionsTableCohortTiming'><p>Additional arguments for the function tableCohortTiming.</p></a></li>
<li><a href='#plotCharacteristics'><p>Create a ggplot from the output of summariseCharacteristics.</p>
'r lifecycle::badge(&quot;experimental&quot;)'</a></li>
<li><a href='#plotCohortIntersect'><p>Plot summariseCohortIntersect output.</p></a></li>
<li><a href='#plotCohortOverlap'><p>Plot the result of summariseCohortOverlap.</p></a></li>
<li><a href='#plotCohortTiming'><p>Plot summariseCohortTiming results.</p></a></li>
<li><a href='#plotDemographics'><p>Plot summariseDemographics output.</p></a></li>
<li><a href='#plotLargeScaleCharacteristics'><p>create a ggplot from the output of summariseLargeScaleCharacteristics.</p></a></li>
<li><a href='#plotTableIntersect'><p>Plot summariseTableIntersect output.</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#sourceConceptIdColumn'><p>Get the name of the source concept_id column for a certain table in the cdm</p></a></li>
<li><a href='#standardConceptIdColumn'><p>Get the name of the standard concept_id column for a certain table in the cdm</p></a></li>
<li><a href='#startDateColumn'><p>Get the name of the start date column for a certain table in the cdm</p></a></li>
<li><a href='#summariseCharacteristics'><p>Summarise characteristics of individuals</p></a></li>
<li><a href='#summariseCohortIntersect'><p>Summarise cohort intersection information</p></a></li>
<li><a href='#summariseCohortOverlap'><p>Summarise cohort overlap</p></a></li>
<li><a href='#summariseCohortTiming'><p>Summarise cohort timing</p></a></li>
<li><a href='#summariseConceptIntersect'><p>Summarise concept intersect with a cohort_table</p></a></li>
<li><a href='#summariseDemographics'><p>Summarise demographics of individuals</p></a></li>
<li><a href='#summariseLargeScaleCharacteristics'><p>This function is used to summarise the large scale characteristics of a</p>
cohort table</a></li>
<li><a href='#summariseResult'><p>Summarise variables using a set of estimate functions. The output will be</p>
a formatted summarised_result object.</a></li>
<li><a href='#summariseTableIntersect'><p>Summarise table intersection information</p></a></li>
<li><a href='#tableCharacteristics'><p>Format a summarised_characteristics object into a visual table.</p></a></li>
<li><a href='#tableCohortIntersect'><p>Format a summariseCohortIntersect result into a visual table.</p></a></li>
<li><a href='#tableCohortOverlap'><p>Format a summariseOverlapCohort result into a visual table.</p></a></li>
<li><a href='#tableCohortTiming'><p>Format a summariseCohortTiming result into a visual table.</p></a></li>
<li><a href='#tableDemographics'><p>Format a summariseDemographics result into a visual table.</p></a></li>
<li><a href='#tableLargeScaleCharacteristics'><p>Format a summarised_large_scale_characteristics object into a visual table.</p></a></li>
<li><a href='#tableTableIntersect'><p>Format a summariseTableIntersect result into a visual table.</p></a></li>
<li><a href='#variableTypes'><p>Classify the variables between 5 types: &quot;numeric&quot;, &quot;categorical&quot;, &quot;binary&quot;,</p>
&quot;date&quot;, or NA.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Identify Characteristics of Patients in the OMOP Common Data
Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marti Catala &lt;marti.catalasabate@ndorms.ox.ac.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Identify the characteristics of patients in data mapped to the Observational Medical Outcomes Partnership (OMOP) common data model.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, duckdb (&ge; 0.9.0), testthat (&ge; 3.1.5), knitr,
CodelistGenerator, rmarkdown, glue, odbc, ggplot2, spelling,
RPostgres, dbplyr, PaRe, here, magick, plotly, ggraph, DT,
cowplot, DiagrammeRsvg, DBI, gt, flextable, ggpubr, tictoc,
withr</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, CDMConnector (&ge; 1.3.0), dplyr, tidyr, checkmate,
lubridate, rlang, cli, stringr, omopgenerics (&ge; 0.1.2),
visOmopResults (&ge; 0.2.0), lifecycle, purrr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://darwin-eu-dev.github.io/PatientProfiles/">https://darwin-eu-dev.github.io/PatientProfiles/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/darwin-eu-dev/PatientProfiles/issues">https://github.com/darwin-eu-dev/PatientProfiles/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-28 18:39:32 UTC; martics</td>
</tr>
<tr>
<td>Author:</td>
<td>Marti Catala <a href="https://orcid.org/0000-0003-3308-9905"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Yuchen Guo <a href="https://orcid.org/0000-0002-0847-4855"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Mike Du <a href="https://orcid.org/0000-0002-9517-8834"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Kim Lopez-Guell <a href="https://orcid.org/0000-0002-8462-8668"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Edward Burn <a href="https://orcid.org/0000-0002-9286-1128"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Nuria Mercade-Besora
    <a href="https://orcid.org/0009-0006-7948-3747"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Xintong Li <a href="https://orcid.org/0000-0002-6872-5804"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-28 19:20:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='PatientProfiles-package'>PatientProfiles: Identify Characteristics of Patients in the OMOP Common Data Model</h2><span id='topic+PatientProfiles'></span><span id='topic+PatientProfiles-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Identify the characteristics of patients in data mapped to the Observational Medical Outcomes Partnership (OMOP) common data model.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Marti Catala <a href="mailto:marti.catalasabate@ndorms.ox.ac.uk">marti.catalasabate@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-3308-9905">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Yuchen Guo <a href="mailto:yuchen.guo@ndorms.ox.ac.uk">yuchen.guo@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-0847-4855">ORCID</a>)
</p>
</li>
<li><p> Mike Du <a href="mailto:mike.du@ndorms.ox.ac.uk">mike.du@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9517-8834">ORCID</a>)
</p>
</li>
<li><p> Kim Lopez-Guell <a href="mailto:kim.lopez@spc.ox.ac.uk">kim.lopez@spc.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-8462-8668">ORCID</a>)
</p>
</li>
<li><p> Edward Burn <a href="mailto:edward.burn@ndorms.ox.ac.uk">edward.burn@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9286-1128">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Nuria Mercade-Besora <a href="mailto:nuria.mercadebesora@ndorms.ox.ac.uk">nuria.mercadebesora@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0009-0006-7948-3747">ORCID</a>) [contributor]
</p>
</li>
<li><p> Xintong Li <a href="mailto:xintong.li@ndorms.ox.ac.uk">xintong.li@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-6872-5804">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://darwin-eu-dev.github.io/PatientProfiles/">https://darwin-eu-dev.github.io/PatientProfiles/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/darwin-eu-dev/PatientProfiles/issues">https://github.com/darwin-eu-dev/PatientProfiles/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='addAge'>Compute the age of the individuals at a certain date</h2><span id='topic+addAge'></span>

<h3>Description</h3>

<p>Compute the age of the individuals at a certain date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addAge(
  x,
  cdm = lifecycle::deprecated(),
  indexDate = "cohort_start_date",
  ageName = "age",
  ageGroup = NULL,
  ageDefaultMonth = 1,
  ageDefaultDay = 1,
  ageImposeMonth = FALSE,
  ageImposeDay = FALSE,
  missingAgeGroupValue = "None"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addAge_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addAge_+3A_cdm">cdm</code></td>
<td>
<p>A cdm_reference object.</p>
</td></tr>
<tr><td><code id="addAge_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the age.</p>
</td></tr>
<tr><td><code id="addAge_+3A_agename">ageName</code></td>
<td>
<p>Name of the new column that contains age.</p>
</td></tr>
<tr><td><code id="addAge_+3A_agegroup">ageGroup</code></td>
<td>
<p>List of age groups to be added.</p>
</td></tr>
<tr><td><code id="addAge_+3A_agedefaultmonth">ageDefaultMonth</code></td>
<td>
<p>Month of the year assigned to individuals with missing
month of birth. By default: 1.</p>
</td></tr>
<tr><td><code id="addAge_+3A_agedefaultday">ageDefaultDay</code></td>
<td>
<p>day of the month assigned to individuals with missing
day of birth. By default: 1.</p>
</td></tr>
<tr><td><code id="addAge_+3A_ageimposemonth">ageImposeMonth</code></td>
<td>
<p>Whether the month of the date of birth will be
considered as missing for all the individuals.</p>
</td></tr>
<tr><td><code id="addAge_+3A_ageimposeday">ageImposeDay</code></td>
<td>
<p>Whether the day of the date of birth will be considered
as missing for all the individuals.</p>
</td></tr>
<tr><td><code id="addAge_+3A_missingagegroupvalue">missingAgeGroupValue</code></td>
<td>
<p>Value to include if missing age.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble with the age column added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 |&gt;
  addAge()
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='addCategories'>Categorize a numeric variable</h2><span id='topic+addCategories'></span>

<h3>Description</h3>

<p>Categorize a numeric variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCategories(
  x,
  variable,
  categories,
  missingCategoryValue = "None",
  overlap = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCategories_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addCategories_+3A_variable">variable</code></td>
<td>
<p>Target variable that we want to categorize.</p>
</td></tr>
<tr><td><code id="addCategories_+3A_categories">categories</code></td>
<td>
<p>List of lists of named categories with lower and upper
limit.</p>
</td></tr>
<tr><td><code id="addCategories_+3A_missingcategoryvalue">missingCategoryValue</code></td>
<td>
<p>Value to assign to those individuals not in
any named category. If NULL or NA, missing will values will be
given.</p>
</td></tr>
<tr><td><code id="addCategories_+3A_overlap">overlap</code></td>
<td>
<p>TRUE if the categories given overlap.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble with the categorical variable added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

result &lt;- cdm$cohort1 %&gt;%
  addAge() %&gt;%
  addCategories(
    variable = "age",
    categories = list("age_group" = list(
      "0 to 39" = c(0, 39), "40 to 79" = c(40, 79), "80 to 150" = c(80, 150)
    ))
  )
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='addCdmName'>Add cdm name</h2><span id='topic+addCdmName'></span>

<h3>Description</h3>

<p>Add cdm name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCdmName(table, cdm = omopgenerics::cdmReference(table))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCdmName_+3A_table">table</code></td>
<td>
<p>Table in the cdm</p>
</td></tr>
<tr><td><code id="addCdmName_+3A_cdm">cdm</code></td>
<td>
<p>A cdm reference object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Table with an extra column with the cdm names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()
cdm$cohort1 %&gt;%
  addCdmName()


</code></pre>

<hr>
<h2 id='addCohortIntersect'>Compute the intersect with a target cohort, you can compute the number of
occurrences, a flag of presence, a certain date and/or the time difference</h2><span id='topic+addCohortIntersect'></span>

<h3>Description</h3>

<p>Compute the intersect with a target cohort, you can compute the number of
occurrences, a flag of presence, a certain date and/or the time difference
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCohortIntersect(
  x,
  cdm = lifecycle::deprecated(),
  targetCohortTable,
  targetCohortId = NULL,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  targetStartDate = "cohort_start_date",
  targetEndDate = "cohort_end_date",
  window = list(c(0, Inf)),
  order = "first",
  flag = TRUE,
  count = TRUE,
  date = TRUE,
  days = TRUE,
  nameStyle = "{value}_{cohort_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCohortIntersect_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_cdm">cdm</code></td>
<td>
<p>Object that contains a cdm reference. Use CDMConnector to obtain a
cdm reference.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_targetcohorttable">targetCohortTable</code></td>
<td>
<p>name of the cohort that we want to check for overlap.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_targetcohortid">targetCohortId</code></td>
<td>
<p>vector of cohort definition ids to include.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>date of reference in cohort table, either for start
(in overlap) or on its own (for incidence).</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>date of reference in cohort table, either for end
(overlap) or NULL (if incidence).</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_window">window</code></td>
<td>
<p>window to consider events of.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_order">order</code></td>
<td>
<p>which record is considered in case of multiple records.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_flag">flag</code></td>
<td>
<p>TRUE or FALSE. If TRUE, flag will calculated for this
intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_count">count</code></td>
<td>
<p>TRUE or FALSE. If TRUE, the number of counts will be calculated
for this intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_date">date</code></td>
<td>
<p>TRUE or FALSE. If TRUE, date will be calculated for this
intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_days">days</code></td>
<td>
<p>TRUE or FALSE. If TRUE, time difference in days will be
calculated for this intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersect_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addCohortIntersect(
    targetCohortTable = "cohort2"
  )
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addCohortIntersectCount'>It creates columns to indicate number of occurrences of intersection with a
cohort</h2><span id='topic+addCohortIntersectCount'></span>

<h3>Description</h3>

<p>It creates columns to indicate number of occurrences of intersection with a
cohort
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCohortIntersectCount(
  x,
  cdm = lifecycle::deprecated(),
  targetCohortTable,
  targetCohortId = NULL,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  targetStartDate = "cohort_start_date",
  targetEndDate = "cohort_end_date",
  window = list(c(0, Inf)),
  nameStyle = "{cohort_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCohortIntersectCount_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_cdm">cdm</code></td>
<td>
<p>Object that contains a cdm reference. Use CDMConnector to obtain a
cdm reference.</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_targetcohorttable">targetCohortTable</code></td>
<td>
<p>name of the cohort that we want to check for overlap.</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_targetcohortid">targetCohortId</code></td>
<td>
<p>vector of cohort definition ids to include.</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>date of reference in cohort table, either for start
(in overlap) or on its own (for incidence).</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>date of reference in cohort table, either for end
(overlap) or NULL (if incidence).</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_window">window</code></td>
<td>
<p>window to consider events of.</p>
</td></tr>
<tr><td><code id="addCohortIntersectCount_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addCohortIntersectCount(
    targetCohortTable = "cohort2"
  )
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addCohortIntersectDate'>Date of cohorts that are present in a certain window</h2><span id='topic+addCohortIntersectDate'></span>

<h3>Description</h3>

<p>Date of cohorts that are present in a certain window
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCohortIntersectDate(
  x,
  cdm = lifecycle::deprecated(),
  targetCohortTable,
  targetCohortId = NULL,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  targetDate = "cohort_start_date",
  order = "first",
  window = c(0, Inf),
  nameStyle = "{cohort_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCohortIntersectDate_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_cdm">cdm</code></td>
<td>
<p>Object that contains a cdm reference. Use CDMConnector to obtain a
cdm reference.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_targetcohorttable">targetCohortTable</code></td>
<td>
<p>Cohort table to.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_targetcohortid">targetCohortId</code></td>
<td>
<p>Cohort IDs of interest from the other cohort table. If
NULL, all cohorts will be used with a time variable added for each
cohort of interest.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_targetdate">targetDate</code></td>
<td>
<p>Date of interest in the other cohort table. Either
cohort_start_date or cohort_end_date.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_order">order</code></td>
<td>
<p>date to use if there are multiple records for an
individual during the window of interest. Either first or last.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_window">window</code></td>
<td>
<p>Window of time to identify records relative to the indexDate.
Records outside of this time period will be ignored.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDate_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x along with additional columns for each cohort of interest.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addCohortIntersectDate(
    targetCohortTable = "cohort2"
  )
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addCohortIntersectDays'>It creates columns to indicate the number of days between the current table
and a target cohort</h2><span id='topic+addCohortIntersectDays'></span>

<h3>Description</h3>

<p>It creates columns to indicate the number of days between the current table
and a target cohort
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCohortIntersectDays(
  x,
  cdm = lifecycle::deprecated(),
  targetCohortTable,
  targetCohortId = NULL,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  targetDate = "cohort_start_date",
  order = "first",
  window = c(0, Inf),
  nameStyle = "{cohort_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCohortIntersectDays_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_cdm">cdm</code></td>
<td>
<p>Object that contains a cdm reference. Use CDMConnector to obtain a
cdm reference.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_targetcohorttable">targetCohortTable</code></td>
<td>
<p>Cohort table to.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_targetcohortid">targetCohortId</code></td>
<td>
<p>Cohort IDs of interest from the other cohort table. If
NULL, all cohorts will be used with a days variable added for each
cohort of interest.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_targetdate">targetDate</code></td>
<td>
<p>Date of interest in the other cohort table. Either
cohort_start_date or cohort_end_date.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_order">order</code></td>
<td>
<p>date to use if there are multiple records for an
individual during the window of interest. Either first or last.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_window">window</code></td>
<td>
<p>Window of time to identify records relative to the indexDate.
Records outside of this time period will be ignored.</p>
</td></tr>
<tr><td><code id="addCohortIntersectDays_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x along with additional columns for each cohort of interest.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addCohortIntersectDays(
    targetCohortTable = "cohort2"
  )
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addCohortIntersectFlag'>It creates columns to indicate the presence of cohorts</h2><span id='topic+addCohortIntersectFlag'></span>

<h3>Description</h3>

<p>It creates columns to indicate the presence of cohorts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCohortIntersectFlag(
  x,
  cdm = lifecycle::deprecated(),
  targetCohortTable,
  targetCohortId = NULL,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  targetStartDate = "cohort_start_date",
  targetEndDate = "cohort_end_date",
  window = list(c(0, Inf)),
  nameStyle = "{cohort_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCohortIntersectFlag_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_cdm">cdm</code></td>
<td>
<p>Object that contains a cdm reference. Use CDMConnector to obtain a
cdm reference.</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_targetcohorttable">targetCohortTable</code></td>
<td>
<p>name of the cohort that we want to check for overlap.</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_targetcohortid">targetCohortId</code></td>
<td>
<p>vector of cohort definition ids to include.</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>date of reference in cohort table, either for start
(in overlap) or on its own (for incidence).</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>date of reference in cohort table, either for end
(overlap) or NULL (if incidence).</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_window">window</code></td>
<td>
<p>window to consider events of.</p>
</td></tr>
<tr><td><code id="addCohortIntersectFlag_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addCohortIntersectFlag(
    targetCohortTable = "cohort2"
  )
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addCohortName'>Add cohort name for each cohort_definition_id</h2><span id='topic+addCohortName'></span>

<h3>Description</h3>

<p>Add cohort name for each cohort_definition_id
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCohortName(cohort)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCohortName_+3A_cohort">cohort</code></td>
<td>
<p>cohort to which add the cohort name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cohort with an extra column with the cohort names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()
cdm$cohort1 %&gt;%
  addCohortName()


</code></pre>

<hr>
<h2 id='addConceptIntersect'>It creates columns to indicate overlap information between a table and a
concept</h2><span id='topic+addConceptIntersect'></span>

<h3>Description</h3>

<p>It creates columns to indicate overlap information between a table and a
concept
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addConceptIntersect(
  x,
  conceptSet,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetStartDate = "event_start_date",
  targetEndDate = "event_end_date",
  order = "first",
  value = c("flag", "count", "date", "days"),
  nameStyle = "{value}_{concept_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addConceptIntersect_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_conceptset">conceptSet</code></td>
<td>
<p>Concept set list.</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a date column of x</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>Event start date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>Event end date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_order">order</code></td>
<td>
<p>last or first date to use for date/days calculations.</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_value">value</code></td>
<td>
<p>Choices between c(&quot;value&quot;, &quot;flag&quot;, &quot;days&quot;, &quot;date&quot;).</p>
</td></tr>
<tr><td><code id="addConceptIntersect_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
 concept &lt;- dplyr::tibble(
  concept_id = c(1125315),
  domain_id = "Drug",
  vocabulary_id = NA_character_,
  concept_class_id = "Ingredient",
  standard_concept = "S",
  concept_code = NA_character_,
  valid_start_date = as.Date("1900-01-01"),
  valid_end_date = as.Date("2099-01-01"),
  invalid_reason = NA_character_
 ) %&gt;%
 dplyr::mutate(concept_name = paste0("concept: ", .data$concept_id))
 cdm &lt;- CDMConnector::insertTable(cdm, "concept", concept)
result &lt;- cdm$cohort1 %&gt;%
 addConceptIntersect(
  conceptSet = list("acetaminophen"=1125315)
  ) %&gt;%
 dplyr::collect()
 CDMConnector::cdmDisconnect(cdm = cdm)
 

</code></pre>

<hr>
<h2 id='addConceptIntersectCount'>It creates column to indicate the count overlap information between a table
and a concept</h2><span id='topic+addConceptIntersectCount'></span>

<h3>Description</h3>

<p>It creates column to indicate the count overlap information between a table
and a concept
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addConceptIntersectCount(
  x,
  conceptSet,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetStartDate = "event_start_date",
  targetEndDate = "event_end_date",
  nameStyle = "{concept_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addConceptIntersectCount_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addConceptIntersectCount_+3A_conceptset">conceptSet</code></td>
<td>
<p>Concept set list.</p>
</td></tr>
<tr><td><code id="addConceptIntersectCount_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectCount_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a date column of x</p>
</td></tr>
<tr><td><code id="addConceptIntersectCount_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addConceptIntersectCount_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>Event start date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectCount_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>Event end date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectCount_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
 concept &lt;- dplyr::tibble(
  concept_id = c(1125315),
  domain_id = "Drug",
  vocabulary_id = NA_character_,
  concept_class_id = "Ingredient",
  standard_concept = "S",
  concept_code = NA_character_,
  valid_start_date = as.Date("1900-01-01"),
  valid_end_date = as.Date("2099-01-01"),
  invalid_reason = NA_character_
 ) %&gt;%
 dplyr::mutate(concept_name = paste0("concept: ", .data$concept_id))
 cdm &lt;- CDMConnector::insertTable(cdm, "concept", concept)
result &lt;- cdm$cohort1 %&gt;%
 addConceptIntersectCount(
  conceptSet = list("acetaminophen"=1125315)
  ) %&gt;%
 dplyr::collect()
 CDMConnector::cdmDisconnect(cdm = cdm)
 

</code></pre>

<hr>
<h2 id='addConceptIntersectDate'>It creates column to indicate the date overlap information between a table
and a concept</h2><span id='topic+addConceptIntersectDate'></span>

<h3>Description</h3>

<p>It creates column to indicate the date overlap information between a table
and a concept
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addConceptIntersectDate(
  x,
  conceptSet,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetDate = "event_start_date",
  order = "first",
  nameStyle = "{concept_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addConceptIntersectDate_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDate_+3A_conceptset">conceptSet</code></td>
<td>
<p>Concept set list.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDate_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDate_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a date column of x</p>
</td></tr>
<tr><td><code id="addConceptIntersectDate_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDate_+3A_targetdate">targetDate</code></td>
<td>
<p>Event date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDate_+3A_order">order</code></td>
<td>
<p>last or first date to use for date/days calculations.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDate_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
 concept &lt;- dplyr::tibble(
  concept_id = c(1125315),
  domain_id = "Drug",
  vocabulary_id = NA_character_,
  concept_class_id = "Ingredient",
  standard_concept = "S",
  concept_code = NA_character_,
  valid_start_date = as.Date("1900-01-01"),
  valid_end_date = as.Date("2099-01-01"),
  invalid_reason = NA_character_
 ) %&gt;%
 dplyr::mutate(concept_name = paste0("concept: ", .data$concept_id))
 cdm &lt;- CDMConnector::insertTable(cdm, "concept", concept)
result &lt;- cdm$cohort1 %&gt;%
 addConceptIntersectDate(
  conceptSet = list("acetaminophen"=1125315)
  ) %&gt;%
 dplyr::collect()
 CDMConnector::cdmDisconnect(cdm = cdm)
 

</code></pre>

<hr>
<h2 id='addConceptIntersectDays'>It creates column to indicate the days of difference from an index date to a
concept</h2><span id='topic+addConceptIntersectDays'></span>

<h3>Description</h3>

<p>It creates column to indicate the days of difference from an index date to a
concept
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addConceptIntersectDays(
  x,
  conceptSet,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetDate = "event_start_date",
  order = "first",
  nameStyle = "{concept_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addConceptIntersectDays_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDays_+3A_conceptset">conceptSet</code></td>
<td>
<p>Concept set list.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDays_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDays_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a date column of x</p>
</td></tr>
<tr><td><code id="addConceptIntersectDays_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDays_+3A_targetdate">targetDate</code></td>
<td>
<p>Event date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDays_+3A_order">order</code></td>
<td>
<p>last or first date to use for date/days calculations.</p>
</td></tr>
<tr><td><code id="addConceptIntersectDays_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
 concept &lt;- dplyr::tibble(
  concept_id = c(1125315),
  domain_id = "Drug",
  vocabulary_id = NA_character_,
  concept_class_id = "Ingredient",
  standard_concept = "S",
  concept_code = NA_character_,
  valid_start_date = as.Date("1900-01-01"),
  valid_end_date = as.Date("2099-01-01"),
  invalid_reason = NA_character_
 ) %&gt;%
 dplyr::mutate(concept_name = paste0("concept: ", .data$concept_id))
 cdm &lt;- CDMConnector::insertTable(cdm, "concept", concept)
result &lt;- cdm$cohort1 %&gt;%
 addConceptIntersectDays(
  conceptSet = list("acetaminophen"=1125315)
  ) %&gt;%
 dplyr::collect()
 CDMConnector::cdmDisconnect(cdm = cdm)
 

</code></pre>

<hr>
<h2 id='addConceptIntersectFlag'>It creates column to indicate the flag overlap information between a table
and a concept</h2><span id='topic+addConceptIntersectFlag'></span>

<h3>Description</h3>

<p>It creates column to indicate the flag overlap information between a table
and a concept
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addConceptIntersectFlag(
  x,
  conceptSet,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetStartDate = "event_start_date",
  targetEndDate = "event_end_date",
  nameStyle = "{concept_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addConceptIntersectFlag_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addConceptIntersectFlag_+3A_conceptset">conceptSet</code></td>
<td>
<p>Concept set list.</p>
</td></tr>
<tr><td><code id="addConceptIntersectFlag_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectFlag_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a date column of x</p>
</td></tr>
<tr><td><code id="addConceptIntersectFlag_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addConceptIntersectFlag_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>Event start date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectFlag_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>Event end date to use for the intersection.</p>
</td></tr>
<tr><td><code id="addConceptIntersectFlag_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
 concept &lt;- dplyr::tibble(
  concept_id = c(1125315),
  domain_id = "Drug",
  vocabulary_id = NA_character_,
  concept_class_id = "Ingredient",
  standard_concept = "S",
  concept_code = NA_character_,
  valid_start_date = as.Date("1900-01-01"),
  valid_end_date = as.Date("2099-01-01"),
  invalid_reason = NA_character_
 ) %&gt;%
 dplyr::mutate(concept_name = paste0("concept: ", .data$concept_id))
 cdm &lt;- CDMConnector::insertTable(cdm, "concept", concept)
result &lt;- cdm$cohort1 %&gt;%
 addConceptIntersectFlag(
  conceptSet = list("acetaminophen"=1125315)
  ) %&gt;%
 dplyr::collect()
 CDMConnector::cdmDisconnect(cdm = cdm)
 

</code></pre>

<hr>
<h2 id='addDateOfBirth'>Add a column with the individual birth date</h2><span id='topic+addDateOfBirth'></span>

<h3>Description</h3>

<p>Add a column with the individual birth date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addDateOfBirth(
  x,
  cdm = lifecycle::deprecated(),
  name = "date_of_birth",
  missingDay = 1,
  missingMonth = 1,
  imposeDay = FALSE,
  imposeMonth = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addDateOfBirth_+3A_x">x</code></td>
<td>
<p>Table in the cdm that contains 'person_id' or 'subject_id'.</p>
</td></tr>
<tr><td><code id="addDateOfBirth_+3A_cdm">cdm</code></td>
<td>
<p>A cdm_reference object.</p>
</td></tr>
<tr><td><code id="addDateOfBirth_+3A_name">name</code></td>
<td>
<p>Name of the column to be added with the date of birth.</p>
</td></tr>
<tr><td><code id="addDateOfBirth_+3A_missingday">missingDay</code></td>
<td>
<p>Day of the individuals with no or imposed day of birth.</p>
</td></tr>
<tr><td><code id="addDateOfBirth_+3A_missingmonth">missingMonth</code></td>
<td>
<p>Month of the individuals with no or imposed month of
birth.</p>
</td></tr>
<tr><td><code id="addDateOfBirth_+3A_imposeday">imposeDay</code></td>
<td>
<p>Whether to impose day of birth.</p>
</td></tr>
<tr><td><code id="addDateOfBirth_+3A_imposemonth">imposeMonth</code></td>
<td>
<p>Whether to impose month of birth.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns the table x with an extra column that contains
the date of birth.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
cdm$cohort1 %&gt;%
  addDateOfBirth()
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='addDemographics'>Compute demographic characteristics at a certain date</h2><span id='topic+addDemographics'></span>

<h3>Description</h3>

<p>Compute demographic characteristics at a certain date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addDemographics(
  x,
  cdm = lifecycle::deprecated(),
  indexDate = "cohort_start_date",
  age = TRUE,
  ageName = "age",
  ageDefaultMonth = 1,
  ageDefaultDay = 1,
  ageImposeMonth = FALSE,
  ageImposeDay = FALSE,
  ageGroup = NULL,
  missingAgeGroupValue = "None",
  sex = TRUE,
  sexName = "sex",
  missingSexValue = "None",
  priorObservation = TRUE,
  priorObservationName = "prior_observation",
  priorObservationType = "days",
  futureObservation = TRUE,
  futureObservationName = "future_observation",
  futureObservationType = "days",
  dateOfBirth = FALSE,
  dateOfBirthName = "date_of_birth"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addDemographics_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_cdm">cdm</code></td>
<td>
<p>Object that contains a cdm reference. Use CDMConnector to obtain a
cdm reference.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
demographics characteristics.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_age">age</code></td>
<td>
<p>TRUE or FALSE. If TRUE, age will be calculated relative to
indexDate.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_agename">ageName</code></td>
<td>
<p>Age variable name.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_agedefaultmonth">ageDefaultMonth</code></td>
<td>
<p>Month of the year assigned to individuals with missing
month of birth.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_agedefaultday">ageDefaultDay</code></td>
<td>
<p>day of the month assigned to individuals
with missing day of birth.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_ageimposemonth">ageImposeMonth</code></td>
<td>
<p>TRUE or FALSE. Whether the month of the date of birth
will be considered as missing for all the individuals.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_ageimposeday">ageImposeDay</code></td>
<td>
<p>TRUE or FALSE. Whether the day of the date of birth
will be considered as missing for all the individuals.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_agegroup">ageGroup</code></td>
<td>
<p>if not NULL, a list of ageGroup vectors.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_missingagegroupvalue">missingAgeGroupValue</code></td>
<td>
<p>Value to include if missing age.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_sex">sex</code></td>
<td>
<p>TRUE or FALSE. If TRUE, sex will be identified.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_sexname">sexName</code></td>
<td>
<p>Sex variable name.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_missingsexvalue">missingSexValue</code></td>
<td>
<p>Value to include if missing sex.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_priorobservation">priorObservation</code></td>
<td>
<p>TRUE or FALSE. If TRUE, days of between the start
of the current observation period and the indexDate will be calculated.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_priorobservationname">priorObservationName</code></td>
<td>
<p>Prior observation variable name.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_priorobservationtype">priorObservationType</code></td>
<td>
<p>Whether to return a &quot;date&quot; or the number of
&quot;days&quot;.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_futureobservation">futureObservation</code></td>
<td>
<p>TRUE or FALSE. If TRUE, days between the
indexDate and the end of the current observation period will be
calculated.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_futureobservationname">futureObservationName</code></td>
<td>
<p>Future observation variable name.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_futureobservationtype">futureObservationType</code></td>
<td>
<p>Whether to return a &quot;date&quot; or the number of
&quot;days&quot;.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_dateofbirth">dateOfBirth</code></td>
<td>
<p>TRUE or FALSE, if true the date of birth will be return.</p>
</td></tr>
<tr><td><code id="addDemographics_+3A_dateofbirthname">dateOfBirthName</code></td>
<td>
<p>dateOfBirth column name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cohort table with the added demographic information columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
cdm$cohort1 %&gt;%
  addDemographics()
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addFutureObservation'>Compute the number of days till the end of the observation period at a
certain date</h2><span id='topic+addFutureObservation'></span>

<h3>Description</h3>

<p>Compute the number of days till the end of the observation period at a
certain date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addFutureObservation(
  x,
  cdm = lifecycle::deprecated(),
  indexDate = "cohort_start_date",
  futureObservationName = "future_observation",
  futureObservationType = "days"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addFutureObservation_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addFutureObservation_+3A_cdm">cdm</code></td>
<td>
<p>A cdm_reference object.</p>
</td></tr>
<tr><td><code id="addFutureObservation_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the future
observation.</p>
</td></tr>
<tr><td><code id="addFutureObservation_+3A_futureobservationname">futureObservationName</code></td>
<td>
<p>name of the new column to be added.</p>
</td></tr>
<tr><td><code id="addFutureObservation_+3A_futureobservationtype">futureObservationType</code></td>
<td>
<p>Whether to return a &quot;date&quot; or the number of
&quot;days&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cohort table with added column containing future observation of the
individuals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addFutureObservation()
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='addInObservation'>Indicate if a certain record is within the observation period</h2><span id='topic+addInObservation'></span>

<h3>Description</h3>

<p>Indicate if a certain record is within the observation period
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addInObservation(
  x,
  cdm = lifecycle::deprecated(),
  indexDate = "cohort_start_date",
  window = c(0, 0),
  completeInterval = FALSE,
  name = lifecycle::deprecated(),
  nameStyle = "in_observation"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addInObservation_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addInObservation_+3A_cdm">cdm</code></td>
<td>
<p>A cdm_reference object.</p>
</td></tr>
<tr><td><code id="addInObservation_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
observation flag.</p>
</td></tr>
<tr><td><code id="addInObservation_+3A_window">window</code></td>
<td>
<p>window to consider events of.</p>
</td></tr>
<tr><td><code id="addInObservation_+3A_completeinterval">completeInterval</code></td>
<td>
<p>If the individuals are in observation for the full window.</p>
</td></tr>
<tr><td><code id="addInObservation_+3A_name">name</code></td>
<td>
<p>deprecated.</p>
</td></tr>
<tr><td><code id="addInObservation_+3A_namestyle">nameStyle</code></td>
<td>
<p>Name of the new columns to create, it must contain
&quot;window_name&quot; if multiple windows are provided.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cohort table with the added binary column assessing inObservation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()
cdm$cohort1 %&gt;%
  addInObservation()
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addIntersect'>It creates columns to indicate overlap information between two tables
'r lifecycle::badge(&quot;deprecated&quot;)'</h2><span id='topic+addIntersect'></span>

<h3>Description</h3>

<p>It creates columns to indicate overlap information between two tables
'r lifecycle::badge(&quot;deprecated&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addIntersect(
  x,
  tableName,
  value,
  filterVariable = NULL,
  filterId = NULL,
  idName = NULL,
  window = list(c(0, Inf)),
  indexDate = "cohort_start_date",
  censorDate = NULL,
  targetStartDate = startDateColumn(tableName),
  targetEndDate = endDateColumn(tableName),
  order = "first",
  nameStyle = "{value}_{id_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addIntersect_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_tablename">tableName</code></td>
<td>
<p>name of the cohort that we want to check for overlap.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_value">value</code></td>
<td>
<p>value of interest to add: it can be count, flag, date or time.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_filtervariable">filterVariable</code></td>
<td>
<p>the variable that we are going to use to filter (e.g.
cohort_definition_id).</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_filterid">filterId</code></td>
<td>
<p>the value of filterVariable that we are interested in, it can
be a vector.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_idname">idName</code></td>
<td>
<p>the name of each filterId, must have same length than
filterId.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_window">window</code></td>
<td>
<p>window to consider events of.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a date column of x.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>date of reference in cohort table, either for start
(in overlap) or on its own (for incidence).</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>date of reference in cohort table, either for end
(overlap) or NULL (if incidence).</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_order">order</code></td>
<td>
<p>last or first date to use for date/time calculations.</p>
</td></tr>
<tr><td><code id="addIntersect_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with overlap information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()
result &lt;- cdm$cohort1 %&gt;%
  addIntersect(tableName = "cohort2", value = "date") %&gt;%
  dplyr::collect()
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addLargeScaleCharacteristics'>This function is used to add columns with the large scale characteristics of
a cohort table.</h2><span id='topic+addLargeScaleCharacteristics'></span>

<h3>Description</h3>

<p>This function is used to add columns with the large scale characteristics of
a cohort table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addLargeScaleCharacteristics(
  cohort,
  window = list(c(0, Inf)),
  eventInWindow = NULL,
  episodeInWindow = NULL,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  minimumFrequency = 0.005,
  excludedCodes = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addLargeScaleCharacteristics_+3A_cohort">cohort</code></td>
<td>
<p>The cohort to characterise.</p>
</td></tr>
<tr><td><code id="addLargeScaleCharacteristics_+3A_window">window</code></td>
<td>
<p>Temporal windows that we want to characterize.</p>
</td></tr>
<tr><td><code id="addLargeScaleCharacteristics_+3A_eventinwindow">eventInWindow</code></td>
<td>
<p>Tables to characterise the events in the window.</p>
</td></tr>
<tr><td><code id="addLargeScaleCharacteristics_+3A_episodeinwindow">episodeInWindow</code></td>
<td>
<p>Tables to characterise the episodes in the window.</p>
</td></tr>
<tr><td><code id="addLargeScaleCharacteristics_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addLargeScaleCharacteristics_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addLargeScaleCharacteristics_+3A_minimumfrequency">minimumFrequency</code></td>
<td>
<p>Minimum frequency covariates to report.</p>
</td></tr>
<tr><td><code id="addLargeScaleCharacteristics_+3A_excludedcodes">excludedCodes</code></td>
<td>
<p>Codes excluded.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of this function is the cohort with the new created
columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()
results &lt;- cdm$cohort2 %&gt;%
  addLargeScaleCharacteristics(
  episodeInWindow = c("condition_occurrence"),
  minimumFrequency = 0
  )
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addPriorObservation'>Compute the number of days of prior observation in the current observation period
at a certain date</h2><span id='topic+addPriorObservation'></span>

<h3>Description</h3>

<p>Compute the number of days of prior observation in the current observation period
at a certain date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addPriorObservation(
  x,
  cdm = lifecycle::deprecated(),
  indexDate = "cohort_start_date",
  priorObservationName = "prior_observation",
  priorObservationType = "days"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addPriorObservation_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addPriorObservation_+3A_cdm">cdm</code></td>
<td>
<p>A cdm_reference object.</p>
</td></tr>
<tr><td><code id="addPriorObservation_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the prior
observation.</p>
</td></tr>
<tr><td><code id="addPriorObservation_+3A_priorobservationname">priorObservationName</code></td>
<td>
<p>name of the new column to be added.</p>
</td></tr>
<tr><td><code id="addPriorObservation_+3A_priorobservationtype">priorObservationType</code></td>
<td>
<p>Whether to return a &quot;date&quot; or the number of
&quot;days&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cohort table with added column containing prior observation of the
individuals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addPriorObservation()
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='addSex'>Compute the sex of the individuals</h2><span id='topic+addSex'></span>

<h3>Description</h3>

<p>Compute the sex of the individuals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSex(
  x,
  cdm = lifecycle::deprecated(),
  sexName = "sex",
  missingSexValue = "None"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addSex_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addSex_+3A_cdm">cdm</code></td>
<td>
<p>A cdm_reference object.</p>
</td></tr>
<tr><td><code id="addSex_+3A_sexname">sexName</code></td>
<td>
<p>name of the new column to be added.</p>
</td></tr>
<tr><td><code id="addSex_+3A_missingsexvalue">missingSexValue</code></td>
<td>
<p>Value to include if missing sex.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table x with the added column with sex information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()
cdm$cohort1 %&gt;%
  addSex()
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addTableIntersect'>Compute the intersect with an omop table, you can compute the number of
occurrences, a flag of presence, a certain date, the time difference and/or
obtain a certain column.</h2><span id='topic+addTableIntersect'></span>

<h3>Description</h3>

<p>Compute the intersect with an omop table, you can compute the number of
occurrences, a flag of presence, a certain date, the time difference and/or
obtain a certain column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTableIntersect(
  x,
  tableName,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  order = "first",
  targetStartDate = startDateColumn(tableName),
  targetEndDate = endDateColumn(tableName),
  flag = TRUE,
  count = TRUE,
  date = TRUE,
  days = TRUE,
  field = character(),
  nameStyle = "{table_name}_{value}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addTableIntersect_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table to intersect with. Options:
visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence,
device_exposure, measurement, observation, drug_era, condition_era, specimen.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_order">order</code></td>
<td>
<p>which record is considered in case of multiple records (only
required for date and days options).</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>Column name with start date for comparison.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>Column name with end date for comparison.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_flag">flag</code></td>
<td>
<p>TRUE or FALSE. If TRUE, flag will calculated for this
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_count">count</code></td>
<td>
<p>TRUE or FALSE. If TRUE, the number of counts will be calculated
for this intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_date">date</code></td>
<td>
<p>TRUE or FALSE. If TRUE, date will be calculated for this
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_days">days</code></td>
<td>
<p>TRUE or FALSE. If TRUE, time difference in days will be
calculated for this intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_field">field</code></td>
<td>
<p>Other columns from the table to intersect.</p>
</td></tr>
<tr><td><code id="addTableIntersect_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with intersect information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addTableIntersect(tableName = "visit_occurrence")
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addTableIntersectCount'>Compute number of intersect with an omop table.</h2><span id='topic+addTableIntersectCount'></span>

<h3>Description</h3>

<p>Compute number of intersect with an omop table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTableIntersectCount(
  x,
  tableName,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetStartDate = startDateColumn(tableName),
  targetEndDate = endDateColumn(tableName),
  nameStyle = "{table_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addTableIntersectCount_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addTableIntersectCount_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table to intersect with. Options:
visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence,
device_exposure, measurement, observation, drug_era, condition_era, specimen.</p>
</td></tr>
<tr><td><code id="addTableIntersectCount_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersectCount_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addTableIntersectCount_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addTableIntersectCount_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>Column name with start date for comparison.</p>
</td></tr>
<tr><td><code id="addTableIntersectCount_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>Column name with end date for comparison.</p>
</td></tr>
<tr><td><code id="addTableIntersectCount_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with intersect information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addTableIntersectCount(tableName = "visit_occurrence")

CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addTableIntersectDate'>Compute date of intersect with an omop table.</h2><span id='topic+addTableIntersectDate'></span>

<h3>Description</h3>

<p>Compute date of intersect with an omop table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTableIntersectDate(
  x,
  tableName,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetDate = startDateColumn(tableName),
  order = "first",
  nameStyle = "{table_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addTableIntersectDate_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addTableIntersectDate_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table to intersect with. Options:
visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence,
device_exposure, measurement, observation, drug_era, condition_era, specimen.</p>
</td></tr>
<tr><td><code id="addTableIntersectDate_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersectDate_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addTableIntersectDate_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addTableIntersectDate_+3A_targetdate">targetDate</code></td>
<td>
<p>Target date in tableName.</p>
</td></tr>
<tr><td><code id="addTableIntersectDate_+3A_order">order</code></td>
<td>
<p>which record is considered in case of multiple records (only
required for date and days options).</p>
</td></tr>
<tr><td><code id="addTableIntersectDate_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with intersect information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addTableIntersectDate(tableName = "visit_occurrence")

CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addTableIntersectDays'>Compute time to intersect with an omop table.</h2><span id='topic+addTableIntersectDays'></span>

<h3>Description</h3>

<p>Compute time to intersect with an omop table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTableIntersectDays(
  x,
  tableName,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetDate = startDateColumn(tableName),
  order = "first",
  nameStyle = "{table_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addTableIntersectDays_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addTableIntersectDays_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table to intersect with. Options:
visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence,
device_exposure, measurement, observation, drug_era, condition_era, specimen.</p>
</td></tr>
<tr><td><code id="addTableIntersectDays_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersectDays_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addTableIntersectDays_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addTableIntersectDays_+3A_targetdate">targetDate</code></td>
<td>
<p>Target date in tableName.</p>
</td></tr>
<tr><td><code id="addTableIntersectDays_+3A_order">order</code></td>
<td>
<p>which record is considered in case of multiple records (only
required for date and days options).</p>
</td></tr>
<tr><td><code id="addTableIntersectDays_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with intersect information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addTableIntersectDays(tableName = "visit_occurrence")

CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addTableIntersectField'>Intersecting the cohort with columns of an OMOP table of user's choice.
It will add an extra column to the cohort, indicating the intersected
entries with the target columns in a window of the user's choice.</h2><span id='topic+addTableIntersectField'></span>

<h3>Description</h3>

<p>Intersecting the cohort with columns of an OMOP table of user's choice.
It will add an extra column to the cohort, indicating the intersected
entries with the target columns in a window of the user's choice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTableIntersectField(
  x,
  tableName,
  field,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetDate = startDateColumn(tableName),
  order = "first",
  nameStyle = "{table_name}_{extra_value}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addTableIntersectField_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table to intersect with. Options:
visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence,
device_exposure, measurement, observation, drug_era, condition_era, specimen.</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_field">field</code></td>
<td>
<p>The columns from the table in tableName to intersect over.
For example, if the user uses visit_occurrence in tableName then for field the possible
options include visit_occurrence_id, visit_concept_id, visit_type_concept_id.</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_window">window</code></td>
<td>
<p>window to consider events in when intersecting with the chosen column.</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_targetdate">targetDate</code></td>
<td>
<p>The dates in the target columns in tableName that the user may want to restrict to.</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_order">order</code></td>
<td>
<p>which record is considered in case of multiple records (only
required for date and days options).</p>
</td></tr>
<tr><td><code id="addTableIntersectField_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with intersect information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()
cdm$cohort1 %&gt;%
  addTableIntersectField(
   tableName = "visit_occurrence",
   field = "visit_concept_id",
   order = "last",
   window = c(-Inf, -1)
)
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='addTableIntersectFlag'>Compute a flag intersect with an omop table.</h2><span id='topic+addTableIntersectFlag'></span>

<h3>Description</h3>

<p>Compute a flag intersect with an omop table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTableIntersectFlag(
  x,
  tableName,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  window = list(c(0, Inf)),
  targetStartDate = startDateColumn(tableName),
  targetEndDate = endDateColumn(tableName),
  nameStyle = "{table_name}_{window_name}"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addTableIntersectFlag_+3A_x">x</code></td>
<td>
<p>Table with individuals in the cdm.</p>
</td></tr>
<tr><td><code id="addTableIntersectFlag_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table to intersect with. Options:
visit_occurrence, condition_occurrence, drug_exposure, procedure_occurrence,
device_exposure, measurement, observation, drug_era, condition_era, specimen.</p>
</td></tr>
<tr><td><code id="addTableIntersectFlag_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="addTableIntersectFlag_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x.</p>
</td></tr>
<tr><td><code id="addTableIntersectFlag_+3A_window">window</code></td>
<td>
<p>window to consider events in.</p>
</td></tr>
<tr><td><code id="addTableIntersectFlag_+3A_targetstartdate">targetStartDate</code></td>
<td>
<p>Column name with start date for comparison.</p>
</td></tr>
<tr><td><code id="addTableIntersectFlag_+3A_targetenddate">targetEndDate</code></td>
<td>
<p>Column name with end date for comparison.</p>
</td></tr>
<tr><td><code id="addTableIntersectFlag_+3A_namestyle">nameStyle</code></td>
<td>
<p>naming of the added column or columns, should include
required parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>table with added columns with intersect information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  addTableIntersectFlag(tableName = "visit_occurrence")
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='assertNameStyle'>Assert whether a nameStyle contains the needed information.</h2><span id='topic+assertNameStyle'></span>

<h3>Description</h3>

<p>Assert whether a nameStyle contains the needed information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assertNameStyle(nameStyle, values = list(), call = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assertNameStyle_+3A_namestyle">nameStyle</code></td>
<td>
<p>nameStyle object to check.</p>
</td></tr>
<tr><td><code id="assertNameStyle_+3A_values">values</code></td>
<td>
<p>Parameters options that must be contained.</p>
</td></tr>
<tr><td><code id="assertNameStyle_+3A_call">call</code></td>
<td>
<p>An environment for cli functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An error if nameStyle is not properly formatted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
assertNameStyle("my_name", values = list(
  "variable1" = 1, "variable2" = c("a", "b", "c")
))

assertNameStyle("my_name_{variable2}", values = list(
  "variable1" = 1, "variable2" = c("a", "b", "c")
))

assertNameStyle("my_name_{variable2}", values = list(
  "variable1" = c(1, 2), "variable2" = c("a", "b", "c")
))

assertNameStyle("my_name_{variable1}_{variable2}", values = list(
  "variable1" = c(1, 2), "variable2" = c("a", "b", "c")
))

## End(Not run)

</code></pre>

<hr>
<h2 id='availableEstimates'>Show the available estimates that can be used for the different variable_type
supported.</h2><span id='topic+availableEstimates'></span>

<h3>Description</h3>

<p>Show the available estimates that can be used for the different variable_type
supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>availableEstimates(variableType = NULL, fullQuantiles = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="availableEstimates_+3A_variabletype">variableType</code></td>
<td>
<p>A set of variable types.</p>
</td></tr>
<tr><td><code id="availableEstimates_+3A_fullquantiles">fullQuantiles</code></td>
<td>
<p>Whether to display the exact quantiles that can be
computed or only the qXX to summarise all of them.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the available estimates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

availableEstimates()
availableEstimates("numeric")
availableEstimates(c("numeric", "categorical"))


</code></pre>

<hr>
<h2 id='availableFunctions'>Show the available functions for the 4 classifications of data that are
supported (numeric, date, binary and categorical)</h2><span id='topic+availableFunctions'></span>

<h3>Description</h3>

<p>Show the available functions for the 4 classifications of data that are
supported (numeric, date, binary and categorical)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>availableFunctions(variableType = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="availableFunctions_+3A_variabletype">variableType</code></td>
<td>
<p>A choice between: &quot;numeric&quot;, &quot;date&quot;, &quot;binary&quot;
or &quot;categorical&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the available functions for a certain variable
classification (or all if NULL).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

availableFunctions()
availableFunctions("numeric")
availableFunctions("integer")
availableFunctions("date")
availableFunctions("categorical")
availableFunctions("logical")


</code></pre>

<hr>
<h2 id='endDateColumn'>Get the name of the end date column for a certain table in the cdm</h2><span id='topic+endDateColumn'></span>

<h3>Description</h3>

<p>Get the name of the end date column for a certain table in the cdm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>endDateColumn(tableName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="endDateColumn_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of the end date column in that table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
endDateColumn("condition_occurrence")


</code></pre>

<hr>
<h2 id='formatCharacteristics'>Format a summarised_characteristics object into a visual table.</h2><span id='topic+formatCharacteristics'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;deprecated&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatCharacteristics(
  result,
  type = "gt",
  splitStrata = TRUE,
  format = c(`N (%)` = "&lt;count&gt; (&lt;percentage&gt;%)", N = "&lt;count&gt;",
    "&lt;median&gt; [&lt;q25&gt; - &lt;q75&gt;]", "&lt;mean&gt; (&lt;sd&gt;)", range = "&lt;min&gt; to &lt;max&gt;"),
  cdmName = TRUE,
  cohortName = TRUE,
  style = "default",
  minCellCount = 5,
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatCharacteristics_+3A_result">result</code></td>
<td>
<p>A summarised_characteristics object.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_splitstrata">splitStrata</code></td>
<td>
<p>Whether or not to split the strata, deault is True.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_format">format</code></td>
<td>
<p>The columns that the user wishes to see for the
formatted table.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_cdmname">cdmName</code></td>
<td>
<p>Whether or not to display the cdm name, default is TRUE.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_cohortname">cohortName</code></td>
<td>
<p>Weather or not to display the cohort name, default is TRUE.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_style">style</code></td>
<td>
<p>The style of the table output.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Default is 5, meaing results that are more than
0 but less than 5 will not be reported.</p>
</td></tr>
<tr><td><code id="formatCharacteristics_+3A_.options">.options</code></td>
<td>
<p>See optionsTableCharacteristics() for default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with a tidy version of the summarised_characteristics
object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

cdm$cohort1 |&gt;
  summariseCharacteristics()

CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='gtCharacteristics'>Create a gt table from a summarisedCharacteristics object.</h2><span id='topic+gtCharacteristics'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;deprecated&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtCharacteristics(
  summarisedCharacteristics,
  pivotWide = c("CDM Name", "Group", "Strata"),
  format = c(`N (%)` = "count (percentage%)", "median [min; q25 - q75; max]",
    "mean (sd)", "median [q25 - q75]", N = "count"),
  keepNotFormatted = TRUE,
  decimals = c(default = 0),
  decimalMark = ".",
  bigMark = ","
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtCharacteristics_+3A_summarisedcharacteristics">summarisedCharacteristics</code></td>
<td>
<p>Summary characteristics long table.</p>
</td></tr>
<tr><td><code id="gtCharacteristics_+3A_pivotwide">pivotWide</code></td>
<td>
<p>variables to pivot wide.</p>
</td></tr>
<tr><td><code id="gtCharacteristics_+3A_format">format</code></td>
<td>
<p>formats and labels to use.</p>
</td></tr>
<tr><td><code id="gtCharacteristics_+3A_keepnotformatted">keepNotFormatted</code></td>
<td>
<p>Whether to keep not formatted estimate types.</p>
</td></tr>
<tr><td><code id="gtCharacteristics_+3A_decimals">decimals</code></td>
<td>
<p>Decimals per estimate_type.</p>
</td></tr>
<tr><td><code id="gtCharacteristics_+3A_decimalmark">decimalMark</code></td>
<td>
<p>decimal mark.</p>
</td></tr>
<tr><td><code id="gtCharacteristics_+3A_bigmark">bigMark</code></td>
<td>
<p>big mark.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>New table in gt format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

summariseCharacteristics(
  cohort = cdm$cohort1,
  ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150)),
  tableIntersect = list(
    "Visits" = list(
      tableName = "visit_occurrence", value = "count", window = c(-365, 0)
    )
  ),
  cohortIntersect = list(
    "Medications" = list(
      targetCohortTable = "cohort2", value = "flag", window = c(-365, 0)
    )
  )
)
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='gtResult'>Create a gt table from a summary object.</h2><span id='topic+gtResult'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;deprecated&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtResult(
  summarisedResult,
  long,
  wide,
  format = c(`N (%)` = "count (percentage%)", "median [min; q25 - q75; max]",
    "mean (sd)", "median [q25 - q75]", N = "count"),
  keepNotFormatted = TRUE,
  decimals = c(default = 0),
  decimalMark = ".",
  bigMark = ","
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtResult_+3A_summarisedresult">summarisedResult</code></td>
<td>
<p>A SummarisedResult object.</p>
</td></tr>
<tr><td><code id="gtResult_+3A_long">long</code></td>
<td>
<p>List of variables and specification to long.</p>
</td></tr>
<tr><td><code id="gtResult_+3A_wide">wide</code></td>
<td>
<p>List of variables and specification to wide.</p>
</td></tr>
<tr><td><code id="gtResult_+3A_format">format</code></td>
<td>
<p>formats and labels to use.</p>
</td></tr>
<tr><td><code id="gtResult_+3A_keepnotformatted">keepNotFormatted</code></td>
<td>
<p>Whether to keep not formatted estimate types.</p>
</td></tr>
<tr><td><code id="gtResult_+3A_decimals">decimals</code></td>
<td>
<p>Decimals per estimate_type.</p>
</td></tr>
<tr><td><code id="gtResult_+3A_decimalmark">decimalMark</code></td>
<td>
<p>decimal mark.</p>
</td></tr>
<tr><td><code id="gtResult_+3A_bigmark">bigMark</code></td>
<td>
<p>big mark.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted summarisedResult gt object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

cdm$cohort1 %&gt;%
  summariseCharacteristics(
    ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150))
  )
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='mockPatientProfiles'>It creates a mock database for testing PatientProfiles package</h2><span id='topic+mockPatientProfiles'></span>

<h3>Description</h3>

<p>It creates a mock database for testing PatientProfiles package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockPatientProfiles(
  connectionDetails = list(con = DBI::dbConnect(duckdb::duckdb(), ":memory:"),
    write_schema = "main", mock_prefix = NULL),
  drug_exposure = NULL,
  drug_strength = NULL,
  observation_period = NULL,
  condition_occurrence = NULL,
  visit_occurrence = NULL,
  concept_ancestor = NULL,
  person = NULL,
  cohort1 = NULL,
  cohort2 = NULL,
  drug_concept_id_size = 5,
  ancestor_concept_id_size = 5,
  condition_concept_id_size = 5,
  visit_concept_id_size = 5,
  visit_occurrence_id_size = 5,
  ingredient_concept_id_size = 1,
  drug_exposure_size = 10,
  patient_size = 1,
  min_drug_exposure_start_date = "2000-01-01",
  max_drug_exposure_start_date = "2020-01-01",
  earliest_date_of_birth = NULL,
  latest_date_of_birth = NULL,
  earliest_observation_start_date = NULL,
  latest_observation_start_date = NULL,
  min_days_to_observation_end = NULL,
  max_days_to_observation_end = NULL,
  earliest_condition_start_date = NULL,
  latest_condition_start_date = NULL,
  min_days_to_condition_end = NULL,
  max_days_to_condition_end = NULL,
  earliest_visit_start_date = NULL,
  latest_visit_start_date = NULL,
  min_days_to_visit_end = NULL,
  max_days_to_visit_end = NULL,
  seed = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mockPatientProfiles_+3A_connectiondetails">connectionDetails</code></td>
<td>
<p>Connection an details to create the cdm mock object.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_drug_exposure">drug_exposure</code></td>
<td>
<p>default null user can define its own table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_drug_strength">drug_strength</code></td>
<td>
<p>default null user can define its own table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_observation_period">observation_period</code></td>
<td>
<p>default null user can define its own table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_condition_occurrence">condition_occurrence</code></td>
<td>
<p>default null user can define its own table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_visit_occurrence">visit_occurrence</code></td>
<td>
<p>default null user can define its own visit_occurrence table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_concept_ancestor">concept_ancestor</code></td>
<td>
<p>the concept ancestor table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_person">person</code></td>
<td>
<p>default null user can define its own table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_cohort1">cohort1</code></td>
<td>
<p>cohort table for test to run in getindication.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_cohort2">cohort2</code></td>
<td>
<p>cohort table for test to run in getindication.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_drug_concept_id_size">drug_concept_id_size</code></td>
<td>
<p>number of unique drug concept id.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_ancestor_concept_id_size">ancestor_concept_id_size</code></td>
<td>
<p>the size of concept ancestor table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_condition_concept_id_size">condition_concept_id_size</code></td>
<td>
<p>number of unique row in the condition concept table.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_visit_concept_id_size">visit_concept_id_size</code></td>
<td>
<p>number of unique visit concept id.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_visit_occurrence_id_size">visit_occurrence_id_size</code></td>
<td>
<p>number of unique visit occurrence id.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_ingredient_concept_id_size">ingredient_concept_id_size</code></td>
<td>
<p>number of unique drug ingredient concept id.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_drug_exposure_size">drug_exposure_size</code></td>
<td>
<p>number of unique drug exposure.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_patient_size">patient_size</code></td>
<td>
<p>number of unique patient.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_min_drug_exposure_start_date">min_drug_exposure_start_date</code></td>
<td>
<p>user define minimum drug exposure start date.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_max_drug_exposure_start_date">max_drug_exposure_start_date</code></td>
<td>
<p>user define maximum drug exposure start date.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_earliest_date_of_birth">earliest_date_of_birth</code></td>
<td>
<p>the earliest date of birth of patient in person table format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_latest_date_of_birth">latest_date_of_birth</code></td>
<td>
<p>the latest date of birth for patient in person table format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_earliest_observation_start_date">earliest_observation_start_date</code></td>
<td>
<p>the earliest observation start date for patient format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_latest_observation_start_date">latest_observation_start_date</code></td>
<td>
<p>the latest observation start date for patient format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_min_days_to_observation_end">min_days_to_observation_end</code></td>
<td>
<p>the minimum number of days of the observational integer.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_max_days_to_observation_end">max_days_to_observation_end</code></td>
<td>
<p>the maximum number of days of the observation period integer.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_earliest_condition_start_date">earliest_condition_start_date</code></td>
<td>
<p>the earliest condition start date for patient format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_latest_condition_start_date">latest_condition_start_date</code></td>
<td>
<p>the latest condition start date for patient format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_min_days_to_condition_end">min_days_to_condition_end</code></td>
<td>
<p>the minimum number of days of the condition integer.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_max_days_to_condition_end">max_days_to_condition_end</code></td>
<td>
<p>the maximum number of days of the condition integer.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_earliest_visit_start_date">earliest_visit_start_date</code></td>
<td>
<p>the earliest visit start date for patient format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_latest_visit_start_date">latest_visit_start_date</code></td>
<td>
<p>the latest visit start date for patient format &quot;dd-mm-yyyy&quot;.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_min_days_to_visit_end">min_days_to_visit_end</code></td>
<td>
<p>the minimum number of days of the visit integer.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_max_days_to_visit_end">max_days_to_visit_end</code></td>
<td>
<p>the maximum number of days of the visit integer.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_seed">seed</code></td>
<td>
<p>seed.</p>
</td></tr>
<tr><td><code id="mockPatientProfiles_+3A_...">...</code></td>
<td>
<p>user self defined tibble table to put in cdm, it can input as many as the user want.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>cdm of the mock database following user's specifications.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='optionsTableCharacteristics'>Additional arguments for the function tableCharacteristics.</h2><span id='topic+optionsTableCharacteristics'></span>

<h3>Description</h3>

<p>It provides a list of allowed inputs for .option argument in
tableCharacteristics, and their given default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optionsTableCharacteristics()
</code></pre>


<h3>Value</h3>

<p>The default .options named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
optionsTableCharacteristics()
}

</code></pre>

<hr>
<h2 id='optionsTableCohortOverlap'>Additional arguments for the function tableCohortOverlap.</h2><span id='topic+optionsTableCohortOverlap'></span>

<h3>Description</h3>

<p>It provides a list of allowed inputs for .option argument in
tableCohortOverlap and their given default value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optionsTableCohortOverlap()
</code></pre>


<h3>Value</h3>

<p>The default .options named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
optionsTableCohortOverlap()
}

</code></pre>

<hr>
<h2 id='optionsTableCohortTiming'>Additional arguments for the function tableCohortTiming.</h2><span id='topic+optionsTableCohortTiming'></span>

<h3>Description</h3>

<p>It provides a list of allowed inputs for .option argument in
tableCohortTiming and their given default value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optionsTableCohortTiming()
</code></pre>


<h3>Value</h3>

<p>The default .options named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
optionsTableCohortTiming()
}


</code></pre>

<hr>
<h2 id='plotCharacteristics'>Create a ggplot from the output of summariseCharacteristics.
'r lifecycle::badge(&quot;experimental&quot;)'</h2><span id='topic+plotCharacteristics'></span>

<h3>Description</h3>

<p>Create a ggplot from the output of summariseCharacteristics.
'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCharacteristics(
  data,
  xAxis = "variable_name",
  yAxis = "estimate_value",
  plotStyle = "barplot",
  facetVars = NULL,
  colorVars = NULL,
  facetOrder = NULL,
  colorNames = NULL,
  vertical_x = FALSE,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCharacteristics_+3A_data">data</code></td>
<td>
<p>output of summariseCharacteristics.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_xaxis">xAxis</code></td>
<td>
<p>what to plot on x axis, default as variable_name column. Has to be a column in data.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_yaxis">yAxis</code></td>
<td>
<p>what to plot on y axis, default as estimate_value column. Has to be a column in data. One of the xAxis or yAxis has to be estimate_value.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_plotstyle">plotStyle</code></td>
<td>
<p>Now allows boxplot or barplot only.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_facetvars">facetVars</code></td>
<td>
<p>column in data to facet by.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_colorvars">colorVars</code></td>
<td>
<p>column in data to color by.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_facetorder">facetOrder</code></td>
<td>
<p>order of facet, make sure multiple facets are separated by period and in the order provided in facetVars.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_colornames">colorNames</code></td>
<td>
<p>A vector or pre-selected color.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_vertical_x">vertical_x</code></td>
<td>
<p>whether to display x axis string vertically.</p>
</td></tr>
<tr><td><code id="plotCharacteristics_+3A_options">options</code></td>
<td>
<p>Other plot options in a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

results &lt;- summariseCharacteristics(
  cohort = cdm$cohort1,
  ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150)),
  tableIntersect = list(
    tableName = "visit_occurrence", value = "count", window = c(-365, -1)
  ),
  cohortIntersect = list(
    targetCohortTable = "cohort2", value = "flag", window = c(-365, -1)
  )
)

plotCharacteristics(results)

CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='plotCohortIntersect'>Plot summariseCohortIntersect output.</h2><span id='topic+plotCohortIntersect'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCohortIntersect(
  data,
  xAxis = "variable_name",
  yAxis = "estimate_value",
  plotStyle = "barplot",
  facetVars = NULL,
  colorVars = NULL,
  facetOrder = NULL,
  colorNames = NULL,
  vertical_x = FALSE,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCohortIntersect_+3A_data">data</code></td>
<td>
<p>output of summariseCohortIntersect</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_xaxis">xAxis</code></td>
<td>
<p>what to plot on x axis, default as variable_name column. Has to be a column in data.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_yaxis">yAxis</code></td>
<td>
<p>what to plot on y axis, default as estimate_value column. Has to be a column in data. One of the xAxis or yAxis has to be estimate_value.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_plotstyle">plotStyle</code></td>
<td>
<p>Now allows boxplot or barplot only.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_facetvars">facetVars</code></td>
<td>
<p>column in data to facet by.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_colorvars">colorVars</code></td>
<td>
<p>column in data to color by.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_facetorder">facetOrder</code></td>
<td>
<p>order of facet, make sure multiple facets are separated by period and in the order provided in facetVars.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_colornames">colorNames</code></td>
<td>
<p>A vector or pre-selected color.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_vertical_x">vertical_x</code></td>
<td>
<p>whether to display x axis string vertically.</p>
</td></tr>
<tr><td><code id="plotCohortIntersect_+3A_options">options</code></td>
<td>
<p>Other plot options in a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
results &lt;- summariseCohortIntersect(
  cohort = cdm$cohort1,
  cohortIntersect = list(
    "Medications in the prior year" = list(
      targetCohortTable = "cohort2", value = "flag", window = c(-365, -1)
    )
  )
)
graph &lt;- plotCohortIntersect(results)
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='plotCohortOverlap'>Plot the result of summariseCohortOverlap.</h2><span id='topic+plotCohortOverlap'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCohortOverlap(
  result,
  facetBy = "variable_name",
  overlapLabel = "{cohort_name_reference}; {cohort_name_comparator}",
  uniqueCombinations = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCohortOverlap_+3A_result">result</code></td>
<td>
<p>A summariseCohortOverlap result.</p>
</td></tr>
<tr><td><code id="plotCohortOverlap_+3A_facetby">facetBy</code></td>
<td>
<p>Names of columns in the result table for faceting the
ggplot object.</p>
</td></tr>
<tr><td><code id="plotCohortOverlap_+3A_overlaplabel">overlapLabel</code></td>
<td>
<p>A glue expression to identify each plotted cohort
overlap.</p>
</td></tr>
<tr><td><code id="plotCohortOverlap_+3A_uniquecombinations">uniqueCombinations</code></td>
<td>
<p>If TRUE, only unique combinations of reference and
comparator plots will be plotted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()
overlap &lt;- summariseCohortOverlap(cdm$cohort2)
plotCohortOverlap(overlap)


</code></pre>

<hr>
<h2 id='plotCohortTiming'>Plot summariseCohortTiming results.</h2><span id='topic+plotCohortTiming'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCohortTiming(
  result,
  type = "boxplot",
  facetBy = NULL,
  color = c("cohort_name_reference", "cohort_name_comparator"),
  timingLabel = "{cohort_name_reference}; {cohort_name_comparator}",
  uniqueCombinations = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCohortTiming_+3A_result">result</code></td>
<td>
<p>A summariseCohortTiming result.</p>
</td></tr>
<tr><td><code id="plotCohortTiming_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities are &quot;boxplot&quot; and
&quot;density&quot;.</p>
</td></tr>
<tr><td><code id="plotCohortTiming_+3A_facetby">facetBy</code></td>
<td>
<p>Vector of column names  in the cohort_overlap table for faceting the
ggplot object.</p>
</td></tr>
<tr><td><code id="plotCohortTiming_+3A_color">color</code></td>
<td>
<p>Vector of column names to distinct by colors.</p>
</td></tr>
<tr><td><code id="plotCohortTiming_+3A_timinglabel">timingLabel</code></td>
<td>
<p>A glue expression to identify each plotted cohort
overlap.</p>
</td></tr>
<tr><td><code id="plotCohortTiming_+3A_uniquecombinations">uniqueCombinations</code></td>
<td>
<p>If TRUE, only unique combinations of reference and
comparator plots will be plotted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()
timing &lt;- summariseCohortTiming(cdm$cohort2)
plotCohortTiming(timing)
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='plotDemographics'>Plot summariseDemographics output.</h2><span id='topic+plotDemographics'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotDemographics(
  data,
  xAxis = "variable_name",
  yAxis = "estimate_value",
  plotStyle = "barplot",
  facetVars = NULL,
  colorVars = "variable_level",
  facetOrder = NULL,
  colorNames = NULL,
  vertical_x = FALSE,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotDemographics_+3A_data">data</code></td>
<td>
<p>output of summariseCharacteristics.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_xaxis">xAxis</code></td>
<td>
<p>what to plot on x axis, default as variable_name column. Has to be a column in data.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_yaxis">yAxis</code></td>
<td>
<p>what to plot on y axis, default as estimate_value column. Has to be a column in data. One of the xAxis or yAxis has to be estimate_value.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_plotstyle">plotStyle</code></td>
<td>
<p>Now allows boxplot or barplot only.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_facetvars">facetVars</code></td>
<td>
<p>column in data to facet by.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_colorvars">colorVars</code></td>
<td>
<p>column in data to color by.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_facetorder">facetOrder</code></td>
<td>
<p>order of facet, make sure multiple facets are separated by period and in the order provided in facetVars.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_colornames">colorNames</code></td>
<td>
<p>A vector or pre-selected color.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_vertical_x">vertical_x</code></td>
<td>
<p>whether to display x axis string vertically.</p>
</td></tr>
<tr><td><code id="plotDemographics_+3A_options">options</code></td>
<td>
<p>Other plot options in a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- mockPatientProfiles()
results &lt;- summariseDemographics(
  cohort = cdm$cohort1,
  ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150))
)
graph &lt;- plotDemographics(results)
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='plotLargeScaleCharacteristics'>create a ggplot from the output of summariseLargeScaleCharacteristics.</h2><span id='topic+plotLargeScaleCharacteristics'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotLargeScaleCharacteristics(
  data,
  xAxis = "variable_name",
  yAxis = "estimate_value",
  facetVars = NULL,
  colorVars = NULL,
  facetOrder = NULL,
  colorNames = NULL,
  vertical_x = FALSE,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_data">data</code></td>
<td>
<p>output of summariseLargeScaleCharacteristics.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_xaxis">xAxis</code></td>
<td>
<p>what to plot on x axis, default as variable_name column.
Has to be a column in data.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_yaxis">yAxis</code></td>
<td>
<p>what to plot on y axis, default as estimate_value column.
Has to be a column in data. One of the xAxis or yAxis has to be estimate_value.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_facetvars">facetVars</code></td>
<td>
<p>column in data to facet by.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_colorvars">colorVars</code></td>
<td>
<p>column in data to color by.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_facetorder">facetOrder</code></td>
<td>
<p>order of facet, make  sure multiple facets are separated
by period and in the order provided in facetVars.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_colornames">colorNames</code></td>
<td>
<p>A vector or pre-selected color.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_vertical_x">vertical_x</code></td>
<td>
<p>whether to display x axis string vertically.</p>
</td></tr>
<tr><td><code id="plotLargeScaleCharacteristics_+3A_options">options</code></td>
<td>
<p>Other plot options in a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()

concept &lt;- dplyr::tibble(
concept_id = c(1125315, 1503328, 1516978, 317009, 378253, 4266367),
domain_id = NA_character_,
vocabulary_id = NA_character_,
concept_class_id = NA_character_,
concept_code = NA_character_,
valid_start_date = as.Date("1900-01-01"),
valid_end_date = as.Date("2099-01-01")
) %&gt;%
 dplyr::mutate(concept_name = paste0("concept: ", .data$concept_id))
cdm &lt;- CDMConnector::insertTable(cdm, "concept", concept)
results &lt;- cdm$cohort2 %&gt;%
summariseLargeScaleCharacteristics(
  episodeInWindow = c("condition_occurrence"),
  minimumFrequency = 0
)
graphs &lt;- plotLargeScaleCharacteristics(results)
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='plotTableIntersect'>Plot summariseTableIntersect output.</h2><span id='topic+plotTableIntersect'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotTableIntersect(
  data,
  xAxis = "variable_name",
  yAxis = "estimate_value",
  plotStyle = "boxplot",
  facetVars = NULL,
  colorVars = NULL,
  facetOrder = NULL,
  colorNames = NULL,
  vertical_x = FALSE,
  options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotTableIntersect_+3A_data">data</code></td>
<td>
<p>output of summariseTableIntersect</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_xaxis">xAxis</code></td>
<td>
<p>what to plot on x axis, default as variable_name column. Has to be a column in data.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_yaxis">yAxis</code></td>
<td>
<p>what to plot on y axis, default as estimate_value column. Has to be a column in data. One of the xAxis or yAxis has to be estimate_value.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_plotstyle">plotStyle</code></td>
<td>
<p>Now allows boxplot or barplot only.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_facetvars">facetVars</code></td>
<td>
<p>column in data to facet by.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_colorvars">colorVars</code></td>
<td>
<p>column in data to color by.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_facetorder">facetOrder</code></td>
<td>
<p>order of facet, make sure multiple facets are separated by period and in the order provided in facetVars.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_colornames">colorNames</code></td>
<td>
<p>A vector or pre-selected color.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_vertical_x">vertical_x</code></td>
<td>
<p>whether to display x axis string vertically.</p>
</td></tr>
<tr><td><code id="plotTableIntersect_+3A_options">options</code></td>
<td>
<p>Other plot options in a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot.
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+suppress'></span><span id='topic+settings'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>omopgenerics</dt><dd><p><code><a href="omopgenerics.html#topic+settings">settings</a></code>, <code><a href="omopgenerics.html#topic+suppress">suppress</a></code></p>
</dd>
</dl>

<hr>
<h2 id='sourceConceptIdColumn'>Get the name of the source concept_id column for a certain table in the cdm</h2><span id='topic+sourceConceptIdColumn'></span>

<h3>Description</h3>

<p>Get the name of the source concept_id column for a certain table in the cdm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sourceConceptIdColumn(tableName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sourceConceptIdColumn_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of the source_concept_id column in that table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
sourceConceptIdColumn("condition_occurrence")


</code></pre>

<hr>
<h2 id='standardConceptIdColumn'>Get the name of the standard concept_id column for a certain table in the cdm</h2><span id='topic+standardConceptIdColumn'></span>

<h3>Description</h3>

<p>Get the name of the standard concept_id column for a certain table in the cdm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>standardConceptIdColumn(tableName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="standardConceptIdColumn_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of the concept_id column in that table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
standardConceptIdColumn("condition_occurrence")


</code></pre>

<hr>
<h2 id='startDateColumn'>Get the name of the start date column for a certain table in the cdm</h2><span id='topic+startDateColumn'></span>

<h3>Description</h3>

<p>Get the name of the start date column for a certain table in the cdm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>startDateColumn(tableName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="startDateColumn_+3A_tablename">tableName</code></td>
<td>
<p>Name of the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Name of the start date column in that table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
startDateColumn("condition_occurrence")


</code></pre>

<hr>
<h2 id='summariseCharacteristics'>Summarise characteristics of individuals</h2><span id='topic+summariseCharacteristics'></span>

<h3>Description</h3>

<p>Summarise characteristics of individuals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseCharacteristics(
  cohort,
  cdm = lifecycle::deprecated(),
  strata = list(),
  demographics = TRUE,
  ageGroup = NULL,
  tableIntersect = list(),
  cohortIntersect = list(),
  conceptIntersect = list(),
  otherVariables = character()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseCharacteristics_+3A_cohort">cohort</code></td>
<td>
<p>A cohort in the cdm.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_cdm">cdm</code></td>
<td>
<p>A cdm reference.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_strata">strata</code></td>
<td>
<p>Stratification list.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_demographics">demographics</code></td>
<td>
<p>Whether to summarise demographics data.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_agegroup">ageGroup</code></td>
<td>
<p>A list of age groups.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_tableintersect">tableIntersect</code></td>
<td>
<p>A list of arguments that uses addTableIntersect
function to add variables to summarise.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_cohortintersect">cohortIntersect</code></td>
<td>
<p>A list of arguments that uses addCohortIntersect
function to add variables to summarise.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_conceptintersect">conceptIntersect</code></td>
<td>
<p>A list of arguments that uses addConceptIntersect
function to add variables to summarise.</p>
</td></tr>
<tr><td><code id="summariseCharacteristics_+3A_othervariables">otherVariables</code></td>
<td>
<p>Other variables contained in cohort that you want to be
summarised.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary of the characteristics of the individuals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

summariseCharacteristics(
  cohort = cdm$cohort1,
  ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150)),
  tableIntersect = list(
    "Number visits prior year" = list(
      tableName = "visit_occurrence", value = "count", window = c(-365, -1)
    )
  ),
  cohortIntersect = list(
    "Drugs prior year" = list(
      targetCohortTable = "cohort2", value = "flag", window = c(-365, -1)
    ),
    "Conditions any time prior" = list(
      targetCohortTable = "cohort2", value = "flag", window = c(-Inf, -1)
    )
  )
)
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='summariseCohortIntersect'>Summarise cohort intersection information</h2><span id='topic+summariseCohortIntersect'></span>

<h3>Description</h3>

<p>Summarise cohort intersection information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseCohortIntersect(cohort, cohortIntersect = list(), strata = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseCohortIntersect_+3A_cohort">cohort</code></td>
<td>
<p>A cohort in the cdm.</p>
</td></tr>
<tr><td><code id="summariseCohortIntersect_+3A_cohortintersect">cohortIntersect</code></td>
<td>
<p>The settings for cohort intersection settings.</p>
</td></tr>
<tr><td><code id="summariseCohortIntersect_+3A_strata">strata</code></td>
<td>
<p>Stratification list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary of the cohort intersection informations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

summariseCohortIntersect(
  cohort = cdm$cohort1,
  cohortIntersect = list(
    "Medications in the prior year" = list(
      targetCohortTable = "cohort2", value = "flag", window = c(-365, -1)
    )
  )
)
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='summariseCohortOverlap'>Summarise cohort overlap</h2><span id='topic+summariseCohortOverlap'></span>

<h3>Description</h3>

<p>Summarise cohort overlap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseCohortOverlap(cohort, cohortId = NULL, strata = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseCohortOverlap_+3A_cohort">cohort</code></td>
<td>
<p>A cohort table in a cdm reference.</p>
</td></tr>
<tr><td><code id="summariseCohortOverlap_+3A_cohortid">cohortId</code></td>
<td>
<p>Vector of cohort definition ids to include, if NULL, all
cohort definition ids will be used.</p>
</td></tr>
<tr><td><code id="summariseCohortOverlap_+3A_strata">strata</code></td>
<td>
<p>List of the stratifications within each group to be considered.
Must be column names in the cohort table provided.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()
results &lt;- summariseCohortOverlap(cdm$cohort2)
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='summariseCohortTiming'>Summarise cohort timing</h2><span id='topic+summariseCohortTiming'></span>

<h3>Description</h3>

<p>Summarise cohort timing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseCohortTiming(
  cohort,
  cohortId = NULL,
  strata = list(),
  restrictToFirstEntry = TRUE,
  timing = c("min", "q25", "median", "q75", "max"),
  density = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseCohortTiming_+3A_cohort">cohort</code></td>
<td>
<p>A cohort table in a cdm reference.</p>
</td></tr>
<tr><td><code id="summariseCohortTiming_+3A_cohortid">cohortId</code></td>
<td>
<p>Vector of cohort definition ids to include, if NULL, all
cohort definition ids will be used.</p>
</td></tr>
<tr><td><code id="summariseCohortTiming_+3A_strata">strata</code></td>
<td>
<p>List of the stratifications within each group to be considered.
Must be column names in the cohort table provided.</p>
</td></tr>
<tr><td><code id="summariseCohortTiming_+3A_restricttofirstentry">restrictToFirstEntry</code></td>
<td>
<p>If TRUE only an individual's first entry per
cohort will be considered. If FALSE all entries per individual will be
considered.</p>
</td></tr>
<tr><td><code id="summariseCohortTiming_+3A_timing">timing</code></td>
<td>
<p>Summary statistics for timing.</p>
</td></tr>
<tr><td><code id="summariseCohortTiming_+3A_density">density</code></td>
<td>
<p>Get data for density plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()
results &lt;- summariseCohortTiming(cdm$cohort2)
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='summariseConceptIntersect'>Summarise concept intersect with a cohort_table</h2><span id='topic+summariseConceptIntersect'></span>

<h3>Description</h3>

<p>Summarise concept intersect with a cohort_table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseConceptIntersect(cohort, conceptIntersect, strata = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseConceptIntersect_+3A_cohort">cohort</code></td>
<td>
<p>A cohort in the cdm</p>
</td></tr>
<tr><td><code id="summariseConceptIntersect_+3A_conceptintersect">conceptIntersect</code></td>
<td>
<p>A list of arguments that uses addConceptIntersect
function to add variables to summarise.</p>
</td></tr>
<tr><td><code id="summariseConceptIntersect_+3A_strata">strata</code></td>
<td>
<p>Stratification list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary of the concept intersect of the individuals
</p>

<hr>
<h2 id='summariseDemographics'>Summarise demographics of individuals</h2><span id='topic+summariseDemographics'></span>

<h3>Description</h3>

<p>Summarise demographics of individuals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseDemographics(cohort, strata = list(), ageGroup = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseDemographics_+3A_cohort">cohort</code></td>
<td>
<p>A cohort in the cdm.</p>
</td></tr>
<tr><td><code id="summariseDemographics_+3A_strata">strata</code></td>
<td>
<p>Stratification list.</p>
</td></tr>
<tr><td><code id="summariseDemographics_+3A_agegroup">ageGroup</code></td>
<td>
<p>A list of age groups.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary of the demographics of the individuals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

summariseDemographics(
  cohort = cdm$cohort1,
  ageGroup = list(c(0, 19), c(20, 39), c(40, 59), c(60, 79), c(80, 150))
)
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='summariseLargeScaleCharacteristics'>This function is used to summarise the large scale characteristics of a
cohort table</h2><span id='topic+summariseLargeScaleCharacteristics'></span>

<h3>Description</h3>

<p>This function is used to summarise the large scale characteristics of a
cohort table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseLargeScaleCharacteristics(
  cohort,
  strata = list(),
  window = list(c(-Inf, -366), c(-365, -31), c(-30, -1), c(0, 0), c(1, 30), c(31, 365),
    c(366, Inf)),
  eventInWindow = NULL,
  episodeInWindow = NULL,
  indexDate = "cohort_start_date",
  censorDate = NULL,
  includeSource = FALSE,
  minimumFrequency = 0.005,
  excludedCodes = c(0),
  cdm = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_cohort">cohort</code></td>
<td>
<p>The cohort to characterise.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_strata">strata</code></td>
<td>
<p>Stratification list.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_window">window</code></td>
<td>
<p>Temporal windows that we want to characterize.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_eventinwindow">eventInWindow</code></td>
<td>
<p>Tables to characterise the events in the window. eventInWindow must be provided if episodeInWindow is not specified.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_episodeinwindow">episodeInWindow</code></td>
<td>
<p>Tables to characterise the episodes in the window. episodeInWindow must be provided if eventInWindow is not specified.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_indexdate">indexDate</code></td>
<td>
<p>Variable in x that contains the date to compute the
intersection.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_censordate">censorDate</code></td>
<td>
<p>whether to censor overlap events at a specific date
or a column date of x</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_includesource">includeSource</code></td>
<td>
<p>Whether to include source concepts.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_minimumfrequency">minimumFrequency</code></td>
<td>
<p>Minimum frequency covariates to report.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_excludedcodes">excludedCodes</code></td>
<td>
<p>Codes excluded.</p>
</td></tr>
<tr><td><code id="summariseLargeScaleCharacteristics_+3A_cdm">cdm</code></td>
<td>
<p>A cdm reference.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of this function is a 'ResultSummary' containing the
relevant information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()

concept &lt;- dplyr::tibble(
concept_id = c(1125315, 1503328, 1516978, 317009, 378253, 4266367),
domain_id = NA_character_,
vocabulary_id = NA_character_,
concept_class_id = NA_character_,
concept_code = NA_character_,
valid_start_date = as.Date("1900-01-01"),
valid_end_date = as.Date("2099-01-01")
) %&gt;%
 dplyr::mutate(concept_name = paste0("concept: ", .data$concept_id))
cdm &lt;- CDMConnector::insertTable(cdm, "concept", concept)
results &lt;- cdm$cohort2 %&gt;%
summariseLargeScaleCharacteristics(
 episodeInWindow = c("condition_occurrence"),
 minimumFrequency = 0
 )
CDMConnector::cdmDisconnect(cdm = cdm)

</code></pre>

<hr>
<h2 id='summariseResult'>Summarise variables using a set of estimate functions. The output will be
a formatted summarised_result object.</h2><span id='topic+summariseResult'></span>

<h3>Description</h3>

<p>Summarise variables using a set of estimate functions. The output will be
a formatted summarised_result object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseResult(
  table,
  group = list(),
  includeOverallGroup = FALSE,
  strata = list(),
  includeOverallStrata = TRUE,
  variables = NULL,
  functions = lifecycle::deprecated(),
  estimates = c("min", "q25", "median", "q75", "max", "count", "percentage"),
  counts = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseResult_+3A_table">table</code></td>
<td>
<p>Table with different records.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_group">group</code></td>
<td>
<p>List of groups to be considered.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_includeoverallgroup">includeOverallGroup</code></td>
<td>
<p>TRUE or FALSE. If TRUE, results for an overall
group will be reported when a list of groups has been specified.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_strata">strata</code></td>
<td>
<p>List of the stratifications within each group to be considered.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_includeoverallstrata">includeOverallStrata</code></td>
<td>
<p>TRUE or FALSE. If TRUE, results for an overall
strata will be reported when a list of strata has been specified.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_variables">variables</code></td>
<td>
<p>Variables to summarise, it can be a list to point to different
set of estimate names.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_functions">functions</code></td>
<td>
<p>deprecated.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_estimates">estimates</code></td>
<td>
<p>Estimates to obtain, it can be a list to point to different
set of variables.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_counts">counts</code></td>
<td>
<p>Whether to compute number of records and number of subjects.</p>
</td></tr>
<tr><td><code id="summariseResult_+3A_verbose">verbose</code></td>
<td>
<p>Whether to print progress.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised_result object with the summarised data of interest.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
library(dplyr)

cdm &lt;- mockPatientProfiles()
x &lt;- cdm$cohort1 %&gt;%
  addDemographics() %&gt;%
  collect()
result &lt;- summariseResult(x)
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='summariseTableIntersect'>Summarise table intersection information</h2><span id='topic+summariseTableIntersect'></span>

<h3>Description</h3>

<p>Summarise table intersection information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseTableIntersect(cohort, tableIntersect = list(), strata = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseTableIntersect_+3A_cohort">cohort</code></td>
<td>
<p>A cohort in the cdm.</p>
</td></tr>
<tr><td><code id="summariseTableIntersect_+3A_tableintersect">tableIntersect</code></td>
<td>
<p>A list of arguments that uses addTableIntersect
function to add variables to summarise.</p>
</td></tr>
<tr><td><code id="summariseTableIntersect_+3A_strata">strata</code></td>
<td>
<p>Stratification list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary of the table intersections.
</p>

<hr>
<h2 id='tableCharacteristics'>Format a summarised_characteristics object into a visual table.</h2><span id='topic+tableCharacteristics'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableCharacteristics(
  result,
  type = "gt",
  formatEstimateName = c(`N (%)` = "&lt;count&gt; (&lt;percentage&gt;%)", N = "&lt;count&gt;",
    `Median [Q25 - Q75]` = "&lt;median&gt; [&lt;q25&gt; - &lt;q75&gt;]", `[Q05 - Q95]` = "[&lt;q05&gt; - &lt;q95&gt;]",
    `Mean (SD)` = "&lt;mean&gt; (&lt;sd&gt;)", Range = "&lt;min&gt; to &lt;max&gt;"),
  header = c("group"),
  split = c("group", "strata"),
  groupColumn = NULL,
  minCellCount = 5,
  excludeColumns = c("result_id", "result_type", "package_name", "package_version",
    "estimate_type", "additional_name", "additional_level"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableCharacteristics_+3A_result">result</code></td>
<td>
<p>A summarised_characteristics object.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order. Allowed are: 'cdm_name', 'group', 'strata', 'additional',
'variable', 'estimate', 'settings'.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Counts below which results will be clouded.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="tableCharacteristics_+3A_.options">.options</code></td>
<td>
<p>Named list with additional formatting options.
PatientProfiles::optionsTableCharacteristics() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with a formatted version of the summariseCharacteristics
result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

cdm$cohort1 |&gt;
  summariseCharacteristics() |&gt;
  tableCharacteristics()

CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='tableCohortIntersect'>Format a summariseCohortIntersect result into a visual table.</h2><span id='topic+tableCohortIntersect'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableCohortIntersect(
  result,
  type = "gt",
  formatEstimateName = c(`N (%)` = "&lt;count&gt; (&lt;percentage&gt;%)", `Median [Q25 - Q75]` =
    "&lt;median&gt; [&lt;q25&gt; - &lt;q75&gt;]", `Mean (SD)` = "&lt;mean&gt; (&lt;sd&gt;)", Range = "&lt;min&gt; to &lt;max&gt;"),
  header = c("group"),
  split = c("group", "strata"),
  groupColumn = NULL,
  minCellCount = 5,
  excludeColumns = c("result_id", "result_type", "package_name", "package_version",
    "estimate_type", "additional_name", "additional_level"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableCohortIntersect_+3A_result">result</code></td>
<td>
<p>A result from summariseCohortIntersect.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order. Allowed are: 'cdm_name', 'group', 'strata', 'additional',
'variable', 'estimate', 'settings'.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Counts below which results will be clouded.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="tableCohortIntersect_+3A_.options">.options</code></td>
<td>
<p>Named list with additional formatting options.
PatientProfiles::optionsTableCharacteristics() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with a formatted version of a summariseCohortIntersect
result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

cdm$cohort1 |&gt;
 summariseCohortIntersect(
  cohortIntersect = list(
    "Medications in the prior year" = list(
      targetCohortTable = "cohort2", value = "flag", window = c(-365, -1)
    )
   )
  ) |&gt;
  tableCohortIntersect()

CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='tableCohortOverlap'>Format a summariseOverlapCohort result into a visual table.</h2><span id='topic+tableCohortOverlap'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableCohortOverlap(
  result,
  type = "gt",
  formatEstimateName = c(`N (%)` = "&lt;count&gt; (&lt;percentage&gt;%)"),
  header = c("strata"),
  split = c("group", "strata", "additional"),
  groupColumn = NULL,
  minCellCount = 5,
  excludeColumns = c("result_id", "result_type", "package_name", "package_version",
    "estimate_type"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableCohortOverlap_+3A_result">result</code></td>
<td>
<p>A summariseOverlapCohort result.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order. Allowed are: 'cdm_name', 'group', 'strata', 'additional',
'variable', 'estimate', 'settings'.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Counts below which results will be clouded.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="tableCohortOverlap_+3A_.options">.options</code></td>
<td>
<p>Named list with additional formatting options.
PatientProfiles::optionsTableCohortOverlap() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted table of the summariseOverlapCohort result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()
overlap &lt;- summariseCohortOverlap(cdm$cohort2)
tableCohortOverlap(overlap)
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='tableCohortTiming'>Format a summariseCohortTiming result into a visual table.</h2><span id='topic+tableCohortTiming'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableCohortTiming(
  result,
  type = "gt",
  formatEstimateName = c(N = "&lt;count&gt;", `Median [Q25 - Q75]` =
    "&lt;median&gt; [&lt;q25&gt; - &lt;q75&gt;]", Range = "&lt;min&gt; - &lt;max&gt;"),
  header = c("strata"),
  split = c("group", "strata", "additional"),
  groupColumn = NULL,
  minCellCount = 5,
  excludeColumns = c("result_id", "result_type", "package_name", "package_version",
    "estimate_type", "variable_level"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableCohortTiming_+3A_result">result</code></td>
<td>
<p>A summariseCohortTiming result</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order. Allowed are: 'cdm_name', 'group', 'strata', 'additional',
'variable', 'estimate', 'settings'.</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Counts below which results will be clouded.</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="tableCohortTiming_+3A_.options">.options</code></td>
<td>
<p>named list with additional formatting options.
PatientProfiles::optionsTableCohortTiming() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted table of the summariseCohortTiming result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
cdm &lt;- PatientProfiles::mockPatientProfiles()
timing &lt;- summariseCohortTiming(cdm$cohort2)
tableCohortTiming(timing)
CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='tableDemographics'>Format a summariseDemographics result into a visual table.</h2><span id='topic+tableDemographics'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableDemographics(
  result,
  type = "gt",
  formatEstimateName = c(`N (%)` = "&lt;count&gt; (&lt;percentage&gt;%)", `Median [Q25 - Q75]` =
    "&lt;median&gt; [&lt;q25&gt; - &lt;q75&gt;]", `[Q05 - Q95]` = "[&lt;q05&gt; - &lt;q95&gt;]", `Mean (SD)` =
    "&lt;mean&gt; (&lt;sd&gt;)", Range = "&lt;min&gt; to &lt;max&gt;"),
  header = c("group"),
  split = c("group", "strata"),
  groupColumn = NULL,
  minCellCount = 5,
  excludeColumns = c("result_id", "result_type", "package_name", "package_version",
    "estimate_type", "additional_name", "additional_level"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableDemographics_+3A_result">result</code></td>
<td>
<p>A result from summariseDemographics.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order. Allowed are: 'cdm_name', 'group', 'strata', 'additional',
'variable', 'estimate', 'settings'.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Counts below which results will be clouded.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="tableDemographics_+3A_.options">.options</code></td>
<td>
<p>Named list with additional formatting options.
PatientProfiles::optionsTableCharacteristics() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with a formatted version of a summariseDemographics result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)

cdm &lt;- mockPatientProfiles()

cdm$cohort1 |&gt;
 summariseDemographics() |&gt;
 tableDemographics()

CDMConnector::cdmDisconnect(cdm = cdm)


</code></pre>

<hr>
<h2 id='tableLargeScaleCharacteristics'>Format a summarised_large_scale_characteristics object into a visual table.</h2><span id='topic+tableLargeScaleCharacteristics'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableLargeScaleCharacteristics(
  result,
  type = "gt",
  formatEstimateName = c(`N (%)` = "&lt;count&gt; (&lt;percentage&gt;%)"),
  splitStrata = TRUE,
  header = c("cdm name", "cohort name", "strata", "window name"),
  topConcepts = 10,
  minCellCount = 5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableLargeScaleCharacteristics_+3A_result">result</code></td>
<td>
<p>A summarised_large_scalecharacteristics object.</p>
</td></tr>
<tr><td><code id="tableLargeScaleCharacteristics_+3A_type">type</code></td>
<td>
<p>Output type (&quot;gt&quot; or &quot;flextable&quot;).</p>
</td></tr>
<tr><td><code id="tableLargeScaleCharacteristics_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="tableLargeScaleCharacteristics_+3A_splitstrata">splitStrata</code></td>
<td>
<p>Whether to split strata_group and starta_level to multiple
columns.</p>
</td></tr>
<tr><td><code id="tableLargeScaleCharacteristics_+3A_header">header</code></td>
<td>
<p>Specify the headers of the table.</p>
</td></tr>
<tr><td><code id="tableLargeScaleCharacteristics_+3A_topconcepts">topConcepts</code></td>
<td>
<p>Number of concepts to restrict the table.</p>
</td></tr>
<tr><td><code id="tableLargeScaleCharacteristics_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Minimum number of counts to display.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(DBI)
library(duckdb)
library(CDMConnector)

con &lt;- dbConnect(duckdb(), eunomia_dir())
cdm &lt;- cdmFromCon(con = con, cdmSchema = "main", writeSchema = "main")
cdm &lt;- generateConceptCohortSet(
  cdm = cdm,
  conceptSet = list("viral_pharyngitis" = 4112343),
  name = "my_cohort"
)
result &lt;- summariseLargeScaleCharacteristics(
  cohort = cdm$my_cohort,
  eventInWindow = "condition_occurrence",
  episodeInWindow = "drug_exposure"
)
tableLargeScaleCharacteristics(result)

## End(Not run)

</code></pre>

<hr>
<h2 id='tableTableIntersect'>Format a summariseTableIntersect result into a visual table.</h2><span id='topic+tableTableIntersect'></span>

<h3>Description</h3>

<p>'r lifecycle::badge(&quot;experimental&quot;)'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tableTableIntersect(
  result,
  type = "gt",
  formatEstimateName = c(`N (%)` = "&lt;count&gt; (&lt;percentage&gt;%)", `Median [Q25 - Q75]` =
    "&lt;median&gt; [&lt;q25&gt; - &lt;q75&gt;]", `Mean (SD)` = "&lt;mean&gt; (&lt;sd&gt;)", Range = "&lt;min&gt; to &lt;max&gt;"),
  header = c("group"),
  split = c("group", "strata"),
  groupColumn = NULL,
  minCellCount = 5,
  excludeColumns = c("result_id", "result_type", "package_name", "package_version",
    "estimate_type", "variable_level", "additional_name", "additional_level"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tableTableIntersect_+3A_result">result</code></td>
<td>
<p>A result from summariseTableIntersect.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order. Allowed are: 'cdm_name', 'group', 'strata', 'additional',
'variable', 'estimate', 'settings'.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_mincellcount">minCellCount</code></td>
<td>
<p>Counts below which results will be clouded.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="tableTableIntersect_+3A_.options">.options</code></td>
<td>
<p>Named list with additional formatting options.
PatientProfiles::optionsTableCharacteristics() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table with a formatted version of a summariseTableIntersect
result.
</p>

<hr>
<h2 id='variableTypes'>Classify the variables between 5 types: &quot;numeric&quot;, &quot;categorical&quot;, &quot;binary&quot;,
&quot;date&quot;, or NA.</h2><span id='topic+variableTypes'></span>

<h3>Description</h3>

<p>Classify the variables between 5 types: &quot;numeric&quot;, &quot;categorical&quot;, &quot;binary&quot;,
&quot;date&quot;, or NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variableTypes(table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variableTypes_+3A_table">table</code></td>
<td>
<p>Tibble.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble with the variables type and classification.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(PatientProfiles)
x &lt;- dplyr::tibble(
  person_id = c(1, 2),
  start_date = as.Date(c("2020-05-02", "2021-11-19")),
  asthma = c(0, 1)
)
variableTypes(x)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

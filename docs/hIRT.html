<!DOCTYPE html><html><head><title>Help for package hIRT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hIRT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#coef_item'><p>Parameter Estimates from Hierarchical IRT Models.</p></a></li>
<li><a href='#hgrm'><p>Fitting Hierarchical Graded Response Models (for Ordinal Responses)</p></a></li>
<li><a href='#hgrm2'><p>Hierarchical Graded Response Models with Known Item Parameters</p></a></li>
<li><a href='#hltm'><p>Fitting Hierarchical Latent Trait Models (for Binary Responses).</p></a></li>
<li><a href='#hltm2'><p>Hierarchical Latent Trait Models with Known Item Parameters.</p></a></li>
<li><a href='#latent_scores'><p>Estimates of Latent Preferences/Abilities</p></a></li>
<li><a href='#nes_econ2008'><p>Public Attitudes on Economic Issues in ANES 2008</p></a></li>
<li><a href='#print.hIRT'><p>Printing an object of class <code>hIRT</code></p></a></li>
<li><a href='#summary.hIRT'><p>Summarizing Hierarchical Item Response Theory Models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Hierarchical Item Response Theory Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Implementation of a class of hierarchical item response
  theory (IRT) models where both the mean and the variance of latent preferences
  (ability parameters) may depend on observed covariates. The current
  implementation includes both the two-parameter latent trait model for binary data and the
  graded response model for ordinal data. Both are fitted via the Expectation-Maximization (EM)
  algorithm. Asymptotic standard errors are derived from the observed information
  matrix.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), stats</td>
</tr>
<tr>
<td>Imports:</td>
<td>pryr (&ge; 0.1.2), rms (&ge; 5.1-1), ltm (&ge; 1.1-1), Matrix (&ge;
1.2-10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2 (&ge; 2.2.1), knitr, rmarkdown</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://github.com/xiangzhou09/hIRT">http://github.com/xiangzhou09/hIRT</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="http://github.com/xiangzhou09/hIRT">http://github.com/xiangzhou09/hIRT</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-03-26 16:46:52 UTC; Xiang</td>
</tr>
<tr>
<td>Author:</td>
<td>Xiang Zhou [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Xiang Zhou &lt;xiang_zhou@fas.harvard.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-03-26 17:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='coef_item'>Parameter Estimates from Hierarchical IRT Models.</h2><span id='topic+coef_item'></span><span id='topic+coef_mean'></span><span id='topic+coef_var'></span>

<h3>Description</h3>

<p>Parameter estimates from either <code>hltm</code> or <code>hgrm</code> models. <code>code_item</code>
reports estimates of item parameters. <code>coef_mean</code> reports results for the mean equation.
<code>coef_var</code> reports results for the variance equation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coef_item(x, by_item = TRUE, digits = 3)

coef_mean(x, digits = 3)

coef_var(x, digits = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef_item_+3A_x">x</code></td>
<td>
<p>An object of class <code>hIRT</code></p>
</td></tr>
<tr><td><code id="coef_item_+3A_by_item">by_item</code></td>
<td>
<p>Logical. Should item parameters be stored item by item
(if <code>TRUE</code>) or put together in a data frame (if <code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="coef_item_+3A_digits">digits</code></td>
<td>
<p>The number of significant digits to use when printing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Parameter estimates, standard errors, z values, and p values
organized as a data frame (if <code>by_item = TRUE</code>) or a list (if <code>
  by_item = FALSE</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- nes_econ2008[, -(1:3)]
x &lt;- model.matrix( ~ party * educ, nes_econ2008)
z &lt;- model.matrix( ~ party, nes_econ2008)
nes_m1 &lt;- hgrm(y, x, z)
coef_item(nes_m1)
coef_mean(nes_m1)
coef_var(nes_m1)
</code></pre>

<hr>
<h2 id='hgrm'>Fitting Hierarchical Graded Response Models (for Ordinal Responses)</h2><span id='topic+hgrm'></span>

<h3>Description</h3>

<p><code>hgrm</code> fits a hierarchical graded response model in which both
the mean and the variance of the latent preference (ability parameter)
may depend on person-specific covariates (<code>x</code> and <code>z</code>).
Specifically, the mean is specified as a linear combination of <code>x</code>
and the log of the variance is specified as a linear combination of
<code>z</code>. Nonresponses are treated as missing at random.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgrm(
  y,
  x = NULL,
  z = NULL,
  constr = c("latent_scale", "items"),
  beta_set = 1L,
  sign_set = TRUE,
  init = c("naive", "glm", "irt"),
  control = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hgrm_+3A_y">y</code></td>
<td>
<p>A data frame or matrix of item responses.</p>
</td></tr>
<tr><td><code id="hgrm_+3A_x">x</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
mean of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hgrm_+3A_z">z</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
variance of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hgrm_+3A_constr">constr</code></td>
<td>
<p>The type of constraints used to identify the model: &quot;latent_scale&quot;,
or &quot;items&quot;. The default, &quot;latent_scale&quot; constrains the mean of latent preferences
to zero and the geometric mean of prior variance to one; &quot;items&quot; places constraints
on item parameters instead and sets the mean of item difficulty parameters to zero
and the geometric mean of the discrimination parameters to one.</p>
</td></tr>
<tr><td><code id="hgrm_+3A_beta_set">beta_set</code></td>
<td>
<p>The index of the item for which the discrimination parameter is
restricted to be positive (or negative). It may take any integer value from
1 to <code>ncol(y)</code>.</p>
</td></tr>
<tr><td><code id="hgrm_+3A_sign_set">sign_set</code></td>
<td>
<p>Logical. Should the discrimination parameter of
the corresponding item (indexed by <code>beta_set</code>) be positive
(if <code>TRUE</code>) or negative (if <code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="hgrm_+3A_init">init</code></td>
<td>
<p>A character string indicating how item parameters are initialized. It can be
&quot;naive&quot;, &quot;glm&quot;, or &quot;irt&quot;.</p>
</td></tr>
<tr><td><code id="hgrm_+3A_control">control</code></td>
<td>
<p>A list of control values
</p>

<dl>
<dt>max_iter</dt><dd><p>The maximum number of iterations of the EM algorithm.
The default is 150.</p>
</dd>
<dt>eps</dt><dd><p>Tolerance parameter used to determine convergence of the
EM algorithm. Specifically, iterations continue until the Euclidean
distance between <code class="reqn">\beta_{n}</code> and <code class="reqn">\beta_{n-1}</code> falls under <code>eps</code>,
where <code class="reqn">\beta</code> is the vector of item discrimination parameters.
<code>eps</code>=1e-4 by default.</p>
</dd>
<dt>max_iter2</dt><dd><p>The maximum number of iterations of the conditional
maximization procedures for updating <code class="reqn">\gamma</code> and <code class="reqn">\lambda</code>.
The default is 15.</p>
</dd>
<dt>eps2</dt><dd><p>Tolerance parameter used to determine convergence of the
conditional maximization procedures for updating <code class="reqn">\gamma</code> and
<code class="reqn">\lambda</code>. Specifically, iterations continue until the Euclidean
distance between two consecutive log likelihoods falls under <code>eps2</code>.
<code>eps2</code>=1e-3 by default.</p>
</dd>
<dt>K</dt><dd><p>Number of Gauss-Legendre quadrature points for the E-step. The default is 21.</p>
</dd>
<dt>C</dt><dd><p>[-C, C] sets the range of integral in the E-step. <code>C</code>=3 by default.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>hgrm</code>.
</p>
<table>
<tr><td><code>coefficients</code></td>
<td>
<p>A data frame of parameter estimates, standard errors,
z values and p values.</p>
</td></tr>
<tr><td><code>scores</code></td>
<td>
<p>A data frame of EAP estimates of latent preferences and
their approximate standard errors.</p>
</td></tr>
<tr><td><code>vcov</code></td>
<td>
<p>Variance-covariance matrix of parameter estimates.</p>
</td></tr>
<tr><td><code>log_Lik</code></td>
<td>
<p>The log-likelihood value at convergence.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Number of units.</p>
</td></tr>
<tr><td><code>J</code></td>
<td>
<p>Number of items.</p>
</td></tr>
<tr><td><code>H</code></td>
<td>
<p>A vector denoting the number of response categories for each item.</p>
</td></tr>
<tr><td><code>ylevels</code></td>
<td>
<p>A list showing the levels of the factorized response categories.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>The number of predictors for the mean equation.</p>
</td></tr>
<tr><td><code>q</code></td>
<td>
<p>The number of predictors for the variance equation.</p>
</td></tr>
<tr><td><code>control</code></td>
<td>
<p>List of control values.</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>The matched call.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Zhou, Xiang. 2019. &quot;<a href="https://doi.org/10.1017/pan.2018.63">Hierarchical Item Response Models for Analyzing Public Opinion.</a>&quot; Political Analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- nes_econ2008[, -(1:3)]
x &lt;- model.matrix( ~ party * educ, nes_econ2008)
z &lt;- model.matrix( ~ party, nes_econ2008)
nes_m1 &lt;- hgrm(y, x, z)
nes_m1
</code></pre>

<hr>
<h2 id='hgrm2'>Hierarchical Graded Response Models with Known Item Parameters</h2><span id='topic+hgrm2'></span>

<h3>Description</h3>

<p><code>hgrm2</code> fits a hierarchical graded response model where the item parameters
are known and supplied by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgrm2(y, x = NULL, z = NULL, item_coefs, control = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hgrm2_+3A_y">y</code></td>
<td>
<p>A data frame or matrix of item responses.</p>
</td></tr>
<tr><td><code id="hgrm2_+3A_x">x</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
mean of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hgrm2_+3A_z">z</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
variance of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hgrm2_+3A_item_coefs">item_coefs</code></td>
<td>
<p>A list of known item parameters. The parameters of item <code class="reqn">j</code> are given
by the <code class="reqn">j</code>th element, which should be a vector of length <code class="reqn">H_j</code>, containing
<code class="reqn">H_j - 1</code> item difficulty parameters (in descending order) and one item discrimination
parameter.</p>
</td></tr>
<tr><td><code id="hgrm2_+3A_control">control</code></td>
<td>
<p>A list of control values
</p>

<dl>
<dt>max_iter</dt><dd><p>The maximum number of iterations of the EM algorithm.
The default is 150.</p>
</dd>
<dt>eps</dt><dd><p>Tolerance parameter used to determine convergence of the
EM algorithm. Specifically, iterations continue until the Euclidean
distance between <code class="reqn">\beta_{n}</code> and <code class="reqn">\beta_{n-1}</code> falls under <code>eps</code>,
where <code class="reqn">\beta</code> is the vector of item discrimination parameters.
<code>eps</code>=1e-4 by default.</p>
</dd>
<dt>max_iter2</dt><dd><p>The maximum number of iterations of the conditional
maximization procedures for updating <code class="reqn">\gamma</code> and <code class="reqn">\lambda</code>.
The default is 15.</p>
</dd>
<dt>eps2</dt><dd><p>Tolerance parameter used to determine convergence of the
conditional maximization procedures for updating <code class="reqn">\gamma</code> and
<code class="reqn">\lambda</code>. Specifically, iterations continue until the Euclidean
distance between two consecutive log likelihoods falls under <code>eps2</code>.
<code>eps2</code>=1e-3 by default.</p>
</dd>
<dt>K</dt><dd><p>Number of Gauss-Legendre quadrature points for the E-step. The default is 21.</p>
</dd>
<dt>C</dt><dd><p>[-C, C] sets the range of integral in the E-step. <code>C</code>=3 by default.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>hgrm</code>.
</p>
<table>
<tr><td><code>coefficients</code></td>
<td>
<p>A data frame of parameter estimates, standard errors,
z values and p values.</p>
</td></tr>
<tr><td><code>scores</code></td>
<td>
<p>A data frame of EAP estimates of latent preferences and
their approximate standard errors.</p>
</td></tr>
<tr><td><code>vcov</code></td>
<td>
<p>Variance-covariance matrix of parameter estimates.</p>
</td></tr>
<tr><td><code>log_Lik</code></td>
<td>
<p>The log-likelihood value at convergence.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Number of units.</p>
</td></tr>
<tr><td><code>J</code></td>
<td>
<p>Number of items.</p>
</td></tr>
<tr><td><code>H</code></td>
<td>
<p>A vector denoting the number of response categories for each item.</p>
</td></tr>
<tr><td><code>ylevels</code></td>
<td>
<p>A list showing the levels of the factorized response categories.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>The number of predictors for the mean equation.</p>
</td></tr>
<tr><td><code>q</code></td>
<td>
<p>The number of predictors for the variance equation.</p>
</td></tr>
<tr><td><code>control</code></td>
<td>
<p>List of control values.</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>The matched call.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
y &lt;- nes_econ2008[, -(1:3)]
x &lt;- model.matrix( ~ party * educ, nes_econ2008)
z &lt;- model.matrix( ~ party, nes_econ2008)

n &lt;- nrow(nes_econ2008)
id_train &lt;- sample.int(n, n/4)
id_test &lt;- setdiff(1:n, id_train)

y_train &lt;- y[id_train, ]
x_train &lt;- x[id_train, ]
z_train &lt;- z[id_train, ]

mod_train &lt;- hgrm(y_train, x_train, z_train)

y_test &lt;- y[id_test, ]
x_test &lt;- x[id_test, ]
z_test &lt;- z[id_test, ]

item_coefs &lt;- lapply(coef_item(mod_train), `[[`, "Estimate")

model_test &lt;- hgrm2(y_test, x_test, z_test, item_coefs = item_coefs)
</code></pre>

<hr>
<h2 id='hltm'>Fitting Hierarchical Latent Trait Models (for Binary Responses).</h2><span id='topic+hltm'></span>

<h3>Description</h3>

<p><code>hltm</code> fits a hierarchical latent trait model in which both
the mean and the variance of the latent preference (ability parameter)
may depend on person-specific covariates (<code>x</code> and <code>z</code>).
Specifically, the mean is specified as a linear combination of <code>x</code>
and the log of the variance is specified as a linear combination of
<code>z</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hltm(
  y,
  x = NULL,
  z = NULL,
  constr = c("latent_scale", "items"),
  beta_set = 1L,
  sign_set = TRUE,
  init = c("naive", "glm", "irt"),
  control = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hltm_+3A_y">y</code></td>
<td>
<p>A data frame or matrix of item responses.</p>
</td></tr>
<tr><td><code id="hltm_+3A_x">x</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
mean of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hltm_+3A_z">z</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
variance of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hltm_+3A_constr">constr</code></td>
<td>
<p>The type of constraints used to identify the model: &quot;latent_scale&quot;,
or &quot;items&quot;. The default, &quot;latent_scale&quot; constrains the mean of latent preferences
to zero and the geometric mean of prior variance to one; &quot;items&quot; places constraints
on item parameters instead and sets the mean of item difficulty parameters to zero
and the geometric mean of the discrimination parameters to one.</p>
</td></tr>
<tr><td><code id="hltm_+3A_beta_set">beta_set</code></td>
<td>
<p>The index of the item for which the discrimination parameter is
restricted to be positive (or negative). It may take any integer value from
1 to <code>ncol(y)</code>.</p>
</td></tr>
<tr><td><code id="hltm_+3A_sign_set">sign_set</code></td>
<td>
<p>Logical. Should the discrimination parameter of
the corresponding item (indexed by <code>beta_set</code>) be positive
(if <code>TRUE</code>) or negative (if <code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="hltm_+3A_init">init</code></td>
<td>
<p>A character string indicating how item parameters are initialized. It can be
&quot;naive&quot;, &quot;glm&quot;, or &quot;irt&quot;.</p>
</td></tr>
<tr><td><code id="hltm_+3A_control">control</code></td>
<td>
<p>A list of control values
</p>

<dl>
<dt>max_iter</dt><dd><p>The maximum number of iterations of the EM algorithm.
The default is 150.</p>
</dd>
<dt>eps</dt><dd><p>Tolerance parameter used to determine convergence of the
EM algorithm. Specifically, iterations continue until the Euclidean
distance between <code class="reqn">\beta_{n}</code> and <code class="reqn">\beta_{n-1}</code> falls under <code>eps</code>,
where <code class="reqn">\beta</code> is the vector of item discrimination parameters.
<code>eps</code>=1e-4 by default.</p>
</dd>
<dt>max_iter2</dt><dd><p>The maximum number of iterations of the conditional
maximization procedures for updating <code class="reqn">\gamma</code> and <code class="reqn">\lambda</code>.
The default is 15.</p>
</dd>
<dt>eps2</dt><dd><p>Tolerance parameter used to determine convergence of the
conditional maximization procedures for updating <code class="reqn">\gamma</code> and
<code class="reqn">\lambda</code>. Specifically, iterations continue until the Euclidean
distance between two consecutive log likelihoods falls under <code>eps2</code>.
<code>eps2</code>=1e-3 by default.</p>
</dd>
<dt>K</dt><dd><p>Number of Gauss-Legendre quadrature points for the E-step. The default is 21.</p>
</dd>
<dt>C</dt><dd><p>[-C, C] sets the range of integral in the E-step. <code>C</code>=3 by default.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>hltm</code>.
</p>
<table>
<tr><td><code>coefficients</code></td>
<td>
<p>A data frame of parameter estimates, standard errors,
z values and p values.</p>
</td></tr>
<tr><td><code>scores</code></td>
<td>
<p>A data frame of EAP estimates of latent preferences and
their approximate standard errors.</p>
</td></tr>
<tr><td><code>vcov</code></td>
<td>
<p>Variance-covariance matrix of parameter estimates.</p>
</td></tr>
<tr><td><code>log_Lik</code></td>
<td>
<p>The log-likelihood value at convergence.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Number of units.</p>
</td></tr>
<tr><td><code>J</code></td>
<td>
<p>Number of items.</p>
</td></tr>
<tr><td><code>H</code></td>
<td>
<p>A vector denoting the number of response categories for each item.</p>
</td></tr>
<tr><td><code>ylevels</code></td>
<td>
<p>A list showing the levels of the factorized response categories.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>The number of predictors for the mean equation.</p>
</td></tr>
<tr><td><code>q</code></td>
<td>
<p>The number of predictors for the variance equation.</p>
</td></tr>
<tr><td><code>control</code></td>
<td>
<p>List of control values.</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>The matched call.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Zhou, Xiang. 2019. &quot;<a href="https://doi.org/10.1017/pan.2018.63">Hierarchical Item Response Models for Analyzing Public Opinion.</a>&quot; Political Analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- nes_econ2008[, -(1:3)]
x &lt;- model.matrix( ~ party * educ, nes_econ2008)
z &lt;- model.matrix( ~ party, nes_econ2008)

dichotomize &lt;- function(x) findInterval(x, c(mean(x, na.rm = TRUE)))
y[] &lt;- lapply(y, dichotomize)
nes_m1 &lt;- hltm(y, x, z)
nes_m1
</code></pre>

<hr>
<h2 id='hltm2'>Hierarchical Latent Trait Models with Known Item Parameters.</h2><span id='topic+hltm2'></span>

<h3>Description</h3>

<p><code>hltm2</code> fits a hierarchical latent trait model where the item parameters
are known and supplied by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hltm2(y, x = NULL, z = NULL, item_coefs, control = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hltm2_+3A_y">y</code></td>
<td>
<p>A data frame or matrix of item responses.</p>
</td></tr>
<tr><td><code id="hltm2_+3A_x">x</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
mean of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hltm2_+3A_z">z</code></td>
<td>
<p>An optional model matrix, including the intercept term, that predicts the
variance of the latent preference. If not supplied, only the intercept term is included.</p>
</td></tr>
<tr><td><code id="hltm2_+3A_item_coefs">item_coefs</code></td>
<td>
<p>A list of known item parameters. The parameters of item <code class="reqn">j</code> are given
by the <code class="reqn">j</code>th element, which should be a vector of length 2, containing
the item difficulty parameter and item discrimination parameter.</p>
</td></tr>
<tr><td><code id="hltm2_+3A_control">control</code></td>
<td>
<p>A list of control values
</p>

<dl>
<dt>max_iter</dt><dd><p>The maximum number of iterations of the EM algorithm.
The default is 150.</p>
</dd>
<dt>eps</dt><dd><p>Tolerance parameter used to determine convergence of the
EM algorithm. Specifically, iterations continue until the Euclidean
distance between <code class="reqn">\beta_{n}</code> and <code class="reqn">\beta_{n-1}</code> falls under <code>eps</code>,
where <code class="reqn">\beta</code> is the vector of item discrimination parameters.
<code>eps</code>=1e-4 by default.</p>
</dd>
<dt>max_iter2</dt><dd><p>The maximum number of iterations of the conditional
maximization procedures for updating <code class="reqn">\gamma</code> and <code class="reqn">\lambda</code>.
The default is 15.</p>
</dd>
<dt>eps2</dt><dd><p>Tolerance parameter used to determine convergence of the
conditional maximization procedures for updating <code class="reqn">\gamma</code> and
<code class="reqn">\lambda</code>. Specifically, iterations continue until the Euclidean
distance between two consecutive log likelihoods falls under <code>eps2</code>.
<code>eps2</code>=1e-3 by default.</p>
</dd>
<dt>K</dt><dd><p>Number of Gauss-Legendre quadrature points for the E-step. The default is 21.</p>
</dd>
<dt>C</dt><dd><p>[-C, C] sets the range of integral in the E-step. <code>C</code>=3 by default.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>hltm</code>.
</p>
<table>
<tr><td><code>coefficients</code></td>
<td>
<p>A data frame of parameter estimates, standard errors,
z values and p values.</p>
</td></tr>
<tr><td><code>scores</code></td>
<td>
<p>A data frame of EAP estimates of latent preferences and
their approximate standard errors.</p>
</td></tr>
<tr><td><code>vcov</code></td>
<td>
<p>Variance-covariance matrix of parameter estimates.</p>
</td></tr>
<tr><td><code>log_Lik</code></td>
<td>
<p>The log-likelihood value at convergence.</p>
</td></tr>
<tr><td><code>N</code></td>
<td>
<p>Number of units.</p>
</td></tr>
<tr><td><code>J</code></td>
<td>
<p>Number of items.</p>
</td></tr>
<tr><td><code>H</code></td>
<td>
<p>A vector denoting the number of response categories for each item.</p>
</td></tr>
<tr><td><code>ylevels</code></td>
<td>
<p>A list showing the levels of the factorized response categories.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>The number of predictors for the mean equation.</p>
</td></tr>
<tr><td><code>q</code></td>
<td>
<p>The number of predictors for the variance equation.</p>
</td></tr>
<tr><td><code>control</code></td>
<td>
<p>List of control values.</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>The matched call.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- nes_econ2008[, -(1:3)]
x &lt;- model.matrix( ~ party * educ, nes_econ2008)
z &lt;- model.matrix( ~ party, nes_econ2008)
dichotomize &lt;- function(x) findInterval(x, c(mean(x, na.rm = TRUE)))
y_bin &lt;- y
y_bin[] &lt;- lapply(y, dichotomize)

n &lt;- nrow(nes_econ2008)
id_train &lt;- sample.int(n, n/4)
id_test &lt;- setdiff(1:n, id_train)

y_bin_train &lt;- y_bin[id_train, ]
x_train &lt;- x[id_train, ]
z_train &lt;- z[id_train, ]

mod_train &lt;- hltm(y_bin_train, x_train, z_train)

y_bin_test &lt;- y_bin[id_test, ]
x_test &lt;- x[id_test, ]
z_test &lt;- z[id_test, ]

item_coefs &lt;- lapply(coef_item(mod_train), `[[`, "Estimate")

model_test &lt;- hltm2(y_bin_test, x_test, z_test, item_coefs = item_coefs)
</code></pre>

<hr>
<h2 id='latent_scores'>Estimates of Latent Preferences/Abilities</h2><span id='topic+latent_scores'></span>

<h3>Description</h3>

<p>EAP estimates of latent preferences for either <code>hltm</code> or <code>hgrm</code> models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latent_scores(x, digits = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latent_scores_+3A_x">x</code></td>
<td>
<p>An object of class <code>hIRT</code></p>
</td></tr>
<tr><td><code id="latent_scores_+3A_digits">digits</code></td>
<td>
<p>The number of significant digits to use when printing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of EAP estimates of latent preferences and their approximate standard errors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- nes_econ2008[, -(1:3)]
x &lt;- model.matrix( ~ party * educ, nes_econ2008)
z &lt;- model.matrix( ~ party, nes_econ2008)
nes_m1 &lt;- hgrm(y, x, z)
pref &lt;- latent_scores(nes_m1)
require(ggplot2)
ggplot(data = nes_econ2008) +
geom_density(aes(x = pref$post_mean, col = party))
</code></pre>

<hr>
<h2 id='nes_econ2008'>Public Attitudes on Economic Issues in ANES 2008</h2><span id='topic+nes_econ2008'></span>

<h3>Description</h3>

<p>A dataset containing gender, party ID, education, and responses to 10 survey items
on economic issues from the American National Election Studies, 2008.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nes_econ2008
</code></pre>


<h3>Format</h3>

<p>A data frame with 2268 rows and 13 variables: </p>

<dl>
<dt>gender</dt><dd><p>gender. 1: male; 2: female</p>
</dd>
<dt>party</dt><dd><p>party identification: Democrat, independent, or Republican</p>
</dd>
<dt>educ</dt><dd><p>education. 1: high school or less; 2: some college or above</p>
</dd>
<dt>health_ins7</dt><dd><p>Support for government or private health insurance, 7 categories</p>
</dd>
<dt>jobs_guar7</dt><dd><p>Support for government guarantee jobs and income, 7 categories</p>
</dd>
<dt>gov_services7</dt><dd><p>Should government reduce or increase spending on services?, 7 categories</p>
</dd>
<dt>FS_poor3</dt><dd><p>Federal spending on the poor, 3 categories</p>
</dd>
<dt>FS_childcare3</dt><dd><p>Federal spending on child care, 3 categories</p>
</dd>
<dt>FS_crime3</dt><dd><p>Federal spending on crime, 3 categories</p>
</dd>
<dt>FS_publicschools3</dt><dd><p>Federal spending on public schools, 3 categories</p>
</dd>
<dt>FS_welfare3</dt><dd><p>Federal spending on welfare, 3 categories</p>
</dd>
<dt>FS_envir3</dt><dd><p>Federal spending on environment, 3 categories</p>
</dd>
<dt>FS_socsec3</dt><dd><p>Federal spending on Social Security, 3 categories</p>
</dd>
</dl>

<hr>
<h2 id='print.hIRT'>Printing an object of class <code>hIRT</code></h2><span id='topic+print.hIRT'></span>

<h3>Description</h3>

<p>Printing an object of class <code>hIRT</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'hIRT'
print(x, digits = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.hIRT_+3A_x">x</code></td>
<td>
<p>An object of class <code>hIRT</code></p>
</td></tr>
<tr><td><code id="print.hIRT_+3A_digits">digits</code></td>
<td>
<p>The number of significant digits to use when printing</p>
</td></tr>
<tr><td><code id="print.hIRT_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='summary.hIRT'>Summarizing Hierarchical Item Response Theory Models</h2><span id='topic+summary.hIRT'></span><span id='topic+print.summary_hIRT'></span>

<h3>Description</h3>

<p>Summarizing the fit of either <code>hltm</code> or <code>hgrm</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'hIRT'
summary(object, by_item = FALSE, digits = 3, ...)

## S3 method for class 'summary_hIRT'
print(x, digits = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.hIRT_+3A_object">object</code></td>
<td>
<p>An object of class <code>hIRT</code>.</p>
</td></tr>
<tr><td><code id="summary.hIRT_+3A_by_item">by_item</code></td>
<td>
<p>Logical. Should item parameters be stored item by item
(if <code>TRUE</code>) or put together in a data frame (if <code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="summary.hIRT_+3A_digits">digits</code></td>
<td>
<p>the number of significant digits to use when printing.</p>
</td></tr>
<tr><td><code id="summary.hIRT_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="base.html#topic+print">print</a></code>.</p>
</td></tr>
<tr><td><code id="summary.hIRT_+3A_x">x</code></td>
<td>
<p>An object of class <code>hIRT</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>summary_hIRT</code>.
</p>
<table>
<tr><td><code>call</code></td>
<td>
<p>The matched call.</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>Model fit statistics: Log likelihood, AIC, and BIC.</p>
</td></tr>
<tr><td><code>item_coefs</code></td>
<td>
<p>Item parameter estimates, standard errors,
z values, and p values.</p>
</td></tr>
<tr><td><code>mean_coefs</code></td>
<td>
<p>Parameter estimates for the mean equation.</p>
</td></tr>
<tr><td><code>var_coefs</code></td>
<td>
<p>Parameter estimates for the variance equation.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- nes_econ2008[, -(1:3)]
x &lt;- model.matrix( ~ party * educ, nes_econ2008)
z &lt;- model.matrix( ~ party, nes_econ2008)
nes_m1 &lt;- hgrm(y, x, z)
summary(nes_m1, by_item = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

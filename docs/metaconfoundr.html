<!DOCTYPE html><html><head><title>Help for package metaconfoundr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {metaconfoundr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#count_non_confounders'><p>Count and plot non-confounders</p></a></li>
<li><a href='#facet_constructs'><p>Facet by constructs</p></a></li>
<li><a href='#geom_cochrane'><p>Add Cochrane-style symbols to heatmaps and traffic light plots</p></a></li>
<li><a href='#ipi_data'><p>IPI data</p></a></li>
<li><a href='#label_robins'><p>Label values using ROBINS approach</p></a></li>
<li><a href='#launch_metaconfoundr_app'><p>Launch metaconfoundr Shiny app</p></a></li>
<li><a href='#mc_detect_layout'><p>Tidy metaconfoundr data layouts</p></a></li>
<li><a href='#mc_heatmap'><p>Plot a heatmap or traffic light plot of <code>metaconfoundr()</code> summaries</p></a></li>
<li><a href='#metaconfoundr-package'><p>metaconfoundr: Visualize Confounder Control in Meta-Analyses</p></a></li>
<li><a href='#metaconfoundr()'><p>Prepare a meta-analysis data set for metaconfoundr</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#scale_fill_cochrane'><p>Add Cochrane-style palettes to ggplots</p></a></li>
<li><a href='#score_control'><p>Add a score of confounding control</p></a></li>
<li><a href='#summarize_control_quality'><p>Summarize the control quality of studies</p></a></li>
<li><a href='#theme_mc'><p>A minimal theme for metaconfoundr plots</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Visualize 'Confounder' Control in Meta-Analyses</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Visualize 'confounder' control in meta-analysis.
    'metaconfoundr' is an approach to evaluating bias in studies used in
    meta-analyses based on the causal inference framework. Study groups
    create a causal diagram displaying their assumptions about the
    scientific question. From this, they develop a list of important
    'confounders'. Then, they evaluate whether studies controlled for
    these variables well. 'metaconfoundr' is a toolkit to facilitate this
    process and visualize the results as heat maps, traffic light plots,
    and more.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/malcolmbarrett/metaconfoundr">https://github.com/malcolmbarrett/metaconfoundr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/malcolmbarrett/metaconfoundr/issues">https://github.com/malcolmbarrett/metaconfoundr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), forcats, ggplot2 (&ge; 3.4.0), magrittr,
purrr, rlang (&ge; 0.1.2), shiny, stringr, tibble, tidyr (&ge;
1.0.0), tidyselect</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, metafor, patchwork, readr, rio, rmarkdown,
roxygen2, spelling, testthat (&ge; 3.0.0), vdiffr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-17 18:42:07 UTC; malcolmbarrett</td>
</tr>
<tr>
<td>Author:</td>
<td>Malcolm Barrett <a href="https://orcid.org/0000-0003-0299-5825"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Julie M. Petersen <a href="https://orcid.org/0000-0001-7845-4545"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Ludovic Trinquart <a href="https://orcid.org/0000-0002-3028-4900"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Malcolm Barrett &lt;malcolmbarrett@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-17 19:00:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='count_non_confounders'>Count and plot non-confounders</h2><span id='topic+count_non_confounders'></span><span id='topic+plot_non_confounders'></span>

<h3>Description</h3>

<p>Count and plot non-confounders
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_non_confounders(.df)

plot_non_confounders(.df, ..., geom = ggplot2::geom_col, sort = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count_non_confounders_+3A_.df">.df</code></td>
<td>
<p>A data frame, usually the result of <code>metaconfoundr()</code></p>
</td></tr>
<tr><td><code id="count_non_confounders_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>geom</code></p>
</td></tr>
<tr><td><code id="count_non_confounders_+3A_geom">geom</code></td>
<td>
<p>The ggplot2 geom to use</p>
</td></tr>
<tr><td><code id="count_non_confounders_+3A_sort">sort</code></td>
<td>
<p>Logical. Should the results be sorted?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tibble</code> or ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ipi %&gt;%
  metaconfoundr() %&gt;%
  plot_non_confounders(size = 3, geom = ggplot2::geom_point)

</code></pre>

<hr>
<h2 id='facet_constructs'>Facet by constructs</h2><span id='topic+facet_constructs'></span>

<h3>Description</h3>

<p>A helper function to facet by constructs in '<code><a href="#topic+mc_heatmap">mc_heatmap()</a></code> and
<code><a href="#topic+mc_trafficlight">mc_trafficlight()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>facet_constructs(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="facet_constructs_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="ggplot2.html#topic+facet_grid">ggplot2::facet_grid()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a facet component
</p>


<h3>See Also</h3>

<p>Other plots: 
<code><a href="#topic+geom_cochrane">geom_cochrane</a>()</code>,
<code><a href="#topic+mc_heatmap">mc_heatmap</a>()</code>,
<code><a href="#topic+scale_fill_cochrane">scale_fill_cochrane</a>()</code>,
<code><a href="#topic+theme_mc">theme_mc</a>()</code>
</p>

<hr>
<h2 id='geom_cochrane'>Add Cochrane-style symbols to heatmaps and traffic light plots</h2><span id='topic+geom_cochrane'></span>

<h3>Description</h3>

<p>Add Cochrane-style symbols to heatmaps and traffic light plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_cochrane(
  mapping = ggplot2::aes(shape = control_quality),
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_cochrane_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_cochrane_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_cochrane_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_cochrane_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_cochrane_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_cochrane_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_cochrane_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_cochrane_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a geom
</p>


<h3>See Also</h3>

<p>Other plots: 
<code><a href="#topic+facet_constructs">facet_constructs</a>()</code>,
<code><a href="#topic+mc_heatmap">mc_heatmap</a>()</code>,
<code><a href="#topic+scale_fill_cochrane">scale_fill_cochrane</a>()</code>,
<code><a href="#topic+theme_mc">theme_mc</a>()</code>
</p>

<hr>
<h2 id='ipi_data'>IPI data</h2><span id='topic+ipi_data'></span><span id='topic+ipi'></span><span id='topic+ipi_wide'></span><span id='topic+ipi_metaanalysis'></span>

<h3>Description</h3>

<p>These data represent 14 analyses (retrospective cohorts and sibling-matched
designs) to evaluate the association between short interpregnancy interval
(&lt;6 months versus 18-23 months) and risk of preterm birth (&lt;37 weeks
gestation) and the adequacy of confounder control (Petersen et al.). Adequacy
of confounder control was determined overall for each study as well as by
variable and construct (groupings of conceptually related variables).These
studies are a subset of studies originally identified in a systematic review
by Ahrens et al. to summarize associations between short interpregnancy
interval and a variety of perinatal outcomes in high-resource settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ipi

ipi_wide

ipi_metaanalysis
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 407 rows and 5 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 37 rows and 14 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 11 rows and 9 columns.
</p>


<h3>Source</h3>

<p>Ahrens et al. (2019)
</p>


<h3>References</h3>

<p>Ahrens KA, Nelson H, Stidd RL, Moskosky S, Hutcheon JA. Short
interpregnancy intervals and adverse perinatal outcomes in high-resource
settings: An updated systematic review. Paediatr Perinat Epidemiol.
2019;33(1):O25-O47.
</p>
<p>Petersen JM, Barrett M, Ahrens K, Murray EJ, Hogue C, Mumford S,
Bryant Mantha A, Fox MP, Gadupudi S, Trinquart L. Confounder Matrix: A Tool
to Assess Confounding Bias in Systematic Reviews of Observational Studies.
2020
</p>

<hr>
<h2 id='label_robins'>Label values using ROBINS approach</h2><span id='topic+label_robins'></span>

<h3>Description</h3>

<p><code>label_robins()</code> is a helper function to modify metaconfoundr labels to use
ROBINS-like labels: low risk, some concerns, high risk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_robins()
</code></pre>


<h3>Value</h3>

<p>a character vector of ROBINS labels
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mc_heatmap(metaconfoundr(ipi)) +
  ggplot2::scale_fill_ordinal(labels = label_robins())

mc_heatmap(metaconfoundr(ipi)) +
  scale_fill_cochrane(labels = label_robins())

</code></pre>

<hr>
<h2 id='launch_metaconfoundr_app'>Launch metaconfoundr Shiny app</h2><span id='topic+launch_metaconfoundr_app'></span>

<h3>Description</h3>

<p><code>launch_metaconfoundr_app()</code> launches a Shiny app to create visualizations of
confounding control in meta-analyses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>launch_metaconfoundr_app()
</code></pre>


<h3>Value</h3>

<p>A Shiny app
</p>

<hr>
<h2 id='mc_detect_layout'>Tidy metaconfoundr data layouts</h2><span id='topic+mc_detect_layout'></span><span id='topic+mc_longer'></span><span id='topic+mc_study_values'></span><span id='topic+mc_wider'></span>

<h3>Description</h3>

<p><code>mc_longer()</code> and <code>mc_wider()</code> are helper functions to put <code><a href="#topic+metaconfoundr">metaconfoundr()</a></code>
for long and wide data sets, respectively. results into a tidy format.
<code>mc_detect_layout()</code> chooses between the two automatically based on the
number of variables in the data frame. <code>mc_study_values()</code> helps standardize
evaluations of control quality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_detect_layout(...)

mc_longer(
  study = contains("construct"),
  construct = contains("construct"),
  variable = matches("variable|factor"),
  control_quality = contains("control_quality"),
  is_confounder = contains("confounder"),
  study_values = mc_study_values()
)

mc_study_values(inadequate = 0, some_concerns = 1, adequate = 2)

mc_wider(
  construct = contains("construct"),
  variable = matches("variable|factor"),
  is_confounder = contains("confounder"),
  study = everything(),
  study_values = mc_study_values()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_detect_layout_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>mc_wider()</code> or <code>mc_longer()</code></p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_study">study</code></td>
<td>
<p>The column with the name of the studies</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_construct">construct</code></td>
<td>
<p>The domain or construct column</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_variable">variable</code></td>
<td>
<p>The column that describes the confounding variables</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_control_quality">control_quality</code></td>
<td>
<p>The column that describes the confounding control
quality</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_is_confounder">is_confounder</code></td>
<td>
<p>The column that describes if a variable is a confounder</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_study_values">study_values</code></td>
<td>
<p>What are the levels of <code>control_quality</code>? Use
<code>mc_study_values()</code> to set up.</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_inadequate">inadequate</code></td>
<td>
<p>Which value signifies inadequate control?</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_some_concerns">some_concerns</code></td>
<td>
<p>Which value signifies control with some concerns?</p>
</td></tr>
<tr><td><code id="mc_detect_layout_+3A_adequate">adequate</code></td>
<td>
<p>Which value signifies adequate control?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function that tidies the data
</p>

<hr>
<h2 id='mc_heatmap'>Plot a heatmap or traffic light plot of <code>metaconfoundr()</code> summaries</h2><span id='topic+mc_heatmap'></span><span id='topic+mc_trafficlight'></span>

<h3>Description</h3>

<p><code>mc_heatmap()</code> and <code>mc_trafficlight()</code> visualize the results of
<code>metaconfoundr()</code>, summarizing the quality of confounder control in each
study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc_heatmap(
  .df,
  legend_title = "control quality",
  sort = FALSE,
  by_group = FALSE,
  score = c("adequate", "sum", "controlled"),
  non_confounders = FALSE
)

mc_trafficlight(
  .df,
  size = 8,
  legend_title = "control quality",
  sort = FALSE,
  by_group = FALSE,
  score = c("adequate", "sum", "controlled"),
  non_confounders = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mc_heatmap_+3A_.df">.df</code></td>
<td>
<p>A data frame, usually the result of <code>metaconfoundr()</code></p>
</td></tr>
<tr><td><code id="mc_heatmap_+3A_legend_title">legend_title</code></td>
<td>
<p>The legend title</p>
</td></tr>
<tr><td><code id="mc_heatmap_+3A_sort">sort</code></td>
<td>
<p>Logical. Sort by confounder score? Calculated by <code><a href="#topic+score_control">score_control()</a></code></p>
</td></tr>
<tr><td><code id="mc_heatmap_+3A_by_group">by_group</code></td>
<td>
<p>Logical. If sorted, sort within domain?</p>
</td></tr>
<tr><td><code id="mc_heatmap_+3A_score">score</code></td>
<td>
<p>The approach used to calculate the score. <code>adequate</code> tests if
the study controlled at a strictly adequate level. <code>sum</code> treats
<code>control_quality</code> as an ordinal integer, summing it's values such that a
higher score has better control overall. <code>controlled</code> tests if any control,
including <code style="white-space: pre;">&#8288;some concerns&#8288;</code> control, is present.</p>
</td></tr>
<tr><td><code id="mc_heatmap_+3A_non_confounders">non_confounders</code></td>
<td>
<p>Logical. Include non-confounders? Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mc_heatmap_+3A_size">size</code></td>
<td>
<p>The size of the points in the traffic light plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot
</p>


<h3>See Also</h3>

<p>Other plots: 
<code><a href="#topic+facet_constructs">facet_constructs</a>()</code>,
<code><a href="#topic+geom_cochrane">geom_cochrane</a>()</code>,
<code><a href="#topic+scale_fill_cochrane">scale_fill_cochrane</a>()</code>,
<code><a href="#topic+theme_mc">theme_mc</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ipi %&gt;%
  metaconfoundr() %&gt;%
  dplyr::mutate(variable = stringr::str_wrap(variable, 10)) %&gt;%
  mc_heatmap() +
  theme_mc() +
  facet_constructs() +
  ggplot2::guides(x = ggplot2::guide_axis(n.dodge = 2))

ipi %&gt;%
  metaconfoundr() %&gt;%
  mc_trafficlight() +
  geom_cochrane() +
  facet_constructs() +
  scale_fill_cochrane() +
  theme_mc() +
  ggplot2::guides(x = ggplot2::guide_axis(n.dodge = 2))

</code></pre>

<hr>
<h2 id='metaconfoundr-package'>metaconfoundr: Visualize Confounder Control in Meta-Analyses</h2><span id='topic+metaconfoundr-package'></span><span id='topic+_PACKAGE'></span><span id='topic+metaconfoundr2'></span>

<h3>Description</h3>

<p>Visualize confounder control in meta-analysis. 'metaconfoundr' is an approach to evaluating bias in studies used in meta-analyses based on the causal inference framework. Study groups create a causal diagram displaying their assumptions about the scientific question. From this, they develop a list of important confounders. Then, they evaluate whether studies controlled for these variables well. 'metaconfoundr' is a toolkit to facilitate this process and visualize the results as heatmaps, traffic light plots, and more.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Malcolm Barrett <a href="mailto:malcolmbarrett@gmail.com">malcolmbarrett@gmail.com</a> (<a href="https://orcid.org/0000-0003-0299-5825">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Julie M. Petersen <a href="mailto:juliemo@bu.edu">juliemo@bu.edu</a> (<a href="https://orcid.org/0000-0001-7845-4545">ORCID</a>)
</p>
</li>
<li><p> Ludovic Trinquart <a href="mailto:ludovic@bu.edu">ludovic@bu.edu</a> (<a href="https://orcid.org/0000-0002-3028-4900">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/malcolmbarrett/metaconfoundr">https://github.com/malcolmbarrett/metaconfoundr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/malcolmbarrett/metaconfoundr/issues">https://github.com/malcolmbarrett/metaconfoundr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='metaconfoundr+28+29'>Prepare a meta-analysis data set for metaconfoundr</h2><span id='topic+metaconfoundr+28+29'></span><span id='topic+metaconfoundr'></span>

<h3>Description</h3>

<p><code>metaconfoundr()</code> standardizes data frames with information on how well a set
of studies control for a set of variables. In this approach, a set of domain
experts agree on the variables that are required to properly control for
confounding for a scientific question. Then, for a given confounder, the
studies are described as being adequately controlled, inadequately
controlled, or controlled with some concerns. <code>metaconfoundr()</code> is intended
to standardize data for use in <code><a href="#topic+mc_heatmap">mc_heatmap()</a></code> and <code><a href="#topic+mc_trafficlight">mc_trafficlight()</a></code>.
See the vignette on data preparation for more information on how to set up
your evaluation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metaconfoundr(.df, data_format = mc_detect_layout())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metaconfoundr+2B28+2B29_+3A_.df">.df</code></td>
<td>
<p>A data frame. See the vignette on data preparation for more
details.</p>
</td></tr>
<tr><td><code id="metaconfoundr+2B28+2B29_+3A_data_format">data_format</code></td>
<td>
<p>The format of the data. Detected automatically by default,
but explicit options include <code><a href="#topic+mc_longer">mc_longer()</a></code> and <code><a href="#topic+mc_wider">mc_wider()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
metaconfoundr(ipi)

metaconfoundr(ipi_wide)

ipi_wide2 &lt;- ipi_wide %&gt;%
  dplyr::rename(scope = construct)

metaconfoundr(ipi_wide2, mc_wider(construct = "scope"))


</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+contains'></span><span id='topic+select_helpers'></span><span id='topic+ends_with'></span><span id='topic+everything'></span><span id='topic+matches'></span><span id='topic+num_range'></span><span id='topic+one_of'></span><span id='topic+starts_with'></span><span id='topic+last_col'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>tidyselect</dt><dd><p><code><a href="tidyselect.html#topic+starts_with">contains</a></code>, <code><a href="tidyselect.html#topic+starts_with">ends_with</a></code>, <code><a href="tidyselect.html#topic+everything">everything</a></code>, <code><a href="tidyselect.html#topic+everything">last_col</a></code>, <code><a href="tidyselect.html#topic+starts_with">matches</a></code>, <code><a href="tidyselect.html#topic+starts_with">num_range</a></code>, <code><a href="tidyselect.html#topic+one_of">one_of</a></code>, <code><a href="tidyselect.html#topic+starts_with">starts_with</a></code></p>
</dd>
</dl>

<hr>
<h2 id='scale_fill_cochrane'>Add Cochrane-style palettes to ggplots</h2><span id='topic+scale_fill_cochrane'></span><span id='topic+scale_color_cochrane'></span><span id='topic+scale_shape_cochrane'></span>

<h3>Description</h3>

<p>Add Cochrane-style palettes to ggplots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_cochrane(...)

scale_color_cochrane(...)

scale_shape_cochrane(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_fill_cochrane_+3A_...">...</code></td>
<td>
<p>Arguments passed to the underline scale function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>scales for ggplot
</p>


<h3>See Also</h3>

<p>Other plots: 
<code><a href="#topic+facet_constructs">facet_constructs</a>()</code>,
<code><a href="#topic+geom_cochrane">geom_cochrane</a>()</code>,
<code><a href="#topic+mc_heatmap">mc_heatmap</a>()</code>,
<code><a href="#topic+theme_mc">theme_mc</a>()</code>
</p>

<hr>
<h2 id='score_control'>Add a score of confounding control</h2><span id='topic+score_control'></span>

<h3>Description</h3>

<p><code>score_control()</code> adds a variable, <code>score</code>, that summarizes how well a study
controls for a domain or construct. Used to sort heatmaps and traffic light
plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>score_control(.df, score = c("adequate", "sum", "controlled"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="score_control_+3A_.df">.df</code></td>
<td>
<p>A data frame, usually the result of <code><a href="#topic+metaconfoundr">metaconfoundr()</a></code></p>
</td></tr>
<tr><td><code id="score_control_+3A_score">score</code></td>
<td>
<p>The approach used to calculate the score. <code>adequate</code> tests if
the study controlled at a strictly adequate level. <code>sum</code> treats
<code>control_quality</code> as an ordinal integer, summing it's values such that a
higher score has better control overall. <code>controlled</code> tests if any control,
including <code style="white-space: pre;">&#8288;some concerns&#8288;</code> control, is present.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)

ipi %&gt;%
  metaconfoundr() %&gt;%
  filter(is_confounder == "Y") %&gt;%
  score_control("controlled") %&gt;%
  arrange(desc(score))

</code></pre>

<hr>
<h2 id='summarize_control_quality'>Summarize the control quality of studies</h2><span id='topic+summarize_control_quality'></span>

<h3>Description</h3>

<p><code>summarize_control_quality()</code> allows you to summarize how well studies
control for variables within one or more domains, and how well those domains
are controlled for overall. Each logical statement is a domain and can be
named.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarize_control_quality(.df, ..., domains = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarize_control_quality_+3A_.df">.df</code></td>
<td>
<p>A data frame, usually the result of <code><a href="#topic+metaconfoundr">metaconfoundr()</a></code></p>
</td></tr>
<tr><td><code id="summarize_control_quality_+3A_...">...</code></td>
<td>
<p>Boolean arguments to declare adequate control logic</p>
</td></tr>
<tr><td><code id="summarize_control_quality_+3A_domains">domains</code></td>
<td>
<p>Logical. Include the domains in the output? If <code>FALSE</code>, only
returns overall control quality.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
summary_df &lt;- summarize_control_quality(
  metaconfoundr(ipi),
  Sociodemographics = `Maternal age` &amp; `Race/ethnicity` &amp; `Marital status`,
  Socioeconomics = `SES category` | Insurance &amp; Education,
  "Reproductive Hx" = `Prior pregnancy outcome`
)

summary_df

summary_df %&gt;%
  mc_trafficlight() +
  theme_mc() +
  facet_constructs() +
  geom_cochrane() +
  scale_fill_cochrane()

</code></pre>

<hr>
<h2 id='theme_mc'>A minimal theme for metaconfoundr plots</h2><span id='topic+theme_mc'></span>

<h3>Description</h3>

<p>A minimal theme for metaconfoundr plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_mc(base_size = 14)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_mc_+3A_base_size">base_size</code></td>
<td>
<p>base font size, given in pts.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot theme
</p>


<h3>See Also</h3>

<p>Other plots: 
<code><a href="#topic+facet_constructs">facet_constructs</a>()</code>,
<code><a href="#topic+geom_cochrane">geom_cochrane</a>()</code>,
<code><a href="#topic+mc_heatmap">mc_heatmap</a>()</code>,
<code><a href="#topic+scale_fill_cochrane">scale_fill_cochrane</a>()</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

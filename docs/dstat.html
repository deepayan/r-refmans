<!DOCTYPE html><html><head><title>Help for package dstat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dstat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dstat-package'>
<p>Conditional Sensitivity Analysis for Matched Observational Studies</p></a></li>
<li><a href='#amplify'>
<p>Amplification of sensitivity analysis in observational studies.</p></a></li>
<li><a href='#dental'>
<p>Dental Problems Caused by Smoking</p></a></li>
<li><a href='#dstat'>
<p>Sensitivity Analysis Focusing on Subgroups with Demonstrated Insensitivity to Unmeasured Bias</p></a></li>
<li><a href='#lalive'>
<p>Unemployment Duration Following an Increase in Unemployment Benefits</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Conditional Sensitivity Analysis for Matched Observational
Studies</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul R. Rosenbaum</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul R. Rosenbaum &lt;rosenbaum@wharton.upenn.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A d-statistic tests the null hypothesis of no treatment effect in a matched, nonrandomized study of the effects caused by treatments.  A d-statistic focuses on subsets of matched pairs that demonstrate insensitivity to unmeasured bias in such an observational study, correcting for double-use of the data by conditional inference. This conditional inference can, in favorable circumstances, substantially increase the power of a sensitivity analysis (Rosenbaum (2010) &lt;<a href="https://doi.org/10.1007%2F978-1-4419-1213-8_14">doi:10.1007/978-1-4419-1213-8_14</a>&gt;).  There are two examples, one concerning unemployment from Lalive et al. (2006) &lt;<a href="https://doi.org/10.1111%2Fj.1467-937X.2006.00406.x">doi:10.1111/j.1467-937X.2006.00406.x</a>&gt;, the other concerning smoking and periodontal disease from Rosenbaum (2017) &lt;<a href="https://doi.org/10.1214%2F17-STS621">doi:10.1214/17-STS621</a>&gt;.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-04-15 13:23:56 UTC; Rosenbaum</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-04-16 09:42:41 UTC</td>
</tr>
</table>
<hr>
<h2 id='dstat-package'>
Conditional Sensitivity Analysis for Matched Observational Studies
</h2><span id='topic+dstat-package'></span>

<h3>Description</h3>

<p>A d-statistic tests the null hypothesis of no treatment effect in a matched, nonrandomized study of the effects caused by treatments.  A d-statistic focuses on subsets of matched pairs that demonstrate insensitivity to unmeasured bias in such an observational study, correcting for double-use of the data by conditional inference. This conditional inference can, in favorable circumstances, substantially increase the power of a sensitivity analysis (Rosenbaum (2010) &lt;doi:10.1007/978-1-4419-1213-8_14&gt;).  There are two examples, one concerning unemployment from Lalive et al. (2006) &lt;doi:10.1111/j.1467-937X.2006.00406.x&gt;, the other concerning smoking and periodontal disease from Rosenbaum (2017) &lt;doi:10.1214/17-STS621&gt;.  
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> dstat</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Conditional Sensitivity Analysis for Matched Observational Studies</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.4</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Paul R. Rosenbaum</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Paul R. Rosenbaum &lt;rosenbaum@wharton.upenn.edu&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> A d-statistic tests the null hypothesis of no treatment effect in a matched, nonrandomized study of the effects caused by treatments.  A d-statistic focuses on subsets of matched pairs that demonstrate insensitivity to unmeasured bias in such an observational study, correcting for double-use of the data by conditional inference. This conditional inference can, in favorable circumstances, substantially increase the power of a sensitivity analysis (Rosenbaum (2010) &lt;doi:10.1007/978-1-4419-1213-8_14&gt;).  There are two examples, one concerning unemployment from Lalive et al. (2006) &lt;doi:10.1111/j.1467-937X.2006.00406.x&gt;, the other concerning smoking and periodontal disease from Rosenbaum (2017) &lt;doi:10.1214/17-STS621&gt;.  </td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyData: </td><td style="text-align: left;"> true</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> stats</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Index of help topics:
</p>
<pre>
amplify                 Amplification of sensitivity analysis in
                        observational studies.
dental                  Dental Problems Caused by Smoking
dstat                   Sensitivity Analysis Focusing on Subgroups with
                        Demonstrated Insensitivity to Unmeasured Bias
dstat-package           Conditional Sensitivity Analysis for Matched
                        Observational Studies
lalive                  Unemployment Duration Following an Increase in
                        Unemployment Benefits
</pre>
<p>The package provides a sensitivity analysis for a conditional test of the null hypothesis of no treatment effect in a matched observational study in which the unmeasured bias in treatment assignment is quantified by a sensitivity parameter gamma&gt;=1.  The test uses only those categories of pairs that demonstrate insensitivity to a bias of magnitude gamma, correcting for data-dependent selection of categories by conditional inference.  The main function in the package is dstat().
</p>


<h3>Author(s)</h3>

<p>Paul R. Rosenbaum
</p>
<p>Maintainer: Paul R. Rosenbaum &lt;rosenbaum@wharton.upenn.edu&gt;
</p>


<h3>References</h3>

<p>Rosenbaum, P. R. (1999). Using quantile averages in matched observational studies. Journal of the Royal Statistical Society: Series C (Applied Statistics), 48(1), 63-78. &lt;doi.org/10.1111/1467-9876.00140&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("dental")
attach(dental)
head(dental)
dstat(y,gamma=4.1,f=dose:age,fscore=c(1,1,2,2))
amplify(4,c(5,6,7))
detach(dental)
</code></pre>

<hr>
<h2 id='amplify'>
Amplification of sensitivity analysis in observational studies.
</h2><span id='topic+amplify'></span>

<h3>Description</h3>

<p>Uses the method in Rosenbaum and Silber (2009) to interpret a value of the sensitivity parameter gamma.  Each value of gamma amplifies to a curve (lambda,delta) in a two-dimensional sensitivity analysis, the inference being the same for all points on the curve.
That is, a one-dimensional sensitivity analysis in terms of gamma has a two-dimensional interpretation in terms of (lambda,delta).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amplify(gamma, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amplify_+3A_gamma">gamma</code></td>
<td>

<p>gamma &gt; 1 is the value of the sensitivity parameter, for instance the parameter in senmv.  length(gamma)&gt;1 will generate an error.
</p>
</td></tr>
<tr><td><code id="amplify_+3A_lambda">lambda</code></td>
<td>

<p>lambda is a vector of values &gt; gamma.  An error will result unless lambda[i] &gt; gamma &gt; 1 for every i.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A single value of gamma, say gamma = 2.2 in the example, corresponds to a curve of values of (lambda, delta), including (3, 7),
(4, 4.33), (5, 3.57), and (7, 3) in the example.  An unobserved covariate that is associated with a lambda = 3 fold increase in the odds of treatment and a delta = 7 fold increase in the odds of a positive pair difference is equivalent to gamma = 2.2.
</p>
<p>The curve is gamma = (lambda*delta + 1)/(lambda+delta).  Amplify is given one gamma and a vector of lambdas and solves for the vector of deltas.  The calculation is elementary.
</p>
<p>This interpretation of gamma is developed in detail in Rosenbaum and Silber (2009), and it makes use of Wolfe's (1974) family of semiparametric deformations of an arbitrary symmetric distribuiton.
</p>
<p>Strictly speaking, the amplification describes matched pairs, not matched sets.  The senm function views a k-to-1 matched set with k controls matched to one treated individual as a collection of k correlated treated-minus-control matched pair differences; see Rosenbaum (2007).  For matched sets, it is natural to think of the amplification as describing any one of the k matched pair differences in a k-to-1 matched set.
</p>
<p>The curve has asymptotes that the function amplify does not compute: gamma corresponds with (lambda,delta) = (gamma, Inf) and (Inf, gamma).
</p>
<p>A related though distict idea is developed in Gastwirth et al (1998).  The two approaches agree when the outcome is binary, that is, for McNemar's test.
</p>


<h3>Value</h3>

<p>Returns a vector of values of delta of length(lambda) with names lambda.
</p>


<h3>Note</h3>

<p>The amplify function is also in the sensitivitymv package where a different example is used.
</p>


<h3>Author(s)</h3>

<p>Paul R. Rosenbaum
</p>


<h3>References</h3>

<p>Gastwirth, J. L., Krieger, A. M., Rosenbaum, P. R. (1998) Dual and
simultaneous sensitivity analysis for matched pairs. Biometrika, 85, 907-920.
</p>
<p>Rosenbaum, P. R. (2007). Sensitivity analysis for m-estimates, tests
and confidence intervals in matched observational studies.
Biometrics 63 456-64. (R package sensitivitymv) &lt;doi:10.1111/j.1541-0420.2006.00717.x&gt;
</p>
<p>Rosenbaum, P. R. (2016) Using Scheffe projections for multiple outcomes
in an observational study of smoking and periondontal disease.  Annals of
Applied Statistics, 10, 1447-1471. &lt;doi:10.1214/16-AOAS942&gt;.
</p>
<p>Rosenbaum, P. R. and Silber, J. H. (2009) Amplification of sensitivity analysis in observational studies.  Journal of the American Statistical Association, 104, 1398-1405.
&lt;doi:10.1198/jasa.2009.tm08470&gt;
</p>
<p>Rosenbaum, P. R. (2015).  Two R packages for sensitivity analysis
in observational studies.  Observational Studies, v. 1. (Free on-line.)
</p>
<p>Wolfe, D. A. (1974) A charaterization of population weighted symmetry and related results.  Journal of the American Statistical Association, 69, 819-822.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>amplify(4,c(5,6,7))
</code></pre>

<hr>
<h2 id='dental'>
Dental Problems Caused by Smoking
</h2><span id='topic+dental'></span>

<h3>Description</h3>

<p>Data from NHANES 2011-2012 containing 441 matched pairs of a daily cigarette smoker and a never smoker, recording the extent of periodontal disease. Pairs were matched for sex, age, black race, education in five categories, and ratio of family income to the poverty level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("dental")</code></pre>


<h3>Format</h3>

<p>A data frame with 441 observations on the following 5 variables.
</p>

<dl>
<dt><code>smoker</code></dt><dd><p>Periodontal disease in the daily-smoker</p>
</dd>
<dt><code>control</code></dt><dd><p>Periodontal disease in the never smoker</p>
</dd>
<dt><code>y</code></dt><dd><p>Smoker-minus-control pair difference</p>
</dd>
<dt><code>age</code></dt><dd><p>Age <code>&lt;= 50</code> <code>&gt; 50</code></p>
</dd>
<dt><code>dose</code></dt><dd><p>Cigarettes smoked per day by the smoker <code>&lt;10</code> <code>&gt;=10</code></p>
</dd>
</dl>



<h3>Details</h3>

<p>Excluding wisdom teeth, 6 measurements are taken for each tooth that is present, up to 28 teeth. Following Tomar and Asma (2000), a measurement indicates periodontal disease if either there is a loss of attachment of at least 4mm or a pocket depth of at least 4mm. The first individual has 11 measurements indicative of periodontal disease, out of 106 measurements, so pcteither is 100*11/106 = 10.38 percent.
</p>


<h3>Source</h3>

<p>Data are from the National Health and Nutrition Examination Survey 2011-2012 and were used as an example in Rosenbaum (2017). In the second edition of Design of Observational Studies, these data are discussed in the chapter entitled Evidence Factors. Although the same 2x441 individuals were used here and in Rosenbaum (2017), the pairing was slightly changed to be exact for age&gt;50.
</p>


<h3>References</h3>

<p>Rosenbaum, P. R. (2017) The general structure of evidence factors in observational studies.
Statist Sci 32, 514-530. &lt;doi:10.1214/17-STS621&gt;
</p>
<p>Tomar, S. L. and Asma, S. (2000) Smoking attributable periodontitis in the US: Findings from NHANES III.
J Periodont 71, 743-751.
</p>
<p>US National Health and Nutrition Examination Survey 2011-2012. www.cdc.gov/nchs/nhanes/index.htm
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dental)
attach(dental)
boxplot(y~dose:age)
abline(h=0)
detach(dental)
rm(dental)
</code></pre>

<hr>
<h2 id='dstat'>
Sensitivity Analysis Focusing on Subgroups with Demonstrated Insensitivity to Unmeasured Bias
</h2><span id='topic+dstat'></span>

<h3>Description</h3>

<p>Sensitivity analysis using a d-statistic employing conditional inference to focus on those subgroups with demonstrated insensitivity to unmeasured biases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dstat(y, qs = c(1/3, 2/3), gamma = 1, f = NULL, fscore = NULL, fr = 1, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dstat_+3A_y">y</code></td>
<td>

<p>A numeric vector of treated-minus-control matched pair differences in outcomes.
</p>
</td></tr>
<tr><td><code id="dstat_+3A_qs">qs</code></td>
<td>

<p>Quantiles of |y| that partly define the d-statistic.    Each coordinate of qs must be a number
strictly between 0 and 1; otherwise, an error will result.  See Details.
</p>
</td></tr>
<tr><td><code id="dstat_+3A_gamma">gamma</code></td>
<td>

<p>The sensitivity parameter, a number gamma&gt;=1.
</p>
</td></tr>
<tr><td><code id="dstat_+3A_f">f</code></td>
<td>

<p>If f is not NULL, then it must be a factor that further subdivides y beyond the subdivisions
implied by qs.  If f is not NULL, then the length of f must equal the length of y; otherwise,
an error will result.
</p>
</td></tr>
<tr><td><code id="dstat_+3A_fscore">fscore</code></td>
<td>

<p>If fscore is not NULL, then fscore contains integer scores to be attached to the levels of f.  If f is not NULL but fscore is NULL, then the levels of f are viewed as nominal with equal emphasis.
An error will result if fscore is not NULL but: (i) the scores are not integers, (ii) f is NULL, or (iii) the number of scores does not equal the number levels of f.
</p>
</td></tr>
<tr><td><code id="dstat_+3A_fr">fr</code></td>
<td>

<p>A nonnegative number.  If fr=0, then the test is simply a group-rank test, using every category, without conditional inference.  The recommended default of fr=1 uses a category only if the proportion of positive y's in this category is at least equal to gamma/(1+gamma), and the conditional inference corrects for selection of categories based on y.  In general, a category is used if the proportion of positive y is at least fr*gamma/(1+gamma), reducing to all categories if fr=0.
</p>
</td></tr>
<tr><td><code id="dstat_+3A_alpha">alpha</code></td>
<td>

<p>Of limited importance, a text message interprets numerical results in terms of rejection or not
of the null hypothesis of no treatment effect in a one-sided, level-alpha test in the presence of a bias in treatment assignment of at most gamma&gt;=1.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The method is from Rosenbaum (2019).  The example reproduces aspects of this
manuscript.
</p>
<p>The default values of qs, 1/3 and 2/3, are from Brown (1981)'s test.
See Markowski and Hettmansperger (1982) for discussion of other choices.
See Rosenbaum (2015) for comparisons of performance of
different fixed choices of qs; here, a fixed choice is obtained by setting fr=0.
</p>
<p>If a pair difference in y is zero, it falls in the lowest quantile of pairs and
therefore receives weight zero along with other pair differences with small |y|.
</p>


<h3>Value</h3>

<table>
<tr><td><code>T</code></td>
<td>
<p>The test statistic</p>
</td></tr>
<tr><td><code>comp2</code></td>
<td>
<p>The sharp upper bound on the one-sided, exact P-value testing the null hypothesis of no treatment effect in the presence of a bias in treatment assignment of at most gamma.</p>
</td></tr>
<tr><td><code>scores</code></td>
<td>
<p>A vector reminding you of the scores, fscore, that you may have attached to the levels of f.</p>
</td></tr>
<tr><td><code>table</code></td>
<td>
<p>A table showing how individual categories contribute to the overall test.  The notation in this table is from Rosenbaum (2019).</p>
</td></tr>
<tr><td><code>summary</code></td>
<td>
<p>A text summary of the conclusion.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Paul R. Rosenbaum
</p>


<h3>References</h3>

<p>Brown, B. M. (1981). Symmetric quantile averages and related estimators. Biometrika, 68(1), 235-242.
</p>
<p>Lalive, R., Van Ours, J., &amp; Zweimüller, J. (2006). How changes
in financial incentives affect the duration of unemployment.
The Review of Economic Studies, 73, 1009-1038.
</p>
<p>Markowski, E. P., Hettmansperger, T. P. (1982). Inference based on simple rank step score statistics for the location model. Journal of the American Statistical Association, 77(380), 901-907.
</p>
<p>Noether, G. E. (1973). Some simple distribution-free confidence intervals for the center of a symmetric distribution. Journal of the American Statistical Association, 68(343), 716-719.
</p>
<p>Rosenbaum, P. R. (1999). Using quantile averages in matched observational studies. Journal of the Royal Statistical Society: Series C (Applied Statistics), 48(1), 63-78. &lt;doi.org/10.1111/1467-9876.00140&gt;
</p>
<p>Rosenbaum, P. R. and Silber, J. H. (2009) Amplification of sensitivity analysis in observational studies.  Journal of the American Statistical Association, 104, 1398-1405.
&lt;doi:10.1198/jasa.2009.tm08470&gt;
</p>
<p>Rosenbaum, P. R. (2010) The power of a sensitivity analysis and its limit.  Chapter 14 of
Design of Observational Studies.  NY: Springer. &lt;doi:10.1007/978-1-4419-1213-8_14&gt;
</p>
<p>Rosenbaum, P. R. (2015). Bahadur efficiency of sensitivity analyses in observational studies. Journal of the American Statistical Association, 110(509), 205-217. &lt;doi.org/10.1080/01621459.2014.960968&gt;
</p>
<p>Rosenbaum, P. R. (2017). Observation and Experiment: An Introduction to Causal Inference.
Cambridge, MA: Harvard University Press.
</p>
<p>Rosenbaum, P. R. (2019). A highly adaptive test for matched
observational studies.  Manuscript.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># First example is from Rosenbaum (2019)
data("lalive")
attach(lalive)
y&lt;-log2((1+dur[after==1])/52)-log2((1+dur[after==0])/52)
dstat(y,qs=c(1/3,2/3),fr=0,gamma=1.15) # Brown's (1981) test
dstat(y,qs=c(2/3),fr=0,gamma=1.25) # Noether's (1973) Test
#Amplification: see Rosenbaum and Silber (2009), Rosenbaum (2017, Table 9.1)
amplify(1.25,2)

bothseasonal&lt;-(2==(seasonal[after==1]+seasonal[after==0]))*1
bothseasonal&lt;-factor(bothseasonal,levels=1:0,
   labels=c("S","O"),ordered=TRUE)
straddle&lt;-1*((pmin(dur[after==1],dur[after==0])&lt;=(bdur[after==0]))
   &amp;(pmax(dur[after==1],dur[after==0])&gt;(bdur[after==0])))
straddle&lt;-factor(straddle,levels=c(0,1),
   labels=c("N","Y"),ordered=TRUE)
dose&lt;-1*((bdur[after==1]-bdur[after==0])&gt;9.5)
dose&lt;-factor(dose,levels=c(0,1),
   labels=c("L","H"),ordered=TRUE)
f&lt;-bothseasonal:dose:straddle
dstat(y,qs=c(1/3,2/3),f=f,gamma=1.25)
# Reproduces Table 2 in Rosenbaum (2019)
dstat(y,qs=c(1/3,2/3),f=f,gamma=1.45)
amplify(1.45,c(2,2.5,3,4))

# Doubling the weight for high-dose matched pairs
levels(f)
fs&lt;-c(1,1,2,2,1,1,2,2)
dstat(y,qs=c(1/3,2/3),f=f,fscore=fs,gamma=1.45)

rm(y,f,dose,straddle,bothseasonal)
detach(lalive)
rm(lalive)

# Second example uses dental data
data(dental)
attach(dental)
f&lt;-age:dose
levels(f)
# Doubles the weight at high dose using fscore
# For qs = (.4,.8), see Markowski and Hettmansperger (1982)
dstat(y,qs=c(.4,.8),gamma=4.25,f=f,fscore=c(1,2,1,2))
rm(f)
detach(dental)
rm(dental)
</code></pre>

<hr>
<h2 id='lalive'>
Unemployment Duration Following an Increase in Unemployment Benefits
</h2><span id='topic+lalive'></span>

<h3>Description</h3>

<p>Data from a study by Lalive, van Ours and Zweimüller (2006) concerning
the duration of unemployment before and after an increase in
unemployment benefits, both the benefit amount and the duration
of benefits.  The original study takes account of many relevant
considerations not included in the current subset of the data
The data were used as methodological example in Rosenbaum (2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("lalive")</code></pre>


<h3>Format</h3>

<p>A data frame with 2782 observations on the following 17 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>ID number</p>
</dd>
<dt><code>mset</code></dt><dd><p>Matched pair, 1,2,...,1391.</p>
</dd>
<dt><code>after</code></dt><dd><p>Treatment indicator, 1=after
benefits increase, 0=before benefits increase</p>
</dd>
<dt><code>type</code></dt><dd><p>a factor with levels <code>PBD and RR</code></p>
</dd>
<dt><code>dur</code></dt><dd><p>Duration of unemployment in weeks.</p>
</dd>
<dt><code>bdur</code></dt><dd><p>Duration of unemployment benefits in weeks</p>
</dd>
<dt><code>e3_5</code></dt><dd><p>1 if worked for at least 3 of the past 5 years,
0 otherwise.</p>
</dd>
<dt><code>lehre</code></dt><dd><p>1 if apprenticeship, 0 otherwise</p>
</dd>
<dt><code>married</code></dt><dd><p>1 if married, 0 otherwise</p>
</dd>
<dt><code>divorced</code></dt><dd><p>1 if divorced, 0 otherwise</p>
</dd>
<dt><code>bc</code></dt><dd><p>1 if lost a blue colar job, 0 otherwise</p>
</dd>
<dt><code>seasonal</code></dt><dd><p>1 if lost a seasonal job, 0 otherwise</p>
</dd>
<dt><code>manuf</code></dt><dd><p>1 if lost a manufacturing job, 0 otherwise</p>
</dd>
<dt><code>age</code></dt><dd><p>Age in years</p>
</dd>
<dt><code>nwage_pj</code></dt><dd><p>Wage in the prior job in Austrian schillings</p>
</dd>
<dt><code>educ</code></dt><dd><p>0 if primary education, 1 if secondary education, 2 if tertiary education</p>
</dd>
<dt><code>propensity</code></dt><dd><p>An estimated propensity score</p>
</dd>
</dl>



<h3>Details</h3>

<p>The data are from Lalive, van Ours and Zweimüller (2006), by way of the web-page for
the textbook Cahuc, P., Carcillo, S. and Zylberberg, A. (2014).
</p>
<p>In August 1989, Austria increased its unemployment benefits for certain categories
of workers.  The category considered here, type=PBD and RR, had an increase
in the duration of unemployment benefits and an increase in unemployment
compensation.  There are two groups, those unemployed in the two years
before the benefit increase, after=0, and those unemployed in the two
years after the increase, after=1.
</p>
<p>The data are 1391 matched pairs, matached for e3_5, lehre, married, divorced, bc,
seasonal, manuf, age, nwage_pj, and educ, with fine balance for quintiles of
the propensity score.  All are men, and none were temporarily laid off.  The
matching used a simplified version of the method in Rosenbaum (2017).
</p>
<p>The original study by Lalive et al. (2006) sensibly
takes account of many relevant
considerations not included in the current subset of the data.
The limited data available here were used to illustrate certain
methodological issues in Rosenbaum (2019).
</p>


<h3>Source</h3>

<p>Lalive, R., Van Ours, J., &amp; Zweimüller, J. (2006).
</p>


<h3>References</h3>

<p>Cahuc, P., Carcillo, S. and Zylberberg, A. (2014). Labor Economics,
Second Edition.  Cambridge, MA: MIT Press.
https://mitpress.mit.edu/books/labor-economics-second-edition
</p>
<p>Lalive, R., Van Ours, J., &amp; Zweimüller, J. (2006). How changes
in financial incentives affect the duration of unemployment.
The Review of Economic Studies, 73, 1009-1038.
&lt;doi:10.1111/j.1467-937X.2006.00406.x&gt;
</p>
<p>Rosenbaum, P. R. (2017). Imposing minimax and quantile
constraints on optimal matching in observational studies.
Journal of Computational and Graphical Statistics, 26, 66-78.
</p>
<p>Rosenbaum, P. R. (2019). A highly adaptive test for matched
observational studies.  Manuscript.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(lalive)
attach(lalive)
# covariate balance
boxplot(propensity~after,names=c("Before","After"),ylab="Propensity Score")
boxplot(age~after,names=c("Before","After"),ylab="Age")
boxplot(nwage_pj~after,names=c("Before","After"),ylab="Prior Wage")
table(after,seasonal)
# outcome
y&lt;-log2((1+dur[after==1])/52)-log2((1+dur[after==0])/52)
boxplot(y,ylab="Pair Difference in base 2 logs",
    main="Unemployment Duration")
abline(h=c(-1,0,1),lty=2)
rm(y)
detach(lalive)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

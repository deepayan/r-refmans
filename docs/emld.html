<!DOCTYPE html><html><head><title>Help for package emld</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {emld}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_emld'><p>Coerce an EML file or object into an emld object.</p></a></li>
<li><a href='#as_json'><p>Coerce an emld object into JSON</p></a></li>
<li><a href='#as_xml'><p>Coerce an emld object into XML (EML's standard format)</p></a></li>
<li><a href='#eml_ns'><p>Get the XML namespace for a version of EML</p></a></li>
<li><a href='#eml_validate'><p>eml_validate</p></a></li>
<li><a href='#eml_version'><p>Set or check the EML version default</p></a></li>
<li><a href='#emld-package'><p>emld: Ecological Metadata as Linked Data</p></a></li>
<li><a href='#find_real_root_name'><p>Get the real <code>QName</code> for the root element, including its prefix</p></a></li>
<li><a href='#guess_root_schema'><p>Find the root schema module and version</p></a></li>
<li><a href='#guess_schema_location'><p>Guess an appropriate <code>schemaLocation</code> value for a given version of the schema</p></a></li>
<li><a href='#template'><p>Create a template for an EML object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Ecological Metadata as Linked Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>This is a utility for transforming Ecological Metadata Language
        ('EML') files into 'JSON-LD' and back into 'EML.'  Doing so creates a
        list-based representation of 'EML' in R, so that 'EML' data can easily
        be manipulated using standard 'R' tools. This makes this package an
        effective backend for other 'R'-based tools  working with 'EML.' By
        abstracting away the complexity of 'XML' Schema, developers can
        build around native 'R' list objects and not have to worry about satisfying
        many of the additional constraints of set by the schema (such as element
        ordering, which is handled automatically). Additionally, the 'JSON-LD' 
        representation enables the use of developer-friendly 'JSON' parsing and
        serialization that may facilitate the use of 'EML' in contexts outside of 'R,'
        as well as the informatics-friendly serializations such as 'RDF' and
        'SPARQL' queries.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/emld/">https://docs.ropensci.org/emld/</a>, <a href="https://github.com/ropensci/emld">https://github.com/ropensci/emld</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/emld/issues">https://github.com/ropensci/emld/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling, testthat, magrittr, rmarkdown, covr, knitr, rdflib,
jqr</td>
</tr>
<tr>
<td>Imports:</td>
<td>xml2, jsonlite, jsonld, methods, yaml</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-09-27 02:57:18 UTC; cboettig</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Boettiger <a href="https://orcid.org/0000-0002-1642-628X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Matthew B. Jones <a href="https://orcid.org/0000-0003-0077-4738"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph],
  Bryce Mecum <a href="https://orcid.org/0000-0002-0381-3766"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Boettiger &lt;cboettig@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-09-27 10:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_emld'>Coerce an EML file or object into an emld object.</h2><span id='topic+as_emld'></span>

<h3>Description</h3>

<p>Coerce an EML file or object into an emld object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_emld(x, from = c("guess", "xml", "json", "list"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_emld_+3A_x">x</code></td>
<td>
<p>path to an EML file</p>
</td></tr>
<tr><td><code id="as_emld_+3A_from">from</code></td>
<td>
<p>explicit type for the input format. By default, will
attempt to guess the format, but it always safer to specify the
input format. This is essential for literal text strings or raw
vectors where the type cannot be guessed by the R object class
or file extension of the input.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an emld object
</p>


<h3>Examples</h3>

<pre><code class='language-R'> hf205 &lt;- system.file("extdata/hf205.xml", package="emld")
 as_emld(hf205)
</code></pre>

<hr>
<h2 id='as_json'>Coerce an emld object into JSON</h2><span id='topic+as_json'></span>

<h3>Description</h3>

<p>Coerce an emld object into JSON
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_json(x, file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_json_+3A_x">x</code></td>
<td>
<p>an emld object</p>
</td></tr>
<tr><td><code id="as_json_+3A_file">file</code></td>
<td>
<p>optional path to write out to file.
Otherwise, defaults to NULL and will return a json object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: since emld list object maintains a 1:1 correspondence with JSON,
following the conventions of jsonlite, this function is basically trivial. The
only purpose is to default to auto_unbox = TRUE in serializing lists to JSON.
</p>


<h3>Value</h3>

<p>a json object. Or if a file path is provided, the metadata
is written out in JSON file and the function returns <code>NULL</code> invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- system.file("extdata/example.xml", package = "emld")
emld &lt;- as_emld(f)
json &lt;- as_json(emld)
## can also write a json file to disk:
json_file &lt;- tempfile()
as_json(emld, json_file)
</code></pre>

<hr>
<h2 id='as_xml'>Coerce an emld object into XML (EML's standard format)</h2><span id='topic+as_xml'></span>

<h3>Description</h3>

<p>Coerce an emld object into XML (EML's standard format)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_xml(x, file = NULL, root = "eml", ns = "eml", schemaLocation = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_xml_+3A_x">x</code></td>
<td>
<p>an emld object</p>
</td></tr>
<tr><td><code id="as_xml_+3A_file">file</code></td>
<td>
<p>optional path to write out to file.
Otherwise, defaults to NULL and will return an xml_document object.</p>
</td></tr>
<tr><td><code id="as_xml_+3A_root">root</code></td>
<td>
<p>name for the root node; default to 'eml'</p>
</td></tr>
<tr><td><code id="as_xml_+3A_ns">ns</code></td>
<td>
<p>namespace abbreviation on root node, default 'eml'</p>
</td></tr>
<tr><td><code id="as_xml_+3A_schemalocation">schemaLocation</code></td>
<td>
<p>If not explicitly set on <code>x</code>, automatically set
<code>xsi:schemaLocation</code> based upon the root namespace (<code>TRUE</code>, default), do not
set a <code>xsi:schemaLocation</code> (<code>FALSE</code>), or set a specific <code>xsi:schemaLocation</code>
value (<code>"Your value here..."</code>). See Examples.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unlike as_json, this function cannot rely on the existing
convention of serializing a list to xml, eg, as defined by xml2::as_xml_document()
Instead, this relies on a modified version, as_eml_document.  In addition
further steps must be taken when working with JSON-LD to deal with
different possible framings and namespaces from the JSON-LD context
element. Thus this <code>as_xml</code> function is particular to EML and <code>emld</code>
objects alone.
</p>


<h3>Value</h3>

<p>a xml_document object. Or if a file path is provided, the metadata
is written out in XML file and the function returns <code>NULL</code> invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- system.file("extdata/example.xml", package = "emld")
emld &lt;- as_emld(f)
xml &lt;- as_xml(emld)

## can also write directly to a file:
xml_file &lt;- tempfile()
as_xml(emld, xml_file)

## if you don't want the `xsi:schemaLocation` attribute set
as_xml(emld, schemaLocation = FALSE)

## or if you want to set your own value
as_xml(emld, schemaLocation = "https://eml.ecoinformatics.org/eml-2.2.0
http://example.com/eml-2.2.0/eml.xsd")

</code></pre>

<hr>
<h2 id='eml_ns'>Get the XML namespace for a version of EML</h2><span id='topic+eml_ns'></span>

<h3>Description</h3>

<p>Utility function for use when filling in <code>xmlns</code>, <code>schemaLocation</code>, or
<code>vocab</code> in various representations of EML. This is a little more future-proof
than keeping a dictionary for each version since this won't break on the next
release.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eml_ns(version = eml_version())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eml_ns_+3A_version">version</code></td>
<td>
<p>EML version, currently either eml-2.2.0 (current version) or
eml-2.1.1. Defaults to current version.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns the full XML namespace URI for the specified version of the
schema
</p>

<hr>
<h2 id='eml_validate'>eml_validate</h2><span id='topic+eml_validate'></span>

<h3>Description</h3>

<p>eml_validate processes an EML document using the XSD schema for the
appropriate version of EML and determines if the document is schema-valid
as defined by the XSD specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eml_validate(eml, encoding = "UTF-8", schema = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eml_validate_+3A_eml">eml</code></td>
<td>
<p>file path, xml_document,</p>
</td></tr>
<tr><td><code id="eml_validate_+3A_encoding">encoding</code></td>
<td>
<p>optional encoding for files, default UTF-8.</p>
</td></tr>
<tr><td><code id="eml_validate_+3A_schema">schema</code></td>
<td>
<p>path to schema</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Whether the document is valid (logical)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

 f &lt;- system.file("extdata", "example.xml", package = "emld")

 ## validate file directly from disk:
 eml_validate(f)

 ## validate an eml object:
 eml &lt;- as_emld(f)
 eml_validate(eml)



</code></pre>

<hr>
<h2 id='eml_version'>Set or check the EML version default</h2><span id='topic+eml_version'></span>

<h3>Description</h3>

<p>Set or check the EML version default
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eml_version(version = getOption("emld_db", "eml-2.2.0"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eml_version_+3A_version">version</code></td>
<td>
<p>EML version, currently either eml-2.2.0 (current version), or
eml-2.1.1. The 'eml-' prefix can be omitted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns the EML version string. As a side-effect, sets the
requested version as the default version by setting the <code>emld_db</code>
variable in <code><a href="base.html#topic+options">options()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eml_version()
eml_version("2.1.1")
eml_version("eml-2.1.1")

</code></pre>

<hr>
<h2 id='emld-package'>emld: Ecological Metadata as Linked Data</h2><span id='topic+emld'></span><span id='topic+emld-package'></span>

<h3>Description</h3>

<p>The goal of emld is to provide a way to work with EML metadata
in the JSON-LD format. At it's heart, the package is simply a
way to translate an EML XML document into JSON-LD and be able
to reverse this so that any semantically equivalent JSON-LD
file can be serialized into EML-schema valid XML.
</p>


<h3>Details</h3>

<p>The package has only three core functions:
</p>

<ul>
<li> <p><code><a href="#topic+as_emld">as_emld()</a></code> Convert EML's <code>xml</code> files (or the <code>json</code> version created
by this package) into a native R object (an S3 class called <code>emld</code>,
essentially just a <code>list</code>).
</p>
</li>
<li> <p><code><a href="#topic+as_xml">as_xml()</a></code> Convert the native R format, <code>emld</code>, back into
XML-schema valid EML.
</p>
</li>
<li> <p><code><a href="#topic+as_json">as_json()</a></code> Convert the native R format, <code>emld</code>, into <code>json</code>(LD).
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Carl Boettiger <a href="mailto:cboettig@gmail.com">cboettig@gmail.com</a> (<a href="https://orcid.org/0000-0002-1642-628X">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Matthew B. Jones <a href="mailto:jones@nceas.ucsb.edu">jones@nceas.ucsb.edu</a> (<a href="https://orcid.org/0000-0003-0077-4738">ORCID</a>) [copyright holder]
</p>
</li>
<li><p> Bryce Mecum <a href="mailto:mecum@nceas.ucsb.edu">mecum@nceas.ucsb.edu</a> (<a href="https://orcid.org/0000-0002-0381-3766">ORCID</a>) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/emld/">https://docs.ropensci.org/emld/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/emld">https://github.com/ropensci/emld</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/emld/issues">https://github.com/ropensci/emld/issues</a>
</p>
</li></ul>


<hr>
<h2 id='find_real_root_name'>Get the real <code>QName</code> for the root element, including its prefix</h2><span id='topic+find_real_root_name'></span>

<h3>Description</h3>

<p>Note that if a default namespace is used, the prefix will be <code>d1</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_real_root_name(doc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_real_root_name_+3A_doc">doc</code></td>
<td>
<p>An <code>xml_document</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> with elements <code>prefix</code> and <code>name</code>. <code>prefix</code> will be <code>NULL</code>
if the element has no namespace prefix but <code>name</code> will always be a
<code>character</code>.
</p>

<hr>
<h2 id='guess_root_schema'>Find the root schema module and version</h2><span id='topic+guess_root_schema'></span>

<h3>Description</h3>

<p>Find the root schema module and version
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guess_root_schema(doc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="guess_root_schema_+3A_doc">doc</code></td>
<td>
<p>An <code>xml_document</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>If found, a list with names 'version', 'module', and 'namespace. If
not found, throws an error.
</p>

<hr>
<h2 id='guess_schema_location'>Guess an appropriate <code>schemaLocation</code> value for a given version of the schema</h2><span id='topic+guess_schema_location'></span>

<h3>Description</h3>

<p>This is a simple helper to make filling in the <code>schemaLocation</code> attribute
on documents this package creates. Supports EML 2.1.1 and newer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guess_schema_location(version = eml_version())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="guess_schema_location_+3A_version">version</code></td>
<td>
<p>Optional. Override the version of the schema. Defaults to the
current version returned by <code>eml_version</code>. See <code>eml_version</code> for information
on how to change the current version.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a string suitable as a value for <code>schemaLocation</code> or <code>NULL</code>
if a value wasn't found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get an appropriate schemaLocation value for the current version fo EML
guess_schema_location()

# Get an appropriate value for EML 2.1.1
guess_schema_location("eml-2.1.1")

## End(Not run)
</code></pre>

<hr>
<h2 id='template'>Create a template for an EML object</h2><span id='topic+template'></span>

<h3>Description</h3>

<p>Create a template for an EML object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>template(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="template_+3A_object">object</code></td>
<td>
<p>the name of an eml object to create</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: while this function can be called in recursions, doing so may be a bad idea.
</p>


<h3>Value</h3>

<p>a list with elements named according to the properties of the object.
This can be coerced into EML, see vignettes. NULL-valued elements (~)
can take a data entry directly, while empty list()-valued elements ()
indicate properties that take other eml objects as values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>template("creator")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

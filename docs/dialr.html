<!DOCTYPE html><html><head><title>Help for package dialr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dialr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_cc'><p>Check ISO country code</p></a></li>
<li><a href='#dialr-example'><p>Get an example phone number</p></a></li>
<li><a href='#dialr-match'><p>Phone number equality checks</p></a></li>
<li><a href='#dialr-package'><p>dialr: Parse, Format, and Validate International Phone Numbers</p></a></li>
<li><a href='#dialr-phone'><p>Phone number parsing and formatting</p></a></li>
<li><a href='#dialr-region'><p>Phone number region</p></a></li>
<li><a href='#dialr-type'><p>Phone number type</p></a></li>
<li><a href='#dialr-valid'><p>Phone number validity checks</p></a></li>
<li><a href='#get_carrier'><p>Phone number carrier information</p></a></li>
<li><a href='#get_cc'><p>Get ISO country code</p></a></li>
<li><a href='#get_geocode'><p>Phone number geographical information</p></a></li>
<li><a href='#get_timezone'><p>Phone number time zone</p></a></li>
<li><a href='#phone_old'><p>Old one shot phone functions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Parse, Format, and Validate International Phone Numbers</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Parse, format, and validate international phone
    numbers using Google's 'libphonenumber' java library,
    <a href="https://github.com/google/libphonenumber">https://github.com/google/libphonenumber</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://socialresearchcentre.github.io/dialr/">https://socialresearchcentre.github.io/dialr/</a>,
<a href="https://github.com/socialresearchcentre/dialr">https://github.com/socialresearchcentre/dialr</a>,
<a href="https://github.com/socialresearchcentre/dialrjars">https://github.com/socialresearchcentre/dialrjars</a>,
<a href="https://github.com/google/libphonenumber">https://github.com/google/libphonenumber</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/socialresearchcentre/dialr/issues">https://github.com/socialresearchcentre/dialr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dialrjars (&ge; 8.10.11.1), rJava</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, dplyr, knitr, pillar, rmarkdown, testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>java (&gt;= 1.6)</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-15 11:25:14 UTC; danny</td>
</tr>
<tr>
<td>Author:</td>
<td>Danny Smith [aut, cre, cph],
  The Social Research Centre [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Danny Smith &lt;danny@gorcha.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-16 19:40:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_cc'>Check ISO country code</h2><span id='topic+check_cc'></span>

<h3>Description</h3>

<p>Check whether an <a href="#topic+dialr-region">ISO country code</a> is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_cc(country)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_cc_+3A_country">country</code></td>
<td>
<p>A character vector of <a href="#topic+dialr-region">ISO country codes</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector flagging which elements are valid codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_cc(c("AU", "US", "CN", "WRONG", NA))
</code></pre>

<hr>
<h2 id='dialr-example'>Get an example phone number</h2><span id='topic+dialr-example'></span><span id='topic+get_example'></span>

<h3>Description</h3>

<p>Produces example phone numbers for the given <code><a href="#topic+dialr-region">region</a></code>,
<code><a href="#topic+dialr-type">type</a></code> and <code>valid</code> combinations. Input vectors are recycled as
necessary if a vector of length 1 is provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_example(region, type = NULL, valid = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dialr-example_+3A_region">region</code></td>
<td>
<p>A character vector of <a href="#topic+dialr-region">ISO country codes</a>.</p>
</td></tr>
<tr><td><code id="dialr-example_+3A_type">type</code></td>
<td>
<p>A character vector of <a href="#topic+dialr-type">phone number types</a> for each
region. If <code>NULL</code> (default), returns an example &quot;FIXED_LINE&quot; number.
Returns an empty phone number if <code>type</code> is not valid for the provided
<code>region</code>.</p>
</td></tr>
<tr><td><code id="dialr-example_+3A_valid">valid</code></td>
<td>
<p>A logical vector. For each <code>FALSE</code> entry, <code>get_example</code> returns
an example invalid number, and <code>type</code> is ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+phone">phone</a> vector.
</p>


<h3>libphonenumber reference</h3>

<p><code>get_example()</code>: <code>PhoneNumberUtil.getExampleNumberForType()</code>;
<code>PhoneNumberUtil.getExampleNumber()</code> if <code>type</code> is <code>NULL</code> or <code>NA</code>;
<code>PhoneNumberUtil.getInvalidExampleNumber()</code> if <code>valid</code> is <code>FALSE</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_supported_regions">get_supported_regions()</a></code> for valid region codes,
<code><a href="#topic+get_types_for_region">get_types_for_region()</a></code> to get valid phone types for a region.
</p>
<p>Other phone functions: 
<code><a href="#topic+dialr-match">dialr-match</a></code>,
<code><a href="#topic+dialr-phone">dialr-phone</a></code>,
<code><a href="#topic+dialr-region">dialr-region</a></code>,
<code><a href="#topic+dialr-type">dialr-type</a></code>,
<code><a href="#topic+dialr-valid">dialr-valid</a></code>,
<code><a href="#topic+dialr">dialr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get a basic example number
get_example("AU")

# Get an example mobile number
get_example("AU", type = "MOBILE")

# Example phone number for an invalid type
get_example("AU", type = "VOICEMAIL")

# Get an example invalid number
get_example("AU", valid = FALSE)

# Get a combination of the previous examples
get_example(c("AU", "AU",     "AU",        "AU" ),
            c(NA,   "MOBILE", "VOICEMAIL", NA   ),
            c(TRUE, TRUE,     TRUE,        FALSE))
</code></pre>

<hr>
<h2 id='dialr-match'>Phone number equality checks</h2><span id='topic+dialr-match'></span><span id='topic+is_match'></span>

<h3>Description</h3>

<p>Check if two vectors contain matching phone numbers. See Details section for
a full list of match types. <code>is_match()</code> with default arguments is used to
implement <code>==</code> and <code>!=</code> for phone vectors.
</p>
<p><code>is_match()</code> accepts phone or atomic vectors. Atomic vectors are converted to
character for comparison. Note that although they can contain formatting
character vectors are not parsed with a default region, so they will only
ever be an <code>"EXACT_MATCH"</code> if a country calling code is specified with <code>+</code> at
the start. See Examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_match(e1, e2, detailed = FALSE, strict = TRUE, not_number_na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dialr-match_+3A_e1">e1</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> or character vector.</p>
</td></tr>
<tr><td><code id="dialr-match_+3A_e2">e2</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> or character vector.</p>
</td></tr>
<tr><td><code id="dialr-match_+3A_detailed">detailed</code></td>
<td>
<p>If <code>FALSE</code>, <code>is_match()</code> returns a logical vector. If <code>TRUE</code>,
it returns a character vector with the match type. See Details section for
possible return values.</p>
</td></tr>
<tr><td><code id="dialr-match_+3A_strict">strict</code></td>
<td>
<p>If <code>TRUE</code>, only <code>"EXACT_MATCH"</code> is treated as a match. If
<code>FALSE</code>, <code>"EXACT_MATCH"</code>, <code>"NSN_MATCH"</code> and <code>"SHORT_NSN_MATCH"</code> are all
considered a match. Ignored if <code>detailed = TRUE</code>.</p>
</td></tr>
<tr><td><code id="dialr-match_+3A_not_number_na">not_number_na</code></td>
<td>
<p>If <code>TRUE</code>, <code>"NOT_A_NUMBER"</code> is converted to <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Possible return values for <code>is_match(x, detailed = TRUE)</code>:
</p>

<ul>
<li> <p><code>"EXACT_MATCH"</code>: The country_code, NSN, presence of a leading zero for
Italian numbers and any extension present are the same.
</p>
</li>
<li> <p><code>"NSN_MATCH"</code>: Either or both values has no region specified, and the NSNs
and extensions are the same.
</p>
</li>
<li> <p><code>"SHORT_NSN_MATCH"</code>: Either or both values has no region specified, or the
region specified is the same, and one NSN could be a shorter version of the
other number. This includes the case where one has an extension specified,
and the other does not.
</p>
</li>
<li> <p><code>"NOT_A_NUMBER"</code>: One of the input phone numbers failed to parse.
</p>
</li>
<li> <p><code>"NO_MATCH"</code>: All others.
</p>
</li></ul>

<p>For example, the numbers <code style="white-space: pre;">&#8288;+1 345 657 1234&#8288;</code> and <code style="white-space: pre;">&#8288;657 1234&#8288;</code> are a
<code>"SHORT_NSN_MATCH"</code>. The numbers <code style="white-space: pre;">&#8288;+1 345 657 1234&#8288;</code> and <code style="white-space: pre;">&#8288;345 657&#8288;</code> are a
<code>"NO_MATCH"</code>.
</p>


<h3>Value</h3>

<p>A logical or character vector.
</p>


<h3>libphonenumber reference</h3>

<p><code>is_match()</code>: <code>PhoneNumberUtil.isNumberMatch()</code>
</p>


<h3>See Also</h3>

<p>Other phone functions: 
<code><a href="#topic+dialr-example">dialr-example</a></code>,
<code><a href="#topic+dialr-phone">dialr-phone</a></code>,
<code><a href="#topic+dialr-region">dialr-region</a></code>,
<code><a href="#topic+dialr-type">dialr-type</a></code>,
<code><a href="#topic+dialr-valid">dialr-valid</a></code>,
<code><a href="#topic+dialr">dialr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_match(phone("0412 345 678", "AU"), phone("+61412345678", "AU"))

phone("0412 345 678", "AU") == phone("+61412345678", "AU")
phone("0412 345 678", "AU") != phone("+61412345678", "AU")

# character vectors are only fully specified with a country calling code
is_match("0412345678", "0412345678", detailed = TRUE)
is_match("+61412345678", "+61412345678", detailed = TRUE)

is_match(phone("0412345678", "AU"), "0412345678", detailed = TRUE)
is_match(phone("+61412345678", "AU"), "+61412345678", detailed = TRUE)
</code></pre>

<hr>
<h2 id='dialr-package'>dialr: Parse, Format, and Validate International Phone Numbers</h2><span id='topic+dialr'></span><span id='topic+dialr-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Parse, format, and validate international phone numbers using Google's 'libphonenumber' java library, <a href="https://github.com/google/libphonenumber">https://github.com/google/libphonenumber</a>.
</p>


<h3>Options</h3>


<ul>
<li> <p><code>dialr.home</code>: The default <a href="#topic+dialr-region">region</a> used to process phone
numbers where no region is provided. (default: <code>"AU"</code>).
</p>
</li>
<li> <p><code>dialr.format</code>: The default format used to print clean phone numbers. See
<code><a href="#topic+format.phone">format.phone()</a></code> for details. (default: <code>"E164"</code>).
</p>
</li>
<li> <p><code>dialr.locale</code>: The default <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html">Java locale</a> used
to retrieve localised results in <a href="#topic+get_geocode">geographical</a> and
<a href="#topic+get_carrier">carrier</a> information (default: <code>"en"</code>).
</p>
</li>
<li> <p><code>dialr.show_progress</code>: Should lengthy operations such as <code><a href="#topic+phone">phone()</a></code> show a
progress bar? (default: <code>TRUE</code>).
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Danny Smith <a href="mailto:danny@gorcha.org">danny@gorcha.org</a> [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> The Social Research Centre [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://socialresearchcentre.github.io/dialr/">https://socialresearchcentre.github.io/dialr/</a>
</p>
</li>
<li> <p><a href="https://github.com/socialresearchcentre/dialr">https://github.com/socialresearchcentre/dialr</a>
</p>
</li>
<li> <p><a href="https://github.com/socialresearchcentre/dialrjars">https://github.com/socialresearchcentre/dialrjars</a>
</p>
</li>
<li> <p><a href="https://github.com/google/libphonenumber">https://github.com/google/libphonenumber</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/socialresearchcentre/dialr/issues">https://github.com/socialresearchcentre/dialr/issues</a>
</p>
</li></ul>

<p>Other phone functions: 
<code><a href="#topic+dialr-example">dialr-example</a></code>,
<code><a href="#topic+dialr-match">dialr-match</a></code>,
<code><a href="#topic+dialr-phone">dialr-phone</a></code>,
<code><a href="#topic+dialr-region">dialr-region</a></code>,
<code><a href="#topic+dialr-type">dialr-type</a></code>,
<code><a href="#topic+dialr-valid">dialr-valid</a></code>
</p>

<hr>
<h2 id='dialr-phone'>Phone number parsing and formatting</h2><span id='topic+dialr-phone'></span><span id='topic+phone'></span><span id='topic+phone_reparse'></span><span id='topic+is.phone'></span><span id='topic+print.phone'></span><span id='topic+format.phone'></span><span id='topic+as.character.phone'></span>

<h3>Description</h3>

<p>A phone vector stores phone numbers parsed with libphonenumber for formatting
and further processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phone(
  x = character(),
  region = character(),
  show_progress = getOption("dialr.show_progress")
)

phone_reparse(x)

is.phone(x)

## S3 method for class 'phone'
print(x, n = 10, ...)

## S3 method for class 'phone'
format(
  x,
  format = c("E164", "NATIONAL", "INTERNATIONAL", "RFC3966"),
  home = NULL,
  clean = TRUE,
  strict = FALSE,
  ...
)

## S3 method for class 'phone'
as.character(x, raw = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dialr-phone_+3A_x">x</code></td>
<td>
<p>A character vector of phone numbers.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_region">region</code></td>
<td>
<p>A character vector of <a href="#topic+dialr-region">ISO country codes</a> with
the default region for each phone number in <code>x</code>. A <code>region</code> vector of
length 1 will be recycled to the length of <code>x</code>.
</p>
<p>If <code>NA</code> or <code>""</code>, numbers written in international format (with a leading
<code>+</code>) will be parsed without a default region.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_show_progress">show_progress</code></td>
<td>
<p>Should a progress bar be displayed? Defaults to the
option <code>dialr.show_progress</code>.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_n">n</code></td>
<td>
<p>Number of elements to print.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_...">...</code></td>
<td>
<p>Additional arguments for specific methods.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_format">format</code></td>
<td>
<p>Phone number format to use from one of four standards:
</p>

<ul>
<li> <p><code>"E164"</code>: general format for international telephone numbers from <a href="https://en.wikipedia.org/wiki/E.164">ITU-T Recommendation E.164</a>
</p>
</li>
<li> <p><code>"NATIONAL"</code>: national notation from <a href="https://en.wikipedia.org/wiki/E.123">ITU-T Recommendation E.123</a>
</p>
</li>
<li> <p><code>"INTERNATIONAL"</code>: international notation from <a href="https://en.wikipedia.org/wiki/E.123">ITU-T Recommendation E.123</a>
</p>
</li>
<li> <p><code>"RFC3966"</code>: &quot;tel&quot; URI syntax from the IETF <a href="https://datatracker.ietf.org/doc/rfc3966/">tel URI for Telephone Numbers</a>
</p>
</li></ul>

<p>See notes from the <a href="https://www.javadoc.io/doc/com.googlecode.libphonenumber/libphonenumber/latest/com/google/i18n/phonenumbers/PhoneNumberUtil.PhoneNumberFormat.html">libphonenumber javadocs</a>
for more details.
</p>
<p><code>format</code> defaults to <code>"E164"</code>. The default can be set in option
<code>dialr.format</code>.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_home">home</code></td>
<td>
<p><a href="#topic+dialr-region">ISO country code</a> for home region. If provided,
numbers will be formatted for dialing from the home region.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_clean">clean</code></td>
<td>
<p>Should non-numeric characters be removed? If <code>TRUE</code>, keeps
numbers and leading <code>"+"</code>.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_strict">strict</code></td>
<td>
<p>Should invalid phone numbers be removed? If <code>TRUE</code>, invalid
phone numbers are replaced with <code>NA</code>.</p>
</td></tr>
<tr><td><code id="dialr-phone_+3A_raw">raw</code></td>
<td>
<p>If <code>TRUE</code>, the raw phone number is returned. Otherwise elements
are cleaned with <code>format()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>libphonenumber defines the <code>PhoneNumberUtil</code> class, with a set of functions
for extracting information from and performing processing on a parsed
<code>Phonenumber</code> object. A text phone number must be parsed before any other
operations (e.g. checking phone number validity, formatting) can be
performed. When parsing a phone number a <a href="#topic+dialr-region">&quot;default region&quot;</a> is
required to determine the processing context for non-international numbers.
</p>
<p>A phone vector stores the raw phone number, the default region and a java
<code>Phonenumber</code> object for each element. The java object is cached so should
persist between R sessions. In case of issues, use <code>phone_reparse()</code> to
recreate the phone vector from the original phone number and region.
</p>
<p>Phone number parsing functions display a progress bar in interactive sessions
by default. This can be disabled globally by setting option
<code>dialr.show_progress</code> to <code>FALSE</code>, or locally using the <code>show_progress</code>
function argument.
</p>


<h3>libphonenumber reference</h3>

<p><code>phone()</code>: Phone numbers are parsed using
<code>PhoneNumberUtil.parseAndKeepRawInput()</code>. A phone vector stores the
returned <code>Phonenumber.PhoneNumber</code> object alongside the original raw text
and default region for later reference.
</p>
<p><code>format()</code>: <code>PhoneNumberUtil.format()</code> by default, or
<code>PhoneNumberUtil.formatOutOfCountryCallingNumber()</code> if <code>home</code> is provided.
</p>


<h3>See Also</h3>

<p>Other phone functions: 
<code><a href="#topic+dialr-example">dialr-example</a></code>,
<code><a href="#topic+dialr-match">dialr-match</a></code>,
<code><a href="#topic+dialr-region">dialr-region</a></code>,
<code><a href="#topic+dialr-type">dialr-type</a></code>,
<code><a href="#topic+dialr-valid">dialr-valid</a></code>,
<code><a href="#topic+dialr">dialr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Create a phone vector
  x &lt;- phone(c(0, 0123, "0412 345 678", "61412987654", "03 9123 4567", "+12015550123"), "AU")
  
  is.phone(x)
  print(x)
  as.character(x)
  format(x)
  format(x, home = "AU")
  
  # Parse international number with no default region
  phone("+61412345678", NA)
  
  # Will fail to parse if number is not in international format
  phone("0412345678", NA)
  
  # A combination can be used
  phone(c("+61412345678", "0412345678"), c(NA, "AU"))
</code></pre>

<hr>
<h2 id='dialr-region'>Phone number region</h2><span id='topic+dialr-region'></span><span id='topic+get_region'></span><span id='topic+get_supported_regions'></span><span id='topic+get_region_for_calling_code'></span><span id='topic+get_regions_for_calling_code'></span>

<h3>Description</h3>

<p>In libphonenumber a phone number region is represented by a 2 digit ISO
country code. <code>get_region(x)</code> returns the 2-digit <a href="https://en.wikipedia.org/wiki/ISO_3166-1">ISO country code</a> for each element of a <a href="#topic+phone">phone</a>
vector.
</p>
<p>Use <code>get_supported_regions()</code> to see a full list of supported regions.
</p>
<p>Region can also be retrieved from an international calling code.
<code>get_region_for_calling_code(x)</code> returns the main region for each provided
calling code. Since multiple regions can share a single calling code,
<code>get_regions_for_calling_code(x)</code> returns a list of character vectors of
regions for each.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_region(x)

get_supported_regions()

get_region_for_calling_code(x)

get_regions_for_calling_code(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dialr-region_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> vector, or a vector of calling codes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of country codes.
</p>
<p><code>get_regions_for_calling_code()</code> returns a list of character vectors for
each provided calling code.
</p>


<h3>libphonenumber reference</h3>

<p><code>get_region()</code>: <code>PhoneNumberUtil.getRegionCodeForNumber()</code>
</p>
<p><code>get_supported_regions()</code>: <code>PhoneNumberUtil.getSupportedRegions()</code>
</p>
<p><code>get_region_for_calling_code()</code>:
<code>PhoneNumberUtil.getRegionCodeForCountryCode()</code>
</p>
<p><code>get_regions_for_calling_code()</code>:
<code>PhoneNumberUtil.getRegionCodesForCountryCode()</code>
</p>


<h3>See Also</h3>

<p>Other phone functions: 
<code><a href="#topic+dialr-example">dialr-example</a></code>,
<code><a href="#topic+dialr-match">dialr-match</a></code>,
<code><a href="#topic+dialr-phone">dialr-phone</a></code>,
<code><a href="#topic+dialr-type">dialr-type</a></code>,
<code><a href="#topic+dialr-valid">dialr-valid</a></code>,
<code><a href="#topic+dialr">dialr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Get regions for a phone vector
  x &lt;- phone(c(0, 0123, "0412 345 678", "61412987654", "03 9123 4567", "+12015550123"), "AU")
  get_region(x)

  # All supported region codes
  get_supported_regions()
  
  # Primary region for a calling code
  get_region_for_calling_code(c(1, 61, 84))
  
  # All regions for a calling code
  get_regions_for_calling_code(c(1, 61, 84))
  
</code></pre>

<hr>
<h2 id='dialr-type'>Phone number type</h2><span id='topic+dialr-type'></span><span id='topic+get_type'></span><span id='topic+get_supported_types'></span><span id='topic+get_types_for_region'></span>

<h3>Description</h3>

<p>In addition to validity, libphonenumber can identify phone number type - it
is able to distinguish Fixed-line, Mobile, Toll-free, Premium Rate, Shared
Cost, VoIP, Personal Numbers, UAN, Pager, and Voicemail (whenever feasible).
</p>
<p><code>get_type(x)</code> returns the phone number type for each element of a <a href="#topic+phone">phone</a>
vector.
</p>
<p>Valid phone number types differ by region. <code>get_types_for_region(x)</code> returns
a list of character vectors of valid types for each provided
<a href="#topic+dialr-region">ISO country code</a>. Use <code>get_supported_types()</code> to see a full
list of supported types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_type(x, strict = FALSE)

get_supported_types()

get_types_for_region(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dialr-type_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> vector, or a character vector of <a href="#topic+dialr-region">ISO country codes</a>.</p>
</td></tr>
<tr><td><code id="dialr-type_+3A_strict">strict</code></td>
<td>
<p>If <code>TRUE</code>, invalid phone numbers return <code>NA</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of phone types.
</p>
<p><code>get_types_for_region()</code> returns a list of character vectors for each
provided country code.
</p>


<h3>libphonenumber reference</h3>

<p><code>get_type()</code>: <code>PhoneNumberUtil.getNumberType()</code>
</p>
<p><code>get_supported_types()</code>: <code>PhoneNumberUtil.PhoneNumberType</code>
</p>
<p><code>get_types_for_region()</code>: <code>PhoneNumberUtil.getSupportedTypesForRegion()</code>
</p>


<h3>See Also</h3>

<p>Other phone functions: 
<code><a href="#topic+dialr-example">dialr-example</a></code>,
<code><a href="#topic+dialr-match">dialr-match</a></code>,
<code><a href="#topic+dialr-phone">dialr-phone</a></code>,
<code><a href="#topic+dialr-region">dialr-region</a></code>,
<code><a href="#topic+dialr-valid">dialr-valid</a></code>,
<code><a href="#topic+dialr">dialr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Get phone types for a phone vector
  x &lt;- phone(c(0, 0123, "0412 345 678", "61412987654", "03 9123 4567", "+12015550123"), "AU")
  get_type(x)
  
  # All supported phone types
  get_supported_types()
  
  # Get supported types for specified regions
  get_types_for_region("AU")
  get_types_for_region(c("GB", "US"))
  get_types_for_region(get_supported_regions())[1:5]
  
</code></pre>

<hr>
<h2 id='dialr-valid'>Phone number validity checks</h2><span id='topic+dialr-valid'></span><span id='topic+is_parsed'></span><span id='topic+is_valid'></span><span id='topic+is_possible'></span>

<h3>Description</h3>

<p>For each element of <code>x</code>:
</p>

<ul>
<li> <p><code>is_parsed(x)</code>: Was this successfully parsed?
</p>
</li>
<li> <p><code>is_valid(x)</code>: Is this a valid phone number?
</p>
</li>
<li> <p><code>is_possible(x)</code>: Is this a possible phone number? Return type depends on
<code>detailed</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>is_parsed(x)

is_valid(x)

is_possible(x, detailed = FALSE, type = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dialr-valid_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> vector.</p>
</td></tr>
<tr><td><code id="dialr-valid_+3A_detailed">detailed</code></td>
<td>
<p>If <code>FALSE</code>, <code>is_possible</code> returns a logical vector. If
<code>TRUE</code>, it returns a character vector with <code>"IS_POSSIBLE"</code> or the reason
for failure. See Details section for possible return values.</p>
</td></tr>
<tr><td><code id="dialr-valid_+3A_type">type</code></td>
<td>
<p>If provided, checks if <code>x</code> is possible for the given <a href="#topic+dialr-region">phone number type</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Possible return values for <code>is_possible(x, detailed = TRUE)</code>:
</p>

<ul>
<li> <p><code>"INVALID_COUNTRY_CODE"</code>: The number has an invalid country calling code.
</p>
</li>
<li> <p><code>"INVALID_LENGTH"</code>: The number is longer than the shortest valid numbers
for this region, shorter than the longest valid numbers for this region,
and does not itself have a number length that matches valid numbers for
this region.
</p>
</li>
<li> <p><code>"IS_POSSIBLE"</code>: The number length matches that of valid numbers for this
region.
</p>
</li>
<li> <p><code>"IS_POSSIBLE_LOCAL_ONLY"</code>: The number length matches that of local numbers
for this region only (i.e. numbers that may be able to be dialled within an
area, but do not have all the information to be dialled from anywhere inside
or outside the country).
</p>
</li>
<li> <p><code>"TOO_LONG"</code>: The number is longer than all valid numbers for this region.
</p>
</li>
<li> <p><code>"TOO_SHORT"</code>: The number is shorter than all valid numbers for this
region.
</p>
</li></ul>



<h3>libphonenumber reference</h3>

<p><code>is_valid()</code>: <code>PhoneNumberUtil.isValidNumber()</code>
</p>
<p><code>is_possible()</code>: <code>PhoneNumberUtil.isPossibleNumber()</code>
</p>
<p><code>is_possible(detailed = TRUE)</code>: <code>PhoneNumberUtil.isPossibleNumberWithReason()</code>
</p>
<p><code>is_possible(type = type)</code>: <code>PhoneNumberUtil.isPossibleNumberForType()</code>
</p>
<p><code>is_possible(detailed = TRUE, type = type)</code>: <code>PhoneNumberUtil.sPossibleNumberForTypeWthReason()</code>
</p>


<h3>See Also</h3>

<p>Other phone functions: 
<code><a href="#topic+dialr-example">dialr-example</a></code>,
<code><a href="#topic+dialr-match">dialr-match</a></code>,
<code><a href="#topic+dialr-phone">dialr-phone</a></code>,
<code><a href="#topic+dialr-region">dialr-region</a></code>,
<code><a href="#topic+dialr-type">dialr-type</a></code>,
<code><a href="#topic+dialr">dialr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  x &lt;- phone(c(0, 0123, "0412 345 678", "61412987654", "03 9123 4567", "+12015550123"), "AU")

  is_parsed(x)
  is_valid(x)

  is_possible(x)
  is_possible(x, detailed = TRUE)

  is_possible(x, type = "MOBILE")
  is_possible(x, detailed = TRUE, type = "MOBILE")
</code></pre>

<hr>
<h2 id='get_carrier'>Phone number carrier information</h2><span id='topic+get_carrier'></span>

<h3>Description</h3>

<p>Returns a carrier name for each phone number, in the language provided
in <code>locale</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_carrier(
  x,
  strict = FALSE,
  safe = FALSE,
  locale = getOption("dialr.locale")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_carrier_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> vector.</p>
</td></tr>
<tr><td><code id="get_carrier_+3A_strict">strict</code></td>
<td>
<p>Should invalid phone numbers be removed? If <code>TRUE</code>, invalid
phone numbers are replaced with <code>NA</code>.</p>
</td></tr>
<tr><td><code id="get_carrier_+3A_safe">safe</code></td>
<td>
<p>If <code>TRUE</code>, gets the name of the carrier for a given phone
number only when it is 'safe' to display to users. A carrier name is
considered safe if the number is valid and for a region that doesn't
support mobile number portability. All other phone numbers return <code>""</code>.</p>
</td></tr>
<tr><td><code id="get_carrier_+3A_locale">locale</code></td>
<td>
<p>The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html">Java locale</a>
used to retrieve localised results. The default is set in option
<code>dialr.locale</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The carrier name is the one the number was originally allocated to, however
if the country supports mobile number portability the number might not belong
to the returned carrier anymore. If no mapping is found <code>""</code> is returned.
</p>


<h3>Value</h3>

<p>A carrier name for each phone number for the given locale, or <code>""</code> if
the number is invalid.
</p>


<h3>libphonenumber reference</h3>

<p><code>get_geocode()</code>: <code>PhoneNumberToCarrierMapper.getNameForValidNumber()</code> by
default, or <code>PhoneNumberToCarrierMapper.getSafeDisplayName()</code> if <code>safe = TRUE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- phone(c(0, 0123, "0412 345 678", "61412987654", "03 9123 4567", "+12015550123"), "AU")
get_carrier(x)
get_carrier(x, strict = TRUE)
get_carrier(x, safe = TRUE)
</code></pre>

<hr>
<h2 id='get_cc'>Get ISO country code</h2><span id='topic+get_cc'></span>

<h3>Description</h3>

<p>Get <a href="#topic+dialr-region">ISO country code</a> from a country name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cc(country)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cc_+3A_country">country</code></td>
<td>
<p>A character vector of country names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <a href="#topic+dialr-region">ISO country codes</a> (<code>NA</code> where not found).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_cc("Australia")
get_cc(c("Australia", "China", "United states"))
</code></pre>

<hr>
<h2 id='get_geocode'>Phone number geographical information</h2><span id='topic+get_geocode'></span>

<h3>Description</h3>

<p>Returns a text description for each phone number, in the language provided in
<code>locale</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_geocode(x, home = NULL, strict = FALSE, locale = getOption("dialr.locale"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_geocode_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> vector.</p>
</td></tr>
<tr><td><code id="get_geocode_+3A_home">home</code></td>
<td>
<p><a href="#topic+dialr-region">ISO country code</a> for home region. See Details.</p>
</td></tr>
<tr><td><code id="get_geocode_+3A_strict">strict</code></td>
<td>
<p>Should invalid phone numbers be removed? If <code>TRUE</code>, invalid
phone numbers are replaced with <code>NA</code>.</p>
</td></tr>
<tr><td><code id="get_geocode_+3A_locale">locale</code></td>
<td>
<p>The <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html">Java locale</a>
used to retrieve localised results. The default is set in option
<code>dialr.locale</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The description might consist of the name of the country where the phone
number is from, or the name of the geographical area the phone number is from
if more detailed information is available.
</p>
<p>If a phone number is from the region specified in <code>home</code>, only a
lower-level description will be returned, if one exists. Otherwise, the phone
number's region will be returned, with optionally some more detailed
information.
</p>
<p>For example, for a user from the region <code>"US"</code> (United States), we would show
<code>"Mountain View, CA"</code> for a particular number, omitting the United States
from the description. For a user from the United Kingdom (region <code>"GB"</code>), for
the same number we may show <code>"Mountain View, CA, United States"</code> or even just
<code>"United States"</code>.
</p>


<h3>Value</h3>

<p>A text description for each phone number for the given locale, or
<code>""</code> if the number is invalid or could belong to multiple countries.
</p>


<h3>libphonenumber reference</h3>

<p><code>get_geocode()</code>:
<code>PhoneNumberOfflineGeocoder.getDescriptionForValidNumber()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- phone(c(0, 0123, "0412 345 678", "61412987654", "03 9123 4567", "+12015550123"), "AU")
get_geocode(x)
get_geocode(x, strict = TRUE)

# Specify a home country
get_geocode(x, home = "AU")
get_geocode(x, home = "US")

# Specify a language
get_geocode(x, home = "DE", locale = "de")
</code></pre>

<hr>
<h2 id='get_timezone'>Phone number time zone</h2><span id='topic+get_timezone'></span>

<h3>Description</h3>

<p>Retrieve a list of <a href="http://www.unicode.org/cldr/charts/latest/supplemental/zone_tzid.html">CLDR time zones</a>
to which a phone number belongs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_timezone(
  x,
  strict = FALSE,
  show_progress = getOption("dialr.show_progress")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_timezone_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+phone">phone</a> vector.</p>
</td></tr>
<tr><td><code id="get_timezone_+3A_strict">strict</code></td>
<td>
<p>Should invalid phone numbers be removed? If <code>TRUE</code>, invalid
phone numbers are replaced with <code>NA</code>.</p>
</td></tr>
<tr><td><code id="get_timezone_+3A_show_progress">show_progress</code></td>
<td>
<p>Should a progress bar be displayed? Defaults to the
option <code>dialr.show_progress</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function assumes the phone number is geo-localizable. Fixed-line and
mobile numbers are considered possible candidates for geo-localization.
</p>


<h3>Value</h3>

<p>A character vector of time zones to which each phone number belongs,
separated by <code style="white-space: pre;">&#8288;;&#8288;</code>, or the default unknown time zone <code>"Etc/Unknown"</code> if no
other time zone was found.
</p>


<h3>libphonenumber reference</h3>

<p><code>get_timezone()</code>:
<code>PhoneNumberToTimeZonesMapper.getTimeZonesForGeographicalNumber()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- phone(c(0, 0123, "0412 345 678", "61412987654", "03 9123 4567", "+12015550123"), "AU")
get_timezone(x)
get_timezone(x, strict = TRUE)

# Return a list
strsplit(get_timezone(x), ";")
</code></pre>

<hr>
<h2 id='phone_old'>Old one shot phone functions</h2><span id='topic+ph_valid'></span><span id='topic+ph_region'></span><span id='topic+ph_possible'></span><span id='topic+ph_format'></span><span id='topic+ph_type'></span><span id='topic+ph_example'></span>

<h3>Description</h3>

<p>This set of methods is a relic of the early development of dialr. They are
significantly slower than the current approach. They were soft deprecated in
0.2.0, hard deprecated in 0.4.0 and will be entirely removed in the next
major release.
</p>
<p>All functions have a corresponding function in the current version of dialr.
Due to the changes in approach, the new versions of each function are not
drop-in replacements and most need a parsed phone vector as input. See the
introductory vignette or the <a href="#topic+phone">phone</a> class documentation for more detail.
</p>

<ul>
<li> <p><code>ph_valid()</code> -&gt; <code><a href="#topic+is_valid">is_valid()</a></code>
</p>
</li>
<li> <p><code>ph_region()</code> -&gt; <code><a href="#topic+get_region">get_region()</a></code>
</p>
</li>
<li> <p><code>ph_possible()</code> -&gt; <code><a href="#topic+is_possible">is_possible()</a></code>
</p>
</li>
<li> <p><code>ph_format()</code> -&gt; <code><a href="#topic+format.phone">format.phone()</a></code>
</p>
</li>
<li> <p><code>ph_type()</code> -&gt; <code><a href="#topic+get_type">get_type()</a></code>
</p>
</li>
<li> <p><code>ph_example()</code> -&gt; <code><a href="#topic+get_example">get_example()</a></code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>ph_valid(phone, country, strict = FALSE)

ph_region(phone, country)

ph_possible(phone, country, detailed = FALSE)

ph_format(phone, country, format = "NATIONAL", home = NULL, clean = FALSE)

ph_type(phone, country)

ph_example(country, type = NULL, home = NULL, clean = FALSE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

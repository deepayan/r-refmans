<!DOCTYPE html><html lang="en"><head><title>Help for package LDATree</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {LDATree}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#LDATree-package'><p>LDATree: Oblique Classification Trees with Uncorrelated Linear Discriminant Analysis Splits</p></a></li>
<li><a href='#plot.Treee'><p>Plot a Treee Object</p></a></li>
<li><a href='#predict.Treee'><p>Predictions From a Fitted Treee Object</p></a></li>
<li><a href='#Treee'><p>Classification Trees with Uncorrelated Linear Discriminant Analysis Terminal</p>
Nodes</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Oblique Classification Trees with Uncorrelated Linear
Discriminant Analysis Splits</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A classification tree method that uses Uncorrelated Linear Discriminant Analysis (ULDA) for variable selection, split determination, and model fitting in terminal nodes.  It automatically handles missing values and offers visualization tools. For more details, see Wang (2024) &lt;<a href="https://doi.org/10.48550%2FarXiv.2410.23147">doi:10.48550/arXiv.2410.23147</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Moran79/LDATree">https://github.com/Moran79/LDATree</a>,
<a href="http://iamwangsiyu.com/LDATree/">http://iamwangsiyu.com/LDATree/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Moran79/LDATree/issues">https://github.com/Moran79/LDATree/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>folda, ggplot2, grDevices, magrittr, stats, utils, visNetwork</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-31 03:32:50 UTC; moran</td>
</tr>
<tr>
<td>Author:</td>
<td>Siyu Wang <a href="https://orcid.org/0009-0005-2098-7089"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Siyu Wang &lt;iamwangsiyu@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-31 08:10:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='LDATree-package'>LDATree: Oblique Classification Trees with Uncorrelated Linear Discriminant Analysis Splits</h2><span id='topic+LDATree'></span><span id='topic+LDATree-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>A classification tree method that uses Uncorrelated Linear Discriminant Analysis (ULDA) for variable selection, split determination, and model fitting in terminal nodes. It automatically handles missing values and offers visualization tools. For more details, see Wang (2024) <a href="https://doi.org/10.48550/arXiv.2410.23147">doi:10.48550/arXiv.2410.23147</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Siyu Wang <a href="mailto:iamwangsiyu@gmail.com">iamwangsiyu@gmail.com</a> (<a href="https://orcid.org/0009-0005-2098-7089">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/Moran79/LDATree">https://github.com/Moran79/LDATree</a>
</p>
</li>
<li> <p><a href="http://iamwangsiyu.com/LDATree/">http://iamwangsiyu.com/LDATree/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Moran79/LDATree/issues">https://github.com/Moran79/LDATree/issues</a>
</p>
</li></ul>


<hr>
<h2 id='plot.Treee'>Plot a Treee Object</h2><span id='topic+plot.Treee'></span>

<h3>Description</h3>

<p>This function visualizes either the entire decision tree or a specific node
within the tree. The tree is displayed as an interactive network of nodes and
edges, while individual nodes are scatter/density plots using <code>ggplot2</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Treee'
plot(x, datX, response, node = -1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.Treee_+3A_x">x</code></td>
<td>
<p>A fitted model object of class <code>Treee</code>, typically the result of the
<code><a href="#topic+Treee">Treee()</a></code> function.</p>
</td></tr>
<tr><td><code id="plot.Treee_+3A_datx">datX</code></td>
<td>
<p>A data frame of predictor variables. Required for plotting
individual nodes.</p>
</td></tr>
<tr><td><code id="plot.Treee_+3A_response">response</code></td>
<td>
<p>A vector of response values. Required for plotting individual
nodes.</p>
</td></tr>
<tr><td><code id="plot.Treee_+3A_node">node</code></td>
<td>
<p>An integer specifying the node to plot. If <code>node = -1</code>, the
entire tree is plotted. Default is <code>-1</code>.</p>
</td></tr>
<tr><td><code id="plot.Treee_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the plotting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>visNetwork</code> interactive plot of the decision tree if <code>node = -1</code>,
or a <code>ggplot2</code> object if a specific node is plotted.
</p>


<h3>Overall Tree Structure</h3>

<p>A full tree diagram is displayed using <a href="visNetwork.html#topic+visNetwork">visNetwork</a> when <code>node</code> is not
specified (the default is <code>-1</code>). The color represents the most common
(plurality) class within each node, and the size of each terminal node
reflects its relative sample size. Below each node, the fraction of
correctly predicted training samples and the total sample size for that
node are shown, along with the node index. Clicking on a node opens an
information panel with additional details.
</p>


<h3>Individual Node Plot</h3>

<p>To plot a specific node, you must provide the node index along with the
original training predictors (<code>datX</code>) and responses (<code>response</code>). A scatter
plot is generated if more than one discriminant score is available,
otherwise, a density plot is created. Samples are projected onto their
linear discriminant score(s).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- Treee(datX = iris[, -5], response = iris[, 5], verbose = FALSE)
plot(fit) # plot the overall tree
plot(fit, datX = iris, response = iris[, 5], node = 1) # plot a specific node
</code></pre>

<hr>
<h2 id='predict.Treee'>Predictions From a Fitted Treee Object</h2><span id='topic+predict.Treee'></span>

<h3>Description</h3>

<p>Generate predictions on new data using a fitted <code>Treee</code> model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Treee'
predict(object, newdata, type = c("response", "prob", "all"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.Treee_+3A_object">object</code></td>
<td>
<p>A fitted model object of class <code>Treee</code>, typically the result of
the <code><a href="#topic+Treee">Treee()</a></code> function.</p>
</td></tr>
<tr><td><code id="predict.Treee_+3A_newdata">newdata</code></td>
<td>
<p>A data frame containing the predictor variables. Missing
values are allowed and will be handled according to the fitted tree's
method for handling missing data.</p>
</td></tr>
<tr><td><code id="predict.Treee_+3A_type">type</code></td>
<td>
<p>A character string specifying the type of prediction to return.
Options are:
</p>

<ul>
<li> <p><code>'response'</code>: returns the predicted class for each observation (default).
</p>
</li>
<li> <p><code>'prob'</code>: returns a data frame of posterior probabilities for each class.
</p>
</li>
<li> <p><code>'all'</code>: returns a data frame containing predicted classes, posterior probabilities, and the predicted node indices.
</p>
</li></ul>
</td></tr>
<tr><td><code id="predict.Treee_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on the value of <code>type</code>, the function returns:
</p>

<ul>
<li><p> If <code>type = 'response'</code>: A character vector of predicted class labels.
</p>
</li>
<li><p> If <code>type = 'prob'</code>: A data frame of posterior probabilities, where each class has its own column.
</p>
</li>
<li><p> If <code>type = 'all'</code>: A data frame containing predicted class labels, posterior probabilities, and the predicted node indices.
</p>
</li></ul>

<p>Note: For factor predictors, if a level not present in the training data is
found in <code>newdata</code>, it will be treated as missing and handled according to
the <code>missingMethod</code> specified in the fitted tree.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- Treee(datX = iris[, -5], response = iris[, 5], verbose = FALSE)
head(predict(fit, iris)) # Predicted classes
head(predict(fit, iris[, -5], type = "prob")) # Posterior probabilities
head(predict(fit, iris[, -5], type = "all")) # Full details
</code></pre>

<hr>
<h2 id='Treee'>Classification Trees with Uncorrelated Linear Discriminant Analysis Terminal
Nodes</h2><span id='topic+Treee'></span>

<h3>Description</h3>

<p>This function fits a classification tree where each node has a Uncorrelated
Linear Discriminant Analysis (ULDA) model. It can also handle missing values
and perform downsampling. The resulting tree can be pruned either through
pre-pruning or post-pruning methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Treee(
  datX,
  response,
  ldaType = c("forward", "all"),
  nodeModel = c("ULDA", "mode"),
  pruneMethod = c("pre", "post"),
  numberOfPruning = 10L,
  maxTreeLevel = 20L,
  minNodeSize = NULL,
  pThreshold = NULL,
  prior = NULL,
  misClassCost = NULL,
  missingMethod = c("medianFlag", "newLevel"),
  kSample = -1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Treee_+3A_datx">datX</code></td>
<td>
<p>A data frame of predictor variables.</p>
</td></tr>
<tr><td><code id="Treee_+3A_response">response</code></td>
<td>
<p>A vector of response values corresponding to <code>datX</code>.</p>
</td></tr>
<tr><td><code id="Treee_+3A_ldatype">ldaType</code></td>
<td>
<p>A character string specifying the type of LDA to use. Options
are <code>"forward"</code> for forward ULDA or <code>"all"</code> for full ULDA. Default is
<code>"forward"</code>.</p>
</td></tr>
<tr><td><code id="Treee_+3A_nodemodel">nodeModel</code></td>
<td>
<p>A character string specifying the type of model used in each
node. Options are <code>"ULDA"</code> for Uncorrelated LDA, or <code>"mode"</code> for predicting
based on the most frequent class. Default is <code>"ULDA"</code>.</p>
</td></tr>
<tr><td><code id="Treee_+3A_prunemethod">pruneMethod</code></td>
<td>
<p>A character string specifying the pruning method. <code>"pre"</code>
performs pre-pruning based on p-value thresholds, and <code>"post"</code> performs
cross-validation-based post-pruning. Default is <code>"pre"</code>.</p>
</td></tr>
<tr><td><code id="Treee_+3A_numberofpruning">numberOfPruning</code></td>
<td>
<p>An integer specifying the number of folds for
cross-validation during post-pruning. Default is <code>10</code>.</p>
</td></tr>
<tr><td><code id="Treee_+3A_maxtreelevel">maxTreeLevel</code></td>
<td>
<p>An integer controlling the maximum depth of the tree.
Increasing this value allows for deeper trees with more nodes. Default is
<code>20</code>.</p>
</td></tr>
<tr><td><code id="Treee_+3A_minnodesize">minNodeSize</code></td>
<td>
<p>An integer controlling the minimum number of samples
required in a node. Setting a higher value may lead to earlier stopping and
smaller trees. If not specified, it defaults to one plus the number of
response classes.</p>
</td></tr>
<tr><td><code id="Treee_+3A_pthreshold">pThreshold</code></td>
<td>
<p>A numeric value used as a threshold for pre-pruning based
on p-values. Lower values result in more conservative trees. If not
specified, defaults to <code>0.01</code> for pre-pruning and <code>0.6</code> for post-pruning.</p>
</td></tr>
<tr><td><code id="Treee_+3A_prior">prior</code></td>
<td>
<p>A numeric vector of prior probabilities for each class. If
<code>NULL</code>, the prior is automatically calculated from the data.</p>
</td></tr>
<tr><td><code id="Treee_+3A_misclasscost">misClassCost</code></td>
<td>
<p>A square matrix <code class="reqn">C</code>, where each element <code class="reqn">C_{ij}</code>
represents the cost of classifying an observation into class <code class="reqn">i</code> given
that it truly belongs to class <code class="reqn">j</code>. If <code>NULL</code>, a default matrix with
equal misclassification costs for all class pairs is used. Default is
<code>NULL</code>.</p>
</td></tr>
<tr><td><code id="Treee_+3A_missingmethod">missingMethod</code></td>
<td>
<p>A character string specifying how missing values should
be handled. Options include <code>'mean'</code>, <code>'median'</code>, <code>'meanFlag'</code>,
<code>'medianFlag'</code> for numerical variables, and <code>'mode'</code>, <code>'modeFlag'</code>,
<code>'newLevel'</code> for factor variables. <code>'Flag'</code> options indicate whether a
missing flag is added, while <code>'newLevel'</code> replaces missing values with a
new factor level.</p>
</td></tr>
<tr><td><code id="Treee_+3A_ksample">kSample</code></td>
<td>
<p>An integer specifying the number of samples to use for
downsampling during tree construction. Set to <code>-1</code> to disable downsampling.</p>
</td></tr>
<tr><td><code id="Treee_+3A_verbose">verbose</code></td>
<td>
<p>A logical value. If <code>TRUE</code>, progress messages and detailed
output are printed during tree construction and pruning. Default is
<code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>Treee</code> containing the fitted tree, which is a
list of nodes, each an object of class <code>TreeeNode</code>. Each <code>TreeeNode</code>
contains:
</p>

<ul>
<li> <p><code>currentIndex</code>: The node index in the tree.
</p>
</li>
<li> <p><code>currentLevel</code>: The depth of the current node in the tree.
</p>
</li>
<li> <p><code>idxRow</code>, <code>idxCol</code>: Row and column indices indicating which part of the original data was used for this node.
</p>
</li>
<li> <p><code>currentLoss</code>: The training error for this node.
</p>
</li>
<li> <p><code>accuracy</code>: The training accuracy for this node.
</p>
</li>
<li> <p><code>stopInfo</code>: Information on why the node stopped growing.
</p>
</li>
<li> <p><code>proportions</code>: The observed frequency of each class in this node.
</p>
</li>
<li> <p><code>prior</code>: The (adjusted) class prior probabilities used for ULDA or mode prediction.
</p>
</li>
<li> <p><code>misClassCost</code>: The misclassification cost matrix used in this node.
</p>
</li>
<li> <p><code>parent</code>: The index of the parent node.
</p>
</li>
<li> <p><code>children</code>: A vector of indices of this node’s direct children.
</p>
</li>
<li> <p><code>splitFun</code>: The splitting function used for this node.
</p>
</li>
<li> <p><code>nodeModel</code>: Indicates the model fitted at the node (<code>'ULDA'</code> or <code>'mode'</code>).
</p>
</li>
<li> <p><code>nodePredict</code>: The fitted model at the node, either a ULDA object or the plurality class.
</p>
</li>
<li> <p><code>alpha</code>: The p-value from a two-sample t-test used to evaluate the strength of the split.
</p>
</li>
<li> <p><code>childrenTerminal</code>: A vector of indices representing the terminal nodes that are descendants of this node.
</p>
</li>
<li> <p><code>childrenTerminalLoss</code>: The total training error accumulated from all nodes listed in <code>childrenTerminal</code>.
</p>
</li></ul>



<h3>References</h3>

<p>Wang, S. (2024). FoLDTree: A ULDA-Based Decision Tree Framework
for Efficient Oblique Splits and Feature Selection. <em>arXiv preprint
arXiv:2410.23147</em>. Available at <a href="https://arxiv.org/abs/2410.23147">https://arxiv.org/abs/2410.23147</a>.
</p>
<p>Wang, S. (2024). A New Forward Discriminant Analysis Framework Based On
Pillai's Trace and ULDA. <em>arXiv preprint arXiv:2409.03136</em>. Available
at <a href="https://arxiv.org/abs/2409.03136">https://arxiv.org/abs/2409.03136</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- Treee(datX = iris[, -5], response = iris[, 5], verbose = FALSE)
# Use cross-validation to prune the tree
fitCV &lt;- Treee(datX = iris[, -5], response = iris[, 5], pruneMethod = "post", verbose = FALSE)
head(predict(fit, iris)) # prediction
plot(fit) # plot the overall tree
plot(fit, datX = iris[, -5], response = iris[, 5], node = 1) # plot a certain node
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

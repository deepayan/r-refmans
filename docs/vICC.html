<!DOCTYPE html><html><head><title>Help for package vICC</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {vICC}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#change_group'><p>Change Group ID</p></a></li>
<li><a href='#coef.vicc'><p>Extract the Group-Specific Coefficients</p></a></li>
<li><a href='#fixef.vicc'><p>Extract Fixed Effects</p></a></li>
<li><a href='#flanker'><p>Data: Flanker Task data from Hedge et al. (2018).</p></a></li>
<li><a href='#pip'><p>Posterior Inclusion Probabilities</p></a></li>
<li><a href='#plot.pip'><p>Plot <code>pip</code> Objects</p></a></li>
<li><a href='#plot.vicc'><p>Plot <code>vicc</code> Objects</p></a></li>
<li><a href='#posterior_samples'><p>Extract Posterior Samples</p></a></li>
<li><a href='#print.pip'><p>Print <code>pip</code> Objects</p></a></li>
<li><a href='#print.vicc'><p>Print <code>vicc</code> Objects</p></a></li>
<li><a href='#ranef.vicc'><p>Extract the Random Effects</p></a></li>
<li><a href='#vicc'><p>Varying Intraclass Correlation Coefficients</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Varying Intraclass Correlation Coefficients</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-12-05</td>
</tr>
<tr>
<td>Description:</td>
<td>Compute group-specific intraclass correlation coefficients, 
    Bayesian testing of homogenous within-group variance, and spike-and-slab
    model selection to determine which groups share a common within-group 
    variance in a one-way random effects model &lt;10.31234/osf.io/hpq7w&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>coda (&ge; 0.19-4), ggplot2, methods, nlme, Rdpack (&ge; 0.11-1),
rjags (&ge; 4-10)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/donaldRwilliams/vICC/issues">https://github.com/donaldRwilliams/vICC/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-12-05 15:13:07 UTC; Donny</td>
</tr>
<tr>
<td>Author:</td>
<td>Donald Williams [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Donald Williams &lt;drwwilliams@ucdavis.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-12-08 09:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='change_group'>Change Group ID</h2><span id='topic+change_group'></span>

<h3>Description</h3>

<p>Change the group ID to be consequetive numbers, starting at 1, which is
required for model fitting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>change_group(group)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="change_group_+3A_group">group</code></td>
<td>
<p>Numeric Vector. The grouping variable (e.g., subjects).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated group ID.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># congruent trials
dat &lt;- subset(flanker,  id %in% c(39, 23, 2))
change_group(dat$id)
</code></pre>

<hr>
<h2 id='coef.vicc'>Extract the Group-Specific Coefficients</h2><span id='topic+coef.vicc'></span><span id='topic+coef'></span>

<h3>Description</h3>

<p>Extract the group-specific coefficients
(fixed effect + random effect).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'vicc'
coef(object, cred = 0.9, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.vicc_+3A_object">object</code></td>
<td>
<p>An object of class <code>vicc</code></p>
</td></tr>
<tr><td><code id="coef.vicc_+3A_cred">cred</code></td>
<td>
<p>Numeric. Credible interval width (defaults to <code>0.90</code>).</p>
</td></tr>
<tr><td><code id="coef.vicc_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An array with the summarized parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Y &lt;- flanker
# congruent trials
congruent &lt;- subset(Y, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]

# fit model
fit &lt;- vicc(y  = dat$rt,
            group = dat$id,
            iter = 250,
            burnin = 10,
            type =  "customary")

coef(fit)


</code></pre>

<hr>
<h2 id='fixef.vicc'>Extract Fixed Effects</h2><span id='topic+fixef.vicc'></span><span id='topic+fixef'></span>

<h3>Description</h3>

<p>Summarize the fixed effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'vicc'
fixef(object, cred = 0.9, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fixef.vicc_+3A_object">object</code></td>
<td>
<p>An object of class <code>vicc</code>.</p>
</td></tr>
<tr><td><code id="fixef.vicc_+3A_cred">cred</code></td>
<td>
<p>Numeric. Credible interval width (defaults to <code>0.90</code>)</p>
</td></tr>
<tr><td><code id="fixef.vicc_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Summarized fixed effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# data
Y &lt;- flanker

# congruent trials
congruent &lt;- subset(Y, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]

fit &lt;- vicc(
  y  = dat$rt,
  group = dat$id,
  iter = 250,
  burnin = 10,
  type =  "pick_none"
  )

fixef(fit)

</code></pre>

<hr>
<h2 id='flanker'>Data: Flanker Task data from Hedge et al. (2018).</h2><span id='topic+flanker'></span>

<h3>Description</h3>

<p>A dataset containing 33660 rows and 7 columns.
</p>

<ul>
<li><p> Block
</p>
</li>
<li><p> Trial number
</p>
</li>
<li><p> Arrow direction (1=left, 2=right)
</p>
</li>
<li><p> Condition (0 = congruent, 1=neutral, 2=incongruent)
</p>
</li>
<li><p> Correct (1) or incorrect (0)
</p>
</li>
<li><p> Reaction time (seconds)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data("flanker")
</code></pre>


<h3>Format</h3>

<p>A dataframe 33660 rows and 7 columns.
</p>


<h3>Note</h3>

<p>Reaction times less than 0.20 and greater than 2 seconds were removed.
</p>


<h3>References</h3>

<p>Hedge C, Powell G, Sumner P (2018).
&ldquo;The reliability paradox: Why robust cognitive tasks do not produce reliable individual differences.&rdquo;
<em>Behavior Research Methods</em>, <b>50</b>(3), 1166&ndash;1186.
</p>

<hr>
<h2 id='pip'>Posterior Inclusion Probabilities</h2><span id='topic+pip'></span>

<h3>Description</h3>

<p>Extract the posterior inclusion probabilities (PIP) for either the
random intercepts for sigma or the random effects standard deviation
for sigma.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pip(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pip_+3A_object">object</code></td>
<td>
<p>Ab object of class <code>vicc</code>.</p>
</td></tr>
<tr><td><code id="pip_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Note</h3>

<p>The PIPs indicate whether the groups differ from the fixed effect, or average,
within-group variance. If the PIP is large, this indicates there is high probability
that group differs from the common variance. A marginal Bayes factor can be computed
as PIP / (1 - PIP), assuming that <code>prior_prob = 0.5</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# congruent trials
congruent &lt;- subset(flanker, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]

# fit model
fit &lt;- vicc(y  = dat$rt,
            group = dat$id,
            iter = 250,
            burnin = 10,
            type =  "pick_group")

pip(fit)

</code></pre>

<hr>
<h2 id='plot.pip'>Plot <code>pip</code> Objects</h2><span id='topic+plot.pip'></span>

<h3>Description</h3>

<p>Bar plot for the posterior inclusion probabilities, which corresponds to
the probability that each group differs from the average within-group
variance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pip'
plot(x, fill = "black", width = 0.5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.pip_+3A_x">x</code></td>
<td>
<p>An object of class <code>pip</code>.</p>
</td></tr>
<tr><td><code id="plot.pip_+3A_fill">fill</code></td>
<td>
<p>Character string. Which color for the bars
(defaults to <code>black</code>)?</p>
</td></tr>
<tr><td><code id="plot.pip_+3A_width">width</code></td>
<td>
<p>Numeric. The width for the bars (defaults to <code>0.5</code>).</p>
</td></tr>
<tr><td><code id="plot.pip_+3A_...">...</code></td>
<td>
<p>Currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# congruent trials
congruent &lt;- subset(flanker, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]
fit &lt;- vicc(
  y  = dat$rt,
  group = dat$id,
  iter = 500,
  burnin = 10,
  type =  "pick_group"
)

pips &lt;- pip(fit)

plot(pips)


</code></pre>

<hr>
<h2 id='plot.vicc'>Plot <code>vicc</code> Objects</h2><span id='topic+plot.vicc'></span>

<h3>Description</h3>

<p>Plot the group-specific coefficients or the random effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'vicc'
plot(x, type = "coef", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.vicc_+3A_x">x</code></td>
<td>
<p>An object of class <code>vicc</code>.</p>
</td></tr>
<tr><td><code id="plot.vicc_+3A_type">type</code></td>
<td>
<p>Character string. Which parameters should be plotted? The options are
<code>ranef</code> and <code>coef</code> (the default).</p>
</td></tr>
<tr><td><code id="plot.vicc_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# congruent trials
congruent &lt;- subset(flanker, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]

# fit model
fit &lt;- vicc(y  = dat$rt,
            group = dat$id,
            iter = 250,
            burnin = 10,
            type =  "customary")

plts &lt;- plot(fit)

</code></pre>

<hr>
<h2 id='posterior_samples'>Extract Posterior Samples</h2><span id='topic+posterior_samples'></span>

<h3>Description</h3>

<p>Extract posterior samples for <code>vicc</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>posterior_samples(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="posterior_samples_+3A_object">object</code></td>
<td>
<p>An object of class <code>vicc</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class  <code>data.frame</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# congruent trials
congruent &lt;- subset(flanker, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]

# fit model
fit &lt;- vicc(y  = dat$rt,
            group = dat$id,
            iter = 250,
            burnin = 10,
            type =  "customary")

samps &lt;- posterior_samples(fit)

</code></pre>

<hr>
<h2 id='print.pip'>Print <code>pip</code> Objects</h2><span id='topic+print.pip'></span>

<h3>Description</h3>

<p>Print <code>pip</code> Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pip'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.pip_+3A_x">x</code></td>
<td>
<p>An object of class <code>pip</code>.</p>
</td></tr>
<tr><td><code id="print.pip_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>

<hr>
<h2 id='print.vicc'>Print <code>vicc</code> Objects</h2><span id='topic+print.vicc'></span>

<h3>Description</h3>

<p>Print <code>vicc</code> Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'vicc'
print(x, cred = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.vicc_+3A_x">x</code></td>
<td>
<p>An object of class <code>vicc</code>.</p>
</td></tr>
<tr><td><code id="print.vicc_+3A_cred">cred</code></td>
<td>
<p>Numeric. Credible interval width (defaults to <code>0.90</code>).</p>
</td></tr>
<tr><td><code id="print.vicc_+3A_...">...</code></td>
<td>
<p>Currently ignored</p>
</td></tr>
</table>

<hr>
<h2 id='ranef.vicc'>Extract the Random Effects</h2><span id='topic+ranef.vicc'></span><span id='topic+ranef'></span>

<h3>Description</h3>

<p>Extract the group-specific parameter estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'vicc'
ranef(object, cred = 0.9, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ranef.vicc_+3A_object">object</code></td>
<td>
<p>An object of class <code>vicc</code></p>
</td></tr>
<tr><td><code id="ranef.vicc_+3A_cred">cred</code></td>
<td>
<p>Numeric. Credible interval width (defaults to <code>0.90</code>).</p>
</td></tr>
<tr><td><code id="ranef.vicc_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An array with the summarized parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

flanker &lt;- vICC::flanker

# congruent trials
congruent &lt;- subset(flanker, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]

# fit model
fit &lt;- vicc(y  = dat$rt,
            group = dat$id,
            iter = 250,
            burnin = 10,
            type =  "customary")

ranef(fit)

</code></pre>

<hr>
<h2 id='vicc'>Varying Intraclass Correlation Coefficients</h2><span id='topic+vicc'></span>

<h3>Description</h3>

<p>Compute varying intraclass correlation coefficients with the method
introduced in Williams et al. (2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vicc(
  y,
  group,
  type = "pick_group",
  iter = 5000,
  chains = 2,
  burnin = 500,
  prior_scale = 1,
  prior_prob = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vicc_+3A_y">y</code></td>
<td>
<p>Numeric vector. The outcome variable.</p>
</td></tr>
<tr><td><code id="vicc_+3A_group">group</code></td>
<td>
<p>Numeric vector. The grouping variable (e.g., subjects). Note that the groups
must be numbered from 1 to the total number of groups.
See <code><a href="#topic+change_group">change_group</a></code>.</p>
</td></tr>
<tr><td><code id="vicc_+3A_type">type</code></td>
<td>
<p>Character string. Which model should be fitted
(defaults to <code>pick_group</code>)? The options are
described in <code>Details</code>.</p>
</td></tr>
<tr><td><code id="vicc_+3A_iter">iter</code></td>
<td>
<p>Numeric. The number of posterior samples per chain (excluding <code>burnin</code>).</p>
</td></tr>
<tr><td><code id="vicc_+3A_chains">chains</code></td>
<td>
<p>Numeric. The number of chains (defaults to <code>2</code>).</p>
</td></tr>
<tr><td><code id="vicc_+3A_burnin">burnin</code></td>
<td>
<p>Numeric. The number of burnin samples, which are discarded
(defaults to <code>500</code>).</p>
</td></tr>
<tr><td><code id="vicc_+3A_prior_scale">prior_scale</code></td>
<td>
<p>Numeric. The prior distribution scale parameter
(defaults to <code>1</code>). Note the prior is a
half student-t distribution with 10 degrees of freedom.</p>
</td></tr>
<tr><td><code id="vicc_+3A_prior_prob">prior_prob</code></td>
<td>
<p>Numeric. The prior inclusion probability (defaults to <code>0.5</code>). This
is used for <code>type = "pick_tau"</code> or <code>type = "pick_group"</code> and ignored
otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>vicc</code>.
</p>


<h3>References</h3>

<p>Williams DR, Martin SR, Rast P (2019).
&ldquo;Putting the Individual into Reliability: Bayesian Testing of Homogeneous Within-Person Variance in Hierarchical Models.&rdquo;
<em>PsyArXiv</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# congruent trials
congruent &lt;- subset(flanker, cond == 0)

# subset 25 from each group
dat &lt;- congruent[unlist(tapply(1:nrow(congruent),
                            congruent$id,
                            head, 25)), ]

# fit model
fit &lt;- vicc(y  = dat$rt,
            group = dat$id,
            iter = 250,
            burnin = 10,
            type =  "customary")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

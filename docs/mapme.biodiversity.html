<!DOCTYPE html><html><head><title>Help for package mapme.biodiversity</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mapme.biodiversity}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#active_fire_counts'><p>Calculate active fire counts based on NASA FIRMS polygons</p></a></li>
<li><a href='#active_fire_properties'><p>Calculate active fire properties based on NASA FIRMS polygons</p></a></li>
<li><a href='#available_indicators'><p>Backlog function for available indicators</p></a></li>
<li><a href='#available_resources'><p>Backlog function for available resources</p></a></li>
<li><a href='#biome'><p>Calculate biomes statistics (TEOW) based on WWF</p></a></li>
<li><a href='#calc_indicators'><p>Compute specific indicators</p></a></li>
<li><a href='#chirps'><p>Climate Hazards Group InfraRed Precipitation with Station data (CHIRPS)</p></a></li>
<li><a href='#deforestation_drivers'><p>Calculate deforestation drivers</p></a></li>
<li><a href='#drought_indicator'><p>Calculate drought indicator statistics</p></a></li>
<li><a href='#ecoregion'><p>Calculate terrestrial ecoregions statistics (TEOW) based on WWF</p></a></li>
<li><a href='#elevation'><p>Calculate elevation statistics</p></a></li>
<li><a href='#esalandcover'><p>ESA Copernicus Global Land Cover layer</p></a></li>
<li><a href='#fatalities'><p>Calculate number of fatalities of violent conflict from UCDP GED</p></a></li>
<li><a href='#fritz_et_al'><p>Drivers of deforestation for tropical forests</p></a></li>
<li><a href='#get_resources'><p>Download specific biodiversity resources</p></a></li>
<li><a href='#gfw_emissions'><p>Forest greenhouse gas emissions</p></a></li>
<li><a href='#gfw_lossyear'><p>Year of forest loss occurrence</p></a></li>
<li><a href='#gfw_treecover'><p>Treecover for the year 2000</p></a></li>
<li><a href='#gmw'><p>Global Mangrove Extent Polygon</p></a></li>
<li><a href='#init_portfolio'><p>Initialization of a biodiversity portfolio object</p></a></li>
<li><a href='#landcover'><p>Calculate area of different landcover classes</p></a></li>
<li><a href='#mangroves_area'><p>Calculate mangrove extent based on Global Mangrove Watch (GMW)</p></a></li>
<li><a href='#nasa_firms'><p>Active Fire Polygon</p></a></li>
<li><a href='#nasa_grace'><p>NASA GRACE-based Drought Indicator layer</p></a></li>
<li><a href='#nasa_srtm'><p>NASADEM HGT v001</p></a></li>
<li><a href='#nelson_et_al'><p>Accessibility to Cities layer</p></a></li>
<li><a href='#population_count'><p>Calculate population count statistics</p></a></li>
<li><a href='#precipitation_chirps'><p>Calculate precipitation statistics based on CHIRPS</p></a></li>
<li><a href='#precipitation_wc'><p>Calculate precipitation statistics</p></a></li>
<li><a href='#read_portfolio'><p>Reading a portfolio object from disk</p></a></li>
<li><a href='#register_indicator'><p>Register a new indicator to mapme.biodiversity</p></a></li>
<li><a href='#register_resource'><p>Register a new resource to the mapme.biodiversity</p></a></li>
<li><a href='#soilgrids'><p>SoilGrids data layers</p></a></li>
<li><a href='#soilproperties'><p>Calculate Zonal Soil Properties</p></a></li>
<li><a href='#temperature_max_wc'><p>Calculate maximum temperature statistics</p></a></li>
<li><a href='#temperature_min_wc'><p>Calculate minimum temperature statistics based on WorldClim</p></a></li>
<li><a href='#teow'><p>Terrestrial Ecoregions of the World (TEOW) Polygon</p></a></li>
<li><a href='#traveltime'><p>Calculate accessibility statistics</p></a></li>
<li><a href='#treecover_area'><p>Calculate treecover statistics</p></a></li>
<li><a href='#treecover_area_and_emissions'><p>Calculate treeloss statistics</p></a></li>
<li><a href='#treecoverloss_emissions'><p>Calculate emission statistics</p></a></li>
<li><a href='#tri'><p>Calculate Terrain Ruggedness Index (TRI) statistics</p></a></li>
<li><a href='#ucdp_ged'><p>UCDP Georeferenced Event Dataset (UCDP GED)</p></a></li>
<li><a href='#worldclim'><p>WorldClim climatic variables (min temperature, max temperature, mean precipitation)</p></a></li>
<li><a href='#worldpop'><p>Population Count layer for year 2000-2020</p></a></li>
<li><a href='#write_portfolio'><p>Writing a portfolio to disk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Efficient Monitoring of Global Biodiversity Portfolios</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Biodiversity areas, especially primary forest, serve a
    multitude of functions for local economy, regional functionality of
    the ecosystems as well as the global health of our planet. Recently,
    adverse changes in human land use practices and climatic responses to
    increased greenhouse gas emissions, put these biodiversity areas under
    a variety of different threats. The present package helps to analyse a
    number of biodiversity indicators based on freely available
    geographical datasets. It supports computational efficient routines
    that allow the analysis of potentially global biodiversity portfolios.
    The primary use case of the package is to support evidence based
    reporting of an organization's effort to protect biodiversity areas
    under threat and to identify regions were intervention is most duly
    needed.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://mapme-initiative.github.io/mapme.biodiversity/index.html">https://mapme-initiative.github.io/mapme.biodiversity/index.html</a>,
<a href="https://github.com/mapme-initiative/mapme.biodiversity/">https://github.com/mapme-initiative/mapme.biodiversity/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mapme-initiative/mapme.biodiversity/issues">https://github.com/mapme-initiative/mapme.biodiversity/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GDAL (&gt;= 3.0.0), PROJ (&gt;= 4.8.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, dplyr, furrr, httr, magrittr, progressr, purrr, rvest,
R.utils, sf, stringr, terra, tibble, tidyr, tidyselect</td>
</tr>
<tr>
<td>Suggests:</td>
<td>exactextractr, future, knitr, rmarkdown, rstac, SPEI,
testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>DiagrammeR, ggplot2, lubridate, manipulateWidget,
rgl, spatstat, wdpar</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'register.R' 'calc_active_fire_counts.R'
'calc_active_fire_properties.R' 'calc_biome.R'
'calc_deforestation_drivers.R' 'calc_drought_indicator.R'
'calc_ecoregion.R' 'calc_elevation.R' 'calc_fatalities.R'
'calc_indicators.R' 'calc_landcover.R' 'calc_mangroves_area.R'
'calc_population_count.R' 'calc_precipitation_chirps.R'
'calc_precipitation_wc.R' 'calc_soilproperties.R'
'calc_temperature_max_wc.R' 'calc_temperature_min_wc.R'
'calc_traveltime.R' 'calc_treecover_area.R'
'calc_treecover_area_and_emissions.R'
'calc_treecoverloss_emissions.R' 'calc_tri.R' 'engines.R'
'get_chirps.R' 'get_esalandcover.R' 'get_fritz_et_al.R'
'get_gfw_emissions.R' 'get_gfw_lossyear.R'
'get_gfw_treecover.R' 'get_gmw.R' 'get_nasa_firms.R'
'get_nasa_grace.R' 'get_nasa_srtm.R' 'get_nelson_et_al.R'
'get_resources.R' 'get_soilgrids.R' 'get_teow.R'
'get_ucdp_ged.R' 'get_worldclim.R' 'get_worldpop.R'
'mapme.biodiversity-pkg.R' 'portfolio.R' 'utils.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-08 11:02:16 UTC; darius</td>
</tr>
<tr>
<td>Author:</td>
<td>Darius A. Görgen [aut, cre],
  Om Prakash Bhandari [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Darius A. Görgen &lt;darius2402@web.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-08 15:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='active_fire_counts'>Calculate active fire counts based on NASA FIRMS polygons</h2><span id='topic+active_fire_counts'></span>

<h3>Description</h3>

<p>This function allows to efficiently calculate the number of fire
events occurred in the region of interest from the NASA FIRMS active
fire polygon datasets. For each polygon, the fire event counts for
the desired year is returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+nasa_firms">nasa_firms</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for number of fire events per year and instrument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2021,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("nasa_firms", instrument = "VIIRS") %&gt;%
  calc_indicators("active_fire_counts") %&gt;%
  tidyr::unnest(active_fire_counts)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='active_fire_properties'>Calculate active fire properties based on NASA FIRMS polygons</h2><span id='topic+active_fire_properties'></span>

<h3>Description</h3>

<p>This function allows to efficiently extract the properties of fire
events occurred in the region of interest from the NASA FIRMS active
fire polygon datasets. For each polygon, the fire events properties
like fire pixel brightness temperature, and fire radiative power (frp)
along with fire hotspots for the desired year is returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+nasa_firms">nasa_firms</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for the 15 different fire events variables
including lon/lat coordinates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2021,
    outdir = outdir,
    tmpdir = tempdir()
    verbose = FALSE
  ) %&gt;%
  get_resources("nasa_firms", instrument = "VIIRS") %&gt;%
  calc_indicators("active_fire_properties") %&gt;%
  tidyr::unnest(active_fire_properties)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='available_indicators'>Backlog function for available indicators</h2><span id='topic+available_indicators'></span>

<h3>Description</h3>

<p>Returns a list of indicator names and parametrization options for the
specified indicators. If no resource names are provided, it lists all
available indicators, including custom registered ones.
Use it to learn about possible additional arguments that can be specified
when requesting an indicator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_indicators(indicators = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="available_indicators_+3A_indicators">indicators</code></td>
<td>
<p>If <code>NULL</code> returns a list of all registered indicators
(default). Otherwise only the ones specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names(available_indicators())
</code></pre>

<hr>
<h2 id='available_resources'>Backlog function for available resources</h2><span id='topic+available_resources'></span>

<h3>Description</h3>

<p>Returns a list of resource names and parametrization options for the
specified resources. If no resource names are provided, it lists all
available resources, including custom registered ones.
Use it to learn about possible additional arguments that can be specified
when requesting a resource.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_resources(resources = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="available_resources_+3A_resources">resources</code></td>
<td>
<p>If <code>NULL</code> returns a list of all resources (default).
Otherwise only the ones specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names(available_resources())
</code></pre>

<hr>
<h2 id='biome'>Calculate biomes statistics (TEOW) based on WWF</h2><span id='topic+biome'></span>

<h3>Description</h3>

<p>This function allows to efficiently retrieve the name of the biomes
and compute the corresponding area from Terrestrial Ecoregions of the
World (TEOW) - World Wildlife Fund (WWF) for polygons. For each polygon,
the name and area of the biomes (in hectare) is returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+teow">teow</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for name of the biomes and corresponding area (in ha).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2001,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("teow") %&gt;%
  calc_indicators("biome") %&gt;%
  tidyr::unnest(biome)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='calc_indicators'>Compute specific indicators</h2><span id='topic+calc_indicators'></span>

<h3>Description</h3>

<p>With <code>calc_indicators()</code> specific biodiversity indicators
can be calculated. A requirement is that the resources that
are mandatory inputs for the requested indicators are available
locally. Multiple indicators and their respective additional
arguments can be supplied. You can check available indicators and
their requirement via <code>available_indicators()</code>, but
the function will also gracefully inform you about any misspecifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_indicators(x, indicators, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_indicators_+3A_x">x</code></td>
<td>
<p>A biodiversity portfolio object constructed via
<code>init_portfolio()</code></p>
</td></tr>
<tr><td><code id="calc_indicators_+3A_indicators">indicators</code></td>
<td>
<p>A character vector indicating the requested indicators. All
specified indicators must be supported by the package. You can use
<code>available_indicators()</code> to get more information, e.g. additional
required arguments and their default values, about the supported indicators</p>
</td></tr>
<tr><td><code id="calc_indicators_+3A_...">...</code></td>
<td>
<p>Additional arguments required for the requested indicators. Check
<code>available_indicators()</code> to learn more about the supported indicators
and their arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sf portfolio object <code>x</code> with additional nested list column per
requested indicator.
</p>

<hr>
<h2 id='chirps'>Climate Hazards Group InfraRed Precipitation with Station data (CHIRPS)</h2><span id='topic+chirps'></span>

<h3>Description</h3>

<p>This resource is published by Funk et al. (2015) and represents a quasi-global
(50°S-50°S) rainfall estimation at a monthly resolution starting with the year
1981 to the near-present. It has a spatial resolution of 0.05°. The data can
be used to retrieve information on the amount of rainfall. Due to the availability
of +30 years, anomaly detection and long-term average analysis is also possible.
The routine will download the complete archive in order to support long-term
average and anomaly calculations with respect to the 1981 - 2010 climate normal
period. Thus no additional arguments need to be specified.
</p>


<h3>Format</h3>

<p>Global raster layers available for years 1981 to near-present.
</p>


<h3>Source</h3>

<p><a href="https://data.chc.ucsb.edu/products/CHIRPS-2.0/global_monthly/cogs/">https://data.chc.ucsb.edu/products/CHIRPS-2.0/global_monthly/cogs/</a>
</p>


<h3>References</h3>

<p>Funk, C., Peterson, P., Landsfeld, M. et al. The climate hazards
infrared precipitation with stations—a new environmental record for
monitoring extremes. Sci Data 2, 150066 (2015).
<a href="https://doi.org/10.1038/sdata.2015.66">doi:10.1038/sdata.2015.66</a>
</p>

<hr>
<h2 id='deforestation_drivers'>Calculate deforestation drivers</h2><span id='topic+deforestation_drivers'></span>

<h3>Description</h3>

<p>This function extracts areal statistics for the drivers of deforestation
based on the data source produced by Fritz et al (2022). The required
resource is:
</p>

<ul>
<li> <p><a href="#topic+fritz_et_al">fritz_et_al</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with 3 columns indicating the class of a deforestation driver,
the absolute area in ha, and the percentage in relation to the total
area of forest loss as indicated by the Fritz et al. (2022) resource.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2021,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("fritz_et_al", res_drivers = 100) %&gt;%
  calc_indicators("deforestation_drivers") %&gt;%
  tidyr::unnest(deforestation_drivers)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='drought_indicator'>Calculate drought indicator statistics</h2><span id='topic+drought_indicator'></span>

<h3>Description</h3>

<p>This function allows to efficiently calculate the relative wetness in the
shallow groundwater section with regard to the the 1948-2012 reference period.
The values represent the wetness percentile a given area achieves at a given
point in time in regard to the reference period.
For each polygon, the desired statistic/s (mean, median or sd) is/are
returned. The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+nasa_grace">nasa_grace</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for each specified stats and a column with the respective date.
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_drought</dt><dd><p>Function to be applied to compute statistics for polygons either
one or multiple inputs as character &quot;mean&quot;, &quot;median&quot; or &quot;sd&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2022,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("nasa_grace") %&gt;%
  calc_indicators("drought_indicator",
    stats_drought = c("mean", "median"),
    engine = "extract"
  ) %&gt;%
  tidyr::unnest(drought_indicator)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='ecoregion'>Calculate terrestrial ecoregions statistics (TEOW) based on WWF</h2><span id='topic+ecoregion'></span>

<h3>Description</h3>

<p>This function allows to efficiently retrieve the name of the ecoregions
and compute the corresponding area from Terrestrial Ecoregions of the
World (TEOW) - World Wildlife Fund (WWF) for polygons. For each polygon,
the name and area of the ecoregions (in hectare) is returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+teow">teow</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for name of the ecoregions and corresponding area (in ha).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2001,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("teow") %&gt;%
  calc_indicators("ecoregion") %&gt;%
  tidyr::unnest(ecoregion)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='elevation'>Calculate elevation statistics</h2><span id='topic+elevation'></span>

<h3>Description</h3>

<p>This function allows to efficiently calculate elevation statistics for
polygons. For each polygon, the desired statistic/s (mean, median or sd)
is/are returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+nasa_srtm">nasa_srtm</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for elevation statistics (in meters)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_elevation</dt><dd><p>Function to be applied to compute statistics for polygons either
one or multiple inputs as character.  Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2000:2020,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("nasa_srtm") %&gt;%
  calc_indicators("elevation",
    stats_elevation = c("mean", "median", "sd", "var"), engine = "extract"
  ) %&gt;%
  tidyr::unnest(elevation)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='esalandcover'>ESA Copernicus Global Land Cover layer</h2><span id='topic+esalandcover'></span>

<h3>Description</h3>

<p>This 100 meter spatial resolution land cover resource is published by Buchhorn
et al. (2020) &quot;Copernicus Global Land Cover Layers—Collection 2&quot;. The resource
represents the actual surface cover of ground available annually for the period
2015 to 2019. The cell values range from 0 to 200, representing total of 23
discrete classifications from ESA.
</p>


<h3>Format</h3>

<p>A global tiled raster resource available for years 2015 to 2019.
</p>


<h3>Source</h3>

<p><a href="https://lcviewer.vito.be/download">https://lcviewer.vito.be/download</a>
</p>


<h3>References</h3>

<p>© European Union, Copernicus Land Monitoring Service (year),
European Environment Agency (EEA)&quot;, f.ex. in 2018: “© European Union,
Copernicus Land Monitoring Service 2018, European Environment Agency (EEA)
</p>

<hr>
<h2 id='fatalities'>Calculate number of fatalities of violent conflict from UCDP GED</h2><span id='topic+fatalities'></span>

<h3>Description</h3>

<p>The indicator aggregated the number of fatalities within a given asset
on a monthly cadence stratified by the type of conflict. The different types
of conflicts encoded in the UCDP GED database are:
</p>

<ul>
<li><p> state-based conflict
</p>
</li>
<li><p> non-state conflict
</p>
</li>
<li><p> one-sided violence
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for the date (year and month), the type
of violence an counts of civilian fatalities, unknown fatalities and the
total sum of fatalities.
</p>


<h3>Details</h3>

<p>The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+ucdp_ged">ucdp_ged</a>
</p>
</li></ul>

<p>You may apply quality filters based on the precision of the geolocation
of events and the temporal precision. By default, these are set to only
include events with the highest precision scores.
</p>
<p>For geo-precision there are levels 1 to 7 with decreasing accuracy:
</p>

<ul>
<li><p> value 1: the location information corresponds exactly to the geographical
coordinates available
</p>
</li>
<li><p> value 2: the location information refers to a limited area around a
specified location
</p>
</li>
<li><p> value 3: the source refers to or can be specified to a larger location at
the level of second order administrative divisions (ADM2), such as district
or municipality, the GED uses centroid point coordinates for that ADM2.
</p>
</li>
<li><p> value 4: the location information refers to a first order administrative
division, such as a province (ADM1), the GED uses the coordinates for the
centroid point of ADM1
</p>
</li>
<li><p> value 5: is used in different cases if the source refers to parts of a
country which are larger than ADM1, but smaller than the entire country;
if two locations are mentioned a representiative point in between is
selected; if the location mentioned is an non-independend island; if
the location is not very specifically mentioned or in relation to another
location
</p>
</li>
<li><p> value 6: the location mentioned refers to an entire country and its
centroid is used
</p>
</li>
<li><p> value 7: If the event takes place over water or in international airspace,
the geographical coordinates in the dataset either represent the centroid
point of a certain water area or estimated coordinates
</p>
</li></ul>

<p>For temporal precision there are levels 1 to 5 with decreasing precision:
</p>

<ul>
<li><p> value 1: if the exact date of an event is known
</p>
</li>
<li><p> value 2: if start and enddates for events are of unspecified character,
spanning more than one calendar day though no longer than six days
</p>
</li>
<li><p> value 3: if when start and end dates for events are specified to a certain
week, but specific dates are not provided
</p>
</li>
<li><p> value 4: if start and end dates for events are specified to a certain month
</p>
</li>
<li><p> value 5: if start and enddates for events are specified to a certain year,
but specific dates are not provided
</p>
</li></ul>

<p>The following arguments can be set:
</p>

<dl>
<dt>precision_location</dt><dd><p>A numeric indicating precision value for the
geolocation up to which events are included. Defaults to 1.</p>
</dd>
<dt>precision_time</dt><dd><p>A numeric indicating the precision value of the
temporal coding up to which events are included. Defaults to 1.</p>
</dd>
</dl>



<h3>References</h3>

<p>Sundberg, Ralph, and Erik Melander, 2013, “Introducing the UCDP
Georeferenced Event Dataset”, Journal of Peace Research, vol.50, no.4, 523-532
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "burundi.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 1991:1992,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("ucdp_ged", version_ged = "22.1") %&gt;%
  calc_indicators("fatalities",
    precision_location = 1, precision_time = 1
  ) %&gt;%
  tidyr::unnest(fatalities)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='fritz_et_al'>Drivers of deforestation for tropical forests</h2><span id='topic+fritz_et_al'></span>

<h3>Description</h3>

<p>This resource is produced by a neirest-neighbour matching of a crowd-sourced
campaign to map dominant driver of forest loss based on visual interpretation
of VHR images matched with Global Forest Loss data by Hansen (2013) version
1.7 The forest loss layer was re sampled to a resolution of 100 and 1.000
meters. Dominant drivers were determined for the period 2008 to 2009.
</p>


<h3>Format</h3>

<p>Global raster layer available of deforestation drivers for the
period 2008-2019.
</p>


<h3>Details</h3>

<p>It indicates 9 different classes:
</p>

<ul>
<li><p> commercial agriculture
</p>
</li>
<li><p> commercial oil palm plantations
</p>
</li>
<li><p> managed forests
</p>
</li>
<li><p> mining
</p>
</li>
<li><p> natural disturbances
</p>
</li>
<li><p> pasture
</p>
</li>
<li><p> roads
</p>
</li>
<li><p> wildfire
</p>
</li>
<li><p> other subsistence agriculture
</p>
</li>
<li><p> shifting cultivation
</p>
</li></ul>

<p>The following argument should be specified:
</p>

<dl>
<dt>res_drivers</dt><dd><p>An integer indicating the resolution
to download. Defaults to 100.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://zenodo.org/record/7997885">https://zenodo.org/record/7997885</a>
</p>


<h3>References</h3>

<p>Steffen, F., Carlos, J.C.L., See. L., Schepaschenko D.,
Hofhansl F., Jung M., Dürauer M., Georgieva I., Danylo O., Lesiv M.,
McCallum I. (2022) A Continental Assessment of the Drivers of Tropical
Deforestation With a Focus on Protected Areas. F.Cos.Sc.(3)
doi:10.3389/fcosc.2022.830248
</p>

<hr>
<h2 id='get_resources'>Download specific biodiversity resources</h2><span id='topic+get_resources'></span>

<h3>Description</h3>

<p>With <code>get_resources()</code> specific biodiversity data sets required for the
calculation of indicators can be downloaded. The function supports the
specification of several indicators and their respective additional
arguments. You can check the required arguments via
<code>available_resources()</code>, but the function will gracefully inform you
about any misspecifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_resources(x, resources, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_resources_+3A_x">x</code></td>
<td>
<p>A biodiversity portfolio object constructed via
<code>init_portfolio()</code></p>
</td></tr>
<tr><td><code id="get_resources_+3A_resources">resources</code></td>
<td>
<p>A character vector indicating the requested resources. All
specified resources must be supported by the package. You can use
<code>available_resources()</code> to get more information, e.g. additional
required arguments and their default values, about the supported resources.</p>
</td></tr>
<tr><td><code id="get_resources_+3A_...">...</code></td>
<td>
<p>Additional arguments required for the requested resources. Check
<code>available_resources()</code> to learn more about the supported resources and
their arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Primarily called for the side effect of downloading resources. Returns
the sf portfolio object <code>x</code> with its attributes amended by the requested resources.
</p>

<hr>
<h2 id='gfw_emissions'>Forest greenhouse gas emissions</h2><span id='topic+gfw_emissions'></span>

<h3>Description</h3>

<p>This resource is part of the publication by Harris et al. (2021)
&quot;Global maps of twenty-first century forest carbon fluxes.&quot;. It
represents &quot;the greenhouse gas
emissions arising from stand-replacing forest disturbances that occurred in
each modelled year (megagrams CO2 emissions/ha, between 2001 and 2021).
Emissions include all relevant ecosystem carbon pools (aboveground biomass,
belowground biomass, dead wood, litter, soil) and greenhouse gases (CO2, CH4,
N2O).&quot; The area unit that is downloaded here corresponds to the
&quot;megagrams of CO2 emissions/pixel&quot; layer, in order to support the calculation
of area-wise emissions.
</p>


<h3>Format</h3>

<p>A global tiled raster resource available for all land areas.
</p>


<h3>Details</h3>

<p>There are no arguments users need to specify. However, users should note
that the spatial extent for this dataset does not totally cover the same
extent as the <code>treecover2000</code> and <code>lossyear</code> resources by Hansen
et al. (2013). A missing value (NA) will be inserted for greenhouse gas
emissions for areas where no data is available.
</p>


<h3>Source</h3>

<p><a href="https://data.globalforestwatch.org/datasets/gfw::forest-greenhouse-gas-emissions/about">https://data.globalforestwatch.org/datasets/gfw::forest-greenhouse-gas-emissions/about</a>
</p>


<h3>References</h3>

<p>Harris, N.L., Gibbs, D.A., Baccini, A. et al. Global maps of
twenty-first century forest carbon fluxes. Nat. Clim. Chang. 11, 234–240
(2021). https://doi.org/10.1038/s41558-020-00976-6
</p>

<hr>
<h2 id='gfw_lossyear'>Year of forest loss occurrence</h2><span id='topic+gfw_lossyear'></span>

<h3>Description</h3>

<p>This resource is part of the publication by Hansen et al. (2013)
&quot;High-Resolution Global Maps of 21st-Century Forest Cover Change&quot;. It
represents &quot;Forest loss during the period 2000–2021, defined as a
stand-replacement disturbance, or a change from a forest to non-forest state.
Encoded as either 0 (no loss) or else a value in the range 1–20, representing
loss detected primarily in the year 2001–2021, respectively.&quot; Due to changes
in the satellites products used in the compilation of the tree loss product,
results before the year 2011 and afterwards are not directly comparable
until reprocessing has finished. Users should be aware of this limitation,
especially when the timeframe of the analysis spans over the two periods
delimited by the year 2011.
</p>


<h3>Format</h3>

<p>A global tiled raster resource available for all land areas.
</p>


<h3>Details</h3>

<p>The following argument can be set:
</p>

<dl>
<dt>vers_lossyear</dt><dd><p>The version of the dataset to download. Defaults to
&quot;GFC-2022-v1.10&quot;. Check <code>mapme.biodiversity:::.available_gfw_versions()</code>
to get a list of available versions</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://data.globalforestwatch.org/documents/tree-cover-loss/explore">https://data.globalforestwatch.org/documents/tree-cover-loss/explore</a>
</p>


<h3>References</h3>

<p>Hansen, M. C., P. V. Potapov, R. Moore, M. Hancher, S. A.
Turubanova, A. Tyukavina, D. Thau, S. V. Stehman, S. J. Goetz, T. R.
Loveland, A. Kommareddy, A. Egorov, L. Chini, C. O. Justice, and J. R. G.
Townshend. 2013. “High-Resolution Global Maps of 21st-Century Forest Cover
Change.” Science 342 (15 November): 850–53.
</p>

<hr>
<h2 id='gfw_treecover'>Treecover for the year 2000</h2><span id='topic+gfw_treecover'></span>

<h3>Description</h3>

<p>This resource is part of the publication by Hansen et al. (2013)
represents &quot;tree cover in the year 2000, defined as canopy closure for all
vegetation taller than 5m in height. Encoded as a percentage per output grid
cell, in the range 0–100.&quot; Due to changes in the satellites products used
in the compilation of the treecover product, results before the year 2011
and afterwards are not directly comparable until reprocessing has finished.
Users should be aware of this limitation, especially when the timeframe
of the analysis spans over the two periods delimited by the year 2011.
</p>


<h3>Format</h3>

<p>A global tiled raster resource available for all land areas.
</p>


<h3>Details</h3>

<p>The following argument can be set:
</p>

<dl>
<dt>vers_treecover</dt><dd><p>The version of the dataset to download. Defaults to
&quot;GFC-2022-v1.10&quot;. Check mapme.biodiversity:::.available_gfw_versions()
to get a list of available versions</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://data.globalforestwatch.org/documents/tree-cover-2000/explore">https://data.globalforestwatch.org/documents/tree-cover-2000/explore</a>
</p>


<h3>References</h3>

<p>Hansen, M. C., P. V. Potapov, R. Moore, M. Hancher, S. A.
Turubanova, A. Tyukavina, D. Thau, S. V. Stehman, S. J. Goetz, T. R.
Loveland, A. Kommareddy, A. Egorov, L. Chini, C. O. Justice, and J. R. G.
Townshend. 2013. “High-Resolution Global Maps of 21st-Century Forest Cover
Change.” Science 342 (15 November): 850–53.
</p>

<hr>
<h2 id='gmw'>Global Mangrove Extent Polygon</h2><span id='topic+gmw'></span>

<h3>Description</h3>

<p>This resource is part of the publication by Bunting et al. (2018)
&quot;The Global Mangrove Watch—A New 2010 Global Baseline of Mangrove Extent&quot;.
The polygons represent the mangrove, which is tropical coastal vegetation
and considered the most significant part of the marine ecosystem. This
resource is available for the period 1996- 2020 from Global Mangrove Watch
(GMW), providing geospatial information about global mangrove extent.
</p>


<h3>Format</h3>

<p>Global mangrove extent polygon available for years 1996, 2007-2010,
and 2015-2020.
</p>


<h3>Source</h3>

<p><a href="https://data.unep-wcmc.org/datasets/45">https://data.unep-wcmc.org/datasets/45</a>
</p>


<h3>References</h3>

<p>Bunting P., Rosenqvist A., Lucas R., Rebelo L-M., Hilarides L.,
Thomas N., Hardy A., Itoh T., Shimada M. and Finlayson C.M. (2018). The Global
Mangrove Watch – a New 2010 Global Baseline of Mangrove Extent. Remote Sensing
10(10): 1669. doi:10.3390/rs10101669.
</p>

<hr>
<h2 id='init_portfolio'>Initialization of a biodiversity portfolio object</h2><span id='topic+init_portfolio'></span>

<h3>Description</h3>

<p>This function expects an <code>sf</code> object as its first argument that contains
only geometry of type <code>POLYGON</code> or <code>MULTIPOLYGON</code>. Each row of the
object is considered a single asset in the portfolio for which biodiversity
indicators will be calculated further down the processing chain. Some
preliminary checks are conducted, e.g. that the CRS of the object is
EPSG:4326 otherwise it will be transformed. Some portfolio wide parameters
such as the output directory for downloaded data sets, a temporal directory
for intermediate calculations can be set by the user to have more fine-control
of the workflow. However, these parameters are also set to sensible defaults
and thus can be omitted during portfolio initialization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>init_portfolio(
  x,
  years,
  outdir = getwd(),
  tmpdir = tempdir(),
  cores = NULL,
  aria_bin = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="init_portfolio_+3A_x">x</code></td>
<td>
<p>The sf object to be transformed to a portfolio</p>
</td></tr>
<tr><td><code id="init_portfolio_+3A_years">years</code></td>
<td>
<p>Numeric vector for time frame of the analysis handed over as a
vector of consecutive years</p>
</td></tr>
<tr><td><code id="init_portfolio_+3A_outdir">outdir</code></td>
<td>
<p>Character indicating the directory where resources will be
written to. If the directory does not exist, we will attempt to create it.
The output director cannot be equal to the temporary directory. Defaults
to the current working directory.</p>
</td></tr>
<tr><td><code id="init_portfolio_+3A_tmpdir">tmpdir</code></td>
<td>
<p>Character vector to a directory used for intermediate files.
Defaults to the output of <code>tempdir()</code>, e.g. the current R session's
temporal directory. If a custom file path does not exist, we will attempt
to create it. Cannot be equal to the output directory. Note, that for
raster calculations we will set the temporal directory for the <code>terra</code>
package here. Please make sure that enough disk space is available because
some intermediate calculations can become quite large.</p>
</td></tr>
<tr><td><code id="init_portfolio_+3A_cores">cores</code></td>
<td>
<p>Deprecated. Use future-style parallelzation instead.</p>
</td></tr>
<tr><td><code id="init_portfolio_+3A_aria_bin">aria_bin</code></td>
<td>
<p>A character vector to an aria2c executable for parallel
downloads</p>
</td></tr>
<tr><td><code id="init_portfolio_+3A_verbose">verbose</code></td>
<td>
<p>Logical, defaults to TRUE, indicating if progress information
is printed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sf portfolio object <code>x</code> with amended attributes controlling the
processing behaviour further down the processing chain.
</p>

<hr>
<h2 id='landcover'>Calculate area of different landcover classes</h2><span id='topic+landcover'></span>

<h3>Description</h3>

<p>The land cover data shows us how much of the region is covered by forests,
rivers, wetlands, barren land, or urban infrastructure thus allowing the
observation of land cover dynamics over a period of time. This function
allows to efficiently calculate area of different landcover classes for
polygons. For each polygon, the area of the classes in hectare(ha) is
returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+esalandcover">esalandcover</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for area (in ha) and the percentage covered per
landcover class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2016:2017,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("esalandcover") %&gt;%
  calc_indicators("landcover") %&gt;%
  tidyr::unnest(landcover)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='mangroves_area'>Calculate mangrove extent based on Global Mangrove Watch (GMW)</h2><span id='topic+mangroves_area'></span>

<h3>Description</h3>

<p>This function allows to efficiently calculate area of mangrove from
Global Mangrove Watch - World Conservation Monitoring Centre (WCMC)
for polygons. For each polygon, the area of the mangrove (in hectare)
for desired year is returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+gmw">gmw</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for area of mangrove (in ha) and corresponding year.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = c(1996, 2016),
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("gmw") %&gt;%
  calc_indicators("mangroves_area") %&gt;%
  tidyr::unnest(mangroves_area)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='nasa_firms'>Active Fire Polygon</h2><span id='topic+nasa_firms'></span>

<h3>Description</h3>

<p>This resource is published by Fire Information for Resource Management System
(FIRMS) from NASA as Near Real Time (NRT) active fire data. The data is
collected from Moderate Resolution Imaging Spectroradiometer (MODIS) and the
Visible Infrared Imaging Radiometer Suite (VIIRS). The resource represents the
fire hotspot with lat/lon coordinates along with information on fire pixel brightness
temperature, and fire radiative power (frp). The data from MODIS is available from
2000 to 2021 and that from VIIRS is only available for 2012-2021 year range.
</p>


<h3>Format</h3>

<p>Active fire polygon available for years 2000 to 2021 (MODIS)
and 2012-2021 (VIIRS)
</p>


<h3>Details</h3>

<p>The data from the following instruments are available:
</p>

<ul>
<li><p> &quot;MODIS&quot;
</p>
</li>
<li><p> &quot;VIIRS&quot;
</p>
</li></ul>

<p>The following argument should be specified by users:
</p>

<dl>
<dt>instrument</dt><dd><p>A character vector specifying
the data collection instrument.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://firms.modaps.eosdis.nasa.gov/download/">https://firms.modaps.eosdis.nasa.gov/download/</a>
</p>


<h3>References</h3>

<p>NRT VIIRS 375 m Active Fire product VNP14IMGT distributed
from NASA FIRMS. Available on-line https://earthdata.nasa.gov/firms.
doi:10.5067/FIRMS/VIIRS/VNP14IMGT_NRT.002.
</p>

<hr>
<h2 id='nasa_grace'>NASA GRACE-based Drought Indicator layer</h2><span id='topic+nasa_grace'></span>

<h3>Description</h3>

<p>The resource is published by NASA GRACE Tellus. This data set
reflects on potential drought conditions in the shallow groundwater section
relative to a reference period spanning from 1948 to 2012.
It is available as a global raster with a weekly temporal resolution starting
with the year 2003. The value indicates the wetness percentile of a given
pixel with regard to the reference period.
</p>


<h3>Format</h3>

<p>Global raster layers available for years 2003 to present.
</p>

<hr>
<h2 id='nasa_srtm'>NASADEM HGT v001</h2><span id='topic+nasa_srtm'></span>

<h3>Description</h3>

<p>This resource is processed by the Land Processes Distributed Active Archive
Center (LP DAAC) and made available at the Microsoft Planetery Computer.
NASADEM are distributed in 1 degree latitude by 1 degree longitude tiles and
consist of all land between 60° N and 56° S latitude. This accounts for about
80% of Earth’s total landmass.
</p>


<h3>Format</h3>

<p>A global tiled raster resource available for most land areas.
</p>


<h3>Source</h3>

<p>https://planetarycomputer.microsoft.com/dataset/nasadem
</p>


<h3>References</h3>

<p>NASA JPL (2020). NASADEM Merged DEM Global 1 arc second V001.
NASA EOSDIS Land Processes DAAC. Accessed 2023-07-01 from
https://doi.org/10.5067/MEaSUREs/NASADEM/NASADEM_HGT.001
</p>

<hr>
<h2 id='nelson_et_al'>Accessibility to Cities layer</h2><span id='topic+nelson_et_al'></span>

<h3>Description</h3>

<p>This resource is published by Weiss et al. (2018) &quot;A global map of travel
time to cities to assess inequalities in accessibility in 2015&quot; on journal
nature. Accessibility is the ease with which larger cities can be reached
from a certain location. This resource represents the travel time to major
cities in the year 2015. Encoded as minutes, representing the time needed
to reach that particular cell from nearby city of target population range.
The following ranges to nearby cities are available:
</p>

<ul>
<li><p> &quot;5k_10k&quot;
</p>
</li>
<li><p> &quot;10k_20k&quot;
</p>
</li>
<li><p> &quot;20k_50k&quot;
</p>
</li>
<li><p> &quot;50k_100k&quot;
</p>
</li>
<li><p> &quot;100k_200k&quot;
</p>
</li>
<li><p> &quot;200k_500k&quot;
</p>
</li>
<li><p> &quot;500k_1mio&quot;
</p>
</li>
<li><p> &quot;1mio_5mio&quot;
</p>
</li>
<li><p> &quot;50k_50mio&quot;
</p>
</li>
<li><p> &quot;5k_110mio&quot;
</p>
</li>
<li><p> &quot;20k_110mio&quot;
</p>
</li>
<li><p> &quot;5mio_50mio&quot;
</p>
</li></ul>



<h3>Format</h3>

<p>Global raster layer available for year 2015.
</p>


<h3>Details</h3>

<p>The following argument should be specified by users:
</p>

<dl>
<dt>range_traveltime</dt><dd><p>A character vector indicating one or more ranges
to download.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://figshare.com/articles/dataset/Travel_time_to_cities_and_ports_in_the_year_2015/7638134/3">https://figshare.com/articles/dataset/Travel_time_to_cities_and_ports_in_the_year_2015/7638134/3</a>
</p>


<h3>References</h3>

<p>Weiss, D. J., Nelson, A., Gibson, H. S., Temperley, W., Peedell,
S., Lieber, A., … &amp; Gething, P. W. (2018). A global map of travel time to cities
to assess inequalities in accessibility in 2015. Nature, 553(7688), 333-336.
</p>

<hr>
<h2 id='population_count'>Calculate population count statistics</h2><span id='topic+population_count'></span>

<h3>Description</h3>

<p>WorldPop, which was initiated in 2013, offers easy access to spatial demographic
datasets, claiming to use peer-reviewed and fully transparent methods to create
global mosaics for the years 2000 to 2020. This function allows to efficiently
calculate population count statistics (e.g. total number of population) for
polygons. For each polygon, the desired statistic/s (min, max, sum, mean,
median, sd or var) is/are returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+worldpop">worldpop</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for population count statistics
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_popcount</dt><dd><p>Function to be applied to compute statistics for polygons either
one or multiple inputs as character. Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2000:2010,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("worldpop") %&gt;%
  calc_indicators("population_count", stats_popcount = c("sum", "median"), engine = "extract") %&gt;%
  tidyr::unnest(population_count)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='precipitation_chirps'>Calculate precipitation statistics based on CHIRPS</h2><span id='topic+precipitation_chirps'></span>

<h3>Description</h3>

<p>This functions allows to calculate precipitation statistics based on the
CHIRPS rainfall estimates. Corresponding to the time-frame of the analysis
of the portfolio, monthly precipitation statistics are calculated. These include
the total rainfall amount, rainfall anomaly against the 1981-2010 climate normal,
and the Standardized Precipitation Index (SPI) which is available for scales
between 1 and 48 months. Th function needs the <code>SPEI</code> package to be
installed.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+chirps">chirps</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for years, months, absolute rainfall (in mm), rainfall
anomaly (in mm) and one or more columns per selected time-scale for SPI (dimensionless).
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>scales_spi</dt><dd><p>An integer vector indicating the scales for which to calculate the SPI.</p>
</dd>
<dt>spi_previous_year</dt><dd><p>An integer specifying how many previous years to include in
order to fit the SPI. Defaults to 8 years.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2010,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("chirps") %&gt;%
  calc_indicators("precipitation_chirps",
    engine = "exactextract",
    scales_spi = 3,
    spi_prev_years = 8
  ) %&gt;%
  tidyr::unnest(precipitation_chirps)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='precipitation_wc'>Calculate precipitation statistics</h2><span id='topic+precipitation_wc'></span>

<h3>Description</h3>

<p>This function allows to efficiently calculate precipitation statistics
from Worldclim for polygons. For each polygon, the desired statistic/s (min,
max, sum, mean, median, sd or var) is/are returned.
The required resources for this indicator are:
</p>

<ul>
<li><p> precipitation layer from <a href="#topic+worldclim">worldclim</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for precipitation statistics (in mm)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_worldclim</dt><dd><p>Function to be applied to compute statistics for polygons either
one or multiple inputs as character. Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)


aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2018,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("worldclim_precipitation") %&gt;%
  calc_indicators("precipitation_wc",
    stats_worldclim = c("mean", "median"),
    engine = "extract"
  ) %&gt;%
  tidyr::unnest(precipitation_wc)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='read_portfolio'>Reading a portfolio object from disk</h2><span id='topic+read_portfolio'></span>

<h3>Description</h3>

<p>This function can be used to read a portfolio object that was previously
written to disk via <code>write_portfolio()</code> back into R as an <code>sf</code> object.
It should specifically be directed against a GeoPackage which was the output
of <code>write_portfolio()</code>, otherwise the function is very likely to fail.
All available indicators will be read back into R as nested list columns
reflecting the output once <code>calc_indicators()</code> has been called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_portfolio(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_portfolio_+3A_file">file</code></td>
<td>
<p>A character vector pointing to a GeoPackage that has been
previously written to disk via <code>write_portfolio()</code></p>
</td></tr>
<tr><td><code id="read_portfolio_+3A_...">...</code></td>
<td>
<p>Additional arguments supplied to <code>st_read()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Important Note</strong>
Portfolio-wide attributes that were specified via <code>init_portfolio()</code> will
not be reconstructed. The reason is that users most likely exported to a
GeoPackage in order to share their data, thus the file is very likely to be
opened on a different machine / in a different working directory. Users can
simply apply <code>init_portfolio()</code> on the object to re-set these attributes.
</p>


<h3>Value</h3>

<p>An sf object object with nested list columns for every indicator
table found in the GeoPackage source file.
</p>

<hr>
<h2 id='register_indicator'>Register a new indicator to mapme.biodiversity</h2><span id='topic+register_indicator'></span>

<h3>Description</h3>

<p>Registers a custom indicator function to access indicators not native to
<code>mapme.biodiversity</code> to be used with <code>calc_indicators()</code>. Custom
indicators will also be registered in the list generated by
<code>available_indicators()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_indicator(
  name = NULL,
  resources = NULL,
  fun = NULL,
  arguments = NULL,
  processing_mode = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_indicator_+3A_name">name</code></td>
<td>
<p>A character vector indicating the name of the indicator.</p>
</td></tr>
<tr><td><code id="register_indicator_+3A_resources">resources</code></td>
<td>
<p>A list with named objects indicating the resources
that need to be available to calculate the indicator. The names correspond
to registered resources and a single character value indicates the
type of that resources</p>
</td></tr>
<tr><td><code id="register_indicator_+3A_fun">fun</code></td>
<td>
<p>The function you wish to register.</p>
</td></tr>
<tr><td><code id="register_indicator_+3A_arguments">arguments</code></td>
<td>
<p>A list with named entries indicating the default values
for the arguments required by the function</p>
</td></tr>
<tr><td><code id="register_indicator_+3A_processing_mode">processing_mode</code></td>
<td>
<p>A character vector indicating the preferred
processing mode of the indicator. Either 'asset' or 'portfolio'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that registering your own indicator function will only have effect for
the current R session. If you return to your analysis in a new session, you
will have to re-register your custom indicator.
</p>


<h3>Value</h3>

<p>Nothing. Registers the function in the package environment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
register_indicator(
  name = "treecover_area",
  inputs = list(
    gfw_treecover = "raster",
    gfw_lossyear = "raster"
  ),
  fun = .calc_treecover_area,
  arguments = list(
    min_size = 10,
    min_cover = 30
  ),
  processing_mode = "asset"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='register_resource'>Register a new resource to the mapme.biodiversity</h2><span id='topic+register_resource'></span>

<h3>Description</h3>

<p>Registers a custom resource function to access data or functionality
otherwise not native to <code>mapme.biodiversity</code> to be used with
<code>get_resources()</code>. Custom resources will also be registered in the list
generated by <code>available_resources()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_resource(
  name = NULL,
  type = NULL,
  source = NULL,
  fun = NULL,
  arguments = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_resource_+3A_name">name</code></td>
<td>
<p>A character vector indicating the name of the resource.</p>
</td></tr>
<tr><td><code id="register_resource_+3A_type">type</code></td>
<td>
<p>A character vector indicating the type of the resource. Either
'vector' or 'raster'.</p>
</td></tr>
<tr><td><code id="register_resource_+3A_source">source</code></td>
<td>
<p>Optional, preferably a URL where the data is found.</p>
</td></tr>
<tr><td><code id="register_resource_+3A_fun">fun</code></td>
<td>
<p>The function you wish to register.</p>
</td></tr>
<tr><td><code id="register_resource_+3A_arguments">arguments</code></td>
<td>
<p>A list with named entries indicating the default values
for the arguments required by the function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that registering your own resource function will only have effect for
the current R session. If you return to your analysis in a new session, you
will have to re-register your custom resource.
</p>


<h3>Value</h3>

<p>Nothing. Registers the function in the package environment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
register_resource(
  name = "gfw_treecover",
  type = "raster",
  source = "https://data.globalforestwatch.org/documents/tree-cover-2000/explore",
  fun = .get_gfw_treecover,
  arguments = list(vears_treecover = "GFC-2021-v1.9")
)

## End(Not run)
</code></pre>

<hr>
<h2 id='soilgrids'>SoilGrids data layers</h2><span id='topic+soilgrids'></span>

<h3>Description</h3>

<p>SoilGrids is a project combining global observation data with
machine learning to map the spatial distribution of soil properties across
the globe. It is produced at a spatial resolution of 250 meters and each
parameters is mapped at different depths. In order to be able to assess
prediction uncertainty, besides the mean and median prediction, the 0.05 and
0.95 percentile predictions are available.
The following parameters are available:
</p>

<dl>
<dt>bdod</dt><dd><p>Bulk density of the fine earth fraction (kg/dm3)</p>
</dd>
<dt>cec</dt><dd><p>Cation Exchange Capacity of the soil (cmol(c)/kg)</p>
</dd>
<dt>cfvo</dt><dd><p>Volumetric fraction of coarse fragments &gt; 2 mm (cm3/100cm3 (volPerc))</p>
</dd>
<dt>clay</dt><dd><p>Proportion of clay particles &lt; 0.002 mm in the fine earth fraction (g/100g)</p>
</dd>
<dt>nitrogen</dt><dd><p>Total nitrogen (g/kg)</p>
</dd>
<dt>phh2o</dt><dd><p>Soil pH (pH)</p>
</dd>
<dt>sand</dt><dd><p>Proportion of sand particles &gt; 0.05 mm in the fine earth fraction (g/100g)</p>
</dd>
<dt>silt</dt><dd><p>Proportion of silt particles &gt;= 0.002 mm and &lt;= 0.05 mm in the fine earth fraction (g/100g)</p>
</dd>
<dt>soc</dt><dd><p>Soil organic carbon content in the fine earth fraction (g/kg)</p>
</dd>
<dt>ocd</dt><dd><p>Organic carbon density (kg/m3)</p>
</dd>
<dt>ocs</dt><dd><p>Organic carbon stocks (kg/m²)</p>
</dd>
</dl>



<h3>Format</h3>

<p>A global tiled raster resource available for all land areas.
</p>


<h3>Details</h3>

<p>Users can specify the following arguments:
</p>

<dl>
<dt>layer</dt><dd><p>The soil parameter as a single character</p>
</dd>
<dt>depth</dt><dd><p>The requested depth as a single character</p>
</dd>
<dt>stat</dt><dd><p>The predicted statistic as a single character</p>
</dd>
</dl>

<p>Except for <code>ocs</code>, which is only available for a depth of <code>"0-30cm"</code>,
all other parameters are available at the following depths:
</p>

<ul>
<li><p> &quot;0-5cm&quot;
</p>
</li>
<li><p> &quot;5-15cm&quot;
</p>
</li>
<li><p> &quot;15-30cm&quot;
</p>
</li>
<li><p> &quot;30-60cm&quot;
</p>
</li>
<li><p> &quot;60-100cm&quot;
</p>
</li>
<li><p> &quot;100-200cm&quot;
</p>
</li></ul>

<p>Each parameter and depth is available for the following statistics:
</p>

<ul>
<li><p> &quot;Q0.05&quot;
</p>
</li>
<li><p> &quot;Q0.50&quot;
</p>
</li>
<li><p> &quot;mean&quot;
</p>
</li>
<li><p> &quot;Q0.95&quot;
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://www.isric.org/explore/soilgrids">https://www.isric.org/explore/soilgrids</a>
</p>


<h3>References</h3>

<p>Hengl T, Mendes de Jesus J, Heuvelink GBM, Ruiperez Gonzalez M,
Kilibarda M, et al. (2017) SoilGrids250m: Global gridded soil information
based on machine learning. PLOS ONE 12(2): e0169748.
<a href="https://doi.org/10.1371/journal.pone.0169748">doi:10.1371/journal.pone.0169748</a>
</p>

<hr>
<h2 id='soilproperties'>Calculate Zonal Soil Properties</h2><span id='topic+soilproperties'></span>

<h3>Description</h3>

<p>This indicator allows the extraction of zonal statistics for resource layers
previously downloaded from SoilGrids, thus in total supporting the calculation
of zonal statistics for 10 different soil properties at 6 different depths for
a total of 4 different model outputs (stat). Zonal statistics will be calculated
for all SoilGrid layers that have been previously made available vie <code>get_resources()</code>.
The required resource for this indicator is:
</p>

<ul>
<li> <p><a href="#topic+soilgrids">soilgrids</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for the SoilGrid layer, the depth and the model
output statistic as well as additional columns for all zonal statistics
specified via <code>stats_soil</code>
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_soil</dt><dd><p>Function to be applied to compute statistics for polygons either
single or multiple inputs as character. Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)


aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2022,
    outdir = outdir,
    tmpdir = tempdir(),
    add_resources = FALSE,
    verbose = FALSE
  ) %&gt;%
  get_resources("soilgrids",
    layers = c("clay", "silt"), depths = c("0-5cm", "5-15cm"), stats = "mean"
  ) %&gt;%
  calc_indicators("soilproperties", stats_soil = c("mean", "median"), engine = "extract") %&gt;%
  tidyr::unnest(soilproperties)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='temperature_max_wc'>Calculate maximum temperature statistics</h2><span id='topic+temperature_max_wc'></span>

<h3>Description</h3>

<p>This function allows to efficiently calculate maximum temperature statistics
from Worldclim for polygons. For each polygon, the desired statistic/s (min,
max, sum, mean, median, sd or var) is/are returned.
The required resources for this indicator are:
</p>

<ul>
<li><p> maximum temperature layer from <a href="#topic+worldclim">worldclim</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for maximum temperature statistics (in °C)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_worldclim</dt><dd><p>Function to be applied to compute statistics for polygons either
one or multiple inputs as character. Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2018,
    outdir = outdir,
    tmpdir = tempdir(),
    add_resources = FALSE,
    verbose = FALSE
  ) %&gt;%
  get_resources("worldclim_max_temperature") %&gt;%
  calc_indicators("temperature_max_wc",
    stats_worldclim = c("mean", "median"),
    engine = "extract"
  ) %&gt;%
  tidyr::unnest(temperature_max_wc)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='temperature_min_wc'>Calculate minimum temperature statistics based on WorldClim</h2><span id='topic+temperature_min_wc'></span>

<h3>Description</h3>

<p>This function allows to efficiently calculate minimum temperature statistics
from Worldclim for polygons. For each polygon, the desired statistic/s (min,
max, sum, mean, median, sd or var) is/are returned.
The required resources for this indicator are:
</p>

<ul>
<li><p> minimum temperature layer from <a href="#topic+worldclim">worldclim</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for minimum temperature statistics (in °C)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_worldclim</dt><dd><p>Function to be applied to compute statistics for polygons either
one or multiple inputs as character. Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)


aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2018,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("worldclim_min_temperature") %&gt;%
  calc_indicators("temperature_min_wc",
    stats_worldclim = c("mean", "median"),
    engine = "extract"
  ) %&gt;%
  tidyr::unnest(temperature_min_wc)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='teow'>Terrestrial Ecoregions of the World (TEOW) Polygon</h2><span id='topic+teow'></span>

<h3>Description</h3>

<p>This resource is part of the publication by Olson et al. (2004)
&quot;Terrestrial Ecosystems of the World (TEOW) from WWF-US (Olson)&quot;. It
depicts 867 terrestrial ecoregions around the world classified into 14
different terrestrial biomes such as forests, grasslands, or deserts.
The polygons represent the ecoregions, defined as relatively large units of
land or inland water sharing a large majority of biodiversity. The datasets
is made available from World Wildlife Fund (WWF) for the year 2001.
</p>


<h3>Format</h3>

<p>Global terrestrial polygon resource depicting ecoregions.
</p>


<h3>Source</h3>

<p><a href="https://www.worldwildlife.org/publications/terrestrial-ecoregions-of-the-world">https://www.worldwildlife.org/publications/terrestrial-ecoregions-of-the-world</a>
</p>


<h3>References</h3>

<p>Olson, D. M., Dinerstein, E., Wikramanayake, E. D., Burgess, N. D.,
Powell, G. V. N., Underwood, E. C., D’Amico, J. A., Itoua, I., Strand, H. E.,
Morrison, J. C., Loucks, C. J., Allnutt, T. F., Ricketts, T. H., Kura, Y., Lamoreux,
J. F., Wettengel, W. W., Hedao, P., Kassem, K. R. 2001. Terrestrial ecoregions of
the world: a new map of life on Earth. Bioscience 51(11):933-938.
</p>

<hr>
<h2 id='traveltime'>Calculate accessibility statistics</h2><span id='topic+traveltime'></span>

<h3>Description</h3>

<p>Accessibility is the ease with which larger cities can be reached from a
certain location. This function allows to efficiently calculate accessibility
statistics (i.e. travel time to nearby major cities) for polygons. For each
polygon, the desired statistic/s (mean, median or sd) is/are returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+nelson_et_al">nelson_et_al</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for accessibility statistics (in minutes)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_accessibility</dt><dd><p>Function to be applied to compute statistics for polygons either
one or multiple inputs as character. Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)


aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2022,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("nelson_et_al",
    range_traveltime = c("5k_10k", "100k_200k", "500k_1mio", "1mio_5mio")
  ) %&gt;%
  calc_indicators("traveltime", stats_accessibility = c("min", "max"), engine = "extract") %&gt;%
  tidyr::unnest(traveltime)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='treecover_area'>Calculate treecover statistics</h2><span id='topic+treecover_area'></span>

<h3>Description</h3>

<p>This functions allows to efficiently calculate treecover statistics for
polygons. For each year in the analysis timeframe, the forest losses in
preceding and the current years are subtracted from the treecover in the
year 2000 and actual treecover figures within the polygon are returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+gfw_treecover">gfw_treecover</a>
</p>
</li>
<li> <p><a href="#topic+gfw_lossyear">gfw_lossyear</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for years and treecover (in ha)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>min_size</dt><dd><p>The minimum size of a forest patch to be considered as forest in ha.</p>
</dd>
<dt>min_cover</dt><dd><p>The minimum cover percentage per pixel to be considered as forest.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2016:2017,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources(
    resources = c("gfw_treecover", "gfw_lossyear"),
    vers_treecover = "GFC-2022-v1.10", vers_lossyear = "GFC-2022-v1.10"
  ) %&gt;%
  calc_indicators("treecover_area", min_size = 1, min_cover = 30) %&gt;%
  tidyr::unnest(treecover_area)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='treecover_area_and_emissions'>Calculate treeloss statistics</h2><span id='topic+treecover_area_and_emissions'></span>

<h3>Description</h3>

<p>This functions allows to efficiently calculate the treecover and emissions
indicators in a single function call together. Since most of the pre-processing
operations for treecover and emissions are the same, it is more efficient
to calculate them in one run if users are actually interested in both statistics.
Otherwise users are advised to use the respective single indicator functions.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+gfw_treecover">gfw_treecover</a>
</p>
</li>
<li> <p><a href="#topic+gfw_lossyear">gfw_lossyear</a>
</p>
</li>
<li> <p><a href="#topic+gfw_emissions">gfw_emissions</a>.
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for years, treecover (in ha), and emissions (in Mg CO2)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>min_size</dt><dd><p>The minimum size of a forest patch to be considered as forest in ha.</p>
</dd>
<dt>min_cover</dt><dd><p>The minimum cover percentage per pixel to be considered as forest.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2016:2017,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources(
    resources = c("gfw_treecover", "gfw_lossyear", "gfw_emissions"),
    vers_treecover = "GFC-2021-v1.9", vers_lossyear = "GFC-2021-v1.9"
  ) %&gt;%
  calc_indicators("treecover_area_and_emissions", min_size = 1, min_cover = 30) %&gt;%
  tidyr::unnest(treecover_area_and_emissions)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='treecoverloss_emissions'>Calculate emission statistics</h2><span id='topic+treecoverloss_emissions'></span>

<h3>Description</h3>

<p>This functions allows to efficiently calculate emission statistics for
areas of interest. For each year in the analysis timeframe, the forest losses
from Hansen et al. (2013) are overlayed with the respective emission layer
from Harris et al. (2021) and area-wise emission statistics are calculated
for each year.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+gfw_treecover">gfw_treecover</a>
</p>
</li>
<li> <p><a href="#topic+gfw_lossyear">gfw_lossyear</a>
</p>
</li>
<li> <p><a href="#topic+gfw_emissions">gfw_emissions</a>.
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for years and emissions (in Mg)
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>min_size</dt><dd><p>The minimum size of a forest patch to be considered as forest in ha.</p>
</dd>
<dt>min_cover</dt><dd><p>The minimum cover percentage per pixel to be considered as forest.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2016:2017,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources(
    resources = c("gfw_treecover", "gfw_lossyear", "gfw_emissions"),
    vers_treecover = "GFC-2021-v1.9", vers_lossyear = "GFC-2021-v1.9"
  ) %&gt;%
  calc_indicators("treecoverloss_emissions", min_size = 1, min_cover = 30) %&gt;%
  tidyr::unnest(treecoverloss_emissions)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='tri'>Calculate Terrain Ruggedness Index (TRI) statistics</h2><span id='topic+tri'></span>

<h3>Description</h3>

<p>Terrain Ruggedness Index is a measurement developed by Riley, et al. (1999).
The elevation difference between the centre pixel and its eight immediate
pixels are squared and then averaged and its square root is taken to get
the TRI value. This function allows to efficiently calculate terrain ruggedness
index (tri) statistics for polygons. For each polygon, the desired statistic/s
(mean, median or sd) is/are returned.
The required resources for this indicator are:
</p>

<ul>
<li> <p><a href="#topic+nasa_srtm">nasa_srtm</a>
</p>
</li></ul>



<h3>Format</h3>

<p>A tibble with a column for terrain ruggedness index statistics (in meters).
The range of index values and corresponding meaning:
(1) 0 - 80 m  :- level surface
(2) 81-116 m  :- nearly level surface
(3) 117-161 m :- slightly rugged surface
(4) 162-239 m :- intermediately rugged surface
(5) 240-497 m :- moderately rugged surface
(6) 498-958 m :- highly rugged surface
(7) 959-4367 m:- extremely rugged surface
</p>


<h3>Details</h3>

<p>The following arguments can be set:
</p>

<dl>
<dt>stats_tri</dt><dd><p>Function to be applied to compute statistics for polygons either
single or multiple inputs as character. Supported statistics are: &quot;mean&quot;,
&quot;median&quot;, &quot;sd&quot;, &quot;min&quot;, &quot;max&quot;, &quot;sum&quot; &quot;var&quot;.</p>
</dd>
<dt>engine</dt><dd><p>The preferred processing functions from either one of &quot;zonal&quot;,
&quot;extract&quot; or &quot;exactextract&quot; as character.</p>
</dd>
</dl>



<h3>References</h3>

<p>Riley, S. J., DeGloria, S. D., &amp; Elliot, R. (1999). Index that quantifies
topographic heterogeneity. intermountain Journal of sciences, 5(1-4), 23-27.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
library(sf)
library(mapme.biodiversity)

outdir &lt;- file.path(tempdir(), "mapme-data")
dir.create(outdir, showWarnings = FALSE)

aoi &lt;- system.file("extdata", "sierra_de_neiba_478140_2.gpkg",
  package = "mapme.biodiversity"
) %&gt;%
  read_sf() %&gt;%
  init_portfolio(
    years = 2000:2020,
    outdir = outdir,
    tmpdir = tempdir(),
    verbose = FALSE
  ) %&gt;%
  get_resources("nasa_srtm") %&gt;%
  calc_indicators("tri", stats_tri = c("mean", "median", "sd", "var"), engine = "extract") %&gt;%
  tidyr::unnest(tri)

aoi

## End(Not run)
</code></pre>

<hr>
<h2 id='ucdp_ged'>UCDP Georeferenced Event Dataset (UCDP GED)</h2><span id='topic+ucdp_ged'></span>

<h3>Description</h3>

<p>This resource distributed by the Uppsala Conflict Data Program (UCDP) constitutes
its most diaggregated dataset on individual events of organized violence.
It encodes the different actors involved, is spatially disaggregated down
to village levels anc currently covers the time period of 1989 to 2021.
Older versions of the data set can be downloaded, but users are recommended
to download the latest data set.
</p>


<h3>Format</h3>

<p>A global event dataset (GED) encoding envents of organized
violence a point geometries
</p>


<h3>Details</h3>

<p>The following versions are available
</p>

<ul>
<li><p> 5.0
</p>
</li>
<li><p> 17.1
</p>
</li>
<li><p> 17.2
</p>
</li>
<li><p> 18.1
</p>
</li>
<li><p> 19.1
</p>
</li>
<li><p> 20.1
</p>
</li>
<li><p> 21.1
</p>
</li>
<li><p> 22.1 or latest
</p>
</li></ul>

<p>The following argument should be specified by users:
</p>

<dl>
<dt>version_ged</dt><dd><p>A character vector specifying
the version to download. Defaults to &quot;latest&quot;.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://ucdp.uu.se/downloads/">https://ucdp.uu.se/downloads/</a>
</p>


<h3>References</h3>

<p>Davies, Shawn, Therese Pettersson &amp; Magnus Öberg (2022).
Organized violence 1989-2021 and drone warfare.
Journal of Peace Research 59(4).
<a href="https://doi.org/10.1177/00223433221108428">doi:10.1177/00223433221108428</a>
</p>

<hr>
<h2 id='worldclim'>WorldClim climatic variables (min temperature, max temperature, mean precipitation)</h2><span id='topic+worldclim'></span>

<h3>Description</h3>

<p>This resource is published by Fick et al. (2017) &quot;WorldClim 2: new 1-km
spatial resolution climate surfaces for global land areas&quot;. This resource
represents multiple climatic variables from which we will be requiring minimum
temperature, maximum temperature, and mean precipitation layers. The layers are
available to download for the period 2000 - 2018 on monthly basis from WorldClim.
</p>


<h3>Format</h3>

<p>Global raster layers available for years 2000 to 2018.
</p>


<h3>Details</h3>

<p>Enlisted different resources can be requested with their dedicated functions:
</p>

<dl>
<dt>tmin</dt><dd><p>Encoded as (°C), representing the minimum temperature per output grid cell.</p>
</dd>
<dt>tmax</dt><dd><p>Encoded as (°C), representing the maximum temperature per output grid cell.</p>
</dd>
<dt>prec</dt><dd><p>Encoded as (mm), representing the mean precipitation per output grid cell.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.worldclim.org/data/index.html">https://www.worldclim.org/data/index.html</a>
</p>

<hr>
<h2 id='worldpop'>Population Count layer for year 2000-2020</h2><span id='topic+worldpop'></span>

<h3>Description</h3>

<p>This resource is published by open spatial demographic data and research
organization called WorldPop. This resource represents the population
count, 1 km spatial resolution layers available to download from the year
2000 to 2020. The dataset is called as WorldPop Unconstrained Global Mosaics.
The encoded cell value represents the total number of people in that particular
grid cell.
</p>


<h3>Format</h3>

<p>Global raster layers available for years 2000-2020.
</p>


<h3>Source</h3>

<p><a href="https://www.worldpop.org/">https://www.worldpop.org/</a>
</p>

<hr>
<h2 id='write_portfolio'>Writing a portfolio to disk</h2><span id='topic+write_portfolio'></span>

<h3>Description</h3>

<p>The function is used to save a processes biodiversity portfolio to disk.
In order to ensure interoperability with other geospatial software the only
supported format is the GeoPackage. If any other format is chosen, the
function will automatically replace the supplied file extension with '.gpkg'.
The metadata of a portfolio together with the geometry will be written
to a table called 'metadata'. All available and supported indicators, which
are expected to be present as a nested list columns will be written to their
own respective tables. In order to allow re-joining the metadata with the
indicators, it is expected that a column called 'assetid' which uniquely
identifies all assets is present. Usually, users do not have to take care of
this since the usual <code>{mapme.biodiversity}</code> workflow will ensure that this
columns is present. Additional arguments to <code>st_write()</code> can be supplied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_portfolio(x, dsn, overwrite = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_portfolio_+3A_x">x</code></td>
<td>
<p>A portfolio object processed with <code>{mapme.biodiversity}</code></p>
</td></tr>
<tr><td><code id="write_portfolio_+3A_dsn">dsn</code></td>
<td>
<p>A file path for the output file. Should end with <code>'.gpkg'</code></p>
</td></tr>
<tr><td><code id="write_portfolio_+3A_overwrite">overwrite</code></td>
<td>
<p>A logical indicating if the output file should be overwritten
if it exists</p>
</td></tr>
<tr><td><code id="write_portfolio_+3A_...">...</code></td>
<td>
<p>Additional arguments supplied to <code>st_write()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, invisibly
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

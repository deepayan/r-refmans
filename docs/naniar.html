<!DOCTYPE html><html><head><title>Help for package naniar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {naniar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_any_miss'><p>Add a column describing presence of any missing values</p></a></li>
<li><a href='#add_label_missings'><p>Add a column describing if there are any missings in the dataset</p></a></li>
<li><a href='#add_label_shadow'><p>Add a column describing whether there is a shadow</p></a></li>
<li><a href='#add_miss_cluster'><p>Add a column that tells us which &quot;missingness cluster&quot; a row belongs to</p></a></li>
<li><a href='#add_n_miss'><p>Add column containing number of missing data values</p></a></li>
<li><a href='#add_prop_miss'><p>Add column containing proportion of missing data values</p></a></li>
<li><a href='#add_shadow'><p>Add a shadow column to dataframe</p></a></li>
<li><a href='#add_shadow_shift'><p>Add a shadow shifted column to a dataset</p></a></li>
<li><a href='#add_span_counter'><p>Add a counter variable for a span of dataframe</p></a></li>
<li><a href='#any_row_miss'><p>Helper function to determine whether there are any missings</p></a></li>
<li><a href='#any-all-na-complete'><p>Identify if there are any or all missing or complete values</p></a></li>
<li><a href='#as_shadow'><p>Create shadows</p></a></li>
<li><a href='#as_shadow_upset'><p>Convert data into shadow format for doing an upset plot</p></a></li>
<li><a href='#bind_shadow'><p>Bind a shadow dataframe to original data</p></a></li>
<li><a href='#cast_shadow'><p>Add a shadow column to a dataset</p></a></li>
<li><a href='#cast_shadow_shift'><p>Add a shadow and a shadow_shift column to a dataset</p></a></li>
<li><a href='#cast_shadow_shift_label'><p>Add a shadow column and a shadow shifted column to a dataset</p></a></li>
<li><a href='#common_na_numbers'><p>Common number values for NA</p></a></li>
<li><a href='#common_na_strings'><p>Common string values for NA</p></a></li>
<li><a href='#draw_key'><p>Key drawing functions</p></a></li>
<li><a href='#gather_shadow'><p>Long form representation of a shadow matrix</p></a></li>
<li><a href='#geom_miss_point'><p>geom_miss_point</p></a></li>
<li><a href='#GeomMissPoint'><p>naniar-ggproto</p></a></li>
<li><a href='#gg_miss_case'><p>Plot the number of missings per case (row)</p></a></li>
<li><a href='#gg_miss_case_cumsum'><p>Plot of cumulative sum of missing for cases</p></a></li>
<li><a href='#gg_miss_fct'><p>Plot the number of missings for each variable, broken down by a factor</p></a></li>
<li><a href='#gg_miss_span'><p>Plot the number of missings in a given repeating span</p></a></li>
<li><a href='#gg_miss_upset'><p>Plot the pattern of missingness using an upset plot.</p></a></li>
<li><a href='#gg_miss_var'><p>Plot the number of missings for each variable</p></a></li>
<li><a href='#gg_miss_var_cumsum'><p>Plot of cumulative sum of missing value for each variable</p></a></li>
<li><a href='#gg_miss_which'><p>Plot which variables contain a missing value</p></a></li>
<li><a href='#impute_below'><p>Impute data with values shifted 10 percent below range.</p></a></li>
<li><a href='#impute_below_all'><p>Impute data with values shifted 10 percent below range.</p></a></li>
<li><a href='#impute_below_at'><p>Scoped variants of <code>impute_below</code></p></a></li>
<li><a href='#impute_below_if'><p>Scoped variants of <code>impute_below</code></p></a></li>
<li><a href='#impute_below.numeric'><p>Impute numeric values below a range for graphical exploration</p></a></li>
<li><a href='#impute_factor'><p>Impute a factor value into a vector with missing values</p></a></li>
<li><a href='#impute_fixed'><p>Impute a fixed value into a vector with missing values</p></a></li>
<li><a href='#impute_mean'><p>Impute the mean value into a vector with missing values</p></a></li>
<li><a href='#impute_median'><p>Impute the median value into a vector with missing values</p></a></li>
<li><a href='#impute_mode'><p>Impute the mode value into a vector with missing values</p></a></li>
<li><a href='#impute_zero'><p>Impute zero into a vector with missing values</p></a></li>
<li><a href='#is_shade'><p>Detect if this is a shade</p></a></li>
<li><a href='#label_miss_1d'><p>Label a missing from one column</p></a></li>
<li><a href='#label_miss_2d'><p>label_miss_2d</p></a></li>
<li><a href='#label_missings'><p>Is there a missing value in the row of a dataframe?</p></a></li>
<li><a href='#mcar_test'><p>Little's missing completely at random (MCAR) test</p></a></li>
<li><a href='#miss_case_cumsum'><p>Summarise the missingness in each case</p></a></li>
<li><a href='#miss_case_summary'><p>Summarise the missingness in each case</p></a></li>
<li><a href='#miss_case_table'><p>Tabulate missings in cases.</p></a></li>
<li><a href='#miss_prop_summary'><p>Proportions of missings in data, variables, and cases.</p></a></li>
<li><a href='#miss_scan_count'><p>Search and present different kinds of missing values</p></a></li>
<li><a href='#miss_summary'><p>Collate summary measures from naniar into one tibble</p></a></li>
<li><a href='#miss_var_cumsum'><p>Cumulative sum of the number of missings in each variable</p></a></li>
<li><a href='#miss_var_run'><p>Find the number of missing and complete values in a single run</p></a></li>
<li><a href='#miss_var_span'><p>Summarise the number of missings for a given repeating span on a variable</p></a></li>
<li><a href='#miss_var_summary'><p>Summarise the missingness in each variable</p></a></li>
<li><a href='#miss_var_table'><p>Tabulate the missings in the variables</p></a></li>
<li><a href='#miss_var_which'><p>Which variables contain missing values?</p></a></li>
<li><a href='#miss-pct-prop-defunct'><p>Proportion of variables containing missings or complete values</p></a></li>
<li><a href='#n_complete'><p>Return the number of complete values</p></a></li>
<li><a href='#n_complete_row'><p>Return a vector of the number of complete values in each row</p></a></li>
<li><a href='#n_miss'><p>Return the number of missing values</p></a></li>
<li><a href='#n_miss_row'><p>Return a vector of the number of missing values in each row</p></a></li>
<li><a href='#n-var-case-complete'><p>The number of variables with complete values</p></a></li>
<li><a href='#n-var-case-miss'><p>The number of variables or cases with missing values</p></a></li>
<li><a href='#nabular'><p>Convert data into nabular form by binding shade to it</p></a></li>
<li><a href='#naniar'><p>naniar</p></a></li>
<li><a href='#oceanbuoys'><p>West Pacific Tropical Atmosphere Ocean Data, 1993 &amp; 1997.</p></a></li>
<li><a href='#pct_complete'><p>Return the percent of complete values</p></a></li>
<li><a href='#pct_miss'><p>Return the percent of missing values</p></a></li>
<li><a href='#pct-miss-complete-case'><p>Percentage of cases that contain a missing or complete values.</p></a></li>
<li><a href='#pct-miss-complete-var'><p>Percentage of variables containing missings or complete values</p></a></li>
<li><a href='#pedestrian'><p>Pedestrian count information around Melbourne for 2016</p></a></li>
<li><a href='#plotly_helpers'><p>Plotly helpers (Convert a geom to a &quot;basic&quot; geom.)</p></a></li>
<li><a href='#prop_complete'><p>Return the proportion of complete values</p></a></li>
<li><a href='#prop_complete_row'><p>Return a vector of the proportion of missing values in each row</p></a></li>
<li><a href='#prop_miss'><p>Return the proportion of missing values</p></a></li>
<li><a href='#prop_miss_row'><p>Return a vector of the proportion of missing values in each row</p></a></li>
<li><a href='#prop-miss-complete-case'><p>Proportion of cases that contain a missing or complete values.</p></a></li>
<li><a href='#prop-miss-complete-var'><p>Proportion of variables containing missings or complete values</p></a></li>
<li><a href='#recode_shadow'><p>Add special missing values to the shadow matrix</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#replace_na_with'><p>Replace NA value with provided value</p></a></li>
<li><a href='#replace_to_na'><p>Replace values with missings</p></a></li>
<li><a href='#replace_with_na'><p>Replace values with missings</p></a></li>
<li><a href='#replace_with_na_all'><p>Replace all values with NA where a certain condition is met</p></a></li>
<li><a href='#replace_with_na_at'><p>Replace specified variables with NA where a certain condition is met</p></a></li>
<li><a href='#replace_with_na_if'><p>Replace values with NA based on some condition, for variables that meet some predicate</p></a></li>
<li><a href='#riskfactors'><p>The Behavioral Risk Factor Surveillance System (BRFSS) Survey</p>
Data, 2009.</a></li>
<li><a href='#scoped-impute_mean'><p>Scoped variants of <code>impute_mean</code></p></a></li>
<li><a href='#scoped-impute_median'><p>Scoped variants of <code>impute_median</code></p></a></li>
<li><a href='#set-prop-n-miss'><p>Set a proportion or number of missing values</p></a></li>
<li><a href='#shade'><p>Create new levels of missing</p></a></li>
<li><a href='#shadow_long'><p>Reshape shadow data into a long format</p></a></li>
<li><a href='#shadow_shift'><p>Shift missing values to facilitate missing data exploration/visualisation</p></a></li>
<li><a href='#stat_miss_point'><p>stat_miss_point</p></a></li>
<li><a href='#unbinders'><p>Unbind (remove) shadow from data, and vice versa</p></a></li>
<li><a href='#where'><p>Split a call into two components with a useful verb name</p></a></li>
<li><a href='#where_na'><p>Which rows and cols contain missings?</p></a></li>
<li><a href='#which_are_shade'><p>Which variables are shades?</p></a></li>
<li><a href='#which_na'><p>Which elements contain missings?</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Data Structures, Summaries, and Visualisations for Missing Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Missing values are ubiquitous in data and need to be explored and
    handled in the initial stages of analysis. 'naniar' provides data 
    structures and functions that facilitate the plotting of missing values and 
    examination of imputations. This allows missing data dependencies to be 
    explored with minimal deviation from the common work patterns of 'ggplot2' 
    and tidy data. The work is fully discussed at Tierney &amp; Cook (2023) 
    &lt;<a href="https://doi.org/10.18637%2Fjss.v105.i07">doi:10.18637/jss.v105.i07</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), rpart, rpart.plot,
covr, gridExtra, wakefield, vdiffr, here, simputation,
imputeTS, Hmisc, spelling</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, purrr, tidyr, tibble (&ge; 2.0.0), norm,
magrittr, stats, visdat, rlang (&ge; 1.1.0), forcats, viridis,
glue, UpSetR, cli, vctrs, lifecycle</td>
</tr>
<tr>
<td>Collate:</td>
<td>'add-cols.R' 'add-n-prop-miss.R' 'any-na-complete.R'
'cast-shadows.R' 'data-common-na-numbers.R'
'data-common-na-strings.R' 'data-oceanbuoys.R'
'data-pedestrian.R' 'data-riskfactors.R' 'legend-draw.R'
'geom-miss-point.R' 'geom2plotly.R' 'gg-miss-case-cumsum.R'
'gg-miss-case.R' 'gg-miss-fct.R' 'gg-miss-span.R'
'gg-miss-upset.R' 'gg-miss-var-cumsum.R' 'gg-miss-var.R'
'gg-miss-which.R' 'impute-factor.R' 'impute-fixed.R'
'impute-median.R' 'impute-mode.R' 'impute-zero.R'
'impute_below.R' 'impute_mean.R' 'label-miss.R' 'mcar-test.R'
'miss-complete-x-pct-prop.R' 'miss-prop-pct-summary.R'
'miss-scan-count.R' 'miss-x-cumsum.R' 'miss-x-run.R'
'miss-x-span.R' 'miss-x-summary.R' 'miss-x-table.R'
'n-prop-miss-complete-rows.R' 'n-prop-miss-complete.R'
'n-var-miss.R' 'nabular.R' 'naniar-ggproto.R'
'naniar-package.R' 'prop-pct-var-case-miss-complete.R'
'replace-to-na.R' 'replace-with-na.R' 'replace_na_with.R'
'scoped-replace-with-na.R' 'set-n-prop-miss.R' 'shade.R'
'shadow-recode.R' 'shadow-shifters.R' 'shadows.R'
'stat-miss-point.R' 'utils.R' 'where-na.R'</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/njtierney/naniar">https://github.com/njtierney/naniar</a>, <a href="http://naniar.njtierney.com/">http://naniar.njtierney.com/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/njtierney/naniar/issues">https://github.com/njtierney/naniar/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-04 23:29:14 UTC; nick</td>
</tr>
<tr>
<td>Author:</td>
<td>Nicholas Tierney <a href="https://orcid.org/0000-0003-1460-8722"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Di Cook <a href="https://orcid.org/0000-0002-3813-7155"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Miles McBain <a href="https://orcid.org/0000-0003-2865-2548"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Colin Fay <a href="https://orcid.org/0000-0001-7343-1846"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Mitchell O'Hara-Wild [ctb],
  Jim Hester [ctb],
  Luke Smith [ctb],
  Andrew Heiss <a href="https://orcid.org/0000-0002-3948-3914"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nicholas Tierney &lt;nicholas.tierney@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-05 10:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_any_miss'>Add a column describing presence of any missing values</h2><span id='topic+add_any_miss'></span>

<h3>Description</h3>

<p>This adds a column named &quot;any_miss&quot; (by default) that describes whether
there are any missings in all of the variables (default), or whether any
of the specified columns, specified using variables names or dplyr verbs,
<code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc. By default the added column
will be called &quot;any_miss_all&quot;, if no variables are specified, otherwise,
if variables are specified, the label will be &quot;any_miss_vars&quot; to indicate
that not all variables have been used to create the labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_any_miss(
  data,
  ...,
  label = "any_miss",
  missing = "missing",
  complete = "complete"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_any_miss_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="add_any_miss_+3A_...">...</code></td>
<td>
<p>Variable names to use instead of the whole dataset. By default this
looks at the whole dataset. Otherwise, this is one or more unquoted
expressions separated by commas. These also respect the dplyr verbs
<code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc. By default will add &quot;_all&quot; to
the label if left blank, otherwise will add &quot;_vars&quot; to distinguish that it
has not been used on all of the variables.</p>
</td></tr>
<tr><td><code id="add_any_miss_+3A_label">label</code></td>
<td>
<p>label for the column, defaults to &quot;any_miss&quot;. By default if no
additional variables are listed the label col is &quot;any_miss_all&quot;, otherwise
it is &quot;any_miss_vars&quot;, if variables are specified.</p>
</td></tr>
<tr><td><code id="add_any_miss_+3A_missing">missing</code></td>
<td>
<p>character a label for when values are missing - defaults to &quot;missing&quot;</p>
</td></tr>
<tr><td><code id="add_any_miss_+3A_complete">complete</code></td>
<td>
<p>character character a label for when values are complete - defaults to &quot;complete&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default the
prefix &quot;any_miss&quot; is used, but this can be changed in the <code>label</code> argument.
</p>


<h3>Value</h3>

<p>data.frame with data and the column labelling whether that row (for
those variables) has any missing values - indicated by &quot;missing&quot; and
&quot;complete&quot;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% add_any_miss()
airquality %&gt;% add_any_miss(Ozone, Solar.R)

</code></pre>

<hr>
<h2 id='add_label_missings'>Add a column describing if there are any missings in the dataset</h2><span id='topic+add_label_missings'></span>

<h3>Description</h3>

<p>Add a column describing if there are any missings in the dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_label_missings(data, ..., missing = "Missing", complete = "Not Missing")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_label_missings_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="add_label_missings_+3A_...">...</code></td>
<td>
<p>extra variable to label</p>
</td></tr>
<tr><td><code id="add_label_missings_+3A_missing">missing</code></td>
<td>
<p>character a label for when values are missing - defaults to &quot;Missing&quot;</p>
</td></tr>
<tr><td><code id="add_label_missings_+3A_complete">complete</code></td>
<td>
<p>character character a label for when values are complete - defaults to &quot;Not Missing&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with a column &quot;any_missing&quot; that is either &quot;Not Missing&quot;
or &quot;Missing&quot; for the purposes of plotting / exploration / nice print methods
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% add_label_missings()
airquality %&gt;% add_label_missings(Ozone, Solar.R)
airquality %&gt;% add_label_missings(Ozone, Solar.R, missing = "yes", complete = "no")

</code></pre>

<hr>
<h2 id='add_label_shadow'>Add a column describing whether there is a shadow</h2><span id='topic+add_label_shadow'></span>

<h3>Description</h3>

<p>Instead of focussing on labelling whether there are missings, we instead
focus on whether there have been any shadows created. This can be useful
when data has been imputed and you need to determine which rows contained
missing values when the shadow was bound to the dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_label_shadow(data, ..., missing = "Missing", complete = "Not Missing")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_label_shadow_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="add_label_shadow_+3A_...">...</code></td>
<td>
<p>extra variable to label</p>
</td></tr>
<tr><td><code id="add_label_shadow_+3A_missing">missing</code></td>
<td>
<p>character a label for when values are missing - defaults to &quot;Missing&quot;</p>
</td></tr>
<tr><td><code id="add_label_shadow_+3A_complete">complete</code></td>
<td>
<p>character character a label for when values are complete - defaults to &quot;Not Missing&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with a column, &quot;any_missing&quot;, which describes whether or
not there are any rows that have a shadow value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;%
  add_shadow(Ozone, Solar.R) %&gt;%
  add_label_shadow()

</code></pre>

<hr>
<h2 id='add_miss_cluster'>Add a column that tells us which &quot;missingness cluster&quot; a row belongs to</h2><span id='topic+add_miss_cluster'></span>

<h3>Description</h3>

<p>A way to extract the cluster of missingness that a group belongs to.
For example, if you use <code>vis_miss(airquality, cluster = TRUE)</code>, you can
see some clustering in the data, but you do not have a way to identify
the cluster. Future work will incorporate the <code>seriation</code> package to
allow for better control over the clustering from the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_miss_cluster(data, cluster_method = "mcquitty", n_clusters = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_miss_cluster_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="add_miss_cluster_+3A_cluster_method">cluster_method</code></td>
<td>
<p>character vector of the agglomeration method to use,
the default is &quot;mcquitty&quot;. Options are taken from <code>stats::hclust</code>
helpfile, and options include: &quot;ward.D&quot;, &quot;ward.D2&quot;, &quot;single&quot;, &quot;complete&quot;,
&quot;average&quot; (= UPGMA), &quot;mcquitty&quot; (= WPGMA), &quot;median&quot; (= WPGMC) or
&quot;centroid&quot; (= UPGMC).</p>
</td></tr>
<tr><td><code id="add_miss_cluster_+3A_n_clusters">n_clusters</code></td>
<td>
<p>numeric the number of clusters you expect. Defaults to 2.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
add_miss_cluster(airquality)
add_miss_cluster(airquality, n_clusters = 3)
add_miss_cluster(airquality, cluster_method = "ward.D", n_clusters = 3)
</code></pre>

<hr>
<h2 id='add_n_miss'>Add column containing number of missing data values</h2><span id='topic+add_n_miss'></span>

<h3>Description</h3>

<p>It can be useful when doing data analysis to add the number of missing data
points into your dataframe. <code>add_n_miss</code> adds a column named &quot;n_miss&quot;,
which contains the number of missing values in that row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_n_miss(data, ..., label = "n_miss")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_n_miss_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="add_n_miss_+3A_...">...</code></td>
<td>
<p>Variable names to use instead of the whole dataset. By default this
looks at the whole dataset. Otherwise, this is one or more unquoted
expressions separated by commas. These also respect the dplyr verbs
<code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc. By default will add &quot;_all&quot; to
the label if left blank, otherwise will add &quot;_vars&quot; to distinguish that it
has not been used on all of the variables.</p>
</td></tr>
<tr><td><code id="add_n_miss_+3A_label">label</code></td>
<td>
<p>character default is &quot;n_miss&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% add_n_miss()
airquality %&gt;% add_n_miss(Ozone, Solar.R)
airquality %&gt;% add_n_miss(dplyr::contains("o"))


</code></pre>

<hr>
<h2 id='add_prop_miss'>Add column containing proportion of missing data values</h2><span id='topic+add_prop_miss'></span>

<h3>Description</h3>

<p>It can be useful when doing data analysis to add the proportion of missing
data values into your dataframe. <code>add_prop_miss</code> adds a column named
&quot;prop_miss&quot;, which contains the proportion of missing values in that row.
You can specify the variables that you would like to show the missingness
for.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_prop_miss(data, ..., label = "prop_miss")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_prop_miss_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="add_prop_miss_+3A_...">...</code></td>
<td>
<p>Variable names to use instead of the whole dataset. By default this
looks at the whole dataset. Otherwise, this is one or more unquoted
expressions separated by commas. These also respect the dplyr verbs
<code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc. By default will add &quot;_all&quot; to
the label if left blank, otherwise will add &quot;_vars&quot; to distinguish that it
has not been used on all of the variables.</p>
</td></tr>
<tr><td><code id="add_prop_miss_+3A_label">label</code></td>
<td>
<p>character string of what you need to name variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% add_prop_miss()
airquality %&gt;% add_prop_miss(Solar.R, Ozone)
airquality %&gt;% add_prop_miss(Solar.R, Ozone, label = "testing")

# this can be applied to model the proportion of missing data
# as in Tierney et al \doi{10.1136/bmjopen-2014-007450}
# see "Modelling missingness" in vignette "Getting Started with naniar"
# for details
</code></pre>

<hr>
<h2 id='add_shadow'>Add a shadow column to dataframe</h2><span id='topic+add_shadow'></span>

<h3>Description</h3>

<p>As an alternative to <code>bind_shadow()</code>, you can add specific individual shadow
columns to a dataset. These also respect the dplyr verbs
<code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_shadow(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_shadow_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="add_shadow_+3A_...">...</code></td>
<td>
<p>One or more unquoted variable names, separated by commas. These also
respect the dplyr verbs <code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% add_shadow(Ozone)
airquality %&gt;% add_shadow(Ozone, Solar.R)

</code></pre>

<hr>
<h2 id='add_shadow_shift'>Add a shadow shifted column to a dataset</h2><span id='topic+add_shadow_shift'></span>

<h3>Description</h3>

<p>Shadow shift missing values using only the selected variables in a dataset,
by specifying variable names or use dplyr <code>vars</code> and dplyr verbs
<code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_shadow_shift(data, ..., suffix = "shift")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_shadow_shift_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="add_shadow_shift_+3A_...">...</code></td>
<td>
<p>One or more unquoted variable names separated by commas. These also
respect the dplyr verbs <code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.</p>
</td></tr>
<tr><td><code id="add_shadow_shift_+3A_suffix">suffix</code></td>
<td>
<p>suffix to add to variable, defaults to &quot;shift&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data with the added variable shifted named as <code>var_suffix</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% add_shadow_shift(Ozone, Solar.R)

</code></pre>

<hr>
<h2 id='add_span_counter'>Add a counter variable for a span of dataframe</h2><span id='topic+add_span_counter'></span>

<h3>Description</h3>

<p>Adds a variable, <code>span_counter</code> to a dataframe. Used internally to facilitate
counting of missing values over a given span.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_span_counter(data, span_size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_span_counter_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="add_span_counter_+3A_span_size">span_size</code></td>
<td>
<p>integer</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with extra variable &quot;span_counter&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# add_span_counter(pedestrian, span_size = 100)

## End(Not run)
</code></pre>

<hr>
<h2 id='any_row_miss'>Helper function to determine whether there are any missings</h2><span id='topic+any_row_miss'></span>

<h3>Description</h3>

<p>Helper function to determine whether there are any missings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>any_row_miss(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="any_row_miss_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical vector TRUE = missing FALSE = complete
</p>

<hr>
<h2 id='any-all-na-complete'>Identify if there are any or all missing or complete values</h2><span id='topic+any-all-na-complete'></span><span id='topic+any_na'></span><span id='topic+any_miss'></span><span id='topic+any_complete'></span><span id='topic+all_na'></span><span id='topic+all_miss'></span><span id='topic+all_complete'></span>

<h3>Description</h3>

<p>It is useful when exploring data to search for cases where
there are <strong>any</strong> or <strong>all</strong> instances of missing or complete values. For
example, these can help you identify and potentially remove or keep
columns in a data frame that are all missing, or all complete.
</p>
<p>For the <strong>any</strong> case, we provide two functions: <code>any_miss</code> and
<code>any_complete</code>. Note that <code>any_miss</code> has an alias, <code>any_na</code>. These both
under the hood call <code>anyNA</code>. <code>any_complete</code> is the complement to
<code>any_miss</code> - it returns TRUE if there are any complete values. Note
that in a dataframe <code>any_complete</code> will look for complete cases, which
are complete rows, which is different to complete variables.
</p>
<p>For the <strong>all</strong> case, there are two functions: <code>all_miss</code>, and
<code>all_complete</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>any_na(x)

any_miss(x)

any_complete(x)

all_na(x)

all_miss(x)

all_complete(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="any-all-na-complete_+3A_x">x</code></td>
<td>
<p>an object to explore missings/complete values</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+all_miss">all_miss()</a></code> <a href="#topic+all_complete">all_complete</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# for vectors
misses &lt;- c(NA, NA, NA)
complete &lt;- c(1, 2, 3)
mixture &lt;- c(NA, 1, NA)

all_na(misses)
all_na(complete)
all_na(mixture)
all_complete(misses)
all_complete(complete)
all_complete(mixture)

any_na(misses)
any_na(complete)
any_na(mixture)

# for data frames
all_na(airquality)
# an alias of all_na
all_miss(airquality)
all_complete(airquality)

any_na(airquality)
any_complete(airquality)

# use in identifying columns with all missing/complete

library(dplyr)
# for printing
aq &lt;- as_tibble(airquality)
aq
# select variables with all missing values
aq %&gt;% select(where(all_na))
# there are none!
#' # select columns with any NA values
aq %&gt;% select(where(any_na))
# select only columns with all complete data
aq %&gt;% select(where(all_complete))

# select columns where there are any complete cases (all the data)
aq %&gt;% select(where(any_complete))

</code></pre>

<hr>
<h2 id='as_shadow'>Create shadows</h2><span id='topic+as_shadow'></span>

<h3>Description</h3>

<p>Return a tibble in shadow matrix form, where the variables are the same but
have a suffix _NA attached to distinguish them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_shadow(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_shadow_+3A_data">data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="as_shadow_+3A_...">...</code></td>
<td>
<p>selected variables to use</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Representing missing data structure is achieved using the shadow matrix,
introduced in <a href="https://www.researchgate.net/publication/2758672_Missing_Data_in_Interactive_High-Dimensional_Data_Visualization">Swayne and Buja</a>. The shadow
matrix is the same dimension as the data, and consists of binary indicators
of missingness of data values, where missing is represented as &quot;NA&quot;, and not
missing is represented as &quot;!NA&quot;. Although these may be represented as 1 and
0, respectively.
</p>


<h3>Value</h3>

<p>appended shadow with column names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
as_shadow(airquality)
</code></pre>

<hr>
<h2 id='as_shadow_upset'>Convert data into shadow format for doing an upset plot</h2><span id='topic+as_shadow_upset'></span>

<h3>Description</h3>

<p>Upset plots are a way of visualising common sets, this function transforms
the data into a format that feeds directly into an upset plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_shadow_upset(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_shadow_upset_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

library(UpSetR)
airquality %&gt;%
  as_shadow_upset() %&gt;%
  upset()

## End(Not run)

</code></pre>

<hr>
<h2 id='bind_shadow'>Bind a shadow dataframe to original data</h2><span id='topic+bind_shadow'></span>

<h3>Description</h3>

<p>Binding a shadow matrix to a regular dataframe helps visualise and work with
missing data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bind_shadow(data, only_miss = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_shadow_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="bind_shadow_+3A_only_miss">only_miss</code></td>
<td>
<p>logical - if FALSE (default) it will bind a dataframe with
all of the variables duplicated with their shadow. Setting this to TRUE
will bind variables only those variables that contain missing values.
See the examples for more details.</p>
</td></tr>
<tr><td><code id="bind_shadow_+3A_...">...</code></td>
<td>
<p>extra options to pass to <code><a href="#topic+recode_shadow">recode_shadow()</a></code> - a work in progress.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data with the added variable shifted and the suffix <code style="white-space: pre;">&#8288;_NA&#8288;</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
bind_shadow(airquality)

# bind only the variables that contain missing values
bind_shadow(airquality, only_miss = TRUE)

aq_shadow &lt;- bind_shadow(airquality)

## Not run: 
# explore missing data visually
library(ggplot2)

# using the bounded shadow to visualise Ozone according to whether Solar
# Radiation is missing or not.

ggplot(data = aq_shadow,
       aes(x = Ozone)) +
       geom_histogram() +
       facet_wrap(~Solar.R_NA,
       ncol = 1)

## End(Not run)

</code></pre>

<hr>
<h2 id='cast_shadow'>Add a shadow column to a dataset</h2><span id='topic+cast_shadow'></span>

<h3>Description</h3>

<p>Casting a shadow shifted column performs the equivalent pattern to
data %&gt;% select(var) %&gt;% impute_below(). This is a convenience function
that makes it easy to perform certain visualisations, in line with the
principle that the user should have a way to flexibly return data formats
containing information about the missing data. It forms the base building
block for the functions <code>cast_shadow_shift</code>, and <code>cast_shadow_shift_label</code>.
It also respects the dplyr verbs <code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.
to select variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cast_shadow(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cast_shadow_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="cast_shadow_+3A_...">...</code></td>
<td>
<p>One or more unquoted variable names separated by commas. These
respect the dplyr verbs <code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data with the added variable shifted and the suffix <code style="white-space: pre;">&#8288;_NA&#8288;</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cast_shadow_shift">cast_shadow_shift()</a></code>, <code><a href="#topic+cast_shadow_shift_label">cast_shadow_shift_label()</a></code> <code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% cast_shadow(Ozone, Solar.R)
## Not run: 
library(ggplot2)
library(magrittr)
airquality  %&gt;%
  cast_shadow(Ozone,Solar.R) %&gt;%
  ggplot(aes(x = Ozone,
             colour = Solar.R_NA)) +
        geom_density()

## End(Not run)

</code></pre>

<hr>
<h2 id='cast_shadow_shift'>Add a shadow and a shadow_shift column to a dataset</h2><span id='topic+cast_shadow_shift'></span>

<h3>Description</h3>

<p>Shift the values and add a shadow column.  It also respects the dplyr
verbs <code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cast_shadow_shift(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cast_shadow_shift_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="cast_shadow_shift_+3A_...">...</code></td>
<td>
<p>One or more unquoted variable names separated by commas. These
respect the dplyr verbs <code>starts_with</code>, <code>contains</code>, <code>ends_with</code>, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with the shadow and shadow_shift vars
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cast_shadow_shift">cast_shadow_shift()</a></code>, <code><a href="#topic+cast_shadow_shift_label">cast_shadow_shift_label()</a></code> <code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% cast_shadow_shift(Ozone,Temp)

airquality %&gt;% cast_shadow_shift(dplyr::contains("o"))

</code></pre>

<hr>
<h2 id='cast_shadow_shift_label'>Add a shadow column and a shadow shifted column to a dataset</h2><span id='topic+cast_shadow_shift_label'></span>

<h3>Description</h3>

<p>Shift the values, add shadow, add missing label
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cast_shadow_shift_label(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cast_shadow_shift_label_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="cast_shadow_shift_label_+3A_...">...</code></td>
<td>
<p>One or more unquoted expressions separated by commas. These also
respect the dplyr verbs &quot;starts_with&quot;, &quot;contains&quot;, &quot;ends_with&quot;, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with the shadow and shadow_shift vars, and missing labels
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cast_shadow_shift">cast_shadow_shift()</a></code>, <code><a href="#topic+cast_shadow_shift_label">cast_shadow_shift_label()</a></code> <code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;% cast_shadow_shift_label(Ozone, Solar.R)

# replicate the plot generated by geom_miss_point()
## Not run: 
library(ggplot2)

airquality %&gt;%
  cast_shadow_shift_label(Ozone,Solar.R) %&gt;%
  ggplot(aes(x = Ozone_shift,
             y = Solar.R_shift,
             colour = any_missing)) +
        geom_point()

## End(Not run)

</code></pre>

<hr>
<h2 id='common_na_numbers'>Common number values for NA</h2><span id='topic+common_na_numbers'></span>

<h3>Description</h3>

<p>This vector contains common number values of NA (missing), which is aimed to
be used inside naniar functions <code><a href="#topic+miss_scan_count">miss_scan_count()</a></code> and
<code><a href="#topic+replace_with_na">replace_with_na()</a></code>. The current list of numbers can be found by printing
out <code>common_na_numbers</code>. It is a useful way to explore your data for
possible missings, but I strongly warn against using this to replace NA
values without very carefully looking at the incidence for each of the
cases. Common NA strings are in the data object <code>common_na_strings</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>common_na_numbers
</code></pre>


<h3>Format</h3>

<p>An object of class <code>numeric</code> of length 8.
</p>


<h3>Note</h3>

<p>original discussion here <a href="https://github.com/njtierney/naniar/issues/168">https://github.com/njtierney/naniar/issues/168</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dat_ms &lt;- tibble::tribble(~x,  ~y,    ~z,
                          1,   "A",   -100,
                          3,   "N/A", -99,
                          NA,  NA,    -98,
                          -99, "E",   -101,
                          -98, "F",   -1)

miss_scan_count(dat_ms, -99)
miss_scan_count(dat_ms, c("-99","-98","N/A"))
common_na_numbers
miss_scan_count(dat_ms, common_na_numbers)
</code></pre>

<hr>
<h2 id='common_na_strings'>Common string values for NA</h2><span id='topic+common_na_strings'></span>

<h3>Description</h3>

<p>This vector contains common values of NA (missing), which is aimed to
be used inside naniar functions <code><a href="#topic+miss_scan_count">miss_scan_count()</a></code> and
<code><a href="#topic+replace_with_na">replace_with_na()</a></code>. The current list of
strings used can be found by printing out <code>common_na_strings</code>. It is a
useful way to explore your data for possible missings, but I strongly warn
against using this to replace NA values without very carefully looking at
the incidence for each of the cases. Please note that <code>common_na_strings</code>
uses <code style="white-space: pre;">&#8288;\\&#8288;</code> around the &quot;?&quot;, &quot;.&quot; and &quot;*&quot; characters to protect against using
their wildcard features in grep. Common NA numbers are in the data object
<code>common_na_numbers</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>common_na_strings
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 26.
</p>


<h3>Note</h3>

<p>original discussion here <a href="https://github.com/njtierney/naniar/issues/168">https://github.com/njtierney/naniar/issues/168</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dat_ms &lt;- tibble::tribble(~x,  ~y,    ~z,
                          1,   "A",   -100,
                          3,   "N/A", -99,
                          NA,  NA,    -98,
                          -99, "E",   -101,
                          -98, "F",   -1)

miss_scan_count(dat_ms, -99)
miss_scan_count(dat_ms, c("-99","-98","N/A"))
common_na_strings
miss_scan_count(dat_ms, common_na_strings)
replace_with_na(dat_ms, replace = list(y = common_na_strings))
</code></pre>

<hr>
<h2 id='draw_key'>Key drawing functions</h2><span id='topic+draw_key'></span><span id='topic+draw_key_missing_point'></span>

<h3>Description</h3>

<p>Each Geom has an associated function that draws the key when the geom needs
to be displayed in a legend. These are the options built into naniar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_key_missing_point(data, params, size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_key_+3A_data">data</code></td>
<td>
<p>A single row data frame containing the scaled aesthetics to
display in this key</p>
</td></tr>
<tr><td><code id="draw_key_+3A_params">params</code></td>
<td>
<p>A list of additional parameters supplied to the geom.</p>
</td></tr>
<tr><td><code id="draw_key_+3A_size">size</code></td>
<td>
<p>Width and height of key in mm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid grob.
</p>

<hr>
<h2 id='gather_shadow'>Long form representation of a shadow matrix</h2><span id='topic+gather_shadow'></span>

<h3>Description</h3>

<p><code>gather_shadow</code> is a long-form representation of binding the shadow matrix to
your data, producing variables named <code>case</code>, <code>variable</code>, and <code>missing</code>, where
<code>missing</code> contains the missing value representation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gather_shadow(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gather_shadow_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe in long, format, containing information about the missings
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gather_shadow(airquality)

</code></pre>

<hr>
<h2 id='geom_miss_point'>geom_miss_point</h2><span id='topic+geom_miss_point'></span>

<h3>Description</h3>

<p><code>geom_miss_point</code> provides a way to transform and plot missing
values in ggplot2. To do so it uses methods from ggobi to display missing
data points 10\
the same axis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_miss_point(
  mapping = NULL,
  data = NULL,
  prop_below = 0.1,
  jitter = 0.05,
  stat = "miss_point",
  position = "identity",
  colour = ..missing..,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_miss_point_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>
or <code><a href="ggplot2.html#topic+aes_">ggplot2::aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code>
(the default), is combined with the default mapping at the top level of the
plot. You only need to supply mapping if there isn't a mapping defined for
the plot.</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_data">data</code></td>
<td>
<p>A data frame. If specified, overrides the default data frame
defined at the top level of the plot.</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_prop_below">prop_below</code></td>
<td>
<p>the degree to shift the values. The default is 0.1</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_jitter">jitter</code></td>
<td>
<p>the amount of jitter to add. The default is 0.05</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of a
call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_colour">colour</code></td>
<td>
<p>the colour chosen for the aesthetic</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with a
warning. If <code>TRUE</code> silently removes missing values.</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped. <code>FALSE</code>
never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics, rather
than combining with them. This is most useful for helper functions that
define both data and aesthetics and shouldn't inherit behaviour from the
default plot specification, e.g. borders.</p>
</td></tr>
<tr><td><code id="geom_miss_point_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>. There
are three types of arguments you can use here:
</p>

<ul>
<li><p>Aesthetics: to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>size = 3.</code>
</p>
</li>
<li><p>Other arguments to the layer, for example you override the default
<code>stat</code> associated with the layer.
</p>
</li>
<li><p>Other arguments passed on to the stat.
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>Plot Missing Data Points
</p>


<h3>Note</h3>

<p>Warning message if na.rm = T is supplied.
</p>


<h3>See Also</h3>

<p>[gg_miss_case()][gg_miss_case_cumsum()][gg_miss_fct()][gg_miss_span()][gg_miss_var()][gg_miss_var_cumsum()][gg_miss_which()]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(ggplot2)

# using regular geom_point()
ggplot(airquality,
       aes(x = Ozone,
           y = Solar.R)) +
geom_point()

# using  geom_miss_point()
ggplot(airquality,
       aes(x = Ozone,
           y = Solar.R)) +
 geom_miss_point()

 # using facets

ggplot(airquality,
       aes(x = Ozone,
           y = Solar.R)) +
 geom_miss_point() +
 facet_wrap(~Month)

## End(Not run)
</code></pre>

<hr>
<h2 id='GeomMissPoint'>naniar-ggproto</h2><span id='topic+GeomMissPoint'></span><span id='topic+naniar-ggproto'></span><span id='topic+StatMissPoint'></span>

<h3>Description</h3>

<p>These are the stat and geom overrides using ggproto from ggplot2
that make naniar work.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatMissPoint
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatMissPoint</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 6.
</p>

<hr>
<h2 id='gg_miss_case'>Plot the number of missings per case (row)</h2><span id='topic+gg_miss_case'></span>

<h3>Description</h3>

<p>This is a visual analogue to <code>miss_case_summary</code>. It draws a ggplot of the
number of missings in each case (row). A default minimal theme is used, which
can be customised as normal for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_case(x, facet, order_cases = TRUE, show_pct = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_case_+3A_x">x</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="gg_miss_case_+3A_facet">facet</code></td>
<td>
<p>(optional) a single bare variable name, if you want to create a faceted plot.</p>
</td></tr>
<tr><td><code id="gg_miss_case_+3A_order_cases">order_cases</code></td>
<td>
<p>logical Order the rows by missingness (default is FALSE -
no order).</p>
</td></tr>
<tr><td><code id="gg_miss_case_+3A_show_pct">show_pct</code></td>
<td>
<p>logical Show the percentage of cases</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object depicting the number of missings in a given case.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <a href="#topic+gg_miss_case_cumsum">gg_miss_case_cumsum</a> <code><a href="#topic+gg_miss_fct">gg_miss_fct()</a></code> <code><a href="#topic+gg_miss_span">gg_miss_span()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_var_cumsum">gg_miss_var_cumsum()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gg_miss_case(airquality)
## Not run: 
library(ggplot2)
gg_miss_case(airquality) + labs(x = "Number of Cases")
gg_miss_case(airquality, show_pct = TRUE)
gg_miss_case(airquality, order_cases = FALSE)
gg_miss_case(airquality, facet = Month)
gg_miss_case(airquality, facet = Month, order_cases = FALSE)
gg_miss_case(airquality, facet = Month, show_pct = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='gg_miss_case_cumsum'>Plot of cumulative sum of missing for cases</h2><span id='topic+gg_miss_case_cumsum'></span>

<h3>Description</h3>

<p>A plot showing the cumulative sum of missing values for cases, reading the
rows from the top to bottom. A default minimal theme is used, which can be
customised as normal for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_case_cumsum(x, breaks = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_case_cumsum_+3A_x">x</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="gg_miss_case_cumsum_+3A_breaks">breaks</code></td>
<td>
<p>the breaks for the x axis default is 20</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object depicting the number of missings
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <code><a href="#topic+gg_miss_case">gg_miss_case()</a></code> <code><a href="#topic+gg_miss_fct">gg_miss_fct()</a></code> <code><a href="#topic+gg_miss_span">gg_miss_span()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_var_cumsum">gg_miss_var_cumsum()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gg_miss_case_cumsum(airquality)
</code></pre>

<hr>
<h2 id='gg_miss_fct'>Plot the number of missings for each variable, broken down by a factor</h2><span id='topic+gg_miss_fct'></span>

<h3>Description</h3>

<p>This function draws a ggplot plot of the number of missings in each column,
broken down by a categorical variable from the dataset. A default minimal
theme is used, which can be customised as normal for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_fct(x, fct)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_fct_+3A_x">x</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="gg_miss_fct_+3A_fct">fct</code></td>
<td>
<p>column containing the factor variable to visualise</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object depicting the % missing of each factor level for
each variable.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <code><a href="#topic+gg_miss_case">gg_miss_case()</a></code> <a href="#topic+gg_miss_case_cumsum">gg_miss_case_cumsum</a> <code><a href="#topic+gg_miss_span">gg_miss_span()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_var_cumsum">gg_miss_var_cumsum()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gg_miss_fct(x = riskfactors, fct = marital)
## Not run: 
library(ggplot2)
gg_miss_fct(x = riskfactors, fct = marital) + labs(title = "NA in Risk Factors and Marital status")

## End(Not run)

</code></pre>

<hr>
<h2 id='gg_miss_span'>Plot the number of missings in a given repeating span</h2><span id='topic+gg_miss_span'></span>

<h3>Description</h3>

<p><code>gg_miss_span</code> is a replacement function to
<code>imputeTS::plotNA.distributionBar(tsNH4, breaksize = 100)</code>, which shows the
number of missings in a given span, or breaksize. A default minimal theme
is used, which can be customised as normal for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_span(data, var, span_every, facet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_span_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="gg_miss_span_+3A_var">var</code></td>
<td>
<p>a bare unquoted variable name from <code>data</code>.</p>
</td></tr>
<tr><td><code id="gg_miss_span_+3A_span_every">span_every</code></td>
<td>
<p>integer describing the length of the span to be explored</p>
</td></tr>
<tr><td><code id="gg_miss_span_+3A_facet">facet</code></td>
<td>
<p>(optional) a single bare variable name, if you want to create a faceted plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 showing the number of missings in a span (window, or breaksize)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <code><a href="#topic+gg_miss_case">gg_miss_case()</a></code> <a href="#topic+gg_miss_case_cumsum">gg_miss_case_cumsum</a> <code><a href="#topic+gg_miss_fct">gg_miss_fct()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_var_cumsum">gg_miss_var_cumsum()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_var_span(pedestrian, hourly_counts, span_every = 3000)
## Not run: 
library(ggplot2)
gg_miss_span(pedestrian, hourly_counts, span_every = 3000)
gg_miss_span(pedestrian, hourly_counts, span_every = 3000, facet = sensor_name)
# works with the rest of ggplot
gg_miss_span(pedestrian, hourly_counts, span_every = 3000) + labs(x = "custom")
gg_miss_span(pedestrian, hourly_counts, span_every = 3000) + theme_dark()

## End(Not run)
</code></pre>

<hr>
<h2 id='gg_miss_upset'>Plot the pattern of missingness using an upset plot.</h2><span id='topic+gg_miss_upset'></span>

<h3>Description</h3>

<p>Upset plots are a way of visualising common sets, <code>gg_miss_upset</code> shows the
number of missing values for each of the sets of data. The default option
of <code>gg_miss_upset</code> is taken from <code>UpSetR::upset</code> - which is to use up to 5
sets and up to 40 interactions. We also set the ordering to by the
frequency of the intersections. Setting <code>nsets = 5</code> means to look at 5
variables and their combinations. The number of combinations or rather
<code>intersections</code> is controlled by <code>nintersects</code>. If there are 40
intersections, there will be 40 combinations of variables explored. The
number of sets and intersections can be changed by passing arguments <code>nsets = 10</code> to look at 10 sets of variables, and <code>nintersects = 50</code> to look at 50
intersections.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_upset(data, order.by = "freq", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_upset_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="gg_miss_upset_+3A_order.by">order.by</code></td>
<td>
<p>(from UpSetR::upset) How the intersections in the matrix should be ordered by. Options include frequency (entered as &quot;freq&quot;), degree, or both in any order.  See <code>?UpSetR::upset</code> for more options</p>
</td></tr>
<tr><td><code id="gg_miss_upset_+3A_...">...</code></td>
<td>
<p>arguments to pass to upset plot - see <code>?UpSetR::upset</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot visualisation of missing data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
gg_miss_upset(airquality)
gg_miss_upset(riskfactors)
gg_miss_upset(riskfactors, nsets = 10)
gg_miss_upset(riskfactors, nsets = 10, nintersects = 10)

## End(Not run)
</code></pre>

<hr>
<h2 id='gg_miss_var'>Plot the number of missings for each variable</h2><span id='topic+gg_miss_var'></span>

<h3>Description</h3>

<p>This is a visual analogue to <code>miss_var_summary</code>. It draws a ggplot of the
number of missings in each variable, ordered to show which variables have
the most missing data. A default minimal theme is used, which can be
customised as normal for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_var(x, facet, show_pct = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_var_+3A_x">x</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="gg_miss_var_+3A_facet">facet</code></td>
<td>
<p>(optional) bare variable name, if you want to create a faceted plot.</p>
</td></tr>
<tr><td><code id="gg_miss_var_+3A_show_pct">show_pct</code></td>
<td>
<p>logical shows the number of missings (default), but if set to
TRUE, it will display the proportion of missings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object depicting the number of missings in a given column
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <code><a href="#topic+gg_miss_case">gg_miss_case()</a></code> <a href="#topic+gg_miss_case_cumsum">gg_miss_case_cumsum</a> <code><a href="#topic+gg_miss_fct">gg_miss_fct()</a></code> <code><a href="#topic+gg_miss_span">gg_miss_span()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_var_cumsum">gg_miss_var_cumsum()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gg_miss_var(airquality)
## Not run: 
library(ggplot2)
gg_miss_var(airquality) + labs(y = "Look at all the missing ones")
gg_miss_var(airquality, Month)
gg_miss_var(airquality, Month, show_pct = TRUE)
gg_miss_var(airquality, Month, show_pct = TRUE) + ylim(0, 100)

## End(Not run)
</code></pre>

<hr>
<h2 id='gg_miss_var_cumsum'>Plot of cumulative sum of missing value for each variable</h2><span id='topic+gg_miss_var_cumsum'></span>

<h3>Description</h3>

<p>A plot showing the cumulative sum of missing values for each variable,
reading columns from the left to the right of the initial dataframe. A
default minimal theme is used, which can be customised as normal for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_var_cumsum(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_var_cumsum_+3A_x">x</code></td>
<td>
<p>a data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object showing the cumulative sum of missings over the variables
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <code><a href="#topic+gg_miss_case">gg_miss_case()</a></code> <a href="#topic+gg_miss_case_cumsum">gg_miss_case_cumsum</a> <code><a href="#topic+gg_miss_fct">gg_miss_fct()</a></code> <code><a href="#topic+gg_miss_span">gg_miss_span()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gg_miss_var_cumsum(airquality)
</code></pre>

<hr>
<h2 id='gg_miss_which'>Plot which variables contain a missing value</h2><span id='topic+gg_miss_which'></span>

<h3>Description</h3>

<p>This plot produces a set of rectangles indicating whether there is a missing
element in a column or not.  A default minimal theme is used, which can be
customised as normal for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_miss_which(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_miss_which_+3A_x">x</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot object of which variables contains missing values
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <code><a href="#topic+gg_miss_case">gg_miss_case()</a></code> <a href="#topic+gg_miss_case_cumsum">gg_miss_case_cumsum</a> <code><a href="#topic+gg_miss_fct">gg_miss_fct()</a></code> <code><a href="#topic+gg_miss_span">gg_miss_span()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_var_cumsum">gg_miss_var_cumsum()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gg_miss_which(airquality)
</code></pre>

<hr>
<h2 id='impute_below'>Impute data with values shifted 10 percent below range.</h2><span id='topic+impute_below'></span>

<h3>Description</h3>

<p>It can be useful in exploratory graphics to impute data outside the range of
the data. <code>impute_below</code> imputes variables with missings to have values
10 percent below the range for numeric values, plus some jittered noise,
to separate repeated values, so that missing values can be visualised
along with the rest of the data. For character or factor
values, it adds a new string or label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_below(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_below_+3A_x">x</code></td>
<td>
<p>a variable of interest to shift</p>
</td></tr>
<tr><td><code id="impute_below_+3A_...">...</code></td>
<td>
<p>extra arguments to pass</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow_shift">cast_shadow_shift()</a></code> <code><a href="#topic+cast_shadow_shift_label">cast_shadow_shift_label()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
vec &lt;- rnorm(10)

vec[sample(1:10, 3)] &lt;- NA

impute_below(vec)
impute_below(vec, prop_below = 0.25)
impute_below(vec,
            prop_below = 0.25,
            jitter = 0.2)

dat &lt;- tibble(
 num = rnorm(10),
 int = as.integer(rpois(10, 5)),
 fct = factor(LETTERS[1:10])
) %&gt;%
 mutate(
   across(
     everything(),
     \(x) set_prop_miss(x, prop = 0.25)
   )
 )

dat

dat %&gt;%
 nabular() %&gt;%
 mutate(
   num = impute_below(num),
   int = impute_below(int),
   fct = impute_below(fct),
 )

dat %&gt;%
 nabular() %&gt;%
 mutate(
   across(
     where(is.numeric),
     impute_below
   )
 )

dat %&gt;%
 nabular() %&gt;%
 mutate(
   across(
     c("num", "int"),
     impute_below
   )
 )


</code></pre>

<hr>
<h2 id='impute_below_all'>Impute data with values shifted 10 percent below range.</h2><span id='topic+impute_below_all'></span>

<h3>Description</h3>

<p>It can be useful in exploratory graphics to impute data outside the range of
the data. <code>impute_below_all</code> imputes all variables with missings to have
values 10\
values adds a new string or label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_below_all(.tbl, prop_below = 0.1, jitter = 0.05, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_below_all_+3A_.tbl">.tbl</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="impute_below_all_+3A_prop_below">prop_below</code></td>
<td>
<p>the degree to shift the values. default is</p>
</td></tr>
<tr><td><code id="impute_below_all_+3A_jitter">jitter</code></td>
<td>
<p>the amount of jitter to add. default is 0.05</p>
</td></tr>
<tr><td><code id="impute_below_all_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>


<h3>Value</h3>

<p>an dataset with values imputed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# you can impute data like so:
airquality %&gt;%
  impute_below_all()

# However, this does not show you WHERE the missing values are.
# to keep track of them, you want to use `bind_shadow()` first.

airquality %&gt;%
  bind_shadow() %&gt;%
  impute_below_all()

# This identifies where the missing values are located, which means you
# can do things like this:

## Not run: 
library(ggplot2)
airquality %&gt;%
  bind_shadow() %&gt;%
  impute_below_all() %&gt;%
  # identify where there are missings across rows.
  add_label_shadow() %&gt;%
  ggplot(aes(x = Ozone,
             y = Solar.R,
             colour = any_missing)) +
  geom_point()
# Note that this ^^ is a long version of `geom_miss_point()`.

## End(Not run)

</code></pre>

<hr>
<h2 id='impute_below_at'>Scoped variants of <code>impute_below</code></h2><span id='topic+impute_below_at'></span>

<h3>Description</h3>

<p><code>impute_below</code> imputes missing values to a set percentage below the range
of the data. To impute many variables at once, we recommend that you use the
<code>across</code> function workflow, shown in the examples for <code><a href="#topic+impute_below">impute_below()</a></code>.
<code>impute_below_all</code> operates on all variables. To only impute variables
that satisfy a specific condition, use the scoped variants,
<code>impute_below_at</code>, and <code>impute_below_if</code>. To use <code style="white-space: pre;">&#8288;_at&#8288;</code> effectively,
you must know that <code style="white-space: pre;">&#8288;_at`` affects variables selected with a character vector, or with &#8288;</code>vars()'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_below_at(.tbl, .vars, prop_below = 0.1, jitter = 0.05, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_below_at_+3A_.tbl">.tbl</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="impute_below_at_+3A_.vars">.vars</code></td>
<td>
<p>variables to impute</p>
</td></tr>
<tr><td><code id="impute_below_at_+3A_prop_below">prop_below</code></td>
<td>
<p>the degree to shift the values. default is</p>
</td></tr>
<tr><td><code id="impute_below_at_+3A_jitter">jitter</code></td>
<td>
<p>the amount of jitter to add. default is 0.05</p>
</td></tr>
<tr><td><code id="impute_below_at_+3A_...">...</code></td>
<td>
<p>extra arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>


<h3>Value</h3>

<p>an dataset with values imputed
</p>


<h3>Examples</h3>

<pre><code class='language-R'># select variables starting with a particular string.
impute_below_at(airquality,
                .vars = c("Ozone", "Solar.R"))

impute_below_at(airquality, .vars = 1:2)

## Not run: 
library(dplyr)
impute_below_at(airquality,
                .vars = vars(Ozone))

library(ggplot2)
airquality %&gt;%
  bind_shadow() %&gt;%
  impute_below_at(vars(Ozone, Solar.R)) %&gt;%
  add_label_shadow() %&gt;%
  ggplot(aes(x = Ozone,
             y = Solar.R,
             colour = any_missing)) +
         geom_point()

## End(Not run)

</code></pre>

<hr>
<h2 id='impute_below_if'>Scoped variants of <code>impute_below</code></h2><span id='topic+impute_below_if'></span>

<h3>Description</h3>

<p><code>impute_below</code> operates on all variables. To only impute variables
that satisfy a specific condition, use the scoped variants,
<code>impute_below_at</code>, and <code>impute_below_if</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_below_if(.tbl, .predicate, prop_below = 0.1, jitter = 0.05, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_below_if_+3A_.tbl">.tbl</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="impute_below_if_+3A_.predicate">.predicate</code></td>
<td>
<p>A predicate function (such as is.numeric)</p>
</td></tr>
<tr><td><code id="impute_below_if_+3A_prop_below">prop_below</code></td>
<td>
<p>the degree to shift the values. default is</p>
</td></tr>
<tr><td><code id="impute_below_if_+3A_jitter">jitter</code></td>
<td>
<p>the amount of jitter to add. default is 0.05</p>
</td></tr>
<tr><td><code id="impute_below_if_+3A_...">...</code></td>
<td>
<p>extra arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an dataset with values imputed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
airquality %&gt;%
  impute_below_if(.predicate = is.numeric)

</code></pre>

<hr>
<h2 id='impute_below.numeric'>Impute numeric values below a range for graphical exploration</h2><span id='topic+impute_below.numeric'></span>

<h3>Description</h3>

<p>Impute numeric values below a range for graphical exploration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'numeric'
impute_below(
  x,
  prop_below = 0.1,
  jitter = 0.05,
  seed_shift = 2017 - 7 - 1 - 1850,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_below.numeric_+3A_x">x</code></td>
<td>
<p>a variable of interest to shift</p>
</td></tr>
<tr><td><code id="impute_below.numeric_+3A_prop_below">prop_below</code></td>
<td>
<p>the degree to shift the values. default is</p>
</td></tr>
<tr><td><code id="impute_below.numeric_+3A_jitter">jitter</code></td>
<td>
<p>the amount of jitter to add. default is 0.05</p>
</td></tr>
<tr><td><code id="impute_below.numeric_+3A_seed_shift">seed_shift</code></td>
<td>
<p>a random seed to set, if you like</p>
</td></tr>
<tr><td><code id="impute_below.numeric_+3A_...">...</code></td>
<td>
<p>extra arguments to pass</p>
</td></tr>
</table>

<hr>
<h2 id='impute_factor'>Impute a factor value into a vector with missing values</h2><span id='topic+impute_factor'></span><span id='topic+impute_factor.default'></span><span id='topic+impute_factor.factor'></span><span id='topic+impute_factor.character'></span><span id='topic+impute_factor.shade'></span>

<h3>Description</h3>

<p>For imputing fixed factor levels. It adds the new imputed value to the end
of the levels of the vector. We generally recommend to impute using other
model based approaches. See the <code>simputation</code> package, for example
<code><a href="simputation.html#topic+impute_lm">simputation::impute_lm()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_factor(x, value)

## Default S3 method:
impute_factor(x, value)

## S3 method for class 'factor'
impute_factor(x, value)

## S3 method for class 'character'
impute_factor(x, value)

## S3 method for class 'shade'
impute_factor(x, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_factor_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
<tr><td><code id="impute_factor_+3A_value">value</code></td>
<td>
<p>factor to impute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with a factor values replaced
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vec &lt;- factor(LETTERS[1:10])

vec[sample(1:10, 3)] &lt;- NA

vec

impute_factor(vec, "wat")

library(dplyr)

dat &lt;- tibble(
  num = rnorm(10),
  int = rpois(10, 5),
  fct = factor(LETTERS[1:10])
) %&gt;%
  mutate(
    across(
      everything(),
      \(x) set_prop_miss(x, prop = 0.25)
    )
  )

dat

dat %&gt;%
  nabular() %&gt;%
  mutate(
    num = impute_fixed(num, -9999),
    int = impute_zero(int),
    fct = impute_factor(fct, "out")
  )

</code></pre>

<hr>
<h2 id='impute_fixed'>Impute a fixed value into a vector with missing values</h2><span id='topic+impute_fixed'></span><span id='topic+impute_fixed.default'></span>

<h3>Description</h3>

<p>This can be useful if you are imputing specific values, however we would
generally recommend to impute using other model based approaches. See
the <code>simputation</code> package, for example <code><a href="simputation.html#topic+impute_lm">simputation::impute_lm()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_fixed(x, value)

## Default S3 method:
impute_fixed(x, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_fixed_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
<tr><td><code id="impute_fixed_+3A_value">value</code></td>
<td>
<p>value to impute</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with a fixed values replaced
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vec &lt;- rnorm(10)

vec[sample(1:10, 3)] &lt;- NA

vec

impute_fixed(vec, -999)

library(dplyr)

dat &lt;- tibble(
  num = rnorm(10),
  int = rpois(10, 5),
  fct = factor(LETTERS[1:10])
) %&gt;%
  mutate(
    across(
      everything(),
      \(x) set_prop_miss(x, prop = 0.25)
    )
  )

dat

dat %&gt;%
  nabular() %&gt;%
  mutate(
    num = impute_fixed(num, -9999),
    int = impute_zero(int),
    fct = impute_factor(fct, "out")
  )

</code></pre>

<hr>
<h2 id='impute_mean'>Impute the mean value into a vector with missing values</h2><span id='topic+impute_mean'></span><span id='topic+impute_mean.default'></span><span id='topic+impute_mean.factor'></span>

<h3>Description</h3>

<p>This can be useful if you are imputing specific values, however we would
generally recommend to impute using other model based approaches. See
the <code>simputation</code> package, for example <code><a href="simputation.html#topic+impute_lm">simputation::impute_lm()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_mean(x)

## Default S3 method:
impute_mean(x)

## S3 method for class 'factor'
impute_mean(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_mean_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with mean values replaced
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(dplyr)
vec &lt;- rnorm(10)

vec[sample(1:10, 3)] &lt;- NA

impute_mean(vec)

dat &lt;- tibble(
  num = rnorm(10),
  int = as.integer(rpois(10, 5)),
  fct = factor(LETTERS[1:10])
) %&gt;%
  mutate(
    across(
      everything(),
      \(x) set_prop_miss(x, prop = 0.25)
    )
  )

dat

dat %&gt;%
  nabular() %&gt;%
  mutate(
    num = impute_mean(num),
    int = impute_mean(int),
    fct = impute_mean(fct),
  )

dat %&gt;%
  nabular() %&gt;%
  mutate(
    across(
      where(is.numeric),
      impute_mean
    )
  )

dat %&gt;%
  nabular() %&gt;%
  mutate(
    across(
      c("num", "int"),
      impute_mean
    )
  )

</code></pre>

<hr>
<h2 id='impute_median'>Impute the median value into a vector with missing values</h2><span id='topic+impute_median'></span><span id='topic+impute_median.default'></span><span id='topic+impute_median.factor'></span>

<h3>Description</h3>

<p>Impute the median value into a vector with missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_median(x)

## Default S3 method:
impute_median(x)

## S3 method for class 'factor'
impute_median(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_median_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with median values replaced
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vec &lt;- rnorm(10)

vec[sample(1:10, 3)] &lt;- NA

impute_median(vec)

library(dplyr)

dat &lt;- tibble(
  num = rnorm(10),
  int = as.integer(rpois(10, 5)),
  fct = factor(LETTERS[1:10])
) %&gt;%
  mutate(
    across(
      everything(),
      \(x) set_prop_miss(x, prop = 0.25)
    )
  )

dat

dat %&gt;%
  nabular() %&gt;%
  mutate(
    num = impute_median(num),
    int = impute_median(int),
  )

dat %&gt;%
  nabular() %&gt;%
  mutate(
    across(
      where(is.numeric),
      impute_median
    )
  )

dat %&gt;%
  nabular() %&gt;%
  mutate(
    across(
      c("num", "int"),
      impute_median
    )
 )

</code></pre>

<hr>
<h2 id='impute_mode'>Impute the mode value into a vector with missing values</h2><span id='topic+impute_mode'></span><span id='topic+impute_mode.default'></span><span id='topic+impute_mode.integer'></span><span id='topic+impute_mode.factor'></span>

<h3>Description</h3>

<p>Impute the mode value into a vector with missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_mode(x)

## Default S3 method:
impute_mode(x)

## S3 method for class 'integer'
impute_mode(x)

## S3 method for class 'factor'
impute_mode(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_mode_+3A_x">x</code></td>
<td>
<p>vector
</p>
<p>This approach adapts examples provided <a href="https://stackoverflow.com/questions/2547402/how-to-find-the-statistical-mode">from stack overflow</a>, and for the integer
case, just rounds the value. While this can be useful if you are
imputing specific values, however we would generally recommend to impute
using other model based approaches. See the <code>simputation</code> package, for
example <code><a href="simputation.html#topic+impute_lm">simputation::impute_lm()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with mode values replaced
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vec &lt;- rnorm(10)

vec[sample(1:10, 3)] &lt;- NA

impute_mode(vec)

library(dplyr)

dat &lt;- tibble(
  num = rnorm(10),
  int = rpois(10, 5),
  fct = factor(LETTERS[1:10])
) %&gt;%
  mutate(
    across(
      everything(),
      \(x) set_prop_miss(x, prop = 0.25)
    )
  )

dat


dat %&gt;%
  nabular() %&gt;%
  mutate(
    num = impute_mode(num),
    int = impute_mode(int),
    fct = impute_mode(fct)
  )


</code></pre>

<hr>
<h2 id='impute_zero'>Impute zero into a vector with missing values</h2><span id='topic+impute_zero'></span>

<h3>Description</h3>

<p>This can be useful if you are imputing specific values, however we would
generally recommend to impute using other model based approaches. See
the <code>simputation</code> package, for example <code><a href="simputation.html#topic+impute_lm">simputation::impute_lm()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_zero(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_zero_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with a fixed values replaced
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vec &lt;- rnorm(10)

vec[sample(1:10, 3)] &lt;- NA

vec

impute_zero(vec)

library(dplyr)

dat &lt;- tibble(
  num = rnorm(10),
  int = rpois(10, 5),
  fct = factor(LETTERS[1:10])
) %&gt;%
  mutate(
    across(
      everything(),
      \(x) set_prop_miss(x, prop = 0.25)
    )
  )

dat

dat %&gt;%
  nabular() %&gt;%
  mutate(
    num = impute_fixed(num, -9999),
    int = impute_zero(int),
    fct = impute_factor(fct, "out")
  )

</code></pre>

<hr>
<h2 id='is_shade'>Detect if this is a shade</h2><span id='topic+is_shade'></span><span id='topic+are_shade'></span><span id='topic+any_shade'></span>

<h3>Description</h3>

<p>This tells us if this column is a shade
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_shade(x)

are_shade(x)

any_shade(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_shade_+3A_x">x</code></td>
<td>
<p>a vector you want to test if is a shade</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical - is this a shade?
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
xs &lt;- shade(c(NA, 1, 2, "3"))

is_shade(xs)
are_shade(xs)
any_shade(xs)

aq_s &lt;- as_shadow(airquality)

is_shade(aq_s)
are_shade(aq_s)
any_shade(aq_s)
any_shade(airquality)


</code></pre>

<hr>
<h2 id='label_miss_1d'>Label a missing from one column</h2><span id='topic+label_miss_1d'></span>

<h3>Description</h3>

<p>Label whether a value is missing in a row of one columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_miss_1d(x1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_miss_1d_+3A_x1">x1</code></td>
<td>
<p>a variable of a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector indicating whether any of these rows had missing values
</p>


<h3>Note</h3>

<p>can we generalise label_miss to work for any number of variables?
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
label_miss_1d(airquality$Ozone)

</code></pre>

<hr>
<h2 id='label_miss_2d'>label_miss_2d</h2><span id='topic+label_miss_2d'></span>

<h3>Description</h3>

<p>Label whether a value is missing in either row of two columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_miss_2d(x1, x2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_miss_2d_+3A_x1">x1</code></td>
<td>
<p>a variable of a dataframe</p>
</td></tr>
<tr><td><code id="label_miss_2d_+3A_x2">x2</code></td>
<td>
<p>another variable of a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector indicating whether any of these rows had missing values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
label_miss_2d(airquality$Ozone, airquality$Solar.R)

</code></pre>

<hr>
<h2 id='label_missings'>Is there a missing value in the row of a dataframe?</h2><span id='topic+label_missings'></span>

<h3>Description</h3>

<p>Creates a character vector describing presence/absence of missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_missings(data, ..., missing = "Missing", complete = "Not Missing")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_missings_+3A_data">data</code></td>
<td>
<p>a dataframe or set of vectors of the same length</p>
</td></tr>
<tr><td><code id="label_missings_+3A_...">...</code></td>
<td>
<p>extra variable to label</p>
</td></tr>
<tr><td><code id="label_missings_+3A_missing">missing</code></td>
<td>
<p>character a label for when values are missing - defaults to &quot;Missing&quot;</p>
</td></tr>
<tr><td><code id="label_missings_+3A_complete">complete</code></td>
<td>
<p>character character a label for when values are complete - defaults to &quot;Not Missing&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector of &quot;Missing&quot; and &quot;Not Missing&quot;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
label_missings(airquality)

## Not run: 
library(dplyr)

airquality %&gt;%
  mutate(is_missing = label_missings(airquality)) %&gt;%
  head()

airquality %&gt;%
  mutate(is_missing = label_missings(airquality,
                                     missing = "definitely missing",
                                     complete = "absolutely complete")) %&gt;%
  head()

## End(Not run)
</code></pre>

<hr>
<h2 id='mcar_test'>Little's missing completely at random (MCAR) test</h2><span id='topic+mcar_test'></span>

<h3>Description</h3>

<p>Use Little's (1988) test statistic to assess if data is missing completely
at random (MCAR). The null hypothesis in this test is that the data is
MCAR, and the test statistic is a chi-squared value. The example below
shows the output of <code>mcar_test(airquality)</code>. Given the high statistic
value and low p-value, we can conclude the <code>airquality</code> data is not
missing completely at random.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcar_test(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcar_test_+3A_data">data</code></td>
<td>
<p>A data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble::tibble()</a></code> with one row and four columns:
</p>
<table>
<tr><td><code>statistic</code></td>
<td>
<p>Chi-squared statistic for Little's test</p>
</td></tr>
<tr><td><code>df</code></td>
<td>
<p>Degrees of freedom used for chi-squared statistic</p>
</td></tr>
<tr><td><code>p.value</code></td>
<td>
<p>P-value for the chi-squared statistic</p>
</td></tr>
<tr><td><code>missing.patterns</code></td>
<td>
<p>Number of missing data patterns in the data</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Code is adapted from LittleMCAR() in the now-orphaned <code>BaylorEdPsych</code>
package: <a href="https://rdrr.io/cran/BaylorEdPsych/man/LittleMCAR.html">https://rdrr.io/cran/BaylorEdPsych/man/LittleMCAR.html</a>. Some of
code is adapted from Eric Stemmler: <a href="https://web.archive.org/web/20201120030409/https://stats-bayes.com/post/2020/08/14/r-function-for-little-s-test-for-data-missing-completely-at-random/">https://web.archive.org/web/20201120030409/https://stats-bayes.com/post/2020/08/14/r-function-for-little-s-test-for-data-missing-completely-at-random/</a>
using Maximum likelihood estimation from <code>norm</code>.
</p>


<h3>Author(s)</h3>

<p>Andrew Heiss, <a href="mailto:andrew@andrewheiss.com">andrew@andrewheiss.com</a>
</p>


<h3>References</h3>

<p>Little, Roderick J. A. 1988. &quot;A Test of Missing Completely at
Random for Multivariate Data with Missing Values.&quot;
<em>Journal of the American Statistical Association</em> 83 (404):
1198&ndash;1202. <a href="https://doi.org/10.1080/01621459.1988.10478722">doi:10.1080/01621459.1988.10478722</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mcar_test(airquality)
mcar_test(oceanbuoys)

# If there are non-numeric columns, there will be a warning
mcar_test(riskfactors)

</code></pre>

<hr>
<h2 id='miss_case_cumsum'>Summarise the missingness in each case</h2><span id='topic+miss_case_cumsum'></span>

<h3>Description</h3>

<p>Provide a data.frame containing each case (row), the number and percent of
missing values in each case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_case_cumsum(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_case_cumsum_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble containing the number and percent of missing data in each
case
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_case_cumsum(airquality)

## Not run: 
library(dplyr)

airquality %&gt;%
  group_by(Month) %&gt;%
  miss_case_cumsum()

## End(Not run)
</code></pre>

<hr>
<h2 id='miss_case_summary'>Summarise the missingness in each case</h2><span id='topic+miss_case_summary'></span>

<h3>Description</h3>

<p>Provide a summary for each case in the data of the number, percent missings,
and cumulative sum of missings of the order of the variables. By default,
it orders by the most missings in each variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_case_summary(data, order = TRUE, add_cumsum = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_case_summary_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="miss_case_summary_+3A_order">order</code></td>
<td>
<p>a logical indicating whether or not to order the result by
n_miss. Defaults to TRUE. If FALSE, order of cases is the order input.</p>
</td></tr>
<tr><td><code id="miss_case_summary_+3A_add_cumsum">add_cumsum</code></td>
<td>
<p>logical indicating whether or not to add the cumulative
sum of missings to the data. This can be useful when exploring patterns
of nonresponse. These are calculated as the cumulative sum of the missings
in the variables as they are first presented to the function.</p>
</td></tr>
<tr><td><code id="miss_case_summary_+3A_...">...</code></td>
<td>
<p>extra arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of the percent of missing data in each case.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_case_summary(airquality)

## Not run: 
# works with group_by from dplyr
library(dplyr)
airquality %&gt;%
  group_by(Month) %&gt;%
  miss_case_summary()

## End(Not run)

</code></pre>

<hr>
<h2 id='miss_case_table'>Tabulate missings in cases.</h2><span id='topic+miss_case_table'></span>

<h3>Description</h3>

<p>Provide a tidy table of the number of cases with 0, 1, 2, up to n, missing
values and the proportion of the number of cases those cases make up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_case_table(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_case_table_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_case_table(airquality)
## Not run: 
library(dplyr)
airquality %&gt;%
  group_by(Month) %&gt;%
  miss_case_table()

## End(Not run)
</code></pre>

<hr>
<h2 id='miss_prop_summary'>Proportions of missings in data, variables, and cases.</h2><span id='topic+miss_prop_summary'></span>

<h3>Description</h3>

<p>Return missing data info about the dataframe, the variables, and the cases.
Specifically, returning how many elements in a dataframe contain a missing
value, how many elements in a variable contain a missing value, and how many
elements in a case contain a missing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_prop_summary(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_prop_summary_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_prop_summary(airquality)
## Not run: 
library(dplyr)
# respects dplyr::group_by
airquality %&gt;% group_by(Month) %&gt;% miss_prop_summary()

## End(Not run)

</code></pre>

<hr>
<h2 id='miss_scan_count'>Search and present different kinds of missing values</h2><span id='topic+miss_scan_count'></span>

<h3>Description</h3>

<p>Searching for different kinds of missing values is really annoying. If
you have values like -99 in your data, when they shouldn't be there,
or they should be encoded as missing, it can be difficult to ascertain
if they are there, and if so, where they are. <code>miss_scan_count</code> makes it
easier for users to search for particular occurrences of these values
across their variables. Note that the searches are done with regular
expressions, which are special ways of searching for text. See the
example below to see how to look for characters like <code style="white-space: pre;">&#8288;?&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_scan_count(data, search)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_scan_count_+3A_data">data</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="miss_scan_count_+3A_search">search</code></td>
<td>
<p>values to search for</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe of the occurrences of the values you searched for
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dat_ms &lt;- tibble::tribble(~x,  ~y,    ~z,  ~specials,
                         1,   "A",   -100, "?",
                         3,   "N/A", -99,  "!",
                         NA,  NA,    -98,  ".",
                         -99, "E",   -101, "*",
                         -98, "F",   -1,  "-")

miss_scan_count(dat_ms,-99)
miss_scan_count(dat_ms,c(-99,-98))
miss_scan_count(dat_ms,c("-99","-98","N/A"))
miss_scan_count(dat_ms, "\\?")
miss_scan_count(dat_ms, "\\!")
miss_scan_count(dat_ms, "\\.")
miss_scan_count(dat_ms, "\\*")
miss_scan_count(dat_ms, "-")
miss_scan_count(dat_ms,common_na_strings)


</code></pre>

<hr>
<h2 id='miss_summary'>Collate summary measures from naniar into one tibble</h2><span id='topic+miss_summary'></span>

<h3>Description</h3>

<p><code>miss_summary</code> performs all of the missing data helper summaries and puts
them into lists within a tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_summary(data, order = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_summary_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="miss_summary_+3A_order">order</code></td>
<td>
<p>whether or not to order the result by n_miss</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of missing data summaries
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
s_miss &lt;- miss_summary(airquality)
s_miss$miss_df_prop
s_miss$miss_case_table
s_miss$miss_var_summary
# etc, etc, etc.

## Not run: 
library(dplyr)
s_miss_group &lt;- group_by(airquality, Month) %&gt;% miss_summary()
s_miss_group$miss_df_prop
s_miss_group$miss_case_table
# etc, etc, etc.

## End(Not run)

</code></pre>

<hr>
<h2 id='miss_var_cumsum'>Cumulative sum of the number of missings in each variable</h2><span id='topic+miss_var_cumsum'></span>

<h3>Description</h3>

<p>Calculate the cumulative sum of number &amp; percentage of
missingness for each variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_var_cumsum(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_var_cumsum_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of the cumulative sum of missing data in each variable
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_var_cumsum(airquality)
## Not run: 
library(dplyr)

# respects dplyr::group_by

airquality %&gt;%
  group_by(Month) %&gt;%
  miss_var_cumsum()

## End(Not run)
</code></pre>

<hr>
<h2 id='miss_var_run'>Find the number of missing and complete values in a single run</h2><span id='topic+miss_var_run'></span>

<h3>Description</h3>

<p>It us useful to find the number of missing values that occur in a single run.
The function, <code>miss_var_run()</code>, returns a dataframe with the column names
&quot;run_length&quot; and &quot;is_na&quot;, which describe the length of the run, and
whether that run describes a missing value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_var_run(data, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_var_run_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="miss_var_run_+3A_var">var</code></td>
<td>
<p>a bare variable name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe with column names &quot;run_length&quot; and &quot;is_na&quot;, which describe
the length of the run, and whether that run describes a missing value.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_var_run(pedestrian, hourly_counts)

## Not run: 
# find the number of runs missing/complete for each month
library(dplyr)


pedestrian %&gt;%
  group_by(month) %&gt;%
  miss_var_run(hourly_counts)

library(ggplot2)

# explore the number of missings in a given run
miss_var_run(pedestrian, hourly_counts) %&gt;%
  filter(is_na == "missing") %&gt;%
  count(run_length) %&gt;%
  ggplot(aes(x = run_length,
             y = n)) +
      geom_col()

# look at the number of missing values and the run length of these.
miss_var_run(pedestrian, hourly_counts) %&gt;%
  ggplot(aes(x = is_na,
             y = run_length)) +
      geom_boxplot()

# using group_by
 pedestrian %&gt;%
   group_by(month) %&gt;%
   miss_var_run(hourly_counts)

## End(Not run)

</code></pre>

<hr>
<h2 id='miss_var_span'>Summarise the number of missings for a given repeating span on a variable</h2><span id='topic+miss_var_span'></span>

<h3>Description</h3>

<p>To summarise the missing values in a time series object it can be useful to
calculate the number of missing values in a given time period.
<code>miss_var_span</code> takes a data.frame object, a variable, and a <code>span_every</code>
argument and returns a dataframe containing the number of missing values
within each span. When the number of observations isn't a perfect
multiple of the span length, the final span is whatever the last
remainder is. For example, the <code>pedestrian</code> dataset has 37,700 rows. If
the span is set to 4000, then there will be 1700 rows remaining. This can
be provided using modulo (<code>%%</code>): <code>nrow(data) %% 4000</code>. This remainder
number is provided in <code>n_in_span</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_var_span(data, var, span_every)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_var_span_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="miss_var_span_+3A_var">var</code></td>
<td>
<p>bare unquoted variable name of interest.</p>
</td></tr>
<tr><td><code id="miss_var_span_+3A_span_every">span_every</code></td>
<td>
<p>integer describing the length of the span to be explored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe with variables <code>n_miss</code>, <code>n_complete</code>, <code>prop_miss</code>, and
<code>prop_complete</code>, which describe the number, or proportion of missing or
complete values within that given time span. The final variable,
<code>n_in_span</code> states how many observations are in the span.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_var_span(data = pedestrian,
             var = hourly_counts,
             span_every = 168)

## Not run: 
 library(dplyr)
 pedestrian %&gt;%
   group_by(month) %&gt;%
     miss_var_span(var = hourly_counts,
                   span_every = 168)

## End(Not run)
</code></pre>

<hr>
<h2 id='miss_var_summary'>Summarise the missingness in each variable</h2><span id='topic+miss_var_summary'></span>

<h3>Description</h3>

<p>Provide a summary for each variable of the number, percent missings, and
cumulative sum of missings of the order of the variables. By default,
it orders by the most missings in each variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_var_summary(data, order = FALSE, add_cumsum = FALSE, digits, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_var_summary_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="miss_var_summary_+3A_order">order</code></td>
<td>
<p>a logical indicating whether to order the result by <code>n_miss</code>.
Defaults to TRUE. If FALSE, order of variables is the order input.</p>
</td></tr>
<tr><td><code id="miss_var_summary_+3A_add_cumsum">add_cumsum</code></td>
<td>
<p>logical indicating whether or not to add the cumulative
sum of missings to the data. This can be useful when exploring patterns
of nonresponse. These are calculated as the cumulative sum of the missings
in the variables as they are first presented to the function.</p>
</td></tr>
<tr><td><code id="miss_var_summary_+3A_digits">digits</code></td>
<td>
<p>how many digits to display in <code>pct_miss</code> column. Useful when
you are working with small amounts of missing data.</p>
</td></tr>
<tr><td><code id="miss_var_summary_+3A_...">...</code></td>
<td>
<p>extra arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble of the percent of missing data in each variable
</p>


<h3>Note</h3>

<p><code>n_miss_cumsum</code> is calculated as the cumulative sum of missings in the
variables in the order that they are given in the data when entering
the function
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_var_summary(airquality)
miss_var_summary(oceanbuoys, order = TRUE)

## Not run: 
# works with group_by from dplyr
library(dplyr)
airquality %&gt;%
  group_by(Month) %&gt;%
  miss_var_summary()

## End(Not run)
</code></pre>

<hr>
<h2 id='miss_var_table'>Tabulate the missings in the variables</h2><span id='topic+miss_var_table'></span>

<h3>Description</h3>

<p>Provide a tidy table of the number of variables with 0, 1, 2, up to n,
missing values and the proportion of the number of variables those
variables make up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_var_table(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_var_table_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
miss_var_table(airquality)
## Not run: 
library(dplyr)
airquality %&gt;%
  group_by(Month) %&gt;%
  miss_var_table()

## End(Not run)
</code></pre>

<hr>
<h2 id='miss_var_which'>Which variables contain missing values?</h2><span id='topic+miss_var_which'></span>

<h3>Description</h3>

<p>It can be helpful when writing other functions to just return the names
of the variables that contain missing values. <code>miss_var_which</code> returns a
vector of variable names that contain missings. It will return NULL when
there are no missings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_var_which(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss_var_which_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector of variable names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>miss_var_which(airquality)

miss_var_which(mtcars)

</code></pre>

<hr>
<h2 id='miss-pct-prop-defunct'>Proportion of variables containing missings or complete values</h2><span id='topic+miss-pct-prop-defunct'></span><span id='topic+miss_var_prop'></span><span id='topic+complete_var_prop'></span><span id='topic+miss_var_pct'></span><span id='topic+complete_var_pct'></span><span id='topic+miss_case_prop'></span><span id='topic+complete_case_prop'></span><span id='topic+miss_case_pct'></span><span id='topic+complete_case_pct'></span>

<h3>Description</h3>

<p>Defunct. Please see <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code>, <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code>, <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code>, <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code>, <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code>, <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code>, <code><a href="#topic+pct_miss_case">pct_miss_case()</a></code>, <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss_var_prop(...)

complete_var_prop(...)

miss_var_pct(...)

complete_var_pct(...)

miss_case_prop(...)

complete_case_prop(...)

miss_case_pct(...)

complete_case_pct(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss-pct-prop-defunct_+3A_...">...</code></td>
<td>
<p>arguments</p>
</td></tr>
</table>

<hr>
<h2 id='n_complete'>Return the number of complete values</h2><span id='topic+n_complete'></span>

<h3>Description</h3>

<p>A complement to <code>n_miss</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_complete(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_complete_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric number of complete values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
n_complete(airquality)
n_complete(airquality$Ozone)

</code></pre>

<hr>
<h2 id='n_complete_row'>Return a vector of the number of complete values in each row</h2><span id='topic+n_complete_row'></span>

<h3>Description</h3>

<p>Substitute for <code>rowSums(!is.na(data))</code> but it also checks if input is NULL or
is a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_complete_row(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_complete_row_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of the number of complete values in each row
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
n_complete_row(airquality)

</code></pre>

<hr>
<h2 id='n_miss'>Return the number of missing values</h2><span id='topic+n_miss'></span>

<h3>Description</h3>

<p>Substitute for <code>sum(is.na(data))</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_miss(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_miss_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric the number of missing values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
n_miss(airquality)
n_miss(airquality$Ozone)

</code></pre>

<hr>
<h2 id='n_miss_row'>Return a vector of the number of missing values in each row</h2><span id='topic+n_miss_row'></span>

<h3>Description</h3>

<p>Substitute for <code>rowSums(is.na(data))</code>, but it also checks if input is NULL or
is a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_miss_row(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_miss_row_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of the number of missing values in each row
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
n_miss_row(airquality)

</code></pre>

<hr>
<h2 id='n-var-case-complete'>The number of variables with complete values</h2><span id='topic+n-var-case-complete'></span><span id='topic+n_var_complete'></span><span id='topic+n_case_complete'></span>

<h3>Description</h3>

<p>This function calculates the number of variables that contain a complete value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_var_complete(data)

n_case_complete(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n-var-case-complete_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer number of complete values
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n_var_miss">n_var_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# how many variables contain complete values?
n_var_complete(airquality)
n_case_complete(airquality)

</code></pre>

<hr>
<h2 id='n-var-case-miss'>The number of variables or cases with missing values</h2><span id='topic+n-var-case-miss'></span><span id='topic+n_var_miss'></span><span id='topic+n_case_miss'></span>

<h3>Description</h3>

<p>This function calculates the number of variables or cases that contain a missing value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_var_miss(data)

n_case_miss(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n-var-case-miss_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer, number of missings
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n_var_complete">n_var_complete()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># how many variables contain missing values?
n_var_miss(airquality)
n_case_miss(airquality)

</code></pre>

<hr>
<h2 id='nabular'>Convert data into nabular form by binding shade to it</h2><span id='topic+nabular'></span>

<h3>Description</h3>

<p>Binding a shadow matrix to a regular dataframe converts it into nabular data,
which makes it easier to visualise and work with missing data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nabular(data, only_miss = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nabular_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="nabular_+3A_only_miss">only_miss</code></td>
<td>
<p>logical - if FALSE (default) it will bind a dataframe with
all of the variables duplicated with their shadow. Setting this to TRUE
will bind variables only those variables that contain missing values.
See the examples for more details.</p>
</td></tr>
<tr><td><code id="nabular_+3A_...">...</code></td>
<td>
<p>extra options to pass to <code><a href="#topic+recode_shadow">recode_shadow()</a></code> - a work in progress.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data with the added variable shifted and the suffix <code style="white-space: pre;">&#8288;_NA&#8288;</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bind_shadow">bind_shadow()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
aq_nab &lt;- nabular(airquality)
aq_s &lt;- bind_shadow(airquality)

all.equal(aq_nab, aq_s)

</code></pre>

<hr>
<h2 id='naniar'>naniar</h2><span id='topic+naniar-package'></span><span id='topic+naniar'></span>

<h3>Description</h3>

<p>naniar is a package to make it easier to summarise and handle missing values
in R. It strives to do this in a way that is as consistent with tidyverse
principles as possible.  The work is fully discussed at Tierney &amp; Cook (2023)
<a href="doi:10.18637/jss.v105.i07">doi:10.18637/jss.v105.i07</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Nicholas Tierney <a href="mailto:nicholas.tierney@gmail.com">nicholas.tierney@gmail.com</a> (<a href="https://orcid.org/0000-0003-1460-8722">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Di Cook <a href="mailto:dicook@monash.edu">dicook@monash.edu</a> (<a href="https://orcid.org/0000-0002-3813-7155">ORCID</a>)
</p>
</li>
<li><p> Miles McBain <a href="mailto:miles.mcbain@gmail.com">miles.mcbain@gmail.com</a> (<a href="https://orcid.org/0000-0003-2865-2548">ORCID</a>)
</p>
</li>
<li><p> Colin Fay <a href="mailto:contact@colinfay.me">contact@colinfay.me</a> (<a href="https://orcid.org/0000-0001-7343-1846">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Mitchell O'Hara-Wild [contributor]
</p>
</li>
<li><p> Jim Hester <a href="mailto:james.f.hester@gmail.com">james.f.hester@gmail.com</a> [contributor]
</p>
</li>
<li><p> Luke Smith [contributor]
</p>
</li>
<li><p> Andrew Heiss <a href="mailto:andrew@andrewheiss.com">andrew@andrewheiss.com</a> (<a href="https://orcid.org/0000-0002-3948-3914">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+add_any_miss">add_any_miss()</a></code> <code><a href="#topic+add_label_missings">add_label_missings()</a></code> <code><a href="#topic+add_label_shadow">add_label_shadow()</a></code> <code><a href="#topic+add_miss_cluster">add_miss_cluster()</a></code> <code><a href="#topic+add_n_miss">add_n_miss()</a></code> <code><a href="#topic+add_prop_miss">add_prop_miss()</a></code> <code><a href="#topic+add_shadow">add_shadow()</a></code> <code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+as_shadow">as_shadow()</a></code> <code><a href="#topic+bind_shadow">bind_shadow()</a></code> <code><a href="#topic+cast_shadow">cast_shadow()</a></code> <code><a href="#topic+cast_shadow_shift">cast_shadow_shift()</a></code> <code><a href="#topic+cast_shadow_shift_label">cast_shadow_shift_label()</a></code> <code><a href="#topic+draw_key_missing_point">draw_key_missing_point()</a></code> <code><a href="#topic+gather_shadow">gather_shadow()</a></code> <code><a href="#topic+geom_miss_point">geom_miss_point()</a></code> <code><a href="#topic+gg_miss_case">gg_miss_case()</a></code> <code><a href="#topic+gg_miss_case_cumsum">gg_miss_case_cumsum()</a></code> <code><a href="#topic+gg_miss_fct">gg_miss_fct()</a></code> <code><a href="#topic+gg_miss_span">gg_miss_span()</a></code> <code><a href="#topic+gg_miss_var">gg_miss_var()</a></code> <code><a href="#topic+gg_miss_var_cumsum">gg_miss_var_cumsum()</a></code> <code><a href="#topic+gg_miss_which">gg_miss_which()</a></code> <code><a href="#topic+label_miss_1d">label_miss_1d()</a></code> <code><a href="#topic+label_miss_2d">label_miss_2d()</a></code> <code><a href="#topic+label_missings">label_missings()</a></code> <code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code> <code><a href="#topic+prop_miss_row">prop_miss_row()</a></code> <code><a href="#topic+replace_to_na">replace_to_na()</a></code> <code><a href="#topic+replace_with_na">replace_with_na()</a></code> <code><a href="#topic+replace_with_na_all">replace_with_na_all()</a></code> <code><a href="#topic+replace_with_na_at">replace_with_na_at()</a></code> <code><a href="#topic+replace_with_na_if">replace_with_na_if()</a></code> <code><a href="#topic+shadow_shift">shadow_shift()</a></code> <code><a href="#topic+stat_miss_point">stat_miss_point()</a></code> <code><a href="#topic+vis_miss">vis_miss()</a></code> <code><a href="#topic+where_na">where_na()</a></code>
</p>

<hr>
<h2 id='oceanbuoys'>West Pacific Tropical Atmosphere Ocean Data, 1993 &amp; 1997.</h2><span id='topic+oceanbuoys'></span>

<h3>Description</h3>

<p>Real-time data from moored ocean buoys for improved detection, understanding
and prediction of El Ni'o and La Ni'a. The data is collected by the
Tropical Atmosphere Ocean project
(<a href="https://www.pmel.noaa.gov/gtmba/pmel-theme/pacific-ocean-tao">https://www.pmel.noaa.gov/gtmba/pmel-theme/pacific-ocean-tao</a>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(oceanbuoys)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 736 rows and 8 columns.
</p>


<h3>Details</h3>

<p>Format: a data frame with 736 observations on the following 8
variables.
</p>

<dl>
<dt><code>year</code></dt><dd><p>A numeric with levels <code>1993</code> <code>1997</code>.</p>
</dd>
<dt><code>latitude</code></dt><dd><p>A numeric with levels <code>-5</code>  <code>-2</code> <code>0</code>.</p>
</dd>
<dt><code>longitude</code></dt><dd><p>A numeric with levels <code>-110</code> <code>-95</code>.</p>
</dd>
<dt><code>sea_temp_c</code></dt><dd><p>Sea surface temperature(degree Celsius),  measured
by the TAO buoys at one meter below the surface.</p>
</dd>
<dt><code>air_temp_c</code></dt><dd><p>Air temperature(degree Celsius), measured by the
TAO buoys three meters above the sea surface.</p>
</dd>
<dt><code>humidity</code></dt><dd><p>Relative humidity(%), measured by the TAO buoys 3
meters above the sea surface.</p>
</dd>
<dt><code>wind_ew</code></dt><dd><p>The East-West wind vector components(M/s).  TAO buoys
measure the wind speed and direction four meters above the sea surface.
If it is positive, the East-West component of the wind is blowing towards
the East. If it is negative, this component is blowing towards the West.</p>
</dd>
<dt><code>wind_ns</code></dt><dd><p>The North-South wind vector components(M/s). TAO
buoys measure the wind speed and direction four meters above the sea
surface. If it is positive, the North-South component of the wind is
blowing towards the North. If it is negative, this component is blowing
towards the South.</p>
</dd></dl>



<h3>Source</h3>

<p><a href="https://www.pmel.noaa.gov/tao/drupal/disdel/">https://www.pmel.noaa.gov/tao/drupal/disdel/</a>
</p>


<h3>See Also</h3>

<p>library(MissingDataGUI) (data named &quot;tao&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vis_miss(oceanbuoys)

# Look at the missingness in the variables
miss_var_summary(oceanbuoys)
## Not run: 
# Look at the missingness in air temperature and humidity
library(ggplot2)
p &lt;-
ggplot(oceanbuoys,
       aes(x = air_temp_c,
           y = humidity)) +
     geom_miss_point()

 p

 # for each year?
 p + facet_wrap(~year)

 # this shows that there are more missing values in humidity in 1993, and
 # more air temperature missing values in 1997

 # see more examples in the vignette, "getting started with naniar".

## End(Not run)
</code></pre>

<hr>
<h2 id='pct_complete'>Return the percent of complete values</h2><span id='topic+pct_complete'></span>

<h3>Description</h3>

<p>The complement to <code>pct_miss</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pct_complete(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pct_complete_+3A_x">x</code></td>
<td>
<p>vector or data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric percent of complete values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pct_complete(airquality)
pct_complete(airquality$Ozone)

</code></pre>

<hr>
<h2 id='pct_miss'>Return the percent of missing values</h2><span id='topic+pct_miss'></span>

<h3>Description</h3>

<p>This is shorthand for <code>mean(is.na(x)) * 100</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pct_miss(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pct_miss_+3A_x">x</code></td>
<td>
<p>vector or data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric the percent of missing values in x
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pct_miss(airquality)
pct_miss(airquality$Ozone)

</code></pre>

<hr>
<h2 id='pct-miss-complete-case'>Percentage of cases that contain a missing or complete values.</h2><span id='topic+pct-miss-complete-case'></span><span id='topic+pct_miss_case'></span><span id='topic+pct_complete_case'></span>

<h3>Description</h3>

<p>Calculate the percentage of cases (rows) that contain a missing or complete
value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pct_miss_case(data)

pct_complete_case(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pct-miss-complete-case_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric the percentage of cases that contain a missing or complete
value
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pct_miss_case(airquality)
pct_complete_case(airquality)

</code></pre>

<hr>
<h2 id='pct-miss-complete-var'>Percentage of variables containing missings or complete values</h2><span id='topic+pct-miss-complete-var'></span><span id='topic+pct_miss_var'></span><span id='topic+pct_complete_var'></span>

<h3>Description</h3>

<p>Calculate the percentage of variables that contain a single missing or
complete value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pct_miss_var(data)

pct_complete_var(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pct-miss-complete-var_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric the percent of variables that contain missing or complete
data
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
prop_miss_var(airquality)
prop_complete_var(airquality)

</code></pre>

<hr>
<h2 id='pedestrian'>Pedestrian count information around Melbourne for 2016</h2><span id='topic+pedestrian'></span>

<h3>Description</h3>

<p>This dataset contains hourly counts of pedestrians from 4 sensors around
Melbourne: Birrarung Marr, Bourke Street Mall, Flagstaff station, and
Spencer St-Collins St (south), recorded from January 1st 2016 at 00:00:00
to December 31st 2016 at 23:00:00. The data is made free and publicly
available from <a href="https://data.melbourne.vic.gov.au/explore/dataset/pedestrian-counting-system-monthly-counts-per-hour/information/">https://data.melbourne.vic.gov.au/explore/dataset/pedestrian-counting-system-monthly-counts-per-hour/information/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(pedestrian)
</code></pre>


<h3>Format</h3>

<p>A tibble with 37,700 rows and 9 variables:
</p>

<dl>
<dt>hourly_counts</dt><dd><p>(integer) the number of pedestrians counted at that sensor
at that time</p>
</dd>
<dt>date_time</dt><dd><p>(POSIXct, POSIXt) The time that the count was taken</p>
</dd>
<dt>year</dt><dd><p>(integer) Year of record</p>
</dd>
<dt>month</dt><dd><p>(factor) Month of record as an ordered factor (1 = January, 12 =
December)</p>
</dd>
<dt>month_day</dt><dd><p>(integer) Full day of the month</p>
</dd>
<dt>week_day</dt><dd><p>(factor) Full day of the week as an ordered factor (1 = Sunday,
7 = Saturday)</p>
</dd>
<dt>hour</dt><dd><p>(integer) The hour of the day in 24 hour format</p>
</dd>
<dt>sensor_id</dt><dd><p>(integer) the id of the sensor</p>
</dd>
<dt>sensor_name</dt><dd><p>(character) the full name of the sensor</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://data.melbourne.vic.gov.au/explore/dataset/pedestrian-counting-system-monthly-counts-per-hour/information/">https://data.melbourne.vic.gov.au/explore/dataset/pedestrian-counting-system-monthly-counts-per-hour/information/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># explore the missingness with vis_miss

vis_miss(pedestrian)

# Look at the missingness in the variables
miss_var_summary(pedestrian)

## Not run: 
# There is only missingness in hourly_counts
# Look at the missingness over a rolling window
library(ggplot2)
gg_miss_span(pedestrian, hourly_counts, span_every = 3000)

## End(Not run)
</code></pre>

<hr>
<h2 id='plotly_helpers'>Plotly helpers (Convert a geom to a &quot;basic&quot; geom.)</h2><span id='topic+plotly_helpers'></span><span id='topic+to_basic.GeomMissPoint'></span>

<h3>Description</h3>

<p>Helper functions to make it easier to automatically create
plotly charts. This function makes it possible to convert ggplot2 geoms
that are not included with ggplot2 itself. Users shouldn't need to use this
function. It exists purely to allow other package authors to write their
own conversion method(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_basic.GeomMissPoint(data, prestats_data, layout, params, p, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotly_helpers_+3A_data">data</code></td>
<td>
<p>the data returned by <code>ggplot2::ggplot_build()</code>.</p>
</td></tr>
<tr><td><code id="plotly_helpers_+3A_prestats_data">prestats_data</code></td>
<td>
<p>the data before statistics are computed.</p>
</td></tr>
<tr><td><code id="plotly_helpers_+3A_layout">layout</code></td>
<td>
<p>the panel layout.</p>
</td></tr>
<tr><td><code id="plotly_helpers_+3A_params">params</code></td>
<td>
<p>parameters for the geom, statistic, and 'constant' aesthetics</p>
</td></tr>
<tr><td><code id="plotly_helpers_+3A_p">p</code></td>
<td>
<p>a ggplot2 object (the conversion may depend on scales, for
instance).</p>
</td></tr>
<tr><td><code id="plotly_helpers_+3A_...">...</code></td>
<td>
<p>currently ignored</p>
</td></tr>
</table>

<hr>
<h2 id='prop_complete'>Return the proportion of complete values</h2><span id='topic+prop_complete'></span>

<h3>Description</h3>

<p>The complement to <code>prop_miss</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_complete(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop_complete_+3A_x">x</code></td>
<td>
<p>vector or data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric proportion of complete values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
prop_complete(airquality)
prop_complete(airquality$Ozone)

</code></pre>

<hr>
<h2 id='prop_complete_row'>Return a vector of the proportion of missing values in each row</h2><span id='topic+prop_complete_row'></span>

<h3>Description</h3>

<p>Substitute for <code>rowMeans(!is.na(data))</code>, but it also checks if input is NULL or
is a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_complete_row(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop_complete_row_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of the proportion of missing values in each row
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
prop_complete_row(airquality)

</code></pre>

<hr>
<h2 id='prop_miss'>Return the proportion of missing values</h2><span id='topic+prop_miss'></span>

<h3>Description</h3>

<p>This is shorthand for <code>mean(is.na(x))</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_miss(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop_miss_+3A_x">x</code></td>
<td>
<p>vector or data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric the proportion of missing values in x
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
prop_miss(airquality)
prop_miss(airquality$Ozone)

</code></pre>

<hr>
<h2 id='prop_miss_row'>Return a vector of the proportion of missing values in each row</h2><span id='topic+prop_miss_row'></span>

<h3>Description</h3>

<p>Substitute for <code>rowMeans(is.na(data))</code>, but it also checks if input is NULL or
is a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_miss_row(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop_miss_row_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of the proportion of missing values in each row
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code> <code><a href="#topic+n_complete">n_complete()</a></code> <code><a href="#topic+n_complete_row">n_complete_row()</a></code> <code><a href="#topic+n_miss">n_miss()</a></code> <code><a href="#topic+n_miss_row">n_miss_row()</a></code> <code><a href="#topic+pct_complete">pct_complete()</a></code> <code><a href="#topic+pct_miss">pct_miss()</a></code> <code><a href="#topic+prop_complete">prop_complete()</a></code> <code><a href="#topic+prop_complete_row">prop_complete_row()</a></code> <code><a href="#topic+prop_miss">prop_miss()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
prop_miss_row(airquality)

</code></pre>

<hr>
<h2 id='prop-miss-complete-case'>Proportion of cases that contain a missing or complete values.</h2><span id='topic+prop-miss-complete-case'></span><span id='topic+prop_miss_case'></span><span id='topic+prop_complete_case'></span>

<h3>Description</h3>

<p>Calculate the proportion of cases (rows) that contain missing or complete
values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_miss_case(data)

prop_complete_case(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop-miss-complete-case_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric the proportion of cases that contain a missing or complete
value
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
prop_miss_case(airquality)
prop_complete_case(airquality)

</code></pre>

<hr>
<h2 id='prop-miss-complete-var'>Proportion of variables containing missings or complete values</h2><span id='topic+prop-miss-complete-var'></span><span id='topic+prop_miss_var'></span><span id='topic+prop_complete_var'></span>

<h3>Description</h3>

<p>Calculate the proportion of variables that contain a single missing or
complete values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_miss_var(data)

prop_complete_var(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop-miss-complete-var_+3A_data">data</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric the proportion of variables that contain missing or complete
data
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pct_miss_case">pct_miss_case()</a></code> <code><a href="#topic+prop_miss_case">prop_miss_case()</a></code> <code><a href="#topic+pct_miss_var">pct_miss_var()</a></code> <code><a href="#topic+prop_miss_var">prop_miss_var()</a></code> <code><a href="#topic+pct_complete_case">pct_complete_case()</a></code> <code><a href="#topic+prop_complete_case">prop_complete_case()</a></code> <code><a href="#topic+pct_complete_var">pct_complete_var()</a></code> <code><a href="#topic+prop_complete_var">prop_complete_var()</a></code> <code><a href="#topic+miss_prop_summary">miss_prop_summary()</a></code> <code><a href="#topic+miss_case_summary">miss_case_summary()</a></code> <code><a href="#topic+miss_case_table">miss_case_table()</a></code> <code><a href="#topic+miss_summary">miss_summary()</a></code> <code><a href="#topic+miss_var_prop">miss_var_prop()</a></code> <code><a href="#topic+miss_var_run">miss_var_run()</a></code> <code><a href="#topic+miss_var_span">miss_var_span()</a></code> <code><a href="#topic+miss_var_summary">miss_var_summary()</a></code> <code><a href="#topic+miss_var_table">miss_var_table()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
prop_miss_var(airquality)
prop_complete_var(airquality)

</code></pre>

<hr>
<h2 id='recode_shadow'>Add special missing values to the shadow matrix</h2><span id='topic+recode_shadow'></span><span id='topic+recode_shadow.data.frame'></span><span id='topic+recode_shadow.grouped_df'></span>

<h3>Description</h3>

<p>It can be useful to add special missing values, naniar supports this with
the <code>recode_shadow</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recode_shadow(data, ...)

## S3 method for class 'data.frame'
recode_shadow(data, ...)

## S3 method for class 'grouped_df'
recode_shadow(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recode_shadow_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="recode_shadow_+3A_...">...</code></td>
<td>
<p>A sequence of two-sided formulas as in dplyr::case_when,
but when a wrapper function <code>.where</code> written around it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with altered shadows
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df &lt;- tibble::tribble(
~wind, ~temp,
-99,    45,
68,    NA,
72,    25
)

dfs &lt;- bind_shadow(df)

dfs

recode_shadow(dfs, temp = .where(wind == -99 ~ "bananas"))

recode_shadow(dfs,
              temp = .where(wind == -99 ~ "bananas")) %&gt;%
recode_shadow(wind = .where(wind == -99 ~ "apples"))

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+vis_miss'></span><span id='topic++25+3E+25'></span><span id='topic+is_na'></span><span id='topic+are_na'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic+pipe">%&gt;%</a></code></p>
</dd>
<dt>rlang</dt><dd><p><code><a href="rlang.html#topic+are_na">are_na</a></code>, <code><a href="rlang.html#topic+are_na">is_na</a></code></p>
</dd>
<dt>visdat</dt><dd><p><code><a href="visdat.html#topic+vis_miss">vis_miss</a></code></p>
</dd>
</dl>

<hr>
<h2 id='replace_na_with'>Replace NA value with provided value</h2><span id='topic+replace_na_with'></span>

<h3>Description</h3>

<p>This function helps you replace NA values with a single provided value.
This can be classed as a kind of imputation, and is powered by
<code><a href="#topic+impute_fixed">impute_fixed()</a></code>. However, we would generally recommend to impute using
other model based approaches. See the <code>simputation</code> package, for example
<code><a href="simputation.html#topic+impute_lm">simputation::impute_lm()</a></code>. See <code><a href="tidyr.html#topic+replace_na">tidyr::replace_na()</a></code> for a slightly
different approach, <code><a href="dplyr.html#topic+coalesce">dplyr::coalesce()</a></code> for replacing NAs with values from
other vectors, and <code><a href="dplyr.html#topic+na_if">dplyr::na_if()</a></code> to replace specified values with NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_na_with(x, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_na_with_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
<tr><td><code id="replace_na_with_+3A_value">value</code></td>
<td>
<p>value to replace</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with replaced values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(naniar)
x &lt;- c(1:5, NA, NA, NA)
x
replace_na_with(x, 0L)
replace_na_with(x, "unknown")

library(dplyr)
dat &lt;- tibble(
  ones = c(NA,1,1),
  twos = c(NA,NA, 2),
  threes = c(NA, NA, NA)
)

dat

dat %&gt;%
  mutate(
    ones = replace_na_with(ones, 0),
    twos = replace_na_with(twos, -99),
    threes = replace_na_with(threes, "unknowns")
  )

dat %&gt;%
  mutate(
    across(
      everything(),
      \(x) replace_na_with(x, -99)
    )
  )

</code></pre>

<hr>
<h2 id='replace_to_na'>Replace values with missings</h2><span id='topic+replace_to_na'></span>

<h3>Description</h3>

<p>This function is Defunct, please see <code><a href="#topic+replace_with_na">replace_with_na()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_to_na(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_to_na_+3A_...">...</code></td>
<td>
<p>additional arguments for methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>values replaced by NA
</p>

<hr>
<h2 id='replace_with_na'>Replace values with missings</h2><span id='topic+replace_with_na'></span>

<h3>Description</h3>

<p>Specify variables and their values that you want to convert to missing values.
This is a complement to <code>tidyr::replace_na</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_with_na(data, replace = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_with_na_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
<tr><td><code id="replace_with_na_+3A_replace">replace</code></td>
<td>
<p>A named list given the NA to replace values for each column</p>
</td></tr>
<tr><td><code id="replace_with_na_+3A_...">...</code></td>
<td>
<p>additional arguments for methods. Currently unused</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe with values replaced by NA.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+replace_with_na">replace_with_na()</a></code> <code><a href="#topic+replace_with_na_all">replace_with_na_all()</a></code> <code><a href="#topic+replace_with_na_at">replace_with_na_at()</a></code> <code><a href="#topic+replace_with_na_if">replace_with_na_if()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dat_ms &lt;- tibble::tribble(~x,  ~y,    ~z,
                         1,   "A",   -100,
                         3,   "N/A", -99,
                         NA,  NA,    -98,
                         -99, "E",   -101,
                         -98, "F",   -1)

replace_with_na(dat_ms,
               replace = list(x = -99))

replace_with_na(dat_ms,
             replace = list(x = c(-99, -98)))

replace_with_na(dat_ms,
             replace = list(x = c(-99, -98),
                          y = c("N/A"),
                          z = c(-101)))
</code></pre>

<hr>
<h2 id='replace_with_na_all'>Replace all values with NA where a certain condition is met</h2><span id='topic+replace_with_na_all'></span>

<h3>Description</h3>

<p>This function takes a dataframe and replaces all values that meet the
condition specified as an NA value, following a special syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_with_na_all(data, condition)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_with_na_all_+3A_data">data</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="replace_with_na_all_+3A_condition">condition</code></td>
<td>
<p>A condition required to be TRUE to set NA. Here, the condition
is specified with a formula, following the syntax: <code style="white-space: pre;">&#8288;~.x {condition}&#8288;</code>.
For example, writing <code>~.x &lt; 20</code> would mean &quot;where a variable value is less
than 20, replace with NA&quot;.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>dat_ms &lt;- tibble::tribble(~x,  ~y,    ~z,
                          1,   "A",   -100,
                          3,   "N/A", -99,
                          NA,  NA,    -98,
                          -99, "E",   -101,
                          -98, "F",   -1)

dat_ms
#replace all instances of -99 with NA
replace_with_na_all(data = dat_ms,
                    condition = ~.x == -99)

# replace all instances of -99 or -98, or "N/A" with NA
replace_with_na_all(dat_ms,
                    condition = ~.x %in% c(-99, -98, "N/A"))
# replace all instances of common na strings
replace_with_na_all(dat_ms,
                    condition = ~.x %in% common_na_strings)

# where works with functions
replace_with_na_all(airquality, ~ sqrt(.x) &lt; 5)

</code></pre>

<hr>
<h2 id='replace_with_na_at'>Replace specified variables with NA where a certain condition is met</h2><span id='topic+replace_with_na_at'></span>

<h3>Description</h3>

<p>Replace specified variables with NA where a certain condition is met
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_with_na_at(data, .vars, condition)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_with_na_at_+3A_data">data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="replace_with_na_at_+3A_.vars">.vars</code></td>
<td>
<p>A character string of variables to replace with NA values</p>
</td></tr>
<tr><td><code id="replace_with_na_at_+3A_condition">condition</code></td>
<td>
<p>A condition required to be TRUE to set NA. Here, the condition
is specified with a formula, following the syntax: <code style="white-space: pre;">&#8288;~.x {condition}&#8288;</code>.
For example, writing <code>~.x &lt; 20</code> would mean &quot;where a variable value is less
than 20, replace with NA&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dat_ms &lt;- tibble::tribble(~x,  ~y,    ~z,
                          1,   "A",   -100,
                          3,   "N/A", -99,
                          NA,  NA,    -98,
                          -99, "E",   -101,
                          -98, "F",   -1)

dat_ms

replace_with_na_at(data = dat_ms,
                 .vars = "x",
                 condition = ~.x == -99)

replace_with_na_at(data = dat_ms,
                 .vars = c("x","z"),
                 condition = ~.x == -99)

# replace using values in common_na_strings
replace_with_na_at(data = dat_ms,
                 .vars = c("x","z"),
                 condition = ~.x %in% common_na_strings)


</code></pre>

<hr>
<h2 id='replace_with_na_if'>Replace values with NA based on some condition, for variables that meet some predicate</h2><span id='topic+replace_with_na_if'></span>

<h3>Description</h3>

<p>Replace values with NA based on some condition, for variables that meet some predicate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_with_na_if(data, .predicate, condition)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_with_na_if_+3A_data">data</code></td>
<td>
<p>Dataframe</p>
</td></tr>
<tr><td><code id="replace_with_na_if_+3A_.predicate">.predicate</code></td>
<td>
<p>A predicate function to be applied to the columns or a
logical vector.</p>
</td></tr>
<tr><td><code id="replace_with_na_if_+3A_condition">condition</code></td>
<td>
<p>A condition required to be TRUE to set NA. Here, the condition
is specified with a formula, following the syntax: <code style="white-space: pre;">&#8288;~.x {condition}&#8288;</code>.
For example, writing <code>~.x &lt; 20</code> would mean &quot;where a variable value is less
than 20, replace with NA&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dat_ms &lt;- tibble::tribble(~x,  ~y,    ~z,
                          1,   "A",   -100,
                          3,   "N/A", -99,
                          NA,  NA,    -98,
                          -99, "E",   -101,
                          -98, "F",   -1)

dat_ms

replace_with_na_if(data = dat_ms,
                 .predicate = is.character,
                 condition = ~.x == "N/A")
replace_with_na_if(data = dat_ms,
                   .predicate = is.character,
                   condition = ~.x %in% common_na_strings)

replace_with_na(dat_ms,
              to_na = list(x = c(-99, -98),
                           y = c("N/A"),
                           z = c(-101)))


</code></pre>

<hr>
<h2 id='riskfactors'>The Behavioral Risk Factor Surveillance System (BRFSS) Survey
Data, 2009.</h2><span id='topic+riskfactors'></span>

<h3>Description</h3>

<p>The data is a subset of the 2009 survey from BRFSS, an ongoing data
collection program designed to measure behavioral risk factors for the
adult population (18 years of age or older) living in households.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(riskfactors)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 245 rows and 34 columns.
</p>


<h3>Source</h3>

<p><a href="https://www.cdc.gov/brfss/annual_data/annual_2009.htm">https://www.cdc.gov/brfss/annual_data/annual_2009.htm</a>
</p>


<h3>See Also</h3>

<p>the codebook:
<a href="https://www.cdc.gov/brfss/annual_data/annual_2009.htm">https://www.cdc.gov/brfss/annual_data/annual_2009.htm</a>
</p>
<p>Format: a data frame with 245 observations on the following 34
variables.
</p>

<dl>
<dt><code>state</code></dt><dd><p>A factor with 52 levels. The labels and states
corresponding to the labels are as follows: 1:Alabama, 2:Alaska, 4:Arizona,
5:Arkansas, 6:California,8:Colorado, 9:Connecticut, 10:Delaware, 11:District
of Columbia,12:Florida, 13:Georgia, 15:Hawaii, 16:Idaho, 1
:Illinois,18:Indiana, 19:Iowa, 20:Kansas, 21:Kentucky, 22:Louisiana,23:Maine,
24:Maryland, 25:Massachusetts, 26:Michigan,27:Minnesota, 28:Mississippi,
2:Missouri, 30:Montana,31:Nebraska, 32:Nevada, 33:New Hampshire, 34:New
Jersey, 35:NewMexico, 36:New York, 37:North Carolina, 38:North Dakota,
39:Ohio,40:Oklahoma, 41:Oregon, 42:Pennsylvania, 44:Rhode Island,
45:SouthCarolina, 46:South Dakota, 47:Tennessee, 48:Texas, 49:Utah,
50:Vermont, 51:Virginia, 53:Washington, 54:West  Virginia,55:Wisconsin,
56:Wyoming, 66:Guam, 72:Puerto Rico, 78:Virgin Islands</p>
</dd>
<dt><code>sex</code></dt><dd><p>A factor with levels <code>Male</code> <code>Female</code>.</p>
</dd>
<dt><code>age</code></dt><dd><p>A numeric vector from 7 to 97.</p>
</dd>
<dt><code>weight_lbs</code></dt><dd><p>The weight without shoes in pounds.</p>
</dd>
<dt><code>height_inch</code></dt><dd><p>The weight without shoes in inches.</p>
</dd>
<dt><code>bmi</code></dt><dd><p>Body Mass Index (BMI). Computed by weight in Kilogram
/(height in Meters * height in Meters). Missing if any of weight or
height is missing.</p>
</dd>
<dt><code>marital</code></dt><dd><p>A factor with levels <code>Married</code> <code>Divorced</code>
<code>Widowed</code> <code>Separated</code> <code>NeverMarried</code> <code>UnmarriedCouple</code>.</p>
</dd>
<dt><code>pregnant</code></dt><dd><p>Whether pregnant now with two levels <code>Yes</code> and
<code>No</code>.</p>
</dd>
<dt><code>children</code></dt><dd><p>A numeric vector giving the number of children less
than 18 years of age in household.</p>
</dd>
<dt><code>education</code></dt><dd><p>A factor with the education levels <code>1</code>
<code>2</code> <code>3</code> <code>4</code> <code>5</code> <code>6</code> as 1: Never attended
school or only kindergarten; 2: Grades 1 through 8 (Elementary);
3: Grades 9 through 11 (Some high school); 4: Grade 12 or GED
(High school graduate); 5: College 1 year to 3 years (Some college
or technical school); 6: College 4 years or more  (College
graduate).</p>
</dd>
<dt><code>employment</code></dt><dd><p>A factor showing the employment status with levels
<code>1</code> <code>2</code> <code>3</code> <code>4</code> <code>5</code> <code>7</code> <code>8</code>. The labels
mean &ndash;  1: Employed for wages; 2: Self-employed; 3: Out of work for more
than 1 year; 4: Out of work for less that 1 year;  5: A homemaker; 6: A
student; 7:Retired; 8: Unable to work.</p>
</dd>
<dt><code>income</code></dt><dd><p>The annual household income from all sources with
levels <code style="white-space: pre;">&#8288;&lt;10k&#8288;</code> <code style="white-space: pre;">&#8288;10-15k&#8288;</code> <code style="white-space: pre;">&#8288;15-20k&#8288;</code> <code style="white-space: pre;">&#8288;20-25k&#8288;</code> <code style="white-space: pre;">&#8288;25-35k&#8288;</code>
<code style="white-space: pre;">&#8288;35-50k&#8288;</code> <code style="white-space: pre;">&#8288;50-75k&#8288;</code> <code style="white-space: pre;">&#8288;&gt;75k&#8288;</code> <code>Dontknow</code> <code>Refused</code>.</p>
</dd>
<dt><code>veteran</code></dt><dd><p>A factor with levels <code>1</code> <code>2</code> <code>3</code>
<code>4</code> <code>5</code>. The question for this variable is: Have you ever
served on active duty in the United States Armed Forces, either in the
regular military or in a National Guard or military reserve unit? Active
duty does not include training for the Reserves or National Guard, but
DOES include activation, for example, for the Persian Gulf War. And the
labels are meaning: 1: Yes, now on active duty; 2: Yes, on active duty
during the last 12 months, but not now; 3: Yes, on active duty in the
past, but not during the last 12 months; 4: No, training for Reserves or
National Guard only; 5: No, never served in the military.</p>
</dd>
<dt><code>hispanic</code></dt><dd><p>A factor with levels <code>Yes</code> <code>No</code>
corresponding to the question: are you Hispanic or Latino?</p>
</dd>
<dt><code>health_general</code></dt><dd><p>Answer to question &quot;in general your health is&quot;
with levels  <code>Excellent</code> <code>VeryGood</code> <code>Good</code> <code>Fair</code>
<code>Poor</code> <code>Refused</code>.</p>
</dd>
<dt><code>health_physical</code></dt><dd><p>The number of days during the last 30 days
that the respondent's physical health was not good.  -7 is for &quot;Don't
know/Not sure&quot;, and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>health_mental</code></dt><dd><p>The number of days during the last 30 days
that the respondent's mental health was not good.  -7 is for
&quot;Don't know/Not sure&quot;, and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>health_poor</code></dt><dd><p>The number of days during the last 30 days
that poor physical or mental health keep the respondent from doing
usual activities, such as self-care, work, or recreation. -7 is
for &quot;Don't know/Not sure&quot;, and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>health_cover</code></dt><dd><p>Whether having any kind of health care
coverage, including health insurance, prepaid plans such as HMOs,
or government plans such as Medicare. The answer has two levels:
<code>Yes</code> and <code>No</code>.</p>
</dd>
<dt><code>provide_care</code></dt><dd><p>Whether providing any such care or assistance
to a friend or family member during the past month, with levels <code>Yes</code>
and <code>No</code>.</p>
</dd>
<dt><code>activity_limited</code></dt><dd><p> Whether being limited in any way in any
activities because of physical, mental, or emotional problems,
with levels  <code>Yes</code> and <code>No</code>.</p>
</dd>
<dt><code>drink_any</code></dt><dd><p>Whether having had at least one drink of
any alcoholic beverage such as beer, wine, a malt beverage or
liquor during the past 30 days, with levels <code>Yes</code> and
<code>No</code>.</p>
</dd>
<dt><code>drink_days</code></dt><dd><p>The number of days during the past 30 days that
the respondent had at least one drink of any alcoholic beverage. -7 is
for &quot;Don't know/Not sure&quot;, and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>drink_avg</code></dt><dd><p>The number of drinks on the average the respondent
had on the days when he/she drank, during the past 30 days. -7 is for
&quot;Don't know/Not sure&quot;, and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>smoke_100</code></dt><dd><p> Whether having smoked at least
100 cigarettes in the entire life, with levels <code>Yes</code> and
<code>No</code>.</p>
</dd>
<dt><code>smoke_days</code></dt><dd><p> The frequency of days now
smoking, with levels <code>Everyday</code> <code>Somedays</code> and
<code>NotAtAll</code>(not at all).</p>
</dd>
<dt><code>smoke_stop</code></dt><dd><p>Whether
having stopped smoking for  one day or longer during the past 12
months because the respondent was trying to quit smoking, with
levels <code>Yes</code> and <code>No</code>.</p>
</dd>
<dt><code>smoke_last</code></dt><dd><p>A factor
with levels <code>3</code> <code>4</code> <code>5</code> <code>6</code> <code>7</code> <code>8</code>
corresponding to the question: how long has it been since last
smoking cigarettes regularly? The labels mean: 3: Within the past
6 months (3 months but less than 6 months ago); 4: Within the past
year (6 months but less than 1 year ago); 5: Within the past 5
years (1 year but less than 5 years ago); 6: Within the past 10
years (5 years but less than 10 years ago); 7: 10 years or more;
8: Never smoked regularly.</p>
</dd>
<dt><code>diet_fruit</code></dt><dd><p>The number of
fruit the respondent eat every year, not counting juice. -7 is for
&quot;Don't know/Not sure&quot;, and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>diet_salad</code></dt><dd><p>The number of servings of green   salad the
respondent eat every year. -7 is for &quot;Don't  know/Not sure&quot;,
and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>diet_potato</code></dt><dd><p> The number of
servings of potatoes, not including french fries, fried potatoes,
or potato chips, that the respondent eat every year. -7 is for
&quot;Don't know/Not sure&quot;, and -9 is for &quot;Refused&quot;.</p>
</dd>
<dt><code>diet_carrot</code></dt><dd><p>The number of carrots the respondent eat
every year. -7 is for  &quot;Don't know/Not sure&quot;, and -9 is for
&quot;Refused&quot;.</p>
</dd>
<dt><code>diet_vegetable</code></dt><dd><p>The number of servings of
vegetables   the respondent eat every year, not counting carrots,
potatoes, or salad. -7 is for &quot;Don't know/Not sure&quot;, and -9 is
for &quot;Refused&quot;.</p>
</dd>
<dt><code>diet_juice</code></dt><dd><p>The number of fruit juices
such as orange, grapefruit, or tomato that the respondent drink
every year. -7 is   for &quot;Don't know/Not sure&quot;, and -9 is for
&quot;Refused&quot;.</p>
</dd>
</dl>

<p>library(MissingDataGUI) (named brfss)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vis_miss(riskfactors)

# Look at the missingness in the variables
miss_var_summary(riskfactors)

# and now as a plot
gg_miss_var(riskfactors)

## Not run: 
# Look at the missingness in bmi and poor health
library(ggplot2)
p &lt;-
ggplot(riskfactors,
       aes(x = health_poor,
           y = bmi)) +
     geom_miss_point()

 p

 # for each sex?
 p + facet_wrap(~sex)
 # for each education bracket?
 p + facet_wrap(~education)

## End(Not run)
</code></pre>

<hr>
<h2 id='scoped-impute_mean'>Scoped variants of <code>impute_mean</code></h2><span id='topic+scoped-impute_mean'></span><span id='topic+impute_mean_all'></span><span id='topic+impute_mean_at'></span><span id='topic+impute_mean_if'></span>

<h3>Description</h3>

<p><code>impute_mean</code> imputes the mean for a vector. To get it to work on all
variables, use <code>impute_mean_all</code>. To only impute variables
that satisfy a specific condition, use the scoped variants,
<code>impute_below_at</code>, and <code>impute_below_if</code>. To use <code style="white-space: pre;">&#8288;_at&#8288;</code> effectively,
you must know that <code style="white-space: pre;">&#8288;_at`` affects variables selected with a character vector, or with &#8288;</code>vars()'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_mean_all(.tbl)

impute_mean_at(.tbl, .vars)

impute_mean_if(.tbl, .predicate)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scoped-impute_mean_+3A_.tbl">.tbl</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="scoped-impute_mean_+3A_.vars">.vars</code></td>
<td>
<p>variables to impute</p>
</td></tr>
<tr><td><code id="scoped-impute_mean_+3A_.predicate">.predicate</code></td>
<td>
<p>variables to impute</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>


<h3>Value</h3>

<p>an dataset with values imputed
</p>


<h3>Examples</h3>

<pre><code class='language-R'># select variables starting with a particular string.
impute_mean_all(airquality)

impute_mean_at(airquality,
               .vars = c("Ozone", "Solar.R"))

## Not run: 
library(dplyr)
impute_mean_at(airquality,
                .vars = vars(Ozone))

impute_mean_if(airquality,
                .predicate = is.numeric)

library(ggplot2)
airquality %&gt;%
  bind_shadow() %&gt;%
  impute_mean_all() %&gt;%
  add_label_shadow() %&gt;%
  ggplot(aes(x = Ozone,
             y = Solar.R,
             colour = any_missing)) +
         geom_point()

## End(Not run)

</code></pre>

<hr>
<h2 id='scoped-impute_median'>Scoped variants of <code>impute_median</code></h2><span id='topic+scoped-impute_median'></span><span id='topic+impute_median_all'></span><span id='topic+impute_median_at'></span><span id='topic+impute_median_if'></span>

<h3>Description</h3>

<p><code>impute_median</code> imputes the median for a vector. To only impute many
variables at once, we recommend that you use the  <code>across</code> function
workflow, shown in the examples for <code><a href="#topic+impute_median">impute_median()</a></code>. You can use the
scoped variants, <code>impute_median_all</code>.<code>impute_below_at</code>, and
<code>impute_below_if</code> to impute all, some, or just those variables meeting
some condition, respectively. To use <code style="white-space: pre;">&#8288;_at&#8288;</code> effectively, you must know
that <code style="white-space: pre;">&#8288;_at&#8288;</code> affects variables selected with a character vector, or with
<code>vars()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_median_all(.tbl)

impute_median_at(.tbl, .vars)

impute_median_if(.tbl, .predicate)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scoped-impute_median_+3A_.tbl">.tbl</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="scoped-impute_median_+3A_.vars">.vars</code></td>
<td>
<p>variables to impute</p>
</td></tr>
<tr><td><code id="scoped-impute_median_+3A_.predicate">.predicate</code></td>
<td>
<p>variables to impute</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>


<h3>Value</h3>

<p>an dataset with values imputed
</p>


<h3>Examples</h3>

<pre><code class='language-R'># select variables starting with a particular string.
impute_median_all(airquality)

impute_median_at(airquality,
               .vars = c("Ozone", "Solar.R"))
library(dplyr)
impute_median_at(airquality,
                .vars = vars(Ozone))

impute_median_if(airquality,
                .predicate = is.numeric)

library(ggplot2)
airquality %&gt;%
  bind_shadow() %&gt;%
  impute_median_all() %&gt;%
  add_label_shadow() %&gt;%
  ggplot(aes(x = Ozone,
             y = Solar.R,
             colour = any_missing)) +
         geom_point()

</code></pre>

<hr>
<h2 id='set-prop-n-miss'>Set a proportion or number of missing values</h2><span id='topic+set-prop-n-miss'></span><span id='topic+set_prop_miss'></span><span id='topic+set_n_miss'></span>

<h3>Description</h3>

<p>Set a proportion or number of missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_prop_miss(x, prop = 0.1)

set_n_miss(x, n = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set-prop-n-miss_+3A_x">x</code></td>
<td>
<p>vector of values to set missing</p>
</td></tr>
<tr><td><code id="set-prop-n-miss_+3A_prop">prop</code></td>
<td>
<p>proportion of values between 0 and 1 to set as missing</p>
</td></tr>
<tr><td><code id="set-prop-n-miss_+3A_n">n</code></td>
<td>
<p>number of values to set missing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with missing values added
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vec &lt;- rnorm(5)
set_prop_miss(vec, 0.2)
set_prop_miss(vec, 0.4)
set_n_miss(vec, 1)
set_n_miss(vec, 4)
</code></pre>

<hr>
<h2 id='shade'>Create new levels of missing</h2><span id='topic+shade'></span>

<h3>Description</h3>

<p>Returns (at least) factors of !NA and NA, where !NA indicates a datum that is
not missing, and NA indicates missingness. It also allows you to specify
some new missings, if you like. This function is what powers the factor
levels in <code>as_shadow()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shade(x, ..., extra_levels = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shade_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="shade_+3A_...">...</code></td>
<td>
<p>additional levels of missing to add</p>
</td></tr>
<tr><td><code id="shade_+3A_extra_levels">extra_levels</code></td>
<td>
<p>extra levels you might to specify for the factor.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- tibble::tribble(
  ~wind, ~temp,
  -99,    45,
  68,    NA,
  72,    25
  )

shade(df$wind)

shade(df$wind, inst_fail = -99)

</code></pre>

<hr>
<h2 id='shadow_long'>Reshape shadow data into a long format</h2><span id='topic+shadow_long'></span>

<h3>Description</h3>

<p>Once data is in <code>nabular</code> form, where the shadow is bound to the data, it
can be useful to reshape it into a long format with the shadow columns
in a separate grouping - so you have <code>variable</code>, <code>value</code>, and
<code>variable_NA</code> and <code>value_NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shadow_long(shadow_data, ..., fn_value_transform = NULL, only_main_vars = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shadow_long_+3A_shadow_data">shadow_data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="shadow_long_+3A_...">...</code></td>
<td>
<p>bare name of variables that you want to focus on</p>
</td></tr>
<tr><td><code id="shadow_long_+3A_fn_value_transform">fn_value_transform</code></td>
<td>
<p>function to transform the &quot;value&quot; column. Default
is NULL, which defaults to <code>as.character</code>. Be aware that <code>as.numeric</code> may
fail for some instances if it cannot coerce the value into numeric. See
the examples.</p>
</td></tr>
<tr><td><code id="shadow_long_+3A_only_main_vars">only_main_vars</code></td>
<td>
<p>logical - do you want to filter down to main variables?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data in long format, with columns <code>variable</code>, <code>value</code>, <code>variable_NA</code>, and <code>value_NA</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
aq_shadow &lt;- nabular(airquality)

shadow_long(aq_shadow)

# then filter only on Ozone
shadow_long(aq_shadow, Ozone)

shadow_long(aq_shadow, Ozone, Solar.R)

# ensure `value` is numeric
shadow_long(aq_shadow, fn_value_transform = as.numeric)
shadow_long(aq_shadow, Ozone, Solar.R, fn_value_transform = as.numeric)


</code></pre>

<hr>
<h2 id='shadow_shift'>Shift missing values to facilitate missing data exploration/visualisation</h2><span id='topic+shadow_shift'></span>

<h3>Description</h3>

<p><code>shadow_shift</code> transforms missing values to facilitate visualisation, and has
different behaviour for different types of variables. For numeric
variables, the values are shifted to 10% below the minimum value for a given
variable plus some jittered noise, to separate repeated values, so that
missing values can be visualised along with the rest of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shadow_shift(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shadow_shift_+3A_...">...</code></td>
<td>
<p>arguments to <code><a href="#topic+impute_below">impute_below()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_shadow_shift">add_shadow_shift()</a></code> <code><a href="#topic+cast_shadow_shift">cast_shadow_shift()</a></code> <code><a href="#topic+cast_shadow_shift_label">cast_shadow_shift_label()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>airquality$Ozone
shadow_shift(airquality$Ozone)
## Not run: 
library(dplyr)
airquality %&gt;%
    mutate(Ozone_shift = shadow_shift(Ozone))

## End(Not run)
</code></pre>

<hr>
<h2 id='stat_miss_point'>stat_miss_point</h2><span id='topic+stat_miss_point'></span>

<h3>Description</h3>

<p>stat_miss_point adds a geometry for displaying missingness to
geom_point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_miss_point(
  mapping = NULL,
  data = NULL,
  prop_below = 0.1,
  jitter = 0.05,
  geom = "point",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_miss_point_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>
or <code><a href="ggplot2.html#topic+aes_">ggplot2::aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code>
(the default), is combined with the default mapping at the top level of the
plot. You only need to supply mapping if there isn't a mapping defined for
the plot.</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_data">data</code></td>
<td>
<p>A data frame. If specified, overrides the default data frame
defined at the top level of the plot.</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_prop_below">prop_below</code></td>
<td>
<p>the degree to shift the values. The default is 0.1</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_jitter">jitter</code></td>
<td>
<p>the amount of jitter to add. The default is 0.05</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_geom">geom</code></td>
<td>
<p>stat Override the default connection between <code>geom_point</code> and
<code>stat_point</code>.</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of a
call to a position adjustment function</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code> (the default), removes missing values with a warning.
If <code>TRUE</code> silently removes missing values.</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped. <code>FALSE</code>
never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics, rather
than combining with them. This is most useful for helper functions that
define both data and aesthetics and shouldn't inherit behaviour from the
default plot specification, e.g. borders.</p>
</td></tr>
<tr><td><code id="stat_miss_point_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>. There
are three types of arguments you can use here:
</p>

<ul>
<li><p>Aesthetics: to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>size = 3.</code>
</p>
</li>
<li><p>Other arguments to the layer, for example you override the default
<code>stat</code> associated with the layer.
</p>
</li>
<li><p>Other arguments passed on to the stat.
</p>
</li></ul>
</td></tr>
</table>

<hr>
<h2 id='unbinders'>Unbind (remove) shadow from data, and vice versa</h2><span id='topic+unbinders'></span><span id='topic+unbind_shadow'></span><span id='topic+unbind_data'></span>

<h3>Description</h3>

<p>Remove the shadow variables (which end in <code style="white-space: pre;">&#8288;_NA&#8288;</code>) from the data, or vice versa.
This will also remove the <code>nabular</code> class from the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unbind_shadow(data)

unbind_data(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unbinders_+3A_data">data</code></td>
<td>
<p>data.frame containing shadow columns (created by <code><a href="#topic+bind_shadow">bind_shadow()</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> without shadow columns if using <code><a href="#topic+unbind_shadow">unbind_shadow()</a></code>, or
without the original data, if using <code><a href="#topic+unbind_data">unbind_data()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# bind shadow columns
aq_sh &lt;- bind_shadow(airquality)

# print data
aq_sh

# remove shadow columns
unbind_shadow(aq_sh)

# remove data
unbind_data(aq_sh)

# errors when you don't use data with shadows
## Not run: 
 unbind_data(airquality)
 unbind_shadow(airquality)

## End(Not run)

</code></pre>

<hr>
<h2 id='where'>Split a call into two components with a useful verb name</h2><span id='topic+where'></span><span id='topic+.where'></span>

<h3>Description</h3>

<p>This function is used inside <code>recode_shadow</code> to help evaluate the formula
call effectively. <code>.where</code> is a special function designed for use in
<code>recode_shadow</code>, and you shouldn't use it outside of it
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.where(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="where_+3A_...">...</code></td>
<td>
<p>case_when style formula</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of &quot;condition&quot; and &quot;suffix&quot; arguments
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
df &lt;- tibble::tribble(
~wind, ~temp,
-99,    45,
68,    NA,
72,    25
)

dfs &lt;- bind_shadow(df)

recode_shadow(dfs,
              temp = .where(wind == -99 ~ "bananas"))


## End(Not run)

</code></pre>

<hr>
<h2 id='where_na'>Which rows and cols contain missings?</h2><span id='topic+where_na'></span>

<h3>Description</h3>

<p>Internal function that is short for <code>which(is.na(x), arr.ind = TRUE)</code>.
Creates array index locations of missing values in a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>where_na(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="where_na_+3A_x">x</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with columns &quot;row&quot; and &quot;col&quot;, which refer to the row and
column that identify the position of a missing value in a dataframe
</p>


<h3>See Also</h3>

<p><code><a href="#topic+which_na">which_na()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
where_na(airquality)
where_na(oceanbuoys$sea_temp_c)

</code></pre>

<hr>
<h2 id='which_are_shade'>Which variables are shades?</h2><span id='topic+which_are_shade'></span>

<h3>Description</h3>

<p>This function tells us which variables contain shade information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>which_are_shade(.tbl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="which_are_shade_+3A_.tbl">.tbl</code></td>
<td>
<p>a data.frame or tbl</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric - which column numbers contain shade information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
df_shadow &lt;- bind_shadow(airquality)

which_are_shade(df_shadow)

</code></pre>

<hr>
<h2 id='which_na'>Which elements contain missings?</h2><span id='topic+which_na'></span>

<h3>Description</h3>

<p>Equivalent to <code>which(is.na())</code> - returns integer locations of missing values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>which_na(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="which_na_+3A_x">x</code></td>
<td>
<p>a dataframe</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer locations of missing values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+where_na">where_na()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
which_na(airquality)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package spikes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {spikes}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#confInt'>
<p>Credible interval</p></a></li>
<li><a href='#data'>
<p>Example data</p></a></li>
<li><a href='#output'>
<p>Ouput object</p></a></li>
<li><a href='#plot.out'>
<p>Plots output of <code>spikes</code></p></a></li>
<li><a href='#spikes'>
<p>Fraud-detection from vote-share data</p></a></li>
<li><a href='#spikes-internal'>
<p>Internal functions</p></a></li>
<li><a href='#summary.out'>
<p>Summarize</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Detecting Election Fraud from Irregularities in Vote-Share
Distributions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.2), emdbook</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-09-21</td>
</tr>
<tr>
<td>Author:</td>
<td>Arturas Rozenas</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Arturas Rozenas &lt;ar199@nyu.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Applies re-sampled kernel density method to detect vote fraud. It estimates the proportion of coarse vote-shares in the observed data relative to the null hypothesis of no fraud.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-09-22 00:05:38 UTC; arturasrozenas</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-09-22 02:27:04</td>
</tr>
</table>
<hr>
<h2 id='confInt'>
Credible interval
</h2><span id='topic+confInt'></span>

<h3>Description</h3>

<p>Estimates credible interval by (1) taking a draw from the posterior density (2) implementing the RKD step. The procedure is repeated <code>boot</code> times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>confInt(object, boots = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confInt_+3A_object">object</code></td>
<td>
<p>object of class <code>out</code> returned by <code>spikes</code></p>
</td></tr>
<tr><td><code id="confInt_+3A_boots">boots</code></td>
<td>
<p>number of samples from the posterior; defaul <code>100</code></p>
</td></tr>
</table>

<hr>
<h2 id='data'>
Example data
</h2><span id='topic+data'></span>

<h3>Description</h3>

<p>Synthetic dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("data")</code></pre>


<h3>Format</h3>

<p>Precinct-level election data from the 2011 Canadian parliamentary elections..
</p>

<dl>
<dt><code>N</code></dt><dd><p>number of registered voters</p>
</dd>
<dt><code>t</code></dt><dd><p>turnout</p>
</dd>
<dt><code>v</code></dt><dd><p>votes for the Conservative party</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(data)
</code></pre>

<hr>
<h2 id='output'>
Ouput object
</h2><span id='topic+output'></span>

<h3>Description</h3>

<p>An object of class <code>out</code> returned by <code>spikes</code> or <code>confint.out</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("output")</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>data(output)
plot(output)
</code></pre>

<hr>
<h2 id='plot.out'>
Plots output of <code>spikes</code>
</h2><span id='topic+plot.out'></span>

<h3>Description</h3>

<p>Plots the observed kernel density of data and the upper envelope of the resampled densities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'out'
plot(x, main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.out_+3A_x">x</code></td>
<td>

<p>Object of class <code>out</code>
</p>
</td></tr>
<tr><td><code id="plot.out_+3A_main">main</code></td>
<td>

<p>Title, <code>NULL</code> by default
</p>
</td></tr>
<tr><td><code id="plot.out_+3A_...">...</code></td>
<td>

<p>additional plotting arguments
</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data(output)
plot(output)
</code></pre>

<hr>
<h2 id='spikes'>
Fraud-detection from vote-share data
</h2><span id='topic+spikes'></span>

<h3>Description</h3>

<p>Implements the resampled kernel density method to detect the excess number of election results with coarse vote-shares (a coarse vote-share is a fraction with a low denominator).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spikes(data, resamples = 1000, bw = 1e-04, grid = 1001, out = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spikes_+3A_data">data</code></td>
<td>

<p>Data frame with three columns with names <code class="reqn">N</code> (number of votes), <code class="reqn">t</code> (number who turned out to vote), and <code class="reqn">v</code> (number who voted for the party the votes of which are being analyzed). Returns error if columns are named incorrectly.
</p>
</td></tr>
<tr><td><code id="spikes_+3A_resamples">resamples</code></td>
<td>

<p>Number of resamples; default <code>1000</code>
</p>
</td></tr>
<tr><td><code id="spikes_+3A_bw">bw</code></td>
<td>

<p>Bandwidth for kernel density; default <code>0.0001</code>
</p>
</td></tr>
<tr><td><code id="spikes_+3A_grid">grid</code></td>
<td>

<p>Number of points on which the density is estimated; default <code>1001</code>
</p>
</td></tr>
<tr><td><code id="spikes_+3A_out">out</code></td>
<td>

<p>Object containing parameters of beta-mixture model. If <code>spikes</code> has been called earlier, then <code>out = output$out</code> will skip density estimation and proceed directly to resampling.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>spikes</code> returns object of class <code>out</code>.
</p>
<table>
<tr><td><code>fraud</code></td>
<td>
<p>Estimated percentage of polling stations with fraud.</p>
</td></tr>
<tr><td><code>ymax</code></td>
<td>
<p>Upper envelope of kernel density samples.</p>
</td></tr>
<tr><td><code>w</code></td>
<td>
<p>Weights for each bin: the proportion of observations falling into a bin.</p>
</td></tr>
<tr><td><code>out</code></td>
<td>
<p>Maximum likelihood estimates of the mixture beta binomial parameters for turnout and votes.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>Data used in estimation.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>See Also <code><a href="#topic+plot.out">plot.out</a></code>, <code><a href="#topic+summary.out">summary.out</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(data)
## Not run: 
out &lt;- spikes(data, resamples = 1000)

## End(Not run)
</code></pre>

<hr>
<h2 id='spikes-internal'>
Internal functions
</h2><span id='topic+a'></span><span id='topic+init'></span><span id='topic+range01'></span><span id='topic+samp.mat'></span><span id='topic+y.v'></span><span id='topic+roundr'></span><span id='topic+dmbetabinom'></span><span id='topic+dmbeta'></span><span id='topic+rmnorm'></span><span id='topic+resample'></span><span id='topic+em.update'></span><span id='topic+fraud'></span><span id='topic+bupdate'></span><span id='topic+est.density'></span><span id='topic+em.update'></span>

<h3>Description</h3>

<p>Internal functions, should not be called by user
</p>

<hr>
<h2 id='summary.out'>
Summarize
</h2><span id='topic+summary.out'></span>

<h3>Description</h3>

<p>Extracts estimate of fraud and 95 percent credible interval (if such is estimated) for the object of class <code>out</code> returned by <code>spikes</code> or <code>confint.out</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'out'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.out_+3A_object">object</code></td>
<td>
<p>Object of class <code>out</code></p>
</td></tr>
<tr><td><code id="summary.out_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Note</h3>

<p>If the argument is from <code>spikes</code>, then <code>summary</code> returns degenerate credible interval, as it was not estimated. To return a proper credible interval, <code>confint.out</code> must take as its argument object returned by <code>confint.out</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(output)
summary(output)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

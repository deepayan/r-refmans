<!DOCTYPE html><html><head><title>Help for package smallsets</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {smallsets}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#s_data'><p>Synthetic dataset</p></a></li>
<li><a href='#sets_labelling'><p>Sets labelling</p></a></li>
<li><a href='#sets_sizing'><p>Sets sizing</p></a></li>
<li><a href='#sets_spacing'><p>Sets spacing</p></a></li>
<li><a href='#Smallset_Timeline'><p>Smallset Timeline</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Visual Documentation for Data Preprocessing</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lydia R. Lucchesi &lt;Lydia.Lucchesi@anu.edu.au&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Data practitioners regularly use the 'R' and 'Python' programming languages to 
    prepare data for analyses. Thus, they encode important data preprocessing decisions in 
    'R' and 'Python' code. The 'smallsets' package subsequently decodes these decisions into 
    a Smallset Timeline, a static, compact visualisation of data preprocessing decisions 
    (Lucchesi et al. (2022) &lt;<a href="https://doi.org/10.1145%2F3531146.3533175">doi:10.1145/3531146.3533175</a>&gt;). The visualisation consists of 
    small data snapshots of different preprocessing steps. The 'smallsets' package builds this 
    visualisation from a user's dataset and preprocessing code located in an 'R', 'R Markdown', 
    'Python', or 'Jupyter Notebook' file. Users simply add structured comments with snapshot  
    instructions to the preprocessing code. One optional feature in 'smallsets' requires 
    installation of the 'Gurobi' optimisation software and 'gurobi' 'R' package, available 
    from <a href="https://www.gurobi.com">https://www.gurobi.com</a>. More information regarding the optional feature and 
    'gurobi' installation can be found in the 'smallsets' vignette.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://lydialucchesi.github.io/smallsets/">https://lydialucchesi.github.io/smallsets/</a>,
<a href="https://github.com/lydialucchesi/smallsets">https://github.com/lydialucchesi/smallsets</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>callr, colorspace, flextable, ggplot2, ggtext, knitr,
patchwork, plotrix, reticulate, rmarkdown</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gurobi, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-04 21:07:20 UTC; luc093</td>
</tr>
<tr>
<td>Author:</td>
<td>Lydia R. Lucchesi <a href="https://orcid.org/0000-0002-1901-4301"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Petra M. Kuhnert [ths],
  Jenny L. Davis [ths],
  Lexing Xie [ths]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-05 00:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='s_data'>Synthetic dataset</h2><span id='topic+s_data'></span>

<h3>Description</h3>

<p>A synthetic dataset generated for illustrative purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>s_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 8 columns:
</p>

<dl>
<dt>C1</dt><dd><p>discrete</p>
</dd>
<dt>C2</dt><dd><p>binary</p>
</dd>
<dt>C3</dt><dd><p>discrete</p>
</dd>
<dt>C4</dt><dd><p>discrete</p>
</dd>
<dt>C5</dt><dd><p>continuous</p>
</dd>
<dt>C6</dt><dd><p>continuous</p>
</dd>
<dt>C7</dt><dd><p>continuous</p>
</dd>
<dt>C8</dt><dd><p>continuous</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>str(s_data)
</code></pre>

<hr>
<h2 id='sets_labelling'>Sets labelling</h2><span id='topic+sets_labelling'></span>

<h3>Description</h3>

<p>Sets labelling parameters for the Smallset Timeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sets_labelling(labelCol = NULL, labelColDif = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sets_labelling_+3A_labelcol">labelCol</code></td>
<td>
<p>Either &quot;lighter&quot; or &quot;darker&quot; for colour of column names and printed
data, in comparison to tile colours. Default is &quot;darker&quot;.</p>
</td></tr>
<tr><td><code id="sets_labelling_+3A_labelcoldif">labelColDif</code></td>
<td>
<p>Value between 0-1 determining how much lighter or darker. Default is .5.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Passed to <code>labelling</code> in <a href="#topic+Smallset_Timeline">Smallset_Timeline</a>.
</p>


<h3>Value</h3>

<p>Returns a list with two elements (the labelling parameters).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># labels and printed data are black
Smallset_Timeline(
  data = s_data,
  code = system.file("s_data_preprocess.R", package = "smallsets"),
  printedData = TRUE,
  truncateData = 4,
  labelling = sets_labelling(labelCol = "darker", labelColDif = 1))

# labels and printed data are midpoint between tile colour and white
Smallset_Timeline(
  data = s_data,
  code = system.file("s_data_preprocess.R", package = "smallsets"),
  colours = 3,
  printedData = TRUE,
  truncateData = 4,
  labelling = sets_labelling(labelCol = "lighter", labelColDif = .5))

</code></pre>

<hr>
<h2 id='sets_sizing'>Sets sizing</h2><span id='topic+sets_sizing'></span>

<h3>Description</h3>

<p>Sets sizing parameters for the Smallset Timeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sets_sizing(
  captions = NULL,
  columns = NULL,
  data = NULL,
  icons = NULL,
  legend = NULL,
  resume = NULL,
  tiles = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sets_sizing_+3A_captions">captions</code></td>
<td>
<p>Positive numeric value for caption text size. Default is 3.</p>
</td></tr>
<tr><td><code id="sets_sizing_+3A_columns">columns</code></td>
<td>
<p>Positive numeric value for column name text size. Default is 3.</p>
</td></tr>
<tr><td><code id="sets_sizing_+3A_data">data</code></td>
<td>
<p>Positive numeric value for printed data text size. Default is 2.</p>
</td></tr>
<tr><td><code id="sets_sizing_+3A_icons">icons</code></td>
<td>
<p>Positive numeric value for legend icon size. Default is 1.</p>
</td></tr>
<tr><td><code id="sets_sizing_+3A_legend">legend</code></td>
<td>
<p>Positive numeric value for legend text size. Default is 10.</p>
</td></tr>
<tr><td><code id="sets_sizing_+3A_resume">resume</code></td>
<td>
<p>Positive numeric value for resume marker size. Default is 1.</p>
</td></tr>
<tr><td><code id="sets_sizing_+3A_tiles">tiles</code></td>
<td>
<p>Positive numeric value for Smallset tile size. Default is .2.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Passed to <code>sizing</code> in <a href="#topic+Smallset_Timeline">Smallset_Timeline</a>.
</p>


<h3>Value</h3>

<p>Returns a list with seven elements (the sizing parameters).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># increase size of caption text
# and add more caption space, so larger caption text fits
Smallset_Timeline(
   data = s_data,
   code = system.file("s_data_preprocess.R", package = "smallsets"),
   sizing = sets_sizing(captions = 4),
   spacing = sets_spacing(captions = 4)
)

</code></pre>

<hr>
<h2 id='sets_spacing'>Sets spacing</h2><span id='topic+sets_spacing'></span>

<h3>Description</h3>

<p>Sets spacing parameters for the Smallset Timeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sets_spacing(
  captions = NULL,
  degree = NULL,
  header = NULL,
  right = NULL,
  rows = NULL,
  columns = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sets_spacing_+3A_captions">captions</code></td>
<td>
<p>Positive numeric value for amount of caption space. 
When alignment is horizontal, refers to the space below snapshots. 
When alignment is vertical, refers to the space to the right of 
the snapshots. Default is 2.5.</p>
</td></tr>
<tr><td><code id="sets_spacing_+3A_degree">degree</code></td>
<td>
<p>Integer between 0-90 (degrees) to rotate column names. Default is 0.</p>
</td></tr>
<tr><td><code id="sets_spacing_+3A_header">header</code></td>
<td>
<p>Positive numeric value for amount of column name space. Default is 1.</p>
</td></tr>
<tr><td><code id="sets_spacing_+3A_right">right</code></td>
<td>
<p>Positive numeric value (&gt;=.5) for amount of space to the right
of each snapshot.</p>
</td></tr>
<tr><td><code id="sets_spacing_+3A_rows">rows</code></td>
<td>
<p>Integer for number of Smallset Timeline rows 
(applicable when the alignment is horizontal). Default is 1.</p>
</td></tr>
<tr><td><code id="sets_spacing_+3A_columns">columns</code></td>
<td>
<p>Integer for number of Smallset Timeline columns 
(applicable when the alignment is vertical). Default is 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Passed to <code>spacing</code> in <a href="#topic+Smallset_Timeline">Smallset_Timeline</a>.
</p>


<h3>Value</h3>

<p>Returns a list with six elements (the spacing parameters).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># increase space for captions and rotate column names
Smallset_Timeline(
   data = s_data,
   code = system.file("s_data_preprocess.R", package = "smallsets"),
   spacing = sets_spacing(captions = 5, degree = 45)
)

</code></pre>

<hr>
<h2 id='Smallset_Timeline'>Smallset Timeline</h2><span id='topic+Smallset_Timeline'></span>

<h3>Description</h3>

<p>Builds a Smallset Timeline to visualise data preprocessing
decisions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Smallset_Timeline(
  data,
  code,
  rowCount = 5,
  rowSelect = NULL,
  rowReturn = FALSE,
  rowIDs = NULL,
  ignoreCols = NULL,
  colours = 1,
  printedData = FALSE,
  truncateData = NULL,
  ghostData = TRUE,
  missingDataTints = FALSE,
  align = "horizontal",
  font = "sans",
  sizing = sets_sizing(),
  spacing = sets_spacing(),
  labelling = sets_labelling(),
  altText = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Smallset_Timeline_+3A_data">data</code></td>
<td>
<p>Dataset that is being preprocessed.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_code">code</code></td>
<td>
<p>R, R Markdown, Python, or Jupyter Notebook data preprocessing script.
Include the filename extension (e.g., &quot;my_code.R&quot;, &quot;my_code.Rmd&quot;,
&quot;my_code.py&quot;, or &quot;my_code.ipynb&quot;).
If the script is not in the working directory, include the full file path.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_rowcount">rowCount</code></td>
<td>
<p>Integer between 5-15 for number of Smallset rows.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_rowselect">rowSelect</code></td>
<td>
<p>NULL, 1, or 2. If NULL, Smallset rows are randomly sampled.
If 1, Smallset rows are selected using the coverage optimisation model. If
2, Smallset rows are selected using the coverage + variety optimisation
model, which has a long run time for large datasets. Options 1 and 2 use
the Gurobi solver (v9.1.2) and require a Gurobi license. Please visit
https://www.gurobi.com to obtain a license (free academic licenses are
available).</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_rowreturn">rowReturn</code></td>
<td>
<p>A logical. TRUE prints, to the console, the row numbers of
the rows selected for the Smallset.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_rowids">rowIDs</code></td>
<td>
<p>If R preprocessing code, a character vector of row names for 
rows to include in the Smallset. If Python preprocessing code, a numeric vector of 
indices for rows to include in the Smallset.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_ignorecols">ignoreCols</code></td>
<td>
<p>Character vector of column names indicating which to
exclude from the Smallset Timeline.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_colours">colours</code></td>
<td>
<p>Either 1, 2, or 3 for one of the built-in colour schemes (all
are colourblind-friendly and 2 works on a grey scale, i.e., it's printer-friendly) or a list
with four hex colour codes for added, deleted, edited, and unchanged
(e.g., list(added = &quot;#5BA2A6&quot;, deleted = &quot;#DDC492&quot;, edited = &quot;#FFC500&quot;, unchanged
= &quot;#E6E3DF&quot;)).</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_printeddata">printedData</code></td>
<td>
<p>A logical. TRUE prints data values in the Smallset
snapshots.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_truncatedata">truncateData</code></td>
<td>
<p>Integer for the number of characters in each printed data
value. Results in characters plus an ellipsis.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_ghostdata">ghostData</code></td>
<td>
<p>A logical. TRUE includes empty tiles where data have been
removed.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_missingdatatints">missingDataTints</code></td>
<td>
<p>A logical. TRUE plots a lighter colour value for a
missing data value.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_align">align</code></td>
<td>
<p>Either &quot;horizontal&quot; or &quot;vertical&quot;. For horizontal, snapshots
are plotted left to right. For vertical, snapshots are plotted top
to bottom.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_font">font</code></td>
<td>
<p>Any font installed in R.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_sizing">sizing</code></td>
<td>
<p><a href="#topic+sets_sizing">sets_sizing</a> for size specifications.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_spacing">spacing</code></td>
<td>
<p><a href="#topic+sets_spacing">sets_spacing</a> for space specifications.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_labelling">labelling</code></td>
<td>
<p><a href="#topic+sets_labelling">sets_labelling</a> for label specifications.</p>
</td></tr>
<tr><td><code id="Smallset_Timeline_+3A_alttext">altText</code></td>
<td>
<p>A logical. TRUE generates alternative text (alt text) for the
Smallset Timeline and prints it to the console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Prior to running this command, structured comments with snapshot
instructions must be added to the preprocessing script passed to
<code>code</code>. See section titled &quot;Structured comments&quot; in
<code>vignette("smallsets")</code> or in the
<a href="https://lydialucchesi.github.io/smallsets/articles/smallsets.html#Structured_comments">online user guide</a>.
</p>


<h3>Value</h3>

<p>Returns a Smallset Timeline object, which is a plot consisting of
'ggplot' objects assembled with 'patchwork'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(145)

Smallset_Timeline(
  data = s_data,
  code = system.file("s_data_preprocess.R", package = "smallsets")
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

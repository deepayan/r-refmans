<!DOCTYPE html><html lang="en"><head><title>Help for package rpanel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rpanel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rpanel-package'><p>Simple interactive controls for R functions using the tcltk package</p></a></li>
<li><a href='#aircond'><p>Intervals between the failure of air-conditioning equipment in aircraft</p></a></li>
<li><a href='#Clyde'><p>Water quality in the River Clyde</p></a></li>
<li><a href='#CofE'><p>Giving in the Church of England</p></a></li>
<li><a href='#gullweight'><p>The weights of herring gulls captured at different times of year</p></a></li>
<li><a href='#luthor'><p>Repeated measurements on leutinizing hormone in cows</p></a></li>
<li><a href='#poisons'><p>Survival times of animals subjected to different poisons and treatment</p></a></li>
<li><a href='#river'><p>Temperature and DO threshold in the River Clyde</p></a></li>
<li><a href='#rodent'><p>The mass and speed of quadrupedal rodents</p></a></li>
<li><a href='#rp.ancova'><p>Interactive analysis of covariance</p></a></li>
<li><a href='#rp.anova'><p>Interactive analysis of variance</p></a></li>
<li><a href='#rp.block'><p>Blocks use of the <span class="rlang"><b>R</b></span> console until a panel is closed</p></a></li>
<li><a href='#rp.bubbleplot'><p>Animated scatterplot</p></a></li>
<li><a href='#rp.button'><p>Button control for rpanel</p></a></li>
<li><a href='#rp.cartoons'><p>Access to a collection of rpanel illustrations</p></a></li>
<li><a href='#rp.checkbox'><p>A checkbox control for rpanel</p></a></li>
<li><a href='#rp.ci'><p>Simulations of normal-based confidence intervals</p></a></li>
<li><a href='#rp.clearlines'><p>Remove lines from an rpanel image</p></a></li>
<li><a href='#rp.colour.key'><p>Creates a colour key.</p></a></li>
<li><a href='#rp.combo'><p>A &lsquo;combo&rsquo; for a panel</p></a></li>
<li><a href='#rp.control'><p>Create or dispose of an rpanel</p></a></li>
<li><a href='#rp.control.put'><p>Updates the panel environment with the current value of the panel list object.</p></a></li>
<li><a href='#rp.deleteline'><p>Removes a line from an rpanel image</p></a></li>
<li><a href='#rp.do'><p>Runs a user-written action function</p></a></li>
<li><a href='#rp.doublebutton'><p>Double-button widget for rpanel</p></a></li>
<li><a href='#rp.firth'><p>Geostatistical sampling and analysis simulation tool</p></a></li>
<li><a href='#rp.geosim'><p>Interactive visualisation of spatially correlated random fields</p></a></li>
<li><a href='#rp.grid'><p>Define a subsidiary grid within an rpanel</p></a></li>
<li><a href='#rp.gulls'><p>STEPS module: the Birds and the Bees</p></a></li>
<li><a href='#rp.image'><p>Placement of an image within a rpanel</p></a></li>
<li><a href='#rp.likelihood'><p>Interactive inspection of one- or two-parameter likelihood surfaces</p></a></li>
<li><a href='#rp.line'><p>Draws a line on an rpanel image</p></a></li>
<li><a href='#rp.listbox'><p>Listbox for a panel</p></a></li>
<li><a href='#rp.logistic'><p>Interactive display of logistic regression with a single covariate</p></a></li>
<li><a href='#rp.menu'><p>Top level menu for a panel</p></a></li>
<li><a href='#rp.messagebox'><p>Displays a message</p></a></li>
<li><a href='#rp.mururoa'><p>Sampling in Mururoa Atoll</p></a></li>
<li><a href='#rp.normal'><p>Interactive fitting of a normal distribution</p></a></li>
<li><a href='#rp.notebook'><p>Define a notebook within an rpanel</p></a></li>
<li><a href='#rp.panel'><p>Returns a panel</p></a></li>
<li><a href='#rp.plot3d'><p>Interactive display of a plot of three variables</p></a></li>
<li><a href='#rp.plot4d'><p>Animated scatterplot</p></a></li>
<li><a href='#rp.pos'><p>Positioning controls in an rpanel</p></a></li>
<li><a href='#rp.power'><p>Interactive power calculations for a two-sample t-test</p></a></li>
<li><a href='#rp.radiogroup'><p>Radiobuttons for a panel</p></a></li>
<li><a href='#rp.regression'><p>Graphical display of regression effects (interactive with one or two covariates)</p></a></li>
<li><a href='#rp.rmplot'><p>Interactive plotting of repeated measurement data</p></a></li>
<li><a href='#rp.sample'><p>Interactive demonstration of sampling variation</p></a></li>
<li><a href='#rp.screenresolution'><p>Screen resolution</p></a></li>
<li><a href='#rp.slider'><p>Slider for an rpanel</p></a></li>
<li><a href='#rp.surface'><p>Interactive visualisation of a surface and its uncertainty</p></a></li>
<li><a href='#rp.tables'><p>Interactive statistical tables</p></a></li>
<li><a href='#rp.text'><p>Text boxes for a panel</p></a></li>
<li><a href='#rp.textentry'><p>Text entry boxes for a panel</p></a></li>
<li><a href='#rp.timer'><p>Creates a series of timed actions</p></a></li>
<li><a href='#rp.tkrplot'><p>rpanel calls for tkrplot and tkrreplot</p></a></li>
<li><a href='#rp.var.get'><p>Retrieves an object from the rpanel environment, usually from a panel.</p></a></li>
<li><a href='#rp.var.put'><p>Places an object in the rpanel environment, usually within a panel.</p></a></li>
<li><a href='#rp.widget.dispose'><p>Removes a widget</p></a></li>
<li><a href='#SO2'><p>Sulphur dioxide measurements over Europe</p></a></li>
<li><a href='#worldbank'><p>Data on CO2 emissions, GDP, life.expectancy and population for the countries of the world between 1960 and 2007</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Simple Interactive Controls for R using the 'tcltk' Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1-5.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-09-02</td>
</tr>
<tr>
<td>Author:</td>
<td>Bowman, Bowman, Gibson and Crawford</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Adrian Bowman &lt;adrian.bowman@glasgow.ac.uk&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0), tcltk</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tkrplot, rgl, sp, geoR, RandomFields, interp, MASS, denstrip,
lattice, sm, maps, mgcv, colorspace, ggplot2</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of functions to build simple 
        GUI controls for R functions.  These are built on the 'tcltk' package. 
        Uses could include changing a parameter on a graph by animating it 
        with a slider or a "doublebutton", up to more sophisticated control 
        panels.
        Some functions for specific graphical tasks, referred to as 'cartoons',
        are provided.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-06 21:04:33 UTC; ripley</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-07 08:21:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='rpanel-package'>Simple interactive controls for R functions using the tcltk package</h2><span id='topic+rpanel-package'></span><span id='topic+rpanel'></span>

<h3>Description</h3>

<p><span class="pkg">rpanel</span> provides a set of functions to build simple GUI controls for R functions.  Uses include changing a parameter on a graph (and animating it) with a slider, or a &quot;doublebutton&quot;, 
up to more sophisticated mini-applications.  In addition to functions which create controls, a number of &lsquo;cartoon&rsquo; functions built on these controls are also available.</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> rpanel</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1-5</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-09-02</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GNU</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>This package contains a number of functions (with help and examples) and several 
example scripts.<br />
<br />
Cartoon functions<br />
<br />
<code><a href="#topic+rp.gulls">rp.gulls</a></code>: An interactive problem-solving exercise on deciding the sex of a herring gull<br />
<code><a href="#topic+rp.ci">rp.ci</a></code>: Confidence intervals<br />
<code><a href="#topic+rp.anova">rp.anova</a></code>: Analysis of variance<br />
<code><a href="#topic+rp.ancova">rp.ancova</a></code>: Analysis of covariance<br />
<code><a href="#topic+rp.power">rp.power</a></code>: Power calculations for a two-sample t-test<br />
<code><a href="#topic+rp.normal">rp.normal</a></code>: Fitting a normal distribution to a single sample<br />
<code><a href="#topic+rp.rmplot">rp.rmplot</a></code>: Plotting of repeated measurement data<br />
<code><a href="#topic+rp.tables">rp.tables</a></code>: Interactive statistical tables<br />
<code><a href="#topic+rp.regression">rp.regression</a></code>: Regression with one or two covariates<br />
<code><a href="#topic+rp.plot3d">rp.plot3d</a></code>: Interactive display of a plot of three variables<br />
<code><a href="#topic+rp.plot4d">rp.plot4d</a></code>: Interactive display of a plot of four variables<br />
<code><a href="#topic+rp.spacetime">rp.spacetime</a></code>: A version of <code>rp.plot4d</code> designed for space-time data<br />
<code><a href="#topic+rp.likelihood">rp.likelihood</a></code>: Exploration of one and two parameter likelihood functions<br />
<code><a href="#topic+rp.logistic">rp.logistic</a></code>: Interactive display of logistic regression with a single covariate<br />
<code><a href="#topic+rp.cartoons">rp.cartoons</a></code>: A menu-driven set of <code>rpanel</code> illustrations<br />
<code><a href="#topic+rp.geosim">rp.geosim</a></code>: Simulation of spatial processes<br />
<code><a href="#topic+rp.mururoa">rp.mururoa</a></code>: Sampling in Mururoa Atoll<br />
<code><a href="#topic+rp.firth">rp.firth</a></code>: Sampling in a firth<br />
<code><a href="#topic+rp.surface">rp.surface</a></code>: Displaying the uncertainty in an estimate of a surface<br />
<br />
Functions to create individual controls<br />
<br />
<code><a href="#topic+rp.control">rp.control</a></code>: create an rpanel<br />
<code><a href="#topic+rp.slider">rp.slider</a></code>: add a slider to a panel, to graphically control a numeric variable<br />
<code><a href="#topic+rp.textentry">rp.textentry</a></code>: adds a box allows text to be entered<br />
<code><a href="#topic+rp.button">rp.button</a></code>: adds a button to the panel with a nominated function called on pressing<br />
<code><a href="#topic+rp.checkbox">rp.checkbox</a></code>: adds a checkbox to the panel, to control a logical variable<br />
<code><a href="#topic+rp.radiogroup">rp.radiogroup</a></code>: adds a set of radiobuttons to the panel<br />
<code><a href="#topic+rp.listbox">rp.listbox</a></code>: adds a listbox to the panel<br />
<code><a href="#topic+rp.combo">rp.combo</a></code>: adds a combo box to the panel<br />
<code><a href="#topic+rp.doublebutton">rp.doublebutton</a></code>: adds a widget with '+' and '-' buttons, to increment and decrement a variable<br />
<code><a href="#topic+rp.menu">rp.menu</a></code>: adds a menu to the panel<br />
<code><a href="#topic+rp.text">rp.text</a></code>: adds a text box to the panel<br />
<code><a href="#topic+rp.image">rp.image</a></code>: adds an image to the panel; the action function is called with coordinates on clicking<br />
<code><a href="#topic+rp.line">rp.line</a></code>: draws a line connecting the pixel locations x1, y1 to x2, y2 on the specified rp.image<br />
<code><a href="#topic+rp.deleteline">rp.deleteline</a></code>: removes a line from an rp.image<br />
<code><a href="#topic+rp.clearlines">rp.clearlines</a></code>: removes all lines from an rp.image<br />
<code><a href="#topic+rp.messagebox">rp.messagebox</a></code>: displays a message in a pop-up window<br />
<code><a href="#topic+rp.tkrplot">rp.tkrplot</a></code>: calls Luke Tierney's <code>tkrplot</code> function to allow R graphics to be displayed in a panel<br />
<code><a href="#topic+rp.tkrreplot">rp.tkrreplot</a></code>: calls Luke Tierney's <code>tkrreplot</code> functions to allow R graphics to be refreshed in a panel.<br />
<code><a href="#topic+rp.timer">rp.timer</a></code>: executes an action function repeatedly until a condition is satisfied<br />
<code><a href="#topic+rp.block">rp.block</a></code>: blocks use of the R console until a panel is closed<br />
<code><a href="#topic+rp.panel">rp.panel</a></code>: returns a named panel or the most recently created panel<br />
<code><a href="#topic+rp.var.put">rp.var.put</a></code>: place an object into the rpanel environment, usually within a panel<br />
<code><a href="#topic+rp.var.get">rp.var.get</a></code>: retrieve an object from the rpanel environment, usually from a panel<br />
<code><a href="#topic+rp.pos">rp.pos</a></code>: a demonstration function for layout control<br />
<code><a href="#topic+rp.grid">rp.grid</a></code>: a grid system for layout control<br />
<code><a href="#topic+rp.do">rp.do</a></code>: executes a nominated user defined callback function<br />
<code><a href="#topic+rp.colour.key">rp.colour.key</a></code>: a colour key to associate with a plot<br />
<br />
Generally speaking these functions have a parameter, <code>name</code>, which is used to later delete or modify a widget.<br />
<br />
</p>


<h3>Author(s)</h3>

<p>E. Crawford &amp; A. Bowman
</p>
<p>Maintainer: Adrian Bowman &lt;adrian.bowman@glasgow.ac.uk&gt;
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.control">rp.control</a></code>,<code><a href="#topic+rp.button">rp.button</a></code>,<code><a href="#topic+rp.slider">rp.slider</a></code>,<code><a href="#topic+rp.doublebutton">rp.doublebutton</a></code>,<code><a href="#topic+rp.textentry">rp.textentry</a></code>,<code><a href="#topic+rp.checkbox">rp.checkbox</a></code>,<code><a href="#topic+rp.radiogroup">rp.radiogroup</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.gulls()

## End(Not run)</code></pre>

<hr>
<h2 id='aircond'>Intervals between the failure of air-conditioning equipment in aircraft</h2><span id='topic+aircond'></span>

<h3>Description</h3>

<p>These data, reported by Proschan (1963, Technometrics 5, 375-383), refer to
the intervals, in service-hours, between failures of the air-conditioning
equipment in a Boeing 720 aircraft.  (Proschan reports data on 10 different
aircraft.  The data from only one of the aircraft is used here.  
Cox and Snell (1981, Applied Statistics: principles and examples,
Chapman and Hall, London) discuss the analysis of the data on all 10 aircraft.)
</p>
<p>The dataset consists of a single vector of data.  They are used in the <code><a href="#topic+rp.likelihood">rp.likelihood</a></code> example script.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.likelihood("sum(log(dexp(data, theta)))", aircond, 0.005, 0.03)
   rp.likelihood("sum(log(dgamma(data, theta[1], theta[2])))",
        aircond, c(0.3, 0.005), c(3, 0.06))

## End(Not run)</code></pre>

<hr>
<h2 id='Clyde'>Water quality in the River Clyde</h2><span id='topic+Clyde'></span>

<h3>Description</h3>

<p>These data record the water quality, in terms of dissolved oxygen (<code>DO</code>) on a percentage scale, at a number of sampling stations (<code>Station</code>) on the River Clyde.  The date (<code>Day</code>, \codeMonth, <code>Year</code>) is also available, along with the day of the year (<code>Doy</code> between 1 and 365) and an identified (<code>id</code>) of the survey on which each measurement was made.
</p>
<p>The data are used in the <code><a href="#topic+rp.plot4d">rp.plot4d</a></code> example script. 
</p>
<p>The data were kindly provided by the Scottish Environment Protection Agency,
with the assistance of Dr. Brian Miller.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  with(Clyde, {
    rp.plot4d(cbind(Doy, DO), Station, location.plot = FALSE)
    rp.plot4d(cbind(Station, DO), Doy, location.plot = FALSE)
  })

## End(Not run)</code></pre>

<hr>
<h2 id='CofE'>Giving in the Church of England</h2><span id='topic+CofE'></span>

<h3>Description</h3>

<p>These data record the average annual giving in pounds per church
member in the dioceses of the Church of England in the early 1980's. Three potentially relevant covariates are also recorded for each diocese, namely the percentage of the population who are employed, the percentage of the population on the electoral roll of the church and
the percentage of the population who usually attend church.
Background details are available in Pickering (1985; Applied Economics 17, 619-32).
</p>
<p>The data are used in the <code><a href="#topic+rp.regression">rp.regression</a></code> example script. 
</p>


<h3>References</h3>

<p>Pickering, J.F. (1985). Giving in the Church of England: an econometric analysis.  Applied Economics 17, 619-632.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  with(CofE, {
    rp.regression(cbind(Employ, Attend), Giving)
  })

## End(Not run)</code></pre>

<hr>
<h2 id='gullweight'>The weights of herring gulls captured at different times of year</h2><span id='topic+gullweight'></span>

<h3>Description</h3>

<p>These data are part of a large sample collected  by Prof. P. Monaghan of the University of  Glasgow in a study of the weight changes in herring  gulls throughout the year.  Some birds were caught in June (coded as month  1)  and others in December (month 2).  Since weight  is dependent on the size of the bird this information is recorded in  the  form  of the head and bill length, <code>hab</code> (in  mm),  the distance from the back of the head to the tip of the bill.
</p>
<p>The data are used in the <code><a href="#topic+rp.ancova">rp.ancova</a></code> example script.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   with(gullweight, {
     rp.ancova(hab, weight, month)
   })
   
## End(Not run)</code></pre>

<hr>
<h2 id='luthor'>Repeated measurements on leutinizing hormone in cows</h2><span id='topic+luthor'></span>

<h3>Description</h3>

<p>These data, reported by Raz(1989, Biometrics 54, 851-71) refer to
an experiment which compared the concentrations of
leutinizing hormone (LH) in 16 suckled and 16 non-suckled cows.
Measurements were made daily from day 1 through to day 4 postpartum,
and twice daily from day 5 through to day 10 postpartum.  The cows
were ovariectomised on day 5 postpartum.
</p>
<p>The first column of the dataset defines the group (1 - non-suckled,
2 - suckled) while the remaining columns give the LH values at
the successive recording times.
</p>
<p>The data are used in the <code><a href="#topic+rp.rmplot">rp.rmplot</a></code> example script. 
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   LH &lt;- luthor[,2:16]
   gp     &lt;- factor(luthor[,1])
   times  &lt;- c(1:5,(5+(1:10)/2))
   rp.rmplot(log(LH), fac = gp, timept = times)
   
## End(Not run)</code></pre>

<hr>
<h2 id='poisons'>Survival times of animals subjected to different poisons and treatment</h2><span id='topic+poisons'></span>

<h3>Description</h3>

<p>These data record the survival times (in units of 10 hours) of animals in a
3 x 4 factorial experiment.  Four animals were allocated to each combination of
three poisons and four treatments, using a randomisation procedure.
</p>
<p>The data are used in the <code><a href="#topic+rp.anova">rp.anova</a></code> example script. 
</p>
<p>The data were reported in the paper by Box and Cox (1964) referenced below.
</p>


<h3>References</h3>

<p>Box, GEP and Cox, DR (1964), 
An analysis of transformations. Journal of the Royal Statistical Society Series B -
Statistical Methodology, 26, 211-252.
</p>
<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  with(poisons, {
    rp.anova(1/stime, treatment, poison)
  })

## End(Not run)</code></pre>

<hr>
<h2 id='river'>Temperature and DO threshold in the River Clyde</h2><span id='topic+river'></span>

<h3>Description</h3>

<p>These data record the water temperature at a sampling station on the River Clyde,
together with an indicator of whether (1) or not (0) the concentration of
dissolved oxygen fell below the threshold of 5 percent.
</p>
<p>The data are used in the <code><a href="#topic+rp.logistic">rp.logistic</a></code> example script. 
</p>
<p>The data were kindly provided by the Scottish Environment Protection Agency,
with the assistance of Dr. Brian Miller.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.logistic(river$Temperature, river$Low)

## End(Not run)</code></pre>

<hr>
<h2 id='rodent'>The mass and speed of quadrupedal rodents</h2><span id='topic+rodent'></span>

<h3>Description</h3>

<p>In an investigation of the relationship between mass (kg) and speed (km/hr) 
in mammals,  Garland (1983) collected information from published articles
on these two variables for a large number of different species.  These
measurements are given below for a variety of four-footed rodents.
(The common names of the species are taken from Corbet &amp; Hill (1986).)
Notice that the measurements are not all recorded to the same
level of accuracy since the results have been collated from the work
of a number of different scientists.
</p>
<p>The data are used in <code><a href="#topic+rp.cartoons">rp.cartoons</a></code>.
</p>


<h3>References</h3>

<p>Bowman, A.W. &amp; Robinson, D.R. (1990).  Introduction to Regression and
Analysis of Variance: a computer illustrated text.  Bristol: Adam Hilger.
</p>
<p>Garland, T. (1983).  The relation between maximal running speed and body
mass in terrestrial animals.  Journal of the Zoological Society of
London, 199, 155-170.
</p>
<p>Corbet, G.B. &amp; Hill, J.E. (1986).  A World List of Mammalian Species.
2nd edition. London: British Museum, Natural History.
</p>
<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   with(rodent, {
     rp.regression(log(Mass), log(Speed))
   })

## End(Not run)</code></pre>

<hr>
<h2 id='rp.ancova'>Interactive analysis of covariance</h2><span id='topic+rp.ancova'></span>

<h3>Description</h3>

<p>This function plots a response variable against a covariate, with
different groups of data identified by colour and symbol.  It also
creates a panel which controls the model which is fitted to the
data and displayed on the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  rp.ancova(x, y, group, panel = TRUE, panel.plot = TRUE, model = NA, model0 = NA,
       xlab, ylab, glab, hscale = NA, vscale = hscale, style = "new")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.ancova_+3A_x">x</code></td>
<td>
<p>a vector of covariate values.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_y">y</code></td>
<td>
<p>a vector of response values.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_group">group</code></td>
<td>
<p>a vector of group indicators.  If this is not already a factor it will be converted into one.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_panel">panel</code></td>
<td>
<p>a logical variable which determines whether a panel is created to allow interactive control of the fitted models.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical parameter which determines whether the plot is placed inside the panel (TRUE) or the standard graphics window (FALSE).  If the plot is to be placed inside the panel then the <code>tkrplot</code> library is required.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_model">model</code>, <code id="rp.ancova_+3A_model0">model0</code></td>
<td>
<p>logical vectors of length 4 defining the initial and comparison models to be fitted.  The four values determine whether each of the four terms intercept, <code>x</code>, <code>z</code> and <code>x:z</code> appear.  This is appropriate only for <code>style = "new"</code>.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_xlab">xlab</code></td>
<td>
<p>a character variable used for the covariate axis label.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_ylab">ylab</code></td>
<td>
<p>a character variable used for the response axis label.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_glab">glab</code></td>
<td>
<p>a character variable used for the group variable label.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_hscale">hscale</code>, <code id="rp.ancova_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel.plot</code> is set to <code>TRUE</code>.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.ancova_+3A_style">style</code></td>
<td>
<p>a character variable used to determine whether the style of controls in earlier version of the <code>rpanel</code> package is to be used.  The value <code>"new"</code> activates the new style and any other value activates the old one.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Static plots, for printing or other purposes can be created by setting
the panel argument to FALSE and specifying the model of interest.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   with(gullweight, {
     rp.ancova(hab, weight, month)
   })

## End(Not run)</code></pre>

<hr>
<h2 id='rp.anova'>Interactive analysis of variance</h2><span id='topic+rp.anova'></span>

<h3>Description</h3>

<p>This function plots response data, separated by one or two factors.  
It also creates a panel which controls the models which can be fitted to the
data and displayed on the plot.  A comparison model can also be selected
and the results of an F-test are displayed graphically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.anova(y, x, z, model = NA, model0 = NA, ylab = NA, xlab = NA, zlab = NA, title = NULL,
         lines = TRUE, panel = TRUE, panel.plot = TRUE, hscale = 1.3,
         vscale = hscale / 1.3)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.anova_+3A_y">y</code></td>
<td>
<p>a vector of response values.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_x">x</code></td>
<td>
<p>a factor which splits <code>y</code> into different groups.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_z">z</code></td>
<td>
<p>an optional second factor which splits <code>y</code> into a second set of groups.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_model">model</code>, <code id="rp.anova_+3A_model0">model0</code></td>
<td>
<p>logical vectors of length 2 or 4, for one or two factors respectively,
defining the initial and comparison models to be fitted.  For one factor, the two values
determine whether each of the terms for the intercept and <code>x</code> appear.  For two factors,
the four values determine whether each of the four terms intercept, <code>x</code>, <code>z</code> and
<code>x:z</code> appear.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_ylab">ylab</code></td>
<td>
<p>a character name used for the response variable.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_xlab">xlab</code></td>
<td>
<p>a character name used for the first factor.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_zlab">zlab</code></td>
<td>
<p>a character variable used for the response axis label.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_title">title</code></td>
<td>
<p>a character variable supplying a title.  (This is used only in the case where <code>panel</code> is <code>FALSE</code>.)</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_lines">lines</code></td>
<td>
<p>a logical variable which determines whether lines are drawn to connect the
estimated means for each group.  This can be helpful in highlighting the relative positions of
the means across the groups.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_panel">panel</code></td>
<td>
<p>a logical variable which determines whether a panel is created to allow
interactive control of the fitted models.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical parameter which determines whether the plot is placed inside the 
panel (TRUE) or the standard graphics window (FALSE).  If the plot is to be placed inside
the panel then the <code>tkrplot</code> library is required.</p>
</td></tr>
<tr><td><code id="rp.anova_+3A_hscale">hscale</code>, <code id="rp.anova_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel.plot</code> is
set to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data are displayed as points superimposed on a density strip created by the 
<span class="pkg">denstrip</span> package.  Selected models are displayed through the fitted values for each
group.  When a valid comparison model is selected, its fitted values are displayed along
with a shaded regions expressing the contribution of the differences between the two sets
of fitted values to the F-statistic.  The F-test is displayed in graphical form with a density
strip to represent the F-distribution and a point to indicate the observed value of the
F-statistic.
</p>
<p>Static plots, for printing or other purposes can be created by setting
the panel argument to FALSE and specifying the models of interest.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   with(poisons, {
     rp.anova(1/stime, treatment, poison)
   })

## End(Not run)</code></pre>

<hr>
<h2 id='rp.block'>Blocks use of the <span class="rlang"><b>R</b></span> console until a panel is closed</h2><span id='topic+rp.block'></span>

<h3>Description</h3>

<p>This function prevents the <span class="rlang"><b>R</b></span> console from accepting further input waits until a panel is closed. The function has two uses.  The first is to keep <span class="rlang"><b>R</b></span> active when an R script is run in batch mode. This prevents the <span class="rlang"><b>R</b></span> session from terminating until the panel has been closed.  The second use is to block the user from further use of the command prompt.  There may be circumstances in which it is helpful to do this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.block(panel)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.block_+3A_panel">panel</code></td>
<td>
<p>the panel whose closure will lead to termination of rp.block.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>rp.block</code> should usually be the very last function executed in a script, to prevent 
termination until the panel has been closed.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package 
(<a href="http://www.stats.gla.ac.uk/~adrian/rpanel/">http://www.stats.gla.ac.uk/~adrian/rpanel/</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.control">rp.control</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# This function will be called on pressing the button "Simulate".
boxp.sim &lt;- function(panel) {
  boxplot(rnorm(50))
  panel
}
# Create an rpanel and add the button "Simulate" to it.
panel &lt;- rp.control()
rp.button(panel, action = boxp.sim, title = "Simulate")
rp.block(panel)

## End(Not run)
</code></pre>

<hr>
<h2 id='rp.bubbleplot'>Animated scatterplot</h2><span id='topic+rp.bubbleplot'></span>

<h3>Description</h3>

<p>This function produces a scatterplot of two variables, with the values of third and fourth variables represented by size and colour of the plotted points.  In addition, the scatterplot is animated over a fifth variable, such as time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  rp.bubbleplot(x, y, year, size, col, col.palette = topo.colors(20),
                     interpolate = FALSE, fill.in = FALSE, labels = rownames(x),
                     hscale = 1, vscale = hscale)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.bubbleplot_+3A_x">x</code></td>
<td>
<p>a matrix of values, whose columns correspond to time points, to be plotted on the horizontal axis.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_y">y</code></td>
<td>
<p>a matrix of values, whose columns correspond to time points, to be plotted on the vertical axis.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_year">year</code></td>
<td>
<p>a vector of values, usually years, over which the scatterplot will be animated.  The values in this vector correspond to the columns of <code>x</code> and <code>y</code>.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_size">size</code></td>
<td>
<p>a vector or matrix of values used to scale the sizes of the plotted points.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_col">col</code></td>
<td>
<p>a vector or matrix of values which will be translated into the colours of the plotted points.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_col.palette">col.palette</code></td>
<td>
<p>the colour palette used to colour the points.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_interpolate">interpolate</code></td>
<td>
<p>a logical variable controlling whether interpolation is used to create data for plotting at year values which do not correspond to an exact values of <code>year</code>.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_fill.in">fill.in</code></td>
<td>
<p>a logical variable which controls whether gaps resulting from missing data are filled in with the largest previous value.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_labels">labels</code></td>
<td>
<p>the labels of the plotted points, used to highlight individual points on the scatterplot.</p>
</td></tr>
<tr><td><code id="rp.bubbleplot_+3A_hscale">hscale</code>, <code id="rp.bubbleplot_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel.plot</code> is set to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This plot mimics the plots made famous by Hans Rosling through the Gapminder project (see <a href="https://www.gapminder.org">https://www.gapminder.org</a>).  The aim of this function is to make this type of plot available directly from within R.  The controls provide a slider or button for animation, plus a list of country names for individual identification.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.bubbleplot(log(gdp), log(co2.emissions), 1960:2007, size = population, 
      col = life.expectancy, interpolate = TRUE)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.button'>Button control for rpanel</h2><span id='topic+rp.button'></span>

<h3>Description</h3>

<p>This function adds a button to the panel. A nominated function is called when the button is pressed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.button(panel, action = I, title=deparse(substitute(action)), repeatdelay=0,
  repeatinterval=0, quitbutton=FALSE, pos=NULL, foreground=NULL, 
  background=NULL, font=NULL, parentname=deparse(substitute(panel)), 
  name=paste("button", .nc(), sep=""), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.button_+3A_panel">panel</code></td>
<td>
<p>the panel in which the button should appear.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_action">action</code></td>
<td>
<p>the function executed when the button is pressed.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_title">title</code></td>
<td>
<p>the text displayed on the button.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_repeatinterval">repeatinterval</code></td>
<td>
<p>the interval between auto-repeats (milliseconds) when the button is held down.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_repeatdelay">repeatdelay</code></td>
<td>
<p>the time after which the button starts to auto-repeat (milliseconds).</p>
</td></tr>
<tr><td><code id="rp.button_+3A_quitbutton">quitbutton</code></td>
<td>
<p>this defaults to FALSE. Set to TRUE this creates a button which will close the window and escape from an rp.block call. Before the window is destroyed the action function will be called.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_foreground">foreground</code></td>
<td>
<p>this sets the colour of text e.g. &quot;navy&quot;</p>
</td></tr>
<tr><td><code id="rp.button_+3A_background">background</code></td>
<td>
<p>this sets the background colour of text e.g. &quot;white&quot;</p>
</td></tr>
<tr><td><code id="rp.button_+3A_font">font</code></td>
<td>
<p>this sets the text font e.g. &quot;Arial&quot;</p>
</td></tr>
<tr><td><code id="rp.button_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the button should appear.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_name">name</code></td>
<td>
<p>the name of the button.</p>
</td></tr>
<tr><td><code id="rp.button_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel.
See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel. 
Without this assignment any widgets added or alterations made to panel parameters within 
the <code>action</code> function will be lost.
</p>


<h3>Note</h3>

<p>The arguments <code>id</code> and <code>parent</code> have been discontinued in version 1.1.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.doublebutton">rp.doublebutton</a></code>,<code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   # This function will be called on pressing the button "Simulate".
   boxp.sim &lt;- function(panel) {
     boxplot(rnorm(50))
     panel
     }
   # Create an rpanel and add the button "Simulate" to it.
   panel &lt;- rp.control()
   rp.button(panel, action = boxp.sim, title = "Simulate")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.cartoons'>Access to a collection of rpanel illustrations</h2><span id='topic+rp.cartoons'></span>

<h3>Description</h3>

<p>This function creates a panel with a menu which launches a variety of rpanel illustrations.  The function provides a template which can be amended by users to create tailored sets of illustrations.</p>


<h3>Usage</h3>

<pre><code class='language-R'>  rp.cartoons(hscale = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.cartoons_+3A_hscale">hscale</code></td>
<td>
<p>a scaling parameter for the size of the plot which will be passed to all relevant menu items.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing.</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.cartoons()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.checkbox'>A checkbox control for rpanel</h2><span id='topic+rp.checkbox'></span>

<h3>Description</h3>

<p>Adds one or more checkboxes to the panel, to control logical variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.checkbox(panel, variable, action=I, labels=NULL, names=NULL, title=NULL, 
  initval=rep(FALSE, length(labels)), pos=NULL, doaction=FALSE, foreground=NULL,
  background=NULL, font=NULL, parentname=deparse(substitute(panel)),
  name=paste("checkbox", .nc(), sep=""), ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.checkbox_+3A_panel">panel</code></td>
<td>
<p>the panel in which the checkbox(es) should appear.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_variable">variable</code></td>
<td>
<p>the name of the variable within the panel that the checkbox(es) should control.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_action">action</code></td>
<td>
<p>the function to call whenever a checkbox is clicked.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_labels">labels</code></td>
<td>
<p>the labels of the checkboxes. The length of <code>labels</code> determines the number
of checkboxes created.  This default value for <code>labels</code> is the name of 
<code>variable</code>, and therefore a single checkbox.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_names">names</code></td>
<td>
<p>the names attached to the elements of <code>variable</code>.  These provide a helpful
means of referring to particular items in multiple checkboxes when defining
the <code>action</code> function.  If names were not specified in the call to
<code>rp.control</code> then <code>names</code> is set to <code>labels</code>.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_title">title</code></td>
<td>
<p>the title of the checkbox group. This defaults to the name of the variable
<code>variable</code>.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_initval">initval</code></td>
<td>
<p>the initial value for <code>variable</code> (optional). The initial value can also be 
specified in the call to <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and 
help for full details.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_doaction">doaction</code></td>
<td>
<p>a logical variable which determines whether the action function is called
when the widget is created.  The default is FALSE, so that the <code>rp.do</code>
function should be called after all widgets have been created, to initialise
the state of the panel display.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_foreground">foreground</code></td>
<td>
<p>this sets the colour of text e.g. &quot;navy&quot;</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_background">background</code></td>
<td>
<p>this sets the background colour of text e.g. &quot;white&quot;</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_font">font</code></td>
<td>
<p>this sets the text font e.g. &quot;Arial&quot;</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the checkbox(es) should appear.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_name">name</code></td>
<td>
<p>the name of the checkbox.</p>
</td></tr>
<tr><td><code id="rp.checkbox_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the checkbox is attached.
See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel. 
Without this assignment any widgets added or alterations made to panel parameters within 
the <code>action</code> function will be lost.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.radiogroup">rp.radiogroup</a></code>,<code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   plot.hist &lt;- function(panel) {
	 with(panel, {
		xlim &lt;- range(c(x, mean(x) + c(-3, 3) * sd(x)))
	   if (panel$cbox[3])
	      clr &lt;- "lightblue" else clr &lt;- NULL
	   hist(x, freq = FALSE, col = clr, xlim = xlim)
	   if (panel$cbox[1]) {
	      xgrid &lt;- seq(xlim[1], xlim[2], length = 50)
	      dgrid &lt;- dnorm(xgrid, mean(x), sd(x))
	      lines(xgrid, dgrid, col = "red", lwd = 3)
	      }
	   if (panel$cbox[2])
	      box()
	   })
	 panel
	 }
   x &lt;- rnorm(50)
   panel &lt;- rp.control(x = x)
   rp.checkbox(panel, cbox, plot.hist, 
      labels = c("normal density", "box", "shading"), title = "Options")
   rp.do(panel, plot.hist)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.ci'>Simulations of normal-based confidence intervals</h2><span id='topic+rp.ci'></span>

<h3>Description</h3>

<p>This function shows simulated confidence intervals for the mean of
a normal distribution.  It also creates a panel which controls the 
mean and standard deviation of the population and the size of the 
simulated sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   rp.ci(mu = 0, sigma = 1, sample.sizes = c(30, 50, 100, 200, 500), confidence = 0.95,
         panel = TRUE, panel.plot = TRUE, hscale = NA, vscale = hscale)
  </code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.ci_+3A_mu">mu</code>, <code id="rp.ci_+3A_sigma">sigma</code></td>
<td>
<p>the population mean and standard deviation.</p>
</td></tr>
<tr><td><code id="rp.ci_+3A_sample.sizes">sample.sizes</code></td>
<td>
<p>the available sample sizes (<code>30</code>, <code>50</code>, <code>100</code>, <code>200</code>, <code>500</code>) for simulated data.</p>
</td></tr>
<tr><td><code id="rp.ci_+3A_confidence">confidence</code></td>
<td>
<p>the available confidence levels (<code>0.90</code>, <code>0.95</code>, <code>0.99</code>).</p>
</td></tr>
<tr><td><code id="rp.ci_+3A_panel">panel</code></td>
<td>
<p>a logical parameter which determines whether interactive controls are provided or a simple static plot is produced.</p>
</td></tr>
<tr><td><code id="rp.ci_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical parameter which determines whether the plot is placed inside the panel (TRUE) or the standard graphics window (FALSE).  If the plot is to be placed inside the panel then the <code>tkrplot</code> library is required.</p>
</td></tr>
<tr><td><code id="rp.ci_+3A_hscale">hscale</code>, <code id="rp.ci_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel.plot</code> is set to <code>TRUE</code>.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A button is provided to sample repeatedly from the current settings.  Confidence intervals which cover the population mean are coloured blue while those which miss are coloured red.  Repeated simulations illustrate the property of confidence intervals to capture the true value with probability determined by the confidence level (which here is set to 0.95).</p>


<h3>Value</h3>

<p>Nothing is returned.</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.ci()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.clearlines'>Remove lines from an rpanel image</h2><span id='topic+rp.clearlines'></span>

<h3>Description</h3>

<p>This function removes line(s) from an rpanel image widget: <code>rp.clearlines</code> removes all the lines from an image while <code>rp.deleteline</code> deletes only a given line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.clearlines(panel, imagename)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.clearlines_+3A_panel">panel</code></td>
<td>
<p>the panel which contains the image. This may be passed as a panelname string or the panel object itself.</p>
</td></tr>  
<tr><td><code id="rp.clearlines_+3A_imagename">imagename</code></td>
<td>
<p>the name of the image within the panel.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the parameter <code>panel</code> is the panelname string the same string is returned. If the panel object is used, the altered panel is assigned to both the calling level and panel's environment 
level.
</p>


<h3>Note</h3>

<p>In version 1.1 &quot;id&quot; has been renamed &quot;name&quot; to be consistent with the rest of rpanel.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.image">rp.image</a></code>,<code><a href="#topic+rp.line">rp.line</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   panel &lt;- rp.control()
   image.file &lt;- file.path(system.file(package = "rpanel"), "images", "gulllmks.gif")
   panel &lt;- rp.image(panel, image.file, imagename="gulls.image")
   rp.line(panel, imagename=gulls.image, 10, 10, 100, 100, color = "green")
   rp.line(panel, imagename=gulls.image, 100, 100, 100, 10, color = "blue")
   rp.clearlines(panel, imagename=gulls.image)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.colour.key'>Creates a colour key.</h2><span id='topic+rp.colour.key'></span>

<h3>Description</h3>

<p>A colour key is created using the specified colours (<code>cols</code>) and an axis defined by the specified breaks (<code>brks</code>).  This is usually an additional component of a panel which allows the colours on the main plot to be interpreted.  The function is used in that way in the function <code>rp.plot4d</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.colour.key(cols, brks, par.mar = c(5, 0, 4, 3) + 0.1, natural = TRUE, margin = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.colour.key_+3A_cols">cols</code></td>
<td>
<p>a vector of colours.</p>
</td></tr>
<tr><td><code id="rp.colour.key_+3A_brks">brks</code></td>
<td>
<p>a vector of values which defines the positions on the axis between which each colour is placed.</p>
</td></tr>
<tr><td><code id="rp.colour.key_+3A_par.mar">par.mar</code></td>
<td>
<p>a vector of four values which are passed to the <code>mar</code> argument of the <code>par</code> function to control the marginal space around the key.</p>
</td></tr>
<tr><td><code id="rp.colour.key_+3A_natural">natural</code></td>
<td>
<p>a logical value which, when <code>TRUE</code>, causes the usual form of axis to be constructed from the values in <code>brks</code>.  When <code>natural</code> is <code>FALSE</code>, the values in <code>brks</code> are associated with a regularly spaced set of locations along the axis.</p>
</td></tr>
<tr><td><code id="rp.colour.key_+3A_margin">margin</code></td>
<td>
<p>a logical value which determines whether a marginal plotting area is placed on the left of the key.  This can be useful in allowing relevant information to be plotted alongside the key, such as the confidence intervals in <code>rp.surface</code>.  Specifically, if <code>margin</code> is <code>FALSE</code>, the horizontal axis has range <code>c(0, 1)</code> while if <code>margin</code> is <code>TRUE</code> the the range is <code>c(-1, 1)</code>.  In both cases the key is plotted over the horizontal range <code>c(0, 1)</code>.</p>
</td></tr>
</table>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  key.plot &lt;- function(panel) {
  	rp.colour.key(topo.colors(12), 0:12)
  	panel
  }
  panel &lt;- rp.control()
  rp.tkrplot(panel, key, key.plot, hscale = 0.15)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.combo'>A &lsquo;combo&rsquo; for a panel</h2><span id='topic+rp.combo'></span>

<h3>Description</h3>

<p>This function adds a &lsquo;combobox&rsquo; to the panel. When an item is pressed, a variable is set and an action function is called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.combo(panel, variable, prompt=NULL, vals, initval=vals[1], pos=NULL, action=I,
  foreground=NULL, background=NULL, font=NULL, editable=FALSE,
  parentname=deparse(substitute(panel)), name=paste("combo", .nc(), sep=""), ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.combo_+3A_panel">panel</code></td>
<td>
<p>the panel in which the combobox should appear.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_variable">variable</code></td>
<td>
<p>the name of the variable whose value is set by the combobox.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_prompt">prompt</code></td>
<td>
<p>the label for the combobox.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_vals">vals</code></td>
<td>
<p>the values of <code>variable</code> used by the combo. </p>
</td></tr>
<tr><td><code id="rp.combo_+3A_initval">initval</code></td>
<td>
<p>the initial value of <code>variable</code> (optional). The initial value can also be specified in the call to <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_action">action</code></td>
<td>
<p>the function which is called when an item is chosen.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_foreground">foreground</code></td>
<td>
<p>colour of the text</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_background">background</code></td>
<td>
<p>colour of the text background</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_font">font</code></td>
<td>
<p>font to be used</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_editable">editable</code></td>
<td>
<p>whether the combobox can be edited or not.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the combobox should 
appear.</p>
</td></tr>
<tr><td><code id="rp.combo_+3A_name">name</code></td>
<td>
<p>name assigned to the combobox, used for disposing of the widget</p>
</td></tr>  
<tr><td><code id="rp.combo_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the combobox is attached.
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>
<p>This function makes use of the BWidget extension to the Tcl/Tk system.  If Bwidget has not been installed on your system, download it from <a href="https://sourceforge.net/projects/tcllib/files/BWidget/">https://sourceforge.net/projects/tcllib/files/BWidget/</a> and expand the compressed file into a folder.  On a Windows machine, this folder should then be copied into the folder containing the Tcl libraries that were installed as part of <span class="rlang"><b>R</b></span>.  This may be in a location such as C:\Program Files\R\R-4.0.2\Tcl\lib (with an obvious change to the version number of R being used).  On a Mac, the downloaded folder should be copied into the folder where the main Tcl package is located (note: not inside the Tcl folder but at the same level as the Tcl folder).  This may be in a location such as /usr/local/lib.
</p>
<p>Note that <code><a href="#topic+rp.listbox">rp.listbox</a></code> provides an alternative to <code>rp.combo</code> if the latter is unavailable.
</p>


<h3>Value</h3>

<p>If the parameter panel is the panelname string the same string is returned.  If the 
panel object is used the altered panel is assigned to both the calling level and panel's 
environment level.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>


<h3>Note</h3>

<p>Parameters <code>parent</code> and <code>...</code> have been discontinued in version 1.1.  Note that the argument previously named <code>var</code> has been renamed <code>variable</code> to avoid reserved 
word issues.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.checkbox">rp.checkbox</a></code>, <code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   callback &lt;- function(panel) {
      print(panel$option)
      panel
   }
   panel &lt;- rp.control()
   rp.combo(panel, option, "Pick an option:", 
            c("Option1","Option2","Other options"), action=callback)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.control'>Create or dispose of an rpanel</h2><span id='topic+rp.control'></span><span id='topic+rp.control.dispose'></span>

<h3>Description</h3>

<p>The function <code>rp.control</code> creates a panel window into which rpanel widgets can be placed.  It can also set up variables within the rpanel object.  The function <code>rp.control.dispose</code> disposes of an rpanel.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.control(title = "", size = c(100, 100), panelname, background, ...)
rp.control.dispose(panel)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.control_+3A_title">title</code></td>
<td>
<p>the title of the panel displayed in the banner.</p>
</td></tr>
<tr><td><code id="rp.control_+3A_size">size</code></td>
<td>
<p>a two-element numeric vector specifying width and height of the panel in pixels.  If this argument is omitted the size of the panel will adapt to the subsequent addition of widgets.</p>
</td></tr>
<tr><td><code id="rp.control_+3A_panelname">panelname</code></td>
<td>
<p>the name of the panel. It is usually not necessary to set this as it will be given a name automatically.</p>
</td></tr>
<tr><td><code id="rp.control_+3A_background">background</code></td>
<td>
<p>the background colour of the control e.g. &quot;white&quot;. (New parameter with version 2.0.)</p>
</td></tr>
<tr><td><code id="rp.control_+3A_...">...</code></td>
<td>
<p>additional arguments which are treated as variable initialisations and are stored within the returned rpanel object. For example inserting <code>x=3</code> creates a variable <code>x</code> in the rpanel object with the value 3.  Note that the names of these additional arguments should not conflict with those of the main arguments of <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.control_+3A_panel">panel</code></td>
<td>
<p>the panel to be disposed of.  This represents the object and its parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Objects passed into <code>rp.control</code> are then available to be used by action functions.
</p>


<h3>Value</h3>

<p>The list object which defines the panel.
</p>


<h3>Note</h3>

<p>Previous arguments <code>realname</code> and <code>aschar</code> have been discontinued in version 1.1.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.button">rp.button</a></code>,
<code><a href="#topic+rp.checkbox">rp.checkbox</a></code>,
<code><a href="#topic+rp.combo">rp.combo</a></code>,
<code><a href="#topic+rp.doublebutton">rp.doublebutton</a></code>,
<code><a href="#topic+rp.grid">rp.grid</a></code>,
<code><a href="#topic+rp.image">rp.image</a></code>,
<code><a href="#topic+rp.listbox">rp.listbox</a></code>,
<code><a href="#topic+rp.menu">rp.menu</a></code>,
<code><a href="#topic+rp.radiogroup">rp.radiogroup</a></code>,
<code><a href="#topic+rp.slider">rp.slider</a></code>,
<code><a href="#topic+rp.text">rp.text</a></code>,
<code><a href="#topic+rp.textentry">rp.textentry</a></code>,
<code><a href="#topic+rp.tkrplot">rp.tkrplot</a></code>,
<code><a href="#topic+rp.widget.dispose">rp.widget.dispose</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   hist.or.boxp &lt;- function(panel) {
     if (panel$plot.type == "histogram")
       hist(panel$x)
     else
       boxplot(panel$x)
     panel
   }
   panel &lt;- rp.control(x=rnorm(50), panelname="panel")
   rp.radiogroup(panel, plot.type, c("histogram", "boxplot"),
                 title="Plot type", action = hist.or.boxp)  

   # Try also
   # panel &lt;- rp.control()
   # rp.control.dispose(panel)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.control.put'>Updates the panel environment with the current value of the panel list object.</h2><span id='topic+rp.control.put'></span>

<h3>Description</h3>

<p>Sometimes an action function makes changes to the panel list object.  When the action function is completed, the panel environment is updated.  However, if there are other calls to action functions within the original action function, then the panel environment needs to be updated before these calls.  This function achieves that.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.control.put(panelname, panel)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.control.put_+3A_panelname">panelname</code></td>
<td>
<p>the panelname of the relevant panel.  This is usually identified as <code>panel$panelname</code>.</p>
</td></tr>
<tr><td><code id="rp.control.put_+3A_panel">panel</code></td>
<td>
<p>the relevant panel.</p>
</td></tr>
</table>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  action1 &lt;- function(panel) {
    panel$x &lt;- rnorm(1)
    rp.control.put(panel$panelname, panel)
    rp.do(panel, action2)
    panel
  }
  action2 &lt;- function(panel) {
  	print(panel$x)
  	panel
  }
  panel &lt;- rp.control(x = 0)
  rp.button(panel, action1, "new x")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.deleteline'>Removes a line from an rpanel image</h2><span id='topic+rp.deleteline'></span>

<h3>Description</h3>

<p>This removes a previously drawn line which was given an id in rp.line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.deleteline(panel, imagename, id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.deleteline_+3A_panel">panel</code></td>
<td>
<p>the panel containing the image. This 
may be passed as a panelname string or the panel object itself.</p>
</td></tr>
<tr><td><code id="rp.deleteline_+3A_imagename">imagename</code></td>
<td>
<p>the image on which the line was drawn.</p>
</td></tr>
<tr><td><code id="rp.deleteline_+3A_id">id</code></td>
<td>
<p>the identifier of the line to be deleted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the argument <code>panel</code> is the panelname string the same string is returned.  If the panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>Note</h3>

<p>In version 1.1, the former argument <code>image</code> has been renamed <code>name</code> to be consistent with the rest of <span class="pkg">rpanel</span>.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   panel &lt;- rp.control()
   image.file &lt;- file.path(system.file(package = "rpanel"), "images", "gulllmks.gif")
   panel &lt;- rp.image(panel, image.file, imagename="gulls.image")
   rp.line(panel, imagename=gulls.image, 10, 10, 100, 100, color = "green", id="first")
   rp.line(panel, imagename=gulls.image, 100, 100, 100, 10, color = "blue", id="second")
   rp.deleteline(panel, imagename=gulls.image, id="first")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.do'>Runs a user-written action function</h2><span id='topic+rp.do'></span>

<h3>Description</h3>

<p>Runs a user-written action function, passing a panel to it as a parameter. This can be used to put the rpanel into its initial state.  For example, it is useful when using radiobuttons as these do not automatically call the action function when the controls are first created.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.do(panel, action, x = NA, y = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.do_+3A_panel">panel</code></td>
<td>
<p>the panel to be passed as a parameter to the function.</p>
</td></tr>
<tr><td><code id="rp.do_+3A_action">action</code></td>
<td>
<p>the function to be executed.</p>
</td></tr>
<tr><td><code id="rp.do_+3A_x">x</code>, <code id="rp.do_+3A_y">y</code></td>
<td>
<p>additional arguments for mouse position on the plot, so that the action function can be called with these additional arguments if they are present.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the argument <code>panel</code> is the panelname string the same string is returned. If the panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+rp.radiogroup">rp.radiogroup</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   data.plotfn &lt;- function(panel) {
     if (panel$plot.type == "histogram") 
       hist(panel$x)
     else 
       if (panel$plot.type == "boxplot")
         boxplot(panel$x)
       else 
         plot(density(panel$x))
     panel
   }
   panel &lt;- rp.control(x = rnorm(50))
   rp.radiogroup(panel, plot.type, 
          c("histogram", "boxplot", "density estimate"), 
          action = data.plotfn, title = "Plot type", initval="histogram")     
   rp.do(panel, data.plotfn)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.doublebutton'>Double-button widget for rpanel</h2><span id='topic+rp.doublebutton'></span>

<h3>Description</h3>

<p>Adds a control with '+' and '-' buttons, to increment and decrement a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.doublebutton(panel, variable, step, title=deparse(substitute(variable)),
                action=I, initval=NULL, range=c(NA, NA), log=FALSE,
                showvalue=FALSE, showvaluewidth=4, repeatinterval=100,
                repeatdelay=100, pos=NULL, foreground=NULL, 
                background=NULL, font=NULL, parentname=deparse(substitute(panel)),
                name=paste("doublebutton", .nc(), sep=""), ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.doublebutton_+3A_panel">panel</code></td>
<td>
<p>the panel in which the doublebutton should appear.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_variable">variable</code></td>
<td>
<p>the name of the variable within the panel that the doublebutton should control.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_step">step</code></td>
<td>
<p>the value by which the variable &quot;variable&quot; is incremented or decremented on pressing a button. When log is TRUE this is a factor instead.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_title">title</code></td>
<td>
<p>the label for the doublebutton. This defaults to the name of var.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_action">action</code></td>
<td>
<p>the function which is called when a button is pressed.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_initval">initval</code></td>
<td>
<p>the initial value for var (optional). The initial value can also be specified in the call to <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_range">range</code></td>
<td>
<p>a 2-element numeric vector containing lower and upper limits for var. Use NA for no limit (upper and/or lower).</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_log">log</code></td>
<td>
<p>a logical variable which determines whether the increment (step) is multiplicative or additive.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_showvalue">showvalue</code></td>
<td>
<p>a logical variable which determines whether the present value of &quot;variable&quot; is shown between the + and - buttons. This is forced to FALSE when log is TRUE.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_showvaluewidth">showvaluewidth</code></td>
<td>
<p>defines the width of the shown value in characters.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_repeatinterval">repeatinterval</code></td>
<td>
<p>the interval between auto-repeats (milliseconds) when the button is held down.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_repeatdelay">repeatdelay</code></td>
<td>
<p>the time after which the button starts to auto-repeat (milliseconds).</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_foreground">foreground</code></td>
<td>
<p>colour of the text</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_background">background</code></td>
<td>
<p>colour of the text background</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_font">font</code></td>
<td>
<p>font to be used</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the doublebutton widget. </p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_name">name</code></td>
<td>
<p>name assigned to the doublebutton; used for disposal etc</p>
</td></tr>
<tr><td><code id="rp.doublebutton_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>action</code> should be a function of one argument, which should be the panel.  The panel can then be manipulated, and data stored in the panel may be used/modified, then the (optionally modified) panel must be returned.
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Value</h3>

<p>If the argument <code>panel</code> is the panelname string, the same string is returned.  If the panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>
<p>Note that setting <code>log=TRUE</code> and <code>showvalue=TRUE</code> is not allowed.
</p>


<h3>Note</h3>

<p>The former arguments <code>parent</code> and <code>...</code> have been discontinued in version 1.1.  Note also that the argument <code>var</code> has been renamed <code>variable</code> to avoid reserved word issues.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.radiogroup">rp.radiogroup</a></code>,<code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   density.draw &lt;- function(panel) {
     plot(density(panel$x, bw = panel$h))
     panel
     }
   panel &lt;- rp.control(x = rnorm(50))
   rp.doublebutton(panel, var = h, step = 0.05, 
     title = "Density estimate", action = density.draw,
     range = c(0.1, 5), initval=1)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.firth'>Geostatistical sampling and analysis simulation tool</h2><span id='topic+rp.firth'></span>

<h3>Description</h3>

<p>This function gives access to a sampling scenario which is based on the mapping of radioactivity and the calculation of a radionuclide inventory within a water body.  (A &lsquo;firth&rsquo; is a Scottish term for a long, narrow indentation of the sea coast at the mouth of a river.)  Interest lies in nuclides which, on release into a water body, attach (absorb) to sediment in a manner which depends on the sediment particle size.  Cobalt-60 and caesium-137 are examples of nuclides which exhibit this behaviour.  In this sampling scenario, the map of sediment type is used to define regions of different particle size from which the sediment samples will be collected by grabs from a boat.  The presence of strata therefore has to be considered, as the different types of material on the sea bed may affect the mean values of the measurements taken.
</p>
<p>The function displays a map and gives graphical control over a variety of sampling strategies.  Once the user has drawn a sample, some simple predictions over the whole firth can be produced.  The <span class="pkg">geoR</span> package is used to construct these predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.firth(hscale = NA, col.palette = rev(heat.colors(40)), col.se = "blue", file = NA,
          parameters = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.firth_+3A_hscale">hscale</code></td>
<td>
<p>a scaling parameter which expands (&gt;1) or contracts (&lt;1) the size of the plot
within the panel.  This can be useful for projection onto a screen, for example.
The vertical scale is set to the same value as the horizontal scale, to ensure
that the plot is square.  The default values are 1 on Unix platforms and 1.4 on 
Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.firth_+3A_col.palette">col.palette</code></td>
<td>
<p>the colour palette used to display the predicted and true spatial surfaces.</p>
</td></tr>
<tr><td><code id="rp.firth_+3A_col.se">col.se</code></td>
<td>
<p>the colour used to draw the standard error contours on the predicted surface.</p>
</td></tr>
<tr><td><code id="rp.firth_+3A_file">file</code></td>
<td>
<p>the name of a file to which the sampled data will be written.</p>
</td></tr>
<tr><td><code id="rp.firth_+3A_parameters">parameters</code></td>
<td>
<p>a list which can be used to change the parameters which control the simulated
measurement data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The use of the function is discussed in detail in the paper by Bowman et al. (2008) referenced below.
</p>
<p>Once the data have been sampled, a data file may be saved for further analysis external to the <code>rp.firth</code> function, using the <code>file</code> argument.  A convenient way of saving to the current working directory, for example to a file named <code>firth.dmp</code>, is to set the <code>file</code> argument to <code>file.path(getwd(), "firth.dmp")</code>.  The <code>load</code> function can then be applied to the saved file to create an object called <code>mururoa.data</code>, which is a three-column matrix with the x and y locations in columns 1 and 2 and the observed values in column 3.
</p>


<h3>Value</h3>

<p>Nothing in returned.</p>


<h3>References</h3>

<p>Bowman, A.W., Crawford, E., Alexander, G. Gibson and Bowman, R.W. (2007).   
rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>
<p>Bowman, A.W., Gibson, I., Scott, E.M. and Crawford, E. (2008).
Interactive Teaching Tools for Spatial Sampling.
Journal of Statistical Software, 36, 13, 1&ndash;17.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.mururoa">rp.mururoa</a></code>, <code><a href="#topic+rp.geosim">rp.geosim</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.firth()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.geosim'>Interactive visualisation of spatially correlated random fields</h2><span id='topic+rp.geosim'></span>

<h3>Description</h3>

<p>This function allows Gaussian random fields to be simulated and visualised, using graphical controls for a variety of parameter settings.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.geosim(max.Range = 0.5, max.pSill = 1, max.Nugget = 1, max.Kappa = 10, 
                      max.aniso.ratio = 5,
                      min.ngrid = 10, max.ngrid = 25, hscale = NA, vscale = hscale,
                      col.palette = terrain.colors(40))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.geosim_+3A_max.range">max.Range</code>, <code id="rp.geosim_+3A_max.psill">max.pSill</code>, <code id="rp.geosim_+3A_max.nugget">max.Nugget</code></td>
<td>
<p>the maximum values of the range, sill and nugget
parameters.  These define the end-points of the corresponding slider scales.</p>
</td></tr>
<tr><td><code id="rp.geosim_+3A_max.kappa">max.Kappa</code></td>
<td>
<p>The maximum value of the kappa parameter in the Matern family of 
spatial covariance functions.</p>
</td></tr>
<tr><td><code id="rp.geosim_+3A_max.aniso.ratio">max.aniso.ratio</code></td>
<td>
<p>The maximum value of the anisotropy ratio parameter, which
controls the degree of anisotropy in the simulated field.</p>
</td></tr>
<tr><td><code id="rp.geosim_+3A_min.ngrid">min.ngrid</code>, <code id="rp.geosim_+3A_max.ngrid">max.ngrid</code></td>
<td>
<p>the minimum and maximum values of the grid size for sampling points.</p>
</td></tr>
<tr><td><code id="rp.geosim_+3A_hscale">hscale</code>, <code id="rp.geosim_+3A_vscale">vscale</code></td>
<td>
<p>horizontal and vertical scaling factors for the size of the plots.
It can be useful to adjust these for different screen resolutions or for 
projection in a lecture setting.  The default values are 1.2 on Unix platforms
and 1.4 on Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.geosim_+3A_col.palette">col.palette</code></td>
<td>
<p>the colour palette used to display the random fields.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The aim of the tool is to allow the generation of repeated simulated fields without the distraction of re-executing code explicitly.  This can help to gain an intuitive understanding of the nature of spatial data.  In particular, interactive control of parameters can help greatly in understanding the meaning and effects of parameter values.  Nugget effects can be added and sampled points displayed.  Two-dimensional contour plots are produced.  Three-dimensional plots are also produced if the <span class="pkg">rgl</span> package is available.
</p>
<p>The use of the function is discussed in the paper paper by Bowman et al. (2008) referenced below.
</p>
<p>The <span class="pkg">geoR</span> and <span class="pkg">RandomFields</span> packages are used to generate the data.
</p>
<p>Note that the Matern covariance function is parameterised in the form described by Handcock &amp; Wallis (1994) which separates the effects of the shape and range parameters.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>Adler, D. (2005).
rgl: 3D Visualization Device System (OpenGL).
<a href="https://cran.r-project.org">https://cran.r-project.org</a>.
</p>
<p>Bowman, A.W., Crawford, E., Alexander, G. Gibson and Bowman, R.W. (2007).   
rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>
<p>Bowman, A.W., Gibson, I., Scott, E.M. and Crawford, E. (2008).
Interactive Teaching Tools for Spatial Sampling.
Journal of Statistical Software, 36, 13, 1&ndash;17.
</p>
<p>Diggle, P.J. and Ribiero, P.J. (2008).
Model-based Geostatistics.
Springer, New York.
</p>
<p>Handcock, M.S. and Wallis, J.R. (1994).
An approach to statistical spatial-temporal modeling of meteorological fields.
Journal of the American Statistical Association, 89, 368-378.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.firth">rp.firth</a></code>, <code><a href="#topic+rp.mururoa">rp.mururoa</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.geosim()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.grid'>Define a subsidiary grid within an rpanel</h2><span id='topic+rp.grid'></span>

<h3>Description</h3>

<p>A subsidiary grid is defined at a specified location within an rpanel.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.grid(panel, name=paste("grid", .nc(), sep=""), pos=NULL, background=NULL, 
  parentname=deparse(substitute(panel)), ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.grid_+3A_panel">panel</code></td>
<td>
<p>the panel to which the grid should be attached.</p>
</td></tr>
<tr><td><code id="rp.grid_+3A_name">name</code></td>
<td>
<p>a string defining the name of the grid. For use with <code><a href="#topic+rp.widget.dispose">rp.widget.dispose</a></code></p>
</td></tr>
<tr><td><code id="rp.grid_+3A_pos">pos</code></td>
<td>
<p>See the help information on &quot;grid&quot; mode in <code><a href="#topic+rp.pos">rp.pos</a></code>, for more information. </p>
</td></tr>
<tr><td><code id="rp.grid_+3A_background">background</code></td>
<td>
<p>a character variable defining a background colour.  (This is not the same as colours in <span class="rlang"><b>R</b></span>, but simple colours are available.)</p>
</td></tr>
<tr><td><code id="rp.grid_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the grid should appear.</p>
</td></tr>
<tr><td><code id="rp.grid_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The role of this function is to specify a subsidiary grid at a particular row and column position of the parent grid.  Nesting of grids within grids is permitted.  See the help information on &quot;grid&quot; mode in <code><a href="#topic+rp.pos">rp.pos</a></code> for a description of the settings of the <code>pos</code> argument.
</p>


<h3>Note</h3>

<p>The former argument <code>parent</code> has been discontinued in version 1.1, while the argument <code>bg</code> has been renamed <code>background</code> for consistency with the other functions.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for <span class="rlang"><b>R</b></span> functions using the tcltk package. Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
panel &lt;- rp.control()
rp.grid(panel, pos=list(row=0, column=0, sticky="news"),
        background="red", name="g0")
rp.grid(panel, pos=list(row=1, column=1, sticky="news", width=100, height=100),
        background="navy", name="g1")
rp.grid(panel, pos=list(row=2, column=2, sticky="news", width=150, height=200),
        background="green", name="g2")
rp.button(panel, function(panel) { panel }, "press A",
        pos=list(row=1, column=1, sticky=""), parentname="g1")
rp.button(panel, function(panel) { panel }, "press B",
        pos=list(row=2, column=2, sticky="news"), parentname="g1")
rp.button(panel, function(panel) { panel }, "press C",
        pos=list("left",width=50, height=150), parentname="g2")
rp.grid(panel, pos=list(row=0, column=0, sticky="", width=10, height=10),
        background="yellow", parentname="g0")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.gulls'>STEPS module: the Birds and the Bees</h2><span id='topic+rp.gulls'></span>

<h3>Description</h3>

<p>The function launches a panel which contains an image of a herring gull.  With this bird, sex cannot easily be identified by visual inspection.  The user is invited to identify length measurements, defined by pairs of landmarks, which will enable males and females to be identified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.gulls(df.name = "", panel.plot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.gulls_+3A_df.name">df.name</code></td>
<td>
<p>a string giving the filename where the dataframe containing the currently collected measurements will be stored using the <code>save</code> function.  If this string is the default value of &quot;&quot; then no file will be saved.</p>
</td></tr>
<tr><td><code id="rp.gulls_+3A_panel.plot">panel.plot</code></td>
<td>
<p>whether to plot or not.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The panel contains an image with landmarks indicated by yellow dots.  When the user clicks two landmarks, a length measurement is indicated by a coloured line.  The &lsquo;Collect data&rsquo; button can be clicked to request that this measurement is collected, on a database of birds whose sex is known.  If the measurement is a valid and useful one, it is added to the named dataframe, which is immediately saved in the file <code>df.name</code> and is therefore available for inspection and analysis simply by <code>load</code>ing this file.  If the measurement is invalid or not useful, an appropriate message is given in a pop-up window.
</p>
<p>Note that in versions of rpanel earlier than 1.1-1 the dataframe containing the collected data was previously forced into the global environment for immediate access.  This has been replaced by the use of a user-nominated file.
</p>


<h3>Value</h3>

<p>the name of the panel created.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.gulls()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.image'>Placement of an image within a rpanel</h2><span id='topic+rp.image'></span>

<h3>Description</h3>

<p>An image is placed inside a panel. When the image is clicked the action function is called with the x and y coordinates of the clicked position.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.image(panel, filename, imagename, action=NA, mousedrag=NA, mouseup=NA, pos=NULL,
  parentname=deparse(substitute(panel)), ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.image_+3A_panel">panel</code></td>
<td>
<p>the panel in which the image should appear. This 
may be passed as a panelname string or the panel object itself.</p>
</td></tr>
<tr><td><code id="rp.image_+3A_filename">filename</code></td>
<td>
<p>the name of the file where the image is located.</p>
</td></tr>
<tr><td><code id="rp.image_+3A_imagename">imagename</code></td>
<td>
<p>name assigned to the image, used for disposing of the widget</p>
</td></tr>  
<tr><td><code id="rp.image_+3A_action">action</code></td>
<td>
<p>the function which is called when the image is clicked.</p>
</td></tr>
<tr><td><code id="rp.image_+3A_mousedrag">mousedrag</code></td>
<td>
<p>the function which is called when the mouse is dragged.</p>
</td></tr>
<tr><td><code id="rp.image_+3A_mouseup">mouseup</code></td>
<td>
<p>the function which is called when the mouse is released.</p>
</td></tr>
<tr><td><code id="rp.image_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.image_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the image should 
appear.</p>
</td></tr>
<tr><td><code id="rp.image_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take three arguments, the panel and the coordinates <code>x</code> and <code>y</code> where the image was clicked. At present only GIF images are supported.
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Value</h3>

<p>If the argument <code>panel</code> is the panelname string, the same string is returned.  If the panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>


<h3>Note</h3>

<p>The former arguments <code>parent</code> and <code>...</code> have been discontinued in version 1.1.  Note also that the argument <code>id</code> has been renamed <code>name</code> to be consistent with the rest of rpanel.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   gulls.click &lt;- function(panel, x, y) {
     print(c(x, y))
     panel
     }
   panel &lt;- rp.control()
   image.file &lt;- file.path(system.file(package = "rpanel"), "images", "gulllmks.gif")
   rp.image(panel, image.file, gulls.image, action = gulls.click)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.likelihood'>Interactive inspection of one- or two-parameter likelihood surfaces</h2><span id='topic+rp.likelihood'></span>

<h3>Description</h3>

<p>This function plots a likelihood surface for a model with one or two parameters.  It also creates a panel which allows the maximum likelihood estimate, a confidence region and other objects of interest to be added to the plot.  For one-parameter models, the <code>tkrplot</code> package is required.  For two-parameter models the <code>rgl</code> package is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.likelihood(loglik.fn, data, theta.low, theta.high, form = "log-likelihood", 
                  hscale = NA, vscale = hscale)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.likelihood_+3A_loglik.fn">loglik.fn</code></td>
<td>
<p>This should be either the name of a function, with arguments <code>theta</code> 
and <code>data</code>, or R code, in text form, which evaluates the log-likelihood function.
The latter form allows simple <code>R</code> expressions such as <code>sum(log(dexp(data, theta)))</code>
or <code>sum(log(dgamma(data, theta[1], theta[2])))</code> to be used to
define the log-likelihood.</p>
</td></tr>
<tr><td><code id="rp.likelihood_+3A_data">data</code></td>
<td>
<p>an object which contains the data.  This will be referred to in
<code>likelihood contributions</code>.</p>
</td></tr>
<tr><td><code id="rp.likelihood_+3A_theta.low">theta.low</code></td>
<td>
<p>a vector of length one or two which defines the lower limit(s) of
the parameter values for initial plotting.</p>
</td></tr>
<tr><td><code id="rp.likelihood_+3A_theta.high">theta.high</code></td>
<td>
<p>a vector of length one or two which defines the upper limit(s) of
the parameter values for initial plotting.</p>
</td></tr>
<tr><td><code id="rp.likelihood_+3A_form">form</code></td>
<td>
<p>a text variable which determines whether the likelihood or log-likelihood
function is to be plotted.  This applies only to one-parameter models.  With
two-parameter models, only the log-likelihood is plotted.</p>
</td></tr>
<tr><td><code id="rp.likelihood_+3A_hscale">hscale</code>, <code id="rp.likelihood_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when there is one covariate.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The interactive controls allow a variety of aspects of the plots to be altered.
This is intended to allow students and lecturers to explore likelihood surfaces
in a manner which promotes an intuitive understanding of the concepts involved.
</p>
<p>In the case of one parameter, the vertical axes of the (log-)likelihood plot can be
clicked and grabbed to alter the plotting region interactively.  This can be useful,
in particular, in identifying the maximum likelihood estimator graphically.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Statistical cartoons in <span class="rlang"><b>R</b></span>. MSOR Connections, 7, 3-7.
</p>
<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.likelihood("sum(log(dexp(data, theta)))", aircond, 0.005, 0.03)
   rp.likelihood("sum(log(dgamma(data, theta[1], theta[2])))",
        aircond, c(0.3, 0.005), c(3, 0.06))

## End(Not run)</code></pre>

<hr>
<h2 id='rp.line'>Draws a line on an rpanel image</h2><span id='topic+rp.line'></span>

<h3>Description</h3>

<p>This draws a line connecting the pixel locations <code>x1, y1 to x2, y2</code> on the specified image. The colour and width of the line can be controlled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.line(panel, imagename, x1, y1, x2, y2, color = "black", width = 2, id = 'rpline')
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.line_+3A_panel">panel</code></td>
<td>
<p>the panel containing the image. This 
may be passed as a panelname string or the panel object itself.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_imagename">imagename</code></td>
<td>
<p>the image on which the line should be drawn.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_x1">x1</code></td>
<td>
<p>the horizontal first position of start of the line in pixel co-ordinates.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_y1">y1</code></td>
<td>
<p>the vertical first position of start of the line in pixel co-ordinates.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_x2">x2</code></td>
<td>
<p>the horizontal final position of end of the line in pixel co-ordinates.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_y2">y2</code></td>
<td>
<p>the vertical final position of end of the line in pixel co-ordinates.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_color">color</code></td>
<td>
<p>the colour of the line. The default is &quot;black&quot;.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_width">width</code></td>
<td>
<p>the width of the line. The default is 2.</p>
</td></tr>
<tr><td><code id="rp.line_+3A_id">id</code></td>
<td>
<p>the identifier of the line created.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the line is attached. 
</p>


<h3>Value</h3>

<p>If the argument panel is the panelname string, the same string is returned.  If the panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>Note</h3>

<p>In version 1.0, the former argument <code>image</code> has been renamed <code>name</code> to be consistent with the rest of rpanel.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.tkrplot">rp.tkrplot</a></code>,<code><a href="#topic+rp.image">rp.image</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  click.capture &lt;- function(panel,x,y) {
    if (is.null(panel$x)) { 
      panel$x &lt;- as.numeric(x)
      panel$y &lt;- as.numeric(y) 
    } 
    else { 
      rp.line(panel, imagename=gulls.image, panel$x, panel$y,
              as.numeric(x), as.numeric(y), width=3, id = "current")
      panel$x &lt;- as.numeric(x)
      panel$y &lt;- as.numeric(y)
    }
    panel
  }
  gulls.panel &lt;- rp.control()
  image.file &lt;- file.path(system.file(package = "rpanel"), "images", "gulllmks.gif")
  rp.image(gulls.panel, image.file, imagename="gulls.image", action = click.capture)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.listbox'>Listbox for a panel</h2><span id='topic+rp.listbox'></span>

<h3>Description</h3>

<p>This function adds a listbox to the panel. When an item is pressed, a variable is set and an action function is called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.listbox(panel, variable, vals, labels = vals,
           rows=length(labels), initval=vals[1], pos=NULL, 
           title=deparse(substitute(variable)), action=I, foreground=NULL,
           background=NULL, font=NULL, parentname=deparse(substitute(panel)),
           sleep = 0.01, name=paste("listbox", .nc(), sep=""), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.listbox_+3A_panel">panel</code></td>
<td>
<p>the panel in which the listbox should appear.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_variable">variable</code></td>
<td>
<p>the name of the variable whose value is set by the listbox.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_vals">vals</code></td>
<td>
<p>the values of <code>var</code> used by the listbox. NOTE: Not currently in use, intended to be. </p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_labels">labels</code></td>
<td>
<p>the labels for values of var offered by the listbox.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_rows">rows</code></td>
<td>
<p>the number of rows in the list. This defaults to the number of labels. If the number of labels is greater than the number of rows the listbox will be displayed with a scrollbar.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_initval">initval</code></td>
<td>
<p>the initial value of &lt;var&gt; (optional). The initial value can also be specified in the call to <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_title">title</code></td>
<td>
<p>the label for the listbox.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_action">action</code></td>
<td>
<p>the function which is called when an item is chosen.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_foreground">foreground</code></td>
<td>
<p>colour of the text</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_background">background</code></td>
<td>
<p>colour of the text background</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_font">font</code></td>
<td>
<p>font to be used</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the listbox should 
appear.</p>
</td></tr>
<tr><td><code id="rp.listbox_+3A_sleep">sleep</code></td>
<td>
<p>a length of time in seconds, passed to <code>Sys.sleep</code>, which can be used to overcome a technical problem in some computer systems.  If the listbox appears blank, then setting this parameter to a slightly value may fix the problem.</p>
</td></tr>  
<tr><td><code id="rp.listbox_+3A_name">name</code></td>
<td>
<p>name assigned to the listbox, used for disposing of the widget</p>
</td></tr>  
<tr><td><code id="rp.listbox_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>  
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the listbox is attached. 
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Value</h3>

<p>If the argument <code>panel</code> is the panelname string, the same string is returned.  If the panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>


<h3>Note</h3>

<p>The former arguments <code>parent</code> and <code>...</code> have been discontinued in version 1.1.  Note also that the argument <code>var</code> has been renamed <code>variable</code> to avoid reserved word issues.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.  Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.checkbox">rp.checkbox</a></code>,<code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   data.plotfn &lt;- function(panel) {
     if (panel$plot.type == "histogram")
       hist(panel$x)
     else
       if (panel$plot.type == "boxplot")
         boxplot(panel$x)
       else
         plot(density(panel$x))
     panel
   }
   panel &lt;- rp.control(x = rnorm(50))
   rp.listbox(panel, plot.type,
       c("histogram", "boxplot", "density estimate"),
       action = data.plotfn, title = "Plot type") 

## End(Not run)</code></pre>

<hr>
<h2 id='rp.logistic'>Interactive display of logistic regression with a single covariate</h2><span id='topic+rp.logistic'></span>

<h3>Description</h3>

<p>The function <code>rp.logistic</code> plots a binary or binomial response variable 
against a single covariates and creates a panel which controls the position of 
a logistic curve and allows a logistic regression to be fitted to the data and 
displayed on the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   rp.logistic(x, y, xlab = NA, ylab = NA, panel.plot = TRUE, panel = TRUE,
               hscale = NA, vscale = hscale, alpha = 0, beta = 0, 
               display = c("jitter" = FALSE, "regression line" = FALSE,
               "fitted model" = FALSE))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.logistic_+3A_x">x</code></td>
<td>
<p>a vector of covariate values.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_y">y</code></td>
<td>
<p>a vector of response values with two levels, or a two-column matrix whose first column is the number of &lsquo;successes&rsquo; and the second column is the number of &lsquo;failures&rsquo; at each covariate value.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_xlab">xlab</code></td>
<td>
<p>a character variable used for the covariate axis label.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_ylab">ylab</code></td>
<td>
<p>a character variable used for the response axis label.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical variable which determines whether the plot is placed inside the control panel.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_panel">panel</code></td>
<td>
<p>a logical variable which determines whether an interactive panel is created.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_hscale">hscale</code>, <code id="rp.logistic_+3A_vscale">vscale</code></td>
<td>
<p>horizontal and vertical scaling factors for the size of the plots.  It can be useful to adjust these for projection on a screen, for example.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_alpha">alpha</code></td>
<td>
<p>the initial value of the intercept parameter.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_beta">beta</code></td>
<td>
<p>the initial value of the slope parameter.</p>
</td></tr>
<tr><td><code id="rp.logistic_+3A_display">display</code></td>
<td>
<p>the initial settings of the checkboxes which control whether the data are &lsquo;jittered&rsquo; for visual effect and whether the movable and fitted regression lines are displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The control panel allows a logistic regression line to be drawn on the plot and the intercept and slope of the linear predictor altered interactively.  The fitted logistic regression can also be displayed.
</p>
<p>If <code>y</code> is a vector of responses with two values, these are treated as a factor which is then converted to the (0,1) scale by <code>as.numeric</code>.
</p>
<p>The values of the response variable can be &lsquo;jittered&rsquo;.
</p>


<h3>Value</h3>

<p>Nothing is returned.</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.regression">rp.regression</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.logistic(river$Temperature, river$Low)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.menu'>Top level menu for a panel</h2><span id='topic+rp.menu'></span>

<h3>Description</h3>

<p>This function adds a menu to the top of the panel window.  When a menu item is selected, a variable is set and an action function is called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.menu(panel, variable, labels, initval=NULL, action=I,
        foreground=NULL, background=NULL, font=NULL,
        name=paste("menu", .nc(), sep="")) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.menu_+3A_panel">panel</code></td>
<td>
<p>the panel to which the menu should be attached should appear.</p>
</td></tr>
<tr><td><code id="rp.menu_+3A_variable">variable</code></td>
<td>
<p>the name of the variable whose value is set by the menu. (Renamed in 2.0 to <code>variable</code> from <code>var</code> as <code>var</code> is a reserved word.) </p>
</td></tr>
<tr><td><code id="rp.menu_+3A_labels">labels</code></td>
<td>
<p>the labels for the menu options. These values are returned through var. The menu is defined by a 
list of lists of character strings. Each major menu heading should be the first item in the sub-lists with the 
submenu items listed afterwards in the same list. Please see the example.</p>
</td></tr>
<tr><td><code id="rp.menu_+3A_initval">initval</code></td>
<td>
<p>the initial value of <code>variable</code> (optional). The initial value can also be specified in the call to <code><a href="#topic+rp.control">rp.control</a></code>.</p>
</td></tr>
<tr><td><code id="rp.menu_+3A_action">action</code></td>
<td>
<p>the function which is called when a menu item is chosen.</p>
</td></tr>
<tr><td><code id="rp.menu_+3A_foreground">foreground</code></td>
<td>
<p>this sets the colour of text e.g. &quot;navy&quot;</p>
</td></tr>
<tr><td><code id="rp.menu_+3A_background">background</code></td>
<td>
<p>this sets the background colour of text e.g. &quot;white&quot;</p>
</td></tr>
<tr><td><code id="rp.menu_+3A_font">font</code></td>
<td>
<p>this sets the text font e.g. &quot;Arial&quot;</p>
</td></tr>
<tr><td><code id="rp.menu_+3A_name">name</code></td>
<td>
<p>the name of the widget - this is used by <code><a href="#topic+rp.widget.dispose">rp.widget.dispose</a></code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the listbox is attached.
</p>
<p>The list for a menu consisting of &quot;File&quot; and &quot;Edit&quot; only would be defined as
<code>list(list("File"), list("Edit"))</code>.
</p>
<p>The list for a menu consisting of &quot;File&quot; with subitem &quot;Quit&quot;, and &quot;Edit&quot; with subitems &quot;Copy&quot;, &quot;Cut&quot; and &quot;Paste&quot;, would be defined as
<code>list(list("File", "Quit"), list("Edit", "Copy", "Cut", "Paste"))</code>.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>
<p>The action function must be defined before the <code>rp.menu</code> statement as it relies on the function already existing.
</p>


<h3>Note</h3>

<p>The former argument <code>parent</code> has been discontinued in version 1.1.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.  Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.checkbox">rp.checkbox</a></code>,<code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   a &lt;- rp.control()
   # The action function has to come first so that it already exists for rp.menu, 
   # as it creates the callback functions on the fly it requires action to already 
   # be defined.
   domenu &lt;- function(panel) {
      rp.messagebox(panel$menuchoice, title = "You chose")
      panel
      }
   rp.menu(a, menuchoice, labels=list(list("File","Quit"),
              list("Edit","Copy","Cut","Paste")), action=domenu)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.messagebox'>Displays a message</h2><span id='topic+rp.messagebox'></span>

<h3>Description</h3>

<p>This function displays a message in a pop-up window.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.messagebox(..., title="rpanel Message")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.messagebox_+3A_...">...</code></td>
<td>
<p>parameters containing the message to be displayed.</p>
</td></tr>
<tr><td><code id="rp.messagebox_+3A_title">title</code></td>
<td>
<p>the title for the message window.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The pop-up window remains displayed and no other action can be taken, until the 'ok' button is pressed. 
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+rp.control">rp.control</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.messagebox("Click OK to continue.", title = "Test message")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.mururoa'>Sampling in Mururoa Atoll</h2><span id='topic+rp.mururoa'></span>

<h3>Description</h3>

<p>This function is based on a real sampling study on the effects of nuclear experiments conducted between 1966 and 1996 in the South Pacific, at the atolls of Mururoa and Fangataufa, (Report by International Advisory Committee, IAEA, 1998).  As part of the assessment of subsequent radiological conditions, both terrestrial and aquatic samples were collected and assayed for activities due to strontium-90, caesium-137, plutonium and tritium.  The sampling scenario in the function is based on water sampling by boat in the Mururoa atoll.  A graphical control panel allows users to select sampling points.  Once the user has drawn a sample, some simple predictions over the whole atoll can be produced.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.mururoa(hscale = NA, col.palette = rev(heat.colors(40)), col.se = "blue", file = NA,
    parameters = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.mururoa_+3A_hscale">hscale</code></td>
<td>
<p>a scaling parameter which expands (&gt;1) or contracts (&lt;1) the size of the plot
within the panel.  This can be useful for projection onto a screen, for example.
The vertical scale is set to the same value as the horizontal scale, to ensure
that the plot is square.  The default values are 1 on Unix platforms and 1.4 
on Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.mururoa_+3A_col.palette">col.palette</code></td>
<td>
<p>the colour palette used to display the predicted and true spatial surfaces.</p>
</td></tr>
<tr><td><code id="rp.mururoa_+3A_col.se">col.se</code></td>
<td>
<p>the colour used to draw the standard error contours on the predicted surface.</p>
</td></tr>
<tr><td><code id="rp.mururoa_+3A_file">file</code></td>
<td>
<p>the name of a file to which the sampled data will be written.</p>
</td></tr>
<tr><td><code id="rp.mururoa_+3A_parameters">parameters</code></td>
<td>
<p>a list which can be used to change the parameters which control the simulated
measurement data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The panel controls allow the user to experiment with random and systematic sampling, with further control of the alignment and patterns of points in the systematic case.  The number of points can also be selected.  When a sample is taken, simulated data are generated.  Some further controls allow predicted surfaces and standard errors to be displayed, using different types of trend functions.  The <code>geoR</code> package is used to construct these predictions.  The true simulated surface can also be displayed, to indicate the success of the predictions.
</p>
<p>Once the data have been sampled, a data file may be saved for further analysis external to the <code>rp.mururoa</code> function, using the <code>file</code> argument.  A convenient way of saving to the current working directory, for example to a file named <code>mururoa.dmp</code>, is to set the <code>file</code> argument to <code>file.path(getwd(), "mururoa.dmp")</code>.  The <code>load</code> function can then be applied to the saved file to create an object called <code>mururoa.data</code>, which is a three-column matrix with the x and y locations in columns 1 and 2 and the observed values in column 3.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>
<p>Bowman, A.W., Gibson, I., Scott, E.M. and Crawford, E. (2008).
Interactive Teaching Tools for Spatial Sampling.
Journal of Statistical Software, 36, 13, 1&ndash;17.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.firth">rp.firth</a></code>, <code><a href="#topic+rp.geosim">rp.geosim</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.mururoa()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.normal'>Interactive fitting of a normal distribution</h2><span id='topic+rp.normal'></span>

<h3>Description</h3>

<p>This function plots a histogram of a sample of data and creates a panel which controls the mean and standard deviation of the normal distribution which is fitted to the data and displayed on the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  rp.normal(y, ylab = deparse(substitute(y)),
            panel.plot = TRUE, hscale = NA, vscale = hscale)
  </code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.normal_+3A_y">y</code></td>
<td>
<p>a vector of data.</p>
</td></tr>
<tr><td><code id="rp.normal_+3A_ylab">ylab</code></td>
<td>
<p>a character variable used for the histogram axis label.</p>
</td></tr>
<tr><td><code id="rp.normal_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical parameter which determines whether the
plot is placed inside the panel (TRUE) or the
standard graphics window (FALSE).  If the plot is
to be placed inside the panel then the tkrplot
library is required.</p>
</td></tr>
<tr><td><code id="rp.normal_+3A_hscale">hscale</code>, <code id="rp.normal_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel.plot</code> is set to <code>TRUE</code>.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The interactive controls allow a normal density curve to be added to the histogram, with doublebuttons used to control the values of the normal mean and standard deviation.  The fitted normal density based on the sample mean and standard deviation can also be displayed.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  y &lt;- rnorm(50, mean = 10, sd = 0.5)
  rp.normal(y)
  
## End(Not run)</code></pre>

<hr>
<h2 id='rp.notebook'>Define a notebook within an rpanel</h2><span id='topic+rp.notebook'></span><span id='topic+rp.notebook.raise'></span>

<h3>Description</h3>

<p>A tabbed notebook, the location of which is defined by pos, is created within an rpanel. Further widgets, grids or 
even notebooks can then be placed within the notebook.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.notebook(panel, tabs, tabnames=tabs, width = 600, height = 400, pos = NULL, 
  foreground = NULL, background = "lightgray", font = NULL, 
  parentname = deparse(substitute(panel)),
  name = paste("notebook", .nc(), sep = ""), ...)
rp.notebook.raise(panel, parentname, label)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.notebook_+3A_panel">panel</code></td>
<td>
<p>the panel in which the notebook should appear.</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_tabs">tabs</code></td>
<td>
<p>this is a vector of the names to appear on the tabs</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_tabnames">tabnames</code></td>
<td>
<p>this is a vector of the labels to be used internally - used by <code>rp.notebook.raise</code></p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_width">width</code></td>
<td>
<p>the width, in pixels, of the notebook</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_height">height</code></td>
<td>
<p>the height, in pixels, of the notebook</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_pos">pos</code></td>
<td>
<p>the position of the notebook. see <code><a href="#topic+rp.pos">rp.pos</a></code> </p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_foreground">foreground</code></td>
<td>
<p>this sets the colour of text e.g. &quot;navy&quot;</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_background">background</code></td>
<td>
<p>this sets the background colour of text e.g. &quot;white&quot;</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_font">font</code></td>
<td>
<p>this sets the text font e.g. &quot;Arial&quot;</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the notebook should appear.</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_name">name</code></td>
<td>
<p>the name of the widget - this is used by <code><a href="#topic+rp.widget.dispose">rp.widget.dispose</a></code> </p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_label">label</code></td>
<td>
<p>the name of the tab which is to be raised</p>
</td></tr>
<tr><td><code id="rp.notebook_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The role of this function is to specify a notebook.  Nesting of notebooks is permitted. <code>rp.notebook.raise</code> is used to bring the contents of a particular tab to the foreground.
</p>
<p>These functions make use of the BWidget extension to the Tcl/Tk system.  If Bwidget has not been installed on your system, download it from <a href="https://sourceforge.net/projects/tcllib/files/BWidget/">https://sourceforge.net/projects/tcllib/files/BWidget/</a> and expand the compressed file into a folder.  On a Windows machine, this folder should then be copied into the folder containing the Tcl libraries that were installed as part of <span class="rlang"><b>R</b></span>.  This may be in a location such as C:\Program Files\R\R-4.0.2\Tcl\lib (with an obvious change to the version number of R being used).  On a Mac, the downloaded folder should be copied into the folder where the main Tcl package is located (note: not inside the Tcl folder but at the same level as the Tcl folder).  This may be in a location such as /usr/local/lib.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for <span class="rlang"><b>R</b></span> functions using the tcltk package. Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
panel &lt;- rp.control(title="Notebook example with two notebooks")
rp.notebook(panel, c("File", "Edit"), width=600, height=400,
            pos=list(row=0, column=0), background="lightgray",
            font="Arial", name="n1")
rp.notebook.raise(panel, "n1", "Edit")
rp.button(panel, function(panel){
	                rp.messagebox("Button pressed!"); panel },
	                "Test this", parentname="Edit")
rp.messagebox("A second tabbed notebook can be added to the same window.")
rp.notebook(panel, c("A tab 1", "A tab 2"), width=200, height=200,
            pos=list(row=1, column=1), background="Navy", foreground="White")
rp.messagebox("A tabbed notebook can be placed inside a tabbed notebook.")
rp.notebook(panel, c("Tab within tab", "Another tab"),
            width=200, height=100, parentname="File", name="n3")
rp.notebook.raise(panel, "n1", "File")
rp.notebook.raise(panel, "n3", "Another tab")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.panel'>Returns a panel</h2><span id='topic+rp.panel'></span>

<h3>Description</h3>

<p>Returns a named (by passing the name as a string parameter) panel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.panel(panelname)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.panel_+3A_panelname">panelname</code></td>
<td>
<p>optional string parameter. If set the panel of that name is returned, if not set the most recently created panel is returned. </p>
</td></tr> 
</table>


<h3>Value</h3>

<p>If <code>panelname</code> is set, the panel of that name is returned.  If it is not set, the most recently created panel is returned.
</p>


<h3>Warning</h3>

<p>Note: returning of the most recent panel may fail when running <span class="rlang"><b>R</b></span> on a Windows machine in DOS. A warning is contained within the function.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+rp.control">rp.control</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   # create a panel - will be created in .rpenv as "newpanel"
   rp.control(panelname = "newpanel")
   # creates the panel, but does not return a handle to it - created as ".rpanel2"
   rp.control()
   # pick up the first panel
   panel2 &lt;- rp.panel("newpanel")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.plot3d'>Interactive display of a plot of three variables</h2><span id='topic+rp.plot3d'></span>

<h3>Description</h3>

<p>This function produces a scatterplot of three variables, using the <span class="pkg">rgl</span> package for three-dimensional display.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  rp.plot3d(x, y, z, xlab  = NA, ylab = NA, zlab = NA, 
                   axes = TRUE, new.window = TRUE, type = "p", size = 3, col = "red",
                   xlim = NA, ylim = NA, zlim = NA, plot = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.plot3d_+3A_x">x</code>, <code id="rp.plot3d_+3A_y">y</code>, <code id="rp.plot3d_+3A_z">z</code></td>
<td>
<p>vectors of observed values.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_xlab">xlab</code></td>
<td>
<p>a character variable used for the first axis label.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_ylab">ylab</code></td>
<td>
<p>a character variable used for the second axis label.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_zlab">zlab</code></td>
<td>
<p>a character variable used for the third axis label.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_axes">axes</code></td>
<td>
<p>a logical variable determining whether the axes are shown.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_new.window">new.window</code></td>
<td>
<p>a logical variable which determines whether a new window is 
opened (TRUE) or the current plot is clear and the new plot is
drawn in the existing window (FALSE).</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_type">type</code></td>
<td>
<p>a character variable controlling the type of plotting. If the value 
is set to &quot;n&quot;, the points are not plotted.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_size">size</code></td>
<td>
<p>the size of the plotted points.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_col">col</code></td>
<td>
<p>the colour of the plotted points.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_xlim">xlim</code></td>
<td>
<p>the plotting range for the first variable.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_ylim">ylim</code></td>
<td>
<p>the plotting range for the second variable.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_zlim">zlim</code></td>
<td>
<p>the plotting range for the third variable.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_plot">plot</code></td>
<td>
<p>a logical variable which determines whether a plot is drawn.
It can be useful to set this to FALSE when only the scaling function is required.</p>
</td></tr>
<tr><td><code id="rp.plot3d_+3A_...">...</code></td>
<td>
<p>other rgl parameters which control the appearance of the plotted points.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot is produced by appropriate calls to the <span class="pkg">rgl</span> package.  This allows interactive control of the viewing position.  Other objects may subsequently be added to the plot by using <span class="pkg">rgl</span> functions and data which are centred and scaled by the returned values indicated below.
</p>


<h3>Value</h3>

<p>A scaling function is returned to allow further objects to be added to the plot.  The function accepts <code>x, y, z</code> vector arguments and returns a list with <code>x, y, z</code> components defining the co-ordinates for plotting.  An illustration is given in the example below. 
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.regression">rp.regression</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  x &lt;- rnorm(50)
  y &lt;- rnorm(50)
  z &lt;- rnorm(50)
  scaling &lt;- rp.plot3d(x, y, z, xlim = c(-3, 3))
  # In addition you may add a line to the plot with these two lines;
  #  a &lt;- scaling(c(-3,3), c(0,0), c(0,0))
  #  lines3d(a$x, a$y, a$z, col = "green", size = 2) 

## End(Not run)</code></pre>

<hr>
<h2 id='rp.plot4d'>Animated scatterplot</h2><span id='topic+rp.plot4d'></span><span id='topic+rp.spacetime'></span>

<h3>Description</h3>

<p>This function plots two covariates coloured by a response variable and animates this by a
third covariate.  In particular, it is useful for plotting spatiotemporal data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   rp.plot4d(x, z, y, model, group, subset, col.palette, col.breaks, col.labels,
                  hscale = 1, vscale = hscale, panel = TRUE,
                  x1lab, x2lab, zlab, ylab,
                  display = "image", Display = NULL,
                  background.plot = NULL, foreground.plot = NULL, 
                  z.window = "normal", z.window.pars = c(min(z), sd(z)/5),
                  coords = rep(NA, 2), radius = 0.05,  col.circle = "black",
                  lwd.circle = 1,
                  location.plot = TRUE, retain.location.plot = FALSE,
                  group.level, group.name,
                  eqscplot = FALSE, location.plot.type = "histogram")
 
   rp.spacetime(space, time, y, model, group, subset, col.palette, col.breaks, col.labels,
                  hscale = 1, vscale = hscale, panel = TRUE,
                  x1lab, x2lab, zlab, ylab,
                  display = "image", Display = NULL,
                  background.plot = NULL, foreground.plot = NULL,
                  time.window = "normal",
                  time.window.pars = c(min(time), sd(time)/5),
                  coords = rep(NA, 2), radius = 0.05,  col.circle = "black",
                  lwd.circle = 1,
                  location.plot = TRUE, retain.location.plot = FALSE,
                  group.level, group.name,
                  eqscplot = TRUE, location.plot.type = "histogram")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.plot4d_+3A_x">x</code>, <code id="rp.plot4d_+3A_space">space</code></td>
<td>
<p>a two column matrix of covariates, in particular defining spatial locations.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_z">z</code>, <code id="rp.plot4d_+3A_time">time</code></td>
<td>
<p>a vector of values, such as times, over which the scatterplot will be animated.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_y">y</code></td>
<td>
<p>a vector of response values which will be used to colour the plotted points.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_model">model</code></td>
<td>
<p>a list with components <code>x</code> (a two-column matrix), <code>z</code> (a vector) and <code>y</code> (an array) which defines the fitted values (<code>y</code>) over a
regular grid of <code>x</code> and <code>z</code> values.  When <code>group</code> is not present <code>y</code> should be three-dimensional.  When <code>group</code> is present it should be four-dimensional, with the fourth dimension indexing the fitted values of the model at the different levels of <code>group</code>.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_group">group</code></td>
<td>
<p>an optional factor allowing plots to be created for each factor level.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_subset">subset</code></td>
<td>
<p>a vector of logical values or indices which will be used to subset <code>x</code> (or <code>space</code>), <code>z</code> (or <code>time</code>), <code>y</code>, <code>group</code> before plotting.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_col.palette">col.palette</code>, <code id="rp.plot4d_+3A_col.breaks">col.breaks</code>, <code id="rp.plot4d_+3A_col.labels">col.labels</code></td>
<td>
<p>the colour palette used to colour the points,
the break points on the scale which define the range associated with the each colour and
the labels associated with the break points.  If <code>col.palette</code> is missing,
<code>topo.colors(20)</code> will be used, or <code>topo.colors</code> with the number of colours
set by the number of levels when <code>y</code> is a factor.  If <code>col.breaks</code> is missing
then a regular grid over the range of the observed data is used.  If <code>col.labels</code>
is specified then the colour key has a grid of equally spaced colour blocks labelled by
<code>col.labels</code>; otherwise the scale is linear.  Setting <code>col.breaks</code> and
<code>col.labels</code> differently can be useful if the data <code>y</code> are on a transformed
scale but labels on the original scale are desired.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_hscale">hscale</code>, <code id="rp.plot4d_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel</code> is
set to <code>TRUE</code>.  The default values are 1 on Unix platforms and 1.4 on Windows
platforms.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_panel">panel</code></td>
<td>
<p>a logical value determining whether an interactive plot with control panel
is created.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_x1lab">x1lab</code>, <code id="rp.plot4d_+3A_x2lab">x2lab</code>, <code id="rp.plot4d_+3A_zlab">zlab</code>, <code id="rp.plot4d_+3A_ylab">ylab</code></td>
<td>
<p>the axis labels of the variables</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_display">display</code></td>
<td>
<p>a character string which determines whether an &quot;image&quot; or &quot;persp&quot; plot is displayed.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_display">Display</code></td>
<td>
<p>a logical vector which controls whether the points, and where present model and reference information, are displayed.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_background.plot">background.plot</code>, <code id="rp.plot4d_+3A_foreground.plot">foreground.plot</code></td>
<td>
<p>function to add further graphical material, such as
a map, onto the background or foreground of the plot.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_z.window">z.window</code>, <code id="rp.plot4d_+3A_time.window">time.window</code></td>
<td>
<p>a character string which determines whether the window in
<code>z</code> is initially &quot;normal&quot; or &quot;uniform&quot;.  This can be changed in the interactive panel.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_z.window.pars">z.window.pars</code>, <code id="rp.plot4d_+3A_time.window.pars">time.window.pars</code></td>
<td>
<p>a vector of length two which sets initial values for
the location and width of the <code>z.window</code>.  These values can be changed in the
interactive panel.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_coords">coords</code></td>
<td>
<p>a vector of length two which defines the location of the window in the
<code>x</code> space when the function is not used interactively (<code>panel = FALSE</code>).</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_radius">radius</code></td>
<td>
<p>the radius of the window in the <code>x</code> space when the function is not
used interactively.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_col.circle">col.circle</code>, <code id="rp.plot4d_+3A_lwd.circle">lwd.circle</code></td>
<td>
<p>the colour and line width of the circle used to define the
window in the <code>x</code> space.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_location.plot">location.plot</code></td>
<td>
<p>a logical value which determines whether the mouse can be used to
interact with the <code>x</code> plot to create a plot of <code>y</code> against <code>z</code> for a
nominated neighbourhood.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_retain.location.plot">retain.location.plot</code></td>
<td>
<p>a logical value which determines the initial state of the
checkbox determining whether a plot of <code>y</code> against <code>z</code> for a nominated
neighbourhood remains in place after the mouse has been released.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_group.level">group.level</code></td>
<td>
<p>the initial value of the <code>group</code> factor.  This defaults to the first level.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_group.name">group.name</code></td>
<td>
<p>an optional character value giving a name to the <code>group</code> variable.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_eqscplot">eqscplot</code></td>
<td>
<p>a logical value which determines whether the <code>x</code> plot is constructed
by using the <code>eqscplot</code> function in the <span class="pkg">MASS</span> package, so that the same
distances on each axis represent the same changes in the corresponding axis variables.</p>
</td></tr>
<tr><td><code id="rp.plot4d_+3A_location.plot.type">location.plot.type</code></td>
<td>
<p>a character variable controlling whether a histogram or a density
estimate (using the <span class="pkg">lattice</span> package) is produced when <code>y</code> is a factor or
absent and a location plot is requested by clicking the mouse on the plot of <code>x</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The colour black should be avoided when using a normal window shape for <code>z</code>.  This is because hsv shading is used to indicate increasing distance from the current <code>z</code> location and black has an hsv representation with s component 0, which cannot therefore be reduced further.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# The quakes data

with(quakes, {
  rp.plot4d(cbind(long, lat), depth)
  rp.plot4d(cbind(long, lat), depth, mag)
})

# SO2 over Europe

with(SO2, {
  location &lt;- cbind(longitude, latitude)

  if (require(mgcv) &amp; require(maps)) {
     location1 &lt;- location[,1]
     location2 &lt;- location[,2]
     model &lt;- gam(logSO2 ~ s(location1, location2, year))
     loc1  &lt;- seq(min(location1), max(location1), length = 30)
     loc2  &lt;- seq(min(location2), max(location2), length = 30)
     yr    &lt;- seq(min(year), max(year), length = 30)
     newdata &lt;- expand.grid(loc1, loc2, yr)
     names(newdata) &lt;- c("location1", "location2", "year")
     model &lt;- predict(model, newdata)
     model &lt;- list(x = cbind(loc1, loc2), z = yr,
                   y = array(model, dim = rep(30, 3)))
     mapxy &lt;- map('world', plot = FALSE,
                  xlim = range(longitude), ylim = range(latitude))
     rp.plot4d(location, year, logSO2, model,
                 col.palette = rev(heat.colors(20)),
                 foreground.plot = function() map(mapxy, add = TRUE))
  }
  else
    rp.plot4d(location, year, logSO2, col.palette = rev(heat.colors(20)))
})

# Dissolved Oxygen in the River Clyde

with(Clyde, {

  rp.plot4d(cbind(Doy, DO), Station, location.plot = FALSE)
  rp.plot4d(cbind(Station, DO), Doy, location.plot = FALSE)
  rp.plot4d(cbind(Station, Doy), Year, DO)

  # Highlight the data before and after a sewage treatment plant update in 1985
  ind     &lt;- Year &gt;= 80 &amp; Year &lt;= 89 &amp; !(Year == 85)
  year    &lt;- Year[ind] + Doy[ind] / 365
  station &lt;- Station[ind]
  doy     &lt;- Doy[ind]
  do      &lt;- DO[ind]
  group   &lt;- factor(c("after 1985", "before 1985")[1 + 
                  as.numeric(year &lt; 85)])
  rp.plot4d(cbind(doy, do), station, group,
       col.palette = c("red", "green"), location.plot = FALSE)
})


## End(Not run)</code></pre>

<hr>
<h2 id='rp.pos'>Positioning controls in an rpanel</h2><span id='topic+rp.pos'></span>

<h3>Description</h3>

<p>This function provides demonstrations of the use of the <code>pos</code> argument in functions to create controls.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.pos(layout="default")</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.pos_+3A_layout">layout</code></td>
<td>
<p>the type of panel layout to be demonstrated. Valid options are &quot;default&quot;, &quot;pack&quot;, &quot;place&quot; and &quot;grid&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The various functions to create controls accept a parameter called <code>pos</code> 
which can be used to specify the layout of the controls. It has various modes of 
operation and the mode is determined from the type of information provided in the 
<code>pos</code> argument. The different modes are outlined below.
</p>

<ul>
<li><p>default
If <code>pos</code> is not specified, controls are arranged in a column with the most recent added to the bottom. Each control is aligned to the left hand side.

</p>
</li>
<li><p>pack  
if <code>pos</code> is set to <code>"left"</code>, <code>"right"</code>, <code>"top"</code> or <code>"bottom"</code>, then the control is set to the left, right, top or bottom edge of the panel.  If there is already a control in that position, the new control is placed beside that control, closer to the centre.  (This uses Tk's &quot;pack&quot; layout manager.)

</p>
</li>
<li><p>place
If <code>pos</code> is set to a vector of four integer values, these are interpreted as <code>(x, y, width, height)</code> where all dimensions are in pixels.  <code>x</code> and <code>y</code> define the  co-ordinates in from the left hand side and down from the top respectively.  When using this mode of laying out objects, it usually helps to define the size of the panel in <code>rp.control</code>.  (This uses Tk's &quot;place&quot; layout manager.)

</p>
</li>
<li><p>grid
This mode provides greater flexibility in layout. The following arguments can be passed to <code>pos</code> in any of the function calls to create controls.  Alternatively, <code>pos</code> can be passed a list which has these named components.
</p>
	
<ul>
<li><p>columnAn integer which specifies the column number. Columns count from 0. This is a mandatory field for grids.
</p>
</li>
<li><p>rowAn integer which specifies the row number. Rows count from 0. This is a mandatory field for grids.
</p>
</li>
<li><p>gridA string which gives the name of the grid the control has to be placed in. This field is optional. If omitted the default grid belonging to the panel is used.
</p>
</li>
<li><p>columnspanAn integer which specifies how many columns the control should span. Columns are counted to the right from the start column specified by <code>column</code>. This field is optional. If omitted one column is assumed.
</p>
</li>
<li><p>rowspanAn integer which specifies how many rows the control should span. Rows are counted down from the start row specified by <em>row</em>. This field is optional. If omitted one row is assumed.
</p>
</li>
<li><p>widthAn integer which specifies the width of the control. For controls with writing (buttons, listboxes etc) this is in characters and for images this is in pixels. This field is optional. If omitted the control is sized horizontally to fill the cell the control is placed within.
</p>
</li>
<li><p>heightAn integer which specifies the height of the control. For controls with writing (buttons, listboxes etc) this is in characters and for images this is in pixels. This field is optional. If omitted the control is sized vertically to fill the cell the control is placed within.
</p>
</li>
<li><p>stickyAn string which specifies how the control expands to fill the cell. This is a string with any combination of 'n', 'e', 'w', 's', representing north/east/west/south expansions. An empty string assignment (&rdquo;) will centre the control. If the argument is not assigned a value then the control is 'w' (west) aligned by default.
</p>
</li>
<li><p>backgroundSpecifies the background colour of the grid. If left blank this defaults to the operating system's standard background colour.
</p>
</li></ul>

<p>(This uses Tk's &quot;grid&quot; layout manager.)
</p>
<p>The &quot;grid&quot; mode of layout should not be mixed with the other modes. 

</p>
</li></ul>

<p>The example below illustrates the use of <code>pos</code>. Try resizing the windows to explore the behaviour.
</p>

<hr>
<h2 id='rp.power'>Interactive power calculations for a two-sample t-test </h2><span id='topic+rp.power'></span>

<h3>Description</h3>

<p>This function creates a panel which allows the sample size, population means and common standard deviation to be set.  The corresponding power curve for a two-sample t-test is displayed in the graphics window.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.power(panel = TRUE, panel.plot = TRUE, populations.showing = FALSE,
         ngrid = seq(10, 300), mu1 = 0, mu2 = 1,
         sigma = 1, n = 20, xgrid = seq(- 4, 5, length = 100),
         popdens.lim = 0.7, hscale = 1, vscale = hscale)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.power_+3A_panel">panel</code></td>
<td>
<p>a logical value determining whether an interactive panel is created.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical value determining whether the plot is placed inside the panel.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_populations.showing">populations.showing</code></td>
<td>
<p>a logical value determining whether the populations are initially showing.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_ngrid">ngrid</code></td>
<td>
<p>a vector which determines the grid a sample sizes used.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_mu1">mu1</code>, <code id="rp.power_+3A_mu2">mu2</code></td>
<td>
<p>the initial values of the means of the two populations.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_sigma">sigma</code></td>
<td>
<p>the initial value of the common standard deviation of the two populations.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_n">n</code></td>
<td>
<p>the initial value of the sample size.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_xgrid">xgrid</code></td>
<td>
<p>the grid of values over which the populations are plotted.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_popdens.lim">popdens.lim</code></td>
<td>
<p>the upper limit on the population density scale.</p>
</td></tr>
<tr><td><code id="rp.power_+3A_hscale">hscale</code>, <code id="rp.power_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The population parameters and sample size are controlled by doublebuttons.  The sample size refer to the total sample size, assuming two groups of equal size.  A checkbox allows plots of the population distributions also to be displayed.</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.power()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.radiogroup'>Radiobuttons for a panel</h2><span id='topic+rp.radiogroup'></span>

<h3>Description</h3>

<p>This function adds a set of radiobuttons to the panel. When a radiobutton is pressed, a variable is set and an action function is called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.radiogroup(panel, variable, vals, labels=NULL, initval=vals[1], pos=NULL, 
  title=deparse(substitute(variable)), 
  action=I, foreground=NULL, background=NULL, font=NULL, 
  parentname=deparse(substitute(panel)), name=paste("radiogroup", .nc(), sep=""), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.radiogroup_+3A_panel">panel</code></td>
<td>
<p>the panel in which the radiobuttons should appear.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_variable">variable</code></td>
<td>
<p>the name of the variable whose values are set by the buttons.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_vals">vals</code></td>
<td>
<p>the values attached to the labels for return from the action function. NOTE: for implementation.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_labels">labels</code></td>
<td>
<p>the labels for the radiobuttons.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_initval">initval</code></td>
<td>
<p>the initial value for the variable (optional). The initial value can also be specified in the call to <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_title">title</code></td>
<td>
<p>the label for the group of radiobuttons.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_action">action</code></td>
<td>
<p>the function which is called when a button is pressed.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_foreground">foreground</code></td>
<td>
<p>colour of the text</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_background">background</code></td>
<td>
<p>colour of the text background</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_font">font</code></td>
<td>
<p>font to be used</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the radiogroup should 
appear.</p>
</td></tr>
<tr><td><code id="rp.radiogroup_+3A_name">name</code></td>
<td>
<p>name assigned to the listbox, used for disposing of the widget</p>
</td></tr>  
<tr><td><code id="rp.radiogroup_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the radiobuttons are attached. 
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Value</h3>

<p>If the argument <code>panel</code> is the panelname string, the same string is returned.  If the panel object is used, the altered panel is assigned to both the calling level and panel's environment 
level.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.checkbox">rp.checkbox</a></code>, <code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   data.plotfn &lt;- function(panel) {
     if (panel$plot.type == "histogram") 
       hist(panel$x)
     else 
       if (panel$plot.type == "boxplot")
         boxplot(panel$x)
       else 
         plot(density(panel$x))
     panel
     }
   panel &lt;- rp.control(x = rnorm(50))
   rp.radiogroup(panel, plot.type, 
       c("histogram", "boxplot", "density estimate"), 
       action = data.plotfn, title = "Plot type")     

## End(Not run)</code></pre>

<hr>
<h2 id='rp.regression'>Graphical display of regression effects (interactive with one or two covariates)</h2><span id='topic+rp.regression'></span><span id='topic+rp.regression2'></span>

<h3>Description</h3>

<p>When there are one or two covariates, the function <code>rp.regression</code> creates a panel which controls the model which is fitted to the data and displayed on the plot.  In the case of two covariates, a three-dimensional display is created.  If a formula or a fitted linear model is passed, then a graphical display of the regression effects is created, irrespective of the number of covariates.  The function <code>rp.regression2</code> is retained simply for compatibility with earlier releases of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  rp.regression(x, y, ylab = NA, x1lab = NA, x2lab = NA, xlab = NA, yrange,
                 panel = TRUE, panel.plot = TRUE, hscale = NA, vscale = hscale,
                 model = "None", line.showing = TRUE, residuals.showing = FALSE,
                 size = 3, col)
  rp.regression2(y, x1, x2, ylab  = NA, x1lab = NA, x2lab = NA, 
                 panel = TRUE, model = "None", residuals.showing = FALSE,
                 size = 3, col = "red")
  </code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.regression_+3A_x">x</code></td>
<td>
<p>a vector or two column matrix of covariate values, or a formula, or a fitted linear model.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_y">y</code></td>
<td>
<p>a vector of response values.  This is not required if <code>x</code> is a formula or a fitted linear model.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_x1">x1</code>, <code id="rp.regression_+3A_x2">x2</code></td>
<td>
<p>vectors of covariate values.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_ylab">ylab</code></td>
<td>
<p>a character variable used for the response axis label.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_x1lab">x1lab</code></td>
<td>
<p>a character variable used for the first covariate axis label.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_x2lab">x2lab</code></td>
<td>
<p>a character variable used for the second covariate axis label.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_xlab">xlab</code></td>
<td>
<p>a character variable used for the first covariate axis label.  This is provided
for convenience as a more natural argument name when there is only one covariate.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_yrange">yrange</code></td>
<td>
<p>a vector of length 2 giving the range of values for the change in the response when
regression effects are plotted in a static display.  This applies when <code>x</code>
is a formula.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_panel">panel</code></td>
<td>
<p>a logical variable which determines whether a panel is created to allow interactive 
control of the fitted models.  This is relevant only to the case of two covariates.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical variable which determines whether the plot is placed inside the
control panel.  This is relevant only to the case of one covariate.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_hscale">hscale</code>, <code id="rp.regression_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when there is one covariate and <code>panel.plot</code> is set to <code>TRUE</code>.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_model">model</code></td>
<td>
<p>a character variable defining the model to be fitted when the function starts. 
The valid values are &quot;None&quot;, the name of the first and second covariates and the 
combination of these names with an &quot;&amp;&quot;.  This is relevant only to the case of two 
covariates.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_line.showing">line.showing</code></td>
<td>
<p>a logical value determining whether a regression line is shown on the plot
when the function starts.  This is relevant only to the case of one covariates.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_residuals.showing">residuals.showing</code></td>
<td>
<p>a logical value determining whether the residuals are shown on the plot
when the function starts.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_size">size</code></td>
<td>
<p>the size of the plotted points.  This is relevant only to the case of two covariates.</p>
</td></tr>
<tr><td><code id="rp.regression_+3A_col">col</code></td>
<td>
<p>the colour of the plotted points.  This is relevant only to the case of two covariates.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the case of one covariate, the control panel allows a line to be drawn on the plot and its intercept and slope altered interactively.  The residuals and the least squares fitted line can be displayed.  When the fitted line is displayed, the effects of moving individual points can be viewed by clicking and dragging.
</p>
<p>In the case of two covariates, the plot is constructed with the aid of the rgl package for three-dimensional display, through the <code>rpanel</code> function <code><a href="#topic+rp.plot3d">rp.plot3d</a></code>.  This display can be rotated and linear models involving one, two or none of the covariates can be displayed.  Residuals can also be superimposed.  Static plots, for printing or other purposes can be created by setting the panel argument to FALSE and specifying <code>model</code> and <code>residuals.showing</code> as required.
</p>
<p>If <code>x</code> is a formula, then a static plot of the regression effects is created.  Each coefficient is scaled by the length of the range of corresponding covariate values, in order to display the regression effects in a manner which allows these to be compared.  Density plots are used to indicate the uncertainty involved.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.plot3d">rp.plot3d</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  with(CofE, {
    rp.regression(Employ, Giving)
    rp.regression(cbind(Employ, Attend), Giving)
    rp.regression(Giving ~ Employ + Elect + Attend)
  })

## End(Not run)</code></pre>

<hr>
<h2 id='rp.rmplot'>Interactive plotting of repeated measurement data</h2><span id='topic+rp.rmplot'></span>

<h3>Description</h3>

<p>This function creates a panel which controls the display of data which have a repeated measurement structure across time.  Groups, means and standard errors can be displayed.  Individual profiles can also be inspected. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.rmplot(y, id = NA, timept = NA, fac = NA, type = "all", 
                          xlab = NA, ylab = NA, xlabels = NA, add = FALSE,
                          lwd = 1, col = NA, lty = NA, panel = TRUE, 
                          panel.plot = TRUE, hscale = NA, vscale = hscale, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.rmplot_+3A_y">y</code></td>
<td>
<p>a vector, matrix or dataframe of response data.  If y is a matrix or dataframe, the rows should correspond to cases and the columns to the repeated measurements.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_id">id</code></td>
<td>
<p>when y is a vector, id should contain the identifiers for the individual profiles.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_timept">timept</code></td>
<td>
<p>when y is a vector, <code>timept</code> should contain the time value associated with each repeated measurement.  When y is a matrix or dataframe <code>timept</code> may identify the values associated with the repeated measurements (columns); in this case the default value is the sequence from 1 to the number of repeated measurements.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_fac">fac</code></td>
<td>
<p>an optional factor to split the data into groups.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_type">type</code></td>
<td>
<p>when the function is not running in interactive panel mode, this character variable determines the type of plot produced.  It can be set to &quot;all&quot;, &quot;mean&quot;, &quot;mean+bar&quot; or &quot;band&quot;.  The last option is applicable only when there are two groups of data.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_xlab">xlab</code></td>
<td>
<p>the x-axis label.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_ylab">ylab</code></td>
<td>
<p>the y-axis label.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_xlabels">xlabels</code></td>
<td>
<p>labels for the repeated measurements, to be printed on the x-axis.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_add">add</code></td>
<td>
<p>a logical variable which determines whether the repeated measurements graph is added to an existing plot.  This is only appropriate when <code>panel = FALSE</code>.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_lwd">lwd</code></td>
<td>
<p>the width of the lines drawn for each repeated measurements profile.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_col">col</code></td>
<td>
<p>a vector of colours associated with each of the factor levels in <code>fac</code>.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_lty">lty</code></td>
<td>
<p>a vector of linetypes associated with each of the factor levels in <code>fac</code>.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_panel">panel</code></td>
<td>
<p>a logical variable controlling whether an interactive panel is created.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical parameter which determines whether the plot is placed inside the panel (TRUE) or the standard graphics window (FALSE).  If the plot is to be placed inside the panel then the <code>tkrplot</code> library is required.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_hscale">hscale</code>, <code id="rp.rmplot_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel.plot</code> is set to <code>TRUE</code>.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.rmplot_+3A_...">...</code></td>
<td>
<p>further arguments which will be passed to the <code>plot</code> call
in the construction of the graph.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed principally for repeated measurements over time, with common time points for each profile.  A set of radiobuttons allows all the individual profiles to be plotted, or summaries in the form of means and two standard errors.  A checkbox allows the data to be split into groups identified by the variable <code>fac</code>.  When there are only two groups, a band can be displayed to indicate time points at which the distance between the observed means is more than two standard errors of the differences between the means.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   LH    &lt;- luthor[,2:16]
   gp    &lt;- factor(luthor[,1])
   times &lt;- c(1:5,(5+(1:10)/2))
   rp.rmplot(log(LH), fac = gp, timept = times)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.sample'>Interactive demonstration of sampling variation</h2><span id='topic+rp.sample'></span>

<h3>Description</h3>

<p>Plots sample from a normal distribution to illustrate the variation which results.  The population mean and the range of mean +/- 2 standard deviations can be superimposed, in the latter case to demonstrate that nearly all the data lie within this range.  The position of the sample mean can also be indicated in a separate plot where the mean and +/- 2 standard errors can be superimposed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   rp.sample(mu = 0, sigma = 1, n = 25, panel.plot = TRUE, hscale = NA, vscale = hscale)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.sample_+3A_mu">mu</code></td>
<td>
<p>the mean of the normal distribution.</p>
</td></tr>
<tr><td><code id="rp.sample_+3A_sigma">sigma</code></td>
<td>
<p>the standard deviation of the normal distribution.</p>
</td></tr>
<tr><td><code id="rp.sample_+3A_n">n</code></td>
<td>
<p>the size of the sample.</p>
</td></tr>
<tr><td><code id="rp.sample_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical parameter which determines whether the plot is placed inside the panel (TRUE) or the standard graphics window (FALSE). If the plot is to be placed inside the panel then the tkrplot library is required.</p>
</td></tr>
<tr><td><code id="rp.sample_+3A_hscale">hscale</code>, <code id="rp.sample_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot when <code>panel</code> is
set to <code>TRUE</code>.  The default values are 1 on Unix platforms and 1.4 on Windows
platforms.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The visual effect of the animation is assisted by holding the axes constant.  This means that there may occasionally be observations outside the displayed horizontal range, or a histogram height which exceeds the displayed vertical range.  In both these cases, the existence of the unseen data is signalled by red lines in the appropriate positions.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.sample()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.screenresolution'>Screen resolution</h2><span id='topic+rp.screenresolution'></span>

<h3>Description</h3>

<p>This returns the current screen resolution as a list with two components; width and height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.screenresolution()
</code></pre>


<h3>Arguments</h3>

<p>None
</p>


<h3>Details</h3>

<p>One use of this function is to identify the size of the screen so that panels can be constructed top match this using pixel co-ordinates.  However, the grid layout system is likely to be a better option in general.  See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of this.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.grid">rp.grid</a></code>,<code><a href="#topic+rp.pos">rp.pos</a></code></p>

<hr>
<h2 id='rp.slider'>Slider for an rpanel</h2><span id='topic+rp.slider'></span><span id='topic+rp.slider.change'></span>

<h3>Description</h3>

<p>Add a slider (or slider group) to the panel, to graphically control a numeric variable.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.slider(panel, variable, from, to, action=I, labels=NULL, names=NULL, title=NULL,
  log=rep(FALSE, length(from)), showvalue=FALSE, showvaluewidth=4, resolution=0,
  initval=from, pos=NULL, 
  horizontal=TRUE, foreground=NULL, background=NULL, font=NULL, 
  parentname=deparse(substitute(panel)), name=paste("slider", .nc(), sep=""), ...) 
rp.slider.change(panel, name, value, i=1, do=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.slider_+3A_panel">panel</code></td>
<td>
<p>the panel in which the slider appears.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_variable">variable</code></td>
<td>
<p>the name of the variable that the slider controls.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_from">from</code></td>
<td>
<p>the lower limit of the range of values to which the slider can be 
set.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_to">to</code></td>
<td>
<p>the upper limit of the range of values to which the slider can be 
set.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_action">action</code></td>
<td>
<p>the function which is called when the slider is moved.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_labels">labels</code></td>
<td>
<p>displayed labels</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_names">names</code></td>
<td>
<p>the names of the elements of <code>variable</code>, for reference by action functions.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_title">title</code></td>
<td>
<p>the label of the slider.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_log">log</code></td>
<td>
<p>a logical variable which controls whether the scale of the slider 
is logarithmic.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_showvalue">showvalue</code></td>
<td>
<p>a logical variable which determines whether the present value 
of &quot;var&quot; is shown. This is forced to FALSE when log is TRUE.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_showvaluewidth">showvaluewidth</code></td>
<td>
<p>the number of significant digits in the shown value</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_resolution">resolution</code></td>
<td>
<p>the resolution of the slider scale. If &gt; 0, all values are 
rounded to an even multiple of this value. The default is 0.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_initval">initval</code></td>
<td>
<p>the initial value of var (optional). The initial value can also 
be specified in the call to <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example 
and help for full details.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_horizontal">horizontal</code></td>
<td>
<p>a logical variable determining whether the slider is 
displayed horizontally (or vertically).</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_foreground">foreground</code></td>
<td>
<p>colour of the text</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_background">background</code></td>
<td>
<p>colour of the text background</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_font">font</code></td>
<td>
<p>font to be used</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the slider should 
appear.</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_name">name</code></td>
<td>
<p>name assigned to the slider, used for disposing of the widget</p>
</td></tr> 
<tr><td><code id="rp.slider_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_value">value</code></td>
<td>
<p>new value for the slider</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_i">i</code></td>
<td>
<p>which slider to alter</p>
</td></tr>
<tr><td><code id="rp.slider_+3A_do">do</code></td>
<td>
<p>whether to call the action event</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the slider is attached. 
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel. 
Without this assignment any widgets added or alterations made to panel parameters within 
the <code>action</code> function will be lost.<br />
<br />
Note that setting log=TRUE and showvalue=TRUE is not allowed. The slider value shown would be incorrect 
(it wouldn't be the log value) and so showvalue is over-ridden and set to FALSE. A new widget rp.label is 
under development which would be used in these circumstances.
</p>


<h3>Note</h3>

<p>New for version 2.0 is support for multiple sliders in a group. See demo(rp.slider).
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.radiogroup">rp.radiogroup</a></code>,<code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
density.draw &lt;- function(panel) {
   plot(density(panel$x, bw = panel$h))
   panel
   }
panel &lt;- rp.control(x = rnorm(50))
rp.slider(panel, h, 0.5, 5, log = TRUE, action = density.draw)
   
printer &lt;- function(panel) {
  print(panel$h)
  panel
}
panel &lt;- rp.control(x = rnorm(50), h=c(1,2,3))
rp.slider(panel, h, c(0.5,0.5,0.5), c(5,5,5),
  log = c(TRUE,TRUE,TRUE), action = printer,
  title=c('h','h1','h2'), initval=c(1,2,3))
    
# An example which changes the slider position through another widget
    
draw &lt;- function(panel) {
  hist(panel$x)
  abline(v=panel$v, col="red", lty=2)
  panel
}

redraw &lt;- function(panel) {
  rp.tkrreplot(panel, plot)
  panel
}

redraw1 &lt;- function(panel) {
  rp.tkrreplot(panel, plot)
  rp.slider.change(panel, "slider", panel$v)
  panel
}

x &lt;- rnorm(25)
panel &lt;- rp.control(v = 0, x = x)
rp.tkrplot(panel, plot, draw, pos="right")
rp.slider(panel, v, min(x), max(x), redraw, name = "slider")
rp.doublebutton(panel, v, diff(range(x))/100, action=redraw1)


## End(Not run)</code></pre>

<hr>
<h2 id='rp.surface'>Interactive visualisation of a surface and its uncertainty</h2><span id='topic+rp.surface'></span>

<h3>Description</h3>

<p>This function plots a surface and uses interactive interrogation by the mouse, or a sequence of animations, to indicate the uncertainty in the surface as an estimate of the true surface.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>      rp.surface(surface, covariance, x1grid, x2grid, x, y, Display = "persp",
                       hscale = 1, vscale = hscale, panel = TRUE,
                       Speed = 5, ntime = 10, ninterp = 50,
                       zlim = NULL, col.palette = topo.colors(100), coords = rep(NA, 2))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.surface_+3A_surface">surface</code></td>
<td>
<p>a matrix of estimated surface values over a regular grid.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_covariance">covariance</code></td>
<td>
<p>the covariance matrix for the estimates in <code>surface</code>, corresponding to the estimates in vector form <code>c(surface)</code>.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_x1grid">x1grid</code>, <code id="rp.surface_+3A_x2grid">x2grid</code></td>
<td>
<p>vectors defining the regular grids over each margin of <code>surface</code>.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_x">x</code></td>
<td>
<p>an optional two-column matrix of observed covariate values.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_y">y</code></td>
<td>
<p>an optional vector of response values.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_display">Display</code></td>
<td>
<p>a character value which determines the initial type of surface plot.  Options are &quot;image&quot; (the default) and &quot;persp&quot;.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_hscale">hscale</code>, <code id="rp.surface_+3A_vscale">vscale</code></td>
<td>
<p>scaling parameters for the size of the plot.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_panel">panel</code></td>
<td>
<p>a logical variable which determines whether a panel is created to allow interactive control.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_speed">Speed</code></td>
<td>
<p>this determines the initial value of the speed of animations by setting the value of the sleep time (in hundredths of a second, with an offset of 2) between displayed surfaces.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_ntime">ntime</code></td>
<td>
<p>the number of interpolated surfaces displayed between successive simulated surfaces, to control the smoothness of the animation.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_ninterp">ninterp</code></td>
<td>
<p>the number of grid values in each dimension when constructing a surface for the &quot;image&quot; display option.  This is used because the input grid of <code>surface</code> may have quite low resolution which produces a rather chunky image display.  A finer grid is constructed if the <code>interp</code> package is available.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_zlim">zlim</code></td>
<td>
<p>a vector of length two which defines the range of plotting on the surface scale.  By default, <code>zlim</code> is determined by the range of <code>surface</code> plus and minus three standard deviations (available from <code>covar</code>).</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_col.palette">col.palette</code></td>
<td>
<p>the colour palette used to paint the surface.  The colours are determined simply by the height of the surface.</p>
</td></tr>
<tr><td><code id="rp.surface_+3A_coords">coords</code></td>
<td>
<p>a vector of length two which defines the location where the uncertainty in the surface is examined, through the construction of a variability interval.  This applies when <code>panel = FALSE</code> and <code>Display = "image"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The interactive controls allow the surface to be plotted using <code>image</code> or <code>persp</code> displays, and with the display of uncertainty through mouse click and drag on the <code>image</code> plot or animation.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (require(sm)) {
   with(trawl, {
      location  &lt;- cbind(Longitude, Latitude)
      model     &lt;- sm.regression(location, Score1, ngrid = 15, display = "none")
      longitude &lt;- model$eval.points[ , 1]
      latitude  &lt;- model$eval.points[ , 2]
      xgrid     &lt;- as.matrix(expand.grid(longitude, latitude))
      S         &lt;- sm.weight2(location, xgrid, model$h)
      covar     &lt;- tcrossprod(S) * model$sigma^2
      rp.surface(model$estimate, covar, longitude, latitude, location, Score1)
   })
}
## End(Not run)</code></pre>

<hr>
<h2 id='rp.tables'>Interactive statistical tables</h2><span id='topic+rp.tables'></span>

<h3>Description</h3>

<p>This function launches a panel which allows standard normal, t, chi-squared and F distributions to be plotted, with interactive control of parameters, tail probability and p-value calculations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  rp.tables(panel = TRUE, panel.plot = TRUE, hscale = NA, vscale = hscale,
            distribution = "normal", degf1 = 5, degf2 = 30,
            observed.value = " ", observed.value.showing = !is.na(observed.value),
            probability = 0.05, tail.probability, tail.direction, heading)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.tables_+3A_panel">panel</code></td>
<td>
<p>a logical parameter which determines whether interactive controls are provided or a simple static plot is produced.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_panel.plot">panel.plot</code></td>
<td>
<p>a logical parameter which determines whether the plot is placed inside the panel (TRUE) or the standard graphics window (FALSE).  If the plot is to be placed inside the panel then the tkrplot package is required.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_hscale">hscale</code>, <code id="rp.tables_+3A_vscale">vscale</code></td>
<td>
<p>horizontal and vertical scaling factors for the size of the plot when <code>panel.plot</code> is set to <code>TRUE</code>.  It can be useful to adjust these for projection on a screen, for example.  The default values are 1 on Unix platforms and 1.4 on Windows platforms.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_distribution">distribution</code></td>
<td>
<p>a character string which determines which distribution is to be plotted.  Current options are &quot;normal&quot; (default), &quot;t&quot;, &quot;chi-squared&quot; and &quot;F&quot;.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_degf1">degf1</code>, <code id="rp.tables_+3A_degf2">degf2</code></td>
<td>
<p>The degrees of freedom used for the chi-squared (<code>degf1</code>) and F (<code>degf1</code>, <code>degf2</code>) distributions.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_observed.value">observed.value</code></td>
<td>
<p>a numerical value, or a character string which will be converted by <code>as.numeric</code>, which identifies an observed value whose location within the distribution is of interest.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_observed.value.showing">observed.value.showing</code></td>
<td>
<p>a logical value which determines whether the observed value (if any) is displayed on the plot.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_probability">probability</code></td>
<td>
<p>the value of the tail probability used when tail area is shaded.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_tail.probability">tail.probability</code></td>
<td>
<p>a character string which determines whether the tail area is drawn from the observed value (<code>"from observed value"</code>), using a fixed probability (<code>"fixed probability"</code>) or not shown (<code>"none"</code>).</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_tail.direction">tail.direction</code></td>
<td>
<p>a character string which determines whether the lower (<code>"lower"</code>), upper (<code>"upper"</code>) or two-sided (<code>"two-sided"</code>) tail area is drawn.</p>
</td></tr>
<tr><td><code id="rp.tables_+3A_heading">heading</code></td>
<td>
<p>a character string which will appear as a heading of the plot.  If this is missing, a heading based on the selected distribution will be created.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The panel contains radiobuttons to select the standard normal, t, chi-squared or F distributions.  Doublebuttons are available to control the degrees of freedom.  An observed value can be added to the plot, with optional determination of the corresponding p-value.  Alternatively, shaded areas corresponding to tail probabilities of specified value can be displayed.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  rp.tables()

## End(Not run)</code></pre>

<hr>
<h2 id='rp.text'>Text boxes for a panel</h2><span id='topic+rp.text'></span><span id='topic+rp.text.change'></span>

<h3>Description</h3>

<p>This function adds one or more boxes which allow text to be entered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.text(panel, text, pos=NULL, action=I, foreground=NULL, background=NULL,
        font=NULL, width=NULL, parentname=deparse(substitute(panel)),
        name = paste("text", .nc(), sep=""), ...)   
rp.text.change(panel, name, text)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.text_+3A_panel">panel</code></td>
<td>
<p>the panel on which the text should appear.</p>
</td></tr>
<tr><td><code id="rp.text_+3A_text">text</code></td>
<td>
<p>the text to be displayed</p>
</td></tr>
<tr><td><code id="rp.text_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> example and 
help for full details.</p>
</td></tr>
<tr><td><code id="rp.text_+3A_action">action</code></td>
<td>
<p>the function which is called when the text has been entered.</p>
</td></tr>
<tr><td><code id="rp.text_+3A_foreground">foreground</code></td>
<td>
<p>colour of the text</p>
</td></tr>
<tr><td><code id="rp.text_+3A_background">background</code></td>
<td>
<p>colour of the text background</p>
</td></tr>
<tr><td><code id="rp.text_+3A_font">font</code></td>
<td>
<p>font to be used</p>
</td></tr>
<tr><td><code id="rp.text_+3A_width">width</code></td>
<td>
<p>character width of the textboxes</p>
</td></tr>  
<tr><td><code id="rp.text_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the text entry widget 
should appear.</p>
</td></tr>
<tr><td><code id="rp.text_+3A_name">name</code></td>
<td>
<p>name assigned to the textentries; used for disposal etc</p>
</td></tr>
<tr><td><code id="rp.text_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the text box is attached. 
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
panel &lt;- rp.control(x=1)
callback &lt;- function(panel)
{
  rp.text.change(panel, "t2", panel$x)
  panel$x = panel$x+1
  panel
}
rp.text(panel, "This is a test", name="t1")
rp.text(panel ,"And so is this", font="Arial", foreground="white",
        background="navy", action=callback, name="t2")
rp.text(panel,"Here is some more text, this time across several lines.\n
               Here is some more text, this time across several lines.\n
               Here is some more text, this time across several lines.", name="t3")

## End(Not run)</code></pre>

<hr>
<h2 id='rp.textentry'>Text entry boxes for a panel</h2><span id='topic+rp.textentry'></span>

<h3>Description</h3>

<p>This function adds one or more boxes which allow text to be entered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.textentry(panel, variable, action = I, labels = NULL, names = labels, 
  title = NULL, initval = rep(NA, length(labels)), pos = NULL, 
  foreground = NULL, background = NULL, font = NULL, width = 20, keydown = FALSE, 
  parentname = deparse(substitute(panel)), name = paste("textentry", .nc(), sep=""), ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.textentry_+3A_panel">panel</code></td>
<td>
<p>the panel in which the text entry box(es) should appear. This 
may be passed as a panelname string or the panel object itself.</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_variable">variable</code></td>
<td>
<p>the name of the variable which will be assigned the text 
entered into the box(es).</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_action">action</code></td>
<td>
<p>the function which is called when the text has been entered.</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_labels">labels</code></td>
<td>
<p>a character string of labels for the text entry boxes.</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_names">names</code></td>
<td>
<p>a character string of the names of the elements of <code>variable</code> which can be referred to within action functions.</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_title">title</code></td>
<td>
<p>title above multiple textentries</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_initval">initval</code></td>
<td>
<p>the initial value(s) for var (optional). The initial value(s) 
can also be specified in the call to <code>rp.control</code>.</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> 
example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_foreground">foreground</code></td>
<td>
<p>colour of the text</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_background">background</code></td>
<td>
<p>colour of the text background</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_font">font</code></td>
<td>
<p>font to be used</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_width">width</code></td>
<td>
<p>character width of the textboxes</p>
</td></tr>  
<tr><td><code id="rp.textentry_+3A_keydown">keydown</code></td>
<td>
<p>if TRUE the action function will be called on every key press - 
this may not be wise</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the text entry widget 
should appear. In the current version, it should not normally be used.</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_name">name</code></td>
<td>
<p>name assigned to the textentries; used for disposal etc</p>
</td></tr>
<tr><td><code id="rp.textentry_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel to which the text entry box is attached. 
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Value</h3>

<p>If the argument <code>panel</code> is set to the panelname string, the same string is returned.  If the 
panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>


<h3>Note</h3>

<p>The former arguments <code>names</code>, <code>title</code> and <code>parent</code> have been discontinued in version 1.1. Note also that the argument <code>var</code> has been renamed <code>variable</code> to avoid reserved 
word issues.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   plotf &lt;- function(panel) {
      with(panel, {
		 pars   &lt;- as.numeric(pars)
         xgrid &lt;- seq(0.1, max(c(pars[3], 5), na.rm = TRUE), length = 50)
         dgrid &lt;- df(xgrid, pars[1], pars[2])
         plot(xgrid, dgrid, type = "l", col = "blue", lwd = 3)
         if (!is.na(pars[3])) {
            lines(rep(pars[3], 2), c(0, 0.95 * max(dgrid)), lty = 2, col = "red")
            text(pars[3], max(dgrid), as.character(pars[3]), col = "red")
            }
         })
      panel
      }

   panel &lt;- rp.control(pars = c(5, 10, NA))
   rp.textentry(panel, pars, plotf, labels = c("df1", "df2", "observed"),
          initval = c(10, 5, 3))
   rp.do(panel, plotf)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.timer'>Creates a series of timed actions</h2><span id='topic+rp.timer'></span>

<h3>Description</h3>

<p>This creates an interval timer and allows the user to set the criteria to stop the timer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.timer(panel, microseconds, action, where)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.timer_+3A_panel">panel</code></td>
<td>
<p>the panel which has some relevant variables.</p>
</td></tr>
<tr><td><code id="rp.timer_+3A_microseconds">microseconds</code></td>
<td>
<p>time between each call of action.</p>
</td></tr>
<tr><td><code id="rp.timer_+3A_action">action</code></td>
<td>
<p>function to be executed on each timer tick.</p>
</td></tr>
<tr><td><code id="rp.timer_+3A_where">where</code></td>
<td>
<p>a function which should return true or false, taking parameter panel. When false the loop will stop.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This allows the user to setup an interval timer and the function to be called at each 'tick'.
</p>
<p>Care should be taken when writing code to anticipate interactions with the panel while activity controlled by a timer is underway, as these interactions may cause changes in the state of the panel.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  stopme &lt;- function(panel) panel$count&lt;=20
  callme &lt;- function(panel) {
    print(panel$count)
    panel$count = panel$count+1
    panel
  } 
  panel &lt;- rp.control(count=1)
  rp.timer(panel, 500, callme, stopme)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.tkrplot'>rpanel calls for tkrplot and tkrreplot</h2><span id='topic+rp.tkrplot'></span><span id='topic+rp.tkrreplot'></span>

<h3>Description</h3>

<p>These functions call Luke Tierney's <code>tkrplot</code> and <code>tkrreplot</code> 
functions from the <span class="pkg">tkrplot</span> package to allow R graphics to be displayed in a panel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.tkrplot(panel, name, plotfun, action=NA,  mousedrag=NA, mouseup=NA, hscale=1, 
           vscale=1, pos=NULL, foreground=NULL, background=NULL, margins=c(0, 0, 0, 0),
           parentname=deparse(substitute(panel)), mar= par()$mar, ...)
rp.tkrreplot(panel, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.tkrplot_+3A_panel">panel</code></td>
<td>
<p>the panel in which the plot should appear. This may be passed as 
a panelname string or the panel object itself.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_name">name</code></td>
<td>
<p>the name of the plot. This is subsequently used in tkrreplot to 
specify the plot to be redrawn.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_plotfun">plotfun</code></td>
<td>
<p>the function used to create the plot.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_action">action</code></td>
<td>
<p>the function called when the plot is clicked.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_mousedrag">mousedrag</code></td>
<td>
<p>the function called when the mouse is dragged.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_mouseup">mouseup</code></td>
<td>
<p>the function called when the mouse is released.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_hscale">hscale</code></td>
<td>
<p>horizontal scaling factor to control the width of the plot.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_vscale">vscale</code></td>
<td>
<p>vertical scaling factor to control the height of the plot.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_pos">pos</code></td>
<td>
<p>the layout instructions. Please see the <code><a href="#topic+rp.pos">rp.pos</a></code> 
example and help for full details.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_background">background</code></td>
<td>
<p>the colour used for the background of the plot.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_foreground">foreground</code></td>
<td>
<p>the filename of a transparent gif file. This will be overlaid on the tkrplot image after plotting takes place.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_margins">margins</code></td>
<td>
<p>an integer vector of length 4 giving the margin sizes, in 
pixels and in the usual order, for the placing of the foreground image.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_parentname">parentname</code></td>
<td>
<p>this specifies the widget inside which the plot should 
appear. In the current version of rpanel, it should not normally be used.</p>
</td></tr>  
<tr><td><code id="rp.tkrplot_+3A_mar">mar</code></td>
<td>
<p>mar parameter for specifying the margins.</p>
</td></tr>
<tr><td><code id="rp.tkrplot_+3A_...">...</code></td>
<td>
<p>...</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>action</code> should take one argument, which should be the panel 
to which the tkrplot is attached. 
</p>
<p>See <code><a href="#topic+rp.grid">rp.grid</a></code> for details of the grid layout system.
</p>


<h3>Value</h3>

<p>If the argument <code>panel</code> is set to the panelname string, the same string is returned.  If the panel object is used, the altered panel is assigned to both the calling level and panel's environment level.
</p>


<h3>Warning</h3>

<p>The <code>action</code> function should return the panel.  Without this assignment any widgets added or alterations made to panel parameters within the <code>action</code> function will be lost.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.image">rp.image</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   draw &lt;- function(panel) {
      plot(1:20, (1:20)^panel$h)
      panel
      }
   
   redraw &lt;- function(panel) {
      rp.tkrreplot(panel, tkrp)
      panel
      }

   rpplot &lt;- rp.control(title = "Demonstration of rp.tkrplot", h = 1)
   rp.tkrplot(rpplot, tkrp, draw)
   rp.slider(rpplot, h, action = redraw, from = 0.05, to = 2.00, resolution = 0.05)

## End(Not run)</code></pre>

<hr>
<h2 id='rp.var.get'>Retrieves an object from the rpanel environment, usually from a panel.</h2><span id='topic+rp.var.get'></span>

<h3>Description</h3>

<p>The management of objects within the rpanel environment is usually handled &lsquo;behind the scenes&rsquo; but it can occasionally be useful to retrieve an object there explicitly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.var.get(panelname, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.var.get_+3A_panelname">panelname</code></td>
<td>
<p>the panelname of the relevant panel.  This is usually identified as <code>panel$panelname</code>.  If this argument is set to <code>NULL</code> then the object is not retrieved from a panel.</p>
</td></tr>
<tr><td><code id="rp.var.get_+3A_name">name</code></td>
<td>
<p>the name of the variable in character form.</p>
</td></tr>
</table>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.var.get">rp.var.get</a></code></p>

<hr>
<h2 id='rp.var.put'>Places an object in the rpanel environment, usually within a panel.</h2><span id='topic+rp.var.put'></span>

<h3>Description</h3>

<p>The management of objects within the rpanel environment is usually handled &lsquo;behind the scenes&rsquo; but it can occasionally be useful to place an object there explicitly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.var.put(panelname, name, val, labels = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.var.put_+3A_panelname">panelname</code></td>
<td>
<p>the panelname of the relevant panel.  This is usually identified as <code>panel$panelname</code>.  If this argument is set to <code>NULL</code> then the object is not placed inside a panel.</p>
</td></tr>
<tr><td><code id="rp.var.put_+3A_name">name</code></td>
<td>
<p>the name of the variable.</p>
</td></tr>
<tr><td><code id="rp.var.put_+3A_val">val</code></td>
<td>
<p>the contents of the variable as a numeric or character vector.</p>
</td></tr>
<tr><td><code id="rp.var.put_+3A_labels">labels</code></td>
<td>
<p>labels for <code>var</code>.</p>
</td></tr>
</table>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.var.get">rp.var.get</a></code></p>

<hr>
<h2 id='rp.widget.dispose'>Removes a widget</h2><span id='topic+rp.widget.dispose'></span>

<h3>Description</h3>

<p>This will dispose/remove a widget from a panel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rp.widget.dispose(panel, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rp.widget.dispose_+3A_panel">panel</code></td>
<td>
<p>the panel on which the text should disappear.</p>
</td></tr>
<tr><td><code id="rp.widget.dispose_+3A_name">name</code></td>
<td>
<p>the name assigned to the widget on creation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This will dispose of a widget and its memory usage.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rp.control">rp.control</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 p1 &lt;- rp.control()
 rp.button(p1, I, "press me", name="b1")
 rp.widget.dispose(p1, "b1")

## End(Not run)</code></pre>

<hr>
<h2 id='SO2'>Sulphur dioxide measurements over Europe</h2><span id='topic+SO2'></span>

<h3>Description</h3>

<p>The data document values of SO2, on a log scale, from monitoring stations across Europe from 1990 to 2001. The data were collected through the 'European monitoring and evaluation programme' (EMEP) and they are available at <a href="https://www.emep.int">https://www.emep.int</a>. The data recorded here have been organised into a convenient form for analysis.
</p>
<p>The data file consists of six variables:
<code>site</code>: a site code for the monitoring station
<code>longitude</code>: longitude of the monitoring station
<code>latitude</code>: latitude of the monitoring station
<code>year</code>: year of measurement
<code>month</code>: month of measurement
<code>logSO2</code>: SO2 measurement on a log scale
</p>


<h3>References</h3>

<p>Spatiotemporal smoothing and sulphur dioxide trends over Europe
A. W. Bowman, M. Giannitrapani and E. M. Scott.
Applied Statistics, 58 (2009), 737&ndash;752
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  Month     &lt;- SO2$month + (SO2$year - 1990) * 12
  Year      &lt;- SO2$year + (SO2$month - 0.5) / 12
  Location  &lt;- cbind(SO2$longitude, SO2$latitude)
  back      &lt;- I
  if (require(maps)) {
  	mapxy &lt;- map('world', plot = FALSE,
              xlim = range(SO2$longitude), ylim = range(SO2$latitude))
      back  &lt;- function() map(mapxy, add = TRUE)
  }
  rp.plot4d(Location, Year, SO2$logSO2, col.palette = rev(heat.colors(12)),
              background.plot = back)

## End(Not run)</code></pre>

<hr>
<h2 id='worldbank'>Data on CO2 emissions, GDP, life.expectancy and population for the countries of the world between 1960 and 2007</h2><span id='topic+worldbank'></span><span id='topic+co2.emissions'></span><span id='topic+gdp'></span><span id='topic+life.expectancy'></span><span id='topic+population'></span>

<h3>Description</h3>

<p>Loading this file makes the dataframes <code>co2.emissions</code>, <code>gdp</code>, <code>life.expectancy</code> and <code>population</code> available.  These contain the CO2 emissions, gross domestic product, life expectancy and population data for each country of the world (rows indexed by rownames) for the years 1960-2007.
</p>
<p>These data are provided by the World Bank through the database at
<code>http://data.worldbank.org/data-catalog/world-development-indicators</code>
The data are also used use in the Google Public Data Explorer
<code>http://www.google.com/publicdata/directory</code>
and by the Gapminder project
<code>http://www.gapminder.org</code>
)
</p>
<p>The data are used in the rp.bubbleplot example script.
</p>


<h3>References</h3>

<p>rpanel: Simple interactive controls for R functions using the tcltk package.
Journal of Statistical Software, 17, issue 9.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   rp.bubbleplot(log(gdp), log(co2.emissions), 1960:2007, size = population, 
      col = life.expectancy,
      interpolate = TRUE, hscale = 1.5, vscale = 1.5)

## End(Not run)</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package epidatr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {epidatr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#assert_character_param'><p>Allows character vectors</p></a></li>
<li><a href='#assert_date_param'><p>Allows a vector of date_like params: date, character, or integer-like</p></a></li>
<li><a href='#assert_integerish_param'><p>Allows integer-like vectors</p></a></li>
<li><a href='#assert_timeset_param'><p>Allows a timeset param: a date vector, a character vector, an integer-like</p>
vector, or a single EpiRange</a></li>
<li><a href='#avail_endpoints'><p>List all available Epidata API endpoints</p></a></li>
<li><a href='#cache_epidata_call'><p>Dispatch caching</p></a></li>
<li><a href='#cache_info'><p>Describe current cache</p></a></li>
<li><a href='#check_is_cachable'><p>helper that checks whether a call is actually cachable</p></a></li>
<li><a href='#check_is_recent'><p>helper that checks whether a call is a somewhat dangerous cache</p></a></li>
<li><a href='#clear_cache'><p>Manually reset the cache, deleting all currently saved data and starting afresh</p></a></li>
<li><a href='#covidcast_epidata'><p>Creates the COVIDcast Epidata autocomplete helper</p></a></li>
<li><a href='#create_epidata_call'><p>An abstraction that holds information needed to make an epidata request</p></a></li>
<li><a href='#date_to_epiweek'><p>Converts a date (integer or character) to an epiweek</p></a></li>
<li><a href='#disable_cache'><p>Turn off the caching for this session</p></a></li>
<li><a href='#do_request'><p>performs the request</p></a></li>
<li><a href='#epidatr-package'><p>epidatr: Client for Delphi's 'Epidata' API</p></a></li>
<li><a href='#epirange'><p>Specify a range of days or weeks for API requests</p></a></li>
<li><a href='#fetch_args_list'><p>Set custom API request parameters</p></a></li>
<li><a href='#fetch_classic'><p>Fetches the data, raises on epidata errors, and returns the results as a</p>
JSON-like list</a></li>
<li><a href='#fetch_tbl'><p>Fetches the data and returns a tibble</p></a></li>
<li><a href='#format_item'><p>Helper function to cast values, non-list vectors, and/or EpiRanges to strings</p></a></li>
<li><a href='#format_list'><p>Helper function to build a list of values and/or ranges</p></a></li>
<li><a href='#get_api_key'><p>Get and set API keys</p></a></li>
<li><a href='#get_wildcard_equivalent_dates'><p>helper to convert a date wildcard (&quot;*&quot;) to an appropriate epirange</p></a></li>
<li><a href='#parse_api_week'><p>parse_api_week converts an integer to a date</p></a></li>
<li><a href='#parse_signal'><p>turn a signal into a callable</p></a></li>
<li><a href='#pub_covid_hosp_facility'><p>COVID hospitalizations by facility</p></a></li>
<li><a href='#pub_covid_hosp_facility_lookup'><p>Helper for finding COVID hospitalization facilities</p></a></li>
<li><a href='#pub_covid_hosp_state_timeseries'><p>COVID hospitalizations by state</p></a></li>
<li><a href='#pub_covidcast'><p>Various COVID and flu signals via the COVIDcast endpoint</p></a></li>
<li><a href='#pub_covidcast_meta'><p>Metadata for the COVIDcast endpoint</p></a></li>
<li><a href='#pub_delphi'><p>Delphi's ILINet outpatient doctor visits forecasts</p></a></li>
<li><a href='#pub_dengue_nowcast'><p>Delphi's PAHO dengue nowcasts (North and South America)</p></a></li>
<li><a href='#pub_ecdc_ili'><p>ECDC ILI incidence (Europe)</p></a></li>
<li><a href='#pub_flusurv'><p>CDC FluSurv flu hospitalizations</p></a></li>
<li><a href='#pub_fluview'><p>CDC FluView ILINet outpatient doctor visits</p></a></li>
<li><a href='#pub_fluview_clinical'><p>CDC FluView flu tests from clinical labs</p></a></li>
<li><a href='#pub_fluview_meta'><p>Metadata for the FluView endpoint</p></a></li>
<li><a href='#pub_gft'><p>Google Flu Trends flu search volume</p></a></li>
<li><a href='#pub_kcdc_ili'><p>KCDC ILI incidence (Korea)</p></a></li>
<li><a href='#pub_meta'><p>Metadata for the Delphi Epidata API</p></a></li>
<li><a href='#pub_nidss_dengue'><p>NIDSS dengue cases (Taiwan)</p></a></li>
<li><a href='#pub_nidss_flu'><p>NIDSS flu doctor visits (Taiwan)</p></a></li>
<li><a href='#pub_nowcast'><p>Delphi's ILI Nearby nowcasts</p></a></li>
<li><a href='#pub_paho_dengue'><p>PAHO dengue data (North and South America)</p></a></li>
<li><a href='#pub_wiki'><p>Wikipedia webpage counts by article</p></a></li>
<li><a href='#pvt_cdc'><p>CDC total and by topic webpage visits</p></a></li>
<li><a href='#pvt_dengue_sensors'><p>PAHO dengue digital surveillance sensors (North and South America)</p></a></li>
<li><a href='#pvt_ght'><p>Google Health Trends health topics search volume</p></a></li>
<li><a href='#pvt_meta_norostat'><p>Metadata for the NoroSTAT endpoint</p></a></li>
<li><a href='#pvt_norostat'><p>CDC NoroSTAT norovirus outbreaks</p></a></li>
<li><a href='#pvt_quidel'><p>Quidel COVID-19 and influenza testing data</p></a></li>
<li><a href='#pvt_sensors'><p>Influenza and dengue digital surveillance sensors</p></a></li>
<li><a href='#pvt_twitter'><p>HealthTweets total and influenza-related tweets</p></a></li>
<li><a href='#reformat_epirange'><p>helper to convert an epirange from week to day or vice versa</p></a></li>
<li><a href='#release_bullets'><p>inserts each string as a bullet at the end of the &quot;Prepare for release&quot; section</p></a></li>
<li><a href='#request_impl'><p>Makes a request to the API and returns the response, catching</p>
HTTP errors and forwarding the HTTP body in R errors</a></li>
<li><a href='#request_url'><p>Returns the full request url for the given epidata_call</p></a></li>
<li><a href='#set_cache'><p>Create or renew a cache for this session</p></a></li>
<li><a href='#timeset'><p>Timeset formats for specifying dates</p></a></li>
<li><a href='#with_base_url'><p><code>epidata_call</code> object using a different base URL</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Client for Delphi's 'Epidata' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cmu-delphi.github.io/epidatr/">https://cmu-delphi.github.io/epidatr/</a>,
<a href="https://cmu-delphi.github.io/delphi-epidata/">https://cmu-delphi.github.io/delphi-epidata/</a>,
<a href="https://github.com/cmu-delphi/epidatr">https://github.com/cmu-delphi/epidatr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cmu-delphi/epidatr/issues">https://github.com/cmu-delphi/epidatr/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>The Delphi 'Epidata' API provides real-time access to epidemiological surveillance data for influenza, 'COVID-19', and other diseases for the USA at various geographical resolutions, both from official government sources such as the Center for Disease Control (CDC) and Google Trends and private partners such as Facebook and Change 'Healthcare'. It is built and maintained by the Carnegie Mellon University Delphi research group. To cite this API: David C. Farrow, Logan C. Brooks, Aaron 'Rumack', Ryan J. 'Tibshirani', 'Roni' 'Rosenfeld' (2015). Delphi 'Epidata' API. <a href="https://github.com/cmu-delphi/delphi-epidata">https://github.com/cmu-delphi/delphi-epidata</a>.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>cachem, checkmate, cli, httr, glue, jsonlite, magrittr,
MMWRweek, purrr, openssl, rappdirs, readr, tibble, usethis,
xml2</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, ggplot2, knitr, maps, mapproj, rmarkdown, rlang,
testthat (&ge; 3.1.5), withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'auth.R' 'avail_endpoints.R' 'cache.R' 'check.R' 'constants.R'
'covidcast.R' 'endpoints.R' 'epidatacall.R' 'epidatr-package.R'
'model.R' 'request.R' 'utils-pipe.R' 'utils.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-02 01:36:04 UTC; dsweber</td>
</tr>
<tr>
<td>Author:</td>
<td>Logan Brooks [aut],
  Dmitry Shemetov [aut],
  Samuel Gratzl [aut],
  David Weber [ctb, cre],
  Alex Reinhart [ctb],
  Daniel McDonald [ctb],
  Kean Ming Tan [ctb],
  Will Townes [ctb],
  George Haff [ctb],
  Kathryn Mazaitis [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Weber &lt;davidweb@andrew.cmu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-04 19:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='assert_character_param'>Allows character vectors</h2><span id='topic+assert_character_param'></span>

<h3>Description</h3>

<p>Allows character vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_character_param(name, value, len = NULL, required = TRUE)
</code></pre>

<hr>
<h2 id='assert_date_param'>Allows a vector of date_like params: date, character, or integer-like</h2><span id='topic+assert_date_param'></span>

<h3>Description</h3>

<p>Allows a vector of date_like params: date, character, or integer-like
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_date_param(name, value, len = NULL, required = TRUE)
</code></pre>

<hr>
<h2 id='assert_integerish_param'>Allows integer-like vectors</h2><span id='topic+assert_integerish_param'></span>

<h3>Description</h3>

<p>Allows integer-like vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_integerish_param(name, value, len = NULL, required = TRUE)
</code></pre>

<hr>
<h2 id='assert_timeset_param'>Allows a timeset param: a date vector, a character vector, an integer-like
vector, or a single EpiRange</h2><span id='topic+assert_timeset_param'></span>

<h3>Description</h3>

<p>Allows a timeset param: a date vector, a character vector, an integer-like
vector, or a single EpiRange
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_timeset_param(name, value, len = NULL, required = TRUE)
</code></pre>

<hr>
<h2 id='avail_endpoints'>List all available Epidata API endpoints</h2><span id='topic+avail_endpoints'></span>

<h3>Description</h3>

<p>Fetches a data frame of all Epidata API endpoints that can be accessed using
this package, with a brief description.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avail_endpoints()
</code></pre>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble::tibble</a></code> of endpoints, with two columns:
</p>
<table>
<tr><td><code>Endpoint</code></td>
<td>
<p>Name of the function for accessing this API endpoint.</p>
</td></tr>
<tr><td><code>Description</code></td>
<td>
<p>One-sentence description of the data available at the
endpoint.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>avail_endpoints()
</code></pre>

<hr>
<h2 id='cache_epidata_call'>Dispatch caching</h2><span id='topic+cache_epidata_call'></span>

<h3>Description</h3>

<p>The guts of caching, its interposed between fetch and the specific fetch
methods. Internal method only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_epidata_call(epidata_call, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cache_epidata_call_+3A_epidata_call">epidata_call</code></td>
<td>
<p>the <code>epidata_call</code> object</p>
</td></tr>
<tr><td><code id="cache_epidata_call_+3A_fetch_args">fetch_args</code></td>
<td>
<p>the args list for fetch as generated by <code><a href="#topic+fetch_args_list">fetch_args_list()</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='cache_info'>Describe current cache</h2><span id='topic+cache_info'></span>

<h3>Description</h3>

<p>Print out the information about the cache (as would be returned by cachem's
<code>info()</code> method).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_info()
</code></pre>


<h3>Value</h3>

<p><code><a href="base.html#topic+list">list</a></code> containing the info result as created by cachem
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_cache">set_cache</a></code> to start a new cache (and general caching info),
<code><a href="#topic+clear_cache">clear_cache</a></code> to delete the cache and set a new one, and <code><a href="#topic+disable_cache">disable_cache</a></code> to
disable without deleting
</p>

<hr>
<h2 id='check_is_cachable'>helper that checks whether a call is actually cachable</h2><span id='topic+check_is_cachable'></span>

<h3>Description</h3>

<p>helper that checks whether a call is actually cachable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_is_cachable(epidata_call, fetch_args)
</code></pre>

<hr>
<h2 id='check_is_recent'>helper that checks whether a call is a somewhat dangerous cache</h2><span id='topic+check_is_recent'></span>

<h3>Description</h3>

<p>helper that checks whether a call is a somewhat dangerous cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_is_recent(dates, max_age)
</code></pre>

<hr>
<h2 id='clear_cache'>Manually reset the cache, deleting all currently saved data and starting afresh</h2><span id='topic+clear_cache'></span>

<h3>Description</h3>

<p>Deletes the current cache and resets a new cache. Deletes local data! If you
are using a session unique cache, you will have to pass the arguments you
used for <code>set_cache</code> earlier, otherwise the system-wide <code>.Renviron</code>-based
defaults will be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_cache(..., disable = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clear_cache_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+set_cache">set_cache</a></code>
</p>

<dl>
<dt><code>cache_dir</code></dt><dd><p>the directory in which the cache is stored. By default, this
is <code>rappdirs::user_cache_dir("R", version = "epidatr")</code>. The path can be
either relative or absolute. The environmental variable is
<code>EPIDATR_CACHE_DIR</code>.</p>
</dd>
<dt><code>days</code></dt><dd><p>the maximum length of time in days to keep any particular cached
call. By default this is <code>1</code>. The environmental variable is
<code>EPIDATR_CACHE_MAX_AGE_DAYS</code>.</p>
</dd>
<dt><code>max_size</code></dt><dd><p>the size of the entire cache, in MB, at which to start
pruning entries. By default this is <code>1024</code>, or 1GB. The environmental
variable is <code>EPIDATR_CACHE_MAX_SIZE_MB</code>.</p>
</dd>
<dt><code>logfile</code></dt><dd><p>where cachem's log of transactions is stored, relative to the
cache directory. By default, it is <code>"logfile.txt"</code>. The environmental
variable is <code>EPIDATR_CACHE_LOGFILE</code>.</p>
</dd>
<dt><code>confirm</code></dt><dd><p>whether to confirm directory creation. default is <code>TRUE</code>;
should only be set in non-interactive scripts</p>
</dd>
<dt><code>startup</code></dt><dd><p>indicates whether the function is being called on
startup. Affects suppressability of the messages. Default is <code>FALSE</code>.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="clear_cache_+3A_disable">disable</code></td>
<td>
<p>instead of setting a new cache, disable caching entirely;
defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+NULL">NULL</a></code> no return value, all effects are stored in the package
environment
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_cache">set_cache</a></code> to start a new cache (and general caching info),
<code><a href="#topic+disable_cache">disable_cache</a></code> to only disable without deleting, and <code><a href="#topic+cache_info">cache_info</a></code>
</p>

<hr>
<h2 id='covidcast_epidata'>Creates the COVIDcast Epidata autocomplete helper</h2><span id='topic+covidcast_epidata'></span>

<h3>Description</h3>

<p>Creates a helper object that can use auto-complete to help find COVIDcast
sources and signals. The <a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast.html">COVIDcast endpoint</a> of
the Epidata API contains many separate data sources and signals. It can be
difficult to find the name of the signal you're looking for, so you can use
<code>covidcast_epidata</code> to get help with finding sources and functions without
leaving R.
</p>
<p>The <code>covidcast_epidata()</code> function fetches a list of all signals, and returns
an object containing fields for every signal:
</p>
<div class="sourceCode r"><pre>epidata &lt;- covidcast_epidata()
epidata$signals
#&gt; # A tibble: 443 x 3
#&gt;    source        signal                        short_description                
#&gt;    &lt;chr&gt;         &lt;chr&gt;                         &lt;chr&gt;                            
#&gt;  1 chng          smoothed_outpatient_cli       Estimated percentage of outpatie~
#&gt;  2 chng          smoothed_adj_outpatient_cli   Estimated percentage of outpatie~
#&gt;  3 chng          smoothed_outpatient_covid     COVID-Confirmed Doctor Visits    
#&gt;  4 chng          smoothed_adj_outpatient_covid COVID-Confirmed Doctor Visits    
#&gt;  5 chng          smoothed_outpatient_flu       Estimated percentage of outpatie~
#&gt;  6 chng          smoothed_adj_outpatient_flu   Estimated percentage of outpatie~
#&gt;  7 covid-act-now pcr_specimen_positivity_rate  Proportion of PCR specimens test~
#&gt;  8 covid-act-now pcr_specimen_total_tests      Total number of PCR specimens te~
#&gt;  9 doctor-visits smoothed_cli                  Percentage of daily doctor visit~
#&gt; 10 doctor-visits smoothed_adj_cli              Percentage of daily doctor visit~
#&gt; # i 433 more rows
</pre></div>
<p>If you use an editor that supports tab completion, such as RStudio, type
<code style="white-space: pre;">&#8288;epidata$signals$&#8288;</code> and wait for the tab completion popup. You will be able
to type the name of signals and have the autocomplete feature select them
from the list for you. Note that some signal names have dashes in them, so
to access them we rely on the backtick operator:
</p>
<div class="sourceCode r"><pre>epidata$signals$`fb-survey:smoothed_cli`
#&gt; [1] "COVID-Like Symptoms (Unweighted 7-day average)"
#&gt; [1] "fb-survey:smoothed_cli"
#&gt; [1] "Estimated percentage of people with COVID-like illness "
</pre></div>
<p>These objects can be used directly to fetch data, without requiring us to use
the <code>pub_covidcast()</code> function. Simply use the <code style="white-space: pre;">&#8288;$call&#8288;</code> attribute of the object:
</p>
<div class="sourceCode r"><pre>epidata$signals$`fb-survey:smoothed_cli`$call("state", "pa",
                                              epirange(20210405, 20210410))
#&gt; # A tibble: 6 x 15
#&gt;   geo_value signal     source geo_type time_type time_value direction issue     
#&gt;   &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;     &lt;date&gt;         &lt;dbl&gt; &lt;date&gt;    
#&gt; 1 pa        smoothed_~ fb-su~ state    day       2021-04-05        NA 2021-04-10
#&gt; 2 pa        smoothed_~ fb-su~ state    day       2021-04-06        NA 2021-04-11
#&gt; 3 pa        smoothed_~ fb-su~ state    day       2021-04-07        NA 2021-04-12
#&gt; 4 pa        smoothed_~ fb-su~ state    day       2021-04-08        NA 2021-04-13
#&gt; 5 pa        smoothed_~ fb-su~ state    day       2021-04-09        NA 2021-04-14
#&gt; 6 pa        smoothed_~ fb-su~ state    day       2021-04-10        NA 2021-04-15
#&gt; # i 7 more variables: lag &lt;dbl&gt;, missing_value &lt;dbl&gt;, missing_stderr &lt;dbl&gt;,
#&gt; #   missing_sample_size &lt;dbl&gt;, value &lt;dbl&gt;, stderr &lt;dbl&gt;, sample_size &lt;dbl&gt;
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>covidcast_epidata(base_url = global_base_url, timeout_seconds = 30)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covidcast_epidata_+3A_base_url">base_url</code></td>
<td>
<p>optional alternative API base url</p>
</td></tr>
<tr><td><code id="covidcast_epidata_+3A_timeout_seconds">timeout_seconds</code></td>
<td>
<p>the maximum amount of time to wait for a response</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of <code>covidcast_epidata</code>
</p>

<hr>
<h2 id='create_epidata_call'>An abstraction that holds information needed to make an epidata request</h2><span id='topic+create_epidata_call'></span><span id='topic+epidata_call'></span><span id='topic+fetch'></span>

<h3>Description</h3>

<p><code>epidata_call</code> objects are generated internally by endpoint functions like
<code><a href="#topic+pub_covidcast">pub_covidcast</a></code>; by default, they are piped directly into the <code>fetch</code>
function to fetch and format the data. For most endpoints this will return
a tibble, but a few non-COVIDCAST endpoints will return a JSON-like list
instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_epidata_call(
  endpoint,
  params,
  meta = NULL,
  only_supports_classic = FALSE
)

fetch(epidata_call, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_epidata_call_+3A_endpoint">endpoint</code></td>
<td>
<p>the epidata endpoint to call</p>
</td></tr>
<tr><td><code id="create_epidata_call_+3A_params">params</code></td>
<td>
<p>the parameters to pass to the epidata endpoint</p>
</td></tr>
<tr><td><code id="create_epidata_call_+3A_meta">meta</code></td>
<td>
<p>meta data to attach to the epidata call</p>
</td></tr>
<tr><td><code id="create_epidata_call_+3A_only_supports_classic">only_supports_classic</code></td>
<td>
<p>if true only classic format is supported</p>
</td></tr>
<tr><td><code id="create_epidata_call_+3A_epidata_call">epidata_call</code></td>
<td>
<p>an instance of <code>epidata_call</code></p>
</td></tr>
<tr><td><code id="create_epidata_call_+3A_fetch_args">fetch_args</code></td>
<td>
<p>a <code>fetch_args</code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>create_epidata_call</code> is the constructor for <code>epidata_call</code> objects, but you
should not need to use it directly; instead, use an endpoint function,
e.g., <code><a href="#topic+pub_covidcast">pub_covidcast</a></code>, to generate an <code>epidata_call</code> for the data of
interest.
</p>
<p>There are some other functions available for debugging and advanced usage: -
<code>request_url</code> (for debugging):  outputs the request URL from which data
would be fetched (note additional parameters below)
</p>
<p><code>fetch</code> usually returns the data in tibble format, but a few of the
endpoints only support the JSON classic format (<code>pub_delphi</code>,
<code>pvt_meta_norostat</code>, and <code>pub_meta</code>). In that case a
JSON-like nested list structure is returned instead.
</p>


<h3>Value</h3>


<ul>
<li><p> For <code>create_epidata_call</code>: an <code>epidata_call</code> object
</p>
</li></ul>


<ul>
<li><p> For <code>fetch</code>: a tibble or a JSON-like list
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
call &lt;- pub_covidcast(
  source = "jhu-csse",
  signals = "confirmed_7dav_incidence_prop",
  time_type = "day",
  geo_type = "state",
  time_values = epirange(20200601, 20200801),
  geo_values = c("ca", "fl"),
  fetch_args = fetch_args_list(dry_run = TRUE)
)
call %&gt;% fetch()

## End(Not run)

</code></pre>

<hr>
<h2 id='date_to_epiweek'>Converts a date (integer or character) to an epiweek</h2><span id='topic+date_to_epiweek'></span>

<h3>Description</h3>

<p>Converts a date (integer or character) to an epiweek
</p>


<h3>Usage</h3>

<pre><code class='language-R'>date_to_epiweek(value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="date_to_epiweek_+3A_value">value</code></td>
<td>
<p>date (integer or character, with format YYYYMMDD) to be converted to an epiweek</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an integer representing an epiweek, in the format YYYYWW
</p>

<hr>
<h2 id='disable_cache'>Turn off the caching for this session</h2><span id='topic+disable_cache'></span>

<h3>Description</h3>

<p>Disable caching until you call <code>set_cache</code> or restart R. The files defining
the cache are untouched. If you are looking to disable the caching more
permanently, set <code>EPIDATR_USE_CACHE=FALSE</code> as environmental variable in
your <code>.Renviron</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disable_cache()
</code></pre>


<h3>Value</h3>

<p><code><a href="base.html#topic+NULL">NULL</a></code> no return value, all effects are stored in the package
environment
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_cache">set_cache</a></code> to start a new cache (and general caching info),
<code><a href="#topic+clear_cache">clear_cache</a></code> to delete the cache and set a new one, and <code><a href="#topic+cache_info">cache_info</a></code>
</p>

<hr>
<h2 id='do_request'>performs the request</h2><span id='topic+do_request'></span>

<h3>Description</h3>

<p>You can test the authentication headers like so:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_request(url, params, timeout_seconds)
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
response &lt;- httr::RETRY(
  "GET", "https://httpbin.org/headers",
  httr::authenticate("epidata", "fake_key")
)
content(response)$headers$Authorization == paste0(
  "Basic ",
  base64enc::base64encode(charToRaw("epidata:fake_key"))
)

## End(Not run)

</code></pre>

<hr>
<h2 id='epidatr-package'>epidatr: Client for Delphi's 'Epidata' API</h2><span id='topic+epidatr'></span><span id='topic+epidatr-package'></span>

<h3>Description</h3>

<p>The Delphi 'Epidata' API provides real-time access to epidemiological surveillance data for influenza, 'COVID-19', and other diseases for the USA at various geographical resolutions, both from official government sources such as the Center for Disease Control (CDC) and Google Trends and private partners such as Facebook and Change 'Healthcare'. It is built and maintained by the Carnegie Mellon University Delphi research group. To cite this API: David C. Farrow, Logan C. Brooks, Aaron 'Rumack', Ryan J. 'Tibshirani', 'Roni' 'Rosenfeld' (2015). Delphi 'Epidata' API. <a href="https://github.com/cmu-delphi/delphi-epidata">https://github.com/cmu-delphi/delphi-epidata</a>.
</p>


<h3>Package options</h3>

<p>The <code>delphi.epidata.key</code> option specifies the API key to be used when making
requests to the Epidata API.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: David Weber <a href="mailto:davidweb@andrew.cmu.edu">davidweb@andrew.cmu.edu</a> [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Logan Brooks <a href="mailto:lcbrooks@andrew.cmu.edu">lcbrooks@andrew.cmu.edu</a>
</p>
</li>
<li><p> Dmitry Shemetov <a href="mailto:dshemeto@andrew.cmu.edu">dshemeto@andrew.cmu.edu</a>
</p>
</li>
<li><p> Samuel Gratzl <a href="mailto:sam@sgratzl.com">sam@sgratzl.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Alex Reinhart [contributor]
</p>
</li>
<li><p> Daniel McDonald [contributor]
</p>
</li>
<li><p> Kean Ming Tan [contributor]
</p>
</li>
<li><p> Will Townes [contributor]
</p>
</li>
<li><p> George Haff [contributor]
</p>
</li>
<li><p> Kathryn Mazaitis [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://cmu-delphi.github.io/epidatr/">https://cmu-delphi.github.io/epidatr/</a>
</p>
</li>
<li> <p><a href="https://cmu-delphi.github.io/delphi-epidata/">https://cmu-delphi.github.io/delphi-epidata/</a>
</p>
</li>
<li> <p><a href="https://github.com/cmu-delphi/epidatr">https://github.com/cmu-delphi/epidatr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/cmu-delphi/epidatr/issues">https://github.com/cmu-delphi/epidatr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='epirange'>Specify a range of days or weeks for API requests</h2><span id='topic+epirange'></span>

<h3>Description</h3>

<p>Specify a date range (in days or epiweeks) for an API request.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>epirange(from, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="epirange_+3A_from">from</code></td>
<td>
<p>The first date to request. Can be specified as a <code>Date</code> or as an
integer or integer-like string in the format YYYYMMDD for dates or YYYYWW
for epiweeks.</p>
</td></tr>
<tr><td><code id="epirange_+3A_to">to</code></td>
<td>
<p>The final date to request (inclusive), specified the same way as
<code>from</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Epiweeks, also known as MMWR weeks number the weeks of the year from 1 to 53,
each week spanning from Sunday to Saturday. The numbering is <a href="https://ndc.services.cdc.gov/wp-content/uploads/MMWR_Week_overview.pdf">defined by the CDC</a>.
</p>


<h3>Value</h3>

<p>An <code>EpiRange</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Represents 2021-01-01 to 2021-01-07, inclusive
epirange(20210101, 20210107)

# The same, but using Date objects
epirange(as.Date("2021-01-01"), as.Date("2021-01-07"))

# Represents epiweeks 2 through 4 of 2022, inclusive
epirange(202202, 202204)
</code></pre>

<hr>
<h2 id='fetch_args_list'>Set custom API request parameters</h2><span id='topic+fetch_args_list'></span><span id='topic+fetch_args'></span>

<h3>Description</h3>

<p>Used to specify custom options when making API requests, such as to set
timeouts or change data formats. These options are used by <code>fetch()</code> when it
makes calls to the Epidata API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_args_list(
  ...,
  fields = NULL,
  disable_date_parsing = FALSE,
  disable_data_frame_parsing = FALSE,
  return_empty = FALSE,
  timeout_seconds = 15 * 60,
  base_url = NULL,
  dry_run = FALSE,
  debug = FALSE,
  format_type = c("json", "classic", "csv")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_args_list_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_fields">fields</code></td>
<td>
<p>a list of epidata fields to return, or <code>NULL</code> to return all
fields (default). e.g. <code>c("time_value", "value")</code> to return only the
<code>time_value</code> and <code>value</code> fields or <code>c("-direction")</code> to return everything
except the direction field</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_disable_date_parsing">disable_date_parsing</code></td>
<td>
<p>disable automatic date parsing</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_disable_data_frame_parsing">disable_data_frame_parsing</code></td>
<td>
<p>disable automatic conversion to data frame;
this is only supported by endpoints that only support the 'classic' format
(non-tabular)</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_return_empty">return_empty</code></td>
<td>
<p>boolean that allows returning an empty tibble if there is
no data</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_timeout_seconds">timeout_seconds</code></td>
<td>
<p>the maximum amount of time (in seconds) to wait for a
response from the API server</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_base_url">base_url</code></td>
<td>
<p>base URL to use; by default <code>NULL</code>, which means the global
base URL <code>"https://api.delphi.cmu.edu/epidata/"</code></p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_dry_run">dry_run</code></td>
<td>
<p>if <code>TRUE</code>, skip the call to the API and instead return the
<code>epidata_call</code> object (useful for debugging)</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_debug">debug</code></td>
<td>
<p>if <code>TRUE</code>, return the raw response from the API</p>
</td></tr>
<tr><td><code id="fetch_args_list_+3A_format_type">format_type</code></td>
<td>
<p>the format to request from the API, one of classic, json,
csv; this is only used by <code>fetch_debug</code>, and by default is <code>"json"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fetch_args</code> object containing all the specified options
</p>

<hr>
<h2 id='fetch_classic'>Fetches the data, raises on epidata errors, and returns the results as a
JSON-like list</h2><span id='topic+fetch_classic'></span>

<h3>Description</h3>

<p>Fetches the data, raises on epidata errors, and returns the results as a
JSON-like list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_classic(epidata_call, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_classic_+3A_epidata_call">epidata_call</code></td>
<td>
<p>an instance of <code>epidata_call</code></p>
</td></tr>
<tr><td><code id="fetch_classic_+3A_fetch_args">fetch_args</code></td>
<td>
<p>a <code>fetch_args</code> object</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> For <code>fetch_classic</code>: a JSON-like list
</p>
</li></ul>


<hr>
<h2 id='fetch_tbl'>Fetches the data and returns a tibble</h2><span id='topic+fetch_tbl'></span>

<h3>Description</h3>

<p>Fetches the data and returns a tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_tbl(epidata_call, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_tbl_+3A_epidata_call">epidata_call</code></td>
<td>
<p>an instance of <code>epidata_call</code></p>
</td></tr>
<tr><td><code id="fetch_tbl_+3A_fetch_args">fetch_args</code></td>
<td>
<p>a <code>fetch_args</code> object</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> For <code>fetch_tbl</code>: a <code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>
</li></ul>


<hr>
<h2 id='format_item'>Helper function to cast values, non-list vectors, and/or EpiRanges to strings</h2><span id='topic+format_item'></span>

<h3>Description</h3>

<p>Helper function to cast values, non-list vectors, and/or EpiRanges to strings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_item(value)
</code></pre>

<hr>
<h2 id='format_list'>Helper function to build a list of values and/or ranges</h2><span id='topic+format_list'></span>

<h3>Description</h3>

<p>Helper function to build a list of values and/or ranges
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_list(values)
</code></pre>

<hr>
<h2 id='get_api_key'>Get and set API keys</h2><span id='topic+get_api_key'></span><span id='topic+save_api_key'></span>

<h3>Description</h3>

<p>Get and set the API key used to make requests to the Epidata API. Without a
key, requests may be subject to rate limits and other limitations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_api_key()

save_api_key()
</code></pre>


<h3>Details</h3>

<p>We recommend you register for an API key. While most endpoints are available
without one, there are <a href="https://cmu-delphi.github.io/delphi-epidata/api/api_keys.html">limits on API usage for anonymous users</a>,
including a rate limit. If you regularly request large amounts of data,
please consider <a href="https://api.delphi.cmu.edu/epidata/admin/registration_form">registering for an API key</a>.
</p>
<p>API keys are strings read from the environment variable <code>DELPHI_EPIDATA_KEY</code>.
We recommend setting your key with <code>save_api_key()</code>, which will modify an
applicable <code>.Renviron</code> file, which will be read in automatically when you
start future R sessions (see <code><a href="base.html#topic+Startup">?Startup</a></code> for details on
<code>.Renviron</code> files). Alternatively, you can modify the environment variable at
the command line before/while launching R, or inside an R session with
<code><a href="base.html#topic+Sys.setenv">Sys.setenv()</a></code>, but these will not persist across sessions.
</p>
<p>Once an API key is set, it is automatically used for all requests made by
functions in this package.
</p>


<h3>Value</h3>

<p>For <code>get_api_key()</code>, returns the current API key as a string, or
<code>""</code> if none is set.
</p>


<h3>References</h3>


<ul>
<li> <p><a href="https://cmu-delphi.github.io/delphi-epidata/api/api_keys.html">Delphi Epidata API Keys documentation</a>.
</p>
</li>
<li> <p><a href="https://api.delphi.cmu.edu/epidata/admin/registration_form">Delphi Epidata API Registration Form</a>.
</p>
</li></ul>


<hr>
<h2 id='get_wildcard_equivalent_dates'>helper to convert a date wildcard (&quot;*&quot;) to an appropriate epirange</h2><span id='topic+get_wildcard_equivalent_dates'></span>

<h3>Description</h3>

<p>helper to convert a date wildcard (&quot;*&quot;) to an appropriate epirange
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wildcard_equivalent_dates(time_value, time_type = c("day", "week"))
</code></pre>

<hr>
<h2 id='parse_api_week'>parse_api_week converts an integer to a date</h2><span id='topic+parse_api_week'></span>

<h3>Description</h3>

<p>parse_api_week converts an integer to a date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_api_week(value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_api_week_+3A_value">value</code></td>
<td>
<p>value to be converted to an epiweek</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a date
</p>

<hr>
<h2 id='parse_signal'>turn a signal into a callable</h2><span id='topic+parse_signal'></span>

<h3>Description</h3>

<p>turn a signal into a callable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_signal(signal, base_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_signal_+3A_signal">signal</code></td>
<td>
<p>the signal of interest</p>
</td></tr>
<tr><td><code id="parse_signal_+3A_base_url">base_url</code></td>
<td>
<p>the base url</p>
</td></tr>
</table>

<hr>
<h2 id='pub_covid_hosp_facility'>COVID hospitalizations by facility</h2><span id='topic+pub_covid_hosp_facility'></span>

<h3>Description</h3>

<p>API docs:
<a href="https://cmu-delphi.github.io/delphi-epidata/api/covid_hosp_facility.html">https://cmu-delphi.github.io/delphi-epidata/api/covid_hosp_facility.html</a>
</p>
<p>Obtains the COVID-19 reported patient impact and hospital capacity data by
facility. This dataset is provided by the US Department of Health &amp; Human
Services. The companion function <code><a href="#topic+pub_covid_hosp_facility_lookup">pub_covid_hosp_facility_lookup()</a></code> can be
used to look up facility identifiers in a variety of ways.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_covid_hosp_facility(
  hospital_pks,
  collection_weeks = "*",
  ...,
  publication_dates = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_covid_hosp_facility_+3A_hospital_pks">hospital_pks</code></td>
<td>
<p>character. Facility identifiers.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_+3A_collection_weeks">collection_weeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Dates (corresponding to epiweeks) to
fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_+3A_publication_dates">publication_dates</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Publication dates to fetch.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Starting October 1, 2022, some facilities are only required to
report annually.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pub_covid_hosp_facility">pub_covid_hosp_facility()</a></code>, <code><a href="#topic+epirange">epirange()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_covid_hosp_facility(
  hospital_pks = "100075",
  collection_weeks = epirange(20200101, 20200501)
)

pub_covid_hosp_facility(
  hospital_pks = "100075",
  collection_weeks = epirange(202001, 202005)
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_covid_hosp_facility_lookup'>Helper for finding COVID hospitalization facilities</h2><span id='topic+pub_covid_hosp_facility_lookup'></span>

<h3>Description</h3>

<p>API docs:
<a href="https://cmu-delphi.github.io/delphi-epidata/api/covid_hosp_facility_lookup.html">https://cmu-delphi.github.io/delphi-epidata/api/covid_hosp_facility_lookup.html</a>
</p>
<p>Obtains unique identifiers and other metadata for COVID hospitalization
facilities of interest. This is a companion endpoint to the
<code><a href="#topic+pub_covid_hosp_facility">pub_covid_hosp_facility()</a></code> endpoint.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_covid_hosp_facility_lookup(
  ...,
  state = NULL,
  ccn = NULL,
  city = NULL,
  zip = NULL,
  fips_code = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_covid_hosp_facility_lookup_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_lookup_+3A_state">state</code></td>
<td>
<p>string. A two-letter character state abbreviation.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_lookup_+3A_ccn">ccn</code></td>
<td>
<p>string. A facility CMS certification number.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_lookup_+3A_city">city</code></td>
<td>
<p>string. A city name.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_lookup_+3A_zip">zip</code></td>
<td>
<p>string. A 5-digit zip code.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_lookup_+3A_fips_code">fips_code</code></td>
<td>
<p>string. A 5-digit fips county code, zero-padded.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_facility_lookup_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only one location argument needs to be specified.
Combinations of the arguments are not currently supported.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pub_covid_hosp_facility">pub_covid_hosp_facility()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_covid_hosp_facility_lookup(state = "fl")
pub_covid_hosp_facility_lookup(city = "southlake")

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_covid_hosp_state_timeseries'>COVID hospitalizations by state</h2><span id='topic+pub_covid_hosp_state_timeseries'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/covid_hosp.html">https://cmu-delphi.github.io/delphi-epidata/api/covid_hosp.html</a>.
</p>
<p>Obtains the COVID-19 reported patient impact and hospital capacity data by
state. This dataset is provided by the US Department of Health &amp; Human
Services.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_covid_hosp_state_timeseries(
  states,
  dates = "*",
  ...,
  as_of = NULL,
  issues = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_covid_hosp_state_timeseries_+3A_states">states</code></td>
<td>
<p>character. Two letter state abbreviations.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_state_timeseries_+3A_dates">dates</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Dates to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_state_timeseries_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_state_timeseries_+3A_as_of">as_of</code></td>
<td>
<p>Date. Optionally, the as of date for the issues to fetch. If not
specified, the most recent data is returned. Mutually exclusive with
<code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_state_timeseries_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issue of the data to fetch. If not
specified, the most recent issue is returned. Mutually exclusive with
<code>as_of</code> or <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_covid_hosp_state_timeseries_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Starting October 1, 2022, some facilities are only required to
report annually.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_covid_hosp_state_timeseries(
  states = "fl",
  dates = epirange(20200101, 20200501)
)

## End(Not run)

</code></pre>

<hr>
<h2 id='pub_covidcast'>Various COVID and flu signals via the COVIDcast endpoint</h2><span id='topic+pub_covidcast'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_signals.html">https://cmu-delphi.github.io/delphi-epidata/api/covidcast_signals.html</a>
</p>
<p>The primary endpoint for fetching COVID-19 data, providing access to a wide
variety of signals from a wide variety of sources. See the API documentation
link above for more. Delphi's <a href="https://delphi.cmu.edu/covidcast/">COVIDcast public dashboard</a> is powered by this endpoint.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_covidcast(
  source,
  signals,
  geo_type,
  time_type,
  geo_values = "*",
  time_values = "*",
  ...,
  as_of = NULL,
  issues = NULL,
  lag = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_covidcast_+3A_source">source</code></td>
<td>
<p>string. The data source to query (see:
<a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_signals.html">https://cmu-delphi.github.io/delphi-epidata/api/covidcast_signals.html</a>).</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_signals">signals</code></td>
<td>
<p>string. The signals to query from a specific source (see:
<a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_signals.html">https://cmu-delphi.github.io/delphi-epidata/api/covidcast_signals.html</a>).</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_geo_type">geo_type</code></td>
<td>
<p>string. The geographic resolution of the data (see:
<a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_geography.html">https://cmu-delphi.github.io/delphi-epidata/api/covidcast_geography.html</a>).</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_time_type">time_type</code></td>
<td>
<p>string. The temporal resolution of the data (either &quot;day&quot; or
&quot;week&quot;, depending on signal).</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_geo_values">geo_values</code></td>
<td>
<p>character. The geographies to return. &quot;*&quot; fetches
all. (See:
<a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_geography.html">https://cmu-delphi.github.io/delphi-epidata/api/covidcast_geography.html</a>.)</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_time_values">time_values</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Dates to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_as_of">as_of</code></td>
<td>
<p>Date. Optionally, the as of date for the issues to fetch. If not
specified, the most recent data is returned. Mutually exclusive with
<code>issues</code> or <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issue of the data to fetch. If not
specified, the most recent issue is returned. Mutually exclusive with
<code>as_of</code> or <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>as_of</code> or
<code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_covidcast_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pub_covidcast_meta">pub_covidcast_meta()</a></code>, <code><a href="#topic+covidcast_epidata">covidcast_epidata()</a></code>, <code><a href="#topic+epirange">epirange()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_covidcast(
  source = "jhu-csse",
  signals = "confirmed_7dav_incidence_prop",
  geo_type = "state",
  time_type = "day",
  geo_values = c("ca", "fl"),
  time_values = epirange(20200601, 20200801)
)
pub_covidcast(
  source = "jhu-csse",
  signals = "confirmed_7dav_incidence_prop",
  geo_type = "state",
  time_type = "day",
  geo_values = "*",
  time_values = epirange(20200601, 20200801)
)

## End(Not run)

</code></pre>

<hr>
<h2 id='pub_covidcast_meta'>Metadata for the COVIDcast endpoint</h2><span id='topic+pub_covidcast_meta'></span>

<h3>Description</h3>

<p>API docs:
<a href="https://cmu-delphi.github.io/delphi-epidata/api/covidcast_meta.html">https://cmu-delphi.github.io/delphi-epidata/api/covidcast_meta.html</a>.
</p>
<p>Fetch a summary of metadata for all sources and signals that are available in
the API, along with basic summary statistics such as the dates they are
available, the geographic levels at which they are reported, and etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_covidcast_meta(fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_covidcast_meta_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pub_covidcast">pub_covidcast()</a></code>,<code><a href="#topic+covidcast_epidata">covidcast_epidata()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_covidcast_meta()

## End(Not run)

</code></pre>

<hr>
<h2 id='pub_delphi'>Delphi's ILINet outpatient doctor visits forecasts</h2><span id='topic+pub_delphi'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/delphi.html">https://cmu-delphi.github.io/delphi-epidata/api/delphi.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_delphi(system, epiweek, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_delphi_+3A_system">system</code></td>
<td>
<p>character. System name to fetch.</p>
</td></tr>
<tr><td><code id="pub_delphi_+3A_epiweek">epiweek</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweek to fetch. Does not support multiple dates.
Make separate calls to fetch data for multiple epiweeks.</p>
</td></tr>
<tr><td><code id="pub_delphi_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+list">list</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_delphi(system = "ec", epiweek = 201501)

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_dengue_nowcast'>Delphi's PAHO dengue nowcasts (North and South America)</h2><span id='topic+pub_dengue_nowcast'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/dengue_nowcast.html">https://cmu-delphi.github.io/delphi-epidata/api/dengue_nowcast.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_dengue_nowcast(locations, epiweeks = "*", fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_dengue_nowcast_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pub_dengue_nowcast_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_dengue_nowcast_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_dengue_nowcast(
  locations = "pr",
  epiweeks = epirange(201401, 202301)
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_ecdc_ili'>ECDC ILI incidence (Europe)</h2><span id='topic+pub_ecdc_ili'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/ecdc_ili.html">https://cmu-delphi.github.io/delphi-epidata/api/ecdc_ili.html</a>.
</p>
<p>Obtain information on influenza-like-illness from the European Centre for
Disease Prevention and Control.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_ecdc_ili(
  regions,
  epiweeks = "*",
  ...,
  issues = NULL,
  lag = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_ecdc_ili_+3A_regions">regions</code></td>
<td>
<p>character. Regions to fetch.</p>
</td></tr>
<tr><td><code id="pub_ecdc_ili_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_ecdc_ili_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_ecdc_ili_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issues to fetch. If not set, the
most recent issue is returned. Mutually exclusive with <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_ecdc_ili_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_ecdc_ili_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The list of location argument can be found in
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/ecdc_regions.txt">https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/ecdc_regions.txt</a>.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_ecdc_ili(regions = "austria", epiweeks = epirange(201901, 202001))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_flusurv'>CDC FluSurv flu hospitalizations</h2><span id='topic+pub_flusurv'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/flusurv.html">https://cmu-delphi.github.io/delphi-epidata/api/flusurv.html</a>.
</p>
<p>Obtain information on influenza hospitalization rates from the Center of Disease
Control.
</p>
<p>See also <a href="https://gis.cdc.gov/GRASP/Fluview/FluHospRates.html">https://gis.cdc.gov/GRASP/Fluview/FluHospRates.html</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_flusurv(
  locations,
  epiweeks = "*",
  ...,
  issues = NULL,
  lag = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_flusurv_+3A_locations">locations</code></td>
<td>
<p>character. Character vector indicating location.</p>
</td></tr>
<tr><td><code id="pub_flusurv_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_flusurv_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_flusurv_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issues to fetch. If not set, the
most recent issue is returned. Mutually exclusive with <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_flusurv_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_flusurv_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The list of location argument can be found in
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/flusurv_locations.txt">https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/flusurv_locations.txt</a>.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_flusurv(locations = "CA", epiweeks = epirange(201701, 201801))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_fluview'>CDC FluView ILINet outpatient doctor visits</h2><span id='topic+pub_fluview'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/fluview.html">https://cmu-delphi.github.io/delphi-epidata/api/fluview.html</a>. For
</p>
<p>Obtains information on outpatient inluenza-like-illness (ILI) from U.S.
Outpatient Influenza-like Illness Surveillance Network (ILINet).
</p>
<p>more information on ILINet, see
<a href="https://gis.cdc.gov/grasp/fluview/fluportaldashboard.html">https://gis.cdc.gov/grasp/fluview/fluportaldashboard.html</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_fluview(
  regions,
  epiweeks = "*",
  ...,
  issues = NULL,
  lag = NULL,
  auth = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_fluview_+3A_regions">regions</code></td>
<td>
<p>character. Locations to fetch. Can be any string IDs in
national, HHS region, census division, most states and territories, and so
on. Full list link below.</p>
</td></tr>
<tr><td><code id="pub_fluview_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch in the form
<code>epirange(startweek, endweek)</code>, where startweek and endweek are of the form
YYYYWW (string or numeric). Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_fluview_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_fluview_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issues to fetch. If not set, the
most recent issue is returned. Mutually exclusive with <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_fluview_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_fluview_+3A_auth">auth</code></td>
<td>
<p>string. Optionally, restricted access key (not the same as API
key).</p>
</td></tr>
<tr><td><code id="pub_fluview_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The full list of location inputs can be accessed at
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/src/acquisition/fluview/fluview_locations.py">https://github.com/cmu-delphi/delphi-epidata/blob/main/src/acquisition/fluview/fluview_locations.py</a>.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_fluview(regions = "nat", epiweeks = epirange(201201, 202005))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_fluview_clinical'>CDC FluView flu tests from clinical labs</h2><span id='topic+pub_fluview_clinical'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/fluview_clinical.html">https://cmu-delphi.github.io/delphi-epidata/api/fluview_clinical.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_fluview_clinical(
  regions,
  epiweeks = "*",
  ...,
  issues = NULL,
  lag = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_fluview_clinical_+3A_regions">regions</code></td>
<td>
<p>character. Regions to fetch.</p>
</td></tr>
<tr><td><code id="pub_fluview_clinical_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch in the form
epirange(startweek,endweek), where startweek and endweek are of the form
YYYYWW (string or numeric). Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_fluview_clinical_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_fluview_clinical_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issues to fetch. If not set, the
most recent issue is returned. Mutually exclusive with <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_fluview_clinical_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_fluview_clinical_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_fluview_clinical(regions = "nat", epiweeks = epirange(201601, 201701))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_fluview_meta'>Metadata for the FluView endpoint</h2><span id='topic+pub_fluview_meta'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/fluview_meta.html">https://cmu-delphi.github.io/delphi-epidata/api/fluview_meta.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_fluview_meta(fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_fluview_meta_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pub_fluview">pub_fluview()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_fluview_meta()

## End(Not run)

</code></pre>

<hr>
<h2 id='pub_gft'>Google Flu Trends flu search volume</h2><span id='topic+pub_gft'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/gft.html">https://cmu-delphi.github.io/delphi-epidata/api/gft.html</a>
</p>
<p>Obtains estimates of inluenza activity based on volume of certain search
queries from Google.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_gft(locations, epiweeks = "*", fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_gft_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pub_gft_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code> Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_gft_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Google has discontinued Flu Trends and this is now a static
endpoint. Possibile input for locations can be found in
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/regions.txt">https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/regions.txt</a>,
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/states.txt">https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/states.txt</a>,
and
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/cities.txt">https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/cities.txt</a>.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_gft(locations = "hhs1", epiweeks = epirange(201201, 202001))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_kcdc_ili'>KCDC ILI incidence (Korea)</h2><span id='topic+pub_kcdc_ili'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/kcdc_ili.html">https://cmu-delphi.github.io/delphi-epidata/api/kcdc_ili.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_kcdc_ili(
  regions,
  epiweeks = "*",
  ...,
  issues = NULL,
  lag = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_kcdc_ili_+3A_regions">regions</code></td>
<td>
<p>character. Regions to fetch.</p>
</td></tr>
<tr><td><code id="pub_kcdc_ili_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_kcdc_ili_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_kcdc_ili_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issues to fetch. If not set, the
most recent issue is returned. Mutually exclusive with <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_kcdc_ili_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_kcdc_ili_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_kcdc_ili(regions = "ROK", epiweeks = 200436)

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_meta'>Metadata for the Delphi Epidata API</h2><span id='topic+pub_meta'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/meta.html">https://cmu-delphi.github.io/delphi-epidata/api/meta.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_meta(fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_meta_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+list">list</a></code>
</p>

<hr>
<h2 id='pub_nidss_dengue'>NIDSS dengue cases (Taiwan)</h2><span id='topic+pub_nidss_dengue'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/nidss_dengue.html">https://cmu-delphi.github.io/delphi-epidata/api/nidss_dengue.html</a>
</p>
<p>Obtains counts of confirmed dengue cases in Taiwan from Taiwan National
Infectious Disease Statistical System.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_nidss_dengue(locations, epiweeks = "*", fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_nidss_dengue_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pub_nidss_dengue_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_nidss_dengue_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Possible location inputs can be found in
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/nidss_regions.txt">https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/nidss_regions.txt</a>
and
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/nidss_locations.txt">https://github.com/cmu-delphi/delphi-epidata/blob/main/labels/nidss_locations.txt</a>.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_nidss_dengue(locations = "taipei", epiweeks = epirange(201201, 201301))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_nidss_flu'>NIDSS flu doctor visits (Taiwan)</h2><span id='topic+pub_nidss_flu'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/nidss_flu.html">https://cmu-delphi.github.io/delphi-epidata/api/nidss_flu.html</a>
</p>
<p>Obtains information on outpatient inluenza-like-illness from Taiwan National
Infectious Disease Statistical System.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_nidss_flu(
  regions,
  epiweeks = "*",
  ...,
  issues = NULL,
  lag = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_nidss_flu_+3A_regions">regions</code></td>
<td>
<p>character. Regions to fetch.</p>
</td></tr>
<tr><td><code id="pub_nidss_flu_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_nidss_flu_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_nidss_flu_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issues to fetch. If not set, the
most recent issue is returned. Mutually exclusive with <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_nidss_flu_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_nidss_flu_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_nidss_flu(regions = "taipei", epiweeks = epirange(201501, 201601))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_nowcast'>Delphi's ILI Nearby nowcasts</h2><span id='topic+pub_nowcast'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/nowcast.html">https://cmu-delphi.github.io/delphi-epidata/api/nowcast.html</a>.
</p>
<p>Obtains information on outpatient inluenza-like-illness (ILI) from Delphi's
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_nowcast(locations, epiweeks = "*", fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_nowcast_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pub_nowcast_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_nowcast_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The full list of location inputs can be accessed at
<a href="https://github.com/cmu-delphi/delphi-epidata/blob/main/src/acquisition/fluview/fluview_locations.py">https://github.com/cmu-delphi/delphi-epidata/blob/main/src/acquisition/fluview/fluview_locations.py</a>.
</p>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_nowcast(locations = "ca", epiweeks = epirange(201201, 201301))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_paho_dengue'>PAHO dengue data (North and South America)</h2><span id='topic+pub_paho_dengue'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/paho_dengue.html">https://cmu-delphi.github.io/delphi-epidata/api/paho_dengue.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pub_paho_dengue(
  regions,
  epiweeks = "*",
  ...,
  issues = NULL,
  lag = NULL,
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_paho_dengue_+3A_regions">regions</code></td>
<td>
<p>character. Regions to fetch.</p>
</td></tr>
<tr><td><code id="pub_paho_dengue_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_paho_dengue_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_paho_dengue_+3A_issues">issues</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Optionally, the issues to fetch. If not set, the
most recent issue is returned. Mutually exclusive with <code>lag</code>.</p>
</td></tr>
<tr><td><code id="pub_paho_dengue_+3A_lag">lag</code></td>
<td>
<p>integer. Optionally, the lag of the issues to fetch. If not set,
the most recent issue is returned. Mutually exclusive with <code>issues</code>.</p>
</td></tr>
<tr><td><code id="pub_paho_dengue_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_paho_dengue(regions = "ca", epiweeks = epirange(201401, 201501))

## End(Not run)
</code></pre>

<hr>
<h2 id='pub_wiki'>Wikipedia webpage counts by article</h2><span id='topic+pub_wiki'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/wiki.html">https://cmu-delphi.github.io/delphi-epidata/api/wiki.html</a>
Number of page visits for selected English, Influenza-related wikipedia articles.
</p>

<ul>
<li><p> Source: Wikimedia
</p>
</li>
<li><p> Temporal Resolution: Hourly, daily, and weekly from 2007-12-09 (2007w50)
</p>
</li>
<li><p> Spatial Resolution: N/A
</p>
</li>
<li><p> Other resolution: By article (54)
</p>
</li>
<li><p> Open access
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>pub_wiki(
  articles,
  ...,
  time_type = c("day", "week"),
  time_values = "*",
  hours = NULL,
  language = "en",
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pub_wiki_+3A_articles">articles</code></td>
<td>
<p>character. Articles to fetch.</p>
</td></tr>
<tr><td><code id="pub_wiki_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pub_wiki_+3A_time_type">time_type</code></td>
<td>
<p>string. The temporal resolution of the data (either &quot;day&quot; or
&quot;week&quot;, depending on signal).</p>
</td></tr>
<tr><td><code id="pub_wiki_+3A_time_values">time_values</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Dates or epiweeks to fetch. Defaults to all
(&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pub_wiki_+3A_hours">hours</code></td>
<td>
<p>integer. Optionally, the hours to fetch.</p>
</td></tr>
<tr><td><code id="pub_wiki_+3A_language">language</code></td>
<td>
<p>string. Language to fetch.</p>
</td></tr>
<tr><td><code id="pub_wiki_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pub_wiki(
  articles = "avian_influenza",
  time_type = "week",
  time_values = epirange(201501, 201601)
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pvt_cdc'>CDC total and by topic webpage visits</h2><span id='topic+pvt_cdc'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/cdc.html">https://cmu-delphi.github.io/delphi-epidata/api/cdc.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_cdc(auth, locations, epiweeks = "*", fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_cdc_+3A_auth">auth</code></td>
<td>
<p>string. Restricted access key (not the same as API key).</p>
</td></tr>
<tr><td><code id="pvt_cdc_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pvt_cdc_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pvt_cdc_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.
See <code>fetch_args_list()</code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_cdc(
  auth = Sys.getenv("SECRET_API_AUTH_CDC"),
  locations = "fl,ca",
  epirange(201501, 201601)
)

## End(Not run)

</code></pre>

<hr>
<h2 id='pvt_dengue_sensors'>PAHO dengue digital surveillance sensors (North and South America)</h2><span id='topic+pvt_dengue_sensors'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/dengue_sensors.html">https://cmu-delphi.github.io/delphi-epidata/api/dengue_sensors.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_dengue_sensors(
  auth,
  names,
  locations,
  epiweeks = "*",
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_dengue_sensors_+3A_auth">auth</code></td>
<td>
<p>string. Restricted access key (not the same as API key).</p>
</td></tr>
<tr><td><code id="pvt_dengue_sensors_+3A_names">names</code></td>
<td>
<p>character. Names to fetch.</p>
</td></tr>
<tr><td><code id="pvt_dengue_sensors_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pvt_dengue_sensors_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pvt_dengue_sensors_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_dengue_sensors(
  auth = Sys.getenv("SECRET_API_AUTH_SENSORS"),
  names = "ght",
  locations = "ag",
  epiweeks = epirange(201501, 202001)
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pvt_ght'>Google Health Trends health topics search volume</h2><span id='topic+pvt_ght'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/ght.html">https://cmu-delphi.github.io/delphi-epidata/api/ght.html</a>
</p>
<p>Estimate of influenza activity based on volume of certain search queries. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_ght(auth, locations, epiweeks = "*", query, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_ght_+3A_auth">auth</code></td>
<td>
<p>string. Restricted access key (not the same as API key).</p>
</td></tr>
<tr><td><code id="pvt_ght_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pvt_ght_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pvt_ght_+3A_query">query</code></td>
<td>
<p>string. The query to be fetched.</p>
</td></tr>
<tr><td><code id="pvt_ght_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_ght(
  auth = Sys.getenv("SECRET_API_AUTH_GHT"),
  locations = "ma",
  epiweeks = epirange(199301, 202304),
  query = "how to get over the flu"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pvt_meta_norostat'>Metadata for the NoroSTAT endpoint</h2><span id='topic+pvt_meta_norostat'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/meta_norostat.html">https://cmu-delphi.github.io/delphi-epidata/api/meta_norostat.html</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_meta_norostat(auth, fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_meta_norostat_+3A_auth">auth</code></td>
<td>
<p>string. Restricted access key (not the same as API key).</p>
</td></tr>
<tr><td><code id="pvt_meta_norostat_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+list">list</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pvt_norostat">pvt_norostat()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_meta_norostat(auth = Sys.getenv("SECRET_API_AUTH_NOROSTAT"))

## End(Not run)
</code></pre>

<hr>
<h2 id='pvt_norostat'>CDC NoroSTAT norovirus outbreaks</h2><span id='topic+pvt_norostat'></span>

<h3>Description</h3>

<p>This is point data only, and does not include minima or maxima.
</p>
<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/norostat.html">https://cmu-delphi.github.io/delphi-epidata/api/norostat.html</a>
</p>
<p>This is the documentation of the API for accessing the NoroSTAT endpoint of
the Delphis epidemiological data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_norostat(auth, locations, epiweeks = "*", fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_norostat_+3A_auth">auth</code></td>
<td>
<p>string. Your authentication key.</p>
</td></tr>
<tr><td><code id="pvt_norostat_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pvt_norostat_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pvt_norostat_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_norostat(
  auth = Sys.getenv("SECRET_API_AUTH_NOROSTAT"),
  locations = "1",
  epiweeks = 201233
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pvt_quidel'>Quidel COVID-19 and influenza testing data</h2><span id='topic+pvt_quidel'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/quidel.html">https://cmu-delphi.github.io/delphi-epidata/api/quidel.html</a>
</p>
<p>Data provided by Quidel Corp., which contains flu lab test results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_quidel(auth, locations, epiweeks = "*", fetch_args = fetch_args_list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_quidel_+3A_auth">auth</code></td>
<td>
<p>string. Restricted access key (not the same as API key).</p>
</td></tr>
<tr><td><code id="pvt_quidel_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pvt_quidel_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pvt_quidel_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_quidel(
  auth = Sys.getenv("SECRET_API_AUTH_QUIDEL"),
  epiweeks = epirange(201201, 202001),
  locations = "hhs1"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pvt_sensors'>Influenza and dengue digital surveillance sensors</h2><span id='topic+pvt_sensors'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/sensors.html">https://cmu-delphi.github.io/delphi-epidata/api/sensors.html</a>
</p>
<p>This is the documentation of the API for accessing the Digital Surveillance
Sensors endpoint of the Delphis epidemiological. Note: this
repository was built to support modeling and forecasting efforts
surrounding seasonal influenza (and dengue). In the current COVID-19
pandemic, syndromic surveillance data, like ILI data (influenza-like
illness) through FluView, will likely prove very useful. However, we urge
caution to users examining the digital surveillance sensors, like ILI
Nearby, Google Flu Trends, etc., during the COVID-19 pandemic, because
these were designed to track ILI as driven by seasonal influenza, and were
NOT designed to track ILI during the COVID-19 pandemic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_sensors(
  auth,
  names,
  locations,
  epiweeks = "*",
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_sensors_+3A_auth">auth</code></td>
<td>
<p>string. Restricted access key (not the same as API key).</p>
</td></tr>
<tr><td><code id="pvt_sensors_+3A_names">names</code></td>
<td>
<p>character. Sensor names to fetch.</p>
</td></tr>
<tr><td><code id="pvt_sensors_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pvt_sensors_+3A_epiweeks">epiweeks</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Epiweeks to fetch. Defaults to all (&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pvt_sensors_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_sensors(
  auth = Sys.getenv("SECRET_API_AUTH_SENSORS"),
  names = "sar3",
  locations = "nat",
  epiweeks = epirange(201501, 202001)
)

## End(Not run)
</code></pre>

<hr>
<h2 id='pvt_twitter'>HealthTweets total and influenza-related tweets</h2><span id='topic+pvt_twitter'></span>

<h3>Description</h3>

<p>API docs: <a href="https://cmu-delphi.github.io/delphi-epidata/api/twitter.html">https://cmu-delphi.github.io/delphi-epidata/api/twitter.html</a>
</p>
<p>This is the API documentation for accessing the Twitter Stream endpoint of
Delphis epidemiological data. Sourced from
<a href="http://www.healthtweets.org/">Healthtweets</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvt_twitter(
  auth,
  locations,
  ...,
  time_type = c("day", "week"),
  time_values = "*",
  fetch_args = fetch_args_list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvt_twitter_+3A_auth">auth</code></td>
<td>
<p>string. Restricted access key (not the same as API key).</p>
</td></tr>
<tr><td><code id="pvt_twitter_+3A_locations">locations</code></td>
<td>
<p>character. Locations to fetch.</p>
</td></tr>
<tr><td><code id="pvt_twitter_+3A_...">...</code></td>
<td>
<p>not used for values, forces later arguments to bind by name</p>
</td></tr>
<tr><td><code id="pvt_twitter_+3A_time_type">time_type</code></td>
<td>
<p>string. The temporal resolution of the data (either &quot;day&quot; or
&quot;week&quot;, depending on signal).</p>
</td></tr>
<tr><td><code id="pvt_twitter_+3A_time_values">time_values</code></td>
<td>
<p><code><a href="#topic+timeset">timeset</a></code>. Dates or epiweeks to fetch. Defaults to all
(&quot;*&quot;) dates.</p>
</td></tr>
<tr><td><code id="pvt_twitter_+3A_fetch_args">fetch_args</code></td>
<td>
<p><code><a href="#topic+fetch_args">fetch_args</a></code>. Additional arguments to pass to <code>fetch()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pvt_twitter(
  auth = Sys.getenv("SECRET_API_AUTH_TWITTER"),
  locations = "CA",
  time_type = "week",
  time_values = epirange(201501, 202001)
)

## End(Not run)
</code></pre>

<hr>
<h2 id='reformat_epirange'>helper to convert an epirange from week to day or vice versa</h2><span id='topic+reformat_epirange'></span>

<h3>Description</h3>

<p>helper to convert an epirange from week to day or vice versa
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reformat_epirange(epirange, to_type = c("day", "week"))
</code></pre>

<hr>
<h2 id='release_bullets'>inserts each string as a bullet at the end of the &quot;Prepare for release&quot; section</h2><span id='topic+release_bullets'></span>

<h3>Description</h3>

<p>inserts each string as a bullet at the end of the &quot;Prepare for release&quot; section
</p>


<h3>Usage</h3>

<pre><code class='language-R'>release_bullets()
</code></pre>

<hr>
<h2 id='request_impl'>Makes a request to the API and returns the response, catching
HTTP errors and forwarding the HTTP body in R errors</h2><span id='topic+request_impl'></span>

<h3>Description</h3>

<p>Makes a request to the API and returns the response, catching
HTTP errors and forwarding the HTTP body in R errors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>request_impl(epidata_call, format_type, timeout_seconds, fields)
</code></pre>

<hr>
<h2 id='request_url'>Returns the full request url for the given epidata_call</h2><span id='topic+request_url'></span>

<h3>Description</h3>

<p>Returns the full request url for the given epidata_call
</p>


<h3>Usage</h3>

<pre><code class='language-R'>request_url(epidata_call, format_type = "classic", fields = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="request_url_+3A_epidata_call">epidata_call</code></td>
<td>
<p>an instance of <code>epidata_call</code></p>
</td></tr>
<tr><td><code id="request_url_+3A_format_type">format_type</code></td>
<td>
<p>format to return one of classic,json,csv</p>
</td></tr>
<tr><td><code id="request_url_+3A_fields">fields</code></td>
<td>
<p>a list of epidata fields to return, or NULL to return all
fields (default) e.g. c(&quot;time_value&quot;, &quot;value&quot;) to return only the
time_value and value fields or c(&quot;-direction&quot;) to return everything except
the direction field</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> For <code>request_url</code>: string containing the URL
</p>
</li></ul>


<hr>
<h2 id='set_cache'>Create or renew a cache for this session</h2><span id='topic+set_cache'></span>

<h3>Description</h3>

<p>By default, epidatr re-requests data from the API on every call of <code>fetch</code>.
In case you find yourself repeatedly calling the same data, you can enable
the cache using either this function for a given session, or environmental
variables for a persistent cache.
The typical recommended workflow for using the cache is to set the
environmental variables <code>EPIDATR_USE_CACHE=TRUE</code> and
<code>EPIDATR_CACHE_DIRECTORY="/your/directory/here"</code>in your <code>.Renviron</code>, for
example by calling <code>usethis::edit_r_environ()</code>.
See the parameters below for some more configurables if you're so inclined.
</p>
<p><code>set_cache</code> (re)defines the cache to use in a particular R session. This does
not clear existing data at any previous location, but instead creates a
handle to the new cache using <a href="https://cachem.r-lib.org/index.html">cachem</a>
that seamlessly handles caching for you.
Say your cache is normally stored in some default directory, but for the
current session you want to save your results in
<code style="white-space: pre;">&#8288;~/my/temporary/savedirectory&#8288;</code>, then you would call <code>set_cache(dir = "~/my/temporary/savedirectory")</code>.
Or if you know the data from 2 days ago is wrong, you could call
<code>set_cache(days = 1)</code> to clear older data whenever the cache is referenced.
In both cases, these changes would only last for a single session (though the
deleted data would be gone permanently!).
</p>
<p>An important feature of the caching in this package is that only calls which
specify either <code>issues</code> before a certain date, or <code>as_of</code> before a certain
date will actually cache. For example the call
</p>
<div class="sourceCode"><pre>pub_covidcast(
  source = "jhu-csse",
  signals = "confirmed_7dav_incidence_prop",
  geo_type = "state",
  time_type = "day",
  geo_values = "ca,fl",
  time_values = epirange(20200601, 20230801)
)
</pre></div>
<p><em>won't</em> cache, since it is possible for the cache to be invalidated by new
releases with no warning. On the other hand, the call
</p>
<div class="sourceCode"><pre>pub_covidcast(
  source = "jhu-csse",
  signals = "confirmed_7dav_incidence_prop",
  geo_type = "state",
  time_type = "day",
  geo_values = "ca,fl",
  time_values = epirange(20200601, 20230801),
  as_of = "2023-08-01"
)
</pre></div>
<p><em>will</em> cache, since normal new versions of data can't invalidate it (since
they would be <code>as_of</code> a later date). It is still possible that Delphi may
patch such data, but the frequency is on the order of months rather than
days. We are working on creating a public channel to communicate such
updates. While specifying <code>issues</code> will usually cache, a call with
<code>issues="*"</code> won't cache, since its subject to cache invalidation by normal
versioning.
</p>
<p>On the backend, the cache uses cachem, with filenames generated using an md5
encoding of the call url. Each file corresponds to a unique epidata-API
call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cache(
  cache_dir = NULL,
  days = NULL,
  max_size = NULL,
  logfile = NULL,
  confirm = TRUE,
  startup = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_cache_+3A_cache_dir">cache_dir</code></td>
<td>
<p>the directory in which the cache is stored. By default, this
is <code>rappdirs::user_cache_dir("R", version = "epidatr")</code>. The path can be
either relative or absolute. The environmental variable is
<code>EPIDATR_CACHE_DIR</code>.</p>
</td></tr>
<tr><td><code id="set_cache_+3A_days">days</code></td>
<td>
<p>the maximum length of time in days to keep any particular cached
call. By default this is <code>1</code>. The environmental variable is
<code>EPIDATR_CACHE_MAX_AGE_DAYS</code>.</p>
</td></tr>
<tr><td><code id="set_cache_+3A_max_size">max_size</code></td>
<td>
<p>the size of the entire cache, in MB, at which to start
pruning entries. By default this is <code>1024</code>, or 1GB. The environmental
variable is <code>EPIDATR_CACHE_MAX_SIZE_MB</code>.</p>
</td></tr>
<tr><td><code id="set_cache_+3A_logfile">logfile</code></td>
<td>
<p>where cachem's log of transactions is stored, relative to the
cache directory. By default, it is <code>"logfile.txt"</code>. The environmental
variable is <code>EPIDATR_CACHE_LOGFILE</code>.</p>
</td></tr>
<tr><td><code id="set_cache_+3A_confirm">confirm</code></td>
<td>
<p>whether to confirm directory creation. default is <code>TRUE</code>;
should only be set in non-interactive scripts</p>
</td></tr>
<tr><td><code id="set_cache_+3A_startup">startup</code></td>
<td>
<p>indicates whether the function is being called on
startup. Affects suppressability of the messages. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+NULL">NULL</a></code> no return value, all effects are stored in the package
environment
</p>


<h3>See Also</h3>

<p><code><a href="#topic+clear_cache">clear_cache</a></code> to delete the old cache while making a new one,
<code><a href="#topic+disable_cache">disable_cache</a></code> to disable without deleting, and <code><a href="#topic+cache_info">cache_info</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_cache(
  cache_dir = tempdir(),
  days = 14,
  max_size = 512,
  logfile = "logs.txt"
)

</code></pre>

<hr>
<h2 id='timeset'>Timeset formats for specifying dates</h2><span id='topic+timeset'></span>

<h3>Description</h3>

<p>Many API calls accept timesets to specify the time ranges of data being
requested. Timesets can be specified with <code>epirange()</code>, as <code>Date</code> objects, or
with wildcards.
</p>


<h3>Details</h3>

<p>Timesets are not special R types; the term simply describes any value that is
accepted by epidatr to specify the time value of an epidata query:
</p>

<ul>
<li><p> Dates: <code>Date</code> instances.
</p>
</li>
<li><p> Date strings or integers: Strings or integers in the format YYYYMMDD.
</p>
</li>
<li><p> Epiweeks: Strings or integers in the format YYYYWW, where WW is the epiweek
number.
</p>
</li>
<li><p> EpiRanges: A range returned by <code>epirange()</code>, or a list of multiple ranges.
</p>
</li>
<li><p> Wildcard: The string <code>"*"</code>, which requests all available time values.
</p>
</li></ul>

<p>Refer to the specific endpoint documentation for guidance on using dates vs
weeks. Most endpoints support only one or the other. Some (less commonly
used) endpoints may not accept the <code>"*"</code> wildcard, but this can be simulated
with a large <code>epirange()</code>.
</p>

<hr>
<h2 id='with_base_url'><code>epidata_call</code> object using a different base URL</h2><span id='topic+with_base_url'></span>

<h3>Description</h3>

<p><code>epidata_call</code> object using a different base URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>with_base_url(epidata_call, base_url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with_base_url_+3A_epidata_call">epidata_call</code></td>
<td>
<p>an instance of <code>epidata_call</code></p>
</td></tr>
<tr><td><code id="with_base_url_+3A_base_url">base_url</code></td>
<td>
<p>base URL to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an <code>epidata_call</code> object
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package chromer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {chromer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#chrom_counts'><p>Returns chromosome counts from Chromosome Counts Database API</p></a></li>
<li><a href='#chromer-package'><p>Chromer: Programmatic access to Chromosome Counts Database</p></a></li>
<li><a href='#summarize_counts'><p>Summarize chromosome counts from API call</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interface to Chromosome Counts Database API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-26</td>
</tr>
<tr>
<td>Description:</td>
<td>A programmatic interface to the Chromosome Counts Database
    (<a href="https://taux.evolseq.net/CCDB_web/">https://taux.evolseq.net/CCDB_web/</a>), Rice et al. (2014) &lt;<a href="https://doi.org/10.1111%2Fnph.13191">doi:10.1111/nph.13191</a>&gt;.
    This package is part of the 'ROpenSci' suite (<a href="https://ropensci.org">https://ropensci.org</a>).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, dplyr, tibble, httr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>roxygen2 (&ge; 5.0.1), testthat</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/chromer/">https://docs.ropensci.org/chromer/</a>,
<a href="https://github.com/ropensci/chromer">https://github.com/ropensci/chromer</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/chromer/issues">https://github.com/ropensci/chromer/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-27 01:19:56 UTC; kbroman</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew Pennell <a href="https://orcid.org/0000-0002-2886-3970"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Paula Andrea Martinez
    <a href="https://orcid.org/0000-0002-8990-1985"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Karl W Broman <a href="https://orcid.org/0000-0002-4914-6671"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Karl W Broman &lt;broman@wisc.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-27 04:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='chrom_counts'>Returns chromosome counts from Chromosome Counts Database API</h2><span id='topic+chrom_counts'></span>

<h3>Description</h3>

<p>This function calls the Chromsome Counts Database (CCDB) API and returns all counts for specified higher taxa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chrom_counts(
  taxa,
  rank = c("species", "genus", "family", "majorGroup"),
  full = FALSE,
  foptions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chrom_counts_+3A_taxa">taxa</code></td>
<td>
<p>Taxonomic name(s) to query. Can be either a single name, a vector of multiple names or a list. If supplying multiple names, these must all be of the same <code>rank</code>.</p>
</td></tr>
<tr><td><code id="chrom_counts_+3A_rank">rank</code></td>
<td>
<p>Rank to query.</p>
</td></tr>
<tr><td><code id="chrom_counts_+3A_full">full</code></td>
<td>
<p>Logical. Whether to return full records. Defaults to <code>FALSE</code> which returns only partial records. Partial records includes the resolved name as well as the gametophytic (n) and sporophytic (2n) counts.</p>
</td></tr>
<tr><td><code id="chrom_counts_+3A_foptions">foptions</code></td>
<td>
<p>additional options to be passed to <code>httr::GET</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>When using the API to query for species, both matched names and resolved names are searched. This means that all records for potential synonyms will be returned as well. Currently species binomials must be specified by either 'genus species' (i.e., space between genus and species) or 'genus_species'.
</p>
<p>To search for subspecies (subsp.) or varieties (var.), you can use search terms like:
</p>
<p><code>"Solanum acaule var. albicans"</code>.
</p>
<p>Searching for <code>"Solanum acaule"</code> will return all subspecies and varieties.
</p>
<p>Currently the only acceptable search terms when specifying <code>"majorGroup"</code> are <code>"Angiosperms"</code>, <code>"Gymnosperms"</code>, <code>"Pteridophytes"</code>, or <code>"Bryophytes"</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing all records matched by query
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Get all counts for genus Castilleja
chrom_counts("Castilleja", "genus")

## Get all counts for both Castilleja and Lachemilla
chrom_counts(c("Castilleja", "Lachemilla"), "genus")

## Get all counts for Castilleja miniata
chrom_counts("Castilleja miniata", "species")

## Get all counts for only Castilleja miniata subsp. elata
chrom_counts("Castilleja miniata subsp. elata", "species")

## Note that searching for "Castilleja miniata" will return
## all subspecies and varieties

## Get all counts for the Orobanchaceae
chrom_counts("Orobanchaceae", "family")


## End(Not run)
</code></pre>

<hr>
<h2 id='chromer-package'>Chromer: Programmatic access to Chromosome Counts Database</h2><span id='topic+chromer'></span><span id='topic+chromer-package'></span>

<h3>Description</h3>

<p>This package is a R based interface to the Chromosome Counts Database (CCDB). Currently, this consists of just one function <code><a href="#topic+chrom_counts">chrom_counts</a></code>, which queries the database using the taxa supplied. The function <code><a href="#topic+summarize_counts">summarize_counts</a></code> cleans and processes the data.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Karl W Broman <a href="mailto:broman@wisc.edu">broman@wisc.edu</a> (<a href="https://orcid.org/0000-0002-4914-6671">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Matthew Pennell <a href="mailto:mwpennell@gmail.com">mwpennell@gmail.com</a> (<a href="https://orcid.org/0000-0002-2886-3970">ORCID</a>)
</p>
</li>
<li><p> Paula Andrea Martinez <a href="mailto:orchid00@gmail.com">orchid00@gmail.com</a> (<a href="https://orcid.org/0000-0002-8990-1985">ORCID</a>)
</p>
</li></ul>



<h3>References</h3>

<p>Rice, A., L. Glick, S. Abadi, M. Einhorn, N.M. Kopelman, A. Salman-Minkov, J. Mayzel, O. Chay, and I. Mayrose. 2014. The Chromosome Counts Database (CCDB) &ndash; a community resource of plant chromosome numbers. New Phytologist doi:10.1111/nph.13191.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/chromer/">https://docs.ropensci.org/chromer/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/chromer">https://github.com/ropensci/chromer</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/chromer/issues">https://github.com/ropensci/chromer/issues</a>
</p>
</li></ul>


<hr>
<h2 id='summarize_counts'>Summarize chromosome counts from API call</h2><span id='topic+summarize_counts'></span>

<h3>Description</h3>

<p>This function processes and cleans the data returned from the API call for use in downstream analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarize_counts(counts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarize_counts_+3A_counts">counts</code></td>
<td>
<p>A 'chrom.counts' object inherited from <code><a href="#topic+chrom_counts">chrom_counts</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The results from the API call are a bit messy and difficult to use for downstream analyses. This function cleans up the data in three ways. First, it combines aggregates and summarizes all records from each species. Second, many of the counts are combined with text characters (e.g., <code>"#-#"</code>, <code>"c.#"</code>, and <code>"#, #, #"</code>. This function uses regular expressions to pull out all and any numeric values from these strings. Third, some of the records are gametophytic (n) counts and others are from sporophytes (2n); the function simply divides the sporophytic counts in half so that all measurements are on a common scale.
</p>
<p>IMPORTANT: Use this function with caution. Parsing the counts programmatically may be useful but it may generate erroneous results in some cases if input is in an odd format. For example, if the count is <code>"#+-#"</code>, the function will return both the first and second <code>#</code> as valid counts . Given the creativity(?) of researchers in entering data, it is hard to predict all possible ways that the counts may be represented. Therefore, some manual checking will probably be necessary.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> containing the resolved binomial, the count type (gametophytic or sporophytic), the counts, the inferred gametophytic count (for sporophytic records) and the number of records supporting each count.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Get all counts for genus Castilleja
res &lt;- chrom_counts("Castilleja", "genus")

## summarize the results
summarize_counts(res)


## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

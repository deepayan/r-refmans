<!DOCTYPE html><html><head><title>Help for package oolong</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {oolong}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#abstracts'><p>Abstracts of communication journals dataset</p></a></li>
<li><a href='#abstracts_seededlda'><p>Topic models trained with the abstracts dataset.</p></a></li>
<li><a href='#afinn'><p>AFINN dictionary</p></a></li>
<li><a href='#check_oolong'><p>Check whether the oolong needs to be updated</p></a></li>
<li><a href='#clone_oolong'><p>Clone an oolong object</p></a></li>
<li><a href='#create_oolong'><p>Generate an oolong test</p></a></li>
<li><a href='#deploy_oolong'><p>Deploy an oolong test</p></a></li>
<li><a href='#export_oolong'><p>Export a deployable Shiny app from an oolong object into a directory</p></a></li>
<li><a href='#newsgroup_nb'><p>Naive Bayes model trained on 20 newsgroups data</p></a></li>
<li><a href='#print.oolong_gold_standard'><p>Print oolong gold standard object</p></a></li>
<li><a href='#print.oolong_summary'><p>Print and plot oolong summary</p></a></li>
<li><a href='#revert_oolong'><p>Obtain a locked oolong from a downloaded data file</p></a></li>
<li><a href='#summarize_oolong'><p>Summarize oolong objects</p></a></li>
<li><a href='#trump2k'><p>Trump's tweets dataset</p></a></li>
<li><a href='#update_oolong'><p>Update an oolong object to the latest version</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Create Validation Tests for Automated Content Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Intended to create standard human-in-the-loop validity tests for typical automated content analysis such as topic modeling and dictionary-based methods. This package offers a standard workflow with functions to prepare, administer and evaluate a human-in-the-loop validity test. This package provides functions for validating topic models using word intrusion, topic intrusion (Chang et al. 2009,  <a href="https://papers.nips.cc/paper/3700-reading-tea-leaves-how-humans-interpret-topic-models">https://papers.nips.cc/paper/3700-reading-tea-leaves-how-humans-interpret-topic-models</a>) and word set intrusion (Ying et al. 2021) &lt;<a href="https://doi.org/10.1017%2Fpan.2021.33">doi:10.1017/pan.2021.33</a>&gt; tests. This package also provides functions for generating gold-standard data which are useful for validating dictionary-based methods. The default settings of all generated tests match those suggested in Chang et al. (2009) and Song et al. (2020) &lt;<a href="https://doi.org/10.1080%2F10584609.2020.1723752">doi:10.1080/10584609.2020.1723752</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a> | <a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a> [expanded from: LGPL (&ge; 2.1)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gesistsa.github.io/oolong/">https://gesistsa.github.io/oolong/</a>,
<a href="https://github.com/gesistsa/oolong">https://github.com/gesistsa/oolong</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>seededlda, purrr, tibble, shiny, digest, R6, quanteda (&ge;
3.0.0), irr, ggplot2, cowplot, cli, stats, utils</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>keyATM (&ge; 0.2.2), testthat (&ge; 3.0.2), text2vec (&ge; 0.6),
BTM, dplyr, topicmodels, stm, covr, stringr, knitr, rmarkdown,
fs, quanteda.textmodels, shinytest2</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/gesistsa/oolong/issues">https://github.com/gesistsa/oolong/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>gesistsa/tsatemplate</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-10 10:48:36 UTC; chainsawriot</td>
</tr>
<tr>
<td>Author:</td>
<td>Chung-hong Chan <a href="https://orcid.org/0000-0002-6232-7530"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Marius Sältzer <a href="https://orcid.org/0000-0002-8604-4666"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chung-hong Chan &lt;chainsawtiney@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-10 11:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='abstracts'>Abstracts of communication journals dataset</h2><span id='topic+abstracts'></span><span id='topic+abstracts_dfm'></span><span id='topic+abstracts_dictionary'></span>

<h3>Description</h3>

<p>This is a random sample of all abstracts of papers published in high-impact communication journals from 2000 to 2017. abstracts_dictionary is a list of terms that can be used for semisupervised techniques such as keyATM.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>abstracts

abstracts_dfm

abstracts_dictionary
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 2500 rows and 1 columns.
</p>
<p>An object of class <code>dfm</code> with 2500 rows and 3998 columns.
</p>
<p>An object of class <code>list</code> of length 10.
</p>


<h3>References</h3>

<p>Chan, C-h, &amp; Grill, C. (2020). [The Highs in Communication Research: Research Topics With High Supply, High Popularity, and High Prestige in High-Impact Journals.](https://doi.org/10.1177/0093650220944790) Communication Research.
</p>

<hr>
<h2 id='abstracts_seededlda'>Topic models trained with the abstracts dataset.</h2><span id='topic+abstracts_seededlda'></span><span id='topic+abstracts_btm'></span>

<h3>Description</h3>

<p>These are topic models trained with different topic model packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>abstracts_seededlda

abstracts_btm
</code></pre>


<h3>Format</h3>

<p>An object of class <code>textmodel_lda</code> (inherits from <code>textmodel</code>, <code>list</code>) of length 10.
</p>
<p>An object of class <code>BTM</code> of length 9.
</p>

<hr>
<h2 id='afinn'>AFINN dictionary</h2><span id='topic+afinn'></span>

<h3>Description</h3>

<p>This is the AFINN sentiment dictionary in quanteda::dictionary format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>afinn
</code></pre>


<h3>Format</h3>

<p>An object of class <code>dictionary2</code> of length 11.
</p>


<h3>References</h3>

<p>Nielsen, F. Å. (2011). A new ANEW: Evaluation of a word list for sentiment analysis in microblogs. arXiv preprint arXiv:1103.2903.
</p>

<hr>
<h2 id='check_oolong'>Check whether the oolong needs to be updated</h2><span id='topic+check_oolong'></span>

<h3>Description</h3>

<p>This function raises an error when the input oolong object needs to be updated. Oolong objects generated with an old version of oolong need to be updated to use the functionalities from the recent versions of oolong.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_oolong(oolong, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_oolong_+3A_oolong">oolong</code></td>
<td>
<p>an oolong object to be checked</p>
</td></tr>
<tr><td><code id="check_oolong_+3A_verbose">verbose</code></td>
<td>
<p>logical, display messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>

<hr>
<h2 id='clone_oolong'>Clone an oolong object</h2><span id='topic+clone_oolong'></span>

<h3>Description</h3>

<p>Clone a new oolong object. The oolong must not be locked and ever coded.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clone_oolong(oolong, userid = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clone_oolong_+3A_oolong">oolong</code></td>
<td>
<p>an oolong object.</p>
</td></tr>
<tr><td><code id="clone_oolong_+3A_userid">userid</code></td>
<td>
<p>a character string to denote the name of the coder</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an oolong object
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>

<hr>
<h2 id='create_oolong'>Generate an oolong test</h2><span id='topic+create_oolong'></span><span id='topic+wi'></span><span id='topic+witi'></span><span id='topic+ti'></span><span id='topic+wsi'></span><span id='topic+gs'></span>

<h3>Description</h3>

<p><code>create_oolong</code> generates an oolong test object that can either be used for validating a topic model or for creating ground truth (gold standard) of a text corpus. <code>wi</code> (word intrusion test), <code>ti</code> (topic intrusion test), <code>witi</code> (word and topic intrusion tests), <code>wsi</code> (word set intrusion test) and <code>gs</code> are handy wrappers to <code>create_oolong</code>. It is recommended to use these wrappers instead of <code>create_oolong</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_oolong(
  input_model = NULL,
  input_corpus = NULL,
  n_top_terms = 5,
  bottom_terms_percentile = 0.6,
  exact_n = NULL,
  frac = 0.01,
  n_top_topics = 3,
  n_topiclabel_words = 8,
  use_frex_words = FALSE,
  frexweight = 0.5,
  input_dfm = NULL,
  construct = "positive",
  btm_dataframe = NULL,
  n_correct_ws = 3,
  wsi_n_top_terms = 20,
  userid = NA,
  type = "witi",
  lambda = 1,
  difficulty = NULL
)

wi(
  input_model = NULL,
  userid = NA,
  n_top_terms = 5,
  bottom_terms_percentile = 0.6,
  frexweight = 0.5,
  use_frex_words = FALSE,
  lambda = 1,
  difficulty = NULL
)

witi(
  input_model = NULL,
  input_corpus = NULL,
  userid = NA,
  n_top_terms = 5,
  bottom_terms_percentile = 0.6,
  exact_n = NULL,
  frac = 0.01,
  n_top_topics = 3,
  n_topiclabel_words = 8,
  frexweight = 0.5,
  use_frex_words = FALSE,
  input_dfm = NULL,
  btm_dataframe = NULL,
  lambda = 1,
  difficulty = NULL
)

ti(
  input_model = NULL,
  input_corpus = NULL,
  userid = NA,
  exact_n = NULL,
  frac = 0.01,
  n_top_topics = 3,
  n_topiclabel_words = 8,
  frexweight = 0.5,
  use_frex_words = FALSE,
  input_dfm = NULL,
  btm_dataframe = NULL,
  lambda = 1,
  difficulty = NULL
)

wsi(
  input_model = NULL,
  userid = NA,
  n_topiclabel_words = 4,
  n_correct_ws = 3,
  wsi_n_top_terms = 20,
  frexweight = 0.5,
  use_frex_words = FALSE,
  lambda = 1,
  difficulty = NULL
)

gs(
  input_corpus = NULL,
  userid = NA,
  construct = "positive",
  exact_n = NULL,
  frac = 0.01
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_oolong_+3A_input_model">input_model</code></td>
<td>
<p>(wi, ti, witi, wsi) a STM, WarpLDA, topicmodels, KeyATM, seededlda, textmodel_nb, or BTM object; if it is NULL, create_oolong assumes that you want to create gold standard.</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_input_corpus">input_corpus</code></td>
<td>
<p>(wi, ti, witi, wsi, gs) if input_model is not null, it should be the corpus (character vector or quanteda::corpus object) to generate the model object. If input_model and input_corpus are not NULL, topic intrusion test cases are generated. If input_model is a BTM object, this argument is ignored. If input_model is null, it generates gold standard test cases.</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_n_top_terms">n_top_terms</code></td>
<td>
<p>(wi, witi) integer, number of top topic words to be included in the candidates of word intrusion test.</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_bottom_terms_percentile">bottom_terms_percentile</code></td>
<td>
<p>(wi, witi) double, a term is considered to be an word intruder when its theta less than the percentile of this theta, must be within the range of 0 to 1</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_exact_n">exact_n</code></td>
<td>
<p>(ti, witi, gs) integer, number of topic intrusion test cases to generate, ignore if frac is not NULL</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_frac">frac</code></td>
<td>
<p>(ti, witi, gs) double, fraction of test cases to be generated from the corpus</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_n_top_topics">n_top_topics</code></td>
<td>
<p>(wi, witi) integer, number of most relevant topics to be shown alongside the intruder topic</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_n_topiclabel_words">n_topiclabel_words</code></td>
<td>
<p>(witi, ti, wsi) integer, number of topic words to be shown as the topic (&quot;ti&quot; and &quot;witi&quot;) / word set (&quot;wsi&quot;) label</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_use_frex_words">use_frex_words</code></td>
<td>
<p>(wi, witi, ti, wsi) logical, for a STM object, use FREX words if TRUE, use PROB words if FALSE</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_frexweight">frexweight</code></td>
<td>
<p>(wi, witi, ti, wsi) double, adjust the 'frexweight' for STM (see [stm::labelTopics()]), no effect for STM if use_frex_words is FALSE</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_input_dfm">input_dfm</code></td>
<td>
<p>(wi, witi, ti, wsi) a dfm object used for training the input_model, if input_model is a WarpLDA object</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_construct">construct</code></td>
<td>
<p>(gs) string, an adjective to describe the construct you want your coders to code the the gold standard test cases</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_btm_dataframe">btm_dataframe</code></td>
<td>
<p>(witi, ti) dataframe used for training the input_model, if input_model is a BTM object</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_n_correct_ws">n_correct_ws</code></td>
<td>
<p>(wsi) number of word sets to be shown alongside the intruder word set</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_wsi_n_top_terms">wsi_n_top_terms</code></td>
<td>
<p>(wsi) number of top topic words from each topic to be randomized selected as the word set label</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_userid">userid</code></td>
<td>
<p>a character string to denote the name of the coder. Default to NA (no userid); not recommended</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_type">type</code></td>
<td>
<p>(create_oolong) a character string to denote what you want to create. &quot;wi&quot;: word intrusion test; &quot;ti&quot;: topic intrusion test; &quot;witi&quot;: both word intrusion test and topic intrusion test; &quot;gs&quot;: gold standard generation</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_lambda">lambda</code></td>
<td>
<p>(wi, witi, ti, wsi) double, adjust the 'lambda' for WarpLDA (see [text2vec::LatentDirichletAllocation()])</p>
</td></tr>
<tr><td><code id="create_oolong_+3A_difficulty">difficulty</code></td>
<td>
<p>(wi, witi, ti, wsi) double, deprecated, for backward compatibility</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an oolong test object.
</p>


<h3>Usage</h3>

<p>Use <code>wi</code>, <code>ti</code>, <code>witi</code>, <code>wsi</code> or <code>gs</code> to generate an oolong test of your choice. It is recommended to supply also <code>userid</code> (current coder).
The names of the tests (word intrusion test and topic intrusion test) follow Chang et al (2009). In Ying et al. (2021), topic intrusion test is named &quot;T8WSI&quot; (Top 8 Word Set Intrusion). Word set intrusion test in this package is actually the &quot;R4WSI&quot; (Random 4 Word Set Intrusion) in Ying et al. The default settings of <code>wi</code>, <code>witi</code>, and <code>ti</code> follow Chang et al (2009), e.g. <code>n_top_terms</code> = 5; instead of <code>n_top_terms</code> = 4 as in Ying et al. The default setting of <code>wsi</code> follows Ying et al., e.g. <code>n_topiclabel_words</code> = 4.
As suggested by Song et al. (2020), 1
</p>


<h3>About create_oolong</h3>

<p>Because <code>create_oolong</code> is not intuitive to use, it is no longer recommended to use <code>create_oolong</code> to generate oolong test. <code>create_oolong</code> is retained only for backward compatibility purposes. This function generates an oolong test object based on <code>input_model</code> and <code>input_corpus</code>. If <code>input_model</code> is not NULL, it generates oolong test for a topic model (tm). If <code>input_model</code> is NULL but input_corpus is not NULL, it generates oolong test for generating gold standard (gs).
</p>


<h3>Methods</h3>

<p>An oolong object, depends on its purpose, has the following methods:
</p>

<dl>
<dt><code>$do_word_intrusion_test()</code></dt><dd><p>(tm) launch the shiny-based word intrusion test. The coder should find out the intruder word that is not related to other words.</p>
</dd>
<dt><code>$do_topic_intrusion_test()</code></dt><dd><p>(tm) launch the shiny-based topic intrusion test. The coder should find out the intruder topic that is least likely to be the topic of the document.</p>
</dd>
<dt><code>$do_word_set_intrusion_test()</code></dt><dd><p>(tm) launch the shiny-based word set intrusion test. The coder should find out the intruder word set that is not related to other word sets.</p>
</dd>
<dt><code>$do_gold_standard_test()</code></dt><dd><p>(gs) launch the shiny-based test for generating gold standard. The coder should determine the level of the predetermined constructs with a 5-point Likert scale.</p>
</dd>
<dt><code>$lock(force = FALSE)</code></dt><dd><p>(gs/tm) lock the object so that it cannot be changed anymore. It enables <code><a href="#topic+summarize_oolong">summarize_oolong</a></code> and the following method.</p>
</dd>
<dt><code>$turn_gold()</code></dt><dd><p>(gs) convert the oolong object into a quanteda compatible corpus.</p>
</dd>
</dl>

<p>For more details, please see the overview vignette: <code>vignette("overview", package = "oolong")</code>
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan, Marius Sältzer
</p>


<h3>References</h3>

<p>Chang, J., Gerrish, S., Wang, C., Boyd-Graber, J. L., &amp; Blei, D. M. (2009). Reading tea leaves: How humans interpret topic models. In Advances in neural information processing systems (pp. 288-296).
</p>
<p>Song et al. (2020) In validations we trust? The impact of imperfect human annotations as a gold standard on the quality of validation of automated content analysis. Political Communication.
</p>
<p>Ying, L., Montgomery, J. M., &amp; Stewart, B. M. (2021). Topics, Concepts, and Measurement: A Crowdsourced Procedure for Validating Topics as Measures. Political Analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Creation of oolong test with only word intrusion test
data(abstracts_seededlda)
data(abstracts)
oolong_test &lt;- wi(input_model = abstracts_seededlda, userid = "Hadley")
## Creation of oolong test with both word intrusion test and topic intrusion test
oolong_test &lt;- witi(input_model = abstracts_seededlda,
input_corpus = abstracts$text, userid = "Julia")
## Creation of oolong test with topic intrusion test
oolong_test &lt;- ti(input_model = abstracts_seededlda,
input_corpus = abstracts$text, userid = "Jenny")
## Creation of oolong test with word set intrusion test
oolong_test &lt;- wsi(input_model = abstracts_seededlda, userid = "Garrett")
## Creation of gold standard
oolong_test &lt;- gs(input_corpus = trump2k, userid = "Yihui")
## Using create_oolong(); not recommended
oolong_test &lt;- create_oolong(input_model = abstracts_seededlda,
input_corpus = abstracts$text, userid = "JJ")
oolong_test &lt;- create_oolong(input_model = abstracts_seededlda,
input_corpus = abstracts$text, userid = "Mara", type = "ti")
oolong_test &lt;- create_oolong(input_corpus = abstracts$text, userid = "Winston", type = "gs")
</code></pre>

<hr>
<h2 id='deploy_oolong'>Deploy an oolong test</h2><span id='topic+deploy_oolong'></span>

<h3>Description</h3>

<p>In most of the time, you should not use this function. You should write the deployable version of your app into a directory using <code>export_oolong</code> instead. Please refer to <code>vignette("deploy", package = "oolong")</code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deploy_oolong(oolong)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deploy_oolong_+3A_oolong">oolong</code></td>
<td>
<p>an oolong object to be deployed. Please note that the &quot;witi&quot; type, i.e. oolong object with both word and topic intrusion tests, cannot be deployed. Also the object must not be locked and ever coded.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, it launches a deployable version of the coding interface
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Please try this example in interactive R sessions only.
if (interactive()) {
   data(abstracts_stm)
   x &lt;- wi(abstracts_stm)
   deploy_oolong(x)
}
</code></pre>

<hr>
<h2 id='export_oolong'>Export a deployable Shiny app from an oolong object into a directory</h2><span id='topic+export_oolong'></span>

<h3>Description</h3>

<p>This function exports your oolong test into a launched Shiny app that is ideal for online deployment. Deploying the Shiny app online allows coders to conduct the test online with their browser, rather than having to install R on their own computer. In contrast to the testing interfaces launched with methods such as <code>$do_word_intrusion_test()</code>, the deployable version provides data download after the coder finished coding. Downloaded data can then revert back to a locked oolong object using <code>revert_oolong</code>. Further version might provide solutions to permanent storage. The deployable Shiny app will be in a directory. The Shiny app is both launchable with shiny::runApp() and deployable with rsconnect::deployApp(). Please refer to <code>vignette("deploy", package = "oolong")</code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_oolong(
  oolong,
  dir = base::tempdir(),
  verbose = TRUE,
  use_full_path = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_oolong_+3A_oolong">oolong</code></td>
<td>
<p>an oolong object to be exported. Please note that the &quot;witi&quot; type, i.e. oolong object with both word and topic intrusion tests, cannot be exported. Also the object must not be locked and ever coded.</p>
</td></tr>
<tr><td><code id="export_oolong_+3A_dir">dir</code></td>
<td>
<p>character string, the directory to be exported. Default to a temporary directory</p>
</td></tr>
<tr><td><code id="export_oolong_+3A_verbose">verbose</code></td>
<td>
<p>logical, whether to display information after exporting</p>
</td></tr>
<tr><td><code id="export_oolong_+3A_use_full_path">use_full_path</code></td>
<td>
<p>logical, whether to expand dir into full path</p>
</td></tr>
</table>


<h3>Value</h3>

<p>directory exported, invisible
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Please try this example in interactive R sessions only.
if (interactive()) {
   data(abstracts_stm)
   x &lt;- wi(abstracts_stm)
   export_oolong(x)
}
</code></pre>

<hr>
<h2 id='newsgroup_nb'>Naive Bayes model trained on 20 newsgroups data</h2><span id='topic+newsgroup_nb'></span>

<h3>Description</h3>

<p>This is a Naive Bayes model (of the class 'textmodel_nb') trained on 20 newsgroups data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>newsgroup_nb
</code></pre>


<h3>Format</h3>

<p>An object of class <code>textmodel_nb</code> (inherits from <code>textmodel</code>, <code>list</code>) of length 7.
</p>


<h3>References</h3>

<p>Lang, K. (1995). Newsweeder: Learning to filter netnews. In Machine Learning Proceedings 1995 (pp. 331-339). Morgan Kaufmann.
</p>

<hr>
<h2 id='print.oolong_gold_standard'>Print oolong gold standard object</h2><span id='topic+print.oolong_gold_standard'></span>

<h3>Description</h3>

<p>This function prints a summary of the oolong gold standard object. An oolong gold standard object is a result of $turn_gold() method. It is a quanteda::corpus compatible object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'oolong_gold_standard'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.oolong_gold_standard_+3A_x">x</code></td>
<td>
<p>an oolong gold standard object</p>
</td></tr>
<tr><td><code id="print.oolong_gold_standard_+3A_...">...</code></td>
<td>
<p>other parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None, a summary of the quanteda::corpus and what you should do are displayed
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>

<hr>
<h2 id='print.oolong_summary'>Print and plot oolong summary</h2><span id='topic+print.oolong_summary'></span><span id='topic+plot.oolong_summary'></span>

<h3>Description</h3>

<p>These functions print or plot a useful summary of the results from <code><a href="#topic+summarize_oolong">summarize_oolong</a></code>. For details, please see the overview vignette: <code>vignette("overview", package = "oolong")</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'oolong_summary'
print(x, ...)

## S3 method for class 'oolong_summary'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.oolong_summary_+3A_x">x</code></td>
<td>
<p>an oolong_summary</p>
</td></tr>
<tr><td><code id="print.oolong_summary_+3A_...">...</code></td>
<td>
<p>other parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Summary</h3>

<p>Print function displays the following information:
</p>

<dl>
<dt>Mean model precision</dt><dd><p>(wi, wsi) Higher value indicates better topic interpretability</p>
</dd>
<dt>Quantiles of model precision</dt><dd><p>(wi) Higher value indicates better topic interpretability</p>
</dd>
<dt>P-value of the model precision</dt><dd><p>(wi) Model precision's p-value calculated by one-sample binomial test and Fisher's Omnibus method.</p>
</dd>
<dt>Krippendorff's alpha</dt><dd><p>(wi, wsi, gs) Krippendorff's Alpha, if more than one oolong object is analyzed.</p>
</dd>
<dt>K Precision</dt><dd><p>(wi, wsi) Model precision for each topic.</p>
</dd>
<dt>Mean TLO</dt><dd><p>(ti) Mean topic log odds, higher value indicates better interpretability</p>
</dd>
<dt>Median TLO</dt><dd><p>(ti) Median topic log odds, higher value indicates better interpretability</p>
</dd>
<dt>Quantiles of TLO</dt><dd><p>(ti) Quantiles of topic log odds</p>
</dd>
<dt>P-Value of the median TLO</dt><dd><p>(ti) Median topic log odds's p-value calculated by permutation test.</p>
</dd>
<dt>Correlation (average answer)</dt><dd><p>(gs) Pearson's correlation between average answer and target value</p>
</dd>
<dt>Corrlation (content length)</dt><dd><p>(gs) Pearson's correlation between content length and target value</p>
</dd>
</dl>



<h3>Diagnostic plot</h3>

<p>Plot function displays a diagnostic plot with the following subplots (gs only).
</p>

<dl>
<dt>Top left</dt><dd><p>Correlation between answer from coders and target value to check for correlation between two values. Both axes are minmax transformed.</p>
</dd>
<dt>Top right</dt><dd><p>Bland-altman plot of answer from coders and target value to check for agreement between two values.</p>
</dd>
<dt>Bottom left</dt><dd><p>Correlation between target value and content length to check for the influence of content length.</p>
</dd>
<dt>Bottom right</dt><dd><p>Cook's distance to check for influential observations.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>

<hr>
<h2 id='revert_oolong'>Obtain a locked oolong from a downloaded data file</h2><span id='topic+revert_oolong'></span>

<h3>Description</h3>

<p>To generate a locked oolong object with the original oolong object and the RDS file. The RDS file should have been downloaded from a deployed Shiny app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>revert_oolong(oolong, rds_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="revert_oolong_+3A_oolong">oolong</code></td>
<td>
<p>an oolong object used for deployment</p>
</td></tr>
<tr><td><code id="revert_oolong_+3A_rds_file">rds_file</code></td>
<td>
<p>path to the downloaded RDS file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a locked oolong object based on the data in the downloaded RDS file
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>

<hr>
<h2 id='summarize_oolong'>Summarize oolong objects</h2><span id='topic+summarize_oolong'></span><span id='topic+summarise_oolong'></span>

<h3>Description</h3>

<p>This function summarizes one or more oolong objects. All oolong objects must be locked.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarize_oolong(..., target_value = NULL, n_iter = 1500)

summarise_oolong(..., target_value = NULL, n_iter = 1500)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarize_oolong_+3A_...">...</code></td>
<td>
<p>(tm/gs) one or more oolong objects to be summarized</p>
</td></tr>
<tr><td><code id="summarize_oolong_+3A_target_value">target_value</code></td>
<td>
<p>(gs) a vector of numeric values, the value you want to validate against the human-coded gold standard. One example of this target value is sentiment score extracted automatically from text</p>
</td></tr>
<tr><td><code id="summarize_oolong_+3A_n_iter">n_iter</code></td>
<td>
<p>(ti) number of iterations to calculate the median test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An oolong summary.
Depends on purpose, an oolong summary object has the following values:
</p>

<dl>
<dt><code>$type</code></dt><dd><p>(gs/tm) type of analysis, either 'gs' or 'tm'</p>
</dd>
<dt><code>$kripp_alpha</code>; <code>$kripp_alpha_wsi</code></dt><dd><p>(wi, wsi) Krippendorff's Alpha, if more than one oolong object is analyzed.</p>
</dd>
<dt><code>$rater_precision</code>; <code>$rater_precision_wsi</code></dt><dd><p>(wi, wsi) Model precision</p>
</dd>
<dt><code>$res$rater_precision_p_value</code></dt><dd><p>(wi) Model precision's p-value calculated by one-sample binomial test and Fisher's Omnibus method.</p>
</dd>
<dt><code>$k_precision</code>; <code>$k_precision_wsi</code></dt><dd><p>(wi, wsi) precision for each topic</p>
</dd>
<dt><code>$tlo</code></dt><dd><p>(ti) vector of topic log odds</p>
</dd>
<dt><code>$tlo_pvalue</code></dt><dd><p>(ti) Median topic log odds's p-value calculated by permutation test.</p>
</dd>
<dt><code>$cor</code></dt><dd><p>(gs) Pearson's correlation between average answer and target value</p>
</dd>
<dt><code>$cor_length</code></dt><dd><p>(gs) Pearson's correlation between content length and target value</p>
</dd>
<dt><code>$diag_plot</code></dt><dd><p>(gs) diagnostic plot.</p>
</dd>
</dl>

<p>A useful summary of an object can be obtained either by <code><a href="#topic+print.oolong_summary">print.oolong_summary</a></code> or <code><a href="#topic+plot.oolong_summary">plot.oolong_summary</a></code>. For details, please see the overview vignette: <code>vignette("overview", package = "oolong")</code>
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>


<h3>References</h3>

<p>Chang, J., Gerrish, S., Wang, C., Boyd-Graber, J. L., &amp; Blei, D. M. (2009). Reading tea leaves: How humans interpret topic models. In Advances in neural information processing systems (pp. 288-296).
</p>
<p>Song et al. (2020) In validations we trust? The impact of imperfect human annotations as a gold standard on the quality of validation of automated content analysis. Political Communication.
</p>
<p>Ying, L., Montgomery, J. M., &amp; Stewart, B. M. (2021). Topics, Concepts, and Measurement: A Crowdsourced Procedure for Validating Topics as Measures. Political Analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Please try this example in interactive R sessions only.
if (interactive()) {
   data(abstracts_stm)
   oolong_test1 &lt;- create_oolong(abstracts_stm)
   oolong_test2 &lt;- clone_oolong(oolong_test1)
   oolong_test1$do_word_intrusion_test()
   oolong_test2$do_word_intrusion_test()
   oolong_test1$lock()
   oolong_test2$lock()
   summarize_oolong(oolong_test1, oolong_test2)
}
</code></pre>

<hr>
<h2 id='trump2k'>Trump's tweets dataset</h2><span id='topic+trump2k'></span>

<h3>Description</h3>

<p>This is a random sample of 2000 tweets from @realdonaldtrump account before his assumption of duty as the president of the United States.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trump2k
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 2000.
</p>

<hr>
<h2 id='update_oolong'>Update an oolong object to the latest version</h2><span id='topic+update_oolong'></span>

<h3>Description</h3>

<p>This function update an old oolong object to the latest version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_oolong(oolong, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_oolong_+3A_oolong">oolong</code></td>
<td>
<p>an oolong object to be updated</p>
</td></tr>
<tr><td><code id="update_oolong_+3A_verbose">verbose</code></td>
<td>
<p>logical, display messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an updated oolong object
</p>


<h3>Author(s)</h3>

<p>Chung-hong Chan
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

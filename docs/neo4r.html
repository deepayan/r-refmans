<!DOCTYPE html><html lang="en"><head><title>Help for package neo4r</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {neo4r}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#call_neo4j'><p>Call Neo4J API</p></a></li>
<li><a href='#extract_nodes'><p>Extract nodes or relationships</p></a></li>
<li><a href='#launch_con_pane'><p>Launch Neo4J Connection Pane</p></a></li>
<li><a href='#load_csv'><p>Load a CSV to Neo4J</p></a></li>
<li><a href='#neo4j_api'><p>A Neo4J Connexion</p></a></li>
<li><a href='#on_connection_opened'><p>Opening the Neo4J connection Pane</p></a></li>
<li><a href='#read_cypher'><p>Read a cypher file</p></a></li>
<li><a href='#run_app'><p>Run the connection app</p></a></li>
<li><a href='#send_cypher'><p>Send a cypher file to be executed</p></a></li>
<li><a href='#unnest_graph'><p>Unnest both relationships and nodes</p></a></li>
<li><a href='#unnest_nodes'><p>Unnest a node data.frame</p></a></li>
<li><a href='#unnest_relationships'><p>Unnest a Relationships table</p></a></li>
<li><a href='#vec_to_cypher'><p>Turn a named vector into a cypher list</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A 'Neo4J' Driver</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A Modern and Flexible 'Neo4J' Driver, allowing you to query 
    data on a 'Neo4J' server and handle the results in R. It's modern in 
    the sense it provides a driver 
    that can be easily integrated in a data analysis workflow, especially by 
    providing an API working smoothly with other data analysis and graph 
    packages. It's flexible in the  way it returns the results, by 
    trying to stay as close as 
    possible to the way 'Neo4J' returns data. That way, you have the control 
    over the way you will compute the results. At the same time, the result 
    is not too complex, so that the "heavy lifting" of data wrangling is not 
    left to the user. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/neo4j-rstats/neo4r">https://github.com/neo4j-rstats/neo4r</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/neo4j-rstats/neo4r/issues">https://github.com/neo4j-rstats/neo4r/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>attempt, data.table, glue, httr, igraph, jsonlite, magrittr,
purrr, R6, rlang, rstudioapi, shiny, tibble, tidyr, tidyselect,
utils</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-02-15 22:04:51 UTC; colin</td>
</tr>
<tr>
<td>Author:</td>
<td>Colin Fay <a href="https://orcid.org/0000-0001-7343-1846"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre,
    aut],
  ThinkR [cph],
  Neo4J [spn]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Colin Fay &lt;contact@colinfay.me&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-02-15 22:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='call_neo4j'>Call Neo4J API</h2><span id='topic+call_neo4j'></span>

<h3>Description</h3>

<p>Call Neo4J API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_neo4j(query, con, type = c("row", "graph"), output = c("r",
  "json"), include_stats = FALSE, include_meta = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="call_neo4j_+3A_query">query</code></td>
<td>
<p>The cypher query</p>
</td></tr>
<tr><td><code id="call_neo4j_+3A_con">con</code></td>
<td>
<p>A NEO4JAPI connection object</p>
</td></tr>
<tr><td><code id="call_neo4j_+3A_type">type</code></td>
<td>
<p>Return the result as row or as graph</p>
</td></tr>
<tr><td><code id="call_neo4j_+3A_output">output</code></td>
<td>
<p>Use &quot;json&quot; if you want the output to be printed as JSON</p>
</td></tr>
<tr><td><code id="call_neo4j_+3A_include_stats">include_stats</code></td>
<td>
<p>tShould the stats about the transaction be included?</p>
</td></tr>
<tr><td><code id="call_neo4j_+3A_include_meta">include_meta</code></td>
<td>
<p>tShould the stats about the transaction be included?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the result from the Neo4J Call
</p>

<hr>
<h2 id='extract_nodes'>Extract nodes or relationships</h2><span id='topic+extract_nodes'></span><span id='topic+extract_relationships'></span>

<h3>Description</h3>

<p>Extract nodes or relationships
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_nodes(x)

extract_relationships(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_nodes_+3A_x">x</code></td>
<td>
<p>a result from Neo4J</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>

<hr>
<h2 id='launch_con_pane'>Launch Neo4J Connection Pane</h2><span id='topic+launch_con_pane'></span>

<h3>Description</h3>

<p>Launch Neo4J Connection Pane
</p>


<h3>Usage</h3>

<pre><code class='language-R'>launch_con_pane(con)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="launch_con_pane_+3A_con">con</code></td>
<td>
<p>a connection object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an opened Connection Pane
</p>

<hr>
<h2 id='load_csv'>Load a CSV to Neo4J</h2><span id='topic+load_csv'></span>

<h3>Description</h3>

<p>Load a CSV to Neo4J
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_csv(on_load = "", con, url, header = TRUE,
  periodic_commit = 1000, as = "csv", type = c("row", "graph"),
  output = c("r", "json"), include_stats = TRUE,
  include_meta = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_csv_+3A_on_load">on_load</code></td>
<td>
<p>the code to execute on load</p>
</td></tr>
<tr><td><code id="load_csv_+3A_con">con</code></td>
<td>
<p>A NEO4JAPI connection object</p>
</td></tr>
<tr><td><code id="load_csv_+3A_url">url</code></td>
<td>
<p>the url of the csv</p>
</td></tr>
<tr><td><code id="load_csv_+3A_header">header</code></td>
<td>
<p>does the csv have a header?</p>
</td></tr>
<tr><td><code id="load_csv_+3A_periodic_commit">periodic_commit</code></td>
<td>
<p>the PERIODIC COMMIT cypher arg</p>
</td></tr>
<tr><td><code id="load_csv_+3A_as">as</code></td>
<td>
<p>the AS cypher arg</p>
</td></tr>
<tr><td><code id="load_csv_+3A_type">type</code></td>
<td>
<p>Return the result as row or as graph</p>
</td></tr>
<tr><td><code id="load_csv_+3A_output">output</code></td>
<td>
<p>Use &quot;json&quot; if you want the output to be printed as JSON</p>
</td></tr>
<tr><td><code id="load_csv_+3A_include_stats">include_stats</code></td>
<td>
<p>tShould the stats about the transaction be included?</p>
</td></tr>
<tr><td><code id="load_csv_+3A_include_meta">include_meta</code></td>
<td>
<p>tShould the stats about the transaction be included?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a csv loaded to Neo4J
</p>

<hr>
<h2 id='neo4j_api'>A Neo4J Connexion</h2><span id='topic+neo4j_api'></span>

<h3>Description</h3>

<p>A Neo4J Connexion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>neo4j_api
</code></pre>


<h3>Format</h3>

<p>An object of class <code>R6ClassGenerator</code> of length 24.</p>


<h3>Value</h3>

<p>A Neo4J Connexion
</p>


<h3>Methods</h3>


<dl>
<dt><code>access</code></dt><dd><p>list url, user and password</p>
</dd>
<dt><code>ping</code></dt><dd><p>test your connexion</p>
</dd>
<dt><code>version</code></dt><dd><p>Neo4J version</p>
</dd>
<dt><code>get</code></dt><dd><p>Get a list of either relationship, labels, </p>
</dd>
<dt><code>get</code></dt><dd><p>Get a list of either relationship, labels, </p>
</dd>
<dt><code>get</code></dt><dd><p>Get a list of either relationship, labels, </p>
</dd>
<dt><code>get</code></dt><dd><p>Get a list of either relationship, labels, </p>
</dd>
<dt><code>get</code></dt><dd><p>Get a list of either relationship, labels, </p>
</dd>
</dl>



<h3>Data</h3>


<dl>
<dt><code>url</code></dt><dd><p>list url, user and password</p>
</dd>
<dt><code>user</code></dt><dd><p>test your connexion</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- neo4j_api$new(url = "http://localhost:7474", user = "neo4j", password = "password")

## End(Not run)


</code></pre>

<hr>
<h2 id='on_connection_opened'>Opening the Neo4J connection Pane</h2><span id='topic+on_connection_opened'></span>

<h3>Description</h3>

<p>For intenral use
</p>


<h3>Usage</h3>

<pre><code class='language-R'>on_connection_opened(con, url, auth)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="on_connection_opened_+3A_con">con</code></td>
<td>
<p>A connection object</p>
</td></tr>
<tr><td><code id="on_connection_opened_+3A_url">url</code></td>
<td>
<p>The url of the database</p>
</td></tr>
<tr><td><code id="on_connection_opened_+3A_auth">auth</code></td>
<td>
<p>The auth token</p>
</td></tr>
</table>

<hr>
<h2 id='read_cypher'>Read a cypher file</h2><span id='topic+read_cypher'></span>

<h3>Description</h3>

<p>Read a cypher file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_cypher(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_cypher_+3A_file">file</code></td>
<td>
<p>the path to the cypher file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble with the queries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
read_cypher("random/create.cypher")

## End(Not run)
</code></pre>

<hr>
<h2 id='run_app'>Run the connection app</h2><span id='topic+run_app'></span>

<h3>Description</h3>

<p>For internal use
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_app()
</code></pre>

<hr>
<h2 id='send_cypher'>Send a cypher file to be executed</h2><span id='topic+send_cypher'></span>

<h3>Description</h3>

<p>Send a cypher file to be executed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>send_cypher(path, con, type = c("row", "graph"), output = c("r",
  "json"), include_stats = TRUE, meta = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="send_cypher_+3A_path">path</code></td>
<td>
<p>the path to the cypher file</p>
</td></tr>
<tr><td><code id="send_cypher_+3A_con">con</code></td>
<td>
<p>a connexion object created with neo4j_api$new()</p>
</td></tr>
<tr><td><code id="send_cypher_+3A_type">type</code></td>
<td>
<p>the type of the format to query for (row or graph)</p>
</td></tr>
<tr><td><code id="send_cypher_+3A_output">output</code></td>
<td>
<p>the printing method (r or json)</p>
</td></tr>
<tr><td><code id="send_cypher_+3A_include_stats">include_stats</code></td>
<td>
<p>whether of not to include stats</p>
</td></tr>
<tr><td><code id="send_cypher_+3A_meta">meta</code></td>
<td>
<p>whether of not to include meta info</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a cypher call
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
send_cypher("random/create.cypher")
path &lt;- "data-raw/constraints.cypher"

## End(Not run)
</code></pre>

<hr>
<h2 id='unnest_graph'>Unnest both relationships and nodes</h2><span id='topic+unnest_graph'></span>

<h3>Description</h3>

<p>Unnest both relationships and nodes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_graph(res)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unnest_graph_+3A_res">res</code></td>
<td>
<p>an api graph result</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of two unnested data.frames
</p>

<hr>
<h2 id='unnest_nodes'>Unnest a node data.frame</h2><span id='topic+unnest_nodes'></span>

<h3>Description</h3>

<p>Unnest a node data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_nodes(nodes_tbl, what = c("all", "label", "properties"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unnest_nodes_+3A_nodes_tbl">nodes_tbl</code></td>
<td>
<p>the node table</p>
</td></tr>
<tr><td><code id="unnest_nodes_+3A_what">what</code></td>
<td>
<p>what to unnest</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a new dataframe
</p>

<hr>
<h2 id='unnest_relationships'>Unnest a Relationships table</h2><span id='topic+unnest_relationships'></span>

<h3>Description</h3>

<p>Unnest a Relationships table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_relationships(relationships_tbl)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unnest_relationships_+3A_relationships_tbl">relationships_tbl</code></td>
<td>
<p>a relationship table</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an unnested table
</p>


<h3>Note</h3>

<p>Please note that the properties will be converted to character if the class
is not unique.
</p>

<hr>
<h2 id='vec_to_cypher'>Turn a named vector into a cypher list</h2><span id='topic+vec_to_cypher'></span><span id='topic+vec_to_cypher_with_var'></span>

<h3>Description</h3>

<p>'vec_to_cypher()' creates a list, and 'vec_to_cypher_with_var()'
creates a cypher call starting with a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_to_cypher(vec, label)

vec_to_cypher_with_var(vec, label, variable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_to_cypher_+3A_vec">vec</code></td>
<td>
<p>the vector</p>
</td></tr>
<tr><td><code id="vec_to_cypher_+3A_label">label</code></td>
<td>
<p>the label of each vector</p>
</td></tr>
<tr><td><code id="vec_to_cypher_+3A_variable">variable</code></td>
<td>
<p>the variable to use (for 'vec_to_cypher()')</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used with small vectors you want to send
to the server. It can for example be used this way :
&ldquo;'
paste(&quot;MERGE&quot;, vec_to_cypher(iris[1, 1:3], &quot;Species&quot;))
&ldquo;'
to create a cypher call.
</p>


<h3>Value</h3>

<p>a character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
vec_to_cypher(iris[1, 1:3], "Species")
vec_to_cypher_with_var(iris[1, 1:3], "Species", a)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

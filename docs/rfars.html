<!DOCTYPE html><html><head><title>Help for package rfars</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rfars}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#alcohol'><p>(Internal) Find crashes involving alcohol</p></a></li>
<li><a href='#appendRDS'><p>(Internal) Append RDS files</p></a></li>
<li><a href='#auto_label_unlabeled_values'><p>(Internal) Label unlabelled values in imported SAS files</p></a></li>
<li><a href='#bicyclist'><p>(Internal) Find crashes involving bicyclists</p></a></li>
<li><a href='#compare_counts'><p>Compare counts</p></a></li>
<li><a href='#counts'><p>Generate counts</p></a></li>
<li><a href='#distracted_driver'><p>(Internal) Find crashes involving distracted drivers</p></a></li>
<li><a href='#download_fars'><p>(Internal) Download FARS data files</p></a></li>
<li><a href='#download_gescrss'><p>(Internal) Download GES/CRSS data files</p></a></li>
<li><a href='#driver_age'><p>(Internal) Find crashes involving drivers of a given age</p></a></li>
<li><a href='#drugs'><p>(Internal) Find crashes involving drugs</p></a></li>
<li><a href='#fars_codebook'><p>FARS Codebook</p></a></li>
<li><a href='#geo_relations'><p>Synonym table for various geographical scales</p></a></li>
<li><a href='#gescrss_codebook'><p>GESCRSS Codebook</p></a></li>
<li><a href='#get_fars'><p>Get FARS data</p></a></li>
<li><a href='#get_gescrss'><p>Get GES/CRSS data</p></a></li>
<li><a href='#hit_and_run'><p>(Internal) Find hit and run crashes</p></a></li>
<li><a href='#import_multi'><p>(Internal) Import the multi_ files</p></a></li>
<li><a href='#large_trucks'><p>(Internal) Find crashes involving large trucks</p></a></li>
<li><a href='#make_all_numeric'><p>(Internal) Make id and year numeric</p></a></li>
<li><a href='#make_id'><p>(Internal) Generate an ID variable</p></a></li>
<li><a href='#motorcycle'><p>(Internal) Find crashes involving motorcycles</p></a></li>
<li><a href='#pedalcyclist'><p>(Internal) Find crashes involving pedalcyclists</p></a></li>
<li><a href='#pedbike'><p>(Internal) Find crashes involving pedstrians or bicyclists</p></a></li>
<li><a href='#pedestrian'><p>(Internal) Find crashes involving pedestrians</p></a></li>
<li><a href='#police_pursuit'><p>(Internal) Find crashes involving police pursuits</p></a></li>
<li><a href='#prep_fars'><p>Prepare downloaded FARS files for use</p></a></li>
<li><a href='#prep_gescrss'><p>Prepare downloaded GES/CRSS files for use</p></a></li>
<li><a href='#read_basic_sas'><p>(Internal) Takes care of basic SAS file reading</p></a></li>
<li><a href='#read_basic_sas_nocat'><p>(Internal) Takes care of basic SAS file reading when the bcat file creates an issue</p></a></li>
<li><a href='#road_depart'><p>(Internal) Find crashes involving road departures</p></a></li>
<li><a href='#rollover'><p>(Internal) Find crashes involving rollovers</p></a></li>
<li><a href='#speeding'><p>(Internal) Find crashes involving speeding</p></a></li>
<li><a href='#use_fars'><p>(Internal) Use FARS data files</p></a></li>
<li><a href='#use_gescrss'><p>(Internal) Use GESCRSS data files</p></a></li>
<li><a href='#use_imp'><p>(Internal) use_imp</p></a></li>
<li><a href='#validate_states'><p>(Internal) Validate user-provided list of states</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Download and Analyze Crash Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Download crash data from the National Highway Traffic Safety Administration and prepare it for research.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, downloader, dplyr, haven, janitor, lubridate,
magrittr, purrr, readr, rlang, sas7bdat, stringr, tidyr,
tidyselect, zoo</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, leaflet, leaflet.extras, ggplot2, scales,
stargazer, viridis, rbenchmark, openxlsx, lme4, tidyverse,
tidytext</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/s87jackson/rfars">https://github.com/s87jackson/rfars</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/s87jackson/rfars/issues">https://github.com/s87jackson/rfars/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-06 04:28:53 UTC; s87ja</td>
</tr>
<tr>
<td>Author:</td>
<td>Steve Jackson <a href="https://orcid.org/0000-0002-3337-7846"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Steve Jackson &lt;steve.jackson@toxcel.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-06 04:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='alcohol'>(Internal) Find crashes involving alcohol</h2><span id='topic+alcohol'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alcohol(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alcohol_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='appendRDS'>(Internal) Append RDS files</h2><span id='topic+appendRDS'></span>

<h3>Description</h3>

<p>(Internal) Append RDS files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>appendRDS(object, file, wd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="appendRDS_+3A_object">object</code></td>
<td>
<p>The object to save or append</p>
</td></tr>
<tr><td><code id="appendRDS_+3A_file">file</code></td>
<td>
<p>The name of the file to be saved to be saved</p>
</td></tr>
<tr><td><code id="appendRDS_+3A_wd">wd</code></td>
<td>
<p>The directory to check</p>
</td></tr>
</table>

<hr>
<h2 id='auto_label_unlabeled_values'>(Internal) Label unlabelled values in imported SAS files</h2><span id='topic+auto_label_unlabeled_values'></span>

<h3>Description</h3>

<p>(Internal) Label unlabelled values in imported SAS files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auto_label_unlabeled_values(lbl_vector, wd = wd, x = x, varname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auto_label_unlabeled_values_+3A_lbl_vector">lbl_vector</code></td>
<td>
<p>A vector with labels</p>
</td></tr>
<tr><td><code id="auto_label_unlabeled_values_+3A_wd">wd</code></td>
<td>
<p>Working directory for files</p>
</td></tr>
<tr><td><code id="auto_label_unlabeled_values_+3A_x">x</code></td>
<td>
<p>NCSA table name (sas file name)</p>
</td></tr>
<tr><td><code id="auto_label_unlabeled_values_+3A_varname">varname</code></td>
<td>
<p>Variable name or label</p>
</td></tr>
</table>

<hr>
<h2 id='bicyclist'>(Internal) Find crashes involving bicyclists</h2><span id='topic+bicyclist'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bicyclist(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bicyclist_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='compare_counts'>Compare counts</h2><span id='topic+compare_counts'></span>

<h3>Description</h3>

<p>Compare counts generated by counts()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare_counts(
  df,
  interval = c("year", "month")[1],
  what = c("crashes", "fatalities", "injuries", "people")[1],
  where = list(states = "all", region = c("all", "ne", "mw", "s", "w")[1], urb = c("all",
    "rural", "urban")[1]),
  who = c("all", "drivers", "passengers", "bicyclists", "pedestrians")[1],
  involved = NULL,
  what2 = what,
  where2 = where,
  who2 = who,
  involved2 = involved
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compare_counts_+3A_df">df</code></td>
<td>
<p>The input FARS object.</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_interval">interval</code></td>
<td>
<p>The interval in which to count: months or years.</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_what">what</code></td>
<td>
<p>What to count: crashes, fatalities, or people involved.</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_where">where</code></td>
<td>
<p>Where to count, a list with up to three elements:
states (&quot;all&quot; by default), region (&quot;all&quot;), urb (&quot;all&quot;)</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_who">who</code></td>
<td>
<p>The type of person to count: all (default) drivers, passengers,
pedestrians, or bicyclists.</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_involved">involved</code></td>
<td>
<p>Factors involved with the crash. Can be any of: distracted
driver, police pursuit, motorcycle, pedalcyclist,
bicyclist, pedestrian, pedbike, young driver, older driver, speeding,
alcohol, drugs, hit and run, roadway departure, rollover, or large
trucks.</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_what2">what2</code></td>
<td>
<p>Comparison point for 'what' (set to 'what' unless specified).</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_where2">where2</code></td>
<td>
<p>Comparison point for 'where' (set to 'where' unless specified).</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_who2">who2</code></td>
<td>
<p>Comparison point for 'who' (set to 'who' unless specified).</p>
</td></tr>
<tr><td><code id="compare_counts_+3A_involved2">involved2</code></td>
<td>
<p>Comparison point for 'involved' (set to 'involved' unless specified).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of counts.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## Not run: 
    compare_counts(
      get_fars(years = 2020, states="Virginia"),
      where = list(urb="rural"),
      where2 = list(urb="urban")
      )
   
## End(Not run)
</code></pre>

<hr>
<h2 id='counts'>Generate counts</h2><span id='topic+counts'></span>

<h3>Description</h3>

<p>Use FARS or GES/CRSS data to generate commonly requested counts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>counts(
  df,
  what = c("crashes", "fatalities", "injuries", "people")[1],
  interval = c("year", "month")[1],
  where = list(states = "all", region = c("all", "ne", "mw", "s", "w")[1], urb = c("all",
    "rural", "urban")[1]),
  who = c("all", "drivers", "passengers", "bicyclists", "pedestrians")[1],
  involved = NULL,
  filterOnly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="counts_+3A_df">df</code></td>
<td>
<p>The input data object (must be of class 'FARS' or 'GESCRSS' as is produced by get_fars() and get_gescrss()).</p>
</td></tr>
<tr><td><code id="counts_+3A_what">what</code></td>
<td>
<p>What to count: crashes (the default), fatalities, injuries, or people involved.</p>
</td></tr>
<tr><td><code id="counts_+3A_interval">interval</code></td>
<td>
<p>The interval in which to count: months or years (the default).</p>
</td></tr>
<tr><td><code id="counts_+3A_where">where</code></td>
<td>
<p>Where to count. Must be a list with any of the elements:
states (can be 'all', full or abbreviated state names, or FIPS codes),
region ('all', 'ne', 'mw', 's', or 'w'; short for northeast, midwest, south, and west),
urb ('all', 'rural', or 'urban'). Any un-specified elements are set to 'all' by default.</p>
</td></tr>
<tr><td><code id="counts_+3A_who">who</code></td>
<td>
<p>The type of person to count: 'all' (default) 'drivers', 'passengers', 'pedestrians', or 'bicyclists'.</p>
</td></tr>
<tr><td><code id="counts_+3A_involved">involved</code></td>
<td>
<p>Factors involved with the crash. Can be any of: 'distracted
driver', 'police pursuit', 'motorcycle', 'pedalcyclist',
'bicyclist', 'pedestrian', 'pedbike', 'young driver', 'older driver', 'speeding',
'alcohol', 'drugs', 'hit and run', 'roadway departure', 'rollover', or 'large
trucks'. NULL by default.</p>
</td></tr>
<tr><td><code id="counts_+3A_filteronly">filterOnly</code></td>
<td>
<p>Logical, whether to only filter data or reduce to counts (FALSE by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a filtered tibble (filterOnly=TRUE) or a tibble of counts
(filterOnly=FALSE). If filterOnly=TRUE, the tibble that is returned is
the 'flat' tibble from the input FARS object, filtered according to other
parameters.
</p>
<p>If 'df' is a GESCRSS object, the counts returned are the sum of the appropriate weights.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## Not run: 
    counts(get_fars(years = 2019), where = list(states="Virginia", urb="rural"))
  
## End(Not run)
</code></pre>

<hr>
<h2 id='distracted_driver'>(Internal) Find crashes involving distracted drivers</h2><span id='topic+distracted_driver'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distracted_driver(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distracted_driver_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='download_fars'>(Internal) Download FARS data files</h2><span id='topic+download_fars'></span>

<h3>Description</h3>

<p>Download files from NHTSA, unzip, and prepare them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_fars(years, dest_raw, dest_prepd, states)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_fars_+3A_years">years</code></td>
<td>
<p>Years to be downloaded, in yyyy (character or numeric formats)</p>
</td></tr>
<tr><td><code id="download_fars_+3A_dest_raw">dest_raw</code></td>
<td>
<p>Directory to store raw CSV files</p>
</td></tr>
<tr><td><code id="download_fars_+3A_dest_prepd">dest_prepd</code></td>
<td>
<p>Directory to store prepared CSV files</p>
</td></tr>
<tr><td><code id="download_fars_+3A_states">states</code></td>
<td>
<p>(Optional) Inherits from get_fars()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Raw files are downloaded from <a href="https://www.nhtsa.gov/file-downloads?p=nhtsa/downloads/FARS/">NHTSA</a>.
</p>


<h3>Value</h3>

<p>Nothing directly to the current environment. Various CSV files are stored either in a temporary directory or dir as specified by the user.
</p>

<hr>
<h2 id='download_gescrss'>(Internal) Download GES/CRSS data files</h2><span id='topic+download_gescrss'></span>

<h3>Description</h3>

<p>Download files from NHTSA, unzip, and prepare them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_gescrss(years, dest_raw, dest_prepd, regions)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_gescrss_+3A_years">years</code></td>
<td>
<p>Years to be downloaded, in yyyy (character or numeric formats)</p>
</td></tr>
<tr><td><code id="download_gescrss_+3A_dest_raw">dest_raw</code></td>
<td>
<p>Directory to store raw CSV files</p>
</td></tr>
<tr><td><code id="download_gescrss_+3A_dest_prepd">dest_prepd</code></td>
<td>
<p>Directory to store prepared CSV files</p>
</td></tr>
<tr><td><code id="download_gescrss_+3A_regions">regions</code></td>
<td>
<p>(Optional) Inherits from get_gescrss()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Raw files are downloaded directly from <a href="https://www.nhtsa.gov/file-downloads?p=nhtsa/downloads/">NHTSA</a>.
</p>


<h3>Value</h3>

<p>Nothing directly to the current environment. Various CSV files are stored either in a temporary directory or dir as specified by the user.
</p>

<hr>
<h2 id='driver_age'>(Internal) Find crashes involving drivers of a given age</h2><span id='topic+driver_age'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>driver_age(df, age_min, age_max)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="driver_age_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
<tr><td><code id="driver_age_+3A_age_min">age_min</code></td>
<td>
<p>Lower bound on driver age (inclusive).</p>
</td></tr>
<tr><td><code id="driver_age_+3A_age_max">age_max</code></td>
<td>
<p>Upper bound on driver age (inclusive).</p>
</td></tr>
</table>

<hr>
<h2 id='drugs'>(Internal) Find crashes involving drugs</h2><span id='topic+drugs'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drugs(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drugs_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='fars_codebook'>FARS Codebook</h2><span id='topic+fars_codebook'></span>

<h3>Description</h3>

<p>A table describing each FARS variable name, value, and corresponding value label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fars_codebook
</code></pre>


<h3>Format</h3>

<p>A data frame with 132,454 rows and 8 variables:
</p>

<dl>
<dt>source</dt><dd><p>The source of the data (either FARS or GES/CRSS)</p>
</dd>
<dt>years</dt><dd><p>Years of the data element definition.</p>
</dd>
<dt>file</dt><dd><p>The data file that contains the given variable.</p>
</dd>
<dt>name_ncsa</dt><dd><p>The original name of the data element.</p>
</dd>
<dt>name_rfars</dt><dd><p>The modified data element name used in rfars</p>
</dd>
<dt>label</dt><dd><p>The label of the data element itself (not its constituent values).</p>
</dd>
<dt>value</dt><dd><p>The original value of the data element.</p>
</dd>
<dt>value_label</dt><dd><p>The de-coded value label.</p>
</dd>
</dl>



<h3>Details</h3>

<p>This codebook serves as a useful reference for researchers using FARS data.
The 'source' variable is intended to help combine with the gescrss_codebook.
Data elements are relatively stable but are occasionally discontinued, created anew,
or modified. The 'year' variable helps indicate the availability of data elements,
and differentiates between different definitions over time. Users should always
check for discontinuities when tabulating cases.
</p>
<p>The 'file' variable indicates the file in which the given data element originally appeared. Here, files refers to
the SAS files downloaded from NHTSA. Most data elements stayed in their original
file. Those that did not were moved to the multi_ files. For example, 'weather'
originates from the 'accident' file, but appears in the multi_acc data object
created by rfars.
</p>
<p>The 'name_ncsa' variable describes the data element's name as assigned
by NCSA (the organization within NHTSA that manages the database). To maximize
compatibility between years and ease of use for programming, 'name_rfars'
provides a cleaned naming convention (via janitor::clean_names()). Both
names are provided here to help users find the corresponding entry in
the <a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813254">Analytical User’s Manual</a>
but only the latter are used in the data produced by get_fars().
</p>
<p>Each data element has a 'label', a more human-readable version of the
element names. For example, the label for 'road_fnc' is 'Roadway Function Class'.
These are not definitions but may provide enough information to help users
conduct their analysis. Consult the <a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813254">Analytical User’s Manual</a>
for definitions and further details.
</p>
<p>Each data element has multiple 'value'-'value_label' pairs: 'value' represents
the original, non-human-readable value (usually a number), and 'value_label'
represents the corresponding text value. For example, for 'road_fnc', 1 (the 'value')
corresponds to 'Rural-Principal Arterial-Interstate' (the 'value_label'), 2 corresponds to
'Rural-Principal Arterial-Other', etc.
</p>


<h3>See Also</h3>

<p>&quot;gescrss_codebook&quot;
</p>

<hr>
<h2 id='geo_relations'>Synonym table for various geographical scales</h2><span id='topic+geo_relations'></span>

<h3>Description</h3>

<p>A dataset providing different ways to refer to states and counties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_relations
</code></pre>


<h3>Format</h3>

<p>A data frame with 3,142 rows and 6 variables:
</p>

<dl>
<dt>fips_state</dt><dd><p>2-digit FIPS code indicating a state</p>
</dd>
<dt>fips_county</dt><dd><p>3-digit FIPS code indicating a county within a state</p>
</dd>
<dt>fips_tract</dt><dd><p>6-digit FIPS code indicating a tract within a county</p>
</dd>
<dt>state_name_abbr</dt><dd><p>2-character, capitalized state abbreviation</p>
</dd>
<dt>state_name_full</dt><dd><p>fully spelled and case-sensitive state name</p>
</dd>
<dt>county_name_abbr</dt><dd><p>abbreviated county name (usually minus the word 'County')</p>
</dd>
<dt>county_name_full</dt><dd><p>fully spelled and case-sensitive county name</p>
</dd>
<dt>region</dt><dd><p>fully spelled out and case-sensitive NHTSA region and constituent states</p>
</dd>
<dt>region_abbr</dt><dd><p>abbreviated NHTSA region (ne, mw, s, w)</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/reference-files/2015/demo/popest/2015-fips.html">https://www.census.gov/geographies/reference-files/2015/demo/popest/2015-fips.html</a>
</p>

<hr>
<h2 id='gescrss_codebook'>GESCRSS Codebook</h2><span id='topic+gescrss_codebook'></span>

<h3>Description</h3>

<p>A table describing each GESCRSS variable name, value, and corresponding value label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gescrss_codebook
</code></pre>


<h3>Format</h3>

<p>A data frame with 85,907 rows and 8 variables:
</p>

<dl>
<dt>source</dt><dd><p>The source of the data (either FARS or GESCRSS)</p>
</dd>
<dt>years</dt><dd><p>Years of the data element definition.</p>
</dd>
<dt>file</dt><dd><p>The data file that contains the given variable.</p>
</dd>
<dt>name_ncsa</dt><dd><p>The original name of the data element.</p>
</dd>
<dt>name_rfars</dt><dd><p>The modified data element name used in rfars</p>
</dd>
<dt>label</dt><dd><p>The label of the data element itself (not its constituent values).</p>
</dd>
<dt>value</dt><dd><p>The original value of the data element.</p>
</dd>
<dt>value_label</dt><dd><p>The de-coded value label.</p>
</dd>
</dl>



<h3>Details</h3>

<p>This codebook serves as a useful reference for researchers using GES/CRSS data.
The 'source' variable is intended to help combine with the fars_codebook.
Data elements are relatively stable but are occasionally discontinued, created anew,
or modified. The 'year' variable helps indicate the availability of data elements,
and differentiates between different definitions over time. Users should always
check for discontinuities when tabulating cases.
</p>
<p>The 'file' variable indicates the file in which the given data element originally appeared. Here, files refers to
the SAS files downloaded from NHTSA. Most data elements stayed in their original
file. Those that did not were moved to the multi_ files. For example, 'weather'
originates from the 'accident' file, but appears in the multi_acc data object
created by rfars.
</p>
<p>The 'name_ncsa' variable describes the data element's name as assigned
by NCSA (the organization within NHTSA that manages the database). To maximize
compatibility between years and ease of use for programming, 'name_rfars'
provides a cleaned naming convention (via janitor::clean_names()). Both
names are provided here to help users find the corresponding entry in
the <a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813236">CRSS User Manual</a>
but only the latter are used in the data produced by get_gescrss().
</p>
<p>Each data element has a 'label', a more human-readable version of the
element names. For example, the label for 'harm_ev' is 'First Harmful Event'.
These are not definitions but may provide enough information to help users
conduct their analysis. Consult the <a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813236">CRSS User Manual</a>
for definitions and further details.
</p>
<p>Each data element has multiple 'value'-'value_label' pairs: 'value' represents
the original, non-human-readable value (usually a number), and 'value_label'
represents the corresponding text value. For example, for 'harm_ev', 1 (the 'value')
corresponds to 'Rollover/Overturn' (the 'value_label'), 2 corresponds to
'Fire/Explosion', etc.
</p>


<h3>See Also</h3>

<p>&quot;fars_codebook&quot;
</p>

<hr>
<h2 id='get_fars'>Get FARS data</h2><span id='topic+get_fars'></span>

<h3>Description</h3>

<p>Bring FARS data into the current environment, whether by downloading it anew
or by using pre-existing files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fars(
  years = 2011:2022,
  states = NULL,
  dir = NULL,
  proceed = FALSE,
  cache = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_fars_+3A_years">years</code></td>
<td>
<p>Years to be downloaded, in yyyy (character or numeric formats),
currently limited to 2011-2021 (the default).</p>
</td></tr>
<tr><td><code id="get_fars_+3A_states">states</code></td>
<td>
<p>States to keep. Leave as NULL (the default) to keep
all states. Can be specified as full state name (e.g. &quot;Virginia&quot;),
abbreviation (&quot;VA&quot;), or FIPS code (51).</p>
</td></tr>
<tr><td><code id="get_fars_+3A_dir">dir</code></td>
<td>
<p>Directory in which to search for or save a 'FARS data' folder. If
NULL (the default), files are downloaded and unzipped to temporary
directories and prepared in memory.</p>
</td></tr>
<tr><td><code id="get_fars_+3A_proceed">proceed</code></td>
<td>
<p>Logical, whether or not to proceed with downloading files without
asking for user permission (defaults to FALSE, thus asking permission)</p>
</td></tr>
<tr><td><code id="get_fars_+3A_cache">cache</code></td>
<td>
<p>The name of an RDS file to save or use. If the specified file (e.g., 'myFARS.rds')
exists in 'dir' it will be returned; if not, an RDS file of this name will be
saved in 'dir' for quick use in subsequent calls.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function downloads raw data from <a href="https://www.nhtsa.gov/file-downloads?p=nhtsa/downloads/FARS/">NHTSA</a>.
If no directory (dir) is specified, SAS files are downloaded into a
tempdir(), where they are also prepared, combined, and then brought into
the current environment. If you specify a directory (dir), the function will
look there for a 'FARS data' folder. If not found, it will be created and
populated with raw and prepared SAS and RDS files. If the directory is found, the
function makes sure all requested years are present and asks permission
to download any missing years.
</p>
<p>The object returned is a list with class 'FARS'. It contains six tibbles:
flat, multi_acc, multi_veh, multi_per, events, and codebook.
</p>
<p>Flat files are wide-formatted and presented at the person level.
All <em>crashes</em> involve at least one motor <em>vehicle</em>, each of
which may contain one or multiple <em>people</em>. These are the three
entities of crash data. The flat files therefore repeat some data elements
across multiple rows. Please conduct your analysis with your entity in mind.
</p>
<p>Some data elements can include multiple values for any data level
(e.g., multiple weather conditions corresponding to the crash, or multiple
crash factors related to vehicle or person). These elements have been
collected in the yyyy_multi_[acc/veh/per].rds files in long format.
These files contain crash, vehicle, and person identifiers, and two
variables labelled <code>name</code> and <code>value</code>. These correspond to
variable names from the raw data files and the corresponding values,
respectively.
</p>
<p>The events tibble provides a sequence of events for all vehicles involved
in the crash. See Crash Sequences vignette for an example.
</p>
<p>Finally, the codebook tibble serves as a searchable codebook for all files of any given year.
</p>
<p>Please review the <a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813417">FARS Analytical User's Manual</a>
</p>


<h3>Value</h3>

<p>A FARS data object (list of six tibbles: flat, multi_acc,
multi_veh, multi_per, events, and codebook), described below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## Not run: 
    myFARS &lt;- get_fars(years = 2021, states = "VA")
  
## End(Not run)
</code></pre>

<hr>
<h2 id='get_gescrss'>Get GES/CRSS data</h2><span id='topic+get_gescrss'></span>

<h3>Description</h3>

<p>Bring GES/CRSS data into the current environment, whether by downloading it anew
or by using pre-existing files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_gescrss(
  years = 2011:2022,
  regions = c("mw", "ne", "s", "w"),
  dir = NULL,
  proceed = FALSE,
  cache = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_gescrss_+3A_years">years</code></td>
<td>
<p>Years to be downloaded, in yyyy (character or numeric formats),
currently limited to 2011-2021.</p>
</td></tr>
<tr><td><code id="get_gescrss_+3A_regions">regions</code></td>
<td>
<p>(Optional) Regions to keep: mw=midwest, ne=northeast, s=south, w=west.</p>
</td></tr>
<tr><td><code id="get_gescrss_+3A_dir">dir</code></td>
<td>
<p>Directory in which to search for or save a 'GESCRSS data' folder. If
NULL (the default), files are downloaded and unzipped to temporary
directories and prepared in memory.</p>
</td></tr>
<tr><td><code id="get_gescrss_+3A_proceed">proceed</code></td>
<td>
<p>Logical, whether or not to proceed with downloading files without
asking for user permission (defaults to FALSE, thus asking permission)</p>
</td></tr>
<tr><td><code id="get_gescrss_+3A_cache">cache</code></td>
<td>
<p>The name of an RDS file to save or use. If the specified file (e.g., 'myFARS.rds')
exists in 'dir' it will be returned; if not, an RDS file of this name will be
saved in 'dir' for quick use in subsequent calls.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function downloads raw data from the GES and CRSS crash databases.
If no directory (dir) is specified, raw CSV files are downloaded into a
tempdir(), where they are also prepared, combined, and then brought into
the current environment. If you specify a directory (dir), the function will
look there for a 'GESCRSS data' folder. If not found, it will be created and
populated with raw and prepared SAS and RDS files. If the directory is found, the
function makes sure all requested years are present and asks permission
to download any missing years.
</p>
<p>The object returned is a list with class 'GESCRSS'. It contains six tibbles:
flat, multi_acc, multi_veh, multi_per, events, and codebook.
</p>
<p>Flat files are wide-formatted and presented at the person level.
All <em>crashes</em> involve at least one motor <em>vehicle</em>, each of
which may contain one or multiple <em>people</em>. These are the three
entities of crash data. The flat files therefore repeat some data elements
across multiple rows. Please conduct your analysis with your entity in mind.
</p>
<p>Some data elements can include multiple values for any data level
(e.g., multiple weather conditions corresponding to the crash, or multiple
crash factors related to vehicle or person). These elements have been
collected in the yyyy_multi_[acc/veh/per].rds files in long format.
These files contain crash, vehicle, and person identifiers, and two
variables labelled <code>name</code> and <code>value</code>. These correspond to
variable names from the raw data files and the corresponding values,
respectively.
</p>
<p>The events tibble provides a sequence of events for all vehicles involved
in the crash. See Crash Sequences vignette for an example.
</p>
<p>The codebook tibble serves as a searchable codebook for all files of any given year.
</p>
<p>Please review the <a href="https://crashstats.nhtsa.dot.gov/Api/Public/ViewPublication/813436">CRSS Analytical User's Manual</a>
</p>
<p>Regions are as follows:
mw = Midwest   = OH, IN, IL, MI, WI, MN, ND, SD, NE, IA, MO, KS
ne = Northeast = PA, NJ, NY, NH, VT, RI, MA, ME, CT
s  = South     = MD, DE, DC, WV, VA, KY, TN, NC, SC, GA, FL, AL, MS, LA, AR, OK, TX
w  = West      = MT, ID, WA, OR, CA, NV, NM, AZ, UT, CO, WY, AK, HI
</p>


<h3>Value</h3>

<p>A GESCRSS data object (a list with six tibbles: flat, multi_acc,
multi_veh, multi_per, events, and codebook).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## Not run: 
    myGESCRSS &lt;- get_gescrss(years = 2021, regions = "s")
  
## End(Not run)
</code></pre>

<hr>
<h2 id='hit_and_run'>(Internal) Find hit and run crashes</h2><span id='topic+hit_and_run'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hit_and_run(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hit_and_run_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='import_multi'>(Internal) Import the multi_ files</h2><span id='topic+import_multi'></span>

<h3>Description</h3>

<p>An internal function that imports the multi_ files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_multi(filename, where)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_multi_+3A_filename">filename</code></td>
<td>
<p>The filename (e.g. &quot;multi_acc.csv&quot;) to be imported</p>
</td></tr>
<tr><td><code id="import_multi_+3A_where">where</code></td>
<td>
<p>The directory to search within</p>
</td></tr>
</table>

<hr>
<h2 id='large_trucks'>(Internal) Find crashes involving large trucks</h2><span id='topic+large_trucks'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>large_trucks(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="large_trucks_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='make_all_numeric'>(Internal) Make id and year numeric</h2><span id='topic+make_all_numeric'></span>

<h3>Description</h3>

<p>(Internal) Make id and year numeric
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_all_numeric(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_all_numeric_+3A_df">df</code></td>
<td>
<p>The input dataframe</p>
</td></tr>
</table>

<hr>
<h2 id='make_id'>(Internal) Generate an ID variable</h2><span id='topic+make_id'></span>

<h3>Description</h3>

<p>(Internal) Generate an ID variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_id(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_id_+3A_df">df</code></td>
<td>
<p>The dataframe from which to make the id</p>
</td></tr>
</table>

<hr>
<h2 id='motorcycle'>(Internal) Find crashes involving motorcycles</h2><span id='topic+motorcycle'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>motorcycle(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="motorcycle_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='pedalcyclist'>(Internal) Find crashes involving pedalcyclists</h2><span id='topic+pedalcyclist'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pedalcyclist(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pedalcyclist_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='pedbike'>(Internal) Find crashes involving pedstrians or bicyclists</h2><span id='topic+pedbike'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pedbike(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pedbike_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='pedestrian'>(Internal) Find crashes involving pedestrians</h2><span id='topic+pedestrian'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pedestrian(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pedestrian_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='police_pursuit'>(Internal) Find crashes involving police pursuits</h2><span id='topic+police_pursuit'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>police_pursuit(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="police_pursuit_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='prep_fars'>Prepare downloaded FARS files for use</h2><span id='topic+prep_fars'></span>

<h3>Description</h3>

<p>Prepare downloaded FARS files for use
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prep_fars(y, wd, rawfiles, prepared_dir, states)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prep_fars_+3A_y">y</code></td>
<td>
<p>year, to be passed from <code>prep_fars</code></p>
</td></tr>
<tr><td><code id="prep_fars_+3A_wd">wd</code></td>
<td>
<p>working directory, , to be passed from <code>prep_fars</code></p>
</td></tr>
<tr><td><code id="prep_fars_+3A_rawfiles">rawfiles</code></td>
<td>
<p>dataframe translating filenames into standard terms,
to be passed from <code>prep_fars</code></p>
</td></tr>
<tr><td><code id="prep_fars_+3A_prepared_dir">prepared_dir</code></td>
<td>
<p>the location where prepared files will be saved,
to be passed from <code>prep_fars</code></p>
</td></tr>
<tr><td><code id="prep_fars_+3A_states">states</code></td>
<td>
<p>(Optional) Inherits from get_fars()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces six files: yyyy_flat.rds, yyyy_multi_acc.rds,
yyyy_multi_veh.rds, yyyy_multi_per.rds, yyyy_events.rds, and codebook.rds
</p>

<hr>
<h2 id='prep_gescrss'>Prepare downloaded GES/CRSS files for use</h2><span id='topic+prep_gescrss'></span>

<h3>Description</h3>

<p>Prepare downloaded GES/CRSS files for use
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prep_gescrss(y, wd, rawfiles, prepared_dir, regions)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prep_gescrss_+3A_y">y</code></td>
<td>
<p>year, to be passed from <code>prep_gescrss</code></p>
</td></tr>
<tr><td><code id="prep_gescrss_+3A_wd">wd</code></td>
<td>
<p>working directory, , to be passed from <code>prep_gescrss</code></p>
</td></tr>
<tr><td><code id="prep_gescrss_+3A_rawfiles">rawfiles</code></td>
<td>
<p>dataframe translating filenames into standard terms,
to be passed from <code>prep_gescrss</code></p>
</td></tr>
<tr><td><code id="prep_gescrss_+3A_prepared_dir">prepared_dir</code></td>
<td>
<p>the location where prepared files will be saved,
to be passed from <code>prep_gescrss</code></p>
</td></tr>
<tr><td><code id="prep_gescrss_+3A_regions">regions</code></td>
<td>
<p>(Optional) Inherits from get_gescrss()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces six files: yyyy_flat.rds, yyyy_multi_acc.rds,
yyyy_multi_veh.rds, yyyy_multi_per.rds, yyyy_events.rds, and codebook.rds
</p>

<hr>
<h2 id='read_basic_sas'>(Internal) Takes care of basic SAS file reading</h2><span id='topic+read_basic_sas'></span>

<h3>Description</h3>

<p>(Internal) Takes care of basic SAS file reading
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_basic_sas(
  x,
  wd,
  rawfiles,
  catfile = paste0(wd, "formats.sas7bcat"),
  imps = NULL,
  omits = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_basic_sas_+3A_x">x</code></td>
<td>
<p>The cleaned name of the data table (SAS7BDAT).</p>
</td></tr>
<tr><td><code id="read_basic_sas_+3A_wd">wd</code></td>
<td>
<p>The working directory for these files</p>
</td></tr>
<tr><td><code id="read_basic_sas_+3A_rawfiles">rawfiles</code></td>
<td>
<p>The data frame connecting raw filenames to cleaned ones.</p>
</td></tr>
<tr><td><code id="read_basic_sas_+3A_catfile">catfile</code></td>
<td>
<p>The location of the sas7bcat file</p>
</td></tr>
<tr><td><code id="read_basic_sas_+3A_imps">imps</code></td>
<td>
<p>A named list to be passed to use_imp(). Each item's name represents
the non-imputed variable name; the item itself represents the related imputed variable.</p>
</td></tr>
<tr><td><code id="read_basic_sas_+3A_omits">omits</code></td>
<td>
<p>Character vector of columns to omit</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>read_basic_sas_nocat
</p>

<hr>
<h2 id='read_basic_sas_nocat'>(Internal) Takes care of basic SAS file reading when the bcat file creates an issue</h2><span id='topic+read_basic_sas_nocat'></span>

<h3>Description</h3>

<p>(Internal) Takes care of basic SAS file reading when the bcat file creates an issue
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_basic_sas_nocat(x, wd, rawfiles, imps = NULL, omits = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_basic_sas_nocat_+3A_x">x</code></td>
<td>
<p>The cleaned name of the data table (SAS7BDAT).</p>
</td></tr>
<tr><td><code id="read_basic_sas_nocat_+3A_wd">wd</code></td>
<td>
<p>The working directory for these files</p>
</td></tr>
<tr><td><code id="read_basic_sas_nocat_+3A_rawfiles">rawfiles</code></td>
<td>
<p>The data frame connecting raw filenames to cleaned ones.</p>
</td></tr>
<tr><td><code id="read_basic_sas_nocat_+3A_imps">imps</code></td>
<td>
<p>A named list to be passed to use_imp(). Each item's name represents
the non-imputed variable name; the item itself represents the related imputed variable.</p>
</td></tr>
<tr><td><code id="read_basic_sas_nocat_+3A_omits">omits</code></td>
<td>
<p>Character vector of columns to omit</p>
</td></tr>
</table>

<hr>
<h2 id='road_depart'>(Internal) Find crashes involving road departures</h2><span id='topic+road_depart'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>road_depart(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="road_depart_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='rollover'>(Internal) Find crashes involving rollovers</h2><span id='topic+rollover'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rollover(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rollover_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='speeding'>(Internal) Find crashes involving speeding</h2><span id='topic+speeding'></span>

<h3>Description</h3>

<p>These internal functions take the FARS object created by use_fars and look
for various cases, such as distracted or drowsy drivers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>speeding(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="speeding_+3A_df">df</code></td>
<td>
<p>The FARS or GESCRSS data object to be searched.</p>
</td></tr>
</table>

<hr>
<h2 id='use_fars'>(Internal) Use FARS data files</h2><span id='topic+use_fars'></span>

<h3>Description</h3>

<p>Compile multiple years of prepared FARS data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_fars(dir, prepared_dir, cache)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_fars_+3A_dir">dir</code></td>
<td>
<p>Inherits from get_fars().</p>
</td></tr>
<tr><td><code id="use_fars_+3A_prepared_dir">prepared_dir</code></td>
<td>
<p>Inherits from get_fars().</p>
</td></tr>
<tr><td><code id="use_fars_+3A_cache">cache</code></td>
<td>
<p>Inherits from get_fars().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class 'FARS' which is a list of six tibbles:
flat, multi_acc, multi_veh, multi_per, events, and codebook.
</p>

<hr>
<h2 id='use_gescrss'>(Internal) Use GESCRSS data files</h2><span id='topic+use_gescrss'></span>

<h3>Description</h3>

<p>Compile multiple years of prepared GESCRSS data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_gescrss(dir, prepared_dir, cache)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_gescrss_+3A_dir">dir</code></td>
<td>
<p>Inherits from get_gescrss().</p>
</td></tr>
<tr><td><code id="use_gescrss_+3A_prepared_dir">prepared_dir</code></td>
<td>
<p>Inherits from get_gescrss().</p>
</td></tr>
<tr><td><code id="use_gescrss_+3A_cache">cache</code></td>
<td>
<p>Inherits from get_gescrss().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class 'GESCRSS' which is a list of six tibbles:
flat, multi_acc, multi_veh, multi_per, events, and codebook.
</p>

<hr>
<h2 id='use_imp'>(Internal) use_imp</h2><span id='topic+use_imp'></span>

<h3>Description</h3>

<p>An internal function that uses imputed variables (present in many GES/CRSS tables)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_imp(df, original, imputed, show = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_imp_+3A_df">df</code></td>
<td>
<p>The input data frame.</p>
</td></tr>
<tr><td><code id="use_imp_+3A_original">original</code></td>
<td>
<p>The original, non-imputed variable.</p>
</td></tr>
<tr><td><code id="use_imp_+3A_imputed">imputed</code></td>
<td>
<p>The imputed variable (often with an _im suffix).</p>
</td></tr>
<tr><td><code id="use_imp_+3A_show">show</code></td>
<td>
<p>Logical (FALSE by default) Show differences between original and imputed values.</p>
</td></tr>
</table>

<hr>
<h2 id='validate_states'>(Internal) Validate user-provided list of states</h2><span id='topic+validate_states'></span>

<h3>Description</h3>

<p>(Internal) Validate user-provided list of states
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_states(states)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_states_+3A_states">states</code></td>
<td>
<p>States specified in get_fars, prep_fars, or counts</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

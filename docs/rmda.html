<!DOCTYPE html><html lang="en"><head><title>Help for package rmda</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rmda}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rmda-package'><p>rmda: Risk Model Decision Analysis</p></a></li>
<li><a href='#Add_CostBenefit_Axis'><p>Add cost benefit ratio axis to a decision curve plot.</p></a></li>
<li><a href='#cv_decision_curve'><p>Calculate cross-validated decision curves</p></a></li>
<li><a href='#dcaData'><p>Simulated dataset for package 'DecisionCurve'</p></a></li>
<li><a href='#dcaData_cc'><p>Simulated dataset for package 'DecisionCurve'</p></a></li>
<li><a href='#decision_curve'><p>Calculate net benefit/decision curves</p></a></li>
<li><a href='#plot_clinical_impact'><p>Plot the clinical impact curve from a DecisionCurve object.</p></a></li>
<li><a href='#plot_decision_curve'><p>Plot the net benefit curves from a decision_curve object or many decision_curve objects</p></a></li>
<li><a href='#plot_roc_components'><p>Plot the components of a ROC curve by the high risk thresholds.</p></a></li>
<li><a href='#summary.decision_curve'><p>Displays a useful description of a decision_curve object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Risk Model Decision Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.6</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-07-17</td>
</tr>
<tr>
<td>Author:</td>
<td>Marshall Brown</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marshall Brown &lt;mdbrown@fredhutch.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools to evaluate the value of using a risk prediction instrument to decide treatment or intervention (versus no treatment or intervention).  Given one or more risk prediction instruments (risk models) that estimate the probability of a binary outcome, rmda provides functions to estimate and display decision curves and other figures that help assess the population impact of using a risk model for clinical decision making.   Here, "population" refers to the relevant patient population. Decision curves display estimates of the (standardized) net benefit over a range of probability thresholds used to categorize observations as 'high risk'. The curves help evaluate a treatment policy that recommends treatment for patients who are estimated to be 'high risk' by comparing the population impact of a risk-based policy to "treat all" and "treat none" intervention policies.  Curves can be estimated using data from a prospective cohort.  In addition, rmda can estimate decision curves using data from a case-control study if an estimate of the population outcome prevalence is available.  Version 1.4 of the package provides an alternative framing of the decision problem for situations where treatment is the standard-of-care and a risk model might be used to recommend that low-risk patients (i.e., patients below some risk threshold) opt out of treatment. Confidence intervals calculated using the bootstrap can be computed and displayed. A wrapper function to calculate cross-validated curves using k-fold cross-validation is also provided. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://mdbrown.github.io/rmda/">http://mdbrown.github.io/rmda/</a>, <a href="https://github.com/mdbrown/rmda">https://github.com/mdbrown/rmda</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Imports:</td>
<td>reshape, pander, MASS, caret</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-07-17 16:28:39 UTC; mdbrown</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-07-17 17:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rmda-package'>rmda: Risk Model Decision Analysis</h2><span id='topic+rmda'></span><span id='topic+rmda-package'></span>

<h3>Description</h3>

<p>The package 'rmda' (risk model decision analysis) provides tools to evaluate the value of using a risk prediction instrument to decide treatment or intervention (versus no treatment or intervention).  Given one or more risk prediction instruments (risk models) that estimate the probability of a binary outcome, rmda provides functions to estimate and display decision curves and other figures that help assess the population impact of using a risk model for clinical decision making.   Here, &quot;population&quot; refers to the relevant patient population.
</p>


<h3>Details</h3>

<p>Decision curves display estimates of the (standardized) net benefit over a range of probability thresholds used to categorize observations as 'high risk'. The curves help evaluate a treatment policy that recommends treatment for patients who are estimated to be 'high risk' by comparing the population impact of a risk-based policy to &quot;treat all&quot; and &quot;treat none&quot; intervention policies.  Curves can be estimated using data from a prospective cohort.  In addition, rmda can estimate decision curves using data from a case-control study if an estimate of the population outcome prevalence is available.  Version 1.4 of the package provides an alternative framing of the decision problem for situations where treatment is the standard-of-care and a risk model might be used to recommend that low-risk patients (i.e., patients below some risk threshold) opt out of treatment. 
</p>
<p>Confidence intervals calculated using the bootstrap can be computed and displayed. A wrapper function to calculate cross-validated curves using k-fold cross-validation is also provided.
</p>
<p>Functions in this package include:
</p>
<p><code><a href="#topic+decision_curve">decision_curve</a></code>, 
</p>
<p><code><a href="#topic+summary.decision_curve">summary.decision_curve</a></code>,
</p>
<p><code><a href="#topic+plot_decision_curve">plot_decision_curve</a></code>,
</p>
<p><code><a href="#topic+plot_clinical_impact">plot_clinical_impact</a></code>,
</p>
<p><code><a href="#topic+plot_roc_components">plot_roc_components</a></code>,
</p>
<p><code><a href="#topic+cv_decision_curve">cv_decision_curve</a></code> and
</p>
<p><code><a href="#topic+Add_CostBenefit_Axis">Add_CostBenefit_Axis</a></code>.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="http://mdbrown.github.io/rmda/">http://mdbrown.github.io/rmda/</a>
</p>
</li>
<li> <p><a href="https://github.com/mdbrown/rmda">https://github.com/mdbrown/rmda</a>
</p>
</li></ul>


<hr>
<h2 id='Add_CostBenefit_Axis'>Add cost benefit ratio axis to a decision curve plot.</h2><span id='topic+Add_CostBenefit_Axis'></span>

<h3>Description</h3>

<p>Add cost benefit ratio axis to a decision curve plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Add_CostBenefit_Axis(xlim, cost.benefits, n.cost.benefits = 6, line = 4,
  policy, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Add_CostBenefit_Axis_+3A_xlim">xlim</code></td>
<td>
<p>range of x-axis.</p>
</td></tr>
<tr><td><code id="Add_CostBenefit_Axis_+3A_cost.benefits">cost.benefits</code></td>
<td>
<p>Character vector of the form c('c1:b1', 'c2:b2', ..., 'cn:bn') with integers ci, bi corresponding to specific cost:benefit ratios to print.</p>
</td></tr>
<tr><td><code id="Add_CostBenefit_Axis_+3A_n.cost.benefits">n.cost.benefits</code></td>
<td>
<p>number of cost:benefit ratios to print if cost.benefit.axis = TRUE (default n.cost.benefit = 6).</p>
</td></tr>
<tr><td><code id="Add_CostBenefit_Axis_+3A_line">line</code></td>
<td>
<p>x-axis line to print the axis (default is 4).</p>
</td></tr>
<tr><td><code id="Add_CostBenefit_Axis_+3A_policy">policy</code></td>
<td>
<p>Either 'opt-in' (default) or 'opt-out', describing the type of policy for which to report the net benefit. A policy is 'opt-in' when the standard-of-care for a population is to assign a particular 'treatment' to no one. Clinicians then use a risk model to categorize patients as 'high-risk', with the recommendation to treat high-risk patients with some intervention. Alternatively, an 'opt-out' policy is applicable to contexts where the standard-of-care is to recommend a treatment to an entire patient population. The potential use of a risk model in this setting is to identify patients who are 'low-risk' and recommend that those patients 'opt-out' of treatment.</p>
</td></tr>
<tr><td><code id="Add_CostBenefit_Axis_+3A_...">...</code></td>
<td>
<p>other options sent to 'axis'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with components threshold, value and name.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary.decision_curve">summary.decision_curve</a></code>,  <code><a href="#topic+decision_curve">decision_curve</a></code>
</p>

<hr>
<h2 id='cv_decision_curve'>Calculate cross-validated decision curves</h2><span id='topic+cv_decision_curve'></span>

<h3>Description</h3>

<p>This is a wrapper for 'decision_curve' that computes k-fold cross-validated estimates of sensitivity, specificity, and net benefit so that cross-validated net benefit curves can be plotted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv_decision_curve(formula, data, family = binomial(link = "logit"),
  thresholds = seq(0, 1, by = 0.01), folds = 5, study.design = c("cohort",
  "case-control"), population.prevalence, policy = c("opt-in", "opt-out"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cv_decision_curve_+3A_formula">formula</code></td>
<td>
<p>an object of class 'formula' of the form outcome ~ predictors, giving the prediction model to be fitted using glm. The outcome must be a binary variable that equals '1' for cases and '0' for controls.</p>
</td></tr>
<tr><td><code id="cv_decision_curve_+3A_data">data</code></td>
<td>
<p>data.frame containing outcome and predictors. Missing data on any of the predictors will cause the entire observation to be removed.</p>
</td></tr>
<tr><td><code id="cv_decision_curve_+3A_family">family</code></td>
<td>
<p>a description of the error distribution and link function to pass to 'glm&quot; used for model fitting. Defaults to binomial(link = &quot;logit&quot;) for logistic regression.</p>
</td></tr>
<tr><td><code id="cv_decision_curve_+3A_thresholds">thresholds</code></td>
<td>
<p>Numeric vector of high risk thresholds to use when plotting and calculating net benefit values.</p>
</td></tr>
<tr><td><code id="cv_decision_curve_+3A_folds">folds</code></td>
<td>
<p>Number of folds for k-fold cross-validation.</p>
</td></tr>
<tr><td><code id="cv_decision_curve_+3A_study.design">study.design</code></td>
<td>
<p>Either 'cohort' (default) or 'case-control' describing the study design used to obtain data. See details for more information.</p>
</td></tr>
<tr><td><code id="cv_decision_curve_+3A_population.prevalence">population.prevalence</code></td>
<td>
<p>Outcome prevalence rate in the population used to calculate decision curves when study.design = 'case-control'.</p>
</td></tr>
<tr><td><code id="cv_decision_curve_+3A_policy">policy</code></td>
<td>
<p>Either 'opt-in' (default) or 'opt-out', describing the type of policy for which to report the net benefit. A policy is 'opt-in' when the standard-of-care for a population is to assign a particular 'treatment' to no one. Clinicians then use a risk model to categorize patients as 'high-risk', with the recommendation to treat high-risk patients with some intervention. Alternatively, an 'opt-out' policy is applicable to contexts where the standard-of-care is to recommend a treatment to an entire patient population. The potential use of a risk model in this setting is to identify patients who are 'low-risk' and recommend that those patients 'opt-out' of treatment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with components
</p>

<ul>
<li><p> derived.data: derived.data: A data frame in long form showing the following for each predictor and each 'threshold', 'FPR':false positive rate, 'TPR': true positive rate, 'NB': net benefit, 'sNB': standardized net benefit, 'rho': outcome prevalence, 'prob.high.risk': percent of the population considered high risk. 'DP': detection probability = TPR*rho, 'model': name of prediction model or 'all' or 'none', and cost.benefit.ratio's.
</p>
</li>
<li><p> folds: number of folds used for cross-validation.
</p>
</li>
<li><p> call: matched function call.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+summary.decision_curve">summary.decision_curve</a></code>, <code><a href="#topic+decision_curve">decision_curve</a></code>,  <code><a href="#topic+Add_CostBenefit_Axis">Add_CostBenefit_Axis</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
full.model_cv &lt;- cv_decision_curve(Cancer~Age + Female + Smokes + Marker1 + Marker2,
                                  data = dcaData,
                                  folds = 5,
                                  thresholds = seq(0, .4, by = .01))

full.model_apparent &lt;- decision_curve(Cancer~Age + Female + Smokes + Marker1 + Marker2,
                                     data = dcaData,
                                     thresholds = seq(0, .4, by = .01),
                                     confidence.intervals = 'none')

plot_decision_curve( list(full.model_apparent, full.model_cv),
                    curve.names = c('Apparent curve', 'Cross-validated curve'),
                    col = c('red', 'blue'),
                    lty = c(2,1),
                    lwd = c(3,2, 2, 1),
                    legend.position = 'bottomright')

</code></pre>

<hr>
<h2 id='dcaData'>Simulated dataset for package 'DecisionCurve'</h2><span id='topic+dcaData'></span>

<h3>Description</h3>

<p>Simulated cohort data containing demographic variables,
marker values and cancer outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dcaData
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 6 variables:
</p>

<ul>
<li><p> Age: Age in years.
</p>
</li>
<li><p> Female: Indicator for female gender.
</p>
</li>
<li><p> Smokes: Indicator for smoking status.
</p>
</li>
<li><p> Marker1: simulated biomarker.
</p>
</li>
<li><p> Marker2: simulated biomarker.
</p>
</li>
<li><p> Cancer: Indicator for cancer.
</p>
</li></ul>

<hr>
<h2 id='dcaData_cc'>Simulated dataset for package 'DecisionCurve'</h2><span id='topic+dcaData_cc'></span>

<h3>Description</h3>

<p>Simulated data from a case-control study containing demographic variables,
marker values and cancer outcome. The prevalence of cancer
in the population that this data is sampled from is approximately 0.11.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dcaData_cc
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 6 variables:
</p>

<ul>
<li><p> Age: Age in years.
</p>
</li>
<li><p> Female: Indicator for female gender.
</p>
</li>
<li><p> Smokes: Indicator for smoking status.
</p>
</li>
<li><p> Marker1: simulated biomarker.
</p>
</li>
<li><p> Marker2: simulated biomarker.
</p>
</li>
<li><p> Cancer: Indicator for cancer.
</p>
</li></ul>

<hr>
<h2 id='decision_curve'>Calculate net benefit/decision curves</h2><span id='topic+decision_curve'></span>

<h3>Description</h3>

<p>This function calculates decision curves, which are estimates of the standardized net benefit by the probability threshold used to categorize observations as 'high risk.' Curves can be estimated using data from an observational cohort (default), or from case-control studies when an estimate of the population outcome prevalence is available. Confidence intervals calculated using the bootstrap are calculated as well. Once this function is called, use <code>plot_decision_curve</code> or <code>summary</code> to plot or view the curves, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decision_curve(formula, data, family = binomial(link = "logit"),
  policy = c("opt-in", "opt-out"), fitted.risk = FALSE,
  thresholds = seq(0, 1, by = 0.01), confidence.intervals = 0.95,
  bootstraps = 500, study.design = c("cohort", "case-control"),
  population.prevalence)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="decision_curve_+3A_formula">formula</code></td>
<td>
<p>an object of class 'formula' of the form outcome ~ predictors, giving the prediction model to be fitted using glm. The outcome must be a binary variable that equals '1' for cases and '0' for controls.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_data">data</code></td>
<td>
<p>data.frame containing outcome and predictors. Missing data on any of the predictors will cause the entire observation to be removed.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_family">family</code></td>
<td>
<p>a description of the error distribution and link function to pass to 'glm' used for model fitting. Defaults to binomial(link = 'logit') for logistic regression.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_policy">policy</code></td>
<td>
<p>Either 'opt-in' (default) or 'opt-out', describing the type of policy for which to report the net benefit. A policy is 'opt-in' when the standard-of-care for a population is to assign a particular 'treatment' to no one. Clinicians then use a risk model to categorize patients as 'high-risk', with the recommendation to treat high-risk patients with some intervention. Alternatively, an 'opt-out' policy is applicable to contexts where the standard-of-care is to recommend a treatment to an entire patient population. The potential use of a risk model in this setting is to identify patients who are 'low-risk' and recommend that those patients 'opt-out' of treatment.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_fitted.risk">fitted.risk</code></td>
<td>
<p>logical (default FALSE) indicating whether the predictor provided are estimated risks from an already established model. If set to TRUE, no model fitting will be done and all estimates will be conditional on the risks provided.  Risks must fall between 0 and 1.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_thresholds">thresholds</code></td>
<td>
<p>Numeric vector of high risk thresholds to use when plotting and calculating net benefit values.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_confidence.intervals">confidence.intervals</code></td>
<td>
<p>Numeric (default 0.95 for 95% confidence bands) level of bootstrap confidence intervals to plot. Set as NA or 'none' to remove confidence intervals. See details for more information.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_bootstraps">bootstraps</code></td>
<td>
<p>Number of bootstrap replicates to use to calculate confidence intervals (default 500).</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_study.design">study.design</code></td>
<td>
<p>Either 'cohort' (default) or 'case-control' describing the study design used to obtain data. See details for more information.</p>
</td></tr>
<tr><td><code id="decision_curve_+3A_population.prevalence">population.prevalence</code></td>
<td>
<p>Outcome prevalence rate in the population used to calculate decision curves when study.design = 'case-control'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Confidence intervals for (standardized) net benefit are calculated pointwise at each risk threshold. For when data come from an observational cohort, bootstrap sampling is done without stratifying on outcome, so disease prevalence varies within bootstrap samples. For case-control data, bootstrap sampling is done stratified on outcome.
</p>


<h3>Value</h3>

<p>List with components
</p>

<ul>
<li><p> derived.data: A data frame in long form showing the following for each predictor and each 'threshold', 'FPR':false positive rate, 'TPR': true positive rate, 'NB': net benefit, 'sNB': standardized net benefit, 'rho': outcome prevalence, 'prob.high.risk': percent of the population considered high risk. DP': detection probability = TPR*rho, 'model': name of prediction model or 'all' or 'none', cost.benefit.ratio, and 'xx_lower', 'xx_upper': the lower and upper confidence bands for all measures (if calculated).
</p>
</li>
<li><p> confidence.intervals: Level of confidence intervals returned.
</p>
</li>
<li><p> call: matched function call.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+summary.decision_curve">summary.decision_curve</a></code>, <code><a href="#topic+cv_decision_curve">cv_decision_curve</a></code>, <code><a href="#topic+Add_CostBenefit_Axis">Add_CostBenefit_Axis</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#helper function
expit &lt;- function(xx) exp(xx)/ (1+exp(xx))

#load simulated cohort data
data(dcaData)
baseline.model &lt;- decision_curve(Cancer~Age + Female + Smokes,
                                data = dcaData,
                                thresholds = seq(0, .4, by = .01),
                                study.design = 'cohort',
                                bootstraps = 10) #number of bootstraps should be higher

full.model &lt;- decision_curve(Cancer~Age + Female + Smokes + Marker1 + Marker2,
                            data = dcaData,
                            thresholds = seq(0, .4, by = .01),
                            bootstraps = 10)

#simulated case-control data with same variables as above
data(dcaData_cc)

table(dcaData_cc$Cancer)

#estimated from the population where the
#case-control sample comes from.
population.rho = 0.11

full.model_cc &lt;- decision_curve(Cancer~Age + Female + Smokes + Marker1 + Marker2,
                               data = dcaData,
                               thresholds = seq(0, .4, by = .01),
                               bootstraps = 10,
                               study.design = 'case-control',
                               population.prevalence = population.rho)

#estimate the net benefit for an 'opt-out' policy.
nb.opt.out  &lt;- decision_curve(Cancer~Age + Female + Smokes + Marker1 + Marker2,
                            data = dcaData,
                            policy = 'opt-out',
                            thresholds = seq(0, .4, by = .01),
                            bootstraps = 10)


</code></pre>

<hr>
<h2 id='plot_clinical_impact'>Plot the clinical impact curve from a DecisionCurve object.</h2><span id='topic+plot_clinical_impact'></span>

<h3>Description</h3>

<p>For a given population size, plot the number of subjects classified as high risk, and the number of subjects classified high risk with the outcome of interest at each high risk threshold.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_clinical_impact(x, population.size = 1000, cost.benefit.axis = TRUE,
  n.cost.benefits = 6, cost.benefits, confidence.intervals, col = "black",
  lty = 1, lwd = 2, xlim, ylim, xlab, ylab,
  cost.benefit.xlab = "Cost:Benefit Ratio", legend.position = c("topright",
  "right", "bottomright", "bottom", "bottomleft", "left", "topleft", "top",
  "none"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_clinical_impact_+3A_x">x</code></td>
<td>
<p>decision_curve object to plot. Assumes output from function 'decision_curve'</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_population.size">population.size</code></td>
<td>
<p>Hypothetical population size (default 1000).</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_cost.benefit.axis">cost.benefit.axis</code></td>
<td>
<p>logical (default TRUE) indicating whether to print an additional x-axis showing relative cost:benefit ratios in addition to risk thresholds.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_n.cost.benefits">n.cost.benefits</code></td>
<td>
<p>number of cost:benefit ratios to print if cost.benefit.axis = TRUE (default n.cost.benefit = 6).</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_cost.benefits">cost.benefits</code></td>
<td>
<p>Character vector of the form c(&quot;c1:b1&quot;, &quot;c2:b2&quot;, ..., &quot;cn:bn&quot;) with integers ci, bi corresponding to specific cost:benefit ratios to print. Default allows the function to calculate these automatically.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_confidence.intervals">confidence.intervals</code></td>
<td>
<p>logical indicating whether to plot confidence intervals.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_col">col</code></td>
<td>
<p>vector of length two indicating the color for the number high risk and the second to the number high risk with outcome, respectively.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_lty">lty</code></td>
<td>
<p>vector of linetypes. The first element corresponds to the number high risk and the second to the number high risk with outcome.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_lwd">lwd</code></td>
<td>
<p>vector of linewidths. The first element corresponds to the number high risk and the second to the number high risk with outcome.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_xlim">xlim</code></td>
<td>
<p>vector giving c(min, max) of x-axis. Defaults to c(min(thresholds), max(thresholds)).</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_ylim">ylim</code></td>
<td>
<p>vector giving c(min, max) of y-axis.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_xlab">xlab</code></td>
<td>
<p>label of main x-axis.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_ylab">ylab</code></td>
<td>
<p>label of y-axis.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_cost.benefit.xlab">cost.benefit.xlab</code></td>
<td>
<p>label of cost:benefit ratio axis.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_legend.position">legend.position</code></td>
<td>
<p>character vector giving position of legend. Options are &quot;topright&quot; (default), &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot;, &quot;topleft&quot;, &quot;top&quot;, or &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="plot_clinical_impact_+3A_...">...</code></td>
<td>
<p>other options directly send to plot()</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>#'data(dcaData)
set.seed(123)
baseline.model &lt;- decision_curve(Cancer~Age + Female + Smokes,
                                data = dcaData,
                                thresholds = seq(0, .4, by = .001),
                                bootstraps = 25) #should use more bootstrap replicates in practice!

#plot the clinical impact
plot_clinical_impact(baseline.model, xlim = c(0, .4),
                    col = c("black", "blue"))

</code></pre>

<hr>
<h2 id='plot_decision_curve'>Plot the net benefit curves from a decision_curve object or many decision_curve objects</h2><span id='topic+plot_decision_curve'></span>

<h3>Description</h3>

<p>Plot the net benefit curves from a decision_curve object or many decision_curve objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_decision_curve(x, curve.names, cost.benefit.axis = TRUE,
  n.cost.benefits = 6, cost.benefits, standardize = TRUE,
  confidence.intervals, col, lty, lwd = 2, xlim, ylim, xlab, ylab,
  cost.benefit.xlab, legend.position = c("topright", "right", "bottomright",
  "bottom", "bottomleft", "left", "topleft", "top", "none"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_decision_curve_+3A_x">x</code></td>
<td>
<p>'decision_curve' object to plot or a list of 'decision_curve' objects. Assumes output from function 'decision_curve'</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_curve.names">curve.names</code></td>
<td>
<p>vector of names to use when plotting legends.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_cost.benefit.axis">cost.benefit.axis</code></td>
<td>
<p>logical (default TRUE) indicating whether to print an additional x-axis showing relative cost:benefit ratios in addition to risk thresholds.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_n.cost.benefits">n.cost.benefits</code></td>
<td>
<p>number of cost:benefit ratios to print if cost.benefit.axis = TRUE (default n.cost.benefit = 6).</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_cost.benefits">cost.benefits</code></td>
<td>
<p>Character vector of the form c(&quot;c1:b1&quot;, &quot;c2:b2&quot;, ..., &quot;cn:bn&quot;) with integers ci, bi corresponding to specific cost:benefit ratios to print. Default allows the function to calculate these automatically.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_standardize">standardize</code></td>
<td>
<p>logical (default TRUE) indicating whether to use the standardized net benefit (NB/disease prevalence) or not.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_confidence.intervals">confidence.intervals</code></td>
<td>
<p>logical indicating whether to plot confidence intervals.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_col">col</code></td>
<td>
<p>vector of color names to be used in plotting corresponding to the 'predictors' given. Default colors will be chosen from rainbow(..., v = .8). See details for more information on plot parameters.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_lty">lty</code></td>
<td>
<p>vector of linetypes.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_lwd">lwd</code></td>
<td>
<p>vector of linewidths.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_xlim">xlim</code></td>
<td>
<p>vector giving c(min, max) of x-axis. Defaults to c(min(thresholds), max(thresholds)).</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_ylim">ylim</code></td>
<td>
<p>vector giving c(min, max) of y-axis.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_xlab">xlab</code></td>
<td>
<p>label of main x-axis.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_ylab">ylab</code></td>
<td>
<p>label of y-axis.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_cost.benefit.xlab">cost.benefit.xlab</code></td>
<td>
<p>label of cost:benefit ratio axis.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_legend.position">legend.position</code></td>
<td>
<p>character vector giving position of legend. Options are &quot;topright&quot; (default), &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot;, &quot;topleft&quot;, &quot;top&quot;, or &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="plot_decision_curve_+3A_...">...</code></td>
<td>
<p>other options directly send to plot()</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When k decision_curve objects are input, the first k elements of col, lty, lwd ... correspond to the curves provided. The next two elements (..., k+1, k+2) correspond to the attributes of the 'all' and 'none' curves. See below for an example.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dcaData)
set.seed(123)
baseline.model &lt;- decision_curve(Cancer~Age + Female + Smokes,
                                data = dcaData,
                                thresholds = seq(0, .4, by = .005),
                                bootstraps = 10)

#plot using the defaults
plot_decision_curve(baseline.model,  curve.names = "baseline model")

set.seed(123)
full.model &lt;- decision_curve(Cancer~Age + Female + Smokes + Marker1 + Marker2,
                            data = dcaData,
                            thresholds = seq(0, .4, by = .005),
                            bootstraps = 10)

# for lwd, the first two positions correspond to the decision curves, then 'all' and 'none'
plot_decision_curve( list(baseline.model, full.model),
                    curve.names = c("Baseline model", "Full model"),
                    col = c("blue", "red"),
                    lty = c(1,2),
                    lwd = c(3,2, 2, 1),
                    legend.position = "bottomright")


plot_decision_curve( list(baseline.model, full.model),
                    curve.names = c("Baseline model", "Full model"),
                    col = c("blue", "red"),
                    confidence.intervals = FALSE,  #remove confidence intervals
                    cost.benefit.axis = FALSE, #remove cost benefit axis
                    legend.position = "none") #remove the legend

#Set specific cost:benefit ratios.

plot_decision_curve( list(baseline.model, full.model),
                    curve.names = c("Baseline model", "Full model"),
                    col = c("blue", "red"),
                    cost.benefits = c("1:1000", "1:4", "1:9", "2:3", "1:3"),
                    legend.position = "bottomright")

#Plot net benefit instead of standardize net benefit.

plot_decision_curve( list(baseline.model, full.model),
                    curve.names = c("Baseline model", "Full model"),
                    col = c("blue", "red"),
                    ylim = c(-0.05, 0.15), #set ylim
                    lty = c(2,1),
                    standardize = FALSE, #plot Net benefit instead of standardized net benefit
                   legend.position = "topright")


</code></pre>

<hr>
<h2 id='plot_roc_components'>Plot the components of a ROC curve by the high risk thresholds.</h2><span id='topic+plot_roc_components'></span>

<h3>Description</h3>

<p>Plot the components of the ROC curve &ndash;the true positive rates and false positive rates&ndash; by high risk thresholds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_roc_components(x, cost.benefit.axis = TRUE, n.cost.benefits = 6,
  cost.benefits, confidence.intervals, col = "black", lty.fpr = 2,
  lty.tpr = 1, lwd = 2, xlim, ylim, xlab = "Risk Threshold", ylab,
  cost.benefit.xlab = "Cost:Benefit Ratio", legend.position = c("topright",
  "right", "bottomright", "bottom", "bottomleft", "left", "topleft", "top",
  "none"), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_roc_components_+3A_x">x</code></td>
<td>
<p>decision_curve object to plot. Assumes output from function 'decision_curve'</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_cost.benefit.axis">cost.benefit.axis</code></td>
<td>
<p>logical (default TRUE) indicating whether to print an additional x-axis showing relative cost:benefit ratios in addition to risk thresholds.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_n.cost.benefits">n.cost.benefits</code></td>
<td>
<p>number of cost:benefit ratios to print if cost.benefit.axis = TRUE (default n.cost.benefit = 6).</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_cost.benefits">cost.benefits</code></td>
<td>
<p>Character vector of the form c(&quot;c1:b1&quot;, &quot;c2:b2&quot;, ..., &quot;cn:bn&quot;) with integers ci, bi corresponding to specific cost:benefit ratios to print. Default allows the function to calculate these automatically.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_confidence.intervals">confidence.intervals</code></td>
<td>
<p>logical indicating whether to plot confidence intervals.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_col">col</code></td>
<td>
<p>vector of length two indicating the color for the true positive rates and false positive rates, respectively.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_lty.fpr">lty.fpr</code></td>
<td>
<p>linetype for the false positive rate curve.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_lty.tpr">lty.tpr</code></td>
<td>
<p>linetype for the true positive rate curve.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_lwd">lwd</code></td>
<td>
<p>vector of linewidths. The first element corresponds to the tpr and the second to the fpr.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_xlim">xlim</code></td>
<td>
<p>vector giving c(min, max) of x-axis. Defaults to c(min(thresholds), max(thresholds)).</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_ylim">ylim</code></td>
<td>
<p>vector giving c(min, max) of y-axis.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_xlab">xlab</code></td>
<td>
<p>label of main x-axis.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_ylab">ylab</code></td>
<td>
<p>label of y-axis.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_cost.benefit.xlab">cost.benefit.xlab</code></td>
<td>
<p>label of cost:benefit ratio axis.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_legend.position">legend.position</code></td>
<td>
<p>character vector giving position of legend. Options are &quot;topright&quot; (default), &quot;right&quot;, &quot;bottomright&quot;, &quot;bottom&quot;, &quot;bottomleft&quot;, &quot;left&quot;, &quot;topleft&quot;, &quot;top&quot;, or &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="plot_roc_components_+3A_...">...</code></td>
<td>
<p>other options directly send to plot()</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data(dcaData)
set.seed(123)
baseline.model &lt;- decision_curve(Cancer~Age + Female + Smokes,
                                data = dcaData,
                                thresholds = seq(0, .4, by = .001),
                                bootstraps = 25) #should use more bootstrap replicates in practice!

#plot using the defaults
plot_roc_components(baseline.model,  xlim = c(0, 0.4), col = c("black", "red"))


</code></pre>

<hr>
<h2 id='summary.decision_curve'>Displays a useful description of a decision_curve object</h2><span id='topic+summary.decision_curve'></span>

<h3>Description</h3>

<p>Displays a useful description of a decision_curve object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'decision_curve'
summary(object, ..., measure = c("sNB", "NB", "TPR",
  "FPR", "TNR", "FNR"), nround = 3)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.decision_curve_+3A_object">object</code></td>
<td>
<p>decision_curve object to summarise</p>
</td></tr>
<tr><td><code id="summary.decision_curve_+3A_...">...</code></td>
<td>
<p>other arguments ignored (for compatibility with generic)</p>
</td></tr>
<tr><td><code id="summary.decision_curve_+3A_measure">measure</code></td>
<td>
<p>name of summary measure to print out. For standardized net benefit: &quot;sNB&quot; (default), net benefit: &quot;NB&quot;, true positive rate: &quot;TPR&quot;, false positive rate: &quot;FPR&quot;.</p>
</td></tr>
<tr><td><code id="summary.decision_curve_+3A_nround">nround</code></td>
<td>
<p>number of decimal places to round (default 3).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>#helper function

#load simulated data
data(dcaData)

full.model &lt;- decision_curve(Cancer~Age + Female + Smokes + Marker1 + Marker2,
data = dcaData,
thresholds = seq(0, .4, by = .05),
bootstraps = 25)

summary(full.model) #outputs standardized net benefit by default

summary(full.model, nround = 2, measure = "TPR")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

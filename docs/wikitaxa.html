<!DOCTYPE html><html lang="en-US"><head><title>Help for package wikitaxa</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wikitaxa}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#wikitaxa-package'><p>wikitaxa</p></a></li>
<li><a href='#wikipedias'><p>List of Wikipedias</p></a></li>
<li><a href='#wt_data'><p>Wikidata taxonomy data</p></a></li>
<li><a href='#wt_wiki_page'><p>Get MediaWiki Page from API</p></a></li>
<li><a href='#wt_wiki_page_parse'><p>Parse MediaWiki Page</p></a></li>
<li><a href='#wt_wiki_url_build'><p>Build MediaWiki Page URL</p></a></li>
<li><a href='#wt_wiki_url_parse'><p>Parse MediaWiki Page URL</p></a></li>
<li><a href='#wt_wikicommons'><p>WikiCommons</p></a></li>
<li><a href='#wt_wikipedia'><p>Wikipedia</p></a></li>
<li><a href='#wt_wikispecies'><p>WikiSpecies</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Taxonomic Information from 'Wikipedia'</td>
</tr>
<tr>
<td>Description:</td>
<td>'Taxonomic' information from 'Wikipedia', 'Wikicommons',
    'Wikispecies', and 'Wikidata'. Functions included for getting
    taxonomic information from each of the sources just listed, as
    well performing taxonomic search.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/wikitaxa">https://docs.ropensci.org/wikitaxa</a>,
<a href="https://github.com/ropensci/wikitaxa">https://github.com/ropensci/wikitaxa</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/wikitaxa/issues">https://github.com/ropensci/wikitaxa/issues</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.2.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>WikidataR, data.table, curl, crul (&ge; 0.3.4), tibble,
jsonlite, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, vcr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>Taxonomy</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>taxonomy, species, API, web-services, Wikipedia,
vernacular, Wikispecies, Wikicommons</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>https://ropensci.org</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-29 14:49:03 UTC; sckott</td>
</tr>
<tr>
<td>Author:</td>
<td>Scott Chamberlain [aut, cre],
  Ethan Welty [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Scott Chamberlain &lt;myrmecocystus+r@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-29 15:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='wikitaxa-package'>wikitaxa</h2><span id='topic+wikitaxa-package'></span><span id='topic+wikitaxa'></span>

<h3>Description</h3>

<p>Taxonomic Information from Wikipedia
</p>


<h3>Author(s)</h3>

<p>Scott Chamberlain <a href="mailto:myrmecocystus@gmail.com">myrmecocystus@gmail.com</a>
</p>
<p>Ethan Welty
</p>

<hr>
<h2 id='wikipedias'>List of Wikipedias</h2><span id='topic+wikipedias'></span>

<h3>Description</h3>

<p>data.frame of 295 rows, with 3 columns:
</p>

<ul>
<li><p> language - language
</p>
</li>
<li><p> language_local - language in local name
</p>
</li>
<li><p> wiki - langugae code for the wiki
</p>
</li></ul>



<h3>Details</h3>

<p>From <a href="https://meta.wikimedia.org/wiki/List_of_Wikipedias">https://meta.wikimedia.org/wiki/List_of_Wikipedias</a>
</p>

<hr>
<h2 id='wt_data'>Wikidata taxonomy data</h2><span id='topic+wt_data'></span><span id='topic+wt_data_id'></span>

<h3>Description</h3>

<p>Wikidata taxonomy data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_data(x, property = NULL, ...)

wt_data_id(x, language = "en", limit = 10, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_data_+3A_x">x</code></td>
<td>
<p>(character) a taxonomic name</p>
</td></tr>
<tr><td><code id="wt_data_+3A_property">property</code></td>
<td>
<p>(character) a property id, e.g., P486</p>
</td></tr>
<tr><td><code id="wt_data_+3A_...">...</code></td>
<td>
<p>curl options passed on to <code>httr::GET()</code></p>
</td></tr>
<tr><td><code id="wt_data_+3A_language">language</code></td>
<td>
<p>(character) two letter language code</p>
</td></tr>
<tr><td><code id="wt_data_+3A_limit">limit</code></td>
<td>
<p>(integer) records to return. Default: 10</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that <code>wt_data</code> can take a while to run since when fetching
claims it has to do so one at a time for each claim
</p>
<p>You can search things other than taxonomic names with <code>wt_data</code> if you
like
</p>


<h3>Value</h3>

<p><code>wt_data</code> searches Wikidata, and returns a list with elements:
</p>

<ul>
<li><p> labels - data.frame with columns: language, value
</p>
</li>
<li><p> descriptions - data.frame with columns: language, value
</p>
</li>
<li><p> aliases - data.frame with columns: language, value
</p>
</li>
<li><p> sitelinks - data.frame with columns: site, title
</p>
</li>
<li><p> claims - data.frame with columns: claims, property_value,
property_description, value (comma separted values in string)
</p>
</li></ul>

<p><code>wt_data_id</code> gets the Wikidata ID for the searched term, and
returns the ID as character
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# search by taxon name
# wt_data("Mimulus alsinoides")

# choose which properties to return
wt_data(x="Mimulus foliatus", property = c("P846", "P815"))

# get a taxonomic identifier
wt_data_id("Mimulus foliatus")
# the id can be passed directly to wt_data()
# wt_data(wt_data_id("Mimulus foliatus"))

## End(Not run)
</code></pre>

<hr>
<h2 id='wt_wiki_page'>Get MediaWiki Page from API</h2><span id='topic+wt_wiki_page'></span>

<h3>Description</h3>

<p>Supports both static page urls and their equivalent API calls.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_wiki_page(url, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_wiki_page_+3A_url">url</code></td>
<td>
<p>(character) MediaWiki page url.</p>
</td></tr>
<tr><td><code id="wt_wiki_page_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="#topic+wt_wiki_url_build">wt_wiki_url_build()</a></code> if <code>url</code>
is a static page url.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the URL given is for a human readable html page,
we convert it to equivalent API call - if URL is already an API call,
we just use that.
</p>


<h3>Value</h3>

<p>an <code>HttpResponse</code> response object from <span class="pkg">crul</span>
</p>


<h3>See Also</h3>

<p>Other MediaWiki functions: 
<code><a href="#topic+wt_wiki_page_parse">wt_wiki_page_parse</a>()</code>,
<code><a href="#topic+wt_wiki_url_build">wt_wiki_url_build</a>()</code>,
<code><a href="#topic+wt_wiki_url_parse">wt_wiki_url_parse</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
wt_wiki_page("https://en.wikipedia.org/wiki/Malus_domestica")

## End(Not run)
</code></pre>

<hr>
<h2 id='wt_wiki_page_parse'>Parse MediaWiki Page</h2><span id='topic+wt_wiki_page_parse'></span>

<h3>Description</h3>

<p>Parses common properties from the result of a MediaWiki API page call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_wiki_page_parse(
  page,
  types = c("langlinks", "iwlinks", "externallinks"),
  tidy = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_wiki_page_parse_+3A_page">page</code></td>
<td>
<p>(<a href="crul.html#topic+HttpResponse">crul::HttpResponse</a>) Result of <code><a href="#topic+wt_wiki_page">wt_wiki_page()</a></code></p>
</td></tr>
<tr><td><code id="wt_wiki_page_parse_+3A_types">types</code></td>
<td>
<p>(character) List of properties to parse.</p>
</td></tr>
<tr><td><code id="wt_wiki_page_parse_+3A_tidy">tidy</code></td>
<td>
<p>(logical). tidy output to data.frames when possible.
Default: <code>FALSE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available properties currently not parsed:
title, displaytitle, pageid, revid, redirects, text, categories,
links, templates, images, sections, properties, ...
</p>


<h3>Value</h3>

<p>a list
</p>


<h3>See Also</h3>

<p>Other MediaWiki functions: 
<code><a href="#topic+wt_wiki_page">wt_wiki_page</a>()</code>,
<code><a href="#topic+wt_wiki_url_build">wt_wiki_url_build</a>()</code>,
<code><a href="#topic+wt_wiki_url_parse">wt_wiki_url_parse</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pg &lt;- wt_wiki_page("https://en.wikipedia.org/wiki/Malus_domestica")
wt_wiki_page_parse(pg)

## End(Not run)
</code></pre>

<hr>
<h2 id='wt_wiki_url_build'>Build MediaWiki Page URL</h2><span id='topic+wt_wiki_url_build'></span>

<h3>Description</h3>

<p>Builds a MediaWiki page url from its component parts (wiki name, wiki type,
and page title). Supports both static page urls and their equivalent API
calls.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_wiki_url_build(
  wiki,
  type = NULL,
  page = NULL,
  api = FALSE,
  action = "parse",
  redirects = TRUE,
  format = "json",
  utf8 = TRUE,
  prop = c("text", "langlinks", "categories", "links", "templates", "images",
    "externallinks", "sections", "revid", "displaytitle", "iwlinks", "properties")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_wiki_url_build_+3A_wiki">wiki</code></td>
<td>
<p>(character | list) Either the wiki name or a list with
<code style="white-space: pre;">&#8288;$wiki&#8288;</code>, <code style="white-space: pre;">&#8288;$type&#8288;</code>, and <code style="white-space: pre;">&#8288;$page&#8288;</code> (the output of <code><a href="#topic+wt_wiki_url_parse">wt_wiki_url_parse()</a></code>).</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_type">type</code></td>
<td>
<p>(character) Wiki type.</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_page">page</code></td>
<td>
<p>(character) Wiki page title.</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_api">api</code></td>
<td>
<p>(boolean) Whether to return an API call or a static page url
(default). If <code>FALSE</code>, all following (API-only) arguments are ignored.</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_action">action</code></td>
<td>
<p>(character) See <a href="https://en.wikipedia.org/w/api.php">https://en.wikipedia.org/w/api.php</a>
for supported actions. This function currently only supports &quot;parse&quot;.</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_redirects">redirects</code></td>
<td>
<p>(boolean) If the requested page is set to a redirect,
resolve it.</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_format">format</code></td>
<td>
<p>(character) See <a href="https://en.wikipedia.org/w/api.php">https://en.wikipedia.org/w/api.php</a>
for supported output formats.</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_utf8">utf8</code></td>
<td>
<p>(boolean) If <code>TRUE</code>, encodes most (but not all) non-ASCII
characters as UTF-8 instead of replacing them with hexadecimal escape
sequences.</p>
</td></tr>
<tr><td><code id="wt_wiki_url_build_+3A_prop">prop</code></td>
<td>
<p>(character) Properties to retrieve, either as a character vector
or pipe-delimited string. See
<a href="https://en.wikipedia.org/w/api.php?action=help&amp;modules=parse">https://en.wikipedia.org/w/api.php?action=help&amp;modules=parse</a> for
supported properties.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a URL (character)
</p>


<h3>See Also</h3>

<p>Other MediaWiki functions: 
<code><a href="#topic+wt_wiki_page_parse">wt_wiki_page_parse</a>()</code>,
<code><a href="#topic+wt_wiki_page">wt_wiki_page</a>()</code>,
<code><a href="#topic+wt_wiki_url_parse">wt_wiki_url_parse</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>wt_wiki_url_build(wiki = "en", type = "wikipedia", page = "Malus domestica")
wt_wiki_url_build(
  wt_wiki_url_parse("https://en.wikipedia.org/wiki/Malus_domestica"))
wt_wiki_url_build("en", "wikipedia", "Malus domestica", api = TRUE)
</code></pre>

<hr>
<h2 id='wt_wiki_url_parse'>Parse MediaWiki Page URL</h2><span id='topic+wt_wiki_url_parse'></span>

<h3>Description</h3>

<p>Parse a MediaWiki page url into its component parts (wiki name, wiki type,
and page title). Supports both static page urls and their equivalent API
calls.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_wiki_url_parse(url)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_wiki_url_parse_+3A_url">url</code></td>
<td>
<p>(character) MediaWiki page url.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with elements:
</p>

<ul>
<li><p> wiki - wiki language
</p>
</li>
<li><p> type - wikipedia type
</p>
</li>
<li><p> page - page name
</p>
</li></ul>



<h3>See Also</h3>

<p>Other MediaWiki functions: 
<code><a href="#topic+wt_wiki_page_parse">wt_wiki_page_parse</a>()</code>,
<code><a href="#topic+wt_wiki_page">wt_wiki_page</a>()</code>,
<code><a href="#topic+wt_wiki_url_build">wt_wiki_url_build</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>wt_wiki_url_parse(url="https://en.wikipedia.org/wiki/Malus_domestica")
wt_wiki_url_parse("https://en.wikipedia.org/w/api.php?page=Malus_domestica")
</code></pre>

<hr>
<h2 id='wt_wikicommons'>WikiCommons</h2><span id='topic+wt_wikicommons'></span><span id='topic+wt_wikicommons_parse'></span><span id='topic+wt_wikicommons_search'></span>

<h3>Description</h3>

<p>WikiCommons
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_wikicommons(name, utf8 = TRUE, ...)

wt_wikicommons_parse(
  page,
  types = c("langlinks", "iwlinks", "externallinks", "common_names", "classification"),
  tidy = FALSE
)

wt_wikicommons_search(query, limit = 10, offset = 0, utf8 = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_wikicommons_+3A_name">name</code></td>
<td>
<p>(character) Wiki name - as a page title, must be length 1</p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_utf8">utf8</code></td>
<td>
<p>(logical) If <code>TRUE</code>, encodes most (but not all) non-ASCII
characters as UTF-8 instead of replacing them with hexadecimal escape
sequences. Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_...">...</code></td>
<td>
<p>curl options, passed on to <code><a href="httr.html#topic+GET">httr::GET()</a></code></p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_page">page</code></td>
<td>
<p>(<code><a href="httr.html#topic+response">httr::response()</a></code>) Result of <code><a href="#topic+wt_wiki_page">wt_wiki_page()</a></code></p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_types">types</code></td>
<td>
<p>(character) List of properties to parse</p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_tidy">tidy</code></td>
<td>
<p>(logical). tidy output to data.frame's if possible.
Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_query">query</code></td>
<td>
<p>(character) query terms</p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_limit">limit</code></td>
<td>
<p>(integer) number of results to return. Default: 10</p>
</td></tr>
<tr><td><code id="wt_wikicommons_+3A_offset">offset</code></td>
<td>
<p>(integer) record to start at. Default: 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wt_wikicommons</code> returns a list, with slots:
</p>

<ul>
<li><p> langlinks - language page links
</p>
</li>
<li><p> externallinks - external links
</p>
</li>
<li><p> common_names - a data.frame with <code>name</code> and <code>language</code> columns
</p>
</li>
<li><p> classification - a data.frame with <code>rank</code> and <code>name</code> columns
</p>
</li></ul>

<p><code>wt_wikicommons_parse</code> returns a list
</p>
<p><code>wt_wikicommons_search</code> returns a list with slots for <code>continue</code> and
<code>query</code>, where <code>query</code> holds the results, with <code>query$search</code> slot with
the search results
</p>


<h3>References</h3>

<p><a href="https://www.mediawiki.org/wiki/API:Search">https://www.mediawiki.org/wiki/API:Search</a> for help on search
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# high level
wt_wikicommons(name = "Malus domestica")
wt_wikicommons(name = "Pinus contorta")
wt_wikicommons(name = "Ursus americanus")
wt_wikicommons(name = "Balaenoptera musculus")

wt_wikicommons(name = "Category:Poeae")
wt_wikicommons(name = "Category:Pinaceae")

# low level
pg &lt;- wt_wiki_page("https://commons.wikimedia.org/wiki/Malus_domestica")
wt_wikicommons_parse(pg)

# search wikicommons
# FIXME: utf=FALSE for now until curl::curl_escape fix 
# https://github.com/jeroen/curl/issues/228
wt_wikicommons_search(query = "Pinus", utf8 = FALSE)

## use search results to dig into pages
res &lt;- wt_wikicommons_search(query = "Pinus", utf8 = FALSE)
lapply(res$query$search$title[1:3], wt_wikicommons)

## End(Not run)
</code></pre>

<hr>
<h2 id='wt_wikipedia'>Wikipedia</h2><span id='topic+wt_wikipedia'></span><span id='topic+wt_wikipedia_parse'></span><span id='topic+wt_wikipedia_search'></span>

<h3>Description</h3>

<p>Wikipedia
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_wikipedia(name, wiki = "en", utf8 = TRUE, ...)

wt_wikipedia_parse(
  page,
  types = c("langlinks", "iwlinks", "externallinks", "common_names", "classification"),
  tidy = FALSE
)

wt_wikipedia_search(
  query,
  wiki = "en",
  limit = 10,
  offset = 0,
  utf8 = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_wikipedia_+3A_name">name</code></td>
<td>
<p>(character) Wiki name - as a page title, must be length 1</p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_wiki">wiki</code></td>
<td>
<p>(character) wiki language. default: en. See <a href="#topic+wikipedias">wikipedias</a> for
language codes.</p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_utf8">utf8</code></td>
<td>
<p>(logical) If <code>TRUE</code>, encodes most (but not all) non-ASCII
characters as UTF-8 instead of replacing them with hexadecimal escape
sequences. Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_...">...</code></td>
<td>
<p>curl options, passed on to <code><a href="httr.html#topic+GET">httr::GET()</a></code></p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_page">page</code></td>
<td>
<p>(<code><a href="httr.html#topic+response">httr::response()</a></code>) Result of <code><a href="#topic+wt_wiki_page">wt_wiki_page()</a></code></p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_types">types</code></td>
<td>
<p>(character) List of properties to parse</p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_tidy">tidy</code></td>
<td>
<p>(logical). tidy output to data.frame's if possible.
Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_query">query</code></td>
<td>
<p>(character) query terms</p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_limit">limit</code></td>
<td>
<p>(integer) number of results to return. Default: 10</p>
</td></tr>
<tr><td><code id="wt_wikipedia_+3A_offset">offset</code></td>
<td>
<p>(integer) record to start at. Default: 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wt_wikipedia</code> returns a list, with slots:
</p>

<ul>
<li><p> langlinks - language page links
</p>
</li>
<li><p> externallinks - external links
</p>
</li>
<li><p> common_names - a data.frame with <code>name</code> and <code>language</code> columns
</p>
</li>
<li><p> classification - a data.frame with <code>rank</code> and <code>name</code> columns
</p>
</li>
<li><p> synonyms - a character vector with taxonomic names
</p>
</li></ul>

<p><code>wt_wikipedia_parse</code> returns a list with same slots determined by
the <code>types</code> parmeter
</p>
<p><code>wt_wikipedia_search</code> returns a list with slots for <code>continue</code> and
<code>query</code>, where <code>query</code> holds the results, with <code>query$search</code> slot with
the search results
</p>


<h3>References</h3>

<p><a href="https://www.mediawiki.org/wiki/API:Search">https://www.mediawiki.org/wiki/API:Search</a> for help on search
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# high level
wt_wikipedia(name = "Malus domestica")
wt_wikipedia(name = "Malus domestica", wiki = "fr")
wt_wikipedia(name = "Malus domestica", wiki = "da")

# low level
pg &lt;- wt_wiki_page("https://en.wikipedia.org/wiki/Malus_domestica")
wt_wikipedia_parse(pg)
wt_wikipedia_parse(pg, tidy = TRUE)

# search wikipedia
# FIXME: utf=FALSE for now until curl::curl_escape fix 
# https://github.com/jeroen/curl/issues/228
wt_wikipedia_search(query = "Pinus", utf8=FALSE)
wt_wikipedia_search(query = "Pinus", wiki = "fr", utf8=FALSE)
wt_wikipedia_search(query = "Pinus", wiki = "br", utf8=FALSE)

## curl options
# wt_wikipedia_search(query = "Pinus", verbose = TRUE, utf8=FALSE)

## use search results to dig into pages
res &lt;- wt_wikipedia_search(query = "Pinus", utf8=FALSE)
lapply(res$query$search$title[1:3], wt_wikipedia)

## End(Not run)
</code></pre>

<hr>
<h2 id='wt_wikispecies'>WikiSpecies</h2><span id='topic+wt_wikispecies'></span><span id='topic+wt_wikispecies_parse'></span><span id='topic+wt_wikispecies_search'></span>

<h3>Description</h3>

<p>WikiSpecies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wt_wikispecies(name, utf8 = TRUE, ...)

wt_wikispecies_parse(
  page,
  types = c("langlinks", "iwlinks", "externallinks", "common_names", "classification"),
  tidy = FALSE
)

wt_wikispecies_search(query, limit = 10, offset = 0, utf8 = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wt_wikispecies_+3A_name">name</code></td>
<td>
<p>(character) Wiki name - as a page title, must be length 1</p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_utf8">utf8</code></td>
<td>
<p>(logical) If <code>TRUE</code>, encodes most (but not all) non-ASCII
characters as UTF-8 instead of replacing them with hexadecimal escape
sequences. Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_...">...</code></td>
<td>
<p>curl options, passed on to <code><a href="httr.html#topic+GET">httr::GET()</a></code></p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_page">page</code></td>
<td>
<p>(<code><a href="httr.html#topic+response">httr::response()</a></code>) Result of <code><a href="#topic+wt_wiki_page">wt_wiki_page()</a></code></p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_types">types</code></td>
<td>
<p>(character) List of properties to parse</p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_tidy">tidy</code></td>
<td>
<p>(logical). tidy output to data.frame's if possible.
Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_query">query</code></td>
<td>
<p>(character) query terms</p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_limit">limit</code></td>
<td>
<p>(integer) number of results to return. Default: 10</p>
</td></tr>
<tr><td><code id="wt_wikispecies_+3A_offset">offset</code></td>
<td>
<p>(integer) record to start at. Default: 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>wt_wikispecies</code> returns a list, with slots:
</p>

<ul>
<li><p> langlinks - language page links
</p>
</li>
<li><p> externallinks - external links
</p>
</li>
<li><p> common_names - a data.frame with <code>name</code> and <code>language</code> columns
</p>
</li>
<li><p> classification - a data.frame with <code>rank</code> and <code>name</code> columns
</p>
</li></ul>

<p><code>wt_wikispecies_parse</code> returns a list
</p>
<p><code>wt_wikispecies_search</code> returns a list with slots for <code>continue</code> and
<code>query</code>, where <code>query</code> holds the results, with <code>query$search</code> slot with
the search results
</p>


<h3>References</h3>

<p><a href="https://www.mediawiki.org/wiki/API:Search">https://www.mediawiki.org/wiki/API:Search</a> for help on search
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# high level
wt_wikispecies(name = "Malus domestica")
wt_wikispecies(name = "Pinus contorta")
wt_wikispecies(name = "Ursus americanus")
wt_wikispecies(name = "Balaenoptera musculus")

# low level
pg &lt;- wt_wiki_page("https://species.wikimedia.org/wiki/Abelmoschus")
wt_wikispecies_parse(pg)

# search wikispecies
# FIXME: utf=FALSE for now until curl::curl_escape fix 
# https://github.com/jeroen/curl/issues/228
wt_wikispecies_search(query = "pine tree", utf8=FALSE)

## use search results to dig into pages
res &lt;- wt_wikispecies_search(query = "pine tree", utf8=FALSE)
lapply(res$query$search$title[1:3], wt_wikispecies)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

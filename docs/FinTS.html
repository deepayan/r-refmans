<!DOCTYPE html><html><head><title>Help for package FinTS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {FinTS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#FinTS-package'>


<p>Companion to Tsay (2005) Analysis of Financial</p>
Time Series</a></li>
<li><a href='#Acf'>
<p>Autocorrelation Function</p></a></li>
<li><a href='#apca'>
<p>Asymptotic PCA</p></a></li>
<li><a href='#ArchTest'>
<p>ARCH LM Test</p></a></li>
<li><a href='#ARIMA'><p> Arima with Ljung-Box</p></a></li>
<li><a href='#as.yearmon2'>
<p>Conditionally convert x to yearmon if the conversion is unique,</p>
retaining x as names.</a></li>
<li><a href='#AutocorTest'><p> Box-Ljung autocorrelation test</p></a></li>
<li><a href='#ch01data'><p> Financial time series for Tsay (2005, ch. 1)</p></a></li>
<li><a href='#ch02data'><p> Financial time series for Tsay (2005, ch. 2)</p></a></li>
<li><a href='#ch03data'><p> Financial time series for Tsay (2005, ch. 3)</p></a></li>
<li><a href='#ch04data'><p> Financial time series for Tsay (2005, ch. 4)</p></a></li>
<li><a href='#ch05data'><p> Financial time series for Tsay (2005, ch. 5)</p></a></li>
<li><a href='#ch06data'><p> Financial time series for Tsay (2005, ch. 6)</p></a></li>
<li><a href='#ch07data'><p> Financial time series for Tsay (2005, ch. 7)</p></a></li>
<li><a href='#ch08data'><p> Financial time series for Tsay (2005, ch. 8)</p></a></li>
<li><a href='#ch09data'><p> Financial time series for Tsay (2005, ch. 9)</p></a></li>
<li><a href='#ch10data'><p> Financial time series for Tsay (2005, ch. 10)</p></a></li>
<li><a href='#ch11data'><p> Financial time series for Tsay (2005, ch. 11)</p></a></li>
<li><a href='#ch12data'><p> Financial time series for Tsay (2005, ch. 12)</p></a></li>
<li><a href='#compoundInterest'><p>Compute compound interest</p></a></li>
<li><a href='#findConjugates'><p> Find complex conjugate pairs</p></a></li>
<li><a href='#FinTS.stats'><p> Financial Time Series summary statistics</p></a></li>
<li><a href='#package.dir'><p> Directory of a package</p></a></li>
<li><a href='#plot.loadings'><p> Plot loadings</p></a></li>
<li><a href='#plotArmaTrueacf'><p> Plot the theoretical ACF corresponding to an ARMA model</p></a></li>
<li><a href='#read.yearmon'><p>Reading Monthly zoo Series</p></a></li>
<li><a href='#runscript'><p> Run a package script</p></a></li>
<li><a href='#TsayFiles'>
<p>List of the names of files downloaded from the &quot;Analysis of Financial</p>
Data&quot; web site.</a></li>
<li><a href='#url2data'><p> Create local copies of files read from urls</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Companion to Tsay (2005) Analysis of Financial Time Series</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4-9</td>
</tr>
<tr>
<td>Description:</td>
<td>R companion to Tsay (2005) Analysis of Financial Time
   Series, second edition (Wiley).  Includes data sets, functions and
   script files required to work some of the examples.  Version 0.3-x
   includes R objects for all data files used in the text and script
   files to recreate most of the analyses in chapters 1-3 and 9 plus
   parts of chapters 4 and 11.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://r-forge.r-project.org/tracker/?group_id=84&amp;atid=380">https://r-forge.r-project.org/tracker/?group_id=84&amp;atid=380</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://geobosh.github.io/FinTSDoc/">https://geobosh.github.io/FinTSDoc/</a> (doc),
<a href="https://r-forge.r-project.org/projects/fints/">https://r-forge.r-project.org/projects/fints/</a> (devel)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), zoo, graphics</td>
</tr>
<tr>
<td>Suggests:</td>
<td>moments, tseries, urca, lmtest, sandwich, psych, GPArotation,
chron, polynom, e1071</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-26 16:05:52 UTC; georgi</td>
</tr>
<tr>
<td>Author:</td>
<td>Spencer Graves [aut],
  Georgi N. Boshnakov [cre, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Georgi N. Boshnakov &lt;georgi.boshnakov@manchester.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-26 19:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='FinTS-package'>


Companion to Tsay (2005) Analysis of Financial
Time Series
</h2><span id='topic+FinTS-package'></span><span id='topic+FinTS'></span>

<h3>Description</h3>

<p>R companion to Tsay (2005) Analysis of Financial Time
   Series, second edition (Wiley).  Includes data sets, functions and
   script files required to work some of the examples.  Version 0.3-x
   includes R objects for all data files used in the text and script
   files to recreate most of the analyses in chapters 1-3 and 9 plus
   parts of chapters 4 and 11.
</p>


<h3>Details</h3>

















<p>Index:
</p>
<pre>ARIMA                   Arima with Ljung-Box
Acf                     Autocorrelation Function
ArchTest                ARCH LM Test
AutocorTest             Box-Ljung autocorrelation test
FinTS-package           Companion to Tsay (2005) Analysis of Financial
                        Time Series
FinTS.stats             Financial Time Series summary statistics
TsayFiles               List of the names of files downloaded from the
                        "Analysis of Financial Data" web site.
apca                    Asymptotic PCA
as.yearmon2             Conditionally convert x to yearmon if the
                        conversion is unique, retaining x as names.
ch01data                Financial time series for Tsay (2005, ch. 1)
ch02data                Financial time series for Tsay (2005, ch. 2)
ch03data                Financial time series for Tsay (2005, ch. 3)
ch04data                Financial time series for Tsay (2005, ch. 4)
ch05data                Financial time series for Tsay (2005, ch. 5)
ch06data                Financial time series for Tsay (2005, ch. 6)
ch07data                Financial time series for Tsay (2005, ch. 7)
ch08data                Financial time series for Tsay (2005, ch. 8)
ch09data                Financial time series for Tsay (2005, ch. 9)
ch10data                Financial time series for Tsay (2005, ch. 10)
ch11data                Financial time series for Tsay (2005, ch. 11)
ch12data                Financial time series for Tsay (2005, ch. 12)
compoundInterest        Compute compound interest
findConjugates          Find complex conjugate pairs
package.dir             Directory of a package
plot.loadings           Plot loadings
plotArmaTrueacf         Plot the theoretical ACF corresponding to an
                        ARMA model
read.yearmon            Reading Monthly zoo Series
runscript               Run a package script
url2data                Create local copies of files read from urls</pre>
<p>See the <code>scripts</code> subdirectory of the <code>FinTS</code> installation
directory =  system.file(package='FinTS').
</p>
<p>Corrections to the script files provided and contributions to script
files for other chapters will be graciously accepted.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>
<p>Maintainer: 
Georgi N. Boshnakov &lt;georgi.boshnakov@manchester.ac.uk&gt;
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley)
</p>


<h3>See Also</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Where is the 'FinTS' directory?
system.file(package='FinTS')

# View the script file 'ch01.R', which is in the 'scripts'
# subdirectory of the system.file(package='FinTS') directory:
runscript(1, 'view')

# SP statistics in Table 1.2 of Tsay
data(d.ibmvwewsp6203)
FinTS.stats(100*d.ibmvwewsp6203[, "SP"])
</code></pre>

<hr>
<h2 id='Acf'>
Autocorrelation Function
</h2><span id='topic+Acf'></span><span id='topic+plot.Acf'></span>

<h3>Description</h3>

<p>Plot the ACF without the traditional noninformation unit spike at lag
0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Acf(x, lag.max = NULL, type = c("correlation", "covariance", "partial"),
    plot = TRUE, na.action = na.fail, demean = TRUE, ...)

## S3 method for class 'Acf'
plot(x, ci = 0.95, type = "h", xlab = "Lag", ylab = NULL, ylim = NULL, 
     main = NULL, ci.col = "blue", ci.type = c("white", "ma"), 
     max.mfrow = 6, ask = Npgs &gt; 1 &amp;&amp; dev.interactive(), 
     mar = if (nser &gt; 2) c(3, 2, 2, 0.8) else par("mar"), 
     oma = if (nser &gt; 2) c(1, 1.2, 1, 1) else par("oma"), 
     mgp = if (nser &gt; 2) c(1.5, 0.6, 0) else par("mgp"), 
     xpd = par("xpd"), cex.main = if (nser &gt; 2) 1 else par("cex.main"), 
     verbose = getOption("verbose"), acfLag0 = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Acf_+3A_x">x</code></td>
<td>

<p>for 'acf':  a numeric vector or time series.
</p>
<p>for 'plot.acf':  an object of class 'acf'.
</p>
</td></tr>
<tr><td><code id="Acf_+3A_lag.max">lag.max</code></td>
<td>

<p>maximum lag at which to calculate the acf.
</p>
</td></tr>
<tr><td><code id="Acf_+3A_ci">ci</code></td>
<td>

<p>coverage probability for confidence interval for 'plot.acf'.
</p>
</td></tr>
<tr><td><code id="Acf_+3A_type">type</code></td>
<td>

<p>the type of 'acf' or 'plot'
</p>
</td></tr>
<tr><td><code id="Acf_+3A_plot">plot</code></td>
<td>

<p>logical. If 'TRUE' the 'acf' function will call 'plot.acf'.
</p>
</td></tr>
<tr><td><code id="Acf_+3A_na.action">na.action</code></td>
<td>

<p>function to be called by 'acf' to handle missing values.
</p>
</td></tr>
<tr><td><code id="Acf_+3A_demean">demean</code></td>
<td>

<p>logical:  Should the x be replaced by <code>x - mean(x)</code> before computing
the sums of squares and lagged cross products to produce the 'acf'?
</p>
</td></tr>
<tr><td><code id="Acf_+3A_xlab">xlab</code>, <code id="Acf_+3A_ylab">ylab</code>, <code id="Acf_+3A_ylim">ylim</code>, <code id="Acf_+3A_main">main</code>, <code id="Acf_+3A_ci.col">ci.col</code>, <code id="Acf_+3A_ci.type">ci.type</code>, <code id="Acf_+3A_max.mfrow">max.mfrow</code>, <code id="Acf_+3A_ask">ask</code>, <code id="Acf_+3A_mar">mar</code>, <code id="Acf_+3A_oma">oma</code>, <code id="Acf_+3A_mgp">mgp</code>, <code id="Acf_+3A_xpd">xpd</code>, <code id="Acf_+3A_cex.main">cex.main</code>, <code id="Acf_+3A_verbose">verbose</code></td>
<td>

<p>see the help page of <code>acf</code>: <code>help('acf', package = 'stats')</code>.
</p>
</td></tr>
<tr><td><code id="Acf_+3A_acflag0">acfLag0</code></td>
<td>

<p>logical:  TRUE to plot the traditional noninformation unit spike at
lag 0.  FALSE to omit that spike, consistent with the style in Tsay
(2005).
</p>
</td></tr>
<tr><td><code id="Acf_+3A_...">...</code></td>
<td>
<p>further arguments passed to 'plot.acf'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are provided to make it easy to plot an
autocorrelation function without the noninformative unit spike at lag 0. 
This is done by calling plot(x, acfLag0 = FALSE, ...).  Apart from the
'acfLag0' argument, the rest of the arguments are identical to those
for 'acf' and 'plot.acf'.
</p>


<h3>Value</h3>

<p>for <code>acf</code>, an object of class 'Acf', which inherits
from class 'acf', as described with <code>help('acf', package='stats')</code>.
</p>
<p>for <code>plot.Acf</code>, NULL
</p>


<h3>Author(s)</h3>

<p>Spencer Graves for the FinTS modification of 'plot.acf'.
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley)
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+acf">acf</a></code>
<code><a href="stats.html#topic+plot.acf">plot.acf</a></code>
<code><a href="stats.html#topic+Box.test">Box.test</a></code>
<code><a href="#topic+AutocorTest">AutocorTest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(m.ibm2697)
Acf(m.ibm2697)
Acf(m.ibm2697, lag.max=100)
Acf(m.ibm2697, lag.max=100, main='Monthly IBM returns, 1926-1997')
</code></pre>

<hr>
<h2 id='apca'>
Asymptotic PCA
</h2><span id='topic+apca'></span>

<h3>Description</h3>

<p>Asymptotic Principal Components Analysis for a fixed number of factors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apca(x,nf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apca_+3A_x">x</code></td>
<td>

<p>a numeric matrix or other object for which 'as.matrix' will produce
a numeric matrix.
</p>
</td></tr>
<tr><td><code id="apca_+3A_nf">nf</code></td>
<td>

<p>number of factors desired.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NOTE:  This is a preliminary version of this function, and it may be
modified in the future.
</p>


<h3>Value</h3>

<p>A list with four components:
</p>
<table>
<tr><td><code>eig</code></td>
<td>
<p>eigenvalues</p>
</td></tr>
<tr><td><code>factors</code></td>
<td>
<p>estimated factor scores</p>
</td></tr>
<tr><td><code>loadings</code></td>
<td>
<p>estimated factor loadings</p>
</td></tr>
<tr><td><code>rsq</code></td>
<td>

<p>R-squared from the regression of each variable on the factor space
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ruey Tsay
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
sec. 9.6, pp. 436-440)
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+princomp">princomp</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Consider the monthly simple returns of 40 stocks on NYSE and NASDAQ
# from 2001 to 2003 with 36 observations.
data(m.apca0103)
dim(m.apca0103)
M.apca0103 &lt;- with(m.apca0103,
    array(return, dim = c(36, 40),
          dimnames = list(as.character(date[1:36]),
                          paste("Co", CompanyID[seq(1, 1440, 36)], sep = ""))))

# The traditional PCA is not applicable to estimate the factor model
# because of the singularity of the covariance matrix.  The asymptotic
# PCA provides an approach to estimate factor model based on asymptotic
# properties. For the simple example considered, the sample size is
# $T$ = 36 and the dimension is $k$ = 40. If the number of factor is
# assumed to be 1, the APCA gives a summary of the factor loadings as
# below:
#
apca40 &lt;- apca(M.apca0103, 1)
#
# (min, 1st Quartile, median, mean, 3rd quartile, max) =
# (0.069, 0.432, 0.629, 0.688, 1.071, 1.612).
#
# Note that the sign of any loading vector is not uniquely determined
# in the same way as the sign of an eigenvector is not uniquely
# determined. The output also contains the summary statistics of the
# R-squares of individual returns, i.e. the R-squares measuring the
# total variation of individual return explained by the factors. For
# the simple case considered, the summary of R-squares is (min, 1st
# Quartile, median, mean, 3rd quartile, max) =
# (0.090,0.287,0.487,0.456,0.574,0.831).
</code></pre>

<hr>
<h2 id='ArchTest'>
ARCH LM Test 
</h2><span id='topic+ArchTest'></span>

<h3>Description</h3>

<p>Lagrange Multiplier (LM) test for autoregressive conditional
heteroscedasticity (ARCH) 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ArchTest (x, lags=12, demean = FALSE) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ArchTest_+3A_x">x</code></td>
<td>
<p>numeric vector</p>
</td></tr> 
<tr><td><code id="ArchTest_+3A_lags">lags</code></td>
<td>
<p>positive integer number of lags</p>
</td></tr> 
<tr><td><code id="ArchTest_+3A_demean">demean</code></td>
<td>

<p>logical:  If TRUE, remove the mean before computing the test
statistic.  
</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Computes the Lagrange multiplier test for conditional
heteroscedasticity of Engle (1982), as described by Tsay (2005,
pp. 101-102).
</p>
<p>This is provided for compatibility with 'archTest' in the S-Plus
script in Tsay (p. 102).  
</p>


<h3>Value</h3>

<p>an object of class 'htest'  
</p>


<h3>Author(s)</h3>

<p>Bernhard Pfaff</p>


<h3>See Also</h3>

<p><code><a href="#topic+AutocorTest">AutocorTest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(m.intc7303)
intcLM &lt;- ArchTest(log(1+as.numeric(m.intc7303)), lag=12)
# Matches answer on Tsay (p. 102) 
</code></pre>

<hr>
<h2 id='ARIMA'> Arima with Ljung-Box </h2><span id='topic+ARIMA'></span>

<h3>Description</h3>

<p>Fit an ARIMA model and test residuals with the Ljung-Box statistic
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ARIMA(x, order = c(0, 0, 0),
     seasonal = list(order = c(0, 0, 0), period = NA),
     xreg = NULL, include.mean = TRUE, transform.pars = TRUE,
     fixed = NULL, init = NULL, method = c("CSS-ML", "ML", "CSS"),
     n.cond, optim.control = list(), kappa = 1e6, Box.test.lag=NULL,
     Box.test.df = c("net.lag", "lag"),
     type = c("Ljung-Box", "Box-Pierce", "rank"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ARIMA_+3A_x">x</code></td>
<td>

<p>a univariate time series
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_order">order</code></td>
<td>

<p>A specification of the non-seasonal part of the ARIMA model:  the
three components (p, d, q) are the AR order, the degree of
differencing, and the MA order.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_seasonal">seasonal</code></td>
<td>

<p>A specification of the seasonal part of the ARIMA model, plus the
period (which defaults to 'frequency(x)'). This should be a list
with components 'order' and 'period', but a specification of just a
numeric vector of length 3 will be turned into a suitable list with
the specification as the 'order'.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_xreg">xreg</code></td>
<td>

<p>Optionally, a vector or matrix of external regressors, which must
have the same number of rows as 'x'.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_include.mean">include.mean</code></td>
<td>

<p>Should the ARMA model include a mean/intercept term?  The default is
'TRUE' for undifferenced series, and it is ignored for ARIMA models
with differencing.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_transform.pars">transform.pars</code></td>
<td>

<p>Logical.  If true, the AR parameters are transformed to ensure that
they remain in the region of stationarity.  Not used for 'method =
&quot;CSS&quot;'.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_fixed">fixed</code></td>
<td>

<p>optional numeric vector of the same length as the total number of
parameters.  If supplied, only 'NA' entries in 'fixed' will be
varied.  'transform.pars = TRUE' will be overridden (with a warning)
if any AR parameters are fixed.  It may be wise to set
'transform.pars = FALSE' when fixing MA parameters, especially near
non-invertibility.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_init">init</code></td>
<td>

<p>optional numeric vector of initial parameter values.  Missing values
will be filled in, by zeroes except for regression coefficients.
Values already specified in 'fixed' will be ignored.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_method">method</code></td>
<td>

<p>Fitting method: maximum likelihood or minimize conditional
sum-of-squares.  The default (unless there are missing values) is to
use conditional-sum-of-squares to find starting values, then maximum
likelihood.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_n.cond">n.cond</code></td>
<td>

<p>Only used if fitting by conditional-sum-of-squares: the number of
initial observations to ignore.  It will be ignored if less than the
maximum lag of an AR term.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_optim.control">optim.control</code></td>
<td>

<p>List of control parameters for 'optim'.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_kappa">kappa</code></td>
<td>

<p>the prior variance (as a multiple of the innovations variance) for
the past observations in a differenced model.  Do not reduce this.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_box.test.lag">Box.test.lag</code></td>
<td>

<p>the Box.test statistic will be based on 'Box.test.lag'
autocorrelation coefficients of the whitened residuals.
The default is the maximum of the following:
<code>round(log(sum(!is.na(x))))</code>, recommended by Tsay (p. 27).
</p>
<p>One more than the number of parameters estimated, not counting any
'intercept' in the model.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_box.test.df">Box.test.df</code></td>
<td>

<p>numeric or character variable indicating the degrees of freedom for
the ch-square approximation to the distribution of the Box.test
statistic.  The default 'net.lag' is 'Box.test.lag' minus the number
of relevant parameters estimated.  The primary alternative 'lag' is
the number of lags included in the computation of the statistic.
</p>
<p>A positive number can also be provided.
</p>
</td></tr>
<tr><td><code id="ARIMA_+3A_type">type</code></td>
<td>

<p>which Box.test 'type' should be used?  Partial matching is used.
</p>
<p>The 'rank' alternative computes 'Ljung-Box' on rank(x);  see Burns
(2002) and references therein.
</p>
<p>NOTE:  The default 'Ljung-Box' type generally seems to be more
accurate and popular than the earlier 'Box-Pierce', which is however
the default for 'Box.test'.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  Fit the desired model using 'arima'.
</p>
<p>2.  Compute the desired number of lags for Box.test
</p>
<p>3.  Apply 'AutocorTest' to the whitened residuals.
</p>
<p>NOTE:  Some software does not adjust the degrees of freedom for the
number of parameters estimated.  Tsay (2005) and Enders (2004) do.
The need to adjust the degrees of freedom discussed by Brockwell and
Davis (1990), who provide a proof describing the circumstances under
which this is appropriate.
</p>
<p>This is, however, an asymptotic result, and it would help to have
simulation studies of the distribution of the Ljung-Box statistic,
estimating degrees of freedom and evaluating goodness of fit.  Burns
recommends a rank version of the Ljung-Box test, but does not estimate
degrees of freedom.  If you have done such a simulation or know of a
reference describing such, would you please notify the maintainer of
this package?
</p>
<p>4.  If 'xreg' is supplied, compute r.squared.
</p>


<h3>Value</h3>

<p>an 'arima' object with an additional 'Box.test' component and if
'xreg' is not null, an 'r.squared' component.
</p>
<p>NOTE:  The 'Box.test' help page in R 2.6.1 says, 'Missing values are
not handled.'  However, if 'x' contains NAs, 'ARIMA' still returns a
numeric answer that seems plausible, at least in some examples.
Therefore, either this comment on the help page is wrong (or obsolete)
or the answer can not be trusted with NAs.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves for the <code>ARIMA{FinTS}</code> wrapper for
<code><a href="stats.html#topic+arima">arima</a></code>, written by the R Core Team, and
<code><a href="stats.html#topic+Box.test">Box.test</a></code>, written by A. Trapletti.  John Frain
provided the citation to a proof in Brockwell and Davis (1990) that
the degrees of freedom for the approximating chi-square distribution
of the Ljung-Box statistic should be adjusted for the number of
parameters estimated.  Michal Miklovic provided the citation to Enders
(2004).
</p>


<h3>References</h3>

<p>Brockwell and Davis (1990) Time Series: Theory and Methods, 2nd
Edition (Springer, page 310).
</p>
<p>Walter Enders (2004) Applied Econometric Time Series (Wiley,
pp. 68-69)
</p>
<p>Greta Ljung and George E. P. Box (1978) 'On a measure of lack of fit
in time series models', Biometrika, vol. 66, pp. 67-72.
</p>
<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 2)
</p>
<p>Patrick Burns (2002) 'Robustness of the Ljung-Box Test and its Rank
Equivalent',
<a href="https://www.burns-stat.com/pages/Working/ljungbox.pdf">https://www.burns-stat.com/pages/Working/ljungbox.pdf</a>, accessed
2007.12.29.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+arima">arima</a></code>
<code><a href="stats.html#topic+Box.test">Box.test</a></code>
<code><a href="stats.html#topic+tsdiag">tsdiag</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## Examples from 'arima'
##
lh100 &lt;- ARIMA(lh, order = c(1,0,0))
lh100$Box.test
# df = 3 = round(log(lh)) - 1
# 2 parameters are estimated, but 1 is 'intercept',
# so it doesn't count in the 'df' computation

lh500 &lt;- ARIMA(lh, order = c(5,0,0))
lh500$Box.test
# round(log(length(lh))) = 4
# Default Box.test.lag = min(5+1, 4) = 6,
# so df = 1;  without the min(5+1, ...), it would be -1.
lh500$Box.test$method # lag = 6

lh101 &lt;- ARIMA(lh, order = c(1,0,1))
lh101$Box.test
# works with mixed ARMA

USAccD011 &lt;- ARIMA(USAccDeaths, order = c(0,1,1),
                   seasonal = list(order=c(0,1,1)))
USAccD011$Box.test
# df = round(log(length(USAccDeaths))) - 2:
# correct 'df' with nonstationary 'seasonal' as well

LakeH200 &lt;- ARIMA(LakeHuron, order = c(2,0,0),
                  xreg = time(LakeHuron)-1920)
LakeH200$Box.test
# correct 'df' with 'xreg'
LakeH200$r.squared

## presidents contains NAs
## graphs in example(acf) suggest order 1 or 3
require(graphics)
(fit1 &lt;- ARIMA(presidents, c(1, 0, 0)))
fit1$Box.test
tsdiag(fit1)
##
## Example with multiple 'xreg' variables
##
tLH &lt;- as.numeric(time(LakeHuron)-1920)
tLH2 &lt;- cbind(timeLH.1920 = tLH, time.sq = tLH*tLH)

LakeH200. &lt;- ARIMA(LakeHuron, order=c(2,0,0), xreg=tLH2)
LakeH200.$r.squared
</code></pre>

<hr>
<h2 id='as.yearmon2'>
Conditionally convert x to yearmon if the conversion is unique,
retaining x as names.
</h2><span id='topic+as.yearmon2'></span>

<h3>Description</h3>

<p>Convert <code>x</code> to class <code>"yearmon"</code>.  If duplicate months are
found, return <code>x</code>.  Otherwise, return the conversion with names =
<code>x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.yearmon2(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.yearmon2_+3A_x">x</code></td>
<td>

<p>object suitable for <code>as.yearmon</code>
</p>
</td></tr>
<tr><td><code id="as.yearmon2_+3A_...">...</code></td>
<td>

<p>additional argument(s) (e.g., a format) passed to
<code>as.yearmon</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Dates for some monthly data include the day of the month on which the
data were published.  For many purposes, one would like to have the
data as a <code>zoo</code> object with a <code>yearmon</code> index, while still
retaining the full date for other purposes.
</p>
<p>If the <code>yearmon</code> form of the input is not unique,
<code>as.yearmon2</code> returns the input unchanged with a warning.
Otherwise, it returns the <code>yearmon</code> conversion with the input as
names.
</p>


<h3>Value</h3>

<p>Returns either its argument or its argument converted to class
<code>yearmon</code> with names.
</p>


<h3>See Also</h3>

<p><code><a href="zoo.html#topic+yearmon">yearmon</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1 &lt;- as.Date(c("2000-01-01", "2000-01-01"))
as.yearmon2(x1)
#Warning message:
#In as.yearmon2(x1) :
#  1 duplicate months found in 'x';  returning 'x' unchanged

x2 &lt;- as.Date(c("2000-01-01", "2000-02-01"))
as.yearmon2(x2)
# month of x2 with names x2
</code></pre>

<hr>
<h2 id='AutocorTest'> Box-Ljung autocorrelation test </h2><span id='topic+AutocorTest'></span>

<h3>Description</h3>

<p>Ljung-Box test for autocorrelation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AutocorTest(x, lag = ceiling(log(length(x))),
            type = c("Ljung-Box", "Box-Pierce", "rank"),
            df = lag )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AutocorTest_+3A_x">x</code></td>
<td>

<p>a numeric vector or a univariate time series
</p>
</td></tr>
<tr><td><code id="AutocorTest_+3A_lag">lag</code></td>
<td>

<p>the statistic will be based on 'lag' autocorrelation coefficients.
Tsay (p. 27-28) says, 'Simulation studies suggest that the choice of
[lag = log(length(x))] provides better power performance.  This
general rule needs modification in analysis of seasonal time series
for which autocorrelations with lags at multiples of the seasonality
are more important.'
</p>
</td></tr>
<tr><td><code id="AutocorTest_+3A_type">type</code></td>
<td>

<p>which Box.test 'type' should be used?  Partial matching is used.
</p>
<p>The 'rank' alternative computes 'Ljung-Box' on rank(x);  see Burns
(2002) and references therein.
</p>
<p>NOTE:  The default 'Ljung-Box' type generally seems to be more
accurate and popular than the earlier 'Box-Pierce', which is however
the default for 'Box.test'.
</p>
</td></tr>
<tr><td><code id="AutocorTest_+3A_df">df</code></td>
<td>

<p>a positive number giving the degrees of freedom for the reference
chi-squre distribution used to compute the p-value for the
statistic.
</p>
<p>This makes it easy to call AutocorTest with the residuals from a fit
and have the p-value computed with reference to a chi-square with
degrees of freedom different from &quot;lag&quot;.  See the discussion
of degrees of freedom for 'Box.test in   <code><a href="#topic+ARIMA">ARIMA</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is provided for compatibility with 'autocorTest' in the S-Plus
script in Tsay (p. 30).  It is a wrapper for the R function
<code><a href="stats.html#topic+Box.test">Box.test</a></code>.
</p>


<h3>Value</h3>

<p>a list of class 'htest' containing the following components:
</p>
<table>
<tr><td><code>statistic</code></td>
<td>

<p>a number giving the value of the test statistic.
</p>
</td></tr>
<tr><td><code>paramter</code></td>
<td>

<p>a number giving the degrees of freedom of the approximate
chi-squared distribution of the test statistic used to compute the
p.value.
</p>
</td></tr>
<tr><td><code>p.value</code></td>
<td>

<p>the p-value of the test.
</p>
</td></tr>
<tr><td><code>method</code></td>
<td>

<p>a character string indicating which type of test was performed.
If(df != lag), this character string ends with
paste(&quot;(lag = &quot;, lag, &quot;)&quot;, sep=&quot;&quot;).
</p>
</td></tr>
</table>


<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley)
</p>
<p>Patrick Burns (2002) 'Robustness of the Ljung-Box Test and its Rank
Equivalent',
<a href="https://www.burns-stat.com/pages/Working/ljungbox.pdf">https://www.burns-stat.com/pages/Working/ljungbox.pdf</a>, accessed
2007.12.29.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+Box.test">Box.test</a></code>
<code><a href="#topic+ARIMA">ARIMA</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(m.ibm2697)
AutocorTest(m.ibm2697, 5)

AT4 &lt;- AutocorTest(m.ibm2697, 5, df=4)
str(AT4) # $method = "Box-Ljung test (lag = 5)"
</code></pre>

<hr>
<h2 id='ch01data'> Financial time series for Tsay (2005, ch. 1) </h2><span id='topic+ch01data'></span><span id='topic+Table1.2'></span><span id='topic+d.ibmvwewsp6203'></span><span id='topic+d.intc7303'></span><span id='topic+d.3m6203'></span><span id='topic+d.msft8603'></span><span id='topic+d.c8603'></span><span id='topic+m.ibmvwewsp2603'></span><span id='topic+m.intc7303'></span><span id='topic+m.3m4603'></span><span id='topic+m.msft8603'></span><span id='topic+m.c8603'></span><span id='topic+m.gs10'></span><span id='topic+m.gs1'></span><span id='topic+d.fxjp00'></span><span id='topic+m.fama.bond5203'></span><span id='topic+m.gs3'></span><span id='topic+m.gs5'></span><span id='topic+w.tb3ms'></span><span id='topic+w.tb6ms'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(d.ibmvwewsp6203)
data(d.intc7303)
data(d.3m6203)
data(d.msft8603)
data(d.c8603)
data(m.ibmvwewsp2603)
data(m.intc7303)
data(m.3m4603)
data(m.msft8603)
data(m.c8603)
data(m.gs10)
data(m.gs1)
data(d.fxjp00)
data(m.fama.bond5203)
data(m.gs3)
data(m.gs5)
data(w.tb3ms)
data(w.tb6ms)
</code></pre>


<h3>Format</h3>

<p>Objects of class zoo giving simple returns for each trading period
(day, week or month) for different periods, with different start dates
but typically running to the end of 2003.
</p>

<dl>
<dt>d.ibmvwewsp6203, m.ibmvwewsp2603</dt><dd>
<p>Zoo objects with 4 columns (IBM, VW, EW, and SP).  Daily data
starts with 1962-07-03.  Monthly data starts with 1926-01-30.
</p>
</dd>
<dt>d.intc7303, m.intc7303</dt><dd>
<p>Matrices of class zoo with a single column &quot;Intel&quot; starting from
January 1973.
</p>
</dd>
<dt>d.3m6203, m.3m6203</dt><dd>
<p>Matrices of class zoo with a single column &quot;MMM&quot;.  Daily data
starts with 1962-07-03.  Monthly data starts with 1946-02-28.
</p>
</dd>
<dt>d.msft8603, m.msft8603</dt><dd>
<p>Matrices of class zoo with a single column &quot;MSFT&quot; starting from
1906-03-14.
</p>
</dd>
<dt>d.c8603, m.c8603</dt><dd>
<p>Matrix of class zoo with a single column &quot;C&quot; starting from
1986-10-30.
</p>
</dd>
<dt>m.gs10, m.gs1</dt><dd>
<p>Monthly 10-yr  and 1-yr Treasury constant maturity rates
(4/53-3/04)
</p>
</dd>
<dt>d.fxjp00</dt><dd>
<p>Daily exchange rate between U.S. dollar and Japanese yen
</p>
</dd>
<dt>m.fama.bond5203</dt><dd>
<p>Monthly bond returns as follows:
</p>

<dl>
<dt>m1.12</dt><dd><p>1-12m</p>
</dd>
<dt>m24.36</dt><dd><p>24-36m</p>
</dd>
<dt>m48.60</dt><dd><p>48-60m</p>
</dd>
<dt>m61.120</dt><dd><p>61-120m</p>
</dd>
</dl>

</dd>
<dt>m.gs3, m.gs5</dt><dd>
<p>Monthly 3-yr and 5-yr Treasury constant maturity rates
</p>
</dd>
<dt>w.tb3ms, w.tb6ms</dt><dd>
<p>Weekly Treasury Bill rates
</p>
</dd>
</dl>



<h3>Details</h3>

<p>The first 16 of these objects contain daily and monthly simple returns
for 8 financial time series analyzed Tsay (2005, Table1.2).  These 8
are SP (Standard &amp; Poors), EW, IBM, Intel, Microsoft, and Citi-Group,
beginning at different times and running to the end of 2003.
</p>
<p>The others are used elsewhere in chapter 1.
</p>


<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 1)
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+FinTS.stats">FinTS.stats</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'># First half of Table 1.2:
data(d.ibmvwewsp6203)
data(d.intc7303)
data(d.3m6203)
data(d.msft8603)
data(d.c8603)
(Daily.Simple.Returns.pct &lt;- rbind(
    SP = FinTS.stats(100*d.ibmvwewsp6203[, "SP"]),
    VW = FinTS.stats(100*d.ibmvwewsp6203[, "VW"]),
    EW = FinTS.stats(100*d.ibmvwewsp6203[, "EW"]),
    IBM= FinTS.stats(100*d.ibmvwewsp6203[, "IBM"]),
    Intel=FinTS.stats(100*d.intc7303[, "Intel"]),
    MMM= FinTS.stats(100*d.3m6203[, "MMM"]),
    MSFT=FinTS.stats(100*d.msft8603[, 'MSFT']),
    C  = FinTS.stats(100*d.c8603[, "C"])
) )

(Daily.log.Returns.pct &lt;- rbind(
    SP = FinTS.stats(100*log(1+d.ibmvwewsp6203[, "SP"])),
    VW = FinTS.stats(100*log(1+d.ibmvwewsp6203[, "VW"])),
    EW = FinTS.stats(100*log(1+d.ibmvwewsp6203[, "EW"])),
    IBM= FinTS.stats(100*log(1+d.ibmvwewsp6203[, "IBM"])),
    Intel=FinTS.stats(100*log(1+d.intc7303[,"Intel"])),
    MMM= FinTS.stats(100*log(1+d.3m6203[, "MMM"])),
    MSFT=FinTS.stats(100*log(1+d.msft8603[, 'MSFT'])),
    C  = FinTS.stats(100*log(1+d.c8603[, "C"]))
) )
</code></pre>

<hr>
<h2 id='ch02data'> Financial time series for Tsay (2005, ch. 2) </h2><span id='topic+ch02data'></span><span id='topic+m.ibm2697'></span><span id='topic+m.vw2697'></span><span id='topic+q.gnp4791'></span><span id='topic+m.ibm3dx2603'></span><span id='topic+m.3m4697'></span><span id='topic+q.gdp4703'></span><span id='topic+d.sp9003lev'></span><span id='topic+q.jnj'></span><span id='topic+m.decile1510'></span><span id='topic+w.gs1n36299'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(m.ibm2697)
data(m.vw2697)
data(q.gnp4791)
data(m.ibm3dx2603)
data(m.3m4697)
data(q.gdp4703)
data(d.sp9003lev)
data(q.jnj)
data(m.decile1510)
data(w.gs1n36299)
</code></pre>


<h3>Format</h3>

<p>Objects of class zoo giving simple returns for each trading period
(day, week or month) for different periods.
</p>

<dl>
<dt>m.ibm2697, m.vw2697</dt><dd>
<p>Monthly returns for IBM stock and the value weighted index from
1926 to 1997.
</p>
</dd>
<dt>q.gnp4791</dt><dd>
<p>Growth rate of U.S. quarterly real gnp, from 1947Q2 to 1991Q1.
</p>
</dd>
<dt>m.ibm3dx2603</dt><dd>
<p>Monthy returns of IBM stock, the value and equal weighted and
Standard and Poors indices from 1926 through 2003.
</p>
</dd>
<dt>m.3m4697</dt><dd>
<p>Monthly simple returns of 3M stock from Feb., 1946 through
Dec. 2003.
</p>
</dd>
<dt>q.gdp4703</dt><dd>
<p>U.S. quarterly GDP from 1947 through 2003
</p>
</dd>
<dt>d.sp9003lev</dt><dd>
<p>Daily values of S&amp;P 500 index from 1990 through 2003.
</p>
</dd>
<dt>q.jnj</dt><dd>
<p>Quarterly earnings of Johnson &amp; Johnson from 1960 through 1980.
</p>
</dd>
<dt>m.decile1510</dt><dd>
<p>Monthly simple returns of Deciles 1, 5, 10.  Decile 1 means the
weighted returns of companies in the first 10 percent of market
cap (i.e. 0 to 10).  (Thus, it is not the 10th percentile.)
Decile 10
means the returns of the top 10 percent of the companies (market
cap).  Therefore, decile 1 is the smallest listed companies, and
decile 10 is for the largest companies.
</p>
<p>The 'index' of 'm.decile1510' has class 'Date'.  Since it's a
monthly series, it would be better for many purposes if it had
'index' of class 'yearmon'.  See the 'examples' below for how to
achieve this conversion.
</p>
</dd>
<dt>w.gs1n36299</dt><dd>
<p>zoo object with two columns, 'gs1' and 'gs3', giving weekly 1-yr &amp;
3-yr interest rates from 1962-01-05 through 2007-11-02.  These
data were reextracted from the Federal Reserve Bank at St. Louis
to replace data from the book's web site that had obvious data
quality problems (e.g., a date of 1962-08-32).
</p>
<p>To get data covering January 4, 1962, through September 10, 1999,
use
</p>
<p><code>window(w.gs1n36299, start = as.Date("1962-01-12"),
	end=as.Date("1999-09-10"))</code>;
</p>
<p>see 'examples' below.
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Spencer Graves with help from Gabor Grothendieck.
</p>


<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 2)
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+ch01data">ch01data</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## m.decile1510 has 'index' of class 'Date'
## Since it's a monthly series, for many purposes,
## it should have 'index' of class 'yearmon'.
## To get this, do the following:
##
data(m.decile1510)
mDecile1510 &lt;- zoo(m.decile1510, as.yearmon(index(m.decile1510)))

## w.gs1n36299 covers a broader range than used in
## Tsay (2005, sec. 2.9, pp. 80ff):  subset using 'window':
##
data(w.gs1n36299)
w.gs1n3 &lt;- window(w.gs1n36299, start = as.Date("1962-01-12"),
    end = as.Date("1999-09-10"))
</code></pre>

<hr>
<h2 id='ch03data'> Financial time series for Tsay (2005, ch. 3) </h2><span id='topic+ch03data'></span><span id='topic+exch.perc'></span><span id='topic+sp500'></span><span id='topic+m.ibmspln'></span><span id='topic+m.ibmsplnsu'></span><span id='topic+d.sp8099'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 3.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>#m.intc7303
data(exch.perc)
data(sp500)
#m.ibm2697
#d.ibmvwewsp6203
data(m.ibmspln)
data(m.ibmsplnsu)
data(d.sp8099)
</code></pre>


<h3>Format</h3>

<p>Three data stes used in chapter 3 are also used in chapter 1 or 2 and
are documented with 'ch01data' or 'ch02data':  In particular,
'm.intc7303' and 'd.ibmvwewsp6203' are used in chapters 1 and 3 and
are documented with 'ch01data';  'm.ibm2697' is used in chapters 2 and
3 is documented with ch02data.
</p>
<p>The other data sets used in chapter 3 are as follows:
</p>

<dl>
<dt>exch.perc</dt><dd>
<p>numeric vector of length 2497 giving percentage changes in the
exchange rate between the German mark and the US dollar in 10
minute intervals, June 5-19, 1989.  (The book describes analyses
of 2488 observations.  If these 2497 observations are plotted, it
is difficult to see any differences from Figure 3.2.)
</p>
</dd>
<dt>sp500</dt><dd>
<p>object of class 'zooreg' giving the monthly excess returns of the
S&amp;P 500 index starting from 1926.  This zooreg object is labeled
assuming it starts in January, though the book does not say
whether it starts in January or just some time in 1926.  (Many of
the files included date with the data, but 'sp500.dat' did not.)
</p>
</dd>
<dt>m.ibmspln</dt><dd>
<p>object of class 'zooreg' giving the monthly log returns of IBM
stock and S&amp;P 500 index from January 1926 to December 1999 for 888
observations.  NOTE:  The examples in the book use only the first
864 of these observations.
</p>
</dd>
<dt>m.ibmsplnsu</dt><dd>
<p>same as 'm.ibmspln' but with a third column 'summer' that is 1 in
June, July and August, and 0 otherwise.
</p>
</dd>
<dt>d.sp8099</dt><dd>
<p>zoo object giving the average daily returns of the S&amp;P 500 from
1980 through 1999.
</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 3)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>
</p>

<hr>
<h2 id='ch04data'> Financial time series for Tsay (2005, ch. 4) </h2><span id='topic+ch04data'></span><span id='topic+m.unrate'></span><span id='topic+w.3mtbs7097'></span><span id='topic+m.ibmln2699'></span><span id='topic+q.unemrate'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 4.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(m.unrate)
#d.ibmvwewsp6203
#m.3m4697
#q.gnp4791
data(w.3mtbs7097)
data(m.ibmln2699)
data(q.unemrate)
</code></pre>


<h3>Format</h3>

<p>Three data stes used in chapter 4 are also used earlier:
'd.ibmvwewsp6203' is used in chapter 1, and 'm.3m4697' and 'q.gnp4791'
are used in chapter 2;  these three data objects are docuemented in
'ch01data' or 'ch02data'.
</p>
<p>The other data sets used in chapter 4 are as follows:
</p>

<dl>
<dt>m.unrate</dt><dd>
<p>zoo object giving the monthly US civilian unemployment rate from
1948 through 2004.
</p>
</dd>
<dt>w.3mtbs7097</dt><dd>
<p>zoo object giving the US weekly 3-month treasury bill rate in the
secondary market from 1970 through 1997.
</p>
</dd>
<dt>m.ibmln2699</dt><dd>
<p>zoo object giving the monthly log returns in percentages of IBM
stock from 1926 through 1999.
</p>
</dd>
<dt>q.unemrate</dt><dd>
<p>zoo object giving the US quarterly unemployment rate seasonally
adjusted from 1948 through 1993.
</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 4)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>
<code><a href="#topic+ch02data">ch02data</a></code>
</p>

<hr>
<h2 id='ch05data'> Financial time series for Tsay (2005, ch. 5) </h2><span id='topic+ch05data'></span><span id='topic+ibm'></span><span id='topic+ibm9912.tp'></span><span id='topic+ibmdurad'></span><span id='topic+ibm1to5.dur'></span><span id='topic+ibm91.ads'></span><span id='topic+ibm91.adsx'></span><span id='topic+day15.ori'></span><span id='topic+day15'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 5.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ibm)
data(ibm9912.tp)
data(ibmdurad)
data(ibm1to5.dur)
data(ibm91.ads)
data(ibm91.adsx)
data(day15.ori)
data(day15)
</code></pre>


<h3>Format</h3>


<dl>
<dt>ibm</dt><dd>
<p>IBM transactions data (11/1/1990 - 1/31/1991)
</p>
<p>data.frame of date.time, volume, bid, ask, and price of IBM stock
transactions.  date.time is of class 'chron', while volume, bid,
ask, and price are all numeric.  Some tranactions have the same
date.time values, which is why this is a data.frame and not a zoo
object.
</p>
</dd>
<dt>ibm9912.tp</dt><dd>
<p>IBM transactions data of December 1999:  data.frame of date.time
and price.
</p>
</dd>
<dt>ibmdurad</dt><dd>
<p>Adjusted time durations between trades of IBM stock
(11/01/1990-1/31/1991).
</p>
<p>Format:  data.frame with columns date.time and adjusted.duration
</p>
</dd>
<dt>ibm1to5.dur</dt><dd>
<p>subset of 'ibmdurad' limited to positive durations in the first 5
trading days.
</p>
</dd>
<dt>ibm91.ads</dt><dd>
<p>a data.frame on the changes in the price of IBM stock transactions
between November 1, 1990 and January 31, 1991.  This period
includes 63 trading days, during which 59,838 transactions were
recorded during normal trading hours.  The first transaction for
each day was dropped leaving the 59,775 transactions in this
data.frame.
</p>

<dl>
<dt>A.priceChange</dt><dd>
<p>1 if a price change from the previous trade, 0 otherwise
</p>
</dd>
<dt>DirectionOfChg</dt><dd>
<p>1 if positive, -1 if negative, 0 if no change
</p>
</dd>
<dt>SizeInTicks</dt><dd>
<p>Size of the price change in number of ticks of 1/8 of a US
dollar.
</p>
<p>NOTE: In this data.frame there are 10 anomalous records for
which <code>A.priceChange !=0</code> but <code>SizeInTicks == 0</code>.
These correspond to price changes of half a tick, which got
rounded down to 0.
</p>
</dd>
</dl>

</dd>
<dt>ibm91.adsx</dt><dd>
<p>a data.frame with 6 variables the same transactions as in
'ibm91.ads':
</p>

<dl>
<dt>volume.thousands</dt><dd><p>thousands of shares traded</p>
</dd>
<dt>time.betw.trades</dt><dd><p>seconds between the previous two trades</p>
</dd>
<dt>bid.ask.spread</dt><dd>
<p>the bid-ask spread in USD of the current transaction.
</p>
</dd>
<dt>A.priceChange</dt><dd>
<p>1 if the previous trade involved a price change from its
predacessor, and 0 otherwise
</p>
</dd>
<dt>DirectionOfChg</dt><dd>
<p>1 if the previous change was positive, -1 if negative, 0 if no
change
</p>
</dd>
<dt>SizeInTicks</dt><dd>
<p>Size of the price change in the previous trade in number of
ticks of 1/8 of a US dollar.
<strong>NOTE:</strong>  The last three columns are ibm91.ads lagged one
transaction, so
<code>ibm91.adsx[-1, 4:5] == ibm91.ads[-59775, ]</code>,
with 24 exceptions.
</p>
</dd>
</dl>

</dd>
<dt>day15.ori</dt><dd>
<p>data.frame with the transaction time and the stock price for the
728 IBM stock transactions that occurred during normal trading
hours on November 21, 1990.
</p>
</dd>
<dt>day15</dt><dd>
<p>a zoo object with the following columns supposedly summarizing
only the price changes in day15.ori:
</p>

<dl>
<dt>timeBetwPriceChg</dt><dd>
<p>time in seconds since the last price change
</p>
</dd>
<dt>DirectionOfChange</dt><dd>
<p>1 if the price increased, -1 if it decreased
</p>
</dd>
<dt>priceChgTicks</dt><dd>
<p>price change in number of ticks of USD 1/8.
</p>
</dd>
<dt>nTradesWoChg</dt><dd>
<p>number of trades without a price change since the previous
price change ... supposedly.  These numbers do not match a
manual extraction of these data from 'day15.ori'.
</p>
</dd>
<dt>multTrans</dt><dd>
<p>1 if there were multiple transactions within the same one
second interval, 0 if not.
</p>
</dd>
<dt>dailyCumChg</dt><dd>
<p>cumulative price change in USD since the start of normal
trading on November 21, 1990.
</p>
</dd>
</dl>

</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005)
Analysis of Financial Time Series, 2nd ed. (Wiley, ch. 5)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>
<code><a href="#topic+ch02data">ch02data</a></code>
</p>

<hr>
<h2 id='ch06data'> Financial time series for Tsay (2005, ch. 6) </h2><span id='topic+ch06data'></span><span id='topic+d.ibmy98'></span><span id='topic+d.cscoy99'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 6.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(d.ibmy98)
data(d.cscoy99)
</code></pre>


<h3>Format</h3>

<p>Objects of class zoo giving returns for each trading day for different
periods
</p>

<dl>
<dt>d.ibmy98</dt><dd>
<p>Zoo object giving daily  simple returns of IBM stock for each
trading day in 1998.
</p>
</dd>
<dt>d.cscoy99</dt><dd>
<p>Zoo object giving daily log returns of Cisco stock for each
trading day in 1999.
</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005)
Analysis of Financial Time Series, 2nd ed. (Wiley, ch. 6)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>,
<code><a href="#topic+ch03data">ch03data</a></code>,
<code><a href="#topic+ch04data">ch04data</a></code>,
<code><a href="#topic+ch05data">ch05data</a></code>
</p>

<hr>
<h2 id='ch07data'> Financial time series for Tsay (2005, ch. 7) </h2><span id='topic+ch07data'></span><span id='topic+d.ibm6298wmx'></span><span id='topic+d.intc7297'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 7.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(d.ibm6298wmx)
data(d.intc7297)
</code></pre>


<h3>Format</h3>


<dl>
<dt>d.ibm6298wmx</dt><dd>
<p>a zoo object of 9190 observations on several series relating to
IBM stock, 1962-07-03 to 1998-12-31:
</p>

<dl>
<dt>dailySimpleRtns</dt><dd>
<p>daily simple returns in percentages of IBM stock
</p>
</dd>
<dt>day</dt><dd><p>numbers 1:9190</p>
</dd>
<dt>meanCorrectedLogRtns</dt><dd><p>mean-corrected log returns</p>
</dd>
<dt>Q4</dt><dd><p>1 for October, November, December, and 0 otherwise</p>
</dd>
<dt>drop2.5pct</dt><dd>
<p>an indicator variable for the behavior of the previous trading
day.  Specifically, this is 1 if the meanCorrectedLogRtns for
the previous day was at most (-0.025).
</p>
</dd>
<dt>nOfLast5outside2.5pct</dt><dd>
<p>number of the last 5 days for which the meanCorrectedLogRtns
exceeded +/-2.5
</p>
</dd>
<dt>annualTrend</dt><dd>
<p>an annual trend defined as (year-1961)/38.
</p>
</dd>
<dt>GARCH1.1volatility</dt><dd>
<p>a volatility series based on a Gaussian GARCH(1,1) model for
the mean-corrected log returns.
</p>
</dd>
</dl>
<p>The simpleDailyRtns and the zoo index are from 'd-ibm6298.txt'
from the book's web site.
</p>
<p>The 'day' and 'meanCorrectedLogRtns' are from 'd-ibmln98wm.txt'.
</p>
<p>The last 5 columns are from 'd-ibml25x.txt';  they are described
on p. 332 of the book.

</p>
</dd>
<dt>d.intc7297</dt><dd>
<p>a zoo object of daily log returns of Intel stock, 1972-12-15 to
1997-12-31.
</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005)
Analysis of Financial Time Series, 2nd ed. (Wiley, ch. 7)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>,
<code><a href="#topic+ch03data">ch03data</a></code>,
<code><a href="#topic+ch04data">ch04data</a></code>,
<code><a href="#topic+ch05data">ch05data</a></code>,
<code><a href="#topic+ch06data">ch06data</a></code>
</p>

<hr>
<h2 id='ch08data'> Financial time series for Tsay (2005, ch. 8) </h2><span id='topic+ch08data'></span><span id='topic+m.ibmsp2699ln'></span><span id='topic+m.bnd'></span><span id='topic+m.gs1n3.5301'></span><span id='topic+w.tb3n6ms'></span><span id='topic+sp5may'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 8.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(m.ibmsp2699ln)
data(m.bnd)
data(m.gs1n3.5301)
data(w.tb3n6ms)
data(sp5may)
</code></pre>


<h3>Format</h3>


<dl>
<dt>m.ibmsp2699ln</dt><dd>
<p>zoo object giving monthly simple and log returns of IBM stock and
the Standard and Poor's 500 from 1926 through 1999.  (This
combines files 'm-ibmsp2699.txt' and 'm-ibmspln.txt' from the
book's web site.)
</p>
</dd>
<dt>m.bnd</dt><dd>
<p>zoo object giving the monthly simple returns of 30, 20, 10, 5 and
1 year maturity bonds from 1942 through 1999.
</p>
</dd>
<dt>m.gs1n3.5301</dt><dd>
<p>zoo object giving 1 and 3 year US Treasury constant maturity
interest rates from April 1953 to January 2001 (used in Example
8.6, pp. 373ff).
</p>
</dd>
<dt>w.tb3n6ms</dt><dd>
<p>zoo object giving weekly 3 and 6 month US Treasury Bill interest
rates from 1958-12-12 to 2004-08-06 (used in Sect. 8.6.5,
pp. 385ff).
</p>
</dd>
<dt>sp5may</dt><dd>
<p>A data.frame of 7061 observations on 4 variables based on
minute-by-minute observations of the Standard and Poor's 500
Futures and prices in May 1993.
</p>
<p>These data are used, after some processing, in Tsay(Sect. 8.7.2,
pp. 392ff).  Unfortunately, it's not yet clear what these numbers
are.  The following is a current guess and will doubtless change
in the future.
</p>

<dl>
<dt>logFuture</dt><dd>
<p>logarithms of June Futures contracts traded at the Chicago
Mercantile Exchange.  The first difference of this series
appears to be plotted in Figure 8.16(a), after replacing '10
extreme values (5 on each side) by the simple average of their
two nearest neighbors.' (p. 392)
</p>
</dd>
<dt>logPrice</dt><dd>
<p>logarithms of Standard and Poor's 500 price levels.  The first
differences of this series appears to be plotted in Figure
8.16(b), after adjustment similar to that for 'logFuture'.
</p>
</dd>
<dt>dailyAvgSomething</dt><dd>
<p>numbers that assume 19 distinct levels separated by 18
discrete jumps.  The name of this will likely change whenever
more information about it can be obtained for this
documentation.
</p>
</dd>
<dt>day</dt><dd>
<p>index for the 19 distinct levels assumed by
'dailyAvgSomething'.  This is probably the trading day in May
1993.  However, there appear to have been 20 trading days in
that month, so if these 19 levels do correspond to trading
days, it's not clear which date is missing.
</p>
</dd>
</dl>
<p>These data were analyzed by Forbes, Kalb, and Kofman (1999);
Tsay (1998) was also referenced with the discussion of the
analysis of these data.

</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Forbes, C. S., Kalb, G. R. J., and Kofman, P. (1999) 'Bayesian
Arbitrage Threshold Analysis', Journal of Business and Economic
Statistics, 17:  364-372.
</p>
<p>Ruey Tsay (1998) 'Testing and Modeling Multivariate Threshold Models',
Journal of the American Statistical Association, 93:  1188-1202.
</p>
<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 8)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>
</p>

<hr>
<h2 id='ch09data'> Financial time series for Tsay (2005, ch. 9) </h2><span id='topic+ch09data'></span><span id='topic+m.fac9003'></span><span id='topic+m.cpice16.dp7503'></span><span id='topic+m.barra.9003'></span><span id='topic+m.5cln'></span><span id='topic+m.apca0103'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 9.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(m.fac9003)
data(m.cpice16.dp7503)
data(m.barra.9003)
data(m.5cln)
#data(m.bnd) &lt;- documented with ch08, also used in ch09
data(m.apca0103)
</code></pre>


<h3>Format</h3>


<dl>
<dt>m.fac9003</dt><dd>
<p>a zoo object of 168 observations giving simple excess returns of
13 stocks and the Standard and Poor's 500 index over the monthly
series of three-month Treasury bill rates of the secondary market
as the risk-free rate from January 1990 to December 2003.  (These
numbers are used in Table 9.1.)
</p>

<dl>
<dt>AA</dt><dd><p>Alcoa</p>
</dd>
<dt>AGE</dt><dd><p>A. G. Edwards</p>
</dd>
<dt>CAT</dt><dd><p>Caterpillar</p>
</dd>
<dt>F</dt><dd><p>Ford Motor</p>
</dd>
<dt>FDX</dt><dd><p>FedEx</p>
</dd>
<dt>GM</dt><dd><p>General Motors</p>
</dd>
<dt>HPQ</dt><dd><p>Hewlett-Packard</p>
</dd>
<dt>KMB</dt><dd><p>Kimberly-Clark</p>
</dd>
<dt>MEL</dt><dd><p>Mellon Financial</p>
</dd>
<dt>NYT</dt><dd><p>New York Times</p>
</dd>
<dt>PG</dt><dd><p>Proctor &amp; Gamble</p>
</dd>
<dt>TRB</dt><dd><p>Chicago Tribune</p>
</dd>
<dt>TXN</dt><dd><p>Texas Instruments</p>
</dd>
<dt>SP5</dt><dd><p>Standard &amp; Poor's 500 index</p>
</dd>
</dl>

</dd>
<dt>m.cpice16.dp7503</dt><dd>
<p>a zoo object of 168 monthly on two macroeconomic variables from
January 1975 through December 2002 (p. 412):
</p>

<dl>
<dt>CPI</dt><dd>
<p>consumer price index for all urban consumers:  all items and
with index 1982-1984 = 100
</p>
</dd>
<dt>CE16</dt><dd>
<p>Civilian employment numbers 16 years and over:  measured in
thousands
</p>
</dd>
</dl>

</dd>
<dt>m.barra.9003</dt><dd>
<p>a zoo object giving monthly excess returns of ten stocks from
January 1990 through December 2003:
</p>

<dl>
<dt>AGE</dt><dd><p>A. G. Edwards</p>
</dd>
<dt>C</dt><dd><p>Citigroup</p>
</dd>
<dt>MWD</dt><dd><p>Morgan Stanley</p>
</dd>
<dt>MER</dt><dd><p>Merrill Lynch</p>
</dd>
<dt>DELL</dt><dd><p>Dell, Inc.</p>
</dd>
<dt>IBM</dt><dd><p>International Business Machines</p>
</dd>
<dt>AA</dt><dd><p>Alcoa</p>
</dd>
<dt>CAT</dt><dd><p>Caterpillar</p>
</dd>
<dt>PG</dt><dd><p>Proctor &amp; Gamble</p>
</dd>
</dl>

</dd>
<dt>m.5cln</dt><dd>
<p>a zoo object giving monthly log returns in percentages of 5 stocks
from January 1990 through December 1999:
</p>

<dl>
<dt>IBM</dt><dd><p>International Business Machines</p>
</dd>
<dt>HPQ</dt><dd><p>Hewlett-Packard</p>
</dd>
<dt>INTC</dt><dd><p>Intel</p>
</dd>
<dt>MER</dt><dd><p>Merrill Lynch</p>
</dd>
<dt>MWD</dt><dd><p>Morgan Stanley Dean Witter</p>
</dd>
</dl>

</dd>
<dt>m.apca0103</dt><dd>
<p>data.frame of monthly simple returns of 40 stocks from January
2001 through December 2003, discussed in sect. 9.6.2, pp. 437ff.
</p>

<dl>
<dt>CompanyID</dt><dd><p>5-digit company identification code</p>
</dd>
<dt>date</dt><dd><p>the last workday of the month</p>
</dd>
<dt>return</dt><dd><p>in percent</p>
</dd>
</dl>

</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005)
Analysis of Financial Time Series, 2nd ed. (Wiley, ch. 7)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>,
<code><a href="#topic+ch03data">ch03data</a></code>,
<code><a href="#topic+ch04data">ch04data</a></code>,
<code><a href="#topic+ch05data">ch05data</a></code>,
<code><a href="#topic+ch06data">ch06data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(m.apca0103)
dim(m.apca0103)
# 1440 3;  1440 = 40*36
# Are the dates all the same?
sameDates &lt;- rep(NA, 39)
for(i in 1:39)
    sameDates[i] &lt;- with(m.apca0103,
                         all.equal(date[1:36], date[(i*36)+1:36]))
stopifnot(all(sameDates))
M.apca0103 &lt;- with(m.apca0103, array(return, dim = c(36, 40), dimnames =
    list(NULL, paste("Co", CompanyID[seq(1, 1440, 36)], sep=""))))
</code></pre>

<hr>
<h2 id='ch10data'> Financial time series for Tsay (2005, ch. 10) </h2><span id='topic+ch10data'></span><span id='topic+d.hkja'></span><span id='topic+m.pfe6503'></span><span id='topic+m.mrk6503'></span><span id='topic+d.spcscointc'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 10.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(d.hkja)
data(m.pfe6503)
data(m.mrk6503)
#data(m.ibmsp2699)
# &lt;- 2 of the 4 columns in m.ibmsp2699ln
# documented with ch08data
data(d.spcscointc)
</code></pre>


<h3>Format</h3>

<p>One data set used in chapter 10 is also used earlier:
'm.ibmsp2699' is the first 2 of the 4 columns of 'm.ibmsp2699ln' used
in chapter 8.
</p>
<p>The other data sets used in chapter 10 are as follows:
</p>

<dl>
<dt>d.hkja</dt><dd>
<p>zoo object giving the daily log returns of HK and Japan market
indices from 1996-01-01 through 1997-05-05 (used in Example 10.1).
</p>
</dd>
<dt>m.pfe6503, m.mrk6503</dt><dd>
<p>zoo objects giving the monthly simple returns including dividends
of Pfizer and Merk stocks.
</p>
</dd>
<dt>d.spcscointc</dt><dd>
<p>data.frame giving 2275 daily log returns of three items from
January 2, 1991 through December 31, 1999:
</p>

<dl>
<dt>SP500</dt><dd><p>Standard &amp; Poor's 500 index</p>
</dd>
<dt>Cisco</dt><dd><p>Cisco stock</p>
</dd>
<dt>Intel</dt><dd><p>Intel stock</p>
</dd>
</dl>

<p>NOTE:  This date range seems to include 2280 trading days in the
New York Stock Exchange.  Since the file on the book's web site
did not include dates and since there appear to be more trading
days than observations, dates are not currently provided with
these observations.  This may change with a future revision of
this package.
</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 10)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>,
<code><a href="#topic+ch03data">ch03data</a></code>,
<code><a href="#topic+ch04data">ch04data</a></code>,
<code><a href="#topic+ch05data">ch05data</a></code>,
<code><a href="#topic+ch06data">ch06data</a></code>,
<code><a href="#topic+ch07data">ch07data</a></code>,
<code><a href="#topic+ch08data">ch08data</a></code>,
<code><a href="#topic+ch09data">ch09data</a></code>
</p>

<hr>
<h2 id='ch11data'> Financial time series for Tsay (2005, ch. 11) </h2><span id='topic+ch11data'></span><span id='topic+aa.3rv'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 11.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(aa.3rv)
# m.fac9003 described in ch09data
# q.jnj described in dh02data
</code></pre>


<h3>Format</h3>

<p>The text of chapter 11 considers one data set not used in previous
chapters plus two that are.  Monthly excess returns of GM stock are
used in Table 9.1 of Chapter 9.  Quarterly earnings of Johnson and
Johnson are used in Chapter 2.
</p>
<p>The data set introduced with Chapter 11 is as follows:
</p>

<dl>
<dt>aa.3rv.</dt><dd>
<p>a zoo object of daily 5, 10, and 20 minute realized volatility of
Alcoa stock from 2003-01-02 through 2004-05-07.
</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 11)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch09data">ch09data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>
</p>

<hr>
<h2 id='ch12data'> Financial time series for Tsay (2005, ch. 12) </h2><span id='topic+ch12data'></span><span id='topic+w.gs3n1c'></span><span id='topic+w.gs3c'></span><span id='topic+m.sp6299'></span><span id='topic+m.ibmspln6299'></span><span id='topic+m.sp5.6204'></span><span id='topic+m.geln'></span>

<h3>Description</h3>

<p>Financial time series used in examples in chapter 12.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(w.gs3n1c)
data(w.gs3c)
data(m.sp6299)
data(m.ibmspln6299)
data(m.sp5.6204)
data(m.geln)
</code></pre>


<h3>Format</h3>


<dl>
<dt>w.gs3n1c</dt><dd>
<p>a zoo object of the change series of weekly US interest rates (3
and 1 year maturities) from  Jan. 5, 1962, to Sep. 10, 1999.  This
was obtained via
</p>
<p><code>diff(window(w.gs1n36299, start=as.Date("1962-01-05"), end=as.Date("1999-09-10")))[, 2:1]</code>
</p>
<p>to get the dates with the data. Then 'all.equal' confirmed that
these numbers matched those in the file read from the web site
(which did not have dates).
</p>
<p>These are used in Example 12.1, pp. 556ff.
</p>
</dd>
<dt>w.gs3c</dt><dd>
<p>a zoo object giving the change series of weekly US 3-year maturity
interest rates from March 18, 1988, to Sept. 10, 1999.  This was
obtained via
</p>
<p><code>window(w.gs3n1c[, 1], start=as.Date("1988-03-18"), end = as.Date("1999-09-10"))</code>.
</p>
<p>Then 'all.equal' confirmed that these numbers matched those read
from the web site.
</p>
<p>These data are used in Example 12.2, pp. 564ff.
</p>
</dd>
<dt>m.sp6299</dt><dd>
<p>Monthly log returns of S&amp;P 500 index from January 1962 to December
1999.  These data are used in Example 12.3, pp. 569ff.
</p>
<p>These data are a subset of 'm.ibmspln', used in chapter 3.  That
series has dates, which were not provided in the file associated
with this series on the book's web site.  Moreover, the file with
chapter 12 has only 4 significant digits where the earlier file
has 6.  Since the other data are otherwise identical, this
'm.sp6299' was constructed as
</p>
<p><code>window(m.ibmspln[, 2], start = yearmon(1962), end = yearmon(1999+11/12))</code>.
</p>
</dd>
<dt>m.ibmspln6299</dt><dd>
<p>Monthly log returns of IBM stock and the S&amp;P 500 index from
January 1962 to December 1999.  These data are used in Example
12.4, pp. 573ff.
</p>
<p>These data are an expansion of 'm.sp6299' and were similarly
obtained from 'm.ibmspln'.
</p>
</dd>
<dt>m.sp5.6204</dt><dd>
<p>Monthly log returns of S&amp;P 500 index from January 1962 to November
1999.  These data are used in Example 12.5, pp. 586ff.
</p>
</dd>
<dt>m.geln</dt><dd>
<p>Monthly log returns of GE stock from January 1926 to December
1999.  These data are used in Example 12.6, pp. 591ff.
</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 12)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ch01data">ch01data</a></code>,
<code><a href="#topic+ch02data">ch02data</a></code>,
<code><a href="#topic+ch03data">ch03data</a></code>,
<code><a href="#topic+ch04data">ch04data</a></code>,
<code><a href="#topic+ch05data">ch05data</a></code>,
<code><a href="#topic+ch06data">ch06data</a></code>,
<code><a href="#topic+ch07data">ch07data</a></code>,
<code><a href="#topic+ch08data">ch08data</a></code>,
<code><a href="#topic+ch09data">ch09data</a></code>,
<code><a href="#topic+ch10data">ch10data</a></code>,
<code><a href="#topic+ch11data">ch11data</a></code>
</p>

<hr>
<h2 id='compoundInterest'>Compute compound interest</h2><span id='topic+compoundInterest'></span><span id='topic+simple2logReturns'></span>

<h3>Description</h3>

<p>Compute compound interest for a given number of
periods, compounding with an indicated frequency per period.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compoundInterest(interest, periods = 1, frequency = 1, net.value = FALSE)

simple2logReturns(R)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compoundInterest_+3A_interest">interest</code></td>
<td>
<p> rate of interest per period (usually per year). </p>
</td></tr>
<tr><td><code id="compoundInterest_+3A_periods">periods</code></td>
<td>
<p> number of periods over which to compound. </p>
</td></tr>
<tr><td><code id="compoundInterest_+3A_frequency">frequency</code></td>
<td>
<p> number of times per period to compound;
<code>frequency = Inf</code> to convert simple to log returns.</p>
</td></tr>
<tr><td><code id="compoundInterest_+3A_net.value">net.value</code></td>
<td>
<p> if TRUE, return the total value per
unit invested;  otherwise return net increase =
(net value - 1). </p>
</td></tr>
<tr><td><code id="compoundInterest_+3A_r">R</code></td>
<td>
<p> simple interest to be converted to log(returns). </p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are vectorized for all arguments.  The code uses
optionally <code>expm1(x) = exp(x) - 1</code> and <code>log1p(x) = log(1+x)</code>
which can preserve numerical precision for x very close to 0.
</p>


<h3>Value</h3>

<p>vector of the length of the longest argument.  
</p>


<h3>References</h3>

<p>Ruey Tsay (2005)
Analysis of Financial Time Series, 2nd ed. (Wiley, p. 6)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># "Net Value" column of Tsay Table 1.1, p. 4
compoundInterest(0.1, frequency = c(1, 2, 4, 12, 52, 365, Inf),
                      net.value = FALSE)
# Example 1.1, p. 6
compoundInterest(.0446, freq = Inf)
# Inverse of Example 1.1
simple2logReturns(.0456)
</code></pre>

<hr>
<h2 id='findConjugates'> Find complex conjugate pairs </h2><span id='topic+findConjugates'></span>

<h3>Description</h3>

<p>Find all complex conjugate pairs in a vector of complex numbers and
return one number from each pair.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findConjugates(x, complex.eps = .Machine[["double.eps"]])
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findConjugates_+3A_x">x</code></td>
<td>

<p>a vector of complex numbers
</p>
</td></tr>
<tr><td><code id="findConjugates_+3A_complex.eps">complex.eps</code></td>
<td>

<p>a small positive number used to identify complex conjugates:
<code>x[i]</code> and <code>x[j]</code> are considered conjugates if
</p>
<p><code>(abs(x-Conj(x)) / max(abs(x[i], x[j]))) &lt; complex.eps </code>
</p>
<p>and
<code>(abs(x[i] - x[j]) &gt; complex.eps</code>.
The latter condition excludes repeated roots.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  Compute normalization <code>m2 = outer(abs(x), abs(x), max)</code>.
</p>
<p>2.  Compute complex differences
<code>c2 = abs(outer(x, Conj(x), "-")) / m2</code>.
</p>
<p>3.  If any <code>abs(c2) &lt; complex.eps</code>, make sure the numbers are not
duplicate reals via
</p>
<p><code>(d2 = abs(outer(x, x, "-"))) &gt; complex.eps</code>.
</p>


<h3>Value</h3>

<p>a complex vector with one representative of each complex pair found
</p>


<h3>Author(s)</h3>

<p>Spencer Graves and Ravi Varadhan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plotArmaTrueacf">plotArmaTrueacf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># none
findConjugates(NULL)
findConjugates(numeric(0))
findConjugates(0:4)
findConjugates(rep(0:1,each=3))

# some
findConjugates(c(1+1i, 0, 1-1i, 2-2i, 3, 2+2i, NA))

# Testing with polyroot and solve(polynomial(...))
set.seed(1234)
if(require(polynom)){
  p &lt;- polynomial(sample(1:10, size=45, rep=TRUE)) # degree 44
  z &lt;- solve(p)
  findConjugates(z, complex.eps=.Machine$double.eps)
  # this identifies all 21 conjugate pairs, R 2.6.0 for Windows

  z1 &lt;- polyroot(p)
  findConjugates(z1, complex.eps=.Machine$double.eps)
  # this only identifies only 3 conjugate pairs, R 2.6.0 for Windows
}
</code></pre>

<hr>
<h2 id='FinTS.stats'> Financial Time Series summary statistics </h2><span id='topic+FinTS.stats'></span>

<h3>Description</h3>

<p>Summary statistics as in Table 1.2, Tsay (2005), including the start
date, number of observations, mean, standard deviation, skewness,
excess kurtosis, min and max.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FinTS.stats(x) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FinTS.stats_+3A_x">x</code></td>
<td>

<p>A univariate object of class 'zoo' 
</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ruey Tsay (2005)
Analysis of Financial Time Series, 2nd ed. (Wiley, p. 11)
</p>


<h3>See Also</h3>

<p><code><a href="zoo.html#topic+index">index</a></code>,
<code><a href="base.html#topic+sum">sum</a></code>,
<code><a href="Matrix.html#topic+is.na">is.na</a></code>,
<code><a href="base.html#topic+mean">mean</a></code>,
<code><a href="stats.html#topic+sd">sd</a></code>,
<code><a href="e1071.html#topic+skewness">skewness</a></code>,
<code><a href="e1071.html#topic+kurtosis">kurtosis</a></code>,
<code><a href="base.html#topic+min">min</a></code>,
<code><a href="base.html#topic+max">max</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>FinTS.stats(rep(1, 5))

data(d.c8603)
FinTS.stats(100*d.c8603[, "C"])

## The following generates an error, because FinTS.stats
## expects a vector of class 'zoo', and d.c8603 is a matrix
#FinTS.stats(100*d.c8603) 
</code></pre>

<hr>
<h2 id='package.dir'> Directory of a package  </h2><span id='topic+package.dir'></span>

<h3>Description</h3>

<p>Display a partial or complete directory of a package.  By default,
suppress common package contents to focus on 'demo', 'doc', 'scripts',
and similar subdirectories whose contents might contain examples that
could make it easier to learn capabilities of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>package.dir(package = 'base', lib.loc = NULL,
      exclude = c('chtml', 'data', 'help', 'html', 'latex', 'libs',
                  'man', 'Meta', 'po', 'R', 'R-ex', 'src'),
      include = NULL, pattern = NULL, recursive = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="package.dir_+3A_package">package</code></td>
<td>

<p>character string naming a locally installed package.  If 'package'
is not locally installed, it is an error.
</p>
</td></tr>
<tr><td><code id="package.dir_+3A_lib.loc">lib.loc</code></td>
<td>

<p>a character vector with path names of R libraries, or 'NULL'.  The
default value of 'NULL' corresponds to all libraries currently
known.  If the default is used, the loaded packages are searched
before the libraries.
</p>
</td></tr>
<tr><td><code id="package.dir_+3A_exclude">exclude</code></td>
<td>

<p>either NULL or a character vector naming subdirectories of 'package'
to exclude from the list.  If 'include' is not NULL, 'exclude' is
ignored.
</p>
</td></tr>
<tr><td><code id="package.dir_+3A_include">include</code></td>
<td>

<p>either NULL or a character vector naming subdirectories of 'package'
to exclude from the list.  If 'include' is not NULL, 'exclude is
ignored.
</p>
</td></tr>
<tr><td><code id="package.dir_+3A_pattern">pattern</code></td>
<td>

<p>an optional regular expression passed with the results of
<a href="base.html#topic+system.file">system.file</a> to <a href="base.html#topic+dir">dir</a>.  Only file names which match the
regular expression will be returned.  This is ignored if 'recursive'
is FALSE.
</p>
</td></tr>
<tr><td><code id="package.dir_+3A_recursive">recursive</code></td>
<td>

<p>logical. Should the listing recurse into subdirectories?
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  <code>fullPath &lt;- system.file(package = package, lib.loc = lib.loc)</code>
</p>
<p>2.  <code>Dir &lt;- dir(fullPath)</code>
</p>
<p>3.  Restrict Dir only to 'include' if provided and to all but
'exclude' otherwise.
</p>
<p>4.  If recursive, return a list produced by <code><a href="base.html#topic+dir">dir</a></code> for each
of the subdirectories of interest determined in step 3.  Else, return
only the list of subdirectories from step 3.
</p>


<h3>Value</h3>

<p>If recursive, a list of the contents of the subdirectories of
interest.  Else, a character vector of the names of the relevant
subdirectories.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+system.file">system.file</a></code>
<code><a href="base.html#topic+dir">dir</a></code>
<code><a href="base.html#topic+file.path">file.path</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>package.dir() # 'demo'
package.dir(recursive = TRUE) # contents of 'demo'
package.dir('nlme') # 'mlbook', 'scripts'
</code></pre>

<hr>
<h2 id='plot.loadings'> Plot loadings </h2><span id='topic+plot.loadings'></span>

<h3>Description</h3>

<p>Plots loadings as a separate barplot for each factor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'loadings'
plot(x, n = 5, k = ncol(x), mfrow = c(k, 1), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.loadings_+3A_x">x</code></td>
<td>
<p>A <code>loadings</code> object.</p>
</td></tr>
<tr><td><code id="plot.loadings_+3A_n">n</code></td>
<td>
<p>Number of components of each factor to plot.</p>
</td></tr>
<tr><td><code id="plot.loadings_+3A_k">k</code></td>
<td>
<p>Number of factors to plot.</p>
</td></tr>
<tr><td><code id="plot.loadings_+3A_mfrow">mfrow</code></td>
<td>
<p>Passed to <code>par(mfrow = ...)</code> if <code>k &gt; 1</code>.</p>
</td></tr>
<tr><td><code id="plot.loadings_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code>barplot</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The top <code>n</code> components of each of the top <code>k</code> factors
are displayed in a separate <code>barplot</code>.  
</p>


<h3>Value</h3>

<p>Return value is a list of the return values from each <code>barplot</code>
invocation.
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+barplot">barplot</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(m.barra.9003)
rtn &lt;- m.barra.9003
stat.fac &lt;- factanal(rtn, factors = 3)
m.barra.loadings &lt;- loadings(stat.fac)
plot(m.barra.loadings)
</code></pre>

<hr>
<h2 id='plotArmaTrueacf'> Plot the theoretical ACF corresponding to an ARMA model  </h2><span id='topic+plotArmaTrueacf'></span>

<h3>Description</h3>

<p>Compute the roots and theoretical ACF corresponding to an ARMA model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotArmaTrueacf(object, lag.max = 20, pacf = FALSE, plot = TRUE,
          xlab = "lag", ylab = c("ACF", "PACF")[1+pacf],
          ylim = c(-1, 1) * max(ACF), type = "h",
          complex.eps = 1000 * .Machine[["double.neg.eps"]], ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotArmaTrueacf_+3A_object">object</code></td>
<td>

<p>either a numeric vector or a list with components 'ar' and 'ma'.  If
'object' is numeric, it is interpreted as a model with no 'ma' part.
</p>
</td></tr>
<tr><td><code id="plotArmaTrueacf_+3A_lag.max">lag.max</code></td>
<td>

<p>the maximum number of lags for which to calculate the ACF or PACF.
</p>
</td></tr>
<tr><td><code id="plotArmaTrueacf_+3A_pacf">pacf</code></td>
<td>

<p>logical.  Should the partial autocorrelations be returned?
</p>
</td></tr>
<tr><td><code id="plotArmaTrueacf_+3A_plot">plot</code></td>
<td>

<p>logical.  Should the ACF (or PACF) be plotted?
</p>
</td></tr>
<tr><td><code id="plotArmaTrueacf_+3A_xlab">xlab</code>, <code id="plotArmaTrueacf_+3A_ylab">ylab</code>, <code id="plotArmaTrueacf_+3A_ylim">ylim</code>, <code id="plotArmaTrueacf_+3A_type">type</code></td>
<td>

<p>arguments for 'plot'
</p>
</td></tr>
<tr><td><code id="plotArmaTrueacf_+3A_complex.eps">complex.eps</code></td>
<td>

<p>a small positive number used to identify complex conjugates:  Let
'roots' = the vector of p roots of the characteristic polynomial of
the autoregressive part of 'object'.  This is used by
'findConjugates':  x[i] and x[j] are considered conjugate if their
relative difference exceeds complex.eps but the relative difference
of their conjugates is less than complex.eps.
</p>
<p>We use 'solve' in the 'polynom' package, because it was substially
more accurate for cases we tested in R 2.6.0 than 'polyroot'.
</p>
</td></tr>
<tr><td><code id="plotArmaTrueacf_+3A_...">...</code></td>
<td>

<p>optional arguments passed to 'plot'.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  Compute and test stationarity.  An ARMA process is stationary if
all the roots of its AR component lie inside the unit  circle (Box and
Jenkins, 1970).  If the process is not stationary, a warning is
issued, and no plot is produced.
</p>
<p>2.  Compute and plot the theoretical ACF.
</p>
<p>3.  Analyze periodicity of any complex roots
</p>


<h3>Value</h3>

<p>a list with the following components
</p>
<table>
<tr><td><code>roots</code></td>
<td>

<p>a complex vector of the roots sorted by modulus and sign of the
immaginary part.
</p>
</td></tr>
<tr><td><code>acf</code>, <code>pacf</code></td>
<td>

<p>a named numeric vector of the estimated ACF (or PACF of 'pacf =
TRUE').
</p>
</td></tr>
<tr><td><code>periodicity</code></td>
<td>

<p>a data.frame with one row for each complex conjugate pair of roots
and columns 'damping' and 'period'.
</p>
</td></tr>
</table>


<h3>Source</h3>

<p><a href="https://faculty.chicagobooth.edu/ruey-s-tsay/teaching">https://faculty.chicagobooth.edu/ruey-s-tsay/teaching</a>
</p>


<h3>References</h3>

<p>George E. P. Box and Gwilym M. Jenkins (1970) Time Series Analysis,
Forecasting and Control (Holden-Day, sec. 3.4.1.  Stationarity and
invertibility properties of Mixed autoregressive-moving average
processes)
</p>
<p>Ruey Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Wiley,
ch. 2)
</p>


<h3>See Also</h3>

<p><code><a href="polynom.html#topic+solve.polynomial">solve.polynomial</a></code>,
<code><a href="stats.html#topic+ARMAacf">ARMAacf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Tsay, Figure 2.3
op &lt;- par(mfcol = c(1, 2))
plotArmaTrueacf(.8, lag.max = 8)
title("(a)")
plotArmaTrueacf(-.8, lag.max = 8)
title("b")
par(op)

# Tsay, Figure 2.4
op &lt;- par(mfrow = c(2,2))
plotArmaTrueacf(c(1.2, -.35))
title("(a)")
plotArmaTrueacf(c(.6, -.4))
title("(b)")
plotArmaTrueacf(c(.2, .35))
title("(c)")
plotArmaTrueacf(c(-.2, .35))
title("(d)")
par(op)

# Tsay, Example 2.1
data(q.gnp4791)
(fit.ar3 &lt;- ar(q.gnp4791, aic = FALSE, order = 3))
plotArmaTrueacf(fit.ar3)
</code></pre>

<hr>
<h2 id='read.yearmon'>Reading Monthly zoo Series</h2><span id='topic+read.yearmon'></span>

<h3>Description</h3>

<p>Read a text file containing monthly data with a date column and return
a zoo object with index = a yearmon series with the dates read as
names.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.yearmon(file, format = "", tz = "", FUN = NULL, regular = FALSE,
             index.column = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.yearmon_+3A_file">file</code></td>
<td>
<p>character giving the name of the file which the data
are to be read from/written to. See <code><a href="utils.html#topic+read.table">read.table</a></code> and
<code><a href="utils.html#topic+write.table">write.table</a></code> for more information.</p>
</td></tr>
<tr><td><code id="read.yearmon_+3A_format">format</code></td>
<td>
<p>date format argument passed to <code><a href="base.html#topic+as.Date.character">as.Date.character</a></code>.</p>
</td></tr>
<tr><td><code id="read.yearmon_+3A_tz">tz</code></td>
<td>
<p>time zone argument passed to <code><a href="base.html#topic+as.POSIXct">as.POSIXct</a></code>.</p>
</td></tr>
<tr><td><code id="read.yearmon_+3A_fun">FUN</code></td>
<td>
<p>a function for computing the index from the first column
of the data. See details.</p>
</td></tr>
<tr><td><code id="read.yearmon_+3A_regular">regular</code></td>
<td>
<p>logical. Should the series be coerced to class <code>"zooreg"</code>
(if the series is regular)?</p>
</td></tr>
<tr><td><code id="read.yearmon_+3A_index.column">index.column</code></td>
<td>
<p>integer. The column of the data frame in which the index/time
is stored.</p>
</td></tr>
<tr><td><code id="read.yearmon_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="utils.html#topic+read.table">read.table</a></code> or
<code><a href="utils.html#topic+write.table">write.table</a></code>, respectively.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments are as for <code>read.zoo</code>:  
</p>
<p><code>TS &lt;- read.zoo(...)</code>
</p>
<p><code>zoo(coredata(TS), as.yearmon2(index(TS))) </code>
</p>


<h3>Value</h3>

<p>an object of class <code>"zoo"</code> or <code>"zooreg"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+read.table">read.table</a></code>,
<code><a href="zoo.html#topic+zoo">zoo</a></code>,
<code><a href="zoo.html#topic+read.zoo">read.zoo</a></code>,
<code><a href="zoo.html#topic+coredata">coredata</a></code>,
<code><a href="zoo.html#topic+index">index</a></code>,
<code><a href="#topic+as.yearmon2">as.yearmon2</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## turn *numeric* first column into yearmon index
## where number is year + fraction of year represented by month
z &lt;- read.zoo("foo.csv", sep = ",", FUN = as.yearmon2)
z2 &lt;- read.yearmon("foo.csv", sep = ",")

## End(Not run)
</code></pre>

<hr>
<h2 id='runscript'> Run a package script </h2><span id='topic+runscript'></span>

<h3>Description</h3>

<p>Run a script associated with a particular chapter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runscript(x, method = c('run', 'copy', 'view', 'show', 'dir'),
          ask = TRUE, fmt = "ch%02d.R", package = "FinTS",
          subdir = "scripts", lib.loc = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runscript_+3A_x">x</code></td>
<td>

<p>an object to identify a file in package/subdir via
<code>sprintf(fmt, x)</code>. 
</p>
<p>For example, the default 'fmt' translates <code>x = 2</code> into 'ch02.R'.  If
no 'x' is specified, a directory of options is provided.
</p>
<p>CAUTION:  Under some systems like ESS (Emacs Speaks Statistics)
under Windows, pop-up menus such as produced by <code>runscript()</code> may
not work properly.
</p>
</td></tr>
<tr><td><code id="runscript_+3A_method">method</code></td>
<td>

<p>One of the following:
</p>

<dl>
<dt>run</dt><dd>
<p>run the desired script file, similar to <a href="utils.html#topic+demo">demo</a> or
<a href="utils.html#topic+example">example</a>.
</p>
</dd>
<dt>copy</dt><dd>
<p>make a copy if the desired script file in the working directory,
similar to <code>Stangle(vignette(...)[["file"]])</code>.
</p>
</dd>
<dt>view</dt><dd>
<p>display the desired script file on R console but do not execute it.
</p>
</dd>
<dt>show</dt><dd>
<p>display the desired script file using <a href="base.html#topic+file.show">file.show</a>
</p>
</dd>
<dt>dir</dt><dd>
<p>return the directory showing only the location of the desired
script.
</p>
</dd>
</dl>

<p>Partial matching is allowed.
</p>
</td></tr>
<tr><td><code id="runscript_+3A_ask">ask</code></td>
<td>

<p>logical:  Should <code>par(ask=TRUE)</code> be called before graphical
output happens from the script?
</p>
</td></tr>
<tr><td><code id="runscript_+3A_fmt">fmt</code></td>
<td>

<p>a format to be used with 'x' in <a href="base.html#topic+sprintf">sprintf</a> to create the name of
a file in lib.loc/package/subdir.
</p>
</td></tr>
<tr><td><code id="runscript_+3A_subdir">subdir</code></td>
<td>

<p>subdirectory of package containing a file of the name constructed
via <code>sprintf(fmt, x)</code>.
</p>
</td></tr>
<tr><td><code id="runscript_+3A_package">package</code></td>
<td>

<p>Name of a package with subdirectory 'subdir'.
</p>
</td></tr>
<tr><td><code id="runscript_+3A_lib.loc">lib.loc</code></td>
<td>

<p>NULL or character string identifying the location where
<code style="white-space: pre;">&#8288;system.file(subdir, package, lib.loc)&#8288;</code> will find the folder
containing the file identified via <code>sprintf(fmt, x)</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>similar to <a href="utils.html#topic+demo">demo</a> or <a href="utils.html#topic+example">example</a>
</p>


<h3>Value</h3>

<p>the full path and filename, invisibly unless <code>method == 'dir'</code>
</p>


<h3>Author(s)</h3>

<p>Gabor Grothendieck and Spencer Graves
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+demo">demo</a></code>,
<code><a href="base.html#topic+sprintf">sprintf</a></code>,
<code><a href="base.html#topic+system.file">system.file</a></code>,
<code><a href="#topic+package.dir">package.dir</a></code>,
<code><a href="utils.html#topic+Stangle">Stangle</a></code>,
<code><a href="utils.html#topic+vignette">vignette</a></code>,
<code><a href="utils.html#topic+example">example</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# provide a menu
runscript()

# run R/library/FinTS/scripts/ch01.R
runscript(1)

# same as:
runscript(1, "run")

# make a copy as 'ch01.R' in the working directory
runscript(1, 'copy')

# display on console only
runscript(1, 'view')

# display using file.show
runscript(1, 'show')

# where is it?
runscript(1, 'dir')

# run R/library/nlme/scripts/afda-ch01.R
if(require(fda))
    runscript(1, fmt = "afda-ch%02d.R", package = "fda")

## End(Not run)
</code></pre>

<hr>
<h2 id='TsayFiles'>
List of the names of files downloaded from the &quot;Analysis of Financial
Data&quot; web site.
</h2><span id='topic+FinTS.url'></span><span id='topic+TsayFiles'></span>

<h3>Description</h3>

<p>A list organized by chapter and text vs. exercises of the files
downloaded from the web site associated with Tsay (2005) Analysis of
Financial Time Series, 2nd ed. (Springer) and stored in
&quot;~library/FinTS/scripts/TsayFiles&quot;.  These facilitate the process of
creating and updating the 'FinTS' package (and documenting the
creation process).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TsayFiles
</code></pre>


<h3>Format</h3>


<dl>
<dt>TsayFiles</dt><dd>
<p>A list with names 'ch01', 'ch02', ..., 'ch12' for components
describing the files associated with the corresponding chapter.
</p>
<p>Each chapter component is a list with 'text' and 'exercises'
components, where 'text' and 'exercises' are each a character
array giving names for 'data', 'file', 'url', and 'found' for the
data referenced in the text or exercises of that chapter:
</p>

<dl>
<dt>data</dt><dd>
<p>'file' without the extension, e.g, 'd-ibmvwewsp6203' for daily
simple returns of IBM, VW, EW, SP (7/3/62-12/31/03) = 'file'
without the extension.
</p>
</dd>
<dt>file</dt><dd>
<p>short file name = 'data' plus the extension, e.g.,
'd-ibmvwewsp6203'.txt' for daily simple returns of IBM, VW,
EW, SP (7/3/62-12/31/03)
</p>
</dd>
<dt>url</dt><dd>
<p>universal resource locator for the data, e.g.,
</p>
<p>&quot;http://faculty.chicagogsb.edu/ruey.tsay/teaching/fts2/d-ibmvwewsp6203.txt&quot;
</p>
</dd>
<dt>found</dt><dd>
<p>'TRUE' if the data were found, 'FALSE' if the attempt to
access the url failed.
</p>
</dd>
</dl>

<p>NOTES:
</p>
<p>(1) 13 files are referenced twice, and 2 are referenced three
times on the web page.  This redundancy is retained in
'TsayFiles'.
</p>
<p>(2) A few files (most noticably some with with '.dat' extension)
are referenced in the HTML code without an apparent visible link.
These 'invisible files' are retained in 'TsayFiles'.
</p>
</dd>
<dt>FinTS.url</dt><dd>
<p>A character string giving the universal resource locator (URL)
associated with the Tsay (2005) book:
</p>

<p><code>FinTS.url &lt;- "https://faculty.chicagobooth.edu/ruey-s-tsay/teaching"</code>
</p>
</dd>
</dl>



<h3>Source</h3>

<p>Tsay (2005) Analysis of Financial Time Series, 2nd ed. (Springer)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TsayFiles)
TsayFiles$ch01$exercises
</code></pre>

<hr>
<h2 id='url2data'> Create local copies of files read from urls </h2><span id='topic+url2data'></span>

<h3>Description</h3>

<p>Call 'download.file' with each element of a vector of character
strings assumed to be URLs, create a local copy for each, and return a
character matrix summarizing what was done.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url2data(url.) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url2data_+3A_url.">url.</code></td>
<td>

<p>a vector of character strings assumed to be URLs, whose names are
assumed to be the names to be used for local copies of the URLs.  
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  <code>fili &lt;- names(urls.)</code>
</p>
<p>2.  <code>dati &lt;- fili</code> without its extension, i.e., the part
following the last '.'
</p>
<p>3.  <code>for(i in 1:length(url.)try(download.file(url.[i], fili[i]));</code>
<code>found[i] = TRUE</code> if something found and FALSE if not.  
</p>
<p>4.  Return a character matrix with 4 columns:  data = dati, file =
fili, url = url., and found.  
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See ~R\library\FinTS\scripts\TsayFiles.R  
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

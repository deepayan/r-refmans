<!DOCTYPE html><html><head><title>Help for package RPresto</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RPresto}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_chunk'><p>Add a chunk field to a data frame</p></a></li>
<li><a href='#db_desc.PrestoConnection'><p>S3 implementation of <code>db_desc</code> for Presto.</p></a></li>
<li><a href='#db_list_tables.PrestoConnection'><p>dbplyr database methods</p></a></li>
<li><a href='#dbCreateTableAs'><p>Create a table in database using a statement</p></a></li>
<li><a href='#dbDataType,PrestoDriver-method'><p>Return the corresponding presto data type for the given R <code>object</code></p></a></li>
<li><a href='#dbGetInfo,PrestoDriver-method'><p>Metadata about database objects</p></a></li>
<li><a href='#dbplyr_edition.PrestoConnection'><p>Inform the dbplyr version used in this package</p></a></li>
<li><a href='#dbRenameTable'><p>Rename a table</p></a></li>
<li><a href='#dummy_tables'><p>Create dummy tables in Presto for testing</p></a></li>
<li><a href='#dummyPrestoConnection'><p>A dummy PrestoConnection</p></a></li>
<li><a href='#kerberos_configs'><p>A convenient wrapper around Kerberos config</p></a></li>
<li><a href='#Presto'><p>Connect to a Presto database</p></a></li>
<li><a href='#presto_default'><p>Check if default database is available.</p></a></li>
<li><a href='#PrestoConnection-class'><p>S4 implementation of <code>DBIConnection</code> for Presto.</p></a></li>
<li><a href='#PrestoDriver-class'><p>An S4 class to represent a Presto Driver (and methods)</p>
It is used purely for dispatch and <code>dbUnloadDriver</code> is unnecessary</a></li>
<li><a href='#PrestoQuery-class'><p>Class to encapsulate a Presto query</p></a></li>
<li><a href='#PrestoResult-class'><p>An S4 class to represent a Presto Result</p></a></li>
<li><a href='#PrestoSession-class'><p>Class to encapsulate a Presto session</p></a></li>
<li><a href='#RPresto-package'><p>RPresto: DBI Connector to Presto</p></a></li>
<li><a href='#sql_query_fields.PrestoConnection'><p>S3 implementation of <code>sql_query_fields</code> for Presto.</p></a></li>
<li><a href='#sql_query_save.PrestoConnection'><p>dbplyr SQL methods</p></a></li>
<li><a href='#sqlCreateTableAs'><p>Compose query to create a simple table using a statement</p></a></li>
<li><a href='#src_presto'><p>dplyr integration to connect to a Presto database.</p></a></li>
<li><a href='#tbl.src_presto'><p>dplyr integration to connect to a table in a database.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>DBI Connector to Presto</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.6</td>
</tr>
<tr>
<td>Copyright:</td>
<td>Meta Platforms, Inc. 2015-present.</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements a 'DBI' compliant interface to Presto. Presto is
    an open source distributed SQL query engine for running interactive
    analytic queries against data sources of all sizes ranging from
    gigabytes to petabytes: <a href="https://prestodb.io/">https://prestodb.io/</a>.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>DBI (&ge; 0.3.0), httr (&ge; 0.6), openssl, jsonlite, stringi,
stats, utils, purrr, dplyr (&ge; 0.7.0), dbplyr (&ge; 2.3.3),
tibble, bit64, rlang, lifecycle, lubridate, progress, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, hms, knitr, rmarkdown</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/prestodb/RPresto">https://github.com/prestodb/RPresto</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/prestodb/RPresto/issues">https://github.com/prestodb/RPresto/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Collate:</td>
<td>'PrestoDriver.R' 'Presto.R' 'PrestoSession.R'
'PrestoConnection.R' 'PrestoQuery.R' 'PrestoResult.R'
'RPresto-package.R' 'chunk.R' 'create.dummy.tables.R' 'cte.R'
'dbAppendTable.R' 'dbClearResult.R' 'dbConnect.R'
'dbCreateTable.R' 'dbCreateTableAs.R' 'dbDataType.R'
'dbDisconnect.R' 'dbExistsTable.R' 'dbFetch.R' 'dbGetInfo.R'
'dbGetQuery.R' 'dbGetRowCount.R' 'dbGetRowsAffected.R'
'dbGetStatement.R' 'dbHasCompleted.R' 'dbIsValid.R'
'dbListFields.R' 'dbListTables.R' 'dbQuoteIdentifier.R'
'dbQuoteLiteral.R' 'dbReadTable.R' 'dbRemoveTable.R'
'dbRenameTable.R' 'dbSendQuery.R' 'dbUnloadDriver.R'
'dbWriteTable.R' 'dbplyr-db.R' 'dbplyr-sql.R' 'dbplyr-src.R'
'default.R' 'fetch.R' 'presto.field.R'
'presto.field_utilities.R' 'request_headers.R'
'sqlCreateTable.R' 'sqlCreateTableAs.R' 'zzz.R'</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-30 14:38:41 UTC; jarodmeng</td>
</tr>
<tr>
<td>Author:</td>
<td>Onur Ismail Filiz [aut],
  Sergey Goder [aut],
  Jarod G.R. Meng [aut, cre],
  Thomas J. Leeper [ctb],
  John Myles White [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jarod G.R. Meng &lt;jarodm@fb.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-01 01:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_chunk'>Add a chunk field to a data frame</h2><span id='topic+add_chunk'></span>

<h3>Description</h3>

<p>This auxiliary function adds a field, if necessary, to a data frame so that
each compartment of the data frame that corresponds to a unique combination
of the chunk fields has a size below a certain threshold. This resulting
data frame can then be safely used in dbAppendTable() becauase Presto has a
size limit on any discrete INSERT INTO statement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_chunk(
  value,
  base_chunk_fields = NULL,
  chunk_size = 1e+06,
  new_chunk_field_name = "aux_chunk_idx"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_chunk_+3A_value">value</code></td>
<td>
<p>The original data frame.</p>
</td></tr>
<tr><td><code id="add_chunk_+3A_base_chunk_fields">base_chunk_fields</code></td>
<td>
<p>A character vector of existing field names that are
used to split the data frame before checking the chunk size.</p>
</td></tr>
<tr><td><code id="add_chunk_+3A_chunk_size">chunk_size</code></td>
<td>
<p>Maximum size (in bytes) of the VALUES statement encoding
each unique chunk. Default to 1,000,000 bytes (i.e. 1Mb).</p>
</td></tr>
<tr><td><code id="add_chunk_+3A_new_chunk_field_name">new_chunk_field_name</code></td>
<td>
<p>A string indicating the new chunk field name.
Default to &quot;aux_chunk_idx&quot;.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# returns the original data frame because it's within size
add_chunk(iris)
# add a new aux_chunk_idx field
add_chunk(iris, chunk_size = 2000)
# the new aux_chunk_idx field is added on top of Species
add_chunk(iris, chunk_size = 2000, base_chunk_fields = c("Species"))

## End(Not run)
</code></pre>

<hr>
<h2 id='db_desc.PrestoConnection'>S3 implementation of <code>db_desc</code> for Presto.</h2><span id='topic+db_desc.PrestoConnection'></span><span id='topic+db_data_type.PrestoConnection'></span><span id='topic+db_explain.PrestoConnection'></span><span id='topic+db_query_rows.PrestoConnection'></span><span id='topic+db_collect.PrestoConnection'></span><span id='topic+collect.tbl_presto'></span><span id='topic+compute.tbl_presto'></span>

<h3>Description</h3>

<p>S3 implementation of <code>db_desc</code> for Presto.
</p>
<p>S3 implementation of <code><a href="dplyr.html#topic+backend_dbplyr">dplyr::db_data_type()</a></code> for Presto.
</p>
<p>S3 implementation of <code><a href="dplyr.html#topic+backend_dbplyr">dplyr::db_explain()</a></code> for Presto.
</p>
<p>S3 implementation of <code><a href="dplyr.html#topic+backend_dbplyr">dplyr::db_query_rows()</a></code> for Presto.
</p>
<p>S3 implementation of <code>db_collect</code> for Presto.
</p>
<p>S3 implementation of <code>collect</code> for Presto.
</p>
<p>S3 implementation of <code>compute</code> for Presto.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PrestoConnection'
db_desc(x)

## S3 method for class 'PrestoConnection'
db_data_type(con, fields, ...)

## S3 method for class 'PrestoConnection'
db_explain(con, sql, ...)

## S3 method for class 'PrestoConnection'
db_query_rows(con, sql, ...)

## S3 method for class 'PrestoConnection'
db_collect(con, sql, n = -1, warn_incomplete = TRUE, ...)

## S3 method for class 'tbl_presto'
collect(x, ..., n = Inf, warn_incomplete = TRUE)

## S3 method for class 'tbl_presto'
compute(x, name, temporary = FALSE, ..., cte = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="db_desc.PrestoConnection_+3A_x">x</code></td>
<td>
<p>A lazy data frame backed by a database query.</p>
</td></tr>
<tr><td><code id="db_desc.PrestoConnection_+3A_cte">cte</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
An experimental feature to save the query to a common table expression.
Default to FALSE. See <code>vignette("common-table-expressions")</code></p>
</td></tr>
</table>

<hr>
<h2 id='db_list_tables.PrestoConnection'>dbplyr database methods</h2><span id='topic+db_list_tables.PrestoConnection'></span><span id='topic+db_has_table.PrestoConnection'></span><span id='topic+db_write_table.PrestoConnection'></span><span id='topic+db_copy_to.PrestoConnection'></span><span id='topic+db_compute.PrestoConnection'></span><span id='topic+db_sql_render.PrestoConnection'></span>

<h3>Description</h3>

<p>dbplyr database methods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PrestoConnection'
db_list_tables(con)

## S3 method for class 'PrestoConnection'
db_has_table(con, table)

## S3 method for class 'PrestoConnection'
db_write_table(
  con,
  table,
  types,
  values,
  temporary = FALSE,
  overwrite = FALSE,
  ...,
  with = NULL
)

## S3 method for class 'PrestoConnection'
db_copy_to(
  con,
  table,
  values,
  overwrite = FALSE,
  types = NULL,
  temporary = TRUE,
  unique_indexes = NULL,
  indexes = NULL,
  analyze = TRUE,
  ...,
  in_transaction = TRUE,
  with = NULL
)

## S3 method for class 'PrestoConnection'
db_compute(
  con,
  table,
  sql,
  temporary = TRUE,
  unique_indexes = list(),
  indexes = list(),
  analyze = TRUE,
  with = NULL,
  ...
)

## S3 method for class 'PrestoConnection'
db_sql_render(con, sql, ..., use_presto_cte = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_con">con</code></td>
<td>
<p>A <code>PrestoConnection</code> as returned by <code>dbConnect()</code>.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_table">table</code></td>
<td>
<p>Table name</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_types">types</code></td>
<td>
<p>Column types. If not provided, column types are inferred using
dbDataType.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_values">values</code></td>
<td>
<p>A <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_temporary">temporary</code></td>
<td>
<p>If a temporary table should be used. Not supported. Only
FALSE is accepted.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_overwrite">overwrite</code></td>
<td>
<p>If an existing table should be overwritten.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_...">...</code></td>
<td>
<p>Extra arguments to be passed to individual methods.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_with">with</code></td>
<td>
<p>An optional WITH clause for the CREATE TABLE statement.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_unique_indexes">unique_indexes</code>, <code id="db_list_tables.PrestoConnection_+3A_indexes">indexes</code>, <code id="db_list_tables.PrestoConnection_+3A_analyze">analyze</code>, <code id="db_list_tables.PrestoConnection_+3A_in_transaction">in_transaction</code></td>
<td>
<p>Ignored. Included
for compatibility with generics.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_sql">sql</code></td>
<td>
<p>A SQL statement.</p>
</td></tr>
<tr><td><code id="db_list_tables.PrestoConnection_+3A_use_presto_cte">use_presto_cte</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
A logical value indicating if to use common table expressions stored in
PrestoConnection when possible. Default to TRUE. See
<code>vignette("common-table-expressions")</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='dbCreateTableAs'>Create a table in database using a statement</h2><span id='topic+dbCreateTableAs'></span>

<h3>Description</h3>

<p>Create a table in database using a statement
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dbCreateTableAs(conn, name, sql, overwrite = FALSE, with = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbCreateTableAs_+3A_conn">conn</code></td>
<td>
<p>A <a href="DBI.html#topic+DBIConnection-class">DBIConnection</a> object, as returned by
<code><a href="DBI.html#topic+dbConnect">dbConnect()</a></code>.</p>
</td></tr>
<tr><td><code id="dbCreateTableAs_+3A_name">name</code></td>
<td>
<p>The table name, passed on to <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code>. Options are:
</p>

<ul>
<li><p> a character string with the unquoted DBMS table name,
e.g. <code>"table_name"</code>,
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+Id">Id()</a></code> with components to the fully qualified table name,
e.g. <code>Id(schema = "my_schema", table = "table_name")</code>
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+SQL">SQL()</a></code> with the quoted and fully qualified table name
given verbatim, e.g. <code>SQL('"my_schema"."table_name"')</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="dbCreateTableAs_+3A_sql">sql</code></td>
<td>
<p>a character string containing SQL statement.</p>
</td></tr>
<tr><td><code id="dbCreateTableAs_+3A_overwrite">overwrite</code></td>
<td>
<p>A boolean indicating if an existing table should be
overwritten. Default to FALSE.</p>
</td></tr>
<tr><td><code id="dbCreateTableAs_+3A_with">with</code></td>
<td>
<p>An optional WITH clause for the CREATE TABLE statement.</p>
</td></tr>
<tr><td><code id="dbCreateTableAs_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to methods.</p>
</td></tr>
</table>

<hr>
<h2 id='dbDataType+2CPrestoDriver-method'>Return the corresponding presto data type for the given R <code>object</code></h2><span id='topic+dbDataType+2CPrestoDriver-method'></span>

<h3>Description</h3>

<p>Return the corresponding presto data type for the given R <code>object</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PrestoDriver'
dbDataType(dbObj, obj, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbDataType+2B2CPrestoDriver-method_+3A_dbobj">dbObj</code></td>
<td>
<p>A <a href="#topic+PrestoDriver-class">PrestoDriver</a> object</p>
</td></tr>
<tr><td><code id="dbDataType+2B2CPrestoDriver-method_+3A_obj">obj</code></td>
<td>
<p>Any R object</p>
</td></tr>
<tr><td><code id="dbDataType+2B2CPrestoDriver-method_+3A_...">...</code></td>
<td>
<p>Extra optional parameters, not currently used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default value for unknown classes is &lsquo;VARCHAR&rsquo;.
</p>


<h3>Value</h3>

<p>A <code>character</code> value corresponding to the Presto type for
<code>obj</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>drv &lt;- RPresto::Presto()
dbDataType(drv, 1)
dbDataType(drv, NULL)
dbDataType(drv, as.POSIXct("2015-03-01 00:00:00", tz = "UTC"))
dbDataType(drv, Sys.time())
dbDataType(
  drv,
  list(
    c("a" = 1L, "b" = 2L),
    c("a" = 3L, "b" = 4L)
  )
)
dbDataType(
  drv,
  list(
    c(as.Date("2015-03-01"), as.Date("2015-03-02")),
    c(as.Date("2016-03-01"), as.Date("2016-03-02"))
  )
)
dbDataType(drv, iris)
</code></pre>

<hr>
<h2 id='dbGetInfo+2CPrestoDriver-method'>Metadata about database objects</h2><span id='topic+dbGetInfo+2CPrestoDriver-method'></span><span id='topic+dbGetInfo+2CPrestoConnection-method'></span><span id='topic+dbGetInfo+2CPrestoResult-method'></span>

<h3>Description</h3>

<p>Metadata about database objects
</p>
<p>For the <a href="#topic+PrestoResult-class">PrestoResult</a> object, the implementation
returns the additional <code>stats</code> field which can be used to
implement things like progress bars. See the examples section.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PrestoDriver'
dbGetInfo(dbObj)

## S4 method for signature 'PrestoConnection'
dbGetInfo(dbObj)

## S4 method for signature 'PrestoResult'
dbGetInfo(dbObj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbGetInfo+2B2CPrestoDriver-method_+3A_dbobj">dbObj</code></td>
<td>
<p>A <a href="#topic+PrestoDriver-class">PrestoDriver</a>,
<a href="#topic+PrestoConnection-class">PrestoConnection</a>
or <a href="#topic+PrestoResult-class">PrestoResult</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="#topic+PrestoResult-class">PrestoResult</a> A <code><a href="base.html#topic+list">list()</a></code> with elements
</p>

<dl>
<dt>statement</dt><dd><p>The SQL sent to the database</p>
</dd>
<dt>row.count</dt><dd><p>Number of rows fetched so far</p>
</dd>
<dt>has.completed</dt><dd><p>Whether all data has been fetched</p>
</dd>
<dt>stats</dt><dd><p>Current stats on the query</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- dbConnect(Presto(), "localhost", 7777, "onur", "datascience")
result &lt;- dbSendQuery(conn, "SELECT * FROM jonchang_iris")
iris &lt;- data.frame()
progress.bar &lt;- NULL
while (!dbHasCompleted(result)) {
  chunk &lt;- dbFetch(result)
  if (!NROW(iris)) {
    iris &lt;- chunk
  } else if (NROW(chunk)) {
    iris &lt;- rbind(iris, chunk)
  }
  stats &lt;- dbGetInfo(result)[["stats"]]
  if (is.null(progress.bar)) {
    progress.bar &lt;- txtProgressBar(0, stats[["totalSplits"]], style = 3)
  } else {
    setTxtProgressBar(progress.bar, stats[["completedSplits"]])
  }
}
close(progress.bar)

## End(Not run)
</code></pre>

<hr>
<h2 id='dbplyr_edition.PrestoConnection'>Inform the dbplyr version used in this package</h2><span id='topic+dbplyr_edition.PrestoConnection'></span>

<h3>Description</h3>

<p>Inform the dbplyr version used in this package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PrestoConnection'
dbplyr_edition(con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbplyr_edition.PrestoConnection_+3A_con">con</code></td>
<td>
<p>A DBIConnection object.</p>
</td></tr>
</table>

<hr>
<h2 id='dbRenameTable'>Rename a table</h2><span id='topic+dbRenameTable'></span>

<h3>Description</h3>

<p>Rename a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dbRenameTable(conn, name, new_name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbRenameTable_+3A_conn">conn</code></td>
<td>
<p>A PrestoConnection.</p>
</td></tr>
<tr><td><code id="dbRenameTable_+3A_name">name</code></td>
<td>
<p>Existing table's name.</p>
</td></tr>
<tr><td><code id="dbRenameTable_+3A_new_name">new_name</code></td>
<td>
<p>New table name.</p>
</td></tr>
<tr><td><code id="dbRenameTable_+3A_...">...</code></td>
<td>
<p>Extra arguments passed to dbExecute.</p>
</td></tr>
</table>

<hr>
<h2 id='dummy_tables'>Create dummy tables in Presto for testing</h2><span id='topic+dummy_tables'></span><span id='topic+create_primitive_arrays_table'></span><span id='topic+create_primitive_maps_table'></span><span id='topic+create_primitive_types_table'></span><span id='topic+create_primitive_rows_table'></span><span id='topic+create_array_of_rows_table'></span><span id='topic+create_array_of_maps_table'></span>

<h3>Description</h3>

<p><code><a href="#topic+create_primitive_arrays_table">create_primitive_arrays_table()</a></code> creates a dummy
table that has ARRAYs of primitive Presto data types.
</p>
<p><code><a href="#topic+create_primitive_maps_table">create_primitive_maps_table()</a></code> creates a dummy table that has
MAPs of primitive Presto data types.
</p>
<p><code><a href="#topic+create_primitive_types_table">create_primitive_types_table()</a></code> creates a dummy table that has
primitive Presto data types.
</p>
<p><code><a href="#topic+create_primitive_rows_table">create_primitive_rows_table()</a></code> creates a dummy table that has all primitive
data types included in one <code>ROW</code> type column.
</p>
<p><code><a href="#topic+create_array_of_rows_table">create_array_of_rows_table()</a></code> creates a dummy table that has an <code>ARRAY(ROW)</code>
column that has 2 <code>ROW</code> elements, each containing all 17 supported primitive
data types.
</p>
<p><code><a href="#topic+create_array_of_maps_table">create_array_of_maps_table()</a></code> creates a dummy table that has 17 <code>ARRAY(MAP)</code>
columns, each of which has an <code>ARRAY</code> of 2 <code>MAP</code> elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_primitive_arrays_table(
  con,
  table_name = "presto_primitive_arrays",
  time_zone = "America/New_York",
  verbose = TRUE
)

create_primitive_maps_table(
  con,
  table_name = "presto_primitive_maps",
  time_zone = "America/New_York",
  verbose = TRUE
)

create_primitive_types_table(
  con,
  table_name = "presto_primitive_types",
  time_zone = "America/New_York",
  verbose = TRUE
)

create_primitive_rows_table(
  con,
  table_name = "presto_primitive_rows",
  time_zone = "America/New_York",
  verbose = TRUE
)

create_array_of_rows_table(
  con,
  table_name = "presto_array_of_rows",
  time_zone = "America/New_York",
  verbose = TRUE
)

create_array_of_maps_table(
  con,
  table_name = "presto_array_of_maps",
  time_zone = "America/New_York",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dummy_tables_+3A_con">con</code></td>
<td>
<p>A valid <code>PrestoConnection</code> object.</p>
</td></tr>
<tr><td><code id="dummy_tables_+3A_table_name">table_name</code></td>
<td>
<p>The resulting table name.</p>
</td></tr>
<tr><td><code id="dummy_tables_+3A_time_zone">time_zone</code></td>
<td>
<p>Time zone string for data types that require a time zone.
Default to &quot;America/New_York&quot;.</p>
</td></tr>
<tr><td><code id="dummy_tables_+3A_verbose">verbose</code></td>
<td>
<p>Boolean indicating whether messages should be printed. Default
to TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We construct the <strong>arrays-of-primitive-types</strong> table by putting two different
values of the same type and a NULL value in an array. In this way, the three
values of the same type appear together in the source code and therefore are
easier to compare. For integer values, we use the theoretical lower bound
(i.e., minimum value) and the theoretical upper bound (i.e., maximum value)
as the two values. The field names are taken from the Presto data types they
represent.
</p>
<p>Here's the complete primitive type values included in the table</p>

<table>
<tr>
 <td style="text-align: left;">
   Index </td><td style="text-align: left;"> Column </td><td style="text-align: left;"> Type </td><td style="text-align: left;"> ARRAY values </td>
</tr>
<tr>
 <td style="text-align: left;">
   1 </td><td style="text-align: left;"> boolean </td><td style="text-align: left;"> BOOLEAN </td><td style="text-align: left;"> [true, false, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   2 </td><td style="text-align: left;"> tinyint </td><td style="text-align: left;"> TINYINT </td><td style="text-align: left;"> [-128, 127, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   3 </td><td style="text-align: left;"> smallint </td><td style="text-align: left;"> SMALLINT </td><td style="text-align: left;"> [-32768, 32767, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   4 </td><td style="text-align: left;"> integer </td><td style="text-align: left;"> INTEGER </td><td style="text-align: left;"> [-2147483647, 2147483647, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   5 </td><td style="text-align: left;"> bigint </td><td style="text-align: left;"> BIGINT </td><td style="text-align: left;"> [-9007199254740991, 9007199254740991, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   6 </td><td style="text-align: left;"> real </td><td style="text-align: left;"> REAL </td><td style="text-align: left;"> [1.0, 2.0, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   7 </td><td style="text-align: left;"> double </td><td style="text-align: left;"> DOUBLE </td><td style="text-align: left;"> [1.0, 2.0, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   8 </td><td style="text-align: left;"> decimal </td><td style="text-align: left;"> DECIMAL </td><td style="text-align: left;"> [-9007199254740991.5, 9007199254740991.5, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   9 </td><td style="text-align: left;"> varchar </td><td style="text-align: left;"> VARCHAR </td><td style="text-align: left;"> ['abc', 'def', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   10 </td><td style="text-align: left;"> char </td><td style="text-align: left;"> CHAR </td><td style="text-align: left;"> ['a', 'b', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   11 </td><td style="text-align: left;"> varbinary </td><td style="text-align: left;"> VARBINARY </td><td style="text-align: left;"> ['abc', 'def', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   12 </td><td style="text-align: left;"> date </td><td style="text-align: left;"> DATE </td><td style="text-align: left;"> ['2000-01-01', '2000-01-02', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   13 </td><td style="text-align: left;"> time </td><td style="text-align: left;"> TIME </td><td style="text-align: left;"> ['01:02:03.456', '02:03:04.567', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   14 </td><td style="text-align: left;"> time_with_tz </td><td style="text-align: left;"> TIME WITH TIME ZONE </td><td style="text-align: left;"> ['01:02:03.456 \&lt;tz\&gt;', '02:03:04.567 \&lt;tz\&gt;', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   15 </td><td style="text-align: left;"> timestamp </td><td style="text-align: left;"> TIMESTAMP </td><td style="text-align: left;"> ['2000-01-01 01:02:03.456', '2000-01-02 02:03:04.567', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   16 </td><td style="text-align: left;"> timestamp_with_tz </td><td style="text-align: left;"> TIMESTAMP WITH TIME ZONE </td><td style="text-align: left;"> ['2000-01-01 01:02:03.456 \&lt;tz\&gt;', '2000-01-02 02:03:04.567 \&lt;tz\&gt;', null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   17 </td><td style="text-align: left;"> interval_year_to_month </td><td style="text-align: left;"> INTERVAL YEAR TO MONTH </td><td style="text-align: left;"> ['14' MONTH, '28' MONTH, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
   18 </td><td style="text-align: left;"> interval_day_to_second </td><td style="text-align: left;"> INTERVAL DAY TO SECOND </td><td style="text-align: left;"> ['2 4:5:6.500' DAY TO SECOND, '3 7:8:9.600' DAY TO SECOND, null] </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>We construct the <strong>maps-of-primitive-types</strong> table by first creating a table
with ARRAYs of all primitive data types. We then use the MAP() function to
create the MAPs from ARRAYs.
</p>
<p>We construct the <strong>primitive-types</strong> table by first creating a table with
ARRAYs of all primitive data types. We then use Presto's UNNEST() function to
expand the arrays into three separate rows. Each supported Presto data type
has three rows in the table so that the resulting R data frame is distinctly
different from a simple named list.
</p>
<p>We construct the <strong>primitive-rows</strong> table by first creating a table with
all primitive data types. We then use Presto's <code style="white-space: pre;">&#8288;CAST(ROW() AS ROW())&#8288;</code>
function to create the <code>ROW</code> column.
</p>
<p>We construct the <strong>array-of-rows</strong> table by first creating a table with
a <code>ROW</code> type column that includes all 17 supported primitive data types. We
then use the <code>ARRAY[]</code> function to construct the 2-element <code>ARRAY(ROW)</code>
column.
</p>
<p>We construct the <strong>array-of-maps</strong> table by first creating a table a
primitive <code>MAP</code> table and then calling the <code>ARRAY[]</code> function to create the
<code>ARRAY(MAP)</code> columns.
</p>

<hr>
<h2 id='dummyPrestoConnection'>A dummy PrestoConnection</h2><span id='topic+dummyPrestoConnection'></span>

<h3>Description</h3>

<p>A dummy PrestoConnection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dummyPrestoConnection()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>dummyPrestoConnection()
</code></pre>

<hr>
<h2 id='kerberos_configs'>A convenient wrapper around Kerberos config</h2><span id='topic+kerberos_configs'></span>

<h3>Description</h3>

<p>The configs specify authentication protocol and additional settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kerberos_configs(user = "", password = "", service_name = "presto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kerberos_configs_+3A_user">user</code></td>
<td>
<p>User name to pass to httr::authenticate(). Default to &quot;&quot;.</p>
</td></tr>
<tr><td><code id="kerberos_configs_+3A_password">password</code></td>
<td>
<p>Password to pass to httr::authenticate(). Default to &quot;&quot;.</p>
</td></tr>
<tr><td><code id="kerberos_configs_+3A_service_name">service_name</code></td>
<td>
<p>The service name. Default to &quot;presto&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A httr::config() output that can be passed to the request.config
argument of dbConnect().
</p>

<hr>
<h2 id='Presto'>Connect to a Presto database</h2><span id='topic+Presto'></span><span id='topic+dbConnect+2CPrestoDriver-method'></span><span id='topic+dbDisconnect+2CPrestoConnection-method'></span>

<h3>Description</h3>

<p>Connect to a Presto database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Presto(...)

## S4 method for signature 'PrestoDriver'
dbConnect(
  drv,
  catalog,
  schema,
  user,
  host = "localhost",
  port = 8080,
  source = methods::getPackageName(),
  session.timezone = "",
  output.timezone = "",
  parameters = list(),
  ctes = list(),
  request.config = httr::config(),
  use.trino.headers = FALSE,
  extra.credentials = "",
  bigint = c("integer", "integer64", "numeric", "character"),
  ...
)

## S4 method for signature 'PrestoConnection'
dbDisconnect(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Presto_+3A_...">...</code></td>
<td>
<p>currently ignored</p>
</td></tr>
<tr><td><code id="Presto_+3A_drv">drv</code></td>
<td>
<p>A driver object generated by <code><a href="#topic+Presto">Presto()</a></code></p>
</td></tr>
<tr><td><code id="Presto_+3A_catalog">catalog</code></td>
<td>
<p>The catalog to be used</p>
</td></tr>
<tr><td><code id="Presto_+3A_schema">schema</code></td>
<td>
<p>The schema to be used</p>
</td></tr>
<tr><td><code id="Presto_+3A_user">user</code></td>
<td>
<p>The current user</p>
</td></tr>
<tr><td><code id="Presto_+3A_host">host</code></td>
<td>
<p>The presto host to connect to</p>
</td></tr>
<tr><td><code id="Presto_+3A_port">port</code></td>
<td>
<p>Port to use for the connection</p>
</td></tr>
<tr><td><code id="Presto_+3A_source">source</code></td>
<td>
<p>Source to specify for the connection</p>
</td></tr>
<tr><td><code id="Presto_+3A_session.timezone">session.timezone</code></td>
<td>
<p>Time zone of the Presto server. Presto returns
timestamps without time zones with respect to this value. The time
arithmetic (e.g. adding hours) will also be done in the given time
zone. This value is passed to Presto server via the request headers.</p>
</td></tr>
<tr><td><code id="Presto_+3A_output.timezone">output.timezone</code></td>
<td>
<p>The time zone using which TIME WITH TZ and TIMESTAMP
values in the output should be represented. Default to the Presto
server timezone (use <code style="white-space: pre;">&#8288;show(&lt;PrestoConnection&gt;)&#8288;</code> to see).</p>
</td></tr>
<tr><td><code id="Presto_+3A_parameters">parameters</code></td>
<td>
<p>A <code><a href="base.html#topic+list">list()</a></code> of extra parameters to be passed in
the &lsquo;X-Presto-Session&rsquo; header</p>
</td></tr>
<tr><td><code id="Presto_+3A_ctes">ctes</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
A list of common table expressions (CTEs) that can be used in the
WITH clause. See <code>vignette("common-table-expressions")</code>.</p>
</td></tr>
<tr><td><code id="Presto_+3A_request.config">request.config</code></td>
<td>
<p>An optional config list, as returned by
<code>httr::config()</code>, to be sent with every HTTP request.</p>
</td></tr>
<tr><td><code id="Presto_+3A_use.trino.headers">use.trino.headers</code></td>
<td>
<p>A boolean to indicate whether Trino request headers
should be used. Default to FALSE.</p>
</td></tr>
<tr><td><code id="Presto_+3A_extra.credentials">extra.credentials</code></td>
<td>
<p>Extra credentials to be passed in the
X-Presto-Extra-Credential or X-Trino-Extra-Credential header (
depending on the value of the use.trino.headers argument). Default
to an empty string.</p>
</td></tr>
<tr><td><code id="Presto_+3A_bigint">bigint</code></td>
<td>
<p>The R type that Presto's 64-bit integer (<code>BIGINT</code>) class should
be translated to. The default is <code>"integer"</code>, which returns R's
<code>integer</code> type, but results in <code>NA</code> for values above/below
+/-2147483647. <code>"integer64"</code> returns a <a href="bit64.html#topic+bit64-package">bit64::integer64</a>, which
allows the full range of 64 bit integers. <code>"numeric"</code> coerces into
R's <code>double</code> type but might result in precision loss. Lastly,
<code>"character"</code> casts into R's <code>character</code> type.</p>
</td></tr>
<tr><td><code id="Presto_+3A_conn">conn</code></td>
<td>
<p>A <a href="#topic+PrestoConnection-class">PrestoConnection</a> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="#topic+Presto">Presto</a> A <a href="#topic+PrestoDriver-class">PrestoDriver</a> object
</p>
<p><a href="DBI.html#topic+dbConnect">dbConnect</a> A <a href="#topic+PrestoConnection-class">PrestoConnection</a> object
</p>
<p><a href="DBI.html#topic+dbDisconnect">dbDisconnect</a> A <code><a href="base.html#topic+logical">logical()</a></code> value indicating success
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- dbConnect(Presto(),
  catalog = "hive", schema = "default",
  user = "onur", host = "localhost", port = 8080,
  session.timezone = "US/Eastern", bigint = "character"
)
dbListTables(conn, "%_iris")
dbDisconnect(conn)

## End(Not run)
</code></pre>

<hr>
<h2 id='presto_default'>Check if default database is available.</h2><span id='topic+presto_default'></span><span id='topic+presto_has_default'></span>

<h3>Description</h3>

<p><code>presto_default()</code> works similarly but returns a connection on success and
throws a testthat skip condition on failure, making it suitable for use in
tests.
</p>
<p>RPresto examples and tests connect to a default database via
<code>dbConnect(Presto(), ...)</code>. This function checks if that
database is available, and if not, displays an informative message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>presto_default(...)

presto_has_default(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="presto_default_+3A_...">...</code></td>
<td>
<p>Additional arguments passed on to <code><a href="DBI.html#topic+dbConnect">dbConnect()</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (presto_has_default()) {
  db &lt;- presto_default()
  print(dbListTables(db))
  dbDisconnect(db)
} else {
  message("No database connection.")
}
</code></pre>

<hr>
<h2 id='PrestoConnection-class'>S4 implementation of <code>DBIConnection</code> for Presto.</h2><span id='topic+PrestoConnection-class'></span><span id='topic+show+2CPrestoConnection-method'></span><span id='topic+.dbAppendTable'></span><span id='topic+dbAppendTable+2CPrestoConnection+2CANY+2Cdata.frame-method'></span><span id='topic+.dbCreateTable'></span><span id='topic+dbCreateTable+2CPrestoConnection-method'></span><span id='topic+.dbCreateTableAs'></span><span id='topic+dbCreateTableAs+2CPrestoConnection-method'></span><span id='topic+dbExistsTable+2CPrestoConnection+2CANY-method'></span><span id='topic+dbGetQuery+2CPrestoConnection+2Ccharacter-method'></span><span id='topic+.dbListFields_PrestoConnection'></span><span id='topic+dbListFields+2CPrestoConnection+2CANY-method'></span><span id='topic+dbListFields+2CPrestoConnection+2Ccharacter-method'></span><span id='topic+dbListFields+2CPrestoConnection+2Cdbplyr_schema-method'></span><span id='topic+dbListFields+2CPrestoConnection+2CId-method'></span><span id='topic+dbListFields+2CPrestoConnection+2CSQL-method'></span><span id='topic+dbListTables+2CPrestoConnection-method'></span><span id='topic+.dbQuoteIdentifier_PrestoConnection_dbplyr_schema'></span><span id='topic+dbQuoteIdentifier+2CPrestoConnection+2Cdbplyr_schema-method'></span><span id='topic+.dbQuoteLiteral'></span><span id='topic+dbQuoteLiteral+2CPrestoConnection-method'></span><span id='topic+.dbReadTable'></span><span id='topic+dbReadTable+2CPrestoConnection+2CANY-method'></span><span id='topic+dbReadTable+2CPrestoConnection+2Ccharacter-method'></span><span id='topic+dbReadTable+2CPrestoConnection+2Cdbplyr_schema-method'></span><span id='topic+dbReadTable+2CPrestoConnection+2CId-method'></span><span id='topic+dbReadTable+2CPrestoConnection+2CSQL-method'></span><span id='topic+.dbRemoveTable'></span><span id='topic+dbRemoveTable+2CPrestoConnection+2CANY-method'></span><span id='topic+.dbRenameTable'></span><span id='topic+dbRenameTable+2CPrestoConnection-method'></span><span id='topic+dbSendQuery+2CPrestoConnection+2Ccharacter-method'></span><span id='topic+.dbWriteTable'></span><span id='topic+dbWriteTable+2CPrestoConnection+2CANY+2Cdata.frame-method'></span><span id='topic+.sqlCreateTable'></span><span id='topic+sqlCreateTable+2CPrestoConnection-method'></span><span id='topic+.sqlCreateTableAs'></span><span id='topic+sqlCreateTableAs+2CPrestoConnection-method'></span>

<h3>Description</h3>

<p>S4 implementation of <code>DBIConnection</code> for Presto.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PrestoConnection'
show(object)

## S4 method for signature 'PrestoConnection,ANY,data.frame'
dbAppendTable(conn, name, value, ..., chunk.fields = NULL, row.names = NULL)

## S4 method for signature 'PrestoConnection'
dbCreateTable(
  conn,
  name,
  fields,
  with = NULL,
  ...,
  row.names = NULL,
  temporary = FALSE
)

## S4 method for signature 'PrestoConnection'
dbCreateTableAs(conn, name, sql, overwrite = FALSE, with = NULL, ...)

## S4 method for signature 'PrestoConnection,ANY'
dbExistsTable(conn, name, ...)

## S4 method for signature 'PrestoConnection,character'
dbGetQuery(conn, statement, ..., quiet = getOption("rpresto.quiet"))

## S4 method for signature 'PrestoConnection,ANY'
dbListFields(conn, name, ...)

## S4 method for signature 'PrestoConnection,character'
dbListFields(conn, name, ...)

## S4 method for signature 'PrestoConnection,dbplyr_schema'
dbListFields(conn, name, ...)

## S4 method for signature 'PrestoConnection,Id'
dbListFields(conn, name, ...)

## S4 method for signature 'PrestoConnection,SQL'
dbListFields(conn, name, ...)

## S4 method for signature 'PrestoConnection'
dbListTables(conn, pattern, ...)

## S4 method for signature 'PrestoConnection,dbplyr_schema'
dbQuoteIdentifier(conn, x, ...)

## S4 method for signature 'PrestoConnection'
dbQuoteLiteral(conn, x, ...)

## S4 method for signature 'PrestoConnection,ANY'
dbReadTable(conn, name, ...)

## S4 method for signature 'PrestoConnection,character'
dbReadTable(conn, name, ...)

## S4 method for signature 'PrestoConnection,dbplyr_schema'
dbReadTable(conn, name, ...)

## S4 method for signature 'PrestoConnection,Id'
dbReadTable(conn, name, ...)

## S4 method for signature 'PrestoConnection,SQL'
dbReadTable(conn, name, ...)

## S4 method for signature 'PrestoConnection,ANY'
dbRemoveTable(conn, name, ..., fail_if_missing = TRUE)

## S4 method for signature 'PrestoConnection'
dbRenameTable(conn, name, new_name, ...)

## S4 method for signature 'PrestoConnection,character'
dbSendQuery(conn, statement, ..., quiet = getOption("rpresto.quiet"))

## S4 method for signature 'PrestoConnection,ANY,data.frame'
dbWriteTable(
  conn,
  name,
  value,
  overwrite = FALSE,
  ...,
  append = FALSE,
  field.types = NULL,
  temporary = FALSE,
  row.names = FALSE,
  with = NULL,
  chunk.fields = NULL,
  use.one.query = FALSE
)

## S4 method for signature 'PrestoConnection'
sqlCreateTable(
  con,
  table,
  fields,
  row.names = NA,
  temporary = FALSE,
  with = NULL,
  ...
)

## S4 method for signature 'PrestoConnection'
sqlCreateTableAs(con, name, sql, with = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PrestoConnection-class_+3A_conn">conn</code></td>
<td>
<p>A <a href="DBI.html#topic+DBIConnection-class">DBIConnection</a> object, as returned by
<code><a href="DBI.html#topic+dbConnect">dbConnect()</a></code>.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_name">name</code></td>
<td>
<p>The table name, passed on to <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code>. Options are:
</p>

<ul>
<li><p> a character string with the unquoted DBMS table name,
e.g. <code>"table_name"</code>,
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+Id">Id()</a></code> with components to the fully qualified table name,
e.g. <code>Id(schema = "my_schema", table = "table_name")</code>
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+SQL">SQL()</a></code> with the quoted and fully qualified table name
given verbatim, e.g. <code>SQL('"my_schema"."table_name"')</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_value">value</code></td>
<td>
<p>A data frame of values. The column names must be consistent
with those in the target table in the database.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_...">...</code></td>
<td>
<p>Other parameters passed on to methods.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_chunk.fields">chunk.fields</code></td>
<td>
<p>A character vector of names of the fields that should
be used to slice the value data frame into chunks for batch append. This is
necessary when the data frame is too big to be uploaded at once in one
single INSERT INTO statement. Default to NULL which inserts the entire
value data frame.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_row.names">row.names</code></td>
<td>
<p>Must be <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_fields">fields</code></td>
<td>
<p>Either a character vector or a data frame.
</p>
<p>A named character vector: Names are column names, values are types.
Names are escaped with <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code>.
Field types are unescaped.
</p>
<p>A data frame: field types are generated using
<code><a href="DBI.html#topic+dbDataType">dbDataType()</a></code>.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_with">with</code></td>
<td>
<p>An optional WITH clause for the CREATE TABLE statement.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_temporary">temporary</code></td>
<td>
<p>If <code>TRUE</code>, will generate a temporary table statement.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_quiet">quiet</code></td>
<td>
<p>If a progress bar should be shown for long queries (which run
for more than 2 seconds. Default to <code>getOption("rpresto.quiet")</code> which
if not set, defaults to <code>NA</code> which turns on the progress bar for
interactive queries.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_pattern">pattern</code></td>
<td>
<p>optional SQL pattern for filtering table names, e.g. '%test%'</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_x">x</code></td>
<td>
<p>A character vector, <a href="DBI.html#topic+SQL">SQL</a> or <a href="DBI.html#topic+Id">Id</a> object to quote as identifier.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_fail_if_missing">fail_if_missing</code></td>
<td>
<p>If <code>FALSE</code>, <code>dbRemoveTable()</code> succeeds if the
table doesn't exist.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_use.one.query">use.one.query</code></td>
<td>
<p>A boolean to indicate if to use a single CREATE TABLE AS
statement rather than the default implementation of using
separate CREATE TABLE and INSERT INTO statements. Some Presto backends
might have different requirements between the two approaches. e.g.
INSERT INTO might not be allowed to mutate an unpartitioned table created
by CREATE TABLE. If set to TRUE, chunk.fields cannot be used.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_con">con</code></td>
<td>
<p>A database connection.</p>
</td></tr>
<tr><td><code id="PrestoConnection-class_+3A_table">table</code></td>
<td>
<p>The table name, passed on to <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code>. Options are:
</p>

<ul>
<li><p> a character string with the unquoted DBMS table name,
e.g. <code>"table_name"</code>,
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+Id">Id()</a></code> with components to the fully qualified table name,
e.g. <code>Id(schema = "my_schema", table = "table_name")</code>
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+SQL">SQL()</a></code> with the quoted and fully qualified table name
given verbatim, e.g. <code>SQL('"my_schema"."table_name"')</code>
</p>
</li></ul>
</td></tr>
</table>

<hr>
<h2 id='PrestoDriver-class'>An S4 class to represent a Presto Driver (and methods)
It is used purely for dispatch and <code>dbUnloadDriver</code> is unnecessary</h2><span id='topic+PrestoDriver-class'></span><span id='topic+show+2CPrestoDriver-method'></span><span id='topic+dbUnloadDriver+2CPrestoDriver-method'></span>

<h3>Description</h3>

<p>An S4 class to represent a Presto Driver (and methods)
It is used purely for dispatch and <code>dbUnloadDriver</code> is unnecessary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PrestoDriver'
show(object)

## S4 method for signature 'PrestoDriver'
dbUnloadDriver(drv, ...)
</code></pre>

<hr>
<h2 id='PrestoQuery-class'>Class to encapsulate a Presto query</h2><span id='topic+PrestoQuery-class'></span><span id='topic+PrestoQuery'></span>

<h3>Description</h3>

<p>This reference class (so that the object can be passed by reference and
modified) encapsulates the lifecycle of a Presto query from its inception
(by providing a PrestoConnection and a query statement) to the steps it takes
to execute (i.e. an initial POST request and subsequent GET requests).
</p>


<h3>Details</h3>

<p>This is similar to the PrestoQuery class defined in the Presto Python client
</p>


<h3>Slots</h3>


<dl>
<dt><code>.conn</code></dt><dd><p>A PrestoConnection object</p>
</dd>
<dt><code>.statement</code></dt><dd><p>The query statement</p>
</dd>
<dt><code>.id</code></dt><dd><p>The query ID returned after the first POST request</p>
</dd>
<dt><code>.timestamp</code></dt><dd><p>The timestamp of the query execution</p>
</dd>
<dt><code>.bigint</code></dt><dd><p>How BIGINT fields should be converted to an R class</p>
</dd>
<dt><code>.state</code></dt><dd><p>The query state. This changes every time the query advances to
the next stage</p>
</dd>
<dt><code>.next.uri</code></dt><dd><p>The URI that specifies the next endpoint to send the GET
request</p>
</dd>
<dt><code>.info.uri</code></dt><dd><p>The information URI</p>
</dd>
<dt><code>.stats</code></dt><dd><p>Query stats. This changes every time the query advances to the
next stage</p>
</dd>
<dt><code>.response</code></dt><dd><p>HTTP request response. This changes when the query advances</p>
</dd>
<dt><code>.content</code></dt><dd><p>Parsed content from the HTTP request response</p>
</dd>
<dt><code>.fetched.row.count</code></dt><dd><p>How many rows of data have been fetched to R</p>
</dd>
<dt><code>.post.data.fetched</code></dt><dd><p>A boolean flag indicating if data returned from the
POST request has been fetched</p>
</dd>
<dt><code>.quiet</code></dt><dd><p>If a progress bar should be shown for long queries (which run
for more than 2 seconds. Default to <code>NA</code> which turns on the
progress bar for interactive queries.</p>
</dd>
</dl>

<hr>
<h2 id='PrestoResult-class'>An S4 class to represent a Presto Result</h2><span id='topic+PrestoResult-class'></span><span id='topic+show+2CPrestoResult-method'></span><span id='topic+dbClearResult+2CPrestoResult-method'></span><span id='topic+dbFetch+2CPrestoResult+2Cnumeric-method'></span><span id='topic+dbFetch+2CPrestoResult+2Cmissing-method'></span><span id='topic+dbGetRowCount+2CPrestoResult-method'></span><span id='topic+dbGetRowsAffected+2CPrestoResult-method'></span><span id='topic+dbGetStatement+2CPrestoResult-method'></span><span id='topic+dbHasCompleted+2CPrestoResult-method'></span><span id='topic+dbIsValid+2CPrestoResult-method'></span><span id='topic+dbListFields+2CPrestoResult+2Cmissing-method'></span><span id='topic+fetch+2CPrestoResult+2Cinteger-method'></span><span id='topic+fetch+2CPrestoResult+2Cnumeric-method'></span><span id='topic+fetch+2CPrestoResult+2Cmissing-method'></span>

<h3>Description</h3>

<p>An S4 class to represent a Presto Result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PrestoResult'
show(object)

## S4 method for signature 'PrestoResult'
dbClearResult(res, ...)

## S4 method for signature 'PrestoResult,numeric'
dbFetch(res, n)

## S4 method for signature 'PrestoResult,missing'
dbFetch(res)

## S4 method for signature 'PrestoResult'
dbGetRowCount(res, ...)

## S4 method for signature 'PrestoResult'
dbGetRowsAffected(res)

## S4 method for signature 'PrestoResult'
dbGetStatement(res, ...)

## S4 method for signature 'PrestoResult'
dbHasCompleted(res, ...)

## S4 method for signature 'PrestoResult'
dbIsValid(dbObj, ...)

## S4 method for signature 'PrestoResult,missing'
dbListFields(conn, name)

## S4 method for signature 'PrestoResult,integer'
fetch(res, n = -1, ...)

## S4 method for signature 'PrestoResult,numeric'
fetch(res, n = -1, ...)

## S4 method for signature 'PrestoResult,missing'
fetch(res)
</code></pre>


<h3>Slots</h3>


<dl>
<dt><code>statement</code></dt><dd><p>The SQL statement sent to the database</p>
</dd>
<dt><code>connection</code></dt><dd><p>The connection object associated with the result</p>
</dd>
<dt><code>query</code></dt><dd><p>An internal implementation detail for keeping track of
what stage a request is in</p>
</dd>
<dt><code>post.data</code></dt><dd><p>Any data extracted from the POST request response</p>
</dd>
<dt><code>bigint</code></dt><dd><p>How bigint type should be handled</p>
</dd>
</dl>

<hr>
<h2 id='PrestoSession-class'>Class to encapsulate a Presto session</h2><span id='topic+PrestoSession-class'></span><span id='topic+PrestoSession'></span>

<h3>Description</h3>

<p>A session contains temporary attributes and information that are only useful
for the session. It's attached to a PrestoConnection for as long as as the
connection lives. There are a few types of information stored.
</p>

<ol>
<li><p> Session properties that can be set via query response headers and need
to be sent with following HTTP requests.
</p>
</li>
<li><p> Common table expressions (CTEs) that can be used to store a subquery and
be used in a WITH statement.
</p>
</li></ol>



<h3>Slots</h3>


<dl>
<dt><code>.parameters</code></dt><dd><p>List of Presto session parameters to be added to the
X-Presto-Session header.</p>
</dd>
<dt><code>.ctes</code></dt><dd><p>List of common table expressions (CTEs), i.e. SELECT statements
with names. They can be used in a WITH statement.</p>
</dd>
</dl>

<hr>
<h2 id='RPresto-package'>RPresto: DBI Connector to Presto</h2><span id='topic+RPresto'></span><span id='topic+RPresto-package'></span>

<h3>Description</h3>

<p>Implements a 'DBI' compliant interface to Presto. Presto is an open source distributed SQL query engine for running interactive analytic queries against data sources of all sizes ranging from gigabytes to petabytes: <a href="https://prestodb.io/">https://prestodb.io/</a>.
</p>


<h3>Package options</h3>


<dl>
<dt><code>rpresto.max.rows</code></dt><dd><p>Max number of rows to be fetched before
a warning is given.</p>
</dd>
<dt><code>rpresto.quiet</code></dt><dd><p>Verbose output during processing? The default
value, <code>NA</code>, turns on verbose output for interactive queries that
run longer than two seconds.  Use <code>FALSE</code> for immediate verbose
output, <code>TRUE</code> for quiet operation.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jarod G.R. Meng <a href="mailto:jarodm@fb.com">jarodm@fb.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Onur Ismail Filiz <a href="mailto:onur@fb.com">onur@fb.com</a>
</p>
</li>
<li><p> Sergey Goder <a href="mailto:sgoder@fb.com">sgoder@fb.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Thomas J. Leeper <a href="mailto:thomasleeper@fb.com">thomasleeper@fb.com</a> [contributor]
</p>
</li>
<li><p> John Myles White <a href="mailto:johnmyleswhite@fb.com">johnmyleswhite@fb.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/prestodb/RPresto">https://github.com/prestodb/RPresto</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/prestodb/RPresto/issues">https://github.com/prestodb/RPresto/issues</a>
</p>
</li></ul>


<hr>
<h2 id='sql_query_fields.PrestoConnection'>S3 implementation of <code>sql_query_fields</code> for Presto.</h2><span id='topic+sql_query_fields.PrestoConnection'></span><span id='topic+sql_escape_date.PrestoConnection'></span><span id='topic+sql_escape_datetime.PrestoConnection'></span><span id='topic+sql_translation.PrestoConnection'></span>

<h3>Description</h3>

<p>S3 implementation of <code>sql_query_fields</code> for Presto.
</p>
<p>S3 implementation of custom escape method for <a href="dbplyr.html#topic+db-quote">sql_escape_date</a>
</p>
<p>S3 implementation of custom escape method for <a href="dbplyr.html#topic+db-quote">sql_escape_datetime</a>
</p>
<p>S3 implementation of <code>sql_translation</code> for Presto.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PrestoConnection'
sql_query_fields(con, sql, ...)

## S3 method for class 'PrestoConnection'
sql_escape_date(con, x)

## S3 method for class 'PrestoConnection'
sql_escape_datetime(con, x)

## S3 method for class 'PrestoConnection'
sql_translation(con)
</code></pre>

<hr>
<h2 id='sql_query_save.PrestoConnection'>dbplyr SQL methods</h2><span id='topic+sql_query_save.PrestoConnection'></span>

<h3>Description</h3>

<p>dbplyr SQL methods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'PrestoConnection'
sql_query_save(con, sql, name, temporary = TRUE, ..., with = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sql_query_save.PrestoConnection_+3A_con">con</code></td>
<td>
<p>A database connection.</p>
</td></tr>
<tr><td><code id="sql_query_save.PrestoConnection_+3A_sql">sql</code></td>
<td>
<p>a character string containing SQL statement.</p>
</td></tr>
<tr><td><code id="sql_query_save.PrestoConnection_+3A_name">name</code></td>
<td>
<p>The table name, passed on to <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code>. Options are:
</p>

<ul>
<li><p> a character string with the unquoted DBMS table name,
e.g. <code>"table_name"</code>,
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+Id">Id()</a></code> with components to the fully qualified table name,
e.g. <code>Id(schema = "my_schema", table = "table_name")</code>
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+SQL">SQL()</a></code> with the quoted and fully qualified table name
given verbatim, e.g. <code>SQL('"my_schema"."table_name"')</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="sql_query_save.PrestoConnection_+3A_temporary">temporary</code></td>
<td>
<p>If a temporary table should be created. Default to TRUE in
the <code><a href="dbplyr.html#topic+db-sql">dbplyr::sql_query_save()</a></code> generic. The default value generates an
error in Presto. Using <code>temporary = FALSE</code> to save the query in a
permanent table.</p>
</td></tr>
<tr><td><code id="sql_query_save.PrestoConnection_+3A_...">...</code></td>
<td>
<p>Other arguments used by individual methods.</p>
</td></tr>
<tr><td><code id="sql_query_save.PrestoConnection_+3A_with">with</code></td>
<td>
<p>An optional WITH clause for the CREATE TABLE statement.</p>
</td></tr>
</table>

<hr>
<h2 id='sqlCreateTableAs'>Compose query to create a simple table using a statement</h2><span id='topic+sqlCreateTableAs'></span>

<h3>Description</h3>

<p>Compose query to create a simple table using a statement
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sqlCreateTableAs(con, name, sql, with = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sqlCreateTableAs_+3A_con">con</code></td>
<td>
<p>A database connection.</p>
</td></tr>
<tr><td><code id="sqlCreateTableAs_+3A_name">name</code></td>
<td>
<p>The table name, passed on to <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code>. Options are:
</p>

<ul>
<li><p> a character string with the unquoted DBMS table name,
e.g. <code>"table_name"</code>,
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+Id">Id()</a></code> with components to the fully qualified table name,
e.g. <code>Id(schema = "my_schema", table = "table_name")</code>
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+SQL">SQL()</a></code> with the quoted and fully qualified table name
given verbatim, e.g. <code>SQL('"my_schema"."table_name"')</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="sqlCreateTableAs_+3A_sql">sql</code></td>
<td>
<p>a character string containing SQL statement.</p>
</td></tr>
<tr><td><code id="sqlCreateTableAs_+3A_with">with</code></td>
<td>
<p>An optional WITH clause for the CREATE TABLE statement.</p>
</td></tr>
<tr><td><code id="sqlCreateTableAs_+3A_...">...</code></td>
<td>
<p>Other arguments used by individual methods.</p>
</td></tr>
</table>

<hr>
<h2 id='src_presto'>dplyr integration to connect to a Presto database.</h2><span id='topic+src_presto'></span>

<h3>Description</h3>

<p>Allows you to connect to an existing database through a presto connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>src_presto(
  catalog = NULL,
  schema = NULL,
  user = NULL,
  host = NULL,
  port = NULL,
  source = NULL,
  session.timezone = NULL,
  parameters = NULL,
  bigint = c("integer", "integer64", "numeric", "character"),
  con = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="src_presto_+3A_catalog">catalog</code></td>
<td>
<p>Catalog to use in the connection</p>
</td></tr>
<tr><td><code id="src_presto_+3A_schema">schema</code></td>
<td>
<p>Schema to use in the connection</p>
</td></tr>
<tr><td><code id="src_presto_+3A_user">user</code></td>
<td>
<p>User name to use in the connection</p>
</td></tr>
<tr><td><code id="src_presto_+3A_host">host</code></td>
<td>
<p>Host name to connect to the database</p>
</td></tr>
<tr><td><code id="src_presto_+3A_port">port</code></td>
<td>
<p>Port number to use with the host name</p>
</td></tr>
<tr><td><code id="src_presto_+3A_source">source</code></td>
<td>
<p>Source to specify for the connection</p>
</td></tr>
<tr><td><code id="src_presto_+3A_session.timezone">session.timezone</code></td>
<td>
<p>Time zone for the connection</p>
</td></tr>
<tr><td><code id="src_presto_+3A_parameters">parameters</code></td>
<td>
<p>Additional parameters to pass to the connection</p>
</td></tr>
<tr><td><code id="src_presto_+3A_bigint">bigint</code></td>
<td>
<p>The R type that Presto's 64-bit integer (<code>BIGINT</code>) types should
be translated to. The default is <code>"integer"</code>, which returns R's
<code>integer</code> type, but results in <code>NA</code> for values above/below
+/-2147483647. <code>"integer64"</code> returns a <a href="bit64.html#topic+bit64-package">bit64::integer64</a>, which
allows the full range of 64 bit integers. <code>"numeric"</code> coerces into
R's <code>double</code> type but might result in precision loss. Lastly,
<code>"character"</code> casts into R's <code>character</code> type.</p>
</td></tr>
<tr><td><code id="src_presto_+3A_con">con</code></td>
<td>
<p>An object that inherits from <a href="#topic+PrestoConnection-class">PrestoConnection</a>,
typically generated by <a href="DBI.html#topic+dbConnect">DBI::dbConnect</a>. When a valid connection
object is supplied, Other arguments are ignored.</p>
</td></tr>
<tr><td><code id="src_presto_+3A_...">...</code></td>
<td>
<p>For <code>src_presto</code> other arguments passed on to the underlying
database connector <code>dbConnect</code>. For <code>tbl.src_presto</code>, it is
included for compatibility with the generic, but otherwise ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# To connect to a database
my_db &lt;- src_presto(
  catalog = "memory",
  schema = "default",
  user = Sys.getenv("USER"),
  host = "http://localhost",
  port = 8080,
  session.timezone = "Asia/Kathmandu"
)
# Use a PrestoConnection
my_con &lt;- DBI::dbConnect(
  catalog = "memory",
  schema = "default",
  user = Sys.getenv("USER"),
  host = "http://localhost",
  port = 8080,
  session.timezone = "Asia/Kathmandu"
)
my_db2 &lt;- src_presto(con = my_con)

## End(Not run)
</code></pre>

<hr>
<h2 id='tbl.src_presto'>dplyr integration to connect to a table in a database.</h2><span id='topic+tbl.src_presto'></span><span id='topic+tbl.PrestoConnection'></span><span id='topic+copy_to.src_presto'></span><span id='topic+copy_to.PrestoConnection'></span>

<h3>Description</h3>

<p>Use <code>src_presto</code> to connect to an existing database,
and <code>tbl</code> to connect to tables within that database.
If you're unsure of the arguments to pass, please ask your database
administrator for the values of these variables.
</p>
<p>Automatically create a Presto remote database source to wrap aroudn the
<code>PrestoConnection</code> object via which DBI APIs can be called.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'src_presto'
tbl(src, from, ..., vars = NULL)

## S3 method for class 'PrestoConnection'
tbl(src, from, ...)

## S3 method for class 'src_presto'
copy_to(
  dest,
  df,
  name = deparse(substitute(df)),
  overwrite = FALSE,
  ...,
  with = NULL
)

## S3 method for class 'PrestoConnection'
copy_to(
  dest,
  df,
  name = deparse(substitute(df)),
  overwrite = FALSE,
  ...,
  with = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbl.src_presto_+3A_src">src</code></td>
<td>
<p>A <code>PrestoConnection</code> object produced by <code>DBI::dbConnect()</code>.</p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_from">from</code></td>
<td>
<p>Either a string (giving a table name) or a literal
<code><a href="dbplyr.html#topic+sql">dbplyr::sql()</a></code> string.</p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="dbplyr.html#topic+tbl_sql">dbplyr::tbl_sql()</a></code></p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_vars">vars</code></td>
<td>
<p>Provide column names as a character vector
to avoid retrieving them from the database.</p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_dest">dest</code></td>
<td>
<p>remote data source</p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_df">df</code></td>
<td>
<p>local data frame</p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_name">name</code></td>
<td>
<p>name for new remote table.</p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_overwrite">overwrite</code></td>
<td>
<p>If <code>TRUE</code>, will overwrite an existing table with
name <code>name</code>. If <code>FALSE</code>, will throw an error if <code>name</code> already
exists.</p>
</td></tr>
<tr><td><code id="tbl.src_presto_+3A_with">with</code></td>
<td>
<p>An optional WITH clause for the CREATE TABLE statement.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# First create a database connection with src_presto, then reference a tbl
# within that database
my_db &lt;- src_presto(
  catalog = "memory",
  schema = "default",
  user = Sys.getenv("USER"),
  host = "http://localhost",
  port = 8080,
  session.timezone = "Asia/Kathmandu"
)
my_tbl &lt;- tbl(my_db, "my_table")

## End(Not run)
## Not run: 
# First create a database connection, then reference a tbl within that
# database
my_con &lt;- DBI::dbConnect(
  catalog = "memory",
  schema = "default",
  user = Sys.getenv("USER"),
  host = "http://localhost",
  port = 8080,
  session.timezone = "Asia/Kathmandu"
)
my_tbl &lt;- tbl(my_con, "my_table")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package tinyplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tinyplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tinyplot-package'><p>tinyplot: Lightweight Extension of the Base R Graphics System</p></a></li>
<li><a href='#ci'><p>Calculate confidence intervals</p></a></li>
<li><a href='#draw_legend'><p>Calculate placement of legend and draw it</p></a></li>
<li><a href='#get_saved_par'><p>Retrieve the saved graphical parameters</p></a></li>
<li><a href='#tinyAxis'><p>auxiliary Axis() interface with different parameter combinations based on type</p></a></li>
<li><a href='#tinyplot'><p>Lightweight extension of the base R plotting function</p></a></li>
<li><a href='#tinyplot_add'><p>Add new elements to the current <code>tinyplot</code></p></a></li>
<li><a href='#tinytheme'><p>Set or Reset Plot Themes for <code>tinyplot</code></p></a></li>
<li><a href='#tpar'><p>Set or query graphical parameters</p></a></li>
<li><a href='#type_abline'><p>Add straight lines to a plot</p></a></li>
<li><a href='#type_area'><p>Ribbon and area plot types</p></a></li>
<li><a href='#type_boxplot'><p>Boxplot type</p></a></li>
<li><a href='#type_density'><p>Density plot type</p></a></li>
<li><a href='#type_errorbar'><p>Error bar and pointrange plot types</p></a></li>
<li><a href='#type_function'><p>Plot a function</p></a></li>
<li><a href='#type_glm'><p>Generalized linear model plot type</p></a></li>
<li><a href='#type_histogram'><p>Histogram plot type</p></a></li>
<li><a href='#type_hline'><p>Trace a horizontal line on the plot</p></a></li>
<li><a href='#type_jitter'><p>Jittered points plot type</p></a></li>
<li><a href='#type_lines'><p>Lines plot type</p></a></li>
<li><a href='#type_lm'><p>Linear model plot type</p></a></li>
<li><a href='#type_loess'><p>Local polynomial regression plot type</p></a></li>
<li><a href='#type_points'><p>Points plot type</p></a></li>
<li><a href='#type_polygon'><p>Polygon plot type</p></a></li>
<li><a href='#type_polypath'><p>Polypath polygon type</p></a></li>
<li><a href='#type_qq'><p>Quantile-Quantile plot (QQ)</p></a></li>
<li><a href='#type_rect'><p>Rectangle plot type</p></a></li>
<li><a href='#type_ridge'><p>Ridge plot type</p></a></li>
<li><a href='#type_rug'><p>Add a rug to a plot</p></a></li>
<li><a href='#type_segments'><p>Line segments plot type</p></a></li>
<li><a href='#type_spineplot'><p>Spineplot and spinogram types</p></a></li>
<li><a href='#type_spline'><p>Spline plot type</p></a></li>
<li><a href='#type_summary'><p>Plot summary values of <code>y</code> at unique values of <code>x</code></p></a></li>
<li><a href='#type_text'><p>Text annotations plot type</p></a></li>
<li><a href='#type_vline'><p>Trace a vertical line on the plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Lightweight Extension of the Base R Graphics System</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-02-05</td>
</tr>
<tr>
<td>Description:</td>
<td>Lightweight extension of the base R graphics system, with support
      for automatic legends, facets, themes, and various other enhancements.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, stats, tools, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>altdoc (&ge; 0.5.0), fontquiver, png, rsvg, svglite, tinytest,
tinysnapshot (&ge; 0.0.3), knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://grantmcdermott.com/tinyplot/">https://grantmcdermott.com/tinyplot/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/grantmcdermott/tinyplot/issues">https://github.com/grantmcdermott/tinyplot/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-05 18:38:39 UTC; gmcd</td>
</tr>
<tr>
<td>Author:</td>
<td>Grant McDermott <a href="https://orcid.org/0000-0001-7883-8573"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Vincent Arel-Bundock
    <a href="https://orcid.org/0000-0003-1995-6531"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Achim Zeileis <a href="https://orcid.org/0000-0003-0918-3766"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Etienne Bacher [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Grant McDermott &lt;gmcd@amazon.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-05 19:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tinyplot-package'>tinyplot: Lightweight Extension of the Base R Graphics System</h2><span id='topic+tinyplot-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Lightweight extension of the base R graphics system, with support for automatic legends, facets, themes, and various other enhancements.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Grant McDermott <a href="mailto:gmcd@amazon.com">gmcd@amazon.com</a> (<a href="https://orcid.org/0000-0001-7883-8573">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Vincent Arel-Bundock <a href="mailto:vincent.arel-bundock@umontreal.ca">vincent.arel-bundock@umontreal.ca</a> (<a href="https://orcid.org/0000-0003-1995-6531">ORCID</a>) (@vincentab)
</p>
</li>
<li><p> Achim Zeileis <a href="mailto:Achim.Zeileis@R-project.org">Achim.Zeileis@R-project.org</a> (<a href="https://orcid.org/0000-0003-0918-3766">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Etienne Bacher <a href="mailto:etienne.bacher@protonmail.com">etienne.bacher@protonmail.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://grantmcdermott.com/tinyplot/">https://grantmcdermott.com/tinyplot/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/grantmcdermott/tinyplot/issues">https://github.com/grantmcdermott/tinyplot/issues</a>
</p>
</li></ul>


<hr>
<h2 id='ci'>Calculate confidence intervals</h2><span id='topic+ci'></span>

<h3>Description</h3>

<p>Calculate confidence intervals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ci(estimate, std.error, conf.level, df, backtransform = identity)
</code></pre>

<hr>
<h2 id='draw_legend'>Calculate placement of legend and draw it</h2><span id='topic+draw_legend'></span>

<h3>Description</h3>

<p>Internal function used to calculate the placement of (including
outside the plotting area) and drawing of legend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_legend(
  legend = NULL,
  legend_args = NULL,
  by_dep = NULL,
  lgnd_labs = NULL,
  type = NULL,
  pch = NULL,
  lty = NULL,
  lwd = NULL,
  col = NULL,
  bg = NULL,
  cex = NULL,
  gradient = FALSE,
  lmar = NULL,
  has_sub = FALSE,
  new_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_legend_+3A_legend">legend</code></td>
<td>
<p>Legend placement keyword or list, passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_legend_args">legend_args</code></td>
<td>
<p>Additional legend arguments to be passed to <code>legend()</code>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_by_dep">by_dep</code></td>
<td>
<p>The (deparsed) &quot;by&quot; grouping variable name.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_lgnd_labs">lgnd_labs</code></td>
<td>
<p>The labels passed to <code>legend(legend = ...)</code>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_type">type</code></td>
<td>
<p>Plotting type(s), passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_pch">pch</code></td>
<td>
<p>Plotting character(s), passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_lty">lty</code></td>
<td>
<p>Plotting linetype(s), passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_lwd">lwd</code></td>
<td>
<p>Plotting line width(s), passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_col">col</code></td>
<td>
<p>Plotting colour(s), passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_bg">bg</code></td>
<td>
<p>Plotting character background fill colour(s), passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_cex">cex</code></td>
<td>
<p>Plotting character expansion(s), passed down from <a href="#topic+tinyplot">tinyplot</a>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_gradient">gradient</code></td>
<td>
<p>Logical indicating whether a continuous gradient swatch
should be used to represent the colors.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_lmar">lmar</code></td>
<td>
<p>Legend margins (in lines). Should be a numeric vector of the form
<code>c(inner, outer)</code>, where the first number represents the &quot;inner&quot; margin
between the legend and the plot, and the second number represents the
&quot;outer&quot; margin between the legend and edge of the graphics device. If no
explicit value is provided by the user, then reverts back to <code>tpar("lmar")</code>
for which the default values are <code>c(1.0, 0.1)</code>.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_has_sub">has_sub</code></td>
<td>
<p>Logical. Does the plot have a sub-caption. Only used if
keyword position is &quot;bottom!&quot;, in which case we need to bump the legend
margin a bit further.</p>
</td></tr>
<tr><td><code id="draw_legend_+3A_new_plot">new_plot</code></td>
<td>
<p>Logical. Should we be calling plot.new internally?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effect of producing a(n empty) plot
with a legend in the margin.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
oldmar = par("mar")

draw_legend(
  legend = "right!", ## default (other options incl, "left(!)", ""bottom(!)", etc.)
  legend_args = list(title = "Key", bty = "o"),
  lgnd_labs = c("foo", "bar"),
  type = "p",
  pch = 21:22,
  col = 1:2
)

# The legend is placed in the outer margin...
box("figure", col = "cyan", lty = 4)
# ... and the plot is proportionally adjusted against the edge of this
# margin.
box("plot")
# You can add regular plot objects per normal now
plot.window(xlim = c(1,10), ylim = c(1,10))
points(1:10)
points(10:1, pch = 22, col = "red")
axis(1); axis(2)
# etc.

# Important: A side effect of draw_legend is that the inner margins have been
# adjusted. (Here: The right margin, since we called "right!" above.)
par("mar")

# To reset you should call `dev.off()` or just reset manually.
par(mar = oldmar)

# Note that the inner and outer margin of the legend itself can be set via
# the `lmar` argument. (This can also be set globally via
# `tpar(lmar = c(inner, outer))`.)
draw_legend(
  legend_args = list(title = "Key", bty = "o"),
  lgnd_labs = c("foo", "bar"),
  type = "p",
  pch = 21:22,
  col = 1:2,
  lmar = c(0, 0.1) ## set inner margin to zero
)
box("figure", col = "cyan", lty = 4)

par(mar = oldmar)

# Continuous (gradient) legends are also supported
draw_legend(
  legend = "right!",
  legend_args = list(title = "Key"),
  lgnd_labs = LETTERS[1:5],
  col = hcl.colors(5),
  gradient = TRUE ## enable gradient legend
)

par(mar = oldmar)

</code></pre>

<hr>
<h2 id='get_saved_par'>Retrieve the saved graphical parameters</h2><span id='topic+get_saved_par'></span>

<h3>Description</h3>

<p>Convenience function for retrieving the graphical parameters
(i.e., the full list of <code>tag = value</code> pairs held in
<code><a href="graphics.html#topic+par">par</a></code>) from either immediately before or
immediately after the most recent <a href="#topic+tinyplot">tinyplot</a> call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_saved_par(when = c("before", "after", "first"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_saved_par_+3A_when">when</code></td>
<td>
<p>character. From when should the saved parameters be retrieved?
Either &quot;before&quot; (the default) or &quot;after&quot; the preceding <code>tinyplot</code> call.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A potential side-effect of <a href="#topic+tinyplot">tinyplot</a> is that it can change a user's
<code><a href="graphics.html#topic+par">par</a></code> settings. For example, it may adjust the inner
and outer plot margins to make space for an automatic legend; see
<a href="#topic+draw_legend">draw_legend</a>. While it is possible to immediately restore the original
<code><a href="graphics.html#topic+par">par</a></code> settings upon exit via the
<code>tinyplot(..., restore.par = TRUE)</code> argument, this is not the default
behaviour. The reason being that we need to preserve the adjusted parameter
settings in case users want to add further graphical annotations to their
plot (e.g., <code><a href="graphics.html#topic+abline">abline</a></code>, <code><a href="graphics.html#topic+text">text</a></code>,
etc.) Nevertheless, it may still prove desirable to recall and reset these
original graphical parameters after the fact (e.g., once all these extra
annotations have been added). That is the purpose of this <a href="#topic+get_saved_par">get_saved_par</a>
function.
</p>
<p>Of course, users may prefer to manually capture and reset graphical
parameters, as per the standard method described in the
<code><a href="graphics.html#topic+par">par</a></code> documentation. For example:
</p>
<div class="sourceCode"><pre>op = par(no.readonly = TRUE)  # save current par settings 
# &lt;do lots of (tiny)plotting&gt;
par(op)                       # reset original pars
</pre></div>
<p>This standard manual approach may be safer than <a href="#topic+get_saved_par">get_saved_par</a> because it
offers more precise control. Specifically, the value of <a href="#topic+get_saved_par">get_saved_par</a>
itself will be reset after ever new <a href="#topic+tinyplot">tinyplot</a> call; i.e. it may inherit an
already-changed set of parameters. Users should bear these trade-offs in
mind when deciding which approach to use. As a general rule,
<a href="#topic+get_saved_par">get_saved_par</a> offers the convenience of resetting the original
<code><a href="graphics.html#topic+par">par</a></code> settings even if a user forgot to save them
beforehand. But one should avoid invoking it after a series of consecutive
<a href="#topic+tinyplot">tinyplot</a> calls.
</p>
<p>Finally, note that users can always call <code><a href="grDevices.html#topic+dev.off">dev.off</a></code>
to reset all <code><a href="graphics.html#topic+par">par</a></code> settings to their defaults.
</p>


<h3>Value</h3>

<p>A list of <code><a href="graphics.html#topic+par">par</a></code> settings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#
# Contrived example where we draw a grouped scatterplot with a legend and
# manually add corresponding best fit lines for each group...
#

# First draw the grouped scatterplot
tinyplot(Sepal.Length ~ Petal.Length | Species, iris)

# Preserving adjusted par settings is good for adding elements to our plot
for (s in levels(iris$Species)) {
  abline(
    lm(Sepal.Length ~ Petal.Length, iris, subset = Species==s),
    col = which(levels(iris$Species)==s)
  )
}

# Get saved par from before the preceding tinyplot call (but don't use yet)
sp = get_saved_par("before")

# Note the changed margins will affect regular plots too, which is probably
# not desirable
plot(1:10)

# Reset the original parameters (could use `par(sp)` here)
tpar(sp)
# Redraw our simple plot with our corrected right margin
plot(1:10)

#
# Quick example going the other way, "correcting" for par.restore = TRUE...
#

tinyplot(Sepal.Length ~ Petal.Length | Species, iris, restore.par = TRUE)
# Our added best lines will be wrong b/c of misaligned par
for (s in levels(iris$Species)) {
  abline(
    lm(Sepal.Length ~ Petal.Length, iris, subset = Species==s),
    col = which(levels(iris$Species)==s), lty = 2
  )
}
# grab the par settings from the _end_ of the preceding tinyplot call to fix
tpar(get_saved_par("after"))
# now the best lines are correct
for (s in levels(iris$Species)) {
  abline(
    lm(Sepal.Length ~ Petal.Length, iris, subset = Species==s),
    col = which(levels(iris$Species)==s)
  )
}

# reset again to original saved par settings before exit
tpar(sp)

</code></pre>

<hr>
<h2 id='tinyAxis'>auxiliary Axis() interface with different parameter combinations based on type</h2><span id='topic+tinyAxis'></span>

<h3>Description</h3>

<p>auxiliary Axis() interface with different parameter combinations based on type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tinyAxis(x = NULL, ..., type = "standard")
</code></pre>

<hr>
<h2 id='tinyplot'>Lightweight extension of the base R plotting function</h2><span id='topic+tinyplot'></span><span id='topic+tinyplot.default'></span><span id='topic+tinyplot.formula'></span><span id='topic+tinyplot.density'></span><span id='topic+plt'></span>

<h3>Description</h3>

<p>Enhances the base <code><a href="graphics.html#topic+plot">plot</a></code> function. Supported features
include automatic legends and facets for grouped data, additional plot types,
theme customization, and so on. Users can call either <code>tinyplot()</code>, or its
shorthand alias <code>plt()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tinyplot(x, ...)

## Default S3 method:
tinyplot(
  x = NULL,
  y = NULL,
  by = NULL,
  facet = NULL,
  facet.args = NULL,
  data = NULL,
  type = NULL,
  xlim = NULL,
  ylim = NULL,
  log = "",
  main = NULL,
  sub = NULL,
  xlab = NULL,
  ylab = NULL,
  ann = par("ann"),
  axes = TRUE,
  frame.plot = NULL,
  asp = NA,
  grid = NULL,
  palette = NULL,
  legend = NULL,
  pch = NULL,
  lty = NULL,
  lwd = NULL,
  col = NULL,
  bg = NULL,
  fill = NULL,
  alpha = NULL,
  cex = 1,
  restore.par = FALSE,
  xmin = NULL,
  xmax = NULL,
  ymin = NULL,
  ymax = NULL,
  add = FALSE,
  draw = NULL,
  file = NULL,
  width = NULL,
  height = NULL,
  empty = FALSE,
  xaxt = NULL,
  yaxt = NULL,
  flip = FALSE,
  xaxs = NULL,
  yaxs = NULL,
  ...
)

## S3 method for class 'formula'
tinyplot(
  x = NULL,
  data = parent.frame(),
  facet = NULL,
  facet.args = NULL,
  type = NULL,
  xlim = NULL,
  ylim = NULL,
  main = NULL,
  sub = NULL,
  xlab = NULL,
  ylab = NULL,
  ann = par("ann"),
  axes = TRUE,
  frame.plot = NULL,
  asp = NA,
  grid = NULL,
  pch = NULL,
  col = NULL,
  lty = NULL,
  lwd = NULL,
  restore.par = FALSE,
  formula = NULL,
  subset = NULL,
  na.action = NULL,
  drop.unused.levels = TRUE,
  ...
)

## S3 method for class 'density'
tinyplot(x = NULL, type = c("l", "area"), ...)

plt(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tinyplot_+3A_x">x</code>, <code id="tinyplot_+3A_y">y</code></td>
<td>
<p>the x and y arguments provide the x and y coordinates for the
plot. Any reasonable way of defining the coordinates is acceptable; most
likely the names of existing vectors or columns of data frames. See the
'Examples' section below, or the function
<code><a href="grDevices.html#topic+xy.coords">xy.coords</a></code> for details. If supplied separately, <code>x</code>
and <code>y</code> must be of the same length.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_...">...</code></td>
<td>
<p>other graphical parameters. If <code>type</code> is a character specification
(such as <code>"hist"</code>) then any argument names that match those from the corresponding
<code style="white-space: pre;">&#8288;type_*()&#8288;</code> function (such as <code><a href="#topic+type_hist">type_hist</a></code>) are passed on to that.
All remaining arguments from <code>...</code> can be further graphical parameters, see
<code><a href="graphics.html#topic+par">par</a></code>).</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_by">by</code></td>
<td>
<p>grouping variable(s). The default behaviour is for groups to be
represented in the form of distinct colours, which will also trigger an
automatic legend. (See <code>legend</code> below for customization options.) However,
groups can also be presented through other plot parameters (e.g., <code>pch</code> or
<code>lty</code>) by passing an appropriate &quot;by&quot; keyword; see Examples. Note that
continuous (i.e., gradient) colour legends are also supported if the user
passes a numeric or integer to <code>by</code>. To group by multiple variables, wrap
them with <code><a href="base.html#topic+interaction">interaction</a></code>.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_facet">facet</code></td>
<td>
<p>the faceting variable(s) that you want arrange separate plot
windows by. Can be specified in various ways:
</p>

<ul>
<li><p> In &quot;atomic&quot; form, e.g. <code>facet = fvar</code>. To facet by multiple variables in
atomic form, simply interact them, e.g.
<code>interaction(fvar1, fvar2)</code> or <code>factor(fvar1):factor(fvar2)</code>.
</p>
</li>
<li><p> As a one-sided formula, e.g. <code>facet = ~fvar</code>. Multiple variables can be
specified in the formula RHS, e.g. <code>~fvar1 + fvar2</code> or <code>~fvar1:fvar2</code>. Note
that these multi-variable cases are <em>all</em> treated equivalently and
converted to <code>interaction(fvar1, fvar2, ...)</code> internally. (No distinction
is made between different types of binary operators, for example, and so
<code>f1+f2</code> is treated the same as <code>f1:f2</code>, is treated the same as <code>f1*f2</code>,
etc.)
</p>
</li>
<li><p> As a two-side formula, e.g. <code>facet = fvar1 ~ fvar2</code>. In this case, the
facet windows are arranged in a fixed grid layout, with the formula LHS
defining the facet rows and the RHS defining the facet columns. At present
only single variables on each side of the formula are well supported. (We
don't recommend trying to use multiple variables on either the LHS or RHS
of the two-sided formula case.)
</p>
</li>
<li><p> As a special <code>"by"</code> convenience keyword, in which case facets will match
the grouping variable(s) passed to <code>by</code> above.
</p>
</li></ul>
</td></tr>
<tr><td><code id="tinyplot_+3A_facet.args">facet.args</code></td>
<td>
<p>an optional list of arguments for controlling faceting
behaviour. (Ignored if <code>facet</code> is NULL.) Supported arguments are as
follows:
</p>

<ul>
<li> <p><code>nrow</code>, <code>ncol</code> for overriding the default &quot;square&quot; facet window
arrangement. Only one of these should be specified, but <code>nrow</code> will take
precedence if both are specified together. Ignored if a two-sided formula
is passed to the main <code>facet</code> argument, since the layout is arranged in a
fixed grid.
</p>
</li>
<li> <p><code>free</code> a logical value indicating whether the axis limits (scales) for
each individual facet should adjust independently to match the range of
the data within that facet. Default is <code>FALSE</code>. Separate free scaling of
the x- or y-axis (i.e., whilst holding the other axis fixed) is not
currently supported.
</p>
</li>
<li> <p><code>fmar</code> a vector of form <code>c(b,l,t,r)</code> for controlling the base margin
between facets in terms of lines. Defaults to the value of <code>tpar("fmar")</code>,
which should be <code>c(1,1,1,1)</code>, i.e. a single line of padding around each
individual facet, assuming it hasn't been overridden by the user as part
their global <code><a href="#topic+tpar">tpar</a></code> settings. Note some automatic
adjustments are made for certain layouts, and depending on whether the plot
is framed or not, to reduce excess whitespace. See
<code><a href="#topic+tpar">tpar</a></code> for more details.
</p>
</li>
<li> <p><code>cex</code>, <code>font</code>, <code>col</code>, <code>bg</code>, <code>border</code> for adjusting the facet title text
and background. Default values for these arguments are inherited from
<code><a href="#topic+tpar">tpar</a></code> (where they take a &quot;facet.&quot; prefix, e.g.
<code>tpar("facet.cex")</code>). The latter function can also be used to set these
features globally for all <code>tinyplot</code> plots.
</p>
</li></ul>
</td></tr>
<tr><td><code id="tinyplot_+3A_data">data</code></td>
<td>
<p>a data.frame (or list) from which the variables in formula
should be taken. A matrix is converted to a data frame.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_type">type</code></td>
<td>
<p>character string or call to a <code style="white-space: pre;">&#8288;type_*()&#8288;</code> function giving the
type of plot desired.
</p>

<ul>
<li><p> NULL (default): Choose a sensible type for the type of <code>x</code> and <code>y</code> inputs
(i.e., usually <code>"p"</code>).
</p>
</li>
<li><p> 1-character values supported by <code><a href="graphics.html#topic+plot">plot</a></code>:
</p>

<ul>
<li> <p><code>"p"</code> Points
</p>
</li>
<li> <p><code>"l"</code> Lines
</p>
</li>
<li> <p><code>"b"</code> Both points and lines
</p>
</li>
<li> <p><code>"c"</code> Empty points joined by lines
</p>
</li>
<li> <p><code>"o"</code> Overplotted points and lines
</p>
</li>
<li> <p><code>"s"</code> Stair steps
</p>
</li>
<li> <p><code>"S"</code> Stair steps
</p>
</li>
<li> <p><code>"h"</code> Histogram-like vertical lines
</p>
</li>
<li> <p><code>"n"</code> Empty plot over the extent of the data
</p>
</li></ul>

</li>
<li> <p><code>tinyplot</code>-specific types. These fall into several categories:
</p>

<ul>
<li><p> Shapes:
</p>

<ul>
<li> <p><code>"area"</code> / <code><a href="#topic+type_area">type_area()</a></code>: Plots the area under the curve from <code>y</code> = 0 to <code>y</code> = f(<code>x</code>).
</p>
</li>
<li> <p><code>"errorbar"</code> / <code><a href="#topic+type_errorbar">type_errorbar()</a></code>: Adds error bars to points; requires <code>ymin</code> and <code>ymax</code>.
</p>
</li>
<li> <p><code>"pointrange"</code> / <code><a href="#topic+type_pointrange">type_pointrange()</a></code>: Combines points with error bars.
</p>
</li>
<li> <p><code>"polygon"</code> / <code><a href="#topic+type_polygon">type_polygon()</a></code>: Draws polygons.
</p>
</li>
<li> <p><code>"polypath"</code> / <code><a href="#topic+type_polypath">type_polypath()</a></code>: Draws a path whose vertices are given in <code>x</code> and <code>y</code>.
</p>
</li>
<li> <p><code>"rect"</code> / <code><a href="#topic+type_rect">type_rect()</a></code>: Draws rectangles; requires <code>xmin</code>, <code>xmax</code>, <code>ymin</code>, and <code>ymax</code>.
</p>
</li>
<li> <p><code>"ribbon"</code> / <code><a href="#topic+type_ribbon">type_ribbon()</a></code>: Creates a filled area between <code>ymin</code> and <code>ymax</code>.
</p>
</li>
<li> <p><code>"segments"</code> / <code><a href="#topic+type_segments">type_segments()</a></code>: Draws line segments between pairs of points.
</p>
</li>
<li> <p><code>"text"</code> / <code><a href="#topic+type_text">type_text()</a></code>: Add text annotations.
</p>
</li></ul>

</li>
<li><p> Visualizations:
</p>

<ul>
<li> <p><code>"boxplot"</code> / <code><a href="#topic+type_boxplot">type_boxplot()</a></code>: Creates a box-and-whisker plot.
</p>
</li>
<li> <p><code>"density"</code> / <code><a href="#topic+type_density">type_density()</a></code>: Plots the density estimate of a variable.
</p>
</li>
<li> <p><code>"histogram"</code> / <code><a href="#topic+type_histogram">type_histogram()</a></code>: Creates a histogram of a single variable.
</p>
</li>
<li> <p><code>"jitter"</code> / <code><a href="#topic+type_jitter">type_jitter()</a></code>: Jittered points.
</p>
</li>
<li> <p><code>"qq"</code> / <code><a href="#topic+type_qq">type_qq()</a></code>: Creates a quantile-quantile plot.
</p>
</li>
<li> <p><code>"ridge"</code> / <code><a href="#topic+type_ridge">type_ridge()</a></code>: Creates a ridgeline (aka joy) plot.
</p>
</li>
<li> <p><code>"rug"</code> / <code><a href="#topic+type_rug">type_rug()</a></code>: Adds a rug to an existing plot.
</p>
</li>
<li> <p><code>"spineplot"</code> / <code><a href="#topic+type_spineplot">type_spineplot()</a></code>: Creates a spineplot or spinogram.
</p>
</li></ul>

</li>
<li><p> Models:
</p>

<ul>
<li> <p><code>"loess"</code> / <code><a href="#topic+type_loess">type_loess()</a></code>: Local regression curve.
</p>
</li>
<li> <p><code>"lm"</code> / <code><a href="#topic+type_lm">type_lm()</a></code>: Linear regression line.
</p>
</li>
<li> <p><code>"glm"</code> / <code><a href="#topic+type_glm">type_glm()</a></code>: Generalized linear model fit.
</p>
</li>
<li> <p><code>"spline"</code> / <code><a href="#topic+type_spline">type_spline()</a></code>: Cubic (or Hermite) spline interpolation.
</p>
</li></ul>

</li>
<li><p> Functions:
</p>

<ul>
<li> <p><code><a href="#topic+type_abline">type_abline()</a></code>: line(s) with intercept and slope.
</p>
</li>
<li> <p><code><a href="#topic+type_hline">type_hline()</a></code>: horizontal line(s).
</p>
</li>
<li> <p><code><a href="#topic+type_vline">type_vline()</a></code>: vertical line(s).
</p>
</li>
<li> <p><code><a href="#topic+type_function">type_function()</a></code>: arbitrary function.
</p>
</li>
<li> <p><code><a href="#topic+type_summary">type_summary()</a></code>: summarize <code>y</code> by unique values of <code>x</code>.
</p>
</li></ul>

</li></ul>

</li></ul>
</td></tr>
<tr><td><code id="tinyplot_+3A_xlim">xlim</code></td>
<td>
<p>the x limits (x1, x2) of the plot. Note that x1 &gt; x2 is allowed
and leads to a ‘reversed axis’. The default value, NULL, indicates that
the range of the <code>finite</code> values to be plotted should be used.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_ylim">ylim</code></td>
<td>
<p>the y limits of the plot.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_log">log</code></td>
<td>
<p>a character string which contains &quot;x&quot; if the x axis is to be
logarithmic, &quot;y&quot; if the y axis is to be logarithmic and &quot;xy&quot; or &quot;yx&quot; if
both axes are to be logarithmic.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_main">main</code></td>
<td>
<p>a main title for the plot, see also <code>title</code>.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_sub">sub</code></td>
<td>
<p>a subtitle for the plot.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_xlab">xlab</code></td>
<td>
<p>a label for the x axis, defaults to a description of x.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_ylab">ylab</code></td>
<td>
<p>a label for the y axis, defaults to a description of y.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_ann">ann</code></td>
<td>
<p>a logical value indicating whether the default annotation (title
and x and y axis labels) should appear on the plot.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_axes">axes</code></td>
<td>
<p>logical or character. Should axes be drawn (<code>TRUE</code> or <code>FALSE</code>)?
Or alternatively what type of axes should be drawn: <code>"standard"</code> (with
axis, ticks, and labels; equivalent to <code>TRUE</code>), <code>"none"</code> (no axes;
equivalent to <code>FALSE</code>), <code>"ticks"</code> (only ticks and labels without axis line),
<code>"labels"</code> (only labels without ticks and axis line), <code>"axis"</code> (only axis
line and labels but no ticks). To control this separately for the two
axes, use the character specifications for <code>xaxt</code> and/or <code>yaxt</code>.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_frame.plot">frame.plot</code></td>
<td>
<p>a logical indicating whether a box should be drawn around
the plot. Can also use <code>frame</code> as an acceptable argument alias.
The default is to draw a frame if both axis types (set via <code>axes</code>, <code>xaxt</code>,
or <code>yaxt</code>) include axis lines.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_asp">asp</code></td>
<td>
<p>the y/xy/x aspect ratio, see <code>plot.window</code>.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_grid">grid</code></td>
<td>
<p>argument for plotting a background panel grid, one of either:
</p>

<ul>
<li><p> a logical (i.e., <code>TRUE</code> to draw the grid), or
</p>
</li>
<li><p> a panel grid plotting function like <code>grid()</code>.
Note that this argument replaces the <code>panel.first</code> and <code>panel.last</code>
arguments from base <code>plot()</code> and tries to make the process more seamless
with better default behaviour. The default behaviour is determined by (and
can be set globally through) the value of <code>tpar("grid")</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="tinyplot_+3A_palette">palette</code></td>
<td>
<p>one of the following options:
</p>

<ul>
<li><p> NULL (default), in which case the palette will be chosen according to
the class and cardinality of the &quot;by&quot; grouping variable. For non-ordered
factors or strings with a reasonable number of groups, this will inherit
directly from the user's default <code><a href="grDevices.html#topic+palette">palette</a></code> (e.g.,
&quot;R4&quot;). In other cases, including ordered factors and high cardinality, the
&quot;Viridis&quot; palette will be used instead. Note that a slightly restricted
version of the &quot;Viridis&quot; palette&mdash;where extreme color values have been
trimmed to improve visual perception&mdash;will be used for ordered factors
and continuous variables. In the latter case of a continuous grouping
variable, we also generate a gradient legend swatch.
</p>
</li>
<li><p> A convenience string corresponding to one of the many palettes listed by
either <code>palette.pals()</code> or <code>hcl.pals()</code>. Note that the string can be
case-insensitive (e.g., &quot;Okabe-Ito&quot; and &quot;okabe-ito&quot; are both valid).
</p>
</li>
<li><p> A palette-generating function. This can be &quot;bare&quot; (e.g.,
<code>palette.colors</code>) or &quot;closed&quot; with a set of named arguments (e.g.,
<code>palette.colors(palette = "Okabe-Ito", alpha = 0.5)</code>). Note that any
unnamed arguments will be ignored and the key <code>n</code> argument, denoting the
number of colours, will automatically be spliced in as the number of
groups.
</p>
</li></ul>
</td></tr>
<tr><td><code id="tinyplot_+3A_legend">legend</code></td>
<td>
<p>one of the following options:
</p>

<ul>
<li><p> NULL (default), in which case the legend will be determined by the
grouping variable. If there is no group variable (i.e., <code>by</code> is NULL) then
no legend is drawn. If a grouping variable is detected, then an automatic
legend is drawn to the <em>outer</em> right of the plotting area. Note that the
legend title and categories will automatically be inferred from the <code>by</code>
argument and underlying data.
</p>
</li>
<li><p> A convenience string indicating the legend position. The string should
correspond to one of the position keywords supported by the base <code>legend</code>
function, e.g. &quot;right&quot;, &quot;topleft&quot;, &quot;bottom&quot;, etc. In addition, <code>tinyplot</code>
supports adding a trailing exclamation point to these keywords, e.g.
&quot;right!&quot;, &quot;topleft!&quot;, or &quot;bottom!&quot;. This will place the legend <em>outside</em>
the plotting area and adjust the margins of the plot accordingly. Finally,
users can also turn off any legend printing by specifying &quot;none&quot;.
</p>
</li>
<li><p> Logical value, where TRUE corresponds to the default case above (same
effect as specifying NULL) and FALSE turns the legend off (same effect as
specifying &quot;none&quot;).
</p>
</li>
<li><p> A list or, equivalently, a dedicated <code>legend()</code> function with supported
legend arguments, e.g. &quot;bty&quot;, &quot;horiz&quot;, and so forth.
</p>
</li></ul>
</td></tr>
<tr><td><code id="tinyplot_+3A_pch">pch</code></td>
<td>
<p>plotting &quot;character&quot;, i.e., symbol to use. Character, integer, or
vector of length equal to the number of categories in the <code>by</code> variable.
See <code>pch</code>. In addition, users can supply a special <code>pch = "by"</code> convenience
argument, in which case the characters will automatically loop over the
number groups. This automatic looping will begin at the global character
value (i.e., <code>par("pch")</code>) and recycle as necessary.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_lty">lty</code></td>
<td>
<p>line type. Character, integer, or vector of length equal to the
number of categories in the <code>by</code> variable. See <code>lty</code>. In addition, users
can supply a special <code>lty = "by"</code> convenience argument, in which case the
line type will automatically loop over the number groups. This automatic
looping will begin at the global line type value (i.e., <code>par("lty")</code>) and
recycle as necessary.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_lwd">lwd</code></td>
<td>
<p>line width. Numeric scalar or vector of length equal to the
number of categories in the <code>by</code> variable. See <code>lwd</code>. In addition, users
can supply a special <code>lwd = "by"</code> convenience argument, in which case the
line width will automatically loop over the number of groups. This
automatic looping will be centered at the global line width value (i.e.,</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_col">col</code></td>
<td>
<p>plotting color. Character, integer, or vector of length equal to
the number of categories in the <code>by</code> variable. See <code>col</code>. Note that the
default behaviour in <code>tinyplot</code> is to vary group colors along any variables
declared in the <code>by</code> argument. Thus, specifying colors manually should not
be necessary unless users wish to override the automatic colors produced by
this grouping process. Typically, this would only be done if grouping
features are deferred to some other graphical parameter (i.e., passing the
&quot;by&quot; keyword to one of <code>pch</code>, <code>lty</code>, <code>lwd</code>, or <code>bg</code>; see below.)</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_bg">bg</code></td>
<td>
<p>background fill color for the open plot symbols 21:25 (see
<code>points.default</code>), as well as ribbon and area plot types.
Users can also supply either one of two special convenience arguments that
will cause the background fill to inherit the automatic grouped coloring
behaviour of <code>col</code>:
</p>

<ul>
<li> <p><code>bg = "by"</code> will insert a background fill that inherits the main color
mappings from <code>col</code>.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;by = &lt;numeric[0,1]&gt;&#8288;</code> (i.e., a numeric in the range <code style="white-space: pre;">&#8288;[0,1]&#8288;</code>) will insert
a background fill that inherits the main color mapping(s) from <code>col</code>, but
with added alpha-transparency.
</p>
</li></ul>

<p>For both of these convenience arguments, note that the (grouped) <code>bg</code>
mappings will persist even if the (grouped) <code>col</code> defaults are themselves
overridden. This can be useful if you want to preserve the grouped palette
mappings by background fill but not boundary color, e.g. filled points. See
examples.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_fill">fill</code></td>
<td>
<p>alias for <code>bg</code>. If non-NULL values for both <code>bg</code> and <code>fill</code> are
provided, then the latter will be ignored in favour of the former.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_alpha">alpha</code></td>
<td>
<p>a numeric in the range <code style="white-space: pre;">&#8288;[0,1]&#8288;</code> for adjusting the alpha channel
of the color palette, where 0 means transparent and 1 means opaque. Use
fractional values, e.g. <code>0.5</code> for semi-transparency.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_cex">cex</code></td>
<td>
<p>character expansion. A numerical vector (can be a single value)
giving the amount by which plotting characters and symbols should be scaled
relative to the default. Note that NULL is equivalent to 1.0, while NA
renders the characters invisible.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_restore.par">restore.par</code></td>
<td>
<p>a logical value indicating whether the
<code><a href="graphics.html#topic+par">par</a></code> settings prior to calling <code>tinyplot</code> should be
restored on exit. Defaults to FALSE, which makes it possible to add
elements to the plot after it has been drawn. However, note the the outer
margins of the graphics device may have been altered to make space for the
<code>tinyplot</code> legend. Users can opt out of this persistent behaviour by
setting to TRUE instead. See also <a href="#topic+get_saved_par">get_saved_par</a> for another option to
recover the original <code><a href="graphics.html#topic+par">par</a></code> settings, as well as
longer discussion about the trade-offs involved.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_xmin">xmin</code>, <code id="tinyplot_+3A_xmax">xmax</code>, <code id="tinyplot_+3A_ymin">ymin</code>, <code id="tinyplot_+3A_ymax">ymax</code></td>
<td>
<p>minimum and maximum coordinates of relevant area
or interval plot types. Only used when the <code>type</code> argument is one of
<code>"rect"</code> or <code>"segments"</code> (where all four min-max coordinates are required),
or <code>"pointrange"</code>, <code>"errorbar"</code>, or <code>"ribbon"</code> (where only <code>ymin</code> and
<code>ymax</code> required alongside <code>x</code>).</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_add">add</code></td>
<td>
<p>logical. If TRUE, then elements are added to the current plot rather
than drawing a new plot window. Note that the automatic legend for the
added elements will be turned off. See also <a href="#topic+tinyplot_add">tinyplot_add</a>, which provides
a convenient wrapper around this functionality for layering on top of an
existing plot without having to repeat arguments.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_draw">draw</code></td>
<td>
<p>a function that draws directly on the plot canvas (before <code>x</code> and
<code>y</code> are plotted). The <code>draw</code> argument is primarily useful for adding common
elements to each facet of a faceted plot, e.g.
<code><a href="graphics.html#topic+abline">abline</a></code> or <code><a href="graphics.html#topic+text">text</a></code>. Note that
this argument is somewhat experimental and that <em>no</em> internal checking is
done for correctness; the provided argument is simply captured and
evaluated as-is. See Examples.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_file">file</code></td>
<td>
<p>character string giving the file path for writing a plot to disk.
If specified, the plot will not be displayed interactively, but rather sent
to the appropriate external graphics device (i.e.,
<code><a href="grDevices.html#topic+png">png</a></code>, <code><a href="grDevices.html#topic+jpeg">jpeg</a></code>,
<code><a href="grDevices.html#topic+pdf">pdf</a></code>, or <code><a href="grDevices.html#topic+svg">svg</a></code>). As a point
of convenience, note that any global parameters held in <code style="white-space: pre;">&#8288;(t)par&#8288;</code> are
automatically carried over to the external device and don't need to be
reset (in contrast to the conventional base R approach that requires
manually opening and closing the device). The device type is determined by
the file extension at the end of the provided path, and must be one of
&quot;.png&quot;, &quot;.jpg&quot; (&quot;.jpeg&quot;), &quot;.pdf&quot;, or &quot;.svg&quot;. (Other file types may be
supported in the future.) The file dimensions can be controlled by the
corresponding <code>width</code> and <code>height</code> arguments below, otherwise will fall
back to the <code>"file.width"</code> and <code>"file.height"</code> values held in
<code><a href="#topic+tpar">tpar</a></code> (i.e., both defaulting to 7 inches, and where
the default resolution for bitmap files is also specified as 300
DPI).</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_width">width</code></td>
<td>
<p>numeric giving the plot width in inches. Together with <code>height</code>,
typically used in conjunction with the <code>file</code> argument above, overriding the
default values held in <code>tpar("file.width", "file.height")</code>. If either <code>width</code>
or <code>height</code> is specified, but a corresponding <code>file</code> argument is not
provided as well, then a new interactive graphics device dimensions will be
opened along the given dimensions. Note that this interactive resizing may
not work consistently from within an IDE like RStudio that has an integrated
graphics windows.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_height">height</code></td>
<td>
<p>numeric giving the plot height in inches. Same considerations as
<code>width</code> (above) apply, e.g. will default to <code>tpar("file.height")</code> if not
specified.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_empty">empty</code></td>
<td>
<p>logical indicating whether the interior plot region should be
left empty. The default is <code>FALSE</code>. Setting to <code>TRUE</code> has a similar effect
to invoking <code>type = "n"</code> above, except that any legend artifacts owing to a
particular plot type (e.g., lines for <code>type = "l"</code> or squares for
<code>type = "area"</code>) will still be drawn correctly alongside the empty plot. In
contrast,<code>type = "n"</code> implicitly assumes a scatterplot and so any legend
will only depict points.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_xaxt">xaxt</code>, <code id="tinyplot_+3A_yaxt">yaxt</code></td>
<td>
<p>character specifying the type of x-axis and y-axis, respectively.
See <code>axes</code> for the possible values.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_flip">flip</code></td>
<td>
<p>logical. Should the plot orientation be flipped, so that the
y-axis is on the horizontal plane and the x-axis is on the vertical plane?
Default is FALSE.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_xaxs">xaxs</code>, <code id="tinyplot_+3A_yaxs">yaxs</code></td>
<td>
<p>character specifying the style of the interval calculation used
for the x-axis and y-axis, respectively. See <code><a href="graphics.html#topic+par">par</a></code>
for the possible values.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_formula">formula</code></td>
<td>
<p>a <code><a href="stats.html#topic+formula">formula</a></code> that optionally includes
grouping variable(s) after a vertical bar, e.g. <code>y ~ x | z</code>. One-sided
formulae are also permitted, e.g. <code>~ y | z</code>. Multiple grouping variables
can be specified in different ways, e.g. <code>y ~ x | z1:z2</code> or
<code>y ~ x | z1 + z2</code>. (These two representations are treated as equivalent;
both are parsed as <code>interaction(z1, z2)</code> internally.) Note that the
<code>formula</code> and <code>x</code> arguments should not be specified in the same call.</p>
</td></tr>
<tr><td><code id="tinyplot_+3A_subset">subset</code>, <code id="tinyplot_+3A_na.action">na.action</code>, <code id="tinyplot_+3A_drop.unused.levels">drop.unused.levels</code></td>
<td>
<p>arguments passed to <code>model.frame</code>
when extracting the data from <code>formula</code> and <code>data</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Disregarding the enhancements that it supports, <code>tinyplot</code> tries as far as
possible to mimic the behaviour and syntax logic of the original base
<code><a href="graphics.html#topic+plot">plot</a></code> function. Users should therefore be able to swap
out existing <code>plot</code> calls for <code>tinyplot</code> (or its shorthand alias <code>plt</code>),
without causing unexpected changes to the output.
</p>


<h3>Value</h3>

<p>No return value, called for side effect of producing a plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#'
aq = transform(
  airquality,
  Month = factor(Month, labels = month.abb[unique(Month)])
)

# In most cases, `tinyplot` should be a drop-in replacement for regular
# `plot` calls. For example:

op = tpar(mfrow = c(1, 2))
plot(0:10, main = "plot")
tinyplot(0:10, main = "tinyplot")
tpar(op) # restore original layout

# Aside: `tinyplot::tpar()` is a (near) drop-in replacement for `par()`

# Unlike vanilla plot, however, tinyplot allows you to characterize groups
# using either the `by` argument or equivalent `|` formula syntax.

with(aq, tinyplot(Day, Temp, by = Month)) ## atomic method
tinyplot(Temp ~ Day | Month, data = aq) ## formula method

# (Notice that we also get an automatic legend.)

# You can also use the equivalent shorthand `plt()` alias if you'd like to
# save on a few keystrokes

plt(Temp ~ Day | Month, data = aq) ## shorthand alias

# Use standard base plotting arguments to adjust features of your plot.
# For example, change `pch` (plot character) to get filled points and `cex`
# (character expansion) to increase their size.

tinyplot(
  Temp ~ Day | Month,
  data = aq,
  pch = 16,
  cex = 2
)

# We can add alpha transparency for overlapping points

tinyplot(
  Temp ~ Day | Month,
  data = aq,
  pch = 16,
  cex = 2,
  alpha = 0.3
)

# To get filled points with a common solid background color, use an
# appropriate plotting character (21:25) and combine with one of the special
# `bg` convenience arguments.
tinyplot(
  Temp ~ Day | Month,
  data = aq,
  pch = 21, # use filled circles
  cex = 2,
  bg = 0.3, # numeric in [0,1] adds a grouped background fill with transparency
  col = "black" # override default color mapping; give all points a black border
)

# Converting to a grouped line plot is a simple matter of adjusting the
# `type` argument.

tinyplot(
  Temp ~ Day | Month,
  data = aq,
  type = "l"
)

# Similarly for other plot types, including some additional ones provided
# directly by tinyplot, e.g. density plots or internal plots (ribbons,
# pointranges, etc.)

tinyplot(
  ~ Temp | Month,
  data = aq,
  type = "density",
  fill = "by"
)

# Facet plots are supported too. Facets can be drawn on their own...

tinyplot(
  Temp ~ Day,
  facet = ~Month,
  data = aq,
  type = "area",
  main = "Temperatures by month"
)

# ... or combined/contrasted with the by (colour) grouping.

aq = transform(aq, Summer = Month %in% c("Jun", "Jul", "Aug"))
tinyplot(
  Temp ~ Day | Summer,
  facet = ~Month,
  data = aq,
  type = "area",
  palette = "dark2",
  main = "Temperatures by month and season"
)

# Users can override the default square window arrangement by passing `nrow`
# or `ncol` to the helper facet.args argument. Note that we can also reduce
# axis label repetition across facets by turning the plot frame off.

tinyplot(
  Temp ~ Day | Summer,
  facet = ~Month, facet.args = list(nrow = 1),
  data = aq,
  type = "area",
  palette = "dark2",
  frame = FALSE,
  main = "Temperatures by month and season"
)

# Use a two-sided formula to arrange the facet windows in a fixed grid.
# LHS -&gt; facet rows; RHS -&gt; facet columns

aq$hot = ifelse(aq$Temp &gt;= 75, "hot", "cold")
aq$windy = ifelse(aq$Wind &gt;= 15, "windy", "calm")
tinyplot(
  Temp ~ Day,
  facet = windy ~ hot,
  data = aq
)

# To add common elements to each facet, use the `draw` argument

tinyplot(
  Temp ~ Day,
  facet = windy ~ hot,
  data = aq,
  draw = abline(h = 75, lty = 2, col = "hotpink")
)

# The (automatic) legend position and look can be customized using
# appropriate arguments. Note the trailing "!" in the `legend` position
# argument below. This tells `tinyplot` to place the legend _outside_ the plot
# area.

tinyplot(
  Temp ~ Day | Month,
  data = aq,
  type = "l",
  legend = legend("bottom!", title = "Month of the year", bty = "o")
)

# The default group colours are inherited from either the "R4" or "Viridis"
# palettes, depending on the number of groups. However, all palettes listed
# by `palette.pals()` and `hcl.pals()` are supported as convenience strings,
# or users can supply a valid palette-generating function for finer control

tinyplot(
  Temp ~ Day | Month,
  data = aq,
  type = "l",
  palette = "tableau"
)

# It's possible to customize the look of your plots by setting graphical
# parameters (e.g., via `(t)par`)... But a more convenient way is to just use
# built-in themes (see `?tinytheme`).

tinytheme("clean2")
tinyplot(
  Temp ~ Day | Month,
  data = aq,
  type = "b",
  alpha = 0.5,
  main = "Daily temperatures by month",
  sub = "Brought to you by tinyplot"
)
# reset the theme
tinytheme()

# For more examples and a detailed walkthrough, please see the introductory
# tinyplot tutorial available online:
# https://grantmcdermott.com/tinyplot/vignettes/introduction.html

</code></pre>

<hr>
<h2 id='tinyplot_add'>Add new elements to the current <code>tinyplot</code></h2><span id='topic+tinyplot_add'></span><span id='topic+plt_add'></span>

<h3>Description</h3>

<p>This convenience function grabs the preceding <code>tinyplot</code> call and updates it
with any new arguments that have been explicitly provided by the user. It
then injects <code>add=TRUE</code> and evaluates the updated call, thereby drawing a new
layer on top of the existing plot. <code>plt_add()</code> is a shorthand alias for
<code>tinyplot_add()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tinyplot_add(...)

plt_add(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tinyplot_add_+3A_...">...</code></td>
<td>
<p>All named arguments override arguments from the previous calls.
Arguments not supplied to <a href="#topic+tinyplot_add">tinyplot_add</a> remain unchanged from the previous
call.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effect of producing a plot.
</p>


<h3>Limitations</h3>


<ul>
<li><p> Currently, <code>tinyplot_add</code> only works reliably if you are adding to a plot
that was originally constructed with the <a href="#topic+tinyplot.formula">tinyplot.formula</a> method (and
passed an appropriate <code>data</code> argument). In contrast, we cannot guarantee that
using <code>tinyplot_add</code> will work correctly if your original plot was
constructed with the atomic <a href="#topic+tinyplot.default">tinyplot.default</a> method. The reason has to do
with potential environment mismatches. (An exception is thus if your plot
arguments (<code>x</code>, <code>y</code>, etc.) are attached to your global R environment.)
</p>
</li>
<li><p> Automatic legends for the added elements will be turned off.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(tinyplot)

tinyplot(Sepal.Width ~ Sepal.Length | Species,
  facet = ~Species,
  data = iris)

tinyplot_add(type = "lm") ## or : plt_add(type = "lm")

## Note: the previous function is equivalent to (but much more convenient
## than) re-writing the full call with the new type and `add=TRUE`:

# tinyplot(Sepal.Width ~ Sepal.Length | Species,
#          facet = ~Species,
#          data = iris,
#          type = "lm",
#          add = TRUE)

</code></pre>

<hr>
<h2 id='tinytheme'>Set or Reset Plot Themes for <code>tinyplot</code></h2><span id='topic+tinytheme'></span>

<h3>Description</h3>

<p>The <code>tinytheme</code> function sets or resets the theme for plots created with
<code>tinyplot</code>. Themes control the appearance of plots, such as text alignment,
font styles, axis labels, and even dynamic margin adjustment to reduce
whitespace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tinytheme(
  theme = c("default", "basic", "clean", "clean2", "bw", "classic", "minimal", "ipsum",
    "dark", "ridge", "ridge2", "tufte", "void"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tinytheme_+3A_theme">theme</code></td>
<td>
<p>A character string specifying the name of the theme to apply.
Themes are arranged in an approximate hierarchy, adding or subtracting
elements in the order presented below. Note that several themes are
<em>dynamic</em>, in the sense that they attempt to reduce whitespace in a way
that is responsive to the length of axes labels, tick marks, etc. These
dynamic plots are marked with an asterisk (*) below.
</p>

<ul>
<li> <p><code>"default"</code>: inherits the user's default base graphics settings.
</p>
</li>
<li> <p><code>"basic"</code>: light modification of <code>"default"</code>, only adding filled points, a panel background grid, and light gray background to facet titles.
</p>
</li>
<li> <p><code>"clean"</code> (*): builds on <code>"basic"</code> by moving the subtitle above the plotting area, adding horizontal axis labels, employing tighter default plot margins and title gaps to reduce whitespace, and setting different default palettes (&quot;Tableau 10&quot; for discrete colors and &quot;agSunset&quot; for gradient colors). The first of our dynamic themes and the foundation for several derivative themes that follow below.
</p>
</li>
<li> <p><code>"clean2"</code> (*): removes the plot frame (box) from <code>"clean"</code>.
</p>
</li>
<li> <p><code>"classic"</code> (*): connects the axes in a L-shape, but removes the other top and right-hand edges of the plot frame (box). Also sets the &quot;Okabe-Ito&quot; palette as a default for discrete colors. Inspired by the <strong>ggplot2</strong> theme of the same name.
</p>
</li>
<li> <p><code>"bw"</code> (*): similar to <code>"clean"</code>, except uses thinner lines for the plot frame (box), solid grid lines, and sets the &quot;Okabe-Ito&quot; palette as a default for discrete colors. Inspired by the <strong>ggplot2</strong> theme of the same name.
</p>
</li>
<li> <p><code>"minimal"</code> (*): removes the plot frame (box) from <code>"bw"</code>, as well as the background for facet titles. Inspired by the <strong>ggplot2</strong> theme of the same name.
</p>
</li>
<li> <p><code>"ipsum"</code> (*): similar to <code>"minimal"</code>, except subtitle is italicised and axes titles are aligned to the far edges. Inspired by the <strong>hrbrthemes</strong> theme of the same name for <strong>ggplot2</strong>.
</p>
</li>
<li> <p><code>"dark"</code> (*): similar to <code>"minimal"</code>, but set against a dark background with foreground and a palette colours lightened for appropriate contrast.
</p>
</li>
<li> <p><code>"ridge"</code> (*): a specialized theme for ridge plots (see <code><a href="#topic+type_ridge">type_ridge()</a></code>). Builds off of <code>"clean"</code>, but adds ridge-specific tweaks (e.g. default &quot;Zissou 1&quot; palette for discrete colors, solid horizontal grid lines, and minor adjustments to y-axis labels). Not recommended for non-ridge plots.
</p>
</li>
<li> <p><code>"ridge2"</code> (*): removes the plot frame (box) from <code>"ridge"</code>, but retains the x-axis line. Again, not recommended for non-ridge plots.
</p>
</li>
<li> <p><code>"tufte"</code>: floating axes and minimalist plot artifacts in the style of Edward Tufte.
</p>
</li>
<li> <p><code>"void"</code>: switches off all axes, titles, legends, etc.
</p>
</li></ul>
</td></tr>
<tr><td><code id="tinytheme_+3A_...">...</code></td>
<td>
<p>Named arguments to override specific theme settings. These
arguments are passed to <code>tpar()</code> and take precedence over the predefined
settings in the selected theme.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Sets a list of graphical parameters using <code>tpar()</code>
</p>
<p>To reset the theme to default settings (no customization), call <code>tinytheme()</code>
without arguments.
</p>
<p><strong>Caveat emptor:</strong> Themes are a somewhat experimental feature of <code>tinyplot</code>.
While we feel confident that themes should work as expected for most
&quot;standard&quot; cases, there may be some sharp edges. Please report any unexpected
behaviour to our GitHub repo:
<a href="https://github.com/grantmcdermott/tinyplot/issues">https://github.com/grantmcdermott/tinyplot/issues</a>
</p>
<p>Known current limitations include:
</p>

<ul>
<li><p> Themes do not work well when <code>legend = "top!"</code>.
</p>
</li>
<li><p> Dynamic margin spacing does not account for multi-line strings (e.g., axes
or main titles that contain &quot;\n&quot;).
</p>
</li></ul>



<h3>Value</h3>

<p>The function returns nothing. It is called for its side effects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tpar">tpar</a></code> which does the heavy lifting under the hood.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Reusable plot function
p = function() tinyplot(
  lat ~ long | depth, data = quakes,
  main = "Earthquakes off Fiji",
  sub = "Data courtesy of the Harvard PRIM-H project"
)
p()

# Set a theme
tinytheme("bw")
p()

# Try a different theme
tinytheme("dark")
p()
         
# Customize the theme by overriding default settings
tinytheme("bw", fg = "green", font.main = 2, font.sub = 3, family = "Palatino")
p()

# Aside: One or two specialized themes are only meant for certain plot types
tinytheme("ridge2")
tinyplot(I(cut(lat, 10)) ~ depth, data = quakes, type = "ridge")

# Reset the theme
tinytheme()
p()

# Themes showcase
## We'll use a slightly more intricate plot (long y-axis labs and facets)
## to demonstrate dynamic margin adjustment etc.

thms = eval(formals(tinytheme)$theme)

for (thm in thms) {
  tinytheme(thm)
  tinyplot(
    I(Sepal.Length*1e4) ~ Petal.Length | Species, facet = "by", data = iris,
    main = "Demonstration of tinyplot themes",
    sub = paste0('tinytheme("', thm, '")')
  )
}

# Reset
tinytheme()

</code></pre>

<hr>
<h2 id='tpar'>Set or query graphical parameters</h2><span id='topic+tpar'></span>

<h3>Description</h3>

<p>Extends <code><a href="graphics.html#topic+par">par</a></code>, serving as a (near) drop-in
replacement for setting or querying graphical parameters. The key
differences is that, beyond supporting the standard group of R graphical
parameters in <code><a href="graphics.html#topic+par">par</a></code>, <code>tpar</code> also supports additional
graphical parameters that are provided by <code>tinyplot</code>. Similar to
<code><a href="graphics.html#topic+par">par</a></code>, parameters are set by passing appropriate
<code>key = value</code> argument pairs, and multiple parameters can be set or queried
at the same time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tpar(..., hook = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tpar_+3A_...">...</code></td>
<td>
<p>arguments of the form <code>key = value</code>. This includes all of the
parameters typically supported by <code><a href="graphics.html#topic+par">par</a></code>, as well as
the <code>tinyplot</code>-specific ones described in the 'Graphical Parameters'
section below.</p>
</td></tr>
<tr><td><code id="tpar_+3A_hook">hook</code></td>
<td>
<p>Logical. If <code>TRUE</code>, base graphical parameters persist across
plots via a hook applied before each new plot (see <code>?setHook</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>tinyplot</code>-specific parameters are saved in an internal
environment called <code>.tpar</code> for performance and safety reasons. However,
they can also be set at package load time via <code><a href="base.html#topic+options">options</a></code>,
which may prove convenient for users that want to enable different default
behaviour at startup (e.g., through an <code>.Rprofile</code> file). These options all
take a <code style="white-space: pre;">&#8288;tinyplot_*&#8288;</code> prefix, e.g.
<code>options(tinyplot_grid = TRUE, tinyplot_facet.bg = "grey90")</code>.
</p>
<p>For their part, any &quot;base&quot; graphical parameters are caught dynamically and
passed on to <code><a href="graphics.html#topic+par">par</a></code> as appropriate. Technically, only
parameters that satisfy <code>par(..., no.readonly = TRUE)</code> are evaluated.
</p>
<p>However, note the important distinction: <code>tpar</code> only evaluates parameters
from <code><a href="graphics.html#topic+par">par</a></code> if they are passed <em>explicitly</em> by the
user. This means that <code>tpar</code> should not be used to capture the (invisible)
state of a user's entire set of graphics parameters, i.e. <code>tpar()</code> !=
<code>par()</code>. If you want to capture the <em>all</em> existing graphics settings, then
you should rather use <code>par()</code> instead.
</p>


<h3>Value</h3>

<p>When parameters are set, their previous values are returned in an
invisible named list. Such a list can be passed as an argument to <code>tpar</code> to
restore the parameter values.
</p>
<p>When just one parameter is queried, the value of that parameter is returned
as (atomic) vector. When two or more parameters are queried, their values
are returned in a list, with the list names giving the parameters.
</p>
<p>Note the inconsistency: setting one parameter returns a list, but querying
one parameter returns a vector.
</p>


<h3>Additional Graphical Parameters</h3>


<ul>
<li> <p><code>adj.xlab</code>: Numeric value between 0 and 1 controlling the alignment of the x-axis label.
</p>
</li>
<li> <p><code>adj.ylab</code>: Numeric value between 0 and 1 controlling the alignment of the y-axis label.
</p>
</li>
<li> <p><code>dynmar</code>: Logical indicating whether <code>tinyplot</code> should attempt dynamic adjustment of margins to reduce whitespace and/or account for spacing of text elements (e.g., long horizontal y-axis labels). Note that this parameter is tightly coupled to internal <code>tinythemes()</code> logic and should <em>not</em> be adjusted manually unless you really know what you are doing or don't mind risking unintended consequences to your plot.
</p>
</li>
<li> <p><code>facet.bg</code>: Character or integer specifying the facet background colour. If an integer, will correspond to the user's default colour palette (see <code>palette</code>). Passed to <code>rect</code>. Defaults to <code>NULL</code> (none).
</p>
</li>
<li> <p><code>facet.border</code>: Character or integer specifying the facet border colour. If an integer, will correspond to the user's default colour palette (see <code>palette</code>). Passed to <code>rect</code>. Defaults to <code>NA</code> (none).
</p>
</li>
<li> <p><code>facet.cex</code>: Expansion factor for facet titles. Defaults to <code>1</code>.
</p>
</li>
<li> <p><code>facet.col</code>: Character or integer specifying the facet text colour. If an integer, will correspond to the user's default global colour palette (see <code>palette</code>). Defaults to <code>NULL</code>, which is equivalent to &quot;black&quot;.
</p>
</li>
<li> <p><code>facet.font</code>: An integer corresponding to the desired font face for facet titles. For most font families and graphics devices, one of four possible values: <code>1</code> (regular), <code>2</code> (bold), <code>3</code> (italic), or <code>4</code> (bold italic). Defaults to <code>NULL</code>, which is equivalent to <code>1</code> (i.e., regular).
</p>
</li>
<li> <p><code>file.height</code>: Numeric specifying the height (in inches) of any plot that is written to disk using the <code>tinyplot(..., file = X)</code> argument. Defaults to <code>7</code>.
</p>
</li>
<li> <p><code>file.res</code>: Numeric specifying the resolution (in dots per square inch) of any plot that is written to disk in bitmap format (i.e., PNG or JPEG) using the <code>tinyplot(..., file = X)</code> argument. Defaults to <code>300</code>.
</p>
</li>
<li> <p><code>file.width</code>: Numeric specifying the width (in inches) of any plot that is written to disk using the <code>tinyplot(..., file = X)</code> argument. Defaults to <code>7</code>.
</p>
</li>
<li> <p><code>fmar</code>: A numeric vector of form <code>c(b,l,t,r)</code> for controlling the (base) margin padding, in terms of lines, between the individual facets in a faceted plot. Defaults to <code>c(1,1,1,1)</code>. If more than three facets are detected, the <code>fmar</code> parameter is scaled by 0.75 to reduce excess whitespace. For 2x2 plots, the padding better matches the <code>cex</code> expansion logic of base graphics.
</p>
</li>
<li> <p><code>grid.col</code>: Character or (integer) numeric that specifies the color of the panel grid lines. Defaults to <code>"lightgray"</code>.
</p>
</li>
<li> <p><code>grid.lty</code>: Character or (integer) numeric that specifies the line type of the panel grid lines. Defaults to <code>"dotted"</code>.
</p>
</li>
<li> <p><code>grid.lwd</code>: Non-negative numeric giving the line width of the panel grid lines. Defaults to <code>1</code>.
</p>
</li>
<li> <p><code>grid</code>: Logical indicating whether a background panel grid should be added to plots automatically. Defaults to <code>NULL</code>, which is equivalent to <code>FALSE</code>.
</p>
</li>
<li> <p><code>lmar</code>: A numeric vector of form <code>c(inner, outer)</code> that gives the margin padding, in terms of lines, around the automatic <code>tinyplot</code> legend. Defaults to <code>c(1.0, 0.1)</code>. The inner margin is the gap between the legend and the plot region, and the outer margin is the gap between the legend and the edge of the graphics device.
</p>
</li>
<li> <p><code>palette.qualitative</code>: Palette for qualitative colors. See the <code>palette</code> argumetn in <code>?tinyplot</code>.
</p>
</li>
<li> <p><code>palette.sequential</code>: Palette for sequential colors. See the <code>palette</code> argumetn in <code>?tinyplot</code>.
</p>
</li>
<li> <p><code>ribbon.alpha</code>: Numeric factor in the range <code style="white-space: pre;">&#8288;[0,1]&#8288;</code> for modifying the opacity alpha of &quot;ribbon&quot; and &quot;area&quot; type plots. Default value is <code>0.2</code>.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="graphics.html#topic+par">graphics::par</a></code> which <code>tpar</code> builds on top of. <code><a href="#topic+get_saved_par">get_saved_par</a></code>
is a convenience function for retrieving graphical parameters at different
stages of a <code>tinyplot</code> call (and used for internal accounting purposes).
<code><a href="#topic+tinytheme">tinytheme</a></code> allows users to easily set a group of graphics parameters
in a single function call, according to a variety of predefined themes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Return a list of existing base and tinyplot graphic params
tpar("las", "pch", "facet.bg", "facet.cex", "grid")

# Simple facet plot with these default values
tinyplot(mpg ~ wt, data = mtcars, facet = ~am)

# Set params to something new. Similar to graphics::par(), note that we save
# the existing values at the same time by assigning to an object.
op = tpar(
  las       = 1,
  pch       = 2,
  facet.bg  = "grey90",
  facet.cex = 2,
  grid      = TRUE
)

# Re-plot with these new params
tinyplot(mpg ~ wt, data = mtcars, facet = ~am)

# Reset back to original values
tpar(op)

# Important: tpar() only evalutes parameters that have been passed explicitly
#   by the user. So it it should not be used to query and set (restore)
#   parameters that weren't explicitly requested, i.e. tpar() != par().

# Note: The tinyplot-specific parameters can also be be set via `options`
#   with a `tinyplot_*` prefix, which can be convenient for enabling
#   different default behaviour at startup time (e.g., via an .Rprofile
#   file). Example:
# options(tinyplot_grid = TRUE, tinyplot_facet.bg = "grey90")

</code></pre>

<hr>
<h2 id='type_abline'>Add straight lines to a plot</h2><span id='topic+type_abline'></span>

<h3>Description</h3>

<p>Add straight lines to a plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_abline(a = 0, b = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_abline_+3A_a">a</code>, <code id="type_abline_+3A_b">b</code></td>
<td>
<p>the intercept and slope, single values.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>mod = lm(mpg ~ hp, data = mtcars)
y = mtcars$mpg
yhat = predict(mod)
tinyplot(y, yhat, xlim = c(0, 40), ylim = c(0, 40))
tinyplot_add(type = type_abline(a = 0, b = 1))
</code></pre>

<hr>
<h2 id='type_area'>Ribbon and area plot types</h2><span id='topic+type_area'></span><span id='topic+type_ribbon'></span>

<h3>Description</h3>

<p>Type constructor functions for producing polygon ribbons, which
define a <code>y</code> interval (usually spanning from <code>ymin</code> to <code>ymax</code>) for each
<code>x</code> value. Area plots are a special case of ribbon plot where <code>ymin</code> is
set to 0 and <code>ymax</code> is set to <code>y</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_area(alpha = NULL)

type_ribbon(alpha = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_area_+3A_alpha">alpha</code></td>
<td>
<p>numeric value between 0 and 1 specifying the opacity of ribbon shading
If no <code>alpha</code> value is provided, then will default to <code>tpar("ribbon.alpha")</code>
(i.e., probably <code>0.2</code> unless this has been overridden by the user in their global
settings.)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x = 1:100/10
y = sin(x)

#
## Ribbon plots

# "ribbon" convenience string
tinyplot(x = x, ymin = y-1, ymax = y+1, type = "ribbon")
# Same result with type_ribbon()
tinyplot(x = x, ymin = y-1, ymax = y+1, type = type_ribbon())

# y will be added as a line if it is specified
tinyplot(x = x, y = y, ymin = y-1, ymax = y+1, type = "ribbon")

#
## Area plots
  
# "area" type convenience string
tinyplot(x, y, type = "area")

# Same result with type_area()
tinyplot(x, y, type = type_area())

# Area plots are often used for time series charts
tinyplot(AirPassengers, type = "area")
</code></pre>

<hr>
<h2 id='type_boxplot'>Boxplot type</h2><span id='topic+type_boxplot'></span>

<h3>Description</h3>

<p>Type function for producing box-and-whisker plots.
Arguments are passed to <code><a href="graphics.html#topic+boxplot">boxplot</a></code>, although <code>tinyplot</code>
scaffolding allows added functionality such as grouping and faceting.
Box-and-whisker plots are the default plot type if <code>x</code> is a factor and <code>y</code> is
numeric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_boxplot(
  range = 1.5,
  width = NULL,
  varwidth = FALSE,
  notch = FALSE,
  outline = TRUE,
  boxwex = 0.8,
  staplewex = 0.5,
  outwex = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_boxplot_+3A_range">range</code></td>
<td>
<p>this determines how far the plot whiskers extend out
from the box.  If <code>range</code> is positive, the whiskers extend
to the most extreme data point which is no more than
<code>range</code> times the interquartile range from the box. A value
of zero causes the whiskers to extend to the data extremes.</p>
</td></tr>
<tr><td><code id="type_boxplot_+3A_width">width</code></td>
<td>
<p>a vector giving the relative widths of the boxes making
up the plot.</p>
</td></tr>
<tr><td><code id="type_boxplot_+3A_varwidth">varwidth</code></td>
<td>
<p>if <code>varwidth</code> is <code>TRUE</code>, the boxes are
drawn with widths proportional to the square-roots of the number
of observations in the groups.</p>
</td></tr>
<tr><td><code id="type_boxplot_+3A_notch">notch</code></td>
<td>
<p>if <code>notch</code> is <code>TRUE</code>, a notch is drawn in
each side of the boxes.  If the notches of two plots do not
overlap this is &lsquo;strong evidence&rsquo; that the two medians differ
(Chambers <abbr>et al.</abbr>, 1983, p. 62).  See <code><a href="grDevices.html#topic+boxplot.stats">boxplot.stats</a></code>
for the calculations used.</p>
</td></tr>
<tr><td><code id="type_boxplot_+3A_outline">outline</code></td>
<td>
<p>if <code>outline</code> is not true, the outliers are
not drawn (as points whereas S+ uses lines).</p>
</td></tr>
<tr><td><code id="type_boxplot_+3A_boxwex">boxwex</code></td>
<td>
<p>a scale factor to be applied to all boxes.  When there
are only a few groups, the appearance of the plot can be improved
by making the boxes narrower.</p>
</td></tr>
<tr><td><code id="type_boxplot_+3A_staplewex">staplewex</code></td>
<td>
<p>staple line width expansion, proportional to box
width.</p>
</td></tr>
<tr><td><code id="type_boxplot_+3A_outwex">outwex</code></td>
<td>
<p>outlier line width expansion, proportional to box
width.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "boxplot" type convenience string
tinyplot(count ~ spray, data = InsectSprays, type = "boxplot")

# Note: Specifying the type here is redundant. Like base plot, tinyplot
# automatically produces a boxplot if x is a factor and y is numeric
tinyplot(count ~ spray, data = InsectSprays)

# Grouped boxplot example
tinyplot(len ~ dose | supp, data = ToothGrowth, type = "boxplot")

# Use `type_boxplot()` to pass extra arguments for customization
tinyplot(
  len ~ dose | supp, data = ToothGrowth, lty = 1,
  type = type_boxplot(boxwex = 0.3, staplewex = 0, outline = FALSE)
)
</code></pre>

<hr>
<h2 id='type_density'>Density plot type</h2><span id='topic+type_density'></span>

<h3>Description</h3>

<p>Type function for density plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_density(
  bw = "nrd0",
  joint.bw = c("mean", "full", "none"),
  adjust = 1,
  kernel = c("gaussian", "epanechnikov", "rectangular", "triangular", "biweight",
    "cosine", "optcosine"),
  n = 512,
  alpha = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_density_+3A_bw">bw</code></td>
<td>
<p>the smoothing bandwidth to be used.  The kernels are scaled
such that this is the standard deviation of the smoothing kernel.
(Note this differs from the reference books cited below.)
</p>
<p><code>bw</code> can also be a character string giving a rule to choose the
bandwidth.  See <code><a href="stats.html#topic+bw.nrd">bw.nrd</a></code>. <br /> The default,
<code>"nrd0"</code>, has remained the default for historical and
compatibility reasons, rather than as a general recommendation,
where e.g., <code>"SJ"</code> would rather fit, see also
Venables and Ripley (2002).
</p>
<p>The specified (or computed) value of <code>bw</code> is multiplied by
<code>adjust</code>.
</p>
</td></tr>
<tr><td><code id="type_density_+3A_joint.bw">joint.bw</code></td>
<td>
<p>character string indicating whether (and how) the smoothing
bandwidth should be computed from the joint data distribution when there
are multiple subgroups. The options are <code>"mean"</code> (the default), <code>"full"</code>,
and <code>"none"</code>. Also accepts a logical argument, where <code>TRUE</code> maps to
<code>"mean"</code> and <code>FALSE</code> maps to <code>"none"</code>. See the &quot;Bandwidth selection&quot;
section below for a discussion of practical considerations.</p>
</td></tr>
<tr><td><code id="type_density_+3A_adjust">adjust</code></td>
<td>
<p>the bandwidth used is actually <code>adjust*bw</code>.
This makes it easy to specify values like &lsquo;half the default&rsquo;
bandwidth.</p>
</td></tr>
<tr><td><code id="type_density_+3A_kernel">kernel</code></td>
<td>
<p>a character string giving the smoothing kernel to be used. This
must partially match one of <code>"gaussian"</code>, <code>"rectangular"</code>, <code>"triangular"</code>,
<code>"epanechnikov"</code>, <code>"biweight"</code>, <code>"cosine"</code> or <code>"optcosine"</code>, with default
<code>"gaussian"</code>, and may be abbreviated to a unique prefix (single letter).
</p>
<p><code>"cosine"</code> is smoother than <code>"optcosine"</code>, which is the usual 'cosine'
kernel in the literature and almost MSE-efficient. However, <code>"cosine"</code> is
the version used by S.</p>
</td></tr>
<tr><td><code id="type_density_+3A_n">n</code></td>
<td>
<p>the number of equally spaced points at which the density is
to be estimated.  When <code>n &gt; 512</code>, it is rounded up to a power
of 2 during the calculations (as <code><a href="stats.html#topic+fft">fft</a></code> is used) and the
final result is interpolated by <code><a href="stats.html#topic+approx">approx</a></code>.  So it almost
always makes sense to specify <code>n</code> as a power of two.
</p>
</td></tr>
<tr><td><code id="type_density_+3A_alpha">alpha</code></td>
<td>
<p>numeric value between 0 and 1 specifying the opacity of ribbon shading
If no <code>alpha</code> value is provided, then will default to <code>tpar("ribbon.alpha")</code>
(i.e., probably <code>0.2</code> unless this has been overridden by the user in their global
settings.)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The algorithm used in <code>density.default</code> disperses the mass of the
empirical distribution function over a regular grid of at least 512
points and then uses the fast Fourier transform to convolve this
approximation with a discretized version of the kernel and then uses
linear approximation to evaluate the density at the specified points.
</p>
<p>The statistical properties of a kernel are determined by
<code class="reqn">\sigma^2_K = \int t^2 K(t) dt</code>
which is always <code class="reqn">= 1</code> for our kernels (and hence the bandwidth
<code>bw</code> is the standard deviation of the kernel) and
<code class="reqn">R(K) = \int K^2(t) dt</code>.<br />
MSE-equivalent bandwidths (for different kernels) are proportional to
<code class="reqn">\sigma_K R(K)</code> which is scale invariant and for our
kernels equal to <code class="reqn">R(K)</code>.  This value is returned when
<code>give.Rkern = TRUE</code>.  See the examples for using exact equivalent
bandwidths.
</p>
<p>Infinite values in <code>x</code> are assumed to correspond to a point mass at
<code>+/-Inf</code> and the density estimate is of the sub-density on
<code>(-Inf, +Inf)</code>.
</p>


<h3>Bandwidth selection</h3>

<p>While the choice of smoothing bandwidth will
always stand to affect a density visualization, it gains an added
importance when multiple densities are drawn simultaneously (e.g., for
subgroups with respect to <code>by</code> or <code>facet</code>). Allowing each subgroup to
compute its own separate bandwidth independently offers greater flexibility
in capturing the unique characteristics of each subgroup, particularly when
distributions differ substantially in location and/or scale. However, this
approach may overemphasize small random variations and make it harder to
visually compare densities across subgroups. Hence, it is often useful to
employ the same (&quot;joint&quot;) bandwidth across all subgroups. The following
strategies are available via the <code>joint.bw</code> argument:
</p>

<ul>
<li><p> The default <code>joint.bw = "mean"</code> first computes the individual bandwidths
for each group but then computes their mean, weighted by the number of
observations in each group. This will work well when all groups have
similar amounts of scatter (similar variances), even when they have
potentially rather different locations. The weighted averaging stabilizes
potential fluctuations in the individual bandwidths, especially when some
subgroups are rather small.
</p>
</li>
<li><p> Alternatively, <code>joint.bw = "full"</code> can be used to compute the joint
bandwidth from the full joint distribution (merging all groups). This will
yield an even more robust bandwidth, especially when the groups overlap
substantially (i.e., have similar locations and scales). However, it may
lead to too large bandwidths and thus too much smoothing, especially when
the locations of the groups differ substantially.
</p>
</li>
<li><p> Finally, <code>joint.bw = "none"</code> disables the joint bandwidth so that each
group just employs its individual bandwidth. This is often the best choice
if the amounts of scatter differ substantially between the groups, thus
necessitating different amounts of smoothing.
</p>
</li></ul>



<h3>Titles</h3>

<p>This tinyplot method for density plots differs from the base
<code><a href="stats.html#topic+plot.density">plot.density</a></code> function in its treatment of titles. The
x-axis title displays only the variable name, omitting details about the
number of observations and smoothing bandwidth. Additionally, the main
title is left blank by default for a cleaner appearance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># "density" type convenience string
tinyplot(~Sepal.Length, data = iris, type = "density")

# grouped density example
tinyplot(~Sepal.Length | Species, data = iris, type = "density")

# use `bg = "by"` (or, equivalent `fill = "by"`) to get filled densities
tinyplot(~Sepal.Length | Species, data = iris, type = "density", fill = "by")

# use `type_density()` to pass extra arguments for customization
tinyplot(
  ~Sepal.Length | Species, data = iris,
  type = type_density(bw = "SJ"),
  main = "Bandwidth computed using Sheather &amp; Jones (1991)"
)

# The default for grouped density plots is to use the mean of the
# individual subgroup bandwidths (weighted by group size) as the
# joint bandwidth. Alternatively, the bandwidth from the "full"
# data or separate individual bandwidths ("none") can be used.
tinyplot(~Sepal.Length | Species, data = iris,
    ylim = c(0, 1.25), type = "density")        # mean (default)
tinyplot_add(joint.bw = "full", lty = 2)        # full data
tinyplot_add(joint.bw = "none", lty = 3)        # none (individual)
legend("topright", c("Mean", "Full", "None"), lty = 1:3, bty = "n", title = "Joint BW")

</code></pre>

<hr>
<h2 id='type_errorbar'>Error bar and pointrange plot types</h2><span id='topic+type_errorbar'></span><span id='topic+type_pointrange'></span>

<h3>Description</h3>

<p>Type function(s) for producing error bar and pointrange plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_errorbar(length = 0.05)

type_pointrange()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_errorbar_+3A_length">length</code></td>
<td>
<p>length of the edges of the arrow head (in inches).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>mod = lm(mpg ~ wt * factor(am), mtcars)
coefs = data.frame(names(coef(mod)), coef(mod), confint(mod))
colnames(coefs) = c("term", "est", "lwr", "upr")

op = tpar(pch = 19)
 
# "errorbar" and "pointrange" type convenience strings
with(
  coefs,
  tinyplot(x = term, y = est, ymin = lwr, ymax = upr, type = "errorbar")
)
with(
  coefs,
  tinyplot(x = term, y = est, ymin = lwr, ymax = upr, type = "pointrange")
)

# Use `type_errorbar()` to pass extra arguments for customization
with(
  coefs,
  tinyplot(x = term, y = est, ymin = lwr, ymax = upr, type = type_errorbar(length = 0.2))
)

tpar(op)

</code></pre>

<hr>
<h2 id='type_function'>Plot a function</h2><span id='topic+type_function'></span>

<h3>Description</h3>

<p>Plot a function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_function(fun = dnorm, args = list(), n = 101, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_function_+3A_fun">fun</code></td>
<td>
<p>Function of <code>x</code> to plot. Defaults to <code><a href="stats.html#topic+dnorm">dnorm</a></code>.</p>
</td></tr>
<tr><td><code id="type_function_+3A_args">args</code></td>
<td>
<p>List of additional arguments to be passed to <code>fun</code>.</p>
</td></tr>
<tr><td><code id="type_function_+3A_n">n</code></td>
<td>
<p>Number of points to interpolate on the x axis.</p>
</td></tr>
<tr><td><code id="type_function_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed to the <code>lines()</code> function,
ex: <code>type="p"</code>, <code>col="pink"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When using <code>type_function()</code> in a <code>tinyplot()</code> call, the <code>x</code> value indicates
the range of values to plot on the x-axis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Plot the normal density
tinyplot(x = -4:4, type = type_function(dnorm))

# Extra arguments for the function to plot
tinyplot(x = -1:10, type = type_function(
  fun = dnorm, args = list(mean = 3)
))

# Additional arguments are passed to the `lines()` function.
tinyplot(x = -4:4, type = type_function(
  fun = dnorm,
  col = "pink", type = "p", pch = 3
))

# Custom function example
# (Here using the `\()` anonymous function syntax introduced in R 4.1.0)
tinyplot(x = -4:4, type = type_function(fun = \(x) 0.5 * exp(-abs(x))))

</code></pre>

<hr>
<h2 id='type_glm'>Generalized linear model plot type</h2><span id='topic+type_glm'></span>

<h3>Description</h3>

<p>Type function for plotting a generalized model fit.
Arguments are passed to <code><a href="stats.html#topic+glm">glm</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_glm(family = "gaussian", se = TRUE, level = 0.95, type = "response")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_glm_+3A_family">family</code></td>
<td>
<p>a description of the error distribution and link
function to be used in the model.  For <code>glm</code> this can be a
character string naming a family function, a family function or the
result of a call to a family function.  For <code>glm.fit</code> only the
third option is supported.  (See <code><a href="stats.html#topic+family">family</a></code> for details of
family functions.)</p>
</td></tr>
<tr><td><code id="type_glm_+3A_se">se</code></td>
<td>
<p>logical. If TRUE, confidence intervals are drawn.</p>
</td></tr>
<tr><td><code id="type_glm_+3A_level">level</code></td>
<td>
<p>the confidence level required.</p>
</td></tr>
<tr><td><code id="type_glm_+3A_type">type</code></td>
<td>
<p>character, partial matching allowed.  Type of weights to
extract from the fitted model object.  Can be abbreviated.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "glm" type convenience string
tinyplot(am ~ mpg, data = mtcars, type = "glm")

# Use `type_glm()` to pass extra arguments for customization
tinyplot(am ~ mpg, data = mtcars, type = type_glm(family = "binomial"))
</code></pre>

<hr>
<h2 id='type_histogram'>Histogram plot type</h2><span id='topic+type_histogram'></span><span id='topic+type_hist'></span>

<h3>Description</h3>

<p>Type function for histogram plots. <code>type_hist</code> is an alias for
<code>type_histogram</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_histogram(
  breaks = "Sturges",
  freq = NULL,
  right = TRUE,
  free.breaks = FALSE,
  drop.zeros = TRUE
)

type_hist(
  breaks = "Sturges",
  freq = NULL,
  right = TRUE,
  free.breaks = FALSE,
  drop.zeros = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_histogram_+3A_breaks">breaks</code></td>
<td>
<p>Passed to <code><a href="graphics.html#topic+hist">hist</a></code>. One of:
</p>

<ul>
<li><p> a vector giving the breakpoints between histogram cells,
</p>
</li>
<li><p> a function to compute the vector of breakpoints,
</p>
</li>
<li><p> a single number giving the number of cells for the histogram,
</p>
</li>
<li><p> a character string naming an algorithm to compute the number of cells (see ‘Details’ of <code><a href="graphics.html#topic+hist">hist</a></code>),
</p>
</li>
<li><p> a function to compute the number of cells.
In the last three cases the number is a suggestion only; as the breakpoints
will be set to pretty values, the number is limited to 1e6 (with a warning if
it was larger). If breaks is a function, the x vector is supplied to it as
the only argument (and the number of breaks is only limited by the amount of
available memory).
</p>
</li></ul>
</td></tr>
<tr><td><code id="type_histogram_+3A_freq">freq</code></td>
<td>
<p>logical; if <code>TRUE</code>, the histogram graphic is a
representation of frequencies, the <code>counts</code> component of
the result; if <code>FALSE</code>, probability densities, component
<code>density</code>, are plotted (so that the histogram has a total area
of one).  Defaults to <code>TRUE</code> <em>if and only if</em> <code>breaks</code> are
equidistant (and <code>probability</code> is not specified).</p>
</td></tr>
<tr><td><code id="type_histogram_+3A_right">right</code></td>
<td>
<p>logical; if <code>TRUE</code>, the histogram cells are
right-closed (left open) intervals.</p>
</td></tr>
<tr><td><code id="type_histogram_+3A_free.breaks">free.breaks</code></td>
<td>
<p>Logical indicating whether the breakpoints should be
computed separately for each group or facet? Default is <code>FALSE</code>, meaning
that the breakpoints are computed from the full dataset; thus ensuring
common bin widths across each group/facet. Can also use <code>free</code> as an
acceptable argument alias. Ignored if there are no groups and/or facets.</p>
</td></tr>
<tr><td><code id="type_histogram_+3A_drop.zeros">drop.zeros</code></td>
<td>
<p>Logical indicating whether bins with zero counts should be
dropped before plotting. Default is <code>TRUE</code>. Note that switching to <code>FALSE</code>
may interfere with faceted plot behaviour if <code>facet.args = list(free)</code>,
since the <code>x</code> variable is effectively recorded over the full range of the
x-axis (even if it does not extend over this range for every group).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "histogram"/"hist" type convenience string(s)
tinyplot(Nile, type = "histogram")

# Use `type_histogram()` to pass extra arguments for customization
tinyplot(Nile, type = type_histogram(breaks = 30))
tinyplot(Nile, type = type_histogram(breaks = 30, freq = FALSE))
# etc.

# Grouped histogram example
tinyplot(
    ~Petal.Width | Species,
    type = "histogram",
    data = iris
)

# Faceted version
tinyplot(
    ~Petal.Width, facet = ~Species,
    type = "histogram",
    data = iris
)

# For visualizing faceted histograms across varying scales, you may also wish
# to impose free histogram breaks too (i.e., calculate breaks separately for
# each group). Compare:

# free facet scales + shared histogram breaks, versus...
tinyplot(
    ~Petal.Width, facet = ~Species,
    facet.args = list(free = TRUE),
    type = type_histogram(),
    data = iris
)
# ... free facet scales + free histogram breaks
tinyplot(
    ~Petal.Width, facet = ~Species,
    facet.args = list(free = TRUE),
    type = type_histogram(free = TRUE),
    data = iris
)

</code></pre>

<hr>
<h2 id='type_hline'>Trace a horizontal line on the plot</h2><span id='topic+type_hline'></span>

<h3>Description</h3>

<p>Trace a horizontal line on the plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_hline(h = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_hline_+3A_h">h</code></td>
<td>
<p>y-value(s) for horizontal line(s). Numeric of length 1 or equal to the number of facets.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tinyplot(mpg ~ hp | factor(cyl), facet = ~ factor(cyl), data = mtcars)
tinyplot_add(type = type_hline(h = 12), col = "pink", lty = 3, lwd = 3)
</code></pre>

<hr>
<h2 id='type_jitter'>Jittered points plot type</h2><span id='topic+type_jitter'></span>

<h3>Description</h3>

<p>Type function for plotting jittered points.
Arguments are passed to <code><a href="base.html#topic+jitter">jitter</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_jitter(factor = 1, amount = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_jitter_+3A_factor">factor</code></td>
<td>
<p>numeric.</p>
</td></tr>
<tr><td><code id="type_jitter_+3A_amount">amount</code></td>
<td>
<p>numeric; if positive, used as <em>amount</em> (see below),
otherwise, if <code>= 0</code> the default is <code>factor * z/50</code>.
</p>
<p>Default (<code>NULL</code>): <code>factor * d/5</code> where <code>d</code> is about
the smallest difference between <code>x</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The result, say <code>r</code>, is <code>r &lt;- x + runif(n, -a, a)</code>
where <code>n &lt;- length(x)</code> and <code>a</code> is the <code>amount</code>
argument (if specified).
</p>
<p>Let <code>z &lt;- max(x) - min(x)</code> (assuming the usual case).
The amount <code>a</code> to be added is either provided as <em>positive</em>
argument <code>amount</code> or otherwise computed from <code>z</code>, as
follows:
</p>
<p>If <code>amount == 0</code>, we set <code>a &lt;- factor * z/50</code> (same as S).
</p>
<p>If <code>amount</code> is <code>NULL</code> (<em>default</em>), we set
<code>a &lt;- factor * d/5</code> where <em>d</em> is the smallest
difference between adjacent unique (apart from fuzz) <code>x</code> values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># "jitter" type convenience string
tinyplot(Sepal.Length ~ Species, data = iris, type = "jitter")

# Use `type_jitter()` to pass extra arguments for customization
tinyplot(Sepal.Length ~ Species, data = iris, type = type_jitter(factor = 0.5))
</code></pre>

<hr>
<h2 id='type_lines'>Lines plot type</h2><span id='topic+type_lines'></span>

<h3>Description</h3>

<p>Type function for plotting lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_lines(type = "l")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_lines_+3A_type">type</code></td>
<td>
<p>1-character string giving the type of plot desired.  The
following values are possible, for details, see <code><a href="graphics.html#topic+plot">plot</a></code>:
<code>"p"</code> for points, <code>"l"</code> for lines,
<code>"b"</code> for both points and lines,
<code>"c"</code> for empty points joined by lines,
<code>"o"</code> for overplotted points and lines,
<code>"s"</code> and <code>"S"</code> for stair steps and
<code>"h"</code> for histogram-like vertical lines.  Finally,
<code>"n"</code> does not produce any points or lines.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "l" type convenience character string
tinyplot(circumference ~ age | Tree, data = Orange, type = "l")

# Use `type_lines()` to pass extra arguments for customization
tinyplot(circumference ~ age | Tree, data = Orange, type = type_lines(type = "s"))

</code></pre>

<hr>
<h2 id='type_lm'>Linear model plot type</h2><span id='topic+type_lm'></span>

<h3>Description</h3>

<p>Type function for plotting a linear model fit.
Arguments are passed to <code><a href="stats.html#topic+lm">lm</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_lm(se = TRUE, level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_lm_+3A_se">se</code></td>
<td>
<p>logical. If TRUE, confidence intervals are drawn.</p>
</td></tr>
<tr><td><code id="type_lm_+3A_level">level</code></td>
<td>
<p>the confidence level required.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "lm" type convenience string
tinyplot(Sepal.Width ~ Petal.Width, data = iris, type = "lm")

# Grouped model fits (here: illustrating an example of Simpson's paradox)
tinyplot(Sepal.Width ~ Petal.Width | Species, data = iris, type = "lm")
tinyplot_add(type = "p")

# Use `type_lm()` to pass extra arguments for customization
tinyplot(Sepal.Width ~ Petal.Width, data = iris, type = type_lm(level = 0.8))
</code></pre>

<hr>
<h2 id='type_loess'>Local polynomial regression plot type</h2><span id='topic+type_loess'></span>

<h3>Description</h3>

<p>Type function for plotting a LOESS (LOcal regrESSion) fit.
Arguments are passed to <code><a href="stats.html#topic+loess">loess</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_loess(
  span = 0.75,
  degree = 2,
  family = "gaussian",
  control = loess.control(),
  se = TRUE,
  level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_loess_+3A_span">span</code></td>
<td>
<p>the parameter <code class="reqn">\alpha</code> which controls the degree of
smoothing.</p>
</td></tr>
<tr><td><code id="type_loess_+3A_degree">degree</code></td>
<td>
<p>the degree of the polynomials to be used, normally 1 or
2. (Degree 0 is also allowed, but see the &lsquo;Note&rsquo;.)</p>
</td></tr>
<tr><td><code id="type_loess_+3A_family">family</code></td>
<td>
<p>if <code>"gaussian"</code> fitting is by least-squares, and if
<code>"symmetric"</code> a re-descending M estimator is used with Tukey's
biweight function.  Can be abbreviated.</p>
</td></tr>
<tr><td><code id="type_loess_+3A_control">control</code></td>
<td>
<p>control parameters: see <code><a href="stats.html#topic+loess.control">loess.control</a></code>.</p>
</td></tr>
<tr><td><code id="type_loess_+3A_se">se</code></td>
<td>
<p>logical. If <code>TRUE</code> (the default), confidence intervals are drawn.</p>
</td></tr>
<tr><td><code id="type_loess_+3A_level">level</code></td>
<td>
<p>the confidence level required if <code>se = TRUE</code>. Default is 0.95.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "loess" type convenience string
tinyplot(dist ~ speed, data = cars, type = "loess")

# Use `type_loess()` to pass extra arguments for customization
tinyplot(dist ~ speed, data = cars, type = type_loess(span = 0.5, degree = 1))
</code></pre>

<hr>
<h2 id='type_points'>Points plot type</h2><span id='topic+type_points'></span>

<h3>Description</h3>

<p>Type function for plotting points, i.e. a scatter plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_points()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'># "p" type convenience character string
tinyplot(Sepal.Length ~ Petal.Length, data = iris, type = "p")

# Same result with type_points()
tinyplot(Sepal.Length ~ Petal.Length, data = iris, type = type_points())

# Note: Specifying the type here is redundant. Like base plot, tinyplot
# automatically produces a scatter plot if x and y are numeric
tinyplot(Sepal.Length ~ Petal.Length, data = iris)

# Grouped scatter plot example
tinyplot(Sepal.Length ~ Petal.Length | Species, data = iris)

# Continuous grouping (with gradient legend)
tinyplot(Sepal.Length ~ Petal.Length | Sepal.Width, data = iris, pch = 19)

</code></pre>

<hr>
<h2 id='type_polygon'>Polygon plot type</h2><span id='topic+type_polygon'></span>

<h3>Description</h3>

<p>Type function for plotting polygons.
Arguments are passed to <code><a href="graphics.html#topic+polygon">polygon</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_polygon(density = NULL, angle = 45)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_polygon_+3A_density">density</code></td>
<td>
<p>the density of shading lines, in lines per inch.  The
default value of <code>NULL</code> means that no shading lines are drawn.
A zero value of <code>density</code> means no shading nor filling whereas
negative values and <code>NA</code> suppress shading (and so allow
color filling).</p>
</td></tr>
<tr><td><code id="type_polygon_+3A_angle">angle</code></td>
<td>
<p>the slope of shading lines, given as an angle
in degrees (counter-clockwise).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "polygon" type convenience character string
tinyplot(1:9, c(2,1,2,1,NA,2,1,2,1), type = "polygon")

# Use `type_polygon()` to pass extra arguments for customization
tinyplot(1:9, c(2,1,2,1,NA,2,1,2,1), type = type_polygon(density = c(10, 20)))

</code></pre>

<hr>
<h2 id='type_polypath'>Polypath polygon type</h2><span id='topic+type_polypath'></span>

<h3>Description</h3>

<p>Type function for plotting polygons.
Arguments are passed to <code><a href="graphics.html#topic+polypath">polypath</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_polypath(rule = "winding")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_polypath_+3A_rule">rule</code></td>
<td>
<p>character value specifying the path fill mode: either
<code>"winding"</code> or <code>"evenodd"</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "polypath" type convenience character string
tinyplot(
    c(.1, .1, .6, .6, NA, .4, .4, .9, .9),
    c(.1, .6, .6, .1, NA, .4, .9, .9, .4),
    type = "polypath", fill = "grey"
)

# Use `type_polypath()` to pass extra arguments for customization
tinyplot(
    c(.1, .1, .6, .6, NA, .4, .4, .9, .9),
    c(.1, .6, .6, .1, NA, .4, .9, .9, .4),
    type = type_polypath(rule = "evenodd"), fill = "grey"
)
</code></pre>

<hr>
<h2 id='type_qq'>Quantile-Quantile plot (QQ)</h2><span id='topic+type_qq'></span>

<h3>Description</h3>

<p>Plots the theoretical quantiles of <code>x</code> on the horizontal axis
against observed values of <code>x</code> on the vertical axis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_qq(distribution = qnorm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_qq_+3A_distribution">distribution</code></td>
<td>
<p>Distribution function to use.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tinyplot(~mpg, data = mtcars, type = type_qq())

# suppress the line
tinyplot(~mpg, data = mtcars, lty = 0, type = type_qq())
</code></pre>

<hr>
<h2 id='type_rect'>Rectangle plot type</h2><span id='topic+type_rect'></span>

<h3>Description</h3>

<p>Type function for plotting rectangles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_rect()
</code></pre>


<h3>Details</h3>

<p>Contrary to base <code><a href="graphics.html#topic+rect">rect</a></code>, rectangles in
<a href="#topic+tinyplot">tinyplot</a> must be specified using the <code>xmin</code>, <code>ymin</code>,<code>xmax</code>, and <code>ymax</code>
arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>i = 4*(0:10)

# "rect" type convenience character string
tinyplot(
  xmin = 100+i, ymin = 300+i, xmax = 150+i, ymax = 380+i,
  by = i, fill = 0.2,
  type = "rect"
)

# Same result with type_rect()
tinyplot(
  xmin = 100+i, ymin = 300+i, xmax = 150+i, ymax = 380+i,
  by = i, fill = 0.2,
  type = type_rect()
)

</code></pre>

<hr>
<h2 id='type_ridge'>Ridge plot type</h2><span id='topic+type_ridge'></span>

<h3>Description</h3>

<p>Type function for producing ridge plots (also known as joy plots),
which display density distributions for multiple groups with vertical offsets.
This function uses <code>tinyplot</code> scaffolding, which enables added functionality
such as grouping and faceting.
</p>
<p>The line color is controlled by the <code>col</code> argument in the <code>tinyplot()</code> call.
The fill color is controlled by the <code>bg</code> argument in the <code>tinyplot()</code> call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_ridge(
  scale = 1.5,
  joint.max = c("all", "facet", "by"),
  breaks = NULL,
  probs = NULL,
  ylevels = NULL,
  bw = "nrd0",
  joint.bw = c("mean", "full", "none"),
  adjust = 1,
  kernel = c("gaussian", "epanechnikov", "rectangular", "triangular", "biweight",
    "cosine", "optcosine"),
  n = 512,
  gradient = FALSE,
  raster = FALSE,
  col = NULL,
  alpha = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_ridge_+3A_scale">scale</code></td>
<td>
<p>Numeric. Controls the scaling factor of each plot.
Values greater than 1 means that plots overlap.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_joint.max">joint.max</code></td>
<td>
<p>character indicating how to scale the maximum of the densities:
The default <code>"all"</code> indicates that all densities are scaled jointly relative to
the same maximum so that the areas of all densities are comparable.
Alternatively, <code>"facet"</code> indicates that the maximum is computed within
each facet so that the areas of the densities are comparable within each
facet but not necessarily across facets. Finally, <code>"by"</code> indicates that
each row (in each facet) is scaled separately, so that the areas of the
densities for <code>by</code> groups in the same row are comparable but not necessarily
across rows.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_breaks">breaks</code></td>
<td>
<p>Numeric. If a color gradient is used for shading, the
breaks between the colors can be modified. The default is to use
equidistant breaks spanning the range of the <code>x</code> variable.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_probs">probs</code></td>
<td>
<p>Numeric. Instead of specifying the same <code>breaks</code> on the
x-axis for all groups, it is possible to specify group-specific quantiles
at the specified <code>probs</code>. The quantiles are computed based on the density
(rather than the raw original variable). Only one of <code>breaks</code> or
<code>probs</code> must be specified.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_ylevels">ylevels</code></td>
<td>
<p>a character or numeric vector specifying in which order
the levels of the y-variable should be plotted.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_bw">bw</code></td>
<td>
<p>the smoothing bandwidth to be used.  The kernels are scaled
such that this is the standard deviation of the smoothing kernel.
(Note this differs from the reference books cited below.)
</p>
<p><code>bw</code> can also be a character string giving a rule to choose the
bandwidth.  See <code><a href="stats.html#topic+bw.nrd">bw.nrd</a></code>. <br /> The default,
<code>"nrd0"</code>, has remained the default for historical and
compatibility reasons, rather than as a general recommendation,
where e.g., <code>"SJ"</code> would rather fit, see also
Venables and Ripley (2002).
</p>
<p>The specified (or computed) value of <code>bw</code> is multiplied by
<code>adjust</code>.
</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_joint.bw">joint.bw</code></td>
<td>
<p>character string indicating whether (and how) the smoothing
bandwidth should be computed from the joint data distribution. The default
of <code>"mean"</code> will compute the joint bandwidth as the mean of the individual
subgroup bandwidths (weighted by their number of observations). Choosing
<code>"full"</code> will result in a joint bandwidth computed from the full
distribution (merging all subgroups). For <code>"none"</code> the individual bandwidth
will be computed independently for each subgroup. Also accepts a logical
argument, where <code>TRUE</code> maps to <code>"mean"</code> and <code>FALSE</code> maps to <code>"none"</code>. See
<code><a href="#topic+type_density">type_density</a></code> for some discussion of practical considerations.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_adjust">adjust</code></td>
<td>
<p>the bandwidth used is actually <code>adjust*bw</code>.
This makes it easy to specify values like &lsquo;half the default&rsquo;
bandwidth.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_kernel">kernel</code></td>
<td>
<p>a character string giving the smoothing kernel to be used. This
must partially match one of <code>"gaussian"</code>, <code>"rectangular"</code>, <code>"triangular"</code>,
<code>"epanechnikov"</code>, <code>"biweight"</code>, <code>"cosine"</code> or <code>"optcosine"</code>, with default
<code>"gaussian"</code>, and may be abbreviated to a unique prefix (single letter).
</p>
<p><code>"cosine"</code> is smoother than <code>"optcosine"</code>, which is the usual 'cosine'
kernel in the literature and almost MSE-efficient. However, <code>"cosine"</code> is
the version used by S.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_n">n</code></td>
<td>
<p>the number of equally spaced points at which the density is
to be estimated.  When <code>n &gt; 512</code>, it is rounded up to a power
of 2 during the calculations (as <code><a href="stats.html#topic+fft">fft</a></code> is used) and the
final result is interpolated by <code><a href="stats.html#topic+approx">approx</a></code>.  So it almost
always makes sense to specify <code>n</code> as a power of two.
</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_gradient">gradient</code></td>
<td>
<p>Logical or character. Should a gradient fill be used to
shade the area under the density? If a character specification is used,
then it can either be of length 1 and specify the palette to be used with
<code>gradient = TRUE</code> corresponding to <code>gradient = "viridis"</code>. If a character
vector of length greater than 1 is used, then it should specify the
colors in the palette, e.g., <code>gradient = hcl.colors(512)</code>.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_raster">raster</code></td>
<td>
<p>Logical. Should the <code>gradient</code> fill be drawn using
<code><a href="graphics.html#topic+rasterImage">rasterImage</a></code>? Defaults to <code>FALSE</code>, in which case the
<code>gradient</code> fill will instead be drawn using
<code><a href="graphics.html#topic+polygon">polygon</a></code>. See the <code style="white-space: pre;">&#8288;Technical note on gradient fills&#8288;</code>
section below.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_col">col</code></td>
<td>
<p>Character string denoting the outline (border) color for all
of the ridge densities. Note that a singular value is expected; if multiple
colors are provided then only the first will be used. This argument is mostly
useful for the aesthetic effect of drawing a common outline color in
combination with gradient fills. See Examples.</p>
</td></tr>
<tr><td><code id="type_ridge_+3A_alpha">alpha</code></td>
<td>
<p>Numeric in the range <code style="white-space: pre;">&#8288;[0,1]&#8288;</code> for adjusting the alpha
transparency of the density fills. In most cases, will default to a value of
1, i.e. fully opaque. But for some <code>by</code> grouped plots (excepting the special
cases where <code>by==y</code> or <code>by==x</code>), will default to 0.6.</p>
</td></tr>
</table>


<h3>Technical note on gradient fills</h3>

<p><code>tinyplot</code> uses two basic approaches for drawing gradient fills in ridge line
plots, e.g., if <code>type_ridge(gradient = TRUE)</code>.
</p>
<p>The first (and default) polygon-based approach involves dividing up the main
density region into many smaller polygons along the x-axis. Each of these
smaller polygons inherits a different color &quot;segment&quot; from the underlying
palette swatch, which in turn creates the effect of a continuous gradient
when they are all plotted together. Internally, this polygon-based approach
is vectorized (i.e., all of the sub-polygons are plotted simultaneously). It
is thus efficient from a plotting perspective and generally also performs
well from an aesthetic perspective. However, it can occasionally produce
undesirable plotting artifacts on some graphics devices&mdash;e.g., thin but
visible vertical lines&mdash;if alpha transparency is being used at the same
time.
</p>
<p>For this reason, we also offer an alternative raster-based approach for
gradient fills that users can invoke via
<code>type_ridge(gradient = TRUE, raster = TRUE)</code>. The essential idea is that we
coerce the density polygon into a raster representation (using
<code><a href="graphics.html#topic+rasterImage">rasterImage</a></code>) and achieve the gradient effect via
color interpolation. The trade-off this time is potential smoothness
artifacts around the top of the ridge densities at high resolutions, since we
have converted a vector object into a raster object.
</p>
<p>Again, we expect that the choice between these two approaches will only
matter for ridge plots that combine gradient fills with alpha transparency
(and on certain graphics devices). We recommend that users experiment to
determine which approach is optimal for their device.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aq = transform(
  airquality,
  Month = factor(month.abb[Month], levels = month.abb[5:9]),
  Month2 = factor(month.name[Month], levels = month.name[5:9]),
  Late = ifelse(Day &gt; 15, "Late", "Early")
  )

# default ridge plot (using the "ridge" convenience string)
tinyplot(Month ~ Temp, data = aq, type = "ridge")

# for ridge plots, we recommend pairing with the dedicated theme(s), which
# facilitate nicer y-axis labels, grid lines, etc.

tinytheme("ridge")
tinyplot(Month ~ Temp, data = aq, type = "ridge")

tinytheme("ridge2") # removes the plot frame (but keeps x-axis line)
tinyplot(Month ~ Temp, data = aq, type = "ridge")

# the "ridge(2)" themes are especially helpful for long y labels, due to
# dyanmic plot adjustment
tinyplot(Month2 ~ Temp, data = aq, type = "ridge")

# pass customization arguments through type_ridge()... for example, use
# the scale argument to change/avoid overlap of densities (more on scaling
# further below)

tinyplot(Month ~ Temp, data = aq, type = type_ridge(scale = 1))
  
## by grouping is also supported. two special cases of interest:

# 1) by == y (color by y groups)
tinyplot(Month ~ Temp | Month, data = aq, type = "ridge")

# 2) by == x (gradient coloring along x)
tinyplot(Month ~ Temp | Temp, data = aq, type = "ridge")

# aside: pass explicit `type_ridge(col = &lt;col&gt;)` arg to set a different
# border color
tinyplot(Month ~ Temp | Temp, data = aq, type = type_ridge(col = "white"))

# gradient coloring along the x-axis can also be invoked manually without
# a legend (the next two tinyplot calls are equivalent)

# tinyplot(Month ~ Temp, data = aq, type = type_ridge(gradient = "agsunset"))
tinyplot(Month ~ Temp, data = aq, type = type_ridge(gradient = TRUE))

# aside: when combining gradient fill with alpha transparency, it may be
# better to use the raster-based approach (test on your graphics device)

tinyplot(Month ~ Temp, data = aq,
  type = type_ridge(gradient = TRUE, alpha = 0.5),
  main = "polygon fill (default)")
tinyplot(Month ~ Temp, data = aq,
  type = type_ridge(gradient = TRUE, alpha = 0.5, raster = TRUE),
  main = "raster fill")

# highlighting only the center 50% of the density (i.e., 25%-75% quantiles)
tinyplot(Month ~ Temp, data = aq, type = type_ridge(
  gradient = hcl.colors(3, "Dark Mint")[c(2, 1, 2)],
  probs = c(0.25, 0.75), col = "white"))

# highlighting the probability distribution by color gradient
# (darkest point = median)
tinyplot(Month ~ Temp, data = aq, type = type_ridge(
  gradient = hcl.colors(250, "Dark Mint")[c(250:1, 1:250)],
  probs = 0:500/500))

# faceting also works, although we recommend switching (back) to the "ridge"
# theme for faceted ridge plots

tinytheme("ridge")
tinyplot(Month ~ Ozone, facet = ~ Late, data = aq,
  type = type_ridge(gradient = TRUE))

## use the joint.max argument to vary the maximum density used for
## determining relative scaling...

# jointly across all densities (default) vs. per facet
tinyplot(Month ~ Temp, facet = ~ Late, data = aq,
  type = type_ridge(scale = 1))
tinyplot(Month ~ Temp, facet = ~ Late, data = aq,
  type = type_ridge(scale = 1, joint.max = "facet"))

# jointly across all densities (default) vs. per by row
tinyplot(Month ~ Temp | Late, data = aq,
  type = type_ridge(scale = 1))
tinyplot(Month ~ Temp | Late, data = aq,
  type = type_ridge(scale = 1, joint.max = "by"))
  
# restore the default theme
tinytheme()

</code></pre>

<hr>
<h2 id='type_rug'>Add a rug to a plot</h2><span id='topic+type_rug'></span>

<h3>Description</h3>

<p>Adds a rug representation (1-d plot) of the data to the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_rug(
  ticksize = 0.03,
  side = 1,
  quiet = getOption("warn") &lt; 0,
  jitter = FALSE,
  amount = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_rug_+3A_ticksize">ticksize</code></td>
<td>
<p>The length of the ticks making up the &lsquo;rug&rsquo;.
Positive lengths give inwards ticks.</p>
</td></tr>
<tr><td><code id="type_rug_+3A_side">side</code></td>
<td>
<p>On which side of the plot box the rug will be
plotted. Normally 1 (bottom) or 3 (top).</p>
</td></tr>
<tr><td><code id="type_rug_+3A_quiet">quiet</code></td>
<td>
<p>logical indicating if there should be a warning about
clipped values.</p>
</td></tr>
<tr><td><code id="type_rug_+3A_jitter">jitter</code></td>
<td>
<p>Logical. Add jittering to separate ties? Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="type_rug_+3A_amount">amount</code></td>
<td>
<p>Numeric. Amount of jittering (see <code><a href="base.html#topic+jitter">jitter</a></code>).
Only used if <code>jitter</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function should only be used as part of <code><a href="#topic+tinyplot_add">tinyplot_add()</a></code>, i.e. adding
to an existing plot.
</p>
<p>In most cases, determining which variable receives the rug representation
will be based on the <code>side</code> argument (i.e., x-variable if side is 1 or 3, and
y-variable if side is 2 or 4). An exception is if the preceding plot type was
either <code>"density"</code> or <code>"histogram"</code>; for these latter cases, the x-variable
will always be used. See Examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tinyplot(~wt | am, data = mtcars, type = "density", facet = "by", fill = "by")
tinyplot_add(type = "rug")
# use type_rug() to pass extra options
tinyplot_add(type = type_rug(side = 3, ticksize = 0.05))

# For ties, use jittering
tinyplot(eruptions ~ waiting, data = faithful, type = "lm")
tinyplot_add(type = type_rug(jitter = TRUE, amount = 0.3))
tinyplot_add(type = type_rug(jitter = TRUE, amount = 0.1, side = 2))
# Add original points just for reference
tinyplot_add(type = "p")

</code></pre>

<hr>
<h2 id='type_segments'>Line segments plot type</h2><span id='topic+type_segments'></span>

<h3>Description</h3>

<p>Type function for plotting line segments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_segments()
</code></pre>


<h3>Details</h3>

<p>Contrary to base <code><a href="graphics.html#topic+segments">segments</a></code>, line segments in
<a href="#topic+tinyplot">tinyplot</a> must be specified using the <code>xmin</code>, <code>ymin</code>,<code>xmax</code>, and <code>ymax</code>
arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># "segments" type convenience character string
tinyplot(
  xmin = c(0,.1), ymin = c(.2,1), xmax = c(1,.9), ymax = c(.75,0),
  type = "segments"
)

# Same result with type_segments()
tinyplot(
  xmin = c(0,.1), ymin = c(.2,1), xmax = c(1,.9), ymax = c(.75,0),
  type = type_segments()
)

</code></pre>

<hr>
<h2 id='type_spineplot'>Spineplot and spinogram types</h2><span id='topic+type_spineplot'></span>

<h3>Description</h3>

<p>Type function(s) for producing spineplots and spinograms, which
are modified versions of histograms or mosaic plots, and particularly
useful for visualizing factor variables. Note that <code><a href="#topic+tinyplot">tinyplot</a></code> defaults
to <code>type_spineplot()</code> if <code>y</code> is a factor variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_spineplot(
  breaks = NULL,
  tol.ylab = 0.05,
  off = NULL,
  ylevels = NULL,
  col = NULL,
  xaxlabels = NULL,
  yaxlabels = NULL,
  weights = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_spineplot_+3A_breaks">breaks</code></td>
<td>
<p>if the explanatory variable is numeric, this controls how
it is discretized. <code>breaks</code> is passed to <code><a href="graphics.html#topic+hist">hist</a></code> and can
be a list of arguments.</p>
</td></tr>
<tr><td><code id="type_spineplot_+3A_tol.ylab">tol.ylab</code></td>
<td>
<p>convenience tolerance parameter for y-axis annotation.
If the distance between two labels drops under this threshold, they are
plotted equidistantly.</p>
</td></tr>
<tr><td><code id="type_spineplot_+3A_off">off</code></td>
<td>
<p>vertical offset between the bars (in per cent). It is fixed to
<code>0</code> for spinograms and defaults to <code>2</code> for spine plots.</p>
</td></tr>
<tr><td><code id="type_spineplot_+3A_ylevels">ylevels</code></td>
<td>
<p>a character or numeric vector specifying in which order
the levels of the dependent variable should be plotted.</p>
</td></tr>
<tr><td><code id="type_spineplot_+3A_col">col</code></td>
<td>
<p>a vector of fill colors of the same length as <code>levels(y)</code>.
The default is to call <code><a href="grDevices.html#topic+gray.colors">gray.colors</a></code>.</p>
</td></tr>
<tr><td><code id="type_spineplot_+3A_xaxlabels">xaxlabels</code>, <code id="type_spineplot_+3A_yaxlabels">yaxlabels</code></td>
<td>
<p>character vectors for annotation of x and y axis.
Default to <code>levels(y)</code> and <code>levels(x)</code>, respectively for the
spine plot. For <code>xaxlabels</code> in the spinogram, the breaks are
used.</p>
</td></tr>
<tr><td><code id="type_spineplot_+3A_weights">weights</code></td>
<td>
<p>numeric. A vector of frequency weights for each
observation in the data. If <code>NULL</code> all weights are implicitly
assumed to be 1. If <code>x</code> is already a 2-way table, the weights
are ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># "spineplot" type convenience string
tinyplot(Species ~ Sepal.Width, data = iris, type = "spineplot")

# Aside: specifying the type is redundant for this example, since tinyplot()
# defaults to "spineplot" if y is a factor (just like base plot).
tinyplot(Species ~ Sepal.Width, data = iris)

# Use `type_spineplot()` to pass extra arguments for customization
tinyplot(Species ~ Sepal.Width, data = iris, type = type_spineplot(breaks = 4))

p = palette.colors(3, "Pastel 1")
tinyplot(Species ~ Sepal.Width, data = iris, type = type_spineplot(breaks = 4, col = p))
rm(p)

# More idiomatic tinyplot way of drawing the previous plot: use y == by
tinyplot(
  Species ~ Sepal.Width | Species, data = iris, type = type_spineplot(breaks = 4),
  palette = "Pastel 1", legend = FALSE
)

# Grouped and faceted spineplots

ttnc = as.data.frame(Titanic)

tinyplot(
  Survived ~ Sex, facet = ~ Class, data = ttnc,
  type = type_spineplot(weights = ttnc$Freq)
)

# For grouped "by" spineplots, it's better visually to facet as well
tinyplot(
  Survived ~ Sex | Class, facet = "by", data = ttnc,
  type = type_spineplot(weights = ttnc$Freq)
)

# Fancier version. Note the smart inheritance of spacing etc.
tinyplot(
  Survived ~ Sex | Class, facet = "by", data = ttnc,
  type = type_spineplot(weights = ttnc$Freq),
  palette = "Dark 2", facet.args = list(nrow = 1), axes = "t"
)

# Note: It's possible to use "by" on its own (without faceting), but the
# overlaid result isn't great. We will likely overhaul this behaviour in a
# future version of tinyplot...
tinyplot(Survived ~ Sex | Class, data = ttnc,
  type = type_spineplot(weights = ttnc$Freq), alpha = 0.3
)

</code></pre>

<hr>
<h2 id='type_spline'>Spline plot type</h2><span id='topic+type_spline'></span>

<h3>Description</h3>

<p>Type function for plotting a cubic (or Hermite) spline interpolation.
Arguments are passed to <code><a href="stats.html#topic+spline">spline</a></code>; see this latter function
for default argument values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_spline(
  n = NULL,
  method = "fmm",
  xmin = NULL,
  xmax = NULL,
  xout = NULL,
  ties = mean
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_spline_+3A_n">n</code></td>
<td>
<p>if <code>xout</code> is left unspecified, interpolation takes place
at <code>n</code> equally spaced points spanning the interval
[<code>xmin</code>, <code>xmax</code>].</p>
</td></tr>
<tr><td><code id="type_spline_+3A_method">method</code></td>
<td>
<p>specifies the type of spline to be used.  Possible
values are <code>"fmm"</code>, <code>"natural"</code>, <code>"periodic"</code>,
<code>"monoH.FC"</code> and <code>"hyman"</code>.  Can be abbreviated.</p>
</td></tr>
<tr><td><code id="type_spline_+3A_xmin">xmin</code>, <code id="type_spline_+3A_xmax">xmax</code></td>
<td>
<p>left-hand and right-hand endpoint of the
interpolation interval (when <code>xout</code> is unspecified).</p>
</td></tr>
<tr><td><code id="type_spline_+3A_xout">xout</code></td>
<td>
<p>an optional set of values specifying where interpolation
is to take place.</p>
</td></tr>
<tr><td><code id="type_spline_+3A_ties">ties</code></td>
<td>
<p>handling of tied <code>x</code> values.  The string
<code>"ordered"</code> or a function (or the name of a function) taking a
single vector argument and returning a single number or a length-2
<code><a href="base.html#topic+list">list</a></code> of both, see <code><a href="stats.html#topic+approx">approx</a></code> and its
&lsquo;Details&rsquo; section, and the example below.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The inputs can contain missing values which are deleted, so at least
one complete <code>(x, y)</code> pair is required.
If <code>method = "fmm"</code>, the spline used is that of
Forsythe, Malcolm and Moler
(an exact cubic is fitted through the four points at each
end of the data, and this is used to determine the end conditions).
Natural splines are used when <code>method = "natural"</code>, and periodic
splines when <code>method = "periodic"</code>.
</p>
<p>The method <code>"monoH.FC"</code> computes a <em>monotone</em> Hermite spline
according to the method of Fritsch and Carlson.  It does so by
determining slopes such that the Hermite spline, determined by
<code class="reqn">(x_i,y_i,m_i)</code>, is monotone (increasing or
decreasing) <b>iff</b> the data are.
</p>
<p>Method <code>"hyman"</code> computes a <em>monotone</em> cubic spline using
Hyman filtering of an <code>method = "fmm"</code> fit for strictly monotonic
inputs.
</p>
<p>These interpolation splines can also be used for extrapolation, that is
prediction at points outside the range of <code>x</code>.  Extrapolation
makes little sense for <code>method = "fmm"</code>; for natural splines it
is linear using the slope of the interpolating curve at the nearest
data point.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># "spline" type convenience string
tinyplot(dist ~ speed, data = cars, type = "spline")

# Use `type_spline()` to pass extra arguments for customization
tinyplot(dist ~ speed, data = cars, type = type_spline(method = "natural", n = 25),
    add = TRUE, lty = 2)
</code></pre>

<hr>
<h2 id='type_summary'>Plot summary values of <code>y</code> at unique values of <code>x</code></h2><span id='topic+type_summary'></span>

<h3>Description</h3>

<p>Applies a summary function to <code>y</code> along unique values of <code>x</code>. This is useful,
say, for quickly plotting mean values of your dataset. Internally,
<code>type_summary()</code> applies a thin wrapper around <code><a href="stats.html#topic+ave">ave</a></code> and
then passes the result to <code><a href="#topic+type_lines">type_lines</a></code> for drawing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_summary(fun = mean, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_summary_+3A_fun">fun</code></td>
<td>
<p>summarizing function. Should be compatible with
<code><a href="stats.html#topic+ave">ave</a></code>. Defaults to <code><a href="base.html#topic+mean">mean</a></code>.</p>
</td></tr>
<tr><td><code id="type_summary_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed to the <code>lines()</code> function,
ex: <code>type="p"</code>, <code>col="pink"</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+ave">ave</a></code> which performs the summarizing (averaging) behind the
scenes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Plot the mean chick weight over time
tinyplot(weight ~ Time, data = ChickWeight, type = type_summary())

# mean is the default function, so the above is equivalent to
tinyplot(weight ~ Time, data = ChickWeight, type = type_summary(mean))

# Plot the median instead
tinyplot(weight ~ Time, data = ChickWeight, type = type_summary(median))

# Works with groups and/or facets too
tinyplot(weight ~ Time | Diet, facet = "by", data = ChickWeight, type = type_summary())

# Custom/complex function example
tinyplot(
  weight ~ Time | Diet, facet = "by", data = ChickWeight,
  type = type_summary(function(y) quantile(y, probs = 0.9)/max(y))
)

</code></pre>

<hr>
<h2 id='type_text'>Text annotations plot type</h2><span id='topic+type_text'></span>

<h3>Description</h3>

<p>Type function for adding text annotations to a plot. This function allows
you to draw text at specified (x,y) coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_text(
  labels,
  adj = NULL,
  pos = NULL,
  offset = 0.5,
  vfont = NULL,
  font = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_text_+3A_labels">labels</code></td>
<td>
<p>Character vector of length 1 or of the same length as the number of x,y coordinates.</p>
</td></tr>
<tr><td><code id="type_text_+3A_adj">adj</code></td>
<td>
<p>one or two values in <code class="reqn">[0, 1]</code> which specify the x
(and optionally y) adjustment (&lsquo;justification&rsquo;) of the
labels, with 0 for left/bottom, 1 for right/top, and 0.5 for
centered.  On most devices values outside <code class="reqn">[0, 1]</code> will also
work.  See below.</p>
</td></tr>
<tr><td><code id="type_text_+3A_pos">pos</code></td>
<td>
<p>a position specifier for the text.  If specified this
overrides any <code>adj</code> value given.  Values of <code>1</code>,
<code>2</code>, <code>3</code> and <code>4</code>, respectively indicate
positions below, to the left of, above and to the right of
the specified <code>(x,y)</code> coordinates.</p>
</td></tr>
<tr><td><code id="type_text_+3A_offset">offset</code></td>
<td>
<p>when <code>pos</code> is specified, this value controls the
distance (&lsquo;offset&rsquo;) of the text label from the specified
coordinate in fractions of a character width.</p>
</td></tr>
<tr><td><code id="type_text_+3A_vfont">vfont</code></td>
<td>
<p><code>NULL</code> for the current font family, or a character
vector of length 2 for <code><a href="grDevices.html#topic+Hershey">Hershey</a></code> vector
fonts.  The first element of
the vector selects a typeface and the second element selects a
style.  Ignored if <code>labels</code> is an expression.</p>
</td></tr>
<tr><td><code id="type_text_+3A_font">font</code></td>
<td>
<p>Font to be used, following <code><a href="graphics.html#topic+par">graphics::par()</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
tinyplot(mpg ~ hp | factor(cyl),
  data = mtcars,
  type = type_text(
    labels = row.names(mtcars),
    font = 2,
    adj = 0))

</code></pre>

<hr>
<h2 id='type_vline'>Trace a vertical line on the plot</h2><span id='topic+type_vline'></span>

<h3>Description</h3>

<p>Trace a vertical line on the plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type_vline(v = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="type_vline_+3A_v">v</code></td>
<td>
<p>x-value(s) for vertical line(s). Numeric of length 1 or equal to the number of facets.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>tinyplot(mpg ~ hp, data = mtcars)
tinyplot_add(type = type_vline(150))

# facet-specify location and colors
cols = c("black", "green", "orange")
tinyplot(mpg ~ hp | factor(cyl), facet = ~ factor(cyl), data = mtcars, col = cols)
tinyplot_add(type = type_vline(v = c(100, 150, 200)), lty = 3, lwd = 3)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

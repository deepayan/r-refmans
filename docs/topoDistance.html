<!DOCTYPE html><html><head><title>Help for package topoDistance</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {topoDistance}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#topoDist'><p>Topographic distances and paths</p></a></li>
<li><a href='#topoDistance'><p>topoDistance: A package for calculating topographic paths and distances</p></a></li>
<li><a href='#topoLCP'><p>Topographic least cost paths and distances</p></a></li>
<li><a href='#topoPathMap'><p>Map of topographic paths</p></a></li>
<li><a href='#topoPaths'><p>Identify shortest topographic paths</p></a></li>
<li><a href='#topoProfile'><p>Elevation profiles of topographic paths</p></a></li>
<li><a href='#topoSurface'><p>Topographic distance surface</p></a></li>
<li><a href='#topoWeightedDist'><p>Weighted topographic distances and paths</p></a></li>
<li><a href='#Yosemite'><p>Spatial data for western fence lizards in Yosemite</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculating Topographic Paths and Distances</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A toolkit for calculating topographic distances and identifying and plotting topographic paths. Topographic distances can be calculated along shortest topographic paths (Wang (2009) &lt;<a href="https://doi.org/10.1111%2Fj.1365-294X.2009.04338.x">doi:10.1111/j.1365-294X.2009.04338.x</a>&gt;), weighted topographic paths (Zhan et al. (1993) &lt;<a href="https://doi.org/10.1007%2F3-540-57207-4_29">doi:10.1007/3-540-57207-4_29</a>&gt;), and topographic least cost paths (Wang and Summers (2010) &lt;<a href="https://doi.org/10.1111%2Fj.1365-294X.2009.04465.x">doi:10.1111/j.1365-294X.2009.04465.x</a>&gt;). Functions can map topographic paths on colored or hill shade maps and plot topographic cross sections (elevation profiles) for the paths.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>gdistance, plotly, raster, RColorBrewer, scales, sp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-08 21:26:42 UTC; Ian</td>
</tr>
<tr>
<td>Author:</td>
<td>Ian Wang [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ian Wang &lt;ianwang@berkeley.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-09 00:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='topoDist'>Topographic distances and paths</h2><span id='topic+topoDist'></span>

<h3>Description</h3>

<p>Calculates shortest topographic distances and paths
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topoDist(DEM, pts, directions = 8, paths = FALSE, zweight = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topoDist_+3A_dem">DEM</code></td>
<td>
<p>A RasterLayer for digital elevation model (DEM) data.</p>
</td></tr>
<tr><td><code id="topoDist_+3A_pts">pts</code></td>
<td>
<p>A SpatialPoints object or two-column matrix with xy coordinates for the geographic points from which to calculate pairwise distances and paths.</p>
</td></tr>
<tr><td><code id="topoDist_+3A_directions">directions</code></td>
<td>
<p>numeric (default = 8). The number of directions for movement between cells, either 4 or 8.</p>
</td></tr>
<tr><td><code id="topoDist_+3A_paths">paths</code></td>
<td>
<p>logical. Default is FALSE, in which case only topographic distances are calculated.  If TRUE, topographic paths are also identified.</p>
</td></tr>
<tr><td><code id="topoDist_+3A_zweight">zweight</code></td>
<td>
<p>numeric (default = 1). The weight to be applied to the elevation (z) distances relative to the horizontal (xy) distances.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If paths = FALSE, the function will return a matrix of pairwise topographic distances between the specified points.
If paths = TRUE, the function will return a list with two items: (1) the matrix of pairwise topographic distances,
and (2) a SpatialLines object containing the topographic paths.
</p>


<h3>Value</h3>

<p>Matrix of topographic distances (if paths = FALSE), or a list containing a matrix of topographic distances and the topographic paths as an object of class SpatialLines (if paths = TRUE).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xy &lt;- matrix(ncol = 2, byrow = TRUE,
   c(-119.5566, 37.72474,
   -119.4718, 37.76078))
topoDist(Yosemite$DEM, xy, paths = TRUE)
</code></pre>

<hr>
<h2 id='topoDistance'>topoDistance: A package for calculating topographic paths and distances</h2><span id='topic+topoDistance'></span>

<h3>Description</h3>

<p>The topoDistance package provides functions for calculating topographic distances and
identifying and plotting topographic paths. Topographic distances can be
calculated along shortest topographic paths or topographic least cost paths.
Functions can map topographic paths on colored or hillshade maps and plot
topographic cross sections (elevation profiles) for the paths.
</p>


<h3>Details</h3>

<p>Unlike the topographically-corrected distances calculated by some GIS software,
which just adjust for elevational changes along a straight-line path between points,
topoDistance calculates the distance along the shortest topographic path between points,
which is more likely to realistically reflect biological movement on a topographically
complex landscape.
</p>
<p>Topographic distances are calculated as the hypotenuse of the horizontal and vertical
distances between cells on an elevation raster.  These distances are assignd to the
weights of vertices between the nodes for each cell on a landscape graph, and functions
from the gdistance and igraph packages are used to find the shortest path between nodes.
For topographic least cost paths, resistance distance weights are multiplied by the
topographic distance weights to get topographically corrected least cost path distances.
</p>

<hr>
<h2 id='topoLCP'>Topographic least cost paths and distances</h2><span id='topic+topoLCP'></span>

<h3>Description</h3>

<p>Calculates topographic least cost distances and paths
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topoLCP(DEM, costSurface, pts, directions = 8, paths = FALSE, zweight = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topoLCP_+3A_dem">DEM</code></td>
<td>
<p>A RasterLayer for digital elevation model (DEM) data.</p>
</td></tr>
<tr><td><code id="topoLCP_+3A_costsurface">costSurface</code></td>
<td>
<p>A RasterLayer for the conductance (inverse of resistance) values for each cell.</p>
</td></tr>
<tr><td><code id="topoLCP_+3A_pts">pts</code></td>
<td>
<p>A SpatialPoints object or two-column matrix with xy coordinates for the geographic points from which to calculate pairwise distances and paths.</p>
</td></tr>
<tr><td><code id="topoLCP_+3A_directions">directions</code></td>
<td>
<p>numeric (default = 8). The number of directions for movement between cells, either 4 or 8.</p>
</td></tr>
<tr><td><code id="topoLCP_+3A_paths">paths</code></td>
<td>
<p>logical. Default is FALSE, in which case only topographic distances are calculated.  If TRUE, topographic paths are also identified.</p>
</td></tr>
<tr><td><code id="topoLCP_+3A_zweight">zweight</code></td>
<td>
<p>numeric (default = 1). The weight to be applied to the elevation (z) distances relative to the horizontal (xy) distances.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The values of the raster for costSurface should be conductance values rather than resistance values.  These can be calculating by taking the inverse of resistance values.
</p>


<h3>Value</h3>

<p>Matrix of topographic distances (if paths = FALSE), or a list containing a matrix of topographic distances and the topographic paths as an object of class SpatialLines (if paths = TRUE).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xy &lt;- matrix(ncol = 2, byrow = TRUE,
   c(-119.5566, 37.72474,
   -119.4718, 37.76078))
topoLCP(Yosemite$DEM, Yosemite$SDM, xy, paths = TRUE)
</code></pre>

<hr>
<h2 id='topoPathMap'>Map of topographic paths</h2><span id='topic+topoPathMap'></span>

<h3>Description</h3>

<p>Plots a map of topographic paths on a landscape layer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topoPathMap(
  DEM,
  pts,
  topoPaths,
  type = "hillshade",
  costSurface = NULL,
  costColors = NULL,
  pathWidth = 2,
  pathColor = "darkred",
  alpha = 0.65,
  angle = 45,
  direction = 0,
  cex = 2,
  bg = "gray",
  col = "black",
  pch = 21,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topoPathMap_+3A_dem">DEM</code></td>
<td>
<p>A RasterLayer for digital elevation model (DEM) data.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_pts">pts</code></td>
<td>
<p>A SpatialPoints object or two-column matrix with xy coordinates for the geographic points from which to calculate pairwise distances and paths.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_topopaths">topoPaths</code></td>
<td>
<p>A SpatialLines object containing the topographic paths to be plotted.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_type">type</code></td>
<td>
<p>character (default = &quot;hillshade&quot;). Type of map on which to plot topographic paths: &quot;hillshade&quot;, &quot;terrain&quot;, or &quot;topo&quot;.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_costsurface">costSurface</code></td>
<td>
<p>(optional) A RasterLayer for the conductance (inverse of resistance) values for each cell.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_costcolors">costColors</code></td>
<td>
<p>(optional) A function that takes an integer argument (the required number of colors) and returns a character vector of colors (see rgb) interpolating the given sequence (similar to heat.colors or terrain.colors), such as the one returned by colorRampPalette.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_pathwidth">pathWidth</code></td>
<td>
<p>numeric (default = 2). Width for drawing path line.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_pathcolor">pathColor</code></td>
<td>
<p>character (default = &quot;darkred&quot;). Color for drawing path line.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_alpha">alpha</code></td>
<td>
<p>numeric (default = 0.65). Alpha transparency for drawing path line.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_angle">angle</code></td>
<td>
<p>numeric (default = 45). Angle of lighting for hillshade maps, only (type = &quot;hillshade&quot;).</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_direction">direction</code></td>
<td>
<p>numeric (default = 0). Direction of lighting for hillshade maps, only (type = &quot;hillshade&quot;).</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_cex">cex</code></td>
<td>
<p>numeric (optional). Point size.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_bg">bg</code></td>
<td>
<p>character (optional). Background color for spatial points.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_col">col</code></td>
<td>
<p>character (optional). Color for spatial points.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_pch">pch</code></td>
<td>
<p>numeric (optional). Shape of spatial points.</p>
</td></tr>
<tr><td><code id="topoPathMap_+3A_...">...</code></td>
<td>
<p>character, logical, or numeric (optional). Additional arguments to be passed to the plot function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The objects supplied for the DEM and pts arguments (and, optionally, costSurface) are generally those used to calculate the topographic paths using topoDist or topoLCP.
</p>
<p>For the type argument, choosing &quot;hillshade&quot; will plot a shaded relief map, &quot;terrain&quot; will plot a map with terrain colors, and &quot;topo&quot; will plot a map with topo colors.
</p>
<p>Optional arguments can be supplied to control the size (cex), shape (pch), and color (bg and col) of the points.
</p>


<h3>Value</h3>

<p>Plot of topographic paths
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xy &lt;- matrix(ncol = 2, byrow = TRUE,
   c(-119.5566, 37.72474,
   -119.4718, 37.76078))
YosPaths &lt;- topoDist(Yosemite$DEM, xy, paths = TRUE)
topoPathMap(Yosemite$DEM, xy, topoPaths = YosPaths)
</code></pre>

<hr>
<h2 id='topoPaths'>Identify shortest topographic paths</h2><span id='topic+topoPaths'></span>

<h3>Description</h3>

<p>Identify shortest topographic paths
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topoPaths(t.dist, pts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topoPaths_+3A_t.dist">t.dist</code></td>
<td>
<p>A TransitionLayer object.</p>
</td></tr>
<tr><td><code id="topoPaths_+3A_pts">pts</code></td>
<td>
<p>A SpatialPoints object for the geographic points from which to calculate pairwise distances and paths.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function identifies shortest topographic paths from a topographic TransitionLayer.  It does not need to be called separately from the topoDist and topoLCP functions.
</p>


<h3>Value</h3>

<p>An object of class SpatialLines
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xy &lt;- matrix(ncol = 2, byrow = TRUE,
   c(-119.5566, 37.72474,
   -119.4718, 37.76078))
xy &lt;- sp::SpatialPoints(xy)
topoTL &lt;- topoSurface(Yosemite$DEM)
topoPaths(topoTL, xy)
</code></pre>

<hr>
<h2 id='topoProfile'>Elevation profiles of topographic paths</h2><span id='topic+topoProfile'></span>

<h3>Description</h3>

<p>Plots topographic cross sections (elevation profiles) of topographic paths
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topoProfile(
  DEM,
  topoPaths,
  pts = 100,
  type = "base",
  singlePlot = FALSE,
  rows = NULL,
  cols = NULL,
  limits = NULL,
  legendx = "bottomright"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topoProfile_+3A_dem">DEM</code></td>
<td>
<p>A RasterLayer for digital elevation model (DEM) data.</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_topopaths">topoPaths</code></td>
<td>
<p>A SpatialLines object containing the topographic paths to be plotted.</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_pts">pts</code></td>
<td>
<p>numeric (default = 100). The number of elevation points to plot along each path.</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_type">type</code></td>
<td>
<p>character (default = &quot;base&quot;). Type of plotting: &quot;base&quot; or &quot;plotly&quot;.</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_singleplot">singlePlot</code></td>
<td>
<p>logical (default = FALSE). If TRUE, profiles will be drawn on a single plot.</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_rows">rows</code></td>
<td>
<p>numeric (optional). Number of rows for plot layout (if singlePlot = FALSE)</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_cols">cols</code></td>
<td>
<p>numeric (optional). Number of columns for plot layout (if singlePlot = FALSE)</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_limits">limits</code></td>
<td>
<p>numeric vector (optional). A vector with the lower and upper limits for the y-axis (elevation).</p>
</td></tr>
<tr><td><code id="topoProfile_+3A_legendx">legendx</code></td>
<td>
<p>character (default = &quot;bottomright&quot;). Position for the legend.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the type argument, choosing &quot;base&quot; will use base R plotting, and choosing &quot;plotly&quot; will draw an interactive plot with the plotly package.
</p>
<p>If rows, cols, or limits are not specified, the most even arrangement will be detected and used.
</p>


<h3>Value</h3>

<p>Plot of elevation profiles
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xy &lt;- matrix(ncol = 2, byrow = TRUE,
   c(-119.5566, 37.7247,
     -119.4718, 37.7608))
YosPaths &lt;- topoDist(Yosemite$DEM, xy, paths = TRUE)
topoProfile(Yosemite$DEM, topoPaths = YosPaths)
</code></pre>

<hr>
<h2 id='topoSurface'>Topographic distance surface</h2><span id='topic+topoSurface'></span>

<h3>Description</h3>

<p>Generates a TransitionLayer object for topographic distance from a RasterLayer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topoSurface(DEM, conductance = TRUE, directions = 8, zweight = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topoSurface_+3A_dem">DEM</code></td>
<td>
<p>A RasterLayer for digital elevation model (DEM) data.</p>
</td></tr>
<tr><td><code id="topoSurface_+3A_conductance">conductance</code></td>
<td>
<p>logical (default = TRUE). If FALSE, resistance values are returned.  If TRUE, conductance values (1/resistance) are returned.</p>
</td></tr>
<tr><td><code id="topoSurface_+3A_directions">directions</code></td>
<td>
<p>numeric (default = 8). Directions of allowable movement between raster cells (4 or 8).</p>
</td></tr>
<tr><td><code id="topoSurface_+3A_zweight">zweight</code></td>
<td>
<p>numeric (default = 1). The weight to be applied to the elevation (z) distances relative to the horizontal (xy) distances.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function generates a TransitionLayer from a DEM, which is used by the topoDist and topoLCP functions.  It does not need to be called separately from the topoDist and topoLCP functions.
</p>


<h3>Value</h3>

<p>TransitionLayer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>YosTL &lt;- topoSurface(Yosemite$DEM)
</code></pre>

<hr>
<h2 id='topoWeightedDist'>Weighted topographic distances and paths</h2><span id='topic+topoWeightedDist'></span>

<h3>Description</h3>

<p>Calculates weighted topographic distances and paths
</p>


<h3>Usage</h3>

<pre><code class='language-R'>topoWeightedDist(
  DEM,
  pts,
  directions = 8,
  paths = FALSE,
  hFunction = NULL,
  vFunction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="topoWeightedDist_+3A_dem">DEM</code></td>
<td>
<p>A RasterLayer for digital elevation model (DEM) data; should be in a projected coordinate system.</p>
</td></tr>
<tr><td><code id="topoWeightedDist_+3A_pts">pts</code></td>
<td>
<p>A SpatialPoints object or two-column matrix with xy coordinates for the geographic points from which to calculate pairwise distances and paths.</p>
</td></tr>
<tr><td><code id="topoWeightedDist_+3A_directions">directions</code></td>
<td>
<p>numeric (default = 8). The number of directions for movement between cells, either 4 or 8.</p>
</td></tr>
<tr><td><code id="topoWeightedDist_+3A_paths">paths</code></td>
<td>
<p>logical. Default is FALSE, in which case only topographic distances are calculated.  If TRUE, topographic paths are also identified.</p>
</td></tr>
<tr><td><code id="topoWeightedDist_+3A_hfunction">hFunction</code></td>
<td>
<p>character or function (default = NULL). A function describing the cost of changing aspect angle.</p>
</td></tr>
<tr><td><code id="topoWeightedDist_+3A_vfunction">vFunction</code></td>
<td>
<p>character or function (default = NULL). A function describing the cost of movement along an incline.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The hFunction argument can be set to &quot;exponential&quot; or &quot;linear&quot; to use standard functions for the cost of aspect angle changes. If providing a custom function instead, the equation should be a function of one variable, angle (in radians).
The vFunction argument can be set to &quot;exponential&quot; or &quot;quadratic&quot; to use standard functions for the cost of movement along an incline.  If providing a custom function instead, The equation should be a function of one variable, slope.
If paths = FALSE, the function will return a matrix of pairwise topographic distances between the specified points.
If paths = TRUE, the function will return a list with two items: (1) the matrix of pairwise topographic distances,
and (2) a SpatialLines object containing the topographic paths.
</p>


<h3>Value</h3>

<p>Matrix of transport costs (if paths = FALSE), or a list containing a matrix of transport costs and paths as an object of class SpatialLines (if paths = TRUE).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xy &lt;- matrix(ncol = 2, byrow = TRUE,
             c(-119.5566, 37.7247,
               -119.4718, 37.7608))
topoWeightedDist(Yosemite$DEM, xy, vFunction = "exponential")
</code></pre>

<hr>
<h2 id='Yosemite'>Spatial data for western fence lizards in Yosemite</h2><span id='topic+Yosemite'></span>

<h3>Description</h3>

<p>A dataset containing a RasterStack with two RasterLayer objects, a digital elevation model (DEM)
for part of Yosemite National Park (USA) and a species distribution model (SDM) for the western
fence lizard (Sceloporus occidentalis).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Yosemite)
</code></pre>


<h3>Format</h3>

<p>A RasterStack
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Yosemite)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

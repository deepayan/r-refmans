<!DOCTYPE html><html><head><title>Help for package ormPlot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ormPlot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#convert_arg'><p>Function to convert any input to string vector</p></a></li>
<li><a href='#educ_data'><p>Morfometrics of children</p></a></li>
<li><a href='#join_ggplots'><p>Join two ggplot objects side by side</p></a></li>
<li><a href='#oddstable'><p>Get row names from odd an values form even columns</p></a></li>
<li><a href='#oddstable_graph'><p>Make a ggplot table</p></a></li>
<li><a href='#orm_graph'><p>Make a ggplot figure</p></a></li>
<li><a href='#ormPlot'><p>ormPlot: Plotting ordinal regression models from <code>rms</code></p></a></li>
<li><a href='#plot.lrm'><p>Plot the prediction with confidence intervals</p></a></li>
<li><a href='#plot.orm'><p>Plot the prediction with confidence intervals</p></a></li>
<li><a href='#plot.summary.rms'><p>Forest Plot of an rms model summary</p></a></li>
<li><a href='#predict_with_ci'><p>Create a Prediction data.frame with confidence intervals</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Advanced Plotting of Ordinal Regression Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.6</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Richard Meitern &lt;richard.meitern@ut.ee&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An extension to the Regression Modeling Strategies package that
    facilitates plotting ordinal regression  model predictions together with
    confidence intervals for each dependent variable level. 
    It also adds a functionality to plot the  model summary as a modifiable 
    object.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://doi.org/10.1186/s12889-019-8072-7">https://doi.org/10.1186/s12889-019-8072-7</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 3.1.0), rms (&ge; 5.1.3), gtable (&ge; 0.3.0), grid
(&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), vdiffr (&ge; 0.3.0), knitr (&ge; 1.22),
rmarkdown (&ge; 1.13), pander (&ge; 0.6.3)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-13 09:32:55 UTC; rix133</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Meitern <a href="https://orcid.org/0000-0002-2600-3002"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-13 14:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='convert_arg'>Function to convert any input to string vector</h2><span id='topic+convert_arg'></span>

<h3>Description</h3>

<p>Function to convert any input to string vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_arg(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_arg_+3A_x">x</code></td>
<td>
<p>string, object name or vector of these</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of strings
</p>

<hr>
<h2 id='educ_data'>Morfometrics of children</h2><span id='topic+educ_data'></span>

<h3>Description</h3>

<p>A dataset containing the standardized residuals of Estonian schoolchildren.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>educ_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 11032 rows and 10 variables:
</p>

<dl>
<dt>educ_3</dt><dd><p>highest obtained educational level</p>
</dd>
<dt>Rural</dt><dd><p>location of school (rural or urban)</p>
</dd>
<dt>sex</dt><dd><p>gender of the child)</p>
</dd>
<dt>max_SEP_3</dt><dd><p>highest parental profession</p>
</dd>
<dt>n_siblings</dt><dd><p>number of children in the family</p>
</dd>
<dt>cran_rzs</dt><dd><p>cranial volume (residuals to age an birth date)</p>
</dd>
<dt>height_rzs</dt><dd><p>height (residuals to age an birth date)</p>
</dd>
<dt>FW_rzs</dt><dd><p>face width (residuals to age an birth date)</p>
</dd>
<dt>YOB</dt><dd><p>year of birth</p>
</dd>
<dt>YOBc</dt><dd><p>centered but not scaled year of birth (YOB)</p>
</dd>
</dl>


<hr>
<h2 id='join_ggplots'>Join two ggplot objects side by side</h2><span id='topic+join_ggplots'></span>

<h3>Description</h3>

<p>Function to get aligned table of two ggplot objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>join_ggplots(
  leftplot,
  rightplot,
  plot.widths = c(0.5, 0.5),
  title = "Odds Ratio"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="join_ggplots_+3A_leftplot">leftplot</code></td>
<td>
<p>the left side plot</p>
</td></tr>
<tr><td><code id="join_ggplots_+3A_rightplot">rightplot</code></td>
<td>
<p>the plot on the right</p>
</td></tr>
<tr><td><code id="join_ggplots_+3A_plot.widths">plot.widths</code></td>
<td>
<p>the relative widths of the left and right plot
should be a vector (<code>c()</code>)  with 2 elements that sum to 1 defaults to
equal widths</p>
</td></tr>
<tr><td><code id="join_ggplots_+3A_title">title</code></td>
<td>
<p>the tile row of the drawn plot</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)
#load the libraries
library(rms)
library(ormPlot)
library(ggplot2)

#make the datadist
dd&lt;-rms::datadist(educ_data)
options(datadist="dd")

#create the model
cran_model &lt;- orm(educ_3 ~ YOBc + sex + height_rzs + n_siblings  + cran_rzs, data = educ_data)

#the antilog true produces odd ratios (default value for orm and lrm)
s&lt;-summary(cran_model, antilog = TRUE)

#set the plotting default theme (optional)
theme_set(theme_classic())

#return modifiable ggplots
plots&lt;-forestplot(s, return_ggplots = TRUE )

#modify like any ggplot2 object
table&lt;-plots[[1]] +  theme(axis.text=element_text(size = 12),
                           axis.line.x = element_line(color = "red", size = 1),
                           axis.text.y = element_blank())

graph&lt;-plots[[2]] + theme(axis.line = element_line(color = "red", size = 1),
                          axis.text.y = element_text())

#join the graphs
join_ggplots(  graph, table, title = "", plot.widths = c(0.6,0.4))


</code></pre>

<hr>
<h2 id='oddstable'>Get row names from odd an values form even columns</h2><span id='topic+oddstable'></span>

<h3>Description</h3>

<p>Get row names from odd an values form even columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oddstable(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oddstable_+3A_x">x</code></td>
<td>
<p>a <code>matrix</code> with even number of rows</p>
</td></tr>
</table>

<hr>
<h2 id='oddstable_graph'>Make a ggplot table</h2><span id='topic+oddstable_graph'></span>

<h3>Description</h3>

<p>Function to get a ggplot table from a matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oddstable_graph(
  x,
  digits = 3,
  theme = ggplot2::theme_get(),
  header = NULL,
  row.names.y = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oddstable_graph_+3A_x">x</code></td>
<td>
<p>a <code>matrix</code> or a <code>data.frame</code></p>
</td></tr>
<tr><td><code id="oddstable_graph_+3A_digits">digits</code></td>
<td>
<p>the number of significant digits to display</p>
</td></tr>
<tr><td><code id="oddstable_graph_+3A_theme">theme</code></td>
<td>
<p>the desired ggplot2 theme</p>
</td></tr>
<tr><td><code id="oddstable_graph_+3A_header">header</code></td>
<td>
<p>names of the table columns</p>
</td></tr>
<tr><td><code id="oddstable_graph_+3A_row.names.y">row.names.y</code></td>
<td>
<p>new names for the variable rows</p>
</td></tr>
</table>

<hr>
<h2 id='orm_graph'>Make a ggplot figure</h2><span id='topic+orm_graph'></span>

<h3>Description</h3>

<p>Function to get a ggplot figure from a matrix x
</p>


<h3>Usage</h3>

<pre><code class='language-R'>orm_graph(
  x,
  theme = ggplot2::theme_get(),
  header = NULL,
  row.names.y = NULL,
  shape = 19,
  limits = NULL,
  breaks = c(0.5, 1, 1.5, 2, 3, 4)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="orm_graph_+3A_x">x</code></td>
<td>
<p>a <code>matrix</code> or a <code>data.frame</code></p>
</td></tr>
<tr><td><code id="orm_graph_+3A_theme">theme</code></td>
<td>
<p>the desired ggplot2 theme</p>
</td></tr>
<tr><td><code id="orm_graph_+3A_header">header</code></td>
<td>
<p>names of the table columns</p>
</td></tr>
<tr><td><code id="orm_graph_+3A_row.names.y">row.names.y</code></td>
<td>
<p>new names for the variable rows</p>
</td></tr>
<tr><td><code id="orm_graph_+3A_shape">shape</code></td>
<td>
<p>point shape, see <code><a href="ggplot2.html#topic+aes_linetype_size_shape">aes_linetype_size_shape</a></code></p>
</td></tr>
<tr><td><code id="orm_graph_+3A_limits">limits</code></td>
<td>
<p>the x axis limits as a vector, see also:
<code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code></p>
</td></tr>
<tr><td><code id="orm_graph_+3A_breaks">breaks</code></td>
<td>
<p>the x axis breaks as a vector,help see also:
<code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='ormPlot'>ormPlot: Plotting ordinal regression models from <code><a href="rms.html#topic+rms">rms</a></code></h2><span id='topic+ormPlot'></span>

<h3>Description</h3>

<p>The package is an extension to the <code><a href="rms.html#topic+rms">rms</a></code> package that
facilitates plotting the ordinal regression <code><a href="rms.html#topic+orm">orm</a></code> model
objects. The aim is to get ggplot2 plots that are modifiable
</p>


<h3>Details</h3>

<p>The ormPlot package provides two categories of important functions:
forestplotting the summary and plotting the predictions
</p>


<h3>Summary plotting</h3>

<p>The forestplot function facilitates plotting the
<code><a href="rms.html#topic+summary.rms">summary.rms</a></code> objects resulting from the
<code><a href="rms.html#topic+orm">orm</a></code> or <code><a href="rms.html#topic+lrm">lrm</a></code> model
</p>
<p>See exported methods for more details:
</p>

<ul>
<li> <p><code><a href="#topic+plot.summary.rms">plot.summary.rms</a></code>
</p>
</li>
<li> <p><code><a href="#topic+forestplot">forestplot</a></code>
</p>
</li>
<li> <p><code><a href="#topic+join_ggplots">join_ggplots</a></code>
</p>
</li></ul>



<h3>Prediction plotting</h3>

<p>The prediction plotting function facilitates plotting the
<code><a href="rms.html#topic+orm">orm</a></code> objects using the results got from
<code><a href="rms.html#topic+Predict">Predict</a></code> function. In particular it adds confidence
intervals to orm prediction plots.
</p>
<p>See exported methods for more details:
</p>

<ul>
<li> <p><code><a href="#topic+plot.orm">plot.orm</a></code>
</p>
</li>
<li> <p><code><a href="#topic+predict_with_ci">predict_with_ci</a></code>
</p>
</li></ul>



<h3>Data</h3>

<p><code><a href="#topic+educ_data">educ_data</a></code> data about morfometrics of schoolchildren
born between 1937-1962 in Estonian territory. see also the
<code>citation("ormPlot") article</code>
</p>

<hr>
<h2 id='plot.lrm'>Plot the prediction with confidence intervals</h2><span id='topic+plot.lrm'></span>

<h3>Description</h3>

<p>This function plots the model predictions given that all variables that are
not included in the plot are kept constant. Hence it requires at least one
variable to produce a plot.
returns a <code>ggplot</code> object that can be further customized like any
other <code>ggplot</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lrm'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.lrm_+3A_x">x</code></td>
<td>
<p>an object created by <code>Predict</code></p>
</td></tr>
<tr><td><code id="plot.lrm_+3A_...">...</code></td>
<td>
<p>additional parameters that will be passed to <code><a href="rms.html#topic+Predict">Predict</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot</code> plot object
</p>


<h3>See Also</h3>

<p><code><a href="rms.html#topic+Predict">Predict</a></code>, <code><a href="rms.html#topic+datadist">datadist</a></code>, <code><a href="rms.html#topic+orm">orm</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load the libraries
library(rms)
library(ormPlot)

#make the datadist
dd&lt;-datadist(educ_data)
options(datadist='dd')

#create the model
cran_model &lt;- orm(educ_3 ~ Rural + sex + max_SEP_3 + cran_rzs, data = educ_data)

#plot the predictions of the model for varying one variable only
plot(cran_model, cran_rzs)

#customize the plotting varying all variables
plot(cran_model, cran_rzs,
      plot_cols = max_SEP_3,
      plot_rows = c(Rural, sex),

      #setting new x-label (optional)
     xlab = "Cranial volume (residuals to age an birth date)",

     #setting new facet labels (optional)
     facet_labels = list(Rural = c("Urban", "Rural"),
                          sex = c("Boys","Girls"))
     )
</code></pre>

<hr>
<h2 id='plot.orm'>Plot the prediction with confidence intervals</h2><span id='topic+plot.orm'></span>

<h3>Description</h3>

<p>This function plots the model predictions given that all variables that are
not included in the plot are kept constant. Hence it requires at least one
variable to produce a plot.
returns a <code>ggplot</code> object that can be further customized like any
other ggplot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'orm'
plot(
  x,
  xval,
  plot_cols = c(),
  plot_rows = c(),
  label_with_colname = TRUE,
  facet_labels = NULL,
  xlab = NULL,
  ylab = NULL,
  np = 100,
  fun = stats::plogis,
  boot.type = "bca",
  conf.int = 0.95,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.orm_+3A_x">x</code></td>
<td>
<p>an object created by <code>Predict</code></p>
</td></tr>
<tr><td><code id="plot.orm_+3A_xval">xval</code></td>
<td>
<p>The model value plotted on the x axis</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_plot_cols">plot_cols</code></td>
<td>
<p>A vector of strings with  other model components that
should be plotted. These are put on columns.</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_plot_rows">plot_rows</code></td>
<td>
<p>A vector of strings with other model components that
should be plotted. These are put on rows.</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_label_with_colname">label_with_colname</code></td>
<td>
<p>Should he variable name also be included on plot
row and column names</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_facet_labels">facet_labels</code></td>
<td>
<p>A  named list of new names for variables on rows and
columns</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_xlab">xlab</code></td>
<td>
<p>A custom x-axis value (if specified)</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_ylab">ylab</code></td>
<td>
<p>A custom y-axis value (if specified)</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_np">np</code></td>
<td>

<p>the number of equally-spaced points computed for continuous
predictors that vary, i.e., when the specified value is <code>.</code>
or <code>NA</code>
</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_fun">fun</code></td>
<td>
<p>an optional transformation of the linear predictor.
Specify <code>fun='mean'</code> if the fit is a proportional odds model
fit and you ran <code>bootcov</code> with <code>coef.reps=TRUE</code>.  This
will let the mean function be re-estimated for each bootstrap rep to
properly account for all sources of uncertainty in estimating the
mean response.  <code>fun</code> can be a general function and can compute
confidence limits (stored as a list in the <code>limits</code> attribute) of
the transformed parameters such as means.</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_boot.type">boot.type</code></td>
<td>
<p>set to <code>'bca'</code> to compute BCa confidence
limits or <code>'basic'</code> to use the basic bootstrap.  The default is
to compute percentile intervals</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_conf.int">conf.int</code></td>
<td>

<p>confidence level (highest posterior density interval probability for
Bayesian models).  Default is 0.95.  Specify <code>FALSE</code> to suppress.</p>
</td></tr>
<tr><td><code id="plot.orm_+3A_...">...</code></td>
<td>
<p>additional parameters that will be passed to <code><a href="rms.html#topic+Predict">Predict</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot</code> plot object
</p>


<h3>See Also</h3>

<p><code><a href="rms.html#topic+Predict">Predict</a></code>, <code><a href="rms.html#topic+datadist">datadist</a></code>, <code><a href="rms.html#topic+orm">orm</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load the libraries
library(rms)
library(ormPlot)

#make the datadist
dd&lt;-datadist(educ_data)
options(datadist='dd')

#create the model
cran_model &lt;- orm(educ_3 ~ Rural + sex + max_SEP_3 + cran_rzs, data = educ_data)

#plot the predictions of the model for varying one variable only
plot(cran_model, cran_rzs)

#customize the plotting varying all variables
plot(cran_model, cran_rzs,
      plot_cols = max_SEP_3,
      plot_rows = c(Rural, sex),

      #setting new x-label (optional)
     xlab = "Cranial volume (residuals to age an birth date)",

     #setting new facet labels (optional)
     facet_labels = list(Rural = c("Urban", "Rural"),
                          sex = c("Boys","Girls"))
     )
</code></pre>

<hr>
<h2 id='plot.summary.rms'>Forest Plot of an rms model summary</h2><span id='topic+plot.summary.rms'></span><span id='topic+forestplot'></span><span id='topic+forestplot.orm'></span><span id='topic+forestplot.lrm'></span><span id='topic+forestplot.default'></span><span id='topic+forestplot.summary.rms'></span>

<h3>Description</h3>

<p>Convenience function to create a plot of the <code><a href="rms.html#topic+orm">orm</a></code>  model
summary. For further customizing the plots use <code>return_ggplots = TRUE</code>
This will create 2 <code>ggplot2</code> objects that can be joined with the
<code><a href="#topic+join_ggplots">join_ggplots</a></code> commands.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary.rms'
plot(x, ...)

forestplot(
  x,
  return_ggplots = FALSE,
  plot.widths = c(0.5, 0.5),
  title = "Odds ratio",
  digits = 3,
  shape = 19,
  header = NULL,
  limits = NULL,
  breaks = c(0.5, 1, 1.5, 2, 3, 4),
  theme = ggplot2::theme_get(),
  row.names.y = NULL
)

forestplot.default(x, ...)

forestplot.summary.rms(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.summary.rms_+3A_x">x</code></td>
<td>
<p>result of a <code>summary</code> command on
<code><a href="rms.html#topic+orm">orm</a></code> or <code><a href="rms.html#topic+lrm">lrm</a></code>  model ie a
<code><a href="rms.html#topic+summary.rms">summary.rms</a></code> class object</p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_...">...</code></td>
<td>
<p>see parameters of method <code><a href="#topic+forestplot">forestplot</a></code></p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_return_ggplots">return_ggplots</code></td>
<td>
<p>if <code>TRUE</code> the function returns 2 ggplot objects
in a list instead of drawing a tablegrid</p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_plot.widths">plot.widths</code></td>
<td>
<p>the relative widths of the left and right plot
should be a vector (<code>c()</code>)  with 2 elements that sum to 1 defaults to
equal widths</p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_title">title</code></td>
<td>
<p>the tile row of the drawn plot</p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_digits">digits</code></td>
<td>
<p>the number of significant digits to display</p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_shape">shape</code></td>
<td>
<p>point shape, see <code><a href="ggplot2.html#topic+aes_linetype_size_shape">aes_linetype_size_shape</a></code></p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_header">header</code></td>
<td>
<p>names of the table columns</p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_limits">limits</code></td>
<td>
<p>the x axis limits as a vector, see also:
<code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code></p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_breaks">breaks</code></td>
<td>
<p>the x axis breaks as a vector,help see also:
<code><a href="ggplot2.html#topic+scale_continuous">scale_continuous</a></code></p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_theme">theme</code></td>
<td>
<p>the desired ggplot2 theme</p>
</td></tr>
<tr><td><code id="plot.summary.rms_+3A_row.names.y">row.names.y</code></td>
<td>
<p>new names for the variable rows</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)
#load the libraries
library(rms)
library(ormPlot)
library(ggplot2)

#make the datadist
dd&lt;-rms::datadist(educ_data)
options(datadist="dd")

#create the model
cran_model &lt;- orm(educ_3 ~ YOBc + sex + height_rzs + n_siblings  + cran_rzs, data = educ_data)

#the antilog true produces odd ratios (default value for orm and lrm)
s&lt;-summary(cran_model, antilog = TRUE)

#set the plotting default theme (optional)
theme_set(theme_classic())

#show simply the result
forestplot(s)

#return modifiable ggplots
forestplot(s, return_ggplots = TRUE )

#new row names and header
newnames &lt;- c("Year of birth", "Height", "Number of children", "Cranial volume", "Sex" )
newhead &lt;- c("Odds Ratio", "CI 5%", "CI 95%" )

#adjust also the relative plot widths and change the color and shape
newtheme &lt;- theme_classic() + theme(text = element_text(color = "red", size = 12),
                                    line = element_line(color= "red"),
                                    rect = element_rect(color="red"))

forestplot(s, row.names.y = newnames, header = newhead,
           plot.widths = c(0.6,0.4), shape = 17,
           theme = newtheme)
</code></pre>

<hr>
<h2 id='predict_with_ci'>Create a Prediction data.frame with confidence intervals</h2><span id='topic+predict_with_ci'></span>

<h3>Description</h3>

<p>returns a <code>data.frame</code> object similar to the <code><a href="rms.html#topic+Predict">Predict</a></code>
however it adds a column dependent that lists all factor levels with
appropriate confidence intervals calculated for each level. It is similar to
<code><a href="rms.html#topic+predict.lrm">predict.lrm</a></code> with <code>type="fitted.ind"</code> but also generates
selected confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_with_ci(
  x,
  ...,
  np = 100,
  fun = stats::plogis,
  conf.int = 0.95,
  boot.type = "bca"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_with_ci_+3A_x">x</code></td>
<td>
<p>an object created by <code>Predict</code></p>
</td></tr>
<tr><td><code id="predict_with_ci_+3A_...">...</code></td>
<td>

<p>One or more variables to vary, or single-valued adjustment values.
Specify a variable name without an equal sign to use the default
display range, or any range 
you choose (e.g. <code>seq(0,100,by=2),c(2,3,7,14)</code>). 
The default list of values for which predictions are made
is taken as the list of unique values of the variable if they number fewer
than 11. For variables with <code class="reqn">&gt;10</code> unique values, <code>np</code>
equally spaced values in the range are used for plotting if the
range is not specified.  Variables not specified are set to the default
adjustment value <code>limits[2]</code>, i.e. the median for continuous
variables and a reference category for 	non-continuous ones.
Later variables define adjustment settings.
For categorical variables, specify the class labels in quotes when
specifying variable values.  If the levels of a categorical variable
are numeric, you may omit the quotes.  For variables not described
using <code>datadist</code>, you must specify explicit ranges and
adjustment settings for predictors  that were in the model.
If no variables are specified in ..., predictions will be made by
separately varying all predictors in the model over their default
range, holding the other predictors at their adjustment values.
This has the same effect as specifying <code>name</code> as a vector
containing all the predictors.  For <code>rbind</code>, ... represents a
series of results from <code>Predict</code>.  If you name the results,
these names will be taken as the values of the new <code>.set.</code>
variable added to the concatenated data frames.  See an example below.
</p>
</td></tr>
<tr><td><code id="predict_with_ci_+3A_np">np</code></td>
<td>

<p>the number of equally-spaced points computed for continuous
predictors that vary, i.e., when the specified value is <code>.</code>
or <code>NA</code>
</p>
</td></tr>
<tr><td><code id="predict_with_ci_+3A_fun">fun</code></td>
<td>
<p>an optional transformation of the linear predictor.
Specify <code>fun='mean'</code> if the fit is a proportional odds model
fit and you ran <code>bootcov</code> with <code>coef.reps=TRUE</code>.  This
will let the mean function be re-estimated for each bootstrap rep to
properly account for all sources of uncertainty in estimating the
mean response.  <code>fun</code> can be a general function and can compute
confidence limits (stored as a list in the <code>limits</code> attribute) of
the transformed parameters such as means.</p>
</td></tr>
<tr><td><code id="predict_with_ci_+3A_conf.int">conf.int</code></td>
<td>

<p>confidence level (highest posterior density interval probability for
Bayesian models).  Default is 0.95.  Specify <code>FALSE</code> to suppress.</p>
</td></tr>
<tr><td><code id="predict_with_ci_+3A_boot.type">boot.type</code></td>
<td>
<p>set to <code>'bca'</code> to compute BCa confidence
limits or <code>'basic'</code> to use the basic bootstrap.  The default is
to compute percentile intervals</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code>
</p>


<h3>See Also</h3>

<p><code><a href="rms.html#topic+Predict">Predict</a></code>,<code><a href="rms.html#topic+orm">orm</a></code>, <code><a href="rms.html#topic+predict.lrm">predict.lrm</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)
#load the libraries
library(rms)
library(ormPlot)

#make the datadist
dd&lt;-rms::datadist(educ_data)
options(datadist="dd")

#create the model
cran_model &lt;- orm(educ_3 ~ Rural + sex + max_SEP_3 + cran_rzs, data = educ_data)

#get the predictions of the orm model with confidence intervals for all levels
predictiondf&lt;-predict_with_ci(cran_model, cran_rzs, Rural, sex, max_SEP_3)
#show the predictions head
head(predictiondf)

#get the predictions of the orm model with confidence intervals for sex only
predictiondf_sex&lt;-predict_with_ci(cran_model,  sex)
#show the predictions head
head(predictiondf_sex)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

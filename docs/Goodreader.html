<!DOCTYPE html><html lang="en"><head><title>Help for package Goodreader</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Goodreader}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#analyze_sentiment'><p>Perform sentiment analysis on book reviews with negation handling</p></a></li>
<li><a href='#average_book_sentiment'><p>Calculate average sentiment score per book</p></a></li>
<li><a href='#fit_lda'><p>Perform topic modeling on preprocessed reviews</p></a></li>
<li><a href='#gen_topic_clouds'><p>Create word cloud for topics</p></a></li>
<li><a href='#get_author_info'><p>Get Author Information from Goodreads</p></a></li>
<li><a href='#get_book_ids'><p>Save Book IDs to a Text File</p></a></li>
<li><a href='#get_book_summary'><p>Get Book Summary from Goodreads</p></a></li>
<li><a href='#get_format_info'><p>Get Format Information from Goodreads</p></a></li>
<li><a href='#get_genres'><p>Get Genres for Books from Goodreads</p></a></li>
<li><a href='#get_num_pages'><p>Get Number of Pages from Goodreads</p></a></li>
<li><a href='#get_published_time'><p>Get Published Time from Goodreads</p></a></li>
<li><a href='#get_rating_distribution'><p>Get Rating Distribution from Goodreads</p></a></li>
<li><a href='#model_topics'><p>Analyze topics in Goodreads reviews</p></a></li>
<li><a href='#plot_topic_heatmap'><p>Visualize topic distribution</p></a></li>
<li><a href='#plot_topic_prevalence'><p>Visualize topic prevalence</p></a></li>
<li><a href='#plot_topic_terms'><p>Visualize top terms for each topic</p></a></li>
<li><a href='#preprocess_reviews'><p>Preprocess review text for topic modeling</p></a></li>
<li><a href='#replace_special_chars'><p>Replace special characters and remove non-ASCII characters</p></a></li>
<li><a href='#scrape_books'><p>Scrape book details from Goodreads</p></a></li>
<li><a href='#scrape_reviews'><p>Scrape book reviews from Goodreads</p></a></li>
<li><a href='#search_goodreads'><p>Search Goodreads</p></a></li>
<li><a href='#sentiment_histogram'><p>Create a histogram of sentiment scores</p></a></li>
<li><a href='#sentiment_trend'><p>Plot sentiment trend over time</p></a></li>
<li><a href='#top_terms'><p>Extract and print top terms for each topic</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Scrape and Analyze 'Goodreads' Book Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A comprehensive toolkit for scraping and analyzing book data from <a href="https://www.goodreads.com/">https://www.goodreads.com/</a>. This package provides functions to search for books, scrape book details and reviews, perform sentiment analysis on reviews, and conduct topic modeling. It's designed for researchers, data analysts, and book enthusiasts who want to gain insights from 'Goodreads' data. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>cld2, dplyr, ggplot2, httr, lubridate, magrittr, parallel,
purrr, rvest, rlang, stringr, tidyr, tidytext, tm, topicmodels,
utils, wordcloud2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/chaoliu-cl/Goodreader">https://github.com/chaoliu-cl/Goodreader</a>,
<a href="http://liu-chao.site/Goodreader/">http://liu-chao.site/Goodreader/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/chaoliu-cl/Goodreader/issues">https://github.com/chaoliu-cl/Goodreader/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-23 17:21:27 UTC; chaoliu</td>
</tr>
<tr>
<td>Author:</td>
<td>Chao Liu <a href="https://orcid.org/0000-0002-9979-8272"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chao Liu &lt;chaoliu@cedarville.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-24 10:31:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='analyze_sentiment'>Perform sentiment analysis on book reviews with negation handling</h2><span id='topic+analyze_sentiment'></span>

<h3>Description</h3>

<p>This function takes the output from scrape_reviews and performs sentiment analysis,
including basic negation scope detection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>analyze_sentiment(reviews_df, lexicon = "afinn")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="analyze_sentiment_+3A_reviews_df">reviews_df</code></td>
<td>
<p>A data frame containing the output from scrape_reviews.</p>
</td></tr>
<tr><td><code id="analyze_sentiment_+3A_lexicon">lexicon</code></td>
<td>
<p>The sentiment lexicon to use. Options are &quot;afinn&quot;, &quot;bing&quot;, or &quot;nrc&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with sentiment scores for each review.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the scrape_reviews function
reviews &lt;- scrape_reviews(temp_file, num_reviews = 5, use_parallel = FALSE)

# Check if reviews were successfully scraped
if (nrow(reviews) &gt; 0) {
  # Perform sentiment analysis
  sentiment_results &lt;- analyze_sentiment(reviews, lexicon = "afinn")

  # Display the first few rows of the results
  print(head(sentiment_results))
} else {
  cat("No reviews found. Cannot perform sentiment analysis.\n")
}

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='average_book_sentiment'>Calculate average sentiment score per book</h2><span id='topic+average_book_sentiment'></span>

<h3>Description</h3>

<p>This function calculates the average sentiment score for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>average_book_sentiment(sentiment_df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="average_book_sentiment_+3A_sentiment_df">sentiment_df</code></td>
<td>
<p>A data frame containing the output from analyze_sentiment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with average sentiment scores for each book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the scrape_reviews function
reviews &lt;- scrape_reviews(temp_file, num_reviews = 5, use_parallel = FALSE)

# Check if reviews were successfully scraped
if (nrow(reviews) &gt; 0) {
  # Perform sentiment analysis
  sentiment_results &lt;- analyze_sentiment(reviews, lexicon = "afinn")

  # Calculate average sentiment score per book
  avg_senti &lt;- average_book_sentiment(sentiment_results)

  # Display the results
  print(avg_senti)
} else {
  cat("No reviews found. Cannot calculate average sentiment.\n")
}

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='fit_lda'>Perform topic modeling on preprocessed reviews</h2><span id='topic+fit_lda'></span>

<h3>Description</h3>

<p>This function performs LDA topic modeling on the preprocessed reviews.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_lda(dtm, k, method = "Gibbs")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit_lda_+3A_dtm">dtm</code></td>
<td>
<p>A document-term matrix</p>
</td></tr>
<tr><td><code id="fit_lda_+3A_k">k</code></td>
<td>
<p>The number of topics to extract</p>
</td></tr>
<tr><td><code id="fit_lda_+3A_method">method</code></td>
<td>
<p>The method to use for fitting the model (default: Gibbs)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An LDA model
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 5, use_parallel = FALSE)

# Preprocess the reviews
preprocessed &lt;- preprocess_reviews(reviews, english_only = TRUE)

# Fit LDA model
lda_model &lt;- fit_lda(preprocessed$dtm, k = 2)

# Print model summary
print(lda_model)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='gen_topic_clouds'>Create word cloud for topics</h2><span id='topic+gen_topic_clouds'></span>

<h3>Description</h3>

<p>This function creates a word cloud for each topic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_topic_clouds(model_output, n = 50)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gen_topic_clouds_+3A_model_output">model_output</code></td>
<td>
<p>The output from model_topics function</p>
</td></tr>
<tr><td><code id="gen_topic_clouds_+3A_n">n</code></td>
<td>
<p>The number of top terms to include in the word cloud</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of ggplot objects, where each element represents a word cloud for a topic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 30, use_parallel = FALSE)

# Model topics
topic_results &lt;- model_topics(reviews, num_topics = 3, num_terms = 50, english_only = TRUE)

# Generate word clouds for each topic
wordcloud_plots &lt;- gen_topic_clouds(topic_results, n = 20)

# Display the word cloud for the first topic
if (interactive()) {
  print(wordcloud_plots[[1]])
}

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='get_author_info'>Get Author Information from Goodreads</h2><span id='topic+get_author_info'></span>

<h3>Description</h3>

<p>This function takes a file path containing Goodreads book IDs and retrieves
the author information for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_author_info(file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_author_info_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the file containing Goodreads book IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element contains the author information for a book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)
# Run the function
author_info &lt;- get_author_info(temp_file)
print(author_info)
# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='get_book_ids'>Save Book IDs to a Text File</h2><span id='topic+get_book_ids'></span>

<h3>Description</h3>

<p>This function retrieves the book_id values from the input_data and saves them to a specified text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_book_ids(input_data, file_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_book_ids_+3A_input_data">input_data</code></td>
<td>
<p>A data frame containing a column named book_id.</p>
</td></tr>
<tr><td><code id="get_book_ids_+3A_file_name">file_name</code></td>
<td>
<p>A string specifying the name of the text file to save the book_id values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, the function writes the book_id values to a text file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create sample data
books &lt;- data.frame(title = c("Hamlet", "The Hunger Games", "Jane Eyre"),
                    book_id = c("1420", "2767052", "10210")
                    )
# Create a temporary file path
temp_file &lt;- file.path(tempdir(), "bookids.txt")

# Run the function
get_book_ids(books, temp_file)

# Clean up: remove the temporary file
file.remove(temp_file)
</code></pre>

<hr>
<h2 id='get_book_summary'>Get Book Summary from Goodreads</h2><span id='topic+get_book_summary'></span>

<h3>Description</h3>

<p>This function takes a file path containing Goodreads book IDs and retrieves
the summary for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_book_summary(file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_book_summary_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the file containing Goodreads book IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element contains the summary for a book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)
# Run the function
book_summary &lt;- get_book_summary(temp_file)
print(book_summary)
# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='get_format_info'>Get Format Information from Goodreads</h2><span id='topic+get_format_info'></span>

<h3>Description</h3>

<p>This function takes a file path containing Goodreads book IDs and retrieves
the format information for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_format_info(file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_format_info_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the file containing Goodreads book IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element contains the format information for a book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the function
format_info &lt;- get_format_info(temp_file)
print(format_info)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='get_genres'>Get Genres for Books from Goodreads</h2><span id='topic+get_genres'></span>

<h3>Description</h3>

<p>This function reads book IDs from a file, fetches the corresponding Goodreads pages,
and extracts the genres for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_genres(file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_genres_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the file containing book IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element corresponds to a book ID and contains
a character vector of genres for that book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the function
genres &lt;- get_genres(temp_file)

# Display the results
print(genres)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='get_num_pages'>Get Number of Pages from Goodreads</h2><span id='topic+get_num_pages'></span>

<h3>Description</h3>

<p>This function takes a file path containing Goodreads book IDs and retrieves
the number of pages for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_num_pages(file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_num_pages_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the file containing Goodreads book IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element contains the number of pages for a book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)
# Run the function
num_pages &lt;- get_num_pages(temp_file)
print(num_pages)
# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='get_published_time'>Get Published Time from Goodreads</h2><span id='topic+get_published_time'></span>

<h3>Description</h3>

<p>This function takes a file path containing Goodreads book IDs and retrieves
the published time for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_published_time(file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_published_time_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the file containing Goodreads book IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element contains the book information for a book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)
# Run the function
published_times &lt;- get_published_time(temp_file)
print(published_times)
# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='get_rating_distribution'>Get Rating Distribution from Goodreads</h2><span id='topic+get_rating_distribution'></span>

<h3>Description</h3>

<p>This function takes a file path containing Goodreads book IDs and retrieves
the rating distribution for each book.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rating_distribution(file_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_rating_distribution_+3A_file_path">file_path</code></td>
<td>
<p>A character string specifying the path to the file containing Goodreads book IDs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where each element contains the rating distribution for a book.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the function
rating_distributions &lt;- get_rating_distribution(temp_file)
print(rating_distributions)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='model_topics'>Analyze topics in Goodreads reviews</h2><span id='topic+model_topics'></span>

<h3>Description</h3>

<p>This function takes the output from scrape_reviews, preprocesses the data,
performs topic modeling, and prints the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_topics(reviews, num_topics = 3, num_terms = 10, english_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_topics_+3A_reviews">reviews</code></td>
<td>
<p>A data frame containing the scraped reviews</p>
</td></tr>
<tr><td><code id="model_topics_+3A_num_topics">num_topics</code></td>
<td>
<p>The number of topics to extract</p>
</td></tr>
<tr><td><code id="model_topics_+3A_num_terms">num_terms</code></td>
<td>
<p>The number of top terms to display for each topic</p>
</td></tr>
<tr><td><code id="model_topics_+3A_english_only">english_only</code></td>
<td>
<p>A logical value indicating whether to filter out non-English reviews. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following elements:
</p>

<ul>
<li> <p><code>model</code>: The fitted LDA model object.
</p>
</li>
<li> <p><code>filtered_reviews</code>: The preprocessed and filtered reviews data frame.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 5, use_parallel = FALSE)

# Model topics
topic_results &lt;- model_topics(reviews, num_topics = 2, num_terms = 5, english_only = TRUE)

# Print model summary
print(topic_results$model)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='plot_topic_heatmap'>Visualize topic distribution</h2><span id='topic+plot_topic_heatmap'></span>

<h3>Description</h3>

<p>This function creates a heatmap of the topic distribution across documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_topic_heatmap(model_output)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_topic_heatmap_+3A_model_output">model_output</code></td>
<td>
<p>The output from model_topics function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the topic distribution heatmap.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 10, use_parallel = FALSE)

# Model topics
topic_results &lt;- model_topics(reviews, num_topics = 2, num_terms = 5, english_only = TRUE)

# Visualize topic distribution
plot_topic_heatmap(topic_results)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='plot_topic_prevalence'>Visualize topic prevalence</h2><span id='topic+plot_topic_prevalence'></span>

<h3>Description</h3>

<p>This function creates a bar plot of the overall prevalence of each topic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_topic_prevalence(model_output)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_topic_prevalence_+3A_model_output">model_output</code></td>
<td>
<p>The output from model_topics function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the bar plot of topic prevalence.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 10, use_parallel = FALSE)

# Model topics
topic_results &lt;- model_topics(reviews, num_topics = 2, num_terms = 5, english_only = TRUE)

# Visualize topic distribution
plot_topic_prevalence(topic_results)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='plot_topic_terms'>Visualize top terms for each topic</h2><span id='topic+plot_topic_terms'></span>

<h3>Description</h3>

<p>This function creates a bar plot of the top terms for each topic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_topic_terms(model_output, n = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_topic_terms_+3A_model_output">model_output</code></td>
<td>
<p>The output from model_topics function</p>
</td></tr>
<tr><td><code id="plot_topic_terms_+3A_n">n</code></td>
<td>
<p>The number of top terms to visualize for each topic</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the bar plot of top terms for each topic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 10, use_parallel = FALSE)

# Model topics
topic_results &lt;- model_topics(reviews, num_topics = 2, num_terms = 5, english_only = TRUE)

# Visualize top terms for each topic
plot_topic_terms(topic_results, n = 5)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='preprocess_reviews'>Preprocess review text for topic modeling</h2><span id='topic+preprocess_reviews'></span>

<h3>Description</h3>

<p>This function preprocesses the review text by optionally filtering non-English reviews,
removing punctuation, converting to lowercase, removing stopwords, and stemming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>preprocess_reviews(reviews, english_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="preprocess_reviews_+3A_reviews">reviews</code></td>
<td>
<p>A data frame containing the scraped reviews</p>
</td></tr>
<tr><td><code id="preprocess_reviews_+3A_english_only">english_only</code></td>
<td>
<p>A logical value indicating whether to filter out non-English reviews. Default is TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following elements:
</p>

<ul>
<li> <p><code>corpus</code>: The preprocessed corpus object.
</p>
</li>
<li> <p><code>dtm</code>: The document-term matrix.
</p>
</li>
<li> <p><code>filtered_reviews</code>: The filtered reviews data frame.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 5, use_parallel = FALSE)

# Preprocess the reviews
preprocessed &lt;- preprocess_reviews(reviews, english_only = TRUE)

# Print the document-term matrix
print(preprocessed$dtm)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='replace_special_chars'>Replace special characters and remove non-ASCII characters</h2><span id='topic+replace_special_chars'></span>

<h3>Description</h3>

<p>Replace special characters and remove non-ASCII characters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_special_chars(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_special_chars_+3A_x">x</code></td>
<td>
<p>A character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with special characters replaced and non-ASCII characters removed
</p>

<hr>
<h2 id='scrape_books'>Scrape book details from Goodreads</h2><span id='topic+scrape_books'></span>

<h3>Description</h3>

<p>This function scrapes details of books using their IDs from Goodreads.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scrape_books(book_ids_path, use_parallel = FALSE, num_cores = 4)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scrape_books_+3A_book_ids_path">book_ids_path</code></td>
<td>
<p>Path to a text file containing book IDs.</p>
</td></tr>
<tr><td><code id="scrape_books_+3A_use_parallel">use_parallel</code></td>
<td>
<p>Logical indicating whether to scrape in parallel (default is FALSE).</p>
</td></tr>
<tr><td><code id="scrape_books_+3A_num_cores">num_cores</code></td>
<td>
<p>Number of CPU cores to use for parallel scraping (default is 4).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing scraped book details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the function (with a small delay to avoid overwhelming the server)
result &lt;- scrape_books(temp_file, use_parallel = FALSE)
print(head(result))
# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='scrape_reviews'>Scrape book reviews from Goodreads</h2><span id='topic+scrape_reviews'></span>

<h3>Description</h3>

<p>This function scrapes book reviews from Goodreads based on provided book IDs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scrape_reviews(
  book_ids_path,
  num_reviews = 30,
  use_parallel = FALSE,
  num_cores = 4
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scrape_reviews_+3A_book_ids_path">book_ids_path</code></td>
<td>
<p>A character string specifying the path to a file containing book IDs.</p>
</td></tr>
<tr><td><code id="scrape_reviews_+3A_num_reviews">num_reviews</code></td>
<td>
<p>An integer specifying the number of reviews to scrape per book. Default is 30.</p>
</td></tr>
<tr><td><code id="scrape_reviews_+3A_use_parallel">use_parallel</code></td>
<td>
<p>A logical value indicating whether to use parallel processing. Default is FALSE.</p>
</td></tr>
<tr><td><code id="scrape_reviews_+3A_num_cores">num_cores</code></td>
<td>
<p>An integer specifying the number of cores to use for parallel processing. Default is 4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing scraped review information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)
# Run the function (with a small number of reviews to keep the example quick)
reviews &lt;- scrape_reviews(temp_file, num_reviews = 5, use_parallel = FALSE)
print(head(reviews))
# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='search_goodreads'>Search Goodreads</h2><span id='topic+search_goodreads'></span>

<h3>Description</h3>

<p>This function searches books on Goodreads.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_goodreads(
  search_term,
  search_in = c("title", "author"),
  num_books = 10,
  sort_by = "ratings"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="search_goodreads_+3A_search_term">search_term</code></td>
<td>
<p>A search term string.</p>
</td></tr>
<tr><td><code id="search_goodreads_+3A_search_in">search_in</code></td>
<td>
<p>Where to search (e.g., &quot;title&quot;, &quot;author&quot;).</p>
</td></tr>
<tr><td><code id="search_goodreads_+3A_num_books">num_books</code></td>
<td>
<p>Number of books to return.</p>
</td></tr>
<tr><td><code id="search_goodreads_+3A_sort_by">sort_by</code></td>
<td>
<p>How to sort the results (e.g., &quot;ratings&quot;, &quot;published_year&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of search results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>search_goodreads("parenting", search_in = "title", num_books = 2)
</code></pre>

<hr>
<h2 id='sentiment_histogram'>Create a histogram of sentiment scores</h2><span id='topic+sentiment_histogram'></span>

<h3>Description</h3>

<p>This function creates a histogram of sentiment scores for all reviews.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sentiment_histogram(sentiment_df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sentiment_histogram_+3A_sentiment_df">sentiment_df</code></td>
<td>
<p>A data frame containing the output from analyze_sentiment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the histogram.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the scrape_reviews function
reviews &lt;- scrape_reviews(temp_file, num_reviews = 10, use_parallel = FALSE)

# Check if reviews were successfully scraped
if (nrow(reviews) &gt; 0) {
  # Perform sentiment analysis
  sentiment_results &lt;- analyze_sentiment(reviews, lexicon = "afinn")

  # Create histogram of sentiment scores
  sentiment_hist &lt;- sentiment_histogram(sentiment_results)

  # Display the plot
  print(sentiment_hist)

  # Optionally, save the plot
  # ggsave("sentiment_hist.png", sentiment_hist, width = 8, height = 6)
} else {
  cat("No reviews found. Cannot create sentiment histogram.\n")
}

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='sentiment_trend'>Plot sentiment trend over time</h2><span id='topic+sentiment_trend'></span>

<h3>Description</h3>

<p>This function plots the average sentiment score over time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sentiment_trend(sentiment_df, time_period = "month", show_smooth_trend = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sentiment_trend_+3A_sentiment_df">sentiment_df</code></td>
<td>
<p>A data frame containing the output from analyze_sentiment.</p>
</td></tr>
<tr><td><code id="sentiment_trend_+3A_time_period">time_period</code></td>
<td>
<p>A string specifying the time period for grouping (&quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;year&quot;).</p>
</td></tr>
<tr><td><code id="sentiment_trend_+3A_show_smooth_trend">show_smooth_trend</code></td>
<td>
<p>A logical value indicating whether to show the overall smooth trend line (default: TRUE).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the sentiment trend.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Run the scrape_reviews function
reviews &lt;- scrape_reviews(temp_file, num_reviews = 10, use_parallel = FALSE)

# Check if reviews were successfully scraped
if (nrow(reviews) &gt; 0) {
  # Perform sentiment analysis
  sentiment_results &lt;- analyze_sentiment(reviews, lexicon = "afinn")

  # Create histogram of sentiment scores
  senti_trend &lt;- sentiment_trend(sentiment_results)

  # Display the plot
  print(senti_trend)

  # Optionally, save the plot
  # ggsave("senti_trend.png", senti_trend, width = 8, height = 6)
} else {
  cat("No reviews found. Cannot create sentiment trend\n")
}

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

<hr>
<h2 id='top_terms'>Extract and print top terms for each topic</h2><span id='topic+top_terms'></span>

<h3>Description</h3>

<p>This function extracts the top terms for each topic in the LDA model and optionally prints them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>top_terms(lda_model, n = 10, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="top_terms_+3A_lda_model">lda_model</code></td>
<td>
<p>An LDA model</p>
</td></tr>
<tr><td><code id="top_terms_+3A_n">n</code></td>
<td>
<p>The number of top terms to extract for each topic</p>
</td></tr>
<tr><td><code id="top_terms_+3A_verbose">verbose</code></td>
<td>
<p>Logical; if TRUE, print the top terms to the console (default is TRUE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of character vectors, each containing the top terms for a topic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a temporary file with sample book IDs
temp_file &lt;- tempfile(fileext = ".txt")
writeLines(c("1420", "2767052", "10210"), temp_file)

# Scrape reviews
reviews &lt;- scrape_reviews(temp_file, num_reviews = 5, use_parallel = FALSE)

# Preprocess the reviews
preprocessed &lt;- preprocess_reviews(reviews, english_only = TRUE)

# Fit LDA model
lda_model &lt;- fit_lda(preprocessed$dtm, k = 2)

# Print top terms
top_terms(lda_model, n = 5)

# Clean up: remove the temporary file
file.remove(temp_file)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

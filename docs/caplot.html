<!DOCTYPE html><html><head><title>Help for package caplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {caplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#borggroenen'><p>Dataset: Cross-tabulation of crime rate vs. 10 US states</p></a></li>
<li><a href='#caplot'><p>Correspondence Analysis with Geometric Frequency Interpretation</p></a></li>
<li><a href='#yelland'><p>Dataset: Cross-tabulation of authors vs. alphabet letters</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Correspondence Analysis with Geometric Frequency Interpretation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs Correspondence Analysis on the given dataframe and plots the results in a scatterplot that emphasizes the geometric interpretation aspect of the analysis, following Borg-Groenen (2005) and Yelland (2010). It is particularly useful for highlighting the relationships between a selected row (or column) category and the column (or row) categories. See Borg-Groenen (2005, ISBN:978-0-387-28981-6); Yelland (2010) &lt;<a href="https://doi.org/10.3888%2Ftmj.12-4">doi:10.3888/tmj.12-4</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ca (&ge; 0.71), ggplot2 (&ge; 3.4.0), ggrepel (&ge; 0.9.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-06 08:30:10 UTC; gianmarcoalberti</td>
</tr>
<tr>
<td>Author:</td>
<td>Gianmarco Alberti [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gianmarco Alberti &lt;gianmarcoalberti@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-06 11:10:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='borggroenen'>Dataset: Cross-tabulation of crime rate vs. 10 US states</h2><span id='topic+borggroenen'></span>

<h3>Description</h3>

<p>Cross-tabulation (7x10) of crime rate across 10 US states.<br />
After: Borg-Groenen 2005 (Table 24.5).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(borggroenen)
</code></pre>


<h3>Format</h3>

<p>dataframe
</p>

<hr>
<h2 id='caplot'>Correspondence Analysis with Geometric Frequency Interpretation</h2><span id='topic+caplot'></span>

<h3>Description</h3>

<p>This function performs Correspondence Analysis on the given data frame and plots the results in a scatterplot that emphasizes
the geometric interpretation aspect of the analysis (Borg-Groenen 2005; Yelland 2010). It is particularly useful for highlighting the relationships between
a selected row (or column) category and the column (or row) categories.<br />
Visit this <a href="https://drive.google.com/file/d/1sZKPEqOqQ7VpfIn9DnGgdrS_K8p7cbvf/view?usp=share_link">LINK</a> to access the package's vignette.<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caplot(
  df,
  dims = c(1, 2),
  ref.category,
  dot.size = 2,
  label.size = 3,
  axis.title.size = 8,
  equal.scale = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="caplot_+3A_df">df</code></td>
<td>
<p>A cross-tabulation (dataframe) for which the correspondence analysis is performed.</p>
</td></tr>
<tr><td><code id="caplot_+3A_dims">dims</code></td>
<td>
<p>A numeric vector specifying the dimensions to be plotted (default: c(1,2)).</p>
</td></tr>
<tr><td><code id="caplot_+3A_ref.category">ref.category</code></td>
<td>
<p>The reference category for interpreting the plot. Must be a row or column name of the input dataframe.
Note that, to enhance visual focus on the selected category, the other categories are rendered in grey.</p>
</td></tr>
<tr><td><code id="caplot_+3A_dot.size">dot.size</code></td>
<td>
<p>A numerical value representing the size of dots in the plot (default: 2)</p>
</td></tr>
<tr><td><code id="caplot_+3A_label.size">label.size</code></td>
<td>
<p>A numerical value representing the size of labels in the plot (default: 3).</p>
</td></tr>
<tr><td><code id="caplot_+3A_axis.title.size">axis.title.size</code></td>
<td>
<p>A numerical value specifying the size of the axis titles (default: 8).</p>
</td></tr>
<tr><td><code id="caplot_+3A_equal.scale">equal.scale</code></td>
<td>
<p>Logical value indicating whether to use the same scale for both axes (default: TRUE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Overview</strong><br /> The function follows a visualization approach outlined, e.g., by Borg-Groenen 2005 and Yelland 2010.
This method allows the relative frequencies of categories in the dataset to be intuitively read off the plot.
The function first draws a line through the origin and the point corresponding to the selected reference category.
Perpendicular lines are then dropped from each categoryâ€™s position on the plot to the line connecting the reference category and the origin.
</p>
<p><strong>Interpretation</strong><br />
The relative frequencies of the categories can be inferred by looking at the positions at which the perpendiculars from the categories intersect this line.
Categories with an intersection on the same side of the origin as the reference category occur more often than the average; the further from the
origin an intersection occurs, the higher the frequency. Conversely, categories with an intersection on the opposite
side occur less frequently; in this case, the further from the origin an intersection occurs, the smaller the frequency.
</p>
<p><strong>Limitations</strong><br />
The method implemented here complements, but does not replace, the nuanced interpretation of a correspondence analysis output gleaned from a
typical scatterplot of row and column categories. While this approach may not be ideally suited for handling large tables, it provides a valuable tool
for the visual interpretation of small-to-medium size tables, particularly for non-expert audiences.
This method simplifies the understanding of some aspects of the data and can make the analytical results more accessible.
</p>


<h3>Value</h3>

<p>A scatterplot visualizing the results of the Correspondence Analysis with geometric frequency interpretation.
</p>


<h3>References</h3>

<p>Borg, I., &amp; Groenen, P. J. F. (2005). Modern Multidimensional Scaling: Theory and Applications.
Springer Science &amp; Business Media.
</p>
<p>Yelland, P. (2010). An Introduction to Correspondence Analysis.
In The Mathematica Journal (Vol. 12). Wolfram Research, Inc.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# EXAMPLE 1
# Build a toy dataset (the famous Greenacre's "smoke" dataset).

mytable &lt;- structure(list(none = c(4, 4, 25, 18, 10), light = c(2, 3, 10,
24, 6), medium = c(3, 7, 12, 33, 7), heavy = c(2, 4, 4, 13, 2
)), row.names = c("SM", "JM", "SE", "JE", "SC"), class = "data.frame")

# Run the function, using the "heavy" smoking as reference category

caplot(mytable, ref.category="heavy")

# In the returned scatterplot, it can be seen that the JM and SM categories
# feature a larger-than-average proportion of heavy smokers, whereas SC,
# SE, and JE feature a smaller-than-average proportion.
# Also, JM intersects the reference category line at a larger
# distance compared to the SM category, which indicates that the proportion
# of heavy smokers in JM is larger than in SM.
# Finally, SC features the smallest proportion of heavy smokers since it intersects the
# reference line at the furthest distance, on the side opposite to the plot's origin.
# This can be cross-checked by inspecting the table of row profiles:

row_props &lt;- round(prop.table(as.matrix(mytable), margin = 1),3)


# EXAMPLE 2
# Run the function using the "yelland" in-built dataset and "MT2" (Mark Twain 2)
# as reference category, so reproducing the scatterplot in Yelland 2010, figure 4.

caplot(yelland, ref.category="MT2", label.size=2)


# EXAMPLE 3
# Run the function using the "borggroenen" in-built dataset and "MA"
# as reference category, so reproducing the scatterplot in Borg-Groenen 2005, figure 24.9.

caplot(borggroenen, ref.category="MA", label.size=2)

# As noted by Borg-Groenen 2005:
# "the projections on the line through the origin and MA (Massachusetts)
# show that auto theft and robbery happen more often than average.
# Because larceny and burglary project almost on the origin,
# they occur at an average rate in Massachusetts, whereas murder,
# rape, and assault are below average."



</code></pre>

<hr>
<h2 id='yelland'>Dataset: Cross-tabulation of authors vs. alphabet letters</h2><span id='topic+yelland'></span>

<h3>Description</h3>

<p>Cross-tabulation (15x16) of the frequency of alphabet letters across multiple authors.<br />
After: Yelland 2010 (page 3).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(yelland)
</code></pre>


<h3>Format</h3>

<p>dataframe
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

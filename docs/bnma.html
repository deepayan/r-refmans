<!DOCTYPE html><html><head><title>Help for package bnma</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bnma}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#blocker'><p>Beta blockers to prevent mortality after myocardial infarction</p></a></li>
<li><a href='#bnma-package'><p>bnma: A package for network meta analysis using Bayesian methods</p></a></li>
<li><a href='#calculate.contrast.deviance'><p>Find deviance statistics such as DIC and pD.</p></a></li>
<li><a href='#calculate.deviance'><p>Find deviance statistics such as DIC and pD.</p></a></li>
<li><a href='#cardiovascular'><p>Trials of low dose and high dose statins for cardiovascular disease vs. placebo</p></a></li>
<li><a href='#certolizumab'><p>Trials of certolizumab pegol (CZP) for the treatment of rheumatoid arthritis in patients</p></a></li>
<li><a href='#contrast.network.data'><p>Make a network object for contrast-level data containing data, priors, and a JAGS model file</p></a></li>
<li><a href='#contrast.network.deviance.plot'><p>Make a contrast network deviance plot</p></a></li>
<li><a href='#contrast.network.leverage.plot'><p>Make a leverage plot</p></a></li>
<li><a href='#contrast.network.run'><p>Run the model using the network object</p></a></li>
<li><a href='#draw.network.graph'><p>Draws network graph using igraph package</p></a></li>
<li><a href='#network.autocorr.diag'><p>Generate autocorrelation diagnostics using coda package</p></a></li>
<li><a href='#network.autocorr.plot'><p>Generate autocorrelation plot using coda package</p></a></li>
<li><a href='#network.covariate.plot'><p>Make a covariate plot</p></a></li>
<li><a href='#network.cumrank.tx.plot'><p>Create a treatment cumulative rank plot</p></a></li>
<li><a href='#network.data'><p>Make a network object containing data, priors, and a JAGS model file</p></a></li>
<li><a href='#network.deviance.plot'><p>Make a deviance plot</p></a></li>
<li><a href='#network.forest.plot'><p>Draws forest plot</p></a></li>
<li><a href='#network.gelman.diag'><p>Use coda package to find Gelman-Rubin diagnostics</p></a></li>
<li><a href='#network.gelman.plot'><p>Use coda package to plot Gelman-Rubin diagnostic plot</p></a></li>
<li><a href='#network.inconsistency.plot'><p>Plotting comparison of posterior mean deviance in the consistency model and inconsistency model</p></a></li>
<li><a href='#network.leverage.plot'><p>Make a leverage plot</p></a></li>
<li><a href='#network.rank.tx.plot'><p>Create a treatment rank plot</p></a></li>
<li><a href='#network.run'><p>Run the model using the network object</p></a></li>
<li><a href='#nodesplit.network.data'><p>Make a network object containing data, priors, and a JAGS model file</p></a></li>
<li><a href='#nodesplit.network.run'><p>Run the model using the nodesplit network object</p></a></li>
<li><a href='#parkinsons'><p>Dopamine agonists as adjunct therapy in Parkinson's disease</p></a></li>
<li><a href='#parkinsons_contrast'><p>Dopamine agonists as adjunct therapy in Parkinson's disease</p></a></li>
<li><a href='#plot.contrast.network.result'><p>Plot traceplot and posterior density of the result using contrast data</p></a></li>
<li><a href='#plot.network.result'><p>Plot traceplot and posterior density of the result</p></a></li>
<li><a href='#plot.ume.network.result'><p>Plot traceplot and posterior density of the result using contrast data</p></a></li>
<li><a href='#rank.tx'><p>Create a treatment rank table</p></a></li>
<li><a href='#relative.effects'><p>Find relative effects for base treatment and comparison treatments</p></a></li>
<li><a href='#relative.effects.table'><p>Make a summary table for relative effects</p></a></li>
<li><a href='#smoking'><p>Smoking cessation counseling programs</p></a></li>
<li><a href='#statins'><p>Trials of statins for cholesterol lowering vs. placebo or usual care</p></a></li>
<li><a href='#sucra'><p>Calculate SUCRA</p></a></li>
<li><a href='#summary.contrast.network.result'><p>Summarize result run by <code>contrast.network.run</code></p></a></li>
<li><a href='#summary.network.result'><p>Summarize result run by <code>network.run</code></p></a></li>
<li><a href='#summary.nodesplit.network.result'><p>Summarize result run by <code>nodesplit.network.run</code></p></a></li>
<li><a href='#summary.ume.network.result'><p>Summarize result run by <code>ume.network.run</code></p></a></li>
<li><a href='#thrombolytic'><p>Thrombolytic drugs and percutaneous transluminal coronary angioplasty</p></a></li>
<li><a href='#ume.network.data'><p>Make a network object for the unrelated mean effects model (inconsistency model) containing data, priors, and a JAGS model file</p></a></li>
<li><a href='#ume.network.run'><p>Run the model using the network object</p></a></li>
<li><a href='#variance.tx.effects'><p>Calculate correlation matrix for multinomial heterogeneity parameter.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Network Meta-Analysis using 'JAGS'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.6.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-02-10</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rjags (&ge; 4-6), graphics, stats, utils, coda (&ge; 0.13),
ggplot2, grid, igraph</td>
</tr>
<tr>
<td>Description:</td>
<td>Network meta-analyses using Bayesian framework following Dias et al. (2013) &lt;<a href="https://doi.org/10.1177%2F0272989X12458724">doi:10.1177/0272989X12458724</a>&gt;. Based on the data input, creates prior, model file, and initial values needed to run models in 'rjags'. Able to handle binomial, normal and multinomial arm-level data. Can handle multi-arm trials and includes methods to incorporate covariate and baseline risk effects. Includes standard diagnostics and visualization tools to evaluate the results.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-11 00:48:37 UTC; seom1</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Seo [aut, cre],
  Christopher Schmid [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Seo &lt;swj8874@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-11 01:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='blocker'>Beta blockers to prevent mortality after myocardial infarction</h2><span id='topic+blocker'></span>

<h3>Description</h3>

<p>A dataset of 22 trials investigating beta blockers versus control to prevent mortality after myocardial
infarction. Control is coded as 1 and beta blocker treatment is coded as 2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blocker
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, Study, and N.
</p>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>

<hr>
<h2 id='bnma-package'>bnma: A package for network meta analysis using Bayesian methods</h2><span id='topic+bnma-package'></span>

<h3>Description</h3>

<p>A package for running Bayesian network meta analysis
</p>


<h3>Details</h3>

<p>Network meta-analysis or mixed treatment comparison (MTC) is a method that allows simultaneous comparison of more than two treatments.
We use a Bayesian approach to combine both direct and indirect evidence as in Dias et al. 2013a.
This package is a user friendly application that can run network meta analysis models without having to code a JAGS model.
The program takes the input data and transforms it to a suitable format of analysis, generates a JAGS model and reasonable
initial values and runs the model through the rjags package.
The focus of this package was inclusion of multinomial response and various options for adding covariates and/or baseline risks effects.
Also, while sampling, the package uses Gelman-Rubin convergence criteria to decide whether to continue sampling or not.
Furthermore, package includes different models such as contrast based models and unrelated mean effects (UME) model and nodesplitting model to test for inconsistency.
</p>


<h3>References</h3>

<p>A.J. Franchini, S. Dias, A.E. Ades, J.P. Jansen, N.J. Welton (2012), <em>Accounting for correlation in network meta-analysis with multi-arm trials</em>, Research Synthesis Methods 3(2):142-160. <a href="https://doi.org/10.1002/jrsm.1049">doi:10.1002/jrsm.1049</a>
</p>
<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>
<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013b), <em>Heterogeneity-Subgroups, Meta-Regression, Bias, and Bias-Adjustment</em>, Medical Decision Making 33(5):618-640. <a href="https://doi.org/10.1177/0272989X13485157">doi:10.1177/0272989X13485157</a>
</p>
<p>S. Dias, N.J. Welton, D.M. Caldwellb, A.E. Ades (2010), <em>Checking consistency in mixed treatment</em>, Statistics in Medicine 29(7-8, Sp. Iss. SI): 932-944. <a href="https://doi.org/10.1002/sim.3767">doi:10.1002/sim.3767</a>
</p>
<p>S. Dias, N.J. Welton, A.J. Sutton, D.M. Caldwell, G. Lu, and A.E. Ades (2013), <em>Evidence synthesis for decision making 4: inconsistency in networks of evidence based on randomized controlled trials</em>, Medical Decision Making 33(5):641-656. <a href="https://doi.org/10.1177/0272989X12455847">doi:10.1177/0272989X12455847</a>
</p>
<p>C.H. Schmid, T.A. Trikalinos, I. Olkin (2014), <em>Bayesian network meta-analysis for unordered categorical outcomes with incomplete data</em>, Research Synthesis Methods 5(2):162-185. <a href="https://doi.org/10.1002/jrsm.1103">doi:10.1002/jrsm.1103</a>
</p>
<p>A. Gelman, D.B. Rubin (1992), <em>Inference from iterative simulation using multiple sequences</em>, Statistical Science 7(4):457-472. <a href="https://doi.org/10.1214/ss/1177011136">doi:10.1214/ss/1177011136</a>
</p>
<p>D.J. Spiegelhalter, N.G. Best, and B.P. Carlin (1998), <em>Bayesian deviance, the effective nunmber of parameters, and the comparison of arbitrarily complex models</em>, Technical report, MRC Biostatistics Unit, Cambridge, UK.
</p>
<p>F.A. Achana, N.J. Cooper, S. Dias, G. Lu, S.J.C. Rice, D. Kendrick, A.J. Sutton (2012), <em>Extending methods for investigating the relationship between treatment effect and baseline risk from pairwise meta-analysis to network meta-analysis</em>, Statistics in Medicine 32(5):752-771. <a href="https://doi.org/10.1002/sim.5539">doi:10.1002/sim.5539</a>
</p>
<p>F.A. Achana, N.J. Cooper, S. Bujkiewicz, S.J. Hubbard, D. Kendrick, D.R. Jones, A.J. Sutton (2014), <em>Network meta-analysis of multiple outcomes measures accounting for borrowing of information across outcomes</em>, BMC Medical Research Methodology 14:92. <a href="https://doi.org/10.1186/1471-2288-14-92">doi:10.1186/1471-2288-14-92</a>
</p>
<p>G. Salanti, A.E. Ades, J.P.A. Ioannidisa (2011), <em>Graphical methods and numerical summaries for presenting results from multiple-treatment meta-analysis: an overview and tutorial</em>, Journal of Clinical Epidemiology 64(2):163-171. <a href="https://doi.org/10.1016/j.jclinepi.2010.03.016">doi:10.1016/j.jclinepi.2010.03.016</a>
</p>
<p>G. van Valkenhoef, G. Lu, B. de Brock, H. Hillege, A.E. Ades, and N.J. Welton (2012), <em>Automating network meta-analysis</em>, Research Synthesis Methods 3(4):285-299. <a href="https://doi.org/10.1002/jrsm.1054">doi:10.1002/jrsm.1054</a>
</p>
<p>N.J. Cooper, A.J. Sutton, D. Morris, A.E. Ades, N.J. Welton (2009), <em>Addressing between-study heterogeneity and inconsistency in mixed treatment comparisons: Application to stroke prevention treatments in individuals with non-rheumatic atrial fibrillation</em>, Statistics in Medicine 28:1861-1881. <a href="https://doi.org/10.1002/sim.3594">doi:10.1002/sim.3594</a>
</p>
<p>W. Viechtbauer (2010), <em>Conducting meta-analyses in R with the metafor package</em>, Journal of Statistical Software, 36(3):1-48. <a href="https://doi.org/10.18637/jss.v036.i03">doi:10.18637/jss.v036.i03</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+network.data">network.data</a></code>, <code><a href="#topic+network.run">network.run</a></code>
</p>

<hr>
<h2 id='calculate.contrast.deviance'>Find deviance statistics such as DIC and pD.</h2><span id='topic+calculate.contrast.deviance'></span>

<h3>Description</h3>

<p>Calculates deviance statistics. This function automatically called in <code><a href="#topic+contrast.network.run">contrast.network.run</a></code> and the deviance statistics are stored after sampling is finished.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate.contrast.deviance(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate.contrast.deviance_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+contrast.network.run">contrast.network.run</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Dbar</code></td>
<td>
<p>Overall residual deviance</p>
</td></tr>
<tr><td><code>pD</code></td>
<td>
<p>Sum of leverage_arm (i.e. total leverage)</p>
</td></tr>
<tr><td><code>DIC</code></td>
<td>
<p>Deviance information criteria (sum of Dbar and pD)</p>
</td></tr>
<tr><td><code>resdev_study</code></td>
<td>
<p>Posterior mean of the residual deviance in each study</p>
</td></tr>
<tr><td><code>devtilda_study</code></td>
<td>
<p>Deviance at the posterior mean of the fitted values</p>
</td></tr>
<tr><td><code>leverage_study</code></td>
<td>
<p>Difference between resdev_study and devtilda_study for each trial</p>
</td></tr>
</table>


<h3>References</h3>

<p>A.J. Franchini, S. Dias, A.E. Ades, J.P. Jansen, N.J. Welton (2012), <em>Accounting for correlation in network meta-analysis with multi-arm trials</em>, Research Synthesis Methods 3(2):142-160. <a href="https://doi.org/10.1002/jrsm.1049">doi:10.1002/jrsm.1049</a>
</p>
<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons_contrast, {
 contrast.network.data(Outcomes, Treat, SE, na, V)
})

result &lt;- contrast.network.run(network)
calculate.contrast.deviance(result)

</code></pre>

<hr>
<h2 id='calculate.deviance'>Find deviance statistics such as DIC and pD.</h2><span id='topic+calculate.deviance'></span>

<h3>Description</h3>

<p>Calculates deviance statistics. This function automatically called in <code><a href="#topic+network.run">network.run</a></code> and the deviance statistics are stored after sampling is finished.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate.deviance(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate.deviance_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Dbar</code></td>
<td>
<p>Overall residual deviance</p>
</td></tr>
<tr><td><code>pD</code></td>
<td>
<p>Sum of leverage_arm (i.e. total leverage)</p>
</td></tr>
<tr><td><code>DIC</code></td>
<td>
<p>Deviance information criteria (sum of Dbar and pD)</p>
</td></tr>
<tr><td><code>data.points</code></td>
<td>
<p>Total number of arms in the meta analysis</p>
</td></tr>
<tr><td><code>dev_arm</code></td>
<td>
<p>Posterior mean of the residual deviance in each trial arm</p>
</td></tr>
<tr><td><code>devtilda_arm</code></td>
<td>
<p>Deviance at the posterior mean of the fitted values</p>
</td></tr>
<tr><td><code>leverage_arm</code></td>
<td>
<p>Difference between dev_arm and devtilda_arm for each trial</p>
</td></tr>
<tr><td><code>rtilda_arm</code></td>
<td>
<p>Posterior mean of the fitted value for binomial and multinomial</p>
</td></tr>
<tr><td><code>ybar_arm</code></td>
<td>
<p>Posterior mean of the fitted value for normal</p>
</td></tr>
</table>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#parkinsons
network &lt;- with(parkinsons, {
 network.data(Outcomes, Study, Treat, SE = SE, response = "normal")
})

result &lt;- network.run(network)
calculate.deviance(result)

</code></pre>

<hr>
<h2 id='cardiovascular'>Trials of low dose and high dose statins for cardiovascular disease vs. placebo</h2><span id='topic+cardiovascular'></span>

<h3>Description</h3>

<p>A dataset of 17 studies investigating dosage of statin for cardiovascular disease.
There are two treatments and a placebo. High dose statin is coded as 3, low dose statin as 2, and placebo is coded as 1 and treated as a baseline treatment.
Outcomes are reported as three mutually exclusive unordered outcomes.
First column of the outcome is the patients who are still alive (ALIVE). Second column is fatal non-cardiovascular disease (FnCVD).
And, the last column is fatal cardiovascular disease (FCVD).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cardiovascular
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, Study, and N
</p>


<h3>References</h3>

<p>C.H. Schmid, T.A. Trikalinos, I. Olkin (2014), <em>Bayesian network meta-analysis for unordered categorical outcomes with incomplete data</em>, Research Synthesis Methods 5(2):162-185. <a href="https://doi.org/10.1002/jrsm.1103">doi:10.1002/jrsm.1103</a>
</p>

<hr>
<h2 id='certolizumab'>Trials of certolizumab pegol (CZP) for the treatment of rheumatoid arthritis in patients</h2><span id='topic+certolizumab'></span>

<h3>Description</h3>

<p>A dataset of 12 trials for investigating CZP for the treatment for those who had failed on disease-modifying antirheumatic drugs, including methotrexate (MTX).
Data provides the number of patients who have improved and there are 6 different treatments with placebo. Mean disease duration (years) is provided as a covariate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>certolizumab
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, Study, N, covariate, and Treat.order
</p>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013b), <em>Heterogeneity-Subgroups, Meta-Regression, Bias, and Bias-Adjustment</em>, Medical Decision Making 33(5):618-640. <a href="https://doi.org/10.1177/0272989X13485157">doi:10.1177/0272989X13485157</a>
</p>

<hr>
<h2 id='contrast.network.data'>Make a network object for contrast-level data containing data, priors, and a JAGS model file</h2><span id='topic+contrast.network.data'></span>

<h3>Description</h3>

<p>This is similar to the function <code><a href="#topic+network.data">network.data</a></code>, except it uses contrast-level data instead of arms-level data. Contrast-level format uses treatment differences relative to the control arm.
Note that in two arm trials there is only one contrast value per trial, but in three arm trials there are two contrast values relative to the control arm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrast.network.data(
  Outcomes,
  Treat,
  SE,
  na,
  V = NULL,
  type = "random",
  rank.preference = "higher",
  mean.d = 0,
  prec.d = 1e-04,
  hy.prior = list("dunif", 0, 100)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contrast.network.data_+3A_outcomes">Outcomes</code></td>
<td>
<p>A vector of Contrast-level outcomes. Outcome is assumed to be normally distributed. If there are three arms in a trial, need to include two contrast values for that trial. See parkinsons_contrast data for an example.</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_treat">Treat</code></td>
<td>
<p>A vector of treatments for each arm. Treatments should have positive integer values starting from 1 to total number of treatments.</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_se">SE</code></td>
<td>
<p>A vector of standard error for each contrasts.</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_na">na</code></td>
<td>
<p>A vector of number of arms in each study.</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_v">V</code></td>
<td>
<p>Needed if you have multi-arm trials. Length of this vector should be number of studies. If the study is multi-arm trial, need to specify variance of the baseline treatment in that trial. Denote it with NA if the study only has two-arm trials.</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_type">type</code></td>
<td>
<p>Type of model fitted: either &quot;random&quot; for random effects model or &quot;fixed&quot; for fixed effects model. Default is &quot;random&quot;.</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_rank.preference">rank.preference</code></td>
<td>
<p>Set it equal to &quot;higher&quot; if higher values are preferred (i.e. assumes events are good). Set it equal to &quot;lower&quot; if lower values are preferred (i.e. assumes events are bad). Default is &quot;higher&quot;.</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_mean.d">mean.d</code></td>
<td>
<p>Prior mean for the relative effect</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_prec.d">prec.d</code></td>
<td>
<p>Prior precision for the relative effect</p>
</td></tr>
<tr><td><code id="contrast.network.data_+3A_hy.prior">hy.prior</code></td>
<td>
<p>Prior for the heterogeneity parameter. Supports uniform, gamma, and half normal for normal. It should be a list of length 3, where first element should be the distribution (one of dunif, dgamma, dhnorm, dwish) and the next two are the parameters associated with the distribution. For example, list(&quot;dunif&quot;, 0, 5) give uniform prior with lower bound 0 and upper bound 5 for the heterogeneity parameter.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Creates list of variables that are used to run the model using <code><a href="#topic+contrast.network.run">contrast.network.run</a></code>
</p>


<h3>References</h3>

<p>A.J. Franchini, S. Dias, A.E. Ades, J.P. Jansen, N.J. Welton (2012), <em>Accounting for correlation in network meta-analysis with multi-arm trials</em>, Research Synthesis Methods 3(2):142-160. <a href="https://doi.org/10.1002/jrsm.1049">doi:10.1002/jrsm.1049</a>
</p>
<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons_contrast, {
 contrast.network.data(Outcomes, Treat, SE, na, V)
})
</code></pre>

<hr>
<h2 id='contrast.network.deviance.plot'>Make a contrast network deviance plot</h2><span id='topic+contrast.network.deviance.plot'></span>

<h3>Description</h3>

<p>This makes a contrasrt network deviance plot which plots residual deviance (resdev_study) vs. all study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrast.network.deviance.plot(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contrast.network.deviance.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+contrast.network.run">contrast.network.run</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons_contrast, {
contrast.network.data(Outcomes, Treat, SE, na, V)
})

result &lt;- contrast.network.run(network)
contrast.network.deviance.plot(result)

</code></pre>

<hr>
<h2 id='contrast.network.leverage.plot'>Make a leverage plot</h2><span id='topic+contrast.network.leverage.plot'></span>

<h3>Description</h3>

<p>This function makes a leverage vs. square root of residual deviance plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrast.network.leverage.plot(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contrast.network.leverage.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+contrast.network.run">contrast.network.run</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons_contrast, {
contrast.network.data(Outcomes, Treat, SE, na, V)
})

result &lt;- contrast.network.run(network)
contrast.network.leverage.plot(result)

</code></pre>

<hr>
<h2 id='contrast.network.run'>Run the model using the network object</h2><span id='topic+contrast.network.run'></span>

<h3>Description</h3>

<p>This is similar to the function <code><a href="#topic+network.run">network.run</a></code>, except it uses contrast-level data instead of arms-level data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrast.network.run(
  network,
  inits = NULL,
  n.chains = 3,
  max.run = 1e+05,
  setsize = 10000,
  n.run = 50000,
  conv.limit = 1.05,
  extra.pars.save = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contrast.network.run_+3A_network">network</code></td>
<td>
<p>contrast level network object created from <code><a href="#topic+contrast.network.data">contrast.network.data</a></code> function</p>
</td></tr>
<tr><td><code id="contrast.network.run_+3A_inits">inits</code></td>
<td>
<p>Initial values for the parameters being sampled. If left unspecified, program will generate reasonable initial values.</p>
</td></tr>
<tr><td><code id="contrast.network.run_+3A_n.chains">n.chains</code></td>
<td>
<p>Number of chains to run</p>
</td></tr>
<tr><td><code id="contrast.network.run_+3A_max.run">max.run</code></td>
<td>
<p>Maximum number of iterations that user is willing to run. If the algorithm is not converging, it will run up to <code>max.run</code> iterations before printing a message that it did not converge</p>
</td></tr>
<tr><td><code id="contrast.network.run_+3A_setsize">setsize</code></td>
<td>
<p>Number of iterations that are run between convergence checks. If the algorithm converges fast, user wouldn't need a big setsize. The number that is printed between each convergence checks is the gelman-rubin diagnostics and we would want that to be below the conv.limit the user specifies.</p>
</td></tr>
<tr><td><code id="contrast.network.run_+3A_n.run">n.run</code></td>
<td>
<p>Final number of iterations that the user wants to store. If after the algorithm converges, user wants less number of iterations, we thin the sequence. If the user wants more iterations, we run extra iterations to reach the specified number of runs</p>
</td></tr>
<tr><td><code id="contrast.network.run_+3A_conv.limit">conv.limit</code></td>
<td>
<p>Convergence limit for Gelman and Rubin's convergence diagnostic. Point estimate is used to test convergence of parameters for study effect (eta), relative effect (d), and heterogeneity (log variance (logvar)).</p>
</td></tr>
<tr><td><code id="contrast.network.run_+3A_extra.pars.save">extra.pars.save</code></td>
<td>
<p>Parameters that user wants to save besides the default parameters saved. See code using <code>cat(network$code)</code> to see which parameters can be saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>data_rjags</code></td>
<td>
<p>Data that is put into rjags function jags.model</p>
</td></tr>
<tr><td><code>inits</code></td>
<td>
<p>Initial values that are either specified by the user or generated as a default</p>
</td></tr>
<tr><td><code>pars.save</code></td>
<td>
<p>Parameters that are saved. Add more parameters in extra.pars.save if other variables are desired</p>
</td></tr>
<tr><td><code>burnin</code></td>
<td>
<p>Half of the converged sequence is thrown out as a burnin</p>
</td></tr>
<tr><td><code>n.thin</code></td>
<td>
<p>If the number of iterations user wants (n.run) is less than the number of converged sequence after burnin, we thin the sequence and store the thinning interval</p>
</td></tr>
<tr><td><code>samples</code></td>
<td>
<p>MCMC samples stored using jags. The returned samples have the form of mcmc.list and can be directly applied to coda functions</p>
</td></tr>
<tr><td><code>max.gelman</code></td>
<td>
<p>Maximum Gelman and Rubin's convergence diagnostic calculated for the final sample</p>
</td></tr>
<tr><td><code>deviance</code></td>
<td>
<p>Contains deviance statistics such as pD (effective number of parameters) and DIC (Deviance Information Criterion)</p>
</td></tr>
<tr><td><code>rank.tx</code></td>
<td>
<p>Rank probability calculated for each treatments. <code>rank.preference</code> parameter in <code><a href="#topic+contrast.network.data">contrast.network.data</a></code> is used to define whether higher or lower value is preferred. The numbers are probabilities that a given treatment has been in certain rank in the sequence.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons_contrast, {
 contrast.network.data(Outcomes, Treat, SE, na, V)
})

result &lt;- contrast.network.run(network)

</code></pre>

<hr>
<h2 id='draw.network.graph'>Draws network graph using igraph package</h2><span id='topic+draw.network.graph'></span>

<h3>Description</h3>

<p>This function draws network graph using igraph package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw.network.graph(network, label.dist = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw.network.graph_+3A_network">network</code></td>
<td>
<p>Object created by <code><a href="#topic+network.data">network.data</a></code> function</p>
</td></tr>
<tr><td><code id="draw.network.graph_+3A_label.dist">label.dist</code></td>
<td>
<p>distance of the label from the node. Default is 2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#cardiovascular
network &lt;- with(thrombolytic, {
 network.data(Outcomes, Study, Treat, N=N, response = "binomial")
})
draw.network.graph(network)
</code></pre>

<hr>
<h2 id='network.autocorr.diag'>Generate autocorrelation diagnostics using coda package</h2><span id='topic+network.autocorr.diag'></span>

<h3>Description</h3>

<p>This function generates autocorrelation diagnostics using coda package. User can specify lags and parameters to display.
Note that to display extra parameters that are not saved, user needs to first specify parameters in <code>extra.pars.save</code> parameter in <code><a href="#topic+network.run">network.run</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.autocorr.diag(
  result,
  lags = c(0, 1, 5, 10, 50),
  extra.pars = NULL,
  only.pars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.autocorr.diag_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.autocorr.diag_+3A_lags">lags</code></td>
<td>
<p>A vector of lags at which to calculate the autocorrelation</p>
</td></tr>
<tr><td><code id="network.autocorr.diag_+3A_extra.pars">extra.pars</code></td>
<td>
<p>Extra parameters that the user wants to display other than the default parameters.</p>
</td></tr>
<tr><td><code id="network.autocorr.diag_+3A_only.pars">only.pars</code></td>
<td>
<p>Parameters that user wants to display. This gets rids of other default parameters user doesn't want to show.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns autocorrelation diagnostics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- network.run(network)
network.autocorr.diag(result, only.pars = "d")

</code></pre>

<hr>
<h2 id='network.autocorr.plot'>Generate autocorrelation plot using coda package</h2><span id='topic+network.autocorr.plot'></span>

<h3>Description</h3>

<p>This function plots autocorrelation using coda package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.autocorr.plot(result, extra.pars = NULL, only.pars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.autocorr.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.autocorr.plot_+3A_extra.pars">extra.pars</code></td>
<td>
<p>Extra parameters that the user wants to plot other than the default parameters.</p>
</td></tr>
<tr><td><code id="network.autocorr.plot_+3A_only.pars">only.pars</code></td>
<td>
<p>Parameters that user wants to display. This gets rids of other default parameters user doesn't want to show</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- network.run(network)
network.autocorr.plot(result)

</code></pre>

<hr>
<h2 id='network.covariate.plot'>Make a covariate plot</h2><span id='topic+network.covariate.plot'></span>

<h3>Description</h3>

<p>This function makes a covariate plot of how the relative effect changes as the covariate value changes.
User needs to specify one base treatment and one comparison treatment to make this plot (base category and comparison category is also needed for multinomial).
The function uses the <code><a href="#topic+relative.effects">relative.effects</a></code> to calculate the correct relative effect. 2.5%, median, and 97.5% C.I. are drawn.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.covariate.plot(
  result,
  base.treatment = NULL,
  comparison.treatment = NULL,
  base.category = NULL,
  comparison.category = NULL,
  covariate.name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.covariate.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.covariate.plot_+3A_base.treatment">base.treatment</code></td>
<td>
<p>Base treatment for relative effect</p>
</td></tr>
<tr><td><code id="network.covariate.plot_+3A_comparison.treatment">comparison.treatment</code></td>
<td>
<p>Treatment comparing against base treatment</p>
</td></tr>
<tr><td><code id="network.covariate.plot_+3A_base.category">base.category</code></td>
<td>
<p>Base category for multinomial data. Note that category in multinomial denotes which column it is in the Outcomes matrix. Thus, this should be a numeric value.</p>
</td></tr>
<tr><td><code id="network.covariate.plot_+3A_comparison.category">comparison.category</code></td>
<td>
<p>Comparison category for multinomial data</p>
</td></tr>
<tr><td><code id="network.covariate.plot_+3A_covariate.name">covariate.name</code></td>
<td>
<p>A vector of covariate names of the covariate that goes into x-axis label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>########### certolizumab (with covariate)
network &lt;- with(certolizumab, {
 network.data(Outcomes, Study, Treat, N=N, response="binomial", Treat.order,
 covariate = covariate, covariate.type = "continuous", hy.prior = list("dhnorm", 0, 9.77))
})

result &lt;- network.run(network)
network.covariate.plot(result, base.treatment = "Placebo", comparison.treatment = "CZP",
covariate.name = "Disease Duration")

</code></pre>

<hr>
<h2 id='network.cumrank.tx.plot'>Create a treatment cumulative rank plot</h2><span id='topic+network.cumrank.tx.plot'></span>

<h3>Description</h3>

<p>This function creates a treatment cumulative rank plot. Rank preference can be specified by the <code>rank.preference</code> parameter in <code><a href="#topic+network.data">network.data</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.cumrank.tx.plot(
  result,
  txnames = NULL,
  catnames = NULL,
  legend.position = c(1, 1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.cumrank.tx.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.cumrank.tx.plot_+3A_txnames">txnames</code></td>
<td>
<p>Treatment names used in creating legend</p>
</td></tr>
<tr><td><code id="network.cumrank.tx.plot_+3A_catnames">catnames</code></td>
<td>
<p>Category names. Only used in multinomial.</p>
</td></tr>
<tr><td><code id="network.cumrank.tx.plot_+3A_legend.position">legend.position</code></td>
<td>
<p>x, y position of the legend</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rank.tx">rank.tx</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- network.run(network)
network.cumrank.tx.plot(result, txnames = c("control", "beta blocker"))

</code></pre>

<hr>
<h2 id='network.data'>Make a network object containing data, priors, and a JAGS model file</h2><span id='topic+network.data'></span>

<h3>Description</h3>

<p>This function makes a network object that can be used to run network meta-analysis using <code><a href="#topic+network.run">network.run</a></code>.
User needs to specify Outcomes, Study, Treat, N or SE, and response.
Prior parameters are filled in automatically based on the data type if not specified.
The input data should be arm-level so that we have observations for each treatment in each study.
The input data is preprocessed to fit the format necessary to run model in JAGS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.data(
  Outcomes = NULL,
  Study = NULL,
  Treat = NULL,
  N = NULL,
  SE = NULL,
  response = NULL,
  Treat.order = NULL,
  type = "random",
  rank.preference = "higher",
  baseline = "none",
  baseline.risk = "independent",
  covariate = NULL,
  covariate.type = NULL,
  covariate.model = NULL,
  mean.d = NULL,
  prec.d = NULL,
  mean.Eta = NULL,
  prec.Eta = NULL,
  hy.prior.Eta = NULL,
  mean.bl = NULL,
  prec.bl = NULL,
  hy.prior.bl = NULL,
  mean.cov = NULL,
  prec.cov = NULL,
  hy.prior.cov = NULL,
  hy.prior = NULL,
  mean.A = NULL,
  prec.A = NULL,
  Z = NULL,
  Z_bl = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.data_+3A_outcomes">Outcomes</code></td>
<td>
<p>Arm-level outcomes. If it is a multinomial response, the matrix would have dimensions treatment arms (row) by multinomial categories (column). If it is binomial or normal, it would be a vector.</p>
</td></tr>
<tr><td><code id="network.data_+3A_study">Study</code></td>
<td>
<p>A vector of study indicator for each arm</p>
</td></tr>
<tr><td><code id="network.data_+3A_treat">Treat</code></td>
<td>
<p>A vector of treatment indicator for each arm</p>
</td></tr>
<tr><td><code id="network.data_+3A_n">N</code></td>
<td>
<p>A vector of total number of observations in each arm. Used for binomial and multinomial responses.</p>
</td></tr>
<tr><td><code id="network.data_+3A_se">SE</code></td>
<td>
<p>A vector of standard error for each arm. Used only for normal response.</p>
</td></tr>
<tr><td><code id="network.data_+3A_response">response</code></td>
<td>
<p>Specification of the outcomes type. Must specify one of the following: &quot;normal&quot;, &quot;binomial&quot;, or &quot;multinomial&quot;.</p>
</td></tr>
<tr><td><code id="network.data_+3A_treat.order">Treat.order</code></td>
<td>
<p>Treatment order which determines how treatments are compared. The first treatment that is specified is considered to be the baseline treatment. Default order is alphabetical. If the treatments are coded 1, 2, etc, then the treatment with a value of 1 would be assigned as a baseline treatment.</p>
</td></tr>
<tr><td><code id="network.data_+3A_type">type</code></td>
<td>
<p>Type of model fitted: either &quot;random&quot; for random effects model or &quot;fixed&quot; for fixed effects model. Default is &quot;random&quot;.</p>
</td></tr>
<tr><td><code id="network.data_+3A_rank.preference">rank.preference</code></td>
<td>
<p>Set it equal to &quot;higher&quot; if higher values are preferred (i.e. assumes events are good). Set it equal to &quot;lower&quot; if lower values are preferred (i.e. assumes events are bad). Default is &quot;higher&quot;.</p>
</td></tr>
<tr><td><code id="network.data_+3A_baseline">baseline</code></td>
<td>
<p>Three different assumptions for treatment x baseline risk interactions (slopes): &quot;independent&quot;, &quot;common&quot;, or &quot;exchangeable&quot;. Default is &quot;none&quot; which doesn't incorporate baseline risk.</p>
</td></tr>
<tr><td><code id="network.data_+3A_baseline.risk">baseline.risk</code></td>
<td>
<p>Two different assumptions for baseline risk: &quot;independent&quot; or &quot;exchangeable&quot;. See Achana et al. (2012) for more information about baseline risk.</p>
</td></tr>
<tr><td><code id="network.data_+3A_covariate">covariate</code></td>
<td>
<p>A covariate matrix with each row representing each trial and column representing each covariate. This is a study-level data, meaning that the user doesn't need to repeatedly specify covariates for each arm.</p>
</td></tr>
<tr><td><code id="network.data_+3A_covariate.type">covariate.type</code></td>
<td>
<p>Should be a vector indicating the type of the covariate. Covariate can be either &quot;continuous&quot; or &quot;discrete&quot;. If it continuous, covariates are centered. If the covariate is discrete it is not centered and it has to be in a dummy integer format (i.e. 0,1,2,...). The code doesn't factor the covariates for the user, so user needs to specify dummy variables if factor is needed.</p>
</td></tr>
<tr><td><code id="network.data_+3A_covariate.model">covariate.model</code></td>
<td>
<p>&quot;independent&quot; allows covariate effects for each treatment. &quot;common&quot; restricts same covariate effect for all treatment. Lastly, &quot;exchangeable&quot;  assumes that the covariate effects are different but related and strength is borrowed across them. We set &quot;common&quot; to be default. See Cooper et al. (2009) for more details on covariates.</p>
</td></tr>
<tr><td><code id="network.data_+3A_mean.d">mean.d</code></td>
<td>
<p>Prior mean for the relative effect</p>
</td></tr>
<tr><td><code id="network.data_+3A_prec.d">prec.d</code></td>
<td>
<p>Prior precision for the relative effect</p>
</td></tr>
<tr><td><code id="network.data_+3A_mean.eta">mean.Eta</code></td>
<td>
<p>Prior mean for the study effect (baseline risk)</p>
</td></tr>
<tr><td><code id="network.data_+3A_prec.eta">prec.Eta</code></td>
<td>
<p>Prior precision for the study effect (baseline risk)</p>
</td></tr>
<tr><td><code id="network.data_+3A_hy.prior.eta">hy.prior.Eta</code></td>
<td>
<p>Between treatment heterogeneity in baseline risk (for exchangeable assumption only). Format of the parameter is same as hy.prior.</p>
</td></tr>
<tr><td><code id="network.data_+3A_mean.bl">mean.bl</code></td>
<td>
<p>Prior mean for the baseline slope</p>
</td></tr>
<tr><td><code id="network.data_+3A_prec.bl">prec.bl</code></td>
<td>
<p>Prior precision for the baseline slope</p>
</td></tr>
<tr><td><code id="network.data_+3A_hy.prior.bl">hy.prior.bl</code></td>
<td>
<p>Between treatment heterogeneity in baseline slope (for exchangeable regression coefficient only). Format of the parameter is same as hy.prior.</p>
</td></tr>
<tr><td><code id="network.data_+3A_mean.cov">mean.cov</code></td>
<td>
<p>Prior mean for the covariate effect</p>
</td></tr>
<tr><td><code id="network.data_+3A_prec.cov">prec.cov</code></td>
<td>
<p>Prior precision for the covariate effect</p>
</td></tr>
<tr><td><code id="network.data_+3A_hy.prior.cov">hy.prior.cov</code></td>
<td>
<p>Between treatment heterogeneity in covariate effect (for exchangeable regression coefficient only). Format of the parameter is same as hy.prior. Default is set to be dunif(0, 5) for binary, dunif(0, 100) for normal, and wishart with identity scale matrix and (# of categories - 1) degrees of freedom for multinomial.</p>
</td></tr>
<tr><td><code id="network.data_+3A_hy.prior">hy.prior</code></td>
<td>
<p>Prior for the heterogeneity parameter. Supports uniform, gamma, and half normal for normal and binomial response and wishart for multinomial response. It should be a list of length 3, where first element should be the distribution (one of dunif, dgamma, dhnorm, dwish) and the next two are the parameters associated with the distribution. For example, list(&quot;dunif&quot;, 0, 5) give uniform prior with lower bound 0 and upper bound 5 for the heterogeneity parameter. For wishart distribution, the last two parameter would be the scale matrix and the degrees of freedom.</p>
</td></tr>
<tr><td><code id="network.data_+3A_mean.a">mean.A</code></td>
<td>
<p>Mean effect of 'standard' treatment (i.e. placebo). It is in logit scale for binomial and continuous scale for normal. For binomial outcome, this additional input is used to calculate the risk difference, relative risk, or number needed to treat. This should be informed from external evidence or can be found by meta-analyzing single proportions. For number needed to treat, we assume that events are &quot;good&quot;. Reversal of sign is needed if the events are &quot;bad&quot;.</p>
</td></tr>
<tr><td><code id="network.data_+3A_prec.a">prec.A</code></td>
<td>
<p>Precision of 'standard' treatment. Similarly, it is in logit scale for binomial and continuous scale for normal.</p>
</td></tr>
<tr><td><code id="network.data_+3A_z">Z</code></td>
<td>
<p>When calculating treatment effect on the natural scale, this is a scalar or a vector of covariates value(s) that you want to calculate treatment effect at.</p>
</td></tr>
<tr><td><code id="network.data_+3A_z_bl">Z_bl</code></td>
<td>
<p>When calculating treatment effect on the natural scale, this is a scalar of baseline risk (Eta) that you want to calculate treatment effect at.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Creates list of variables that are used to run the model using <code><a href="#topic+network.run">network.run</a></code>
</p>
<table>
<tr><td><code>data</code></td>
<td>
<p>Data combining all the input data. User can check this to insure the data is correctly specified. For modelling purposes, character valued studies or treatment variables are changed to numeric values based on alphabetical order.</p>
</td></tr>
<tr><td><code>nrow</code></td>
<td>
<p>Total number of arms in the meta-analysis</p>
</td></tr>
<tr><td><code>ncat</code></td>
<td>
<p>Number of columns in the Outcomes. Will equal 1 for binary and normal and number of categories for multinomial</p>
</td></tr>
<tr><td><code>nstudy</code></td>
<td>
<p>Number of study</p>
</td></tr>
<tr><td><code>na</code></td>
<td>
<p>Number of arms for each study</p>
</td></tr>
<tr><td><code>ntreat</code></td>
<td>
<p>Number of treatment</p>
</td></tr>
<tr><td><code>b.id</code></td>
<td>
<p>Indicator in sequence of all treatments for which treatment is base treatment in Study</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p><code>Treat</code> transformed into a matrix which has dimensions number of study by max number of arms in studies</p>
</td></tr>
<tr><td><code>r</code></td>
<td>
<p><code>Outcomes</code> made into an array that is suitable for use in rjags code. For multinomial, it has 3 dimensions: number of study by max number of arms in studies by number of categories.</p>
</td></tr>
<tr><td><code>mx</code></td>
<td>
<p>If the continuous covariate is included, it calculates the mean of the covariates which is used to center the covariates. The numeric indicator after mx refers to column number of the covariates if there are more than one covariates included. Discrete covariates are not centered.</p>
</td></tr>
<tr><td><code>mx_bl</code></td>
<td>
<p>If the baseline effect is specified, it also calculates the mean baseline risk.</p>
</td></tr>
<tr><td><code>prior.data</code></td>
<td>
<p>Prior data created using the user inputs or default values. If no user input is specifies for the prior, it uses default values.</p>
</td></tr>
<tr><td><code>code</code></td>
<td>
<p>Rjags model file code that is generated using information provided by the user. To view model file inside R in a nice format, use <code>cat(network$code).</code></p>
</td></tr>
</table>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>
<p>F.A. Achana, N.J. Cooper, S. Dias, G. Lu, S.J.C. Rice, D. Kendrick, A.J. Sutton (2012), <em>Extending methods for investigating the relationship between treatment effect and baseline risk from pairwise meta-analysis to network meta-analysis</em>, Statistics in Medicine 32(5):752-771. <a href="https://doi.org/10.1002/sim.5539">doi:10.1002/sim.5539</a>
</p>
<p>N.J. Cooper, A.J. Sutton, D. Morris, A.E. Ades, N.J. Welton (2009), <em>Addressing between-study heterogeneity and inconsistency in mixed treatment comparisons: Application to stroke prevention treatments in individuals with non-rheumatic atrial fibrillation</em>, Statistics in Medicine 28:1861-1881. <a href="https://doi.org/10.1002/sim.3594">doi:10.1002/sim.3594</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>###Blocker data example
blocker
network &lt;- with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})
network
</code></pre>

<hr>
<h2 id='network.deviance.plot'>Make a deviance plot</h2><span id='topic+network.deviance.plot'></span>

<h3>Description</h3>

<p>This makes a deviance plot which plots residual deviance (dev_arm) vs. all the arms for each study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.deviance.plot(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.deviance.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- network.run(network)
network.deviance.plot(result)

</code></pre>

<hr>
<h2 id='network.forest.plot'>Draws forest plot</h2><span id='topic+network.forest.plot'></span>

<h3>Description</h3>

<p>Draws forest plot of pooled treatment effect. Reports odds ratio for binomial and multinomial outcomes and continuous scale for normal outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.forest.plot(
  result,
  level = 0.95,
  ticks.position = NULL,
  label.multiplier = 0.2,
  label.margin = 10,
  title = "Network Meta-analysis Forest plot",
  only.reference.treatment = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.forest.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.forest.plot_+3A_level">level</code></td>
<td>
<p>Confidence level. Default is 0.95 denoting 95 percent C.I.</p>
</td></tr>
<tr><td><code id="network.forest.plot_+3A_ticks.position">ticks.position</code></td>
<td>
<p>Position of the x-axis tick marks. If left unspecified, the function tries to set it at sensible values</p>
</td></tr>
<tr><td><code id="network.forest.plot_+3A_label.multiplier">label.multiplier</code></td>
<td>
<p>This is a multiplying factor to move the position of the text associated with median[lower, upper] values. This number is multiplied by the range of x-axis and added to the x-axis limit. Default multiplier is set to 0.2.</p>
</td></tr>
<tr><td><code id="network.forest.plot_+3A_label.margin">label.margin</code></td>
<td>
<p>This is how much margin space you specify to assign space for the median[lower, upper] values. Default margin is set to 10.</p>
</td></tr>
<tr><td><code id="network.forest.plot_+3A_title">title</code></td>
<td>
<p>Header name which you can modify</p>
</td></tr>
<tr><td><code id="network.forest.plot_+3A_only.reference.treatment">only.reference.treatment</code></td>
<td>
<p>Indicator for plotting only the comparison to the reference treatment</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>References</h3>

<p>W. Viechtbauer (2010), <em>Conducting meta-analyses in R with the metafor package</em>, Journal of Statistical Software, 36(3):1-48. <a href="https://doi.org/10.18637/jss.v036.i03">doi:10.18637/jss.v036.i03</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(certolizumab, {
 network.data(Outcomes, Study, Treat, N=N, response="binomial", Treat.order,
 covariate = covariate, covariate.type = "continuous", hy.prior = list("dhnorm", 0, 9.77))
})

result &lt;- network.run(network)
network.forest.plot(result)

</code></pre>

<hr>
<h2 id='network.gelman.diag'>Use coda package to find Gelman-Rubin diagnostics</h2><span id='topic+network.gelman.diag'></span>

<h3>Description</h3>

<p>This function uses coda package to find Gelman-Rubin diagnostics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.gelman.diag(result, extra.pars = NULL, only.pars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.gelman.diag_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.gelman.diag_+3A_extra.pars">extra.pars</code></td>
<td>
<p>Extra parameters that the user wants to display other than the default parameters.</p>
</td></tr>
<tr><td><code id="network.gelman.diag_+3A_only.pars">only.pars</code></td>
<td>
<p>Parameters that user wants to display. This gets rids of other default parameters user doesn't want to show.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns gelman-rubin diagnostics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(statins, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial",
 Treat.order = c("Placebo", "Statin"), covariate = covariate, covariate.type = "discrete")
})

result &lt;- network.run(network)
network.gelman.diag(result, extra.pars = c("Eta"))

</code></pre>

<hr>
<h2 id='network.gelman.plot'>Use coda package to plot Gelman-Rubin diagnostic plot</h2><span id='topic+network.gelman.plot'></span>

<h3>Description</h3>

<p>This function plots Gelman-Rubin diagnostic using coda package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.gelman.plot(result, extra.pars = NULL, only.pars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.gelman.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.gelman.plot_+3A_extra.pars">extra.pars</code></td>
<td>
<p>Extra parameters that the user wants to plot other than the default parameters.</p>
</td></tr>
<tr><td><code id="network.gelman.plot_+3A_only.pars">only.pars</code></td>
<td>
<p>Parameters that user wants to display. This gets rids of other default parameters user doesn't want to show.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(statins, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial",
 Treat.order = c("Placebo", "Statin"), covariate = covariate, covariate.type = "discrete")
})

result &lt;- network.run(network)
network.gelman.plot(result)

</code></pre>

<hr>
<h2 id='network.inconsistency.plot'>Plotting comparison of posterior mean deviance in the consistency model and inconsistency model</h2><span id='topic+network.inconsistency.plot'></span>

<h3>Description</h3>

<p>This function compares posterior mean deviance of inconsistency model and consistency model.
Such comparison provides information that can help identify the loops in which inconsistency is present.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.inconsistency.plot(result1, result2, with.label = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.inconsistency.plot_+3A_result1">result1</code></td>
<td>
<p>consistency model result from running <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.inconsistency.plot_+3A_result2">result2</code></td>
<td>
<p>inconsistency model result from running <code><a href="#topic+ume.network.data">ume.network.data</a></code> function</p>
</td></tr>
<tr><td><code id="network.inconsistency.plot_+3A_with.label">with.label</code></td>
<td>
<p>indicator to show the study number; default is true.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function draws network graph using igraph package
</p>


<h3>Value</h3>

<p>None
</p>


<h3>References</h3>

<p>S. Dias, N.J. Welton, A.J. Sutton, D.M. Caldwell, G. Lu, and A.E. Ades (2013), <em>Evidence synthesis for decision making 4: inconsistency in networks of evidence based on randomized controlled trials</em>, Medical Decision Making 33(5):641-656. <a href="https://doi.org/10.1177/0272989X12455847">doi:10.1177/0272989X12455847</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network1 &lt;- with(smoking, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial", type = "random")
})

network2 &lt;- with(smoking, {
 ume.network.data(Outcomes, Study, Treat, N = N, response = "binomial", type = "random")
})

result1 &lt;- network.run(network1)
result2 &lt;- ume.network.run(network2)
network.inconsistency.plot(result1, result2)

</code></pre>

<hr>
<h2 id='network.leverage.plot'>Make a leverage plot</h2><span id='topic+network.leverage.plot'></span>

<h3>Description</h3>

<p>This function makes a leverage vs. square root of residual deviance plot (mean for each study)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.leverage.plot(result, per.study = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.leverage.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.leverage.plot_+3A_per.study">per.study</code></td>
<td>
<p>Indicator for using an average square root of residual deviance for each study instead of for each arm. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- network.run(network)
network.leverage.plot(result)

</code></pre>

<hr>
<h2 id='network.rank.tx.plot'>Create a treatment rank plot</h2><span id='topic+network.rank.tx.plot'></span>

<h3>Description</h3>

<p>This plot displays how each treatment is ranked. For each rank, we show how likely each treatment will be at that rank.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.rank.tx.plot(
  result,
  txnames = NULL,
  catnames = NULL,
  legend.position = c(1, 1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.rank.tx.plot_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="network.rank.tx.plot_+3A_txnames">txnames</code></td>
<td>
<p>Treatment names used in creating legend</p>
</td></tr>
<tr><td><code id="network.rank.tx.plot_+3A_catnames">catnames</code></td>
<td>
<p>Category names. Only used in multinomial.</p>
</td></tr>
<tr><td><code id="network.rank.tx.plot_+3A_legend.position">legend.position</code></td>
<td>
<p>x,y position of the legend</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rank.tx">rank.tx</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;-with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- network.run(network)
network.rank.tx.plot(result, txnames = c("a", "b"))

</code></pre>

<hr>
<h2 id='network.run'>Run the model using the network object</h2><span id='topic+network.run'></span>

<h3>Description</h3>

<p>This is the core function that runs the model in our program. Before running this function, we need to specify data, prior, JAGS code, etc. using <code><a href="#topic+network.data">network.data</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.run(
  network,
  inits = NULL,
  RNG.inits = NULL,
  n.chains = 3,
  max.run = 1e+05,
  setsize = 10000,
  n.run = 50000,
  conv.limit = 1.05,
  extra.pars.save = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="network.run_+3A_network">network</code></td>
<td>
<p>Network object created from <code><a href="#topic+network.data">network.data</a></code> function</p>
</td></tr>
<tr><td><code id="network.run_+3A_inits">inits</code></td>
<td>
<p>Initial values for the parameters being sampled. If left unspecified, program will generate reasonable initial values.</p>
</td></tr>
<tr><td><code id="network.run_+3A_rng.inits">RNG.inits</code></td>
<td>
<p>List of .RNG.name and .RNG.seed that control the JAGS RNGs. Please refer to jags.model function in rjags for more information.</p>
</td></tr>
<tr><td><code id="network.run_+3A_n.chains">n.chains</code></td>
<td>
<p>Number of chains to run</p>
</td></tr>
<tr><td><code id="network.run_+3A_max.run">max.run</code></td>
<td>
<p>Maximum number of iterations that user is willing to run. If the algorithm is not converging, it will run up to <code>max.run</code> iterations before printing a message that it did not converge</p>
</td></tr>
<tr><td><code id="network.run_+3A_setsize">setsize</code></td>
<td>
<p>Number of iterations that are run between convergence checks. If the algorithm converges fast, user wouldn't need a big setsize. The number that is printed between each convergence checks is the gelman-rubin diagnostics and we would want that to be below the conv.limit the user specifies.</p>
</td></tr>
<tr><td><code id="network.run_+3A_n.run">n.run</code></td>
<td>
<p>Final number of iterations that the user wants to store. If after the algorithm converges, user wants less number of iterations, we thin the sequence. If the user wants more iterations, we run extra iterations to reach the specified number of runs</p>
</td></tr>
<tr><td><code id="network.run_+3A_conv.limit">conv.limit</code></td>
<td>
<p>Convergence limit for Gelman and Rubin's convergence diagnostic. Point estimate is used (instead of 95 percent C.I.) to test convergence of parameters for study-specific baselines (eta), average treatment effect (d), between-study heterogeneity (log variance (logvar)), and regression parameters when covariates (beta) or baseline risk (b_bl).</p>
</td></tr>
<tr><td><code id="network.run_+3A_extra.pars.save">extra.pars.save</code></td>
<td>
<p>Parameters that user wants to save besides the default parameters saved. See code using <code>cat(network$code)</code> to see which parameters can be saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>data_rjags</code></td>
<td>
<p>Data that is put into rjags function <code>jags.model</code></p>
</td></tr>
<tr><td><code>inits</code></td>
<td>
<p>Initial values that are either specified by the user or generated as a default</p>
</td></tr>
<tr><td><code>RNG.inits</code></td>
<td>
<p>List of .RNG.name and .RNG.seed used for reproducibility</p>
</td></tr>
<tr><td><code>pars.save</code></td>
<td>
<p>Parameters that are saved. Add more parameters in extra.pars.save if other variables are desired</p>
</td></tr>
<tr><td><code>burnin</code></td>
<td>
<p>Half of the converged sequence is thrown out as a burnin</p>
</td></tr>
<tr><td><code>n.thin</code></td>
<td>
<p>If the number of iterations user wants (n.run) is less than the number of converged sequence after burnin, we thin the sequence and store the thinning interval</p>
</td></tr>
<tr><td><code>samples</code></td>
<td>
<p>MCMC samples stored using jags. The returned samples have the form of mcmc.list and can be directly applied to coda functions</p>
</td></tr>
<tr><td><code>max.gelman</code></td>
<td>
<p>Maximum Gelman and Rubin's convergence diagnostic calculated for the final sample</p>
</td></tr>
<tr><td><code>conv.save</code></td>
<td>
<p>Variables that were tested for convergence using Gelman and Rubin's diagnostic</p>
</td></tr>
<tr><td><code>deviance</code></td>
<td>
<p>Contains deviance statistics such as pD (effective number of parameters) and DIC (Deviance Information Criterion)</p>
</td></tr>
<tr><td><code>rank.tx</code></td>
<td>
<p>Rank probability calculated for each treatments. <code>rank.preference</code> parameter in <code><a href="#topic+network.data">network.data</a></code> is used to define whether higher or lower value is preferred. The numbers are probabilities that a given treatment has been in certain rank in the sequence.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>#parkinson's example (normal)
network &lt;- with(parkinsons,{
  network.data(Outcomes, Study, Treat, SE = SE, response = "normal")
})

result &lt;- network.run(network)

</code></pre>

<hr>
<h2 id='nodesplit.network.data'>Make a network object containing data, priors, and a JAGS model file</h2><span id='topic+nodesplit.network.data'></span>

<h3>Description</h3>

<p>This function makes a network object that can be used to run network meta-analysis using <code><a href="#topic+nodesplit.network.run">nodesplit.network.run</a></code>.
User needs to specify Outcomes, Study, Treat, N or SE, and response.
Prior parameters are filled in automatically based on the data type if not specified.
The input data should be arm-level so that we have observations for each treatment in each study.
The input data is preprocessed to fit the format necessary to run model in JAGS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nodesplit.network.data(
  Outcomes = NULL,
  Study = NULL,
  Treat = NULL,
  N = NULL,
  SE = NULL,
  response = NULL,
  Treat.order = NULL,
  pair = NULL,
  type = "random",
  dic = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nodesplit.network.data_+3A_outcomes">Outcomes</code></td>
<td>
<p>Arm-level outcomes. If it is a multinomial response, the matrix would have dimensions treatment arms (row) by multinomial categories (column). If it is binomial or normal, it would be a vector.</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_study">Study</code></td>
<td>
<p>A vector of study indicator for each arm</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_treat">Treat</code></td>
<td>
<p>A vector of treatment indicator for each arm</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_n">N</code></td>
<td>
<p>A vector of total number of observations in each arm. Used for binomial and multinomial responses</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_se">SE</code></td>
<td>
<p>A vector of standard error for each arm. Used only for normal response</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_response">response</code></td>
<td>
<p>Specification of the outcomes type. Must specify one of the following: &quot;normal&quot;, &quot;binomial&quot;, or &quot;multinomial&quot;</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_treat.order">Treat.order</code></td>
<td>
<p>Treatment order which determines how treatments are compared. The first treatment that is specified is considered to be the baseline treatment. Default order is alphabetical. If the treatments are coded 1, 2, etc, then the treatment with a value of 1 would be assigned as a baseline treatment.</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_pair">pair</code></td>
<td>
<p>Define a pair to split. It has to be a vector of length 2 with treatment names</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_type">type</code></td>
<td>
<p>Type of model fitted: either &quot;random&quot; for random effects model or &quot;fixed&quot; for fixed effects model. Default is &quot;random&quot;.</p>
</td></tr>
<tr><td><code id="nodesplit.network.data_+3A_dic">dic</code></td>
<td>
<p>This is an indicator for whether user wants to calculate DIC. Model stores less information if you set it to FALSE. Default is set to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Creates list of variables that are used to run the model using <code><a href="#topic+nodesplit.network.run">nodesplit.network.run</a></code>
</p>
<table>
<tr><td><code>data</code></td>
<td>
<p>Data combining all the input data. User can check this to insure the data is correctly specified. For modelling purposes, character valued studies or treatment variables are changed to numeric values based on alphabetical order.</p>
</td></tr>
<tr><td><code>nrow</code></td>
<td>
<p>Total number of arms in the meta-analysis</p>
</td></tr>
<tr><td><code>ncat</code></td>
<td>
<p>Number of columns in the Outcomes. Will equal 1 for binary and normal and number of categories for multinomial</p>
</td></tr>
<tr><td><code>nstudy</code></td>
<td>
<p>Number of study</p>
</td></tr>
<tr><td><code>na</code></td>
<td>
<p>Number of arms for each study</p>
</td></tr>
<tr><td><code>ntreat</code></td>
<td>
<p>Number of treatment</p>
</td></tr>
<tr><td><code>b.id</code></td>
<td>
<p>Indicator in sequence of all treatments for which treatment is base treatment in Study</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p><code>Treat</code> transformed into a matrix which has dimensions number of study by max number of arms in studies</p>
</td></tr>
<tr><td><code>r</code></td>
<td>
<p><code>Outcomes</code> made into an array that is suitable for use in rjags code. For multinomial, it has 3 dimensions: number of study by max number of arms in studies by number of categories.</p>
</td></tr>
<tr><td><code>code</code></td>
<td>
<p>Rjags model file code that is generated using information provided by the user. To view model file inside R in a nice format, use <code>cat(network$code).</code></p>
</td></tr>
</table>


<h3>References</h3>

<p>S. Dias, N.J. Welton, D.M. Caldwellb, A.E. Ades (2010), <em>Checking consistency in mixed treatment</em>, Statistics in Medicine 29(7-8, Sp. Iss. SI): 932-944. <a href="https://doi.org/10.1002/sim.3767">doi:10.1002/sim.3767</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>###Thrombolytic data example
network &lt;- with(thrombolytic,{
 nodesplit.network.data(Outcomes, Study, Treat, N, response = "binomial", pair = c(3,9))
})
network
</code></pre>

<hr>
<h2 id='nodesplit.network.run'>Run the model using the nodesplit network object</h2><span id='topic+nodesplit.network.run'></span>

<h3>Description</h3>

<p>This is similar to the function <code><a href="#topic+network.run">network.run</a></code>, except this is used for the nodesplitting model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nodesplit.network.run(
  network,
  inits = NULL,
  n.chains = 3,
  max.run = 1e+05,
  setsize = 10000,
  n.run = 50000,
  conv.limit = 1.05,
  extra.pars.save = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nodesplit.network.run_+3A_network">network</code></td>
<td>
<p>network object created from <code><a href="#topic+nodesplit.network.data">nodesplit.network.data</a></code> function</p>
</td></tr>
<tr><td><code id="nodesplit.network.run_+3A_inits">inits</code></td>
<td>
<p>Initial values for the parameters being sampled. If left unspecified, program will generate reasonable initial values.</p>
</td></tr>
<tr><td><code id="nodesplit.network.run_+3A_n.chains">n.chains</code></td>
<td>
<p>Number of chains to run</p>
</td></tr>
<tr><td><code id="nodesplit.network.run_+3A_max.run">max.run</code></td>
<td>
<p>Maximum number of iterations that user is willing to run. If the algorithm is not converging, it will run up to <code>max.run</code> iterations before printing a message that it did not converge</p>
</td></tr>
<tr><td><code id="nodesplit.network.run_+3A_setsize">setsize</code></td>
<td>
<p>Number of iterations that are run between convergence checks. If the algorithm converges fast, user wouldn't need a big setsize. The number that is printed between each convergence checks is the gelman-rubin diagnostics and we would want that to be below the conv.limit the user specifies.</p>
</td></tr>
<tr><td><code id="nodesplit.network.run_+3A_n.run">n.run</code></td>
<td>
<p>Final number of iterations that the user wants to store. If after the algorithm converges, user wants less number of iterations, we thin the sequence. If the user wants more iterations, we run extra iterations to reach the specified number of runs</p>
</td></tr>
<tr><td><code id="nodesplit.network.run_+3A_conv.limit">conv.limit</code></td>
<td>
<p>Convergence limit for Gelman and Rubin's convergence diagnostic. Point estimate is used to test convergence of parameters for study effect (eta), relative effect (d), and heterogeneity (log variance (logvar)).</p>
</td></tr>
<tr><td><code id="nodesplit.network.run_+3A_extra.pars.save">extra.pars.save</code></td>
<td>
<p>Parameters that user wants to save besides the default parameters saved. See code using <code>cat(network$code)</code> to see which parameters can be saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>data_rjags</code></td>
<td>
<p>Data that is put into rjags function jags.model</p>
</td></tr>
<tr><td><code>inits</code></td>
<td>
<p>Initial values that are either specified by the user or generated as a default</p>
</td></tr>
<tr><td><code>pars.save</code></td>
<td>
<p>Parameters that are saved. Add more parameters in extra.pars.save if other variables are desired</p>
</td></tr>
<tr><td><code>burnin</code></td>
<td>
<p>Half of the converged sequence is thrown out as a burnin</p>
</td></tr>
<tr><td><code>n.thin</code></td>
<td>
<p>If the number of iterations user wants (n.run) is less than the number of converged sequence after burnin, we thin the sequence and store the thinning interval</p>
</td></tr>
<tr><td><code>samples</code></td>
<td>
<p>MCMC samples stored using jags. The returned samples have the form of mcmc.list and can be directly applied to coda functions</p>
</td></tr>
<tr><td><code>max.gelman</code></td>
<td>
<p>Maximum Gelman and Rubin's convergence diagnostic calculated for the final sample</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>###Thrombolytic data example
network &lt;- with(thrombolytic,{
 nodesplit.network.data(Outcomes, Study, Treat, N, response = "binomial", pair = c(3,9))
})

result &lt;- nodesplit.network.run(network)

</code></pre>

<hr>
<h2 id='parkinsons'>Dopamine agonists as adjunct therapy in Parkinson's disease</h2><span id='topic+parkinsons'></span>

<h3>Description</h3>

<p>A dataset of 7 studies investigating the mean lost work-time reduction in patients given
4 dopamine agonists and placebo as adjunct therapy for Parkinson's disease.
There is placebo and four active drugs coded 2 to 5.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parkinsons
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, Study, N, covariate, and Treat.order
</p>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>

<hr>
<h2 id='parkinsons_contrast'>Dopamine agonists as adjunct therapy in Parkinson's disease</h2><span id='topic+parkinsons_contrast'></span>

<h3>Description</h3>

<p>A contrast level (i.e. treatment difference) dataset of 7 studies investigating the mean lost work-time reduction in patients given
4 dopamine agonists and placebo as adjunct therapy for Parkinson's disease. Placebo is coded as 1, and four active drugs are coded 2 to 5.
There is placebo, coded as 1, and four active drugs coded 2 to 5.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parkinsons_contrast
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, SE, na, and V
</p>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>

<hr>
<h2 id='plot.contrast.network.result'>Plot traceplot and posterior density of the result using contrast data</h2><span id='topic+plot.contrast.network.result'></span>

<h3>Description</h3>

<p>This function uses plotting function in coda package to plot mcmc.list object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'contrast.network.result'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.contrast.network.result_+3A_x">x</code></td>
<td>
<p>Result object created by <code><a href="#topic+contrast.network.run">contrast.network.run</a></code> function</p>
</td></tr>
<tr><td><code id="plot.contrast.network.result_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons_contrast, {
 contrast.network.data(Outcomes, Treat, SE, na, V)
})

result &lt;- contrast.network.run(network)
plot(result)

</code></pre>

<hr>
<h2 id='plot.network.result'>Plot traceplot and posterior density of the result</h2><span id='topic+plot.network.result'></span>

<h3>Description</h3>

<p>This function uses plotting function in coda package to plot mcmc.list object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'network.result'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.network.result_+3A_x">x</code></td>
<td>
<p>Result object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="plot.network.result_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(statins, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial",
 Treat.order = c("Placebo", "Statin"), covariate = covariate, covariate.type = "discrete")
})

result &lt;- network.run(network)
plot(result, only.pars = "sd")

</code></pre>

<hr>
<h2 id='plot.ume.network.result'>Plot traceplot and posterior density of the result using contrast data</h2><span id='topic+plot.ume.network.result'></span>

<h3>Description</h3>

<p>This function uses plotting function in coda package to plot mcmc.list object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ume.network.result'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.ume.network.result_+3A_x">x</code></td>
<td>
<p>Result object created by <code><a href="#topic+ume.network.run">ume.network.run</a></code> function</p>
</td></tr>
<tr><td><code id="plot.ume.network.result_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(smoking, {
 ume.network.data(Outcomes, Study, Treat, N = N, response = "binomial", type = "random")
})

result &lt;- ume.network.run(network)
plot(result)

</code></pre>

<hr>
<h2 id='rank.tx'>Create a treatment rank table</h2><span id='topic+rank.tx'></span>

<h3>Description</h3>

<p>This function makes a table of ranking for each treament. Each number in the cell represents a probability certain treatment was in such rank.
This table is also stored as an output from <code><a href="#topic+network.run">network.run</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rank.tx(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rank.tx_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a table of ranking
</p>


<h3>See Also</h3>

<p><code><a href="#topic+network.rank.tx.plot">network.rank.tx.plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(blocker, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- network.run(network)
rank.tx(result)

</code></pre>

<hr>
<h2 id='relative.effects'>Find relative effects for base treatment and comparison treatments</h2><span id='topic+relative.effects'></span>

<h3>Description</h3>

<p>This function calculates relative effects for base treatment and comparison treatments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>relative.effects(
  result,
  base.treatment = NULL,
  comparison.treatments = NULL,
  base.category = NULL,
  comparison.categories = NULL,
  covariate = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="relative.effects_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="relative.effects_+3A_base.treatment">base.treatment</code></td>
<td>
<p>Base treatment user wants for the relative effects. Base treatment is initially set by <code>Treat.order</code> parameter in <code><a href="#topic+network.data">network.data</a></code> (first one in the list). If set to null, default is to use base treatment.</p>
</td></tr>
<tr><td><code id="relative.effects_+3A_comparison.treatments">comparison.treatments</code></td>
<td>
<p>Treatments that user wants to compare against base treatment. If set to null, all the treatments besides base treatment is considered as comparison treatments.</p>
</td></tr>
<tr><td><code id="relative.effects_+3A_base.category">base.category</code></td>
<td>
<p>Base category user wants for the relative effects. Only used for multinomial data.</p>
</td></tr>
<tr><td><code id="relative.effects_+3A_comparison.categories">comparison.categories</code></td>
<td>
<p>Category that user wants to compare against base.category. Only used for multinomial data.</p>
</td></tr>
<tr><td><code id="relative.effects_+3A_covariate">covariate</code></td>
<td>
<p>Covariate value at which to compute relative effects. Only used if covariate value is specified in the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This returns a mcmc.list sample of relative effects for the base treatment specified. This allows user to obtain relative effects of different base.treatment after the sampling has been done.
For a simple summary, use <code><a href="#topic+relative.effects.table">relative.effects.table</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+relative.effects.table">relative.effects.table</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons, {
 network.data(Outcomes, Study, Treat, SE = SE, response = "normal")
})

result &lt;- network.run(network)
summary(relative.effects(result, base.treatment = "Placebo"))

</code></pre>

<hr>
<h2 id='relative.effects.table'>Make a summary table for relative effects</h2><span id='topic+relative.effects.table'></span>

<h3>Description</h3>

<p>This function creates a summary table of relative effects. Relative effects are in units of log odds ratio for binomial and multinomial data and real number scale for normal data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>relative.effects.table(
  result,
  summary_stat = "mean",
  probs = NULL,
  base.category = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="relative.effects.table_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="relative.effects.table_+3A_summary_stat">summary_stat</code></td>
<td>
<p>Specifies what type of statistics user wants. Options are: &quot;mean&quot;, &quot;ci&quot;, &quot;quantile&quot;, &quot;sd&quot;, &quot;p-value&quot;.
&quot;ci&quot; gives 95
&quot;p-value&quot; is the probability relative effect (in binomial, log odds ratio) is less than 0.</p>
</td></tr>
<tr><td><code id="relative.effects.table_+3A_probs">probs</code></td>
<td>
<p>Used only for the quantile summary. Specifies which quantile user wants the summary of (should be one numeric value between 0 to 1)</p>
</td></tr>
<tr><td><code id="relative.effects.table_+3A_base.category">base.category</code></td>
<td>
<p>Specifies for which base category user wants for the summary. Used only for multinoimal.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns relative effects table
</p>


<h3>See Also</h3>

<p><code><a href="#topic+relative.effects">relative.effects</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#cardiovascular
network &lt;- with(cardiovascular,{
 network.data(Outcomes, Study, Treat, N, response = "multinomial")
})

result &lt;- network.run(network)
exp(relative.effects.table(result)) #look at odds ratio instead of log odds ratio

</code></pre>

<hr>
<h2 id='smoking'>Smoking cessation counseling programs</h2><span id='topic+smoking'></span>

<h3>Description</h3>

<p>Twenty-four studies, including 2 three-arm trials, compared 4 smoking cessation counseling programs and recorded the number of
individuals with successful smoking cessation at 6 to 12 month. Counseling programs include 1 = no intervention, 2 = self-help,
3 = individual counseling, and 4 = group counseling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smoking
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, Study, and N
</p>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>

<hr>
<h2 id='statins'>Trials of statins for cholesterol lowering vs. placebo or usual care</h2><span id='topic+statins'></span>

<h3>Description</h3>

<p>A dataset of 19 trials of statins for cholesterol lowering vs. placebo.
Each trial has a subgroup indicator for primary prevention (patients included had no previous heart disease) or
secondary prevention (patients had previous heart disease). Dummy variable is coded such that covariate is equal to 1
if a study is a secondary prevention study and 0 if a study is a primary prevention study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>statins
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, Study, N, covariate, and Treat.order
</p>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013b), <em>Heterogeneity-Subgroups, Meta-Regression, Bias, and Bias-Adjustment</em>, Medical Decision Making 33(5):618-640. <a href="https://doi.org/10.1177/0272989X13485157">doi:10.1177/0272989X13485157</a>
</p>

<hr>
<h2 id='sucra'>Calculate SUCRA</h2><span id='topic+sucra'></span>

<h3>Description</h3>

<p>SUCRA is the surface under the cumulative ranking distribution defined in Salanti et al. (2011)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sucra(result, txnames = NULL, catnames = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sucra_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="sucra_+3A_txnames">txnames</code></td>
<td>
<p>Treatment names used in creating legend</p>
</td></tr>
<tr><td><code id="sucra_+3A_catnames">catnames</code></td>
<td>
<p>Category names. Only used in multinomial.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns SUCRA for each treatment
</p>


<h3>References</h3>

<p>G. Salanti, A.E. Ades, J.P.A. Ioannidisa (2011), <em>Graphical methods and numerical summaries for presenting results from multiple-treatment meta-analysis: an overview and tutorial</em>, Journal of Clinical Epidemiology 64(2):163-71. <a href="https://doi.org/10.1016/j.jclinepi.2010.03.016">doi:10.1016/j.jclinepi.2010.03.016</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rank.tx">rank.tx</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>########### certolizumab (with baseline risk)
network &lt;- with(certolizumab, {
 network.data(Outcomes, Study, Treat, N=N, response = "binomial", Treat.order,
 baseline = "common", hy.prior = list("dhnorm", 0, 9.77))
})

result &lt;- network.run(network)
sucra(result)

</code></pre>

<hr>
<h2 id='summary.contrast.network.result'>Summarize result run by <code><a href="#topic+contrast.network.run">contrast.network.run</a></code></h2><span id='topic+summary.contrast.network.result'></span>

<h3>Description</h3>

<p>This function uses summary function in coda package to summarize mcmc.list object. Monte carlo error (Time-series SE) is also obtained using the coda package and is printed in the summary as a default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'contrast.network.result'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.contrast.network.result_+3A_object">object</code></td>
<td>
<p>Result object created by <code><a href="#topic+contrast.network.run">contrast.network.run</a></code> function</p>
</td></tr>
<tr><td><code id="summary.contrast.network.result_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns summary of the contrast network model result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(parkinsons_contrast, {
 contrast.network.data(Outcomes, Treat, SE, na, V)
})

result &lt;- contrast.network.run(network)
summary(result)

</code></pre>

<hr>
<h2 id='summary.network.result'>Summarize result run by <code><a href="#topic+network.run">network.run</a></code></h2><span id='topic+summary.network.result'></span>

<h3>Description</h3>

<p>This function uses summary function in coda package to summarize mcmc.list object. Monte carlo error (Time-series SE) is also obtained using the coda package and is printed in the summary as a default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'network.result'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.network.result_+3A_object">object</code></td>
<td>
<p>Result object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
<tr><td><code id="summary.network.result_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns summary of the network model result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(statins, {
 network.data(Outcomes, Study, Treat, N = N, response = "binomial",
 Treat.order = c("Placebo", "Statin"), covariate = covariate, covariate.type = "discrete")
})

result &lt;- network.run(network)
summary(result)

</code></pre>

<hr>
<h2 id='summary.nodesplit.network.result'>Summarize result run by <code><a href="#topic+nodesplit.network.run">nodesplit.network.run</a></code></h2><span id='topic+summary.nodesplit.network.result'></span>

<h3>Description</h3>

<p>This function uses summary function in coda package to summarize mcmc.list object. Monte carlo error (Time-series SE) is also obtained using the coda package and is printed in the summary as a default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'nodesplit.network.result'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.nodesplit.network.result_+3A_object">object</code></td>
<td>
<p>Result object created by <code><a href="#topic+nodesplit.network.run">nodesplit.network.run</a></code> function</p>
</td></tr>
<tr><td><code id="summary.nodesplit.network.result_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns summary of the nodesplit network model result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>###Parkinsons data example
network &lt;- with(parkinsons, {
 nodesplit.network.data(Outcomes, Study, Treat, SE = SE, response = "normal", 
 Treat.order = Treat.order, pair = c("Placebo", "Ropinirole"))
})

result &lt;- nodesplit.network.run(network)
summary(result)

</code></pre>

<hr>
<h2 id='summary.ume.network.result'>Summarize result run by <code><a href="#topic+ume.network.run">ume.network.run</a></code></h2><span id='topic+summary.ume.network.result'></span>

<h3>Description</h3>

<p>This function uses summary function in coda package to summarize mcmc.list object. Monte carlo error (Time-series SE) is also obtained using the coda package and is printed in the summary as a default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ume.network.result'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ume.network.result_+3A_object">object</code></td>
<td>
<p>Result object created by <code><a href="#topic+ume.network.run">ume.network.run</a></code> function</p>
</td></tr>
<tr><td><code id="summary.ume.network.result_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns summary of the ume network model result
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(smoking, {
 ume.network.data(Outcomes, Study, Treat, N = N, response = "binomial", type = "random")
})

result &lt;- ume.network.run(network) 
summary(result)

</code></pre>

<hr>
<h2 id='thrombolytic'>Thrombolytic drugs and percutaneous transluminal coronary angioplasty</h2><span id='topic+thrombolytic'></span>

<h3>Description</h3>

<p>A dataset consisting of 50 trials comparing 8 thrombolytic drugs and percutaneous transluminal coronary angioplasty, following
acute myocardial infarction. Data consist of the number of deaths in 30 or 35 days and the number of patients in each treatment arm.
There are 9 treatments in total: streptokinase (1), alteplase (2), accelerated alteplase (3), streptokinase + alteplase (4),
reteplase (5), tenecteplase (6), percutaneous transluminal coronary angioplasty (7), urokinase (8), anistreptilase (9)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thrombolytic
</code></pre>


<h3>Format</h3>

<p>A list of Outcomes, Treat, Study, and N
</p>


<h3>References</h3>

<p>S. Dias, A.J. Sutton, A.E. Ades, and N.J. Welton (2013a), <em>A Generalized Linear Modeling Framework for Pairwise and Network Meta-analysis of Randomized Controlled Trials</em>, Medical Decision Making 33(5):607-617. <a href="https://doi.org/10.1177/0272989X12458724">doi:10.1177/0272989X12458724</a>
</p>

<hr>
<h2 id='ume.network.data'>Make a network object for the unrelated mean effects model (inconsistency model) containing data, priors, and a JAGS model file</h2><span id='topic+ume.network.data'></span>

<h3>Description</h3>

<p>This is similar to the function <code><a href="#topic+network.data">network.data</a></code>, except this is used for the unrelated mean effects model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ume.network.data(
  Outcomes,
  Study,
  Treat,
  N = NULL,
  SE = NULL,
  response = NULL,
  Treat.order = NULL,
  type = "random",
  mean.mu = NULL,
  prec.mu = NULL,
  mean.d = NULL,
  prec.d = NULL,
  hy.prior = list("dunif", 0, 5),
  dic = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ume.network.data_+3A_outcomes">Outcomes</code></td>
<td>
<p>Arm-level outcomes. If it is a multinomial response, the matrix would be arms (row) by multinomial categories (column). If it is binomial or normal, it would be a vector.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_study">Study</code></td>
<td>
<p>A vector of study indicator for each arm</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_treat">Treat</code></td>
<td>
<p>A vector of treatment indicator for each arm. Treatments should have positive integer values starting from 1 to total number of treatments. In a study, lowest number is taken as the baseline treatment.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_n">N</code></td>
<td>
<p>A vector of total number of observations in each arm. Used for binomial and multinomial responses.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_se">SE</code></td>
<td>
<p>A vector of standard error for each arm. Used only for normal response.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_response">response</code></td>
<td>
<p>Specification of the outcomes type. Must specify one of the following: &quot;normal&quot;, &quot;binomial&quot;, or &quot;multinomial&quot;.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_treat.order">Treat.order</code></td>
<td>
<p>Treatment order which determines how treatments are compared. The first treatment that is specified is considered to be the baseline treatment. Default order is alphabetical. If the treatments are coded 1, 2, etc, then the treatment with a value of 1 would be assigned as a baseline treatment.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_type">type</code></td>
<td>
<p>Type of model fitted: either &quot;random&quot; for random effects model or &quot;fixed&quot; for fixed effects model. Default is &quot;random&quot;.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_mean.mu">mean.mu</code></td>
<td>
<p>Prior mean for the study effect (baseline risk)</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_prec.mu">prec.mu</code></td>
<td>
<p>Prior precision for the study effect (baseline risk)</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_mean.d">mean.d</code></td>
<td>
<p>Prior mean for the relative effect</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_prec.d">prec.d</code></td>
<td>
<p>Prior precision for the relative effect</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_hy.prior">hy.prior</code></td>
<td>
<p>Prior for the heterogeneity parameter. Supports uniform, gamma, and half normal for normal. It should be a list of length 3, where first element should be the distribution (one of dunif, dgamma, dhnorm, dwish) and the next two are the parameters associated with the distribution. For example, list(&quot;dunif&quot;, 0, 5) give uniform prior with lower bound 0 and upper bound 5 for the heterogeneity parameter.</p>
</td></tr>
<tr><td><code id="ume.network.data_+3A_dic">dic</code></td>
<td>
<p>This is an indicator for whether user wants to calculate DIC. Model stores less information if you set it to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Creates list of variables that are used to run the model using <code><a href="#topic+ume.network.run">ume.network.run</a></code>
</p>
<table>
<tr><td><code>r</code></td>
<td>
<p><code>Outcomes</code> made into an array that is suitable for use in rjags code. For multinomial, it has 3 dimensions: number of study by max number of arms in studies by number of categories.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p><code>Treat</code> transformed into a matrix which has dimensions number of study by max number of arms in studies</p>
</td></tr>
<tr><td><code>nstudy</code></td>
<td>
<p>Number of study</p>
</td></tr>
<tr><td><code>na</code></td>
<td>
<p>Number of arms for each study</p>
</td></tr>
<tr><td><code>ntreat</code></td>
<td>
<p>Number of treatment</p>
</td></tr>
<tr><td><code>b.id</code></td>
<td>
<p>Indicator in sequence of all treatments for which treatment is base treatment in Study</p>
</td></tr>
<tr><td><code>code</code></td>
<td>
<p>Rjags model file code that is generated using information provided by the user. To view model file inside R in a nice format, use <code>cat(network$code).</code></p>
</td></tr>
</table>


<h3>References</h3>

<p>S. Dias, N.J. Welton, A.J. Sutton, D.M. Caldwell, G. Lu, and A.E. Ades (2013), <em>Evidence synthesis for decision making 4: inconsistency in networks of evidence based on randomized controlled trials</em>, Medical Decision Making 33(5):641-656. <a href="https://doi.org/10.1177/0272989X12455847">doi:10.1177/0272989X12455847</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(thrombolytic, {
 ume.network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})
network
</code></pre>

<hr>
<h2 id='ume.network.run'>Run the model using the network object</h2><span id='topic+ume.network.run'></span>

<h3>Description</h3>

<p>This is similar to the function <code><a href="#topic+network.run">network.run</a></code>, except this is used for the unrelated mean effects model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ume.network.run(
  network,
  inits = NULL,
  n.chains = 3,
  max.run = 1e+05,
  setsize = 10000,
  n.run = 50000,
  conv.limit = 1.05,
  extra.pars.save = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ume.network.run_+3A_network">network</code></td>
<td>
<p>network object created from <code><a href="#topic+ume.network.data">ume.network.data</a></code> function</p>
</td></tr>
<tr><td><code id="ume.network.run_+3A_inits">inits</code></td>
<td>
<p>Initial values for the parameters being sampled. If left unspecified, program will generate reasonable initial values.</p>
</td></tr>
<tr><td><code id="ume.network.run_+3A_n.chains">n.chains</code></td>
<td>
<p>Number of chains to run</p>
</td></tr>
<tr><td><code id="ume.network.run_+3A_max.run">max.run</code></td>
<td>
<p>Maximum number of iterations that user is willing to run. If the algorithm is not converging, it will run up to <code>max.run</code> iterations before printing a message that it did not converge</p>
</td></tr>
<tr><td><code id="ume.network.run_+3A_setsize">setsize</code></td>
<td>
<p>Number of iterations that are run between convergence checks. If the algorithm converges fast, user wouldn't need a big setsize. The number that is printed between each convergence checks is the gelman-rubin diagnostics and we would want that to be below the conv.limit the user specifies.</p>
</td></tr>
<tr><td><code id="ume.network.run_+3A_n.run">n.run</code></td>
<td>
<p>Final number of iterations that the user wants to store. If after the algorithm converges, user wants less number of iterations, we thin the sequence. If the user wants more iterations, we run extra iterations to reach the specified number of runs</p>
</td></tr>
<tr><td><code id="ume.network.run_+3A_conv.limit">conv.limit</code></td>
<td>
<p>Convergence limit for Gelman and Rubin's convergence diagnostic. Point estimate is used to test convergence of parameters for study effect (eta), relative effect (d), and heterogeneity (log variance (logvar)).</p>
</td></tr>
<tr><td><code id="ume.network.run_+3A_extra.pars.save">extra.pars.save</code></td>
<td>
<p>Parameters that user wants to save besides the default parameters saved. See code using <code>cat(network$code)</code> to see which parameters can be saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>data_rjags</code></td>
<td>
<p>Data that is put into rjags function jags.model</p>
</td></tr>
<tr><td><code>inits</code></td>
<td>
<p>Initial values that are either specified by the user or generated as a default</p>
</td></tr>
<tr><td><code>pars.save</code></td>
<td>
<p>Parameters that are saved. Add more parameters in extra.pars.save if other variables are desired</p>
</td></tr>
<tr><td><code>burnin</code></td>
<td>
<p>Half of the converged sequence is thrown out as a burnin</p>
</td></tr>
<tr><td><code>n.thin</code></td>
<td>
<p>If the number of iterations user wants (n.run) is less than the number of converged sequence after burnin, we thin the sequence and store the thinning interval</p>
</td></tr>
<tr><td><code>samples</code></td>
<td>
<p>MCMC samples stored using jags. The returned samples have the form of mcmc.list and can be directly applied to coda functions</p>
</td></tr>
<tr><td><code>max.gelman</code></td>
<td>
<p>Maximum Gelman and Rubin's convergence diagnostic calculated for the final sample</p>
</td></tr>
<tr><td><code>deviance</code></td>
<td>
<p>Contains deviance statistics such as pD (effective number of parameters) and DIC (Deviance Information Criterion)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>network &lt;- with(thrombolytic, {
 ume.network.data(Outcomes, Study, Treat, N = N, response = "binomial")
})

result &lt;- ume.network.run(network, n.run = 10000)

</code></pre>

<hr>
<h2 id='variance.tx.effects'>Calculate correlation matrix for multinomial heterogeneity parameter.</h2><span id='topic+variance.tx.effects'></span>

<h3>Description</h3>

<p>This function calculates correlation matrix from the variance matrix for heterogeneity parameter. Only used for multinomial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variance.tx.effects(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variance.tx.effects_+3A_result">result</code></td>
<td>
<p>Object created by <code><a href="#topic+network.run">network.run</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns correlation matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#cardiovascular
network &lt;- with(cardiovascular, {
 network.data(Outcomes, Study, Treat, N, response = "multinomial")
})

result &lt;- network.run(network)
variance.tx.effects(result)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

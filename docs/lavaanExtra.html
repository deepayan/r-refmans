<!DOCTYPE html><html><head><title>Help for package lavaanExtra</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lavaanExtra}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cfa_fit_plot'><p>Fit and plot CFA simultaneously</p></a></li>
<li><a href='#lavaan_cov'><p>Extract relevant covariance/correlation indices from lavaan model</p></a></li>
<li><a href='#lavaan_defined'><p>Extract relevant user-defined parameter (e.g., indirect or total</p>
effects) indices from lavaan model</a></li>
<li><a href='#lavaan_extract'><p>Extract relevant indices from lavaan model based on specified operator</p></a></li>
<li><a href='#lavaan_reg'><p>Extract relevant regression indices from lavaan model</p></a></li>
<li><a href='#lavaan_var'><p>Extract relevant variance indices from lavaan model</p></a></li>
<li><a href='#lavaanExtra-package'><p>lavaanExtra: Convenience Functions for Package 'lavaan'</p></a></li>
<li><a href='#nice_fit'><p>Extract relevant fit indices from lavaan model</p></a></li>
<li><a href='#nice_lavaanPlot'><p>Make a quick <code>lavaanPlot</code></p></a></li>
<li><a href='#nice_modindices'><p>Extract relevant modification indices along item labels</p></a></li>
<li><a href='#nice_tidySEM'><p>Make a quick <code>tidySEM</code> plot</p></a></li>
<li><a href='#write_lavaan'><p>Vector-based lavaan syntax interpreter</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Convenience Functions for Package 'lavaan'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-15</td>
</tr>
<tr>
<td>Description:</td>
<td>Affords an alternative, vector-based syntax to 'lavaan', as well as other 
             convenience functions such as naming paths and defining indirect
             links automatically, in addition to convenience formatting optimized
             for a publication and script sharing workflow.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://lavaanExtra.remi-theriault.com">https://lavaanExtra.remi-theriault.com</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rempsyc/lavaanExtra/issues">https://github.com/rempsyc/lavaanExtra/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>lavaan, insight</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rempsyc (&gt; 0.1.6), flextable, lavaanPlot, DiagrammeRsvg,
rsvg, png, webshot, tidySEM, tmvnsim, knitr, tibble,
sjlabelled, stringdist, psych, testthat (&ge; 3.0.0), rmarkdown,
markdown, covr, spelling</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3.9000</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-15 15:22:51 UTC; there</td>
</tr>
<tr>
<td>Author:</td>
<td>Rémi Thériault <a href="https://orcid.org/0000-0003-4315-6788"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rémi Thériault &lt;remi.theriault@mail.mcgill.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-15 15:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cfa_fit_plot'>Fit and plot CFA simultaneously</h2><span id='topic+cfa_fit_plot'></span>

<h3>Description</h3>

<p>Prints and saves CFA fit, as well as plots CFA factor loadings,
simultaneously.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfa_fit_plot(
  model,
  data,
  covs = FALSE,
  estimator = "MLR",
  remove.items = "",
  print = TRUE,
  save.as.pdf = FALSE,
  file.name,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cfa_fit_plot_+3A_model">model</code></td>
<td>
<p>CFA model to fit.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_data">data</code></td>
<td>
<p>Data set on which to fit the CFA model.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_covs">covs</code></td>
<td>
<p>Logical, whether to include covariances on the lavaan plot.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_estimator">estimator</code></td>
<td>
<p>What estimator to use for the CFA.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_remove.items">remove.items</code></td>
<td>
<p>Optional, if one wants to remove items from the CFA model
without having to redefine it completely again.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_print">print</code></td>
<td>
<p>Logical, whether to print model summary to console.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_save.as.pdf">save.as.pdf</code></td>
<td>
<p>Logical, whether to save as PDF for a high-resolution,
scalable vector graphic quality plot. Defaults to
saving to the &quot;/model&quot; subfolder of the working
directory. If it doesn't exist, it creates it. Then
automatically open the created PDF in the default
browser. Defaults to false.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_file.name">file.name</code></td>
<td>
<p>Optional (when <code>save.as.pdf</code> is set to <code>TRUE</code>), if one
wants something different than the default file name.
It saves to pdf per default, so the .pdf extension
should not be specified as it will add it automatically.</p>
</td></tr>
<tr><td><code id="cfa_fit_plot_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to function <a href="lavaan.html#topic+cfa">lavaan::cfa</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a <code>lavaan</code> fit object. However, it also: prints
a summary of the <code>lavaan</code> fit object to the console, and; prints a
<code>lavaanPlot</code> of the <code>lavaan</code> fit object.
</p>


<h3>Illustrations</h3>


<p><img src="../help/figures/cfaplot.png" width="400" alt="cfaplot.png" />

</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

HS.model &lt;- write_lavaan(latent = latent)
cat(HS.model)

library(lavaan)
fit &lt;- cfa_fit_plot(HS.model, HolzingerSwineford1939)

</code></pre>

<hr>
<h2 id='lavaan_cov'>Extract relevant covariance/correlation indices from lavaan model</h2><span id='topic+lavaan_cov'></span><span id='topic+lavaan_cor'></span>

<h3>Description</h3>

<p>Extract relevant covariance/correlation indices from lavaan
<a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates</a> and <a href="lavaan.html#topic+standardizedSolution">lavaan::standardizedsolution</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lavaan_cov(fit, nice_table = FALSE, ...)

lavaan_cor(fit, nice_table = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lavaan_cov_+3A_fit">fit</code></td>
<td>
<p>lavaan fit object to extract covariance indices from</p>
</td></tr>
<tr><td><code id="lavaan_cov_+3A_nice_table">nice_table</code></td>
<td>
<p>Logical, whether to print the table as a
<a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a> as well as print the
reference values at the bottom of the table.</p>
</td></tr>
<tr><td><code id="lavaan_cov_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of covariances/correlation, including the covaried
variables, the covariance/correlation, and corresponding p-value.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>lavaan_cor()</code>: Shortcut for <code>lavaan_cov(fit, estimate = "r")</code>
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

(regression &lt;- list(
  ageyr = c("visual", "textual", "speed"),
  grade = c("visual", "textual", "speed")
))

(covariance &lt;- list(speed = "textual", ageyr = "grade"))

HS.model &lt;- write_lavaan(
  regression = regression, covariance = covariance,
  latent = latent, label = TRUE
)
cat(HS.model)

library(lavaan)
fit &lt;- sem(HS.model, data = HolzingerSwineford1939)
lavaan_cov(fit)

</code></pre>

<hr>
<h2 id='lavaan_defined'>Extract relevant user-defined parameter (e.g., indirect or total
effects) indices from lavaan model</h2><span id='topic+lavaan_defined'></span><span id='topic+lavaan_ind'></span>

<h3>Description</h3>

<p>Extract relevant user-defined parameters (e.g., indirect or
total effects) indices from lavaan model through
<a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates</a> and <a href="lavaan.html#topic+standardizedSolution">lavaan::standardizedsolution</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lavaan_defined(
  fit,
  underscores_to_symbol = "→",
  lhs_name = "User-Defined Parameter",
  rhs_name = "Paths",
  nice_table = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lavaan_defined_+3A_fit">fit</code></td>
<td>
<p>lavaan fit object to extract fit indices from</p>
</td></tr>
<tr><td><code id="lavaan_defined_+3A_underscores_to_symbol">underscores_to_symbol</code></td>
<td>
<p>Character to convert underscores
to arrows in the first column, like for indirect effects. Default to
the right arrow symbol, but can be set to NULL or &quot;_&quot;, or to any
other desired  symbol. It is also possible to provide a vector of
replacements if they they are not all the same.</p>
</td></tr>
<tr><td><code id="lavaan_defined_+3A_lhs_name">lhs_name</code></td>
<td>
<p>Name of first column, referring to the left-hand side
expression (lhs).</p>
</td></tr>
<tr><td><code id="lavaan_defined_+3A_rhs_name">rhs_name</code></td>
<td>
<p>Name of first column, referring to the right-hand side
expression (rhs).</p>
</td></tr>
<tr><td><code id="lavaan_defined_+3A_nice_table">nice_table</code></td>
<td>
<p>Logical, whether to print the table as a
<a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a> as well as print the
reference values at the bottom of the table.</p>
</td></tr>
<tr><td><code id="lavaan_defined_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe, including the indirect effect (&quot;lhs&quot;),
corresponding paths (&quot;rhs&quot;), standardized regression
coefficient (&quot;std.all&quot;), corresponding p-value, as well
as the unstandardized regression coefficient (&quot;est&quot;) and
its confidence interval (&quot;ci.lower&quot;, &quot;ci.upper&quot;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

(mediation &lt;- list(
  speed = "visual",
  textual = "visual",
  visual = c("ageyr", "grade")
))

(indirect &lt;- list(
  IV = c("ageyr", "grade"),
  M = "visual",
  DV = c("speed", "textual")
))

HS.model &lt;- write_lavaan(mediation,
  indirect = indirect,
  latent = latent, label = TRUE
)
cat(HS.model)

library(lavaan)
fit &lt;- sem(HS.model, data = HolzingerSwineford1939)
lavaan_defined(fit, lhs_name = "Indirect Effect")

</code></pre>

<hr>
<h2 id='lavaan_extract'>Extract relevant indices from lavaan model based on specified operator</h2><span id='topic+lavaan_extract'></span>

<h3>Description</h3>

<p>Extract relevant indices from lavaan model through
<a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates</a> and <a href="lavaan.html#topic+standardizedSolution">lavaan::standardizedsolution</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lavaan_extract(
  fit,
  operator = NULL,
  lhs_name = "Left-Hand Side",
  rhs_name = "Right-Hand Side",
  underscores_to_symbol = "→",
  diag = NULL,
  nice_table = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lavaan_extract_+3A_fit">fit</code></td>
<td>
<p>lavaan fit object to extract fit indices from</p>
</td></tr>
<tr><td><code id="lavaan_extract_+3A_operator">operator</code></td>
<td>
<p>Which operator to subselect with.</p>
</td></tr>
<tr><td><code id="lavaan_extract_+3A_lhs_name">lhs_name</code></td>
<td>
<p>Name of first column, referring to the left-hand side
expression (lhs).</p>
</td></tr>
<tr><td><code id="lavaan_extract_+3A_rhs_name">rhs_name</code></td>
<td>
<p>Name of first column, referring to the right-hand side
expression (rhs).</p>
</td></tr>
<tr><td><code id="lavaan_extract_+3A_underscores_to_symbol">underscores_to_symbol</code></td>
<td>
<p>Character to convert underscores
to arrows in the first column, like for indirect effects. Default to
the right arrow symbol, but can be set to NULL or &quot;_&quot;, or to any
other desired  symbol. It is also possible to provide a vector of
replacements if they they are not all the same.</p>
</td></tr>
<tr><td><code id="lavaan_extract_+3A_diag">diag</code></td>
<td>
<p>When extracting covariances (<code style="white-space: pre;">&#8288;~~&#8288;</code>), whether to include or
exclude diagonal values (one of &quot;exclude&quot; or &quot;include&quot;).</p>
</td></tr>
<tr><td><code id="lavaan_extract_+3A_nice_table">nice_table</code></td>
<td>
<p>Logical, whether to print the table as a
<a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a> as well as print the
reference values at the bottom of the table.</p>
</td></tr>
<tr><td><code id="lavaan_extract_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe, including the indirect effect (&quot;lhs&quot;),
corresponding paths (&quot;rhs&quot;), standardized regression
coefficient (&quot;std.all&quot;), corresponding p-value, as well
as the unstandardized regression coefficient (&quot;est&quot;) and
its confidence interval (&quot;ci.lower&quot;, &quot;ci.upper&quot;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

(mediation &lt;- list(
  speed = "visual",
  textual = "visual",
  visual = c("ageyr", "grade")
))

(indirect &lt;- list(
  IV = c("ageyr", "grade"),
  M = "visual",
  DV = c("speed", "textual")
))

HS.model &lt;- write_lavaan(mediation,
  indirect = indirect,
  latent = latent, label = TRUE
)
cat(HS.model)

library(lavaan)
fit &lt;- sem(HS.model, data = HolzingerSwineford1939)
lavaan_extract(fit, lhs_name = "Indirect Effect", operator = ":=")

</code></pre>

<hr>
<h2 id='lavaan_reg'>Extract relevant regression indices from lavaan model</h2><span id='topic+lavaan_reg'></span>

<h3>Description</h3>

<p>Extract relevant regression indices from lavaan model through
<a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates</a> and <a href="lavaan.html#topic+standardizedSolution">lavaan::standardizedsolution</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lavaan_reg(fit, nice_table = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lavaan_reg_+3A_fit">fit</code></td>
<td>
<p>lavaan fit object to extract fit indices from</p>
</td></tr>
<tr><td><code id="lavaan_reg_+3A_nice_table">nice_table</code></td>
<td>
<p>Logical, whether to print the table as a
<a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a> as well as print the
reference values at the bottom of the table.</p>
</td></tr>
<tr><td><code id="lavaan_reg_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe, including the outcome (&quot;lhs&quot;), predictor (&quot;rhs&quot;),
standardized regression coefficient (&quot;std.all&quot;), corresponding
p-value, as well as the unstandardized regression coefficient
(&quot;est&quot;) and its confidence interval (&quot;ci.lower&quot;, &quot;ci.upper&quot;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

(regression &lt;- list(
  ageyr = c("visual", "textual", "speed"),
  grade = c("visual", "textual", "speed")
))

HS.model &lt;- write_lavaan(latent = latent, regression = regression)
cat(HS.model)

library(lavaan)
fit &lt;- sem(HS.model, data = HolzingerSwineford1939)
lavaan_reg(fit)

</code></pre>

<hr>
<h2 id='lavaan_var'>Extract relevant variance indices from lavaan model</h2><span id='topic+lavaan_var'></span>

<h3>Description</h3>

<p>Extract relevant variance indices from lavaan
model through <a href="lavaan.html#topic+parameterEstimates">lavaan::parameterEstimates</a> (when estimate = &quot;sigma&quot;,
<code>est</code> column)) or <a href="lavaan.html#topic+standardizedSolution">lavaan::standardizedsolution</a> (when estimate = &quot;r2&quot;,
<code>est.std</code> column). R2 values are then calculated as <code>1 - est.std</code>, and
the new <em>p</em> values for the R2, with the following formula:
<code>stats::pnorm((1 - est) / se)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lavaan_var(fit, estimate = "r2", nice_table = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lavaan_var_+3A_fit">fit</code></td>
<td>
<p>lavaan fit object to extract covariance indices from</p>
</td></tr>
<tr><td><code id="lavaan_var_+3A_estimate">estimate</code></td>
<td>
<p>What estimate to use, either the standardized
estimate (&quot;r2&quot;, default), or unstandardized
estimate (&quot;sigma2&quot;).</p>
</td></tr>
<tr><td><code id="lavaan_var_+3A_nice_table">nice_table</code></td>
<td>
<p>Logical, whether to print the table as a
<a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a> as well as print the
reference values at the bottom of the table.</p>
</td></tr>
<tr><td><code id="lavaan_var_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of covariances/correlation, including the covaried
variables, the covariance/correlation, and corresponding p-value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

(regression &lt;- list(
  ageyr = c("visual", "textual", "speed"),
  grade = c("visual", "textual", "speed")
))

(covariance &lt;- list(speed = "textual", ageyr = "grade"))

HS.model &lt;- write_lavaan(
  regression = regression, covariance = covariance,
  latent = latent, label = TRUE
)
cat(HS.model)

library(lavaan)
fit &lt;- sem(HS.model, data = HolzingerSwineford1939)
lavaan_var(fit)

</code></pre>

<hr>
<h2 id='lavaanExtra-package'>lavaanExtra: Convenience Functions for Package 'lavaan'</h2><span id='topic+lavaanExtra'></span><span id='topic+lavaanExtra-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Affords an alternative, vector-based syntax to 'lavaan', as well as other convenience functions such as naming paths and defining indirect links automatically, in addition to convenience formatting optimized for a publication and script sharing workflow.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Rémi Thériault <a href="mailto:remi.theriault@mail.mcgill.ca">remi.theriault@mail.mcgill.ca</a> (<a href="https://orcid.org/0000-0003-4315-6788">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://lavaanExtra.remi-theriault.com">https://lavaanExtra.remi-theriault.com</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rempsyc/lavaanExtra/issues">https://github.com/rempsyc/lavaanExtra/issues</a>
</p>
</li></ul>


<hr>
<h2 id='nice_fit'>Extract relevant fit indices from lavaan model</h2><span id='topic+nice_fit'></span>

<h3>Description</h3>

<p>Compares fit from one or several lavaan models. Also
optionally includes references values. The reference fit values are
based on Schreiber (2017), Table 3.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nice_fit(
  model,
  model.labels,
  nice_table = FALSE,
  guidelines = TRUE,
  stars = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nice_fit_+3A_model">model</code></td>
<td>
<p>lavaan model object(s) to extract fit indices from</p>
</td></tr>
<tr><td><code id="nice_fit_+3A_model.labels">model.labels</code></td>
<td>
<p>Model labels to use. If a named list is provided
for <code>model</code>, default to the names of the list. Otherwise, if the list
is unnamed, defaults to generic numbering.</p>
</td></tr>
<tr><td><code id="nice_fit_+3A_nice_table">nice_table</code></td>
<td>
<p>Logical, whether to print the table as a
<a href="rempsyc.html#topic+nice_table">rempsyc::nice_table</a>.</p>
</td></tr>
<tr><td><code id="nice_fit_+3A_guidelines">guidelines</code></td>
<td>
<p>Logical, if <code>nice_table = TRUE</code>, whether to display
include reference values based on Schreiber (2017), Table 3, at the
bottom of the table.</p>
</td></tr>
<tr><td><code id="nice_fit_+3A_stars">stars</code></td>
<td>
<p>Logical, if <code>nice_table = TRUE</code>, whether to display
significance stars (defaults to <code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that <code>nice_fit</code> reports the unbiased SRMR through
<code><a href="lavaan.html#topic+lavResiduals">lavaan::lavResiduals()</a></code> because the standard SRMR is upwardly
biased (<a href="https://doi.org/10.1007/s11336-016-9552-7">doi:10.1007/s11336-016-9552-7</a>) in a noticeable
way for smaller samples (thanks to James Uanhoro for this change).
</p>
<p>If using <code>guidelines = TRUE</code>, please carefully consider the following 2023
quote from Terrence D. Jorgensen:
</p>
<p><em>I do not recommend including cutoffs in the table, as doing so would
perpetuate their misuse. Fit indices are not test statistics, and their
suggested cutoffs are not critical values associated with known Type I
error rates. Numerous simulation studies have shown how poorly cutoffs
perform in model selection (e.g., , Jorgensen et al. (2018). Instead of
test statistics, fit indices were designed to be measures of effect size
(practical significance), which complement the chi-squared test of
statistical significance. The range of RMSEA interpretations above is more
reminiscent of the range of small/medium/large effect sizes proposed by
Cohen for use in power analyses, which are as arbitrary as alpha levels,
but at least they better respect the idea that (mis)fit is a matter of
magnitude, not nearly so simple as &quot;perfect or imperfect.&quot;</em>
</p>


<h3>Value</h3>

<p>A dataframe, representing select fit indices (chi2, df, chi2/df,
p-value of the chi2 test, CFI, TLI, RMSEA and its 90% CI,
unbiased SRMR, AIC, and BIC).
</p>


<h3>References</h3>

<p>Schreiber, J. B. (2017). Update to core reporting practices in
structural equation modeling. <em>Research in social and administrative pharmacy</em>,
<em>13</em>(3), 634-643. <a href="https://doi.org/10.1016/j.sapharm.2016.06.006">doi:10.1016/j.sapharm.2016.06.006</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

(regression &lt;- list(
  ageyr = c("visual", "textual", "speed"),
  grade = c("visual", "textual", "speed")
))

HS.model &lt;- write_lavaan(latent = latent, regression = regression)
cat(HS.model)

library(lavaan)
fit &lt;- sem(HS.model, data = HolzingerSwineford1939)
nice_fit(fit)

</code></pre>

<hr>
<h2 id='nice_lavaanPlot'>Make a quick <code>lavaanPlot</code></h2><span id='topic+nice_lavaanPlot'></span>

<h3>Description</h3>

<p>Make a quick and decent-looking <code>lavaanPlot</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nice_lavaanPlot(
  model,
  node_options = list(shape = "box", fontname = "Helvetica"),
  edge_options = c(color = "black"),
  coefs = TRUE,
  stand = TRUE,
  covs = FALSE,
  stars = c("regress", "latent", "covs"),
  sig = 0.05,
  graph_options = c(rankdir = "LR"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nice_lavaanPlot_+3A_model">model</code></td>
<td>
<p>SEM or CFA model to plot.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_node_options">node_options</code></td>
<td>
<p>Shape and font name.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_edge_options">edge_options</code></td>
<td>
<p>Colour of edges.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_coefs">coefs</code></td>
<td>
<p>Logical, whether to plot coefficients. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_stand">stand</code></td>
<td>
<p>Logical, whether to use standardized coefficients.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_covs">covs</code></td>
<td>
<p>Logical, whether to plot covariances. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_stars">stars</code></td>
<td>
<p>Which links to plot significance stars for. One of
<code>c("regress", "latent", "covs")</code>.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_sig">sig</code></td>
<td>
<p>Which significance threshold to use to plot coefficients (defaults
to .05). To plot all coefficients, set <code>sig</code> to 1.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_graph_options">graph_options</code></td>
<td>
<p>Read from left to right, rather than from top to bottom.</p>
</td></tr>
<tr><td><code id="nice_lavaanPlot_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to function <a href="lavaanPlot.html#topic+lavaanPlot">lavaanPlot::lavaanPlot</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A lavaanPlot, of classes <code>c("grViz", "htmlwidget")</code>, representing the
specified <code>lavaan</code> model.
</p>


<h3>Illustrations</h3>

<p><img src="../help/figures/lavaanPlot.png" width="400" alt="lavaanPlot.png" />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

HS.model &lt;- write_lavaan(latent = latent)
cat(HS.model)

library(lavaan)
fit &lt;- cfa(HS.model, HolzingerSwineford1939)
nice_lavaanPlot(fit)

</code></pre>

<hr>
<h2 id='nice_modindices'>Extract relevant modification indices along item labels</h2><span id='topic+nice_modindices'></span>

<h3>Description</h3>

<p>Extract relevant modification indices along item labels,
with a similarity score provided to help guide decision-making
for removing redundant items with high covariance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nice_modindices(fit, labels = NULL, method = "lcs", sort = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nice_modindices_+3A_fit">fit</code></td>
<td>
<p>lavaan fit object to extract modification indices from</p>
</td></tr>
<tr><td><code id="nice_modindices_+3A_labels">labels</code></td>
<td>
<p>Dataframe of labels. If the original data
frame is provided, and that it contains labelled
variables, will automatically attempt to extract
the correct labels from the dataframe.</p>
</td></tr>
<tr><td><code id="nice_modindices_+3A_method">method</code></td>
<td>
<p>Method for distance calculation from
<a href="stringdist.html#topic+stringsim">stringdist::stringsim</a>. Defaults to <code>"lcs"</code>.</p>
</td></tr>
<tr><td><code id="nice_modindices_+3A_sort">sort</code></td>
<td>
<p>Logical. If TRUE, sort the output using the values of
the modification index values. Higher values appear first.
Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="nice_modindices_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <a href="lavaan.html#topic+modificationIndices">lavaan::modindices</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe, including the outcome (&quot;lhs&quot;), predictor (&quot;rhs&quot;),
standardized regression coefficient (&quot;std.all&quot;), corresponding
p-value, as well as the unstandardized regression coefficient
(&quot;est&quot;) and its confidence interval (&quot;ci.lower&quot;, &quot;ci.upper&quot;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

(regression &lt;- list(
  ageyr = c("visual", "textual", "speed"),
  grade = c("visual", "textual", "speed")
))

HS.model &lt;- write_lavaan(latent = latent, regression = regression)
cat(HS.model)

library(lavaan)
fit &lt;- sem(HS.model, data = HolzingerSwineford1939)
nice_modindices(fit, maximum.number = 5)
data_labels &lt;- data.frame(
  x1 = "I have good visual perception",
  x2 = "I have good cube perception",
  x3 = "I have good at lozenge perception",
  x4 = "I have paragraph comprehension",
  x5 = "I am good at sentence completion",
  x6 = "I excel at finding the meaning of words",
  x7 = "I am quick at doing mental additions",
  x8 = "I am quick at counting dots",
  x9 = "I am quick at discriminating straight and curved capitals"
)
nice_modindices(fit, maximum.number = 10, labels = data_labels, op = "~~")

x &lt;- HolzingerSwineford1939
x &lt;- sjlabelled::set_label(x, label = c(rep("", 6), data_labels))
fit &lt;- sem(HS.model, data = x)
nice_modindices(fit, maximum.number = 10, op = "~~")

</code></pre>

<hr>
<h2 id='nice_tidySEM'>Make a quick <code>tidySEM</code> plot</h2><span id='topic+nice_tidySEM'></span>

<h3>Description</h3>

<p>Make a quick and decent-looking <code>tidySEM</code> plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nice_tidySEM(
  fit,
  layout = NULL,
  hide_nonsig_edges = FALSE,
  hide_var = TRUE,
  hide_cov = FALSE,
  hide_mean = TRUE,
  est_std = TRUE,
  label,
  label_location = NULL,
  reduce_items = NULL,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nice_tidySEM_+3A_fit">fit</code></td>
<td>
<p>SEM or CFA model fit to plot.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_layout">layout</code></td>
<td>
<p>A matrix (or data.frame) that describes the structure; see
<a href="tidySEM.html#topic+get_layout">tidySEM::get_layout</a>. If a named list is provided,
with names &quot;IV&quot; (independent variables), &quot;M&quot; (mediator), and
&quot;DV&quot; (dependent variables), <code>nice_tidySEM</code> attempts to write
the layout matrix automatically.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_hide_nonsig_edges">hide_nonsig_edges</code></td>
<td>
<p>Logical, hides non-significant edges.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_hide_var">hide_var</code></td>
<td>
<p>Logical, hides variances. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_hide_cov">hide_cov</code></td>
<td>
<p>Logical, hides co-variances. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_hide_mean">hide_mean</code></td>
<td>
<p>Logical, hides means/node labels. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_est_std">est_std</code></td>
<td>
<p>Logical, whether to use the standardized coefficients.
Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_label">label</code></td>
<td>
<p>Labels to be used on the plot. As elsewhere in
<code>lavaanExtra</code>, it is provided as a named list with
format <code>(colname = "label")</code>.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_label_location">label_location</code></td>
<td>
<p>Location of label along the path, as a percentage
(defaults to middle, 0.5).</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_reduce_items">reduce_items</code></td>
<td>
<p>A numeric vector of length 1 (x) or 2 (x &amp; y) defining
how much space to trim from the nodes (boxes) of the
items defining the latent variables. Can be provided
either as <code>reduce_items = 0.4</code> (will only affect
horizontal space, x), or
<code>reduce_items = c(x = 0.4, y = 0.2)</code> (will affect
both horizontal x and vertical y).</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_plot">plot</code></td>
<td>
<p>Logical, whether to plot the result (default). If <code>FALSE</code>,
returns the <code>tidy_sem</code> object, which can be further edited
as needed.</p>
</td></tr>
<tr><td><code id="nice_tidySEM_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <a href="tidySEM.html#topic+prepare_graph">tidySEM::prepare_graph</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tidySEM plot, of class ggplot, representing the specified
<code>lavaan</code> model.
</p>


<h3>Illustrations</h3>

<p><img src="../help/figures/nice_tidySEM.png" width="400" alt="nice_tidySEM.png" />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Calculate scale averages
library(lavaan)
data &lt;- HolzingerSwineford1939
data$visual &lt;- rowMeans(data[paste0("x", 1:3)])
data$textual &lt;- rowMeans(data[paste0("x", 4:6)])
data$speed &lt;- rowMeans(data[paste0("x", 7:9)])

# Define our variables
IV &lt;- c("sex", "ageyr", "agemo", "school")
M &lt;- c("visual", "grade")
DV &lt;- c("speed", "textual")

# Define our lavaan lists
mediation &lt;- list(speed = M, textual = M, visual = IV, grade = IV)

# Define indirect object
structure &lt;- list(IV = IV, M = M, DV = DV)

# Write the model, and check it
model &lt;- write_lavaan(mediation, indirect = structure, label = TRUE)
cat(model)

# Fit model
fit &lt;- sem(model, data)

# Plot model

nice_tidySEM(fit, layout = structure)


</code></pre>

<hr>
<h2 id='write_lavaan'>Vector-based lavaan syntax interpreter</h2><span id='topic+write_lavaan'></span>

<h3>Description</h3>

<p>Vector-based lavaan syntax interpreter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_lavaan(
  mediation = NULL,
  regression = NULL,
  covariance = NULL,
  indirect = NULL,
  latent = NULL,
  intercept = NULL,
  threshold = NULL,
  constraint.equal = NULL,
  constraint.smaller = NULL,
  constraint.larger = NULL,
  custom = NULL,
  label = FALSE,
  use.letters = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_lavaan_+3A_mediation">mediation</code></td>
<td>
<p>Mediation    indicators (<code>~</code> symbol: &quot;is regressed on&quot;).
Differs from argument <code>regression</code> because path names
can be optionally specified automatically with argument
<code>label</code>.</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_regression">regression</code></td>
<td>
<p>Regression indicators (<code>~</code> symbol: &quot;is regressed on&quot;).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_covariance">covariance</code></td>
<td>
<p>(Residual) (co)variance indicators (<code style="white-space: pre;">&#8288;~~&#8288;</code> symbol:
&quot;is correlated with&quot;).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_indirect">indirect</code></td>
<td>
<p>Indirect effect indicators (<code style="white-space: pre;">&#8288;:=&#8288;</code> symbol: &quot;indirect
effect defined as&quot;). If a named list is provided,
with names &quot;IV&quot; (independent variables), &quot;M&quot; (mediator),
and &quot;DV&quot; (dependent variables), <code>write_lavaan</code> attempts to
write indirect effects automatically. In this case, the
<code>mediation</code> argument must be specified too.</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_latent">latent</code></td>
<td>
<p>Latent variable indicators (<code style="white-space: pre;">&#8288;=~&#8288;</code> symbol: &quot;is measured by&quot;).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_intercept">intercept</code></td>
<td>
<p>Intercept indicators (<code>~ 1</code> symbol: &quot;intercept&quot;).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_threshold">threshold</code></td>
<td>
<p>Threshold indicators (<code>|</code> symbol: &quot;threshold&quot;).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_constraint.equal">constraint.equal</code></td>
<td>
<p>Equality indicators (<code>==</code> symbol).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_constraint.smaller">constraint.smaller</code></td>
<td>
<p>Smaller than indicators (<code>&lt;</code> symbol).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_constraint.larger">constraint.larger</code></td>
<td>
<p>Greater than indicators (<code>&gt;</code> symbol).</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_custom">custom</code></td>
<td>
<p>Custom specifications. Takes a <em>single</em> string just
like regular <code>lavaan</code> syntax would. Always added at
the end of the model.</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_label">label</code></td>
<td>
<p>Logical, whether to display path names for the
mediation argument.</p>
</td></tr>
<tr><td><code id="write_lavaan_+3A_use.letters">use.letters</code></td>
<td>
<p>Logical, for the labels, whether to use letters
instead of the variable names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string, representing the specified <code>lavaan</code> model.
</p>


<h3>See Also</h3>

<p>The corresponding vignette: <a href="https://lavaanextra.remi-theriault.com/articles/write_lavaan.html">https://lavaanextra.remi-theriault.com/articles/write_lavaan.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- paste0("x", 1:9)
(latent &lt;- list(
  visual = x[1:3],
  textual = x[4:6],
  speed = x[7:9]
))

HS.model &lt;- write_lavaan(latent = latent)
cat(HS.model)

library(lavaan)
fit &lt;- lavaan(HS.model,
  data = HolzingerSwineford1939,
  auto.var = TRUE, auto.fix.first = TRUE,
  auto.cov.lv.x = TRUE
)
summary(fit, fit.measures = TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

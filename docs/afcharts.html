<!DOCTYPE html><html lang="en"><head><title>Help for package afcharts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {afcharts}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#afcharts-package'><p>afcharts: Produce Charts Following UK Government Analysis Function Guidance</p></a></li>
<li><a href='#af_colour_palettes'><p>Analysis Function colour palettes</p></a></li>
<li><a href='#af_colour_values'><p>Analysis Function colour names and hex codes</p></a></li>
<li><a href='#mm_to_inch'><p>Convert millimetres to inches</p></a></li>
<li><a href='#save_govuk'><p>Save a plot at the correct dimensions for publishing on GOVUK</p></a></li>
<li><a href='#scale_colour_continuous_af'><p>Continuous colour scales for Analysis Function plots</p></a></li>
<li><a href='#scale_colour_discrete_af'><p>Discrete colour scales for Analysis Function plots</p></a></li>
<li><a href='#scale_fill_continuous_af'><p>Continuous colour fill scales for Analysis Function plots</p></a></li>
<li><a href='#scale_fill_discrete_af'><p>Discrete colour fill scales for Analysis Function plots</p></a></li>
<li><a href='#theme_af'><p>Analysis Function theme for ggplot2 charts.</p></a></li>
<li><a href='#use_afcharts'><p>Use afcharts defaults.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Produce Charts Following UK Government Analysis Function
Guidance</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Colour palettes and a 'ggplot2' theme to follow the UK Government
    Analysis Function best practice guidance for producing data visualisations,
    available at
    <a href="https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-charts/">https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-charts/</a>.
    Includes continuous and discrete colour and fill scales, as well as a
    'ggplot2' theme.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/best-practice-and-impact/afcharts">https://github.com/best-practice-and-impact/afcharts</a>,
<a href="https://best-practice-and-impact.github.io/afcharts/">https://best-practice-and-impact.github.io/afcharts/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/best-practice-and-impact/afcharts/issues">https://github.com/best-practice-and-impact/afcharts/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, scales, cli, rlang, dplyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggtext, knitr, rmarkdown, tibble, tidyr, glue, purrr,
stringr, testthat (&ge; 2.1.0), plotly, gt, svglite (&ge; 2.1.2),
ragg (&ge; 1.2.6), gapminder, diffviewer, vdiffr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-13 14:58:36 UTC; OBoxPower</td>
</tr>
<tr>
<td>Author:</td>
<td>Crown Copyright [cph],
  Government Analysis Function [fnd],
  Alice Hannah [aut],
  Olivia Box Power [cre, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Olivia Box Power &lt;Olivia.BoxPower@dhsc.gov.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-13 15:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='afcharts-package'>afcharts: Produce Charts Following UK Government Analysis Function Guidance</h2><span id='topic+afcharts'></span><span id='topic+afcharts-package'></span>

<h3>Description</h3>

<p>Colour palettes and a 'ggplot2' theme to follow the UK Government Analysis Function best practice guidance for producing data visualisations, available at <a href="https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-charts/">https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-charts/</a>. Includes continuous and discrete colour and fill scales, as well as a 'ggplot2' theme.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Olivia Box Power <a href="mailto:Olivia.BoxPower@dhsc.gov.uk">Olivia.BoxPower@dhsc.gov.uk</a> [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Alice Hannah <a href="mailto:alice.hannah@gov.scot">alice.hannah@gov.scot</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Crown Copyright [copyright holder]
</p>
</li>
<li><p> Government Analysis Function <a href="mailto:Analysis.Function@ons.gov.uk">Analysis.Function@ons.gov.uk</a> [funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/best-practice-and-impact/afcharts">https://github.com/best-practice-and-impact/afcharts</a>
</p>
</li>
<li> <p><a href="https://best-practice-and-impact.github.io/afcharts/">https://best-practice-and-impact.github.io/afcharts/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/best-practice-and-impact/afcharts/issues">https://github.com/best-practice-and-impact/afcharts/issues</a>
</p>
</li></ul>


<hr>
<h2 id='af_colour_palettes'>Analysis Function colour palettes</h2><span id='topic+af_colour_palettes'></span>

<h3>Description</h3>

<p>A list grouping colours into palettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>af_colour_palettes
</code></pre>


<h3>Format</h3>

<p>A character list
</p>


<h3>Source</h3>

<p><a href="https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/">Government Analysis Function Colours Guidance</a>
</p>

<hr>
<h2 id='af_colour_values'>Analysis Function colour names and hex codes</h2><span id='topic+af_colour_values'></span>

<h3>Description</h3>

<p>A vector containing colour names and their corresponding
hex code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>af_colour_values
</code></pre>


<h3>Format</h3>

<p>A character vector
</p>


<h3>Source</h3>

<p><a href="https://analysisfunction.civilservice.gov.uk/policy-store/data-visualisation-colours-in-charts/">Government Analysis Function Colours Guidance</a>
</p>

<hr>
<h2 id='mm_to_inch'>Convert millimetres to inches</h2><span id='topic+mm_to_inch'></span>

<h3>Description</h3>

<p>Convert millimetres to inches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mm_to_inch(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mm_to_inch_+3A_x">x</code></td>
<td>
<p>Numeric value in millimetres</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numerical value in inches
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mm_to_inch(100)

</code></pre>

<hr>
<h2 id='save_govuk'>Save a plot at the correct dimensions for publishing on GOVUK</h2><span id='topic+save_govuk'></span>

<h3>Description</h3>

<p>This is a wrapper around <code><a href="ggplot2.html#topic+ggsave">ggplot2::ggsave()</a></code> with plot dimensions set for
publishing on GOVUK.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_govuk(
  filename,
  plot = ggplot2::last_plot(),
  device = c("svg", "png", "jpg"),
  path = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="save_govuk_+3A_filename">filename</code></td>
<td>
<p>File name</p>
</td></tr>
<tr><td><code id="save_govuk_+3A_plot">plot</code></td>
<td>
<p>The plot to save</p>
</td></tr>
<tr><td><code id="save_govuk_+3A_device">device</code></td>
<td>
<p>File type to produce (svg, png or jpg). svg is preferred as
it scales well without pixelating</p>
</td></tr>
<tr><td><code id="save_govuk_+3A_path">path</code></td>
<td>
<p>Directory to save the plot in</p>
</td></tr>
<tr><td><code id="save_govuk_+3A_...">...</code></td>
<td>
<p>Other params passed to ggplot::ggsave</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector giving path to saved file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
library(dplyr)
library(gapminder)

# Images on GOVUK are shrunk. We therefore recommend using font size 20 pt
# when exporting charts for GOVUK, which will appear as approximately 12 pt on
# the website.
use_afcharts(base_size = 20)

grouped_bar_data &lt;-
  gapminder |&gt;
  filter(year %in% c(1967, 2007) &amp;
           country %in% c("United Kingdom", "Ireland", "France", "Belgium"))

bar_chart &lt;- ggplot(grouped_bar_data,
       aes(x = country, y = lifeExp, fill = as.factor(year))) +
  geom_bar(stat = "identity", position = "dodge") +
  scale_y_continuous(expand = c(0, 0)) +
  scale_fill_discrete_af() +
  labs(
    x = "Country",
    y = NULL,
    fill = NULL,
    title = "Living longer",
    subtitle = "Difference in life expectancy, 1967-2007",
    caption = "Source: Gapminder"
  )

 file &lt;- tempfile(fileext = ".svg")
 save_govuk(file, bar_chart, device = "svg")
 unlink(file)

</code></pre>

<hr>
<h2 id='scale_colour_continuous_af'>Continuous colour scales for Analysis Function plots</h2><span id='topic+scale_colour_continuous_af'></span>

<h3>Description</h3>

<p>Continuous colour scales for Analysis Function plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_continuous_af(
  palette = "sequential",
  palette_type = c("af"),
  reverse = FALSE,
  na_colour = "grey50",
  guide = "colourbar",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_colour_continuous_af_+3A_palette">palette</code></td>
<td>
<p>Name of palette to use; e.g. &quot;main&quot;, &quot;sequential&quot;, &quot;focus&quot;.
Default value is &quot;sequential&quot;.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_af_+3A_palette_type">palette_type</code></td>
<td>
<p>Currently only the Analysis Function palettes are
supported. Defaults to &quot;af&quot;.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_af_+3A_reverse">reverse</code></td>
<td>
<p>Boolean value to indicate whether the palette should be
reversed.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_af_+3A_na_colour">na_colour</code></td>
<td>
<p>Colour to set for missing values.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_af_+3A_guide">guide</code></td>
<td>
<p>A name or function used to create guide. Default is &quot;colourbar&quot;.</p>
</td></tr>
<tr><td><code id="scale_colour_continuous_af_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to scale type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 continuous colour scale
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

ggplot(mtcars, aes(x = mpg, y = wt, colour = cyl)) +
  geom_point() +
  scale_colour_continuous_af()

</code></pre>

<hr>
<h2 id='scale_colour_discrete_af'>Discrete colour scales for Analysis Function plots</h2><span id='topic+scale_colour_discrete_af'></span>

<h3>Description</h3>

<p>Discrete colour scales for Analysis Function plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_discrete_af(
  palette = "main",
  palette_type = c("af"),
  reverse = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_colour_discrete_af_+3A_palette">palette</code></td>
<td>
<p>Name of palette to use; e.g. &quot;main&quot;, &quot;sequential&quot;, &quot;focus.&quot;
Default value is &quot;main&quot;.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_af_+3A_palette_type">palette_type</code></td>
<td>
<p>Currently only the Analysis Function palettes are
supported. Defaults to &quot;af&quot;.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_af_+3A_reverse">reverse</code></td>
<td>
<p>Boolean value to indicate whether the palette should be
reversed.</p>
</td></tr>
<tr><td><code id="scale_colour_discrete_af_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to scale type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 discrete colour scale
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
library(dplyr)

economics_long %&gt;%
  filter(variable %in% c("psavert", "uempmed")) %&gt;%
  ggplot(aes(x = date, y = value, colour = variable)) +
  geom_line(linewidth = 1) +
  scale_colour_discrete_af()

</code></pre>

<hr>
<h2 id='scale_fill_continuous_af'>Continuous colour fill scales for Analysis Function plots</h2><span id='topic+scale_fill_continuous_af'></span>

<h3>Description</h3>

<p>Continuous colour fill scales for Analysis Function plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_continuous_af(
  palette = "sequential",
  palette_type = c("af"),
  reverse = FALSE,
  na_colour = "grey50",
  guide = "colourbar",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_fill_continuous_af_+3A_palette">palette</code></td>
<td>
<p>Name of palette to use; e.g. &quot;main&quot;, &quot;sequential&quot;, &quot;focus.&quot;
Default value is &quot;sequential&quot;.</p>
</td></tr>
<tr><td><code id="scale_fill_continuous_af_+3A_palette_type">palette_type</code></td>
<td>
<p>Currently only the Analysis Function palettes are
supported. Defaults to &quot;af&quot;.</p>
</td></tr>
<tr><td><code id="scale_fill_continuous_af_+3A_reverse">reverse</code></td>
<td>
<p>Boolean value to indicate whether the palette should be
reversed.</p>
</td></tr>
<tr><td><code id="scale_fill_continuous_af_+3A_na_colour">na_colour</code></td>
<td>
<p>Colour to set for missing values.</p>
</td></tr>
<tr><td><code id="scale_fill_continuous_af_+3A_guide">guide</code></td>
<td>
<p>A name or function used to create guide. Default is &quot;colourbar&quot;.</p>
</td></tr>
<tr><td><code id="scale_fill_continuous_af_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to scale type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 continuous fill scale
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

ggplot(faithfuld, aes(x = waiting, y = eruptions, fill = density)) +
  geom_raster() +
  scale_fill_continuous_af()

</code></pre>

<hr>
<h2 id='scale_fill_discrete_af'>Discrete colour fill scales for Analysis Function plots</h2><span id='topic+scale_fill_discrete_af'></span>

<h3>Description</h3>

<p>Discrete colour fill scales for Analysis Function plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_discrete_af(
  palette = "main",
  palette_type = c("af"),
  reverse = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_fill_discrete_af_+3A_palette">palette</code></td>
<td>
<p>Name of palette to use; e.g. &quot;main&quot;, &quot;sequential&quot;, &quot;focus.&quot;
Default value is &quot;main.&quot;</p>
</td></tr>
<tr><td><code id="scale_fill_discrete_af_+3A_palette_type">palette_type</code></td>
<td>
<p>Currently only the Analysis Function palettes are
supported. Defaults to &quot;af&quot;.</p>
</td></tr>
<tr><td><code id="scale_fill_discrete_af_+3A_reverse">reverse</code></td>
<td>
<p>Boolean value to indicate whether the palette should be
reversed.</p>
</td></tr>
<tr><td><code id="scale_fill_discrete_af_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to scale type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 discrete fill scale
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

d &lt;- subset(mpg, manufacturer == "ford")

ggplot(d, aes(x = class, fill = class)) +
 geom_bar() +
 scale_fill_discrete_af()

</code></pre>

<hr>
<h2 id='theme_af'>Analysis Function theme for ggplot2 charts.</h2><span id='topic+theme_af'></span>

<h3>Description</h3>

<p>ggplot2 theme for Analysis Function plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_af(
  base_size = 14,
  base_line_size = base_size/24,
  base_rect_size = base_size/24,
  grid = c("y", "x", "xy", "none"),
  axis = c("x", "y", "xy", "none"),
  ticks = c("xy", "x", "y", "none"),
  legend = c("right", "left", "top", "bottom", "none")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_af_+3A_base_size">base_size</code></td>
<td>
<p>base font size, given in pts.</p>
</td></tr>
<tr><td><code id="theme_af_+3A_base_line_size">base_line_size</code></td>
<td>
<p>base size for line elements.</p>
</td></tr>
<tr><td><code id="theme_af_+3A_base_rect_size">base_rect_size</code></td>
<td>
<p>base size for rect elements.</p>
</td></tr>
<tr><td><code id="theme_af_+3A_grid">grid</code>, <code id="theme_af_+3A_axis">axis</code>, <code id="theme_af_+3A_ticks">ticks</code></td>
<td>
<p>'x', 'y', 'xy' or 'none' to determine for which axes
the attribute should be drawn. Grid defaults to 'y', axis to 'x', and ticks
to 'xy'.</p>
</td></tr>
<tr><td><code id="theme_af_+3A_legend">legend</code></td>
<td>
<p>'right', 'left', 'top', 'bottom', or 'none' to determine the
position of the legend. Defaults to 'right'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 plot theme
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

p &lt;- ggplot(mpg, aes(x = class)) + geom_bar()

p
p + theme_af()

</code></pre>

<hr>
<h2 id='use_afcharts'>Use afcharts defaults.</h2><span id='topic+use_afcharts'></span>

<h3>Description</h3>

<p>Set afcharts theme, colour palette and geom aesthetic defaults
for ggplot2 charts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_afcharts(default_colour = afcharts::af_colour_values["dark-blue"], ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="use_afcharts_+3A_default_colour">default_colour</code></td>
<td>
<p>Default colour/fill for geoms. Default value is 'blue'
from <code>af_colour_values</code>.</p>
</td></tr>
<tr><td><code id="use_afcharts_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code>theme_af()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. Function is used for side effects of setting ggplot2 plot
theme, colour palette and geom aesthetic defaults.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

d &lt;- subset(mpg, manufacturer == "ford")

ggplot(d, aes(x = model)) + geom_bar()
ggplot(d, aes(x = model, fill = class)) + geom_bar()

use_afcharts()

ggplot(d, aes(x = model)) + geom_bar()
ggplot(d, aes(x = model, fill = class, colour = class)) + geom_bar()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

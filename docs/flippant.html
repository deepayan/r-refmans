<!DOCTYPE html><html lang="en"><head><title>Help for package flippant</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {flippant}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#extract_case_study_data'><p>Extract the case study dataset</p></a></li>
<li><a href='#flippant'><p>flippant</p></a></li>
<li><a href='#parse_felix_32_output'><p>parse_felix_32_output</p></a></li>
<li><a href='#parse_felix_gx_output'><p>parse_felix_gx_output</p></a></li>
<li><a href='#parse_fluorimeter_output'><p>parse_fluorimeter_output</p></a></li>
<li><a href='#parse_FluorS_Essence_3.8_output'><p>parse_FluorS_Essence_3.8_output</p></a></li>
<li><a href='#parse_manual_output'><p>parse_manual_output</p></a></li>
<li><a href='#scramblase_assay_input_template'><p>scramblase_assay_plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Dithionite Scramblase Assay Analysis</td>
</tr>
<tr>
<td>Description:</td>
<td>The lipid scrambling activity of protein extracts and purified
    scramblases is often determined using a fluorescence-based assay involving
    many manual steps. flippant offers an integrated solution for the analysis
    and publication-grade graphical presentation of dithionite scramblase
    assays, as well as a platform for review, dissemination and extension of the
    strategies it employs. The package's name derives from a play on the fact
    that lipid scrambling is also sometimes referred to as 'flipping'.
    The package is originally published as Cotton, R.J., Ploier, B., Goren,
    M.A., Menon, A.K., and Graumann, J. (2017). "flippantâ€“An R package for the
    automated analysis of fluorescence-based scramblase assays." BMC
    Bioinformatics 18, 146. &lt;<a href="https://doi.org/10.1186%2Fs12859-017-1542-y">doi:10.1186/s12859-017-1542-y</a>&gt;.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.5</td>
</tr>
<tr>
<td>Author:</td>
<td>Johannes Graumann [cre, aut],
  Richard Cotton [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Johannes Graumann &lt;johannes.graumann@uni-marburg.de&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), ggplot2 (&ge; 2.2.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bookdown, devtools, microbenchmark, multipanelfigure, pander,
roxygen2, tools</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table (&ge; 1.11.4), magrittr (&ge; 1.5), methods, minpack.lm
(&ge; 1.2-1), plyr (&ge; 1.8.4), pracma (&ge; 2.3.3), stringi (&ge;
1.2.3), utils, withr (&ge; 2.1.2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-09 16:10:29 UTC; rstudio</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-09 16:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='extract_case_study_data'>Extract the case study dataset</h2><span id='topic+extract_case_study_data'></span>

<h3>Description</h3>

<p>Extracts the data files used by the case study from the zip archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_case_study_data(exdir = ".", files = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_case_study_data_+3A_exdir">exdir</code></td>
<td>
<p>A string giving the path to the extraction directory. Passed to
<code><a href="utils.html#topic+unzip">unzip</a></code>.</p>
</td></tr>
<tr><td><code id="extract_case_study_data_+3A_files">files</code></td>
<td>
<p>A character vector of files to extract, or <code>NULL</code> to 
extract all files.  Passed to <code><a href="utils.html#topic+unzip">unzip</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the extracted file paths is invisibly returned.
</p>


<h3>Author(s)</h3>

<p>Richard Cotton
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+unzip">unzip</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>extract_case_study_data(tempfile("flippant"))
</code></pre>

<hr>
<h2 id='flippant'>flippant</h2><span id='topic+flippant'></span>

<h3>Description</h3>

<p>A package for the analysis of data provided by dithionite 
scramblase assays.
</p>


<h3>Author(s)</h3>

<p>Johannes Graumann
</p>

<hr>
<h2 id='parse_felix_32_output'>parse_felix_32_output</h2><span id='topic+parse_felix_32_output'></span>

<h3>Description</h3>

<p>Parse spectra from files provided by a QuantaMaster fluorimeter 
(Photon Technology International, Inc., Edison, New Jersey) using 
<code>Felix32 v1.20</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_felix_32_output(x = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_felix_32_output_+3A_x">x</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> vector resulting from 
<code><a href="base.html#topic+readLines">readLines</a></code> of the corresponding data file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function to <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
</p>


<h3>Value</h3>

<p>See <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
</p>


<h3>Author(s)</h3>

<p>Johannes Graumann
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>, 
<code><a href="#topic+parse_felix_gx_output">parse_felix_gx_output</a></code>,
<code><a href="#topic+parse_FluorS_Essence_3.8_output">parse_FluorS_Essence_3.8_output</a></code>,
<code><a href="#topic+parse_manual_output">parse_manual_output</a></code>
</p>

<hr>
<h2 id='parse_felix_gx_output'>parse_felix_gx_output</h2><span id='topic+parse_felix_gx_output'></span>

<h3>Description</h3>

<p>Parse spectra from files provided by a QuantaMaster fluorimeter 
(Photon Technology International, Inc., Edison, New Jersey) using 
<code>FelixGX v4.1</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_felix_gx_output(x = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_felix_gx_output_+3A_x">x</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> vector resulting from 
<code><a href="base.html#topic+readLines">readLines</a></code> of the corresponding data file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function to <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
</p>


<h3>Value</h3>

<p>See <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
</p>


<h3>Author(s)</h3>

<p>Johannes Graumann
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>, 
<code><a href="#topic+parse_felix_32_output">parse_felix_32_output</a></code>,
<code><a href="#topic+parse_FluorS_Essence_3.8_output">parse_FluorS_Essence_3.8_output</a></code>,
<code><a href="#topic+parse_manual_output">parse_manual_output</a></code>
</p>

<hr>
<h2 id='parse_fluorimeter_output'>parse_fluorimeter_output</h2><span id='topic+parse_fluorimeter_output'></span>

<h3>Description</h3>

<p>Parse fluorimeter spectra
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_fluorimeter_output(
  spec_file = NULL,
  timepoint_of_measurement = NULL,
  n_averaging = 10,
  determine_zero_time = TRUE,
  adjust = TRUE,
  file_type = c("auto", "FelixGXv4.1.0.3096", "Felix32v1.20", "FluorSEssencev3.8",
    "manual")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_fluorimeter_output_+3A_spec_file">spec_file</code></td>
<td>
<p>Path to a &lsquo;<span class="file">*.txt</span>&rsquo; file as a <code><a href="base.html#topic+character">character</a></code> 
object.</p>
</td></tr>
<tr><td><code id="parse_fluorimeter_output_+3A_timepoint_of_measurement">timepoint_of_measurement</code></td>
<td>
<p>A <code><a href="base.html#topic+numeric">numeric</a></code> indicating the time
(in sec) at which fluorescence extrema are calculated (DEPENDENT ON
<code>adjust</code>!).</p>
</td></tr>
<tr><td><code id="parse_fluorimeter_output_+3A_n_averaging">n_averaging</code></td>
<td>
<p>A <code><a href="base.html#topic+numeric">numeric</a></code> indicating the number of
data points used for extrema calculations.</p>
</td></tr>
<tr><td><code id="parse_fluorimeter_output_+3A_determine_zero_time">determine_zero_time</code></td>
<td>
<p>A <code><a href="base.html#topic+logical">logical</a></code> indicating whether
(default) or not the timepoint of dithionite addition should be determined
using <span class="pkg">pracma</span>-derived functionality.</p>
</td></tr>
<tr><td><code id="parse_fluorimeter_output_+3A_adjust">adjust</code></td>
<td>
<p>A <code><a href="base.html#topic+logical">logical</a></code> indicating of whether (default) or not
acquisition time should be reset to have <code>0</code> (zero) coincide with the 
addition of dithionite (see 'Details' section).</p>
</td></tr>
<tr><td><code id="parse_fluorimeter_output_+3A_file_type">file_type</code></td>
<td>
<p>A string specifying whether or the file was created using
Felix GX or Felix 32 or FluorS Essence v3.8 or is a &quot;manual&quot; tab delimited
file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A function to read fluorimeter output directly. Intended as a helper
function to scramblase activity determinations from dithionite assays.
</p>
<p>The function is currently capable to deal with input derived from 
QuantaMaster instruments (Photon Technology International, Inc., Edison, 
New Jersey)running software versions <code>FelixGX v4.1</code> 
(see <code><a href="#topic+parse_felix_gx_output">parse_felix_gx_output</a></code>), <code>Felix32 v1.20</code> (see 
<code><a href="#topic+parse_felix_32_output">parse_felix_32_output</a></code>) as well as Horiba fluorimeters 
(HORIBA Europe GmbH, Oberursel, Germany) using <code>FluorS Essence v3.8</code>.
The format used in a given file is divined from the data structure and
appropriate internal parsing functions are called.
</p>
<p>If requested the time point of dithionite addition to a sample is determined 
using <span class="pkg">pracma</span>-supplied methodology and the acquisition time reset
accordingly (<code>0</code> henceforth corresponds to the time of addition).
</p>


<h3>Value</h3>

<p>A data frame with two columns:
</p>

<dl>
<dt>Time.in.sec</dt><dd><p>Numeric. Number of seconds since the start of experiment.</p>
</dd>
<dt>Fluorescence.Intensity</dt><dd><p>Numeric. Intensity of fluorescence (relative 
scale, no official unit).</p>
</dd>
</dl>

<p>If <code>determine_zero_time</code> and/or <code>adjust</code> are set to <code>TRUE</code>,
the return value will have an attribute <code>ZeroTimePoint</code> corresponding to
the determined time point of dithionite addition (always <code>0</code> (zero)
where <code>adjust == TRUE</code>).
</p>
<p>For Felix GX, if the file contains the information, the return value will  
also have an attribute <code>WavelengthsInNanometres</code>, which contains the 
excitation and emission wavelengths.
</p>


<h3>Author(s)</h3>

<p>Johannes Graumann
</p>


<h3>See Also</h3>

<p><code>scramblase_assay_input_validation</code>,
<code><a href="#topic+parse_felix_gx_output">parse_felix_gx_output</a></code>, 
<code><a href="#topic+parse_felix_32_output">parse_felix_32_output</a></code>,
<code><a href="#topic+parse_FluorS_Essence_3.8_output">parse_FluorS_Essence_3.8_output</a></code>,
<code><a href="#topic+parse_manual_output">parse_manual_output</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
# Extract example data
analysis_dir &lt;- file.path(tempdir(), "flippant-case-study")
fluor_file &lt;- extract_case_study_data(analysis_dir, "wildtypeEx1_0.txt")
# Parse an exemplary file
parse_fluorimeter_output(fluor_file, timepoint_of_measurement = 350) %&gt;%
  str()
</code></pre>

<hr>
<h2 id='parse_FluorS_Essence_3.8_output'>parse_FluorS_Essence_3.8_output</h2><span id='topic+parse_FluorS_Essence_3.8_output'></span>

<h3>Description</h3>

<p>Parse spectra from files provided by a Horiba fluorimeter 
(HORIBA Europe GmbH, Oberursel, Germany) using <code>FluorS Essence v3.8</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_FluorS_Essence_3.8_output(x = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_FluorS_Essence_3.8_output_+3A_x">x</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> vector resulting from 
<code><a href="base.html#topic+readLines">readLines</a></code> of the corresponding data file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function to <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
</p>


<h3>Value</h3>

<p>See <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
</p>


<h3>Author(s)</h3>

<p>Johannes Graumann
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>,
<code><a href="#topic+parse_felix_32_output">parse_felix_32_output</a></code>,
<code><a href="#topic+parse_felix_gx_output">parse_felix_gx_output</a></code>,
<code><a href="#topic+parse_manual_output">parse_manual_output</a></code>
</p>

<hr>
<h2 id='parse_manual_output'>parse_manual_output</h2><span id='topic+parse_manual_output'></span>

<h3>Description</h3>

<p>Parse spectra from files provided in a manually assembled 
format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_manual_output(x = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_manual_output_+3A_x">x</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> vector resulting from 
<code><a href="base.html#topic+readLines">readLines</a></code> of the corresponding data file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function to <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
The file in question is supposed to contain a tab-delimited table
with the columns <code>Time (sec)</code> and <code>Fluorescense Intensity</code>.
</p>


<h3>Value</h3>

<p>See <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>.
</p>


<h3>Author(s)</h3>

<p>Johannes Graumann
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>,
<code><a href="#topic+parse_felix_gx_output">parse_felix_gx_output</a></code>, 
<code><a href="#topic+parse_felix_32_output">parse_felix_32_output</a></code>
</p>

<hr>
<h2 id='scramblase_assay_input_template'>scramblase_assay_plot</h2><span id='topic+scramblase_assay_input_template'></span><span id='topic+scramblase_assay_plot'></span><span id='topic+scramblase_assay_calculations'></span><span id='topic+scramblase_assay_stats'></span><span id='topic+scramblase_assay_traces'></span>

<h3>Description</h3>

<p>Functions for the presentation and evaluaton of dithionite 
scramblase assays
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scramblase_assay_input_template(
  path = "scramblase_assay_input_template.txt",
  input_directory = NULL,
  overwrite = FALSE
)

scramblase_assay_plot(
  x,
  scale_to = c("model", "data"),
  ppr_scale_factor = 0.65,
  force_through_origin = TRUE,
  generation_of_algorithm = c(2, 1),
  split_by_experiment = TRUE,
  r_bar = 88,
  sigma_r_bar = 28
)

scramblase_assay_stats(
  x,
  scale_to = c("model", "data"),
  ppr_scale_factor = 0.65,
  force_through_origin = TRUE,
  generation_of_algorithm = c(2, 1),
  split_by_experiment = TRUE,
  r_bar = 88,
  sigma_r_bar = 28
)

scramblase_assay_traces(
  x,
  ppr_scale_factor = 0.65,
  time_min_sec = NA_real_,
  time_max_sec = NA_real_,
  adjust = TRUE,
  timepoint_of_measurement = 400,
  n_averaging = 10,
  annotate_traces = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scramblase_assay_input_template_+3A_path">path</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> object giving the path of an <b>empty</b>
template for a spreadsheet that can provide <code>x</code>.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_input_directory">input_directory</code></td>
<td>
<p>if not <code>NULL</code>, <code><a href="base.html#topic+character">character</a></code> object
giving the path to a directory where spectrometer output resides for the
prepopulation of the template spreadsheet.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_overwrite">overwrite</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> object allowing to overwrite existing
template paths.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_x">x</code></td>
<td>
<p><code><a href="base.html#topic+data.frame">data.frame</a></code> or path to a tab delimited file 
representing it (see &quot;Details&quot;).</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_scale_to">scale_to</code></td>
<td>
<p>Defines the source of <code>ymax</code>, defaulting to 
<code>model</code>. See &quot;Details&quot;.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_ppr_scale_factor">ppr_scale_factor</code></td>
<td>
<p><code><a href="base.html#topic+numeric">numeric</a></code> object providing a scale factor
to adjust internally calculated <code>Protein per Phospholipid (mg/mmol)</code>
ratios (<code>PPR</code>; see &quot;Details&quot;).</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_force_through_origin">force_through_origin</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether to force 
the fitted curve(s) to penetrate the origin (defaulting to <code>TRUE</code>). See
&quot;Details&quot;.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_generation_of_algorithm">generation_of_algorithm</code></td>
<td>
<p>Either <code>2</code> or <code>1</code>
(<code><a href="base.html#topic+numeric">numeric</a></code>; defaulting to <code>2</code>). See &quot;Details&quot;.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_split_by_experiment">split_by_experiment</code></td>
<td>
<p>A single <code><a href="base.html#topic+logical">logical</a></code>, indicating whether or
not calculations and plots will treat experimental series from different
experiments separately (<code>TRUE</code>, default) or whether data from all
experiments included is used for a single calculation/plot per experimental
series (<code>FALSE</code>). While the former emphasizes reproducibility, the
latter likely produces a more reliable fit.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_r_bar">r_bar</code></td>
<td>
<p>A <code><a href="base.html#topic+numeric">numeric</a></code>, representing the average radius of the
liposomes used in the assay. Only used in <code>generatio_of_algorithm = 2</code>
and defaulting to <code>88</code> (see Ploier et al. 2016 for details).</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_sigma_r_bar">sigma_r_bar</code></td>
<td>
<p>A <code><a href="base.html#topic+numeric">numeric</a></code>, representing the standard
deviationaverage of the radius distribution  of the liposomes used in the
assay. Only used in <code>generatio_of_algorithm = 2</code> and defaulting to
<code>28</code> (see Ploier et al. 2016 for details).</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_time_min_sec">time_min_sec</code></td>
<td>
<p>A single <code><a href="base.html#topic+numeric">numeric</a></code>. If given, 
<code><a href="#topic+scramblase_assay_traces">scramblase_assay_traces</a></code> produces a time/x axis trimmed to
this value (in seconds).</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_time_max_sec">time_max_sec</code></td>
<td>
<p>A single <code><a href="base.html#topic+numeric">numeric</a></code>. If given, 
<code><a href="#topic+scramblase_assay_traces">scramblase_assay_traces</a></code> produces a time/x axis trimmed to
this value (in seconds).</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_adjust">adjust</code></td>
<td>
<p>A single <code><a href="base.html#topic+logical">logical</a></code>, indicating whether (default) or 
not spectral traces to be plotted are algorithmically aligned at the time
point of dithionite addition.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_timepoint_of_measurement">timepoint_of_measurement</code></td>
<td>
<p>A <code><a href="base.html#topic+numeric">numeric</a></code> indicating the time
(in sec) at which fluorescence extrema are calculated (DEPENDENT ON
<code>adjust</code>!).</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_n_averaging">n_averaging</code></td>
<td>
<p>A <code><a href="base.html#topic+numeric">numeric</a></code> indicating the number of
data points used for extrema calculations.</p>
</td></tr>
<tr><td><code id="scramblase_assay_input_template_+3A_annotate_traces">annotate_traces</code></td>
<td>
<p>A <code><a href="base.html#topic+logical">logical</a></code> idicating whether fluorescence
traces should be annotated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code><a href="base.html#topic+data.frame">data.frame</a></code> accepted by the majority of the 
functions a an <code>R</code> object or path to a corresponding file (<code>x</code>) 
must have the following <b>mandatory</b> columns:
</p>

<dl>
<dt><code>Path</code>:</dt><dd><p>Paths to existing and readable <code>ASCII</code> output files 
of a fluorimeter. See <code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code> for details and
supported formats.</p>
</dd>
<dt><code>Protein Reconstituted (mg)</code>:</dt><dd><p>Self-explanatory. In the case of
<code><a href="#topic+scramblase_assay_traces">scramblase_assay_traces</a></code> <strong>ONLY</strong> this may be abused by
taking <code><a href="base.html#topic+character">character</a></code> values rather than the usually required
<code><a href="base.html#topic+numeric">numeric</a></code>s. Handy when e.g. plotting traces for &quot;Liposomes&quot;
and &quot;Proteoliposomes&quot;, rather than defined PPRs.</p>
</dd></dl>

<p>Further (<b>facultative</b>) columns are:
</p>

<dl>
<dt><code>Fluorescence Assay Vol. w/o DT (ul)</code>:</dt><dd><p>Volume of the 
fluorescence assay prior to addition of ditihionite (defaulting to
<code>2000</code>).</p>
</dd>
<dt><code>Fluorescence Assay Vol. with DT (ul)</code>:</dt><dd><p>Volume of the 
fluorescence assay after the addition ditihionite (defaulting to
<code>2040</code>).</p>
</dd>
<dt><code>Lipid in Reconstitution (mmol)</code>:</dt><dd><p>Self-explanatory. For the 
standard phospholipid experiment defaulting to <code>0.0045</code> (1 ml of a 
4.5 mM solution).</p>
</dd>
<dt><code>Timepoint of Measurement (s)</code>:</dt><dd><p>The time to determine terminal 
fluorescence, calculated from the point when dithionite is added, in
seconds, defaulting to <code>400</code>).</p>
</dd>
<dt><code>Experiment</code>:</dt><dd><p>Identifier for any given experiment. Used for 
<code>facet_wrap</code> during generation of <code>ggplot</code> output.
All data with one <code>Experiment</code> identifier ends up on one plot/facet.</p>
</dd>
<dt><code>Experimental Series</code>:</dt><dd><p>Identifier for a given series/graph (e.g.
<code>Extract</code> and <code>Depleted Extract</code>). Used by <code>color</code> during 
generation of <code>ggplot</code> output to differentiate lines in the
same plot/facet.</p>
</dd></dl>

<p>Based on Goren et al. (2014) and Ploier et al. (2016) data is processed as
follows (the majority of the processing is split off into the internal
function <code>scramblase_assay_calculations</code>):
</p>

<ul>
<li><p>Input is format checked and defaults are injected for facultative 
parameters/columns as appropriate (see input <code><a href="base.html#topic+data.frame">data.frame</a></code> 
format above). The internal function 
<code>scramblase_assay_input_validation</code> supplies this 
functionality.
</p>
</li>
<li><p>Fluorescence spectra are parsed using 
<code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code>. This includes automated 
determination of when dithionite was added to the sample using 
<span class="pkg">pracma</span>-supplied methodology and resetting the acquisition time 
accordingly (<code>0</code> henceforth corresponds to the time of addition).
</p>
</li>
<li><p>Pre-dithionite-addition <code>Baseline Fluorescence</code> is determined for
each spectrum by averaging (<code><a href="stats.html#topic+median">median</a></code>) over the 10 
values preceding dithionite addition.
</p>
</li>
<li><p>Post-dithinonite-addition <code>Minimum Fluorescence</code> is determined 
for each spectrum by averaging (<code><a href="stats.html#topic+median">median</a></code>) over the last ten
datapoints <code class="reqn">\leq 400\,\mbox{s}</code> (or 
<code>Timepoint of Measurement (s)</code>, see above).
</p>
</li>
<li><p>The <code>Minimum Fluorescence</code> is volume-corrected based on 
<code>Reaction Volume w/o DT (ul)</code> and <code>Reaction Volume with DT (ul)</code>
(see above).
</p>
</li>
<li><p>For each spectrum/datapoint a measured <code>Fluorescence Reduction</code> 
is calculated as 
</p>
<p style="text-align: center;"><code class="reqn">1 - \left(\frac{\mbox{\small Minimum Fluorescence}}{\mbox{\small Baseline Fluorescence}}\right)</code>
</p>

</li>
<li><p>A <code>Relative Fluorescence Reduction</code> is calculated in comparison
to the liposomes-only/no-protein control).
</p>
</li>
<li><p>A <code>Protein per Phospholipid (mg/mmol)</code> ratio (<code>PPR</code>) is 
calculated. If <code>ppr_scale_factor</code> is not <code>NULL</code>, the value is
scaled (divided) by that value to account for liposomes that remain
inaccessible to reconstitution with scramblase molecules.
</p>
</li>
<li><p>Depending on <code>split_by_experiment</code>, data are <code><a href="base.html#topic+split">split</a></code> 
for parallel treatment using either <code>Experimental Series</code>
(<code>split_by_experiment = TRUE</code>) or a combined
<code>Experimental Series</code>/<code>Experiment</code>
(<code>split_by_experiment = FALSE</code>) identifier (see above).
</p>
</li>
<li><p>A probability for a liposome holding <code class="reqn">\geq 1</code> scramblase 
molecules is calculated using 
</p>
<p style="text-align: center;"><code class="reqn">\frac{y-y_0}{y_{\mbox{\scriptsize max}}-y_0}</code>
</p>

<p>where <code class="reqn">y</code> is the <code>Relative Fluorescence Reduction</code> and <code class="reqn">y_0</code>
is the <code>Relative Fluorescence Reduction</code> in an experiment without
addition of protein extract. Depending on the <code>scale_to</code> parameter, 
<code class="reqn">y_{\mbox{\scriptsize max}}</code> is either the maximal <code>Relative Fluorescence Reduction</code> 
in the series (<code>scale_to = "data"</code>) or derived from a 
mono-exponential fit to the data (<code>scale_to = "model"</code>). The latter 
(default) is a precaution for the case where the protein/phospholipid
titration did not reach the plateau of the saturation curve.
</p>
</li>
<li><p>A monoexponential curve is fitted using <code>nlsLM</code>.
</p>
<p>If <code>generation_of_algorithm</code> is <code>1</code>, the underlying formula is
derived from Goren et al. (2014) and data is fitted to either
</p>
<p style="text-align: center;"><code class="reqn">p(\geq 1)=b\cdot(1-e^{-\frac{\mbox{\tiny PPR}}{a}})</code>
</p>
 
<p>(if <code>force_through_origin = TRUE</code>; default) or
</p>
<p style="text-align: center;"><code class="reqn">p(\geq 1)=b-c\cdot e^{-\frac{\mbox{\tiny PPR}}{a}}</code>
</p>

<p>(if <code>force_through_origin = FALSE</code>). The latter implies more degrees
of freedom and occasionaly results in better fits to experimental data.
Mechanistic implication, however, are unclear.
</p>
<p>If <code>generation_of_algorithm</code> is <code>2</code> (default), the more
elaborate model put forth in Ploier et al. (2016) is employed, using
either
</p>
<p style="text-align: center;"><code class="reqn">p(\geq 1)=b\cdot(\frac{1}{\sqrt{1+\sigma^2\cdot a \cdot x}})\cdot exp(\frac{-\bar{r}^2\cdot a \cdot x}{1+\sigma^2\cdot a\cdot x})</code>
</p>

<p>(if <code>force_through_origin = TRUE</code>; default) or
</p>
<p style="text-align: center;"><code class="reqn">p(\geq 1)=b-c\cdot(\frac{1}{\sqrt{1+\sigma^2\cdot a \cdot x}})\cdot exp(\frac{-\bar{r}^2\cdot a \cdot x}{1+\sigma^2\cdot a\cdot x})</code>
</p>

<p>(if <code>force_through_origin = FALSE</code>).
</p>
</li>
<li><p>Data <code><a href="base.html#topic+split">split</a></code> apart above are recombined and a 
<code>ggplot</code> object is assembled with the following layers:
</p>

<ul>
<li><p>Lines (<code>geom_line</code>) representing the monoexponential
fit(s). <code>color</code> is used to differentiate 
<code>Experimental Series</code>.
</p>
</li>
<li><p>If <code>generation_of_algorithm</code> is <code>1</code>, segments
(<code>geom_segment</code>) representing the <code>PPR</code>
at which the fit constant <code class="reqn">a</code> is equal to <code>PPR</code>. This 
<code class="reqn">\tau</code> value has the implication that at this <code>PPR</code> all 
vesicles on average have one scramblase and 63% have one or more 
(i.e. are active). <code>color</code> is used to differentiate 
<code>Experimental Series</code>. Where <code>generation_of_algorithm</code> is
<code>2</code>, interpretation of <code class="reqn">a</code> is less obvious and this layer is
thus ommited in the plot.
</p>
</li>
<li><p>Points (<code>geom_point</code>) representing the corresponding 
datapoints. <code>color</code> is used to differentiate 
<code>Experimental Series</code>.
</p>
</li>
<li><p>Plots are finally <code>facet_wrap</code>ed by <code>Experiment</code> 
(if <code>split_by_experiment = TRUE</code>) and labels adjusted
cosmetically.</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p><code>scramblase_assay_traces</code> and <code>scramblase_assay_plot</code> return 
<code>ggplot</code> objects representing the raw fluorescence traces and a
complete PPR plot, respectively. <code>scramblase_assay_input_template</code> 
generates a tab-delimited <code>ASCII</code> file in the file system and invisibly
returns the path name. <code>scramblase_assay_stats</code> assembles (and prints) 
assay statistics as a <code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>


<h3>Author(s)</h3>

<p>Johannes Graumann
</p>


<h3>References</h3>

<p>Menon, I., Huber, T., Sanyal, S., Banerjee, S., Barre, P., Canis, 
S., Warren, J.D., Hwa, J., Sakmar, T.P., and Menon, A.K. (2011)
&lt;DOI:10.1016/j.cub.2010.12.031&gt;
</p>
<p>Goren, M.A., Morizumi, T., Menon, I., Joseph, J.S., Dittman, J.S., 
Cherezov, V., Stevens, R.C., Ernst, O.P., and Menon, A.K. (2014)
&lt;DOI:10.1038/ncomms6115&gt;
</p>
<p>Ploier, B., Caro, L.N., Morizumi, T., Pandey, K., Pearring, J.N.,
Goren, M.A., Finnemann, S.C., Graumann, J., Arshavsky, V.Y., Dittman, J.S.,
Ernst, O.P., Menon, A.K. (2016). &lt;DOI:10.1038/ncomms12832&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+parse_fluorimeter_output">parse_fluorimeter_output</a></code> <code>nlsLM</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
library(ggplot2)
# Extract example data
analysis_dir &lt;- file.path(tempdir(), "flippant-case-study")
extract_case_study_data(analysis_dir)
template_file &lt;- file.path(analysis_dir, "inputTable.txt")
# Plot the spectral traces
scramblase_assay_traces(
  template_file,
  time_max_sec = 350,
  timepoint_of_measurement = 350)
# Plot the PPR plot(s) faceting by experiment
scramblase_assay_plot(template_file)
# Generate tabular results
scramblase_assay_stats(template_file)
# Plot the PPR plot(s) forgoing faceting by experiment
scramblase_assay_plot(template_file, split_by_experiment = FALSE)
# Generate tabular results
scramblase_assay_stats(template_file, split_by_experiment = FALSE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

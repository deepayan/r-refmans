<!DOCTYPE html><html><head><title>Help for package getspanel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {getspanel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#break_uncertainty'><p>Estimate Breakdate Uncertainty</p></a></li>
<li><a href='#check.time.subset.vectors'><p>Internal function to check vectors that subset the indicator selection using the time dimension</p></a></li>
<li><a href='#EU_emissions_road'><p>CO2 Data for EU Road Emissions</p></a></li>
<li><a href='#EUCO2residential'><p>CO2 Data for the EU Residential Sector</p></a></li>
<li><a href='#felmFun'><p>Internal lfe/felm Estimation Method</p></a></li>
<li><a href='#fixestFun'><p>Internal fixest/feols Estimation Method</p></a></li>
<li><a href='#get_indicators'><p>Extract the retained indicators from an <code>isatpanel</code> object</p></a></li>
<li><a href='#identify_indicator_timings'><p>Internal function to identify the timing of selected indicators</p></a></li>
<li><a href='#isatpanel'><p>Indicator Saturation for Panel Data</p></a></li>
<li><a href='#logLik.plm'><p>Log-Likelihood Function for a plm object</p></a></li>
<li><a href='#pandata_simulated'><p>Simulated Panel Data</p></a></li>
<li><a href='#plmFun'><p>plm Function to estimate isatpanel</p></a></li>
<li><a href='#plot_counterfactual'><p>Plot the Counterfactual Path</p></a></li>
<li><a href='#plot_grid'><p>Plotting an isatpanel object</p></a></li>
<li><a href='#plot_residuals'><p>Plot Residuals from 'isatpanel' against OLS</p></a></li>
<li><a href='#plot.isatpanel'><p>Plotting an isatpanel object</p></a></li>
<li><a href='#print.isatpanel'><p>Printing isatpanel results</p></a></li>
<li><a href='#robust_isatpanel'><p>Get robust Standard Errors for the isatpanel result</p></a></li>
<li><a href='#Within_plm'><p>Use the within transformation from the plm package</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>General-to-Specific Modelling of Panel Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-19</td>
</tr>
<tr>
<td>Description:</td>
<td>Uses several types of indicator saturation and automated General-to-Specific (GETS) modelling from the 'gets' package and applies it to panel data. This allows the detection of structural breaks in panel data, operationalising a reverse causal approach of causal inference, see Pretis and Schwarz (2022) &lt;<a href="https://doi.org/10.2139%2Fssrn.4022745">doi:10.2139/ssrn.4022745</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/moritzpschwarz/getspanel">https://github.com/moritzpschwarz/getspanel</a>,
<a href="http://moritzschwarz.org/getspanel/">http://moritzschwarz.org/getspanel/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/moritzpschwarz/getspanel/issues">https://github.com/moritzpschwarz/getspanel/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, lfe, prettydoc, plm, fixest,
lmtest, sandwich, cowplot</td>
</tr>
<tr>
<td>Imports:</td>
<td>gets, fastDummies, Matrix, ggplot2, stats, mvtnorm</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-19 16:51:17 UTC; morit</td>
</tr>
<tr>
<td>Author:</td>
<td>Felix Pretis [aut],
  Moritz Schwarz <a href="https://orcid.org/0000-0003-0340-3780"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Moritz Schwarz &lt;moritz.schwarz@scmo.eu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-19 17:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='break_uncertainty'>Estimate Breakdate Uncertainty</h2><span id='topic+break_uncertainty'></span>

<h3>Description</h3>

<p>Estimate Breakdate Uncertainty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>break_uncertainty(x, m = 15, interval = 0.99)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="break_uncertainty_+3A_x">x</code></td>
<td>
<p>An object produced by the isatpanel function</p>
</td></tr>
<tr><td><code id="break_uncertainty_+3A_m">m</code></td>
<td>
<p>Maximum range of interval (default is 15 time periods).</p>
</td></tr>
<tr><td><code id="break_uncertainty_+3A_interval">interval</code></td>
<td>
<p>Approximate level of interval. CI level will be at least &gt; interval. Default 0.99 is a 99% CI, so the time interval will always be the integer that results in at least &gt; 99% coverage.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame that indicates the uncertainty for each FESIS break. The time interval is given by the estimated date in the 'time' column with a confidence interval of +/- the interval in the tci column.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(EU_emissions_road)

# Group specification
EU15 &lt;- c("Austria", "Germany", "Denmark", "Spain", "Finland", "Belgium",
         "France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
         "Netherlands", "Greece", "Portugal", "Sweden")

# Prepare sample and data
EU_emissions_road_short &lt;- EU_emissions_road[
EU_emissions_road$country %in% EU15 &amp;
EU_emissions_road$year &gt;= 2000,
]

# Run
result &lt;- isatpanel(
  data = EU_emissions_road_short,
  formula = ltransport.emissions ~ lgdp + I(lgdp^2) + lpop,
  index = c("country", "year"),
  effect = "twoways",
  fesis = TRUE,
  plot = FALSE,
  t.pval = 0.01
)

break_uncertainty(result)

</code></pre>

<hr>
<h2 id='check.time.subset.vectors'>Internal function to check vectors that subset the indicator selection using the time dimension</h2><span id='topic+check.time.subset.vectors'></span>

<h3>Description</h3>

<p>Internal function to check vectors that subset the indicator selection using the time dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.time.subset.vectors(time.vector, vector.name, time, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check.time.subset.vectors_+3A_time.vector">time.vector</code></td>
<td>
<p>A vector containing the user input in e.g. <code>tis_time</code> or <code>fesis_time</code></p>
</td></tr>
<tr><td><code id="check.time.subset.vectors_+3A_vector.name">vector.name</code></td>
<td>
<p>The name of argument that the user inputted this vector in. This is just to make error messages more elaborate.</p>
</td></tr>
<tr><td><code id="check.time.subset.vectors_+3A_time">time</code></td>
<td>
<p>The time dimension of isatpanel.</p>
</td></tr>
<tr><td><code id="check.time.subset.vectors_+3A_id">id</code></td>
<td>
<p>The id dimension of isatpanel.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Does not return any value but will throw error if something is not correct.
</p>

<hr>
<h2 id='EU_emissions_road'>CO2 Data for EU Road Emissions</h2><span id='topic+EU_emissions_road'></span>

<h3>Description</h3>

<p>CO2 Data for EU Road Emissions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EU_emissions_road
</code></pre>


<h3>Format</h3>

<p>A data frame with 1550 rows and 13 variables:
</p>

<dl>
<dt>X</dt><dd><p>Index</p>
</dd>
<dt>country</dt><dd><p>Country</p>
</dd>
<dt>year</dt><dd><p>Year</p>
</dd>
<dt>gdp</dt><dd><p>Gross Domestic Product</p>
</dd>
<dt>pop</dt><dd><p>Population</p>
</dd>
<dt>transport.emissions</dt><dd><p>Transport CO2 Emissions</p>
</dd>
<dt>lgdp</dt><dd><p>Log GDP</p>
</dd>
<dt>lpop</dt><dd><p>Log Population</p>
</dd>
<dt>ltransport.emissions</dt><dd><p>Log Transport CO2 Emissions</p>
</dd>
<dt>const</dt><dd><p>Constant</p>
</dd>
<dt>L1.ltransport.emissions</dt><dd><p>Lag 1 Log Transport CO2 Emissions</p>
</dd>
<dt>L1.lgdp</dt><dd><p>Lag 1 Log GDP</p>
</dd>
<dt>L1.lpop</dt><dd><p>Lag 1 Log Population</p>
</dd>
</dl>



<h3>Source</h3>

<p>EDGAR
</p>

<hr>
<h2 id='EUCO2residential'>CO2 Data for the EU Residential Sector</h2><span id='topic+EUCO2residential'></span>

<h3>Description</h3>

<p>CO2 Data for the EU Residential Sector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EUCO2residential
</code></pre>


<h3>Format</h3>

<p>A data frame with 1550 rows and 9 variables:
</p>

<dl>
<dt>country</dt><dd><p>Country</p>
</dd>
<dt>year</dt><dd><p>Year</p>
</dd>
<dt>lgdp</dt><dd><p>Log Gross Domestic Product</p>
</dd>
<dt>lhdd</dt><dd><p>Log Heating Degree Days</p>
</dd>
<dt>lcdd</dt><dd><p>Log Cooling Degree Days</p>
</dd>
<dt>urban</dt><dd><p>Urban Share</p>
</dd>
<dt>av.rate</dt><dd><p>EU Interest Rate</p>
</dd>
<dt>pop</dt><dd><p>Population</p>
</dd>
<dt>agg.directem</dt><dd><p>Aggregated Direct Emissions</p>
</dd>
</dl>



<h3>Source</h3>

<p>IEA
</p>

<hr>
<h2 id='felmFun'>Internal lfe/felm Estimation Method</h2><span id='topic+felmFun'></span>

<h3>Description</h3>

<p>Internal lfe/felm Estimation Method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>felmFun(y, x, effect, time, id, cluster = "individual", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="felmFun_+3A_y">y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="felmFun_+3A_x">x</code></td>
<td>
<p>matrix of regressors</p>
</td></tr>
<tr><td><code id="felmFun_+3A_effect">effect</code></td>
<td>
<p>Fixed Effect specification</p>
</td></tr>
<tr><td><code id="felmFun_+3A_time">time</code></td>
<td>
<p>Character vector of name of the time variable</p>
</td></tr>
<tr><td><code id="felmFun_+3A_id">id</code></td>
<td>
<p>Character vector of the name of the group variable</p>
</td></tr>
<tr><td><code id="felmFun_+3A_cluster">cluster</code></td>
<td>
<p>Character vector of the variable(s) to cluster Standard Errors at</p>
</td></tr>
<tr><td><code id="felmFun_+3A_...">...</code></td>
<td>
<p>Further arguments to pass to gets::isat</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List to be used by gets::isat
</p>

<hr>
<h2 id='fixestFun'>Internal fixest/feols Estimation Method</h2><span id='topic+fixestFun'></span>

<h3>Description</h3>

<p>Internal fixest/feols Estimation Method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fixestFun(y, x, effect, time, id, cluster = "individual", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fixestFun_+3A_y">y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="fixestFun_+3A_x">x</code></td>
<td>
<p>matrix of regressors</p>
</td></tr>
<tr><td><code id="fixestFun_+3A_effect">effect</code></td>
<td>
<p>Fixed Effect specification</p>
</td></tr>
<tr><td><code id="fixestFun_+3A_time">time</code></td>
<td>
<p>Character vector of name of the time variable</p>
</td></tr>
<tr><td><code id="fixestFun_+3A_id">id</code></td>
<td>
<p>Character vector of the name of the group variable</p>
</td></tr>
<tr><td><code id="fixestFun_+3A_cluster">cluster</code></td>
<td>
<p>Character vector of the variable(s) to cluster Standard Errors at</p>
</td></tr>
<tr><td><code id="fixestFun_+3A_...">...</code></td>
<td>
<p>Further arguments to pass to gets::isat</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List to be used by gets::isat
</p>

<hr>
<h2 id='get_indicators'>Extract the retained indicators from an <code>isatpanel</code> object</h2><span id='topic+get_indicators'></span>

<h3>Description</h3>

<p>Extract the retained indicators from an <code>isatpanel</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_indicators(object, uis_breaks = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_indicators_+3A_object">object</code></td>
<td>
<p>An object produced by the isatpanel function.</p>
</td></tr>
<tr><td><code id="get_indicators_+3A_uis_breaks">uis_breaks</code></td>
<td>
<p>A string with the names of user-specified indicators.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of indicators.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(EU_emissions_road)

# Group specification
EU15 &lt;- c("Austria", "Germany", "Denmark", "Spain", "Finland", "Belgium",
         "France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
         "Netherlands", "Greece", "Portugal", "Sweden")

# Prepare sample and data
EU_emissions_road_short &lt;- EU_emissions_road[
EU_emissions_road$country %in% EU15 &amp;
EU_emissions_road$year &gt;= 2000,
]

# Run
result &lt;- isatpanel(
  data = EU_emissions_road_short,
  formula = ltransport.emissions ~ lgdp + I(lgdp^2) + lpop,
  index = c("country", "year"),
  effect = "twoways",
  fesis = TRUE,
  plot = FALSE,
  t.pval = 0.01
)
plot(result)
plot_grid(result)

# print the retained indicators
get_indicators(result)

</code></pre>

<hr>
<h2 id='identify_indicator_timings'>Internal function to identify the timing of selected indicators</h2><span id='topic+identify_indicator_timings'></span>

<h3>Description</h3>

<p>Internal function to identify the timing of selected indicators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>identify_indicator_timings(object, uis_breaks = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="identify_indicator_timings_+3A_object">object</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="identify_indicator_timings_+3A_uis_breaks">uis_breaks</code></td>
<td>
<p>A character vector with the names of the UIS breaks if the <code>uis</code> argument was used in <a href="#topic+isatpanel">isatpanel</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data.frames
</p>

<hr>
<h2 id='isatpanel'>Indicator Saturation for Panel Data</h2><span id='topic+isatpanel'></span>

<h3>Description</h3>

<p>This function is essentially a wrapper function around the <code><a href="gets.html#topic+isat">gets::isat()</a></code> function from the <code>gets</code> package.
This function allows the running of various different indicator saturation techniques that can, for example, be used to answer reverse causal questions.
Indicator Saturation techniques fully saturate a model with indicators (for example dummy-indicators or step-indicators) and then use an automated block-search
algorithm to retain only relevant indicators that improve the model (based on a chosen information criterion).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isatpanel(
  data = NULL,
  formula = NULL,
  index = NULL,
  effect = c("twoways"),
  na.remove = TRUE,
  engine = NULL,
  user.estimator = NULL,
  cluster = "none",
  ar = 0,
  iis = FALSE,
  jiis = FALSE,
  jsis = FALSE,
  fesis = FALSE,
  tis = FALSE,
  csis = FALSE,
  cfesis = FALSE,
  fesis_id = NULL,
  fesis_time = NULL,
  tis_id = NULL,
  tis_time = NULL,
  csis_var = NULL,
  csis_time = NULL,
  cfesis_var = NULL,
  cfesis_id = NULL,
  cfesis_time = NULL,
  uis = NULL,
  t.pval = 0.001,
  plot = TRUE,
  print.searchinfo = TRUE,
  plm_model = "within",
  y = NULL,
  id = NULL,
  time = NULL,
  mxreg = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isatpanel_+3A_data">data</code></td>
<td>
<p>The input data.frame object.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_formula">formula</code></td>
<td>
<p>Formula argument. The dependent variable will be the left-most element, separated by a ~ symbol from the remaining regressors (e.g. y ~ x + z). Note the intercept will always be removed unless the effect is &quot;none&quot; - this means that if any fixed effects are specified, the intercept will always be removed.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_index">index</code></td>
<td>
<p>Specify the name of the group and time column in the format c(&quot;id&quot;, &quot;time&quot;).</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_effect">effect</code></td>
<td>
<p>Fixed Effect specification. Possible arguments: &quot;twoways&quot; (Default), &quot;individual&quot;, &quot;time&quot;, or &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_na.remove">na.remove</code></td>
<td>
<p>remove NAs</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_engine">engine</code></td>
<td>
<p>Estimation function to use. Default is NULL, which uses the default estimation procedure of the gets package. Alternatives are &quot;fixest&quot;, &quot;plm&quot;, or &quot;felm&quot;.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_user.estimator">user.estimator</code></td>
<td>
<p>Use a user.estimator</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_cluster">cluster</code></td>
<td>
<p>cluster Standard Errors at this level. Default is &quot;none&quot;. Possible values are: &quot;individual&quot;, &quot;time&quot;, or &quot;twoways&quot;.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_ar">ar</code></td>
<td>
<p>Autoregressive Term to be included. default is 0.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_iis">iis</code></td>
<td>
<p>Logical. Use Impulse Indicator Saturation.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_jiis">jiis</code></td>
<td>
<p>Logical. Use Joint Impulse Indicator Saturation (Outliers are common across all units). This is essentially just a time fixed effect, but this allows selection of FE.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_jsis">jsis</code></td>
<td>
<p>Logical. Use Join Step Indicator Saturation (steps are common across all units). Will only be retained if time fixed effects are not included (i.e. effect = 'none' or 'individual'), as they are collinear otherwise.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_fesis">fesis</code></td>
<td>
<p>Logical. Use Fixed Effect Step Indicator Saturation. Constructed by multiplying a constant (1) with group Fixed Effects. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_tis">tis</code></td>
<td>
<p>Logical. Use Trend Indicator Saturation. Constructed by fitting a trend for each unit from every observation. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_csis">csis</code></td>
<td>
<p>Logical. Use Coefficient Step Indicator Saturation. Constructed by Default is FALSE.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_cfesis">cfesis</code></td>
<td>
<p>Logical. Use Coefficient-Fixed Effect Indicator Saturation. Default is FALSE.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_fesis_id">fesis_id</code></td>
<td>
<p>The FESIS method can be conducted for all (default) individuals/units (i.e. looking for breaks in individual countries) or just a subset of them. If you want to use a subset, specify the individuals/units for which you want to test the stability of the fixed effect in a character vector.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_fesis_time">fesis_time</code></td>
<td>
<p>The FESIS method can be conducted for all (default) time periods (i.e. looking for Fixed Effect Step-shifts at every time period) or just a subset of them. If you want to use a subset, specify the time periods as a numeric vector (for all id's the same like <code>1:10</code>) or as a list with an equal number of elements as there are id's e.g. <code>list(A = 1:10, B = NULL, C = 5:10)</code>.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_tis_id">tis_id</code></td>
<td>
<p>The TIS method can be conducted for all (default) individuals/units (i.e. looking for trends in individual countries) or just a subset of them. If you want to use a subset, specify the individuals/units for which you want to test the trend in a character vector.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_tis_time">tis_time</code></td>
<td>
<p>The TIS method can be conducted for all (default) time periods (i.e. looking for trends at every time period) or just a subset of them. If you want to use a subset, specify the time periods as a numeric vector (for all id's the same like <code>1:10</code>) or as a list with an equal number of elements as there are id's e.g. <code>list(A = 1:10, B = NULL, C = 5:10)</code>.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_csis_var">csis_var</code></td>
<td>
<p>The CSIS method can be conducted for all (default) variables or just a subset of them. If you want to use a subset, please specify the column names of the variable in a character vector.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_csis_time">csis_time</code></td>
<td>
<p>The CSIS method can be conducted for all (default) time periods (i.e. looking for Coefficient Step Shifts across all units at every time period) or just a subset of them. If you want to use a subset, specify the time periods as a numeric vector (e.g. <code>1:10</code>).'</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_cfesis_var">cfesis_var</code></td>
<td>
<p>The CFESIS method can be conducted for all variables (default) or just a subset of them. If you want to use a subset, please specify the column names of the variable in a character vector.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_cfesis_id">cfesis_id</code></td>
<td>
<p>The CFESIS method can be conducted for all individuals/units (default) or just a subset of them. If you want to use a subset, please specify the individuals/units to be tested in a character vector.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_cfesis_time">cfesis_time</code></td>
<td>
<p>The CFESIS method can be conducted for all (default) time periods (i.e. looking for Coefficient Step Shifts per unit at every time period) or just a subset of them. If you want to use a subset, specify the time periods as a numeric vector (for all id's the same like <code>1:10</code>) or as a list with an equal number of elements as there are id's e.g. <code>list(A = 1:10, B = NULL, C = 5:10)</code>.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_uis">uis</code></td>
<td>
<p>Matrix or List. This can be used to include a set of UIS (User Specified Indicators). Must be equal to the sample size (so it is recommended to use this only with datasets without <code>NA</code> values. Default is <code>NULL</code>. See the reference by Genaro Sucarrat (2020) below for an explanation of the UIS system.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_t.pval">t.pval</code></td>
<td>
<p>numeric value between 0 and 1. The significance level used for the two-sided regressor significance t-tests</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_plot">plot</code></td>
<td>
<p>Logical. Should the final object be plotted? Default is TRUE. The output is a combination of <code>plot()</code> and <code><a href="#topic+plot_grid">plot_grid()</a></code> using the <code>cowplot</code> package.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_print.searchinfo">print.searchinfo</code></td>
<td>
<p>logical. If <code>TRUE</code> (default), then detailed information is printed.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_plm_model">plm_model</code></td>
<td>
<p>Type of PLM model (only if engine = &quot;PLM&quot;)</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_y">y</code></td>
<td>
<p>Deprecated. The dependent variable. Can be used when data, index, and formula are not specified.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_id">id</code></td>
<td>
<p>Deprecated. Can be used when data, index, and formula are not specified. Must be a vector of the grouping variable as a character or factor</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_time">time</code></td>
<td>
<p>Deprecated. Can be used when data, index, and formula are not specified. Must be a vector of the time variable as an integer or numeric.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_mxreg">mxreg</code></td>
<td>
<p>Deprecated.The co-variates matrix. Superseded by the formula argument.</p>
</td></tr>
<tr><td><code id="isatpanel_+3A_...">...</code></td>
<td>
<p>Further arguments to <code><a href="gets.html#topic+isat">gets::isat()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class 'isatpanel'.
</p>


<h3>References</h3>

<p>Felix Pretis and Moritz Schwarz (2022). Discovering What Mattered: Answering Reverse Causal Questions by Detecting Unknown Treatment Assignment and Timing as Breaks in Panel Models. January 31, 2022. Available at SSRN: https://ssrn.com/abstract=4022745 or http://dx.doi.org/10.2139/ssrn.4022745
</p>
<p>Genaro Sucarrat. User-Specified General-to-Specific and Indicator Saturation Methods, The R Journal (2020) 12:2, pages 388-401. Available at: https://journal.r-project.org/archive/2021/RJ-2021-024/index.html
</p>


<h3>See Also</h3>

<p><code><a href="gets.html#topic+isat">gets::isat()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(EU_emissions_road)

# Group specification
EU15 &lt;- c("Austria", "Germany", "Denmark", "Spain", "Finland", "Belgium",
         "France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
         "Netherlands", "Greece", "Portugal", "Sweden")

# Prepare sample and data
EU_emissions_road_short &lt;- EU_emissions_road[
EU_emissions_road$country %in% EU15 &amp;
EU_emissions_road$year &gt;= 2000,
]

# Run
result &lt;- isatpanel(
  data = EU_emissions_road_short,
  formula = ltransport.emissions ~ lgdp + I(lgdp^2) + lpop,
  index = c("country", "year"),
  effect = "twoways",
  fesis = TRUE,
  plot = FALSE,
  t.pval = 0.01
)
plot(result)
plot_grid(result)

# print the retained indicators
get_indicators(result)

</code></pre>

<hr>
<h2 id='logLik.plm'>Log-Likelihood Function for a plm object</h2><span id='topic+logLik.plm'></span>

<h3>Description</h3>

<p>Log-Likelihood Function for a plm object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'plm'
logLik(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logLik.plm_+3A_object">object</code></td>
<td>
<p>A plm object</p>
</td></tr>
<tr><td><code id="logLik.plm_+3A_...">...</code></td>
<td>
<p>Further Arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Log-Likelihood
</p>

<hr>
<h2 id='pandata_simulated'>Simulated Panel Data</h2><span id='topic+pandata_simulated'></span>

<h3>Description</h3>

<p>Simulated Panel Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pandata_simulated
</code></pre>


<h3>Format</h3>

<p>A data frame with 400 rows and 9 variables:
</p>

<dl>
<dt>country</dt><dd><p>A random country</p>
</dd>
<dt>year</dt><dd><p>Year</p>
</dd>
<dt>gdp</dt><dd><p>A simulated Gross Domestic Product</p>
</dd>
<dt>temp</dt><dd><p>A simulated variable standing for temperature</p>
</dd>
<dt>const</dt><dd><p>The constant</p>
</dd>
<dt>country_1</dt><dd><p>A dummy for country 1</p>
</dd>
<dt>country_2</dt><dd><p>A dummy for country 2</p>
</dd>
<dt>country_3</dt><dd><p>A dummy for country 3</p>
</dd>
<dt>country_4</dt><dd><p>A dummy for country 4</p>
</dd>
</dl>
<p>...

</p>


<h3>Source</h3>

<p><a href="https://github.com/moritzpschwarz/getspanel/">https://github.com/moritzpschwarz/getspanel/</a>
</p>

<hr>
<h2 id='plmFun'>plm Function to estimate isatpanel</h2><span id='topic+plmFun'></span>

<h3>Description</h3>

<p>plm Function to estimate isatpanel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plmFun(y, x, time, id, cluster, effect, model = "pooling", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plmFun_+3A_y">y</code></td>
<td>
<p>Dependent Variable</p>
</td></tr>
<tr><td><code id="plmFun_+3A_x">x</code></td>
<td>
<p>matrix or data.frame of regressors</p>
</td></tr>
<tr><td><code id="plmFun_+3A_time">time</code></td>
<td>
<p>Vector of time variable</p>
</td></tr>
<tr><td><code id="plmFun_+3A_id">id</code></td>
<td>
<p>Vector of group variable</p>
</td></tr>
<tr><td><code id="plmFun_+3A_cluster">cluster</code></td>
<td>
<p>cluster specification</p>
</td></tr>
<tr><td><code id="plmFun_+3A_effect">effect</code></td>
<td>
<p>effect specification</p>
</td></tr>
<tr><td><code id="plmFun_+3A_model">model</code></td>
<td>
<p>model specification</p>
</td></tr>
<tr><td><code id="plmFun_+3A_...">...</code></td>
<td>
<p>Further arguments passed to plm</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list to be used by gets::isat
</p>

<hr>
<h2 id='plot_counterfactual'>Plot the Counterfactual Path</h2><span id='topic+plot_counterfactual'></span>

<h3>Description</h3>

<p>Plot the Counterfactual Path
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_counterfactual(
  x,
  plus_t = 5,
  facet.scales = "free",
  title = NULL,
  zero_line = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_counterfactual_+3A_x">x</code></td>
<td>
<p>An object produced by the isatpanel function</p>
</td></tr>
<tr><td><code id="plot_counterfactual_+3A_plus_t">plus_t</code></td>
<td>
<p>Number of time periods for the counterfactual to be displayed (default = 5).</p>
</td></tr>
<tr><td><code id="plot_counterfactual_+3A_facet.scales">facet.scales</code></td>
<td>
<p>To be passed to ggplot2::facet_wrap. Default is &quot;free&quot; (i.e. a separate y axis for each panel group/id). Alternatives are: &quot;fixed&quot;, &quot;fixed_y&quot;, and &quot;fixed_x&quot;.</p>
</td></tr>
<tr><td><code id="plot_counterfactual_+3A_title">title</code></td>
<td>
<p>Plot title. Must be a character vector.</p>
</td></tr>
<tr><td><code id="plot_counterfactual_+3A_zero_line">zero_line</code></td>
<td>
<p>Plot a horizontal line at y = 0. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 plot that plots an 'isatpanel' object and shows the counterfactuals for each break.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(EU_emissions_road)

# Group specification
EU15 &lt;- c("Austria", "Germany", "Denmark", "Spain", "Finland", "Belgium",
         "France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
         "Netherlands", "Greece", "Portugal", "Sweden")

# Prepare sample and data
EU_emissions_road_short &lt;- EU_emissions_road[
EU_emissions_road$country %in% EU15 &amp;
EU_emissions_road$year &gt;= 2000,
]

# Run
result &lt;- isatpanel(
  data = EU_emissions_road_short,
  formula = ltransport.emissions ~ lgdp + I(lgdp^2) + lpop,
  index = c("country", "year"),
  effect = "twoways",
  fesis = TRUE,
  plot = FALSE,
  t.pval = 0.01
)
plot(result)
plot_grid(result)
plot_counterfactual(result)

</code></pre>

<hr>
<h2 id='plot_grid'>Plotting an isatpanel object</h2><span id='topic+plot_grid'></span>

<h3>Description</h3>

<p>Plotting an isatpanel object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_grid(x, title = NULL, regex_exclude_indicators = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_grid_+3A_x">x</code></td>
<td>
<p>An object produced by the isatpanel function</p>
</td></tr>
<tr><td><code id="plot_grid_+3A_title">title</code></td>
<td>
<p>Plot title. Must be a character vector.</p>
</td></tr>
<tr><td><code id="plot_grid_+3A_regex_exclude_indicators">regex_exclude_indicators</code></td>
<td>
<p>A regex character vector to exclude the inclusion of certain indicators in the plot. Default = NULL. Use with care, experimental.</p>
</td></tr>
<tr><td><code id="plot_grid_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to ggplot2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 plot that plots an 'isatpanel' object and shows all indicators as a grid to give a good and quick overview.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(EU_emissions_road)

# Group specification
EU15 &lt;- c("Austria", "Germany", "Denmark", "Spain", "Finland", "Belgium",
         "France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
         "Netherlands", "Greece", "Portugal", "Sweden")

# Prepare sample and data
EU_emissions_road_short &lt;- EU_emissions_road[
EU_emissions_road$country %in% EU15 &amp;
EU_emissions_road$year &gt;= 2000,
]

# Run
result &lt;- isatpanel(
  data = EU_emissions_road_short,
  formula = ltransport.emissions ~ lgdp + I(lgdp^2) + lpop,
  index = c("country", "year"),
  effect = "twoways",
  fesis = TRUE,
  plot = FALSE,
  t.pval = 0.01
)
plot(result)
plot_grid(result)

</code></pre>

<hr>
<h2 id='plot_residuals'>Plot Residuals from 'isatpanel' against OLS</h2><span id='topic+plot_residuals'></span>

<h3>Description</h3>

<p>Plot Residuals from 'isatpanel' against OLS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_residuals(isatpanelobject)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_residuals_+3A_isatpanelobject">isatpanelobject</code></td>
<td>
<p>An output from the 'isatpanel' function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 plot that plots an 'isatpanel' object and shows the residuals over time in comparison to an OLS model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(EU_emissions_road)

# Group specification
EU15 &lt;- c("Austria", "Germany", "Denmark", "Spain", "Finland", "Belgium",
         "France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
         "Netherlands", "Greece", "Portugal", "Sweden")

# Prepare sample and data
EU_emissions_road_short &lt;- EU_emissions_road[
EU_emissions_road$country %in% EU15 &amp;
EU_emissions_road$year &gt;= 2000,
]

# Run
result &lt;- isatpanel(
  data = EU_emissions_road_short,
  formula = ltransport.emissions ~ lgdp + I(lgdp^2) + lpop,
  index = c("country", "year"),
  effect = "twoways",
  fesis = TRUE,
  plot = FALSE,
  t.pval = 0.01
)
plot(result)
plot_residuals(result)

</code></pre>

<hr>
<h2 id='plot.isatpanel'>Plotting an isatpanel object</h2><span id='topic+plot.isatpanel'></span>

<h3>Description</h3>

<p>Plotting an isatpanel object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'isatpanel'
plot(
  x,
  max.id.facet = 16,
  facet.scales = "free",
  title = NULL,
  zero_line = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.isatpanel_+3A_x">x</code></td>
<td>
<p>An object produced by the isatpanel function</p>
</td></tr>
<tr><td><code id="plot.isatpanel_+3A_max.id.facet">max.id.facet</code></td>
<td>
<p>The resulting plot will be faceted for each individual in the panel. Beyond a certain number, this might result in unreadable figures. Default set at 16.</p>
</td></tr>
<tr><td><code id="plot.isatpanel_+3A_facet.scales">facet.scales</code></td>
<td>
<p>To be passed to ggplot2::facet_wrap. Default is &quot;free&quot; (i.e. a separate y axis for each panel group/id). Alternatives are: &quot;fixed&quot;, &quot;fixed_y&quot;, and &quot;fixed_x&quot;.</p>
</td></tr>
<tr><td><code id="plot.isatpanel_+3A_title">title</code></td>
<td>
<p>Plot title. Must be a character vector.</p>
</td></tr>
<tr><td><code id="plot.isatpanel_+3A_zero_line">zero_line</code></td>
<td>
<p>Plot a horizontal line at y = 0. Default is FALSE.</p>
</td></tr>
<tr><td><code id="plot.isatpanel_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to ggplot2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 plot that plots an 'isatpanel' object and shows observed data, the fitted values, and all identified breaks and impulses.
</p>

<hr>
<h2 id='print.isatpanel'>Printing isatpanel results</h2><span id='topic+print.isatpanel'></span>

<h3>Description</h3>

<p>Printing isatpanel results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'isatpanel'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.isatpanel_+3A_x">x</code></td>
<td>
<p>An isatpanel object.</p>
</td></tr>
<tr><td><code id="print.isatpanel_+3A_...">...</code></td>
<td>
<p>Further arguments passed to print</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Print output of the 'isatpanel.result' list element of the 'isatpanel' object.
</p>

<hr>
<h2 id='robust_isatpanel'>Get robust Standard Errors for the isatpanel result</h2><span id='topic+robust_isatpanel'></span>

<h3>Description</h3>

<p>Get robust Standard Errors for the isatpanel result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>robust_isatpanel(
  object,
  robust = TRUE,
  HAC = FALSE,
  lag = NULL,
  type = "HC0",
  cluster = "group"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="robust_isatpanel_+3A_object">object</code></td>
<td>
<p>An isatpanel object</p>
</td></tr>
<tr><td><code id="robust_isatpanel_+3A_robust">robust</code></td>
<td>
<p>Logical (TRUE or FALSE). Should the Standard Errors be robustified for Heterogeneity? This uses <a href="plm.html#topic+vcovHC.plm">plm::vcovHC</a> with the specified type (default is &quot;HC0&quot;).</p>
</td></tr>
<tr><td><code id="robust_isatpanel_+3A_hac">HAC</code></td>
<td>
<p>Should Heteroscedasticity and Autocorrelation Robust Standard Errors be used? This uses <a href="plm.html#topic+vcovNW">plm::vcovNW</a>, which uses the Newey-West estimator.</p>
</td></tr>
<tr><td><code id="robust_isatpanel_+3A_lag">lag</code></td>
<td>
<p>Maximum Number of Lags to be used with <a href="plm.html#topic+vcovNW">plm::vcovNW</a> using the Newey-West estimator. Cannot be specified when HAC = FALSE. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="robust_isatpanel_+3A_type">type</code></td>
<td>
<p>Character string. Type of Robust procedure e.g. 'HC0' for White SE or 'HC3' for Lang.</p>
</td></tr>
<tr><td><code id="robust_isatpanel_+3A_cluster">cluster</code></td>
<td>
<p>Should an object with clustered S.E. be included? Choose between 'group' or 'time' or FALSE. Uses <a href="plm.html#topic+vcovHC.plm">plm::vcovHC</a> with the cluster argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with robust estimates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(EU_emissions_road)

# Group specification
EU15 &lt;- c("Austria", "Germany", "Denmark", "Spain", "Finland", "Belgium",
         "France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
         "Netherlands", "Greece", "Portugal", "Sweden")

# Prepare sample and data
EU_emissions_road_short &lt;- EU_emissions_road[
EU_emissions_road$country %in% EU15 &amp;
EU_emissions_road$year &gt;= 2000,
]

# Run
result &lt;- isatpanel(
  data = EU_emissions_road_short,
  formula = ltransport.emissions ~ lgdp + I(lgdp^2) + lpop,
  index = c("country", "year"),
  effect = "twoways",
  fesis = TRUE,
  plot = FALSE,
  t.pval = 0.01
)
robust_isatpanel(result)


</code></pre>

<hr>
<h2 id='Within_plm'>Use the within transformation from the plm package</h2><span id='topic+Within_plm'></span>

<h3>Description</h3>

<p>Use the within transformation from the plm package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Within_plm(df, effect = "twoways")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Within_plm_+3A_df">df</code></td>
<td>
<p>A data.frame object</p>
</td></tr>
<tr><td><code id="Within_plm_+3A_effect">effect</code></td>
<td>
<p>The fixed effect specification. Values possible: &quot;twoways&quot; (default), &quot;individual&quot;, &quot;time&quot;, &quot;nested&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame object with the transformation complete
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

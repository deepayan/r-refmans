<!DOCTYPE html><html><head><title>Help for package matrisk</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {matrisk}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#data_euro'>
<p>Historical data for the eurozone (GDP and Financial Conditions) from 2008:Q4 to 2022:Q3</p></a></li>
<li><a href='#data_US'>
<p>Historical data for the US (GDP and Financial Conditions) from 1973:Q1 to 2022:Q3</p></a></li>
<li><a href='#f_compile_quantile'><p>Estimation of quantiles</p></a></li>
<li><a href='#f_distrib'><p>Distribution</p></a></li>
<li><a href='#f_distrib_histo'><p>Historical distributions</p></a></li>
<li><a href='#f_ES'><p>Expected Shortfall</p></a></li>
<li><a href='#f_VaR'><p>Value-at-Risk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Macroeconomic-at-Risk</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The Macroeconomics-at-Risk (MaR) approach is based on a two-step semi-parametric estimation procedure that allows to forecast the full conditional distribution of an economic variable at a given horizon, as a function of a set of factors. These density forecasts are then be used to produce coherent forecasts for any downside risk measure, e.g., value-at-risk, expected shortfall, downside entropy. Initially introduced by Adrian et al. (2019) &lt;<a href="https://doi.org/10.1257%2Faer.20161923">doi:10.1257/aer.20161923</a>&gt; to reveal the vulnerability of economic growth to financial conditions, the MaR approach is currently extensively used by international financial institutions to provide Value-at-Risk (VaR) type forecasts for GDP growth (Growth-at-Risk) or inflation (Inflation-at-Risk). This package provides methods for estimating these models. Datasets for the US and the Eurozone are available to allow testing of the Adrian et al (2019) model. This package constitutes a useful toolbox (data and functions) for private practitioners, scholars as well as policymakers.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, quantreg, sn, dfoptim, plot3D</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-28 21:12:07 UTC; quentin.lajaunie_ver</td>
</tr>
<tr>
<td>Author:</td>
<td>Quentin Lajaunie [aut, cre],
  Guillaume Flament [aut],
  Christophe Hurlin [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Quentin Lajaunie &lt;quentin_lajaunie@hotmail.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-02 08:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='data_euro'>
Historical data for the eurozone (GDP and Financial Conditions) from 2008:Q4 to 2022:Q3
</h2><span id='topic+data_euro'></span>

<h3>Description</h3>

<p>data_euro contains:
- Quarterly annualized GDP, from 2008:Q4 to 2022:Q3
- Financial Condition Index of the euro Area, from 2008:Q4 to 2022:Q3
- Composite Indicator of Systemic Stress, from 2008:Q4 to 2022:Q3
Sources :    https://sdw.ecb.europa.eu/browseExplanation.do?node=9689686    https://webstat.banque-france.fr/ws_wsen/browseSelection.do?node=DATASETS_FCI    https://fred.stlouisfed.org/series/CLVMEURSCAB1GQEA19
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("data_euro")</code></pre>


<h3>Format</h3>

<p>A data frame with 57 observations on the following 4 variables.
</p>

<dl>
<dt><code>DATE</code></dt><dd><p>Vector of dates.</p>
</dd>
<dt><code>GDP</code></dt><dd><p>Vector of annualized PIB.</p>
</dd>
<dt><code>FCI</code></dt><dd><p>Historical values of the Financial Condition Index (FCI).</p>
</dd>
<dt><code>CISS</code></dt><dd><p>Historical values of the Composite Indicator of Systemic Stress (CISS).</p>
</dd>
</dl>


<hr>
<h2 id='data_US'>
Historical data for the US (GDP and Financial Conditions) from 1973:Q1 to 2022:Q3
</h2><span id='topic+data_US'></span>

<h3>Description</h3>

<p>data_euro contains:
- Quarterly annualized GDP, from 1973:Q1 to 2022:Q3
- National Financial Condition Index of the US, from 1973:Q1 to 2022:Q3
Sources :    https://www.chicagofed.org/research/data/nfci/current-data    https://fred.stlouisfed.org/series/A191RL1Q225SBEA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("data_US")</code></pre>


<h3>Format</h3>

<p>A data frame with 200 observations on the following 4 variables.
</p>

<dl>
<dt><code>DATE</code></dt><dd><p>Vector of dates.</p>
</dd>
<dt><code>GDP</code></dt><dd><p>Vector of annualized PIB.</p>
</dd>
<dt><code>NFCI</code></dt><dd><p>Historical values of the National Financial Condition Index (NFCI).</p>
</dd>
</dl>


<hr>
<h2 id='f_compile_quantile'>Estimation of quantiles</h2><span id='topic+f_compile_quantile'></span>

<h3>Description</h3>

<p>Predicted values based on each quantile regression (Koenker and Basset, 1978), at time=t_trgt, for each quantile in qt_trgt.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_compile_quantile(qt_trgt, v_dep, v_expl, t_trgt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_compile_quantile_+3A_qt_trgt">qt_trgt</code></td>
<td>
<p>Numeric vector, dim k, of k quantiles for different qt-estimations</p>
</td></tr>
<tr><td><code id="f_compile_quantile_+3A_v_dep">v_dep</code></td>
<td>
<p>Numeric vector of the dependent variable</p>
</td></tr>
<tr><td><code id="f_compile_quantile_+3A_v_expl">v_expl</code></td>
<td>
<p>Numeric vector of the (k) explanatory variable(s)</p>
</td></tr>
<tr><td><code id="f_compile_quantile_+3A_t_trgt">t_trgt</code></td>
<td>
<p>Numeric time target (optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric matrix with the predicted values based on each quantile regression, at time fixed in input
</p>


<h3>References</h3>

<p>Koenker, Roger, and Gilbert Bassett Jr. &quot;Regression quantiles.&quot; Econometrica: journal of the Econometric Society (1978): 33-50.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Import data
data("data_euro")

#' # Data process
PIB_euro_forward_4 = data_euro["GDP"][c(5:length(data_euro["GDP"][,1])),]
FCI_euro_lag_4 = data_euro["FCI"][c(1:(length(data_euro["GDP"][,1]) - 4)),]
CISS_euro_lag_4 = data_euro["CISS"][c(1:(length(data_euro["GDP"][,1]) - 4)),]

quantile_target &lt;- as.vector(c(0.10,0.25,0.75,0.90))
results_quantile_reg &lt;- f_compile_quantile(qt_trgt=quantile_target,
v_dep=PIB_euro_forward_4,
v_expl=cbind(FCI_euro_lag_4, CISS_euro_lag_4),
t_trgt = 30)

</code></pre>

<hr>
<h2 id='f_distrib'>Distribution</h2><span id='topic+f_distrib'></span>

<h3>Description</h3>

<p>This function is used to estimate the parameters of the distribution (mean and standard deviation for Gaussian, xi, omega, alpha, and nu for skew-t) based on the quantile regression results (Koenker and Basset, 1978). See Adrian et al. (2019) and Adrian et al. (2022) for more details on the estimation steps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_distrib(type_function, compile_qt, starting_values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_distrib_+3A_type_function">type_function</code></td>
<td>
<p>String argument : &quot;gaussian&quot; for normal distribution or &quot;skew-t&quot; for t-student distribution</p>
</td></tr>
<tr><td><code id="f_distrib_+3A_compile_qt">compile_qt</code></td>
<td>
<p>Numeric matrix containing different quantiles and associated values</p>
</td></tr>
<tr><td><code id="f_distrib_+3A_starting_values">starting_values</code></td>
<td>
<p>Numeric vector with initial values for optimization</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with the parameters of the distribution
</p>


<h3>References</h3>

<p>Adrian, Tobias, Nina Boyarchenko, and Domenico Giannone. &quot;Vulnerable growth.&quot; American Economic Review 109.4 (2019): 1263-89.
</p>
<p>Adrian, Tobias, et al. &quot;The term structure of growth-at-risk. &quot; American Economic Journal: Macroeconomics 14.3 (2022): 283-323.
</p>
<p>Koenker, Roger, and Gilbert Bassett Jr. &quot;Regression quantiles.&quot; Econometrica: journal of the Econometric Society (1978): 33-50.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Import data
data("data_euro")

# Data process
PIB_euro_forward_4 = data_euro["GDP"][c(5:length(data_euro["GDP"][,1])),]
FCI_euro_lag_4 = data_euro["FCI"][c(1:(length(data_euro["GDP"][,1]) - 4)),]
CISS_euro_lag_4 = data_euro["CISS"][c(1:(length(data_euro["GDP"][,1]) - 4)),]

# for a gaussian
quantile_target &lt;- as.vector(c(0.25,0.75))
results_quantile_reg &lt;- f_compile_quantile(qt_trgt=quantile_target,
v_dep=PIB_euro_forward_4,
v_expl=cbind(FCI_euro_lag_4, CISS_euro_lag_4),
t_trgt = 30)

results_g &lt;- f_distrib(type_function="gaussian",
compile_qt=results_quantile_reg,
starting_values=c(0, 1))

# for a skew-t
quantile_target &lt;- as.vector(c(0.10,0.25,0.75,0.90))
results_quantile_reg &lt;- f_compile_quantile(qt_trgt=quantile_target,
v_dep=PIB_euro_forward_4,
v_expl=cbind(FCI_euro_lag_4, CISS_euro_lag_4),
t_trgt = 30)

results_s &lt;- f_distrib(type_function="skew-t",
compile_qt=results_quantile_reg,
starting_values=c(0, 1, -0.5, 1.3))

</code></pre>

<hr>
<h2 id='f_distrib_histo'>Historical distributions</h2><span id='topic+f_distrib_histo'></span>

<h3>Description</h3>

<p>This function is based on f_distrib function (Adrian et al., 2019; Adrian et al., 2022) and is used to get historical estimation of empirical distributions and associated parameters. Results allow to realize a 3D graphical representation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_distrib_histo(
  qt_trgt,
  v_dep,
  v_expl,
  type_function,
  starting_values,
  step,
  x_min,
  x_max
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_distrib_histo_+3A_qt_trgt">qt_trgt</code></td>
<td>
<p>Numeric vector, dim k, of k quantiles for different qt-estimations</p>
</td></tr>
<tr><td><code id="f_distrib_histo_+3A_v_dep">v_dep</code></td>
<td>
<p>Numeric vector of the dependent variable</p>
</td></tr>
<tr><td><code id="f_distrib_histo_+3A_v_expl">v_expl</code></td>
<td>
<p>Numeric vector of the (k) explanatory variable(s)</p>
</td></tr>
<tr><td><code id="f_distrib_histo_+3A_type_function">type_function</code></td>
<td>
<p>String argument : &quot;gaussian&quot; for normal distribution or &quot;skew-t&quot; for t-student distribution</p>
</td></tr>
<tr><td><code id="f_distrib_histo_+3A_starting_values">starting_values</code></td>
<td>
<p>Numeric vector with initial values for optimization</p>
</td></tr>
<tr><td><code id="f_distrib_histo_+3A_step">step</code></td>
<td>
<p>Numeric argument for accuracy graphics abscissa</p>
</td></tr>
<tr><td><code id="f_distrib_histo_+3A_x_min">x_min</code></td>
<td>
<p>Numeric optional argument (default value = -15)</p>
</td></tr>
<tr><td><code id="f_distrib_histo_+3A_x_max">x_max</code></td>
<td>
<p>Numeric optional argument (default value = 10)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with:
</p>
<table>
<tr><td><code>distrib_histo</code></td>
<td>
<p>Numeric matrix with historical values of x, y and t</p>
</td></tr>
<tr><td><code>param_histo</code></td>
<td>
<p>Numeric matrix containing the parameters of the distribution for each period</p>
</td></tr>
</table>


<h3>References</h3>

<p>Adrian, Tobias, Nina Boyarchenko, and Domenico Giannone. &quot;Vulnerable growth.&quot; American Economic Review 109.4 (2019): 1263-89.
</p>
<p>Adrian, Tobias, et al. &quot;The term structure of growth-at-risk.&quot; American Economic Journal: Macroeconomics 14.3 (2022): 283-323.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Import data
data("data_euro")

# Data process
PIB_euro_forward_4 = data_euro["GDP"][c(5:length(data_euro["GDP"][,1])),]
FCI_euro_lag_4 = data_euro["FCI"][c(1:(length(data_euro["GDP"][,1]) - 4)),]
CISS_euro_lag_4 = data_euro["CISS"][c(1:(length(data_euro["GDP"][,1]) - 4)),]

results_histo &lt;- f_distrib_histo(qt_trgt=c(0.10,0.25,0.75,0.90), v_dep=PIB_euro_forward_4,
v_expl=cbind(FCI_euro_lag_4,CISS_euro_lag_4),
type_function="skew-t",
starting_values=c(0, 1, -0.5, 1.3),
step=5, x_min=-10, x_max=5)

library(plot3D) # load
scatter3D(results_histo$distrib_histo[,3],
results_histo$distrib_histo[,1],
results_histo$distrib_histo[,2],
pch = 10,  theta = 70, phi = 10,
main = "Distribution of GDP Growth over time - Euro Area",
xlab = "Date",
ylab ="Pib",
zlab="", cex = 0.3)
</code></pre>

<hr>
<h2 id='f_ES'>Expected Shortfall</h2><span id='topic+f_ES'></span>

<h3>Description</h3>

<p>The function allows to calculate Expected-shortfall for a given distribution. It takes as parameters alpha (risk level), a distribution and the parameters associated with this distribution. For example, for a normal distribution, the user must enter the mean and the standard deviation. Currently, the function can calculate the Expected-shortfall for the normal distribution and for the skew-t distribution (Azzalini and Capitianio, 2003)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_ES(alpha, dist, params, accuracy = 1e-05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_ES_+3A_alpha">alpha</code></td>
<td>
<p>Numeric argument for Expected-Shortfall, between 0 and 1</p>
</td></tr>
<tr><td><code id="f_ES_+3A_dist">dist</code></td>
<td>
<p>String for the type of distribution (gaussian or skew-t)</p>
</td></tr>
<tr><td><code id="f_ES_+3A_params">params</code></td>
<td>
<p>Numeric vector containing parameters of the distribution</p>
</td></tr>
<tr><td><code id="f_ES_+3A_accuracy">accuracy</code></td>
<td>
<p>Scalar value which regulates the accuracy of the ES (default value 1e-05)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric value for the expected-shortfall given the distribution and the alpha risk
</p>


<h3>References</h3>

<p>Azzalini, Adelchi, and Antonella Capitanio. &quot;Distributions generated by perturbation of symmetry with emphasis on a multivariate skew t‐distribution.&quot; Journal of the Royal Statistical Society: Series B (Statistical Methodology) 65.2 (2003): 367-389.
</p>
<p>Azzalini, Adelchi, and Maintainer Adelchi Azzalini. &quot;Package ‘sn’.&quot; The skew-normal and skew-t distributions (2015): 1-3.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_ES(0.95, "gaussian", params=c(0,1))
f_ES(0.95, "gaussian", params=c(0,1), accuracy=1e-05)
f_ES(0.95, "gaussian", params=c(0,1), accuracy=1e-04)

</code></pre>

<hr>
<h2 id='f_VaR'>Value-at-Risk</h2><span id='topic+f_VaR'></span>

<h3>Description</h3>

<p>The function allows to calculate Value-at-Risk for a given distribution. It takes as parameters alpha (risk level), a distribution and the parameters associated with this distribution. For example, for a normal distribution, the user must enter the mean and the standard deviation. Currently, the function can calculate the Value-at-Risk for the normal distribution and for the skew-t distribution (Azzalini and Capitianio, 2003)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_VaR(alpha, dist, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="f_VaR_+3A_alpha">alpha</code></td>
<td>
<p>Numeric argument for Expected-Shortfall, between 0 and 1</p>
</td></tr>
<tr><td><code id="f_VaR_+3A_dist">dist</code></td>
<td>
<p>String for the type of distribution (gaussian or skew-t)</p>
</td></tr>
<tr><td><code id="f_VaR_+3A_params">params</code></td>
<td>
<p>Numeric vector containing parameters of the distribution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric value for the Value-at-Risk given the distribution and the alpha risk
</p>


<h3>References</h3>

<p>Azzalini, Adelchi, and Antonella Capitanio. &quot;Distributions generated by perturbation of symmetry with emphasis on a multivariate skew t‐distribution.&quot; Journal of the Royal Statistical Society: Series B (Statistical Methodology) 65.2 (2003): 367-389.
</p>
<p>Azzalini, Adelchi, and Maintainer Adelchi Azzalini. &quot;Package ‘sn’.&quot; The skew-normal and skew-t distributions (2015): 1-3.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f_VaR(0.95, "gaussian", params=c(0,1))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

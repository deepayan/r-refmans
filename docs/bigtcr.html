<!DOCTYPE html><html><head><title>Help for package bigtcr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bigtcr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bigtcr-package'><p>Bivariate Gap Time with Competing Risks</p></a></li>
<li><a href='#get.ccif'><p>Conditional Cumulative Incidence Function (CCIF) Estimation</p></a></li>
<li><a href='#get.gap.ccif'><p>Conditional Bivariate Cumulative Incidence Function Estimation</p></a></li>
<li><a href='#get.gap.kt'><p>Cause-Specific Kendall's tau Estimation</p></a></li>
<li><a href='#get.gap.pval'><p>Comparison of Bivariate CCIF</p></a></li>
<li><a href='#get.kendalltau'><p>Kendall's tau Estimation</p></a></li>
<li><a href='#get.pval'><p>Comparison of CCIF</p></a></li>
<li><a href='#pancancer'><p>Example Pancreatic Cancer Dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Nonparametric Analysis of Bivariate Gap Time with Competing
Risks</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Chenguang Wang [aut, cre],
    Chiung-Yu Huang [aut],
    Mei-Cheng Wang [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chenguang Wang &lt;cwang68@jhmi.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>For studying recurrent disease and death with competing
    risks, comparisons based on the well-known cumulative incidence function
    can be confounded by different prevalence rates of the competing events.
    Alternatively, comparisons of the conditional distribution of the survival
    time given the failure event type are more relevant for investigating the
    prognosis of different patterns of recurrence disease. This package implements
    a nonparametric estimator for the conditional cumulative incidence function
    and a nonparametric conditional bivariate cumulative incidence function for the
    bivariate gap times proposed in Huang et al. (2016) &lt;<a href="https://doi.org/10.1111%2Fbiom.12494">doi:10.1111/biom.12494</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-01-27 16:33:27 UTC; cwang68</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-01-27 16:54:52 UTC</td>
</tr>
</table>
<hr>
<h2 id='bigtcr-package'>Bivariate Gap Time with Competing Risks</h2><span id='topic+bigtcr'></span><span id='topic+bigtcr-package'></span>

<h3>Description</h3>

<p>This package implements the non-parametric estimator for the conditional
cumulative incidence function and the non-parametric conditional bivariate
cumulative incidence function for the bivariate gap times proposed in Huang
et al. (2016).
</p>


<h3>Conditional Cumulative Incidence Functions</h3>

<p>Denote by <code class="reqn">T</code> the time to a failure event of interest. Suppose the study
participants can potentially experience any of several, say <code class="reqn">J</code>,
different types of failure events. Let <code class="reqn">\epsilon=1, \ldots, J</code> indicate
the failure event type.
</p>
<p>The cumulative incidence function (CIF) for the <code class="reqn">j</code>th competing event is
defined as
</p>
<p style="text-align: center;"><code class="reqn">
F_j(t)=\mbox{pr}(T\leq t, \epsilon =j), \;\;  j=1,\ldots, J.
</code>
</p>

<p>Huang et al. (2016) proposed a non-parametric estimator for the conditional
cumulative incidence function (CCIF)
</p>
<p style="text-align: center;"><code class="reqn">
G_j(t) = \mbox{pr}(T\le t \mid T\le \eta, \epsilon =j), \;\;  t\in[0,\eta],\;\; j=1,\ldots, J,
</code>
</p>

<p>where the constant <code class="reqn">\eta</code> is determined from the knowledge that survival times
could potentially be observed up to time <code class="reqn">\eta</code>.
</p>
<p>To compare the CCIF of different failure types <code class="reqn">j\neq k</code>, we consider the
following class of stochastic processes
</p>
<p style="text-align: center;"><code class="reqn"> Q (t) = K(t)\{\widehat G_j(t)
- \widehat G_k(t)\}, </code>
</p>

<p>where <code class="reqn">K(t)</code> is a weight function. For a formal
test, we propose to use the supremum test statistic
</p>
<p style="text-align: center;"><code class="reqn"> \sup_{t\in
[0,\eta] } \mid Q(t) \mid, </code>
</p>

<p>an omnibus test that is consistent against any
alternatives under which <code class="reqn">G_j(t) \neq G_k(t)</code> for some
<code class="reqn">t\in [0,\eta]</code>.
</p>
<p>An approximate <code class="reqn">p</code>-value corresponding to the supremum test statistic is
obtained by applying the technique of permutation test.
</p>


<h3>Bivariate Gap Time Distribution With Competing Risks</h3>

<p>For bivariate gap times (e.g. time to disease recurrence and the residual
lifetime after recurrence), let <code class="reqn">V</code> and <code class="reqn">W</code> denote the two gap times so
that <code class="reqn">V+W</code> gives the total survival time <code class="reqn">T</code>. Note that, given the
first gap time  <code class="reqn">V</code> being uncensored, the observable region of the second
gap time <code class="reqn">W</code> is restricted to <code class="reqn">C-V</code>. Because the two gap times <code class="reqn">W</code>
and <code class="reqn">V</code> are usually correlated, the second gap time <code class="reqn">W</code> is subject to
induced informative censoring <code class="reqn">C-V</code>. As a result, conventional statistical
methods can not be applied directly to estimate the marginal distribution
of <code class="reqn">W</code>.
</p>
<p>Huang et al. (2016) proposed non-parametric estimators for the cumulative
incidence function for the bivariate gap time <code class="reqn">(V, W)</code>
</p>
<p style="text-align: center;"><code class="reqn">
F_j (v,w)=\mbox{pr}( V\le v, W\le w, \epsilon=j ) </code>
</p>

<p>and the conditional bivariate cumulative incidence function
</p>
<p style="text-align: center;"><code class="reqn">
 H_j(v, w)=\mbox{pr}(V\le v, W\le w \mid T \le \eta, \epsilon=j).
</code>
</p>

<p>To compare the joint distribution functions <code class="reqn">H_j(v, w)</code> and <code class="reqn">H_k(v,
w)</code> of different failure types <code class="reqn">j\neq k</code>, we consider the supremum test
<code class="reqn">\sup_{v+w\le\eta}\mid Q^*(v, w)\mid</code> based on the following class of
processes
</p>
<p style="text-align: center;"><code class="reqn">
Q^*(v, w) = K^*(v, w) \{\widehat H_j(v, w) - \widehat H_k(v, w)\},
</code>
</p>

<p>where <code class="reqn">K^*(v, w)</code> is a prespecified weight function.
</p>
<p>The approximate <code class="reqn">p</code>-value can be obtained through simulation by applying
the technique of permutation tests.
</p>


<h3>Nonparametric Association Measure for the Bivariate Gap Time With Competing Risks</h3>

<p>To evaluate the association between the bivariate gap times, Huang et al.
(2016) proposed a modified Kendall's tau measure that was estimable with
observed data
</p>
<p style="text-align: center;"><code class="reqn">
\tau_j^*= 4\times \mbox{pr}(V_1&gt;V_2, W_1&gt;W_2\mid V_1+W_1\le\eta, V_2+W_2&lt; \eta,\epsilon_1=j, \epsilon_2=j)-1.
</code>
</p>



<h3>References</h3>

<p>Huang CY, Wang C, Wang MC (2016). Nonparametric analysis of bivariate gap
time with competing risks. Biometrics. 72(3):780-90. doi: 10.1111/biom.12494
</p>

<hr>
<h2 id='get.ccif'>Conditional Cumulative Incidence Function (CCIF) Estimation</h2><span id='topic+get.ccif'></span>

<h3>Description</h3>

<p>Estimate the conditional cumulative incidence function. See <code><a href="#topic+bigtcr-package">bigtcr-package</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.ccif(obs.y, event, tau = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.ccif_+3A_obs.y">obs.y</code></td>
<td>
<p><code class="reqn">Y</code>: time to failure events or censoring</p>
</td></tr>
<tr><td><code id="get.ccif_+3A_event">event</code></td>
<td>
<p>0: censored; <code class="reqn">1, \ldots J</code>: type of failure events</p>
</td></tr>
<tr><td><code id="get.ccif_+3A_tau">tau</code></td>
<td>
<p>Conditioning time <code class="reqn">\tau</code> under which the CCIF is defined</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with class ccif that has <code class="reqn">J</code> columns. Columns 1 to <code class="reqn">J</code> correspond to
<code class="reqn">G_1(t)</code> to <code class="reqn">G_J(t)</code>. Each row represents a distinct observed time
point <code class="reqn">t</code> and the row name contains the value of <code class="reqn">t</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Gj &lt;- get.ccif(obs.y = pancancer$obs.y, event = pancancer$min.type, tau   = 120);

</code></pre>

<hr>
<h2 id='get.gap.ccif'>Conditional Bivariate Cumulative Incidence Function Estimation</h2><span id='topic+get.gap.ccif'></span>

<h3>Description</h3>

<p>Estimate the conditional bivariate cumulative incidence function. See
<code><a href="#topic+bigtcr-package">bigtcr-package</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.gap.ccif(obs.y, event, v, tau = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.gap.ccif_+3A_obs.y">obs.y</code></td>
<td>
<p><code class="reqn">Y</code>: time to failure events or censoring</p>
</td></tr>
<tr><td><code id="get.gap.ccif_+3A_event">event</code></td>
<td>
<p>0: censored; <code class="reqn">1, \ldots J</code>: type of failure events</p>
</td></tr>
<tr><td><code id="get.gap.ccif_+3A_v">v</code></td>
<td>
<p>Time to the first failure event (e.g. disease recurrence)</p>
</td></tr>
<tr><td><code id="get.gap.ccif_+3A_tau">tau</code></td>
<td>
<p>Conditioning time <code class="reqn">\tau</code> under which the CCIF is defined</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with class <code>gap.ccif</code> that has <code class="reqn">J+2</code> columns. Column 1 and
2 are <code class="reqn">(v,w)</code>. The rest columns correspond to <code class="reqn">H_1(v,w)</code> to
<code class="reqn">H_J(v,w)</code>. Each row represents a distinct observed time point and the
row name contains the value of this time point.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Hj &lt;- get.gap.ccif(obs.y=pancancer$obs.y, event=pancancer$min.type, v=pancancer$v, tau=120)

</code></pre>

<hr>
<h2 id='get.gap.kt'>Cause-Specific Kendall's tau Estimation</h2><span id='topic+get.gap.kt'></span>

<h3>Description</h3>

<p>Estimate the modified cause-specific Kendall's tau for the evaluation of
association for bivariate gap time with competing risks. See <code><a href="#topic+bigtcr-package">bigtcr-package</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.gap.kt(obs.y, event, v, tau = Inf, nbs = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.gap.kt_+3A_obs.y">obs.y</code></td>
<td>
<p><code class="reqn">Y</code>: time to failure events or censoring</p>
</td></tr>
<tr><td><code id="get.gap.kt_+3A_event">event</code></td>
<td>
<p>0: censored; <code class="reqn">1, \ldots J</code>: type of failure events</p>
</td></tr>
<tr><td><code id="get.gap.kt_+3A_v">v</code></td>
<td>
<p>Time to the first failure event (e.g. disease recurrence)</p>
</td></tr>
<tr><td><code id="get.gap.kt_+3A_tau">tau</code></td>
<td>
<p>Conditioning time <code class="reqn">\tau</code> under which the CCIF is defined</p>
</td></tr>
<tr><td><code id="get.gap.kt_+3A_nbs">nbs</code></td>
<td>
<p>Number of bootstrap samples for bootstrap variances. When nbs is
smaller than 1, bootstrap variances are not evaluated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the estimation and variances of modified casue-specific Kendall's
tau
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Kt &lt;- get.gap.kt(obs.y=pancancer$obs.y, event=pancancer$min.type,
               v=pancancer$v, tau=120, nbs=5)

</code></pre>

<hr>
<h2 id='get.gap.pval'>Comparison of Bivariate CCIF</h2><span id='topic+get.gap.pval'></span>

<h3>Description</h3>

<p>Compare the bivariate CCIF of different failure typess by applying the technique of
permutation test. See <code><a href="#topic+bigtcr-package">bigtcr-package</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.gap.pval(obs.y, event, v, tau = Inf, comp.event = c(1, 2), np = 1000,
  Kt = function(x) {     1 })
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.gap.pval_+3A_obs.y">obs.y</code></td>
<td>
<p><code class="reqn">Y</code>: time to failure events or censoring</p>
</td></tr>
<tr><td><code id="get.gap.pval_+3A_event">event</code></td>
<td>
<p>0: censored; <code class="reqn">1, \ldots J</code>: type of failure events</p>
</td></tr>
<tr><td><code id="get.gap.pval_+3A_v">v</code></td>
<td>
<p>Time to the first failure event (e.g. disease recurrence)</p>
</td></tr>
<tr><td><code id="get.gap.pval_+3A_tau">tau</code></td>
<td>
<p>Conditioning time <code class="reqn">\tau</code> under which the CCIF is defined</p>
</td></tr>
<tr><td><code id="get.gap.pval_+3A_comp.event">comp.event</code></td>
<td>
<p>Failure events for CCIF comparison</p>
</td></tr>
<tr><td><code id="get.gap.pval_+3A_np">np</code></td>
<td>
<p>Number of permutations</p>
</td></tr>
<tr><td><code id="get.gap.pval_+3A_kt">Kt</code></td>
<td>
<p>A weight function that takes one parameter <code class="reqn">t</code> and return the
weight for <code class="reqn">t</code>. Default weight function is constant <code class="reqn">1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>P-value of the hypothesis test <code class="reqn">H_0: H_j = H_k = \ldots = H_l</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gap.pval &lt;- get.gap.pval(pancancer$obs.y, pancancer$min.type, pancancer$v,
                         tau=120, comp.event=c(1,2), np=20);

</code></pre>

<hr>
<h2 id='get.kendalltau'>Kendall's tau Estimation</h2><span id='topic+get.kendalltau'></span>

<h3>Description</h3>

<p>Estimate Kendall's tau association between two random variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.kendalltau(v, w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.kendalltau_+3A_v">v</code></td>
<td>
<p>Vector of numeric values. Missing values will be ignored.</p>
</td></tr>
<tr><td><code id="get.kendalltau_+3A_w">w</code></td>
<td>
<p>vector of numeric values. Missing values will be ignored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
kt &lt;- get.kendalltau(pancancer$v, pancancer$w);

</code></pre>

<hr>
<h2 id='get.pval'>Comparison of CCIF</h2><span id='topic+get.pval'></span>

<h3>Description</h3>

<p>Compare the CCIF of different failure typess by applying the technique of
permutation test. See <code><a href="#topic+bigtcr-package">bigtcr-package</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.pval(obs.y, event, tau = Inf, comp.event = c(1, 2), np = 1000,
  Kt = function(x) {     1 })
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.pval_+3A_obs.y">obs.y</code></td>
<td>
<p><code class="reqn">Y</code>: time to failure events or censoring</p>
</td></tr>
<tr><td><code id="get.pval_+3A_event">event</code></td>
<td>
<p>0: censored; <code class="reqn">1, \ldots J</code>: type of failure events</p>
</td></tr>
<tr><td><code id="get.pval_+3A_tau">tau</code></td>
<td>
<p>Conditioning time <code class="reqn">\tau</code> under which the CCIF is defined</p>
</td></tr>
<tr><td><code id="get.pval_+3A_comp.event">comp.event</code></td>
<td>
<p>Failure events for CCIF comparison</p>
</td></tr>
<tr><td><code id="get.pval_+3A_np">np</code></td>
<td>
<p>Number of permutations</p>
</td></tr>
<tr><td><code id="get.pval_+3A_kt">Kt</code></td>
<td>
<p>A weight function that takes one parameter <code class="reqn">t</code> and return the
weight for <code class="reqn">t</code>. Default weight function is constant <code class="reqn">1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>P-value of the hypothesis test <code class="reqn">H_0: G_j = G_k = \ldots = G_l</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pval &lt;- get.pval(pancancer$obs.y, pancancer$min.type,
                 tau=120, comp.event=c(1,2), np=20);

</code></pre>

<hr>
<h2 id='pancancer'>Example Pancreatic Cancer Dataset</h2><span id='topic+pancancer'></span>

<h3>Description</h3>

<p>Simulated data used in <span class="pkg">bigtcr</span> examples.
</p>


<h3>Format</h3>

<p>A dataframe with 3 variables:
</p>

<dl>
<dt>obs.y</dt><dd><p>Observed time to failure events or censoring in months</p>
</dd>
<dt>min.type</dt><dd><p>Type of failure events
</p>

<dl>
<dt>0</dt><dd><p>Censored</p>
</dd>
<dt>1</dt><dd><p>death with metastasis limited to lung only</p>
</dd>
<dt>2</dt><dd><p>death with metastasis that involves sites other than lung (e.g. liver)</p>
</dd>
<dt>3</dt><dd><p>death without disease recurrence</p>
</dd>
</dl>

</dd>
<dt>v</dt><dd><p>Time to recurrence. NA if no recurrence observed</p>
</dd>
</dl>


<h3>Details</h3>

<p>Data simulated based on the patients who had surgical resection of pancreatic
adenocarcinomas and had postoperative follow-up at the Johns Hopkins Hospital
between 1998 and 2007.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

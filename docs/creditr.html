<!DOCTYPE html><html lang="en"><head><title>Help for package creditr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {creditr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#creditr'><p>The creditr package.</p></a></li>
<li><a href='#add_conventions'><p>Return accounting conventions</p></a></li>
<li><a href='#add_dates'><p>Return CDS dates.</p></a></li>
<li><a href='#adj_next_bus_day'><p>Adjust to next business day.</p></a></li>
<li><a href='#build_rates'><p>Build a data frame containing interest rates for CDS pricing</p></a></li>
<li><a href='#call_ISDA'><p>call ISDA c function</p></a></li>
<li><a href='#CDS'><p>Build a <code>CDS</code> class object given the input about a CDS contract.</p></a></li>
<li><a href='#CDS+2C+20CDS-class'><p>CDS Class</p></a></li>
<li><a href='#check_inputs'><p>Check whether inputs from the data frame are valid.</p></a></li>
<li><a href='#CS10'><p>Calculate CS10</p></a></li>
<li><a href='#download_FRED'><p>Get Rates from FRED</p></a></li>
<li><a href='#download_markit'><p>Get rates from Markit</p></a></li>
<li><a href='#get_rates'><p>Get interest rates from rates.RData or the Markit website</p></a></li>
<li><a href='#get_raw_markit'><p>Get raw data from Markit website.</p></a></li>
<li><a href='#implied_RR'><p>Calculates Implied Recovery Rate</p></a></li>
<li><a href='#IR_DV01'><p>Calculate IR.DV01</p></a></li>
<li><a href='#pd_to_spread'><p>Calculate spread with Default Probability</p></a></li>
<li><a href='#PV01'><p>Calculate PV01</p></a></li>
<li><a href='#rates'><p>LIBOR rates from 2004-01-01 to 2015-08-03</p></a></li>
<li><a href='#rec_risk_01'><p>Calculate Recovery Rate Changes</p></a></li>
<li><a href='#separate_YMD'><p>Separate Year/Month/Day</p></a></li>
<li><a href='#show'><p>Show Method</p></a></li>
<li><a href='#spread_DV01'><p>Calculate Spread Change</p></a></li>
<li><a href='#spread_to_pd'><p>Calcualte Default Probability with Spread</p></a></li>
<li><a href='#spread_to_upfront'><p>Calculate Upfront Payments</p></a></li>
<li><a href='#summary'><p>Summary Method</p></a></li>
<li><a href='#upfront_to_spread'><p>Calculate Spread with a Given Upfront</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.6.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-12-15</td>
</tr>
<tr>
<td>Title:</td>
<td>Credit Default Swaps</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, quantmod, devtools, methods, Rcpp (&ge; 0.10.6), RCurl,
XML, zoo, xts</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>License:</td>
<td>file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/yanrong-stacy-song/creditr">https://github.com/yanrong-stacy-song/creditr</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Price credit default swaps using
             'C' code from the International Swaps and Derivatives
             Association CDS Standard Model. See
             <a href="https://www.cdsmodel.com/cdsmodel/documentation.html">https://www.cdsmodel.com/cdsmodel/documentation.html</a>
             for more information about the model and 
             <a href="https://www.cdsmodel.com/cdsmodel/cds-disclaimer.html">https://www.cdsmodel.com/cdsmodel/cds-disclaimer.html</a>
             for license details for the 'C' code.</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-19 03:11:31 UTC; milz</td>
</tr>
<tr>
<td>Author:</td>
<td>Yanrong Song [aut, cre],
  Zijie Zhu [aut],
  David Kane [aut],
  Heidi Chen [aut],
  Yuanchu Dang [aut],
  Yang Lu [aut],
  Kanishka Malik [aut],
  Skylar Smith [aut],
  International Swaps and Derivatives Association [cph] (Copyright holder
    of the free CDS standard model code used in this package)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yanrong Song &lt;yrsong129@gmail.com&gt;</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-19 21:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='creditr'>The creditr package.</h2><span id='topic+creditr-package'></span><span id='topic+creditr'></span>

<h3>Description</h3>

<p><code>creditr</code> package prices credit default swaps
(CDS). It enables CDS class object which has slots as name, contract, RED, 
date, spread, maturity, teno, coupon, recovery, currency, notional, 
principal, accrual, pd, price, upfront, spread.DV01, IR.DV01 and rec.risk.01,
with S4 methods like update, show and summary. It also supports data frame 
input and is able to provide convenient calculation of key CDS statistics 
through functions like <code>CS10</code>, <code>IR.DV01</code>, <code>rec_risk_01</code> and 
<code>spread_DV01</code>. Of other major functions, <code>spread_to_upfront</code> and 
<code>upfront_to_spread</code> are designed to compute one of spread and upfront 
given the other; <code>spread_to_pd</code> and <code>pd_to_spread</code>, similarly, can 
calculate one of spread and probability of default given the other; 
<code>add_dates</code> and <code>add_conventions</code> compute a series of dates 
information and accounting conventions related to CDS pricing. Finally, 
<code>get_rates</code> and <code>build_rates</code> facilitates direct fetching of 
relevant interest rates from online sources. Thanks to ISDA Standard Model's 
Open Source license, we are able to create this package for R users. You can 
find the Open Source licence of ISDA Standard Model at 
&quot;https://www.cdsmodel.com/cdsmodel/cds-disclaimer.html&quot;
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Yanrong Song <a href="mailto:yrsong129@gmail.com">yrsong129@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Zijie Zhu <a href="mailto:zijie.miller.zhu@gmail.com">zijie.miller.zhu@gmail.com</a>
</p>
</li>
<li><p> David Kane <a href="mailto:dave.kane@gmail.com">dave.kane@gmail.com</a>
</p>
</li>
<li><p> Heidi Chen <a href="mailto:s.heidi.chen@gmail.com">s.heidi.chen@gmail.com</a>
</p>
</li>
<li><p> Yuanchu Dang <a href="mailto:yuanchu.dang@gmail.com">yuanchu.dang@gmail.com</a>
</p>
</li>
<li><p> Yang Lu <a href="mailto:yang.lu2014@gmail.com">yang.lu2014@gmail.com</a>
</p>
</li>
<li><p> Kanishka Malik <a href="mailto:kanishkamalik@gmail.com">kanishkamalik@gmail.com</a>
</p>
</li>
<li><p> Skylar Smith <a href="mailto:sws2@williams.edu">sws2@williams.edu</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> International Swaps and Derivatives Association (Copyright holder of the free CDS standard model code used in this package) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/yanrong-stacy-song/creditr">https://github.com/yanrong-stacy-song/creditr</a>
</p>
</li></ul>


<hr>
<h2 id='add_conventions'>Return accounting conventions</h2><span id='topic+add_conventions'></span>

<h3>Description</h3>

<p><code>add_conventions</code> takes a data frame with a currency.var column and
returns the same data frame with eight other columns of accounting
conventions added to it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_conventions(x, currency.var = "currency")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_conventions_+3A_x">x</code></td>
<td>
<p>a data frame containing all necessary information</p>
</td></tr>
<tr><td><code id="add_conventions_+3A_currency.var">currency.var</code></td>
<td>
<p>a character indicating the name of currency column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with eight more columns of accounting conventions:
badDayConvention (a character indicating how non-business days are
converted), mmDCC (the day count convention of the instruments),
mmCalendars (any calendar adjustment for the CDS), fixedDCC (the day count 
convention of the fixed leg), floatDCC (the day count convention of the
floating leg), fixedFreq (the frequency of the fixed rate of swap being
paid), floatFreq (the frequency of the floating rate of swap being paid)
and swapCalendars (any calendar adjustment for swap rate)
</p>


<h3>References</h3>

<p><a href="https://www.cdsmodel.com/cdsmodel/assets/cds-model/docs/c-code%20Key%20Functions-v1.pdf">https://www.cdsmodel.com/cdsmodel/assets/cds-model/docs/c-code%20Key%20Functions-v1.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(date = c(as.Date("2014-05-06"), as.Date("2014-05-07")),
                currency = c("USD", "JPY"))
add_conventions(x)
</code></pre>

<hr>
<h2 id='add_dates'>Return CDS dates.</h2><span id='topic+add_dates'></span>

<h3>Description</h3>

<p><code>add_dates</code> takes a data frame which contains dates, tenor (or maturity)
and currency and returns appropriate dates for pricing a CDS contract.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_dates(
  x,
  date.var = "date",
  maturity.var = "maturity",
  tenor.var = "tenor",
  currency.var = "currency"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_dates_+3A_x">x</code></td>
<td>
<p>a data frame, containing all necessary information</p>
</td></tr>
<tr><td><code id="add_dates_+3A_date.var">date.var</code></td>
<td>
<p>character, column name of date variable</p>
</td></tr>
<tr><td><code id="add_dates_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column name of maturity variable</p>
</td></tr>
<tr><td><code id="add_dates_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column name of tenor variable</p>
</td></tr>
<tr><td><code id="add_dates_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column name of currency variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a date frame containing all the input columns, as well as eight more 
columns: stepinDate (T+1), valueDate (T+3 business days), startDate 
(accrual begin date), endDate (maturity), backstopDate (T-60 day look back 
from which 'protection' is effective), firstcouponDate (the date on which 
the first coupon is paid), pencouponDate (second to last coupon date), and 
baseDate (the starting date for the IR curve)
</p>


<h3>References</h3>

<p><a href="https://www.cdsmodel.com/cdsmodel/assets/cds-model/docs/c-code%20Key%20Functions-v1.pdf">https://www.cdsmodel.com/cdsmodel/assets/cds-model/docs/c-code%20Key%20Functions-v1.pdf</a> 
<a href="https://www.cdsmodel.com/assets/cds-model/docs/Standard%20CDS%20Examples.pdf">https://www.cdsmodel.com/assets/cds-model/docs/Standard%20CDS%20Examples.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(date = c(as.Date("2014-05-06"), as.Date("2014-05-07")),
                tenor = rep(5, 2), currency = c("JPY", "USD"))
add_dates(x)
</code></pre>

<hr>
<h2 id='adj_next_bus_day'>Adjust to next business day.</h2><span id='topic+adj_next_bus_day'></span>

<h3>Description</h3>

<p><code>adj_next_bus_day</code> gets the next business day following 5D bus day
convention.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adj_next_bus_day(date)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="adj_next_bus_day_+3A_date">date</code></td>
<td>
<p>a <code>Date</code> type.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Date adjusted to the following business day
</p>

<hr>
<h2 id='build_rates'>Build a data frame containing interest rates for CDS pricing</h2><span id='topic+build_rates'></span>

<h3>Description</h3>

<p><code>build_rates</code> can create a data frame of interest rates from a start 
date to an end date, which are specified by the user. The interest rates will
be later used in CDS pricing. <code>build_rates</code> also builds the rates.RData 
in the package. <code>build_rates</code> mainly consists <code>download_markit</code> and
<code>download_FRED</code>. The two sources are Markit website and FRED website.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_rates(start.date, end.date)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="build_rates_+3A_start.date">start.date</code></td>
<td>
<p>is the start date of the data frame; it is the earliest CDS
pricing date that the user concerns.</p>
</td></tr>
<tr><td><code id="build_rates_+3A_end.date">end.date</code></td>
<td>
<p>is the end date of the data frame; it is the lastest CDS 
pricing date that the user concerns.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>since Markit wesite has the interest rates back to th 1990s, download_markit 
is responsible for building up all the USD interest rate data frame; for EUR 
and JPY, markit can only get from 2005-01-05 to now. But the biggest 
advantage of using download_markit is that, since Markit website only lists 
the rate expiries that are actually used for CDS pricing, download_markit can
get the exact type of expiries of rates needed to price CDS. Also, it has 
expiry over 1Y to 30Y. In contrast, FRED is only complementary to markit 
data. Since download_markit can get any rates for USD, we don't use FRED for 
USD. Then we want to get data for EUR and JPY before 2005-01-04 (the limit of
markit). FRED has almost all data for any date, which is its biggest 
advantage. But its biggest disadvantage is that it doesn't know which expiry 
type is suitable for which time, since FRED website has expiry of all types 
below a year; also it doesn't have expiry over 1Y.So we hardcoded the dates 
below, to combine markit and FRED in the most suitable way.
</p>
<p>Another note is that, the rates on both Markit website and FRED website have 
not been adjusted to the previous business day. In other words, the rates 
from both website is the exact rate on that day, rather than on the previous 
business day. But download_markit and download_FRED have adjusted the days 
already for the convenience of CDS pricing, so we don't have to worry here.
</p>


<h3>Value</h3>

<p>a data frame that contains the CDS pricing date, the currency, the 
interest rate expiry and the interest rate.
</p>


<h3>References</h3>

<p><a href="https://www.spglobal.com/en">https://www.spglobal.com/en</a> 
<a href="https://fred.stlouisfed.org/docs/api/fred/">https://fred.stlouisfed.org/docs/api/fred/</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+download_markit">download_markit</a> <a href="#topic+download_FRED">download_FRED</a> <a href="#topic+rates">rates</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Running this example will take more than two hours.

build_rates(start.date = as.Date("2004-01-01"), 
            end.date = as.Date("2014-08-23"))
## End(Not run)
</code></pre>

<hr>
<h2 id='call_ISDA'>call ISDA c function</h2><span id='topic+call_ISDA'></span>

<h3>Description</h3>

<p><code>call_ISDA</code> call ISDA function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_ISDA(x, name, rates.info)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="call_ISDA_+3A_x">x</code></td>
<td>
<p>dataframe which contains relevant dates and convention info</p>
</td></tr>
<tr><td><code id="call_ISDA_+3A_name">name</code></td>
<td>
<p>character function name within which call_ISDA is called</p>
</td></tr>
<tr><td><code id="call_ISDA_+3A_rates.info">rates.info</code></td>
<td>
<p>dataframe which contains relevant rates data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric value which is the difference between the new upfront and 
the old one
</p>

<hr>
<h2 id='CDS'>Build a <code>CDS</code> class object given the input about a CDS contract.</h2><span id='topic+CDS'></span>

<h3>Description</h3>

<p>Build a <code>CDS</code> class object given the input about a CDS contract.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CDS(
  name = NULL,
  contract = "SNAC",
  RED = NULL,
  date = Sys.Date(),
  spread = NULL,
  maturity = NULL,
  tenor = NULL,
  coupon = 100,
  recovery = 0.4,
  currency = "USD",
  notional = 1e+07
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CDS_+3A_name">name</code></td>
<td>
<p>is the name of the reference entity. Optional.</p>
</td></tr>
<tr><td><code id="CDS_+3A_contract">contract</code></td>
<td>
<p>is the contract type, default SNAC</p>
</td></tr>
<tr><td><code id="CDS_+3A_red">RED</code></td>
<td>
<p>alphanumeric code assigned to the reference entity. Optional.</p>
</td></tr>
<tr><td><code id="CDS_+3A_date">date</code></td>
<td>
<p>is when the trade is executed, denoted as T. Default is
<code>Sys.Date</code>. The date format should be in &quot;YYYY-MM-DD&quot;.</p>
</td></tr>
<tr><td><code id="CDS_+3A_spread">spread</code></td>
<td>
<p>CDS par spread in bps.</p>
</td></tr>
<tr><td><code id="CDS_+3A_maturity">maturity</code></td>
<td>
<p>date of the CDS contract.</p>
</td></tr>
<tr><td><code id="CDS_+3A_tenor">tenor</code></td>
<td>
<p>of contract. By default is set as 5</p>
</td></tr>
<tr><td><code id="CDS_+3A_coupon">coupon</code></td>
<td>
<p>quoted in bps. It specifies the payment amount from the
protection buyer to the seller on a regular basis. The default is 100 bps.</p>
</td></tr>
<tr><td><code id="CDS_+3A_recovery">recovery</code></td>
<td>
<p>in decimal. Default is 0.4.</p>
</td></tr>
<tr><td><code id="CDS_+3A_currency">currency</code></td>
<td>
<p>in which CDS is denominated.</p>
</td></tr>
<tr><td><code id="CDS_+3A_notional">notional</code></td>
<td>
<p>is the amount of the underlying asset on which the payments
are based. Default is 10000000, i.e. 10MM.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>CDS</code> class object including the input informtion on the
contract as well as the valuation results of the contract.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- CDS(date = as.Date("2014-05-07"), tenor = 5, spread = 50, coupon = 100) 
</code></pre>

<hr>
<h2 id='CDS+2C+20CDS-class'>CDS Class</h2><span id='topic+CDS+2C+20CDS-class'></span><span id='topic+CDS+2C'></span><span id='topic+CDS-class'></span>

<h3>Description</h3>

<p>Class definition for the <code>CDS-Class</code>
</p>


<h3>Slots</h3>


<dl>
<dt><code>name</code></dt><dd><p>is the name of the reference entity. Optional.</p>
</dd>
<dt><code>contract</code></dt><dd><p>is the contract type, default SNAC</p>
</dd>
<dt><code>RED</code></dt><dd><p>alphanumeric code assigned to the reference entity. Optional.</p>
</dd>
<dt><code>date</code></dt><dd><p>is when the trade is executed, denoted as T. Default is
<code>Sys.Date</code>.</p>
</dd>
<dt><code>spread</code></dt><dd><p>CDS par spread in bps.</p>
</dd>
<dt><code>maturity</code></dt><dd><p>date of the CDS contract.</p>
</dd>
<dt><code>tenor</code></dt><dd><p>of contract in number of years - 5, 3</p>
</dd>
<dt><code>coupon</code></dt><dd><p>quoted in bps. It specifies the payment amount from</p>
</dd>
<dt><code>recovery</code></dt><dd><p>in decimal. Default is 0.4.</p>
</dd>
<dt><code>currency</code></dt><dd><p>in which CDS is denominated.</p>
</dd>
<dt><code>principal</code></dt><dd><p>is the dirty <code>upfront</code> less the <code>accrual</code>.</p>
</dd>
<dt><code>accrual</code></dt><dd><p>is the accrued interest payment.</p>
</dd>
<dt><code>pd</code></dt><dd><p>is the approximate the default probability at time t given the
<code>spread</code>.</p>
</dd>
<dt><code>price</code></dt><dd><p>is the price</p>
</dd>
<dt><code>upfront</code></dt><dd><p>is quoted in the currency amount. Since a standard contract is
traded with fixed coupons, upfront payment is introduced to reconcile the
difference in contract value due to the difference between the fixed coupon
and the conventional par spread. There are two types of upfront, dirty and
clean. Dirty upfront, a.k.a. Cash Settlement Amount, refers to the market
value of a CDS contract. Clean upfront is dirty upfront less any accrued 
interest payment, and is also called the Principal.</p>
</dd>
<dt><code>spread.DV01</code></dt><dd><p>measures the sensitivity of a CDS contract mark-to-market
to a parallel shift in the term structure of the par spread.</p>
</dd>
<dt><code>IR.DV01</code></dt><dd><p>is the change in value of a CDS contract for a 1 bp parallel
increase in the interest rate curve. <code>IRDV01</code> is, typically, a much
smaller dollar value than <code>spreadDV01</code> because moves in overall
interest rates have a much smaller effect on the value of a CDS contract
than does a move in the CDS spread itself.</p>
</dd>
<dt><code>rec.risk.01</code></dt><dd><p>is the dollar value change in market value if the recovery
rate used in the CDS valuation were increased by 1%.</p>
</dd>
</dl>

<hr>
<h2 id='check_inputs'>Check whether inputs from the data frame are valid.</h2><span id='topic+check_inputs'></span>

<h3>Description</h3>

<p><code>check_inputs</code> checks whether a data frame's inputs are valid. It is a 
minimum set of checks. Things such as recovery var are not checked, 
because some functions don't need them as input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_inputs(
  x,
  date.var = "date",
  currency.var = "currency",
  maturity.var = "maturity",
  tenor.var = "tenor",
  spread.var = "spread",
  coupon.var = "coupon",
  notional.var = "notional",
  notional = 1e+06,
  recovery.var = "recovery",
  recovery = 0.4
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_inputs_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_notional.var">notional.var</code></td>
<td>
<p>character, column in x containing the amount of the 
underlying asset on which the payments are based.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_notional">notional</code></td>
<td>
<p>numeric, the notional amount for all pricing if there isn't a
notional.var</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="check_inputs_+3A_recovery">recovery</code></td>
<td>
<p>numeric, the recovery rate for all pricing if there isn't a 
recovery.var</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame if not stopped by errors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(date = as.Date(c("2014-04-22", "2014-04-22")),
                currency = c("USD", "EUR"),
                tenor = c(5, 5),
                spread = c(120, 110),
                coupon = c(100, 100),
                recovery = c(0.4, 0.4),
                notional = c(1000000, 1000000))
x &lt;- check_inputs(x)
</code></pre>

<hr>
<h2 id='CS10'>Calculate CS10</h2><span id='topic+CS10'></span>

<h3>Description</h3>

<p><code>CS10</code> calculates the change in upfront value when the spread rises by 
10
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CS10(
  x,
  date.var = "date",
  currency.var = "currency",
  maturity.var = "maturity",
  tenor.var = "tenor",
  spread.var = "spread",
  coupon.var = "coupon",
  recovery.var = "recovery",
  notional.var = "notional",
  notional = 1e+07,
  recovery = 0.4
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CS10_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="CS10_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="CS10_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="CS10_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="CS10_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="CS10_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="CS10_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="CS10_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="CS10_+3A_notional.var">notional.var</code></td>
<td>
<p>character, column in x containing the amount of the 
underlying asset on which the payments are based.</p>
</td></tr>
<tr><td><code id="CS10_+3A_notional">notional</code></td>
<td>
<p>numeric, the notional amount for all pricing if there isn't a
notional.var</p>
</td></tr>
<tr><td><code id="CS10_+3A_recovery">recovery</code></td>
<td>
<p>numeric, the recovery rate for all pricing if there isn't a 
recovery.var</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector containing the change in upfront in units of currency.var 
when spread increase by 10
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(date = as.Date(c("2014-04-22", "2014-04-22")),
                currency = c("USD", "EUR"),
                tenor = c(5, 5),
                spread = c(120, 110),
                coupon = c(100, 100),
                recovery = c(0.4, 0.4),
                notional = c(10000000, 10000000),
                stringsAsFactors = FALSE)
CS10(x)
</code></pre>

<hr>
<h2 id='download_FRED'>Get Rates from FRED</h2><span id='topic+download_FRED'></span>

<h3>Description</h3>

<p><code>download_FRED</code> returns the deposits and swap rates for the day input,
along with the date conventions for that specific currency. The source is
FRED.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_FRED(
  start = as.Date("2004-01-01"),
  end = as.Date("2005-01-04"),
  currency = "JPY"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_FRED_+3A_start">start</code></td>
<td>
<p>is the start date of the data frame we want</p>
</td></tr>
<tr><td><code id="download_FRED_+3A_end">end</code></td>
<td>
<p>is the end date of the data frame we want</p>
</td></tr>
<tr><td><code id="download_FRED_+3A_currency">currency</code></td>
<td>
<p>is the three-letter currency code. As of now, it works for
USD, EUR, and JPY. The default is JPY.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame that contains the rates based on the ISDA pecifications
</p>


<h3>See Also</h3>

<p><code><a href="#topic+download_markit">download_markit</a></code> <code><a href="#topic+build_rates">build_rates</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_FRED(start = as.Date("2003-12-31"), end = as.Date("2005-01-04"), 
              currency = "JPY")

## End(Not run)             
</code></pre>

<hr>
<h2 id='download_markit'>Get rates from Markit</h2><span id='topic+download_markit'></span>

<h3>Description</h3>

<p><code>download_markit</code> takes a data frame of dates and returns a data frame 
with the yields for different maturities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_markit(start, end, currency = "USD")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="download_markit_+3A_start">start</code></td>
<td>
<p>date for gathering interest rates. Must be a Date type</p>
</td></tr>
<tr><td><code id="download_markit_+3A_end">end</code></td>
<td>
<p>date for gathering interest rates. Must be a Date type</p>
</td></tr>
<tr><td><code id="download_markit_+3A_currency">currency</code></td>
<td>
<p>for which rates are being retrieved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame containing the rates from every day from start to end 
dates. Note: the date in the output data frame does not refer to the rates 
of that day but to the date on which the CDS is being priced. So the 
corresponding rate is actually the rate of the previous day. Example: if 
the column reads 2014-04-22, the corresponding rates are actually for 
2014-04-21.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+download_FRED">download_FRED</a></code> <code><a href="#topic+build_rates">build_rates</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_markit(start = as.Date("2005-12-31"), end = as.Date("2006-01-04"), 
                currency = "JPY")

## End(Not run)       
</code></pre>

<hr>
<h2 id='get_rates'>Get interest rates from rates.RData or the Markit website</h2><span id='topic+get_rates'></span>

<h3>Description</h3>

<p><code>get_rates</code> returns the deposits and swap rates for the day input, along
with the date conventions for that specific currency. The day input should be
a weekday. If not, go to the most recent previous weekday.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rates(date, currency)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_rates_+3A_date">date</code></td>
<td>
<p>Trade date. The rates for a trade date T are published on T-1
weekday. This date refers to the day on which we want the CDS to be priced,
not the date for the interest rates as the interest rates will be used is
the day before the trade date. Eg. If we are trying to find the rates used
to price a CDS on 2014-04-22, it will return the rates of 2014-04-21</p>
</td></tr>
<tr><td><code id="get_rates_+3A_currency">currency</code></td>
<td>
<p>the three-letter currency code. As of now, it works for USD,
EUR, and JPY. The default is USD.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame that contains date (the CDS pricing date),
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_rates(as.Date("2014-05-07"), currency = "USD")
</code></pre>

<hr>
<h2 id='get_raw_markit'>Get raw data from Markit website.</h2><span id='topic+get_raw_markit'></span>

<h3>Description</h3>

<p><code>get_raw_markit</code> downloads the rates zip file from Markit website,
unzips and parses the XML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_raw_markit(date, currency)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_raw_markit_+3A_date">date</code></td>
<td>
<p>Date type, is the CDS pricing date.</p>
</td></tr>
<tr><td><code id="get_raw_markit_+3A_currency">currency</code></td>
<td>
<p>numeric, is the currency that the CDS is traded in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame that contains CDS pricing date, currency, interest
rate expiry and interest rate. The data frame is created with data
from Markit website
</p>

<hr>
<h2 id='implied_RR'>Calculates Implied Recovery Rate</h2><span id='topic+implied_RR'></span>

<h3>Description</h3>

<p><code>implied_RR</code> that calculates the recovery rate implied by the CDS spread
and probability of default (pd) by using the ISDA model. This takes a data 
frame of inputs and returns a vector of the same length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>implied_RR(
  x,
  date.var = "date",
  tenor.var = "tenor",
  maturity.var = "maturity",
  spread.var = "spread",
  pd.var = "pd"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="implied_RR_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="implied_RR_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="implied_RR_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="implied_RR_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="implied_RR_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="implied_RR_+3A_pd.var">pd.var</code></td>
<td>
<p>name of the column containing the probability of default rates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>implied recovery rate in percentage based on the general 
approximation for a probability of default in the Bloomberg manual. The 
actual calculation uses a complicated bootstrapping process, so the results
may be marginally different.
</p>

<hr>
<h2 id='IR_DV01'>Calculate IR.DV01</h2><span id='topic+IR_DV01'></span>

<h3>Description</h3>

<p><code>IR_DV01</code> calculate the amount of change in upfront when there is a
1/1e4 increase in interest rate for a data frame of CDS contracts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IR_DV01(
  x,
  date.var = "date",
  currency.var = "currency",
  maturity.var = "maturity",
  tenor.var = "tenor",
  spread.var = "spread",
  coupon.var = "coupon",
  recovery.var = "recovery",
  notional.var = "notional",
  notional = 1e+07,
  recovery = 0.4
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="IR_DV01_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_notional.var">notional.var</code></td>
<td>
<p>character, column in x containing the amount of the 
underlying asset on which the payments are based.</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_notional">notional</code></td>
<td>
<p>numeric, the notional amount for all pricing if there isn't a
notional.var</p>
</td></tr>
<tr><td><code id="IR_DV01_+3A_recovery">recovery</code></td>
<td>
<p>numeric, the recovery rate for all pricing if there isn't a 
recovery.var</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector containing the change in upfront when there is a 1/1e4 
increase in interest rate, for each corresponding CDS contract.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(date = c(as.Date("2014-04-22"), as.Date("2014-04-22")),
                currency = c("USD", "EUR"),
                tenor = c(5, 5),
                spread = c(120, 110),
                coupon = c(100, 100),
                recovery = c(0.4, 0.4),
                notional = c(10000000, 10000000),
                stringsAsFactors = FALSE)
IR_DV01(x)
</code></pre>

<hr>
<h2 id='pd_to_spread'>Calculate spread with Default Probability</h2><span id='topic+pd_to_spread'></span>

<h3>Description</h3>

<p><code>pd_to_spread</code> to calculate spread using the probability of default,
tenor and recovery rate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pd_to_spread(
  x,
  recovery.var = "recovery",
  currency.var = "currency",
  tenor.var = "tenor",
  date.var = "date",
  pd.var = "pd"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pd_to_spread_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="pd_to_spread_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="pd_to_spread_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="pd_to_spread_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="pd_to_spread_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="pd_to_spread_+3A_pd.var">pd.var</code></td>
<td>
<p>name of the column containing the probability of default in
decimals.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector containing the spread values in basis points, calculated by
inverting the formula for probability of default given in the Bloomberg
Manual
</p>


<h3>See Also</h3>

<p><code><a href="#topic+spread_to_pd">spread_to_pd</a></code>
</p>

<hr>
<h2 id='PV01'>Calculate PV01</h2><span id='topic+PV01'></span>

<h3>Description</h3>

<p><code>PV01</code> to calculate present value 01 or present value of a stream of 1bp
payments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PV01(
  x,
  principal.var = "principal",
  spread.var = "spread",
  coupon.var = "coupon",
  notional.var = "notional"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="PV01_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="PV01_+3A_principal.var">principal.var</code></td>
<td>
<p>name of the column containing the principal or clean
upfront values of the CDS</p>
</td></tr>
<tr><td><code id="PV01_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="PV01_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="PV01_+3A_notional.var">notional.var</code></td>
<td>
<p>character, column in x containing the amount of the 
underlying asset on which the payments are based.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector containing the PV01 values
</p>

<hr>
<h2 id='rates'>LIBOR rates from 2004-01-01 to 2015-08-03</h2><span id='topic+rates'></span>

<h3>Description</h3>

<p>This data frame is created by <code>build_rates</code> in <code>creditr</code> package to
calculate the CDS pricing. It covers three currencies: USD, EUR, and JPY. The
interest rates date from 2004-01-01 to 2014-08-23. Rates on holidays and 
weekends are available as well as business days.
</p>


<h3>Format</h3>

<p>A data frame with 194378 observations on the following 4 variables. 
</p>
 <ul>
<li><p> date = a date (Date object) </p>
</li>
<li><p> currency = a character 
containing <code>USD</code> <code>EUR</code> <code>JPY</code> </p>
</li>
<li><p> expiry = a character 
containing <code>1M</code> <code>2M</code> <code>3M</code> <code>6M</code> <code>9M</code> <code>1Y</code> 
<code>2Y</code> <code>3Y</code> <code>4Y</code> <code>5Y</code> <code>6Y</code> <code>7Y</code> <code>8Y</code> 
<code>9Y</code> <code>10Y</code> <code>12Y</code> <code>15Y</code> <code>20Y</code> <code>30Y</code> </p>
</li>
<li><p> rate
= a numeric vector. The LIBOR rate. </p>
</li></ul>



<h3>Details</h3>

<p>The source of the interest rates in <code>rates.RData</code> is from 
<a href="https://www.spglobal.com/en">https://www.spglobal.com/en</a> and 
<a href="https://fred.stlouisfed.org/">https://fred.stlouisfed.org/</a>. When a user is calculating CDS
using the <code>CDS</code> package, the package calls <code>get_rates</code> to get the
needed interest rates; <code>get_rates</code> then calls the <code>rates.RData</code> 
for these interest rates. If a date is unavailable in <code>rates.RData</code>, 
then the package calls other functions to get the needed interest rates 
from the internet. The <code>rates.RData</code> is created and stored in the 
package for the users' convenience: getting interest rates from the 
Internet may fail due to the internet connection problem and may be very 
slow. Also, the user can build its own updated local <code>rates.RData</code> by 
using <code>build_rates</code>. For more explanation on the usage of 
<code>build_rates</code>, please see <b>See Also</b>.
</p>
<p>Also, please notice that in the <code>rates.RData</code>, the <code>rate</code> is not 
the interest rate on the <code>date</code> listed in the same row as the 
<code>rate</code>. For example, in the first row, the <code>rate</code> is 0.001550; 
the <code>date</code> in that row is 2014-08-21. But this does not mean that on 
2014-08-21, the interest rate is 0.001550; instead, 0.001550 is the 
interest rate on 2014-08-20. This regulation of using the interest rate on 
the previous business day of CDS trading date is set by ISDA Standard 
Model. The Model says that, if a trader buy a CDS on 2014-08-21, then when 
calculating the pricing of the CDS, she should use the interest rate of 
2014-08-20, which is 0.001550. This may be confusing for people who are yet
unfamiliar with CDS. We design <code>rates.RData</code> in this way because it is
easier for other functions in the <code>CDS</code> package to use this data frame
for calculation.
</p>
<p><code>rates.RData</code> covers holidays, weekend and business days. As is set by
ISDA Standard Model and introduced above, we use the previous business 
day's interest rate for CDS pricing on a certain trading date. Therefore, 
if the user is buying a CDS on Saturday, she should use the interest rate 
of last Friday; if she is buying a CDS on Sunday or Monday, she should 
still use the interest rate of last Friday, because last Friday is the 
previous business day of the CDS trading date. When it comes to holidays, 
we still choose the previous business day for interest rate. For example, 
if a trader is buying a CDS on 2014-07-05, then she should use the interest
rate of 2014-07-03, because 2014-07-04 is a national holiday and 2014-07-03
is the previous business day of trading date.
</p>
<p>Also, please notice that in <code>rates.RData</code>, a currency's type of 
expiries generally stays the same along the time, but not always. For 
example, we check the expiry type of USD in <code>rates.RData</code>: for 
2004-01-01, there are two types of expirty: 1M, 3Y; for 2006-01-01, there 
are five types of expiry: 1M, 2M, 3M, 6M, 1Y; for 2007-01-01, there are 18 
types of expiry; for 2014-01-01, there are 19 types of expiry. Therefore, 
for a trader, she should always keep in mind to update her knowledge of the
expiry types of her trading currency. For different currencies, the types 
of expiries are often different.
</p>
<p>Finally, please notice that some of the data are missing for a certain 
expiry of a currency in a short time. For example, some dates in 
<code>rates.RData</code> do not have a <code>expiry</code> of 3Y for <code>USD</code>. This 
is not likely to be caused by data error, since all these data are got from
Markit and FRED. Users, however, should be aware of that some data seem 
&quot;missing&quot;.
</p>


<h3>Source</h3>

<p><a href="https://www.spglobal.com/en">https://www.spglobal.com/en</a> 
<a href="https://fred.stlouisfed.org/">https://fred.stlouisfed.org/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+download_FRED">download_FRED</a></code> <code><a href="#topic+download_markit">download_markit</a></code>
<code><a href="#topic+build_rates">build_rates</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(rates)

## for JPY rates: 
rates[rates$currency == "JPY",]

## for rates on a specific date, of a specific currency:
rates[rates$currency == "USD" &amp; rates$date == "2005-10-01",]

</code></pre>

<hr>
<h2 id='rec_risk_01'>Calculate Recovery Rate Changes</h2><span id='topic+rec_risk_01'></span>

<h3>Description</h3>

<p><code>rec_risk_01</code> calculates the amount of change in upfront when there is a 
1
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rec_risk_01(
  x,
  date.var = "date",
  currency.var = "currency",
  maturity.var = "maturity",
  tenor.var = "tenor",
  spread.var = "spread",
  coupon.var = "coupon",
  recovery.var = "recovery",
  notional.var = "notional",
  recovery = 0.4,
  notional = 1e+07
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rec_risk_01_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_notional.var">notional.var</code></td>
<td>
<p>character, column in x containing the amount of the 
underlying asset on which the payments are based.</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_recovery">recovery</code></td>
<td>
<p>numeric, the recovery rate for all pricing if there isn't a 
recovery.var</p>
</td></tr>
<tr><td><code id="rec_risk_01_+3A_notional">notional</code></td>
<td>
<p>numeric, the notional amount for all pricing if there isn't a
notional.var</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector containing the change in upfront when there is a 1 percent 
increase in recovery rate, for each corresponding CDS contract.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(date = c(as.Date("2014-04-22"), as.Date("2014-04-22")),
                currency = c("USD", "EUR"),
                tenor = c(5, 5),
                spread = c(120, 110),
                coupon = c(100, 100),
                recovery = c(0.4, 0.4),
                notional = c(10000000, 10000000),
                stringsAsFactors = FALSE)
rec_risk_01(x)
</code></pre>

<hr>
<h2 id='separate_YMD'>Separate Year/Month/Day</h2><span id='topic+separate_YMD'></span>

<h3>Description</h3>

<p><code>separate_YMD</code> contains helper functions to separate an input date into
year, month, and day.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>separate_YMD(d)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="separate_YMD_+3A_d">d</code></td>
<td>
<p>is an input date.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an array contains year, month, date of the input date
<code>d</code>.
</p>

<hr>
<h2 id='show'>Show Method</h2><span id='topic+show'></span><span id='topic+show+2CCDS-method'></span>

<h3>Description</h3>

<p><code>show</code> shows a CDS class object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'CDS'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_+3A_object">object</code></td>
<td>
<p>the input <code>CDS</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='spread_DV01'>Calculate Spread Change</h2><span id='topic+spread_DV01'></span>

<h3>Description</h3>

<p><code>spread_DV01</code> calculates the spread DV01 or change in upfront value when
the spread rises by 1 basis point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spread_DV01(
  x,
  date.var = "date",
  currency.var = "currency",
  maturity.var = "maturity",
  tenor.var = "tenor",
  spread.var = "spread",
  coupon.var = "coupon",
  recovery.var = "recovery",
  notional.var = "notional",
  notional = 1e+07,
  recovery = 0.4
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spread_DV01_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_notional.var">notional.var</code></td>
<td>
<p>character, column in x containing the amount of the 
underlying asset on which the payments are based.</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_notional">notional</code></td>
<td>
<p>numeric, the notional amount for all pricing if there isn't a
notional.var</p>
</td></tr>
<tr><td><code id="spread_DV01_+3A_recovery">recovery</code></td>
<td>
<p>numeric, the recovery rate for all pricing if there isn't a 
recovery.var</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector containing the change in upfront when there is a 1 basis
point increase in spread, for each corresponding CDS contract.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(date = c(as.Date("2014-04-22"), as.Date("2014-04-22")),
                currency = c("USD", "EUR"),
                tenor = c(5, 5),
                spread = c(120, 110),
                coupon = c(100, 100),
                recovery = c(0.4, 0.4),
                notional = c(10000000, 10000000),
                stringsAsFactors = FALSE)
spread_DV01(x)
</code></pre>

<hr>
<h2 id='spread_to_pd'>Calcualte Default Probability with Spread</h2><span id='topic+spread_to_pd'></span>

<h3>Description</h3>

<p><code>spread_to_pd</code> approximates the default probability at time given the 
spread
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spread_to_pd(
  x,
  recovery.var = "recovery",
  currency.var = "currency",
  tenor.var = "tenor",
  maturity.var = "maturity",
  date.var = "date",
  spread.var = "spread"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spread_to_pd_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="spread_to_pd_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="spread_to_pd_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="spread_to_pd_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="spread_to_pd_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="spread_to_pd_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="spread_to_pd_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector containing the probability of default, calculated by using the
formula for probability of default given in the Bloomberg Manual
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pd_to_spread">pd_to_spread</a></code>
</p>

<hr>
<h2 id='spread_to_upfront'>Calculate Upfront Payments</h2><span id='topic+spread_to_upfront'></span>

<h3>Description</h3>

<p><code>spread_to_upfront</code> takes a dataframe of variables on CDSs to return 
a vector of upfront values. Note that all CDS in the data frame must be denominated in 
the same currency.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spread_to_upfront(
  x,
  currency.var = "currency",
  notional = 1e+07,
  date.var = "date",
  spread.var = "spread",
  coupon.var = "coupon",
  tenor.var = "tenor",
  maturity.var = "maturity",
  recovery.var = "recovery",
  isPriceClean = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spread_to_upfront_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_notional">notional</code></td>
<td>
<p>is the amount of the underlying asset on which the
payments are based. Default is 10000000, i.e. 10MM.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_spread.var">spread.var</code></td>
<td>
<p>character, column in x containing spread in basis points.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="spread_to_upfront_+3A_ispriceclean">isPriceClean</code></td>
<td>
<p>refers to the type of upfront calculated. It is
boolean. When <code>TRUE</code>, calculate principal only. When
<code>FALSE</code>, calculate principal + accrual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of upfront values (with accrual) in the same order
</p>

<hr>
<h2 id='summary'>Summary Method</h2><span id='topic+summary'></span><span id='topic+summary+2CCDS-method'></span>

<h3>Description</h3>

<p><code>summary</code> method displays only the essential info about the CDS
class object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'CDS'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary_+3A_object">object</code></td>
<td>
<p>the input <code>CDS</code> object</p>
</td></tr>
<tr><td><code id="summary_+3A_...">...</code></td>
<td>
<p>additional arguments to pass in</p>
</td></tr>
</table>

<hr>
<h2 id='upfront_to_spread'>Calculate Spread with a Given Upfront</h2><span id='topic+upfront_to_spread'></span>

<h3>Description</h3>

<p><code>upfront_to_spread</code> calculates conventional spread using the upfront 
or ptsUpfront values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>upfront_to_spread(
  x,
  currency.var = "currency",
  date.var = "date",
  coupon.var = "coupon",
  tenor.var = "tenor",
  maturity.var = "maturity",
  recovery.var = "recovery",
  upfront.var = "upfront",
  points.var = "ptsUpfront",
  isPriceClean = FALSE,
  notional = 1e+07,
  payAccruedAtStart = FALSE,
  payAccruedOnDefault = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="upfront_to_spread_+3A_x">x</code></td>
<td>
<p>data frame, contains all the relevant columns.</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_currency.var">currency.var</code></td>
<td>
<p>character, column in x containing currency.</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_date.var">date.var</code></td>
<td>
<p>character, column in x containing date variable.</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_coupon.var">coupon.var</code></td>
<td>
<p>character, column in x containing coupon rates in basis 
points. It specifies the payment amount from the protection buyer to the 
seller on an annual basis.</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_tenor.var">tenor.var</code></td>
<td>
<p>character, column in x containing tenors.</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_maturity.var">maturity.var</code></td>
<td>
<p>character, column in x containing maturity date.</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_recovery.var">recovery.var</code></td>
<td>
<p>character, column in x containing recovery rates. ISDA
model standard recovery rate asscumption is 0.4.</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_upfront.var">upfront.var</code></td>
<td>
<p>is the character name of upfront column</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_points.var">points.var</code></td>
<td>
<p>character name of points Upfront column</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_ispriceclean">isPriceClean</code></td>
<td>
<p>a boolean variable indicating whether the upfront is clean or dirty</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_notional">notional</code></td>
<td>
<p>numeric variable indicating the notional value of the CDS contract</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_payaccruedatstart">payAccruedAtStart</code></td>
<td>
<p>whether pay at start date the accrual amount</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_payaccruedondefault">payAccruedOnDefault</code></td>
<td>
<p>whether pay in default scenario the accrual amount</p>
</td></tr>
<tr><td><code id="upfront_to_spread_+3A_recovery">recovery</code></td>
<td>
<p>numeric, the recovery rate for all pricing if there isn't a 
recovery.var</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric indicating the spread.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

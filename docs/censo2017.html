<!DOCTYPE html><html lang="en"><head><title>Help for package censo2017</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {censo2017}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#censo2017-package'><p>censo2017: Base de Datos de Facil Acceso del Censo 2017 de Chile (2017 Chilean Census Easy Access Database)</p></a></li>
<li><a href='#censo_conectar'><p>Conexion a la Base de Datos del Censo</p></a></li>
<li><a href='#censo_descargar'><p>Descarga la Base de Datos del Censo a tu Computador</p></a></li>
<li><a href='#censo_desconectar'><p>Desconecta la Base de Datos del Censo</p></a></li>
<li><a href='#censo_eliminar'><p>Elimina la Base de Datos del Censo de tu Computador</p></a></li>
<li><a href='#censo_tabla'><p>Tablas Completas de la Base de Datos del Censo</p></a></li>
<li><a href='#nivel_educacional_biobio'><p>Poblacion por Nivel Educacional en la Region del Bio Bio</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Base de Datos de Facil Acceso del Censo 2017 de Chile (2017
Chilean Census Easy Access Database)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provee un acceso conveniente a mas de 17 millones de registros
    de la base de datos del Censo 2017. Los datos fueron importados desde
    el DVD oficial del INE usando el Convertidor REDATAM creado por Pablo De
    Grande. Esta paquete esta documentado intencionalmente en castellano
    asciificado para que funcione sin problema en diferentes plataformas.
    (Provides convenient access to more than 17 million records from the
    Chilean Census 2017 database. The datasets were imported from the official
    DVD provided by the Chilean National Bureau of Statistics by using the
    REDATAM converter created by Pablo De Grande and in addition it includes the
    maps accompanying these datasets.)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/censo2017/">https://docs.ropensci.org/censo2017/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/censo2017/issues/">https://github.com/ropensci/censo2017/issues/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>DBI, duckdb, httr, tibble, purrr, cli, crayon, rstudioapi,
tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr, knitr, dplyr, dbplyr, ggplot2, chilemapas</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-24 20:18:44 UTC; pacha</td>
</tr>
<tr>
<td>Author:</td>
<td>Mauricio Vargas <a href="https://orcid.org/0000-0003-1017-7574"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Juan Correa [ctb],
  Maria Paula Caldas [rev] (rOpenSci),
  Frans van Dunee [rev] (rOpenSci),
  Melina Vidoni [rev] (rOpenSci),
  Constanza Manriquez [rev] (revision independiente de las vinietas),
  Instituto Nacional de Estadisticas (INE) [dtc]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mauricio Vargas &lt;mavargas11@uc.cl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-25 08:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='censo2017-package'>censo2017: Base de Datos de Facil Acceso del Censo 2017 de Chile (2017 Chilean Census Easy Access Database)</h2><span id='topic+censo2017'></span><span id='topic+censo2017-package'></span>

<h3>Description</h3>

<p>Provee un acceso conveniente a mas de 17 millones de registros de la base de datos del Censo 2017. Los datos fueron importados desde el DVD oficial del INE usando el Convertidor REDATAM creado por Pablo De Grande. Esta paquete esta documentado intencionalmente en castellano asciificado para que funcione sin problema en diferentes plataformas. (Provides convenient access to more than 17 million records from the Chilean Census 2017 database. The datasets were imported from the official DVD provided by the Chilean National Bureau of Statistics by using the REDATAM converter created by Pablo De Grande and in addition it includes the maps accompanying these datasets.)
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mauricio Vargas <a href="mailto:mavargas11@uc.cl">mavargas11@uc.cl</a> (<a href="https://orcid.org/0000-0003-1017-7574">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Juan Correa [contributor]
</p>
</li>
<li><p> Maria Paula Caldas (rOpenSci) [reviewer]
</p>
</li>
<li><p> Frans van Dunee (rOpenSci) [reviewer]
</p>
</li>
<li><p> Melina Vidoni (rOpenSci) [reviewer]
</p>
</li>
<li><p> Constanza Manriquez (revision independiente de las vinietas) [reviewer]
</p>
</li>
<li><p>  Instituto Nacional de Estadisticas (INE) [data contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/censo2017/">https://docs.ropensci.org/censo2017/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/censo2017/issues/">https://github.com/ropensci/censo2017/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='censo_conectar'>Conexion a la Base de Datos del Censo</h2><span id='topic+censo_conectar'></span>

<h3>Description</h3>

<p>Devuelve una conexion a la base de datos local. Esto corresponde a una
conexion a una base DuckDB compatible con DBI. A diferencia de
<code><a href="#topic+censo_tabla">censo_tabla()</a></code>, esta funcion es mas flexible y se puede usar con
dbplyr para leer unicamente lo que se necesita o directamente con DBI para
usar comandos SQL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censo_conectar(dir = censo_path())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censo_conectar_+3A_dir">dir</code></td>
<td>
<p>La ubicacion de la base de datos en el disco. Por defecto es
<code>censo2017</code> en la carpeta de datos del usuario de R o la variable de entorno
<code>CENSO2017_DIR</code> si el usuario la especifica.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 DBI::dbListTables(censo_conectar())

 DBI::dbGetQuery(
  censo_conectar(),
  'SELECT * FROM comunas WHERE provincia_ref_id = 1'
 )

## End(Not run)
</code></pre>

<hr>
<h2 id='censo_descargar'>Descarga la Base de Datos del Censo a tu Computador</h2><span id='topic+censo_descargar'></span>

<h3>Description</h3>

<p>Este comando descarga la base de datos completa como un unico archivo zip que
se descomprime para crear la base de datos local. Si no quieres descargar la
base de datos en tu home, ejecuta usethis::edit_r_environ() para crear la
variable de entorno CENSO2017_DIR con la ruta.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censo_descargar(ver = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censo_descargar_+3A_ver">ver</code></td>
<td>
<p>La version a descargar. Por defecto es la ultima version
disponible en GitHub. Se pueden ver todas las versiones en
<a href="https://github.com/ropensci/censo2017/releases">https://github.com/ropensci/censo2017/releases</a>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  censo_descargar() 
</code></pre>

<hr>
<h2 id='censo_desconectar'>Desconecta la Base de Datos del Censo</h2><span id='topic+censo_desconectar'></span>

<h3>Description</h3>

<p>Una funcion auxiliar para desconectarse de la base de datos.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censo_desconectar()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>censo_desconectar()
</code></pre>

<hr>
<h2 id='censo_eliminar'>Elimina la Base de Datos del Censo de tu Computador</h2><span id='topic+censo_eliminar'></span>

<h3>Description</h3>

<p>Elimina el directorio <code>censo2017</code> y todos sus contenidos, incluyendo versiones
de la base de datos del Censo creadas con cualquier version de 'DuckDB'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censo_eliminar(preguntar = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censo_eliminar_+3A_preguntar">preguntar</code></td>
<td>
<p>Si acaso se despliega un menu para confirmar la accion de
borrar cualquier base del censo existente. Por defecto es verdadero.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  censo_eliminar() 
</code></pre>

<hr>
<h2 id='censo_tabla'>Tablas Completas de la Base de Datos del Censo</h2><span id='topic+censo_tabla'></span>

<h3>Description</h3>

<p>Devuelve una tabla completa de la base de datos. Para entregar datos
filtrados previamente se debe usar <code><a href="#topic+censo_conectar">censo_conectar()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>censo_tabla(tabla)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="censo_tabla_+3A_tabla">tabla</code></td>
<td>
<p>Una cadena de texto indicando la tabla a extraer</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Un tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  censo_tabla("comunas") 
</code></pre>

<hr>
<h2 id='nivel_educacional_biobio'>Poblacion por Nivel Educacional en la Region del Bio Bio</h2><span id='topic+nivel_educacional_biobio'></span>

<h3>Description</h3>

<p>Proporciona la cuenta y porcentaje por comuna de las personas de
la Region del Bio Bio de acuerdo al maximo nivel educacional que reportan
(e.g. primaria, secundaria, universitaria, etc.)
</p>


<h3>Format</h3>

<p>Un tibble con 860 observaciones en las siguientes 4 variables.
</p>

<dl>
<dt><code>comuna</code></dt><dd><p>codigo de comuna (15 regiones)</p>
</dd>
<dt><code>nivel_educ</code></dt><dd><p>maximo nivel educacional alcanzado (ver la vinieta
con los links a la descripcion de codigos)</p>
</dd>
<dt><code>cuenta</code></dt><dd><p>cantidad de personas censadas en la comuna</p>
</dd>
<dt><code>proporcion</code></dt><dd><p>porcentaje que representan las personas censadas en
la comuna</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Elaboracion propia con base en datos desagregados del Censo
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nivel_educacional_biobio

## Not run: 
# replicar el resultado usando dplyr directamente con SQL
# es ligeramente distinto a las vinietas que explican esta misma tabla
nivel_educacional_biobio &lt;- tbl(censo_conectar(), "zonas") %&gt;% 
 mutate(
  region = substr(as.character(geocodigo), 1, 2),
  comuna = substr(as.character(geocodigo), 1, 5)
 ) %&gt;% 
 filter(region == "08") %&gt;% 
 select(comuna, geocodigo, zonaloc_ref_id) %&gt;%
 inner_join(select(tbl(censo_conectar(), "viviendas"),
  zonaloc_ref_id, vivienda_ref_id), by = "zonaloc_ref_id") %&gt;%
 inner_join(select(tbl(censo_conectar(), "hogares"),
  vivienda_ref_id, hogar_ref_id), by = "vivienda_ref_id") %&gt;%
 inner_join(select(tbl(censo_conectar(), "personas"),
  hogar_ref_id, nivel_educ = p15), by = "hogar_ref_id") %&gt;%
 group_by(comuna, nivel_educ) %&gt;%
 summarise(cuenta = n()) %&gt;%
 group_by(comuna) %&gt;%
 mutate(proporcion = cuenta * (1 / sum(cuenta))) %&gt;% 
 arrange(comuna, nivel_educ)
## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

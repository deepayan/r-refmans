<!DOCTYPE html><html><head><title>Help for package SmartMeterAnalytics</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SmartMeterAnalytics}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calc_features_daily_multipleTS'><p>Calculates feature from multiple time series data vectors</p></a></li>
<li><a href='#calc_features_weather'><p>Calculates features from one environmental time-series variable and smart meter data</p></a></li>
<li><a href='#calc_features15_consumption'><p>Calculates features from 15-min smart meter data</p></a></li>
<li><a href='#calc_features30_consumption'><p>Calculates features from 30-min smart meter data</p></a></li>
<li><a href='#calc_features60_consumption'><p>Calculates features from 15-min smart meter data</p></a></li>
<li><a href='#calc_featuresco_consumption'><p>Calculates consumption features from weekly consumption only</p></a></li>
<li><a href='#calc_featuresda_consumption'><p>Calculates consumption features from daily smart meter data</p></a></li>
<li><a href='#calc_featureshtnt_consumption2'><p>Calculates consumption features from daily (HT / NT) smart meter data</p></a></li>
<li><a href='#calc_featuresnt_consumption'><p>Calculates consumption features from daily (HT / NT) smart meter data</p></a></li>
<li><a href='#encode_p_val_stars'><p>Encodes p-values with a star rating according to the Significance code:</p></a></li>
<li><a href='#features_all_subsets'><p>Creates a set of all combinations of features</p></a></li>
<li><a href='#getDay_ISO8601_week'><p>Retrieves the date of the monday in a ISO8601 week-string</p></a></li>
<li><a href='#getDay_US_week'><p>Retrieves the date of the monday in a US week-string (as implemented by R as.Date)</p></a></li>
<li><a href='#interpolate_missingReadings'><p>Interpolate missing readings</p></a></li>
<li><a href='#naInf_omit'><p>Removes the rows with NA or Inf values</p></a></li>
<li><a href='#occupancy_cluster'><p>Determines two clusters of high and low consumption times (e.g., non-ocupancy during holidays)</p></a></li>
<li><a href='#prepareFeatureSet'><p>Compiles a list of features from energy consumption data</p></a></li>
<li><a href='#remove_empty_features'><p>Removes variables with no necessary information from a data.frame</p></a></li>
<li><a href='#replaceNAsFeatures'><p>Replaces NA values with a given ones</p></a></li>
<li><a href='#smote'><p>Synthetic minority oversampling (SMOTE)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Methods for Smart Meter Data Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-08-11</td>
</tr>
<tr>
<td>Description:</td>
<td>Methods for analysis of energy consumption data (electricity, gas, 
    water) at different data measurement intervals. The package provides feature extraction 
    methods and algorithms to prepare data for data mining and machine learning 
    applications. Deatiled descriptions of the methods and their application can be found 
    in Hopf (2019, ISBN:978-3-86309-669-4) "Predictive Analytics for Energy Efficiency and 
    Energy Retailing" &lt;<a href="https://doi.org/10.20378%2Firbo-54833">doi:10.20378/irbo-54833</a>&gt; and Hopf et al. (2016) &lt;<a href="https://doi.org/10.1007%2Fs12525-018-0290-9">doi:10.1007/s12525-018-0290-9</a>&gt; 
    "Enhancing energy efficiency in the residential sector with smart meter data analytics".</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr, futile.logger, FNN, stinepack, zoo</td>
</tr>
<tr>
<td>Suggests:</td>
<td>stringr, knitr, rmarkdown, ROCR, randomForest, caret, dplyr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-08-11 14:12:47 UTC; ba7xx7</td>
</tr>
<tr>
<td>Author:</td>
<td>Konstantin Hopf <a href="https://orcid.org/0000-0002-5452-0672"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Andreas Weigert [ctb],
  Ilya Kozlovskiy [ctb],
  Thorsten Staake <a href="https://orcid.org/0000-0003-1399-4676"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Konstantin Hopf &lt;konstantin.hopf@uni-bamberg.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-08-18 09:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='calc_features_daily_multipleTS'>Calculates feature from multiple time series data vectors</h2><span id='topic+calc_features_daily_multipleTS'></span>

<h3>Description</h3>

<p>This function is intended to compute features for daily consumption data from electricity, gas, and water consumption time series data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_features_daily_multipleTS(
  el = NULL,
  gas = NULL,
  wa = NULL,
  rowname = NULL,
  cor.useNA = "complete.obs"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_features_daily_multipleTS_+3A_el">el</code></td>
<td>
<p>electricity consumption</p>
</td></tr>
<tr><td><code id="calc_features_daily_multipleTS_+3A_gas">gas</code></td>
<td>
<p>gas consumption</p>
</td></tr>
<tr><td><code id="calc_features_daily_multipleTS_+3A_wa">wa</code></td>
<td>
<p>water consumption</p>
</td></tr>
<tr><td><code id="calc_features_daily_multipleTS_+3A_rowname">rowname</code></td>
<td>
<p>the name of the consumer (e.g., a household ID in a study database)</p>
</td></tr>
<tr><td><code id="calc_features_daily_multipleTS_+3A_cor.usena">cor.useNA</code></td>
<td>
<p>an optional character string for the <a href="stats.html#topic+cor">cor</a> function, specifying a method for
computing covariances in the presence of missing values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with feature values as columns, named by 'rowname'
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>

<hr>
<h2 id='calc_features_weather'>Calculates features from one environmental time-series variable and smart meter data</h2><span id='topic+calc_features_weather'></span>

<h3>Description</h3>

<p>Calculates features from one environmental time-series variable and smart meter data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_features_weather(SMD, WEATHER, rowname = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_features_weather_+3A_smd">SMD</code></td>
<td>
<p>the load trace for one week (vector with 672 or 336 elements)</p>
</td></tr>
<tr><td><code id="calc_features_weather_+3A_weather">WEATHER</code></td>
<td>
<p>weather observations (e.g. temperature) in 30-minute readings
(vector with 336 elements)</p>
</td></tr>
<tr><td><code id="calc_features_weather_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the current data point</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>, Ilya Kozlovslkiy
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>
<p>Hopf, K., Sodenkamp, M., Kozlovskiy, I., &amp; Staake, T. (2014).
Feature extraction and filtering for household classification based on
smart electricity meter data. Computer Science-Research and Development,
(31) 3, 141â€“148. <a href="https://doi.org/10.1007/s00450-014-0294-4">https://doi.org/10.1007/s00450-014-0294-4</a>
</p>
<p>Hopf, K., Sodenkamp, M., &amp; Staake, T. (2018). Enhancing energy
efficiency in the residential sector with smart meter data analytics.
Electronic Markets, 28(4). <a href="https://doi.org/10.1007/s12525-018-0290-9">https://doi.org/10.1007/s12525-018-0290-9</a>
</p>

<hr>
<h2 id='calc_features15_consumption'>Calculates features from 15-min smart meter data</h2><span id='topic+calc_features15_consumption'></span>

<h3>Description</h3>

<p>Calculates features from 15-min smart meter data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_features15_consumption(
  B,
  rowname = NULL,
  featsCoarserGranularity = FALSE,
  replace_NA_with_defaults = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_features15_consumption_+3A_b">B</code></td>
<td>
<p>a vector with length 4*24*7 = 672 measurements in one day in seven days a week</p>
</td></tr>
<tr><td><code id="calc_features15_consumption_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the resulting feature vector</p>
</td></tr>
<tr><td><code id="calc_features15_consumption_+3A_featscoarsergranularity">featsCoarserGranularity</code></td>
<td>
<p>are the features of finer granularity levels also to be calculated (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="calc_features15_consumption_+3A_replace_na_with_defaults">replace_NA_with_defaults</code></td>
<td>
<p>replaces missing (NA) or infinite values that may appear during calculation
with default values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with the calculated features as columns and a specified
rowname, if given
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>
<p>Hopf, K., Sodenkamp, M., Kozlovskiy, I., &amp; Staake, T. (2014).
Feature extraction and filtering for household classification based on
smart electricity meter data. Computer Science-Research and Development,
(31) 3, 141â€“148. <a href="https://doi.org/10.1007/s00450-014-0294-4">https://doi.org/10.1007/s00450-014-0294-4</a>
</p>
<p>Hopf, K., Sodenkamp, M., &amp; Staake, T. (2018). Enhancing energy
efficiency in the residential sector with smart meter data analytics.
Electronic Markets, 28(4). <a href="https://doi.org/10.1007/s12525-018-0290-9">https://doi.org/10.1007/s12525-018-0290-9</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a random time series of 15-minute smart meter data (672 measurements per week)
smd &lt;- runif(n=672, min=0, max=2)
# Calculate the smart meter data features
calc_features15_consumption(smd)

</code></pre>

<hr>
<h2 id='calc_features30_consumption'>Calculates features from 30-min smart meter data</h2><span id='topic+calc_features30_consumption'></span>

<h3>Description</h3>

<p>Calculates features from 30-min smart meter data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_features30_consumption(
  B,
  rowname = NULL,
  featsCoarserGranularity = FALSE,
  replace_NA_with_defaults = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_features30_consumption_+3A_b">B</code></td>
<td>
<p>a vector with length 2*24*7 = 336 measurements in one day in seven days a week</p>
</td></tr>
<tr><td><code id="calc_features30_consumption_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the resulting feature vector</p>
</td></tr>
<tr><td><code id="calc_features30_consumption_+3A_featscoarsergranularity">featsCoarserGranularity</code></td>
<td>
<p>are the features of finer granularity levels also to be calculated (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="calc_features30_consumption_+3A_replace_na_with_defaults">replace_NA_with_defaults</code></td>
<td>
<p>replaces missing (NA) or infinite values that may appear during calculation
with default values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with the calculated features as columns and a specified
rowname, if given
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>
<p>Hopf, K., Sodenkamp, M., Kozlovskiy, I., &amp; Staake, T. (2014).
Feature extraction and filtering for household classification based on
smart electricity meter data. Computer Science-Research and Development,
(31) 3, 141â€“148. <a href="https://doi.org/10.1007/s00450-014-0294-4">https://doi.org/10.1007/s00450-014-0294-4</a>
</p>
<p>Hopf, K., Sodenkamp, M., &amp; Staake, T. (2018). Enhancing energy
efficiency in the residential sector with smart meter data analytics.
Electronic Markets, 28(4). <a href="https://doi.org/10.1007/s12525-018-0290-9">https://doi.org/10.1007/s12525-018-0290-9</a>
</p>
<p>Beckel, C., Sadamori, L., Staake, T., &amp; Santini, S. (2014).
Revealing household characteristics from smart meter data. Energy, 78,
397â€“410. <a href="https://doi.org/10.1016/j.energy.2014.10.025">https://doi.org/10.1016/j.energy.2014.10.025</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a random time series of 30-minute smart meter data (336 measurements per week)
smd &lt;- runif(n=336, min=0, max=2)
# Calculate the smart meter data features
calc_features30_consumption(smd)

</code></pre>

<hr>
<h2 id='calc_features60_consumption'>Calculates features from 15-min smart meter data</h2><span id='topic+calc_features60_consumption'></span>

<h3>Description</h3>

<p>Calculates features from 15-min smart meter data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_features60_consumption(B, rowname = NULL, replace_NA_with_defaults = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_features60_consumption_+3A_b">B</code></td>
<td>
<p>a vector with length 24*7 = 168 measurements in one day in seven days a week</p>
</td></tr>
<tr><td><code id="calc_features60_consumption_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the resulting feature vector</p>
</td></tr>
<tr><td><code id="calc_features60_consumption_+3A_replace_na_with_defaults">replace_NA_with_defaults</code></td>
<td>
<p>replaces missing (NA) or infinite values that may appear during calculation
with default values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with the calculated features as columns and a specified
rowname, if given the row name of the resulting feature vector
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a random time series of 60-minute smart meter data (168 measurements per week)
smd &lt;- runif(n=168, min=0, max=2)
# Calculate the smart meter data features
calc_features60_consumption(smd)
</code></pre>

<hr>
<h2 id='calc_featuresco_consumption'>Calculates consumption features from weekly consumption only</h2><span id='topic+calc_featuresco_consumption'></span>

<h3>Description</h3>

<p>Calculates consumption features from weekly consumption only
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_featuresco_consumption(B, rowname = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_featuresco_consumption_+3A_b">B</code></td>
<td>
<p>a vector of any length with measurements</p>
</td></tr>
<tr><td><code id="calc_featuresco_consumption_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the resulting feature vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with the calculated features as columns and a specified
rowname, if given
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>
<p>Hopf, K., Sodenkamp, M., Kozlovskiy, I., &amp; Staake, T. (2014).
Feature extraction and filtering for household classification based on
smart electricity meter data. Computer Science-Research and Development,
(31) 3, 141â€“148. <a href="https://doi.org/10.1007/s00450-014-0294-4">https://doi.org/10.1007/s00450-014-0294-4</a>
</p>
<p>Hopf, K., Sodenkamp, M., &amp; Staake, T. (2018). Enhancing energy
efficiency in the residential sector with smart meter data analytics.
Electronic Markets, 28(4). <a href="https://doi.org/10.1007/s12525-018-0290-9">https://doi.org/10.1007/s12525-018-0290-9</a>
</p>

<hr>
<h2 id='calc_featuresda_consumption'>Calculates consumption features from daily smart meter data</h2><span id='topic+calc_featuresda_consumption'></span>

<h3>Description</h3>

<p>Calculates consumption features from daily smart meter data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_featuresda_consumption(
  B,
  rowname = NULL,
  featsCoarserGranularity = FALSE,
  replace_NA_with_defaults = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_featuresda_consumption_+3A_b">B</code></td>
<td>
<p>a vector with length 7 measurements</p>
</td></tr>
<tr><td><code id="calc_featuresda_consumption_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the resulting feature vector</p>
</td></tr>
<tr><td><code id="calc_featuresda_consumption_+3A_featscoarsergranularity">featsCoarserGranularity</code></td>
<td>
<p>are the features of finer granularity levels also to be calculated (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="calc_featuresda_consumption_+3A_replace_na_with_defaults">replace_NA_with_defaults</code></td>
<td>
<p>replaces missing (NA) or infinite values that may appear during calculation
with default values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with the calculated features as columns and a specified
rowname, if given
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>

<hr>
<h2 id='calc_featureshtnt_consumption2'>Calculates consumption features from daily (HT / NT) smart meter data</h2><span id='topic+calc_featureshtnt_consumption2'></span>

<h3>Description</h3>

<p>The division in HT / NT is done from the input smart meter data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_featureshtnt_consumption2(
  HTCons,
  NTCons,
  rowname = NULL,
  featsCoarserGranularity = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_featureshtnt_consumption2_+3A_htcons">HTCons</code></td>
<td>
<p>a vector with 7 measurements for HT consumption in one week (beginning with monday)</p>
</td></tr>
<tr><td><code id="calc_featureshtnt_consumption2_+3A_ntcons">NTCons</code></td>
<td>
<p>a vector with 7 measurements for NT consumption in one week (beginning with monday)</p>
</td></tr>
<tr><td><code id="calc_featureshtnt_consumption2_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the resulting feature vector</p>
</td></tr>
<tr><td><code id="calc_featureshtnt_consumption2_+3A_featscoarsergranularity">featsCoarserGranularity</code></td>
<td>
<p>are the features of finer granularity levels also to be calculated (T/FALSE)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>

<hr>
<h2 id='calc_featuresnt_consumption'>Calculates consumption features from daily (HT / NT) smart meter data</h2><span id='topic+calc_featuresnt_consumption'></span>

<h3>Description</h3>

<p>The division in HT / NT is done from the input smart meter data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_featuresnt_consumption(
  B,
  rowname = NULL,
  featsCoarserGranularity = FALSE,
  replace_NA_with_defaults = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_featuresnt_consumption_+3A_b">B</code></td>
<td>
<p>a vector with length 2*24*7 = 336 measurements in one day in seven days a week</p>
</td></tr>
<tr><td><code id="calc_featuresnt_consumption_+3A_rowname">rowname</code></td>
<td>
<p>the row name of the resulting feature vector</p>
</td></tr>
<tr><td><code id="calc_featuresnt_consumption_+3A_featscoarsergranularity">featsCoarserGranularity</code></td>
<td>
<p>are the features of finer granularity levels also to be calculated (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="calc_featuresnt_consumption_+3A_replace_na_with_defaults">replace_NA_with_defaults</code></td>
<td>
<p>an optional boolean argument specifying if missing values will be replaced with standard values (i.e., zero values)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>HT consumption is during the time 07:00-22:00
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>
<p>Hopf, K., Sodenkamp, M., Kozlovskiy, I., &amp; Staake, T. (2014).
Feature extraction and filtering for household classification based on
smart electricity meter data. Computer Science-Research and Development,
(31) 3, 141â€“148. <a href="https://doi.org/10.1007/s00450-014-0294-4">https://doi.org/10.1007/s00450-014-0294-4</a>
</p>
<p>Hopf, K., Sodenkamp, M., &amp; Staake, T. (2018). Enhancing energy
efficiency in the residential sector with smart meter data analytics.
Electronic Markets, 28(4). <a href="https://doi.org/10.1007/s12525-018-0290-9">https://doi.org/10.1007/s12525-018-0290-9</a>
</p>

<hr>
<h2 id='encode_p_val_stars'>Encodes p-values with a star rating according to the Significance code:</h2><span id='topic+encode_p_val_stars'></span>

<h3>Description</h3>

<p>'.' for p-value &lt; 0.1, '*' for &lt; 0.05, '**' for &lt; 0.01, '***' for &lt; 0.001
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encode_p_val_stars(pval)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="encode_p_val_stars_+3A_pval">pval</code></td>
<td>
<p>the p-value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character with the encoding
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>

<hr>
<h2 id='features_all_subsets'>Creates a set of all combinations of features</h2><span id='topic+features_all_subsets'></span>

<h3>Description</h3>

<p>Creates a set of all combinations of features
</p>


<h3>Usage</h3>

<pre><code class='language-R'>features_all_subsets(set)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="features_all_subsets_+3A_set">set</code></td>
<td>
<p>vector of available festures that are premutated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of subsets of the input vector
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>, Ilya Kozlovskiy
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    features_all_subsets(c("A", "B", "C"))
</code></pre>

<hr>
<h2 id='getDay_ISO8601_week'>Retrieves the date of the monday in a ISO8601 week-string</h2><span id='topic+getDay_ISO8601_week'></span>

<h3>Description</h3>

<p>Example date formats defined by ISO 8601:
* Single days are written in yyy-mm-dd (y: year, m: month, d: day); e.g., 2016-07-19
* Weeks are written in yyyy-Www; e.g., 2016-W29
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDay_ISO8601_week(
  theweek,
  day = c("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDay_ISO8601_week_+3A_theweek">theweek</code></td>
<td>
<p>the string with the week name</p>
</td></tr>
<tr><td><code id="getDay_ISO8601_week_+3A_day">day</code></td>
<td>
<p>the weekday that shall be returned</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function uses format und as.Date internally and can therefore not handle ISO8601
week formats. Therefore, a workaround is implemented that can lead to suspicious
behavior in future versions
</p>


<h3>Value</h3>

<p>the date of the weekday in the given week
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>

<hr>
<h2 id='getDay_US_week'>Retrieves the date of the monday in a US week-string (as implemented by R as.Date)</h2><span id='topic+getDay_US_week'></span>

<h3>Description</h3>

<p>According to date formats defined by ISO 8601:
* Single days are written in yyy-mm-dd (y: year, m: month, d: day); e.g., 2016-07-19
* Weeks are written in yyyy-WUww; e.g., 2016-WU29 (typically with the first Sunday of the year as day 1 of week 1)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDay_US_week(
  theweek,
  day = c("Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDay_US_week_+3A_theweek">theweek</code></td>
<td>
<p>the string with the week name</p>
</td></tr>
<tr><td><code id="getDay_US_week_+3A_day">day</code></td>
<td>
<p>the weekday that shall be returned</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the date of the weekday in the given week
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>

<hr>
<h2 id='interpolate_missingReadings'>Interpolate missing readings</h2><span id='topic+interpolate_missingReadings'></span>

<h3>Description</h3>

<p>Interpolate missing readings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpolate_missingReadings(timeseries, option = "linear", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpolate_missingReadings_+3A_timeseries">timeseries</code></td>
<td>
<p>Numeric Vector (<code><a href="base.html#topic+vector">vector</a></code>) or Time Series (<code><a href="stats.html#topic+ts">ts</a></code>) object in which missing values shall be replaced</p>
</td></tr>
<tr><td><code id="interpolate_missingReadings_+3A_option">option</code></td>
<td>
<p>Algorithm to be used. Accepts the following input:
</p>

<ul>
<li><p>&quot;linear&quot; - for linear interpolation using <a href="stats.html#topic+approx">approx</a> 
</p>
</li>
<li><p>&quot;spline&quot; - for spline interpolation using <a href="stats.html#topic+spline">spline</a>
</p>
</li>
<li><p>&quot;stine&quot; - for Stineman interpolation using <a href="stinepack.html#topic+stinterp">stinterp</a>
</p>
</li></ul>
</td></tr>
<tr><td><code id="interpolate_missingReadings_+3A_...">...</code></td>
<td>
<p>Additional parameters to be passed through to <a href="stats.html#topic+approx">approx</a> or <a href="stats.html#topic+spline">spline</a> interpolation functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Missing values get replaced by values of a <a href="stats.html#topic+approx">approx</a>, <a href="stats.html#topic+spline">spline</a> or <a href="stinepack.html#topic+stinterp">stinterp</a> interpolation.
</p>


<h3>Value</h3>

<p>Vector (<code><a href="base.html#topic+vector">vector</a></code>) or Time Series (<code><a href="stats.html#topic+ts">ts</a></code>) object (dependent on given input at parameter x)
</p>


<h3>Author(s)</h3>

<p>The implementation is adopted from the package imputeTS, function na.interpolate
(https://github.com/SteffenMoritz/imputeTS/blob/master/R/na.interpolation.R)
</p>

<hr>
<h2 id='naInf_omit'>Removes the rows with <a href="base.html#topic+NA">NA</a> or <a href="base.html#topic+Inf">Inf</a> values</h2><span id='topic+naInf_omit'></span>

<h3>Description</h3>

<p>Cleans up a <a href="base.html#topic+data.frame">data.frame</a> or <a href="base.html#topic+matrix">matrix</a> which is useful for
cases wehere you need complete datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>naInf_omit(V)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="naInf_omit_+3A_v">V</code></td>
<td>
<p>A <a href="base.html#topic+data.frame">data.frame</a> or <a href="base.html#topic+matrix">matrix</a> which has to be cleaned</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A cleaned version of <a href="base.html#topic+data.frame">data.frame</a> or <a href="base.html#topic+matrix">matrix</a>
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+replaceNAsFeatures">replaceNAsFeatures</a>, <a href="#topic+remove_empty_features">remove_empty_features</a>
</p>

<hr>
<h2 id='occupancy_cluster'>Determines two clusters of high and low consumption times (e.g., non-ocupancy during holidays)</h2><span id='topic+occupancy_cluster'></span>

<h3>Description</h3>

<p>Determines two clusters of high and low consumption times (e.g., non-ocupancy during holidays)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>occupancy_cluster(consumption, n_days_check = 4, sds_between_clusters = 1.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="occupancy_cluster_+3A_consumption">consumption</code></td>
<td>
<p>the consumption time series</p>
</td></tr>
<tr><td><code id="occupancy_cluster_+3A_n_days_check">n_days_check</code></td>
<td>
<p>number of consecutive days that should be considered as a minimal cluster</p>
</td></tr>
<tr><td><code id="occupancy_cluster_+3A_sds_between_clusters">sds_between_clusters</code></td>
<td>
<p>the multiples of standatd deviation that must be at least between the cluster centers (decimal number)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with cluster assignments and the k-Means clustering model
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>

<hr>
<h2 id='prepareFeatureSet'>Compiles a list of features from energy consumption data</h2><span id='topic+prepareFeatureSet'></span>

<h3>Description</h3>

<p>Returns a vector of feature names that can be calculated by methods in the
*SmartMeterAnalytics* package obtains the feature set according
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepareFeatureSet(
  features.granularity = NA,
  features.w_adj = FALSE,
  features.anonymized = FALSE,
  features.categorical = FALSE,
  features.geo = "osm-v1",
  features.temperature = TRUE,
  features.weather = TRUE,
  features.neighborhood = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepareFeatureSet_+3A_features.granularity">features.granularity</code></td>
<td>
<p>Character: The granularity of the input data, either &quot;15-min&quot; (only 15-min features), &quot;30-min&quot; (only 30-minute features),
&quot;all_30min_to_week&quot; (all features on daily, weekly, hourly, ..., up to 30-min data), &quot;all_15_week&quot; (all up to 15-min dara),
&quot;week&quot; (only the consumption of one week as a single feature).</p>
</td></tr>
<tr><td><code id="prepareFeatureSet_+3A_features.w_adj">features.w_adj</code></td>
<td>
<p>Boolean: are the features to be weather adjusted with DiD-Class
(NOT IMPLEMENTED YET!)</p>
</td></tr>
<tr><td><code id="prepareFeatureSet_+3A_features.anonymized">features.anonymized</code></td>
<td>
<p>Boolean: are anonymized geographic features used
(NOT IMPLEMENTED YET!)</p>
</td></tr>
<tr><td><code id="prepareFeatureSet_+3A_features.categorical">features.categorical</code></td>
<td>
<p>Boolean: use categorical features additionally (if only numeric
features are used)</p>
</td></tr>
<tr><td><code id="prepareFeatureSet_+3A_features.geo">features.geo</code></td>
<td>
<p>Character: Version of the geographic feature set (either &quot;none&quot;, &quot;osm-v1&quot;, &quot;osm-v2&quot;)</p>
</td></tr>
<tr><td><code id="prepareFeatureSet_+3A_features.temperature">features.temperature</code></td>
<td>
<p>Boolean, if features for the temperature should be included</p>
</td></tr>
<tr><td><code id="prepareFeatureSet_+3A_features.weather">features.weather</code></td>
<td>
<p>Boolean, if other weather features should be included</p>
</td></tr>
<tr><td><code id="prepareFeatureSet_+3A_features.neighborhood">features.neighborhood</code></td>
<td>
<p>Boolean, if features for the neighborhood should be included</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>References</h3>

<p>Hopf, K. (2019). Predictive Analytics for Energy Efficiency and
Energy Retailing (1st ed.). Bamberg: University of Bamberg.
<a href="https://doi.org/10.20378/irbo-54833">https://doi.org/10.20378/irbo-54833</a>
</p>
<p>Hopf, K., Sodenkamp, M., Kozlovskiy, I., &amp; Staake, T. (2014).
Feature extraction and filtering for household classification based on
smart electricity meter data. Computer Science-Research and Development,
(31) 3, 141â€“148. <a href="https://doi.org/10.1007/s00450-014-0294-4">https://doi.org/10.1007/s00450-014-0294-4</a>
</p>
<p>Hopf, K., Sodenkamp, M., &amp; Staake, T. (2018). Enhancing energy
efficiency in the residential sector with smart meter data analytics.
Electronic Markets, 28(4). <a href="https://doi.org/10.1007/s12525-018-0290-9">https://doi.org/10.1007/s12525-018-0290-9</a>
</p>
<p>Beckel, C., Sadamori, L., Staake, T., &amp; Santini, S. (2014).
Revealing household characteristics from smart meter data. Energy, 78,
397â€“410. <a href="https://doi.org/10.1016/j.energy.2014.10.025">https://doi.org/10.1016/j.energy.2014.10.025</a>
</p>

<hr>
<h2 id='remove_empty_features'>Removes variables with no necessary information from a <a href="base.html#topic+data.frame">data.frame</a></h2><span id='topic+remove_empty_features'></span>

<h3>Description</h3>

<p>Removes variable names from a list of variables that contain only, or a large
portion of, <a href="base.html#topic+NA">NA</a> values or have zero bandwidth (if they are numeric)
and returns the variable names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_empty_features(
  all.features,
  dataset,
  percentage_NA_allowed = NA,
  bandwidth = (.Machine$double.eps^0.5),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_empty_features_+3A_all.features">all.features</code></td>
<td>
<p>a character vector with all column names of <code>dataset</code> that should be
considered by the function</p>
</td></tr>
<tr><td><code id="remove_empty_features_+3A_dataset">dataset</code></td>
<td>
<p>the dataset as a <a href="base.html#topic+data.frame">data.frame</a></p>
</td></tr>
<tr><td><code id="remove_empty_features_+3A_percentage_na_allowed">percentage_NA_allowed</code></td>
<td>
<p>the percentage of missing values per vector that should be allowed without removing the feature.
All features with NA values that are higher than this level are excluded.</p>
</td></tr>
<tr><td><code id="remove_empty_features_+3A_bandwidth">bandwidth</code></td>
<td>
<p>The length of the interval that values of variable must exceed to be not
removed. By default, half of <code>.Machine$double.eps</code> is used.</p>
</td></tr>
<tr><td><code id="remove_empty_features_+3A_verbose">verbose</code></td>
<td>
<p>boolean if debug messages should be printed when a variable is removed
from the list (uses futile.logger package)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function checks all given column names for the portion of <a href="base.html#topic+NA">NA</a> values.
If the number of <a href="base.html#topic+NA">NA</a> of <a href="base.html#topic+Inf">Inf</a> exceeds <code>percentage_NA_allowed</code>,
the column name is removed from the variable set. Besides, all numeric
variables are checked if they have almost zero <code>bandwidth</code>, are removed.
</p>


<h3>Value</h3>

<p>a vector of variable names that are not considered as empty
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+naInf_omit">naInf_omit</a>, <a href="#topic+replaceNAsFeatures">replaceNAsFeatures</a>
</p>

<hr>
<h2 id='replaceNAsFeatures'>Replaces NA values with a given ones</h2><span id='topic+replaceNAsFeatures'></span>

<h3>Description</h3>

<p>Taks a <a href="base.html#topic+data.frame">data.frame</a> and replaces all <a href="base.html#topic+NA">NA</a> values with a certain value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replaceNAsFeatures(indata, features, replacement = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replaceNAsFeatures_+3A_indata">indata</code></td>
<td>
<p>a <a href="base.html#topic+data.frame">data.frame</a></p>
</td></tr>
<tr><td><code id="replaceNAsFeatures_+3A_features">features</code></td>
<td>
<p>a vector of variable names (must be colum names of <code>indata</code> that are
to be used for <a href="base.html#topic+NA">NA</a>-replacement</p>
</td></tr>
<tr><td><code id="replaceNAsFeatures_+3A_replacement">replacement</code></td>
<td>
<p>the alternative value, <a href="base.html#topic+NA">NA</a> values should be replaced with, zero by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the modified data.frame with replaced values
</p>


<h3>Author(s)</h3>

<p>Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+naInf_omit">naInf_omit</a>, <a href="#topic+remove_empty_features">remove_empty_features</a>
</p>

<hr>
<h2 id='smote'>Synthetic minority oversampling (SMOTE)</h2><span id='topic+smote'></span>

<h3>Description</h3>

<p>Performs oversampling by creating new instances.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smote(
  Variables,
  Classes,
  subset_use = NULL,
  k = 5,
  use_nearest = TRUE,
  proportions = 0.9,
  equalise_with_undersampling = FALSE,
  safe = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="smote_+3A_variables">Variables</code></td>
<td>
<p>the <a href="base.html#topic+data.frame">data.frame</a> of independent variables that should be used to create new instances</p>
</td></tr>
<tr><td><code id="smote_+3A_classes">Classes</code></td>
<td>
<p>the class labels in the prediction problem</p>
</td></tr>
<tr><td><code id="smote_+3A_subset_use">subset_use</code></td>
<td>
<p>a specific subset only is used for the oversampling. If <a href="base.html#topic+NULL">NULL</a>, everything is used.</p>
</td></tr>
<tr><td><code id="smote_+3A_k">k</code></td>
<td>
<p>the number of neigbours for generation</p>
</td></tr>
<tr><td><code id="smote_+3A_use_nearest">use_nearest</code></td>
<td>
<p>should only the nearest neighbours be used? (very slow)</p>
</td></tr>
<tr><td><code id="smote_+3A_proportions">proportions</code></td>
<td>
<p>to which proportion (of the biggest class) should the classes be equalized</p>
</td></tr>
<tr><td><code id="smote_+3A_equalise_with_undersampling">equalise_with_undersampling</code></td>
<td>
<p>should additional undersampling be performed?</p>
</td></tr>
<tr><td><code id="smote_+3A_safe">safe</code></td>
<td>
<p>should a safe version of SMOTE be used?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>SMOTE is used to generate synthetic datapoints of a smaller class, for example
to overcome the problem of imbalanced classes in classification.
</p>


<h3>Value</h3>

<p>a list containing new independent variables <a href="base.html#topic+data.frame">data.frame</a> and new class labels
</p>


<h3>Author(s)</h3>

<p>Ilya Kozlovskiy, Konstantin Hopf <a href="mailto:konstantin.hopf@uni-bamberg.de">konstantin.hopf@uni-bamberg.de</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-GB"><head><title>Help for package era</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {era}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#era'><p>Create an era object</p></a></li>
<li><a href='#era_parameters'><p>Get parameters of an era</p></a></li>
<li><a href='#era_year'><p>Year units</p></a></li>
<li><a href='#era_year_parameters'><p>Get the parameters of an <code>era_year</code> object.</p></a></li>
<li><a href='#era-rlang'><p>Internal rlang methods</p></a></li>
<li><a href='#era-vctrs'><p>Internal vctrs methods</p></a></li>
<li><a href='#eras'><p>Standard era definitions</p></a></li>
<li><a href='#is_era'><p>Validation functions for <code>era</code> objects</p></a></li>
<li><a href='#is_era_year'><p>Validation functions for <code>era_year</code> objects</p></a></li>
<li><a href='#is_yr'><p>Validation functions for <code>yr</code> objects</p></a></li>
<li><a href='#this_year'><p>Current year</p></a></li>
<li><a href='#yr'><p>Create a vector of years with era</p></a></li>
<li><a href='#yr_era'><p>Get or set the era of a vector of years</p></a></li>
<li><a href='#yr_extremes'><p>Chronological minima and maxima</p></a></li>
<li><a href='#yr_sort'><p>Chronological ordering of year vectors</p></a></li>
<li><a href='#yr_transform'><p>Convert years from one era to another</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Year-Based Time Scales</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a consistent representation of year-based time scales as a
    numeric vector with an associated 'era'. There are built-in era definitions
    for many year numbering systems used in contemporary and historic calendars 
    (e.g. Common Era, Islamic 'Hijri' years); year-based time scales used in 
    archaeology, astronomy, geology, and other palaeosciences (e.g. 
    Before Present, SI-prefixed 'annus'); and support for arbitrary user-defined
    eras. Years can converted from any one era to another using a generalised 
    transformation function. Methods are also provided for robust casting and 
    coercion between years and other numeric types, type-stable arithmetic with 
    years, and pretty-printing in tables.</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://era.joeroe.io">https://era.joeroe.io</a>, <a href="https://github.com/joeroe/era">https://github.com/joeroe/era</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/joeroe/era/issues">https://github.com/joeroe/era/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>vctrs (&ge; 0.3.0), methods, rlang, pillar</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tibble, testthat, covr, knitr, rmarkdown, dplyr, spelling,
purrr, tidyr, lubridate</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-20 12:12:45 UTC; joeroe</td>
</tr>
<tr>
<td>Author:</td>
<td>Joe Roe <a href="https://orcid.org/0000-0002-1011-1244"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joe Roe &lt;joe@joeroe.io&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-20 12:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='era'>Create an era object</h2><span id='topic+era'></span>

<h3>Description</h3>

<p>An <code>era</code> object defines the time scale associated with a vector of years
(see <code><a href="#topic+yr">yr()</a></code>). <code>era()</code> returns an <code>era</code> object, either by looking up
<code>label</code> in the standard eras defined in <code><a href="#topic+eras">eras()</a></code> or, if more than one
argument is given, constructing a new definition with the specified
parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>era(
  label = character(),
  epoch = NULL,
  name = label,
  unit = era_year("Gregorian"),
  scale = 1,
  direction = -1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="era_+3A_label">label</code></td>
<td>
<p>Character. If only one argument is given to <code>era()</code>, the
abbreviated label of a standard era defined in <code><a href="#topic+eras">eras()</a></code>.
Otherwise, the label to give to the era constructed using the following
arguments.</p>
</td></tr>
<tr><td><code id="era_+3A_epoch">epoch</code></td>
<td>
<p>Numeric. Epoch year from which years are counted in Gregorian
astronomical years (i.e. there is a &quot;year zero&quot;).</p>
</td></tr>
<tr><td><code id="era_+3A_name">name</code></td>
<td>
<p>Character. Full name of the era. Defaults to the value of
<code>label</code>.</p>
</td></tr>
<tr><td><code id="era_+3A_unit">unit</code></td>
<td>
<p>An <code><a href="#topic+era_year">era_year()</a></code> object describing the name of the year unit and
its average length in solar days. Defaults to a Gregorian year
(365.2425 days).</p>
</td></tr>
<tr><td><code id="era_+3A_scale">scale</code></td>
<td>
<p>Integer. Number of years represented by one unit, e.g. <code>1000</code>
for ka. Default: 1.</p>
</td></tr>
<tr><td><code id="era_+3A_direction">direction</code></td>
<td>
<p>Are years counted backwards (<code>-1</code>) (the default) or forwards (<code>1</code>)
from <code>epoch</code>?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>era</code>.
</p>


<h3>See Also</h3>

<p>Other era definition functions: 
<code><a href="#topic+eras">eras</a>()</code>
</p>
<p>Other era helper functions: 
<code><a href="#topic+era_parameters">era_parameters</a></code>,
<code><a href="#topic+era_year">era_year</a></code>,
<code><a href="#topic+era_year_parameters">era_year_parameters</a></code>,
<code><a href="#topic+is_era">is_era</a>()</code>,
<code><a href="#topic+is_era_year">is_era_year</a>()</code>,
<code><a href="#topic+is_yr">is_yr</a>()</code>,
<code><a href="#topic+this_year">this_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>era("cal BP")

era("T.A.", epoch = -9021, name = "Third Age", direction = 1)
</code></pre>

<hr>
<h2 id='era_parameters'>Get parameters of an era</h2><span id='topic+era_parameters'></span><span id='topic+era_label'></span><span id='topic+era_epoch'></span><span id='topic+era_name'></span><span id='topic+era_unit'></span><span id='topic+era_scale'></span><span id='topic+era_direction'></span>

<h3>Description</h3>

<p>Extracts a specific parameter from an era object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>era_label(x)

era_epoch(x)

era_name(x)

era_unit(x)

era_scale(x)

era_direction(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="era_parameters_+3A_x">x</code></td>
<td>
<p>An <code>era</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The available parameters are:
</p>

<ul>
<li> <p><strong>label</strong> – unique, abbreviated label of the era, e.g. &quot;cal BP&quot;
</p>
</li>
<li> <p><strong>epoch</strong> – year of origin of the era, e.g. 1950 for Before Present
</p>
</li>
<li> <p><strong>name</strong> – full name of the era, e.g. &quot;calendar years Before Present&quot;
</p>
</li>
<li> <p><strong>unit</strong> – unit of years used, an <code><a href="#topic+era_year">era_year()</a></code> object
</p>
</li>
<li> <p><strong>scale</strong> – multiple of years used, e.g. 1000 for ka/kiloannum
</p>
</li>
<li> <p><strong>direction</strong> – whether years are counted &quot;backwards&quot; or &quot;forwards&quot; from the epoch
#'
</p>
</li></ul>



<h3>Value</h3>

<p>Value of the parameter.
</p>


<h3>See Also</h3>

<p>Other era helper functions: 
<code><a href="#topic+era">era</a></code>,
<code><a href="#topic+era_year">era_year</a></code>,
<code><a href="#topic+era_year_parameters">era_year_parameters</a></code>,
<code><a href="#topic+is_era">is_era</a>()</code>,
<code><a href="#topic+is_era_year">is_era_year</a>()</code>,
<code><a href="#topic+is_yr">is_yr</a>()</code>,
<code><a href="#topic+this_year">this_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- era("cal BP")
era_name(x)
</code></pre>

<hr>
<h2 id='era_year'>Year units</h2><span id='topic+era_year'></span>

<h3>Description</h3>

<p><code>era_year</code> objects describe the unit used for a year as its length in days.
This value is used in an era definition (<code><a href="#topic+era">era()</a></code>) to enable conversions
between eras that use different units (with <code><a href="#topic+yr_transform">yr_transform()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>era_year(label = character(), days = 365.2425)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="era_year_+3A_label">label</code></td>
<td>
<p>Character. Name of the year unit.</p>
</td></tr>
<tr><td><code id="era_year_+3A_days">days</code></td>
<td>
<p>Numeric. Average length of the year in solar days. Defaults to a
Gregorian year (365.2425 days).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>S3 vector of class <code>era_year</code>.
</p>


<h3>See Also</h3>

<p>Other era helper functions: 
<code><a href="#topic+era">era</a></code>,
<code><a href="#topic+era_parameters">era_parameters</a></code>,
<code><a href="#topic+era_year_parameters">era_year_parameters</a></code>,
<code><a href="#topic+is_era">is_era</a>()</code>,
<code><a href="#topic+is_era_year">is_era_year</a>()</code>,
<code><a href="#topic+is_yr">is_yr</a>()</code>,
<code><a href="#topic+this_year">this_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>era_year("Julian", 365.25)
</code></pre>

<hr>
<h2 id='era_year_parameters'>Get the parameters of an <code>era_year</code> object.</h2><span id='topic+era_year_parameters'></span><span id='topic+era_year_label'></span><span id='topic+era_year_days'></span>

<h3>Description</h3>

<p>Extracts a specific parameter from a year unit object constructed by
<code><a href="#topic+era_year">era_year()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>era_year_label(x)

era_year_days(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="era_year_parameters_+3A_x">x</code></td>
<td>
<p>An object of class <code>era_year</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value of the parameter.
</p>


<h3>See Also</h3>

<p>Other era helper functions: 
<code><a href="#topic+era">era</a></code>,
<code><a href="#topic+era_parameters">era_parameters</a></code>,
<code><a href="#topic+era_year">era_year</a></code>,
<code><a href="#topic+is_era">is_era</a>()</code>,
<code><a href="#topic+is_era_year">is_era_year</a>()</code>,
<code><a href="#topic+is_yr">is_yr</a>()</code>,
<code><a href="#topic+this_year">this_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>julian &lt;- era_year("Julian", 365.25)
era_year_label(julian)
era_year_days(julian)
</code></pre>

<hr>
<h2 id='era-rlang'>Internal rlang methods</h2><span id='topic+era-rlang'></span>

<h3>Description</h3>

<p>Internal rlang methods
</p>

<hr>
<h2 id='era-vctrs'>Internal vctrs methods</h2><span id='topic+era-vctrs'></span>

<h3>Description</h3>

<p>Internal vctrs methods
</p>

<hr>
<h2 id='eras'>Standard era definitions</h2><span id='topic+eras'></span>

<h3>Description</h3>

<p>Definitions of common eras and time scales.
</p>
<p><code>eras()</code> lists all available era definitions. <code>eras(label)</code> looks up a
specific era by its unique, abbreviated name (e.g. &quot;cal BP&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eras(label = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eras_+3A_label">label</code></td>
<td>
<p>(Optional) Abbreviated names(s) of eras to look up.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Looking up eras by <code>label</code> uses partial matching.
</p>


<h3>Value</h3>

<p>A table of era definitions. This can be passed to <code><a href="#topic+era">era()</a></code> to construct an
<code>era</code> object.
</p>


<h3>See Also</h3>

<p>Other era definition functions: 
<code><a href="#topic+era">era</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># List all available eras
eras()

# Look up a specific era by label
eras("cal BP")

# With partial matching
eras("cal")
</code></pre>

<hr>
<h2 id='is_era'>Validation functions for <code>era</code> objects</h2><span id='topic+is_era'></span><span id='topic+validate_era'></span><span id='topic+is_valid_era'></span>

<h3>Description</h3>

<p>Tests whether an object is an era definition (an <code>era</code> object).
<code>is_era()</code> tests whether the object inherits from the S3 class <code>era_yr</code>.
<code>is_valid_era()</code> performs additional checks to determine whether the object
is well-formed (see details).
<code>validate_era()</code> throws an informative error message for invalid <code>yr</code>s.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_era(x)

validate_era(x)

is_valid_era(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_era_+3A_x">x</code></td>
<td>
<p>Object to test.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Valid <code>era</code> objects:
</p>

<ul>
<li><p> Must have all parameters set and not NA
</p>
</li>
<li><p> Must have a character <code>label</code> parameter
</p>
</li>
<li><p> Must have a numeric <code>epoch</code> parameter
</p>
</li>
<li><p> Must have a character <code>name</code> parameter
</p>
</li>
<li><p> Must have a character <code>unit</code> parameter that is one of the defined units
</p>
</li>
<li><p> Must have a positive, integer <code>scale</code> parameter
</p>
</li>
<li><p> Must have a direction parameter that is -1 (backwards) or 1 (forwards)
</p>
</li></ul>



<h3>Value</h3>

<p><code>is_era()</code> and <code>is_valid_era()</code> return <code>TRUE</code> or <code>FALSE</code>.
<code>validate_era()</code> returns <code>x</code> invisibly, and is used for its side-effect of
throwing an informative error for invalid objects.
</p>


<h3>See Also</h3>

<p>Other era helper functions: 
<code><a href="#topic+era">era</a></code>,
<code><a href="#topic+era_parameters">era_parameters</a></code>,
<code><a href="#topic+era_year">era_year</a></code>,
<code><a href="#topic+era_year_parameters">era_year_parameters</a></code>,
<code><a href="#topic+is_era_year">is_era_year</a>()</code>,
<code><a href="#topic+is_yr">is_yr</a>()</code>,
<code><a href="#topic+this_year">this_year</a>()</code>
</p>

<hr>
<h2 id='is_era_year'>Validation functions for <code>era_year</code> objects</h2><span id='topic+is_era_year'></span>

<h3>Description</h3>

<p>Tests whether an object is of class <code>era_year</code> (constructed by <code><a href="#topic+era_year">era_year()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_era_year(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_era_year_+3A_x">x</code></td>
<td>
<p>Object to test.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>See Also</h3>

<p>Other era helper functions: 
<code><a href="#topic+era">era</a></code>,
<code><a href="#topic+era_parameters">era_parameters</a></code>,
<code><a href="#topic+era_year">era_year</a></code>,
<code><a href="#topic+era_year_parameters">era_year_parameters</a></code>,
<code><a href="#topic+is_era">is_era</a>()</code>,
<code><a href="#topic+is_yr">is_yr</a>()</code>,
<code><a href="#topic+this_year">this_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_era_year(era_year("Julian", 365.25))
</code></pre>

<hr>
<h2 id='is_yr'>Validation functions for <code>yr</code> objects</h2><span id='topic+is_yr'></span><span id='topic+validate_yr'></span><span id='topic+is_valid_yr'></span>

<h3>Description</h3>

<p>Tests whether an object is a vector of years with an era (a <code>yr</code> object).
<code>is_yr()</code> tests whether the object inherits from the S3 class <code>era_yr</code>.
<code>is_valid_yr()</code> performs additional checks to determine whether the object
is well-formed (see details).
<code>validate_yr()</code> throws an informative error message for invalid <code>yr</code>s.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_yr(x)

validate_yr(x)

is_valid_yr(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_yr_+3A_x">x</code></td>
<td>
<p>Object to test.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Valid <code>yr</code> objects:
</p>

<ul>
<li><p> Must contain numeric data (NAs are allowed)
</p>
</li>
<li><p> Must have the <code>era</code> attribute set and not NA
</p>
</li>
<li><p> Must not have more than one era
</p>
</li>
<li><p> Must have an <code>era</code> attribute that is a valid era object (see <code>validate_era()</code>)
</p>
</li></ul>



<h3>Value</h3>

<p><code>is_yr()</code> and <code>is_valid_yr()</code> return <code>TRUE</code> or <code>FALSE</code>.
<code>validate_yr()</code> returns <code>x</code> invisibly, and is used for its side-effect of
throwing an informative error for invalid objects.
</p>


<h3>See Also</h3>

<p>Other era helper functions: 
<code><a href="#topic+era">era</a></code>,
<code><a href="#topic+era_parameters">era_parameters</a></code>,
<code><a href="#topic+era_year">era_year</a></code>,
<code><a href="#topic+era_year_parameters">era_year_parameters</a></code>,
<code><a href="#topic+is_era">is_era</a>()</code>,
<code><a href="#topic+is_era_year">is_era_year</a>()</code>,
<code><a href="#topic+this_year">this_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- yr(5000:5050, era("cal BP"))
is_yr(x)
is_valid_yr(x)
validate_yr(x)
</code></pre>

<hr>
<h2 id='this_year'>Current year</h2><span id='topic+this_year'></span>

<h3>Description</h3>

<p>Returns the current year as a year vector, in the era system specified by
<code>era</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>this_year(era = "CE")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="this_year_+3A_era">era</code></td>
<td>
<p>An <code>era</code> object or label understood by <code><a href="#topic+era">era()</a></code>. Defaults to the
Common Era (<code>era("CE")</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>yr</code> vector with the current year.
</p>


<h3>See Also</h3>

<p>Other era helper functions: 
<code><a href="#topic+era">era</a></code>,
<code><a href="#topic+era_parameters">era_parameters</a></code>,
<code><a href="#topic+era_year">era_year</a></code>,
<code><a href="#topic+era_year_parameters">era_year_parameters</a></code>,
<code><a href="#topic+is_era">is_era</a>()</code>,
<code><a href="#topic+is_era_year">is_era_year</a>()</code>,
<code><a href="#topic+is_yr">is_yr</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This year in the Common Era
this_year()
# This year in the Holocene Epoch
this_year("HE")
</code></pre>

<hr>
<h2 id='yr'>Create a vector of years with era</h2><span id='topic+yr'></span>

<h3>Description</h3>

<p>A <code>yr</code> object represents years with an associated calendar era or time scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yr(x = numeric(), era = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yr_+3A_x">x</code></td>
<td>
<p>A numeric vector of years.</p>
</td></tr>
<tr><td><code id="yr_+3A_era">era</code></td>
<td>
<p>The calendar era used by <code>x</code>. Either:
</p>

<ul>
<li><p> A string matching one of the standard era labels defined in <code><a href="#topic+eras">eras()</a></code>
</p>
</li>
<li><p> An <code>era</code> object constructed with <code><a href="#topic+era">era()</a></code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>yr</code> (<code>era_yr</code>) object.
</p>


<h3>See Also</h3>

<p>Other years with era functions: 
<code><a href="#topic+yr_era">yr_era</a>()</code>,
<code><a href="#topic+yr_transform">yr_transform</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The R Age
yr(1993:2020, "CE")

# A bad movie
yr(10000, "BC")
</code></pre>

<hr>
<h2 id='yr_era'>Get or set the era of a vector of years</h2><span id='topic+yr_era'></span><span id='topic+yr_set_era'></span><span id='topic+yr_era+3C-'></span>

<h3>Description</h3>

<p>Functions for extracting or assigning the era of a vector of years.
This function does not alter the underlying values of <code>x</code>. Use <code><a href="#topic+yr_transform">yr_transform()</a></code>
to <em>convert</em> the values of a <code>yr</code> vector to a new era.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yr_era(x)

yr_set_era(x, era)

yr_era(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yr_era_+3A_x">x</code></td>
<td>
<p>A vector of years.</p>
</td></tr>
<tr><td><code id="yr_era_+3A_value">value</code>, <code id="yr_era_+3A_era">era</code></td>
<td>
<p>An <code>era</code> object (see <code><a href="#topic+era">era()</a></code>) to be assigned to <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>yr_era(x)</code> returns the existing era associated with <code>x</code>.
</p>
<p><code>yr_set_era(x, era)</code> and <code>yr_era(x) &lt;- era</code> return <code>x</code> with the new era
assigned. If <code>x</code> is not already a <code>yr</code> vector, it will attempt to coerce it
into one.
</p>


<h3>See Also</h3>

<p>Other years with era functions: 
<code><a href="#topic+yr">yr</a>()</code>,
<code><a href="#topic+yr_transform">yr_transform</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 5000:5050
yr_era(x) &lt;- era("cal BP")
yr_era(x)
</code></pre>

<hr>
<h2 id='yr_extremes'>Chronological minima and maxima</h2><span id='topic+yr_extremes'></span><span id='topic+yr_earliest'></span><span id='topic+yr_latest'></span><span id='topic+yr_range'></span>

<h3>Description</h3>

<p>Returns the chronologically earliest and/or latest value in a vector of
years, i.e. era-aware version <code><a href="base.html#topic+min">min()</a></code>, <code><a href="base.html#topic+max">max()</a></code>, and <code><a href="base.html#topic+range">range()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yr_earliest(x, na.rm = FALSE)

yr_latest(x, na.rm = FALSE)

yr_range(x, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yr_extremes_+3A_x">x</code></td>
<td>
<p>A <a href="#topic+yr">yr</a> vector with era</p>
</td></tr>
<tr><td><code id="yr_extremes_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These are implemented as prefixed functions rather than S3 <code><a href="base.html#topic+min">min()</a></code>, <code><a href="base.html#topic+max">max()</a></code>,
and <code><a href="base.html#topic+range">range()</a></code> methods for <a href="#topic+yr">yr</a>s to avoid surprises when numerical (i.e. not
chronological) extremes are expected.
</p>


<h3>Value</h3>

<p>For <code>yr_earliest()</code> and <code>yr_leatest()</code>, a <code>yr</code> vector of length 1 with the
earliest or latest value.
</p>
<p>For <code>yr_range()</code>, a <code>yr</code> vector of length 2 with the earliest and latest
value (in that order).
</p>
<p>If <code>x</code> contains <code>NA</code> values and <code>na.rm = FALSE</code> (the default), only <code>NA</code>s
will be returned.
</p>


<h3>See Also</h3>

<p>Other functions for chronological ordering and extremes: 
<code><a href="#topic+yr_sort">yr_sort</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Forward-counting era:
x &lt;- yr(c(200, 100, 300), "CE")
yr_earliest(x)
yr_latest(x)
yr_range(x)

# Backward-counting era:
y &lt;- yr(c(200, 100, 300), "BCE")
yr_earliest(y)
yr_latest(y)
yr_range(x)

</code></pre>

<hr>
<h2 id='yr_sort'>Chronological ordering of year vectors</h2><span id='topic+yr_sort'></span>

<h3>Description</h3>

<p>Sorts a vector of years into earliest-to-latest or latest-to-earliest
chronological order based on its era.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yr_sort(x, reverse = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yr_sort_+3A_x">x</code></td>
<td>
<p><a href="#topic+yr">yr</a> vector with era</p>
</td></tr>
<tr><td><code id="yr_sort_+3A_reverse">reverse</code></td>
<td>
<p>Set <code>FALSE</code> (the default) for chronological order (earliest to
latest) or <code>TRUE</code> for reverse chronological order (latest to earliest).</p>
</td></tr>
<tr><td><code id="yr_sort_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="base.html#topic+sort">sort()</a></code>; in particular use <code>na.last</code> to
control NA handling.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is implemented as a prefixed function rather than an S3 <code><a href="base.html#topic+sort">sort()</a></code> method
for <a href="#topic+yr">yr</a>s to avoid surprises when numerical (i.e. not chronological) sorting
is expected.
</p>


<h3>Value</h3>

<p>Sorted <a href="#topic+yr">yr</a> vector
</p>


<h3>See Also</h3>

<p>Other functions for chronological ordering and extremes: 
<code><a href="#topic+yr_extremes">yr_extremes</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Forward-counting era:
x &lt;- yr(c(200, 100, 300), "CE")
yr_sort(x)
yr_sort(x, reverse = TRUE)

# Backward-counting era:
y &lt;- yr(c(200, 100, 300), "BCE")
yr_sort(y)
yr_sort(y, reverse = TRUE)
</code></pre>

<hr>
<h2 id='yr_transform'>Convert years from one era to another</h2><span id='topic+yr_transform'></span>

<h3>Description</h3>

<p>Transform a vector of years from one era to another.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yr_transform(x, era = yr_era(x), precision = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yr_transform_+3A_x">x</code></td>
<td>
<p><code>yr</code> object. A vector of years with an era, see <code><a href="#topic+yr">yr()</a></code>.</p>
</td></tr>
<tr><td><code id="yr_transform_+3A_era">era</code></td>
<td>
<p><code>era</code> object describing the target era, see <code><a href="#topic+era">era()</a></code>.</p>
</td></tr>
<tr><td><code id="yr_transform_+3A_precision">precision</code></td>
<td>
<p>Desired precision of the transformation, i.e. the
transformed values are rounded to the nearest <code>precision</code>. If <code>NA</code>
(the default), no rounding is performed and the exact transformed value is
returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Transformation between eras uses the <code>scale</code>, <code>epoch</code>, <code>direction</code> and <code>unit</code>
parameters of the era definition. <code>NA</code> values for any of these parameters in
the source or destination era will cause an error. This is most often
encountered when either are measured in 'radiocarbon years', which cannot be
related to a calendar time scale without
<a href="https://en.wikipedia.org/wiki/Radiocarbon_calibration">calibration</a> or
un-calibration.
</p>
<p>The transformation function is exact and treats years as a real number
scale. This means that transformations between eras with different year
units (e.g. Gregorian to Julian) and/or epochs not aligned to 1 January
in the Gregorian calendar (e.g. Common Era to Islamic calendars) will likely
return non-integer values. The <code>precision</code> argument provides a
convenient way to round the result if you do not need this level of
precision. It is also useful for working around the ambiguous definition of
'present' in various geological time-scales.
</p>


<h3>Value</h3>

<p>A <code>yr</code> object in the era specified by <code>era</code>.
</p>


<h3>See Also</h3>

<p>Other years with era functions: 
<code><a href="#topic+yr">yr</a>()</code>,
<code><a href="#topic+yr_era">yr_era</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- yr(10010:10001, "cal BP")
yr_transform(x, era("BCE"))

yr_transform(x, era("ka"), precision = 1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

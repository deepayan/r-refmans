<!DOCTYPE html><html lang="en"><head><title>Help for package xdvir</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {xdvir}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#author'>
<p>Generate a LaTeX Document</p></a></li>
<li><a href='#element_latex'><p>ggplot2 Theme Element Supporting Latex Syntax</p></a></li>
<li><a href='#fontspec+20Package'>
<p>LaTeX Package fontspec.</p></a></li>
<li><a href='#geom_latex'><p>Latex Data Symbols in ggplot2 Plots</p></a></li>
<li><a href='#getMark'>
<p>Access LaTeX Marks</p></a></li>
<li><a href='#grid.dvi'>
<p>Render DVI File in R</p></a></li>
<li><a href='#grid.latex'>
<p>Render LaTeX in R</p></a></li>
<li><a href='#LaTeXpackage'>
<p>Define a LaTeX Package.</p></a></li>
<li><a href='#preview+20Package'>
<p>LaTeX Package preview.</p></a></li>
<li><a href='#readDVI'>
<p>Read DVI File</p></a></li>
<li><a href='#TeXengine'>
<p>Define a TeX Engine.</p></a></li>
<li><a href='#tikz+20Package'>
<p>LaTeX Package tikz.</p></a></li>
<li><a href='#typeset'>
<p>Typeset a LaTeX Document</p></a></li>
<li><a href='#xcolor+20Package'>
<p>LaTeX Package xcolor.</p></a></li>
<li><a href='#zref+20Package'>
<p>LaTeX Package zref.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Render 'LaTeX' in Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1-2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Murrell &lt;paul@stat.auckland.ac.nz&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>High-level functions to render 'LaTeX' fragments in plots, 
             including as labels and data symbols in 'ggplot2' plots, plus
             low-level functions to 
             author 'LaTeX' fragments (to produce 'LaTeX' documents), 
             typeset 'LaTeX' documents (to produce 'DVI' files), 
             read 'DVI' files (to produce "DVI" objects), 
             and render "DVI" objects.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>freetype2</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, grid, hexView (&ge; 0.3-4), tinytex, rlang,
systemfonts (&ge; 1.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gridBezier, knitr, rmarkdown, lattice, gridGraphics, gggrid,
ggplot2, cli</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-21 22:05:14 UTC; pmur002</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul Murrell <a href="https://orcid.org/0000-0002-3224-8858"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-24 17:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='author'>
Generate a LaTeX Document
</h2><span id='topic+author'></span>

<h3>Description</h3>

<p>Generate a LaTeX document from a LaTeX fragment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>author(tex,
       width=NA,
       engine=getOption("xdvir.engine"),
       packages=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="author_+3A_tex">tex</code></td>
<td>
<p>LaTeX code.  See Details.</p>
</td></tr>
<tr><td><code id="author_+3A_width">width</code></td>
<td>
<p>Either <code>NA</code> or a numeric value.
The latter is assumed to be a number of inches.</p>
</td></tr>
<tr><td><code id="author_+3A_engine">engine</code></td>
<td>
<p>The TeX engine that should be used for authoring.
May be the name of a TeX engine (character)
or a <code>"TeXengine"</code> object.</p>
</td></tr>
<tr><td><code id="author_+3A_packages">packages</code></td>
<td>
<p>The LaTeX packages to be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>author()</code> can be used to generate a complete LaTeX document
from a LaTeX fragment, either as a character vector or an external file.
</p>


<h3>Value</h3>

<p>A <code>"LaTeXdocument"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+LaTeXpackage">LaTeXpackage</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>author("this is a test")
</code></pre>

<hr>
<h2 id='element_latex'>ggplot2 Theme Element Supporting Latex Syntax</h2><span id='topic+element_latex'></span>

<h3>Description</h3>

<p>This theme element is an alternative to <code>ggplot2::element_text()</code>
for producing labels from LaTeX fragments.
</p>
<p>Both <code>hjust</code> and <code>vjust</code> can be character values:
one of <code>"left"</code>, <code>"bbleft"</code>, <code>"centre"</code>,
<code>"center"</code>, <code>"right"</code>, <code>"bbright"</code> for horizontal
justification;  and one of <code>"bottom"</code>, <code>"baseline"</code>,
<code>"centre"</code>, <code>"center"</code>, or <code>"top"</code> for
vertical justification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_latex(family=NULL,
              fontface=NULL,
              colour=NULL,
              size=NULL,
              hjust=NULL, vjust=NULL,
              angle=NULL,
              lineheight=NULL,
              color=NULL,
              margin=NULL,
              width=NULL,
              packages=NULL,
              engine=getOption("xdvir.engine"),
              rotate_margins=FALSE,
              inherit.blank=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="element_latex_+3A_family">family</code></td>
<td>
<p>The default font family.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_fontface">fontface</code></td>
<td>
<p>The default font face.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_colour">colour</code>, <code id="element_latex_+3A_color">color</code></td>
<td>
<p>The default text colour.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_size">size</code></td>
<td>
<p>The deafult font size.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_hjust">hjust</code></td>
<td>
<p>Horizontal justification.  Typically in <code class="reqn">[0, 1]</code>, but
see Details.)</p>
</td></tr>
<tr><td><code id="element_latex_+3A_vjust">vjust</code></td>
<td>
<p>Vertical justification.  Typically in <code class="reqn">[0, 1]</code>, but
see Details.)</p>
</td></tr>
<tr><td><code id="element_latex_+3A_angle">angle</code></td>
<td>
<p>Angle (in <code class="reqn">[0, 360]</code>)</p>
</td></tr>
<tr><td><code id="element_latex_+3A_lineheight">lineheight</code></td>
<td>
<p>The deafult lineheight.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_margin">margin</code></td>
<td>
<p>The margin around the text.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_width">width</code></td>
<td>
<p>Either <code>NA</code> or a numeric value or a unit
specifying the width for typesetting.  <code>NA</code> means the natural width of
the label.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_packages">packages</code></td>
<td>
<p>The LaTeX packages to be used.
May be the name of a LaTeX package (character) or a
<code>"LaTeXpackage"</code> object.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_engine">engine</code></td>
<td>
<p>The TeX engine that should be used to render the LaTeX.
May be the name of a TeX engine (character)
or a <code>"TeXengine"</code> object.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_rotate_margins">rotate_margins</code></td>
<td>
<p>Whether margins should follow the orientation of
the text.</p>
</td></tr>
<tr><td><code id="element_latex_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>Should this element inherit the existence of an
<code>element_blank</code> among its parents? If <code>TRUE</code> the existence of
a blank element among its parents will cause this element to be blank as
well. If <code>FALSE</code> any blank parent element will be ignored when
calculating final element state.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>element_latex</code> object that can be used in place of
<code>element_text</code> in ggplot2 theme specifications
</p>

<hr>
<h2 id='fontspec+20Package'>
LaTeX Package fontspec.
</h2><span id='topic+fontspecPackage'></span>

<h3>Description</h3>

<p>Define a LaTeXPackage for the LaTeX fontspec package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fontspecPackage(font=NULL, name=font)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fontspec+2B20Package_+3A_font">font</code></td>
<td>
<p>The name of a font to use as the main font.  See details.</p>
</td></tr>
<tr><td><code id="fontspec+2B20Package_+3A_name">name</code></td>
<td>
<p>The name of the resulting package.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a <code>"LaTeXpackage"</code> object
that provides support for the LaTeX fontspec package.
</p>
<p>The <code>font</code> argument provides some convenience for setting the main
font to be used.  The <code>font</code> can be the common name of
a system font or a complete path to the font file.
</p>
<p>For more complex situations, fontspec commands can be added to
the LaTeX code that is sent to functions like
<code><a href="#topic+author">author</a></code> and <code><a href="#topic+grid.latex">grid.latex</a></code> (see the Examples).
</p>
<p>A predefined package, with no main font defined, is pre-registered
under the name <code>"fontspec"</code>.
</p>


<h3>Value</h3>

<p>A <code>"LaTeXpackage"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(author("test", packages="fontspec"), sep="\n")
cat(author("test", packages=fontspecPackage(font="Courier")), sep="\n")
tex &lt;- "\\setmainfont{fontname.ttf}[Path=/path/to/font/]\ntest"
cat(author(tex, packages="fontspec"), sep="\n")
</code></pre>

<hr>
<h2 id='geom_latex'>Latex Data Symbols in ggplot2 Plots</h2><span id='topic+geom_latex'></span><span id='topic+GeomLatex'></span>

<h3>Description</h3>

<p>This geom draws text labels similar to
<code><a href="ggplot2.html#topic+geom_text">ggplot2::geom_text()</a></code>, but with the
text interpreted as a LaTeX fragment.
Most styling parameters can be used as aesthetics and can be applied
separately to each text label drawn.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_latex(mapping=NULL, data=NULL, stat="identity",
           position="identity", ...,
           nudge_x=0, nudge_y=0,
           width=NA,
           dpi=NA, packages=NULL,
           engine=getOption("xdvir.engine"),
           na.rm=FALSE,
           show.legend=NA, inherit.aes=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_latex_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by
<code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_()</a></code>.
If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be
created. 
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function. Cannot be jointy specified with
<code>nudge_x</code> or <code>nudge_y</code>.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to
<code><a href="ggplot2.html#topic+layer">layer()</a></code>.  These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_nudge_x">nudge_x</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge labels by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge labels by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_width">width</code></td>
<td>
<p>Either <code>NA</code> or a numeric value or a unit
specifying the width for typesetting.  <code>NA</code> means the natural width of
the label.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_dpi">dpi</code></td>
<td>
<p>Resolution (dots per inch).</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_packages">packages</code></td>
<td>
<p>The LaTeX packages to be used.
May be the name of a LaTeX package (character) or a
<code>"LaTeXpackage"</code> object.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_engine">engine</code></td>
<td>
<p>The TeX engine that should be used to render the LaTeX.
May be the name of a TeX engine (character)
or a <code>"TeXengine"</code> object.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_latex_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g.
<code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer that can be added to a plot created with
<code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_latex()</code> understands the following aesthetics (required
aesthetics are in bold; select aesthetics are annotated):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code> Default color of label text and label outline.
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>size</code> Default font size of label text.
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>


<hr>
<h2 id='getMark'>
Access LaTeX Marks
</h2><span id='topic+getMark'></span><span id='topic+addMark'></span>

<h3>Description</h3>

<p><code>getMark()</code>
allows access a location within LaTeX output relative to the rendering
in R.
</p>
<p><code>addMark()</code> allows third-party packages to add marks to the
rendering in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMark(name)
addMark(name, devx, devy, vpx=NA, vpy=NA, vpPath=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMark_+3A_name">name</code></td>
<td>
<p>The name of a mark.</p>
</td></tr>
<tr><td><code id="getMark_+3A_devx">devx</code>, <code id="getMark_+3A_devy">devy</code></td>
<td>
<p>The location of the mark on the device (in inches).</p>
</td></tr>
<tr><td><code id="getMark_+3A_vpx">vpx</code>, <code id="getMark_+3A_vpy">vpy</code></td>
<td>
<p>The location of the mark relative to the viewport in
which the mark was rendered.</p>
</td></tr>
<tr><td><code id="getMark_+3A_vppath">vpPath</code></td>
<td>
<p>The viewport path to the viewport in which the mark
was rendered.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some LaTeX packages, e.g., see <code><a href="#topic+zrefPackage">zrefPackage</a></code>,
allow positions within text to be
saved with a label.  This function allows those saved locations
to be accessed, e.g., to add further drawing relative to those locations.
</p>


<h3>Value</h3>

<p><code>getMark</code> returns a list containing the location (and viewport)
information for the mark.
</p>


<h3>Warning</h3>

<p>The saved locations are only relative to the current device size.
Resizing the device, or copying between devices will result in
incorrect locations.
</p>
<p>A call to <code>addMark()</code> using an existing mark name will
overwrite the previous mark information.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>

<hr>
<h2 id='grid.dvi'>
Render DVI File in R
</h2><span id='topic+grid.dvi'></span><span id='topic+render'></span><span id='topic+dviGrob'></span><span id='topic+dviGrob.DVI'></span><span id='topic+dviGrob.character'></span><span id='topic+dviGrob.list'></span>

<h3>Description</h3>

<p>Render a DVI file in R graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dviGrob(dvi, ...) 
## S3 method for class 'character'
dviGrob(dvi, ...)
## S3 method for class 'DVI'
dviGrob(dvi, ...,
        packages=NULL,
        engine=getOption("xdvir.engine"))
## S3 method for class 'list'
dviGrob(dvi, x = 0.5, y = 0.5,
        margin=0, rot=0,
        default.units = "npc",
        hjust="centre", vjust="centre",
        dpi=NA,
        page=1,
        packages=NULL,
        engine=getOption("xdvir.engine"),
        fontLib=getOption("xdvir.fontLib"),
        ...,
        name=NULL,
        gp=gpar(),
        vp=NULL)
grid.dvi(...)
render(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.dvi_+3A_dvi">dvi</code></td>
<td>
<p>A <code>"DVI"</code> object, as produced by
<code><a href="#topic+readDVI">readDVI</a></code>, or a <code>"DVIfile"</code> object, as produced by
<code><a href="#topic+typeset">typeset</a></code>, or the name of a DVI file, or a list
containing some combination of all three.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_x">x</code>, <code id="grid.dvi_+3A_y">y</code></td>
<td>
<p>Numeric values or units specifying where to draw the
output.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_margin">margin</code></td>
<td>
<p>Numeric values or units specifying margins (in the order
bottom, left, top, right).  Recycled if necessary.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_rot">rot</code></td>
<td>
<p>Rotation angle (in degrees).</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_default.units">default.units</code></td>
<td>
<p>Units to use if <code>x</code> or <code>y</code> are
numeric.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_hjust">hjust</code>, <code id="grid.dvi_+3A_vjust">vjust</code></td>
<td>
<p>Justification of the output relative to the
<code>x</code>/<code>y</code> location.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_dpi">dpi</code></td>
<td>
<p>Resolution (dots per inch) for rendering.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_page">page</code></td>
<td>
<p>Which page should be drawn.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_engine">engine</code></td>
<td>
<p>The TeX engine that should be used to render the DVI
file (see Details).</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_fontlib">fontLib</code></td>
<td>
<p>The font libraary the should be used to query fonts
and glyphs.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_packages">packages</code></td>
<td>
<p>The LaTeX packages to be used in rendering the DVI.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_name">name</code></td>
<td>
<p>Character value giving name for the grob.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_gp">gp</code></td>
<td>
<p>Graphical parameter settings.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_vp">vp</code></td>
<td>
<p>A viewport or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="grid.dvi_+3A_...">...</code></td>
<td>

<p>Arguments specific to methods of <code>dviGrob</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the <code>engine</code> is <code>NULL</code> (the default), one is chosen based
on the engine attribute of the <code>dvi</code> input (if an engine
of that name has been registered).
</p>
<p>If the <code>engine</code> is specified, but does not match the engine
attribute of the <code>dvi</code> then, if the <code>dvi</code> engine was
guessed the <code>engine</code> will be used, otherwise the conflict will
result in an error.
</p>
<p><code>render()</code> is an alias for <code>grid.dvi()</code>.
</p>


<h3>Value</h3>

<p>A <code>"DVIgrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readDVI">readDVI</a></code>, 
<code><a href="#topic+LaTeXpackage">LaTeXpackage</a></code>.
</p>

<hr>
<h2 id='grid.latex'>
Render LaTeX in R
</h2><span id='topic+grid.latex'></span><span id='topic+latexGrob'></span><span id='topic+grid.xelatex'></span><span id='topic+xelatexGrob'></span><span id='topic+grid.lualatex'></span><span id='topic+lualatexGrob'></span>

<h3>Description</h3>

<p>Author, typeset, and render LaTeX in R graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latexGrob(tex,
          x=0.5, y=0.5,
          margin=0, rot=0,
          default.units="npc",
          hjust="centre", vjust="centre",
          width=NA,
          dpi=NA,
          page=1,
          packages=NULL,
          engine=getOption("xdvir.engine"),
          fontLib=getOption("xdvir.fontLib"),
          texFile=NULL,
          name=NULL,
          gp=gpar(),
          vp=NULL) 
grid.latex(...)

xelatexGrob(tex, ...)
grid.xelatex(...)

lualatexGrob(tex, ...)
grid.lualatex(...)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grid.latex_+3A_tex">tex</code></td>
<td>
<p>LaTeX code as a character vector.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_x">x</code>, <code id="grid.latex_+3A_y">y</code></td>
<td>
<p>Numeric values or units specifying where to draw the
output.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_margin">margin</code></td>
<td>
<p>Numeric values or units specifying margins (in the order
bottom, left, top, right).  Recycled if necessary.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_rot">rot</code></td>
<td>
<p>Rotation angle (in degrees).</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_default.units">default.units</code></td>
<td>
<p>Units to use if <code>x</code> or <code>y</code> are
numeric.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_hjust">hjust</code>, <code id="grid.latex_+3A_vjust">vjust</code></td>
<td>
<p>Justification of the output relative to the
<code>x</code>/<code>y</code> location.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_width">width</code></td>
<td>
<p>Either <code>NA</code> or a numeric value or a unit
specifying the width for typesetting.  <code>NA</code> means the natural width of
<code>tex</code>.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_dpi">dpi</code></td>
<td>
<p>Resolution (dots per inch) for rendering.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_page">page</code></td>
<td>
<p>Which page should be drawn.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_packages">packages</code></td>
<td>
<p>The LaTeX packages to be used.
May be the name of a LaTeX package (character) or a
<code>"LaTeXpackage"</code> object.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_engine">engine</code></td>
<td>
<p>The TeX engine that should be used to render the LaTeX.
May be the name of a TeX engine (character)
or a <code>"TeXengine"</code> object.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_fontlib">fontLib</code></td>
<td>
<p>The font libraary the should be used to query fonts
and glyphs.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_name">name</code></td>
<td>
<p>Character value giving name for the grob.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_gp">gp</code></td>
<td>
<p>Graphical parameter settings.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_vp">vp</code></td>
<td>
<p>A viewport or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_texfile">texFile</code></td>
<td>
<p>Name of a file to use for LaTeX code.</p>
</td></tr>
<tr><td><code id="grid.latex_+3A_...">...</code></td>
<td>

<p>Arguments passed to <code><a href="#topic+dviGrob">dviGrob</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>grid.latex()</code> takes a LaTeX fragment, generates a LaTeX
document, typesets it, reads the resulting DVI file and renders the
result.
</p>
<p><code>grid.xelatex()</code> is just a convenient front end for
<code>grid.latex()</code>, with appropriate default <code>engine</code>.
</p>
<p><code>grid.latex()</code> attempts to be smart about
delaying typesetting until drawing time if necessary in order
to get the correct context for <code>width</code> and <code>gp</code> settings.
This means that, unless <code>gp</code> is set to <code>NULL</code> and
<code>width</code> is set to either <code>NA</code> or an
absolute unit (e.g., a number of inches), the calculation of, for
example, the width of a grob will be less efficient
because the typesetting has to be performed
all over again.  
</p>


<h3>Value</h3>

<p>A <code>"DVIgrob"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+LaTeXpackage">LaTeXpackage</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Requires TeX installation
grid.latex("this is a test")

## End(Not run)
</code></pre>

<hr>
<h2 id='LaTeXpackage'>
Define a LaTeX Package.
</h2><span id='topic+LaTeXpackage'></span><span id='topic+registerPackage'></span>

<h3>Description</h3>

<p>Define and register a LaTeX package for authoring, typesetting,
and rendering LaTeX documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LaTeXpackage(name,
             preamble=NULL,
             prefix=NULL,
             suffix=NULL,
             special=NULL,
             init=NULL,
             final=NULL)
registerPackage(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LaTeXpackage_+3A_name">name</code></td>
<td>
<p>Character name for the package.</p>
</td></tr>
<tr><td><code id="LaTeXpackage_+3A_preamble">preamble</code>, <code id="LaTeXpackage_+3A_prefix">prefix</code>, <code id="LaTeXpackage_+3A_suffix">suffix</code></td>
<td>
<p>Character preamble, prefix, and suffix
for authoring LaTeX documents.</p>
</td></tr>
<tr><td><code id="LaTeXpackage_+3A_special">special</code></td>
<td>
<p>Function for handling DVI specials during rendering.</p>
</td></tr>
<tr><td><code id="LaTeXpackage_+3A_init">init</code>, <code id="LaTeXpackage_+3A_final">final</code></td>
<td>
<p>Functions to initialise package before rendering
and finalise after rendering.</p>
</td></tr>
<tr><td><code id="LaTeXpackage_+3A_package">package</code></td>
<td>
<p>A <code>"LaTeXpackage"</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>LaTeXpackage()</code> returns a <code>"LaTeXpackage"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>

<hr>
<h2 id='preview+20Package'>
LaTeX Package preview.
</h2><span id='topic+previewPackage'></span>

<h3>Description</h3>

<p>Define a LaTeXPackage for the LaTeX preview package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>previewPackage()
</code></pre>


<h3>Details</h3>

<p>This function creates a <code>"LaTeXpackage"</code> object
that provides support for the LaTeX preview package.
</p>
<p>This adds a <code>"preview-baseline"</code> anchor to use for
aligning the rendered LaTeX in R.
</p>
<p>A predefined package is pre-registered
under the name <code>"preview"</code>.
</p>


<h3>Value</h3>

<p>A <code>"LaTeXpackage"</code> object.
</p>


<h3>Warning</h3>

<p>This package wraps LaTeX snippets in a preview environment, which
may not work for complex LaTeX snippets.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(author("test", packages="preview"), sep="\n")
</code></pre>

<hr>
<h2 id='readDVI'>
Read DVI File
</h2><span id='topic+readDVI'></span>

<h3>Description</h3>

<p>Read a DVI file (produced by LaTeX) into R. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readDVI(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readDVI_+3A_file">file</code></td>
<td>
<p>A character value giving the name of a DVI file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>"DVI"</code> object is a list of memory blocks (as produced by
functions from 
the <span class="pkg">hexView</span> package), with one block per DVI operation.
</p>
<p>This is the detailed, byte-level contents of the DVI file.
</p>


<h3>Value</h3>

<p>A <code>"DVI"</code> object.
</p>
<p>There is a print method that produces
a nice human-readable format.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>readDVI(system.file("DVI", "test-pdftex.dvi", package="xdvir"))
readDVI(system.file("DVI", "test-luatex.dvi", package="xdvir"))
readDVI(system.file("DVI", "test-xetex.xdv", package="xdvir"))
readDVI(system.file("DVI", "test-uptex.dvi", package="xdvir"))
</code></pre>

<hr>
<h2 id='TeXengine'>
Define a TeX Engine.
</h2><span id='topic+TeXengine'></span><span id='topic+registerEngine'></span>

<h3>Description</h3>

<p>Define and register a TeX engine for authoring, typesetting,
and rendering LaTeX documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TeXengine(name,
          version,
          command,
          isEngine,
          fontFile,
          glyphIndex,
          options=NULL,
          preamble="",
          dviSuffix=".dvi")
registerEngine(engine)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="TeXengine_+3A_name">name</code></td>
<td>
<p>Character name for the engine.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_version">version</code></td>
<td>
<p>A function with no arguments that returns the engine
version as a character value.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_command">command</code></td>
<td>
<p>The command used to typeset a latex document with this
engine.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_isengine">isEngine</code></td>
<td>
<p>A function with one argument, a <code>"DVI"</code> object,
that returns a logical indicating whether this engine was used to
generate that DVI output.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_fontfile">fontFile</code></td>
<td>
<p>A function with one argument, a font description from
a font definition opertaion in DVI output,
that returns a path to the appropriate font file.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_glyphindex">glyphIndex</code></td>
<td>
<p>A function with one argument, a raw vector of bytes
from a set char operation in DVI output,
that returns an integer index of the appropriate glyph.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_options">options</code></td>
<td>
<p>Any required options to <code>command</code> to ensure that
the engine generates DVI output.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_preamble">preamble</code></td>
<td>
<p>A preamble that is added during authoring of a complete
LaTeX document from a LaTeX snippet.  See <code><a href="#topic+author">author</a></code> and
<code><a href="#topic+grid.latex">grid.latex</a></code>.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_dvisuffix">dviSuffix</code></td>
<td>
<p>The file suffix used for DVI files that are generated
by this engine.</p>
</td></tr>
<tr><td><code id="TeXengine_+3A_engine">engine</code></td>
<td>
<p>A <code>"TeXengine"</code> object, as generated by
<code>TeXengine()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>TeXengine()</code> can be used to create a typesetting engine for use
with, e.g., <code><a href="#topic+grid.latex">grid.latex</a></code>.  Registering the engine via
<code>registerEngine()</code> means that the engine can be specified by
<code>name</code>.
</p>


<h3>Value</h3>

<p><code>TeXengine()</code> returns a <code>"TeXengine"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>

<hr>
<h2 id='tikz+20Package'>
LaTeX Package tikz.
</h2><span id='topic+tikzPackage'></span><span id='topic+tikzPicture'></span>

<h3>Description</h3>

<p>Define a LaTeXPackage for the LaTeX tikz package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tikzPackage(name="tikz", packages=NULL, bbox=TRUE, quote=TRUE)
tikzPicture(name="tikzPicture", packages=NULL, bbox=TRUE, quote=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tikz+2B20Package_+3A_name">name</code></td>
<td>
<p>The name of the resulting package.</p>
</td></tr>
<tr><td><code id="tikz+2B20Package_+3A_packages">packages</code></td>
<td>
<p>A character list of TikZ package names.</p>
</td></tr>
<tr><td><code id="tikz+2B20Package_+3A_bbox">bbox</code></td>
<td>
<p>Either a logical indicating whether to use (or ignore) the
TikZ bounding box at the end of a TikZ picture,
or a numeric vector of 4 values (left, bottom, right, top)
describing the bounding box to use for the TikZ picture.</p>
</td></tr>
<tr><td><code id="tikz+2B20Package_+3A_quote">quote</code></td>
<td>
<p>Whether to place single quotes around the path to
the pgfsysdriver file.  This might help if the path to the
R installation contains spaces.  Conversely, at least some LuaTeX
versions require this to be <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a <code>"LaTeXpackage"</code> object
that provides support for the LaTeX xcolor package.
</p>
<p>This allows TikZ pictures to be included in LaTeX snippets.
when calling <code><a href="#topic+grid.latex">grid.latex</a></code>.
</p>
<p>The <code>"tikzPicture"</code> package is provided for convenience if the
LaTeX snippet only consists of TikZ code.
</p>
<p>Two predefined packages are pre-registered
under the names <code>"tikz"</code> and <code>"tikzPicture"</code>.
</p>


<h3>Value</h3>

<p>A <code>"LaTeXpackage"</code> object.
</p>


<h3>Note</h3>

<p>If <code>"tikzmark"</code> is one of the <code>packages</code>, then a new
command, <code>\xdvirtikzmark{label}</code>, is defined 
to allow saved positions also to be recorded in the rendered LaTeX in
R.  This produces <code><a href="grid.html#topic+nullGrob">nullGrob</a></code> objects at the
relevant locations plus anchors (for justification) at the relevant
locations.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(author("test", packages="tikz"), sep="\n")
cat(author("test", packages="tikzPicture"), sep="\n")
</code></pre>

<hr>
<h2 id='typeset'>
Typeset a LaTeX Document
</h2><span id='topic+typeset'></span><span id='topic+typeset.LaTeXdocument'></span><span id='topic+typeset.character'></span>

<h3>Description</h3>

<p>Typeset a LaTeX document, either from a character value or
from an external file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>typeset(tex,
        engine=getOption("xdvir.engine"),
        ...)
## S3 method for class 'LaTeXdocument'
typeset(tex,
        engine=NULL,
        texFile=NULL,
        ...)
## S3 method for class 'character'
typeset(tex,
        engine=NULL,
        texFile=NULL,
        sig=FALSE, 
        ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="typeset_+3A_tex">tex</code></td>
<td>
<p>LaTeX code.  See Details.</p>
</td></tr>
<tr><td><code id="typeset_+3A_engine">engine</code></td>
<td>
<p>The TeX engine that should be used to typeset the LaTeX.
May be the name of a TeX engine (character)
or a <code>"TeXengine"</code> object.</p>
</td></tr>
<tr><td><code id="typeset_+3A_texfile">texFile</code></td>
<td>
<p>Name of a file to use for LaTeX code.</p>
</td></tr>
<tr><td><code id="typeset_+3A_sig">sig</code></td>
<td>
<p>Add a signature to the DVI output?</p>
</td></tr>
<tr><td><code id="typeset_+3A_...">...</code></td>
<td>

<p>Arguments passed to other <code><a href="#topic+typeset">typeset</a></code> methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>typeset()</code> expects input to be either a <code>"TeXdocument"</code>,
as generated by <code>author</code>, or a
character value containing LaTeX code.
</p>


<h3>Value</h3>

<p>A <code>"DVI"</code> object as produced by <code><a href="#topic+readDVI">readDVI</a></code>.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+LaTeXpackage">LaTeXpackage</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Requires TeX installation
tex &lt;- author("this is a test")
typeset(tex)

## End(Not run)
</code></pre>

<hr>
<h2 id='xcolor+20Package'>
LaTeX Package xcolor.
</h2><span id='topic+xcolorPackage'></span>

<h3>Description</h3>

<p>Define a LaTeXPackage for the LaTeX xcolor package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xcolorPackage()
</code></pre>


<h3>Details</h3>

<p>This function creates a <code>"LaTeXpackage"</code> object
that provides support for the LaTeX xcolor package.
</p>
<p>This allows commands like <code>\color{blue}</code>
to be included in LaTeX snippets when calling
<code><a href="#topic+grid.latex">grid.latex</a></code>.
</p>
<p>A predefined package is pre-registered
under the name <code>"xcolor"</code>.
</p>


<h3>Value</h3>

<p>A <code>"LaTeXpackage"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(author("test", packages="xcolor"), sep="\n")
</code></pre>

<hr>
<h2 id='zref+20Package'>
LaTeX Package zref.
</h2><span id='topic+zrefPackage'></span>

<h3>Description</h3>

<p>Define a LaTeXPackage for the LaTeX zref package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zrefPackage()
</code></pre>


<h3>Details</h3>

<p>This function creates a <code>"LaTeXpackage"</code> object
that provides support for the LaTeX zref package.
</p>
<p>This allows commands like <code>\zsavepos{label}</code>
to be included in LaTeX snippets when calling
<code><a href="#topic+grid.latex">grid.latex</a></code>.
</p>
<p>A new command, <code>\xdvirzmark{label}</code>, is defined
to allow saved positions also to be recorded in the rendered LaTeX in
R.  This produces <code><a href="grid.html#topic+nullGrob">nullGrob</a></code> objects at the
relevant locations plus anchors (for justification) at the relevant
locations.
</p>
<p>A predefined package is pre-registered
under the name <code>"zref"</code>.
</p>


<h3>Value</h3>

<p>A <code>"LaTeXpackage"</code> object.
</p>


<h3>Author(s)</h3>

<p>Paul Murrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat(author("test", packages="zref"), sep="\n")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

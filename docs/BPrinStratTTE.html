<!DOCTYPE html><html><head><title>Help for package BPrinStratTTE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BPrinStratTTE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BPrinStratTTE-package'><p>The 'BPrinStratTTE' package.</p></a></li>
<li><a href='#fit_mult_exp_covar'><p>Fit multiple models to data from two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</p></a></li>
<li><a href='#fit_mult_exp_nocovar'><p>Fit multiple models to data from two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</p></a></li>
<li><a href='#fit_single_exp_covar'><p>Fit single model to data from a two-arm trial with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</p></a></li>
<li><a href='#fit_single_exp_nocovar'><p>Fit single model to data from a two-arm trial with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</p></a></li>
<li><a href='#inv_logit'><p>Inverse logit function</p></a></li>
<li><a href='#logit'><p>Logit function</p></a></li>
<li><a href='#ocs_exp_covar'><p>Determine operating characteristics of fits from two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</p></a></li>
<li><a href='#ocs_exp_nocovar'><p>Determine operating characteristics of fits from two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</p></a></li>
<li><a href='#run_sim_exp_covar'><p>Run simulation of two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</p></a></li>
<li><a href='#run_sim_exp_nocovar'><p>Run simulation of two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</p></a></li>
<li><a href='#sim_dat_mult_trials_exp_covar'><p>Simulate data from multiple two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</p></a></li>
<li><a href='#sim_dat_mult_trials_exp_nocovar'><p>Simulate data from multiple two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</p></a></li>
<li><a href='#sim_dat_one_trial_exp_covar'><p>Simulate data from a single two-arm trial with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</p></a></li>
<li><a href='#sim_dat_one_trial_exp_nocovar'><p>Simulate data from a single two-arm trial with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</p></a></li>
<li><a href='#true_vals_exp_covar'><p>Adding true values to estimates for models with an exponential endpoint and consideration of predictors of the intercurrent event</p></a></li>
<li><a href='#true_vals_exp_nocovar'><p>Adding true values to estimates for models with an exponential endpoint and no consideration of predictors of the intercurrent event</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Causal Effects in Principal Strata Defined by Antidrug
Antibodies</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.7</td>
</tr>
<tr>
<td>Description:</td>
<td>Bayesian models to estimate causal effects of biological 
    treatments on time-to-event endpoints in clinical trials with principal
    strata defined by the occurrence of antidrug antibodies. 
    The methodology is based on Frangakis and Rubin (2002) 
    &lt;<a href="https://doi.org/10.1111%2Fj.0006-341x.2002.00021.x">doi:10.1111/j.0006-341x.2002.00021.x</a>&gt; and Imbens and Rubin (1997)
    &lt;<a href="https://doi.org/10.1214%2Faos%2F1034276631">doi:10.1214/aos/1034276631</a>&gt;, and here adapted to a specific 
    time-to-event setting.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Boehringer-Ingelheim/BPrinStratTTE">https://github.com/Boehringer-Ingelheim/BPrinStratTTE</a>,
<a href="https://boehringer-ingelheim.github.io/BPrinStratTTE/">https://boehringer-ingelheim.github.io/BPrinStratTTE/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Boehringer-Ingelheim/BPrinStratTTE/issues">https://github.com/Boehringer-Ingelheim/BPrinStratTTE/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, furrr, magrittr, methods, purrr, Rcpp (&ge; 0.12.0),
RcppParallel (&ge; 5.0.1), rstan (&ge; 2.18.1), rstantools (&ge;
2.4.0), stats, stringr, tibble</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>BH (&ge; 1.66.0), Rcpp (&ge; 0.12.0), RcppEigen (&ge; 0.3.3.3.0),
RcppParallel (&ge; 5.0.1), rstan (&ge; 2.18.1), StanHeaders (&ge;
2.18.0)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-13 09:01:33 UTC; stockch</td>
</tr>
<tr>
<td>Author:</td>
<td>Christian Stock <a href="https://orcid.org/0000-0002-3493-3234"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Emma Torrini [aut],
  Boehringer Ingelheim Pharma GmbH &amp; Co. KG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christian Stock &lt;christian.stock@boehringer-ingelheim.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-13 09:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='BPrinStratTTE-package'>The 'BPrinStratTTE' package.</h2><span id='topic+BPrinStratTTE-package'></span><span id='topic+BPrinStratTTE'></span>

<h3>Description</h3>

<p>Bayesian models to estimate causal effects of biological
treatments on time-to-event endpoints in clinical trials with principal
strata defined by the occurrence of antidrug antibodies.
The methodology is based on Frangakis and Rubin (2002)
<a href="doi:10.1111/j.0006-341x.2002.00021.x">doi:10.1111/j.0006-341x.2002.00021.x</a> and Imbens and Rubin (1997)
<a href="doi:10.1214/aos/1034276631">doi:10.1214/aos/1034276631</a>, and intended to be applied to a
specific time-to-event setting.#'
</p>


<h3>References</h3>

<p>Stan Development Team (2022). RStan: the R interface to Stan. R package version 2.21.5. https://mc-stan.org
</p>

<hr>
<h2 id='fit_mult_exp_covar'>Fit multiple models to data from two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</h2><span id='topic+fit_mult_exp_covar'></span>

<h3>Description</h3>

<p>Fit multiple models to data from two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_mult_exp_covar(dat_mult_trials, params, seed = 23)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_mult_exp_covar_+3A_dat_mult_trials">dat_mult_trials</code></td>
<td>
<p>List generated by <code>sim_dat_mult_trials_exp_covar</code>.</p>
</td></tr>
<tr><td><code id="fit_mult_exp_covar_+3A_params">params</code></td>
<td>
<p>List of model parameters as supplied to <code>fit_single_exp_covar</code>.</p>
</td></tr>
<tr><td><code id="fit_mult_exp_covar_+3A_seed">seed</code></td>
<td>
<p>Numeric value, seed for reproducibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of objects generated by <code>fit_single_exp_covar</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sim_dat_mult_trials_exp_covar">sim_dat_mult_trials_exp_covar()</a></code>, <code><a href="#topic+fit_single_exp_covar">fit_single_exp_covar()</a></code>, <code><a href="#topic+fit_mult_exp_nocovar">fit_mult_exp_nocovar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_covar &lt;- list(
  n = 1000,        
  nt = 500,       
  prob_X1 = 0.4, 
  prob_ice_X1 = 0.5, 
  prob_ice_X0 = 0.2,
  fu_max = 48*7,
  prop_cens = 0.15,         
  T0T_rate = 0.2,     
  T0N_rate = 0.2,     
  T1T_rate = 0.15,     
  T1N_rate = 0.1
 )
dat_mult_trials &lt;- sim_dat_mult_trials_exp_covar(
  n_iter = 2,
  params = d_params_covar 
)
m_params_covar &lt;- list(
  tg = 48,
  p = 2, 
  prior_delta = matrix(
    c(0, 5, 0, 5),
    nrow = 2, byrow = TRUE),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2,
  n_iter = 3000,
  warmup = 1500,
  cores = 2,
  open_progress = FALSE,
  show_messages = TRUE
)

fit_multiple &lt;- fit_mult_exp_covar(
  dat_mult_trials = dat_mult_trials,
  params = m_params_covar,
  seed = 12
)
lapply(fit_multiple, dim)
head(fit_multiple[[1]])


</code></pre>

<hr>
<h2 id='fit_mult_exp_nocovar'>Fit multiple models to data from two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</h2><span id='topic+fit_mult_exp_nocovar'></span>

<h3>Description</h3>

<p>Fit multiple models to data from two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_mult_exp_nocovar(dat_mult_trials, params, seed = 23)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_mult_exp_nocovar_+3A_dat_mult_trials">dat_mult_trials</code></td>
<td>
<p>List generated by <code>sim_dat_mult_trials_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="fit_mult_exp_nocovar_+3A_params">params</code></td>
<td>
<p>List of model parameters as supplied to <code>fit_single_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="fit_mult_exp_nocovar_+3A_seed">seed</code></td>
<td>
<p>Numeric value, seed for reproducibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of objects generated by <code>fit_single_exp_nocovar</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sim_dat_mult_trials_exp_nocovar">sim_dat_mult_trials_exp_nocovar()</a></code>, <code><a href="#topic+fit_single_exp_nocovar">fit_single_exp_nocovar()</a></code>, <code><a href="#topic+fit_mult_exp_covar">fit_mult_exp_covar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_nocovar &lt;- list(
  n = 500L,
  nt = 250L,
  prob_ice = 0.5,
  fu_max = 336L,
  prop_cens = 0.15,  
  T0T_rate = 0.2,
  T0N_rate = 0.2,
  T1T_rate = 0.15,
  T1N_rate = 0.1
)
dat_mult_trials &lt;- sim_dat_mult_trials_exp_nocovar(
  n_iter = 2,
  params = d_params_nocovar 
)
m_params_nocovar &lt;- list(
  tg = 48L,
  prior_piT = c(0.5, 0.5),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2L,
  n_iter = 3000L,
  warmup = 1500L,
  cores = 2L,
  open_progress = FALSE,
  show_messages = TRUE
)

fit_multiple &lt;- fit_mult_exp_nocovar(
  dat_mult_trials = dat_mult_trials,
  params = m_params_nocovar,
  seed = 12
)
lapply(fit_multiple, dim)
head(fit_multiple[[1]])

</code></pre>

<hr>
<h2 id='fit_single_exp_covar'>Fit single model to data from a two-arm trial with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</h2><span id='topic+fit_single_exp_covar'></span>

<h3>Description</h3>

<p>Fit single model to data from a two-arm trial with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_single_exp_covar(data, params, summarize_fit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_single_exp_covar_+3A_data">data</code></td>
<td>
<p>Data frame of a structure as generated by <code>sim_dat_one_trial_exp_covar()</code>.</p>
</td></tr>
<tr><td><code id="fit_single_exp_covar_+3A_params">params</code></td>
<td>
<p>List, containing model parameters:
</p>

<ul>
<li> <p><code>tg</code> Positive integer value, number of intervals to calculate restricted mean survival time using the trapezoidal rule.
</p>
</li>
<li> <p><code>p</code>  Positive integer value, number of predictors of the intercurrent event of interest (i.e. the event that determines. the principal stratum membership).
</p>
</li>
<li> <p><code>prior_delta</code>  <code>p</code>x2 matrix of positive numerical values, containing normal priors (mean and standard deviation) of the model parameter delta.
</p>
</li>
<li> <p><code>prior_0N</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_0N.
</p>
</li>
<li> <p><code>prior_1N</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_1N.
</p>
</li>
<li> <p><code>prior_0T</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_0T.
</p>
</li>
<li> <p><code>prior_1T</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_1T.
</p>
</li>
<li> <p><code>t_grid</code> Numeric vector of length <code>tg</code>, containing time points defining the time grid (in months) to calculate restricted mean survival time using the trapezoidal rule.
</p>
</li>
<li> <p><code>chains</code> Positive integer value, specifying the number of Markov chains.
</p>
</li>
<li> <p><code>n_iter</code> Positive integer value, specifying the number of iterations for each chain (including warmup).
</p>
</li>
<li> <p><code>warmup</code> Positive integer value, specifying the number of warmup (aka burnin) iterations per chain.
</p>
</li>
<li> <p><code>cores</code> Positive integer value, specifying the number of cores to use when executing the chains in parallel.
</p>
</li>
<li> <p><code>open_progress</code> Logical value, indicating whether the progress of the chains will be redirected to a file that is automatically opened for inspection.
</p>
</li>
<li> <p><code>show_messages</code> Logical value, indicating whether to print the summary of informational messages.
</p>
</li></ul>
</td></tr>
<tr><td><code id="fit_single_exp_covar_+3A_summarize_fit">summarize_fit</code></td>
<td>
<p>Logical, if <code>TRUE</code> (default), the output is restricted to a summary of results on key parameters over all chains, if <code>FALSE</code>, the complete <code>stanfit</code> object is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data supplied as <code>params</code> are used either as priors (<code>prior_delta</code>, <code>prior_0N</code>, <code>prior_1N</code>, <code>prior_1T</code>), to inform the model setup (<code>tg</code>, <code>p</code>, <code>t_grid</code>), or as parameters to <code>rstan::sampling()</code> which is invoked internally (<code>chains</code>, <code>n_iter</code>, <code>warmup</code>, <code>cores</code>, <code>open_progress</code>, <code>show_messages</code>).
</p>


<h3>Value</h3>

<p><code>tibble()</code> containing a summary of results on key parameters, or a <code>stanfit</code> object (S4 class), depending on <code>summarize_fit</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit_single_exp_nocovar">fit_single_exp_nocovar()</a></code> and <code><a href="rstan.html#topic+stanmodel-method-sampling">rstan::sampling()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_covar &lt;- list(
  n = 1000,        
  nt = 500,       
  prob_X1 = 0.4, 
  prob_ice_X1 = 0.5, 
  prob_ice_X0 = 0.2,
  fu_max = 48*7,       
  T0T_rate = 0.2,     
  T0N_rate = 0.2,     
  T1T_rate = 0.15,     
  T1N_rate = 0.1
 )
dat_single_trial &lt;- sim_dat_one_trial_exp_covar(
  n = d_params_covar[["n"]], 
  nt = d_params_covar[["nt"]],
  prob_X1 = d_params_covar[["prob_X1"]],
  prob_ice_X1 = d_params_covar[["prob_ice_X1"]],
  prob_ice_X0 = d_params_covar[["prob_ice_X0"]],
  fu_max = d_params_covar[["fu_max"]],  
  T0T_rate = d_params_covar[["T0T_rate"]],
  T0N_rate = d_params_covar[["T0N_rate"]],
  T1T_rate = d_params_covar[["T1T_rate"]],
  T1N_rate = d_params_covar[["T1N_rate"]] 
)
m_params_covar &lt;- list(
  tg = 48,
  p = 2, 
  prior_delta = matrix(
    c(0, 5, 0, 5),
    nrow = 2, byrow = TRUE),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2,
  n_iter = 3000,
  warmup = 1500,
  cores = 2,
  open_progress = FALSE,
  show_messages = FALSE   
)

fit_single &lt;- fit_single_exp_covar(
  data = dat_single_trial,
  params = m_params_covar,
  summarize_fit = FALSE
)
print(fit_single) 

</code></pre>

<hr>
<h2 id='fit_single_exp_nocovar'>Fit single model to data from a two-arm trial with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</h2><span id='topic+fit_single_exp_nocovar'></span>

<h3>Description</h3>

<p>Fit single model to data from a two-arm trial with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_single_exp_nocovar(data, params, summarize_fit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_single_exp_nocovar_+3A_data">data</code></td>
<td>
<p>Data frame of a structure as generated by <code>sim_dat_one_trial_exp_nocovar()</code>.</p>
</td></tr>
<tr><td><code id="fit_single_exp_nocovar_+3A_params">params</code></td>
<td>
<p>List, containing model parameters:
</p>

<ul>
<li> <p><code>tg</code> Positive integer value, number of intervals to calculate restricted mean survival time using the trapezoidal rule.
</p>
</li>
<li> <p><code>prior_piT</code> Numeric vector of length 2, containing parameters (alpha, beta) of the beta prior on pi, indicating the probability of belonging to the stratum of subjects developing the intercurrent event if given treatment.
</p>
</li>
<li> <p><code>prior_0N</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_0N.
</p>
</li>
<li> <p><code>prior_1N</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_1N.
</p>
</li>
<li> <p><code>prior_0T</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_0T.
</p>
</li>
<li> <p><code>prior_1T</code> Numeric vector of length 2, containing parameters (alpha, beta) of the gamma prior on lambda_1T.
</p>
</li>
<li> <p><code>t_grid</code> Numeric vector of length <code>tg</code>, containing time points defining the time grid (in months) to calculate restricted mean survival time using the trapezoidal rule.
</p>
</li>
<li> <p><code>chains</code> Positive integer value, specifying the number of Markov chains.
</p>
</li>
<li> <p><code>n_iter</code> Positive integer value, specifying the number of iterations for each chain (including warmup).
</p>
</li>
<li> <p><code>warmup</code> Positive integer value, specifying the number of warmup (aka burnin) iterations per chain.
</p>
</li>
<li> <p><code>cores</code> Positive integer value, specifying the number of cores to use when executing the chains in parallel.
</p>
</li>
<li> <p><code>open_progress</code> Logical value, indicating whether the progress of the chains will be redirected to a file that is automatically opened for inspection.
</p>
</li>
<li> <p><code>show_messages</code> Logical value, indicating whether to print the summary of informational messages.
</p>
</li></ul>
</td></tr>
<tr><td><code id="fit_single_exp_nocovar_+3A_summarize_fit">summarize_fit</code></td>
<td>
<p>Logical, if <code>TRUE</code> (default), the output is restricted to a summary of results on key parameters over all chains, if <code>FALSE</code>, the complete <code>stanfit</code> object is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data supplied as <code>params</code> are used either as priors (<code>prior_delta</code>, <code>prior_0N</code>, <code>prior_1N</code>, <code>prior_1T</code>), to inform the model setup (<code>tg</code>, <code>p</code>, <code>t_grid</code>), or as parameters to <code>rstan::sampling()</code> which is invoked internally (<code>chains</code>, <code>n_iter</code>, <code>warmup</code>, <code>cores</code>, <code>open_progress</code>, <code>show_messages</code>).
</p>


<h3>Value</h3>

<p><code>tibble()</code> containing a summary of results on key parameters, or a <code>stanfit</code> object, depending on <code>summarize_fit</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit_single_exp_covar">fit_single_exp_covar()</a></code> and <code><a href="rstan.html#topic+stanmodel-method-sampling">rstan::sampling()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_nocovar &lt;- list(
  n = 500L,
  nt = 250L,
  prob_ice = 0.5,
  fu_max = 336L,
  T0T_rate = 0.2,
  T0N_rate = 0.2,
  T1T_rate = 0.15,
  T1N_rate = 0.1
)
dat_single_trial &lt;- sim_dat_one_trial_exp_nocovar(
  n = d_params_nocovar[["n"]], 
  nt = d_params_nocovar[["nt"]],
  prob_ice = d_params_nocovar[["prob_ice"]],
  fu_max = d_params_nocovar[["fu_max"]],  
  T0T_rate = d_params_nocovar[["T0T_rate"]],
  T0N_rate = d_params_nocovar[["T0N_rate"]],
  T1T_rate = d_params_nocovar[["T1T_rate"]],
  T1N_rate = d_params_nocovar[["T1N_rate"]] 
)
m_params_nocovar &lt;- list(
  tg = 48L,
  prior_piT = c(0.5, 0.5),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2L,
  n_iter = 3000L,
  warmup = 1500L,
  cores = 2L,
  open_progress = FALSE,
  show_messages = TRUE
)

fit_single &lt;- fit_single_exp_nocovar(
  data = dat_single_trial,
  params = m_params_nocovar,
  summarize_fit = TRUE
)
print(fit_single)

</code></pre>

<hr>
<h2 id='inv_logit'>Inverse logit function</h2><span id='topic+inv_logit'></span>

<h3>Description</h3>

<p>Inverse logit function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inv_logit(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inv_logit_+3A_x">x</code></td>
<td>
<p>Numeric value  (usually a logarithm of odds).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The inverse logit function is also known as logistic function.
</p>


<h3>Value</h3>

<p>Numeric value on the interval <code class="reqn">[0,1]</code>, result of <code>log(pi/(1-pi))</code>.
</p>
<p>Numeric value, result of <code>exp(x)/(1+exp(x))</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+logit">logit()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># probabilities 
prob_ICE_base &lt;- 0.3
prob_ICE_risk &lt;- 0.6
# model coefficients
(beta1 &lt;- logit(prob_ICE_base))
(beta2 &lt;- logit(prob_ICE_risk) - logit(prob_ICE_base))
# linear predictor 
logit(prob_ICE_base); (lin_pred1 &lt;- beta1 + beta2*0)
logit(prob_ICE_risk); (lin_pred2 &lt;- beta1 + beta2*1)
# inverse logit of linear predictor 
(inv_logit(lin_pred1)) # prob for X1 = 0
(inv_logit(lin_pred2)) # prob for X1 = 1
</code></pre>

<hr>
<h2 id='logit'>Logit function</h2><span id='topic+logit'></span>

<h3>Description</h3>

<p>Logit function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logit(pi)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logit_+3A_pi">pi</code></td>
<td>
<p>Numeric value on the interval <code class="reqn">[0,1]</code> (usually a probability).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric value, result of <code>log(pi/(1-pi))</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+inv_logit">inv_logit()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># probabilities 
prob_ICE_base &lt;- 0.3
prob_ICE_risk &lt;- 0.6
# model coefficients
(beta1 &lt;- logit(prob_ICE_base))
(beta2 &lt;- logit(prob_ICE_risk) - logit(prob_ICE_base))
# linear predictor 
logit(prob_ICE_base); (lin_pred1 &lt;- beta1 + beta2*0)
logit(prob_ICE_risk); (lin_pred2 &lt;- beta1 + beta2*1)
# inverse logit of linear predictor 
(inv_logit(lin_pred1)) # prob for X1 = 0
(inv_logit(lin_pred2)) # prob for X1 = 1
</code></pre>

<hr>
<h2 id='ocs_exp_covar'>Determine operating characteristics of fits from two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</h2><span id='topic+ocs_exp_covar'></span>

<h3>Description</h3>

<p>Determine operating characteristics of fits from two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ocs_exp_covar(multiple_fits, d_params, m_params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ocs_exp_covar_+3A_multiple_fits">multiple_fits</code></td>
<td>
<p>List of model fits from <code>fit_mult_exp_covar</code>.</p>
</td></tr>
<tr><td><code id="ocs_exp_covar_+3A_d_params">d_params</code></td>
<td>
<p>List of data parameters as used in <code>sim_dat_one_trial_exp_covar</code>.</p>
</td></tr>
<tr><td><code id="ocs_exp_covar_+3A_m_params">m_params</code></td>
<td>
<p>List of model parameters as used in <code>fit_single_exp_covar</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used in <code>run_sim_exp_covar()</code>, the output of the two functions is the same.
</p>


<h3>Value</h3>

<p>A list of length 3, containing objects call <code>ocs</code>, <code>d_params</code>, <code>m_params</code>, where <code>ocs</code> is a <code>tibble</code> containing averaged parameter estimates and operating characteristics, and <code>d_params</code> and <code>m_params</code> are the objects supplied to the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ocs_exp_nocovar">ocs_exp_nocovar()</a></code> and <code><a href="#topic+run_sim_exp_covar">run_sim_exp_covar()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_covar &lt;- list(
  n = 1000,        
  nt = 500,       
  prob_X1 = 0.4, 
  prob_ice_X1 = 0.5, 
  prob_ice_X0 = 0.2,
  fu_max = 48*7,
  prop_cens = 0.15,       
  T0T_rate = 0.2,     
  T0N_rate = 0.2,     
  T1T_rate = 0.15,     
  T1N_rate = 0.1
 )
dat_mult_trials &lt;- sim_dat_mult_trials_exp_covar(
  n_iter = 2,
  params = d_params_covar 
)
m_params_covar &lt;- list(
  tg = 48,
  p = 2, 
  prior_delta = matrix(
    c(0, 5, 0, 5),
    nrow = 2, byrow = TRUE),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2,
  n_iter = 3000,
  warmup = 1500,
  cores = 2,
  open_progress = FALSE,
  show_messages = TRUE
)

fit_multiple &lt;- fit_mult_exp_covar(
  dat_mult_trials = dat_mult_trials,
  params = m_params_covar,
  seed = 12
)
list_ocs &lt;- ocs_exp_covar(
  multiple_fits = fit_multiple, 
  d_params = d_params_covar, 
  m_params = m_params_covar
)
print(list_ocs)


</code></pre>

<hr>
<h2 id='ocs_exp_nocovar'>Determine operating characteristics of fits from two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</h2><span id='topic+ocs_exp_nocovar'></span>

<h3>Description</h3>

<p>Determine operating characteristics of fits from two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ocs_exp_nocovar(multiple_fits, d_params, m_params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ocs_exp_nocovar_+3A_multiple_fits">multiple_fits</code></td>
<td>
<p>List of model fits from <code>fit_mult_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="ocs_exp_nocovar_+3A_d_params">d_params</code></td>
<td>
<p>List of data parameters as used in <code>sim_dat_one_trial_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="ocs_exp_nocovar_+3A_m_params">m_params</code></td>
<td>
<p>List of model parameters as used in <code>fit_single_exp_nocovar</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used in <code>run_sim_exp_nocovar()</code>, the output of the two functions is the same.
</p>


<h3>Value</h3>

<p>A list of length 3, containing objects call <code>ocs</code>, <code>d_params</code>, <code>m_params</code>, where <code>ocs</code> is a <code>tibble</code> containing averaged parameter estimates and operating characteristics, and <code>d_params</code> and <code>m_params</code> are the objects supplied to the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ocs_exp_covar">ocs_exp_covar()</a></code> and <code><a href="#topic+run_sim_exp_nocovar">run_sim_exp_nocovar()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_nocovar &lt;- list(
  n = 500L,
  nt = 250L,
  prob_ice = 0.5,
  fu_max = 336L,
  prop_cens = 0.15,
  T0T_rate = 0.2,
  T0N_rate = 0.2,
  T1T_rate = 0.15,
  T1N_rate = 0.1
)
dat_mult_trials &lt;- sim_dat_mult_trials_exp_nocovar(
  n_iter = 2,
  params = d_params_nocovar 
)
m_params_nocovar &lt;- list(
  tg = 48L,
  prior_piT = c(0.5, 0.5),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2L,
  n_iter = 3000L,
  warmup = 1500L,
  cores = 2L,
  open_progress = FALSE,
  show_messages = TRUE  
)

fit_multiple &lt;- fit_mult_exp_nocovar(
  dat_mult_trials = dat_mult_trials,
  params = m_params_nocovar,
  seed = 12
)
list_ocs &lt;- ocs_exp_nocovar(
  multiple_fits = fit_multiple, 
  d_params = d_params_nocovar, 
  m_params = m_params_nocovar
)
print(list_ocs)

</code></pre>

<hr>
<h2 id='run_sim_exp_covar'>Run simulation of two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</h2><span id='topic+run_sim_exp_covar'></span>

<h3>Description</h3>

<p>Run simulation of two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_sim_exp_covar(n_iter, d_params, m_params, seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_sim_exp_covar_+3A_n_iter">n_iter</code></td>
<td>
<p>Positive integer value, number of trials to be simulated.</p>
</td></tr>
<tr><td><code id="run_sim_exp_covar_+3A_d_params">d_params</code></td>
<td>
<p>List of data parameters as used in <code>sim_dat_one_trial_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="run_sim_exp_covar_+3A_m_params">m_params</code></td>
<td>
<p>List of model parameters as used in <code>fit_single_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="run_sim_exp_covar_+3A_seed">seed</code></td>
<td>
<p>Numeric value, seed for reproducibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of length 3, containing objects call <code>ocs</code>, <code>d_params</code>, <code>m_params</code>, where <code>ocs</code> is a <code>tibble</code> containing averaged parameter estimates and operating characteristics, and <code>d_params</code> and <code>m_params</code> are the objects supplied to the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+run_sim_exp_nocovar">run_sim_exp_nocovar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_covar &lt;- list(
  n = 1000,        
  nt = 500,       
  prob_X1 = 0.4, 
  prob_ice_X1 = 0.5, 
  prob_ice_X0 = 0.2,
  fu_max = 336L,
  prop_cens = 0.15,       
  T0T_rate = 0.2,     
  T0N_rate = 0.2,     
  T1T_rate = 0.15,     
  T1N_rate = 0.1
 )
m_params_covar &lt;- list(
  tg = 48,
  p = 2, 
  prior_delta = matrix(
    c(0, 5, 0, 5),
    nrow = 2, byrow = TRUE),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2,
  n_iter = 3000,
  warmup = 1500,
  cores = 2,
  open_progress = FALSE,
  show_messages = TRUE
)
 
dat_ocs &lt;- run_sim_exp_covar(
  n_iter = 3, 
  d_params = d_params_covar, 
  m_params = m_params_covar, 
  seed = 12
  )
print(dat_ocs)


</code></pre>

<hr>
<h2 id='run_sim_exp_nocovar'>Run simulation of two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</h2><span id='topic+run_sim_exp_nocovar'></span>

<h3>Description</h3>

<p>Run simulation of two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_sim_exp_nocovar(n_iter, d_params, m_params, seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_sim_exp_nocovar_+3A_n_iter">n_iter</code></td>
<td>
<p>Positive integer value, number of trials to be simulated.</p>
</td></tr>
<tr><td><code id="run_sim_exp_nocovar_+3A_d_params">d_params</code></td>
<td>
<p>List of data parameters as used in <code>sim_dat_one_trial_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="run_sim_exp_nocovar_+3A_m_params">m_params</code></td>
<td>
<p>List of model parameters as used in <code>fit_single_exp_nocovar</code>.</p>
</td></tr>
<tr><td><code id="run_sim_exp_nocovar_+3A_seed">seed</code></td>
<td>
<p>Numeric value, seed for reproducibility.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of length 3, containing objects call <code>ocs</code>, <code>d_params</code>, <code>m_params</code>, where <code>ocs</code> is a <code>tibble</code> containing averaged parameter estimates and operating characteristics, and <code>d_params</code> and <code>m_params</code> are the objects supplied to the function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+run_sim_exp_covar">run_sim_exp_covar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_nocovar &lt;- list(
  n = 500L,
  nt = 250L,
  prob_ice = 0.5,
  fu_max = 336L,
  prop_cens = 0.15,
  T0T_rate = 0.2,
  T0N_rate = 0.2,
  T1T_rate = 0.15,
  T1N_rate = 0.1
)
m_params_nocovar &lt;- list(
  tg = 48L,
  prior_piT = c(0.5, 0.5),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2L,
  n_iter = 3000L,
  warmup = 1500L,
  cores = 2L,
  open_progress = FALSE,
  show_messages = TRUE  
)
 
dat_ocs &lt;- run_sim_exp_nocovar(
  n_iter = 3, 
  d_params = d_params_nocovar, 
  m_params = m_params_nocovar, 
  seed = 12
  )
print(dat_ocs)

</code></pre>

<hr>
<h2 id='sim_dat_mult_trials_exp_covar'>Simulate data from multiple two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</h2><span id='topic+sim_dat_mult_trials_exp_covar'></span>

<h3>Description</h3>

<p>Simulate data from multiple two-arm trials with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_dat_mult_trials_exp_covar(n_iter, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_dat_mult_trials_exp_covar_+3A_n_iter">n_iter</code></td>
<td>
<p>Positive integer value, number of trials to be simulated.</p>
</td></tr>
<tr><td><code id="sim_dat_mult_trials_exp_covar_+3A_params">params</code></td>
<td>
<p>List of data parameters as used in <code>sim_dat_one_trial_exp_covar</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of length <code>n_iter</code>, containing objects of class <code>tibble()</code>, each containing one simulated trial dataset.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sim_dat_mult_trials_exp_nocovar">sim_dat_mult_trials_exp_nocovar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_covar &lt;- list(
  n = 1000,        
  nt = 500,       
  prob_X1 = 0.4, 
  prob_ice_X1 = 0.5, 
  prob_ice_X0 = 0.2,
  fu_max = 336L,   
  prop_cens = 0.15,    
  T0T_rate = 0.2,     
  T0N_rate = 0.2,     
  T1T_rate = 0.15,     
  T1N_rate = 0.1
 )
dat_mult_trials &lt;- sim_dat_mult_trials_exp_covar(
  n_iter = 3L,
  params = d_params_covar 
)
lapply(dat_mult_trials, dim)
head(dat_mult_trials[[1]]) 

</code></pre>

<hr>
<h2 id='sim_dat_mult_trials_exp_nocovar'>Simulate data from multiple two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</h2><span id='topic+sim_dat_mult_trials_exp_nocovar'></span>

<h3>Description</h3>

<p>Simulate data from multiple two-arm trials with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_dat_mult_trials_exp_nocovar(n_iter, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_dat_mult_trials_exp_nocovar_+3A_n_iter">n_iter</code></td>
<td>
<p>Positive integer value, number of trials to be simulated.</p>
</td></tr>
<tr><td><code id="sim_dat_mult_trials_exp_nocovar_+3A_params">params</code></td>
<td>
<p>List of data parameters as used in <code>sim_dat_one_trial_exp_nocovar</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of length <code>n_iter</code>, containing objects of class <code>tibble()</code>, each containing one simulated trial dataset.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sim_dat_mult_trials_exp_covar">sim_dat_mult_trials_exp_covar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_nocovar &lt;- list(
  n = 500L,
  nt = 250L,
  prob_ice = 0.5,
  fu_max = 336L,
  prop_cens = 0.15,
  T0T_rate = 0.2,
  T0N_rate = 0.2,
  T1T_rate = 0.15,
  T1N_rate = 0.1
)
dat_mult_trials &lt;- sim_dat_mult_trials_exp_nocovar(
  n_iter = 3L,
  params = d_params_nocovar 
)
lapply(dat_mult_trials, dim)
head(dat_mult_trials[[1]]) 

</code></pre>

<hr>
<h2 id='sim_dat_one_trial_exp_covar'>Simulate data from a single two-arm trial with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event</h2><span id='topic+sim_dat_one_trial_exp_covar'></span>

<h3>Description</h3>

<p>Simulate data from a single two-arm trial with an exponentially distributed time-to-event endpoint and one predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_dat_one_trial_exp_covar(
  n,
  nt,
  prob_X1,
  prob_ice_X1,
  prob_ice_X0,
  fu_max,
  prop_cens = 0,
  T0T_rate,
  T0N_rate,
  T1T_rate,
  T1N_rate
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_n">n</code></td>
<td>
<p>Positive integer value, number of subjects in the trial.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_nt">nt</code></td>
<td>
<p>Positive integer value, number of treated subjects.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_prob_x1">prob_X1</code></td>
<td>
<p>Numeric value on the interval <code class="reqn">(0,1)</code>, probability of being at high risk of experiencing the intercurrent event of interest when treated (i.e. the event that determines the principal stratum membership).</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_prob_ice_x1">prob_ice_X1</code></td>
<td>
<p>Numeric value on the interval <code class="reqn">(0,1)</code>, probability of the intercurrent event of interest if treated and at high risk of the intercurrent event.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_prob_ice_x0">prob_ice_X0</code></td>
<td>
<p>Numeric value on the interval <code class="reqn">(0,1)</code>, probability of the intercurrent event of interest if treated and not at high risk of the intercurrent event.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_fu_max">fu_max</code></td>
<td>
<p>Positive integer value, maximum follow-up time in days (administrative censoring assumed afterwards).</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_prop_cens">prop_cens</code></td>
<td>
<p>Numeric value on the interval <code class="reqn">[0,1)</code>, proportion of uniformly censored patients (default is 0).</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_t0t_rate">T0T_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in control subjects that would develop the intercurrent event if treated.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_t0n_rate">T0N_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in control subjects that never develop the intercurrent event.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_t1t_rate">T1T_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in treated subjects that develop the intercurrent event.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_covar_+3A_t1n_rate">T1N_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in treated subjects that never develop the intercurrent event.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>...
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sim_dat_one_trial_exp_nocovar">sim_dat_one_trial_exp_nocovar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_covar &lt;- list(
  n = 1000,        
  nt = 500,       
  prob_X1 = 0.4, 
  prob_ice_X1 = 0.5, 
  prob_ice_X0 = 0.2,
  fu_max = 48*7, 
  prop_cens = 0.15,
  T0T_rate = 0.2,      
  T0N_rate = 0.2,     
  T1T_rate = 0.15,     
  T1N_rate = 0.1
 )
dat_single_trial &lt;- sim_dat_one_trial_exp_covar(
  n = d_params_covar[["n"]], 
  nt = d_params_covar[["nt"]],
  prob_X1 = d_params_covar[["prob_X1"]],
  prob_ice_X1 = d_params_covar[["prob_ice_X1"]],
  prob_ice_X0 = d_params_covar[["prob_ice_X0"]],
  fu_max = d_params_covar[["fu_max"]],
  prop_cens = d_params_covar[["prop_cens"]],  
  T0T_rate = d_params_covar[["T0T_rate"]],
  T0N_rate = d_params_covar[["T0N_rate"]],
  T1T_rate = d_params_covar[["T1T_rate"]],
  T1N_rate = d_params_covar[["T1N_rate"]] 
)
dim(dat_single_trial)
head(dat_single_trial)
                  
</code></pre>

<hr>
<h2 id='sim_dat_one_trial_exp_nocovar'>Simulate data from a single two-arm trial with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event</h2><span id='topic+sim_dat_one_trial_exp_nocovar'></span>

<h3>Description</h3>

<p>Simulate data from a single two-arm trial with an exponentially distributed time-to-event endpoint and no predictor of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_dat_one_trial_exp_nocovar(
  n,
  nt,
  prob_ice,
  fu_max,
  prop_cens = 0,
  T0T_rate,
  T0N_rate,
  T1T_rate,
  T1N_rate
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_n">n</code></td>
<td>
<p>Positive integer value, number of subjects in the trial.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_nt">nt</code></td>
<td>
<p>Positive integer value, number of treated subjects.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_prob_ice">prob_ice</code></td>
<td>
<p>Numeric value on the interval <code class="reqn">(0,1)</code>, probability of the intercurrent event of interest (i.e. the event that determines the principal stratum membership).</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_fu_max">fu_max</code></td>
<td>
<p>Positive integer value, maximum follow-up time in days (administrative censoring assumed afterwards).</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_prop_cens">prop_cens</code></td>
<td>
<p>Numeric value on the interval <code class="reqn">[0,1)</code>, proportion of uniformly censored patients (default is 0).</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_t0t_rate">T0T_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in control subjects that would develop the intercurrent event if treated.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_t0n_rate">T0N_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in control subjects that never develop the intercurrent event.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_t1t_rate">T1T_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in treated subjects that develop the intercurrent event.</p>
</td></tr>
<tr><td><code id="sim_dat_one_trial_exp_nocovar_+3A_t1n_rate">T1N_rate</code></td>
<td>
<p>Positive numeric value, monthly event rate in treated subjects that never develop the intercurrent event.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble()</code>containing the trial data for analysis.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sim_dat_one_trial_exp_covar">sim_dat_one_trial_exp_covar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_nocovar &lt;- list(
  n = 500L,
  nt = 250L,
  prob_ice = 0.5,
  fu_max = 336L,
  prop_cens = 0.15,
  T0T_rate = 0.2,
  T0N_rate = 0.2,
  T1T_rate = 0.15,
  T1N_rate = 0.1
)
dat_single_trial &lt;- sim_dat_one_trial_exp_nocovar(
  n = d_params_nocovar[["n"]], 
  nt = d_params_nocovar[["nt"]],
  prob_ice = d_params_nocovar[["prob_ice"]],
  fu_max = d_params_nocovar[["fu_max"]],
  prop_cens = d_params_nocovar[["prop_cens"]],  
  T0T_rate = d_params_nocovar[["T0T_rate"]],
  T0N_rate = d_params_nocovar[["T0N_rate"]],
  T1T_rate = d_params_nocovar[["T1T_rate"]],
  T1N_rate = d_params_nocovar[["T1N_rate"]] 
)
dim(dat_single_trial)
head(dat_single_trial)

</code></pre>

<hr>
<h2 id='true_vals_exp_covar'>Adding true values to estimates for models with an exponential endpoint and consideration of predictors of the intercurrent event</h2><span id='topic+true_vals_exp_covar'></span>

<h3>Description</h3>

<p>Adding true values to estimates for models with an exponential endpoint and consideration of predictors of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>true_vals_exp_covar(x, d_params, m_params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="true_vals_exp_covar_+3A_x">x</code></td>
<td>
<p>Model object as returned by <code>fit_single_exp_covar()</code>.</p>
</td></tr>
<tr><td><code id="true_vals_exp_covar_+3A_d_params">d_params</code></td>
<td>
<p>List of data parameters as used in <code>fit_single_exp_covar()</code>.</p>
</td></tr>
<tr><td><code id="true_vals_exp_covar_+3A_m_params">m_params</code></td>
<td>
<p>List of model parameters as used in <code>fit_single_exp_covar()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary table with parameter estimates, true values and differences.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+true_vals_exp_nocovar">true_vals_exp_nocovar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_covar &lt;- list(
  n = 1000,        
  nt = 500,       
  prob_X1 = 0.4, 
  prob_ice_X1 = 0.5, 
  prob_ice_X0 = 0.2,
  fu_max = 48*7,       
  T0T_rate = 0.2,     
  T0N_rate = 0.2,     
  T1T_rate = 0.15,     
  T1N_rate = 0.1
 )
dat_single_trial &lt;- sim_dat_one_trial_exp_covar(
  n = d_params_covar[["n"]], 
  nt = d_params_covar[["nt"]],
  prob_X1 = d_params_covar[["prob_X1"]],
  prob_ice_X1 = d_params_covar[["prob_ice_X1"]],
  prob_ice_X0 = d_params_covar[["prob_ice_X0"]],
  fu_max = d_params_covar[["fu_max"]],  
  T0T_rate = d_params_covar[["T0T_rate"]],
  T0N_rate = d_params_covar[["T0N_rate"]],
  T1T_rate = d_params_covar[["T1T_rate"]],
  T1N_rate = d_params_covar[["T1N_rate"]] 
)
m_params_covar &lt;- list(
  tg = 48,
  p = 2, 
  prior_delta = matrix(
    c(0, 5, 0, 5),
    nrow = 2, byrow = TRUE),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2,
  n_iter = 3000,
  warmup = 1500,
  cores = 2,
  open_progress = FALSE,
  show_messages = TRUE   
)

fit_single &lt;- fit_single_exp_covar(
  data = dat_single_trial,
  params = m_params_covar,
  summarize_fit = TRUE
)
print(fit_single)
tab_obs_truth &lt;- true_vals_exp_covar(
  x = fit_single,
  d_params = d_params_covar,
  m_params = m_params_covar
)
print(tab_obs_truth)
 
</code></pre>

<hr>
<h2 id='true_vals_exp_nocovar'>Adding true values to estimates for models with an exponential endpoint and no consideration of predictors of the intercurrent event</h2><span id='topic+true_vals_exp_nocovar'></span>

<h3>Description</h3>

<p>Adding true values to estimates for models with an exponential endpoint and no consideration of predictors of the intercurrent event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>true_vals_exp_nocovar(x, d_params, m_params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="true_vals_exp_nocovar_+3A_x">x</code></td>
<td>
<p>Model object as returned by <code>fit_single_exp_nocovar()</code>.</p>
</td></tr>
<tr><td><code id="true_vals_exp_nocovar_+3A_d_params">d_params</code></td>
<td>
<p>List of data parameters as used in <code>fit_single_exp_nocovar()</code>.</p>
</td></tr>
<tr><td><code id="true_vals_exp_nocovar_+3A_m_params">m_params</code></td>
<td>
<p>List of model parameters as used in <code>fit_single_exp_nocovar()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summary table with parameter estimates, true values and differences.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+true_vals_exp_covar">true_vals_exp_covar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_params_nocovar &lt;- list(
  n = 500L,
  nt = 250L,
  prob_ice = 0.5,
  fu_max = 336L,
  T0T_rate = 0.2,
  T0N_rate = 0.2,
  T1T_rate = 0.15,
  T1N_rate = 0.1
)
dat_single_trial &lt;- sim_dat_one_trial_exp_nocovar(
  n = d_params_nocovar[["n"]], 
  nt = d_params_nocovar[["nt"]],
  prob_ice = d_params_nocovar[["prob_ice"]],
  fu_max = d_params_nocovar[["fu_max"]],  
  T0T_rate = d_params_nocovar[["T0T_rate"]],
  T0N_rate = d_params_nocovar[["T0N_rate"]],
  T1T_rate = d_params_nocovar[["T1T_rate"]],
  T1N_rate = d_params_nocovar[["T1N_rate"]] 
)
m_params_nocovar &lt;- list(
  tg = 48L,
  prior_piT = c(0.5, 0.5),
  prior_0N = c(1.5, 5),
  prior_1N = c(1.5, 5),
  prior_0T = c(1.5, 5),
  prior_1T = c(1.5, 5),
  t_grid =  seq(7, 7 * 48, 7) / 30,
  chains = 2L,
  n_iter = 3000L,
  warmup = 1500L,
  cores = 2L,
  open_progress = FALSE,
  show_messages = TRUE  
)

fit_single &lt;- fit_single_exp_nocovar(
  data = dat_single_trial,
  params = m_params_nocovar,
  summarize_fit = TRUE 
)
print(fit_single) 
tab_obs_truth &lt;- true_vals_exp_nocovar(
  x = fit_single,
  d_params = d_params_nocovar,
  m_params = m_params_nocovar
)
print(tab_obs_truth)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

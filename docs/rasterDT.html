<!DOCTYPE html><html lang="en"><head><title>Help for package rasterDT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rasterDT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rasterDT-package'><p>Fast Raster Summary and Manipulation</p></a></li>
<li><a href='#cat_to_val'><p>Convert a Categorical Raster to a Value Raster</p></a></li>
<li><a href='#crosstabDT'><p>Speedy Raster Cross-tabulation</p></a></li>
<li><a href='#fasterizeDT'><p>Polygon Rasterization Using Numeric, Factor, or</p>
Character Fields</a></li>
<li><a href='#freqDT'><p>Speedy Raster Value Frequency Tabulation</p></a></li>
<li><a href='#subsDT'><p>Speedy Raster Value Substitution</p></a></li>
<li><a href='#zonalDT'><p>Speedy Zonal Statistics</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fast Raster Summary and Manipulation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-12-25</td>
</tr>
<tr>
<td>Author:</td>
<td>Joshua O'Brien</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joshua O'Brien &lt;joshmobrien@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
  Fast alternatives to several relatively slow 'raster' package
  functions. For large rasters, the functions run from 5 to
  approximately 100 times faster than the 'raster' package functions
  they replace. The 'fasterize' package, on which one function in this
  package depends, includes an implementation of the scan line
  algorithm attributed to Wylie et al. (1967)
  &lt;<a href="https://doi.org/10.1145%2F1465611.1465619">doi:10.1145/1465611.1465619</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/JoshOBrien/rasterDT/">https://github.com/JoshOBrien/rasterDT/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/JoshOBrien/rasterDT/issues/">https://github.com/JoshOBrien/rasterDT/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>methods, raster (&ge; 3.6-3), data.table</td>
</tr>
<tr>
<td>Imports:</td>
<td>fasterize, sf</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rasterVis</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-12-15 20:47:13 UTC; Josh</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-12-15 21:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rasterDT-package'>Fast Raster Summary and Manipulation</h2><span id='topic+rasterDT-package'></span><span id='topic+rasterDT'></span>

<h3>Description</h3>


<p>  Fast alternatives to several relatively slow 'raster' package
  functions. For large rasters, the functions run from 5 to
  approximately 100 times faster than the 'raster' package functions
  they replace. The 'fasterize' package, on which one function in this
  package depends, includes an implementation of the scan line
  algorithm attributed to Wylie et al. (1967)
  &lt;doi:10.1145/1465611.1465619&gt;.</p>


<h3>Details</h3>

<p>The DESCRIPTION file: </p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> rasterDT</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Fast Raster Summary and Manipulation</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.3.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-12-25</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Joshua O'Brien</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Joshua O'Brien &lt;joshmobrien@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> 
  Fast alternatives to several relatively slow 'raster' package
  functions. For large rasters, the functions run from 5 to
  approximately 100 times faster than the 'raster' package functions
  they replace. The 'fasterize' package, on which one function in this
  package depends, includes an implementation of the scan line
  algorithm attributed to Wylie et al. (1967)
  &lt;doi:10.1145/1465611.1465619&gt;.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/JoshOBrien/rasterDT/</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/JoshOBrien/rasterDT/issues/</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> methods,
raster (&gt;= 3.6-3),
data.table</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> fasterize,
sf</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> rasterVis</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 7.2.3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
cat_to_val              Convert a Categorical Raster to a Value Raster
crosstabDT              Speedy Raster Cross-tabulation
fasterizeDT             Polygon Rasterization Using Numeric, Factor, or
                        Character Fields
freqDT                  Speedy Raster Value Frequency Tabulation
rasterDT-package        Fast Raster Summary and Manipulation
subsDT                  Speedy Raster Value Substitution
zonalDT                 Speedy Zonal Statistics
</pre>
<p>Fast alternatives to several relatively slow raster package
functions. For large rasters, the functions run from 5 to
approximately 100 times faster than the raster package functions
they replace.
</p>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>
<p>Maintainer: Joshua O'Brien &lt;joshmobrien@gmail.com&gt;
</p>

<hr>
<h2 id='cat_to_val'>Convert a Categorical Raster to a Value Raster</h2><span id='topic+cat_to_val'></span>

<h3>Description</h3>

<p>Use a categorical raster's RAT to convert it to a continuous
raster
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat_to_val(r, which = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cat_to_val_+3A_r">r</code></td>
<td>
<p>A categorical raster with a RAT (returned by
<code>levels(r)[[1]]</code>), whose first column contain an entry
for every factor level present in the raster. At least one of
the subsequent columns should contain numeric values to which
each level should be converted.</p>
</td></tr>
<tr><td><code id="cat_to_val_+3A_which">which</code></td>
<td>
<p>An integer or character string giving the index or
name of the column in <code>r</code>'s RAT with the numerical values
to which each value in <code>r</code> should be mapped. Default
value is <code>2</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A continuous raster with each category level in <code>r</code>
replaced by its corresponding value.
</p>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r_cat &lt;- raster(matrix(c(2, 2, 2, 1), ncol = 2))
levels(r_cat) &lt;- data.frame(ID = c(1, 2),
                            VAL1 = c(0.1, 200),
                            VAL2 = c(33, 44))

## Second column of RAT is used by default
r_con1 &lt;- cat_to_val(r_cat)
as.matrix(r_con1)

## Use 'which=' argument for conversion to another RAT column
r_con2 &lt;- cat_to_val(r_cat, which = "VAL2")
as.matrix(r_con2)
</code></pre>

<hr>
<h2 id='crosstabDT'>Speedy Raster Cross-tabulation</h2><span id='topic+crosstabDT'></span>

<h3>Description</h3>

<p>A fast <code>data.table</code>-based alternative to
<code><a href="raster.html#topic+crosstab">raster::crosstab()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crosstabDT(x, y, digits = 0, long = FALSE, useNA = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="crosstabDT_+3A_x">x</code></td>
<td>
<p>A <code>Raster*</code> object</p>
</td></tr>
<tr><td><code id="crosstabDT_+3A_y">y</code></td>
<td>
<p>If <code>x</code> has just one layer, a <code>RasterLayer</code>
object. Otherwise, if <code>x</code> is a multi-layered
<code>RasterStack</code> or <code>RasterBrick</code>, this argument (if
any) is unused.</p>
</td></tr>
<tr><td><code id="crosstabDT_+3A_digits">digits</code></td>
<td>
<p>Integer. The number of digits for rounding the
values before cross-tabulation. Default is <code>0</code>.</p>
</td></tr>
<tr><td><code id="crosstabDT_+3A_long">long</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the results are returned in a
'long' format <code>data.table</code> instead of as a table. Default
is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="crosstabDT_+3A_usena">useNA</code></td>
<td>
<p>Logical. Should the returned table or
<code>data.table</code> include counts of <code>NA</code> values? Default
is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a table or a <code>data.table</code> recording the
frequency of each combination of raster values.
</p>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- raster(nc = 5, nr = 5)
r[] &lt;- runif(ncell(r)) * 2
s &lt;- setValues(r, runif(ncell(r)) * 3)
crosstabDT(r, s)

rs &lt;- r/s
r[1:5] &lt;- NA
s[20:25] &lt;- NA
x &lt;- stack(r, s, rs)
crosstabDT(x, useNA = TRUE, long = TRUE)
</code></pre>

<hr>
<h2 id='fasterizeDT'>Polygon Rasterization Using Numeric, Factor, or
Character Fields</h2><span id='topic+fasterizeDT'></span>

<h3>Description</h3>

<p>A front end for
<code><a href="fasterize.html#topic+fasterize">fasterize::fasterize()</a></code>, fixing
several of its infelicities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fasterizeDT(
  x,
  raster,
  field = NULL,
  fun = "last",
  background = NA_real_,
  by = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fasterizeDT_+3A_x">x</code></td>
<td>
<p>Either an <code>sf::sf()</code> object with a geometry column
of <code>POLYGON</code> and/or <code>MULTIPOLYGON</code> objects or a
<code>sp::SpatialPolygonsDataFrame</code> object.</p>
</td></tr>
<tr><td><code id="fasterizeDT_+3A_raster">raster</code></td>
<td>
<p>A <code>RasterLayer</code> object to be used as a template
for the raster output.</p>
</td></tr>
<tr><td><code id="fasterizeDT_+3A_field">field</code></td>
<td>
<p>Character. The name of a column in <code>x</code>,
providing a value for each of the polygons rasterized. If
<code>NULL</code> (the default), all polygons will be given a value
of <code>1</code>.</p>
</td></tr>
<tr><td><code id="fasterizeDT_+3A_fun">fun</code></td>
<td>
<p>Character. The name of a function by which to combine
overlapping polygons. Currently takes <code>"sum"</code>,
<code>"first"</code>, <code>"last"</code>, <code>"min"</code>, <code>"max"</code>,
<code>"count"</code>, or <code>"any"</code>. For more details, see
<code><a href="fasterize.html#topic+fasterize">?fasterize::fasterize</a></code>.</p>
</td></tr>
<tr><td><code id="fasterizeDT_+3A_background">background</code></td>
<td>
<p>Value to put in the cells that are not covered
by any of the features of <code>x</code>. Default is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="fasterizeDT_+3A_by">by</code></td>
<td>
<p>Character string giving the name of a column in <code>x</code>
by which to aggregate layers. If set, <code>fasterizeDT</code> will
return a <code>RasterBrick</code> with as many layers as unique
values of the <code>by</code> column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unlike other functions in this package, <code>fasterizeDT()</code> does
not use <code>data.table</code> to speed up its computations. Instead,
it is a wrapper for <code>fasterize::fasterize()</code>, intended to
address several of that function's limitations.
</p>
<p>Most importantly, <code>fasterizeDT()</code> takes care to properly
handle rasterization operations in which either the template
<code>RasterLayer</code> or the selected polygon feature field is a
factor. Specifically, it always returns a raster whose type
(numeric or factor) and levels (if a factor) match that of the
spatial polygon attribute indicated by its <code>field</code> argument.
Second, when <code>field</code> specifies an attribute of class
<code>"character"</code>, <code>fasterizeDT()</code> automatically converts it
to a factor and returns a factor raster. In this, it is unlike
both <code>fasterize::fasterize()</code> and
<code>raster::rasterize()</code>. Finally, unlike
<code>fasterize::fasterize()</code>, <code>fasterizeDT()</code> accepts as
inputs either <code>sf::sf()</code> objects or
<code>sp::SpatialPolygonsDataFrame</code> objects.
</p>


<h3>Value</h3>

<p>A raster of the same size, extent, resolution and
projection as the supplied raster template. Unlike
<code><a href="fasterize.html#topic+fasterize">fasterize::fasterize()</a></code>,
<code>fasterizeDT</code> returns a raster of the same type as the
data in the column of <code>x</code> selected by the <code>field</code>
argument.
</p>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Load example polygons and prepare a template raster
if (require(raster)) {
SPDF &lt;- shapefile(system.file("external/lux.shp", package = "raster"))
llratio &lt;- 1/cos(pi * mean(coordinates(SPDF)[, 2])/180)
rr &lt;- raster(extent(SPDF),
             resolution = c(llratio * 0.01, 0.01),
             crs = proj4string(SPDF))

## An integer-valued field produces a numeric raster
rInt &lt;- fasterizeDT(SPDF, rr, field = "ID_2")
plot(rInt, col = colorRampPalette(blues9)(12))

## A character-valued field returns a factor raster
rFac &lt;- fasterizeDT(SPDF, rr, field = "NAME_2")
if (require(rasterVis)) {
    levelplot(rFac)
}
}

</code></pre>

<hr>
<h2 id='freqDT'>Speedy Raster Value Frequency Tabulation</h2><span id='topic+freqDT'></span><span id='topic+freqDT+2CRasterLayer-method'></span><span id='topic+freqDT+2CRasterStackBrick-method'></span>

<h3>Description</h3>

<p>A fast <code>data.table</code>-based alternative to
<code><a href="raster.html#topic+freq">raster::freq()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freqDT(x, ...)

## S4 method for signature 'RasterLayer'
freqDT(x, digits = 0, value = NULL, useNA = c("ifany", "no", "always"), ...)

## S4 method for signature 'RasterStackBrick'
freqDT(
  x,
  digits = 0,
  value = NULL,
  useNA = c("ifany", "no", "always"),
  merge = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="freqDT_+3A_x">x</code></td>
<td>
<p>A <code>RasterLayer</code>, <code>RasterStack</code>, or
<code>RasterBrick</code> object field class.</p>
</td></tr>
<tr><td><code id="freqDT_+3A_...">...</code></td>
<td>
<p>Additional arguments as for
<code><a href="raster.html#topic+writeRaster">raster::writeRaster()</a></code>, on
which this function relies.</p>
</td></tr>
<tr><td><code id="freqDT_+3A_digits">digits</code></td>
<td>
<p>Integer for rounding the cell values. Argument is
passed to <code><a href="base.html#topic+round">round</a></code></p>
</td></tr>
<tr><td><code id="freqDT_+3A_value">value</code></td>
<td>
<p>A single numeric, logical, or NA value. If supplied,
<code>freqDT()</code> will only count the number of cells with that
value.</p>
</td></tr>
<tr><td><code id="freqDT_+3A_usena">useNA</code></td>
<td>
<p>Character (one of &quot;no&quot;, &quot;ifany&quot;, or &quot;always&quot;). What
to do with NA values? See <code><a href="base.html#topic+table">table</a></code> for details.</p>
</td></tr>
<tr><td><code id="freqDT_+3A_merge">merge</code></td>
<td>
<p>Logical. If <code>TRUE</code> the list will be merged into
a single <code>data.table</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- raster(nrow = 18, ncol = 36)
r[] &lt;- runif(ncell(r))
r[1:5] &lt;- NA
r &lt;- r * r * r * 5
freqDT(r)

freqDT(r, value = 2)

s &lt;- stack(r, r*2, r*3)
freqDT(s, merge = TRUE)
</code></pre>

<hr>
<h2 id='subsDT'>Speedy Raster Value Substitution</h2><span id='topic+subsDT'></span>

<h3>Description</h3>

<p>A fast <code>data.table</code>-based alternative to
<code><a href="raster.html#topic+subs">raster::subs()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subsDT(x, dict, by = 1, which = 2, subsWithNA = TRUE, filename = "", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subsDT_+3A_x">x</code></td>
<td>
<p>Categorical <code>RasterLayer</code> with integer values giving
field class.</p>
</td></tr>
<tr><td><code id="subsDT_+3A_dict">dict</code></td>
<td>
<p>A <code>data.frame</code> or <code>data.table</code> with one (or
possibly more) columns corresponding to the values of cells in
<code>x</code> and one (or possibly more) columns giving the value
to which each value in <code>x</code> should be mapped.</p>
</td></tr>
<tr><td><code id="subsDT_+3A_by">by</code></td>
<td>
<p>Vector of one or possibly more integers or character
strings giving the indices or names of the column in
<code>dict</code> containing the categorical values in <code>x</code>.</p>
</td></tr>
<tr><td><code id="subsDT_+3A_which">which</code></td>
<td>
<p>Vector of one or possibly more integers or character
strings giving the indices or names of the column in
<code>dict</code> with the numerical values to which each value in
<code>by</code> should be mapped.</p>
</td></tr>
<tr><td><code id="subsDT_+3A_subswithna">subsWithNA</code></td>
<td>
<p>Logical. If <code>TRUE</code> values that are not
matched become NA.  If <code>FALSE</code>, they retain their
original value (which could also be <code>NA</code>). This latter
option is handy when you want to replace only one or a few
values. It cannot be used when <code>x</code> has multiple layers</p>
</td></tr>
<tr><td><code id="subsDT_+3A_filename">filename</code></td>
<td>
<p>Character string giving (optional) file name to
which the resultant raster should be written.</p>
</td></tr>
<tr><td><code id="subsDT_+3A_...">...</code></td>
<td>
<p>Additional arguments as for
<code><a href="raster.html#topic+writeRaster">raster::writeRaster()</a></code>, on
which this function relies.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>RasterLayer</code> object.
</p>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- raster(ncol = 10, nrow = 10)
r[] &lt;- round(runif(ncell(r)) * 10)
df &lt;- data.frame(id = 2:8, v = c(10, 10, 11, 11, 12:14))
x &lt;- subsDT(r, df)
x2 &lt;- subsDT(r, df, subsWithNA = FALSE)

df$v2 &lt;- df$v * 10
x3 &lt;- subsDT(r, df, which = 2:3)

s &lt;- stack(r, r*3)
names(s) &lt;- c("first", "second")
x4 &lt;- subsDT(s, df)
x5 &lt;- subsDT(s, df, which = 2:3)
</code></pre>

<hr>
<h2 id='zonalDT'>Speedy Zonal Statistics</h2><span id='topic+zonalDT'></span>

<h3>Description</h3>

<p>A fast <code>data.table</code>-based alternative to
<code><a href="raster.html#topic+zonal">raster::zonal()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zonalDT(x, z, fun = sum, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zonalDT_+3A_x">x</code></td>
<td>
<p>A <code>Raster*</code> to the totality of whose values
<code>fun</code> should be applied within each zone.</p>
</td></tr>
<tr><td><code id="zonalDT_+3A_z">z</code></td>
<td>
<p>A categorical <code>RasterLayer</code> with codes representing
zones.</p>
</td></tr>
<tr><td><code id="zonalDT_+3A_fun">fun</code></td>
<td>
<p>A name or character string giving the function to be
applied to summarize the values by zone. It needs to return a
single (or at least a length-one vector). If <code>x</code> might
contain any <code>NA</code> values, it should be equipped to handle
them. For large rasters, this function needs to be one, like
<code>sum()</code> whose value is the same even if carried out in a
two-stage application (i.e. first to data subsets and then to
the results of those subset applications).</p>
</td></tr>
<tr><td><code id="zonalDT_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. If <code>TRUE</code>, <code>NA</code> values in <code>x</code>
are ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.table</code> with a summary value for each zone.
</p>


<h3>Author(s)</h3>

<p>Joshua O'Brien
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- raster(ncols = 10, nrows = 10)
r[] &lt;- runif(ncell(r)) * 1:ncell(r)
z &lt;- r
z[] &lt;- rep(1:5, each = 20)
## for big files, use a character value rather than a function
zonalDT(r, z, "sum")

## for smaller files you can also provide a function
zonalDT(r, z, mean)
zonalDT(r, z, min)

## multiple layers
zonalDT(stack(r, r*10), z, "sum")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ggtext</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggtext}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#element_markdown'><p>Theme element that enables markdown text.</p></a></li>
<li><a href='#element_textbox'><p>Theme element that enables markdown text in a box.</p></a></li>
<li><a href='#geom_richtext'><p>Richtext labels</p></a></li>
<li><a href='#geom_textbox'><p>Draw boxes containing text</p></a></li>
<li><a href='#ggtext'><p>Improved text rendering support for ggplot2</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Improved Text Rendering Support for 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A 'ggplot2' extension that enables the rendering of
    complex formatted plot labels (titles, subtitles, facet labels,
    axis labels, etc.). Text boxes with automatic word wrap are also
    supported.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://wilkelab.org/ggtext/">https://wilkelab.org/ggtext/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wilkelab/ggtext/issues">https://github.com/wilkelab/ggtext/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 3.3.0), grid, gridtext, rlang, scales</td>
</tr>
<tr>
<td>Suggests:</td>
<td>cowplot, dplyr, glue, knitr, rmarkdown, testthat, vdiffr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-15 13:50:50 UTC; brentonw</td>
</tr>
<tr>
<td>Author:</td>
<td>Claus O. Wilke <a href="https://orcid.org/0000-0002-7470-9261"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Brenton M. Wiernik
    <a href="https://orcid.org/0000-0001-9560-6336"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]
    (@bmwiernik)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Brenton M. Wiernik &lt;brenton@wiernik.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-16 11:36:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='element_markdown'>Theme element that enables markdown text.</h2><span id='topic+element_markdown'></span>

<h3>Description</h3>

<p>Theme element that enables markdown text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_markdown(
  family = NULL,
  face = NULL,
  size = NULL,
  colour = NULL,
  fill = NULL,
  box.colour = NULL,
  linetype = NULL,
  linewidth = NULL,
  hjust = NULL,
  vjust = NULL,
  halign = NULL,
  valign = NULL,
  angle = NULL,
  lineheight = NULL,
  margin = NULL,
  padding = NULL,
  r = NULL,
  color = NULL,
  box.color = NULL,
  align_widths = NULL,
  align_heights = NULL,
  rotate_margins = NULL,
  debug = FALSE,
  inherit.blank = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_markdown_+3A_family">family</code></td>
<td>
<p>Font family</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_face">face</code></td>
<td>
<p>Font face</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_size">size</code></td>
<td>
<p>Font size</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_colour">colour</code>, <code id="element_markdown_+3A_color">color</code></td>
<td>
<p>Text color</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_fill">fill</code></td>
<td>
<p>Fill color of the enclosing box</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_box.colour">box.colour</code>, <code id="element_markdown_+3A_box.color">box.color</code></td>
<td>
<p>Line color of the enclosing box (if different from the text color)</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_linetype">linetype</code></td>
<td>
<p>Line type of the enclosing box (like <code>lty</code> in base R)</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_linewidth">linewidth</code></td>
<td>
<p>Line width of the enclosing box (measured in mm, just like <code>size</code> in
<code><a href="ggplot2.html#topic+element">ggplot2::element_line()</a></code>).</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_hjust">hjust</code></td>
<td>
<p>Horizontal justification</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_vjust">vjust</code></td>
<td>
<p>Vertical justification</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_halign">halign</code></td>
<td>
<p>Horizontal justification</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_valign">valign</code></td>
<td>
<p>Vertical justification</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_angle">angle</code></td>
<td>
<p>Angle (in degrees)</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_lineheight">lineheight</code></td>
<td>
<p>Line height</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_padding">padding</code>, <code id="element_markdown_+3A_margin">margin</code></td>
<td>
<p>Padding and margins around the text box.
See <code><a href="gridtext.html#topic+richtext_grob">gridtext::richtext_grob()</a></code> for details.</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_r">r</code></td>
<td>
<p>Unit value specifying the corner radius of the box</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_align_widths">align_widths</code>, <code id="element_markdown_+3A_align_heights">align_heights</code></td>
<td>
<p>Should multiple elements be aligned by their
widths or height? See <code><a href="gridtext.html#topic+richtext_grob">gridtext::richtext_grob()</a></code> for details.</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_rotate_margins">rotate_margins</code></td>
<td>
<p>Should margins get rotated in frame with rotated text?
If <code>TRUE</code>, the margins are applied relative to the text direction. If <code>FALSE</code>,
the margins are applied relative to the plot direction, i.e., the top margin,
for example, is always placed above the text label, regardless of the direction
in which the text runs. The default is <code>FALSE</code>, which mimics the behavior of
<code>element_text()</code>.</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_debug">debug</code></td>
<td>
<p>Draw a debugging box around each label</p>
</td></tr>
<tr><td><code id="element_markdown_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+element">ggplot2::margin()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 theme element that can be used inside a <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>
call.
</p>


<h3>See Also</h3>

<p><code><a href="gridtext.html#topic+richtext_grob">gridtext::richtext_grob()</a></code>, <code><a href="#topic+element_textbox">element_textbox()</a></code>, <code><a href="#topic+geom_richtext">geom_richtext()</a></code>
</p>

<hr>
<h2 id='element_textbox'>Theme element that enables markdown text in a box.</h2><span id='topic+element_textbox'></span><span id='topic+element_textbox_simple'></span>

<h3>Description</h3>

<p>The theme elements <code>element_textbox()</code> and <code>element_textbox_simple()</code> enable Markdown text in a box, with
word wrap. Both functions implement exactly the same functionality; they only differ in the default values
for the various element values. <code>element_textbox()</code> sets all values that are not specified to <code>NULL</code>, as is
the usual practice in ggplot2 themes. These missing values are usually completed by inheritance from
parent theme elements. By contrast, <code>element_textbox_simple()</code> provides meaningful default values for many of
the values that are not usually defined in ggplot2 themes. This makes it simpler to use a textbox element
in the context of an existing theme.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_textbox(
  family = NULL,
  face = NULL,
  size = NULL,
  colour = NULL,
  fill = NULL,
  box.colour = NULL,
  linetype = NULL,
  linewidth = NULL,
  hjust = NULL,
  vjust = NULL,
  halign = NULL,
  valign = NULL,
  lineheight = NULL,
  margin = NULL,
  padding = NULL,
  width = NULL,
  height = NULL,
  minwidth = NULL,
  maxwidth = NULL,
  minheight = NULL,
  maxheight = NULL,
  r = NULL,
  orientation = NULL,
  color = NULL,
  box.color = NULL,
  debug = FALSE,
  inherit.blank = FALSE
)

element_textbox_simple(
  family = NULL,
  face = NULL,
  size = NULL,
  colour = NULL,
  fill = NA,
  box.colour = NULL,
  linetype = 0,
  linewidth = 0.5,
  hjust = 0.5,
  vjust = 0.5,
  halign = 0,
  valign = 1,
  lineheight = 1.2,
  margin = ggplot2::margin(0, 0, 0, 0),
  padding = ggplot2::margin(0, 0, 0, 0),
  width = grid::unit(1, "npc"),
  height = NULL,
  minwidth = NULL,
  maxwidth = NULL,
  minheight = NULL,
  maxheight = NULL,
  r = grid::unit(0, "pt"),
  orientation = "upright",
  color = NULL,
  box.color = NULL,
  debug = FALSE,
  inherit.blank = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_textbox_+3A_family">family</code></td>
<td>
<p>Font family</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_face">face</code></td>
<td>
<p>Font face</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_size">size</code></td>
<td>
<p>Font size (in pt)</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_colour">colour</code>, <code id="element_textbox_+3A_color">color</code></td>
<td>
<p>Text color</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_fill">fill</code></td>
<td>
<p>Fill color of the enclosing box</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_box.colour">box.colour</code>, <code id="element_textbox_+3A_box.color">box.color</code></td>
<td>
<p>Line color of the enclosing box (if different from the text color)</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_linetype">linetype</code></td>
<td>
<p>Line type of the enclosing box (like <code>lty</code> in base R)</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_linewidth">linewidth</code></td>
<td>
<p>Line width of the enclosing box (measured in mm, just like <code>size</code> in
<code><a href="ggplot2.html#topic+element">ggplot2::element_line()</a></code>).</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_hjust">hjust</code></td>
<td>
<p>Horizontal justification</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_vjust">vjust</code></td>
<td>
<p>Vertical justification</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_halign">halign</code></td>
<td>
<p>Horizontal justification</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_valign">valign</code></td>
<td>
<p>Vertical justification</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_lineheight">lineheight</code></td>
<td>
<p>Line height, in multiples of the font size</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_padding">padding</code>, <code id="element_textbox_+3A_margin">margin</code></td>
<td>
<p>Padding and margins around the text box.
See <code><a href="gridtext.html#topic+textbox_grob">gridtext::textbox_grob()</a></code> for details.</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_width">width</code>, <code id="element_textbox_+3A_height">height</code></td>
<td>
<p>Unit objects specifying the width and height
of the textbox, as in <code><a href="gridtext.html#topic+textbox_grob">gridtext::textbox_grob()</a></code>.</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_minwidth">minwidth</code>, <code id="element_textbox_+3A_minheight">minheight</code>, <code id="element_textbox_+3A_maxwidth">maxwidth</code>, <code id="element_textbox_+3A_maxheight">maxheight</code></td>
<td>
<p>Min and max values for width and height.
Set to NULL to impose neither a minimum nor a maximum.</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_r">r</code></td>
<td>
<p>Unit value specifying the corner radius of the box</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_orientation">orientation</code></td>
<td>
<p>Orientation of the text box. See <code><a href="gridtext.html#topic+textbox_grob">gridtext::textbox_grob()</a></code> for details.</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_debug">debug</code></td>
<td>
<p>Not implemented.</p>
</td></tr>
<tr><td><code id="element_textbox_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+element">ggplot2::margin()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 theme element that can be used inside a <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>
call.
</p>


<h3>See Also</h3>

<p><code><a href="gridtext.html#topic+textbox_grob">gridtext::textbox_grob()</a></code>, <code><a href="#topic+element_markdown">element_markdown()</a></code>, <code><a href="#topic+geom_textbox">geom_textbox()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

ggplot(mtcars, aes(disp, mpg)) + 
geom_point() +
  labs(
    title =
    "&lt;b&gt;&lt;span style = 'font-size:13pt'&gt;Fuel economy vs. engine displacement&lt;/span&gt;&lt;/b&gt;&lt;br&gt;
    Lorem ipsum *dolor sit amet,* consectetur adipiscing elit, **sed do eiusmod tempor
    incididunt** ut labore et dolore magna aliqua. &lt;span style = 'color:red;'&gt;Ut enim ad
    minim veniam,&lt;/span&gt; quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
    commodo consequat.",
    x = "displacement (in&lt;sup&gt;3&lt;/sup&gt;)",
    y = "Miles per gallon (mpg)&lt;br&gt;&lt;span style = 'font-size:8pt'&gt;A measure of
    the car's fuel efficiency.&lt;/span&gt;"
  ) +
  theme(
    plot.title.position = "plot",
    plot.title = element_textbox_simple(
      size = 10,
      padding = margin(5.5, 5.5, 5.5, 5.5),
      margin = margin(0, 0, 5.5, 0),
      fill = "cornsilk"
    ),
    axis.title.x = element_textbox_simple(
      width = NULL,
      padding = margin(4, 4, 4, 4),
      margin = margin(4, 0, 0, 0),
      linetype = 1,
      r = grid::unit(8, "pt"),
      fill = "azure1"
    ),
    axis.title.y = element_textbox_simple(
      hjust = 0,
      orientation = "left-rotated",
      minwidth = unit(1, "in"),
      maxwidth = unit(2, "in"),
      padding = margin(4, 4, 2, 4),
      margin = margin(0, 0, 2, 0),
      fill = "lightsteelblue1"
    )
  )
</code></pre>

<hr>
<h2 id='geom_richtext'>Richtext labels</h2><span id='topic+geom_richtext'></span><span id='topic+GeomRichText'></span><span id='topic+GeomRichtext'></span><span id='topic+GeomTextBox'></span>

<h3>Description</h3>

<p>This geom draws text labels similar to <code><a href="ggplot2.html#topic+geom_text">ggplot2::geom_label()</a></code>, but formatted
using basic markdown/html. Parameter and aesthetic names follow the conventions
of <code><a href="ggplot2.html#topic+geom_text">ggplot2::geom_label()</a></code>, and therefore the appearance of the frame around
the label is controlled with <code>label.colour</code>, <code>label.padding</code>, <code>label.margin</code>,
<code>label.size</code>, <code>label.r</code>, even though the same parameters are called <code>box.colour</code>,
<code>box.padding</code>, <code>box.margin</code>, <code>box.size</code>, and <code>box.r</code> in <code><a href="#topic+geom_textbox">geom_textbox()</a></code>. Most
styling parameters can be used as aesthetics and can be applied separately to
each text label drawn. The exception is styling parameters that are specified
as grid units (e.g., <code>label.padding</code> or <code>label.r</code>), which can only be specified
for all text labels at once. See examples for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_richtext(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  nudge_x = 0,
  nudge_y = 0,
  label.padding = unit(c(0.25, 0.25, 0.25, 0.25), "lines"),
  label.margin = unit(c(0, 0, 0, 0), "lines"),
  label.r = unit(0.15, "lines"),
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_richtext_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function. Cannot be jointy specified with
<code>nudge_x</code> or <code>nudge_y</code>.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_nudge_x">nudge_x</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge labels by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge labels by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_label.margin">label.margin</code></td>
<td>
<p>Unit vector of length four specifying the margin
outside the text label.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_richtext_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer that can be added to a plot created with
<code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_richtext()</code> understands the following aesthetics (required
aesthetics are in bold; select aesthetics are annotated):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code> Default color of label text and label outline.
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>fill</code> Default fill color of label background.
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>label.colour</code> Color of label outline. Overrides <code>colour</code>.
</p>
</li>
<li> <p><code>label.size</code> Width of label outline.
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>size</code> Default font size of label text.
</p>
</li>
<li> <p><code>text.colour</code> Color of label text. Overrides <code>colour</code>.
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+geom_textbox">geom_textbox()</a></code>, <code><a href="#topic+element_markdown">element_markdown()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

df &lt;- data.frame(
  label = c(
    "Some text **in bold.**",
    "Linebreaks&lt;br&gt;Linebreaks&lt;br&gt;Linebreaks",
    "*x*&lt;sup&gt;2&lt;/sup&gt; + 5*x* + *C*&lt;sub&gt;*i*&lt;/sub&gt;",
    "Some &lt;span style='color:blue'&gt;blue text **in bold.**&lt;/span&gt;&lt;br&gt;And *italics text.*&lt;br&gt;
      And some &lt;span style='font-size:18pt; color:black'&gt;large&lt;/span&gt; text."
  ),
  x = c(.2, .1, .5, .9),
  y = c(.8, .4, .1, .5),
  hjust = c(0.5, 0, 0, 1),
  vjust = c(0.5, 1, 0, 0.5),
  angle = c(0, 0, 45, -45),
  color = c("black", "blue", "black", "red"),
  fill = c("cornsilk", "white", "lightblue1", "white")
)

ggplot(df) +
  aes(
    x, y, label = label, angle = angle, color = color, fill = fill,
    hjust = hjust, vjust = vjust
  ) +
  geom_richtext() +
  geom_point(color = "black", size = 2) +
  scale_color_identity() +
  scale_fill_identity() +
  xlim(0, 1) + ylim(0, 1)
  
# labels without frame or background are also possible
ggplot(df) +
  aes(
    x, y, label = label, angle = angle, color = color,
    hjust = hjust, vjust = vjust
  ) +
  geom_richtext(
    fill = NA, label.color = NA, # remove background and outline
    label.padding = grid::unit(rep(0, 4), "pt") # remove padding
  ) +
  geom_point(color = "black", size = 2) +
  scale_color_identity() +
  xlim(0, 1) + ylim(0, 1)
</code></pre>

<hr>
<h2 id='geom_textbox'>Draw boxes containing text</h2><span id='topic+geom_textbox'></span>

<h3>Description</h3>

<p>Draw boxes of defined width and height containing word-wrapped text. Multiple
boxes can be drawn at once. Most styling parameters can be used as aesthetics
and can be applied separately to each text box drawn. The exception is styling
parameters that are specified as grid units (e.g., <code>box.padding</code> or <code>box.r</code>),
which can only be specified for all text boxes at once. See examples for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textbox(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  nudge_x = 0,
  nudge_y = 0,
  box.padding = unit(c(5.5, 5.5, 5.5, 5.5), "pt"),
  box.margin = unit(c(0, 0, 0, 0), "pt"),
  box.r = unit(5.5, "pt"),
  width = unit(2, "inch"),
  minwidth = NULL,
  maxwidth = NULL,
  height = NULL,
  minheight = NULL,
  maxheight = NULL,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textbox_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_">aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function. Cannot be jointy specified with
<code>nudge_x</code> or <code>nudge_y</code>.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_nudge_x">nudge_x</code>, <code id="geom_textbox_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge text boxes by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_box.padding">box.padding</code></td>
<td>
<p>Unit vector of length four specifying the padding
inside the text box.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_box.margin">box.margin</code></td>
<td>
<p>Unit vector of length four specifying the margin
outside the text box.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_box.r">box.r</code></td>
<td>
<p>Unit vector of length one specifying the radius of the
box.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_width">width</code>, <code id="geom_textbox_+3A_height">height</code></td>
<td>
<p>Unit values specifying the width and height of
the text box (including margins!). If <code>height = NULL</code> (the default),
the height is chosen automatically to accommodate all the text.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_minwidth">minwidth</code>, <code id="geom_textbox_+3A_maxwidth">maxwidth</code>, <code id="geom_textbox_+3A_minheight">minheight</code>, <code id="geom_textbox_+3A_maxheight">maxheight</code></td>
<td>
<p>Unit values specifying
the minimum and maximum values for <code>width</code> and <code>height</code>, respectively.
If set to <code>NULL</code>, are not enforced.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textbox_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer that can be added to a plot created with
<code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textbox()</code> understands the following aesthetics (required
aesthetics are in bold; select aesthetics are annotated):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>box.colour</code> Color of box outline. Overrides <code>colour</code>.
</p>
</li>
<li> <p><code>box.size</code> Width of box outline.
</p>
</li>
<li> <p><code>colour</code> Default color of box text and box outline.
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>fill</code> Default fill color of box background.
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>halign</code> Horizontal alignment of text inside box.
</p>
</li>
<li> <p><code>hjust</code> Horizontal alignment of box.
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>orientation</code> One of <code>"upright"</code>, <code>"left-rotated"</code>,
<code>"right-rotated"</code>, <code>"inverted"</code>.
</p>
</li>
<li> <p><code>size</code> Default font size of box text.
</p>
</li>
<li> <p><code>text.colour</code> Color of box text. Overrides <code>colour</code>.
</p>
</li>
<li> <p><code>valign</code> Vertical alignment of text inside box.
</p>
</li>
<li> <p><code>vjust</code> Vertical alignment of box.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+geom_richtext">geom_richtext()</a></code>, <code><a href="#topic+element_textbox">element_textbox()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

df &lt;- data.frame(
  label = rep("Lorem ipsum dolor **sit amet,** consectetur adipiscing elit,
    sed do *eiusmod tempor incididunt* ut labore et dolore magna
    aliqua.", 2),
  x = c(0, .6),
  y = c(1, .6),
  hjust = c(0, 0),
  vjust = c(1, 0),
  orientation = c("upright", "right-rotated"),
  color = c("black", "blue"),
  fill = c("cornsilk", "white")
)

ggplot(df) +
  aes(
    x, y, label = label, color = color, fill = fill,
    hjust = hjust, vjust = vjust,
    orientation = orientation
  ) +
  geom_textbox(width = unit(0.4, "npc")) +
  geom_point(color = "black", size = 2) +
  scale_discrete_identity(aesthetics = c("color", "fill", "orientation")) +
  xlim(0, 1) + ylim(0, 1)
</code></pre>

<hr>
<h2 id='ggtext'>Improved text rendering support for ggplot2</h2><span id='topic+ggtext'></span>

<h3>Description</h3>

<p>The ggtext package implements both geoms (<code><a href="#topic+geom_richtext">geom_richtext()</a></code>, <code><a href="#topic+geom_textbox">geom_textbox()</a></code>)
and theme elements (<code><a href="#topic+element_markdown">element_markdown()</a></code>, <code><a href="#topic+element_textbox">element_textbox()</a></code>) for improved
text rendering with ggplot2.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

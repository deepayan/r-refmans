<!DOCTYPE html><html><head><title>Help for package GACFF</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {GACFF}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#GACFF-package'>
<p>Genetic Similarity in User-Based Collaborative Filtering</p></a></li>
<li><a href='#Genetic'>
<p>The genetic algorithm for finding similarities between users.</p></a></li>
<li><a href='#ItemSelect'>
<p>A set of Items id for recommending to an active user.</p></a></li>
<li><a href='#meanR.Results'>
<p>Average of results for all active users.</p></a></li>
<li><a href='#NewKNN'>
<p>Nearest Neighbors.</p></a></li>
<li><a href='#Pearson'>
<p>Pearson method</p></a></li>
<li><a href='#plotResults'>
<p>Methods for Results objects.</p></a></li>
<li><a href='#Prediction'>
<p>prediction function</p></a></li>
<li><a href='#Results'>
<p>Results of all active users.</p></a></li>
<li><a href='#Similarity_Pearson'>
<p>Similarity between users in Pearson method.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Genetic Similarity in User-Based Collaborative Filtering</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-12-08</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), graphics, stats, utils</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Author:</td>
<td>Farimah Houshmand Nanehkaran, Seyed Mohammad Reza Lajevardi &lt;R.Lajevardi@iaukashan.ac.ir&gt;, Mahmoud Mahlouji Bidgholi &lt;m.mahlouji@iaukashan.ac.ir&gt; </td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The genetic algorithm can be used directly to find the similarity of users and more effectively to increase the efficiency of the collaborative filtering method.
  By identifying the nearest neighbors to the active user, before the genetic algorithm, and by identifying suitable starting points, an effective method for user-based collaborative filtering method has been developed.
  This package uses an optimization algorithm (continuous genetic algorithm) to directly find the optimal similarities between active users (users for whom current recommendations are made) and others.
  First, by determining the nearest neighbor and their number, the number of genes in a chromosome is determined. Each gene represents the neighbor's similarity to the active user.
  By estimating the starting points of the genetic algorithm, it quickly converges to the optimal solutions.
  The positive point is the independence of the genetic algorithm on the number of data that for big data is an effective help in solving the problem.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-12-17 02:17:58 UTC; farimah</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-12-20 13:50:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='GACFF-package'>
Genetic Similarity in User-Based Collaborative Filtering
</h2><span id='topic+GACFF-package'></span>

<h3>Description</h3>

<p>The genetic algorithm can be used directly to find the similarity of users and more effectively to increase the efficiency of the collaborative filtering method.
  By identifying the nearest neighbors to the active user, before the genetic algorithm, and by identifying suitable starting points, an effective method for user-based collaborative filtering method has been developed.
  This package uses an optimization algorithm (continuous genetic algorithm) to directly find the optimal similarities between active users (users for whom current recommendations are made) and others.
  First, by determining the nearest neighbor and their number, the number of genes in a chromosome is determined. Each gene represents the neighbor's similarity to the active user.
  By estimating the starting points of the genetic algorithm, it quickly converges to the optimal solutions.
  The positive point is the independence of the genetic algorithm on the number of data that for big data is an effective help in solving the problem.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> GACFF</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Genetic Similarity in User-Based Collaborative Filtering</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2019-12-08</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.0.0), graphics, stats, utils</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Farimah Houshmand Nanehkaran, Seyed Mohammad Reza Lajevardi &lt;R.Lajevardi@iaukashan.ac.ir&gt;, Mahmoud Mahlouji Bidgholi &lt;m.mahlouji@iaukashan.ac.ir&gt; </td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> The genetic algorithm can be used directly to find the similarity of users and more effectively to increase the efficiency of the collaborative filtering method.
  By identifying the nearest neighbors to the active user, before the genetic algorithm, and by identifying suitable starting points, an effective method for user-based collaborative filtering method has been developed.
  This package uses an optimization algorithm (continuous genetic algorithm) to directly find the optimal similarities between active users (users for whom current recommendations are made) and others.
  First, by determining the nearest neighbor and their number, the number of genes in a chromosome is determined. Each gene represents the neighbor's similarity to the active user.
  By estimating the starting points of the genetic algorithm, it quickly converges to the optimal solutions.
  The positive point is the independence of the genetic algorithm on the number of data that for big data is an effective help in solving the problem.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 7.0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
GACFF-package           Genetic Similarity in User-Based Collaborative
                        Filtering
Genetic                 The genetic algorithm for finding similarities
                        between users.
ItemSelect              A set of Items id for recommending to an active
                        user.
NewKNN                  Nearest Neighbors.
Pearson                 Pearson method
Prediction              prediction function
Results                 Results of all active users.
Similarity_Pearson      Similarity between users in Pearson method.
meanR.Results           Average of results for all active users.
plotResults             Methods for Results objects.
</pre>
<p>Genetic-based recommender systems.
</p>
<p>Finding the Nearest Neighbors and Using Them in the Genetic-Based Collaborative Filtering Recommender System.
</p>


<h3>Author(s)</h3>

<p>Farimah Houshmand Nanehkaran, Seyed Mohammad Reza Lajevardi &lt;R.Lajevardi@iaukashan.ac.ir&gt;, Mahmoud Mahlouji Bidgholi &lt;m.mahlouji@iaukashan.ac.ir&gt; 
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Bobadilla, J., Ortega, F., Hernando, A. and Alcal√°, J. (2011). <em>Improving collaborative filtering recommender system results and performance using genetic algorithms</em>. Knowledge-based systems, vol. 24, no. 8, pp. 1310-1316.
</p>
<p>Ben-Shimon, D., Rokach, L. and Shapira, B. (2016). <em>An ensemble method for top-N recommendations from the SVD</em>. Expert Systems with Applications, vol. 64, pp.84-92.
</p>
<p>Kang, Z., Peng, C. and Cheng, Q. (2016). <em>Top-n recommender system via matrix completion</em>. In Thirtieth AAAI Conference on Artificial Intelligence.
</p>
<p>Qian, Y., Zhang, Y., Ma, X., Yu, H. and Peng, L. (2019). <em>EARS: Emotion-aware recommender system based on hybrid information fusion</em>. Information Fusion, vol. 46, pp.141-146.
</p>
<p>Xia, B., Li, T., Li, Q. and Zhang, H. (2018). <em>Noise-tolerance matrix completion for location recommendation</em>. Data Mining and Knowledge Discovery, vol. 32, no. 1, pp.1-24.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

active_users &lt;- c(1:dim(ratings)[2])
##1
sim.Pearson  &lt;- Similarity_Pearson (ratings, active_user=6, 
                                   near_user=c(1:dim(ratings)[2]))
##2
Pearson.out  &lt;- Pearson (ratings, active_user=6, Threshold_KNN=4)
##3
predict      &lt;-Prediction (ratings, active_user=6, 
                      near_user=Pearson.out$near_user_Pearson, 
                      sim_x=Pearson.out$sim_Pearson, 
                      KNN=length(Pearson.out$sim_Pearson))
##4
ItemSelect (ratings, active_user=6, pre_x=predict)
##5
NewKNN.out  &lt;- NewKNN (ratings, active_user=6, Threshold_KNN=4,
                      max_scour=5, min_scour=1)
##6
Genetic.out &lt;- Genetic (ratings, active_user=6, 
                        near_user=NewKNN.out$near_user, 
                        Threshold_KNN=4, max_scour=5, min_scour=1,
                        PopSize=100, MaxIteration=50, CrossPercent=70, 
                        MutatPercent=20)
##7
Results.out &lt;- Results(ratings, active_users, Threshold_KNN=4, max_scour=5, 
                     min_scour=1, PopSize=100, MaxIteration=50, 
                     CrossPercent=70, MutatPercent=20)
##8
meanR.Results.out &lt;- meanR.Results (obj_Results=Results.out)
##9
plotResults(active_users, Results.out, xlab = "Iteration", ylab = "MAE",
                main = "MAE (New KNN+GA) in CF Recommender Systems" )
</code></pre>

<hr>
<h2 id='Genetic'>
The genetic algorithm for finding similarities between users.
</h2><span id='topic+Genetic'></span>

<h3>Description</h3>

<p>Finding users' similarity by continuous genetic algorithm directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Genetic(ratings, active_user, near_user, Threshold_KNN, max_scour, min_scour,
         PopSize=100, MaxIteration=50, CrossPercent=70, MutatPercent=20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Genetic_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_active_user">active_user</code></td>
<td>

<p>The id of an active user as an integer greater than zero (for example active_user&lt;-6).
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_near_user">near_user</code></td>
<td>

<p>The number of neighbor users that obtained from <code>"NewKNN"</code> for the active user.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_threshold_knn">Threshold_KNN</code></td>
<td>

<p>Maximum number of neighbors.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_max_scour">max_scour</code></td>
<td>

<p>The maximum range of ratings.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_min_scour">min_scour</code></td>
<td>

<p>The minimum range of ratings.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_popsize">PopSize</code></td>
<td>

<p>Population size (Number of chromosomes) in <code>Genetic</code> algorithm.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_maxiteration">MaxIteration</code></td>
<td>

<p>Number of iterations in <code>Genetic</code> algorithm.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_crosspercent">CrossPercent</code></td>
<td>

<p>Percentage of the <code>Genetic</code> algorithm population that participates in the Single-point 
crossover operator to generate new offspring.
</p>
</td></tr>
<tr><td><code id="Genetic_+3A_mutatpercent">MutatPercent</code></td>
<td>

<p>Percentage of the <code>Genetic</code> algorithm population that participates in the mutation.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The fitness function of the genetic algorithm determines the optimality of the neighbor's similarity to the active user. The fitness function is considered the MAE of the RS. The MAE is obtained by comparing the real ratings of users with the predicted ratings that are calculated according to the similarity obtained by the <code>Genetic</code> algorithm.
</p>
<p>The steps of the <code>Genetic</code> algorithm are:
</p>
<p>Selection. Selection is based on elitism. Using this operator, the best member of each population survives and will be present in the next population. In other words, the member with the highest match will automatically be transferred to the new population (elitist <code class="reqn">selection=10\%</code> of the best individuals from each generation). The application of elitism in the genetic algorithm usually improves its efficiency.
</p>
<p>Crossover. Single-point crossover technique is used. The crossover operator is used to produce children. A weight coefficient (crossover probability) of between 0 and 1 (0.8) is considered equal to the length of the parent, and by using follow formulas, two new chromosomes or two children are created.
</p>
<p style="text-align: center;"><code class="reqn">y1=\alpha * x1 + (1-\alpha) * x2</code>
</p>

<p style="text-align: center;"><code class="reqn">y2=\alpha * x2 + (1-\alpha) * x1</code>
</p>

<p><code class="reqn">x1</code> and <code class="reqn">x2</code> are decimal values that represent the parent chromosome. <code class="reqn">\alpha</code> is the weighting factor and, <code class="reqn">y1</code> and <code class="reqn">y2</code> are the children's chromosomes resulting from the parent compound.
</p>
<p>Mutation. Single-point mutation technique is used to introduce diversity. The mutation probability is 0.02. The Gaussian mutation operator is implemented. First, a chromosome is randomly selected from the population, and then one or more of its components is changed according to the Gaussian function using follow formula.
</p>
<p style="text-align: center;"><code class="reqn">y1= x1 + r1 * N(0,1)</code>
</p>

<p><code class="reqn">x1</code> is the similarity value that represents the parent chromosome, <code class="reqn">r1</code> is a random number in the range of 0 and 1 (0.02). N(0,1) is a random number distributed by using the Gaussian distribution.
</p>
<p>The genetic algorithm stops when an individual in the population has a fitness value less than a constant value (for example 0.5).
</p>


<h3>Value</h3>

<p>An object of class <code>"Genetic"</code>, a list with components:
</p>
<table>
<tr><td><code>call</code></td>
<td>

<p>The call used.
</p>
</td></tr>
<tr><td><code>sim_GA</code></td>
<td>

<p>Similarity obtained from the <code>Genetic</code> algorithm as much as the number of neighbors.
</p>
</td></tr>
<tr><td><code>pre_GA</code></td>
<td>

<p>Predicted active user ratings for all items.
</p>
</td></tr>
<tr><td><code>item_GA</code></td>
<td>

<p>A set of best-predicted items for the active user.
</p>
</td></tr>
<tr><td><code>save_MAE_GA</code></td>
<td>

<p>A set of MAEs obtained from each iteration of the <code>Genetic</code> algorithm.
</p>
</td></tr>
<tr><td><code>time_Genetic</code></td>
<td>

<p>The elapsed time of <code>Genetic</code> algorithm.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Farimah Houshmand Nanehkaran
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Bobadilla, J., Ortega, F., Hernando, A. and Alcala, J. (2011). <em>Improving collaborative filtering recommender system results and performance using genetic algorithms</em>. Knowledge-based systems, vol. 24, no. 8, pp. 1310-1316.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

NewKNN.out  &lt;- NewKNN (ratings, active_user=6, Threshold_KNN=4,
                      max_scour=5, min_scour=1)
                      
Genetic.out &lt;- Genetic (ratings, active_user=6, 
                        near_user=NewKNN.out$near_user, 
                        Threshold_KNN=4, max_scour=5, min_scour=1,
                        PopSize=100, MaxIteration=50, CrossPercent=70, 
                        MutatPercent=20)
</code></pre>

<hr>
<h2 id='ItemSelect'>
A set of Items id for recommending to an active user.
</h2><span id='topic+ItemSelect'></span>

<h3>Description</h3>

<p>Selecting the best items to recommend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ItemSelect(ratings, active_user, pre_x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ItemSelect_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="ItemSelect_+3A_active_user">active_user</code></td>
<td>

<p>The id of an active user as an integer greater than zero (for example active_user&lt;-6).
</p>
</td></tr>
<tr><td><code id="ItemSelect_+3A_pre_x">pre_x</code></td>
<td>

<p>A set of predicted ratings for all items not rated by the active user.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Items selecting and their order depends on the method (Pearson, NewKNN, Genetic).
</p>


<h3>Value</h3>

<table>
<tr><td><code>item_x</code></td>
<td>

<p>A set of item identifiers recommended to the active user.
</p>
</td></tr>
</table>


<h3>References</h3>

<p>Nilashi, M., Ibrahim, O. and Bagherifard, K. (2018). <em>A recommender system based on collaborative filtering using ontology and dimensionality reduction techniques</em>. Expert Systems with Applications, vol. 92, pp. 507-520.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)
                    
Pearson.out  &lt;- Pearson (ratings, active_user=6, Threshold_KNN=4)

predict      &lt;-Prediction (ratings, active_user=6, 
                      near_user=Pearson.out$near_user_Pearson, 
                      sim_x=Pearson.out$sim_Pearson, 
                      KNN=length(Pearson.out$sim_Pearson))
                      
ItemSelect (ratings, active_user=6, pre_x=predict)
</code></pre>

<hr>
<h2 id='meanR.Results'>
Average of results for all active users.
</h2><span id='topic+meanR.Results'></span>

<h3>Description</h3>

<p>Average of MAE and elapsed time for all active users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanR.Results(obj_Results)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanR.Results_+3A_obj_results">obj_Results</code></td>
<td>
<p>An object of class <code>"Results"</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Due to the difference in the results of each active user, the average of all active users is calculated.
</p>


<h3>Value</h3>

<p>An object of class <code>"meanR.Results"</code>, a list with components:
</p>
<table>
<tr><td><code>call</code></td>
<td>

<p>The call used.
</p>
</td></tr>
<tr><td><code>mean_MAE_Pearson</code></td>
<td>

<p>Average of MAE obtained from the <code>"Pearson"</code> method for all active users.
</p>
</td></tr>
<tr><td><code>mean_MAE_NewKNN</code></td>
<td>

<p>Average of MAE obtained from the <code>"NewKNN"</code> method for all active users.
</p>
</td></tr>
<tr><td><code>mean_MAE_Genetic</code></td>
<td>

<p>Average of MAE obtained from the <code>"Genetic"</code> method for all active users.
</p>
</td></tr>
<tr><td><code>diff_MAE_GA_Pearson</code></td>
<td>

<p>The difference of MAE in the <code>"Pearson"</code> method and <code>"Genetic"</code> algorithm.
</p>
</td></tr>
<tr><td><code>mean_Time_Pearson</code></td>
<td>

<p>Average of the elapsed time of the <code>"Pearson"</code> method for all active users.
</p>
</td></tr>
<tr><td><code>mean_Time_NewKNN</code></td>
<td>

<p>Average of the elapsed time of the <code>"NewKNN"</code> method for all active users.
</p>
</td></tr>
<tr><td><code>mean_Time_GA</code></td>
<td>

<p>Average of the elapsed time of the <code>"Genetic"</code> method for all active users.
</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

active_users &lt;- c(1:dim(ratings)[2])

Results.out &lt;- Results(ratings, active_users, Threshold_KNN=4, max_scour=5, 
                     min_scour=1, PopSize=100, MaxIteration=50, 
                     CrossPercent=70, MutatPercent=20)
                     
meanR.Results.out &lt;- meanR.Results (obj_Results=Results.out)
</code></pre>

<hr>
<h2 id='NewKNN'>
Nearest Neighbors.
</h2><span id='topic+NewKNN'></span>

<h3>Description</h3>

<p>Determining of nearest neighbors and their id to determine the number of genes in a chromosome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NewKNN(ratings, active_user, Threshold_KNN, max_scour, min_scour)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NewKNN_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="NewKNN_+3A_active_user">active_user</code></td>
<td>

<p>The id of an active user as an integer greater than zero (for example active_user&lt;-6).
</p>
</td></tr>
<tr><td><code id="NewKNN_+3A_threshold_knn">Threshold_KNN</code></td>
<td>

<p>Maximum number of neighbors.
</p>
</td></tr>
<tr><td><code id="NewKNN_+3A_max_scour">max_scour</code></td>
<td>

<p>The maximum range of ratings.
</p>
</td></tr>
<tr><td><code id="NewKNN_+3A_min_scour">min_scour</code></td>
<td>

<p>The minimum range of ratings.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The number of neighbors for the active user determines the number of genes in the chromosome of the genetic algorithm. The fitness function is MAE which by being minimized, the similarity of the neighbor users is optimized within the processes of the genetic algorithm. The following equation is used to determine the starting points of the genetic algorithm, which are essentially approximation similarities. Using these starting points, the genetic algorithm converges faster.
</p>
<p style="text-align: center;"><code class="reqn">sim_dif = (max rating - dif)/sum(ratings)</code>
</p>

<p style="text-align: center;"><code class="reqn">range of dif: [min rating-1,\dots, max rating-1]</code>
</p>

<p><em>dif</em> is the difference in the existing ratings. For example, for a difference of 0.5, the approximate similarity is <code class="reqn">4.5/15</code> and for a difference of 0, the similarity is <code class="reqn">5/15</code>. 
In this method, the number of neighbors varies for each active user, so the problem of predetermining it is solved.
</p>
<p>The steps of this function are:
</p>
<p>1) The rating matrix is assigned to the form of the Item-user matrix (Items in rows and users in one column).
</p>
<p>2) The users rating differences of each item are calculated for each pair of related users.
</p>
<p>3) For each user, the related pairwise are separated from all rows in one column.
</p>
<p>4) If a pairwise is repeated several times, the average values of the differences are calculated. The number of neighbor users is different for each active user.
</p>
<p>5) The rating differences are sorted in ascending order.
</p>
<p>6) Neighbor users are selected based on lower rating differences. If the threshold for the difference is already specified, the out-of-area relationships are eliminated.
</p>


<h3>Value</h3>

<p>An object of class <code>"NewKNN"</code>, a list with components:
</p>
<table>
<tr><td><code>call</code></td>
<td>

<p>The call used.
</p>
</td></tr>
<tr><td><code>sim_NewKNN</code></td>
<td>

<p>The similarities between near users and the active user that have obtained from the <code>"NewKNN"</code> method.
</p>
</td></tr>
<tr><td><code>pre_NewKNN</code></td>
<td>

<p>The predicted ratings for the active user by the <code>NewKNN</code> method.
</p>
</td></tr>
<tr><td><code>item_NewKNN</code></td>
<td>

<p>A set of recommended items id, obtained from the <code>NewKNN</code> method.
</p>
</td></tr>
<tr><td><code>near_user</code></td>
<td>

<p>Neighbors of the active user by the <code>NewKNN</code> method orderly.
</p>
</td></tr>
<tr><td><code>time_NewKNN</code></td>
<td>

<p>The elapsed time in <code>NewKNN</code> method.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Farimah Houshmand Nanehkaran
</p>
<p>Maintainer: Farimah Houshmand Nanehkaran &lt;hoshmandcomputer@gmail.com&gt;
</p>


<h3>References</h3>

<p>Koohi, H. and Kiani, K. (2017). <em>A new method to find neighbor users that improves the performance of Collaborative Filtering</em>. Expert Systems with Applications, vol. 83, pp.30-39.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)
                    
NewKNN.out  &lt;- NewKNN (ratings, active_user=6, Threshold_KNN=4,
                       max_scour=5, min_scour=1)
</code></pre>

<hr>
<h2 id='Pearson'>
Pearson method
</h2><span id='topic+Pearson'></span>

<h3>Description</h3>

<p>The Pearson method is the most well-known method for finding users' similarity, so to compare the genetic-based method, the Pearson method has been implemented in this package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Pearson(ratings, active_user, Threshold_KNN)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Pearson_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="Pearson_+3A_active_user">active_user</code></td>
<td>

<p>The id of an active user as an integer greater than zero (for example active_user&lt;-6).
</p>
</td></tr>
<tr><td><code id="Pearson_+3A_threshold_knn">Threshold_KNN</code></td>
<td>

<p>Maximum number of neighbor users.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Pearson Correlation Coefficient (PCC) is the similarity measure for Collaborative filtering recommender system, to evaluate how much two users are correlated [3]. 
</p>


<h3>Value</h3>

<p>An object of class <code>"Pearson"</code>, a list with components:
</p>
<table>
<tr><td><code>call</code></td>
<td>

<p>The call used.
</p>
</td></tr>
<tr><td><code>sim_Pearson</code></td>
<td>

<p>The similarity of the Pearson method.
</p>
</td></tr>
<tr><td><code>pre_Pearson</code></td>
<td>

<p>The prediction of the Pearson method.
</p>
</td></tr>
<tr><td><code>item_Pearson</code></td>
<td>

<p>A list of recommended items by the Pearson method.
</p>
</td></tr>
<tr><td><code>near_user_Pearson</code></td>
<td>

<p>Neighbors of active user in the Pearson method orderly.
</p>
</td></tr>
<tr><td><code>time_Pearson</code></td>
<td>

<p>The elapsed time of the Pearson method.
</p>
</td></tr>
</table>


<h3>References</h3>

  
<p>[1] Bobadilla, J., Ortega, F., Hernando, A. and Alcala, J. (2011). <em>Improving collaborative filtering recommender system results and performance using genetic algorithms</em>. Knowledge-based systems, vol. 24, no. 8, pp. 1310-1316.
</p>
<p>[2] Lu, J., Wu, D., Mao, M., Wang W. and Zhang, G. (2015). <em>Recommender system application developments: a survey</em>. Decision Support Systems, vol. 74, pp. 12-32.
</p>
<p>[3] Sheugh, L. and Alizadeh, S.H. (2015). <em>A note on pearson correlation coefficient as a metric of similarity in recommender system</em>. In 2015 AI &amp; Robotics (IRANOPEN) (pp. 1-6). IEEE.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

Pearson.out  &lt;- Pearson (ratings, active_user=6, Threshold_KNN=4)
</code></pre>

<hr>
<h2 id='plotResults'>
Methods for Results objects.
</h2><span id='topic+plotResults'></span>

<h3>Description</h3>

<p>Provide standard methods for manipulating Results objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotResults (active_users, obj_Results, 
                       xlab = "Iteration", ylab = "MAE",
           main = "MAE (New KNN+GA) in CF Recommender Systems", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotResults_+3A_active_users">active_users</code></td>
<td>

<p>A vector of all active users id.
</p>
</td></tr>
<tr><td><code id="plotResults_+3A_obj_results">obj_Results</code></td>
<td>

<p>An object of class <code>"Results"</code>.
</p>
</td></tr>
<tr><td><code id="plotResults_+3A_xlab">xlab</code>, <code id="plotResults_+3A_ylab">ylab</code>, <code id="plotResults_+3A_main">main</code></td>
<td>
<p>Graphics parameters.
</p>
</td></tr>
<tr><td><code id="plotResults_+3A_...">...</code></td>
<td>

<p>Additional arguments passed on to the method.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Methods for standard generic functions when dealing with objects of
class <code>"Results"</code>
</p>


<h3>Value</h3>

<p>a plot of the history of the process is produced
with a <code>NULL</code> return value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

active_users &lt;- c(1:dim(ratings)[2])

Results.out &lt;- Results(ratings, active_users, Threshold_KNN=4, max_scour=5, 
                     min_scour=1, PopSize=100, MaxIteration=50, 
                     CrossPercent=70, MutatPercent=20)

plotResults(active_users, Results.out, xlab = "Iteration", ylab = "MAE",
                main = "MAE (New KNN+GA) in CF Recommender Systems" )
</code></pre>

<hr>
<h2 id='Prediction'>
prediction function
</h2><span id='topic+Prediction'></span>

<h3>Description</h3>

<p>Obtaining the ratings of items that not seen by the active user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Prediction (ratings, active_user, near_user, sim_x, KNN)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Prediction_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="Prediction_+3A_active_user">active_user</code></td>
<td>

<p>The id of an active user as an integer greater than zero (for example active_user&lt;-6).
</p>
</td></tr>
<tr><td><code id="Prediction_+3A_near_user">near_user</code></td>
<td>

<p>Neighbor users.
</p>
</td></tr>
<tr><td><code id="Prediction_+3A_sim_x">sim_x</code></td>
<td>

<p>Similarity of neighbor users obtained from Similarity function.
</p>
</td></tr>
<tr><td><code id="Prediction_+3A_knn">KNN</code></td>
<td>

<p>The number of neighbor users that obtained for the active user from function or manually.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The prediction formula is:
</p>
<p style="text-align: center;"><code class="reqn">(p_x)^i=\bar r_x + ((\sum_(n\in near users)([sim(u_x, u_n).((r_n)^i - (\bar r)_n)]))/(\sum_(n\in near users)(|sim(u_x, u_n)|)))</code>
</p>

<p>where <code class="reqn">(P_x)^i</code> is the prediction of the user x to an item i. <code class="reqn">(\bar r)_x</code> is the average ratings of the user x and <code class="reqn">\bar r_n</code> is the average ratings of neighbors.
</p>


<h3>Value</h3>

<table>
<tr><td><code>pre_y</code></td>
<td>

<p>A set of predicted ratings for all items of the active user.
</p>
</td></tr>
</table>


<h3>References</h3>

<p>Moses, J.S. and Babu, L.D. (2018). <em>Evaluating Prediction Accuracy, Developmental Challenges, and Issues of Recommender Systems</em>. International Journal of Web Portals (IJWP), vol. 10, no. 2, pp. 61-79.
</p>
<p>Singh, P., Ahuja, S. and Jain, S. (2019). <em>Latest Trends in Recommender Systems 2017</em>. In Advances in Data and Information Sciences, pp. 197-210. Springer, Singapore.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)
                    
Pearson.out  &lt;- Pearson (ratings, active_user=6, Threshold_KNN=4)

predict &lt;- Prediction (ratings, active_user=6, 
                       near_user=Pearson.out$near_user_Pearson, 
                       sim_x=Pearson.out$sim_Pearson, 
                       KNN=length(Pearson.out$sim_Pearson))
</code></pre>

<hr>
<h2 id='Results'>
Results of all active users. 
</h2><span id='topic+Results'></span>

<h3>Description</h3>

<p>comparison of three methods (Genetic, NewKNN, Pearson) about MAE, elapsed time and predicted items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Results(ratings, active_users, Threshold_KNN, max_scour, min_scour,
        PopSize=100, MaxIteration=50, CrossPercent=70, MutatPercent=20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Results_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="Results_+3A_active_users">active_users</code></td>
<td>

<p>A vector of all active users id.
</p>
</td></tr>
<tr><td><code id="Results_+3A_threshold_knn">Threshold_KNN</code></td>
<td>

<p>Maximum number of neighbors.
</p>
</td></tr>
<tr><td><code id="Results_+3A_max_scour">max_scour</code></td>
<td>

<p>The maximum range of ratings.
</p>
</td></tr>
<tr><td><code id="Results_+3A_min_scour">min_scour</code></td>
<td>

<p>The minimum range of ratings.
</p>
</td></tr>
<tr><td><code id="Results_+3A_popsize">PopSize</code></td>
<td>

<p>Population size (Number of chromosomes) in <code>Genetic</code> algorithm.
</p>
</td></tr>
<tr><td><code id="Results_+3A_maxiteration">MaxIteration</code></td>
<td>

<p>Number of iterations in <code>Genetic</code> algorithm.
</p>
</td></tr>
<tr><td><code id="Results_+3A_crosspercent">CrossPercent</code></td>
<td>

<p>Percentage of the <code>Genetic</code> algorithm population that participates in the Single-point 
crossover operator to generate new offspring.
</p>
</td></tr>
<tr><td><code id="Results_+3A_mutatpercent">MutatPercent</code></td>
<td>

<p>Percentage of the <code>Genetic</code> algorithm population that participates in the mutation.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MAE is the average of the difference between real ratings of the active user and predicted ratings obtained from a method.
</p>


<h3>Value</h3>

<p>An object of class <code>"Results"</code>, a list with components:
</p>
<table>
<tr><td><code>call</code></td>
<td>

<p>The call used.
</p>
</td></tr>
<tr><td><code>MAE_Pearson</code></td>
<td>

<p>MAE obtained from the <code>"Pearson"</code> method.
</p>
</td></tr>
<tr><td><code>MAE_NewKNN</code></td>
<td>

<p>MAE obtained from the <code>"NewKNN"</code> method.
</p>
</td></tr>
<tr><td><code>MAE_Genetic</code></td>
<td>

<p>MAE obtained from the <code>"Genetic"</code> method.
</p>
</td></tr>
<tr><td><code>MAE_GA</code></td>
<td>

<p>A vector of MAE in every <code>"Genetic"</code> iteration.
</p>
</td></tr>
<tr><td><code>time_Pearson</code></td>
<td>

<p>Elapsed time of the <code>"Pearson"</code> method. 
</p>
</td></tr>
<tr><td><code>time_NewKNN</code></td>
<td>

<p>Elapsed time of the <code>"NewKNN"</code> method.
</p>
</td></tr>
<tr><td><code>time_Genetic</code></td>
<td>

<p>Elapsed time of the <code>"Genetic"</code> method.
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>MAE is abbreviate of Mean Absolute Error.
</p>


<h3>References</h3>

<p>Salehi, M. (2014). <em>Latent feature based recommender system for learning materials using genetic algorithm</em>. Information Systems &amp; Telecommunication, vol. 137.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Genetic">Genetic</a></code>,
<code><a href="#topic+NewKNN">NewKNN</a></code>, 
<code><a href="#topic+Pearson">Pearson</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings&lt;-matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                  NaN,  NaN,  NaN,    1,  NaN,    5,
                  NaN,    4,    5,  NaN,    4,  NaN,
                    4,  NaN,  NaN,    5,  NaN,  NaN,
                    5,  NaN,    2,  NaN,  NaN,  NaN,
                  NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)

active_users &lt;- c(1:dim(ratings)[2])

Results.out &lt;- Results(ratings, active_users, Threshold_KNN=4, max_scour=5, 
                     min_scour=1, PopSize=100, MaxIteration=50, 
                     CrossPercent=70, MutatPercent=20)
</code></pre>

<hr>
<h2 id='Similarity_Pearson'>
Similarity between users in Pearson method.
</h2><span id='topic+Similarity_Pearson'></span>

<h3>Description</h3>

<p>Finding the similarity with Pearson's method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Similarity_Pearson(ratings, active_user, near_user)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Similarity_Pearson_+3A_ratings">ratings</code></td>
<td>

<p>A rating matrix whose rows are items and columns are users.
</p>
</td></tr>
<tr><td><code id="Similarity_Pearson_+3A_active_user">active_user</code></td>
<td>

<p>The id of an active user as an integer greater than zero (for example active_user&lt;-6).
</p>
</td></tr>
<tr><td><code id="Similarity_Pearson_+3A_near_user">near_user</code></td>
<td>

<p>A vector of neighbor users that in the Pearson method are all users.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Obtaining the Pearson similarity through the cor command from state package does not produce the desired response.
</p>


<h3>Value</h3>

<table>
<tr><td><code>sim_ac</code></td>
<td>

<p>Pearson's similarity between the active user and all users.
</p>
</td></tr>
</table>


<h3>References</h3>

<p>Karabadji, N.E.I., Beldjoudi, S., Seridi, H., Aridhi, S. and Dhifli, W. (2018). <em>Improving memory-based user collaborative filtering with evolutionary multi-objective optimization</em>. Expert Systems with Applications, vol. 98, pp.153-165.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratings &lt;- matrix(c(  2,    5,  NaN,  NaN,  NaN,    4,
                    NaN,  NaN,  NaN,    1,  NaN,    5,
                    NaN,    4,    5,  NaN,    4,  NaN,
                      4,  NaN,  NaN,    5,  NaN,  NaN,
                      5,  NaN,    2,  NaN,  NaN,  NaN,
                    NaN,    1,  NaN,    4,    2,  NaN),nrow=6,byrow=TRUE)	

sim.Pearson  &lt;- Similarity_Pearson (ratings, active_user=6, 
                                   near_user=c(1:dim(ratings)[2]))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

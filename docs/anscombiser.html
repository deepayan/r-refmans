<!DOCTYPE html><html lang="en"><head><title>Help for package anscombiser</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {anscombiser}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#anscombiser-package'><p>anscombiser: Create Datasets with Identical Summary Statistics</p></a></li>
<li><a href='#anscombe'><p>Anscombe's Quartet Separated</p></a></li>
<li><a href='#anscombise'><p>Create new versions of Anscombe's quartet</p></a></li>
<li><a href='#anscombise_gif'><p>Animation of several Anscombised datasets</p></a></li>
<li><a href='#anscombiser-internal'><p>Internal anscombiser functions</p></a></li>
<li><a href='#get_stats'><p>Calculate Anscombe's summary statistics</p></a></li>
<li><a href='#input_datasets'><p>Input datasets for use by anscombise()</p></a></li>
<li><a href='#mapdata'><p>Extract longitude and latitude values</p></a></li>
<li><a href='#mimic'><p>Modify a dataset to mimic another dataset</p></a></li>
<li><a href='#mimic_gif'><p>Animation of several mimicking datasets</p></a></li>
<li><a href='#plot.anscombe'><p>Plot method for objects of class &quot;anscombe&quot;</p></a></li>
<li><a href='#print.anscombe'><p>Print method for objects of class &quot;anscombe&quot;</p></a></li>
<li><a href='#set_stats'><p>Create a list of summary statistics</p></a></li>
<li><a href='#trump'><p>Donald Trump</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Create Datasets with Identical Summary Statistics</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-10-03</td>
</tr>
<tr>
<td>Description:</td>
<td>Anscombe's quartet are a set of four two-variable datasets that 
    have several common summary statistics but which have very different joint 
    distributions.  This becomes apparent when the data are plotted, which 
    illustrates the importance of using graphical displays in Statistics.  This
    package enables the creation of datasets that have identical marginal sample
    means and sample variances, sample correlation, least squares regression 
    coefficients and coefficient of determination.  The user supplies an initial 
    dataset, which is shifted, scaled and rotated in order to achieve target 
    summary statistics.  The general shape of the initial dataset is retained. 
    The target statistics can be supplied directly or calculated based on a 
    user-supplied dataset.  The 'datasauRus' package 
    <a href="https://cran.r-project.org/package=datasauRus">https://cran.r-project.org/package=datasauRus</a> provides further examples 
    of datasets that have markedly different scatter plots but share many 
    sample summary statistics.</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, stats</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>datasauRus, datasets, gganimate, ggplot2, maps, testthat,
knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://paulnorthrop.github.io/anscombiser/">https://paulnorthrop.github.io/anscombiser/</a>,
<a href="https://github.com/paulnorthrop/anscombiser">https://github.com/paulnorthrop/anscombiser</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/paulnorthrop/anscombiser/issues">https://github.com/paulnorthrop/anscombiser/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-02 23:14:56 UTC; paul</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul J. Northrop [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul J. Northrop &lt;p.northrop@ucl.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-02 23:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='anscombiser-package'>anscombiser: Create Datasets with Identical Summary Statistics</h2><span id='topic+anscombiser-package'></span><span id='topic+_PACKAGE'></span><span id='topic+anscombiser'></span>

<h3>Description</h3>

<p>Anscombe's quartet (Anscombe, 1973) are a set of four two-variable datasets
that have several common summary statistics but which have very different
joint distributions. This becomes apparent when the data are plotted, which
illustrates the importance of using graphical displays in Statistics.  This
package enables the creation of datasets that have identical marginal sample
means and sample variances, sample correlation, least squares regression
coefficients and coefficient of determination.  The user supplies an initial
dataset, which is shifted, scaled and rotated in order to achieve target
summary statistics.  The general shape of the initial dataset is retained.
The target statistics can be supplied directly or calculated based on a
user-supplied dataset.
</p>


<h3>Details</h3>

<p>The main functions in <code>anscombiser</code> are
</p>

<ul>
<li> <p><code><a href="#topic+anscombise">anscombise</a></code>, which modifies a user-supplied dataset so that it shares
sample summary statistics with Anscombe's quartet.
</p>
</li>
<li> <p><code><a href="#topic+mimic">mimic</a></code>, which modified a user-supplied dataset so that is shares
sample summary statistics with another user-supplied dataset.
</p>
</li></ul>

<p>See <code>vignette("intro-to-anscombiser", package = "anscombiser")</code> for
an overview of the package.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Paul J. Northrop <a href="mailto:p.northrop@ucl.ac.uk">p.northrop@ucl.ac.uk</a> [copyright holder]
</p>


<h3>References</h3>

<p>Anscombe, F. J. (1973). Graphs in Statistical Analysis.
The American Statistician 27 (1): 17â€“21.
<a href="https://doi.org/10.1080/00031305.1973.10478966">doi:10.1080/00031305.1973.10478966</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+anscombise">anscombise</a></code> and <code><a href="#topic+mimic">mimic</a></code>
</p>

<hr>
<h2 id='anscombe'>Anscombe's Quartet Separated</h2><span id='topic+anscombe'></span><span id='topic+anscombe1'></span><span id='topic+anscombe2'></span><span id='topic+anscombe3'></span><span id='topic+anscombe4'></span>

<h3>Description</h3>

<p>Provides Anscombe's Quartet as separate data frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>anscombe1

anscombe2

anscombe3

anscombe4
</code></pre>


<h3>Format</h3>

<p>All datasets are objects of class <code>data.frame</code> with 11 rows and 2
columns.
</p>


<h3>Source</h3>

<p>Anscombe's Quartet of 'Identical' Simple Linear Regressions:
<code><a href="datasets.html#topic+anscombe">datasets::anscombe</a></code> in the <code><a href="datasets.html#topic+datasets-package">datasets</a></code> package. The <code>i</code>th dataset is <code>datasets::anscombe[, c(i, i + 4)]</code>.
</p>


<h3>References</h3>

<p>Anscombe, Francis J. (1973). Graphs in statistical analysis.
<em>The American Statistician</em>, <strong>27</strong>, 17-21. <a href="https://doi.org/10.2307/2682899">doi:10.2307/2682899</a>
</p>

<hr>
<h2 id='anscombise'>Create new versions of Anscombe's quartet</h2><span id='topic+anscombise'></span>

<h3>Description</h3>

<p>Modifies a dataset <code>x</code> so that it shares sample summary statistics with
<a href="datasets.html#topic+anscombe">Anscombe's quartet</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>anscombise(x, which = 1, idempotent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="anscombise_+3A_x">x</code></td>
<td>
<p>A numeric matrix or data frame.  Each column contains observations
on a different variable.  Missing observations are not allowed.</p>
</td></tr>
<tr><td><code id="anscombise_+3A_which">which</code></td>
<td>
<p>An integer in {1, 2, 3, 4}.  Which of Anscombe's datasets to
use as the target dataset.  Obviously, this makes very little difference.</p>
</td></tr>
<tr><td><code id="anscombise_+3A_idempotent">idempotent</code></td>
<td>
<p>A logical scalar. If <code>idempotent = TRUE</code> then applying
<code>anscombise</code> to one of the datasets in Anscombe's Quartet will return
the dataset unchanged, apart from a change of <code><a href="base.html#topic+class">class</a></code>. If
<code>idempotent = FALSE</code> then the returned dataset will be a rotated version
of the original dataset, with the same summary statistics. See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input dataset <code>x</code> is modified by shifting, scaling and rotating
it so that its sample mean and covariance matrix match those of the
Anscombe quartet.
</p>
<p>The rotation is based on the square root of the sample correlation matrix.
If <code>idempotent = FALSE</code> then this square root is based on the Cholesky
decomposition this matrix, using <code><a href="base.html#topic+chol">chol</a></code>. If <code>idempotent = TRUE</code> the
square root is based on the spectral decomposition of this matrix, using
the output from <code><a href="base.html#topic+eigen">eigen</a></code>. This is a minimal rotation square root,
which means that if the input data <code>x</code> already have the
exactly/approximately the required summary statistics then the returned
dataset is exactly/approximately the same as the target dataset.
</p>


<h3>Value</h3>

<p>An object of class <code>c("anscombe", "matrix", "array")</code> with
<a href="#topic+plot.anscombe">plot</a> and <a href="#topic+print.anscombe">print</a> methods. This returned
dataset has the following summary statistics in common with Anscombe's
quartet.
</p>

<ul>
<li><p> The sample means of each variable.
</p>
</li>
<li><p> The sample variances of each variable.
</p>
</li>
<li><p> The sample correlation matrix.
</p>
</li>
<li><p> The estimated regression coefficients from least squares linear
regressions of each variable on each other variable.
</p>
</li></ul>

<p>The target and new summary statistics are returned as attributes
<code>old_stats</code> and <code>new_stats</code> and the chosen Anscombe's quartet dataset as
an attribute <code>old_data</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mimic">mimic</a></code> to modify a dataset to share sample summary statistics
with another dataset.
</p>
<p><code><a href="datasets.html#topic+anscombe">datasets::anscombe</a></code> for Anscombe's Quartet and <code><a href="#topic+anscombe">anscombe</a></code> for
Anscombe's Quartet as 4 separate datasets.
</p>
<p><code><a href="#topic+input_datasets">input_datasets</a></code>: <code>input1</code> to <code>input8</code> for some input datasest
of the same size as those in Anscombe's quartet.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Produce Anscombe-like datasets using input1 to input8

a1 &lt;- anscombise(input1, idempotent = FALSE)
plot(a1)
a2 &lt;- anscombise(input2)
plot(a2)
a3 &lt;- anscombise(input3, idempotent = FALSE)
plot(a3)
a4 &lt;- anscombise(input4, idempotent = FALSE)
plot(a4)
a5 &lt;- anscombise(input5, idempotent = FALSE)
plot(a5)
a6 &lt;- anscombise(input6)
plot(a6)
a7 &lt;- anscombise(input7, idempotent = FALSE)
plot(a7)
a8 &lt;- anscombise(input8, idempotent = FALSE)
plot(a8)

# Old faithful to new faithful
new_faithful &lt;- anscombise(datasets::faithful, which = 4)
plot(new_faithful)
# Then check that the sample summary statistics are the same
plot(new_faithful, input = TRUE)

# Map of Italy
got_maps &lt;- requireNamespace("maps", quietly = TRUE)
if (got_maps) {
  italy &lt;- mapdata("Italy")
  new_italy &lt;- anscombise(italy, which = 4)
  plot(new_italy)
}
</code></pre>

<hr>
<h2 id='anscombise_gif'>Animation of several Anscombised datasets</h2><span id='topic+anscombise_gif'></span>

<h3>Description</h3>

<p>Create an animation to show datasets that share sample summary statistics
with <a href="datasets.html#topic+anscombe">Anscombe's quartet</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>anscombise_gif(
  x,
  which = 1,
  idempotent = TRUE,
  theme_name = "classic",
  ease = "cubic-in-out",
  transition_length = 3,
  state_length = 1,
  wrap = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="anscombise_gif_+3A_x">x</code></td>
<td>
<p>A list of input datasets.  Each one must be a suitable argument
<code>x</code> for <code><a href="#topic+anscombise">anscombise</a></code>.</p>
</td></tr>
<tr><td><code id="anscombise_gif_+3A_which">which</code>, <code id="anscombise_gif_+3A_idempotent">idempotent</code></td>
<td>
<p>Vectors that provide the arguments of the same names
to <code><a href="#topic+anscombise">anscombise</a></code> for each dataset.  If necessary, <code><a href="base.html#topic+rep_len">rep_len</a></code> is used to
replicate these arguments so that they each have length <code>length(x)</code>.</p>
</td></tr>
<tr><td><code id="anscombise_gif_+3A_theme_name">theme_name</code></td>
<td>
<p>A character scalar used to set the
<code><a href="ggplot2.html#topic+ggtheme">ggtheme</a></code>.
One of <code>"grey"</code>, <code>"gray"</code>, <code>"bw"</code>, <code>"linedraw"</code>, <code>"light"</code>, <code>"dark"</code>,
<code>"minimal"</code>, <code>"classic"</code>, <code>"void"</code> or <code>"test"</code>.</p>
</td></tr>
<tr><td><code id="anscombise_gif_+3A_ease">ease</code></td>
<td>
<p>A character scalar passed to <code><a href="gganimate.html#topic+ease_aes">ease_aes</a></code>
to control how the points move in transitioning from one dataset to
the next.</p>
</td></tr>
<tr><td><code id="anscombise_gif_+3A_transition_length">transition_length</code>, <code id="anscombise_gif_+3A_state_length">state_length</code>, <code id="anscombise_gif_+3A_wrap">wrap</code></td>
<td>
<p>Arguments passed to
<code><a href="gganimate.html#topic+transition_states">transition_states</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For this function to work the packages
<code><a href="ggplot2.html#topic+ggplot2-package">ggplot2</a></code> and
<code><a href="gganimate.html#topic+gganimate-package">gganimate</a></code> must be installed.
</p>


<h3>Value</h3>

<p>An object of class <code>c("gganim", "gg", "ggplot")</code> with an additional
attribute <code>new_data</code> that is a data frame with 3 variables, <code>x</code>, <code>y</code> and
<code>dataset</code> containing the datasets output from <code>anscombise</code>.
</p>
<p>The returned object may be displayed using by typing its name,
e.g., <code>anim</code> or saved as a GIF file using
<code><a href="gganimate.html#topic+anim_save">anim_save</a></code>, e.g.,
<code>gganimate::anim_save("anscombe.gif", anim)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+anscombise">anscombise</a></code> modifies a dataset so that it shares sample summary
statistics with <a href="datasets.html#topic+anscombe">Anscombe's quartet</a>.
</p>
<p><code><a href="#topic+input_datasets">input_datasets</a></code>: <code>input1</code> to <code>input8</code> for some input datasets
of the same size as those in Anscombe's quartet.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Animate some Anscombe-like datasets produced using input1 to input8
x &lt;- list(input1, input2, input3, input4, input5, input6, input7, input8)
idem &lt;- c(FALSE, TRUE, FALSE, FALSE, FALSE, TRUE, FALSE, FALSE)
anim &lt;- anscombise_gif(x, idempotent = idem)
</code></pre>

<hr>
<h2 id='anscombiser-internal'>Internal anscombiser functions</h2><span id='topic+anscombiser-internal'></span><span id='topic+is_wholenumber'></span><span id='topic+is_pos_def'></span><span id='topic+minimal_rotation'></span><span id='topic+make_stats'></span>

<h3>Description</h3>

<p>Internal anscombiser functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_wholenumber(x, tol = .Machine$double.eps^0.5)

is_pos_def(x, tol = 1e-06)

minimal_rotation(x)

make_stats(x, stats, idempotent = FALSE)
</code></pre>


<h3>Details</h3>

<p>These functions are not intended to be called by the user.
</p>

<hr>
<h2 id='get_stats'>Calculate Anscombe's summary statistics</h2><span id='topic+get_stats'></span>

<h3>Description</h3>

<p>Calculates a particular set of summary statistics for a dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_stats(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_stats_+3A_x">x</code></td>
<td>
<p>a numeric matrix or data frame with at least 2 columns/variables.
Each column contains observations on a different variable.  Missing
observations are not allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of summary statistics containing
</p>

<ul>
<li> <p><code>n</code> The sample size.
</p>
</li>
<li> <p><code>means</code> The sample means of each variable.
</p>
</li>
<li> <p><code>variances</code> The sample means of each variable.
</p>
</li>
<li> <p><code>correlation</code> The sample correlation matrix.
</p>
</li>
<li> <p><code>intercepts</code>,<code>slopes</code>,<code>rsquared</code> Matrices whose (i,j)th entries are the
estimated regression coefficients in a regression of <code>x[, i]</code> on
<code>x[, j]</code> and the resulting coefficient of determination <code class="reqn">R^2</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>get_stats(anscombe[, c(1, 5)])
</code></pre>

<hr>
<h2 id='input_datasets'>Input datasets for use by anscombise()</h2><span id='topic+input_datasets'></span><span id='topic+input1'></span><span id='topic+input2'></span><span id='topic+input3'></span><span id='topic+input4'></span><span id='topic+input5'></span><span id='topic+input6'></span><span id='topic+input7'></span><span id='topic+input8'></span>

<h3>Description</h3>

<p>Provides input datasets from which <code><a href="#topic+anscombe">anscombe</a></code> will produce transformed datasets that behave like <a href="datasets.html#topic+anscombe">Anscombe's quartet</a> of datasets, that is, with the same traditional statistical properties but different general behaviours.  Use <code>plot(input1)</code>, for example, to see the behaviours of the datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>input1

input2

input3

input4

input5

input6

input7

input8
</code></pre>


<h3>Format</h3>

<p>All datasets are objects of class <code>matrix</code> (inherits from <code>array</code>) with 11 rows and 2 columns.
</p>


<h3>Source</h3>

<p>None.  Created for use in 'anscombiser'.
</p>


<h3>References</h3>

<p>Anscombe, Francis J. (1973). Graphs in statistical analysis.
<em>The American Statistician</em>, <strong>27</strong>, 17-21. <a href="https://doi.org/10.2307/2682899">doi:10.2307/2682899</a>
</p>

<hr>
<h2 id='mapdata'>Extract longitude and latitude values</h2><span id='topic+mapdata'></span>

<h3>Description</h3>

<p>Extracts longitude and latitude values for a particular region from the
world map supplied by the maps package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapdata(region = ".", map = "world", exact = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mapdata_+3A_region">region</code></td>
<td>
<p>Passed to <code><a href="maps.html#topic+map">map</a></code> as the argument <code>regions</code>.</p>
</td></tr>
<tr><td><code id="mapdata_+3A_map">map</code></td>
<td>
<p>Passed to <code><a href="maps.html#topic+map">map</a></code> as the argument <code>database</code></p>
</td></tr>
<tr><td><code id="mapdata_+3A_exact">exact</code></td>
<td>
<p>The argument <code>exact</code> passed to the <code><a href="maps.html#topic+map">map</a></code> function.</p>
</td></tr>
<tr><td><code id="mapdata_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code><a href="maps.html#topic+map">map</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with two columns: <code>long</code> and <code>lat</code> for longitude and
latitude.
</p>


<h3>Examples</h3>

<p>See the examples in <code><a href="#topic+mimic">mimic</a></code>.
</p>

<hr>
<h2 id='mimic'>Modify a dataset to mimic another dataset</h2><span id='topic+mimic'></span>

<h3>Description</h3>

<p>Modifies a dataset <code>x</code> so that it shares sample summary statistics with
a target dataset <code>x2</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mimic(x, x2, idempotent = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mimic_+3A_x">x</code>, <code id="mimic_+3A_x2">x2</code></td>
<td>
<p>Numeric matrices or data frames.  Each column contains observations
on a different variable.  Missing observations are not allowed.
<code><a href="#topic+get_stats">get_stats</a></code><code>(x2)</code> sets the target summary statistics. If <code>x2</code> is missing
then <code><a href="#topic+set_stats">set_stats</a></code> is called with <code>d = ncol(x)</code> and any additional arguments
supplied via <code>...</code>.  This can be used to set target summary statistics
(means, variances and/or correlations).</p>
</td></tr>
<tr><td><code id="mimic_+3A_idempotent">idempotent</code></td>
<td>
<p>A logical scalar. If <code>idempotent = TRUE</code> then
<code>mimic(x, x)</code> returns <code>x</code>, apart from a change of <code><a href="base.html#topic+class">class</a></code>. If
<code>idempotent = FALSE</code> then the returned dataset may be a rotated version of
the original dataset, with the same summary statistics. See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="mimic_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code><a href="#topic+set_stats">set_stats</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input dataset <code>x</code> is modified by shifting, scaling and rotating
it so that its sample mean and covariance matrix match those of the target
dataset <code>x2</code>.
</p>
<p>The rotation is based on the square root of the sample correlation matrix.
If <code>idempotent = FALSE</code> then this square root is based on the Cholesky
decomposition this matrix, using <code><a href="base.html#topic+chol">chol</a></code>. If <code>idempotent = TRUE</code> the
square root is based on the spectral decomposition of this matrix, using
the output from <code><a href="base.html#topic+eigen">eigen</a></code>. This is a minimal rotation square root,
which means that if the input data <code>x</code> already have the
exactly/approximately the required summary statistics then the returned
dataset is exactly/approximately the same as the target dataset <code>x2</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>c("anscombe", "matrix", "array")</code> with
<a href="#topic+plot.anscombe">plot</a> and <a href="#topic+print.anscombe">print</a> methods. This returned
dataset has the following summary statistics in common with <code>x2</code>.
</p>

<ul>
<li><p> The sample means of each variable.
</p>
</li>
<li><p> The sample variances of each variable.
</p>
</li>
<li><p> The sample correlation matrix.
</p>
</li>
<li><p> The estimated regression coefficients from least squares linear
regressions of each variable on each other variable.
</p>
</li></ul>

<p>The target and new summary statistics are returned as attributes
<code>old_stats</code> and <code>new_stats</code>.
If <code>x2</code> is supplied then it is returned as a attribute <code>old_data</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+anscombise">anscombise</a></code> modifies a dataset so that it shares sample summary
statistics with <a href="datasets.html#topic+anscombe">Anscombe's quartet</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### 2D examples

# The UK and a dinosaur
got_maps &lt;- requireNamespace("maps", quietly = TRUE)
got_datasauRus &lt;- requireNamespace("datasauRus", quietly = TRUE)
if (got_maps &amp;&amp; got_datasauRus) {
  library(maps)
  library(datasauRus)
  dino &lt;- datasaurus_dozen_wide[, c("dino_x", "dino_y")]
  UK &lt;- mapdata("UK")
  new_UK &lt;- mimic(UK, dino)
  plot(new_UK)
}

# Trump and a dinosaur
if (got_datasauRus) {
  library(datasauRus)
  dino &lt;- datasaurus_dozen_wide[, c("dino_x", "dino_y")]
  new_dino &lt;- mimic(dino, trump)
  plot(new_dino)
}

## Examples of passing summary statistics

# The default is zero mean, unit variance and no correlation
new_faithful &lt;- mimic(faithful)
plot(new_faithful)

# Change the correlation
mat &lt;- matrix(c(1, -0.9, -0.9, 1), 2, 2)
new_faithful &lt;- mimic(faithful, correlation = mat)
plot(new_faithful)

### A 3D example

new_randu &lt;- mimic(datasets::randu, datasets::trees)
# The samples summary statistics are equal
get_stats(new_randu)
get_stats(datasets::trees)
</code></pre>

<hr>
<h2 id='mimic_gif'>Animation of several mimicking datasets</h2><span id='topic+mimic_gif'></span>

<h3>Description</h3>

<p>Create an animation to show datasets that mimic a target dataset <code>x2</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mimic_gif(
  x,
  x2,
  idempotent = TRUE,
  theme_name = "classic",
  ease = "cubic-in-out",
  transition_length = 3,
  state_length = 1,
  wrap = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mimic_gif_+3A_x">x</code></td>
<td>
<p>A list of input datasets.  Each one must be suitable argument
<code>x</code> for for <code><a href="#topic+mimic">mimic</a></code>.</p>
</td></tr>
<tr><td><code id="mimic_gif_+3A_x2">x2</code></td>
<td>
<p>A suitable argument <code>x2</code> for <code><a href="#topic+mimic">mimic</a></code>.</p>
</td></tr>
<tr><td><code id="mimic_gif_+3A_idempotent">idempotent</code></td>
<td>
<p>A logical vector that provides the argument of the same
names to <code><a href="#topic+mimic">mimic</a></code> for each dataset.  If necessary, <code><a href="base.html#topic+rep_len">rep_len</a></code> is used to
replicate this argument so that it has length <code>length(x)</code>.</p>
</td></tr>
<tr><td><code id="mimic_gif_+3A_theme_name">theme_name</code></td>
<td>
<p>A character scalar used to set the
<code><a href="ggplot2.html#topic+ggtheme">ggtheme</a></code>.
One of <code>"grey"</code>, <code>"gray"</code>, <code>"bw"</code>, <code>"linedraw"</code>, <code>"light"</code>, <code>"dark"</code>,
<code>"minimal"</code>, <code>"classic"</code>, <code>"void"</code> or <code>"test"</code>.</p>
</td></tr>
<tr><td><code id="mimic_gif_+3A_ease">ease</code></td>
<td>
<p>A character scalar passed to <code><a href="gganimate.html#topic+ease_aes">ease_aes</a></code>
to control how the points move in transitioning from one dataset to
the next.</p>
</td></tr>
<tr><td><code id="mimic_gif_+3A_transition_length">transition_length</code>, <code id="mimic_gif_+3A_state_length">state_length</code>, <code id="mimic_gif_+3A_wrap">wrap</code></td>
<td>
<p>Arguments passed to
<code><a href="gganimate.html#topic+transition_states">transition_states</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For this function to work the packages
<code><a href="ggplot2.html#topic+ggplot2-package">ggplot2</a></code> and
<code><a href="gganimate.html#topic+gganimate-package">gganimate</a></code> must be installed.
</p>


<h3>Value</h3>

<p>An object of class <code>c("gganim", "gg", "ggplot")</code> with an additional
attribute <code>new_data</code> that is a data frame with 3 variables, <code>x</code>, <code>y</code> and
<code>dataset</code> containing the datasets output from <code>mimc</code>.
</p>
<p>The returned object may be displayed using by typing its name,
e.g., <code>anim</code> or saved as a GIF file using
<code><a href="gganimate.html#topic+anim_save">anim_save</a></code>, e.g.,
<code>gganimate::anim_save("anscombe.gif", anim)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mimic">mimic</a></code> to modify a dataset to share sample summary statistics
with another dataset.
</p>
<p><code><a href="#topic+input_datasets">input_datasets</a></code>: <code>input1</code> to <code>input8</code> for some input datasets
of the same size as those in Anscombe's quartet.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create 8 datasets that mimic Anscombe's first dataset
x &lt;- list(input1, input2, input3, input4, input5, input6, input7, input8)
anim &lt;- mimic_gif(x, anscombe1)
</code></pre>

<hr>
<h2 id='plot.anscombe'>Plot method for objects of class &quot;anscombe&quot;</h2><span id='topic+plot.anscombe'></span>

<h3>Description</h3>

<p><code>plot</code> method for objects inheriting from class <code>"anscombe"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'anscombe'
plot(x, input = FALSE, stats = TRUE, digits = 3, legend_args = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.anscombe_+3A_x">x</code></td>
<td>
<p>an object of class <code>'anscombe'</code>, a result of a call to
<code><a href="#topic+anscombise">anscombise</a></code> or <code><a href="#topic+mimic">mimic</a></code>.</p>
</td></tr>
<tr><td><code id="plot.anscombe_+3A_input">input</code></td>
<td>
<p>A logical scalar.  Should the old, input data, that is, the
Anscombe's dataset chosen for <code><a href="#topic+anscombise">anscombise</a></code> or the argument <code>x2</code> to
<code><a href="#topic+mimic">mimic</a></code>, be plotted?  If <code>old = FALSE</code> then the new, output data are
plotted. If <code>old = TRUE</code> then the old data are plotted.</p>
</td></tr>
<tr><td><code id="plot.anscombe_+3A_stats">stats</code></td>
<td>
<p>A logical scalar.  Should the sample summary statistics
<code>n</code>, <code>means</code>, <code>variances</code> and <code>correlation</code> be added to the plot?</p>
</td></tr>
<tr><td><code id="plot.anscombe_+3A_digits">digits</code></td>
<td>
<p>An integer.  The argument <code>digits</code> passed to <code><a href="base.html#topic+signif">signif</a></code>
to round the values of the statistics before adding them to the plot.</p>
</td></tr>
<tr><td><code id="plot.anscombe_+3A_legend_args">legend_args</code></td>
<td>
<p>A list of arguments to be passed to
<code><a href="graphics.html#topic+legend">legend</a></code> when <code>stats = TRUE</code>, especially
<code>legend_args$x</code> to control the position of the legend.</p>
</td></tr>
<tr><td><code id="plot.anscombe_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to <code><a href="graphics.html#topic+plot.default">plot</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is only applicable in 2 dimensions, that is,
when <code>length(attr(x, "new_stats")$means)</code> = 2.
</p>


<h3>Value</h3>

<p>Nothing is returned.
</p>


<h3>Examples</h3>

<p>See the examples in <code><a href="#topic+anscombise">anscombise</a></code> and <code><a href="#topic+mimic">mimic</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+anscombise">anscombise</a></code> and <code><a href="#topic+mimic">mimic</a></code>.
</p>

<hr>
<h2 id='print.anscombe'>Print method for objects of class &quot;anscombe&quot;</h2><span id='topic+print.anscombe'></span>

<h3>Description</h3>

<p><code>print</code> method for class &quot;anscombe&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'anscombe'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.anscombe_+3A_x">x</code></td>
<td>
<p>an object of class &quot;anscombe&quot;, a result of a call to <code><a href="#topic+anscombise">anscombise</a></code>
or <code><a href="#topic+mimic">mimic</a></code>.</p>
</td></tr>
<tr><td><code id="print.anscombe_+3A_...">...</code></td>
<td>
<p>Additional optional arguments to be passed to
<code><a href="base.html#topic+print.default">print</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Just extracts the new dataset from <code>x</code> and prints it using
<code><a href="base.html#topic+print.default">print</a></code>.
</p>


<h3>Value</h3>

<p>The argument <code>x</code>, invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+anscombise">anscombise</a></code> and <code><a href="#topic+mimic">mimic</a></code>
</p>

<hr>
<h2 id='set_stats'>Create a list of summary statistics</h2><span id='topic+set_stats'></span>

<h3>Description</h3>

<p>Creates a list of summary statistics to pass to <code><a href="#topic+mimic">mimic</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_stats(d = 2, means = 0, variances = 1, correlation = diag(2))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_stats_+3A_d">d</code></td>
<td>
<p>An integer that is no smaller than 2.</p>
</td></tr>
<tr><td><code id="set_stats_+3A_means">means</code></td>
<td>
<p>A numeric vector of sample means.</p>
</td></tr>
<tr><td><code id="set_stats_+3A_variances">variances</code></td>
<td>
<p>A numeric vector of positive sample variances.</p>
</td></tr>
<tr><td><code id="set_stats_+3A_correlation">correlation</code></td>
<td>
<p>A numeric correlation matrix.  None of the off-diagonal
entries in <code>correlation</code> are allowed to be equal to 1 in absolute value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The vectors <code>means</code> and <code>variances</code> are recycled using
<code><a href="base.html#topic+rep">rep_len</a></code> to have length <code>d</code>.
</p>


<h3>Value</h3>

<p>A list containing the following components.
</p>

<ul>
<li> <p><code>means</code> a <code>d</code>-vector of sample means.
</p>
</li>
<li> <p><code>variances</code> a <code>d</code>-vector sample variances.
</p>
</li>
<li> <p><code>correlation</code> a <code>d</code> by <code>d</code> correlation matrix.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Uncorrelated with zero means and unit variances
set_stats()
# Sample correlation = 0.9
set_stats(correlation = matrix(c(1, 0.9, 0.9, 1), 2, 2))
</code></pre>

<hr>
<h2 id='trump'>Donald Trump</h2><span id='topic+trump'></span>

<h3>Description</h3>

<p>A dataset that provides an image of Donald Trump's face.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trump
</code></pre>


<h3>Format</h3>

<p>A matrix with 4885 rows and 2 columns: <code>x</code> and <code>y</code>.
</p>


<h3>Source</h3>

<p>This image was created by Accentaur from the Noun Project.
<a href="https://thenounproject.com/term/donald-trump/727774/">https://thenounproject.com/term/donald-trump/727774/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(trump)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

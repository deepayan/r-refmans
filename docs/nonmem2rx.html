<!DOCTYPE html><html lang="en-US"><head><title>Help for package nonmem2rx</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nonmem2rx}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.nonmem2rx'><p>Convert a model to a nonmem2rx model</p></a></li>
<li><a href='#autoplot.nonmem2rx'><p>Autoplot nonmem2rx object</p></a></li>
<li><a href='#nmcov'><p>Read in data file</p></a></li>
<li><a href='#nmext'><p>Reads the NONMEM <code>.ext</code> file for final parameter information</p></a></li>
<li><a href='#nminfo'><p>Get the most accurate information you can get from NONMEM</p></a></li>
<li><a href='#nmlst'><p>Reads the NONMEM <code>.lst</code> file for final parameter information</p></a></li>
<li><a href='#nmtab'><p>Read nonmem table file</p></a></li>
<li><a href='#nmxml'><p>Read a nonmem xml and create output similar to the <code>nmlst()</code></p></a></li>
<li><a href='#nmxmlCov'><p>Get the xml for debugging (without including data etc)</p></a></li>
<li><a href='#nonmem2rx'><p>Convert a NONMEM source file to a rxode model (nlmixr2-syle)</p></a></li>
<li><a href='#nonmem2rxRec.abb'><p>Record handling for nonmem records</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Converts 'NONMEM' Models to 'rxode2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.6</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew Fidler &lt;matthew.fidler@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>'NONMEM' has been a tool for running nonlinear mixed
    effects models since the 80s and is still used today (Bauer 2019
    &lt;<a href="https://doi.org/10.1002%2Fpsp4.12404">doi:10.1002/psp4.12404</a>&gt;). This tool allows you to convert
    'NONMEM' models to 'rxode2' (Wang, Hallow and James (2016)
    &lt;<a href="https://doi.org/10.1002%2Fpsp4.12052">doi:10.1002/psp4.12052</a>&gt;) and with simple models 'nlmixr2' syntax
    (Fidler et al (2019) &lt;<a href="https://doi.org/10.1002%2Fpsp4.12445">doi:10.1002/psp4.12445</a>&gt;). The 'nlmixr2'
    syntax requires the residual specification to be included and it
    is not always translated. If available, the 'rxode2' model will
    read in the 'NONMEM' data and compare the simulation for the
    population model ('PRED') individual model ('IPRED') and residual
    model ('IWRES') to immediately show how well the translation is
    performing. This saves the model development time for people who are
    creating an 'rxode2' model manually.  Additionally, this package reads
    in all the information to allow simulation with uncertainty (that is the
    number of observations, the number of subjects, and the covariance
    matrix) with a 'rxode2' model.  This is complementary to the
    'babelmixr2' package that translates 'nlmixr2' models to 'NONMEM' and can
    convert the objects converted from 'nonmem2rx' to a full 'nlmixr2' fit.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://nlmixr2.github.io/nonmem2rx/">https://nlmixr2.github.io/nonmem2rx/</a>,
<a href="https://github.com/nlmixr2/nonmem2rx/">https://github.com/nlmixr2/nonmem2rx/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>dparser, Rcpp, rxode2</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, digest, dparser, lotri, Rcpp, rxode2 (&gt; 2.0.13),
magrittr, cli, tools, utils, data.table, qs, xml2, ggplot2,
ggforce, crayon</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, testthat (&ge; 3.0.0), nonmemica, NMdata, nonmem2R,
withr, nlme, dplyr, xgxr, vdiffr, knitr, rmarkdown, spelling</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-28 18:58:34 UTC; matt</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew Fidler <a href="https://orcid.org/0000-0001-8538-6691"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Philip Delff [ctb],
  Gabriel Staples [ctb] (string insensitive compare)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-28 19:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.nonmem2rx'>Convert a model to a nonmem2rx model</h2><span id='topic+as.nonmem2rx'></span>

<h3>Description</h3>

<p>Convert a model to a nonmem2rx model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.nonmem2rx(model1, model2, compress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.nonmem2rx_+3A_model1">model1</code></td>
<td>
<p>Input model 1</p>
</td></tr>
<tr><td><code id="as.nonmem2rx_+3A_model2">model2</code></td>
<td>
<p>Input model 2</p>
</td></tr>
<tr><td><code id="as.nonmem2rx_+3A_compress">compress</code></td>
<td>
<p>boolean to compress the ui at the end</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nonmem2rx model
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


 mod &lt;- nonmem2rx(system.file("mods/cpt/runODE032.ctl", package="nonmem2rx"),
                  determineError=FALSE, lst=".res", save=FALSE)

 mod2 &lt;-function() {
   ini({
     lcl &lt;- 1.37034036528946
     lvc &lt;- 4.19814911033061
     lq &lt;- 1.38003493562413
     lvp &lt;- 3.87657341967489
     RSV &lt;- c(0, 0.196446108190896, 1)
     eta.cl ~ 0.101251418415006
     eta.v ~ 0.0993872449483344
     eta.q ~ 0.101302674763154
     eta.v2 ~ 0.0730497519364148
   })
   model({
     cmt(CENTRAL)
     cmt(PERI)
     cl &lt;- exp(lcl + eta.cl)
     v &lt;- exp(lvc + eta.v)
     q &lt;- exp(lq + eta.q)
     v2 &lt;- exp(lvp + eta.v2)
     v1 &lt;- v
     scale1 &lt;- v
     k21 &lt;- q/v2
     k12 &lt;- q/v
     d/dt(CENTRAL) &lt;- k21 * PERI - k12 * CENTRAL - cl * CENTRAL/v1
     d/dt(PERI) &lt;- -k21 * PERI + k12 * CENTRAL
     f &lt;- CENTRAL/scale1
     f ~ prop(RSV)
   })
 }

new &lt;- try(as.nonmem2rx(mod2, mod))
if (!inherits(new, "try-error")) print(new, page=1)



</code></pre>

<hr>
<h2 id='autoplot.nonmem2rx'>Autoplot nonmem2rx object</h2><span id='topic+autoplot.nonmem2rx'></span>

<h3>Description</h3>

<p>Autoplot nonmem2rx object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'nonmem2rx'
autoplot(
  object,
  ...,
  ncol = 3,
  nrow = 3,
  log = "",
  xlab = "Time",
  ylab = "Predictions",
  page = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="autoplot.nonmem2rx_+3A_object">object</code></td>
<td>
<p>an object, whose class will determine the behaviour of autoplot</p>
</td></tr>
<tr><td><code id="autoplot.nonmem2rx_+3A_...">...</code></td>
<td>
<p>ignored parameters for <code>nonmem2rx</code> objects</p>
</td></tr>
<tr><td><code id="autoplot.nonmem2rx_+3A_nrow">nrow</code>, <code id="autoplot.nonmem2rx_+3A_ncol">ncol</code></td>
<td>
<p>Number of rows and columns</p>
</td></tr>
<tr><td><code id="autoplot.nonmem2rx_+3A_log">log</code></td>
<td>
<p>Should &quot;&quot; (neither x nor y), &quot;x&quot;, &quot;y&quot;, or &quot;xy&quot; (or &quot;yx&quot;) be
log-scale?</p>
</td></tr>
<tr><td><code id="autoplot.nonmem2rx_+3A_xlab">xlab</code>, <code id="autoplot.nonmem2rx_+3A_ylab">ylab</code></td>
<td>
<p>The x and y axis labels</p>
</td></tr>
<tr><td><code id="autoplot.nonmem2rx_+3A_page">page</code></td>
<td>
<p>number of page(s) for the individual plots, by default
(<code>FALSE</code>) no pages are print; You can use <code>TRUE</code> for all pages to
print, or list which pages you want to print</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 object
</p>

<hr>
<h2 id='nmcov'>Read in data file</h2><span id='topic+nmcov'></span>

<h3>Description</h3>

<p>Read in data file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmcov(file, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmcov_+3A_file">file</code></td>
<td>
<p>file name to read the results from</p>
</td></tr>
<tr><td><code id="nmcov_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code>data.table::fread</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with covariance step from NONMEM
</p>


<h3>Author(s)</h3>

<p>Philip Delff and Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nmcov(system.file("mods/cpt/runODE032.cov", package="nonmem2rx"))
</code></pre>

<hr>
<h2 id='nmext'>Reads the NONMEM <code>.ext</code> file for final parameter information</h2><span id='topic+nmext'></span>

<h3>Description</h3>

<p>Reads the NONMEM <code>.ext</code> file for final parameter information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmext(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmext_+3A_file">file</code></td>
<td>
<p>File where the list is located</p>
</td></tr>
</table>


<h3>Value</h3>

<p>return a list with <code style="white-space: pre;">&#8288;$theta&#8288;</code>, <code style="white-space: pre;">&#8288;$eta&#8288;</code> and <code style="white-space: pre;">&#8288;$eps&#8288;</code>
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nmext(system.file("run001.ext", package="nonmem2rx"))
</code></pre>

<hr>
<h2 id='nminfo'>Get the most accurate information you can get from NONMEM</h2><span id='topic+nminfo'></span>

<h3>Description</h3>

<p>Get the most accurate information you can get from NONMEM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nminfo(
  file,
  mod = ".mod",
  xml = ".xml",
  ext = ".ext",
  cov = ".cov",
  phi = ".phi",
  lst = ".lst",
  useXml = TRUE,
  useExt = TRUE,
  useCov = TRUE,
  usePhi = TRUE,
  useLst = TRUE,
  strictLst = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nminfo_+3A_file">file</code></td>
<td>
<p>nonmem file, like control stream, phi.  This function
will remove the extension to try to get the right information.
It preferentially selects the most accurate estimates from the
file.</p>
</td></tr>
<tr><td><code id="nminfo_+3A_mod">mod</code></td>
<td>
<p>the NONMEM output extension, defaults to <code>.mod</code></p>
</td></tr>
<tr><td><code id="nminfo_+3A_xml">xml</code></td>
<td>
<p>the NONMEM xml file extension , defaults to <code>.xml</code></p>
</td></tr>
<tr><td><code id="nminfo_+3A_ext">ext</code></td>
<td>
<p>the NONMEM ext file extension, defaults to <code>.ext</code></p>
</td></tr>
<tr><td><code id="nminfo_+3A_cov">cov</code></td>
<td>
<p>the NONMEM covariance file extension, defaults to <code>.cov</code></p>
</td></tr>
<tr><td><code id="nminfo_+3A_phi">phi</code></td>
<td>
<p>the NONMEM eta/phi file extension, defaults to <code>.phi</code></p>
</td></tr>
<tr><td><code id="nminfo_+3A_lst">lst</code></td>
<td>
<p>the NONMEM output extension, defaults to <code>.lst</code></p>
</td></tr>
<tr><td><code id="nminfo_+3A_usexml">useXml</code></td>
<td>
<p>if present, use the NONMEM xml file to import much of
the NONMEM information</p>
</td></tr>
<tr><td><code id="nminfo_+3A_useext">useExt</code></td>
<td>
<p>if present, use the NONMEM ext file to extract
parameter estimates (default <code>TRUE</code>), otherwise defaults to
parameter estimates extracted in the NONMEM output</p>
</td></tr>
<tr><td><code id="nminfo_+3A_usecov">useCov</code></td>
<td>
<p>if present, use the NONMEM cov file to import the
covariance, otherwise import the covariance with list file</p>
</td></tr>
<tr><td><code id="nminfo_+3A_usephi">usePhi</code></td>
<td>
<p>if present, use the NONMEM phi file to extract etas
(default <code>TRUE</code>), otherwise defaults to etas in the tables (if
present)</p>
</td></tr>
<tr><td><code id="nminfo_+3A_uselst">useLst</code></td>
<td>
<p>if present, use the NONMEM lst file to extract NONMEM
information</p>
</td></tr>
<tr><td><code id="nminfo_+3A_strictlst">strictLst</code></td>
<td>
<p>The list parsing needs to be correct for a
successful load (default <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="nminfo_+3A_verbose">verbose</code></td>
<td>
<p>this is a flag to be more verbose when reading information in, by default this is <code>FALSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of NONMEM information
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nminfo(system.file("mods/cpt/runODE032.res", package="nonmem2rx"))
</code></pre>

<hr>
<h2 id='nmlst'>Reads the NONMEM <code>.lst</code> file for final parameter information</h2><span id='topic+nmlst'></span>

<h3>Description</h3>

<p>Reads the NONMEM <code>.lst</code> file for final parameter information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmlst(file, strictLst = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmlst_+3A_file">file</code></td>
<td>
<p>File where the list is located</p>
</td></tr>
<tr><td><code id="nmlst_+3A_strictlst">strictLst</code></td>
<td>
<p>The list parsing needs to be correct for a
successful load (default <code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>return a list with <code style="white-space: pre;">&#8288;$theta&#8288;</code>, <code style="white-space: pre;">&#8288;$eta&#8288;</code> and <code style="white-space: pre;">&#8288;$eps&#8288;</code> and other
information about the control stream
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nmlst(system.file("mods/DDMODEL00000322/HCQ1CMT.lst", package="nonmem2rx"))
nmlst(system.file("mods/DDMODEL00000302/run1.lst", package="nonmem2rx"))
nmlst(system.file("mods/DDMODEL00000301/run3.lst", package="nonmem2rx"))
nmlst(system.file("mods/cpt/runODE032.res", package="nonmem2rx"))
</code></pre>

<hr>
<h2 id='nmtab'>Read nonmem table file</h2><span id='topic+nmtab'></span>

<h3>Description</h3>

<p>Read nonmem table file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmtab(file, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmtab_+3A_file">file</code></td>
<td>
<p>file name to read the results from</p>
</td></tr>
<tr><td><code id="nmtab_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code>data.table::fread</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame of the read table
</p>


<h3>Author(s)</h3>

<p>Philip Delff, Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nmtab(system.file("mods/cpt/runODE032.csv", package="nonmem2rx"))
</code></pre>

<hr>
<h2 id='nmxml'>Read a nonmem xml and create output similar to the <code>nmlst()</code></h2><span id='topic+nmxml'></span>

<h3>Description</h3>

<p>Read a nonmem xml and create output similar to the <code>nmlst()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmxml(xml)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmxml_+3A_xml">xml</code></td>
<td>
<p>xml file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of nonmem information
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nmxml(system.file("mods/cpt/runODE032.xml", package="nonmem2rx"))
</code></pre>

<hr>
<h2 id='nmxmlCov'>Get the xml for debugging (without including data etc)</h2><span id='topic+nmxmlCov'></span><span id='topic+nmxmlOmega'></span><span id='topic+nmxmlSigma'></span><span id='topic+nmxmlTheta'></span>

<h3>Description</h3>

<p>Get the xml for debugging (without including data etc)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmxmlCov(xml, xmlout, tag = "//nm:covariance")

nmxmlOmega(xml, xmlout, tag = "//nm:omega")

nmxmlSigma(xml, xmlout, tag = "//nm:sigma")

nmxmlTheta(xml, xmlout, tag = "//nm:theta")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmxmlCov_+3A_xml">xml</code></td>
<td>
<p>Original xml file</p>
</td></tr>
<tr><td><code id="nmxmlCov_+3A_xmlout">xmlout</code></td>
<td>
<p>xml output (only includes xml)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing, called for side effects
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>

<hr>
<h2 id='nonmem2rx'>Convert a NONMEM source file to a rxode model (nlmixr2-syle)</h2><span id='topic+nonmem2rx'></span>

<h3>Description</h3>

<p>Convert a NONMEM source file to a rxode model (nlmixr2-syle)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nonmem2rx(
  file,
  inputData = NULL,
  nonmemOutputDir = NULL,
  rename = NULL,
  tolowerLhs = TRUE,
  thetaNames = TRUE,
  etaNames = TRUE,
  cmtNames = TRUE,
  updateFinal = TRUE,
  determineError = TRUE,
  validate = getOption("nonmem2rx.validate", TRUE),
  nonmemData = FALSE,
  strictLst = FALSE,
  unintFixed = FALSE,
  extended = getOption("nonmem2rx.extended", FALSE),
  nLinesPro = 20L,
  delta = 1e-04,
  usePhi = TRUE,
  useExt = TRUE,
  useCov = TRUE,
  useXml = TRUE,
  useLst = TRUE,
  mod = ".mod",
  cov = ".cov",
  phi = ".phi",
  lst = getOption("nonmem2rx.lst", ".lst"),
  xml = ".xml",
  ext = ".ext",
  scanLines = getOption("nonmem2rx.scanLines", 50L),
  save = getOption("nonmem2rx.save", NA),
  saveTime = getOption("nonmem2rx.saveTime", 15),
  overwrite = getOption("nonmem2rx.overwrite", TRUE),
  load = getOption("nonmem2rx.load", TRUE),
  compress = getOption("nonmem2rx.compress", TRUE),
  keep = getOption("nonmem2rx.keep", c("dfSub", "dfObs", "thetaMat", "sigma"))
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nonmem2rx_+3A_file">file</code></td>
<td>
<p>NONMEM run file, like an <code>.xml</code> or <code>.lst</code> file or even
a control stream</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_inputdata">inputData</code></td>
<td>
<p>this is a path to the input dataset (or <code>NULL</code> to
determine from the dataset).  Often the input dataset may be
different from the place it points to in the control stream
because directories can be created to run NONMEM from a script.
Because of this, when this is specified the input data will be
assumed to be from here instead.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_nonmemoutputdir">nonmemOutputDir</code></td>
<td>
<p>This is a path the the nonmem output
directory.  When not <code>NULL</code> it will assume that the diretory for
the output files is located here instead of where the control
stream currently exists.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_rename">rename</code></td>
<td>
<p>When not <code>NULL</code> this should be a named character
vector that contains the parameters that should be renamed.  For
example, if the model uses the variable <code>YTYPE</code> and has <code>CMT</code> it
isn't compatible with <code>rxode2</code>/<code>nlmixr2</code>. You can change this for
the input dataset and the model to create a new model that still
reproduces the NONMEM output by specifying
<code>rename=c(dvid="YTYPE")</code></p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_tolowerlhs">tolowerLhs</code></td>
<td>
<p>Boolean to change the lhs to lower case (default:
<code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_thetanames">thetaNames</code></td>
<td>
<p>this could be a boolean indicating that the theta
names should be changed to the comment-labeled names (default:
<code>TRUE</code>). This could also be a character vector of the theta names
(in order) to be replaced.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_etanames">etaNames</code></td>
<td>
<p>this could be a boolean indicating that the eta
names should be changed to the comment-labeled names (default:
<code>TRUE</code>). This could also be a character vector of the theta names
(in order) to be replaced.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_cmtnames">cmtNames</code></td>
<td>
<p>this could be a boolean indicating that the
compartment names should be changed to the named compartments in
the <code style="white-space: pre;">&#8288;$MODEL&#8288;</code> by <code>COMP = (name)</code> (default: <code>TRUE</code>). This could
also be a character vector of the compartment names (in order) to
be replaced.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_updatefinal">updateFinal</code></td>
<td>
<p>Update the parsed model with the model estimates
from the <code>.lst</code> output file.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_determineerror">determineError</code></td>
<td>
<p>Boolean to try to determine the <code>nlmixr2</code>-style residual
error model (like <code>ipred ~ add(add.sd)</code>), otherwise endpoints are
not defined in the <code>rxode2</code>/<code>nlmixr2</code> model (default: <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_validate">validate</code></td>
<td>
<p>Boolean that this tool will attempt to &quot;validate&quot;
the model by solving the derived model under pred conditions
(etas are zero and eps values are zero)</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_nonmemdata">nonmemData</code></td>
<td>
<p>Boolean that tells <code>nonmem2rx</code> to read in the
nonmem data (if possible) even if the model will not be validated
(like if it is a simulation run or missing final parameter
estimates).  By default this is <code>FALSE</code>, nonmem data will not be
integrated into the nonmem2rx ui.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_strictlst">strictLst</code></td>
<td>
<p>The list parsing needs to be correct for a
successful load (default <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_unintfixed">unintFixed</code></td>
<td>
<p>Treat uninteresting values as fixed parameters (default <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_extended">extended</code></td>
<td>
<p>Translate extended control streams from tools like
wings for NONMEM</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_nlinespro">nLinesPro</code></td>
<td>
<p>The number of lines to check for the $PROBLEM
statement.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_delta">delta</code></td>
<td>
<p>this is the offset for NONMEM times that are tied</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_usephi">usePhi</code></td>
<td>
<p>if present, use the NONMEM phi file to extract etas
(default <code>TRUE</code>), otherwise defaults to etas in the tables (if
present)</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_useext">useExt</code></td>
<td>
<p>if present, use the NONMEM ext file to extract
parameter estimates (default <code>TRUE</code>), otherwise defaults to
parameter estimates extracted in the NONMEM output</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_usecov">useCov</code></td>
<td>
<p>if present, use the NONMEM cov file to import the
covariance, otherwise import the covariance with list file</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_usexml">useXml</code></td>
<td>
<p>if present, use the NONMEM xml file to import much of
the NONMEM information</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_uselst">useLst</code></td>
<td>
<p>if present, use the NONMEM lst file to extract NONMEM
information</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_mod">mod</code></td>
<td>
<p>the NONMEM output extension, defaults to <code>.mod</code></p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_cov">cov</code></td>
<td>
<p>the NONMEM covariance file extension, defaults to <code>.cov</code></p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_phi">phi</code></td>
<td>
<p>the NONMEM eta/phi file extension, defaults to <code>.phi</code></p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_lst">lst</code></td>
<td>
<p>the NONMEM output extension, defaults to <code>.lst</code></p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_xml">xml</code></td>
<td>
<p>the NONMEM xml file extension , defaults to <code>.xml</code></p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_ext">ext</code></td>
<td>
<p>the NONMEM ext file extension, defaults to <code>.ext</code></p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_scanlines">scanLines</code></td>
<td>
<p>number of lines to scan for comment chars when
<code style="white-space: pre;">&#8288;IGNORE=@&#8288;</code>, default is 50</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_save">save</code></td>
<td>
<p>This can be:
</p>

<ul>
<li><p> a <code>NULL</code> (meaning don't save),
</p>
</li>
<li><p> a logical (default <code>FALSE</code>, don't save) that when <code>TRUE</code> will use
the base name of the control stream, append <code>.qs</code> and save the file
using <code>qs::qsave()</code>
</p>
</li>
<li><p> A path to a file to write
</p>
<p>Note that this file will be saved with qs::qsave() and can be
loaded with qs::qread()
</p>
</li>
<li><p> A <code>NA</code> value which means save if the whole process (including
validation) takes too much time
</p>
</li></ul>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_savetime">saveTime</code></td>
<td>
<p>The time that the translation/validation needs (in
secs) before it will save to avoid having to rerun the model
(default 15 for 15 seconds)</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_overwrite">overwrite</code></td>
<td>
<p>is a boolean to allow overwriting the save file
(see <code>load</code> for more information).</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_load">load</code></td>
<td>
<p>a boolean that says to load the save file (if it
exists) instead of re-running the translation and validation.
Note if <code>overwrite=TRUE</code> and <code>load=TRUE</code> then this will overwrite
based on time stamp of the files.  If the save file is newer than
the input file, then load that file, otherwise regenerate and
overwrite.  This works best if you point to an output file, like
a <code>.xml</code> or listing file instead of the control stream</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_compress">compress</code></td>
<td>
<p>a boolean indicating if the UI should be a
compressed UI.  If you are using this for simulation with old
versions of rxode2, the compressed ui is not supported, so this
should be <code>FALSE</code>. Otherwise use <code>TRUE</code> if you are using a newer
rxode2.</p>
</td></tr>
<tr><td><code id="nonmem2rx_+3A_keep">keep</code></td>
<td>
<p>is a character vector of imported model items that are
kept in the model itself; The defaults is &quot;sigma&quot; which keeps the
sigma matrix in the model itself.  You can add rxode2 solving
options that are imported from NONMEM to keep in the model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since some of these options you may want to set per project, the
following options are queried:
</p>

<ul>
<li> <p><code>nonmem2rx.validate</code> - boolean to validate the model (default: <code>TRUE</code>)
</p>
</li>
<li> <p><code>nonmem2rx.lst</code> - default extension for output (default: <code>.lst</code>)
</p>
</li>
<li> <p><code>nonmem2rx.save</code> - should nonmem2rx save the model output?
</p>
</li>
<li> <p><code>nonmem2rx.overwrite</code> - should nonmem2rx save output be
overwritten (default <code>TRUE</code>)
</p>
</li>
<li> <p><code>nonmem2rx.load</code> - should nonmem2rx load a saved model instead of
translating and validating again? (default <code>TRUE</code>)
</p>
</li>
<li> <p><code>nonmem2rx.extended</code> - should nonmem2rx support extended control
streams? (default <code>FALSE</code>)
</p>
</li>
<li> <p><code>nonmem2rx.compress</code> - should the ui be compressed or
uncompressed (default: <code>TRUE</code>)
</p>
</li></ul>



<h3>Value</h3>

<p>rxode2 function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# You can run a translation without validating the input.  This is
# a faster way to import a dataset (and allows the CRAN machines to
# run a quick example)

mod &lt;- nonmem2rx(system.file("mods/cpt/runODE032.ctl", package="nonmem2rx"), lst=".res",
                save=FALSE, validate=FALSE, compress=FALSE)



# Though by default you likely wish to validate the input

mod &lt;- nonmem2rx(system.file("mods/cpt/runODE032.ctl", package="nonmem2rx"),
                 lst=".res", save=FALSE)

mod

# you can plot to compare the pred/ipred differences

plot(mod)

# if you want to see the individual differences
# you can by plotting by page of plots

plot(mod, nrow=2, ncol=2, page=1, log="y")

# or select which pages you want to print

plot(mod, nrow=2, ncol=2, page=c(1,3), log="y")


#' or even  all the individuals with
# plot(page=TRUE)

plot(mod, nrow=5, ncol=5, page=TRUE, log="y")

# you can also convert to a nlmixr2 object, but need babelmixr2 for
# that conversion



</code></pre>

<hr>
<h2 id='nonmem2rxRec.abb'>Record handling for nonmem records</h2><span id='topic+nonmem2rxRec.abb'></span><span id='topic+nonmem2rxRec.pk'></span><span id='topic+nonmem2rxRec.pre'></span><span id='topic+nonmem2rxRec.des'></span><span id='topic+nonmem2rxRec.mix'></span><span id='topic+nonmem2rxRec.err'></span><span id='topic+nonmem2rxRec.dat'></span><span id='topic+nonmem2rxRec.inp'></span><span id='topic+nonmem2rxRec.mod'></span><span id='topic+nonmem2rxRec.ome'></span><span id='topic+nonmem2rxRec.sig'></span><span id='topic+nonmem2rxRec.pro'></span><span id='topic+nonmem2rxRec.aaa'></span><span id='topic+nonmem2rxRec'></span><span id='topic+nonmem2rxRec.default'></span><span id='topic+nonmem2rxRec.sub'></span><span id='topic+nonmem2rxRec.tab'></span><span id='topic+nonmem2rxRec.the'></span>

<h3>Description</h3>

<p>Record handling for nonmem records
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'abb'
nonmem2rxRec(x)

## S3 method for class 'pk'
nonmem2rxRec(x)

## S3 method for class 'pre'
nonmem2rxRec(x)

## S3 method for class 'des'
nonmem2rxRec(x)

## S3 method for class 'mix'
nonmem2rxRec(x)

## S3 method for class 'err'
nonmem2rxRec(x)

## S3 method for class 'dat'
nonmem2rxRec(x)

## S3 method for class 'inp'
nonmem2rxRec(x)

## S3 method for class 'mod'
nonmem2rxRec(x)

## S3 method for class 'ome'
nonmem2rxRec(x)

## S3 method for class 'sig'
nonmem2rxRec(x)

## S3 method for class 'pro'
nonmem2rxRec(x)

## S3 method for class 'aaa'
nonmem2rxRec(x)

nonmem2rxRec(x)

## Default S3 method:
nonmem2rxRec(x)

## S3 method for class 'sub'
nonmem2rxRec(x)

## S3 method for class 'tab'
nonmem2rxRec(x)

## S3 method for class 'the'
nonmem2rxRec(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nonmem2rxRec.abb_+3A_x">x</code></td>
<td>
<p>Nonmem record data item, should be of class c(stdRec,
&quot;nonmem2rx&quot;) where the stdRec is the standardized record (pro for
<code style="white-space: pre;">&#8288;$PROBLEM&#8288;</code>, etc)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Can add record parsing and handling by creating a S3 method for each type of standardized method
</p>


<h3>Value</h3>

<p>Nothing, called for side effects
</p>


<h3>Author(s)</h3>

<p>Matthew L. Fidler
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+rxode2'></span><span id='topic+rxode'></span><span id='topic+RxODE'></span><span id='topic++25+3E+25'></span><span id='topic+ini'></span><span id='topic+model'></span><span id='topic+rxRename'></span><span id='topic+rxSolve'></span><span id='topic+rxUiGet'></span><span id='topic+logit'></span><span id='topic+expit'></span><span id='topic+model+3C-'></span><span id='topic+lotri'></span><span id='topic+autoplot'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>ggplot2</dt><dd><p><code><a href="ggplot2.html#topic+autoplot">autoplot</a></code></p>
</dd>
<dt>lotri</dt><dd><p><code><a href="lotri.html#topic+lotri">lotri</a></code></p>
</dd>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic+pipe">%&gt;%</a></code></p>
</dd>
<dt>rxode2</dt><dd><p><code><a href="rxode2.html#topic+logit">expit</a></code>, <code><a href="rxode2.html#topic+ini">ini</a></code>, <code><a href="rxode2.html#topic+logit">logit</a></code>, <code><a href="rxode2.html#topic+model">model</a></code>, <code><a href="rxode2.html#topic+model-set">model&lt;-</a></code>, <code><a href="rxode2.html#topic+rxode2">rxode</a></code>, <code><a href="rxode2.html#topic+rxode2">RxODE</a></code>, <code><a href="rxode2.html#topic+rxode2">rxode2</a></code>, <code><a href="rxode2.html#topic+rxRename">rxRename</a></code>, <code><a href="rxode2.html#topic+rxSolve">rxSolve</a></code>, <code><a href="rxode2.html#topic+rxUiGet">rxUiGet</a></code></p>
</dd>
</dl>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package dang</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dang}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alphavantage'><p>Retrieve real-time data from AlphaVantage</p></a></li>
<li><a href='#as.data.table.xts'><p>Convert an xts object into a data.table</p></a></li>
<li><a href='#assignFormals'><p>Assign formal arguments from function</p></a></li>
<li><a href='#checkCRANStatus'><p>Maintainer Status at CRAN</p></a></li>
<li><a href='#checkPackageAsciiCode'><p>checkPackageAsciiCode</p></a></li>
<li><a href='#demotivate'><p>Display a demotivating quote</p></a></li>
<li><a href='#getGitRoot'><p>Are we in a <code>git</code> repository?</p></a></li>
<li><a href='#googleFinanceData'><p>Historical Price Data Download from Google Finance</p></a></li>
<li><a href='#intradayMarketMonitor'><p>Intra-day market monitor</p></a></li>
<li><a href='#isConnected'><p>Is the current session (networked) and connected?</p></a></li>
<li><a href='#limitDataTableCores'><p>Set data.table threads respecting default settingss</p></a></li>
<li><a href='#ls.objects'><p>List largest objects and show memory use</p></a></li>
<li><a href='#motivate'><p>Display a motivating quote</p></a></li>
<li><a href='#muteTweeters'><p>Mute Twitter Users with Excessive Hashtag Use</p></a></li>
<li><a href='#plotOBOS'><p>Plot Overbought/Oversold Regions for A Stock or ETF</p></a></li>
<li><a href='#print.xts'><p>Printing helper function for xts object</p></a></li>
<li><a href='#readAndConvert'><p>readAndConvert</p></a></li>
<li><a href='#rollMinMax'><p>Rolling Minimum or Maximum over a Fixed Window</p></a></li>
<li><a href='#shadowedPackages'><p>Find Shadowed Packages</p></a></li>
<li><a href='#silent'><p>Silently load a library</p></a></li>
<li><a href='#str.language'><p>Print a parse tree</p></a></li>
<li><a href='#wday'><p>wday</p></a></li>
<li><a href='#ymd'><p>Format a Date(time) object as ymd</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'Dang' Associated New Goodies</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.16</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-12-02</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk Eddelbuettel with contributions by Brodie Gaslam, Kevin Denny,
 Kabira Namit, Colin Gillespie, R Core, Josh Ulrich, Jordan Mark Barbone,
 Bill Dunlap, and others.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dirk Eddelbuettel &lt;edd@debian.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of utility functions.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/eddelbuettel/dang">https://github.com/eddelbuettel/dang</a>,
<a href="https://dirk.eddelbuettel.com/code/dang.html">https://dirk.eddelbuettel.com/code/dang.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/eddelbuettel/dang/issues">https://github.com/eddelbuettel/dang/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>anytime, data.table, zoo, xts, TTR, quantmod, rtweet</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>tidyCpp</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-02 12:45:28 UTC; edd</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-02 13:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='alphavantage'>Retrieve real-time data from AlphaVantage</h2><span id='topic+alphavantage'></span>

<h3>Description</h3>

<p>Fetch a real-time market data series from AlphaVantage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alphavantage(sym)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alphavantage_+3A_sym">sym</code></td>
<td>
<p>Character value for the ticker</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Several optional parameters could be set, but are not currently.
</p>


<h3>Value</h3>

<p>A data.table object
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='as.data.table.xts'>Convert an xts object into a data.table</h2><span id='topic+as.data.table.xts'></span><span id='topic+as.data.table'></span><span id='topic+as.data.table.default'></span>

<h3>Description</h3>

<p>Convert an xts object into a data.table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xts'
as.data.table(x)

as.data.table(x)

## Default S3 method:
as.data.table(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.data.table.xts_+3A_x">x</code></td>
<td>
<p>An xts object</p>
</td></tr>
<tr><td><code id="as.data.table.xts_+3A_...">...</code></td>
<td>
<p>Catch-all arguments passed on to methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is still experimental.  Note that all four <em>added</em>
columns are keys to the data.table object, and that
<code>setNumericRounding(0)</code> is executed too,
</p>


<h3>Value</h3>

<p>A data.table object with new columns date, time, micros,
pt providing, respectively the data as <code>IDate</code>, time as
<code>ITime</code>, microseconds (rounded) and numeric
<code>POSIXct</code>.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='assignFormals'>Assign formal arguments from function</h2><span id='topic+assignFormals'></span>

<h3>Description</h3>

<p>Debugging helper to assign formals from function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assignFormals(f, env = .GlobalEnv)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assignFormals_+3A_f">f</code></td>
<td>
<p>A function</p>
</td></tr>
<tr><td><code id="assignFormals_+3A_env">env</code></td>
<td>
<p>An environment to assign the values to, defaults
to global environment,</p>
</td></tr>
</table>


<h3>Details</h3>

<p>(Beta) Attempt get default values from a given function,
extracting its arguments and assigning which should help in
debugging via <code>browser()</code> and other helper functions.
</p>


<h3>Value</h3>

<p>Nothing, but a side effect of assignment in global
environment
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='checkCRANStatus'>Maintainer Status at CRAN</h2><span id='topic+checkCRANStatus'></span>

<h3>Description</h3>

<p>Report Maintainer Status at CRAN
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkCRANStatus(email, cache, cache.life = 24 * 3600)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkCRANStatus_+3A_email">email</code></td>
<td>
<p>A character variable with the maintainer email</p>
</td></tr>
<tr><td><code id="checkCRANStatus_+3A_cache">cache</code></td>
<td>
<p>A character variable with an optional cache file,
default value is to use a file inside the per-session
temporary directory</p>
</td></tr>
<tr><td><code id="checkCRANStatus_+3A_cache.life">cache.life</code></td>
<td>
<p>A numeric timeout, defaults to one day</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function retrieves the maintainer status (given an email)
at CRAN. Values are optionally cached; the default cache location
is inside the per-session temporary directory as R should not write
elsewhere.
</p>


<h3>Value</h3>

<p>Nothing, the sideffect of the display is the main effect
</p>


<h3>Author(s)</h3>

<p>Brodie Gaslam (with minor modifications by Dirk Eddelbuettel)
</p>

<hr>
<h2 id='checkPackageAsciiCode'>checkPackageAsciiCode</h2><span id='topic+checkPackageAsciiCode'></span>

<h3>Description</h3>

<p>Check a package directory for non-ASCII characters in source files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkPackageAsciiCode(dir, respect_quotes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkPackageAsciiCode_+3A_dir">dir</code></td>
<td>
<p>Character variable with path to directory to be checked</p>
</td></tr>
<tr><td><code id="checkPackageAsciiCode_+3A_respect_quotes">respect_quotes</code></td>
<td>
<p>Logical variable whether quotes need to be checked</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is a renamed and slightly edited copy of the base R function
<code>.check_package_ASCII_code</code>. It uses an unexported C function, also
included, from base R, called as <code>_check_nonASCII</code>.
</p>


<h3>Value</h3>

<p>A vector of things that are wrong per this function, also displayed
on standard output
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel for this version, R Core for the underlying code
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
checkPackageAsciiCode(".", FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='demotivate'>Display a demotivating quote</h2><span id='topic+demotivate'></span>

<h3>Description</h3>

<p>Display a demotivating quote to remind the users of the harsh reality
econometric and statistical practice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>demotivate(x, width = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="demotivate_+3A_x">x</code></td>
<td>
<p>A index value chosen to select a quote; if not given a quote is
chosen randomly.</p>
</td></tr>
<tr><td><code id="demotivate_+3A_width">width</code></td>
<td>
<p>The desired display width.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a port of <code>demotivate</code> command for 'Stata' from the
ado file at <a href="http://fmwww.bc.edu/repec/bocode/d/demotivate.ado">http://fmwww.bc.edu/repec/bocode/d/demotivate.ado</a>.
</p>


<h3>Value</h3>

<p>The formatted is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel for this function, and Kevin Denny for the
'Stata' original.
</p>


<h3>See Also</h3>

<p><a href="https://ideas.repec.org/c/boc/bocode/s458576.html">https://ideas.repec.org/c/boc/bocode/s458576.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>demotivate()
</code></pre>

<hr>
<h2 id='getGitRoot'>Are we in a <code>git</code> repository?</h2><span id='topic+getGitRoot'></span><span id='topic+inGit'></span>

<h3>Description</h3>

<p>The <code>getGitRoot()</code> function recursively ascends the
filesystem tree from the given directory until it either finds a
directory <code>.git</code>, or the top-level directory to abort the
search. The root directory of the <code>git</code> repository is
returned, with an exmpty string in the case of no repository.  The
<code>inGit()</code> function turns this into boolean predicate returning
either <code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getGitRoot(cwd = getwd())

inGit(cwd = getwd())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getGitRoot_+3A_cwd">cwd</code></td>
<td>
<p>The start directory, default to the current working
directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>getGitRoot()</code>, the path of the directory containing
the <code>.git</code> directory, ie the project root directory, or an
empty string in case the search started outside a <code>git</code> directory.
The <code>inGit()</code> function returns a boolean as to whether a <code>git</code>
repository was found or not.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inGit()
</code></pre>

<hr>
<h2 id='googleFinanceData'>Historical Price Data Download from Google Finance</h2><span id='topic+googleFinanceData'></span>

<h3>Description</h3>

<p>Download historical time series from Google Finance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>googleFinanceData(sym, current = TRUE, sy = 2005, sm = 1, sd = 1, ey,
  em, ed)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="googleFinanceData_+3A_sym">sym</code></td>
<td>
<p>A character string for a (tradeable) symbol</p>
</td></tr>
<tr><td><code id="googleFinanceData_+3A_current">current</code></td>
<td>
<p>A logical switch to indicate whether the current time is the endtime</p>
</td></tr>
<tr><td><code id="googleFinanceData_+3A_sy">sy</code></td>
<td>
<p>An integer value for the start year, default is 2005</p>
</td></tr>
<tr><td><code id="googleFinanceData_+3A_sm">sm</code></td>
<td>
<p>An integer value for the start month, default is 1</p>
</td></tr>
<tr><td><code id="googleFinanceData_+3A_sd">sd</code></td>
<td>
<p>An integer value for the start date, default is 1</p>
</td></tr>
<tr><td><code id="googleFinanceData_+3A_ey">ey</code></td>
<td>
<p>An optional integer value for the end year, required if <code>current</code> is false</p>
</td></tr>
<tr><td><code id="googleFinanceData_+3A_em">em</code></td>
<td>
<p>An optional integer value for the end month, required if <code>current</code> is false</p>
</td></tr>
<tr><td><code id="googleFinanceData_+3A_ed">ed</code></td>
<td>
<p>An optional integer value for the end day, required if <code>current</code> is false</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function uses an (unofficial) older CGI-style interface at
Google to download historical data.
</p>


<h3>Value</h3>

<p>A <code>data.table</code> object with a key on <code>date</code>
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>See Also</h3>

<p>The post at
<a href="https://web.archive.org/web/20221007040328/https://chrisconlan.com/download-historical-stock-data-google-r-python/">https://web.archive.org/web/20221007040328/https://chrisconlan.com/download-historical-stock-data-google-r-python/</a>
provided the initial starting point
</p>

<hr>
<h2 id='intradayMarketMonitor'>Intra-day market monitor</h2><span id='topic+intradayMarketMonitor'></span>

<h3>Description</h3>

<p>Intra-day Market Monitor for Security Prices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>intradayMarketMonitor(symbol = "^GSPC", defaultTZ = "America/Chicago",
  sleep = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="intradayMarketMonitor_+3A_symbol">symbol</code></td>
<td>
<p>A character variable with symbol understood by <code>getQuote</code> from
package <span class="pkg">quantmod</span>, default value is &ldquo;^GSPC&rdquo;.</p>
</td></tr>
<tr><td><code id="intradayMarketMonitor_+3A_defaulttz">defaultTZ</code></td>
<td>
<p>A character variable with the (local) timezone used for displaying
the data, default value is &ldquo;America/Chicagp&rdquo;.</p>
</td></tr>
<tr><td><code id="intradayMarketMonitor_+3A_sleep">sleep</code></td>
<td>
<p>An optional numerical value for the delay between updates, default is 10.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function periodically queries a public data source for a current price of given
symbol and updates an intra-daily chart for that security. A working example is symbol
&ldquo;^GSPC&rdquo; for the S&amp;P500 index which can be obtained in real-time during (New York)
trading hours. Other symbols may work.
</p>
<p>An alternate version offering 24-hour coverage, for example for futures on Globex, is
being prepared.
</p>
<p>The function could be further generalized in numerous way and should be considered
&lsquo;alpha&rsquo;. Current default values are a 15 second sleep, and fixed cut-off times
for market open/close states corresponding to NYSE hours. The data history is reset to
the two most recent days at the close, amd the data is snapshot to file (with the
filename derived from the symbol, and the path given by <code>tools::R_user_dir</code>).
These parameters might become configuration parameters in the future.
</p>


<h3>Value</h3>

<p>Nothing is returned, but a display of the current price and the recent history
is updated, and the loops loops &lsquo;forever&rsquo;.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel extending and refactoring the original code by Josh Ulrich
</p>


<h3>See Also</h3>

<p><a href="https://gist.github.com/joshuaulrich/ee11ef67b1461df399b84efd3c8f9f67#file-intraday-sp500-r">https://gist.github.com/joshuaulrich/ee11ef67b1461df399b84efd3c8f9f67#file-intraday-sp500-r</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("quantmod", quietly)) {           # only suggested packages used
   suppressMessages({library(xts);library(quantmod)})  # dampen noise, add dang as needed
   intradayMarketMonitor()
}
</code></pre>

<hr>
<h2 id='isConnected'>Is the current session (networked) and connected?</h2><span id='topic+isConnected'></span>

<h3>Description</h3>

<p>Function to (heuristically) test for a network connection by attempting
to connect to a given website.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isConnected(site = "https://www.google.com")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="isConnected_+3A_site">site</code></td>
<td>
<p>Character variable with site to try to connect to,
defauls to <code>http://www.google.com</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The main page of Google is used as a proxy for overall network
connectivity as Google is generally 'network-close' and the page
is relatively small.  If a network is unavailable this fails
generally already on domain name service resolution. Special thanks
to Barry and Brodie for a very helpful discussion re-discovering this
function.
</p>


<h3>Value</h3>

<p>A boolean value indicating networking status
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='limitDataTableCores'>Set data.table threads respecting default settingss</h2><span id='topic+limitDataTableCores'></span>

<h3>Description</h3>

<p>Set threads for data.table respecting possible local settings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>limitDataTableCores(ncores, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="limitDataTableCores_+3A_ncores">ncores</code></td>
<td>
<p>A numeric or character variable with the desired
count of threads to use</p>
</td></tr>
<tr><td><code id="limitDataTableCores_+3A_verbose">verbose</code></td>
<td>
<p>A logical value with a default of &lsquo;FALSE&rsquo; to
operate more verbosely</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function set the number of threads <span class="pkg">data.table</span> will use
while reflecting two possible machine-specific settings from the
environment variable &lsquo;OMP_THREAD_LIMIT&rsquo; as well as the R
option &lsquo;Ncpus&rsquo; (uses e.g. for parallel builds).
</p>


<h3>Value</h3>

<p>The return value of the <span class="pkg">data.table</span> function
<code>setDTthreads</code> which is called as a side-effect.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='ls.objects'>List largest objects and show memory use</h2><span id='topic+ls.objects'></span><span id='topic+lsos'></span><span id='topic+showMemoryUse'></span>

<h3>Description</h3>

<p>List object and memory used by these objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls.objects(pos = 1, pattern, order.by, decreasing = FALSE, head = FALSE,
  n = 5)

lsos(..., n = 10)

showMemoryUse(sort = "size", decreasing = FALSE, limit)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ls.objects_+3A_pos">pos</code></td>
<td>
<p>Position in search path, defaults to 1</p>
</td></tr>
<tr><td><code id="ls.objects_+3A_pattern">pattern</code></td>
<td>
<p>Pattern argument pass on to <code>ls</code></p>
</td></tr>
<tr><td><code id="ls.objects_+3A_order.by">order.by</code></td>
<td>
<p>Optional sort order column</p>
</td></tr>
<tr><td><code id="ls.objects_+3A_decreasing">decreasing</code></td>
<td>
<p>Optional switch for decreasing or increasing
sort order</p>
</td></tr>
<tr><td><code id="ls.objects_+3A_head">head</code></td>
<td>
<p>Optional switch to show <code>head(..., n)</code></p>
</td></tr>
<tr><td><code id="ls.objects_+3A_n">n</code></td>
<td>
<p>Number of elements to show, default to 5</p>
</td></tr>
<tr><td><code id="ls.objects_+3A_...">...</code></td>
<td>
<p>Passed through from <code>lsos</code> to <code>ls.objects</code></p>
</td></tr>
<tr><td><code id="ls.objects_+3A_sort">sort</code></td>
<td>
<p>Sort columns, defauls to &lsquo;size&rsquo;</p>
</td></tr>
<tr><td><code id="ls.objects_+3A_limit">limit</code></td>
<td>
<p>Optional cap on displayed number of items</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These helper functions have evolved over the years; some were also
posted on StackOverflow in response to
<a href="https://stackoverflow.com/questions/1358003/tricks-to-manage-the-available-memory-in-an-r-session">https://stackoverflow.com/questions/1358003/tricks-to-manage-the-available-memory-in-an-r-session</a>
</p>


<h3>Value</h3>

<p>The displayed data.frame is returned to, the main purpose
effect however is the displayed information
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel, based on and extending code in mailing list
posts by Petr Pikal and David Hinds
</p>

<hr>
<h2 id='motivate'>Display a motivating quote</h2><span id='topic+motivate'></span>

<h3>Description</h3>

<p>Display a motivating quote for users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>motivate(x, width = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="motivate_+3A_x">x</code></td>
<td>
<p>A index value chosen to select a quote; if not given a quote is
chosen randomly.</p>
</td></tr>
<tr><td><code id="motivate_+3A_width">width</code></td>
<td>
<p>The desired display width.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a port of <code>motivate</code> command for 'Stata' from the
ado file at <a href="http://fmwww.bc.edu/repec/bocode/m/motivate.ado">http://fmwww.bc.edu/repec/bocode/m/motivate.ado</a>
</p>


<h3>Value</h3>

<p>The formatted is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel for this function, and Kabira Namit for the
'Stata' original.
</p>


<h3>See Also</h3>

<p><a href="https://ideas.repec.org/c/boc/bocode/s458565.html">https://ideas.repec.org/c/boc/bocode/s458565.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>motivate()
</code></pre>

<hr>
<h2 id='muteTweeters'>Mute Twitter Users with Excessive Hashtag Use</h2><span id='topic+muteTweeters'></span>

<h3>Description</h3>

<p>Mutes Twitter accounts using for than 'ncrit' hashtags among 'N' tweets in
search of along with of 'term'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>muteTweeters(term = "#rstats", N = 1000, ncrit = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="muteTweeters_+3A_term">term</code></td>
<td>
<p>A character variable to search for, defaults to &lsquo;#rstats&rsquo;</p>
</td></tr>
<tr><td><code id="muteTweeters_+3A_n">N</code></td>
<td>
<p>An number of tweets to fetch, defaults to 1000</p>
</td></tr>
<tr><td><code id="muteTweeters_+3A_ncrit">ncrit</code></td>
<td>
<p>A number of hashtags after which use is deemed excessive, defaults to 10</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a modified version of the code in a wonderful tweet by Colin
Gillespie (csgillespie) on 2020-August-26. It requires the <code>rtweet</code>
and <code>data.table</code> packages.
</p>


<h3>Value</h3>

<p><code>NULL</code>, invisibly, but the function is invoked for the side effect
of calling <code>post_mute</code>.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## mute users with more than 10 hashtags among
## the 1000 most recent #rstats tweets
muteTweeters("#rstats", 1000, 10)

## End(Not run)
</code></pre>

<hr>
<h2 id='plotOBOS'>Plot Overbought/Oversold Regions for A Stock or ETF</h2><span id='topic+plotOBOS'></span>

<h3>Description</h3>

<p>Compute and display overbought and oversold regions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotOBOS(symbol, n = 50, type = c("sma", "ema", "zlema", "hma"),
  years = 1, blue = TRUE, current = TRUE, title = symbol,
  ticks = TRUE, axes = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotOBOS_+3A_symbol">symbol</code></td>
<td>
<p>A (required) character string for stock symbol, or
alternatively a <code>xts</code> or <code>zoo</code> object with data</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_n">n</code></td>
<td>
<p>An optional integer for the moving average length,
defaults to 50</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_type">type</code></td>
<td>
<p>An optional character string for the type of moving
average; currently supported are &lsquo;SMA&rsquo;, &lsquo;EMA&rsquo;,
&lsquo;ZLEMA&rsquo;, and &lsquo;HMA&rsquo;.</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_years">years</code></td>
<td>
<p>An optional numeric or integer value for the number
of years of data to display, defaults to one</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_blue">blue</code></td>
<td>
<p>An optional boolean determining whether blue or gray
tones are used, defaults to true implying blue tones</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_current">current</code></td>
<td>
<p>An optional boolean determining whether the current
date is the end date</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_title">title</code></td>
<td>
<p>An optional character string for the plot title, defaults
to the symbol</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_ticks">ticks</code></td>
<td>
<p>An optional boolean indicating whether ticks are plotted,
passed on to <code>plot.xts</code>, defaults to true</p>
</td></tr>
<tr><td><code id="plotOBOS_+3A_axes">axes</code></td>
<td>
<p>An optional boolean indicating whether axes are plotted,
passed on to <code>plot.xts</code>, defaults to true</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function computes a smoothed version of the price using a
moving average (with one of several possible methods) as well as a
standard deviation band, and displays one and two standard
deviations around the smoothed price.
</p>


<h3>Value</h3>

<p><code>NULL</code> as the function is invoked for the side effect of
the plot
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='print.xts'>Printing helper function for xts object</h2><span id='topic+print.xts'></span>

<h3>Description</h3>

<p>Print helper function for xts objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xts'
print(x, ..., n = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.xts_+3A_x">x</code></td>
<td>
<p>An xts objects</p>
</td></tr>
<tr><td><code id="print.xts_+3A_...">...</code></td>
<td>
<p>Ignored, but needed for consistency with <code>print</code>
generic.</p>
</td></tr>
<tr><td><code id="print.xts_+3A_n">n</code></td>
<td>
<p>The default number of lines to display, default is 10.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The return from <code>print</code>
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='readAndConvert'>readAndConvert</h2><span id='topic+readAndConvert'></span>

<h3>Description</h3>

<p>Read a file in a different encoding and return it as UTF-8 using iconv
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readAndConvert(filename, encoding = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="readAndConvert_+3A_filename">filename</code></td>
<td>
<p>Character variable with path a file with text in encoding</p>
</td></tr>
<tr><td><code id="readAndConvert_+3A_encoding">encoding</code></td>
<td>
<p>Optional character variable with the encoding, if unset via the default
empty string value no conversion is attempted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is an adapted version of the one in the Rcpp Gallery post at
<a href="https://gallery.rcpp.org/articles/iconv-via-r-header/">https://gallery.rcpp.org/articles/iconv-via-r-header/</a> which is itself based on
<a href="https://dewey.dunnington.ca/post/2021/using-rs-cross-platform-iconv-wrapper-from-cpp11/">https://dewey.dunnington.ca/post/2021/using-rs-cross-platform-iconv-wrapper-from-cpp11/</a>.
It is however worth pointing out that &lsquo;iconv&rsquo; results have been seen to vary
across operating systems. While it is <em>portable</em> it does not guarantee identical
outcomes across implementations: results on Windows have different from those on Unix OSs.
</p>


<h3>Value</h3>

<p>A character variable with converted file content.
</p>

<hr>
<h2 id='rollMinMax'>Rolling Minimum or Maximum over a Fixed Window</h2><span id='topic+rollMinMax'></span>

<h3>Description</h3>

<p>This implementation is minimal without error checking, or NA handling.
It is taken from the <span class="pkg">ichimoku</span> package which had several more
complicated variants, and is reused here with just <span class="pkg">tidyCpp</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rollMinMax(x, window, min = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rollMinMax_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="rollMinMax_+3A_window">window</code></td>
<td>
<p>An interger with the size of the rolling window.</p>
</td></tr>
<tr><td><code id="rollMinMax_+3A_min">min</code></td>
<td>
<p>A logical which, if true, selects minimum, else maximum</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <span class="pkg">ichimoku</span> variant is by Charlie Gao and credits Andrew Uhl for
the initial implementation.
</p>


<h3>Value</h3>

<p>A vector of the same length as 'x' with elements 1 to
(length(window) - 1) containing NAs.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel for this version, R Core for the underlying code
</p>

<hr>
<h2 id='shadowedPackages'>Find Shadowed Packages</h2><span id='topic+shadowedPackages'></span>

<h3>Description</h3>

<p>Return a data.table object with &lsquo;shadowed&rsquo; packages,
meaning package which are installed in more than directory on the
<code>.libPaths</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shadowedPackages()
</code></pre>


<h3>Details</h3>

<p>The function relies on the base R functions
<code>installed.packages()</code> to find all packages, as well as the
base R abilility to compare version numbers (once properly
converted to <code>package_version</code> type).
</p>


<h3>Value</h3>

<p>data.table object with packages that are shadowed
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='silent'>Silently load a library</h2><span id='topic+silent'></span>

<h3>Description</h3>

<p>Silently attach a library to the search path.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>silent(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="silent_+3A_...">...</code></td>
<td>
<p>Passed though</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function wraps <code>suppressMessages</code> around the call to
<code>library</code>
</p>


<h3>Value</h3>

<p>Nothing, but the desired library is attached
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='str.language'>Print a parse tree</h2><span id='topic+str.language'></span>

<h3>Description</h3>

<p>Print a parse tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'language'
str(expr, name = "", indent = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="str.language_+3A_expr">expr</code></td>
<td>
<p>An R language expression to be parse and displayed</p>
</td></tr>
<tr><td><code id="str.language_+3A_name">name</code></td>
<td>
<p>An optional character value with default &rdquo; to annotate
the display</p>
</td></tr>
<tr><td><code id="str.language_+3A_indent">indent</code></td>
<td>
<p>An optional numeric value with default 0 to provide
additional indentation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The expression, invisibly
</p>


<h3>Author(s)</h3>

<p>Bill Dunlap (and posted to r-devel on 4 Feb 2022)
</p>

<hr>
<h2 id='wday'>wday</h2><span id='topic+wday'></span>

<h3>Description</h3>

<p>Return the day of the week as an integer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wday(date = Sys.Date())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wday_+3A_date">date</code></td>
<td>
<p>A Date object, with the current date as the default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function simply wraps around the <code>as.POSIXlt</code> function and returns its
<code>wday</code> field.
</p>


<h3>Value</h3>

<p>A integer with the weekday component of the date
</p>

<hr>
<h2 id='ymd'>Format a Date(time) object as ymd</h2><span id='topic+ymd'></span>

<h3>Description</h3>

<p>Format a Date(time) object as ymd
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ymd(pt)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ymd_+3A_pt">pt</code></td>
<td>
<p>A <code>POSIXt</code> Datetime or a <code>Date</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character object formatted as &lsquo;YYYYMMDD&rsquo;
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("anytime", quietly=TRUE)) {
   ymd(anytime::anytime("2016-09-01 10:11:12.123456"))
   ymd(anytime::anydate("2016-Sep-01"))
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

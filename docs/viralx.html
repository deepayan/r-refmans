<!DOCTYPE html><html><head><title>Help for package viralx</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {viralx}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#glob_knn_vis'><p>Global Visualization of SHAP Values for K-Nearest Neighbor Model</p></a></li>
<li><a href='#glob_nn_vis'><p>Global Visualization of SHAP Values for Neural Network Model</p></a></li>
<li><a href='#train2'><p>Training Data for Explainability of Models</p></a></li>
<li><a href='#viralx_knn'><p>Explain K-Nearest Neighbors Model</p></a></li>
<li><a href='#viralx_knn_glob'><p>Global Explainers for K-Nearest Neighbor Models</p></a></li>
<li><a href='#viralx_knn_shap'><p>Explain K Nearest Neighbor Model using SHAP values</p></a></li>
<li><a href='#viralx_knn_vis'><p>Visualize SHAP Values for K-Nearest Neighbor Model</p></a></li>
<li><a href='#viralx_mars'><p>Explain Multivariate Adaptive Regression Splines Model</p></a></li>
<li><a href='#viralx_mars_shap'><p>Explain Multivariate Adaptive Regression Splines Using SHAP Values</p></a></li>
<li><a href='#viralx_mars_vis'><p>Visualize SHAP Values for Multivariate Adaptive Regression Splines Model</p></a></li>
<li><a href='#viralx_nn'><p>Explain Neural Network Regression Model</p></a></li>
<li><a href='#viralx_nn_glob'><p>Global Explainers for Neural Network Models</p></a></li>
<li><a href='#viralx_nn_shap'><p>Explain Neural Network Model Using SHAP Values</p></a></li>
<li><a href='#viralx_nn_vis'><p>Visualize SHAP Values for Neural Network Model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Explainers for Regression Models in HIV Research</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Juan Pablo Acuña González &lt;22253567@uagro.mx&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A dedicated viral-explainer model tool designed to empower researchers in the field of HIV research, particularly in viral load and CD4 (Cluster of Differentiation 4) lymphocytes regression modeling. Drawing inspiration from the 'tidymodels' framework for rigorous model building of Max Kuhn and Hadley Wickham (2020) <a href="https://www.tidymodels.org">https://www.tidymodels.org</a>, and the 'DALEXtra' tool for explainability by Przemyslaw Biecek (2020) &lt;<a href="https://arxiv.org/abs/2009.13248">arXiv:2009.13248</a>&gt;. It aims to facilitate interpretable and reproducible research in biostatistics and computational biology for the benefit of understanding HIV dynamics.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>DALEX, DALEXtra, dplyr, earth, Formula, kknn, parsnip, plotmo,
plotrix, recipes, rsample, TeachingDemos, vdiffr, workflows</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-21 07:42:41 UTC; jp</td>
</tr>
<tr>
<td>Author:</td>
<td>Juan Pablo Acuña González
    <a href="https://orcid.org/0009-0003-6029-6560"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-21 13:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='glob_knn_vis'>Global Visualization of SHAP Values for K-Nearest Neighbor Model</h2><span id='topic+glob_knn_vis'></span>

<h3>Description</h3>

<p>This function generates a visualization for the global feature importance of
a K-Nearest Neighbors (KNN) model trained on HIV data with specified
hyperparameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glob_knn_vis(vip_featured, hiv_data, knn_hyperparameters, vip_train, v_train)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glob_knn_vis_+3A_vip_featured">vip_featured</code></td>
<td>
<p>The name of the response variable to explain.</p>
</td></tr>
<tr><td><code id="glob_knn_vis_+3A_hiv_data">hiv_data</code></td>
<td>
<p>The training dataset containing predictor variables and the response variable.</p>
</td></tr>
<tr><td><code id="glob_knn_vis_+3A_knn_hyperparameters">knn_hyperparameters</code></td>
<td>
<p>A list of hyperparameters for the KNN model, including:
</p>

<ul>
<li> <p><code>neighbors</code>: The number of neighbors to consider.
</p>
</li>
<li> <p><code>weight_func</code>: The weight function to use.
</p>
</li>
<li> <p><code>dist_power</code>: The distance power parameter.
</p>
</li></ul>
</td></tr>
<tr><td><code id="glob_knn_vis_+3A_vip_train">vip_train</code></td>
<td>
<p>The dataset used for training the KNN model.</p>
</td></tr>
<tr><td><code id="glob_knn_vis_+3A_v_train">v_train</code></td>
<td>
<p>The response variable used for training the KNN model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A visualization of global feature importance for the KNN model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
set.seed(123)
hiv_data &lt;- train2
knn_hyperparameters &lt;- list(neighbors = 5, weight_func = "optimal", dist_power = 0.3304783)
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
vip_train &lt;- train2 |&gt;
dplyr::select(rsample::all_of(vip_features))
v_train &lt;- train2 |&gt;
dplyr::select(rsample::all_of(vip_featured))
glob_knn_vis(vip_featured, hiv_data, knn_hyperparameters, vip_train, v_train)
</code></pre>

<hr>
<h2 id='glob_nn_vis'>Global Visualization of SHAP Values for Neural Network Model</h2><span id='topic+glob_nn_vis'></span>

<h3>Description</h3>

<p>The <code>glob_nn_vis</code> function generates a global visualization of SHAP (Shapley
Additive Explanations) values for a neural network model. It utilizes the
DALEXtra package to explain the model's predictions and then creates a global
SHAP visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glob_nn_vis(vip_featured, hiv_data, hu, plty, epo, vip_train, v_train)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glob_nn_vis_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value specifying the featured variable of interest.</p>
</td></tr>
<tr><td><code id="glob_nn_vis_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame containing the HIV research data used for model training.</p>
</td></tr>
<tr><td><code id="glob_nn_vis_+3A_hu">hu</code></td>
<td>
<p>A numeric value specifying the number of hidden units in the neural network model.</p>
</td></tr>
<tr><td><code id="glob_nn_vis_+3A_plty">plty</code></td>
<td>
<p>A numeric value specifying the penalty parameter for the neural network model.</p>
</td></tr>
<tr><td><code id="glob_nn_vis_+3A_epo">epo</code></td>
<td>
<p>A numeric value specifying the number of epochs (training iterations) for the neural network model.</p>
</td></tr>
<tr><td><code id="glob_nn_vis_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame containing the training data used to fit the neural network model.</p>
</td></tr>
<tr><td><code id="glob_nn_vis_+3A_v_train">v_train</code></td>
<td>
<p>A numeric vector representing the response variable corresponding to the training data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A global visualization of SHAP values for the specified neural network model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
hu &lt;- 5
plty &lt;- 1.131656e-09
epo &lt;- 176
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
v_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_featured))
glob_nn_vis(vip_featured, hiv_data, hu, plty, epo, vip_train, v_train)
</code></pre>

<hr>
<h2 id='train2'>Training Data for Explainability of Models</h2><span id='topic+train2'></span>

<h3>Description</h3>

<p>This dataset contains training data for viral load explainer models. It
includes CD4 and viral load measurements for different years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(train2)
</code></pre>


<h3>Format</h3>

<p>A tibble (data frame) with 25 rows and 6 columns.
</p>


<h3>Note</h3>

<p>To explore more rows of this dataset, you can use the <code>print(n = ...)</code> function.
</p>


<h3>Author(s)</h3>

<p>Juan Pablo Acuña González <a href="mailto:22253567@uagro.mx">22253567@uagro.mx</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(train2)
train2
</code></pre>

<hr>
<h2 id='viralx_knn'>Explain K-Nearest Neighbors Model</h2><span id='topic+viralx_knn'></span>

<h3>Description</h3>

<p>Explains the predictions of a K-Nearest Neighbors (KNN) model for CD4 and
viral load data using the DALEX and DALEXtra packages. It provides insights
into the specified variable's impact on the KNN model's predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_knn(vip_featured, hiv_data, knn_hyperparameters, vip_train, vip_new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_knn_+3A_vip_featured">vip_featured</code></td>
<td>
<p>The name of the variable to be explained.</p>
</td></tr>
<tr><td><code id="viralx_knn_+3A_hiv_data">hiv_data</code></td>
<td>
<p>The data frame containing the CD4 and viral load data.</p>
</td></tr>
<tr><td><code id="viralx_knn_+3A_knn_hyperparameters">knn_hyperparameters</code></td>
<td>
<p>A list of hyperparameters to be tuned for the KNN model.</p>
</td></tr>
<tr><td><code id="viralx_knn_+3A_vip_train">vip_train</code></td>
<td>
<p>The training data used for creating the explainer object.</p>
</td></tr>
<tr><td><code id="viralx_knn_+3A_vip_new">vip_new</code></td>
<td>
<p>A new observation for which to generate explanations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing explanations for the specified variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hiv_data &lt;- train2
knn_hyperparameters &lt;- list(neighbors = 5, weight_func = "optimal", dist_power = 0.3304783)
vip_featured &lt;- c("cd_2022")
vip_train &lt;- hiv_data
vip_new &lt;- vip_train[1,]
viralx_knn(vip_featured, hiv_data, knn_hyperparameters, vip_train, vip_new)
</code></pre>

<hr>
<h2 id='viralx_knn_glob'>Global Explainers for K-Nearest Neighbor Models</h2><span id='topic+viralx_knn_glob'></span>

<h3>Description</h3>

<p>This function calculates global feature importance for a K-Nearest Neighbors
(KNN) model trained on HIV data with specified hyperparameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_knn_glob(
  vip_featured,
  hiv_data,
  knn_hyperparameters,
  vip_train,
  v_train
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_knn_glob_+3A_vip_featured">vip_featured</code></td>
<td>
<p>The name of the response variable to explain.</p>
</td></tr>
<tr><td><code id="viralx_knn_glob_+3A_hiv_data">hiv_data</code></td>
<td>
<p>The training dataset containing predictor variables and the response variable.</p>
</td></tr>
<tr><td><code id="viralx_knn_glob_+3A_knn_hyperparameters">knn_hyperparameters</code></td>
<td>
<p>A list of hyperparameters for the KNN model, including:
</p>

<ul>
<li> <p><code>neighbors</code>: The number of neighbors to consider.
</p>
</li>
<li> <p><code>weight_func</code>: The weight function to use.
</p>
</li>
<li> <p><code>dist_power</code>: The distance power parameter.
</p>
</li></ul>
</td></tr>
<tr><td><code id="viralx_knn_glob_+3A_vip_train">vip_train</code></td>
<td>
<p>The dataset used for training the KNN model.</p>
</td></tr>
<tr><td><code id="viralx_knn_glob_+3A_v_train">v_train</code></td>
<td>
<p>The response variable used for training the KNN model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of global feature importance measures for each predictor variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
set.seed(123)
hiv_data &lt;- train2
knn_hyperparameters &lt;- list(neighbors = 5, weight_func = "optimal", dist_power = 0.3304783)
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
vip_train &lt;- train2 |&gt;
dplyr::select(rsample::all_of(vip_features))
v_train &lt;- train2 |&gt;
dplyr::select(rsample::all_of(vip_featured))
viralx_knn_glob(vip_featured, hiv_data, knn_hyperparameters, vip_train, v_train)
</code></pre>

<hr>
<h2 id='viralx_knn_shap'>Explain K Nearest Neighbor Model using SHAP values</h2><span id='topic+viralx_knn_shap'></span>

<h3>Description</h3>

<p>This function calculates SHAP (SHapley Additive exPlanations) values for a
K-Nearest Neighbors (KNN) model trained on HIV data with specified
hyperparameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_knn_shap(
  vip_featured,
  hiv_data,
  knn_hyperparameters,
  vip_train,
  vip_new,
  orderings
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_knn_shap_+3A_vip_featured">vip_featured</code></td>
<td>
<p>The name of the response variable to explain.</p>
</td></tr>
<tr><td><code id="viralx_knn_shap_+3A_hiv_data">hiv_data</code></td>
<td>
<p>The training dataset containing predictor variables and the response variable.</p>
</td></tr>
<tr><td><code id="viralx_knn_shap_+3A_knn_hyperparameters">knn_hyperparameters</code></td>
<td>
<p>A list of hyperparameters for the KNN model, including:
</p>

<ul>
<li> <p><code>neighbors</code>: The number of neighbors to consider.
</p>
</li>
<li> <p><code>weight_func</code>: The weight function to use.
</p>
</li>
<li> <p><code>dist_power</code>: The distance power parameter.
</p>
</li></ul>
</td></tr>
<tr><td><code id="viralx_knn_shap_+3A_vip_train">vip_train</code></td>
<td>
<p>The dataset used for training the KNN model.</p>
</td></tr>
<tr><td><code id="viralx_knn_shap_+3A_vip_new">vip_new</code></td>
<td>
<p>The dataset for which SHAP values are calculated.</p>
</td></tr>
<tr><td><code id="viralx_knn_shap_+3A_orderings">orderings</code></td>
<td>
<p>The number of orderings for SHAP value calculations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of SHAP values for each observation in <code>vip_new</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(123)
hiv_data &lt;- train2
knn_hyperparameters &lt;- list(neighbors = 5, weight_func = "optimal", dist_power = 0.3304783)
vip_featured &lt;- c("cd_2022")
vip_train &lt;- hiv_data
vip_new &lt;- vip_train[1, ]
orderings &lt;- 20
viralx_knn_shap(vip_featured, hiv_data, knn_hyperparameters, vip_train, vip_new, orderings)

## End(Not run)
</code></pre>

<hr>
<h2 id='viralx_knn_vis'>Visualize SHAP Values for K-Nearest Neighbor Model</h2><span id='topic+viralx_knn_vis'></span>

<h3>Description</h3>

<p>Visualizes SHAP (Shapley Additive Explanations) values for a KNN
(K-Nearest Neighbor) model by employing the DALEXtra and DALEX packages to
provide visual insights into the impact of a specified variable on the
model's predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_knn_vis(
  vip_featured,
  hiv_data,
  knn_hyperparameters,
  vip_train,
  vip_new,
  orderings
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_knn_vis_+3A_vip_featured">vip_featured</code></td>
<td>
<p>The name of the response variable to explain.</p>
</td></tr>
<tr><td><code id="viralx_knn_vis_+3A_hiv_data">hiv_data</code></td>
<td>
<p>The training dataset containing predictor variables and the response variable.</p>
</td></tr>
<tr><td><code id="viralx_knn_vis_+3A_knn_hyperparameters">knn_hyperparameters</code></td>
<td>
<p>A list of hyperparameters for the KNN model, including:
</p>

<ul>
<li> <p><code>neighbors</code>: The number of neighbors to consider.
</p>
</li>
<li> <p><code>weight_func</code>: The weight function to use.
</p>
</li>
<li> <p><code>dist_power</code>: The distance power parameter.
</p>
</li></ul>
</td></tr>
<tr><td><code id="viralx_knn_vis_+3A_vip_train">vip_train</code></td>
<td>
<p>The dataset used for training the KNN model.</p>
</td></tr>
<tr><td><code id="viralx_knn_vis_+3A_vip_new">vip_new</code></td>
<td>
<p>The dataset for which SHAP values are calculated.</p>
</td></tr>
<tr><td><code id="viralx_knn_vis_+3A_orderings">orderings</code></td>
<td>
<p>The number of orderings for SHAP value calculations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of SHAP values for each observation in <code>vip_new</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set.seed(123)
hiv_data &lt;- train2
knn_hyperparameters &lt;- list(neighbors = 5, weight_func = "optimal", dist_power = 0.3304783)
vip_featured &lt;- c("cd_2022")
vip_train &lt;- hiv_data
vip_new &lt;- vip_train[1,]
orderings &lt;- 20
viralx_knn_vis(vip_featured, hiv_data, knn_hyperparameters, vip_train, vip_new, orderings)

## End(Not run)
</code></pre>

<hr>
<h2 id='viralx_mars'>Explain Multivariate Adaptive Regression Splines Model</h2><span id='topic+viralx_mars'></span>

<h3>Description</h3>

<p>Explains the predictions of a Multivariate Adaptive Regression Splines (MARS)
model for viral load or CD4 counts using the DALEX and DALEXtra tools.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_mars(vip_featured, hiv_data, nt, pd, pru, vip_train, vip_new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_mars_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_mars_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_mars_+3A_nt">nt</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_mars_+3A_pd">pd</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_mars_+3A_pru">pru</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_mars_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_mars_+3A_vip_new">vip_new</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
library(Formula)
library(plotmo)
library(plotrix)
library(TeachingDemos)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
nt &lt;- 3
pd &lt;- 1
pru &lt;- "none"
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
vip_new &lt;- vip_train[1,]
viralx_mars(vip_featured, hiv_data, nt, pd, pru, vip_train, vip_new)
</code></pre>

<hr>
<h2 id='viralx_mars_shap'>Explain Multivariate Adaptive Regression Splines Using SHAP Values</h2><span id='topic+viralx_mars_shap'></span>

<h3>Description</h3>

<p>Explains the predictions of a MARS (Multivariate Adaptive Regression Splines)
model using SHAP (Shapley Additive Explanations) values. It utilizes the
DALEXtra and DALEX packages to provide SHAP-based explanations for the
specified model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_mars_shap(
  vip_featured,
  hiv_data,
  nt,
  pd,
  pru,
  vip_train,
  vip_new,
  orderings
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_mars_shap_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_mars_shap_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_mars_shap_+3A_nt">nt</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_mars_shap_+3A_pd">pd</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_mars_shap_+3A_pru">pru</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_mars_shap_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_mars_shap_+3A_vip_new">vip_new</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="viralx_mars_shap_+3A_orderings">orderings</code></td>
<td>
<p>A numeric value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
library(Formula)
library(plotmo)
library(plotrix)
library(TeachingDemos)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
nt &lt;- 3
pd &lt;- 1
pru &lt;- "none"
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
vip_new &lt;- vip_train[1,]
orderings &lt;- 20
viralx_mars_shap(vip_featured, hiv_data, nt, pd, pru, vip_train, vip_new,orderings)
</code></pre>

<hr>
<h2 id='viralx_mars_vis'>Visualize SHAP Values for Multivariate Adaptive Regression Splines Model</h2><span id='topic+viralx_mars_vis'></span>

<h3>Description</h3>

<p>Visualizes SHAP (Shapley Additive Explanations) values for a MARS
(Multivariate Adaptive Regression Splines) model by employing the DALEXtra
and DALEX packages to provide visual insights into the impact of a specified
variable on the model's predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_mars_vis(
  vip_featured,
  hiv_data,
  nt,
  pd,
  pru,
  vip_train,
  vip_new,
  orderings
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_mars_vis_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_mars_vis_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_mars_vis_+3A_nt">nt</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_mars_vis_+3A_pd">pd</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_mars_vis_+3A_pru">pru</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_mars_vis_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_mars_vis_+3A_vip_new">vip_new</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="viralx_mars_vis_+3A_orderings">orderings</code></td>
<td>
<p>A numeric value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
library(Formula)
library(plotmo)
library(plotrix)
library(TeachingDemos)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
nt &lt;- 3
pd &lt;- 1
pru &lt;- "none"
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
vip_new &lt;- vip_train[1,]
orderings &lt;- 20
viralx_mars_vis(vip_featured, hiv_data, nt, pd, pru, vip_train, vip_new, orderings)
</code></pre>

<hr>
<h2 id='viralx_nn'>Explain Neural Network Regression Model</h2><span id='topic+viralx_nn'></span>

<h3>Description</h3>

<p>Explains the predictions of a neural network regression model for viral load
or CD4 counts using the DALEX and DALEXtra tools
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_nn(vip_featured, hiv_data, hu, plty, epo, vip_train, vip_new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_nn_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_nn_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_nn_+3A_hu">hu</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_+3A_plty">plty</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_+3A_epo">epo</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_nn_+3A_vip_new">vip_new</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
hu &lt;- 5
plty &lt;- 1.131656e-09
epo &lt;- 176
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
vip_new &lt;- vip_train[1,]
viralx_nn(vip_featured, hiv_data, hu, plty, epo, vip_train, vip_new)
</code></pre>

<hr>
<h2 id='viralx_nn_glob'>Global Explainers for Neural Network Models</h2><span id='topic+viralx_nn_glob'></span>

<h3>Description</h3>

<p>The viralx_nn_glob function is designed to provide global explanations for
the specified neural network model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_nn_glob(vip_featured, hiv_data, hu, plty, epo, vip_train, v_train)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_nn_glob_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value specifying the variable of interest for which you want to explain predictions.</p>
</td></tr>
<tr><td><code id="viralx_nn_glob_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame containing the dataset used for training the neural network model.</p>
</td></tr>
<tr><td><code id="viralx_nn_glob_+3A_hu">hu</code></td>
<td>
<p>A numeric value representing the number of hidden units in the neural network.</p>
</td></tr>
<tr><td><code id="viralx_nn_glob_+3A_plty">plty</code></td>
<td>
<p>A numeric value representing the penalty term for the neural network model.</p>
</td></tr>
<tr><td><code id="viralx_nn_glob_+3A_epo">epo</code></td>
<td>
<p>A numeric value specifying the number of epochs for training the neural network.</p>
</td></tr>
<tr><td><code id="viralx_nn_glob_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame containing the training data used for generating global explanations.</p>
</td></tr>
<tr><td><code id="viralx_nn_glob_+3A_v_train">v_train</code></td>
<td>
<p>A numeric vector representing the target variable for the global explanations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing global explanations for the specified neural network model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
hu &lt;- 5
plty &lt;- 1.131656e-09
epo &lt;- 176
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
v_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_featured))
viralx_nn_glob(vip_featured, hiv_data, hu, plty, epo, vip_train, v_train)
</code></pre>

<hr>
<h2 id='viralx_nn_shap'>Explain Neural Network Model Using SHAP Values</h2><span id='topic+viralx_nn_shap'></span>

<h3>Description</h3>

<p>Explains the predictions of a neural network model using SHAP (Shapley
Additive Explanations) values. It utilizes the DALEXtra and DALEX packages to
provide SHAP-based explanations for the specified model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_nn_shap(
  vip_featured,
  hiv_data,
  hu,
  plty,
  epo,
  vip_train,
  vip_new,
  orderings
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_nn_shap_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_nn_shap_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_nn_shap_+3A_hu">hu</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_shap_+3A_plty">plty</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_shap_+3A_epo">epo</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_shap_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_nn_shap_+3A_vip_new">vip_new</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="viralx_nn_shap_+3A_orderings">orderings</code></td>
<td>
<p>A numeric value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
hu &lt;- 5
plty &lt;- 1.131656e-09
epo &lt;- 176
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
vip_new &lt;- vip_train[1,]
orderings &lt;- 20
viralx_nn_shap(vip_featured, hiv_data, hu, plty, epo, vip_train, vip_new, orderings)
</code></pre>

<hr>
<h2 id='viralx_nn_vis'>Visualize SHAP Values for Neural Network Model</h2><span id='topic+viralx_nn_vis'></span>

<h3>Description</h3>

<p>Visualizes SHAP (Shapley Additive Explanations) values for a neural network
model by employing the DALEXtra and DALEX packages to provide visual insights
into the impact of a specified variable on the model's predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>viralx_nn_vis(
  vip_featured,
  hiv_data,
  hu,
  plty,
  epo,
  vip_train,
  vip_new,
  orderings
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="viralx_nn_vis_+3A_vip_featured">vip_featured</code></td>
<td>
<p>A character value</p>
</td></tr>
<tr><td><code id="viralx_nn_vis_+3A_hiv_data">hiv_data</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_nn_vis_+3A_hu">hu</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_vis_+3A_plty">plty</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_vis_+3A_epo">epo</code></td>
<td>
<p>A numeric value</p>
</td></tr>
<tr><td><code id="viralx_nn_vis_+3A_vip_train">vip_train</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="viralx_nn_vis_+3A_vip_new">vip_new</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="viralx_nn_vis_+3A_orderings">orderings</code></td>
<td>
<p>A numeric value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(rsample)
cd_2019 &lt;- c(824, 169, 342, 423, 441, 507, 559,
             173, 764, 780, 244, 527, 417, 800,
             602, 494, 345, 780, 780, 527, 556,
             559, 238, 288, 244, 353, 169, 556,
             824, 169, 342, 423, 441, 507, 559)
vl_2019 &lt;- c(40, 11388, 38961, 40, 75, 4095, 103,
             11388, 46, 103, 11388, 40, 0, 11388,
             0,   4095,   40,  93,  49,  49,  49,
             4095,  6837, 38961, 38961, 0, 0, 93,
             40, 11388, 38961, 40, 75, 4095, 103)
cd_2021 &lt;- c(992, 275, 331, 454, 479, 553,  496,
             230, 605, 432, 170, 670, 238,  238,
             634, 422, 429, 513, 327, 465,  479,
             661, 382, 364, 109, 398, 209, 1960,
             992, 275, 331, 454, 479, 553,  496)
vl_2021 &lt;- c(80, 1690,  5113,  71,  289,  3063,  0,
             262,  0,  15089,  13016, 1513, 60, 60,
             49248, 159308, 56, 0, 516675, 49, 237,
             84,  292,  414, 26176,  62,  126,  93,
             80, 1690, 5113,    71, 289, 3063,   0)
cd_2022 &lt;- c(700, 127, 127, 547, 547, 547, 777,
             149, 628, 614, 253, 918, 326, 326,
             574, 361, 253, 726, 659, 596, 427,
             447, 326, 253, 248, 326, 260, 918,
             700, 127, 127, 547, 547, 547, 777)
vl_2022 &lt;- c(0,   0,   53250,   0,   40,   1901, 0,
             955,    0,    0,    0,   0,   40,   0,
             49248, 159308, 56, 0, 516675, 49, 237,
             0,    23601,   0,   40,   0,   0,   0,
             0,    0,     0,     0,    0,    0,  0)
x &lt;- cbind(cd_2019, vl_2019, cd_2021, vl_2021, cd_2022, vl_2022) |&gt;
as.data.frame()
set.seed(123)
hi_data &lt;- rsample::initial_split(x)
set.seed(123)
hiv_data &lt;- hi_data |&gt;
rsample::training()
hu &lt;- 5
plty &lt;- 1.131656e-09
epo &lt;- 176
vip_featured &lt;- c("cd_2022")
vip_features &lt;- c("cd_2019", "vl_2019", "cd_2021", "vl_2021", "vl_2022")
set.seed(123)
vi_train &lt;- rsample::initial_split(x)
set.seed(123)
vip_train &lt;- vi_train |&gt;
rsample::training() |&gt;
dplyr::select(rsample::all_of(vip_features))
vip_new &lt;- vip_train[1,]
orderings &lt;- 20
viralx_nn_vis(vip_featured, hiv_data, hu, plty, epo, vip_train, vip_new, orderings)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

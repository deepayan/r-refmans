<!DOCTYPE html><html lang="en"><head><title>Help for package ggOceanMaps</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggOceanMaps}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggOceanMaps-package'><p>Plot Data on Oceanographic Maps using ggplot2</p></a></li>
<li><a href='#auto_limits'><p>Automatic limits for basemap</p></a></li>
<li><a href='#basemap'><p>Create a ggplot2 basemap for plotting variables</p></a></li>
<li><a href='#basemap_data'><p>Create basemapData object for basemap plotting</p></a></li>
<li><a href='#clip_shapefile'><p>Clip a shapefile using a bounding area</p></a></li>
<li><a href='#dd_clip_boundary'><p>Create clip boundary from decimal degree limits</p></a></li>
<li><a href='#dd_land'><p>Decimal degree land shapes</p></a></li>
<li><a href='#dd_rbathy'><p>Decimal degree bathymetry</p></a></li>
<li><a href='#dd_to_deg'><p>Convert decimal degree values to angular degrees</p></a></li>
<li><a href='#define_bathy_style'><p>Define bathymetry style for <code>basemap</code></p></a></li>
<li><a href='#define_shapefiles'><p>Define a shapefile to use in plotting from the limits argument</p></a></li>
<li><a href='#deg_to_dd'><p>Convert angular degrees to decimal degree values</p></a></li>
<li><a href='#dist2land'><p>Calculate distance to the closest land for coordinates</p></a></li>
<li><a href='#fdir_main_areas'><p>Major fisheries areas (hovedomraade) of Norway</p></a></li>
<li><a href='#fdir_sub_areas'><p>Norwegian sub-areas (lokasjon) for commercial fishing</p></a></li>
<li><a href='#FS'><p>Convert font sizes measured as points to ggplot font sizes</p></a></li>
<li><a href='#geonorge_bathymetry'><p>Open Geonorge bathymetry shapefiles</p></a></li>
<li><a href='#get_depth'><p>Extract depth for coordinates from a raster bathymetry dataset</p></a></li>
<li><a href='#guess_coordinate_columns'><p>Guess longitude and latitude columns in a data frame</p></a></li>
<li><a href='#ices_areas'><p>ICES Advisory Areas</p></a></li>
<li><a href='#is_decimal_limit'><p>Test whether a limit argument is specified as decimal degrees.</p></a></li>
<li><a href='#load_map_data'><p>Load large shapefile objects</p></a></li>
<li><a href='#LS'><p>Convert line sizes measured as points to ggplot line sizes</p></a></li>
<li><a href='#map_cmd'><p>Return map elements for basemap</p></a></li>
<li><a href='#qmap'><p>Quick map</p></a></li>
<li><a href='#quiet'><p>Return function output quietly</p></a></li>
<li><a href='#raster_bathymetry'><p>Simplify a bathymetry raster ready for vectorization</p></a></li>
<li><a href='#reorder_layers'><p>Move <code>basemap</code> land, glacier and grid layers on top of other ggplot layers</p></a></li>
<li><a href='#rotate_crs'><p>Rotate CRS</p></a></li>
<li><a href='#round_any'><p>Round to multiple of any number</p></a></li>
<li><a href='#select_element'><p>Select an element of each vector from a list</p></a></li>
<li><a href='#shapefile_list'><p>A list of pre-made shapefiles for <code>basemap</code></p></a></li>
<li><a href='#theme_map'><p>A ggplot2 theme for maps</p></a></li>
<li><a href='#transform_coord'><p>Transform spatial coordinates to another projection</p></a></li>
<li><a href='#vector_bathymetry'><p>Create a polygon bathymetry from a raster bathymetry file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Plot Data on Oceanographic Maps using 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>2.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-15</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://mikkovihtakari.github.io/ggOceanMaps/">https://mikkovihtakari.github.io/ggOceanMaps/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/MikkoVihtakari/ggOceanMaps/issues">https://github.com/MikkoVihtakari/ggOceanMaps/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Allows plotting data on bathymetric maps using 'ggplot2'. Plotting
  oceanographic spatial data is made as simple as feasible, but also flexible
  for custom modifications. Data that contain geographic information from 
  anywhere around the globe can be plotted on maps generated by the basemap()
  or qmap() functions using 'ggplot2' layers separated by the '+' operator. The 
  package uses spatial shape- ('sf') and raster ('stars') files, geospatial 
  packages for R to manipulate, and the 'ggplot2' package to plot these 
  files. The package ships with low-resolution spatial data files and 
  higher resolution files for detailed maps are stored in the 
  'ggOceanMapsLargeData' repository on GitHub and downloaded automatically 
  when needed. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), ggplot2</td>
</tr>
<tr>
<td>Imports:</td>
<td>sf, stars, methods, utils, smoothr, units</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggspatial, cowplot, knitr, rmarkdown, scales, ggnewscale</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-15 10:56:44 UTC; a22357</td>
</tr>
<tr>
<td>Author:</td>
<td>Mikko Vihtakari <a href="https://orcid.org/0000-0003-0371-4319"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre] (affiliation: Institute of Marine Research),
  Roger Bivand [ctb],
  Hadley Wickham [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mikko Vihtakari &lt;mikko.vihtakari@hi.no&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-15 13:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggOceanMaps-package'>Plot Data on Oceanographic Maps using ggplot2</h2><span id='topic+ggOceanMaps'></span><span id='topic+ggOceanMaps-package'></span>

<h3>Description</h3>

<p>Uses ggplot2 syntax and shape files to plot research data on 
oceanographic maps anywhere around the globe.
</p>


<h3>Details</h3>

<p>The general map-making function for <span class="pkg">ggOceanMaps</span> is
<code><a href="#topic+basemap">basemap</a></code>. This function creates a &quot;canvas&quot; on which research data
can be plotted. The <code><a href="#topic+basemap">basemap</a></code> function is analogous 
to <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> function from the <span class="pkg">ggplot2</span> package. 
Remember to use <code>data = &lt;&lt;NAMEOFDATASET&gt;&gt;</code> for additional geometries
you plot on <code>basemaps</code> (<code>basemap(60) + geom_point(data = 
data.frame(lon = 50, lat = 70), aes(x = lon, y = lat))</code> as an example). As
a shortcut, you may also use qmap(data.frame(lon = c(10, 50), lat = c(60, 70))).
Bathymetry is plotted using the <code>bathymetry</code> argument.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mikko Vihtakari <a href="mailto:mikko.vihtakari@hi.no">mikko.vihtakari@hi.no</a> (<a href="https://orcid.org/0000-0003-0371-4319">ORCID</a>) (Institute of Marine Research)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Roger Bivand [contributor]
</p>
</li>
<li><p> Hadley Wickham [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://mikkovihtakari.github.io/ggOceanMaps/">https://mikkovihtakari.github.io/ggOceanMaps/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/MikkoVihtakari/ggOceanMaps/issues">https://github.com/MikkoVihtakari/ggOceanMaps/issues</a>
</p>
</li></ul>


<hr>
<h2 id='auto_limits'>Automatic limits for basemap</h2><span id='topic+auto_limits'></span>

<h3>Description</h3>

<p>Find limits for a <code><a href="#topic+basemap">basemap</a></code> from a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auto_limits(
  data,
  lon = NULL,
  lat = NULL,
  proj.in = 4326,
  proj.out = NULL,
  expand.factor = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="auto_limits_+3A_data">data</code></td>
<td>
<p>Data frame or a spatial object containing data for which the limits should be calculated.</p>
</td></tr>
<tr><td><code id="auto_limits_+3A_lon">lon</code>, <code id="auto_limits_+3A_lat">lat</code></td>
<td>
<p>Names of longitude and latitude columns in <code>data</code> as character or integer index. If <code>NULL</code>, the column names are <a href="#topic+guess_coordinate_columns">guessed</a>.</p>
</td></tr>
<tr><td><code id="auto_limits_+3A_proj.in">proj.in</code></td>
<td>
<p>Original <code><a href="sf.html#topic+st_crs">CRS</a></code> projection. Must be defined as character argument.</p>
</td></tr>
<tr><td><code id="auto_limits_+3A_proj.out">proj.out</code></td>
<td>
<p>Resulting map projection. See <code><a href="#topic+transform_coord">transform_coord</a></code>.</p>
</td></tr>
<tr><td><code id="auto_limits_+3A_expand.factor">expand.factor</code></td>
<td>
<p>Expansion factor for map limits. Set to <code>NULL</code> to ignore.</p>
</td></tr>
<tr><td><code id="auto_limits_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about the projection and guessed column names should be returned as message. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function, which is automatically run by the <code><a href="#topic+basemap">basemap</a></code> function.
</p>


<h3>Value</h3>

<p>A list of limits and projections in <code>proj.in</code> and <code>proj.out</code> formats.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other customize shapefiles: 
<code><a href="#topic+reorder_layers">reorder_layers</a>()</code>,
<code><a href="#topic+theme_map">theme_map</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>auto_limits(data = expand.grid(lon = c(-120, 180, 120),
   lat = c(60, 60, 80)))
</code></pre>

<hr>
<h2 id='basemap'>Create a ggplot2 basemap for plotting variables</h2><span id='topic+basemap'></span>

<h3>Description</h3>

<p>Creates a ggplot2 basemap for further plotting of data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basemap(
  x = NULL,
  limits = NULL,
  data = NULL,
  shapefiles = NULL,
  crs = NULL,
  bathymetry = FALSE,
  glaciers = FALSE,
  rotate = FALSE,
  legends = TRUE,
  legend.position = "right",
  lon.interval = NULL,
  lat.interval = NULL,
  bathy.style = NULL,
  downsample = 0,
  bathy.border.col = NA,
  bathy.size = 0.1,
  bathy.alpha = 1,
  land.col = "grey60",
  land.border.col = "black",
  land.size = 0.1,
  gla.col = "grey95",
  gla.border.col = "black",
  gla.size = 0.1,
  grid.col = "grey70",
  grid.size = 0.1,
  base_size = 11,
  projection.grid = FALSE,
  expand.factor = 1,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basemap_+3A_x">x</code></td>
<td>
<p>The limit type (<code>limits</code>, <code>data</code>, or <code>shapefiles</code>) is automatically recognized from the class of this argument.</p>
</td></tr>
<tr><td><code id="basemap_+3A_limits">limits</code></td>
<td>
<p>Map limits. One of the following:
</p>

<ul>
<li> <p><strong>numeric vector</strong> of length 4: The first element defines the start longitude, the second element the end longitude (counter-clockwise), the third element the minimum latitude, and the fourth element the maximum latitude of the bounding box. Also accepts <code><a href="sf.html#topic+st_bbox">sf::st_bbox</a></code> type named vectors with limits in any order. The coordinates can be given as decimal degrees or coordinate units for shapefiles used by a projected map. Produces a rectangular map. Latitude limits not given in min-max order are automatically ordered to respect this requirement.
</p>
</li>
<li> <p><strong>single integer</strong> between 30 and 88 or -88 and -30 produces a polar map for the Arctic or Antarctic, respectively.
</p>
</li></ul>

<p>Can be omitted if <code>data</code> or <code>shapefiles</code> are defined.</p>
</td></tr>
<tr><td><code id="basemap_+3A_data">data</code></td>
<td>
<p>A data frame, sp, or <a href="sf.html#topic+sf">sf</a> shape containing longitude and latitude coordinates. If a data frame, the coordinates have to be given in decimal degrees. The limits are extracted from these coordinates and produce a rectangular map. Suited for situations where a certain dataset is plotted on a map. The function attempts to <a href="#topic+guess_coordinate_columns">guess the correct columns</a> and it is advised to use intuitive column names for longitude (such as &quot;lon&quot;, &quot;long&quot;, or &quot;longitude&quot;) and latitude (&quot;lat&quot;, &quot;latitude&quot;) columns. Can be omitted if <code>limits</code> or <code>shapefiles</code> are defined.</p>
</td></tr>
<tr><td><code id="basemap_+3A_shapefiles">shapefiles</code></td>
<td>
<p>Either a <a href="#topic+shapefile_list">list containing shapefile information</a> or a character argument referring to a name of pre-made shapefiles in <code><a href="#topic+shapefile_list">shapefile_list</a></code>. This name is partially matched. Can be omitted if <code>limits</code> or <code>data</code> is defined as decimal degrees.</p>
</td></tr>
<tr><td><code id="basemap_+3A_crs">crs</code></td>
<td>
<p><a href="sf.html#topic+st_crs">Coordinate reference system</a> (CRS) for the map. If <code>NULL</code> (default), the CRS is selected automatically based on <code>limits</code>, <code>data</code>, or <code>shapefiles</code>. Passed to <code><a href="sf.html#topic+st_crs">st_crs</a></code>. Typically integers giving the EPGS code are the easiest. Cannot be used simultaneously with <code>rotate</code>.</p>
</td></tr>
<tr><td><code id="basemap_+3A_bathymetry">bathymetry</code></td>
<td>
<p>Logical indicating whether bathymetry should be added to the map. Functions together with <code>bathy.style</code>. See Details.</p>
</td></tr>
<tr><td><code id="basemap_+3A_glaciers">glaciers</code></td>
<td>
<p>Logical indicating whether glaciers and ice sheets should be added to the map.</p>
</td></tr>
<tr><td><code id="basemap_+3A_rotate">rotate</code></td>
<td>
<p>Logical indicating whether the projected maps should be rotated to point towards the pole relative to the mid-longitude limit.</p>
</td></tr>
<tr><td><code id="basemap_+3A_legends">legends</code></td>
<td>
<p>Logical indicating whether the legend for bathymetry should be shown.</p>
</td></tr>
<tr><td><code id="basemap_+3A_legend.position">legend.position</code></td>
<td>
<p>The position for ggplot2 legend. See the argument with the same name in <a href="ggplot2.html#topic+theme">theme</a>.</p>
</td></tr>
<tr><td><code id="basemap_+3A_lon.interval">lon.interval</code>, <code id="basemap_+3A_lat.interval">lat.interval</code></td>
<td>
<p>Numeric value specifying the interval of longitude and latitude grids. <code>NULL</code> finds reasonable defaults depending on <code>limits</code>.</p>
</td></tr>
<tr><td><code id="basemap_+3A_bathy.style">bathy.style</code></td>
<td>
<p>Character (plots bathymetry; list of alternatives in Details) or <code>NULL</code> (&quot;raster_binned_blues&quot; if <code>bathymetry = TRUE</code>) defining the bathymetry style. Partially matched, can be abbreviated, and used to control bathymetry plotting together with <code>bathymetry</code>. See Details.</p>
</td></tr>
<tr><td><code id="basemap_+3A_downsample">downsample</code></td>
<td>
<p>Integer defining the downsampling rate for raster bathymetries. A value of 0 (default) does not downsample, 1 skips every second row, 2 every second and third. See <code><a href="stars.html#topic+geom_stars">geom_stars</a></code></p>
</td></tr>
<tr><td><code id="basemap_+3A_bathy.alpha">bathy.alpha</code></td>
<td>
<p>Transparency parameter for the bathymetry fill color. See <a href="ggplot2.html#topic+scale_alpha">scale_alpha</a>.</p>
</td></tr>
<tr><td><code id="basemap_+3A_land.col">land.col</code>, <code id="basemap_+3A_gla.col">gla.col</code>, <code id="basemap_+3A_grid.col">grid.col</code></td>
<td>
<p>Character code specifying the color of land, glaciers, and grid lines, respectively. Use <code>NA</code> to remove the grid lines.</p>
</td></tr>
<tr><td><code id="basemap_+3A_land.border.col">land.border.col</code>, <code id="basemap_+3A_gla.border.col">gla.border.col</code>, <code id="basemap_+3A_bathy.border.col">bathy.border.col</code></td>
<td>
<p>Character code specifying the color of the border line for land, glacier, and bathymetry shapes.</p>
</td></tr>
<tr><td><code id="basemap_+3A_land.size">land.size</code>, <code id="basemap_+3A_gla.size">gla.size</code>, <code id="basemap_+3A_bathy.size">bathy.size</code>, <code id="basemap_+3A_grid.size">grid.size</code></td>
<td>
<p>Numeric value specifying the width of the border line land, glacier and bathymetry shapes as well as the grid lines, respectively. Use the <code><a href="#topic+LS">LS</a></code> function for a specific width in pt. See Details.</p>
</td></tr>
<tr><td><code id="basemap_+3A_base_size">base_size</code></td>
<td>
<p>Base size parameter for ggplot. See <a href="ggplot2.html#topic+ggtheme">ggtheme</a>.</p>
</td></tr>
<tr><td><code id="basemap_+3A_projection.grid">projection.grid</code></td>
<td>
<p>Logical indicating whether the coordinate grid should show projected coordinates instead of decimal degree values. Useful to define limits for large maps in polar regions.</p>
</td></tr>
<tr><td><code id="basemap_+3A_expand.factor">expand.factor</code></td>
<td>
<p>Expansion factor for map limits. Can be used to zoom in (decrease the value under 1) and out (increase the value over 1) automatically (<code>data</code>) limited maps. Defaults to 1, which means that outermost data points are located at the boundaries of the plotting region.</p>
</td></tr>
<tr><td><code id="basemap_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about the projection and guessed column names should be returned as messages. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function uses <a href="ggplot2.html#topic+ggplot2-package">ggplot2</a>, <a href="sf.html#topic+sf">sf</a>, <a href="stars.html#topic+st_as_stars">stars</a> and spatial files to plot maps of the world's oceans. 
</p>
<p><strong>Limits</strong>
</p>
<p>If the limits are in decimal degrees, the longitude limits (<code>[1:2]</code>) specify the start and end segments of corresponding angular lines that should reside inside the map area. The longitude limits are defined <strong>counter-clockwise</strong>. The latitude limits <code>[3:4]</code> define the parallels that should reside inside the limited region given the longitude segments. Note that the actual limited region becomes wider than the polygon defined by the coordinates (shown in Examples). Using <code>data</code> to limit the map, making the points barely fit into the map. The <code>expand.factor</code> argument can be used to adjust the space between map borders and points. If the limits are given as projected coordinates or as decimal degrees for maps with -60 &lt; latitude &lt; 60, limit elements represent lines encompassing the map area in cartesian space. 
</p>
<p><strong>Projections</strong>
</p>
<p>If the <code>shapefiles</code> are not specified, the function uses either the <code>limits</code> or <code>data</code> arguments to decide which projection to use. Up-to-date conditions are defined in <code><a href="#topic+define_shapefiles">define_shapefiles</a></code> and <code><a href="#topic+shapefile_list">shapefile_list</a></code> functions. At the time of writing, the function uses three different projections (given as <a href="https://epsg.io/">EPSG codes</a>)
</p>

<ul>
<li> <p><strong>3995</strong> WGS 84 / Arctic Polar Stereographic. Called &quot;ArcticStereographic&quot;. For max latitude (<code>limits[4]</code>) &gt;= 60 (if min latitude (<code>limits[3]</code>) &gt;= 30), and single integer latitudes &gt;= 30 and &lt;= 89.
</p>
</li>
<li> <p><strong>3031</strong> WGS 84 / Antarctic Polar Stereographic. Called &quot;AntarcticStereographic&quot;. For max latitude (<code>limits[4]</code>) &lt;= -60 (if min latitude (<code>limits[3]</code>) &lt;= -30), and single integer latitudes &lt;= -30 and &gt;= -89.
</p>
</li>
<li> <p><strong>4326</strong> WGS 84 / World Geodetic System 1984, used in GPS. Called &quot;DecimalDegree&quot;. For min latitude (<code>limits[3]</code>) &lt; 30 or &gt; -30, max latitude (<code>limits[4]</code>) &lt; 60 or &gt; -60, and single integer latitudes &lt; 30 and &gt; -30.
</p>
</li></ul>

<p>The <code>rotate</code> argument changes the pre-defined projection such that mid-longitude point in the map points northward. 
</p>
<p>The <code>crs</code> argument can be used to define the projection, which can be useful when plotting, for instance, model data that are difficult to transform into another projection. 
</p>
<p><strong>Bathymetry</strong>
</p>
<p>Bathymetry can be plotted by simply specifying <code>bathymetry = TRUE</code> or <code>bathy.style</code> (you won't need to specify both any longer). The former uses a low-resolution raster file shipped with ggOceanMaps. The package contains an option to plot higher resolution bathymetries than the default binned blue alternative (<code>bathy.style = "raster_binned_blues"</code>). These bathymetries can be accessed by specifying the <code>bathy.style</code> argument and require a download from <a href="https://github.com/MikkoVihtakari/ggOceanMapsLargeData">ggOceanMapsLargeData</a> or other online repositories. The <code>bathy.style</code> character argument consists of three parts separated by a <code>_</code>. The first part gives the type: raster, poly(gon), or contour. The two latter ones use vector data. The second part gives the resolution: binned, continuous or user. The continuous and user options cannot be used for vector data. The user option accepts any raster file that can be opened using <a href="stars.html#topic+read_stars">read_stars</a>. The path to the file has to be stored in <code>ggOceanMaps.userpath</code> <a href="base.html#topic+options">option</a> (e.g. <code>options(ggOceanMaps.userpath = "PATH_TO_THE_FILE")</code>) (you can set this in .Rprofile to avoid having to type it every time). The last part defines the color: blues or grays. These options can be abbreviated by specifying the first letter of each part. Gray contour lines are an exception to the rule above and can be plotted using <code>bathy.style = "contour_gray"</code>. Future versions may contain a combination of raster and gray contours, but these have not been implemented yet. Currently implemented <code>bathy.style</code> alternatives are:
</p>

<ul>
<li> <p><code>NULL</code> (<strong>default</strong>). Bathymetry style is searched from <code>getOption("ggOceanMaps.bathy.style")</code>. If not found, <code>"raster_binned_blues"</code> is used. 
</p>
</li>
<li> <p><code>"raster_binned_blues"</code> or <code>"rbb"</code> plots binned raster bathymetry filled with different shades of blue. Does not require a download.
</p>
</li>
<li> <p><code>"raster_binned_grays"</code> or <code>"rbg"</code> the same than above but uses different shades of gray.
</p>
</li>
<li> <p><code>"raster_continuous_blues"</code> or <code>"rcb"</code> plots continuous raster bathymetry filled with different shades of blue. More detailed and visually more appealing than the binned bathymetry. Recommended. Requires a download. 
</p>
</li>
<li> <p><code>"raster_continuous_grays"</code> or <code>"rcg"</code> the same than above but uses different shades of gray.
</p>
</li>
<li> <p><code>"raster_user_blues"</code> or <code>"rub"</code> plots continuous raster bathymetry filled with different shades of blue from <code>getOption("ggOceanMaps.user.path")</code>. Any file supported by <a href="stars.html#topic+read_stars">read_stars</a> should work. The file has to be placed into the location specified by the path. Experimental feature. Has been tested using <a href="https://www.ncei.noaa.gov/products/etopo-global-relief-model">ETOPO 60 arc-second</a> and <a href="https://www.gebco.net/data_and_products/gridded_bathymetry_data/">GEBCO 15 arc-second</a> grids. Please report any bugs you find. 
</p>
</li>
<li> <p><code>"raster_user_grays"</code> or <code>"rug"</code> the same than above but uses different shades of gray.
</p>
</li>
<li> <p><code>"poly_binned_blues"</code>, <code>"poly_blues"</code>, <code>"pbb"</code> or <code>"pb"</code> plots polygon bathymetry filled with different shades of blue. Default in the versions older than 2.0 of ggOceanMaps. Requires a download. 
</p>
</li>
<li> <p><code>"poly_binned_grays"</code>, <code>"poly_grays"</code>, <code>"pbg"</code> or <code>"pg"</code> same than above but uses different shades of gray.
</p>
</li>
<li> <p><code>"contour_binned_blues"</code>, <code>"contour_blues"</code>, <code>"cbb"</code> or <code>"cb"</code> contour lines with different shades of blue. Requires a download.
</p>
</li>
<li> <p><code>"contour_gray"</code>, <code>"contour_gray"</code> or <code>"cg"</code> plots gray contour lines. Requires a download. 
</p>
</li></ul>

<p>The default can be changed by setting the <code>ggOceanMaps.bathy.style</code> option. <code>options(ggOceanMaps.bathy.style = "poly_blues")</code> would make the style similar to older pre-2.0 versions of ggOceanMaps. 
</p>
<p><strong>Pre-made shapefiles</strong>
</p>
<p>If the limits are not defined as decimal degrees (any longitude outside the range [-180, 180] or latitude [-90, 90]), the function will ask to specify <code>shapefiles</code>. The <code>shapefiles</code> can be defined by partially matching the names of the pre-made shapefiles in <code><a href="#topic+shapefile_list">shapefile_list</a></code> (e.g. &quot;Ar&quot; would be enough for &quot;ArcticStereographic&quot;) or by specifying custom shapefiles.
</p>
<p><strong>Custom shapefiles</strong>
</p>
<p>Custom shapefiles have to be a named list containing at least the following elements:
</p>

<ul>
<li> <p><strong>land</strong> Object name of the <a href="sf.html#topic+st_sf">spatial polygon</a> containing land. Required.
</p>
</li>
<li> <p><strong>glacier</strong> Object name of the <a href="sf.html#topic+st_sf">spatial polygon</a> containing glaciers. Not required if glaciers are not needed.
</p>
</li>
<li> <p><strong>bathy</strong> Object name of the <a href="sf.html#topic+st_sf">spatial polygon</a> or <a href="stars.html#topic+st_as_stars">raster</a> containing bathymetry data. Not required if bathymetry is not needed.
</p>
</li></ul>

<p>See Examples.
</p>
<p><strong>Line width and font size</strong>
</p>
<p>The line size aesthetics in <a href="ggplot2.html#topic+ggplot2-package">ggplot2</a> generates approximately 2.13 wider lines measured in pt than the given values. If you want a specific line width in pt, use the internal function <code><a href="#topic+LS">LS</a></code> to convert the desired line width to the ggplot2 equivalent. A similar function is also available for font sizes (<code><a href="#topic+FS">FS</a></code>).
</p>


<h3>Value</h3>

<p>Returns a <a href="ggplot2.html#topic+ggplot">ggplot</a> map, which can be assigned to an object and modified as any ggplot object.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>References</h3>

<p>Note that if you use this function to generate maps for a publication, it is advised to cite the underlying data. The spatial data used by this function have been acquired from the following sources:
</p>

<ul>
<li> <p><strong>Land polygons.</strong> <a href="https://www.naturalearthdata.com/downloads/10m-physical-vectors/">Natural Earth Data</a> 1:10m Physical Vectors with the Land and Minor Island datasets combined. Distributed under the <a href="https://creativecommons.org/publicdomain/">CC Public Domain license</a> (<a href="https://www.naturalearthdata.com/about/terms-of-use/">terms of use</a>).
</p>
</li>
<li> <p><strong>Glacier polygons.</strong> <a href="https://www.naturalearthdata.com/downloads/10m-physical-vectors/">Natural Earth Data</a> 1:10m Physical Vectors with the Glaciated Areas and Antarctic Ice Shelves datasets combined. Distributed under the <a href="https://creativecommons.org/publicdomain/">CC Public Domain license</a> (<a href="https://www.naturalearthdata.com/about/terms-of-use/">terms of use</a>)
</p>
</li>
<li> <p><strong>Bathymetry.</strong> <a href="https://www.ncei.noaa.gov/products/etopo-global-relief-model">NOAA National Centers for Environmental Information. 2022: ETOPO 2022 15 Arc-Second Global Relief Model. NOAA National Centers for Environmental Information.</a> <a href="https://doi.org/10.25921/fd45-gt74">doi:10.25921/fd45-gt74</a>. Distributed under the <a href="https://www.usa.gov/government-works/">U.S. Government Work license</a>.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>
</p>
<p>Other basemap functions: 
<code><a href="#topic+qmap">qmap</a>()</code>,
<code><a href="#topic+shapefile_list">shapefile_list</a>()</code>,
<code><a href="#topic+transform_coord">transform_coord</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The easiest way to produce a map is to use the limits
# argument and decimal degrees:

basemap(limits = 60) # synonym to basemap(60)

# Bathymetry can be added using the respective argument:
basemap(limits = -60, bathymetry = TRUE)

## Not run: 
# Glaciers require a download in the new version:
basemap(limits = -60, glaciers = TRUE, shapefiles = "Arctic")

## End(Not run)

# The easiest way to add data on the maps is to use the ggspatial functions:
dt &lt;- data.frame(lon = c(-150, 150), lat = c(60, 90))
if(requireNamespace("ggspatial", quietly = TRUE)) {
basemap(data = dt, bathymetry = TRUE) +
  ggspatial::geom_spatial_point(data = dt, aes(x = lon, y = lat), 
    color = "red")
}
## Not run: 
# Note that writing out data = dt is required because there are multiple
# underlying ggplot layers plotted already:
basemap(data = dt) +
ggspatial::geom_spatial_point(dt, aes(x = lon, y = lat), color = "red")
#&gt; Error: `mapping` must be created by `aes()`

## End(Not run)

# If you want to use native ggplot commands, you need to transform your data
# to the projection used by the map:
dt &lt;- transform_coord(dt, bind = TRUE)

basemap(data = dt) + 
  geom_point(data = dt, aes(x = lon.proj, y = lat.proj), color = "red")

# The limits argument of length 4 plots a map anywhere in the world:
basemap(limits = c(100, 160, -20, 30), bathymetry = TRUE)

# The limits are further expanded when using the data argument:

dt &lt;- data.frame(lon = c(-160, 160, 160, -160), lat = c(80, 80, 60, 60))

if(requireNamespace("ggspatial", quietly = TRUE)) {
basemap(data = dt) +
  ggspatial::geom_spatial_polygon(data = dt, aes(x = lon, y = lat),
    fill = NA, color = "red")

# Rotate:
basemap(data = dt, rotate = TRUE) +
  ggspatial::geom_spatial_polygon(data = dt, aes(x = lon, y = lat),
    fill = NA, color = "red")
}

# Alternative:
basemap(data = dt, rotate = TRUE) +
  geom_polygon(data = transform_coord(dt, rotate = TRUE), 
    aes(x = lon, y = lat), fill = NA, color = "red")

## To find UTM coordinates to limit a polar map:
basemap(limits = 60, projection.grid = TRUE)

## Not run: 
# (Arctic shapes require a download in 2.0)
basemap(limits = c(2.5e4, -2.5e6, 2e6, -2.5e5), shapefiles = "Arctic")

# Using custom shapefiles (requires download):
data(bs_shapes, package = "ggOceanMapsData")
basemap(shapefiles = list(land = bs_land))#' 

# Premade shapefiles from ggOceanMapsLargeData (requires download):
basemap("BarentsSea", bathymetry = TRUE)

## End(Not run)

# grid.col = NA removes grid lines, rotate = TRUE rotates northwards: 
basemap(limits = c(-180, -140, 50, 70), grid.col = NA, rotate = TRUE)

# Rename axis labels

basemap(limits = c(-140, -105, 20, 40), bathymetry = TRUE) + xlab("Lat")

# Remove axis labels

basemap(limits = c(0, 60, 68, 80)) + labs(x = NULL, y = NULL)

basemap(limits = c(0, 60, 68, 80), rotate = TRUE) +
theme(axis.title = element_blank(),
      axis.text = element_blank(),
      axis.ticks.x = element_blank(),
      axis.ticks.y = element_blank()
      )

</code></pre>

<hr>
<h2 id='basemap_data'>Create basemapData object for basemap plotting</h2><span id='topic+basemap_data'></span>

<h3>Description</h3>

<p>Internal function to create a <code>basemapData</code> object for <code><a href="#topic+basemap">basemap</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basemap_data(
  limits = NULL,
  data = NULL,
  shapefiles = NULL,
  crs = NULL,
  bathymetry = FALSE,
  bathy.type = NULL,
  downsample = 0,
  glaciers = FALSE,
  lon.interval = NULL,
  lat.interval = NULL,
  expand.factor = 1.1,
  rotate = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basemap_data_+3A_limits">limits</code></td>
<td>
<p>Map limits. One of the following:
</p>

<ul>
<li> <p><strong>numeric vector</strong> of length 4: The first element defines the start longitude, the second element the end longitude (counter-clockwise), the third element the minimum latitude, and the fourth element the maximum latitude of the bounding box. Also accepts <code><a href="sf.html#topic+st_bbox">sf::st_bbox</a></code> type named vectors with limits in any order. The coordinates can be given as decimal degrees or coordinate units for shapefiles used by a projected map. Produces a rectangular map. Latitude limits not given in min-max order are automatically ordered to respect this requirement.
</p>
</li>
<li> <p><strong>single integer</strong> between 30 and 88 or -88 and -30 produces a polar map for the Arctic or Antarctic, respectively.
</p>
</li></ul>

<p>Can be omitted if <code>data</code> or <code>shapefiles</code> are defined.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_data">data</code></td>
<td>
<p>A data frame, sp, or <a href="sf.html#topic+sf">sf</a> shape containing longitude and latitude coordinates. If a data frame, the coordinates have to be given in decimal degrees. The limits are extracted from these coordinates and produce a rectangular map. Suited for situations where a certain dataset is plotted on a map. The function attempts to <a href="#topic+guess_coordinate_columns">guess the correct columns</a> and it is advised to use intuitive column names for longitude (such as &quot;lon&quot;, &quot;long&quot;, or &quot;longitude&quot;) and latitude (&quot;lat&quot;, &quot;latitude&quot;) columns. Can be omitted if <code>limits</code> or <code>shapefiles</code> are defined.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_shapefiles">shapefiles</code></td>
<td>
<p>Either a <a href="#topic+shapefile_list">list containing shapefile information</a> or a character argument referring to a name of pre-made shapefiles in <code><a href="#topic+shapefile_list">shapefile_list</a></code>. This name is partially matched. Can be omitted if <code>limits</code> or <code>data</code> is defined as decimal degrees.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_crs">crs</code></td>
<td>
<p><a href="sf.html#topic+st_crs">Coordinate reference system</a> (CRS) for the map. If <code>NULL</code> (default), the CRS is selected automatically based on <code>limits</code>, <code>data</code>, or <code>shapefiles</code>. Passed to <code><a href="sf.html#topic+st_crs">st_crs</a></code>. Typically integers giving the EPGS code are the easiest. Cannot be used simultaneously with <code>rotate</code>.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_bathymetry">bathymetry</code></td>
<td>
<p>Logical indicating whether bathymetry should be added to the map. Functions together with <code>bathy.style</code>. See Details.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_downsample">downsample</code></td>
<td>
<p>Integer defining the downsampling rate for raster bathymetries. A value of 0 (default) does not downsample, 1 skips every second row, 2 every second and third. See <code><a href="stars.html#topic+geom_stars">geom_stars</a></code></p>
</td></tr>
<tr><td><code id="basemap_data_+3A_glaciers">glaciers</code></td>
<td>
<p>Logical indicating whether glaciers and ice sheets should be added to the map.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_lon.interval">lon.interval</code>, <code id="basemap_data_+3A_lat.interval">lat.interval</code></td>
<td>
<p>Numeric value specifying the interval of longitude and latitude grids. <code>NULL</code> finds reasonable defaults depending on <code>limits</code>.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_expand.factor">expand.factor</code></td>
<td>
<p>Expansion factor for map limits. Can be used to zoom in (decrease the value under 1) and out (increase the value over 1) automatically (<code>data</code>) limited maps. Defaults to 1, which means that outermost data points are located at the boundaries of the plotting region.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_rotate">rotate</code></td>
<td>
<p>Logical indicating whether the projected maps should be rotated to point towards the pole relative to the mid-longitude limit.</p>
</td></tr>
<tr><td><code id="basemap_data_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about the projection and guessed column names should be returned as messages. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function, which is automatically run by the <code><a href="#topic+basemap">basemap</a></code> function. Common users do not need to worry about these details.
</p>


<h3>Value</h3>

<p>A list of class <code>basemapData</code> containing information required for plotting a <code><a href="#topic+basemap">basemap</a></code>.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p><code><a href="#topic+basemap">basemap</a></code>
</p>

<hr>
<h2 id='clip_shapefile'>Clip a shapefile using a bounding area</h2><span id='topic+clip_shapefile'></span>

<h3>Description</h3>

<p>Clips an area from a larger shapefile provided in sf or sp formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clip_shapefile(
  x,
  limits,
  proj.limits = 4326,
  simplify = FALSE,
  tol = 60,
  return.boundary = FALSE,
  extra.validate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clip_shapefile_+3A_x">x</code></td>
<td>
<p>Original shapefile to be clipped as a an <a href="sf.html#topic+sf">sf</a> or <code>sp</code> polygons object. Required. Must contain <code><a href="sf.html#topic+st_crs">CRS</a></code> information.</p>
</td></tr>
<tr><td><code id="clip_shapefile_+3A_limits">limits</code></td>
<td>
<p>The constraining area used to clip <code>x</code>. Required. Either a numeric vector of length 4 or a spatial object from the sf or sp packages. The first element of the numeric vector defines the minimum longitude, second element the maximum longitude, third element the minimum latitude and fourth element the maximum latitude of the bounding box. If a spatial object, it must contain <code><a href="sf.html#topic+st_crs">CRS</a></code> information. See details.</p>
</td></tr>
<tr><td><code id="clip_shapefile_+3A_proj.limits">proj.limits</code></td>
<td>
<p>The <code><a href="sf.html#topic+st_crs">CRS</a></code> projection attributes for <code>limits</code>. Hence format accepted by <code><a href="sf.html#topic+st_crs">st_crs</a></code> will suffice but integers are the easiest. Defaults to decimal degrees.</p>
</td></tr>
<tr><td><code id="clip_shapefile_+3A_simplify">simplify</code></td>
<td>
<p>Should the <code>x</code> geometry be simplified before clipping? Useful to make the function faster for large shape files. Uses <code><a href="sf.html#topic+st_simplify">st_simplify</a></code> function.</p>
</td></tr>
<tr><td><code id="clip_shapefile_+3A_tol">tol</code></td>
<td>
<p>Numerical tolerance value to be used for simplification. See <code>?sf::st_simplfy</code>.</p>
</td></tr>
<tr><td><code id="clip_shapefile_+3A_return.boundary">return.boundary</code></td>
<td>
<p>Logical. If <code>TRUE</code> returns the clip boundary together with the shapefile.</p>
</td></tr>
<tr><td><code id="clip_shapefile_+3A_extra.validate">extra.validate</code></td>
<td>
<p>Logical indicating whether <code>x</code> should be run through extra validation. Slows down the function but is necessary in some cases involving anti-meridian.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function uses the <code><a href="sf.html#topic+st_intersection">st_intersection</a></code> function to clip smaller polygons from larger ones. The clip area is constrained by either a numeric vector or a spatial object in the <code>limits</code> argument. Defining <code>limits</code> by a <code><a href="sf.html#topic+st_sf">sf</a></code> object gives greater freedom for the clip area as the area does not have to be rectangular.
</p>


<h3>Value</h3>

<p>Clipped spatial object. If <code>return.boundary = TRUE</code>, a list containing the shapefile together with the clip boundary.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other create shapefiles: 
<code><a href="#topic+geonorge_bathymetry">geonorge_bathymetry</a>()</code>,
<code><a href="#topic+raster_bathymetry">raster_bathymetry</a>()</code>,
<code><a href="#topic+vector_bathymetry">vector_bathymetry</a>()</code>
</p>

<hr>
<h2 id='dd_clip_boundary'>Create clip boundary from decimal degree limits</h2><span id='topic+dd_clip_boundary'></span>

<h3>Description</h3>

<p>Creates a clip boundary for map cropping from decimal degree limits 
counter-clockwise following parallels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dd_clip_boundary(limits, crs, expand.factor = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dd_clip_boundary_+3A_limits">limits</code></td>
<td>
<p>Numeric vector of length 4 giving the map limits in decimal degrees. See <a href="#topic+basemap">basemap</a>.</p>
</td></tr>
<tr><td><code id="dd_clip_boundary_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system in <code><a href="sf.html#topic+st_crs">st_crs</a></code> format.</p>
</td></tr>
<tr><td><code id="dd_clip_boundary_+3A_expand.factor">expand.factor</code></td>
<td>
<p>Expansion factor for map limits. Set to <code>NULL</code> to ignore.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>

<hr>
<h2 id='dd_land'>Decimal degree land shapes</h2><span id='topic+dd_land'></span>

<h3>Description</h3>

<p>Decimal degree land shapes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dd_land
</code></pre>


<h3>Format</h3>

<p><a href="sf.html#topic+st_sf">Simple feature collection</a> land shapes in decimal degrees (EPSG:4326). Obtained from Natural Earth Data (10m vectors). Includes the islands dataset.
</p>


<h3>Source</h3>

<p><a href="https://www.naturalearthdata.com/">Natural Earth Data</a>
</p>


<h3>See Also</h3>

<p>Other mapfiles: 
<code><a href="#topic+dd_rbathy">dd_rbathy</a></code>
</p>

<hr>
<h2 id='dd_rbathy'>Decimal degree bathymetry</h2><span id='topic+dd_rbathy'></span>

<h3>Description</h3>

<p>Decimal degree bathymetry
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dd_rbathy
</code></pre>


<h3>Format</h3>

<p><a href="stars.html#topic+read_stars">Raster</a> bathymetry in decimal degrees (EPSG:4326). Downsampled from ETOPO 60 arc-second grid.
</p>


<h3>Source</h3>

<p>NOAA National Centers for Environmental Information. 2022: ETOPO 2022 15 Arc-Second Global Relief Model. NOAA National Centers for Environmental Information. <a href="https://doi.org/10.25921/fd45-gt74">doi:10.25921/fd45-gt74</a>
</p>


<h3>See Also</h3>

<p>Other mapfiles: 
<code><a href="#topic+dd_land">dd_land</a></code>
</p>

<hr>
<h2 id='dd_to_deg'>Convert decimal degree values to angular degrees</h2><span id='topic+dd_to_deg'></span>

<h3>Description</h3>

<p>Converts decimal degree values to angular degrees. Used in decimal degree limit calculations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dd_to_deg(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dd_to_deg_+3A_x">x</code></td>
<td>
<p>numeric to be converted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of angular degrees
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other degree converters: 
<code><a href="#topic+deg_to_dd">deg_to_dd</a>()</code>
</p>

<hr>
<h2 id='define_bathy_style'>Define bathymetry style for <code><a href="#topic+basemap">basemap</a></code></h2><span id='topic+define_bathy_style'></span>

<h3>Description</h3>

<p>Defines bathymetry style to be used in <code><a href="#topic+basemap">basemap</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_bathy_style(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="define_bathy_style_+3A_x">x</code></td>
<td>
<p>Character argument giving the input bathymetry style. Partially matched and can be abbreviated. See <code>bathy.style</code> in <code><a href="#topic+basemap">basemap</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a named character vector with the name pointing to the bathymetry style and value to internal map element command for <code><a href="#topic+basemap">basemap</a></code> (see <code><a href="#topic+map_cmd">map_cmd</a></code>).
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>

<hr>
<h2 id='define_shapefiles'>Define a shapefile to use in plotting from the limits argument</h2><span id='topic+define_shapefiles'></span>

<h3>Description</h3>

<p>An internal function to make <code><a href="#topic+basemap">basemap</a></code> code more readable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_shapefiles(limits, force_dd = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="define_shapefiles_+3A_limits">limits</code></td>
<td>
<p>A numeric vector of length 4: The first element defines the minimum longitude, the second element the maximum longitude, the third element the minimum latitude and the fourth element the maximum latitude of the bounding box.</p>
</td></tr>
<tr><td><code id="define_shapefiles_+3A_force_dd">force_dd</code></td>
<td>
<p>Logical indicating whether the shapefile should be forced to DecimalDegree. Required for transforming dd_* shapefile objects to other projections.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function, which is automatically run by the <code><a href="#topic+basemap">basemap</a></code> function.
</p>


<h3>Value</h3>

<p>A list containing the correct shapefile, a logical statement whether the limits were supplied as decimal degrees and coordinate reference system.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p><code><a href="#topic+basemap">basemap</a></code>
</p>

<hr>
<h2 id='deg_to_dd'>Convert angular degrees to decimal degree values</h2><span id='topic+deg_to_dd'></span>

<h3>Description</h3>

<p>Converts angular degree values to decimal degrees. Used in decimal degree limit calculations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deg_to_dd(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deg_to_dd_+3A_x">x</code></td>
<td>
<p>numeric to be converted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of decimal degrees
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other degree converters: 
<code><a href="#topic+dd_to_deg">dd_to_deg</a>()</code>
</p>

<hr>
<h2 id='dist2land'>Calculate distance to the closest land for coordinates</h2><span id='topic+dist2land'></span>

<h3>Description</h3>

<p>Calculates the closest distance to land for coordinates in a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dist2land(
  data,
  lon = NULL,
  lat = NULL,
  shapefile = "DecimalDegree",
  proj.in = 4326,
  bind = TRUE,
  dist.col = "ldist",
  binary = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dist2land_+3A_data">data</code></td>
<td>
<p>Data frame or <a href="sf.html#topic+sf">sf</a> object containing geographic coordinates.</p>
</td></tr>
<tr><td><code id="dist2land_+3A_lon">lon</code>, <code id="dist2land_+3A_lat">lat</code></td>
<td>
<p>Either the names of the longitude and latitude columns in <code>data</code> or <code>NULL</code> to <a href="#topic+guess_coordinate_columns">guess the longitude and/or latitude columns</a> in <code>data</code>.</p>
</td></tr>
<tr><td><code id="dist2land_+3A_shapefile">shapefile</code></td>
<td>
<p>Land shape to which distances should be calculated. Either a character argument referring to a name of pre-made shapefiles in <code><a href="#topic+shapefile_list">shapefile_list</a></code>, a single <a href="sf.html#topic+sf">sf</a> or <code>sp</code> polygons object object or <code>NULL</code> to enable automatic definition of the land shapes based on <code>data</code>. Set to <code>"DecimalDegree"</code> by default which enables great circle distances using <a href="sf.html#topic+s2">s2</a> features assuming a spherical Earth (as a contrast to earlier versions of the function which used flat Earth).</p>
</td></tr>
<tr><td><code id="dist2land_+3A_proj.in">proj.in</code></td>
<td>
<p><code><a href="sf.html#topic+st_crs">coordinate reference system</a></code> of <code>data</code>.</p>
</td></tr>
<tr><td><code id="dist2land_+3A_bind">bind</code></td>
<td>
<p>Logical indicating whether <code>x</code> should be returned with the distances (<code>TRUE</code>, default) or should the distances be returned as vector (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="dist2land_+3A_dist.col">dist.col</code></td>
<td>
<p>The name of the distance column, if <code>bind = TRUE</code>. Defaults to &quot;ldist&quot;.</p>
</td></tr>
<tr><td><code id="dist2land_+3A_binary">binary</code></td>
<td>
<p>Logical indicating whether binary (TRUE = the position is in the ocean, FALSE = the position is on land) should be returned instead of distances. Speeds up the function considerably.</p>
</td></tr>
<tr><td><code id="dist2land_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about the process should be returned as messages. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function calculates great circle spherical distances using the <code><a href="sf.html#topic+st_distance">st_distance</a></code> function by default. The function can be slow for large datasets. If you only want to use the function to remove (wrong) observations reported on land, set the <code>binary</code> argument to <code>TRUE</code>. This speeds up the calculations by a factor of ten.
</p>


<h3>Value</h3>

<p>Returns a vector if <code>bind = FALSE</code>, otherwise a data frame. The distances are given in a new column defined by the <code>dist.col</code> argument. The distances are <strong>kilometers</strong> if <code>binary = FALSE</code>, otherwise logical (TRUE = the position is in the ocean, FALSE = the position is on land).
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple example:
dt &lt;- data.frame(lon = seq(-20, 80, length.out = 41), lat = 50:90)
dt &lt;- dist2land(dt, verbose = FALSE)

qmap(dt, color = ldist) + scale_color_viridis_c()

# Datasets covering the entire Earth seem to work now, except 0,0 lon/lat point
lon = deg_to_dd(seq(0,360,30)); lat = c(80,50,20,0,-20,-50,-80)

dt &lt;- data.frame(
 lon = rep(lon, length(lat)), lat = rep(lat, each = length(lon)))

qmap(dist2land(dt, verbose = FALSE), color = ldist) +
 scale_color_viridis_c()

## Not run: 
dt &lt;- data.frame(
  lon = deg_to_dd(seq(0,360,length.out = 1e3)), 
  lat = rep(60, 1000))
  
# The distance calculation is slow for large datasets
system.time(dist2land(dt))
# user  system elapsed 
# 12.677   0.146  12.849 

# binary = TRUE speeds the function up
system.time(dist2land(dt, binary = TRUE))
# user  system elapsed 
# 1.239   0.120   1.369 

## End(Not run)
</code></pre>

<hr>
<h2 id='fdir_main_areas'>Major fisheries areas (hovedomraade) of Norway</h2><span id='topic+fdir_main_areas'></span>

<h3>Description</h3>

<p>Major fisheries areas (hovedomraade) of Norway
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fdir_main_areas
</code></pre>


<h3>Format</h3>

<p><code><a href="sf.html#topic+st_sf">sf object</a></code> containing major fishing zones defined by the Norwegian Directorate of Fisheries. Contains also Northwest Atlantic Fisheries Organization's divisions where Norwegian vessels tend to fish.
</p>


<h3>Source</h3>

<p><a href="https://open-data-fiskeridirektoratet-fiskeridir.hub.arcgis.com/">Norwegian Directorate of Fisheries</a> and <a href="https://www.nafo.int/About-us/Maps">Northwest Atlantic Fisheries Organization</a>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+fdir_sub_areas">fdir_sub_areas</a></code>,
<code><a href="#topic+ices_areas">ices_areas</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(requireNamespace("ggspatial")) {
 
basemap(fdir_main_areas) + 
ggspatial::annotation_spatial(fdir_main_areas, fill = NA)

}
</code></pre>

<hr>
<h2 id='fdir_sub_areas'>Norwegian sub-areas (lokasjon) for commercial fishing</h2><span id='topic+fdir_sub_areas'></span>

<h3>Description</h3>

<p>Norwegian sub-areas (lokasjon) for commercial fishing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fdir_sub_areas
</code></pre>


<h3>Format</h3>

<p><code><a href="sf.html#topic+st_sf">sf object</a></code> containing major fishing zones defined by the Norwegian Directorate of Fisheries.
</p>


<h3>Source</h3>

<p><a href="https://open-data-fiskeridirektoratet-fiskeridir.hub.arcgis.com/">Norwegian Directorate of Fisheries</a>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+fdir_main_areas">fdir_main_areas</a></code>,
<code><a href="#topic+ices_areas">ices_areas</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(requireNamespace("ggspatial")) {

basemap(fdir_sub_areas) + 
ggspatial::annotation_spatial(fdir_sub_areas, fill = NA)

}
</code></pre>

<hr>
<h2 id='FS'>Convert font sizes measured as points to ggplot font sizes</h2><span id='topic+FS'></span>

<h3>Description</h3>

<p>Converts font sizes measured as points (as given by most programs such as MS Word etc.) to ggplot font sizes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FS(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FS_+3A_x">x</code></td>
<td>
<p>numeric vector giving the font sizes in points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a numeric vector of lenght <code>x</code> of ggplot font sizes
</p>


<h3>See Also</h3>

<p>Other size adjustors: 
<code><a href="#topic+LS">LS</a>()</code>
</p>

<hr>
<h2 id='geonorge_bathymetry'>Open Geonorge bathymetry shapefiles</h2><span id='topic+geonorge_bathymetry'></span>

<h3>Description</h3>

<p>Opens and formats Geonorge bathymetry shapefiles ready for plotting in ggOceanMaps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geonorge_bathymetry(filepath, layer = NULL, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geonorge_bathymetry_+3A_filepath">filepath</code></td>
<td>
<p>Character string defining the path to the <code>.gml</code> file. Must contain the file extension.</p>
</td></tr>
<tr><td><code id="geonorge_bathymetry_+3A_layer">layer</code></td>
<td>
<p>Character string defining the layer containing depth information. If <code>NULL</code> assumed to be &quot;dybdeareal&quot;.</p>
</td></tr>
<tr><td><code id="geonorge_bathymetry_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information the reading process should be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can download the bathymetry polygon shapefiles from <a href="https://kartkatalog.geonorge.no/metadata/kartverket/dybdedata/2751aacf-5472-4850-a208-3532a51c529a">Geonorge</a>. Download the file in <code>GLM</code> format.
</p>


<h3>Value</h3>

<p>An <a href="sf.html#topic+st_polygon">sf</a> object containing the depth polygons. Uses same projection than <code>bathy</code> (see <code><a href="sf.html#topic+st_crs">CRS</a></code>).
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other create shapefiles: 
<code><a href="#topic+clip_shapefile">clip_shapefile</a>()</code>,
<code><a href="#topic+raster_bathymetry">raster_bathymetry</a>()</code>,
<code><a href="#topic+vector_bathymetry">vector_bathymetry</a>()</code>
</p>

<hr>
<h2 id='get_depth'>Extract depth for coordinates from a raster bathymetry dataset</h2><span id='topic+get_depth'></span>

<h3>Description</h3>

<p>Extracts depth from <a href="#topic+basemap">basemap</a> bathymetry raster dataset for coordinates in a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_depth(
  data,
  bathy.style = "raster_continuous",
  lon = NULL,
  lat = NULL,
  shapefile = "DecimalDegree",
  proj.in = 4326,
  bind = TRUE,
  depth.col = "depth",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_depth_+3A_data">data</code></td>
<td>
<p>Data frame or <a href="sf.html#topic+sf">sf</a> object containing geographic coordinates.</p>
</td></tr>
<tr><td><code id="get_depth_+3A_bathy.style">bathy.style</code></td>
<td>
<p>Character defining the <a href="#topic+basemap">basemap</a> bathymetry raster which should be used for the depth extraction. Valid alternatives: <code>"raster_binned"</code> (or <code>"rb"</code>), <code>"raster_continuous"</code> (or <code>"rc"</code>; default), or <code>"raster_user"</code> (or <code>"ru"</code>).</p>
</td></tr>
<tr><td><code id="get_depth_+3A_lon">lon</code>, <code id="get_depth_+3A_lat">lat</code></td>
<td>
<p>Either the names of the longitude and latitude columns in <code>data</code> or <code>NULL</code> to <a href="#topic+guess_coordinate_columns">guess the longitude and/or latitude columns</a> in <code>data</code>.</p>
</td></tr>
<tr><td><code id="get_depth_+3A_shapefile">shapefile</code></td>
<td>
<p>Land shape to which distances should be calculated. Either a character argument referring to a name of pre-made shapefiles in <code><a href="#topic+shapefile_list">shapefile_list</a></code>, a single <a href="sf.html#topic+sf">sf</a> or <code>sp</code> polygons object object or <code>NULL</code> to enable automatic definition of the land shapes based on <code>data</code>. Set to <code>"DecimalDegree"</code> by default which enables great circle distances using <a href="sf.html#topic+s2">s2</a> features assuming a spherical Earth (as a contrast to earlier versions of the function which used flat Earth).</p>
</td></tr>
<tr><td><code id="get_depth_+3A_proj.in">proj.in</code></td>
<td>
<p><code><a href="sf.html#topic+st_crs">coordinate reference system</a></code> of <code>data</code>.</p>
</td></tr>
<tr><td><code id="get_depth_+3A_bind">bind</code></td>
<td>
<p>Logical indicating whether <code>x</code> should be returned with the distances (<code>TRUE</code>, default) or should the distances be returned as vector (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="get_depth_+3A_depth.col">depth.col</code></td>
<td>
<p>The name of the depth column, if <code>bind = TRUE</code>. Defaults to &quot;depth&quot;.</p>
</td></tr>
<tr><td><code id="get_depth_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about the process should be returned as messages. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses the <code><a href="stars.html#topic+st_extract">st_extract</a></code> function to extract values from <a href="#topic+basemap">basemap</a> bathymetry raster grids. Does not work for vector bathymetries.
</p>


<h3>Value</h3>

<p>Returns a vector if <code>bind = FALSE</code>, otherwise a data frame. The depths are given in a new column defined by the <code>dist.col</code> argument. The distances are <strong>kilometers</strong>. <code>NA</code> distance means that the position is on land.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dt &lt;- data.frame(lon = seq(-20, 80, length.out = 41), lat = 50:90)
dt &lt;- get_depth(dt)
qmap(dt, color = depth) + scale_color_viridis_c()

## End(Not run)
</code></pre>

<hr>
<h2 id='guess_coordinate_columns'>Guess longitude and latitude columns in a data frame</h2><span id='topic+guess_coordinate_columns'></span>

<h3>Description</h3>

<p>An internal function to make <code><a href="#topic+basemap">basemap</a></code> code more readable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guess_coordinate_columns(data, lon = NULL, lat = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guess_coordinate_columns_+3A_data">data</code></td>
<td>
<p>Dataframe containing data for which the limits should be calculated.</p>
</td></tr>
<tr><td><code id="guess_coordinate_columns_+3A_lon">lon</code>, <code id="guess_coordinate_columns_+3A_lat">lat</code></td>
<td>
<p>Character defining the name of the longitude and latitude columns in <code>data</code>. Use <code>NULL</code> to guess the longitude and/or latitude columns in <code>x</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function, which is automatically run by the <code><a href="#topic+basemap">basemap</a></code> function.
</p>


<h3>Value</h3>

<p>A named vector of colummn names.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p><code><a href="#topic+auto_limits">auto_limits</a></code>, <code><a href="#topic+transform_coord">transform_coord</a></code>, <code><a href="#topic+basemap">basemap</a></code>
</p>

<hr>
<h2 id='ices_areas'>ICES Advisory Areas</h2><span id='topic+ices_areas'></span>

<h3>Description</h3>

<p>ICES Advisory Areas
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ices_areas
</code></pre>


<h3>Format</h3>

<p><code><a href="sf.html#topic+st_sf">sf object</a></code> containing ICES Advisory Areas.
</p>


<h3>Source</h3>

<p><a href="https://www.ices.dk/">International Council for the Exploration of the Sea</a>
</p>


<h3>See Also</h3>

<p>Other datasets: 
<code><a href="#topic+fdir_main_areas">fdir_main_areas</a></code>,
<code><a href="#topic+fdir_sub_areas">fdir_sub_areas</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(requireNamespace("ggspatial")) {

basemap(ices_areas) + 
ggspatial::annotation_spatial(ices_areas, fill = NA)

}
</code></pre>

<hr>
<h2 id='is_decimal_limit'>Test whether a limit argument is specified as decimal degrees.</h2><span id='topic+is_decimal_limit'></span>

<h3>Description</h3>

<p>An internal function to make <code><a href="#topic+basemap">basemap</a></code> code more readable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_decimal_limit(limits)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_decimal_limit_+3A_limits">limits</code></td>
<td>
<p>A numeric vector of length 1 or 4. See <code><a href="#topic+basemap">basemap</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function, which is automatically run by the <code><a href="#topic+basemap">basemap</a></code> function.
</p>


<h3>Value</h3>

<p>A logical value
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p><code><a href="#topic+basemap">basemap</a></code>
</p>

<hr>
<h2 id='load_map_data'>Load large shapefile objects</h2><span id='topic+load_map_data'></span>

<h3>Description</h3>

<p>Internal function to load large shapefile objects. Downloads the files if they are not found <code>getOption("ggOceanMaps.datapath")</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_map_data(x, force = FALSE, downsample = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_map_data_+3A_x">x</code></td>
<td>
<p>An object from <code><a href="#topic+shapefile_list">shapefile_list</a></code>.</p>
</td></tr>
<tr><td><code id="load_map_data_+3A_force">force</code></td>
<td>
<p>Logical indicating whether to download the file even though it exists. Useful when files in the <a href="https://github.com/MikkoVihtakari/ggOceanMapsLargeData">Github repository have been changed</a>. Overwrites the old file.</p>
</td></tr>
<tr><td><code id="load_map_data_+3A_downsample">downsample</code></td>
<td>
<p>Integer defining the downsampling rate for raster bathymetries. A value of 0 (default) does not downsample, 1 skips every second row, 2 every second and third. See <code><a href="stars.html#topic+geom_stars">geom_stars</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function, which is automatically run by the <code><a href="#topic+basemap">basemap</a></code> function. Common users do not need to worry about these details.
</p>


<h3>Value</h3>

<p>A list of spatial objects
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p><code><a href="#topic+basemap">basemap</a></code>
</p>

<hr>
<h2 id='LS'>Convert line sizes measured as points to ggplot line sizes</h2><span id='topic+LS'></span>

<h3>Description</h3>

<p>Converts line sizes measured as points (as given by most programs such as Adobe Illustrator etc.) to ggplot font sizes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LS(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LS_+3A_x">x</code></td>
<td>
<p>numeric vector giving the lines sizes in points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a numeric vector of lenght <code>x</code> of ggplot line sizes
</p>


<h3>See Also</h3>

<p>Other size adjustors: 
<code><a href="#topic+FS">FS</a>()</code>
</p>

<hr>
<h2 id='map_cmd'>Return map elements for basemap</h2><span id='topic+map_cmd'></span>

<h3>Description</h3>

<p>An internal function to make <code><a href="#topic+basemap">basemap</a></code> code more readable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_cmd(command, alternative = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="map_cmd_+3A_command">command</code></td>
<td>
<p>basemap layer to be added</p>
</td></tr>
<tr><td><code id="map_cmd_+3A_alternative">alternative</code></td>
<td>
<p>logical to return alternative formmatting in certain cases. Used to reduce <code>if</code>-<code>else</code> statements in <code><a href="#topic+basemap">basemap</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is an internal function, which is automatically run by the <code><a href="#topic+basemap">basemap</a></code> function. Common users do not need to worry about these details. Basemap elements can added together using this function, <code><a href="base.html#topic+parse">parse</a></code> and <code><a href="base.html#topic+eval">eval</a></code>.
</p>


<h3>Value</h3>

<p>A character string containing a ggplot2 plotting command. Use <code>eval(parse(text=...))</code> to plot the string.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p><code><a href="#topic+basemap">basemap</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## An example for utm map without glaciers or bathymetry
## Not run: eval(parse(text=paste(map_cmd("base"), map_cmd("land_utm"),
map_cmd("grid_utm"), map_cmd("defs_utm"), sep = "+")))
## End(Not run)
</code></pre>

<hr>
<h2 id='qmap'>Quick map</h2><span id='topic+qmap'></span>

<h3>Description</h3>

<p><code>qmap</code> is a shortcut similar to ggplot2's <code><a href="ggplot2.html#topic+qplot">qplot</a></code> designed to quickly plot data with a limited range of options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qmap(
  data,
  ...,
  x = NULL,
  y = NULL,
  geom = "point",
  limits = NULL,
  shapefiles = NULL,
  crs = NULL,
  bathymetry = FALSE,
  glaciers = FALSE,
  rotate = FALSE,
  legends = TRUE,
  legend.position = "right",
  lon.interval = NULL,
  lat.interval = NULL,
  bathy.style = NULL,
  downsample = 0,
  bathy.border.col = NA,
  bathy.size = 0.1,
  bathy.alpha = 1,
  land.col = "grey60",
  land.border.col = "black",
  land.size = 0.1,
  gla.col = "grey95",
  gla.border.col = "black",
  gla.size = 0.1,
  grid.col = "grey70",
  grid.size = 0.1,
  base_size = 11,
  projection.grid = FALSE,
  expand.factor = 1.1,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qmap_+3A_data">data</code></td>
<td>
<p>Data frame to use.</p>
</td></tr>
<tr><td><code id="qmap_+3A_x">x</code>, <code id="qmap_+3A_y">y</code>, <code id="qmap_+3A_...">...</code></td>
<td>
<p>Aesthetics passed into each layer. Longitude and latitude columns are automatically recognized using the <code><a href="#topic+guess_coordinate_columns">guess_coordinate_columns</a></code> function.</p>
</td></tr>
<tr><td><code id="qmap_+3A_geom">geom</code></td>
<td>
<p>Character argument specifying geom(s) to draw. Defaults to &quot;point&quot;. Other alternatives are &quot;text&quot; and &quot;label&quot;. The &quot;text&quot; option can also be triggered by simply mapping a variable to <code>label</code> (see Examples).</p>
</td></tr>
<tr><td><code id="qmap_+3A_limits">limits</code></td>
<td>
<p>Map limits. One of the following:
</p>

<ul>
<li> <p><strong>numeric vector</strong> of length 4: The first element defines the start longitude, the second element the end longitude (counter-clockwise), the third element the minimum latitude, and the fourth element the maximum latitude of the bounding box. Also accepts <code><a href="sf.html#topic+st_bbox">sf::st_bbox</a></code> type named vectors with limits in any order. The coordinates can be given as decimal degrees or coordinate units for shapefiles used by a projected map. Produces a rectangular map. Latitude limits not given in min-max order are automatically ordered to respect this requirement.
</p>
</li>
<li> <p><strong>single integer</strong> between 30 and 88 or -88 and -30 produces a polar map for the Arctic or Antarctic, respectively.
</p>
</li></ul>

<p>Can be omitted if <code>data</code> or <code>shapefiles</code> are defined.</p>
</td></tr>
<tr><td><code id="qmap_+3A_shapefiles">shapefiles</code></td>
<td>
<p>Either a <a href="#topic+shapefile_list">list containing shapefile information</a> or a character argument referring to a name of pre-made shapefiles in <code><a href="#topic+shapefile_list">shapefile_list</a></code>. This name is partially matched. Can be omitted if <code>limits</code> or <code>data</code> is defined as decimal degrees.</p>
</td></tr>
<tr><td><code id="qmap_+3A_crs">crs</code></td>
<td>
<p><a href="sf.html#topic+st_crs">Coordinate reference system</a> (CRS) for the map. If <code>NULL</code> (default), the CRS is selected automatically based on <code>limits</code>, <code>data</code>, or <code>shapefiles</code>. Passed to <code><a href="sf.html#topic+st_crs">st_crs</a></code>. Typically integers giving the EPGS code are the easiest. Cannot be used simultaneously with <code>rotate</code>.</p>
</td></tr>
<tr><td><code id="qmap_+3A_bathymetry">bathymetry</code></td>
<td>
<p>Logical indicating whether bathymetry should be added to the map. Functions together with <code>bathy.style</code>. See Details.</p>
</td></tr>
<tr><td><code id="qmap_+3A_glaciers">glaciers</code></td>
<td>
<p>Logical indicating whether glaciers and ice sheets should be added to the map.</p>
</td></tr>
<tr><td><code id="qmap_+3A_rotate">rotate</code></td>
<td>
<p>Logical indicating whether the projected maps should be rotated to point towards the pole relative to the mid-longitude limit.</p>
</td></tr>
<tr><td><code id="qmap_+3A_legends">legends</code></td>
<td>
<p>Logical indicating whether the legend for bathymetry should be shown.</p>
</td></tr>
<tr><td><code id="qmap_+3A_legend.position">legend.position</code></td>
<td>
<p>The position for ggplot2 legend. See the argument with the same name in <a href="ggplot2.html#topic+theme">theme</a>.</p>
</td></tr>
<tr><td><code id="qmap_+3A_lon.interval">lon.interval</code>, <code id="qmap_+3A_lat.interval">lat.interval</code></td>
<td>
<p>Numeric value specifying the interval of longitude and latitude grids. <code>NULL</code> finds reasonable defaults depending on <code>limits</code>.</p>
</td></tr>
<tr><td><code id="qmap_+3A_bathy.style">bathy.style</code></td>
<td>
<p>Character (plots bathymetry; list of alternatives in Details) or <code>NULL</code> (&quot;raster_binned_blues&quot; if <code>bathymetry = TRUE</code>) defining the bathymetry style. Partially matched, can be abbreviated, and used to control bathymetry plotting together with <code>bathymetry</code>. See Details.</p>
</td></tr>
<tr><td><code id="qmap_+3A_downsample">downsample</code></td>
<td>
<p>Integer defining the downsampling rate for raster bathymetries. A value of 0 (default) does not downsample, 1 skips every second row, 2 every second and third. See <code><a href="stars.html#topic+geom_stars">geom_stars</a></code></p>
</td></tr>
<tr><td><code id="qmap_+3A_bathy.alpha">bathy.alpha</code></td>
<td>
<p>Transparency parameter for the bathymetry fill color. See <a href="ggplot2.html#topic+scale_alpha">scale_alpha</a>.</p>
</td></tr>
<tr><td><code id="qmap_+3A_land.col">land.col</code>, <code id="qmap_+3A_gla.col">gla.col</code>, <code id="qmap_+3A_grid.col">grid.col</code></td>
<td>
<p>Character code specifying the color of land, glaciers, and grid lines, respectively. Use <code>NA</code> to remove the grid lines.</p>
</td></tr>
<tr><td><code id="qmap_+3A_land.border.col">land.border.col</code>, <code id="qmap_+3A_gla.border.col">gla.border.col</code>, <code id="qmap_+3A_bathy.border.col">bathy.border.col</code></td>
<td>
<p>Character code specifying the color of the border line for land, glacier, and bathymetry shapes.</p>
</td></tr>
<tr><td><code id="qmap_+3A_land.size">land.size</code>, <code id="qmap_+3A_gla.size">gla.size</code>, <code id="qmap_+3A_bathy.size">bathy.size</code>, <code id="qmap_+3A_grid.size">grid.size</code></td>
<td>
<p>Numeric value specifying the width of the border line land, glacier and bathymetry shapes as well as the grid lines, respectively. Use the <code><a href="#topic+LS">LS</a></code> function for a specific width in pt. See Details.</p>
</td></tr>
<tr><td><code id="qmap_+3A_base_size">base_size</code></td>
<td>
<p>Base size parameter for ggplot. See <a href="ggplot2.html#topic+ggtheme">ggtheme</a>.</p>
</td></tr>
<tr><td><code id="qmap_+3A_projection.grid">projection.grid</code></td>
<td>
<p>Logical indicating whether the coordinate grid should show projected coordinates instead of decimal degree values. Useful to define limits for large maps in polar regions.</p>
</td></tr>
<tr><td><code id="qmap_+3A_expand.factor">expand.factor</code></td>
<td>
<p>Expansion factor for map limits. Can be used to zoom in (decrease the value under 1) and out (increase the value over 1) automatically (<code>data</code>) limited maps. Defaults to 1, which means that outermost data points are located at the boundaries of the plotting region.</p>
</td></tr>
<tr><td><code id="qmap_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about the projection and guessed column names should be returned as messages. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <a href="ggplot2.html#topic+ggplot">ggplot</a> map, which can be assigned to an object and modified as any ggplot object.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other basemap functions: 
<code><a href="#topic+basemap">basemap</a>()</code>,
<code><a href="#topic+shapefile_list">shapefile_list</a>()</code>,
<code><a href="#topic+transform_coord">transform_coord</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dt &lt;- data.frame(lon = c(-100, -80, -60), lat = c(10, 25, 40), var = c("a", "a", "b"))

# Quickly see position of data
qmap(dt)


# Set color
qmap(dt, color = I("blue")) 

# Map color to a variable
qmap(dt, color = var) 
 
# Map text to a variable 
qmap(dt, label = var) 

# All basemap arguments work in qmap()
dt &lt;- data.frame(lon = c(-80, -80, -50, -50), lat = c(65, 80, 80, 65))
qmap(dt, rotate = TRUE)

</code></pre>

<hr>
<h2 id='quiet'>Return function output quietly</h2><span id='topic+quiet'></span>

<h3>Description</h3>

<p>Returns function output without printed <code><a href="base.html#topic+cat">cat</a></code> messages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quiet(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="quiet_+3A_x">x</code></td>
<td>
<p>function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output of <code>x</code>
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham
</p>

<hr>
<h2 id='raster_bathymetry'>Simplify a bathymetry raster ready for vectorization</h2><span id='topic+raster_bathymetry'></span>

<h3>Description</h3>

<p>Simplifies bathymetry raster ready for the <code><a href="#topic+vector_bathymetry">vector_bathymetry</a></code> function. Warning: processing may take a long time if the bathymetry raster is large.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster_bathymetry(
  bathy,
  depths,
  proj.out = NULL,
  proj.bathy = NULL,
  boundary = NULL,
  warp = FALSE,
  estimate.land = FALSE,
  downsample = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster_bathymetry_+3A_bathy">bathy</code></td>
<td>
<p>A <a href="stars.html#topic+read_stars">stars</a> object or a string giving the path to a bathymetry NetCDF or grd file</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_depths">depths</code></td>
<td>
<p>Numeric vector giving the cut points for depth contours (see <code><a href="base.html#topic+cut">cut</a></code>). If <code>NULL</code>, no depth aggregation will be made. This option is suitable for raster bathymetries passed directly to <code>basemap</code>.</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_proj.out">proj.out</code></td>
<td>
<p>A character string specifying the <a href="sf.html#topic+st_crs">coordinate reference system</a> (CRS)  argument for the output. See <code><a href="sf.html#topic+st_crs">st_crs</a></code> and <a href="https://proj.org/">proj.org</a>. If <code>NULL</code>, the projection is retrieved from <code>bathy</code> and the output will not be reprojected saving processing time (since <code>proj.out</code> and <code>proj.bathy</code> would match.</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_proj.bathy">proj.bathy</code></td>
<td>
<p>A character string specifying the <code><a href="sf.html#topic+st_crs">CRS</a></code> for the input (<code>bathy</code>). Only required if <code>bathy</code> lacks CRS information. If <code>NULL</code>, <code>"EPSG:4326"</code> is assumed.</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_boundary">boundary</code></td>
<td>
<p>A <a href="sf.html#topic+st_polygon">st_polygon</a> object, text string defining the file path to a spatial polygon, <a href="sf.html#topic+st_bbox">bounding box</a>, or a numeric vector of length 4 giving the boundaries for which <code>bathy</code> should be cut to. Should be given as <strong>decimal degrees</strong>. If unnamed numeric vector, the first element defines the minimum longitude, the second element the maximum longitude, the third element the minimum latitude and the fourth element the maximum latitude of the bounding box. You can also use the sf bounding box format as named vector. Use <code>NULL</code> not to cut <code>bathy</code>.</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_warp">warp</code></td>
<td>
<p>Logical indicating whether the resulting grid should be resampled to a new CRS if <code>proj.out != proj.bathy</code> using the <code><a href="stars.html#topic+st_warp">st_warp</a></code> function. A time-consuming operation, but necessary when CRS changes in raster bathymetries. Not required if the next step is to vectorise the bathymetry.</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_estimate.land">estimate.land</code></td>
<td>
<p>Logical indicating whether to include land to the output. Can be used in the following <code><a href="#topic+vector_bathymetry">vector_bathymetry</a></code> step to estimate land polygons.</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_downsample">downsample</code></td>
<td>
<p>An integer defining how many rows in <code>bathy</code> should be skipped to reduce the size (and resolution). 1 skips every second row, 2 every second and third. See <code><a href="stars.html#topic+st_downsample">st_downsample</a></code>. Set to <code>NULL</code> (default) to skip downsampling.</p>
</td></tr>
<tr><td><code id="raster_bathymetry_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about progress and guessed projection should be returned. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can use <a href="https://www.gebco.net/data_and_products/gridded_bathymetry_data/">GEBCO</a>, <a href="https://www.gebco.net/data_and_products/gridded_bathymetry_data/arctic_ocean/">IBCAO</a>, <a href="https://www.ncei.noaa.gov/products/etopo-global-relief-model">ETOPO</a> bathymetry grids downloaded from respective sources as the <code>bathy</code> argument. The bathymetry grids read from files must be in any format read by <code><a href="stars.html#topic+read_stars">read_stars</a></code>. Alternatively use the <code>marmap::getNOAA.bathy</code> function to download ETOPO1 bathymetry and convert it to a raster object using the <code>marmap::as.raster</code> function.
</p>
<p>Note that the size of the output is heavily influenced by the number of depth contours (<code>depths</code>) as well as the resolution of <code>bathy</code> and choice of <code>downsample</code>. To make the <code><a href="#topic+vector_bathymetry">vector_bathymetry</a></code> function and consequent plotting faster, limiting the details of the bathymetry raster may be desirable.
</p>


<h3>Value</h3>

<p>A list with a <a href="stars.html#topic+read_stars">stars</a> object the containing projected bathymetry defined by the <code>proj.out</code> argument and a data frame of depth intervals.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>References</h3>

<p>GEBCO Compilation Group (2019) GEBCO 2019 15-arcsecond grid (doi:10.5285/836f016a-33be-6ddc-e053-6c86abc0788e). URL: <a href="https://www.gebco.net/data_and_products/gridded_bathymetry_data/gebco_2019/gebco_2019_info.html">https://www.gebco.net/data_and_products/gridded_bathymetry_data/gebco_2019/gebco_2019_info.html</a>.
NOAA National Centers for Environmental Information. 2022: ETOPO 2022 15 Arc-Second Global Relief Model. NOAA National Centers for Environmental Information. <a href="https://doi.org/10.25921/fd45-gt74">doi:10.25921/fd45-gt74</a>.
</p>


<h3>See Also</h3>

<p>Other create shapefiles: 
<code><a href="#topic+clip_shapefile">clip_shapefile</a>()</code>,
<code><a href="#topic+geonorge_bathymetry">geonorge_bathymetry</a>()</code>,
<code><a href="#topic+vector_bathymetry">vector_bathymetry</a>()</code>
</p>

<hr>
<h2 id='reorder_layers'>Move <code>basemap</code> land, glacier and grid layers on top of other ggplot layers</h2><span id='topic+reorder_layers'></span>

<h3>Description</h3>

<p>Moves existing land, glacier and grid layers on top of other layers. Useful for hiding region polygons under land.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reorder_layers(p)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reorder_layers_+3A_p">p</code></td>
<td>
<p>ggplot object from the <code><a href="#topic+basemap">basemap</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function has not been tested properly yet and is likely to contain bugs.
</p>


<h3>Value</h3>

<p>Returns a ggplot object with land, glacier and grid layers on top.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other customize shapefiles: 
<code><a href="#topic+auto_limits">auto_limits</a>()</code>,
<code><a href="#topic+theme_map">theme_map</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(requireNamespace("ggspatial", quietly = TRUE)) {

 data("ices_areas")
 p &lt;- basemap(c(-20, 15, 50, 70)) + 
   ggspatial::annotation_spatial(ices_areas, aes(fill = Area_Full), show.legend = FALSE)
 
 # Polygons on top of land
 p
 
 # Move land on top
 reorder_layers(p)
 
 }
</code></pre>

<hr>
<h2 id='rotate_crs'>Rotate CRS</h2><span id='topic+rotate_crs'></span>

<h3>Description</h3>

<p>Rotates a CRS such that North is in the middle of two meridians
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rotate_crs(crs, meridians)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rotate_crs_+3A_crs">crs</code></td>
<td>
<p>The CRS to be rotated in <code><a href="sf.html#topic+st_crs">st_crs</a></code> format</p>
</td></tr>
<tr><td><code id="rotate_crs_+3A_meridians">meridians</code></td>
<td>
<p>A numeric vector giving the two meridians which should be used in the rotation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rotated CRS in <code><a href="sf.html#topic+st_crs">st_crs</a></code> format
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>

<hr>
<h2 id='round_any'>Round to multiple of any number</h2><span id='topic+round_any'></span>

<h3>Description</h3>

<p>Round to multiple of any number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round_any(x, accuracy, f = round)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="round_any_+3A_x">x</code></td>
<td>
<p>numeric vector to round</p>
</td></tr>
<tr><td><code id="round_any_+3A_accuracy">accuracy</code></td>
<td>
<p>number to round to; for POSIXct objects, a number of seconds</p>
</td></tr>
<tr><td><code id="round_any_+3A_f">f</code></td>
<td>
<p>rounding function: <code><a href="base.html#topic+floor">floor</a></code>, <code><a href="base.html#topic+ceiling">ceiling</a></code> or <code><a href="base.html#topic+round">round</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Rounded numeric vector
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham
</p>

<hr>
<h2 id='select_element'>Select an element of each vector from a list</h2><span id='topic+select_element'></span>

<h3>Description</h3>

<p>Selects y'th element of each vector from a list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_element(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_element_+3A_x">x</code></td>
<td>
<p>list</p>
</td></tr>
<tr><td><code id="select_element_+3A_y">y</code></td>
<td>
<p>number of element. Must be integer</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The selected element from the list
</p>

<hr>
<h2 id='shapefile_list'>A list of pre-made shapefiles for <code>basemap</code></h2><span id='topic+shapefile_list'></span>

<h3>Description</h3>

<p>Lists available pre-made shapefiles for plotting in the <code><a href="#topic+basemap">basemap</a></code> function. Gives also instructions how to make custom ones.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shapefile_list(name, get.data = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shapefile_list_+3A_name">name</code></td>
<td>
<p>A character argument giving the name of a pre-made shapefile. Will be partially matched. Use &quot;all&quot; to list all available ones.</p>
</td></tr>
<tr><td><code id="shapefile_list_+3A_get.data">get.data</code></td>
<td>
<p>Logical indicating whether spatial data should be returned instead of names of spatial data objects.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Custom shapefiles for <code><a href="#topic+basemap">basemap</a></code> should be defined as lists with (at least) following names (everything should be provided as characters):
</p>

<ul>
<li> <p><strong>land</strong> Name of the object containing land polygons. Required.
</p>
</li>
<li> <p><strong>glacier</strong> Name of the object containing glacier polygons. Use <code>NULL</code> if glaciers are not needed.
</p>
</li>
<li> <p><strong>bathy</strong> Name of the object containing land polygons. Use <code>NULL</code> if bathymetry is not needed.
</p>
</li></ul>

<p>All linked spatial data objects must be in same projection. High-resolution pre-made data are still under development and may not be available. Pre-made shapefiles contain additional elements that are used in the <code><a href="#topic+basemap">basemap</a></code> function, but not required for custom shapefile datasets.
</p>


<h3>Value</h3>

<p>Returns a data frame of provided pre-made shapefiles, if <code>name = "all"</code>. Returns a shapefile list containing the information for a particular map otherwise.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other basemap functions: 
<code><a href="#topic+basemap">basemap</a>()</code>,
<code><a href="#topic+qmap">qmap</a>()</code>,
<code><a href="#topic+transform_coord">transform_coord</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>shapefile_list("all")
shapefile_list("Arctic") # partial matching
</code></pre>

<hr>
<h2 id='theme_map'>A ggplot2 theme for maps</h2><span id='topic+theme_map'></span>

<h3>Description</h3>

<p>A ggplot2 theme for maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_map(..., grid.col, grid.size)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_map_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="ggplot2.html#topic+ggtheme">ggtheme</a></code>.</p>
</td></tr>
<tr><td><code id="theme_map_+3A_grid.col">grid.col</code></td>
<td>
<p>Character code specifying the color of grid lines. Use <code>NA</code> to remove the grid lines.</p>
</td></tr>
<tr><td><code id="theme_map_+3A_grid.size">grid.size</code></td>
<td>
<p>Numeric value specifying the width of grid lines.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 theme layer.
</p>


<h3>See Also</h3>

<p>Other customize shapefiles: 
<code><a href="#topic+auto_limits">auto_limits</a>()</code>,
<code><a href="#topic+reorder_layers">reorder_layers</a>()</code>
</p>

<hr>
<h2 id='transform_coord'>Transform spatial coordinates to another projection</h2><span id='topic+transform_coord'></span>

<h3>Description</h3>

<p>Transforms spatial coordinates from original projection (decimal degrees assumed) to another projection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_coord(
  x = NULL,
  lon = NULL,
  lat = NULL,
  new.names = "auto",
  rotate = FALSE,
  proj.in = 4326,
  proj.out = NULL,
  verbose = FALSE,
  bind = FALSE,
  na = "ignore"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transform_coord_+3A_x">x</code></td>
<td>
<p>Data frame to be transformed. Can be omitted if numeric vectors are assigned to <code>lon</code> and <code>lat</code>.</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_lon">lon</code>, <code id="transform_coord_+3A_lat">lat</code></td>
<td>
<p>Either a name of the longitude and latitude columns in <code>x</code> or a numeric vector containing longitude and latitude coordinates. Use <code>NULL</code> to <a href="#topic+guess_coordinate_columns">guess the longitude and/or latitude columns</a> in <code>x</code>.</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_new.names">new.names</code></td>
<td>
<p>Character vector of length 2 specifying the names of transformed longitude and latitude columns, respectively. Alternatively <code>NULL</code>, which returns column names from <code>x</code> or &quot;auto&quot;, which uses <code>NULL</code> if <code>bind = FALSE</code> and <code>c("lon.proj", "lat.proj")</code> if <code>bind = TRUE</code>.</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_rotate">rotate</code></td>
<td>
<p>Logical indicating whether the projected maps should be rotated to point towards the pole relative to the mid-longitude limit.</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_proj.in">proj.in</code></td>
<td>
<p>The original <code><a href="sf.html#topic+st_crs">CRS</a></code>. If <code>NULL</code>, the projection is taken from <code>x</code>. <code>x</code> must be a <a href="sf.html#topic+st">spatial</a> object in that case.</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_proj.out">proj.out</code></td>
<td>
<p>Character. Either <code>NULL</code>, <code><a href="sf.html#topic+st_crs">CRS</a></code> the coordinates should be transformed to or a name of shapefiles in <code><a href="#topic+shapefile_list">shapefile_list</a></code>. If <code>NULL</code>, the output projection will be automatically determined from data. This option requires decimal degrees as input option.</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_verbose">verbose</code></td>
<td>
<p>Logical indicating whether information about the projection should be returned as message. Set to <code>FALSE</code> to make the function silent.</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_bind">bind</code></td>
<td>
<p>logical. Should only transformed coordinates be returned (<code>FALSE</code>, default) or should x be returned with transformed coordinates (<code>TRUE</code>)?</p>
</td></tr>
<tr><td><code id="transform_coord_+3A_na">na</code></td>
<td>
<p>character specifying the NA action for missing coordinates. The &quot;ignore&quot; option ignores the coordinates and returns NAs to transformed coordinates. The &quot;remove&quot; option removes missing values from <code>x</code> returning a message while doing it. Any other character argument will trigger <code>na.fail</code> stopping the function in case of missing coordinates.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> is specified, the function guesses longitude and latitude columns from <code>x</code> by default.
</p>


<h3>Value</h3>

<p>Returns a data frame with transformed spatial coordinates.
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other basemap functions: 
<code><a href="#topic+basemap">basemap</a>()</code>,
<code><a href="#topic+qmap">qmap</a>()</code>,
<code><a href="#topic+shapefile_list">shapefile_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Coordinates are automatically transformed to the pre-made shapefile
# projections:
x &lt;- data.frame(lon = c(-150, 150), lat = c(60, 90))
transform_coord(x)
transform_coord(x, bind = TRUE)

x &lt;- data.frame(lon = c(-150, 150), lat = c(20, 50))
transform_coord(x, bind = TRUE) # no transformation required.
</code></pre>

<hr>
<h2 id='vector_bathymetry'>Create a polygon bathymetry from a raster bathymetry file</h2><span id='topic+vector_bathymetry'></span>

<h3>Description</h3>

<p>Vectorizes bathymetry rasters. Designed to be used for the output of <code><a href="#topic+raster_bathymetry">raster_bathymetry</a></code> function. Warning: processing may take a long time if the bathymetry raster is large.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vector_bathymetry(
  bathy,
  drop.crumbs = NULL,
  remove.holes = NULL,
  smooth = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vector_bathymetry_+3A_bathy">bathy</code></td>
<td>
<p>bathyRaster object from the <code><a href="#topic+raster_bathymetry">raster_bathymetry</a></code> function.</p>
</td></tr>
<tr><td><code id="vector_bathymetry_+3A_drop.crumbs">drop.crumbs</code></td>
<td>
<p>Single numeric value specifying a threshold (area in km2) for disconnected polygons which should be removed. Set to <code>NULL</code> to bypass the removal. Uses the <a href="smoothr.html#topic+drop_crumbs">drop_crumbs</a> function.</p>
</td></tr>
<tr><td><code id="vector_bathymetry_+3A_remove.holes">remove.holes</code></td>
<td>
<p>Single numeric value specifying a threshold (area in km2) for holes which should be removed. Set to <code>NULL</code> to bypass the removal. Uses the <a href="smoothr.html#topic+fill_holes">fill_holes</a> function. Currently VERY slow.</p>
</td></tr>
<tr><td><code id="vector_bathymetry_+3A_smooth">smooth</code></td>
<td>
<p>Logical indicating whether the pixelated contours should be smoothed. Uses the <a href="smoothr.html#topic+smooth_ksmooth">smooth_ksmooth</a> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>drop.crumbs</code> and <code>remove.holes</code> arguments can be used to make the resulting object smaller in file size. The <code>smooth</code> argument can be used to remove the pixelated contours, but often increases file size. Note also that using this option will bias the contours with respect to real world.
</p>


<h3>Value</h3>

<p>An <a href="sf.html#topic+st_polygon">sf</a> object containing the depth polygons. Uses same projection than <code>bathy</code> (see <code><a href="sf.html#topic+st_crs">CRS</a></code>).
</p>


<h3>Author(s)</h3>

<p>Mikko Vihtakari
</p>


<h3>See Also</h3>

<p>Other create shapefiles: 
<code><a href="#topic+clip_shapefile">clip_shapefile</a>()</code>,
<code><a href="#topic+geonorge_bathymetry">geonorge_bathymetry</a>()</code>,
<code><a href="#topic+raster_bathymetry">raster_bathymetry</a>()</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

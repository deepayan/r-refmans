<!DOCTYPE html><html><head><title>Help for package areabiplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {areabiplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#areabiplot'><p>Area Biplot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Area Biplot</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Considering an (n x m) data matrix X, this package is based on the method proposed 
             by Gower, Groener, and Velden (2010) &lt;<a href="https://doi.org/10.1198%2Fjcgs.2010.07134">doi:10.1198/jcgs.2010.07134</a>&gt;, and 
             utilize the  resulting matrices from the extended version of the NIPALS decomposition 
             to determine n triangles whose areas are used  to  visually  estimate the elements of
             a specific column of X. After a 90-degree rotation of the sample points, the triangles
             are drawn regarding the following points: 1.the origin of the axes; 2.the sample points;
             3. the vector endpoint representing some variable.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, graphics, nipals</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-03-07 17:13:41 UTC; albys</td>
</tr>
<tr>
<td>Author:</td>
<td>Alberto Silva <a href="https://orcid.org/0000-0002-3496-6802"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Adelaide Freitas <a href="https://orcid.org/0000-0002-4685-1615"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alberto Silva &lt;albertos@ua.pt&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-03-10 19:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='areabiplot'>Area Biplot</h2><span id='topic+areabiplot'></span>

<h3>Description</h3>

<p>Consider an (n x m) centered data matrix <code class="reqn">X</code> and let <code class="reqn">rank(X) = r</code>.
Alternatively to the ordinary NIPALS decomposition of <code class="reqn">X</code>, where <code class="reqn">X = T P'</code>,
this package uses the resulting matrices from the extended version of the NIPALS
decomposition (<code class="reqn">X = G H P'</code>) to determine <code class="reqn">n</code> triangles whose areas are
used to visually estimate the <code class="reqn">n</code> elements of a specific column of <code class="reqn">X</code>
(a variable of interest). After a 90-degree rotation of the sample points, the
triangles are drawn regarding the following points:
</p>

<ol>
<li><p> the origin of the axes.
</p>
</li>
<li><p> the sample points.
</p>
</li>
<li><p> the vector endpoint representing the selected variable.
</p>
</li></ol>

<p>Just keep in mind that The extended NIPALS decomposition, <code class="reqn">X = G H P'</code>, is
equivalent to the SVD decomposition, <code class="reqn">X = U D V'</code>, being that:
</p>

<ol>
<li> <p><code class="reqn">G</code> is the matrix containing in its columns the normalized score vectors
of <code class="reqn">X</code>, i.e., the normalized columns of <code class="reqn">T</code>. If <code class="reqn">t</code> is the i-th score
vector of the matrix <code class="reqn">T</code>, then the i-th column of  <code class="reqn">G</code> will be
<code class="reqn">g = t / || t || </code>, which will correspond to the i-th left singular vector <code class="reqn">u</code>.
</p>
</li>
<li><p> If <code class="reqn">t</code> is the i-th column of <code class="reqn">T</code>, then <code class="reqn">|| t || = \sqrt(t' t)</code> gives
the i-th singular value of <code class="reqn">X</code>. In addition, <code class="reqn">H</code> is the diagonal matrix
containing these singular values in decreasing order, i.e., <code class="reqn">H = D</code>.
</p>
</li>
<li> <p><code class="reqn">P</code> is the loadings matrix, which is equivalent to the <code class="reqn">V</code> matrix that
contains the right singular vectors of <code class="reqn">X</code>.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>areabiplot(
  L,
  S,
  R,
  ord.row,
  mode = NULL,
  tri.rgb = NULL,
  bg.col = NULL,
  plot.title = NULL,
  plot.title.col = NULL,
  plot.title.font = NULL,
  plot.title.cex = NULL,
  plot.sub = NULL,
  plot.sub.col = NULL,
  plot.sub.font = NULL,
  plot.sub.cex = NULL,
  plot.cex = NULL,
  plot.col = NULL,
  plot.pch = NULL,
  plot.xlab = NULL,
  plot.ylab = NULL,
  plot.xlim = NULL,
  plot.ylim = NULL,
  points.lab = NULL,
  var.lab = NULL,
  text.col.var = NULL,
  text.cex = NULL,
  text.font = NULL,
  text.col = NULL,
  text.pos = NULL,
  axis.col = NULL,
  axis.cex = NULL,
  axis.font = NULL,
  axis.asp = NULL,
  arrow.lwd = NULL,
  arrow.len = NULL,
  arrow.col = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="areabiplot_+3A_l">L</code></td>
<td>
<p>A (n x 2) matrix containing normalized score vectors <code class="reqn">g</code> (or left singular
vectors <code class="reqn">u</code>).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_s">S</code></td>
<td>
<p>An appropriate (2 x 2) diagonal matrix containing the corresponding singular
values in decreasing order.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_r">R</code></td>
<td>
<p>A (m x 2) matrix containing the corresponding loading vectors (or right singular
vectors).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_ord.row">ord.row</code></td>
<td>
<p>The row  of <code class="reqn">R</code> used as the base of the triangle, e.g.,
if 1 is provided, then the first row of <code class="reqn">R</code> will be taken.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_mode">mode</code></td>
<td>
<p>a string providing the way the singular values will be allocated. The default
is &quot;SS&quot;, i.e., the similar spread proposed by Gower et al.. Alternatively,
one can choose the &quot;HJ&quot; method (see more in Details).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_tri.rgb">tri.rgb</code></td>
<td>
<p>The hexadecimal color and alpha transparency code for the triangle. The
default is #19FF811A (green and 90% of transparency).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_bg.col">bg.col</code></td>
<td>
<p>A string providing the color of the background. The default is #001F3D (blue).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.title">plot.title</code></td>
<td>
<p>A string providing the main title. The default is NONE.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.title.col">plot.title.col</code></td>
<td>
<p>A string specifying the color of the main title text. The default is &quot;FFFFFF&quot;
(white).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.title.font">plot.title.font</code></td>
<td>
<p>An integer providing the style of the main title text. The default is 1 (normal
text).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.title.cex">plot.title.cex</code></td>
<td>
<p>A number indicating the amount by which the main title text should be scaled
relative to the default. 1 = default, 1.5 is 50% larger, and so on.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.sub">plot.sub</code></td>
<td>
<p>A string providing a sub-title. The default is NONE.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.sub.col">plot.sub.col</code></td>
<td>
<p>A string specifying the color of the sub-title text. The default is &quot;FFFFFF&quot;
(white).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.sub.font">plot.sub.font</code></td>
<td>
<p>An integer providing the style of the main title text. The default is 1 (normal
text).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.sub.cex">plot.sub.cex</code></td>
<td>
<p>A number indicating the amount by which the sun-title text should be scaled
relative to the default. 1 = default, 1.5 is 50% larger, and so on.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.cex">plot.cex</code></td>
<td>
<p>A number indicating the expansion or contraction factor used to specify the
point size. The default is 0.6 (40% smaller).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.col">plot.col</code></td>
<td>
<p>A string specifying the color of the points. The default is &quot;FFFFFF&quot; (white).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.pch">plot.pch</code></td>
<td>
<p>An integer specifying the shape of the points. The default is 21 (circle)</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.xlab">plot.xlab</code></td>
<td>
<p>A string specifying a label to the horizontal axis. The default is NONE.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.ylab">plot.ylab</code></td>
<td>
<p>A string specifying a label to the vertical axis. The default is NONE.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.xlim">plot.xlim</code></td>
<td>
<p>The limits for the x axis.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_plot.ylim">plot.ylim</code></td>
<td>
<p>The limits for the y axis.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_points.lab">points.lab</code></td>
<td>
<p>A vector of characters containing the names of the data matrix rows.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_var.lab">var.lab</code></td>
<td>
<p>A string providing the variable name used as triangle base.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_text.col.var">text.col.var</code></td>
<td>
<p>A string specifying the color of the variable label text. The default is
&quot;FFFFFF&quot; (white).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_text.cex">text.cex</code></td>
<td>
<p>A number indicating the expansion or contraction factor used to specify
the point labels. The default is 0.5.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_text.font">text.font</code></td>
<td>
<p>An integer providing the style of the point labels. The default is 2 (bold).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_text.col">text.col</code></td>
<td>
<p>A string specifying the color of the point labels text. The default is
&quot;FFFFFF&quot; (white).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_text.pos">text.pos</code></td>
<td>
<p>An integer providing the position of the point labels. The default is 3
(above).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_axis.col">axis.col</code></td>
<td>
<p>A string specifying the color of the axis. The default is #FFFFFF (white).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_axis.cex">axis.cex</code></td>
<td>
<p>A number indicating the expansion or contraction factor used to specify
the tick label. The default is 0.7</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_axis.font">axis.font</code></td>
<td>
<p>An integer providing the style of the tick label. The default is 1 (normal
text).</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_axis.asp">axis.asp</code></td>
<td>
<p>A number specifying the aspect ratio of the axes. The default is 1.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_arrow.lwd">arrow.lwd</code></td>
<td>
<p>A number specifying the line width of the arrow. The default is 1.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_arrow.len">arrow.len</code></td>
<td>
<p>The length of the edges of the arrow head (in inches). The default is 0.1.</p>
</td></tr>
<tr><td><code id="areabiplot_+3A_arrow.col">arrow.col</code></td>
<td>
<p>A string specifying the color of the arrow. The default is &quot;FFFFFF&quot;
(white).</p>
</td></tr>
</table>


<h3>Details</h3>


<ol>
<li><p> If the variables (the columns of X) are measured in different units or
their variability differs considerably, one could perform a variance scaling
to get better visual results on the graph (see Examples). In this case, the
percentage of variance explained by the first principal components might decrease.
</p>
</li>
<li><p> The &quot;HJ&quot; mode is reserved for an application under implementation.
</p>
</li></ol>



<h3>Value</h3>

<p>An area biplot is produced on the current graphics device.
</p>


<h3>Author(s)</h3>

<p>Alberto Silva <a href="mailto:albertos@ua.pt">albertos@ua.pt</a>, Adelaide Freitas <a href="mailto:adelaide@ua.pt">adelaide@ua.pt</a>
</p>


<h3>References</h3>

<p>J.C. Gower, P.J.F. Groenen, M. van de Velden (2010). Area Biplots. Journal of Computational and
Graphical Statistics, v.19 (1), pp. 46-61. doi: <a href="https://doi.org/10.1198/jcgs.2010.07134">10.1198/jcgs.2010.07134</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(nipals)
data(uscrime)
Y = uscrime[, -1]

# first case: scale is false
nip = nipals(Y, ncomp = 2, center = TRUE, scale = FALSE, force.na = TRUE)
L = nip$scores
R = nip$loadings
S = diag(nip$eig[1:2])
areabiplot(L, S, R, 5, points.lab = c(uscrime[, 1]),var.lab= "burglary")

# second case: scale is true
nip = nipals(Y, ncomp = 2, center = TRUE, scale = TRUE, force.na = TRUE)
L = nip$scores
R = nip$loadings
S = diag(nip$eig[1:2])
areabiplot(L, S, R, 4, points.lab = c(uscrime[, 1]),var.lab= "assault")


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

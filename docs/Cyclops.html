<!DOCTYPE html><html><head><title>Help for package Cyclops</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Cyclops}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Cyclops-package'><p>Cyclops: Cyclic Coordinate Descent for Logistic, Poisson and Survival Analysis</p></a></li>
<li><a href='#aconfint'><p>Asymptotic confidence intervals for a fitted Cyclops model object</p></a></li>
<li><a href='#appendSqlCyclopsData'><p>appendSqlCyclopsData</p></a></li>
<li><a href='#coef.cyclopsFit'><p>Extract model coefficients</p></a></li>
<li><a href='#confint.cyclopsFit'><p>Confidence intervals for Cyclops model parameters</p></a></li>
<li><a href='#convertToCyclopsData'><p>Convert data from two data frames or ffdf objects into a CyclopsData object</p></a></li>
<li><a href='#convertToCyclopsVariance'><p>Convert to Cyclops Prior Variance</p></a></li>
<li><a href='#convertToGlmnetLambda'><p>Convert to glmnet regularization parameter</p></a></li>
<li><a href='#convertToTimeVaryingCoef'><p>Convert short sparse covariate table to long sparse covariate table for time-varying coefficients.</p></a></li>
<li><a href='#coverage'><p>Coverage</p></a></li>
<li><a href='#createAutoGridCrossValidationControl'><p>Create a Cyclops control object that supports multiple hyperparameters</p></a></li>
<li><a href='#createControl'><p>Create a Cyclops control object</p></a></li>
<li><a href='#createCyclopsData'><p>Create a Cyclops data object</p></a></li>
<li><a href='#createNonSeparablePrior'><p>Create a Cyclops prior object that returns the MLE of non-separable coefficients</p></a></li>
<li><a href='#createParameterizedPrior'><p>Create a Cyclops parameterized prior object</p></a></li>
<li><a href='#createPrior'><p>Create a Cyclops prior object</p></a></li>
<li><a href='#createWeightBasedSearchControl'><p>Create a Cyclops control object that supports in- / out-of-sample hyperparameter search using weights</p></a></li>
<li><a href='#cyclops'><p>Cyclops: Cyclic coordinate descent for logistic, Poisson and survival analysis</p></a></li>
<li><a href='#finalizeSqlCyclopsData'><p>finalizeSqlCyclopsData</p></a></li>
<li><a href='#fitCyclopsModel'><p>Fit a Cyclops model</p></a></li>
<li><a href='#fitCyclopsSimulation'><p>Fit simulated data</p></a></li>
<li><a href='#getCovariateIds'><p>Get covariate identifiers</p></a></li>
<li><a href='#getCovariateTypes'><p>Get covariate types</p></a></li>
<li><a href='#getCrossValidationInfo'><p>Get cross-validation information from a Cyclops model fit</p></a></li>
<li><a href='#getCyclopsPredictiveLogLikelihood'><p>Compute predictive log-likelihood from a Cyclops model fit</p></a></li>
<li><a href='#getCyclopsProfileLogLikelihood'><p>Profile likelihood for Cyclops model parameters</p></a></li>
<li><a href='#getFineGrayWeights'><p>Creates a <code>Surv</code> object that forces in competing risks and the IPCW needed for Fine-Gray estimation.</p></a></li>
<li><a href='#getFloatingPointSize'><p>Get floating point size</p></a></li>
<li><a href='#getHyperParameter'><p>Get hyperparameter</p></a></li>
<li><a href='#getNumberOfCovariates'><p>Get total number of covariates</p></a></li>
<li><a href='#getNumberOfRows'><p>Get total number of rows</p></a></li>
<li><a href='#getNumberOfStrata'><p>Get number of strata</p></a></li>
<li><a href='#getNumberOfTypes'><p>Get total number of outcome types</p></a></li>
<li><a href='#getSEs'><p>Extract standard errors</p></a></li>
<li><a href='#getUnivariableCorrelation'><p>Get univariable correlation</p></a></li>
<li><a href='#getUnivariableSeparability'><p>Get univariable linear separability</p></a></li>
<li><a href='#isInitialized'><p>Check if a Cyclops data object is initialized</p></a></li>
<li><a href='#listGPUDevices'><p>List available GPU devices</p></a></li>
<li><a href='#logLik.cyclopsFit'><p>Extract log-likelihood</p></a></li>
<li><a href='#meanLinearPredictor'><p>Calculates xbar*beta</p></a></li>
<li><a href='#mse'><p>Mean squared error</p></a></li>
<li><a href='#Multitype'><p>Create a multitype outcome object</p></a></li>
<li><a href='#oxford'><p>Oxford self-controlled case series data</p></a></li>
<li><a href='#plotCyclopsSimulationFit'><p>Plot Cyclops simulation model fit</p></a></li>
<li><a href='#predict.cyclopsFit'><p>Model predictions</p></a></li>
<li><a href='#print.cyclopsData'><p>Print a Cyclops data object</p></a></li>
<li><a href='#print.cyclopsFit'><p>Print a Cyclops model fit object</p></a></li>
<li><a href='#printMatrixMarket'><p>Print Cyclops data matrix to file</p></a></li>
<li><a href='#readCyclopsData'><p>Read Cyclops data from file</p></a></li>
<li><a href='#reduce'><p>Apply simple data reductions</p></a></li>
<li><a href='#runBootstrap'><p>Run Bootstrap for Cyclops model parameter</p></a></li>
<li><a href='#setOpenCLDevice'><p>Set GPU device</p></a></li>
<li><a href='#simulateCyclopsData'><p>Simulation Cyclops dataset</p></a></li>
<li><a href='#splitTime'><p>Split the analysis time into several intervals for time-varying coefficients.</p></a></li>
<li><a href='#summary.cyclopsData'><p>Cyclops data object summary</p></a></li>
<li><a href='#survfit.cyclopsFit'><p>Calculate baseline hazard function</p></a></li>
<li><a href='#vcov.cyclopsFit'><p>Calculate variance-covariance matrix for a fitted Cyclops model object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Cyclic Coordinate Descent for Logistic, Poisson and Survival
Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>3.4.1</td>
</tr>
<tr>
<td>Description:</td>
<td>This model fitting tool incorporates cyclic coordinate descent and
    majorization-minimization approaches to fit a variety of regression models
    found in large-scale observational healthcare data.  Implementations focus
    on computational optimization and fine-scale parallelization to yield
    efficient inference in massive datasets.  Please see:
    Suchard, Simpson, Zorych, Ryan and Madigan (2013) &lt;<a href="https://doi.org/10.1145%2F2414416.2414791">doi:10.1145/2414416.2414791</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>Yes</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ohdsi/cyclops">https://github.com/ohdsi/cyclops</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ohdsi/cyclops/issues">https://github.com/ohdsi/cyclops/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rlang, Matrix, Rcpp (&ge; 0.12.12), Andromeda (&ge; 0.3.1), dplyr,
methods, survival, bit64</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppEigen (&ge; 0.3.2), RcppParallel</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, readr, MASS, gnm, ggplot2, microbenchmark, cmprsk</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-06 14:58:29 UTC; msuchard</td>
</tr>
<tr>
<td>Author:</td>
<td>Marc A. Suchard [aut, cre],
  Martijn J. Schuemie [aut],
  Trevor R. Shaddox [aut],
  Yuxi Tian [aut],
  Jianxiao Yang [aut],
  Eric Kawaguchi [aut],
  Sushil Mittal [ctb],
  Observational Health Data Sciences and Informatics [cph],
  Marcus Geelnard [cph, ctb] (provided the TinyThread library),
  Rutgers University [cph, ctb] (provided the HParSearch routine),
  R Development Core Team [cph, ctb] (provided the ZeroIn routine)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marc A. Suchard &lt;msuchard@ucla.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-06 16:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='Cyclops-package'>Cyclops: Cyclic Coordinate Descent for Logistic, Poisson and Survival Analysis</h2><span id='topic+Cyclops'></span><span id='topic+Cyclops-package'></span>

<h3>Description</h3>

<p>This model fitting tool incorporates cyclic coordinate descent and majorization-minimization approaches to fit a variety of regression models found in large-scale observational healthcare data. Implementations focus on computational optimization and fine-scale parallelization to yield efficient inference in massive datasets. Please see: Suchard, Simpson, Zorych, Ryan and Madigan (2013) <a href="https://doi.org/10.1145/2414416.2414791">doi:10.1145/2414416.2414791</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Marc A. Suchard <a href="mailto:msuchard@ucla.edu">msuchard@ucla.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Martijn J. Schuemie
</p>
</li>
<li><p> Trevor R. Shaddox
</p>
</li>
<li><p> Yuxi Tian
</p>
</li>
<li><p> Jianxiao Yang
</p>
</li>
<li><p> Eric Kawaguchi
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Sushil Mittal [contributor]
</p>
</li>
<li><p> Observational Health Data Sciences and Informatics [copyright holder]
</p>
</li>
<li><p> Marcus Geelnard (provided the TinyThread library) [copyright holder, contributor]
</p>
</li>
<li><p> Rutgers University (provided the HParSearch routine) [copyright holder, contributor]
</p>
</li>
<li><p> R Development Core Team (provided the ZeroIn routine) [copyright holder, contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ohdsi/cyclops">https://github.com/ohdsi/cyclops</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ohdsi/cyclops/issues">https://github.com/ohdsi/cyclops/issues</a>
</p>
</li></ul>


<hr>
<h2 id='aconfint'>Asymptotic confidence intervals for a fitted Cyclops model object</h2><span id='topic+aconfint'></span>

<h3>Description</h3>

<p><code>aconfinit</code> constructs confidence intervals of
arbitrary level using asymptotic standard error estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aconfint(
  object,
  parm,
  level = 0.95,
  control,
  overrideNoRegularization = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aconfint_+3A_object">object</code></td>
<td>
<p>A fitted Cyclops model object</p>
</td></tr>
<tr><td><code id="aconfint_+3A_parm">parm</code></td>
<td>
<p>A specification of which parameters require confidence intervals,
either a vector of numbers of covariateId names</p>
</td></tr>
<tr><td><code id="aconfint_+3A_level">level</code></td>
<td>
<p>Numeric: confidence level required</p>
</td></tr>
<tr><td><code id="aconfint_+3A_control">control</code></td>
<td>
<p>A <code>"cyclopsControl"</code> object constructed by <code><a href="#topic+createControl">createControl</a></code></p>
</td></tr>
<tr><td><code id="aconfint_+3A_overridenoregularization">overrideNoRegularization</code></td>
<td>
<p>Logical: Enable confidence interval estimation for regularized parameters</p>
</td></tr>
<tr><td><code id="aconfint_+3A_...">...</code></td>
<td>
<p>Additional argument(s) for methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with columns reporting lower and upper confidence limits for each parameter.
These columns are labelled as (1-level) / 2 and 1 - (1 - level) / 2 in %
(by default 2.5% and 97.5%)
</p>

<hr>
<h2 id='appendSqlCyclopsData'>appendSqlCyclopsData</h2><span id='topic+appendSqlCyclopsData'></span>

<h3>Description</h3>

<p><code>appendSqlCyclopsData</code> appends data to an OHDSI data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>appendSqlCyclopsData(
  object,
  oStratumId,
  oRowId,
  oY,
  oTime,
  cRowId,
  cCovariateId,
  cCovariateValue
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="appendSqlCyclopsData_+3A_object">object</code></td>
<td>
<p>OHDSI Cyclops data object to append entries</p>
</td></tr>
<tr><td><code id="appendSqlCyclopsData_+3A_ostratumid">oStratumId</code></td>
<td>
<p>Integer vector (optional): non-unique stratum identifier for each row in outcomes table</p>
</td></tr>
<tr><td><code id="appendSqlCyclopsData_+3A_orowid">oRowId</code></td>
<td>
<p>Integer vector: unique row identifier for each row in outcomes table</p>
</td></tr>
<tr><td><code id="appendSqlCyclopsData_+3A_oy">oY</code></td>
<td>
<p>Numeric vector: model outcome variable for each row in outcomes table</p>
</td></tr>
<tr><td><code id="appendSqlCyclopsData_+3A_otime">oTime</code></td>
<td>
<p>Numeric vector (optional): exposure interval or censoring time for each row in outcomes table</p>
</td></tr>
<tr><td><code id="appendSqlCyclopsData_+3A_crowid">cRowId</code></td>
<td>
<p>Integer vector: non-unique row identifier for each row in covariates table that matches a single outcomes table entry</p>
</td></tr>
<tr><td><code id="appendSqlCyclopsData_+3A_ccovariateid">cCovariateId</code></td>
<td>
<p>Integer vector: covariate identifier</p>
</td></tr>
<tr><td><code id="appendSqlCyclopsData_+3A_ccovariatevalue">cCovariateValue</code></td>
<td>
<p>Numeric vector: covariate value</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Append data using two tables.  The outcomes table is dense and contains ...  The covariates table is sparse and contains ...
All entries in the outcome table must be sorted in increasing order by (oStratumId, oRowId).  All entries in the covariate table
must be sorted in increasing order by (cRowId). Each cRowId value must match exactly one oRowId value.
</p>

<hr>
<h2 id='coef.cyclopsFit'>Extract model coefficients</h2><span id='topic+coef.cyclopsFit'></span>

<h3>Description</h3>

<p><code>coef.cyclopsFit</code> extracts model coefficients from an Cyclops model fit object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsFit'
coef(object, rescale = FALSE, ignoreConvergence = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.cyclopsFit_+3A_object">object</code></td>
<td>
<p>Cyclops model fit object</p>
</td></tr>
<tr><td><code id="coef.cyclopsFit_+3A_rescale">rescale</code></td>
<td>
<p>Boolean: rescale coefficients for unnormalized covariate values</p>
</td></tr>
<tr><td><code id="coef.cyclopsFit_+3A_ignoreconvergence">ignoreConvergence</code></td>
<td>
<p>Boolean: return coefficients even if fit object did not converge</p>
</td></tr>
<tr><td><code id="coef.cyclopsFit_+3A_...">...</code></td>
<td>
<p>Other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named numeric vector of model coefficients.
</p>

<hr>
<h2 id='confint.cyclopsFit'>Confidence intervals for Cyclops model parameters</h2><span id='topic+confint.cyclopsFit'></span>

<h3>Description</h3>

<p><code>confinit.cyclopsFit</code> profiles the data likelihood to construct confidence intervals of
arbitrary level. Usually it only makes sense to do this for variables that have not been regularized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsFit'
confint(
  object,
  parm,
  level = 0.95,
  overrideNoRegularization = FALSE,
  includePenalty = TRUE,
  rescale = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confint.cyclopsFit_+3A_object">object</code></td>
<td>
<p>A fitted Cyclops model object</p>
</td></tr>
<tr><td><code id="confint.cyclopsFit_+3A_parm">parm</code></td>
<td>
<p>A specification of which parameters require confidence intervals,
either a vector of numbers of covariateId names</p>
</td></tr>
<tr><td><code id="confint.cyclopsFit_+3A_level">level</code></td>
<td>
<p>Numeric: confidence level required</p>
</td></tr>
<tr><td><code id="confint.cyclopsFit_+3A_overridenoregularization">overrideNoRegularization</code></td>
<td>
<p>Logical: Enable confidence interval estimation for regularized parameters</p>
</td></tr>
<tr><td><code id="confint.cyclopsFit_+3A_includepenalty">includePenalty</code></td>
<td>
<p>Logical: Include regularized covariate penalty in profile</p>
</td></tr>
<tr><td><code id="confint.cyclopsFit_+3A_rescale">rescale</code></td>
<td>
<p>Boolean: rescale coefficients for unnormalized covariate values</p>
</td></tr>
<tr><td><code id="confint.cyclopsFit_+3A_...">...</code></td>
<td>
<p>Additional argument(s) for methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with columns reporting lower and upper confidence limits for each parameter.
These columns are labelled as (1-level) / 2 and 1 - (1 - level) / 2 in percent
(by default 2.5 percent and 97.5 percent)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate some simulated data:
sim &lt;- simulateCyclopsData(nstrata = 1, nrows = 1000, ncovars = 2, eCovarsPerRow = 0.5, 
                           model = "poisson")
cyclopsData &lt;- convertToCyclopsData(sim$outcomes, sim$covariates, modelType = "pr", 
                                    addIntercept = TRUE)

#Define the prior and control objects to use cross-validation for finding the 
#optimal hyperparameter:
prior &lt;- createPrior("laplace", exclude = 0, useCrossValidation = TRUE)
control &lt;- createControl(cvType = "auto", noiseLevel = "quiet")

#Fit the model
fit &lt;- fitCyclopsModel(cyclopsData,prior = prior, control = control)  

#Find out what the optimal hyperparameter was:
getHyperParameter(fit)

#Extract the current log-likelihood, and coefficients
logLik(fit)
coef(fit)

#We can only retrieve the confidence interval for unregularized coefficients:
confint(fit, c(0))
</code></pre>

<hr>
<h2 id='convertToCyclopsData'>Convert data from two data frames or ffdf objects into a CyclopsData object</h2><span id='topic+convertToCyclopsData'></span><span id='topic+convertToCyclopsData.data.frame'></span><span id='topic+convertToCyclopsData.tbl_dbi'></span>

<h3>Description</h3>

<p><code>convertToCyclopsData</code> loads data from two data frames or ffdf objects, and inserts it into a Cyclops data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertToCyclopsData(
  outcomes,
  covariates,
  modelType = "lr",
  timeEffectMap = NULL,
  addIntercept = TRUE,
  checkSorting = NULL,
  checkRowIds = TRUE,
  normalize = NULL,
  quiet = FALSE,
  floatingPoint = 64
)

## S3 method for class 'data.frame'
convertToCyclopsData(
  outcomes,
  covariates,
  modelType = "lr",
  timeEffectMap = NULL,
  addIntercept = TRUE,
  checkSorting = NULL,
  checkRowIds = TRUE,
  normalize = NULL,
  quiet = FALSE,
  floatingPoint = 64
)

## S3 method for class 'tbl_dbi'
convertToCyclopsData(
  outcomes,
  covariates,
  modelType = "lr",
  timeEffectMap = NULL,
  addIntercept = TRUE,
  checkSorting = NULL,
  checkRowIds = TRUE,
  normalize = NULL,
  quiet = FALSE,
  floatingPoint = 64
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertToCyclopsData_+3A_outcomes">outcomes</code></td>
<td>
<p>A data frame or ffdf object containing the outcomes with predefined columns (see below).</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_covariates">covariates</code></td>
<td>
<p>A data frame or ffdf object containing the covariates with predefined columns (see below).</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_modeltype">modelType</code></td>
<td>
<p>Cyclops model type. Current supported types are &quot;pr&quot;, &quot;cpr&quot;, lr&quot;, &quot;clr&quot;, or &quot;cox&quot;</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_timeeffectmap">timeEffectMap</code></td>
<td>
<p>A data frame or ffdf object containing the convariates that have time-varying effects on the outcome</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_addintercept">addIntercept</code></td>
<td>
<p>Add an intercept to the model?</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_checksorting">checkSorting</code></td>
<td>
<p>(DEPRECATED) Check if the data are sorted appropriately, and if not, sort.</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_checkrowids">checkRowIds</code></td>
<td>
<p>Check if all rowIds in the covariates appear in the outcomes.</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_normalize">normalize</code></td>
<td>
<p>String: Name of normalization for all non-indicator covariates (possible values: stdev, max, median)</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_quiet">quiet</code></td>
<td>
<p>If true, (warning) messages are suppressed.</p>
</td></tr>
<tr><td><code id="convertToCyclopsData_+3A_floatingpoint">floatingPoint</code></td>
<td>
<p>Specified floating-point representation size (32 or 64)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These columns are expected in the outcome object:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;stratumId&#8288;</code>    </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> (optional) Stratum ID for conditional regression models </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;rowId&#8288;</code>  	</td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> Row ID is used to link multiple covariates (x) to a single outcome (y) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;y&#8288;</code>    </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> The outcome variable </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;time&#8288;</code>    </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> For models that use time (e.g. Poisson or Cox regression) this contains time </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;">        </td><td style="text-align: left;">(e.g. number of days) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;weights&#8288;</code> </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> (optional) Non-negative weights to apply to outcome </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;censorWeights&#8288;</code> </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> (optional) Non-negative censoring weights for competing risk model; will be computed if not provided.
</td>
</tr>

</table>

<p>These columns are expected in the covariates object:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;stratumId&#8288;</code>    </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> (optional) Stratum ID for conditional regression models </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;rowId&#8288;</code>  	</td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> Row ID is used to link multiple covariates (x) to a single outcome (y) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;covariateId&#8288;</code>    </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> A numeric identifier of a covariate  </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;covariateValue&#8288;</code>    </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> The value of the specified covariate </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>These columns are expected in the timeEffectMap object:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;covariateId&#8288;</code>    </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> A numeric identifier of the covariates that have time-varying effects on the outcome </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>An object of type cyclopsData
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>convertToCyclopsData(data.frame)</code>: Convert data from two <code>data.frame</code>
</p>
</li>
<li> <p><code>convertToCyclopsData(tbl_dbi)</code>: Convert data from two <code>Andromeda</code> tables
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>#Convert infert dataset to Cyclops format:
covariates &lt;- data.frame(stratumId = rep(infert$stratum, 2),
                         rowId = rep(1:nrow(infert), 2),
                         covariateId = rep(1:2, each = nrow(infert)),
                         covariateValue = c(infert$spontaneous, infert$induced))
outcomes &lt;- data.frame(stratumId = infert$stratum,
                       rowId = 1:nrow(infert),
                       y = infert$case)
#Make sparse:
covariates &lt;- covariates[covariates$covariateValue != 0, ]

#Create Cyclops data object:
cyclopsData &lt;- convertToCyclopsData(outcomes, covariates, modelType = "clr",
                                    addIntercept = FALSE)

#Fit model:
fit &lt;- fitCyclopsModel(cyclopsData, prior = createPrior("none"))

</code></pre>

<hr>
<h2 id='convertToCyclopsVariance'>Convert to Cyclops Prior Variance</h2><span id='topic+convertToCyclopsVariance'></span>

<h3>Description</h3>

<p><code>convertToCyclopsVariance</code> converts the regularization parameter <code>lambda</code>
from <code>glmnet</code> into a prior variance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertToCyclopsVariance(lambda, nobs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertToCyclopsVariance_+3A_lambda">lambda</code></td>
<td>
<p>Regularization parameter from <code>glmnet</code></p>
</td></tr>
<tr><td><code id="convertToCyclopsVariance_+3A_nobs">nobs</code></td>
<td>
<p>Number of observation rows in dataset</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prior variance under a Laplace() prior
</p>

<hr>
<h2 id='convertToGlmnetLambda'>Convert to glmnet regularization parameter</h2><span id='topic+convertToGlmnetLambda'></span>

<h3>Description</h3>

<p><code>convertToGlmnetLambda</code> converts a prior variance
from <code>Cyclops</code> into the regularization parameter <code>lambda</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertToGlmnetLambda(variance, nobs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertToGlmnetLambda_+3A_variance">variance</code></td>
<td>
<p>Prior variance</p>
</td></tr>
<tr><td><code id="convertToGlmnetLambda_+3A_nobs">nobs</code></td>
<td>
<p>Number of observation rows in dataset</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>lambda</code>
</p>

<hr>
<h2 id='convertToTimeVaryingCoef'>Convert short sparse covariate table to long sparse covariate table for time-varying coefficients.</h2><span id='topic+convertToTimeVaryingCoef'></span>

<h3>Description</h3>

<p><code>convertToTimeVaryingCoef</code> convert short sparse covariate table to long sparse covariate table for time-varying coefficients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertToTimeVaryingCoef(shortCov, longOut, timeVaryCoefId)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertToTimeVaryingCoef_+3A_shortcov">shortCov</code></td>
<td>
<p>A data frame containing the covariate with predefined columns (see below).</p>
</td></tr>
<tr><td><code id="convertToTimeVaryingCoef_+3A_longout">longOut</code></td>
<td>
<p>A data frame containing the outcomes with predefined columns (see below), output of <code>splitTime</code>.</p>
</td></tr>
<tr><td><code id="convertToTimeVaryingCoef_+3A_timevarycoefid">timeVaryCoefId</code></td>
<td>
<p>Integer: A numeric identifier of a time-varying coefficient</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These columns are expected in the shortCov object:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;rowId&#8288;</code>  	       </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> Row ID is used to link multiple covariates (x) to a single outcome (y) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;covariateId&#8288;</code>    </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> A numeric identifier of a covariate  </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;covariateValue&#8288;</code> </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> The value of the specified covariate </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>These columns are expected in the longOut object:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;stratumId&#8288;</code>   </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> Stratum ID for time-varying models </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;subjectId&#8288;</code>  	</td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> Subject ID is used to link multiple covariates (x) at different time intervals to a single subject </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;rowId&#8288;</code>  	    </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> Row ID is used to link multiple covariates (x) to a single outcome (y) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;y&#8288;</code>           </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> The outcome variable </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;time&#8288;</code>        </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> For models that use time (e.g. Poisson or Cox regression) this contains time </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;">       </td><td style="text-align: left;">(e.g. number of days) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>A long sparse covariate table for time-varying coefficients.
</p>

<hr>
<h2 id='coverage'>Coverage</h2><span id='topic+coverage'></span>

<h3>Description</h3>

<p><code>coverage</code> computes the coverage on confidence intervals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coverage(goldStandard, lowerBounds, upperBounds)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coverage_+3A_goldstandard">goldStandard</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="coverage_+3A_lowerbounds">lowerBounds</code></td>
<td>
<p>Numeric vector. Lower bound of the confidence intervals</p>
</td></tr>
<tr><td><code id="coverage_+3A_upperbounds">upperBounds</code></td>
<td>
<p>Numeric vector. Upper bound of the confidence intervals</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The proportion of times <code>goldStandard</code> falls between <code>lowerBound</code> and <code>upperBound</code>
</p>

<hr>
<h2 id='createAutoGridCrossValidationControl'>Create a Cyclops control object that supports multiple hyperparameters</h2><span id='topic+createAutoGridCrossValidationControl'></span>

<h3>Description</h3>

<p><code>createCrossValidationControl</code> creates a Cyclops control object for use with <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code>
that supports multiple hyperparameters through an auto-search in one dimension and a grid-search over the remaining
dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createAutoGridCrossValidationControl(
  outerGrid,
  autoPosition = 1,
  refitAtMaximum = TRUE,
  cvType = "auto",
  initialValue = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createAutoGridCrossValidationControl_+3A_outergrid">outerGrid</code></td>
<td>
<p>List or data.frame of grid parameters to explore</p>
</td></tr>
<tr><td><code id="createAutoGridCrossValidationControl_+3A_autoposition">autoPosition</code></td>
<td>
<p>Vector position for auto-search parameter (concatenated into outerGrid)</p>
</td></tr>
<tr><td><code id="createAutoGridCrossValidationControl_+3A_refitatmaximum">refitAtMaximum</code></td>
<td>
<p>Logical: re-fit Cyclops object at maximal cross-validation parameters</p>
</td></tr>
<tr><td><code id="createAutoGridCrossValidationControl_+3A_cvtype">cvType</code></td>
<td>
<p>Must equal &quot;auto&quot;</p>
</td></tr>
<tr><td><code id="createAutoGridCrossValidationControl_+3A_initialvalue">initialValue</code></td>
<td>
<p>Initial value for auto-search parameter</p>
</td></tr>
<tr><td><code id="createAutoGridCrossValidationControl_+3A_...">...</code></td>
<td>
<p>Additional parameters passed through to <code><a href="#topic+createControl">createControl</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Cyclops prior object of class inheriting from <code>"cyclopsPrior"</code> and <code>"cyclopsFunctionalPrior"</code>
for use with <code>fitCyclopsModel</code>.
</p>

<hr>
<h2 id='createControl'>Create a Cyclops control object</h2><span id='topic+createControl'></span>

<h3>Description</h3>

<p><code>createControl</code> creates a Cyclops control object for use with <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createControl(
  maxIterations = 1000,
  tolerance = 1e-06,
  convergenceType = "gradient",
  cvType = "auto",
  fold = 10,
  lowerLimit = 0.01,
  upperLimit = 20,
  gridSteps = 10,
  cvRepetitions = 1,
  minCVData = 100,
  noiseLevel = "silent",
  threads = 1,
  seed = NULL,
  resetCoefficients = FALSE,
  startingVariance = -1,
  useKKTSwindle = FALSE,
  tuneSwindle = 10,
  selectorType = "auto",
  initialBound = 2,
  maxBoundCount = 5,
  algorithm = "ccd",
  doItAll = TRUE,
  syncCV = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createControl_+3A_maxiterations">maxIterations</code></td>
<td>
<p>Integer: maximum iterations of Cyclops to attempt before returning a failed-to-converge error</p>
</td></tr>
<tr><td><code id="createControl_+3A_tolerance">tolerance</code></td>
<td>
<p>Numeric: maximum relative change in convergence criterion from successive iterations to achieve convergence</p>
</td></tr>
<tr><td><code id="createControl_+3A_convergencetype">convergenceType</code></td>
<td>
<p>String: name of convergence criterion to employ (described in more detail below)</p>
</td></tr>
<tr><td><code id="createControl_+3A_cvtype">cvType</code></td>
<td>
<p>String: name of cross validation search.
Option <code>"auto"</code> selects an auto-search following BBR.
Option <code>"grid"</code> selects a grid-search cross validation</p>
</td></tr>
<tr><td><code id="createControl_+3A_fold">fold</code></td>
<td>
<p>Numeric: Number of random folds to employ in cross validation</p>
</td></tr>
<tr><td><code id="createControl_+3A_lowerlimit">lowerLimit</code></td>
<td>
<p>Numeric: Lower prior variance limit for grid-search</p>
</td></tr>
<tr><td><code id="createControl_+3A_upperlimit">upperLimit</code></td>
<td>
<p>Numeric: Upper prior variance limit for grid-search</p>
</td></tr>
<tr><td><code id="createControl_+3A_gridsteps">gridSteps</code></td>
<td>
<p>Numeric: Number of steps in grid-search</p>
</td></tr>
<tr><td><code id="createControl_+3A_cvrepetitions">cvRepetitions</code></td>
<td>
<p>Numeric: Number of repetitions of X-fold cross validation</p>
</td></tr>
<tr><td><code id="createControl_+3A_mincvdata">minCVData</code></td>
<td>
<p>Numeric: Minimum number of data for cross validation</p>
</td></tr>
<tr><td><code id="createControl_+3A_noiselevel">noiseLevel</code></td>
<td>
<p>String: level of Cyclops screen output (<code>"silent"</code>, <code>"quiet"</code>, <code>"noisy"</code>)</p>
</td></tr>
<tr><td><code id="createControl_+3A_threads">threads</code></td>
<td>
<p>Numeric: Specify number of CPU threads to employ in cross-validation; default = 1 (auto = -1)</p>
</td></tr>
<tr><td><code id="createControl_+3A_seed">seed</code></td>
<td>
<p>Numeric: Specify random number generator seed. A null value sets seed via <code><a href="base.html#topic+Sys.time">Sys.time</a></code>.</p>
</td></tr>
<tr><td><code id="createControl_+3A_resetcoefficients">resetCoefficients</code></td>
<td>
<p>Logical: Reset all coefficients to 0 between model fits under cross-validation</p>
</td></tr>
<tr><td><code id="createControl_+3A_startingvariance">startingVariance</code></td>
<td>
<p>Numeric: Starting variance for auto-search cross-validation; default = -1 (use estimate based on data)</p>
</td></tr>
<tr><td><code id="createControl_+3A_usekktswindle">useKKTSwindle</code></td>
<td>
<p>Logical: Use the Karush-Kuhn-Tucker conditions to limit search</p>
</td></tr>
<tr><td><code id="createControl_+3A_tuneswindle">tuneSwindle</code></td>
<td>
<p>Numeric: Size multiplier for active set</p>
</td></tr>
<tr><td><code id="createControl_+3A_selectortype">selectorType</code></td>
<td>
<p>String: name of exchangeable sampling unit.
Option <code>"byPid"</code> selects entire strata.
Option <code>"byRow"</code> selects single rows.
If set to <code>"auto"</code>, <code>"byRow"</code> will be used for all models except conditional models where
the average number of rows per stratum is smaller than the number of strata.</p>
</td></tr>
<tr><td><code id="createControl_+3A_initialbound">initialBound</code></td>
<td>
<p>Numeric: Starting trust-region size</p>
</td></tr>
<tr><td><code id="createControl_+3A_maxboundcount">maxBoundCount</code></td>
<td>
<p>Numeric: Maximum number of tries to decrease initial trust-region size</p>
</td></tr>
<tr><td><code id="createControl_+3A_algorithm">algorithm</code></td>
<td>
<p>String: name of fitting algorithm to employ; default is <code>ccd</code></p>
</td></tr>
<tr><td><code id="createControl_+3A_doitall">doItAll</code></td>
<td>
<p>Currently unused</p>
</td></tr>
<tr><td><code id="createControl_+3A_synccv">syncCV</code></td>
<td>
<p>Currently unused
</p>
<p>Todo: Describe convegence types</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Cyclops control object of class inheriting from <code>"cyclopsControl"</code> for use with <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate some simulated data:
sim &lt;- simulateCyclopsData(nstrata = 1, nrows = 1000, ncovars = 2, eCovarsPerRow = 0.5, 
                           model = "poisson")
cyclopsData &lt;- convertToCyclopsData(sim$outcomes, sim$covariates, modelType = "pr", 
                                    addIntercept = TRUE)

#Define the prior and control objects to use cross-validation for finding the 
#optimal hyperparameter:
prior &lt;- createPrior("laplace", exclude = 0, useCrossValidation = TRUE)
control &lt;- createControl(cvType = "auto", noiseLevel = "quiet")

#Fit the model
fit &lt;- fitCyclopsModel(cyclopsData,prior = prior, control = control)  

#Find out what the optimal hyperparameter was:
getHyperParameter(fit)

#Extract the current log-likelihood, and coefficients
logLik(fit)
coef(fit)

#We can only retrieve the confidence interval for unregularized coefficients:
confint(fit, c(0))
</code></pre>

<hr>
<h2 id='createCyclopsData'>Create a Cyclops data object</h2><span id='topic+createCyclopsData'></span>

<h3>Description</h3>

<p><code>createCyclopsData</code> creates a Cyclops data object from an R formula or data matrices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createCyclopsData(
  formula,
  sparseFormula,
  indicatorFormula,
  modelType,
  data,
  subset = NULL,
  weights = NULL,
  censorWeights = NULL,
  offset = NULL,
  time = NULL,
  pid = NULL,
  y = NULL,
  type = NULL,
  dx = NULL,
  sx = NULL,
  ix = NULL,
  model = FALSE,
  normalize = NULL,
  floatingPoint = 64,
  method = "cyclops.fit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createCyclopsData_+3A_formula">formula</code></td>
<td>
<p>An object of class <code>"<a href="stats.html#topic+formula">formula</a>"</code> that provides a symbolic description of the numerically dense model response and terms.</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_sparseformula">sparseFormula</code></td>
<td>
<p>An object of class <code>"<a href="stats.html#topic+formula">formula</a>"</code> that provides a symbolic description of numerically sparse model terms.</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_indicatorformula">indicatorFormula</code></td>
<td>
<p>An object of class <code>"<a href="stats.html#topic+formula">formula</a>"</code> that provides a symbolic description of {0,1} model terms.</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_modeltype">modelType</code></td>
<td>
<p>character string: Valid types are listed below.</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_data">data</code></td>
<td>
<p>An optional data frame, list or environment containing the variables in the model.</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_subset">subset</code></td>
<td>
<p>Currently unused</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_weights">weights</code></td>
<td>
<p>Currently unused</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_censorweights">censorWeights</code></td>
<td>
<p>Vector of subject-specific censoring weights (between 0 and 1). Currently only supported in <code>modelType = "fgr"</code>.</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_offset">offset</code></td>
<td>
<p>Currently unused</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_time">time</code></td>
<td>
<p>Currently undocumented</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_pid">pid</code></td>
<td>
<p>Optional vector of integer stratum identifiers. If supplied, all rows must be sorted by increasing identifiers</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_y">y</code></td>
<td>
<p>Currently undocumented</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_type">type</code></td>
<td>
<p>Currently undocumented</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_dx">dx</code></td>
<td>
<p>Optional dense <code>"<a href="Matrix.html#topic+Matrix">Matrix</a>"</code> of covariates</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_sx">sx</code></td>
<td>
<p>Optional sparse <code>"<a href="Matrix.html#topic+Matrix">Matrix</a>"</code> of covariates</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_ix">ix</code></td>
<td>
<p>Optional {0,1} <code>"<a href="Matrix.html#topic+Matrix">Matrix</a>"</code> of covariates</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_model">model</code></td>
<td>
<p>Currently undocumented</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_normalize">normalize</code></td>
<td>
<p>String: Name of normalization for all non-indicator covariates (possible values: stdev, max, median)</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_floatingpoint">floatingPoint</code></td>
<td>
<p>Integer: Floating-point representation size (32 or 64)</p>
</td></tr>
<tr><td><code id="createCyclopsData_+3A_method">method</code></td>
<td>
<p>Currently undocumented</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates a Cyclops model data object from R <code>"<a href="stats.html#topic+formula">formula</a>"</code> or directly from
numeric vectors and matrices to define the model response and covariates.
If specifying a model using a <code>"<a href="stats.html#topic+formula">formula</a>"</code>, then the left-hand side define the model response and the
right-hand side defines dense covariate terms.
Objects provided with <code>"sparseFormula"</code> and <code>"indicatorFormula"</code> must be include left-hand side responses and terms are
coersed into sparse and indicator representations for computational efficiency.
</p>
<p>Items to discuss:
</p>

<ul>
<li><p> Only use formula or (y,dx,...)
</p>
</li>
<li><p> stratum() in formula
</p>
</li>
<li><p> offset() in formula
</p>
</li>
<li><p> when <code>"stratum"</code> (renamed from pid) are necessary
</p>
</li>
<li><p> when <code>"time"</code> are necessary
</p>
</li></ul>



<h3>Value</h3>

<p>A list that contains a Cyclops model data object pointer and an operation duration
</p>


<h3>Models</h3>

<p>Currently supported model types are:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"ls"&#8288;</code> </td><td style="text-align: left;"> Least squares </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"pr"&#8288;</code> </td><td style="text-align: left;"> Poisson regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"lr"&#8288;</code> </td><td style="text-align: left;"> Logistic regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"clr"&#8288;</code> </td><td style="text-align: left;"> Conditional logistic regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"cpr"&#8288;</code> </td><td style="text-align: left;"> Conditional Poisson regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"sccs"&#8288;</code> </td><td style="text-align: left;"> Self-controlled case series </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"cox"&#8288;</code> </td><td style="text-align: left;"> Cox proportional hazards regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"fgr"&#8288;</code> </td><td style="text-align: left;"> Fine-Gray proportional subdistribution hazards regression </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>## Dobson (1990) Page 93: Randomized Controlled Trial :
counts &lt;- c(18, 17, 15, 20, 10, 20, 25, 13, 12)
outcome &lt;- gl(3, 1, 9)
treatment &lt;- gl(3, 3)
cyclopsData &lt;- createCyclopsData(
     counts ~ outcome + treatment,
     modelType = "pr")
cyclopsFit &lt;- fitCyclopsModel(cyclopsData)

cyclopsData2 &lt;- createCyclopsData(
     counts ~ outcome,
     indicatorFormula = ~ treatment,
     modelType = "pr")
summary(cyclopsData2)
cyclopsFit2 &lt;- fitCyclopsModel(cyclopsData2)

</code></pre>

<hr>
<h2 id='createNonSeparablePrior'>Create a Cyclops prior object that returns the MLE of non-separable coefficients</h2><span id='topic+createNonSeparablePrior'></span>

<h3>Description</h3>

<p><code>createNonSeparablePrior</code> creates a Cyclops prior object for use with <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createNonSeparablePrior(maxIterations = 10, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createNonSeparablePrior_+3A_maxiterations">maxIterations</code></td>
<td>
<p>Numeric: maximum iterations to achieve convergence</p>
</td></tr>
<tr><td><code id="createNonSeparablePrior_+3A_...">...</code></td>
<td>
<p>Additional argument(s) for <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Cyclops prior object of class inheriting from
<code>"cyclopsPrior"</code> for use with <code>fitCyclopsModel</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>prior &lt;- createNonSeparablePrior()

</code></pre>

<hr>
<h2 id='createParameterizedPrior'>Create a Cyclops parameterized prior object</h2><span id='topic+createParameterizedPrior'></span>

<h3>Description</h3>

<p><code>createParameterizedPrior</code> creates a Cyclops prior object for use with <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code>
in which arbitrary <code>R</code> functions parameterize the prior location and variance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createParameterizedPrior(
  priorType,
  parameterize,
  values,
  useCrossValidation = FALSE,
  forceIntercept = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createParameterizedPrior_+3A_priortype">priorType</code></td>
<td>
<p>Character vector: specifies prior distribution.  See below for options</p>
</td></tr>
<tr><td><code id="createParameterizedPrior_+3A_parameterize">parameterize</code></td>
<td>
<p>Function list: parameterizes location and variance</p>
</td></tr>
<tr><td><code id="createParameterizedPrior_+3A_values">values</code></td>
<td>
<p>Numeric vector: initial parameter values</p>
</td></tr>
<tr><td><code id="createParameterizedPrior_+3A_usecrossvalidation">useCrossValidation</code></td>
<td>
<p>Logical: Perform cross-validation to determine <code>parameters</code>.</p>
</td></tr>
<tr><td><code id="createParameterizedPrior_+3A_forceintercept">forceIntercept</code></td>
<td>
<p>Logical: Force intercept coefficient into prior</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Cyclops prior object of class inheriting from <code>"cyclopsPrior"</code> and <code>"cyclopsFunctionalPrior"</code>
for use with <code>fitCyclopsModel</code>.
</p>

<hr>
<h2 id='createPrior'>Create a Cyclops prior object</h2><span id='topic+createPrior'></span>

<h3>Description</h3>

<p><code>createPrior</code> creates a Cyclops prior object for use with <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createPrior(
  priorType,
  variance = 1,
  exclude = c(),
  graph = NULL,
  neighborhood = NULL,
  useCrossValidation = FALSE,
  forceIntercept = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createPrior_+3A_priortype">priorType</code></td>
<td>
<p>Character: specifies prior distribution.  See below for options</p>
</td></tr>
<tr><td><code id="createPrior_+3A_variance">variance</code></td>
<td>
<p>Numeric: prior distribution variance</p>
</td></tr>
<tr><td><code id="createPrior_+3A_exclude">exclude</code></td>
<td>
<p>A vector of numbers or covariateId names to exclude from prior</p>
</td></tr>
<tr><td><code id="createPrior_+3A_graph">graph</code></td>
<td>
<p>Child-to-parent mapping for a hierarchical prior</p>
</td></tr>
<tr><td><code id="createPrior_+3A_neighborhood">neighborhood</code></td>
<td>
<p>A list of first-order neighborhoods for a partially fused prior</p>
</td></tr>
<tr><td><code id="createPrior_+3A_usecrossvalidation">useCrossValidation</code></td>
<td>
<p>Logical: Perform cross-validation to determine prior <code>variance</code>.</p>
</td></tr>
<tr><td><code id="createPrior_+3A_forceintercept">forceIntercept</code></td>
<td>
<p>Logical: Force intercept coefficient into prior</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Cyclops prior object of class inheriting from <code>"cyclopsPrior"</code> for use with <code>fitCyclopsModel</code>.
</p>


<h3>Prior types</h3>

<p>We specify all priors in terms of their variance parameters.
Similar fitting tools for regularized regression often parameterize the Laplace distribution
in terms of a rate <code>"lambda"</code> per observation.
See <code>"glmnet"</code>, for example.
</p>
<p>variance = 2 * / (nobs * lambda)^2 or lambda = sqrt(2 / variance) / nobs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate some simulated data:
sim &lt;- simulateCyclopsData(nstrata = 1, nrows = 1000, ncovars = 2, eCovarsPerRow = 0.5, 
                           model = "poisson")
cyclopsData &lt;- convertToCyclopsData(sim$outcomes, sim$covariates, modelType = "pr", 
                                    addIntercept = TRUE)

#Define the prior and control objects to use cross-validation for finding the 
#optimal hyperparameter:
prior &lt;- createPrior("laplace", exclude = 0, useCrossValidation = TRUE)
control &lt;- createControl(cvType = "auto", noiseLevel = "quiet")

#Fit the model
fit &lt;- fitCyclopsModel(cyclopsData,prior = prior, control = control)  

#Find out what the optimal hyperparameter was:
getHyperParameter(fit)

#Extract the current log-likelihood, and coefficients
logLik(fit)
coef(fit)

#We can only retrieve the confidence interval for unregularized coefficients:
confint(fit, c(0))
</code></pre>

<hr>
<h2 id='createWeightBasedSearchControl'>Create a Cyclops control object that supports in- / out-of-sample hyperparameter search using weights</h2><span id='topic+createWeightBasedSearchControl'></span>

<h3>Description</h3>

<p><code>createWeightBasedSearchControl</code> creates a Cyclops control object for use with <code><a href="#topic+fitCyclopsModel">fitCyclopsModel</a></code>
that supports hyperparameter optimization through an auto-search where weight = 1 identifies in-sample observations
and weight = 0 identifies out-of-sample observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createWeightBasedSearchControl(cvType = "auto", initialValue = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createWeightBasedSearchControl_+3A_cvtype">cvType</code></td>
<td>
<p>Must equal &quot;auto&quot;</p>
</td></tr>
<tr><td><code id="createWeightBasedSearchControl_+3A_initialvalue">initialValue</code></td>
<td>
<p>Initial value for auto-search parameter</p>
</td></tr>
<tr><td><code id="createWeightBasedSearchControl_+3A_...">...</code></td>
<td>
<p>Additional parameters passed through to <code><a href="#topic+createControl">createControl</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Cyclops prior object of class inheriting from <code>"cyclopsControl"</code>
for use with <code>fitCyclopsModel</code>.
</p>

<hr>
<h2 id='cyclops'>Cyclops: Cyclic coordinate descent for logistic, Poisson and survival analysis</h2><span id='topic+cyclops'></span>

<h3>Description</h3>

<p>The Cyclops package incorporates cyclic coordinate descent and
majorization-minimization approaches to fit a variety of regression models
found in large-scale observational healthcare data.  Implementations focus
on computational optimization and fine-scale parallelization to yield
efficient inference in massive datasets.
</p>

<hr>
<h2 id='finalizeSqlCyclopsData'>finalizeSqlCyclopsData</h2><span id='topic+finalizeSqlCyclopsData'></span>

<h3>Description</h3>

<p><code>finalizeSqlCyclopsData</code> finalizes a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>finalizeSqlCyclopsData(
  object,
  addIntercept = FALSE,
  useOffsetCovariate = NULL,
  offsetAlreadyOnLogScale = FALSE,
  sortCovariates = FALSE,
  makeCovariatesDense = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="finalizeSqlCyclopsData_+3A_object">object</code></td>
<td>
<p>Cyclops data object</p>
</td></tr>
<tr><td><code id="finalizeSqlCyclopsData_+3A_addintercept">addIntercept</code></td>
<td>
<p>Add an intercept covariate if one was not imported through SQL</p>
</td></tr>
<tr><td><code id="finalizeSqlCyclopsData_+3A_useoffsetcovariate">useOffsetCovariate</code></td>
<td>
<p>Specify is a covariate should be used as an offset (fixed coefficient = 1).
Set option to <code>-1</code> to specify the time-to-event column,
otherwise include a single numeric or character covariate name.</p>
</td></tr>
<tr><td><code id="finalizeSqlCyclopsData_+3A_offsetalreadyonlogscale">offsetAlreadyOnLogScale</code></td>
<td>
<p>Set to <code>TRUE</code> to indicate that offsets were log-transformed before importing into Cyclops data object.</p>
</td></tr>
<tr><td><code id="finalizeSqlCyclopsData_+3A_sortcovariates">sortCovariates</code></td>
<td>
<p>Sort covariates in numeric-order with intercept first if it exists.</p>
</td></tr>
<tr><td><code id="finalizeSqlCyclopsData_+3A_makecovariatesdense">makeCovariatesDense</code></td>
<td>
<p>List of numeric or character covariates names to densely represent in Cyclops data object.
For efficiency, we suggest making at least the intercept dense.</p>
</td></tr>
</table>

<hr>
<h2 id='fitCyclopsModel'>Fit a Cyclops model</h2><span id='topic+fitCyclopsModel'></span>

<h3>Description</h3>

<p><code>fitCyclopsModel</code> fits a Cyclops model data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitCyclopsModel(
  cyclopsData,
  prior = createPrior("none"),
  control = createControl(),
  weights = NULL,
  forceNewObject = FALSE,
  returnEstimates = TRUE,
  startingCoefficients = NULL,
  fixedCoefficients = NULL,
  warnings = TRUE,
  computeDevice = "native"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitCyclopsModel_+3A_cyclopsdata">cyclopsData</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_prior">prior</code></td>
<td>
<p>A prior object. More details are given below.</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_control">control</code></td>
<td>
<p>A <code>"cyclopsControl"</code> object constructed by <code><a href="#topic+createControl">createControl</a></code></p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_weights">weights</code></td>
<td>
<p>Vector of 0/1 weights for each data row</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_forcenewobject">forceNewObject</code></td>
<td>
<p>Logical, forces the construction of a new Cyclops model fit object</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_returnestimates">returnEstimates</code></td>
<td>
<p>Logical, return regression coefficient estimates in Cyclops model fit object</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_startingcoefficients">startingCoefficients</code></td>
<td>
<p>Vector of starting values for optimization</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_fixedcoefficients">fixedCoefficients</code></td>
<td>
<p>Vector of booleans indicating if coefficient should be fix</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_warnings">warnings</code></td>
<td>
<p>Logical, report regularization warnings</p>
</td></tr>
<tr><td><code id="fitCyclopsModel_+3A_computedevice">computeDevice</code></td>
<td>
<p>String: Name of compute device to employ; defaults to <code>"native"</code> C++ on CPU</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function performs numerical optimization to fit a Cyclops model data object.
</p>


<h3>Value</h3>

<p>A list that contains a Cyclops model fit object pointer and an operation duration
</p>


<h3>Prior</h3>

<p>Currently supported prior types are:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"none"&#8288;</code> </td><td style="text-align: left;"> Useful for finding MLE </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"laplace"&#8288;</code> </td><td style="text-align: left;"> L_1 regularization </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;  "normal"&#8288;</code> </td><td style="text-align: left;"> L_2 regularization </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>References</h3>

<p>Suchard MA, Simpson SE, Zorych I, Ryan P, Madigan D.
Massive parallelization of serial inference algorithms for complex generalized linear models.
ACM Transactions on Modeling and Computer Simulation, 23, 10, 2013.
</p>
<p>Simpson SE, Madigan D, Zorych I, Schuemie M, Ryan PB, Suchard MA.
Multiple self-controlled case series for large-scale longitudinal observational databases.
Biometrics, 69, 893-902, 2013.
</p>
<p>Mittal S, Madigan D, Burd RS, Suchard MA.
High-dimensional, massive sample-size Cox proportional hazards regression for survival analysis.
Biostatistics, 15, 207-221, 2014.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Dobson (1990) Page 93: Randomized Controlled Trial :
counts &lt;- c(18,17,15,20,10,20,25,13,12)
outcome &lt;- gl(3,1,9)
treatment &lt;- gl(3,3)
cyclopsData &lt;- createCyclopsData(counts ~ outcome + treatment, modelType = "pr")
cyclopsFit &lt;- fitCyclopsModel(cyclopsData, prior = createPrior("none"))
coef(cyclopsFit)
confint(cyclopsFit, c("outcome2","treatment3"))
predict(cyclopsFit)

</code></pre>

<hr>
<h2 id='fitCyclopsSimulation'>Fit simulated data</h2><span id='topic+fitCyclopsSimulation'></span>

<h3>Description</h3>

<p><code>fitCyclopsSimulation</code> fits simulated Cyclops data using Cyclops or a standard routine.
This function is useful for simulation studies comparing the performance of Cyclops when considering
large, sparse datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitCyclopsSimulation(
  sim,
  useCyclops = TRUE,
  model = "logistic",
  coverage = TRUE,
  includePenalty = FALSE,
  computeDevice = "native"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitCyclopsSimulation_+3A_sim">sim</code></td>
<td>
<p>A simulated Cyclops dataset generated via <code>simulateCyclopsData</code></p>
</td></tr>
<tr><td><code id="fitCyclopsSimulation_+3A_usecyclops">useCyclops</code></td>
<td>
<p>Logical: use Cyclops or a standard routine</p>
</td></tr>
<tr><td><code id="fitCyclopsSimulation_+3A_model">model</code></td>
<td>
<p>String: Fitted regression model type</p>
</td></tr>
<tr><td><code id="fitCyclopsSimulation_+3A_coverage">coverage</code></td>
<td>
<p>Logical: report coverage statistics</p>
</td></tr>
<tr><td><code id="fitCyclopsSimulation_+3A_includepenalty">includePenalty</code></td>
<td>
<p>Logical: include regularized regression penalty in computing profile likelihood based confidence intervals</p>
</td></tr>
<tr><td><code id="fitCyclopsSimulation_+3A_computedevice">computeDevice</code></td>
<td>
<p>String: Name of compute device to employ; defaults to <code>"native"</code> C++ on CPU</p>
</td></tr>
</table>

<hr>
<h2 id='getCovariateIds'>Get covariate identifiers</h2><span id='topic+getCovariateIds'></span>

<h3>Description</h3>

<p><code>getCovariateIds</code> returns a vector of integer64 covariate identifiers in a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCovariateIds(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCovariateIds_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
</table>

<hr>
<h2 id='getCovariateTypes'>Get covariate types</h2><span id='topic+getCovariateTypes'></span>

<h3>Description</h3>

<p><code>getCovariateTypes</code> returns a vector covariate types in a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCovariateTypes(object, covariateLabel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCovariateTypes_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
<tr><td><code id="getCovariateTypes_+3A_covariatelabel">covariateLabel</code></td>
<td>
<p>Integer vector: covariate identifiers to return</p>
</td></tr>
</table>

<hr>
<h2 id='getCrossValidationInfo'>Get cross-validation information from a Cyclops model fit</h2><span id='topic+getCrossValidationInfo'></span>

<h3>Description</h3>

<p>getCrossValidationInfo returns the predicted optimal cross-validation point and ordinate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCrossValidationInfo(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCrossValidationInfo_+3A_object">object</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
</table>

<hr>
<h2 id='getCyclopsPredictiveLogLikelihood'>Compute predictive log-likelihood from a Cyclops model fit</h2><span id='topic+getCyclopsPredictiveLogLikelihood'></span>

<h3>Description</h3>

<p><code>getCyclopsPredictiveLogLikelihood</code> returns the log-likelihood of a subset of the data in a Cyclops model fit object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCyclopsPredictiveLogLikelihood(object, weights)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCyclopsPredictiveLogLikelihood_+3A_object">object</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
<tr><td><code id="getCyclopsPredictiveLogLikelihood_+3A_weights">weights</code></td>
<td>
<p>Numeric vector: vector of 0/1 identifying subset (=1) of rows from <code>object</code> to use in computing the log-likelihood</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The predictive log-likelihood
</p>

<hr>
<h2 id='getCyclopsProfileLogLikelihood'>Profile likelihood for Cyclops model parameters</h2><span id='topic+getCyclopsProfileLogLikelihood'></span>

<h3>Description</h3>

<p><code>getCyclopsProfileLogLikelihood</code> evaluates the profile likelihood at a grid of parameter values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCyclopsProfileLogLikelihood(
  object,
  parm,
  x = NULL,
  bounds = NULL,
  tolerance = 0.001,
  initialGridSize = 10,
  includePenalty = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getCyclopsProfileLogLikelihood_+3A_object">object</code></td>
<td>
<p>Fitted Cyclops model object</p>
</td></tr>
<tr><td><code id="getCyclopsProfileLogLikelihood_+3A_parm">parm</code></td>
<td>
<p>Specification of which parameter requires profiling,
either a vector of numbers of covariateId names</p>
</td></tr>
<tr><td><code id="getCyclopsProfileLogLikelihood_+3A_x">x</code></td>
<td>
<p>Vector of values of the parameter</p>
</td></tr>
<tr><td><code id="getCyclopsProfileLogLikelihood_+3A_bounds">bounds</code></td>
<td>
<p>Pair of values to bound adaptive profiling</p>
</td></tr>
<tr><td><code id="getCyclopsProfileLogLikelihood_+3A_tolerance">tolerance</code></td>
<td>
<p>Absolute tolerance allowed for adaptive profiling</p>
</td></tr>
<tr><td><code id="getCyclopsProfileLogLikelihood_+3A_initialgridsize">initialGridSize</code></td>
<td>
<p>Initial grid size for adaptive profiling</p>
</td></tr>
<tr><td><code id="getCyclopsProfileLogLikelihood_+3A_includepenalty">includePenalty</code></td>
<td>
<p>Logical: Include regularized covariate penalty in profile</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the profile log likelihood. Returns NULL when the adaptive profiling fails
to converge.
</p>

<hr>
<h2 id='getFineGrayWeights'>Creates a <code>Surv</code> object that forces in competing risks and the IPCW needed for Fine-Gray estimation.</h2><span id='topic+getFineGrayWeights'></span>

<h3>Description</h3>

<p><code>getFineGrayWeights</code> creates a list <code>Surv</code> object and vector of weights required for estimation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFineGrayWeights(ftime, fstatus, cvweights = NULL, cencode = 0, failcode = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFineGrayWeights_+3A_ftime">ftime</code></td>
<td>
<p>Numeric: Observed event (failure) times</p>
</td></tr>
<tr><td><code id="getFineGrayWeights_+3A_fstatus">fstatus</code></td>
<td>
<p>Numeric: Observed event (failure) types</p>
</td></tr>
<tr><td><code id="getFineGrayWeights_+3A_cvweights">cvweights</code></td>
<td>
<p>Numeric: Vector of 0/1 (cross-validation) weights for each data row</p>
</td></tr>
<tr><td><code id="getFineGrayWeights_+3A_cencode">cencode</code></td>
<td>
<p>Numeric: Code to denote censored observations (Default is 0)</p>
</td></tr>
<tr><td><code id="getFineGrayWeights_+3A_failcode">failcode</code></td>
<td>
<p>Numeric: Code to denote event of interest (Default is 1)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that returns both an object of class <code>Surv</code> that forces in the competing risks indicators and a vector of weights needed for parameter estimation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ftime &lt;- c(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
fstatus &lt;- c(1, 2, 0, 1, 2, 0, 1, 2, 0, 1)
getFineGrayWeights(ftime, fstatus, cencode = 0, failcode = 1)
</code></pre>

<hr>
<h2 id='getFloatingPointSize'>Get floating point size</h2><span id='topic+getFloatingPointSize'></span>

<h3>Description</h3>

<p><code>getFloatingPointSize</code> returns the floating-point representation size in a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFloatingPointSize(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFloatingPointSize_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
</table>

<hr>
<h2 id='getHyperParameter'>Get hyperparameter</h2><span id='topic+getHyperParameter'></span>

<h3>Description</h3>

<p><code>getHyperParameter</code> returns the current hyper parameter in a Cyclops model fit object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getHyperParameter(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getHyperParameter_+3A_object">object</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate some simulated data:
sim &lt;- simulateCyclopsData(nstrata = 1, nrows = 1000, ncovars = 2, eCovarsPerRow = 0.5, 
                           model = "poisson")
cyclopsData &lt;- convertToCyclopsData(sim$outcomes, sim$covariates, modelType = "pr", 
                                    addIntercept = TRUE)

#Define the prior and control objects to use cross-validation for finding the 
#optimal hyperparameter:
prior &lt;- createPrior("laplace", exclude = 0, useCrossValidation = TRUE)
control &lt;- createControl(cvType = "auto", noiseLevel = "quiet")

#Fit the model
fit &lt;- fitCyclopsModel(cyclopsData,prior = prior, control = control)  

#Find out what the optimal hyperparameter was:
getHyperParameter(fit)

#Extract the current log-likelihood, and coefficients
logLik(fit)
coef(fit)

#We can only retrieve the confidence interval for unregularized coefficients:
confint(fit, c(0))
</code></pre>

<hr>
<h2 id='getNumberOfCovariates'>Get total number of covariates</h2><span id='topic+getNumberOfCovariates'></span>

<h3>Description</h3>

<p><code>getNumberOfCovariates</code> returns the total number of covariates in a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNumberOfCovariates(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNumberOfCovariates_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
</table>

<hr>
<h2 id='getNumberOfRows'>Get total number of rows</h2><span id='topic+getNumberOfRows'></span>

<h3>Description</h3>

<p><code>getNumberOfRows</code> returns the total number of outcome rows in a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNumberOfRows(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNumberOfRows_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
</table>

<hr>
<h2 id='getNumberOfStrata'>Get number of strata</h2><span id='topic+getNumberOfStrata'></span>

<h3>Description</h3>

<p><code>getNumberOfStrata</code> return the number of unique strata in a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNumberOfStrata(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNumberOfStrata_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
</table>

<hr>
<h2 id='getNumberOfTypes'>Get total number of outcome types</h2><span id='topic+getNumberOfTypes'></span>

<h3>Description</h3>

<p><code>getNumberOfTypes</code> returns the total number of outcome types in a Cyclops data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNumberOfTypes(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNumberOfTypes_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
</table>

<hr>
<h2 id='getSEs'>Extract standard errors</h2><span id='topic+getSEs'></span>

<h3>Description</h3>

<p><code>getSEs</code> extracts asymptotic standard errors for specific covariates from a Cyclops model fit object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSEs(object, covariates)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSEs_+3A_object">object</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
<tr><td><code id="getSEs_+3A_covariates">covariates</code></td>
<td>
<p>Integer or string vector: list of covariates for which asymptotic standard errors are wanted</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function first computes the (partial) Fisher information matrix for
just the requested covariates and then returns the square root of the diagonal elements of
the inverse of the Fisher information matrix.  These are the asymptotic standard errors
when all possible covariates are included.
When the requested covariates do not equate to all coefficients in the model,
then interpretation is more challenging.
</p>


<h3>Value</h3>

<p>Vector of standard error estimates
</p>

<hr>
<h2 id='getUnivariableCorrelation'>Get univariable correlation</h2><span id='topic+getUnivariableCorrelation'></span>

<h3>Description</h3>

<p><code>getUnivariableCorrelation</code> reports covariates that have high correlation with the outcome
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getUnivariableCorrelation(cyclopsData, covariates = NULL, threshold = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getUnivariableCorrelation_+3A_cyclopsdata">cyclopsData</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
<tr><td><code id="getUnivariableCorrelation_+3A_covariates">covariates</code></td>
<td>
<p>Integer or string vector: list of covariates to report; default (NULL) implies all covariates</p>
</td></tr>
<tr><td><code id="getUnivariableCorrelation_+3A_threshold">threshold</code></td>
<td>
<p>Correlation threshold for reporting</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of covariates whose absolute correlation with the outcome is greater than or equal to the threshold
</p>

<hr>
<h2 id='getUnivariableSeparability'>Get univariable linear separability</h2><span id='topic+getUnivariableSeparability'></span>

<h3>Description</h3>

<p><code>getUnivariableSeparability</code> reports covariates that are univariably separable with the outcome
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getUnivariableSeparability(cyclopsData, covariates = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getUnivariableSeparability_+3A_cyclopsdata">cyclopsData</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
<tr><td><code id="getUnivariableSeparability_+3A_covariates">covariates</code></td>
<td>
<p>Integer or string vector: list of covariates to report; default (NULL) implies all covariates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of covariates that are univariably separable with the outcome
</p>

<hr>
<h2 id='isInitialized'>Check if a Cyclops data object is initialized</h2><span id='topic+isInitialized'></span>

<h3>Description</h3>

<p><code>isInitialized</code> determines if an Cyclops data object is properly
initialized and remains in memory.  Cyclops data objects do not
serialized/deserialize their back-end memory across R sessions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isInitialized(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isInitialized_+3A_object">object</code></td>
<td>
<p>Cyclops data object to test</p>
</td></tr>
</table>

<hr>
<h2 id='listGPUDevices'>List available GPU devices</h2><span id='topic+listGPUDevices'></span>

<h3>Description</h3>

<p><code>listGPUDevices</code> list available GPU devices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listGPUDevices()
</code></pre>

<hr>
<h2 id='logLik.cyclopsFit'>Extract log-likelihood</h2><span id='topic+logLik.cyclopsFit'></span>

<h3>Description</h3>

<p><code>logLik</code> returns the current log-likelihood of the fit in a Cyclops model fit object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsFit'
logLik(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logLik.cyclopsFit_+3A_object">object</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
<tr><td><code id="logLik.cyclopsFit_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate some simulated data:
sim &lt;- simulateCyclopsData(nstrata = 1, nrows = 1000, ncovars = 2, eCovarsPerRow = 0.5, 
                           model = "poisson")
cyclopsData &lt;- convertToCyclopsData(sim$outcomes, sim$covariates, modelType = "pr", 
                                    addIntercept = TRUE)

#Define the prior and control objects to use cross-validation for finding the 
#optimal hyperparameter:
prior &lt;- createPrior("laplace", exclude = 0, useCrossValidation = TRUE)
control &lt;- createControl(cvType = "auto", noiseLevel = "quiet")

#Fit the model
fit &lt;- fitCyclopsModel(cyclopsData,prior = prior, control = control)  

#Find out what the optimal hyperparameter was:
getHyperParameter(fit)

#Extract the current log-likelihood, and coefficients
logLik(fit)
coef(fit)

#We can only retrieve the confidence interval for unregularized coefficients:
confint(fit, c(0))
</code></pre>

<hr>
<h2 id='meanLinearPredictor'>Calculates xbar*beta</h2><span id='topic+meanLinearPredictor'></span>

<h3>Description</h3>

<p><code>meanLinearPredictor</code> computes xbar*beta for model fit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanLinearPredictor(cyclopsFit)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanLinearPredictor_+3A_cyclopsfit">cyclopsFit</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
</table>

<hr>
<h2 id='mse'>Mean squared error</h2><span id='topic+mse'></span>

<h3>Description</h3>

<p><code>mse</code> computes the mean squared error between two numeric vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mse(goldStandard, estimates)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mse_+3A_goldstandard">goldStandard</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="mse_+3A_estimates">estimates</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>MSE(<code>goldStandard</code>, <code>estimates</code>)
</p>

<hr>
<h2 id='Multitype'>Create a multitype outcome object</h2><span id='topic+Multitype'></span>

<h3>Description</h3>

<p><code>Multitype</code> creates a multitype outcome object, usually used as a response variable in a
hierarchical Cyclops model fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Multitype(y, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Multitype_+3A_y">y</code></td>
<td>
<p>Numeric: Response count(s)</p>
</td></tr>
<tr><td><code id="Multitype_+3A_type">type</code></td>
<td>
<p>Numeric or factor: Response type</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>Multitype</code> with length equal to the length of <code>y</code> and <code>type</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Multitype(c(0,1,0), as.factor(c("A","A","B")))

</code></pre>

<hr>
<h2 id='oxford'>Oxford self-controlled case series data</h2><span id='topic+oxford'></span>

<h3>Description</h3>

<p>A dataset containing the MMR vaccination / meningitis in Oxford example from
Farrington and Whitaker.  There are 10 patients comprising 38 unique exposure intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(oxford)
</code></pre>


<h3>Format</h3>

<p>A data frame with 38 rows and 6 variables:
</p>

<dl>
<dt>indiv</dt><dd><p>patient identifier</p>
</dd>
<dt>event</dt><dd><p>number of events in interval</p>
</dd>
<dt>interval</dt><dd><p>interval length in days</p>
</dd>
<dt>agegr</dt><dd><p>age group</p>
</dd>
<dt>exgr</dt><dd><p>exposure group</p>
</dd>
<dt>loginterval</dt><dd><p>log interval length</p>
</dd>
</dl>
<p>...

</p>

<hr>
<h2 id='plotCyclopsSimulationFit'>Plot Cyclops simulation model fit</h2><span id='topic+plotCyclopsSimulationFit'></span>

<h3>Description</h3>

<p><code>plotCyclopsSimulationFit</code> generates a plot that compares <code>goldStandard</code> coefficients to their
Cyclops model <code>fit</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCyclopsSimulationFit(fit, goldStandard, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCyclopsSimulationFit_+3A_fit">fit</code></td>
<td>
<p>A Cyclops simulation fit generated by <code>fitCyclopsSimulation</code></p>
</td></tr>
<tr><td><code id="plotCyclopsSimulationFit_+3A_goldstandard">goldStandard</code></td>
<td>
<p>Numeric vector.  True relative risks.</p>
</td></tr>
<tr><td><code id="plotCyclopsSimulationFit_+3A_label">label</code></td>
<td>
<p>String. Name of estimate type.</p>
</td></tr>
</table>

<hr>
<h2 id='predict.cyclopsFit'>Model predictions</h2><span id='topic+predict.cyclopsFit'></span>

<h3>Description</h3>

<p><code>predict.cyclopsFit</code> computes model response-scale predictive values for all data rows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsFit'
predict(object, newOutcomes, newCovariates, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.cyclopsFit_+3A_object">object</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
<tr><td><code id="predict.cyclopsFit_+3A_newoutcomes">newOutcomes</code></td>
<td>
<p>An optional data frame or Andromeda table object, similar to the object used in <code><a href="#topic+convertToCyclopsData">convertToCyclopsData</a></code>.</p>
</td></tr>
<tr><td><code id="predict.cyclopsFit_+3A_newcovariates">newCovariates</code></td>
<td>
<p>An optional data frame or Andromeda table object, similar to the object used in <code><a href="#topic+convertToCyclopsData">convertToCyclopsData</a></code>.</p>
</td></tr>
<tr><td><code id="predict.cyclopsFit_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>

<hr>
<h2 id='print.cyclopsData'>Print a Cyclops data object</h2><span id='topic+print.cyclopsData'></span>

<h3>Description</h3>

<p><code>print.cyclopsData</code> displays information about a Cyclops data model object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsData'
print(x, show.call = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.cyclopsData_+3A_x">x</code></td>
<td>
<p>A Cyclops data model object</p>
</td></tr>
<tr><td><code id="print.cyclopsData_+3A_show.call">show.call</code></td>
<td>
<p>Logical: display last call to construct the Cyclops data model object</p>
</td></tr>
<tr><td><code id="print.cyclopsData_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>

<hr>
<h2 id='print.cyclopsFit'>Print a Cyclops model fit object</h2><span id='topic+print.cyclopsFit'></span>

<h3>Description</h3>

<p><code>print.cyclopsFit</code> displays information about a Cyclops model fit object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsFit'
print(x, show.call = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.cyclopsFit_+3A_x">x</code></td>
<td>
<p>A Cyclops model fit object</p>
</td></tr>
<tr><td><code id="print.cyclopsFit_+3A_show.call">show.call</code></td>
<td>
<p>Logical: display last call to update the Cyclops model fit object</p>
</td></tr>
<tr><td><code id="print.cyclopsFit_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>

<hr>
<h2 id='printMatrixMarket'>Print Cyclops data matrix to file</h2><span id='topic+printMatrixMarket'></span>

<h3>Description</h3>

<p><code>printMatrixMarket</code> prints the data matrix to a file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>printMatrixMarket(object, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="printMatrixMarket_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
<tr><td><code id="printMatrixMarket_+3A_file">file</code></td>
<td>
<p>Filename</p>
</td></tr>
</table>

<hr>
<h2 id='readCyclopsData'>Read Cyclops data from file</h2><span id='topic+readCyclopsData'></span>

<h3>Description</h3>

<p><code>readCyclopsData</code> reads a Cyclops-formatted text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readCyclopsData(fileName, modelType)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readCyclopsData_+3A_filename">fileName</code></td>
<td>
<p>Name of text file to be read. If fileName does not contain an absolute path,</p>
</td></tr>
<tr><td><code id="readCyclopsData_+3A_modeltype">modelType</code></td>
<td>
<p>character string: Valid types are listed below.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function reads a Cyclops-formatted text file and returns a Cyclops data object. The first line of the
file may start with '&lsquo;<span class="samp">&#8288;#&#8288;</span>&rsquo;', indicating that it contains header options.  Valid header options are:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	row_label&#8288;</code>		</td><td style="text-align: left;"> (assume file contains a numeric column of unique row identifiers) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	stratum_label&#8288;</code></td><td style="text-align: left;"> (assume file contains a numeric column of stratum identifiers) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	weight&#8288;</code>				</td><td style="text-align: left;"> (assume file contains a column of row-specific model weights, currently unused) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	offset&#8288;</code>				</td><td style="text-align: left;"> (assume file contains a dense column of linear predictor offsets) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	bbr_outcome&#8288;</code>	</td><td style="text-align: left;"> (assume logistic outcomes are encoded -1/+1 following BBR) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	log_offset&#8288;</code>		</td><td style="text-align: left;"> (assume file contains a dense column of values x_i for which log(x_i) is the offset) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	add_intercept&#8288;</code></td><td style="text-align: left;"> (automatically include an intercept column of all 1s for each entry) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	indicator_only&#8288;</code></td><td style="text-align: left;">(assume all covariates 0/1-valued and only covariate name is given) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	sparse&#8288;</code>				</td><td style="text-align: left;"> (force all BBR formatted covariates to be represented as sparse, instead of </td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> sparse-indicator, columns .. really only for debugging) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	dense&#8288;</code>				</td><td style="text-align: left;"> (force all BBR formatted covariates to be represented as dense columns.. really</td>
</tr>
<tr>
 <td style="text-align: left;">
</td><td style="text-align: left;"> only for debugging) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Successive lines of the file are white-space delimited and follow the format:
</p>
<pre>	[Row ID] {Stratum ID} [Weight] &lt;Outcome&gt; {Censored} {Offset} &lt;BBR covariates&gt;</pre>

<ul>
<li> <p><code style="white-space: pre;">&#8288;[optional]&#8288;</code>
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;required&gt;&#8288;</code>
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;{required or optional depending on model}&#8288;</code>
</p>
</li></ul>

<p>Bayesian binary regression (BBR) covariates are white-space delimited and generally in a sparse
&lsquo;<span class="samp">&#8288;&lt;name&gt;:&lt;value&gt;&#8288;</span>&rsquo; format, where &lsquo;<span class="samp">&#8288;name&#8288;</span>&rsquo; must (currently) be numeric and &lsquo;<span class="samp">&#8288;value&#8288;</span>&rsquo; is non-zero.
If option &lsquo;<span class="samp">&#8288;indicator_only&#8288;</span>&rsquo; is specified, then format is simply &lsquo;<span class="samp">&#8288;&lt;name&gt;&#8288;</span>&rsquo;.
&lsquo;<span class="samp">&#8288;Row ID&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;Stratum ID&#8288;</span>&rsquo; must be numeric, and rows must be sorted such that equal &lsquo;<span class="samp">&#8288;Stratum ID&#8288;</span>&rsquo;
are consecutive.
&lsquo;<span class="samp">&#8288;Stratum ID&#8288;</span>&rsquo; is required for &lsquo;<span class="samp">&#8288;clr&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;sccs&#8288;</span>&rsquo; models.
&lsquo;<span class="samp">&#8288;Censored&#8288;</span>&rsquo; is required for a &lsquo;<span class="samp">&#8288;cox&#8288;</span>&rsquo; model.
&lsquo;<span class="samp">&#8288;Offset&#8288;</span>&rsquo; is (currently) required for a &lsquo;<span class="samp">&#8288;sccs&#8288;</span>&rsquo; model.
</p>


<h3>Value</h3>

<p>A list that contains a Cyclops model data object pointer and an operation duration
</p>


<h3>Models</h3>

<p>Currently supported model types are:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"ls"&#8288;</code> </td><td style="text-align: left;"> Least squares </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"pr"&#8288;</code> </td><td style="text-align: left;"> Poisson regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"lr"&#8288;</code> </td><td style="text-align: left;"> Logistic regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"clr"&#8288;</code> </td><td style="text-align: left;"> Conditional logistic regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"cpr"&#8288;</code> </td><td style="text-align: left;"> Conditional Poisson regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"sccs"&#8288;</code> </td><td style="text-align: left;"> Self-controlled case series </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"cox"&#8288;</code> </td><td style="text-align: left;"> Cox proportional hazards regression </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;	"fgr"&#8288;</code> </td><td style="text-align: left;"> Fine-Gray proportional subdistribution hazards regression </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dataPtr = readCyclopsData(system.file("extdata/infert_ccd.txt", package="Cyclops"), "clr")

## End(Not run)
</code></pre>

<hr>
<h2 id='reduce'>Apply simple data reductions</h2><span id='topic+reduce'></span>

<h3>Description</h3>

<p><code>reduce</code> reports the count of non-zero elements, sum and sum-of-squares for specified covariates in a Cyclops data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reduce(object, covariates, groupBy, power = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reduce_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
<tr><td><code id="reduce_+3A_covariates">covariates</code></td>
<td>
<p>Integer or string vector: list of covariates to report</p>
</td></tr>
<tr><td><code id="reduce_+3A_groupby">groupBy</code></td>
<td>
<p>Integer or string (optional): generates a segmented reduction stratified by this covariate.  Setting <code>groupBy = "stratum"</code> segments reduction for strataID</p>
</td></tr>
<tr><td><code id="reduce_+3A_power">power</code></td>
<td>
<p>Integer: 0 = non-zero count, 1 = sum, 2 = sum-of-squares</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Specified reduction as number or <code>data.frame</code> if segmented.
</p>

<hr>
<h2 id='runBootstrap'>Run Bootstrap for Cyclops model parameter</h2><span id='topic+runBootstrap'></span>

<h3>Description</h3>

<p>Run Bootstrap for Cyclops model parameter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runBootstrap(object, outFileName, treatmentId, replicates)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runBootstrap_+3A_object">object</code></td>
<td>
<p>A fitted Cyclops model object</p>
</td></tr>
<tr><td><code id="runBootstrap_+3A_outfilename">outFileName</code></td>
<td>
<p>Character: Output file name</p>
</td></tr>
<tr><td><code id="runBootstrap_+3A_treatmentid">treatmentId</code></td>
<td>
<p>Character: variable to output</p>
</td></tr>
<tr><td><code id="runBootstrap_+3A_replicates">replicates</code></td>
<td>
<p>Numeric: number of bootstrap samples</p>
</td></tr>
</table>

<hr>
<h2 id='setOpenCLDevice'>Set GPU device</h2><span id='topic+setOpenCLDevice'></span>

<h3>Description</h3>

<p><code>setOpenCLDevice</code> set GPU device
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setOpenCLDevice(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setOpenCLDevice_+3A_name">name</code></td>
<td>
<p>String: Name of GPU device</p>
</td></tr>
</table>

<hr>
<h2 id='simulateCyclopsData'>Simulation Cyclops dataset</h2><span id='topic+simulateCyclopsData'></span>

<h3>Description</h3>

<p><code>simulateCyclopsData</code> generates a simulated large, sparse data set for use by <code>fitCyclopsSimulation</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulateCyclopsData(
  nstrata = 200,
  nrows = 10000,
  ncovars = 20,
  effectSizeSd = 1,
  zeroEffectSizeProp = 0.9,
  eCovarsPerRow = ncovars/100,
  model = "survival"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulateCyclopsData_+3A_nstrata">nstrata</code></td>
<td>
<p>Numeric: Number of strata</p>
</td></tr>
<tr><td><code id="simulateCyclopsData_+3A_nrows">nrows</code></td>
<td>
<p>Numeric: Number of observation rows</p>
</td></tr>
<tr><td><code id="simulateCyclopsData_+3A_ncovars">ncovars</code></td>
<td>
<p>Numeric: Number of covariates</p>
</td></tr>
<tr><td><code id="simulateCyclopsData_+3A_effectsizesd">effectSizeSd</code></td>
<td>
<p>Numeric: Standard derivation of the non-zero simulated regression coefficients</p>
</td></tr>
<tr><td><code id="simulateCyclopsData_+3A_zeroeffectsizeprop">zeroEffectSizeProp</code></td>
<td>
<p>Numeric: Expected proportion of zero effect size</p>
</td></tr>
<tr><td><code id="simulateCyclopsData_+3A_ecovarsperrow">eCovarsPerRow</code></td>
<td>
<p>Number: Effective number of non-zero covariates per data row</p>
</td></tr>
<tr><td><code id="simulateCyclopsData_+3A_model">model</code></td>
<td>
<p>String: Simulation model. Choices are: <code>logistic</code>, <code>poisson</code> or <code>survival</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A simulated data set
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Generate some simulated data:
sim &lt;- simulateCyclopsData(nstrata = 1, nrows = 1000, ncovars = 2, eCovarsPerRow = 0.5, 
                           model = "poisson")
cyclopsData &lt;- convertToCyclopsData(sim$outcomes, sim$covariates, modelType = "pr", 
                                    addIntercept = TRUE)

#Define the prior and control objects to use cross-validation for finding the 
#optimal hyperparameter:
prior &lt;- createPrior("laplace", exclude = 0, useCrossValidation = TRUE)
control &lt;- createControl(cvType = "auto", noiseLevel = "quiet")

#Fit the model
fit &lt;- fitCyclopsModel(cyclopsData,prior = prior, control = control)  

#Find out what the optimal hyperparameter was:
getHyperParameter(fit)

#Extract the current log-likelihood, and coefficients
logLik(fit)
coef(fit)

#We can only retrieve the confidence interval for unregularized coefficients:
confint(fit, c(0))
</code></pre>

<hr>
<h2 id='splitTime'>Split the analysis time into several intervals for time-varying coefficients.</h2><span id='topic+splitTime'></span>

<h3>Description</h3>

<p><code>splitTime</code> split the analysis time into several intervals for time-varying coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitTime(shortOut, cut)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitTime_+3A_shortout">shortOut</code></td>
<td>
<p>A data frame containing the outcomes with predefined columns (see below).</p>
</td></tr>
<tr><td><code id="splitTime_+3A_cut">cut</code></td>
<td>
<p>Numeric: Time points to cut at
</p>
<p>These columns are expected in the shortOut object:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;rowId&#8288;</code>   </td><td style="text-align: left;">(integer) </td><td style="text-align: left;"> Row ID is used to link multiple covariates (x) to a single outcome (y) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;y&#8288;</code>       </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> Observed event status </td>
</tr>
<tr>
 <td style="text-align: left;">
<code style="white-space: pre;">&#8288;time&#8288;</code>    </td><td style="text-align: left;">(real) </td><td style="text-align: left;"> Observed event time </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>
</td></tr>
</table>


<h3>Value</h3>

<p>A long outcome table for time-varying coefficients.
</p>

<hr>
<h2 id='summary.cyclopsData'>Cyclops data object summary</h2><span id='topic+summary.cyclopsData'></span>

<h3>Description</h3>

<p><code>summary.cyclopsData</code> summarizes the data held in an Cyclops data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsData'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.cyclopsData_+3A_object">object</code></td>
<td>
<p>A Cyclops data object</p>
</td></tr>
<tr><td><code id="summary.cyclopsData_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> that reports simply summarize statistics for each covariate in a Cyclops data object.
</p>

<hr>
<h2 id='survfit.cyclopsFit'>Calculate baseline hazard function</h2><span id='topic+survfit.cyclopsFit'></span>

<h3>Description</h3>

<p><code>survfit.cyclopsFit</code> computes baseline hazard function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsFit'
survfit(formula, type = "aalen", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survfit.cyclopsFit_+3A_formula">formula</code></td>
<td>
<p>A Cyclops survival model fit object</p>
</td></tr>
<tr><td><code id="survfit.cyclopsFit_+3A_type">type</code></td>
<td>
<p>type of baseline survival, choices are: &quot;aalen&quot; (Breslow)</p>
</td></tr>
<tr><td><code id="survfit.cyclopsFit_+3A_...">...</code></td>
<td>
<p>for future methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Baseline survival function for mean covariates
</p>

<hr>
<h2 id='vcov.cyclopsFit'>Calculate variance-covariance matrix for a fitted Cyclops model object</h2><span id='topic+vcov.cyclopsFit'></span>

<h3>Description</h3>

<p><code>vcov.cyclopsFit</code> returns the variance-covariance matrix for all covariates of a Cyclops model object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cyclopsFit'
vcov(object, control, overrideNoRegularization = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcov.cyclopsFit_+3A_object">object</code></td>
<td>
<p>A fitted Cyclops model object</p>
</td></tr>
<tr><td><code id="vcov.cyclopsFit_+3A_control">control</code></td>
<td>
<p>A <code>"cyclopsControl"</code> object constructed by <code><a href="#topic+createControl">createControl</a></code></p>
</td></tr>
<tr><td><code id="vcov.cyclopsFit_+3A_overridenoregularization">overrideNoRegularization</code></td>
<td>
<p>Logical: Enable variance-covariance estimation for regularized parameters</p>
</td></tr>
<tr><td><code id="vcov.cyclopsFit_+3A_...">...</code></td>
<td>
<p>Additional argument(s) for methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of the estimates covariances between all covariate estimates.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

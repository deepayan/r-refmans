<!DOCTYPE html><html><head><title>Help for package rco</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rco}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#all_optimizers'><p>All optimizers list.</p></a></li>
<li><a href='#max_optimizers'><p>Max optimizers list.</p></a></li>
<li><a href='#opt_common_subexpr'><p>Optimizer: Common Subexpression Elimination.</p></a></li>
<li><a href='#opt_constant_folding'><p>Optimizer: Constant Folding.</p></a></li>
<li><a href='#opt_constant_propagation'><p>Optimizer: Constant Propagation.</p></a></li>
<li><a href='#opt_dead_code'><p>Optimizer: Dead Code Elimination.</p></a></li>
<li><a href='#opt_dead_expr'><p>Optimizer: Dead Expression Elimination.</p></a></li>
<li><a href='#opt_dead_store'><p>Optimizer: Dead Store Elimination.</p></a></li>
<li><a href='#opt_loop_invariant'><p>Optimizer: Loop-invariant Code Motion.</p></a></li>
<li><a href='#optimize_files'><p>Optimize '.R' files.</p></a></li>
<li><a href='#optimize_folder'><p>Optimize a folder with '.R' files.</p></a></li>
<li><a href='#optimize_text'><p>Optimize text containing code.</p></a></li>
<li><a href='#rco_gui'><p>rco GUI selector.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>The R Code Optimizer</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Juan Cruz Rodriguez &lt;jcrodriguez@unc.edu.ar&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Automatically apply different strategies to optimize R code. 
    'rco' functions take R code as input, and returns R code as output.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://jcrodriguez1989.github.io/rco/">https://jcrodriguez1989.github.io/rco/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jcrodriguez1989/rco/issues">https://github.com/jcrodriguez1989/rco/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, diffr, ggplot2, httr, knitr, markdown, microbenchmark,
rmarkdown, rstudioapi, rvest, shiny, shinythemes, testthat,
xml2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-17 13:37:11 UTC; jcrodriguez</td>
</tr>
<tr>
<td>Author:</td>
<td>Juan Cruz Rodriguez [aut, cre],
  Yihui Xie <a href="https://orcid.org/0000-0003-0645-5666"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Nicol√°s Wolovick [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-17 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='all_optimizers'>All optimizers list.</h2><span id='topic+all_optimizers'></span>

<h3>Description</h3>

<p>List of all the optimizer functions:
</p>

<ul>
<li><p> Constant Folding <code><a href="#topic+opt_constant_folding">opt_constant_folding</a></code>
</p>
</li>
<li><p> Constant Propagation <code><a href="#topic+opt_constant_propagation">opt_constant_propagation</a></code>
</p>
</li>
<li><p> Dead Code Elimination <code><a href="#topic+opt_dead_code">opt_dead_code</a></code>
</p>
</li>
<li><p> Dead Store Elimination <code><a href="#topic+opt_dead_store">opt_dead_store</a></code>
</p>
</li>
<li><p> Dead Expression Elimination <code><a href="#topic+opt_dead_expr">opt_dead_expr</a></code>
</p>
</li>
<li><p> Common Subexpression Elimination <code><a href="#topic+opt_common_subexpr">opt_common_subexpr</a></code>
</p>
</li>
<li><p> Loop-invariant Code Motion <code><a href="#topic+opt_loop_invariant">opt_loop_invariant</a></code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>all_optimizers
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 7.
</p>

<hr>
<h2 id='max_optimizers'>Max optimizers list.</h2><span id='topic+max_optimizers'></span>

<h3>Description</h3>

<p>List of all the optimizer functions, with maximum optimization techniques
enabled.
Note that using this optimizers could change the semantics of the program!
</p>

<ul>
<li><p> Constant Folding <code><a href="#topic+opt_constant_folding">opt_constant_folding</a></code>
</p>
</li>
<li><p> Constant Propagation <code><a href="#topic+opt_constant_propagation">opt_constant_propagation</a></code>
</p>
</li>
<li><p> Dead Code Elimination <code><a href="#topic+opt_dead_code">opt_dead_code</a></code>
</p>
</li>
<li><p> Dead Store Elimination <code><a href="#topic+opt_dead_store">opt_dead_store</a></code>
</p>
</li>
<li><p> Dead Expression Elimination <code><a href="#topic+opt_dead_expr">opt_dead_expr</a></code>
</p>
</li>
<li><p> Common Subexpression Elimination <code><a href="#topic+opt_common_subexpr">opt_common_subexpr</a></code>
</p>
</li>
<li><p> Loop-invariant Code Motion <code><a href="#topic+opt_loop_invariant">opt_loop_invariant</a></code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>max_optimizers
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 7.
</p>

<hr>
<h2 id='opt_common_subexpr'>Optimizer: Common Subexpression Elimination.</h2><span id='topic+opt_common_subexpr'></span>

<h3>Description</h3>

<p>Performs one common subexpression elimination pass.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_common_subexpr(texts, n_values = 2, in_fun_call = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_common_subexpr_+3A_texts">texts</code></td>
<td>
<p>A list of character vectors with the code to optimize.</p>
</td></tr>
<tr><td><code id="opt_common_subexpr_+3A_n_values">n_values</code></td>
<td>
<p>A numeric indicating the minimum number of values to consider
a subexpression.</p>
</td></tr>
<tr><td><code id="opt_common_subexpr_+3A_in_fun_call">in_fun_call</code></td>
<td>
<p>A logical indicating whether it should propagate in
function calls. Note: this could change the semantics of the program.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>code &lt;- paste(
  "a &lt;- b * c + g",
  "d = b * c * e",
  sep = "\n"
)
cat(opt_common_subexpr(list(code))$codes[[1]])
</code></pre>

<hr>
<h2 id='opt_constant_folding'>Optimizer: Constant Folding.</h2><span id='topic+opt_constant_folding'></span>

<h3>Description</h3>

<p>Performs one constant folding pass.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_constant_folding(texts, fold_floats = FALSE, in_fun_call = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_constant_folding_+3A_texts">texts</code></td>
<td>
<p>A list of character vectors with the code to optimize.</p>
</td></tr>
<tr><td><code id="opt_constant_folding_+3A_fold_floats">fold_floats</code></td>
<td>
<p>A logical indicating if floating-point results should be
folded (will reduce precision).</p>
</td></tr>
<tr><td><code id="opt_constant_folding_+3A_in_fun_call">in_fun_call</code></td>
<td>
<p>A logical indicating whether it should propagate in
function calls. Note: this could change the semantics of the program.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>code &lt;- paste(
  "i &lt;- 320 * 200 * 32",
  "x &lt;- i * 20 + 100",
  sep = "\n"
)
cat(opt_constant_folding(list(code))$codes[[1]])
</code></pre>

<hr>
<h2 id='opt_constant_propagation'>Optimizer: Constant Propagation.</h2><span id='topic+opt_constant_propagation'></span>

<h3>Description</h3>

<p>Performs one constant propagation pass.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_constant_propagation(texts, in_fun_call = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_constant_propagation_+3A_texts">texts</code></td>
<td>
<p>A list of character vectors with the code to optimize.</p>
</td></tr>
<tr><td><code id="opt_constant_propagation_+3A_in_fun_call">in_fun_call</code></td>
<td>
<p>A logical indicating whether it should propagate in
function calls. Note: this could change the semantics of the program.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>code &lt;- paste(
  "i &lt;- 170",
  "x &lt;- -170",
  "y &lt;- x + 124",
  "z &lt;- i - 124",
  sep = "\n"
)
cat(opt_constant_propagation(list(code))$codes[[1]])
</code></pre>

<hr>
<h2 id='opt_dead_code'>Optimizer: Dead Code Elimination.</h2><span id='topic+opt_dead_code'></span>

<h3>Description</h3>

<p>Performs one dead code elimination pass.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_dead_code(texts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_dead_code_+3A_texts">texts</code></td>
<td>
<p>A list of character vectors with the code to optimize.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>code &lt;- paste(
  "while (TRUE) {",
  "  break",
  "  dead_code()",
  "}",
  sep = "\n"
)
cat(opt_dead_code(list(code))$codes[[1]])
</code></pre>

<hr>
<h2 id='opt_dead_expr'>Optimizer: Dead Expression Elimination.</h2><span id='topic+opt_dead_expr'></span>

<h3>Description</h3>

<p>Performs one dead expression elimination pass.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_dead_expr(texts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_dead_expr_+3A_texts">texts</code></td>
<td>
<p>A list of character vectors with the code to optimize.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>code &lt;- paste(
  "foo &lt;- function(x) {",
  "  x ^ 3",
  "  return(x ^ 3)",
  "}",
  sep = "\n"
)
cat(opt_dead_expr(list(code))$codes[[1]])
</code></pre>

<hr>
<h2 id='opt_dead_store'>Optimizer: Dead Store Elimination.</h2><span id='topic+opt_dead_store'></span>

<h3>Description</h3>

<p>Performs one dead store elimination pass.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_dead_store(texts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_dead_store_+3A_texts">texts</code></td>
<td>
<p>A list of character vectors with the code to optimize.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>code &lt;- paste(
  "foo &lt;- function() {",
  "  x &lt;- 128 ^ 2",
  "  return(TRUE)",
  "}",
  sep = "\n"
)
cat(opt_dead_store(list(code))$codes[[1]])
</code></pre>

<hr>
<h2 id='opt_loop_invariant'>Optimizer: Loop-invariant Code Motion.</h2><span id='topic+opt_loop_invariant'></span>

<h3>Description</h3>

<p>Performs one loop-invariant code motion pass.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_loop_invariant(texts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt_loop_invariant_+3A_texts">texts</code></td>
<td>
<p>A list of character vectors with the code to optimize.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>code &lt;- paste(
  "i &lt;- 0",
  "while (i &lt; n) {",
  "  x &lt;- y + z",
  "  a[i] &lt;- 6 * i + x * x",
  "  i &lt;- i + 1",
  "}",
  sep = "\n"
)
cat(opt_loop_invariant(list(code))$codes[[1]])
</code></pre>

<hr>
<h2 id='optimize_files'>Optimize '.R' files.</h2><span id='topic+optimize_files'></span>

<h3>Description</h3>

<p>Performs the desired optimization strategies in the files specified.
Carefully examine the results after running this function!
If several files interact between them (functions from one file use
functions from the other), then optimizing all of them together gives more
information to rco.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimize_files(
  files,
  optimizers = all_optimizers,
  overwrite = FALSE,
  iterations = Inf
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimize_files_+3A_files">files</code></td>
<td>
<p>A character vector with paths to files to optimize.</p>
</td></tr>
<tr><td><code id="optimize_files_+3A_optimizers">optimizers</code></td>
<td>
<p>A named list of optimizer functions.</p>
</td></tr>
<tr><td><code id="optimize_files_+3A_overwrite">overwrite</code></td>
<td>
<p>A logical indicating if files should be overwritten, or
saved into new files with &quot;optimized_&quot; prefix.</p>
</td></tr>
<tr><td><code id="optimize_files_+3A_iterations">iterations</code></td>
<td>
<p>Numeric indicating the number of times optimizers should
pass. If there was no change after current pass, it will stop.</p>
</td></tr>
</table>

<hr>
<h2 id='optimize_folder'>Optimize a folder with '.R' files.</h2><span id='topic+optimize_folder'></span>

<h3>Description</h3>

<p>Performs the desired optimization strategies in all the '.R' in a directory.
Carefully examine the results after running this function!
If several files interact between them (functions from one file use
functions from the other), then optimizing all of them together gives more
information to rco.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimize_folder(
  folder,
  optimizers = all_optimizers,
  overwrite = FALSE,
  iterations = Inf,
  pattern = "\\.R$",
  recursive = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimize_folder_+3A_folder">folder</code></td>
<td>
<p>Path to a directory with files to optimize.</p>
</td></tr>
<tr><td><code id="optimize_folder_+3A_optimizers">optimizers</code></td>
<td>
<p>A named list of optimizer functions.</p>
</td></tr>
<tr><td><code id="optimize_folder_+3A_overwrite">overwrite</code></td>
<td>
<p>A logical indicating if files should be overwritten, or
saved into new files with &quot;optimized_&quot; prefix.</p>
</td></tr>
<tr><td><code id="optimize_folder_+3A_iterations">iterations</code></td>
<td>
<p>Numeric indicating the number of times optimizers should
pass. If there was no change after current pass, it will stop.</p>
</td></tr>
<tr><td><code id="optimize_folder_+3A_pattern">pattern</code></td>
<td>
<p>An optional regular expression. Only file names which match
the regular expression will be optimized.</p>
</td></tr>
<tr><td><code id="optimize_folder_+3A_recursive">recursive</code></td>
<td>
<p>A logical value indicating whether or not files
in subdirectories of 'folder' should be optimized as well.</p>
</td></tr>
</table>

<hr>
<h2 id='optimize_text'>Optimize text containing code.</h2><span id='topic+optimize_text'></span>

<h3>Description</h3>

<p>Performs the desired optimization strategies in the text.
Carefully examine the results after running this function!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimize_text(text, optimizers = all_optimizers, iterations = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimize_text_+3A_text">text</code></td>
<td>
<p>A character vector with the code to optimize.</p>
</td></tr>
<tr><td><code id="optimize_text_+3A_optimizers">optimizers</code></td>
<td>
<p>A named list of optimizer functions.</p>
</td></tr>
<tr><td><code id="optimize_text_+3A_iterations">iterations</code></td>
<td>
<p>Numeric indicating the number of times optimizers should
pass. If there was no change after current pass, it will stop.</p>
</td></tr>
</table>

<hr>
<h2 id='rco_gui'>rco GUI selector.</h2><span id='topic+rco_gui'></span>

<h3>Description</h3>

<p>Starts the selected rco Graphical User Interface (GUI).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rco_gui(option)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rco_gui_+3A_option">option</code></td>
<td>
<p>A character indicating which GUI to open.
One from:
</p>

<ul>
<li><p> &quot;code_optimizer&quot; for single code optimizing.
</p>
</li>
<li><p> &quot;pkg_optimizer&quot; for package optimizing.
</p>
</li></ul>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Start the GUI
## Not run: 
rco_gui("code_optimizer")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

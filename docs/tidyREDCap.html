<!DOCTYPE html><html lang="en"><head><title>Help for package tidyREDCap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidyREDCap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#drop_label'><p>Drop the label from a variable</p></a></li>
<li><a href='#drop_labels'><p>Drop all the labels from a variable</p></a></li>
<li><a href='#import_instruments'><p>Import all instruments into individual R tables</p></a></li>
<li><a href='#make_binary_word'><p>Convert a &quot;choose all that apply&quot; Question Into a Binary Word</p></a></li>
<li><a href='#make_choose_all_table'><p>Count The Responses to a Choose All That Apply Question</p></a></li>
<li><a href='#make_choose_one_table'><p>Make a frequency table for a categorical variable</p></a></li>
<li><a href='#make_instrument'><p>Extract an Instrument from an REDCap Export</p></a></li>
<li><a href='#make_instrument_auto'><p>Extract an Instrument from an REDCap Export without specifying Variables</p></a></li>
<li><a href='#make_yes_no'><p>make_yes_no</p></a></li>
<li><a href='#make_yes_no_unknown'><p>make_yes_no_unknown</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Helper Functions for Working with 'REDCap' Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Helper functions for processing 'REDCap' data in R. 'REDCap' is a 
    web-enabled application for building and managing surveys and databases 
    developed at Vanderbilt University.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, janitor, labelVector, magrittr, purrr, REDCapR,
rlang, stringr, tibble, tidyr, tidyselect, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, redcapAPI, rmarkdown, skimr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://raymondbalise.github.io/tidyREDCap/index.html">https://raymondbalise.github.io/tidyREDCap/index.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/RaymondBalise/tidyREDCap/issues">https://github.com/RaymondBalise/tidyREDCap/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-16 18:17:10 UTC; raymondbalise</td>
</tr>
<tr>
<td>Author:</td>
<td>Raymond Balise <a href="https://orcid.org/0000-0002-9856-5901"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Gabriel Odom <a href="https://orcid.org/0000-0003-1341-4555"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Anna Calderon <a href="https://orcid.org/0000-0002-0139-3841"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Layla Bouzoubaa <a href="https://orcid.org/0000-0002-6616-0950"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Wayne DeFreitas <a href="https://orcid.org/0000-0002-2584-6278"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Lauren Nahodyl <a href="https://orcid.org/0000-0001-6241-2615"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Kyle Grealis <a href="https://orcid.org/0000-0002-9223-8854"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Raymond Balise &lt;balise@miami.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-16 19:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='drop_label'>Drop the label from a variable</h2><span id='topic+drop_label'></span>

<h3>Description</h3>

<p>There is a reported issues with joins on data (without a reprex)
that seem to be caused by the labels.  As a possible solution this can be
used to drop labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_label(df, x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop_label_+3A_df">df</code></td>
<td>
<p>the name of the data frame</p>
</td></tr>
<tr><td><code id="drop_label_+3A_x">x</code></td>
<td>
<p>the quoted name of the variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>df
</p>

<hr>
<h2 id='drop_labels'>Drop all the labels from a variable</h2><span id='topic+drop_labels'></span>

<h3>Description</h3>

<p>There is an issue with the function we are using to add column
labels.  If you run into problems processing the labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_labels(df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop_labels_+3A_df">df</code></td>
<td>
<p>The data frame with column labels that you want to drop</p>
</td></tr>
</table>


<h3>Value</h3>

<p>df without column labels
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
demographics |&gt;
  drop_labels() |&gt;
  skimr::skim()

## End(Not run)
</code></pre>

<hr>
<h2 id='import_instruments'>Import all instruments into individual R tables</h2><span id='topic+import_instruments'></span>

<h3>Description</h3>

<p>This function takes the url and key for a REDCap
project and returns a table for each instrument/form in the project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_instruments(
  url,
  token,
  drop_blank = TRUE,
  record_id = "record_id",
  first_record_id = 1,
  envir = .GlobalEnv
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="import_instruments_+3A_url">url</code></td>
<td>
<p>The API URL for your the instance of REDCap</p>
</td></tr>
<tr><td><code id="import_instruments_+3A_token">token</code></td>
<td>
<p>The API security token</p>
</td></tr>
<tr><td><code id="import_instruments_+3A_drop_blank">drop_blank</code></td>
<td>
<p>Drop records that have no data. TRUE by default.</p>
</td></tr>
<tr><td><code id="import_instruments_+3A_record_id">record_id</code></td>
<td>
<p>Name of <code>record_id</code> variable (if it was changed in REDCap).</p>
</td></tr>
<tr><td><code id="import_instruments_+3A_first_record_id">first_record_id</code></td>
<td>
<p>A value of the custom <code>record_id</code> variable (if
changed in REDCap).  To improve the speed of the import, tidyREDCap pulls
in a single record twice.  By default if uses the first record.  If you
have a custom <code>record_id</code> variable and if its the first record identifier
is not <code>1</code>,  specify a record identifier value here.  For example if you
are using <code>dude_id</code> instead of <code>record_id</code> and <code>dude_id</code> has a value of
&quot;first dude&quot; for one of its records this argument would be
<code>first_record_id = "first dude"</code>.</p>
</td></tr>
<tr><td><code id="import_instruments_+3A_envir">envir</code></td>
<td>
<p>The name of the environment where the tables should be saved.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>one <code>data.frame</code> for each instrument/form in a REDCap project. By
default the datasets are saved into the global environment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
import_instruments(
  "https://redcap.miami.edu/api/",
  Sys.getenv("test_API_key")
)

## End(Not run)
</code></pre>

<hr>
<h2 id='make_binary_word'>Convert a &quot;choose all that apply&quot; Question Into a Binary Word</h2><span id='topic+make_binary_word'></span>

<h3>Description</h3>

<p>This function takes a data frame holding binary variables with
values corresponding to a dummy-coded &quot;choose all that apply&quot; question.
It can be used for any <em>binary word</em> problem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_binary_word(df, yes_value = "Checked", the_labels = letters)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_binary_word_+3A_df">df</code></td>
<td>
<p>A data frame with the variables corresponding to binary indicators
(the dummy coded variables) for a &quot;choose all that apply&quot; question.</p>
</td></tr>
<tr><td><code id="make_binary_word_+3A_yes_value">yes_value</code></td>
<td>
<p>A character string that corresponds to choosing &quot;yes&quot;
in the binary variables of <code>df</code>. Defaults to the REDCap &quot;Checked&quot; option.</p>
</td></tr>
<tr><td><code id="make_binary_word_+3A_the_labels">the_labels</code></td>
<td>
<p>A character vector of single letters holding the letters
used to make the binary word. See the article/vignette called &quot;Make
Binary Word&quot; for an example:
<a href="https://raymondbalise.github.io/tidyREDCap/articles/makeBinaryWord.html">https://raymondbalise.github.io/tidyREDCap/articles/makeBinaryWord.html</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with length equal to the rows of <code>df</code>, including
one letter or underscore for each column of <code>df</code>. For instance, if <code>df</code>
has one column for each of the eight options of the Nacho Craving Index
example instrument (<a href="https://libguides.du.edu/c.php?g=948419&amp;p=6839916">https://libguides.du.edu/c.php?g=948419&amp;p=6839916</a>),
with a row containing the values &quot;Chips&quot; (checked), &quot;Yellow cheese&quot;
(unchecked), &quot;Orange cheese&quot; (checked), &quot;White cheese&quot; (checked), &quot;Meat&quot;
(checked), &quot;Beans&quot; (unchecked), &quot;Tomatoes&quot; (unchecked) and &quot;Peppers&quot;
(checked), then the character string corresponding to that row will be
<code>"a_cde__h"</code>. The underscores represent that the options for &quot;Yellow
cheese&quot;, &quot;Beans&quot;, and &quot;Tomatoes&quot; were left unchecked.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test_df &lt;- tibble::tibble(
  q1 = c("Unchecked", "Checked"),
  q2 = c("Unchecked", "Unchecked"),
  q3 = c("Checked", "Checked"),
  q4 = c("Checked", "Unchecked")
)
make_binary_word(test_df)
</code></pre>

<hr>
<h2 id='make_choose_all_table'>Count The Responses to a Choose All That Apply Question</h2><span id='topic+make_choose_all_table'></span>

<h3>Description</h3>

<p>This will tally the number of responses on a choose all that
apply question.  This function extracts the option name from the variable
labels.  So the data set needs to be labeled.  See
the <a href="../doc/makeChooseAllTable.html">Make a 'Choose All' Table</a> vignette
for help.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_choose_all_table(df, variable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_choose_all_table_+3A_df">df</code></td>
<td>
<p>The name of the data set (it needs labels)</p>
</td></tr>
<tr><td><code id="make_choose_all_table_+3A_variable">variable</code></td>
<td>
<p>The name of the REDCap variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A variable's response label without  the choose all the question
</p>

<hr>
<h2 id='make_choose_one_table'>Make a frequency table for a categorical variable</h2><span id='topic+make_choose_one_table'></span>

<h3>Description</h3>

<p>Pass this function either 1) a labeled factor or 2)
a data frame and also
a factor in the frame, and it will return a <code>janitor</code>-style table.
Use subset = TRUE if you are making a report on a variable that is part of
a <em>choose all that apply</em> question.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_choose_one_table(arg1, arg2, subset = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_choose_one_table_+3A_arg1">arg1</code></td>
<td>
<p>data frame that has a factor or a factor name</p>
</td></tr>
<tr><td><code id="make_choose_one_table_+3A_arg2">arg2</code></td>
<td>
<p>if arg1 is a data frame, this is a factor name</p>
</td></tr>
<tr><td><code id="make_choose_one_table_+3A_subset">subset</code></td>
<td>
<p>can be equal to TRUE/FALSE.  This option removes extra variable
name text from the label.  This option is useful for <em>choose all that
apply</em> questions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table
</p>

<hr>
<h2 id='make_instrument'>Extract an Instrument from an REDCap Export</h2><span id='topic+make_instrument'></span>

<h3>Description</h3>

<p>This function takes a data frame and the names of the first and
last variables in an instrumnt and returns a data frame with the instrument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_instrument(
  df,
  first_var,
  last_var,
  drop_which_when = FALSE,
  record_id = "record_id"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_instrument_+3A_df">df</code></td>
<td>
<p>A data frame with the instrument</p>
</td></tr>
<tr><td><code id="make_instrument_+3A_first_var">first_var</code></td>
<td>
<p>The name of the first variable in an instrument</p>
</td></tr>
<tr><td><code id="make_instrument_+3A_last_var">last_var</code></td>
<td>
<p>The name of the last variable in an instrument</p>
</td></tr>
<tr><td><code id="make_instrument_+3A_drop_which_when">drop_which_when</code></td>
<td>
<p>Drop the <code>record_id</code> and <code>redcap_event_name</code> variables</p>
</td></tr>
<tr><td><code id="make_instrument_+3A_record_id">record_id</code></td>
<td>
<p>Name of <code>record_id</code> variable (if it was changed in REDCap)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that has an instrument (with at least one not NA value)
</p>

<hr>
<h2 id='make_instrument_auto'>Extract an Instrument from an REDCap Export without specifying Variables</h2><span id='topic+make_instrument_auto'></span>

<h3>Description</h3>

<p>This function takes a data frame holding REDCap data,
checks if it is a longitudinal study, and returns records that have values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_instrument_auto(df, drop_which_when = FALSE, record_id = "record_id")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_instrument_auto_+3A_df">df</code></td>
<td>
<p>A data frame with the instrument</p>
</td></tr>
<tr><td><code id="make_instrument_auto_+3A_drop_which_when">drop_which_when</code></td>
<td>
<p>Drop the <code>record_id</code> and <code>redcap_event_name</code> variables</p>
</td></tr>
<tr><td><code id="make_instrument_auto_+3A_record_id">record_id</code></td>
<td>
<p>Name of <code>record_id</code> variable (if it was changed in REDCap)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that has an instrument (with at least one not NA value).
</p>

<hr>
<h2 id='make_yes_no'>make_yes_no</h2><span id='topic+make_yes_no'></span>

<h3>Description</h3>

<p>Convert a &quot;Yes-No&quot;, &quot;True-False&quot; or &quot;Checkboxes (Multiple
Answers)&quot; question in REDCap to a factor holding &quot;Yes&quot; or
&quot;No or Unknown&quot;. Technically &quot;yes&quot; or &quot;checked&quot; (ignoring case), 1 or
TRUE responses are converted to &quot;Yes&quot; and all other values to
&quot;No or Unknown&quot;. Also see <code>make_yes_no_unknown()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_yes_no(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_yes_no_+3A_x">x</code></td>
<td>
<p>x variable to be converted to hold &quot;Yes&quot; or &quot;No or Unknown&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a factor with &quot;Yes&quot; or &quot;No or Unknown&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>make_yes_no(c(0, 1, NA))
make_yes_no(c("unchecked", "Checked", NA))
</code></pre>

<hr>
<h2 id='make_yes_no_unknown'>make_yes_no_unknown</h2><span id='topic+make_yes_no_unknown'></span>

<h3>Description</h3>

<p>Convert a &quot;Yes-No&quot;, &quot;True-False&quot; or &quot;Checkboxes (Multiple
Answers)&quot; question in REDCap to a factor holding &quot;No&quot; or
&quot;Yes&quot; or &quot;Unknown&quot;. Technically &quot;yes&quot; or &quot;checked&quot; (ignoring case), 1 or
TRUE responses are converted to &quot;Yes&quot;. &quot;No&quot; or &quot;unchecked&quot; (ignoring
case), 0 or FALSE are converted to &quot;No&quot;.  All other values are set to
&quot;Unknown&quot;. Also see <code>make_yes_no()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_yes_no_unknown(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_yes_no_unknown_+3A_x">x</code></td>
<td>
<p>variable to be converted to hold &quot;No&quot;, &quot;Yes&quot;, or Unknown&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a factor with &quot;No&quot;, &quot;Yes&quot;, or Unknown&quot;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>make_yes_no_unknown(c(0, 1, NA))
make_yes_no_unknown(c("unchecked", "Checked", NA))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

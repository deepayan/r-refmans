<!DOCTYPE html><html><head><title>Help for package shide</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shide}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_jdate'><p>Cast an object to a <code>jdate</code> object</p></a></li>
<li><a href='#as_jdatetime'><p>Cast an object to a <code>jdatetime</code> object</p></a></li>
<li><a href='#is_jdate'><p>Check an object for its class</p></a></li>
<li><a href='#jdate'><p>Jalali calendar dates</p></a></li>
<li><a href='#jdate_make'><p>Construct Jalali date-time objects from individual components</p></a></li>
<li><a href='#jdate_now'><p>Current Jalali date and datetime</p></a></li>
<li><a href='#jdatetime'><p>Date-time based on the Jalali calendar</p></a></li>
<li><a href='#seq.jdate'><p>Generate regular sequences of Jalali dates</p></a></li>
<li><a href='#sh_day'><p>Get/set the days components of Jalali date-time objects</p></a></li>
<li><a href='#sh_hour'><p>Get/set the time components of <code>jdatetime</code> objects</p></a></li>
<li><a href='#sh_month'><p>Get/set the month component of Jalali date-time objects</p></a></li>
<li><a href='#sh_quarter'><p>Get the quarter of Jalali date-time objects</p></a></li>
<li><a href='#sh_round'><p>Round Jalali dates to a specific unit of time</p></a></li>
<li><a href='#sh_tzone'><p>Get the time zone component of <code>jdatetime</code> objects</p></a></li>
<li><a href='#sh_year'><p>Get/set the year component of Jalali date-time objects</p></a></li>
<li><a href='#sh_year_is_leap'><p>Determine if a Jalali year is a leap year</p></a></li>
<li><a href='#shide-arithmetic'><p>Arithmetic operations for <code>jdate</code> and <code>jdatetime</code></p></a></li>
<li><a href='#shide-coercion'><p>Coercion</p></a></li>
<li><a href='#shide-math'><p>Mathematical operations for <code>jdate</code> and <code>jdatetime</code></p></a></li>
<li><a href='#shide-package'><p>shide: Date/Time Classes Based on Jalali Calendar</p></a></li>
<li><a href='#vec_cast.jdate'><p>Cast an object to a <code>jdate</code> object</p></a></li>
<li><a href='#vec_cast.jdatetime'><p>Cast an object to a <code>jdatetime</code> object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Date/Time Classes Based on Jalali Calendar</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements S3 classes for storing dates and date-times based on the Jalali calendar. 
    The main design goal of 'shide' is consistency with base R's 'Date' and 'POSIXct'.
    It provide features such as: date-time parsing, formatting and arithmetic.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mmollayi/shide">https://github.com/mmollayi/shide</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mmollayi/shide/issues">https://github.com/mmollayi/shide/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>cpp11, tzdb</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, rlang, tzdb, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>lubridate, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-16 21:24:57 UTC; mohsen</td>
</tr>
<tr>
<td>Author:</td>
<td>Mohsen Mollayi [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mohsen Mollayi &lt;mmollayi@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-16 21:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_jdate'>Cast an object to a <code>jdate</code> object</h2><span id='topic+as_jdate'></span>

<h3>Description</h3>

<p>A generic function that converts other date/time classes to <code>jdate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_jdate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_jdate_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdatetime</code>, <code>POSIXct</code> or <code>Date</code>.</p>
</td></tr>
<tr><td><code id="as_jdate_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unlike R's <code>as.Date.POSIXct()</code> method, <code>as_jdate</code> does not expose a time zone argument
and uses time zone attribute of input datetime object for conversion.
</p>


<h3>Value</h3>

<p>A vector of <code>jdate</code> objects with the same length as x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_jdate(as.Date("2023-12-12"))
as_jdate(jdatetime("1402-09-21 13:14:00", tzone = "Asia/Tehran"))
as_jdate(as.POSIXct("2023-12-12 13:14:00", tz = "Asia/Tehran"))
</code></pre>

<hr>
<h2 id='as_jdatetime'>Cast an object to a <code>jdatetime</code> object</h2><span id='topic+as_jdatetime'></span>

<h3>Description</h3>

<p>A generic function that converts other date/time classes to <code>jdatetime</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_jdatetime(x, tzone, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_jdatetime_+3A_x">x</code></td>
<td>
<p>a vector of <code>jdate</code>, <code>POSIXct</code> or <code>Date</code>.</p>
</td></tr>
<tr><td><code id="as_jdatetime_+3A_tzone">tzone</code></td>
<td>
<p>A time zone name.</p>
</td></tr>
<tr><td><code id="as_jdatetime_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>tzone</code> is missing (default), time zone attribute of input object is used for conversion.
If the input object does not have time zone attribute (e.g. <code>jdate</code>), and no value is supplied
for <code>tzone</code>, local time zone is assumed for conversion.
</p>


<h3>Value</h3>

<p>A vector of <code>jdatetime</code> objects with the same length as x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## The time will be set to midnight when converting from `jdate` or `Date`
as_jdatetime(jdate_now())
as_jdatetime(Sys.Date())
## We can change time zone of a `jdatetime` to a new time zone
as_jdatetime(jdatetime_now(tzone = "Iran"), tzone = "Asia/Tokyo")
</code></pre>

<hr>
<h2 id='is_jdate'>Check an object for its class</h2><span id='topic+is_jdate'></span><span id='topic+is_jdatetime'></span>

<h3>Description</h3>


<ul>
<li> <p><code>is_jdate()</code> checks whether an object is of class <code>jdate</code>.
</p>
</li>
<li> <p><code>is_jdatetime()</code> checks whether an object is of class <code>jdatetime</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>is_jdate(x)

is_jdatetime(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_jdate_+3A_x">x</code></td>
<td>
<p>An object to test.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_jdate(jdate_now() + 1) # TRUE
is_jdatetime(jdatetime_now() + as.difftime(2, units = "hours")) # TRUE
</code></pre>

<hr>
<h2 id='jdate'>Jalali calendar dates</h2><span id='topic+jdate'></span><span id='topic+jdate.numeric'></span><span id='topic+jdate.character'></span>

<h3>Description</h3>

<p><code>jdate</code> is an S3 class for representing the Jalali calendar dates. It can be constructed
from character and numeric vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jdate(x, ...)

## S3 method for class 'numeric'
jdate(x, ...)

## S3 method for class 'character'
jdate(x, format = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jdate_+3A_x">x</code></td>
<td>
<p>A vector of numeric or character objects.</p>
</td></tr>
<tr><td><code id="jdate_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
<tr><td><code id="jdate_+3A_format">format</code></td>
<td>
<p>Format argument for character method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>jdate</code> is stored internaly as a double vector and doesn't have any attributes.
Its value represents the count of days since the Unix epoch (a negative value
if it represents a date prior to the epoch). This implementation coincides
with the implementation of <code>Date</code> class.
</p>


<h3>Value</h3>

<p>A vector of <code>jdate</code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>jdate("1402-09-20")
jdate("1402/09/20", format = "%Y/%m/%d")
## Will replace invalid date format with NA
jdate("1402/09/20", format = "%Y-%m-%d")
## Invalid dates will be replaced with NA
jdate("1402-12-30")
## Jalali date corresponding to "1970-01-01"
jdate(0)

</code></pre>

<hr>
<h2 id='jdate_make'>Construct Jalali date-time objects from individual components</h2><span id='topic+jdate_make'></span><span id='topic+jdatetime_make'></span>

<h3>Description</h3>


<ul>
<li> <p><code>jdate_make()</code> creates a <code>jdate</code> object from individual components.
</p>
</li>
<li> <p><code>jdatetime_make()</code> creates a <code>jdatetime</code> object from individual components.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>jdate_make(year, month = 1L, day = 1L, ...)

jdatetime_make(
  year,
  month = 1L,
  day = 1L,
  hour = 0L,
  minute = 0L,
  second = 0L,
  tzone = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jdate_make_+3A_year">year</code></td>
<td>
<p>Numeric year.</p>
</td></tr>
<tr><td><code id="jdate_make_+3A_month">month</code></td>
<td>
<p>Numeric month.</p>
</td></tr>
<tr><td><code id="jdate_make_+3A_day">day</code></td>
<td>
<p>Numeric day.</p>
</td></tr>
<tr><td><code id="jdate_make_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="jdate_make_+3A_hour">hour</code></td>
<td>
<p>Numeric hour.</p>
</td></tr>
<tr><td><code id="jdate_make_+3A_minute">minute</code></td>
<td>
<p>Numeric minute.</p>
</td></tr>
<tr><td><code id="jdate_make_+3A_second">second</code></td>
<td>
<p>Numeric second.</p>
</td></tr>
<tr><td><code id="jdate_make_+3A_tzone">tzone</code></td>
<td>
<p>A time zone name. Default value represents local time zone.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Numeric components are recycled to their common size using
<a href="vctrs.html#topic+theory-faq-recycling">tidyverse recycling rules</a>.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>jdate_make()</code> A vector of jdate object.
</p>
</li>
<li> <p><code>jdatetime_make()</code> A vector of jdatetime object.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## At least 'year' must be supplied
jdate_make(year = 1401)
## Components are recycled
jdatetime_make(year = 1399:1400, month = 12, day = c(30, 29), hour = 12, tzone = "UTC")
</code></pre>

<hr>
<h2 id='jdate_now'>Current Jalali date and datetime</h2><span id='topic+jdate_now'></span><span id='topic+jdatetime_now'></span>

<h3>Description</h3>

<p>System representation of the current time as jdate and jdatetime.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jdate_now(tzone = "")

jdatetime_now(tzone = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jdate_now_+3A_tzone">tzone</code></td>
<td>
<p>Time zone to get the current time for.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>jdate_now()</code> A jdate object.
</p>
</li>
<li> <p><code>jdatetime_now()</code> A jdatetime object.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Current Jalali date in the local time zone
jdate_now()

# Current Jalali date in a specified time zone
jdate_now("Asia/Tokyo")

# may be true or false
jdate_now("Asia/Tehran") == jdate_now("Asia/Tokyo")

# Current Jalali datetime in the local time zone
jdatetime_now()
</code></pre>

<hr>
<h2 id='jdatetime'>Date-time based on the Jalali calendar</h2><span id='topic+jdatetime'></span><span id='topic+jdatetime.character'></span>

<h3>Description</h3>

<p><code>jdatetime</code> is an S3 class for representing date-times with the Jalali calendar dates.
It can be constructed from character and numeric vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jdatetime(x, tzone = "", ...)

## S3 method for class 'character'
jdatetime(x, tzone = "", format = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jdatetime_+3A_x">x</code></td>
<td>
<p>A vector of numeric or character objects.</p>
</td></tr>
<tr><td><code id="jdatetime_+3A_tzone">tzone</code></td>
<td>
<p>A time zone name. Default value represents local time zone.</p>
</td></tr>
<tr><td><code id="jdatetime_+3A_...">...</code></td>
<td>
<p>Arguments passed on to further methods.</p>
</td></tr>
<tr><td><code id="jdatetime_+3A_format">format</code></td>
<td>
<p>Format argument for character method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>jdatetime</code> is stored internaly as a double vector and has a single
attribute: the timezone (tzone). Its value represents the count of seconds
since the Unix epoch (a negative value if it represents an instant prior to the epoch).
This implementation coincides with that of <code>POSIXct</code> class, except that <code>POSIXct</code>
may not have <code>tzone</code> attribute. But for <code>jdatetime</code>, <code>tzone</code> is not optional.
</p>


<h3>Value</h3>

<p>A vector of <code>jdatetime</code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## default time zone and format
jdatetime("1402-09-20 18:57:09")
jdatetime("1402/09/20 18:57:09", tzone = "UTC", format = "%Y/%m/%d %H:%M:%S")
## Will replace invalid format with NA
jdatetime("1402/09/20 18:57:09", format = "%Y-%m-%d %H:%M:%S")
## nonexistent time will be replaced with NA
jdatetime("1401-01-02 00:30:00", tzone = "Asia/Tehran")
## ambiguous time will be replaced with NA
jdatetime("1401-06-30 23:30:00", tzone = "Asia/Tehran")
## Jalali date-time in Iran time zone, corresponding to Unix epoch
jdatetime(0, "Iran")
</code></pre>

<hr>
<h2 id='seq.jdate'>Generate regular sequences of Jalali dates</h2><span id='topic+seq.jdate'></span>

<h3>Description</h3>

<p>The method for <a href="base.html#topic+seq">seq</a> for objects of class <code>jdate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'jdate'
seq(from, to, by, length.out = NULL, along.with = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seq.jdate_+3A_from">from</code></td>
<td>
<p>starting date.  Required</p>
</td></tr>
<tr><td><code id="seq.jdate_+3A_to">to</code></td>
<td>
<p>end date.  Optional.</p>
</td></tr>
<tr><td><code id="seq.jdate_+3A_by">by</code></td>
<td>
<p>increment of the sequence.  Optional.  See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="seq.jdate_+3A_length.out">length.out</code></td>
<td>
<p>integer, optional.  Desired length of the sequence.</p>
</td></tr>
<tr><td><code id="seq.jdate_+3A_along.with">along.with</code></td>
<td>
<p>take the length from the length of this argument.</p>
</td></tr>
<tr><td><code id="seq.jdate_+3A_...">...</code></td>
<td>
<p>arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>by</code> can be specified in several ways:
</p>

<ul>
<li><p> A number, taken to be in days.
</p>
</li>
<li><p> A object of class <a href="base.html#topic+difftime">difftime</a>.
</p>
</li>
<li><p> A character string, containing one of &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;quarter&quot; or &quot;year&quot;.
This can optionally be preceded by a (positive or negative) integer
and a space, or followed by &quot;s&quot;.
</p>
</li></ul>



<h3>Value</h3>

<p>A vector of <code>jdate</code> objects.
</p>


<h3>Comparison with <code>seq.Date()</code></h3>

<p>The source code of <code>seq.jdate()</code> is a modified version of the code used in <code>base::seq.Date()</code>.
But a few behaviors of the latter are changed:
</p>

<ul>
<li><p> In base R, invalid dates resolve by overflowing according to the number of days that the
date is invalid by. But <code>seq.jdate()</code> resolves invalid dates by rolling forward to the
first day of the next month.
</p>
</li>
<li><p> If usage of <code>to</code> and <code>length.out</code> results in a fractional sequence between <code>from</code> and <code>to</code>,
base R keeps the fraction in the underlying data of the output <code>Date</code> object. But since
<code>jdate</code> is built upon whole numbers, the fractional part is dropped in the output.
</p>
</li></ul>

<p>These differences are illustrated in the examples.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+seq.Date">base::seq.Date()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># by days
seq(jdate("1402-01-01"), jdate("1402-01-10"), 1)
# by 2 weeks
seq(jdate("1402-01-01"), jdate("1402-04-01"), "2 weeks")
# first days of years
seq(jdate("1390-01-01"), jdate("1399-01-01"), "years")
# by month
seq(jdate("1400-01-01"), by = "month", length.out = 12)
# quarters
seq(jdate("1400-01-01"), jdate("1403-01-01"), by = "quarter")

# fractional dates are allowed in `seq.Date()`, but not in `seq.jdate()`
unclass(seq(as.Date(0), as.Date(3), length.out = 3))
unclass(seq(jdate(0), jdate(2), length.out = 3))

# resloving strategy for invalid dates is different in 'seq.jdate()' compared to 'seq.Date()'
seq(as.Date("2021-01-31"), by = "months", length.out = 2)
seq(jdate("1402-06-31"), by = "6 months", length.out = 2)
</code></pre>

<hr>
<h2 id='sh_day'>Get/set the days components of Jalali date-time objects</h2><span id='topic+sh_day'></span><span id='topic+sh_mday'></span><span id='topic+sh_wday'></span><span id='topic+sh_qday'></span><span id='topic+sh_yday'></span><span id='topic+sh_day.jdate'></span><span id='topic+sh_day.jdatetime'></span><span id='topic+sh_wday.jdate'></span><span id='topic+sh_wday.jdatetime'></span><span id='topic+sh_qday.jdate'></span><span id='topic+sh_qday.jdatetime'></span><span id='topic+sh_yday.jdate'></span><span id='topic+sh_yday.jdatetime'></span><span id='topic+sh_day+3C-'></span><span id='topic+sh_mday+3C-'></span><span id='topic+sh_day+3C-.jdate'></span><span id='topic+sh_day+3C-.jdatetime'></span>

<h3>Description</h3>


<ul>
<li> <p><code>sh_day()</code> and <code style="white-space: pre;">&#8288;sh_day&lt;-()&#8288;</code> retrieves and replaces the day of the month respectively.
</p>
</li>
<li> <p><code>mday()</code> and <code style="white-space: pre;">&#8288;mday&lt;-()&#8288;</code> are aliases for <code>day()</code> and <code style="white-space: pre;">&#8288;day&lt;-()&#8288;</code>.
</p>
</li>
<li> <p><code>sh_wday()</code> retrieves the day of the week.
</p>
</li>
<li> <p><code>sh_qday()</code> retrieves the day of the quarter.
</p>
</li>
<li> <p><code>sh_yday()</code> retrieves the day of the year.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>sh_day(x)

sh_mday(x)

sh_wday(x)

sh_qday(x)

sh_yday(x)

## S3 method for class 'jdate'
sh_day(x)

## S3 method for class 'jdatetime'
sh_day(x)

## S3 method for class 'jdate'
sh_wday(x)

## S3 method for class 'jdatetime'
sh_wday(x)

## S3 method for class 'jdate'
sh_qday(x)

## S3 method for class 'jdatetime'
sh_qday(x)

## S3 method for class 'jdate'
sh_yday(x)

## S3 method for class 'jdatetime'
sh_yday(x)

sh_day(x) &lt;- value

sh_mday(x) &lt;- value

## S3 replacement method for class 'jdate'
sh_day(x) &lt;- value

## S3 replacement method for class 'jdatetime'
sh_day(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_day_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdate</code> or <code>jdatetime</code> objects.</p>
</td></tr>
<tr><td><code id="sh_day_+3A_value">value</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For assignment, <code>x</code> and <code>value</code> are recycled to their common size using
<a href="vctrs.html#topic+theory-faq-recycling">tidyverse recycling rules</a>.
</p>


<h3>Value</h3>

<p>The days component of x as an integer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- jdate("1402-12-14")
sh_day(x)
sh_mday(x)
sh_qday(x)
sh_wday(x)
sh_yday(x)
sh_mday(x) &lt;- 12:13
</code></pre>

<hr>
<h2 id='sh_hour'>Get/set the time components of <code>jdatetime</code> objects</h2><span id='topic+sh_hour'></span><span id='topic+sh_minute'></span><span id='topic+sh_second'></span><span id='topic+sh_hour.jdatetime'></span><span id='topic+sh_minute.jdatetime'></span><span id='topic+sh_second.jdatetime'></span><span id='topic+sh_hour+3C-'></span><span id='topic+sh_minute+3C-'></span><span id='topic+sh_second+3C-'></span><span id='topic+sh_hour+3C-.jdatetime'></span><span id='topic+sh_minute+3C-.jdatetime'></span><span id='topic+sh_second+3C-.jdatetime'></span>

<h3>Description</h3>

<p>Get/set the time components of <code>jdatetime</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sh_hour(x)

sh_minute(x)

sh_second(x)

## S3 method for class 'jdatetime'
sh_hour(x)

## S3 method for class 'jdatetime'
sh_minute(x)

## S3 method for class 'jdatetime'
sh_second(x)

sh_hour(x) &lt;- value

sh_minute(x) &lt;- value

sh_second(x) &lt;- value

## S3 replacement method for class 'jdatetime'
sh_hour(x) &lt;- value

## S3 replacement method for class 'jdatetime'
sh_minute(x) &lt;- value

## S3 replacement method for class 'jdatetime'
sh_second(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_hour_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdatetime</code> objects.</p>
</td></tr>
<tr><td><code id="sh_hour_+3A_value">value</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For assignment, <code>x</code> and <code>value</code> are recycled to their common size using
<a href="vctrs.html#topic+theory-faq-recycling">tidyverse recycling rules</a>.
</p>


<h3>Value</h3>

<p>An integer vector representing the hour, minute or second component of x,
depending on the function being called.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- jdatetime("1402-12-14 19:13:31")
sh_second(x)
sh_hour(x) &lt;- 17:18
</code></pre>

<hr>
<h2 id='sh_month'>Get/set the month component of Jalali date-time objects</h2><span id='topic+sh_month'></span><span id='topic+sh_month.jdate'></span><span id='topic+sh_month.jdatetime'></span><span id='topic+sh_month+3C-'></span><span id='topic+sh_month+3C-.jdate'></span><span id='topic+sh_month+3C-.jdatetime'></span>

<h3>Description</h3>

<p>Get/set the month component of Jalali date-time objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sh_month(x)

## S3 method for class 'jdate'
sh_month(x)

## S3 method for class 'jdatetime'
sh_month(x)

sh_month(x) &lt;- value

## S3 replacement method for class 'jdate'
sh_month(x) &lt;- value

## S3 replacement method for class 'jdatetime'
sh_month(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_month_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdate</code> or <code>jdatetime</code> objects.</p>
</td></tr>
<tr><td><code id="sh_month_+3A_value">value</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For assignment, <code>x</code> and <code>value</code> are recycled to their common size using
<a href="vctrs.html#topic+theory-faq-recycling">tidyverse recycling rules</a>.
</p>


<h3>Value</h3>

<p>The month component of x as an integer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- jdate("1402-12-14")
sh_month(x)
sh_month(x) &lt;- 10:11
</code></pre>

<hr>
<h2 id='sh_quarter'>Get the quarter of Jalali date-time objects</h2><span id='topic+sh_quarter'></span>

<h3>Description</h3>

<p>Get the quarter of Jalali date-time objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sh_quarter(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_quarter_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdate</code> or <code>jdatetime</code> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer vector of <code>1</code> to <code>4</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- jdate("1402-12-14")
sh_quarter(x)
</code></pre>

<hr>
<h2 id='sh_round'>Round Jalali dates to a specific unit of time</h2><span id='topic+sh_round'></span><span id='topic+sh_floor'></span><span id='topic+sh_ceiling'></span>

<h3>Description</h3>


<ul>
<li> <p><code>sh_floor()</code> takes a <code>jdate</code> object and rounds it down to the previous unit of time.
</p>
</li>
<li> <p><code>sh_ceiling()</code> takes a <code>jdate</code> object and rounds it up to the next unit of time.
</p>
</li>
<li> <p><code>sh_round()</code> takes a <code>jdate</code> object and and rounds it up or down, depending on what is closer.
For dates which are exactly halfway between two consecutive units, the convention is to round up.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>sh_round(x, unit = NULL, ...)

sh_floor(x, unit = NULL, ...)

sh_ceiling(x, unit = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_round_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdate</code> objects.</p>
</td></tr>
<tr><td><code id="sh_round_+3A_unit">unit</code></td>
<td>
<p>Valid units are <code>day</code>, <code>week</code>, <code>month</code>, <code>quarter</code>, and <code>year</code>. If NULL, defaults to <code>day</code>.</p>
</td></tr>
<tr><td><code id="sh_round_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>jdate</code> objects with the same length as x.
</p>


<h3>See Also</h3>

<p><code><a href="lubridate.html#topic+round_date">lubridate::round_date()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- jdate("1402-12-15")
sh_floor(x, "year")
sh_ceiling(x, "year")
sh_round(x, "year")
sh_round(x, "week") == sh_floor(x, "week")
sh_round(x + 1, "week") == sh_ceiling(x, "week")
</code></pre>

<hr>
<h2 id='sh_tzone'>Get the time zone component of <code>jdatetime</code> objects</h2><span id='topic+sh_tzone'></span><span id='topic+sh_tzone.jdatetime'></span>

<h3>Description</h3>

<p>Get the time zone component of <code>jdatetime</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sh_tzone(x)

## S3 method for class 'jdatetime'
sh_tzone(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_tzone_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdatetime</code> objects.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is only valid for <code>jdatetime</code> objects. <code>jdate</code> objects do not have time zone attribute.
</p>


<h3>Value</h3>

<p>A character vector of length 1. An empty string represents the current local time zone.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- jdatetime("1402-12-14 19:13:31", tzone = "Iran")
sh_tzone(x)
</code></pre>

<hr>
<h2 id='sh_year'>Get/set the year component of Jalali date-time objects</h2><span id='topic+sh_year'></span><span id='topic+sh_year.jdate'></span><span id='topic+sh_year.jdatetime'></span><span id='topic+sh_year+3C-'></span><span id='topic+sh_year+3C-.jdate'></span><span id='topic+sh_year+3C-.jdatetime'></span>

<h3>Description</h3>

<p>Get/set the year component of Jalali date-time objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sh_year(x)

## S3 method for class 'jdate'
sh_year(x)

## S3 method for class 'jdatetime'
sh_year(x)

sh_year(x) &lt;- value

## S3 replacement method for class 'jdate'
sh_year(x) &lt;- value

## S3 replacement method for class 'jdatetime'
sh_year(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_year_+3A_x">x</code></td>
<td>
<p>A vector of <code>jdate</code> or <code>jdatetime</code> objects.</p>
</td></tr>
<tr><td><code id="sh_year_+3A_value">value</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For assignment, <code>x</code> and <code>value</code> are recycled to their common size using
<a href="vctrs.html#topic+theory-faq-recycling">tidyverse recycling rules</a>.
</p>


<h3>Value</h3>

<p>The year component of x as an integer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- jdate("1402-12-14")
sh_year(x)
sh_year(x) &lt;- 1400:1401
</code></pre>

<hr>
<h2 id='sh_year_is_leap'>Determine if a Jalali year is a leap year</h2><span id='topic+sh_year_is_leap'></span>

<h3>Description</h3>

<p>Check if an instant is in a leap year according to the Jalali calendar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sh_year_is_leap(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sh_year_is_leap_+3A_x">x</code></td>
<td>
<p>A <code>jdate</code> or <code>jdatetime</code> object or a numeric vector representing Jalali years.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if in a leap year or <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sh_year_is_leap(jdatetime("1399-01-01 00:00:00"))
x &lt;- seq(jdate("1400-01-01"), by = "years", length.out = 10)
names(x) &lt;- sh_year(x)
sh_year_is_leap(x)
</code></pre>

<hr>
<h2 id='shide-arithmetic'>Arithmetic operations for <code>jdate</code> and <code>jdatetime</code></h2><span id='topic+shide-arithmetic'></span><span id='topic+vec_arith.jdate'></span><span id='topic+vec_arith.jdatetime'></span>

<h3>Description</h3>

<p>Arithmetic operations for <code>jdate</code> and <code>jdatetime</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'jdate'
vec_arith(op, x, y, ...)

## S3 method for class 'jdatetime'
vec_arith(op, x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shide-arithmetic_+3A_op">op</code></td>
<td>
<p>An arithmetic operator as a string.</p>
</td></tr>
<tr><td><code id="shide-arithmetic_+3A_x">x</code>, <code id="shide-arithmetic_+3A_y">y</code></td>
<td>
<p>A pair of vectors.</p>
</td></tr>
<tr><td><code id="shide-arithmetic_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Supported operations:
</p>

<ul>
<li><p> Difference between two <code>jdate</code> objects results a <code>difftime</code> object with <code>units = "days"</code>.
</p>
</li>
<li><p> Difference between two <code>jdatetime</code> objects results a <code>difftime</code> object with <code>units = "seconds"</code>.
</p>
</li>
<li><p> A numeric vector can be added to or subtracted from a <code>jdate</code> or <code>jdatetime</code>.
</p>
</li>
<li><p> A <code>difftime</code> vector can be added to or subtracted from a <code>jdate</code> only if it has
resolution bigger than &quot;days&quot;.
</p>
</li>
<li><p> A <code>difftime</code> vector can be added to or subtracted from a <code>jdatetime</code>.
</p>
</li>
<li><p> A <code>jdate</code> object can be subtracted from a <code>jdatetime</code> and vice versa.
</p>
</li></ul>



<h3>Value</h3>

<p>The binary operator result of <code>x</code> and <code>y</code>. See
details for more information on operator behaviors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>jdatetime_now() - jdate_now()
jdate_now() - as.difftime(1, units ="weeks" ) - as.difftime(1, units = "days")
</code></pre>

<hr>
<h2 id='shide-coercion'>Coercion</h2><span id='topic+shide-coercion'></span><span id='topic+vec_ptype2.jdate'></span><span id='topic+vec_ptype2.jdatetime'></span>

<h3>Description</h3>

<p>Double dispatch methods to support <code><a href="vctrs.html#topic+vec_ptype2">vctrs::vec_ptype2()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'jdate'
vec_ptype2(x, y, ..., x_arg = "", y_arg = "")

## S3 method for class 'jdatetime'
vec_ptype2(x, y, ..., x_arg = "", y_arg = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shide-coercion_+3A_x">x</code>, <code id="shide-coercion_+3A_y">y</code></td>
<td>
<p>Vector types.</p>
</td></tr>
<tr><td><code id="shide-coercion_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="shide-coercion_+3A_x_arg">x_arg</code>, <code id="shide-coercion_+3A_y_arg">y_arg</code></td>
<td>
<p>Argument names for <code>x</code> and <code>y</code>. These are used
in error messages to inform the user about the locations of
incompatible types (see <code><a href="vctrs.html#topic+stop_incompatible_type">stop_incompatible_type()</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Coercion rules for <code>jdate</code> and <code>jdatetime</code>:
</p>

<ul>
<li><p> Combining a <code>jdate</code> and <code>jdatetime</code> yields a <code>jdatetime</code>.
</p>
</li>
<li><p> When combining two <code>jdatetime</code> objects, the timezone is taken from the first non-local timezone.
</p>
</li></ul>



<h3>Value</h3>

<p>An object prototype if x and y can be safely coerced to the same prototype;
otherwise it returns an error. See details for more information on
coercion hierarchy for <code>jdate</code> and <code>jdatetime</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># jdate and jdatetime are compatible
c(jdate(), jdatetime(), jdatetime(tzone = "UTC"))
# jdate and Date are incompatible
try(c(jdate(), as.Date(NULL)))
</code></pre>

<hr>
<h2 id='shide-math'>Mathematical operations for <code>jdate</code> and <code>jdatetime</code></h2><span id='topic+shide-math'></span><span id='topic+vec_math.jdate'></span><span id='topic+vec_math.jdatetime'></span>

<h3>Description</h3>

<p>Math and Summary group of functions for <code>jdate</code> and <code>jdatetime</code> objects.
Only methods for <code>is.finite()</code> and <code>is.infinite()</code> are provided and other functions from
the groups, such as <code>mean()</code>, <code>median()</code> and <code>summary()</code> are not implemented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'jdate'
vec_math(.fn, .x, ...)

## S3 method for class 'jdatetime'
vec_math(.fn, .x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shide-math_+3A_.fn">.fn</code></td>
<td>
<p>A mathematical function from the base package, as a string.</p>
</td></tr>
<tr><td><code id="shide-math_+3A_.x">.x</code></td>
<td>
<p>A vector of <code>jdate</code> or <code>jdatetime</code> objects.</p>
</td></tr>
<tr><td><code id="shide-math_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to .fn.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>vctrs</code> implementation of <code>Date</code> and <code>POSIXct</code> does not include methods for
<code>is.finite()</code> and <code>is.infinite()</code>. But these method are implemented in <code>shide</code>
so that <code>jdate</code> and <code>jdatetime</code> vectors could be used as <code>ggplot</code> scales.
</p>


<h3>Value</h3>

<p>For <code>is.finite()</code> and <code>is.infinite()</code>, a logical vector of the same length as x.
Using all the other math and summary group generics will signal an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Unlike a `Date` vector, `mean()` is not defined for a `jdate` vector
try(mean(c(jdate_now(), jdate_now() + 2)))
</code></pre>

<hr>
<h2 id='shide-package'>shide: Date/Time Classes Based on Jalali Calendar</h2><span id='topic+shide'></span><span id='topic+shide-package'></span>

<h3>Description</h3>

<p>Implements S3 classes for storing dates and date-times based on the Jalali calendar. The main design goal of 'shide' is consistency with base R's 'Date' and 'POSIXct'. It provide features such as: date-time parsing, formatting and arithmetic.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mohsen Mollayi <a href="mailto:mmollayi@gmail.com">mmollayi@gmail.com</a> [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/mmollayi/shide">https://github.com/mmollayi/shide</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/mmollayi/shide/issues">https://github.com/mmollayi/shide/issues</a>
</p>
</li></ul>


<hr>
<h2 id='vec_cast.jdate'>Cast an object to a <code>jdate</code> object</h2><span id='topic+vec_cast.jdate'></span>

<h3>Description</h3>

<p>Cast an object to a <code>jdate</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'jdate'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.jdate_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.jdate_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.jdate_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>jdate</code> objects.
</p>


<h3>See Also</h3>

<p><a href="#topic+as_jdate">as_jdate</a> is a convenience function that makes use of the casts that
are defined for <code>vec_cast.jdate()</code> methods.
</p>

<hr>
<h2 id='vec_cast.jdatetime'>Cast an object to a <code>jdatetime</code> object</h2><span id='topic+vec_cast.jdatetime'></span>

<h3>Description</h3>

<p>Cast an object to a <code>jdatetime</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'jdatetime'
vec_cast(x, to, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vec_cast.jdatetime_+3A_x">x</code></td>
<td>
<p>Vectors to cast.</p>
</td></tr>
<tr><td><code id="vec_cast.jdatetime_+3A_to">to</code></td>
<td>
<p>Type to cast to. If <code>NULL</code>, <code>x</code> will be returned as is.</p>
</td></tr>
<tr><td><code id="vec_cast.jdatetime_+3A_...">...</code></td>
<td>
<p>For <code>vec_cast_common()</code>, vectors to cast. For
<code>vec_cast()</code>, <code>vec_cast_default()</code>, and <code>vec_restore()</code>, these
dots are only for future extensions and should be empty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>jdatetime</code> objects.
</p>


<h3>See Also</h3>

<p><a href="#topic+as_jdatetime">as_jdatetime</a> is a convenience function that makes use of the casts that
are defined for <code>vec_cast.jdatetime()</code> methods.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

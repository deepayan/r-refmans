<!DOCTYPE html><html><head><title>Help for package udunits2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {udunits2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ud.are.convertible'><p>Determine whether two units may be converted between each other</p></a></li>
<li><a href='#ud.convert'><p>Convert numeric types from one unit to another</p></a></li>
<li><a href='#ud.get.name'><p>Retrieve the udunits name or symbol from the database for a given</p>
units string</a></li>
<li><a href='#ud.have.unit.system'><p>Determine whether udunits has loaded its units database</p></a></li>
<li><a href='#ud.is.parseable'><p>Determine whether a unit string is parseable by the udunits library</p></a></li>
<li><a href='#ud.set.encoding'><p>Set the udunits package level encoding type</p></a></li>
<li><a href='#udunits2-package'><p>udunits-2 bindings for R</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Udunits-2 Bindings for R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.13.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-03-11</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides simple bindings to Unidata's udunits library.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pacificclimate/Rudunits2">https://github.com/pacificclimate/Rudunits2</a>
<a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>udunits (&gt;= 2) from
https://www.unidata.ucar.edu/software/udunits/</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-11 17:05:45 UTC; ripley</td>
</tr>
<tr>
<td>X-CRAN-Comment:</td>
<td>Orphaned on 2022-01-06 as installation problems were
not corrected.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>ORPHANED</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-11 20:00:50 UTC</td>
</tr>
<tr>
<td>Author:</td>
<td>James Hiebert [aut, cre],
  CRAN team [ctb, cph] (revisions/corrections in 2022)</td>
</tr>
<tr>
<td>X-CRAN-Original-Maintainer:</td>
<td>&lt;ripley@stats.ox.ac.uk&gt;</td>
</tr>
</table>
<hr>
<h2 id='ud.are.convertible'>Determine whether two units may be converted between each other</h2><span id='topic+ud.are.convertible'></span>

<h3>Description</h3>

<p>This function takes udunits compatible strings and determines whether
or not it is possible to convert between them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ud.are.convertible(u1, u2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ud.are.convertible_+3A_u1">u1</code></td>
<td>
<p>A character string which is parseable into a udunits compatible unit.</p>
</td></tr>
<tr><td><code id="ud.are.convertible_+3A_u2">u2</code></td>
<td>
<p>Another character string which is also parseable into a udunits compatible unit.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Even if two units are parseable and recognized by the udunits library,
it may or may not be possible to convert from one to another.  For
example, it makes sense to convert from celsius to kelvin, however not
from celsius to kilograms.  This function allows the user to check if
two units are of the same system and if there exists a defined conversion between
the two.
</p>


<h3>Value</h3>

<p>Returns a logical: <code>True</code> if the units can be converted between
each other, <code>False</code> if either of the arguments is not parseable
by udunits, or if no conversion is possible.
</p>


<h3>Author(s)</h3>

<p>James Hiebert <a href="mailto:hiebert@uvic.ca">hiebert@uvic.ca</a>
</p>


<h3>References</h3>

<p>See the udunits function ut_are_convertible:
<a href="https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#ut_005fare_005fconvertible_0028_0029">https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#ut_005fare_005fconvertible_0028_0029</a>
and the main uninits webpage: <a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ud.is.parseable">ud.is.parseable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ud.are.convertible("miles", "km")        # TRUE
ud.are.convertible("grams", "kilograms") # TRUE
ud.are.convertible("celsius", "grams")   # FALSE
ud.are.convertible("not", "parseable")   # FALSE
</code></pre>

<hr>
<h2 id='ud.convert'>Convert numeric types from one unit to another</h2><span id='topic+ud.convert'></span>

<h3>Description</h3>

<p>This function takes the numeric argument <code>x</code>,
quantified in units <code>u1</code> and converts it to be of units <code>u2</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ud.convert(x, u1, u2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ud.convert_+3A_x">x</code></td>
<td>
<p>Some argument which is convertible to a numeric type by <code>as.double</code>.</p>
</td></tr>
<tr><td><code id="ud.convert_+3A_u1">u1</code></td>
<td>
<p>A character string which is parseable into a udunits compatible unit.</p>
</td></tr>
<tr><td><code id="ud.convert_+3A_u2">u2</code></td>
<td>
<p>Another character string which is also parseable into a
udunits compatible unit and for which there exists a defined
transformation from the units represented by u1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses the udunits function <code>cv_convert_doubles</code> to
convert the argument from one set of units to another.
</p>


<h3>Value</h3>

<p>Returns a numeric type having converted from one unit to another.  The
attributes of the original argument <code>x</code> (e.g. class, dimensions,
etc.) are preserved and then re-applied to the return value of the
transformation as such:
<code>attributes(rv) &lt;- attributes(x)</code>
If either of unit <code>u1</code> or <code>u2</code> is unparseable, or there does
not exist a conversion from one to the other the function raises an error.
</p>


<h3>Author(s)</h3>

<p>James Hiebert <a href="mailto:hiebert@uvic.ca">hiebert@uvic.ca</a>
</p>


<h3>References</h3>

<p>Unidata's udunits reference:
<a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a>
API guide for cv_convert_doubles:
<a href="https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-cv_005fconvert_005fdoubles-39">https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-cv_005fconvert_005fdoubles-39</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ud.are.convertible">ud.are.convertible</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(10)
ud.convert(x, "miles", "km")                   # c(1.609344, 3.218688, 4.828032, ...)
x &lt;- c(-40, 0, 100)
ud.convert(x, "celsius", "degree_fahrenheit")  # c(-40, 32, 212)
err &lt;- try(ud.convert(100,"miles", "grams"))   # Error
err &lt;- try(ud.convert(NA, "not", "parseable")) # Error
</code></pre>

<hr>
<h2 id='ud.get.name'>Retrieve the udunits name or symbol from the database for a given
units string</h2><span id='topic+ud.get.name'></span><span id='topic+ud.get.symbol'></span>

<h3>Description</h3>

<p>Retrieve the udunits name or symbol from the database for a given
units string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ud.get.name(unit.string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ud.get.name_+3A_unit.string">unit.string</code></td>
<td>
<p>A character string which is parseable into a udunits compatible unit.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function retrieves the udunits name or symbol from the udunits
database and returns it.  It uses the udunits functions ut_get_name
and ut_get_symbol respectively.
</p>


<h3>Value</h3>

<p>Returns a character string stating the udunits's name/symbol for the
given unit, or an empty character string if the unit does not map to a
name/symbol for the default character set.
If the unit is unparseable, the function raises an error.
</p>


<h3>Note</h3>

<p>More often than not units do not have names or symbols that are
returned by the base functions.  This depends entirely on what is
defined in the units data base, which is&ndash;as of API version 2&ndash;an XML
database which ships with the library.  See Unidata's website for more
information about the XML database:
<a href="https://www.unidata.ucar.edu/software/udunits/udunits-2-units.html">https://www.unidata.ucar.edu/software/udunits/udunits-2-units.html</a>.
All in all, don't put too much stock in them, for they are for
convenience only. If your application <em>requires</em> certain names
and symbols to be present, the XML database is local and editable.
</p>


<h3>Author(s)</h3>

<p>James Hiebert <a href="mailto:hiebert@uvic.ca">hiebert@uvic.ca</a></p>


<h3>References</h3>

<p>Unidata's udunits reference:
<a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a>
API guide for ut_get_name:
<a href="https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-ut_005fget_005fname-66">https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-ut_005fget_005fname-66</a>
API guide for ut_get_symbol: <a href="https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-ut_005fget_005fsymbol-67">https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-ut_005fget_005fsymbol-67</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>units.to.display &lt;- c("celsius", # has no name, messed up symbol (maybe a bug in R?)
                      "kg",
                      "hr",      # has no symbol
                      "K",
                      "degrees",
                      "m",
                      "ohm")

for (u in units.to.display) {
  print(ud.get.name(u))
  print(ud.get.symbol(u))
}
</code></pre>

<hr>
<h2 id='ud.have.unit.system'>Determine whether udunits has loaded its units database</h2><span id='topic+ud.have.unit.system'></span>

<h3>Description</h3>

<p>This function check wether or not udunits has successfully found and
loaded its run-time XML units database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ud.have.unit.system()
</code></pre>


<h3>Details</h3>

<p>At package load time, Rudunits attempts to load a unit system from an
XML units database from the file system. This might be installed with
the system library (e.g. through apt or yum), or the user can use
their own. The file-system location is configured using the
UDUNITS2_XML_PATH environment variable.
</p>
<p>This package will attempt to load the path contained in
UDUNITS2_XML_PATH. If it's empty, it will attempt to load it from the
system library. Failing that it will attempt to load its own XML
database that ships with the package (from udunits source).
</p>
<p>One can call <code>ud.have.unit.system</code> to confirm that the units
database has been loaded successfully.
</p>


<h3>Value</h3>

<p>Returns a logical: <code>True</code> if udunits has successfully found and
loaded the XML units database, <code>False</code> otherwise.
</p>


<h3>Author(s)</h3>

<p>James Hiebert <a href="mailto:hiebert@uvic.ca">hiebert@uvic.ca</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ud.have.unit.system() # TRUE
</code></pre>

<hr>
<h2 id='ud.is.parseable'>Determine whether a unit string is parseable by the udunits library</h2><span id='topic+ud.is.parseable'></span>

<h3>Description</h3>

<p>Determine whether a unit string is parseable and recognized by the udunits library.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ud.is.parseable(unit.string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ud.is.parseable_+3A_unit.string">unit.string</code></td>
<td>
<p>A character string representing a type of units
which may be parseable by the udunits library</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ud.is.parseable</code> uses udunit's function <code>ut_parse</code> to
determine whether or not the given unit string is parseable.  If
<code>ut_parse</code> returns NULL, then <code>ud.is.parseable</code> will return <code>FALSE</code>.
</p>


<h3>Value</h3>

<p>Returns a logical: <code>True</code> if the units is parseable and
recognized by the udunits library, <code>False</code> otherwise.
</p>


<h3>Note</h3>

<p>There is a note in the <code>ut_parse</code> docs about how the
argument string must have no leading or trailing whitespace.  We make
sure in this package to always call <code>ut_trim</code> on any strings
before they are passed to <code>ut_parse</code>.  The package user need not
strip whitespace before-hand.
</p>


<h3>Author(s)</h3>

<p>James Hiebert <a href="mailto:hiebert@uvic.ca">hiebert@uvic.ca</a>
</p>


<h3>References</h3>

<p>Unidata's udunits reference:
<a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a>
API guide for ut_parse:
<a href="https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-ut_005fparse-43">https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#index-ut_005fparse-43</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ud.are.convertible">ud.are.convertible</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ud.is.parseable("K")             # TRUE
ud.is.parseable("  K  ")         # TRUE
ud.is.parseable("miles")         # TRUE
ud.is.parseable("Not parseable") # FALSE
</code></pre>

<hr>
<h2 id='ud.set.encoding'>Set the udunits package level encoding type</h2><span id='topic+ud.set.encoding'></span>

<h3>Description</h3>

<p>This function sets the encoding type parameter which is global to the
R udunits2 package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ud.set.encoding(enc.string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ud.set.encoding_+3A_enc.string">enc.string</code></td>
<td>
<p>A character string representing the encoding type.
Valid strings are <code>utf8</code>,<code>ascii</code>,<code>iso-8859-1</code>,and
<code>latin1</code> (an alias for ISO-8859-1).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Encoding type is a parameter to nearly all of the functions in the
udunits library.  By default, the R udunits2 pacakge sets the encoding
type to UTF-8, however this package allows the user to set other
encoding types which are supported by the udunits library.  It
presently suports UTF-8, ASCII, and ISO-8859-1
</p>


<h3>Value</h3>

<p>Returns no value.  Raises an error if it is not given a valid encoding string.
</p>


<h3>Author(s)</h3>

<p>James Hiebert <a href="mailto:hiebert@uvic.ca">hiebert@uvic.ca</a></p>


<h3>References</h3>

<p>Unidata's udunits reference:
<a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a>
API guide chapter on data types:
<a href="https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#Types">https://www.unidata.ucar.edu/software/udunits/udunits-2.1.24/udunits2lib.html#Types</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>valid.enc.strings &lt;- c('utf8', 'ascii', 'iso-8859-1', 'latin1')
lapply(valid.enc.strings, ud.set.encoding)
err &lt;- try(ud.set.encoding("This will fail"))
</code></pre>

<hr>
<h2 id='udunits2-package'>udunits-2 bindings for R</h2><span id='topic+udunits2-package'></span><span id='topic+udunits2'></span>

<h3>Description</h3>

<p>This package provides simple bindings to version 2 of Unidata's udunits library</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> udunits2</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.6</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2011-02-11</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>This package provides simple bindings to the version 2 API of Unidata's
udunits library.  While the entire API is not supported, we have chosen
to boil it down to a few simple functions to be able to exploit the most
useful functionality that the library provides.  This package provides
the following functions:
</p>

<ul>
<li> <p><code>ud.is.parseable</code>
</p>
</li>
<li> <p><code>ud.get.name</code>
</p>
</li>
<li> <p><code>ud.get.symbol</code>
</p>
</li>
<li> <p><code>ud.are.convertible</code>
</p>
</li>
<li> <p><code>ud.convert</code>
</p>
</li></ul>

<p>Please see the respective function help pages for further details and usage.
</p>


<h3>Author(s)</h3>

<p>James Hiebert &lt;hiebert@uvic.ca&gt;
</p>
<p>Maintainer:   James Hiebert &lt;hiebert@uvic.ca&gt;
</p>


<h3>References</h3>

<p>Unidata's udunits web page:
<a href="https://www.unidata.ucar.edu/software/udunits/">https://www.unidata.ucar.edu/software/udunits/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ud.is.parseable">ud.is.parseable</a> <a href="#topic+ud.get.name">ud.get.name</a> <a href="#topic+ud.get.symbol">ud.get.symbol</a>
    <a href="#topic+ud.are.convertible">ud.are.convertible</a> <a href="#topic+ud.convert">ud.convert</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

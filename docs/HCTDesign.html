<!DOCTYPE html><html><head><title>Help for package HCTDesign</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {HCTDesign}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#EffDesign'><p>HCT design with interim monitoring for efficacy only</p></a></li>
<li><a href='#EffIM'><p>Monitoring the trial at interim looks for a trial with efficacy monitoring only</p></a></li>
<li><a href='#FutDesign'><p>HCT design with interim monitoring for futiity only</p></a></li>
<li><a href='#FutIM'><p>Monitoring the trial at interim looks for a trial with futility monitoring only</p></a></li>
<li><a href='#HCTSurvDesign'><p>HCT design with interim monitoring for both efficacy and futility</p></a></li>
<li><a href='#IM'><p>Monitoring the trial at interim looks for a trial with efficacy and futility boundaries</p></a></li>
<li><a href='#sf'><p>Log rank test for non-inferiority trial</p></a></li>
<li><a href='#SM'><p>Sample size in terms of number of subjects in the experimental group</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Group Sequential Design for Historical Control Trial with
Survival Outcome</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rdpack, diversitree, mvtnorm, flexsurv, stats, survival,
crayon</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Description:</td>
<td>It provides functions to design historical controlled trials with survival outcome by group sequential method. The options for interim look boundaries are efficacy only, efficacy &amp; futility or futility only. It also provides the function to monitor the trial for any unplanned look. The package is based on Jianrong Wu, Xiaoping Xiong (2016) &lt;<a href="https://doi.org/10.1002%2Fpst.1756">doi:10.1002/pst.1756</a>&gt; and Jianrong Wu, Yimei Li (2020) &lt;<a href="https://doi.org/10.1080%2F10543406.2019.1684305">doi:10.1080/10543406.2019.1684305</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-17 17:46:59 UTC; tpatni</td>
</tr>
<tr>
<td>Author:</td>
<td>Tushar Patni [aut, cre],
  Yimei Li [aut],
  Jianrong Wu [aut],
  Arzu Onar-Thomas [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tushar Patni &lt;patni006@umn.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-17 18:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='EffDesign'>HCT design with interim monitoring for efficacy only</h2><span id='topic+EffDesign'></span>

<h3>Description</h3>

<p>The group sequential design for historical controlled survival outcome trials with efficacy boundaries only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EffDesign(
  k,
  alpha,
  beta,
  delta,
  delta0,
  d1,
  option = "OBF",
  param = 4,
  trial = "Superiority"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EffDesign_+3A_k">k</code></td>
<td>
<p>vector of time fraction for all planned looks: k=c(1/3,2/3,1) if the three planned looks will be carried out at 1/3, 2/3 and all of the total events in the experiment arm.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_alpha">alpha</code></td>
<td>
<p>type I error.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_beta">beta</code></td>
<td>
<p>type II error.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_delta">delta</code></td>
<td>
<p>hazard ratio: hazard of experiment group over hazard of control group.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_delta0">delta0</code></td>
<td>
<p>Non-inferiority margin.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_d1">d1</code></td>
<td>
<p>total number of events in the historical control group.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_option">option</code></td>
<td>
<p>type of spending function: &quot;OBF&quot;, &quot;Gamma&quot;, &quot;Rho&quot; or &quot;Pocock&quot;. Default is &quot;OBF.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_param">param</code></td>
<td>
<p>Parameter for Gamma family or Rho family. Default value is 4.</p>
</td></tr>
<tr><td><code id="EffDesign_+3A_trial">trial</code></td>
<td>
<p>Type of trial: &quot;Superiority&quot; or &quot;Non-inferiority&quot;. Default is &quot;Superiority&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of dataframes and vectors containing the details about the following: design of the trial which includes the number of looks and events;
details about futility and efficacy boundaries which include transformed information time at each look, cumulative beta and alpha respectively, p-values and crossing probabilities;
etam(drift parameter); d2max(maximum number of events in the experimental group); delta_used(hazard ratio used in the design).
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>References</h3>

<p>Wu J, Xiong X (2016).
&ldquo;Survival trial design and monitoring using historical controls.&rdquo;
<em>Pharmaceutical Statistics</em>, <b>15</b>(5), 405-411.
</p>
<p>Wu J, Li Y (2020).
&ldquo;Group sequential design for historical control trials using error spending functions.&rdquo;
<em>Journal of Biopharmaceutical Statistics</em>, <b>30</b>(2), 351-363.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Superiority trial with three equally spaced looks for efficacy using OBF spending function.
gg&lt;-EffDesign(k=c(0.3,0.6,1),alpha=0.05,beta=0.1,delta=0.57,d1=65,option="OBF",trial="Superiority")
</code></pre>

<hr>
<h2 id='EffIM'>Monitoring the trial at interim looks for a trial with efficacy monitoring only</h2><span id='topic+EffIM'></span>

<h3>Description</h3>

<p>Calculates one-sided efficacy boundary values at the observed number of events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EffIM(
  d2,
  dmax,
  last.look = FALSE,
  d1,
  etam,
  alpha,
  beta,
  opt = "OBF",
  param = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EffIM_+3A_d2">d2</code></td>
<td>
<p>vector of number of events at which you want to monitor the trial.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_dmax">dmax</code></td>
<td>
<p>maximum number of events in the experimental group calculated from design function.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_last.look">last.look</code></td>
<td>
<p>logical which indicates whether the current look is the last look or not. Default is FALSE. If true, the post hoc power is calculated.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_d1">d1</code></td>
<td>
<p>total number of events in the historical control group.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_etam">etam</code></td>
<td>
<p>value of the drift parameter obtained from design function.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_alpha">alpha</code></td>
<td>
<p>type I error.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_beta">beta</code></td>
<td>
<p>type II error.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_opt">opt</code></td>
<td>
<p>type of spending function: &quot;OBF&quot;, &quot;Gamma&quot;, &quot;Rho&quot; or &quot;Pocock&quot;. Default is &quot;OBF&quot;.</p>
</td></tr>
<tr><td><code id="EffIM_+3A_param">param</code></td>
<td>
<p>Parameter for &quot;gamma family&quot; or rho family. Default value is 4.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The number of events have to be entered sequentially. See example.
</p>


<h3>Value</h3>

<p>A list containing efficacy boundary values along with the p-values and transformed information time for the current look. Post-hoc power is also calculated in case of early stopping of the trial.
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>References</h3>

<p>Wu J, Xiong X (2016).
&ldquo;Survival trial design and monitoring using historical controls.&rdquo;
<em>Pharmaceutical Statistics</em>, <b>15</b>(5), 405-411.
</p>
<p>Wu J, Li Y (2020).
&ldquo;Group sequential design for historical control trials using error spending functions.&rdquo;
<em>Journal of Biopharmaceutical Statistics</em>, <b>30</b>(2), 351-363.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Interim look for the trial when the number of events is 13(first look).
gg&lt;-EffIM(c(13),dmax=57,alpha=0.05,beta=0.1,etam=3.0726,d1=65,opt="OBF",last.look=FALSE)
#Interim look for the trial when the number of events is 35(second look).
gg&lt;-EffIM(c(13,35),dmax=57,alpha=0.05,beta=0.1,etam=3.0726,d1=65,opt="OBF",last.look=FALSE)
</code></pre>

<hr>
<h2 id='FutDesign'>HCT design with interim monitoring for futiity only</h2><span id='topic+FutDesign'></span>

<h3>Description</h3>

<p>The group sequential design for historical controlled survival outcome trials with futility boundaries only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FutDesign(
  k,
  alpha,
  beta,
  delta,
  d1,
  option = "OBF",
  param = 4,
  trial = "Superiority",
  delta0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FutDesign_+3A_k">k</code></td>
<td>
<p>vector of time fraction for all planned looks: k=c(1/3,2/3,1) if the three planned looks will be carried out at 1/3, 2/3 and all of the total events in the experiment arm.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_alpha">alpha</code></td>
<td>
<p>type I error.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_beta">beta</code></td>
<td>
<p>type II error.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_delta">delta</code></td>
<td>
<p>hazard ratio: hazard of experiment group over hazard of control group.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_d1">d1</code></td>
<td>
<p>total number of events in the historical control group.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_option">option</code></td>
<td>
<p>type of spending function: &quot;OBF&quot;, &quot;Gamma&quot;, &quot;Rho&quot; or &quot;Pocock&quot;. Default is &quot;OBF.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_param">param</code></td>
<td>
<p>Parameter for Gamma family or Rho family. Default value is 4.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_trial">trial</code></td>
<td>
<p>Type of trial: &quot;Superiority&quot; or &quot;Non-inferiority&quot;. Default is &quot;Superiority&quot;.</p>
</td></tr>
<tr><td><code id="FutDesign_+3A_delta0">delta0</code></td>
<td>
<p>Non-inferiority margin.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of dataframes and vectors containing the details about the following: design of the trial which includes the number of looks and events;
details about futility and efficacy boundaries which include transformed information time at each look, cumulative beta and alpha respectively, p-values and crossing probabilities;
etam(drift parameter); d2max(maximum number of events in the experimental group); delta_used(hazard ratio used in the design).
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>References</h3>

<p>Wu J, Xiong X (2016).
&ldquo;Survival trial design and monitoring using historical controls.&rdquo;
<em>Pharmaceutical Statistics</em>, <b>15</b>(5), 405-411.
</p>
<p>Wu J, Li Y (2020).
&ldquo;Group sequential design for historical control trials using error spending functions.&rdquo;
<em>Journal of Biopharmaceutical Statistics</em>, <b>30</b>(2), 351-363.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Sequential superiority trial for three equally spaced looks for OBF spending function.
gg&lt;-FutDesign(k=c(0.3,0.6,1),alpha=0.05,beta=0.1,delta=0.57,d1=65,option="OBF",trial="Superiority")
</code></pre>

<hr>
<h2 id='FutIM'>Monitoring the trial at interim looks for a trial with futility monitoring only</h2><span id='topic+FutIM'></span>

<h3>Description</h3>

<p>Calculates one-sided futility boundary values at the observed number of events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FutIM(
  d2,
  dmax,
  last.look = FALSE,
  d1,
  etam,
  alpha,
  beta,
  opt = "OBF",
  param = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FutIM_+3A_d2">d2</code></td>
<td>
<p>vector of number of events at which you want to monitor the trial.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_dmax">dmax</code></td>
<td>
<p>maximum number of events in the experimental group caculated from design function.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_last.look">last.look</code></td>
<td>
<p>logical which indicates whether the current look is the last look or not. Default is FALSE.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_d1">d1</code></td>
<td>
<p>total number of events in the historical control group.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_etam">etam</code></td>
<td>
<p>value of the drift parameter obtained from design function.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_alpha">alpha</code></td>
<td>
<p>type I error.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_beta">beta</code></td>
<td>
<p>type II error.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_opt">opt</code></td>
<td>
<p>type of spending function: &quot;OBF&quot;, &quot;Gamma&quot;, &quot;Rho&quot; or &quot;Pocock&quot;. Default is &quot;OBF&quot;.</p>
</td></tr>
<tr><td><code id="FutIM_+3A_param">param</code></td>
<td>
<p>Parameter for Gamma family or Rho family. Default value is 4.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The number of events have to be entered sequentially. See example.
</p>


<h3>Value</h3>

<p>A list containing futility boundary values along with the p-values and transformed information time for the current look.Post-hoc power is also calculated in case of early stopping of the trial.
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>References</h3>

<p>Wu J, Xiong X (2016).
&ldquo;Survival trial design and monitoring using historical controls.&rdquo;
<em>Pharmaceutical Statistics</em>, <b>15</b>(5), 405-411.
</p>
<p>Wu J, Li Y (2020).
&ldquo;Group sequential design for historical control trials using error spending functions.&rdquo;
<em>Journal of Biopharmaceutical Statistics</em>, <b>30</b>(2), 351-363.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Interim look for the trial when the number of events is 13(first look).
gg&lt;-FutIM(c(13),dmax=57,alpha=0.05,beta=0.1,etam=3.0726,d1=65,opt="OBF",last.look=FALSE)
#Interim look for the trial when the number of events is 35(second look).
gg&lt;-FutIM(c(13,35),dmax=57,alpha=0.05,beta=0.1,etam=3.0726,d1=65,opt="OBF",last.look=FALSE)
</code></pre>

<hr>
<h2 id='HCTSurvDesign'>HCT design with interim monitoring for both efficacy and futility</h2><span id='topic+HCTSurvDesign'></span>

<h3>Description</h3>

<p>The group sequential design for historical controlled survival outcome trials with both efficacy and futility boundaries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HCTSurvDesign(
  k,
  alpha,
  beta,
  delta,
  d1,
  option = "OBF",
  param = 4,
  trial = "Superiority",
  delta0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HCTSurvDesign_+3A_k">k</code></td>
<td>
<p>vector of time fraction for all planned looks: k=c(1/3,2/3,1) if the three planned looks will be carried out at 1/3, 2/3 and all of the total events in the experiment arm.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_alpha">alpha</code></td>
<td>
<p>type I error.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_beta">beta</code></td>
<td>
<p>type II error.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_delta">delta</code></td>
<td>
<p>hazard ratio: hazard of experiment group over hazard of control group.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_d1">d1</code></td>
<td>
<p>total number of events in the historical control group.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_option">option</code></td>
<td>
<p>type of spending function: &quot;OBF&quot;, &quot;Gamma&quot;, &quot;Rho&quot; or &quot;Pocock&quot;. Default is &quot;OBF&quot;.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_param">param</code></td>
<td>
<p>Parameter for Gamma family or Rho family. Default value is 4.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_trial">trial</code></td>
<td>
<p>Type of trial: &quot;Superiority&quot; or &quot;Non-inferiority&quot;. Default is &quot;Superiority&quot;.</p>
</td></tr>
<tr><td><code id="HCTSurvDesign_+3A_delta0">delta0</code></td>
<td>
<p>Non-inferiority margin.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of dataframes and vectors containing the details about the following: design of the trial which includes the number of looks and events;
details about futility and efficacy boundaries which include transformed information time at each look, cumulative beta and alpha respectively, p-values and crossing probabilities;
etam(drift parameter); d2max(maximum number of events in the experimental group); delta_used(hazard ratio used in the design).
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>References</h3>

<p>Wu J, Xiong X (2016).
&ldquo;Survival trial design and monitoring using historical controls.&rdquo;
<em>Pharmaceutical Statistics</em>, <b>15</b>(5), 405-411.
</p>
<p>Wu J, Li Y (2020).
&ldquo;Group sequential design for historical control trials using error spending functions.&rdquo;
<em>Journal of Biopharmaceutical Statistics</em>, <b>30</b>(2), 351-363.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Sequential superiority trial for three equally spaced looks for OBF spending function.
gg&lt;-HCTSurvDesign(k=c(0.3,0.6,1),alpha=0.05,beta=0.1,delta=0.57,d1=65,option="OBF")
</code></pre>

<hr>
<h2 id='IM'>Monitoring the trial at interim looks for a trial with efficacy and futility boundaries</h2><span id='topic+IM'></span>

<h3>Description</h3>

<p>Calculates one-sided boundary values at the observed number of events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IM(d2, dmax, last.look = FALSE, d1, etam, alpha, beta, opt = "OBF", param = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IM_+3A_d2">d2</code></td>
<td>
<p>vector of number of events at which you want to monitor the trial.</p>
</td></tr>
<tr><td><code id="IM_+3A_dmax">dmax</code></td>
<td>
<p>maximum number of events in the experimental group calculated from design function.</p>
</td></tr>
<tr><td><code id="IM_+3A_last.look">last.look</code></td>
<td>
<p>logical which indicates whether the current look is the last look or not. Default is FALSE.</p>
</td></tr>
<tr><td><code id="IM_+3A_d1">d1</code></td>
<td>
<p>total number of events in the historical control group.</p>
</td></tr>
<tr><td><code id="IM_+3A_etam">etam</code></td>
<td>
<p>value of the drift parameter obtained from design function.</p>
</td></tr>
<tr><td><code id="IM_+3A_alpha">alpha</code></td>
<td>
<p>type I error.</p>
</td></tr>
<tr><td><code id="IM_+3A_beta">beta</code></td>
<td>
<p>type II error.</p>
</td></tr>
<tr><td><code id="IM_+3A_opt">opt</code></td>
<td>
<p>type of spending function: &quot;OBF&quot;, &quot;Gamma&quot;, &quot;Rho&quot; or &quot;Pocock&quot;. Default is &quot;OBF&quot;.</p>
</td></tr>
<tr><td><code id="IM_+3A_param">param</code></td>
<td>
<p>Parameter for Gamma family or Rho family. Default value is 4.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The number of events have to be entered sequentially. See example.
</p>


<h3>Value</h3>

<p>A list containing efficacy and futility boundary values along with the p-values and transformed information time for the current look. Post-hoc power is also calculated in case of early stopping of the trial.
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>References</h3>

<p>Wu J, Xiong X (2016).
&ldquo;Survival trial design and monitoring using historical controls.&rdquo;
<em>Pharmaceutical Statistics</em>, <b>15</b>(5), 405-411.
</p>
<p>Wu J, Li Y (2020).
&ldquo;Group sequential design for historical control trials using error spending functions.&rdquo;
<em>Journal of Biopharmaceutical Statistics</em>, <b>30</b>(2), 351-363.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Interim look for the trial when the number of events is 13(first look).
gg&lt;-IM(c(13),dmax=57,alpha=0.05,beta=0.1,etam=3.0726,d1=65,opt="OBF",last.look=FALSE)
#Interim look for the trial when the number of events is 35(second look).
gg&lt;-IM(c(13,35),dmax=57,alpha=0.05,beta=0.1,etam=3.0726,d1=65,opt="OBF",last.look=FALSE)
</code></pre>

<hr>
<h2 id='sf'>Log rank test for non-inferiority trial</h2><span id='topic+sf'></span>

<h3>Description</h3>

<p>Calculates the score function of the log rank test for non-inferiority trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sf(event, status, delta0, group, experiment, control)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sf_+3A_event">event</code></td>
<td>
<p>event time vector from person level trial data.</p>
</td></tr>
<tr><td><code id="sf_+3A_status">status</code></td>
<td>
<p>numeric vector indicating the status of event from person level trial data.</p>
</td></tr>
<tr><td><code id="sf_+3A_delta0">delta0</code></td>
<td>
<p>Non-inferiority margin.</p>
</td></tr>
<tr><td><code id="sf_+3A_group">group</code></td>
<td>
<p>group string vector indicating the assignment of patients into control or experimental group.</p>
</td></tr>
<tr><td><code id="sf_+3A_experiment">experiment</code></td>
<td>
<p>name of experimental group as character string.</p>
</td></tr>
<tr><td><code id="sf_+3A_control">control</code></td>
<td>
<p>name of control group as character string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the value of score statistic.
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time&lt;-c(20,65,12,50,58,65,45,44)
event&lt;-c(1,0,0,0,1,1,1,1)
group&lt;-c(rep("exp",4),rep("cont",4))
gg&lt;-sf(event=time,status=event,delta0=1.3,group=group,experiment="exp",control="cont")
</code></pre>

<hr>
<h2 id='SM'>Sample size in terms of number of subjects in the experimental group</h2><span id='topic+SM'></span>

<h3>Description</h3>

<p>Calculates the total number of subjects for the experimental group using the total number of events(d2max:the output from design functions) and the estimated failure probability based on the person level historical control data and proportional hazard assumption.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SM(time, event, d2max, opt = "KM", event_ind, ta, tf, delta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SM_+3A_time">time</code></td>
<td>
<p>event time vector from person level historical control data.</p>
</td></tr>
<tr><td><code id="SM_+3A_event">event</code></td>
<td>
<p>numeric vector indicating the status of event from person level historical control data.</p>
</td></tr>
<tr><td><code id="SM_+3A_d2max">d2max</code></td>
<td>
<p>maximum number of events in the experimental group calculated from the design function.</p>
</td></tr>
<tr><td><code id="SM_+3A_opt">opt</code></td>
<td>
<p>the method of fitting survival curve-&quot;log_normal&quot; or &quot;KM&quot; (log-normal or Kaplan Meier). Default is &quot;KM&quot;.</p>
</td></tr>
<tr><td><code id="SM_+3A_event_ind">event_ind</code></td>
<td>
<p>numeric value indicating the occurrence of event.</p>
</td></tr>
<tr><td><code id="SM_+3A_ta">ta</code></td>
<td>
<p>enrollment time.</p>
</td></tr>
<tr><td><code id="SM_+3A_tf">tf</code></td>
<td>
<p>follow-up time.</p>
</td></tr>
<tr><td><code id="SM_+3A_delta">delta</code></td>
<td>
<p>hazard ratio.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the value of sample size.
</p>


<h3>Author(s)</h3>

<p>Tushar Patni, Yimei Li, Jianrong Wu, and Arzu Onar-Thomas.
</p>


<h3>References</h3>

<p>Wu J, Xiong X (2016).
&ldquo;Survival trial design and monitoring using historical controls.&rdquo;
<em>Pharmaceutical Statistics</em>, <b>15</b>(5), 405-411.
</p>
<p>Wu J, Li Y (2020).
&ldquo;Group sequential design for historical control trials using error spending functions.&rdquo;
<em>Journal of Biopharmaceutical Statistics</em>, <b>30</b>(2), 351-363.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time&lt;-c(20,65,12,50,58,65,45,44)
event&lt;-c(1,0,0,0,1,1,1,1)
d2max=57
gg&lt;-SM(time,event,d2max,opt="log_normal",ta=4,tf=3,delta=0.57,event_ind=1)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

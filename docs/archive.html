<!DOCTYPE html><html><head><title>Help for package archive</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {archive}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#archive'><p>Construct a new archive</p></a></li>
<li><a href='#archive_extract'><p>Extract contents of an archive to a directory</p></a></li>
<li><a href='#archive_read'><p>Create a readable connection to a file in an archive.</p></a></li>
<li><a href='#archive_write'><p>Create a writable connection to a file in an archive.</p></a></li>
<li><a href='#archive_write_dir'><p>Add files to a new archive</p></a></li>
<li><a href='#file_read'><p>Construct a connections for (possibly compressed) files.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Multi-Format Archive and Compression Support</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.7</td>
</tr>
<tr>
<td>Description:</td>
<td>Bindings to 'libarchive' <a href="http://www.libarchive.org">http://www.libarchive.org</a> the
    Multi-format archive and compression library. Offers R connections and
    direct extraction for many archive formats including 'tar', 'ZIP',
    '7-zip', 'RAR', 'CAB' and compression formats including 'gzip',
    'bzip2', 'compress', 'lzma' and 'xz'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://archive.r-lib.org/">https://archive.r-lib.org/</a>, <a href="https://github.com/r-lib/archive">https://github.com/r-lib/archive</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/archive/issues">https://github.com/r-lib/archive/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, glue, rlang, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, testthat</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>cli, cpp11</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>libarchive: libarchive-dev (deb), libarchive-devel
(rpm), libarchive (homebrew), libarchive_dev (csw)</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-11 11:44:18 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>Jim Hester <a href="https://orcid.org/0000-0002-2739-7082"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Gábor Csárdi [aut, cre],
  Ondrej Holy [cph] (archive_write_add_filter implementation),
  RStudio [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gábor Csárdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-11 12:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='archive'>Construct a new archive</h2><span id='topic+archive'></span>

<h3>Description</h3>

<p>This function retrieves metadata about files in an archive, it can be passed
to <code><a href="#topic+archive_read">archive_read()</a></code> or <a href="#topic+archive_write">archive_write</a> to create a connection to read or
write a specific file from the archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archive(file, options = character())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="archive_+3A_file">file</code></td>
<td>
<p>File path to the archive.</p>
</td></tr>
<tr><td><code id="archive_+3A_options">options</code></td>
<td>
<p><code>character()</code> default: <code>character(0)</code> Options to pass to the filter or format.
The list of available options are documented in
options can have one of the following forms:
</p>

<ul>
<li> <p><code>option=value</code>
The option/value pair will be provided to every module.
Modules that do not accept an option with this name will
ignore it.
</p>
</li>
<li> <p><code>option</code>
The option will be provided to every module with a value
of &quot;1&quot;.
</p>
</li>
<li> <p><code>!option</code>
The option will be provided to every module with a NULL
value.
</p>
</li>
<li> <p><code>module:option=value</code>, <code>module:option</code>, <code>module:!option</code>
As above, but the corresponding option and value will be
provided only to modules whose name matches module.
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_read_set_options&amp;sektion=3&amp;format=html">read options</a> for available read options
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_write_set_options&amp;sektion=3&amp;format=html">write options</a> for available write options
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble-package">tibble</a> with details about files in the archive.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+archive_read">archive_read()</a></code>, <code><a href="#topic+archive_write">archive_write()</a></code> to read and write archive files
using R connections, <code><a href="#topic+archive_extract">archive_extract()</a></code>, <code><a href="#topic+archive_write_files">archive_write_files()</a></code>,
<code><a href="#topic+archive_write_dir">archive_write_dir()</a></code> to add or extract files from an archive.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- archive(system.file(package = "archive", "extdata", "data.zip"))
a
</code></pre>

<hr>
<h2 id='archive_extract'>Extract contents of an archive to a directory</h2><span id='topic+archive_extract'></span>

<h3>Description</h3>

<p>Extract contents of an archive to a directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archive_extract(
  archive,
  dir = ".",
  files = NULL,
  options = character(),
  strip_components = 0L
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="archive_extract_+3A_archive">archive</code></td>
<td>
<p><code>character(1)</code> The archive filename or an <code>archive</code> object.</p>
</td></tr>
<tr><td><code id="archive_extract_+3A_dir">dir</code></td>
<td>
<p><code>character(1)</code> Directory location to extract archive contents, will be created
if it does not exist.</p>
</td></tr>
<tr><td><code id="archive_extract_+3A_files">files</code></td>
<td>
<p><code>character() || integer() || NULL</code> One or more files within the archive,
specified either by filename or by position.</p>
</td></tr>
<tr><td><code id="archive_extract_+3A_options">options</code></td>
<td>
<p><code>character()</code> default: <code>character(0)</code> Options to pass to the filter or format.
The list of available options are documented in
options can have one of the following forms:
</p>

<ul>
<li> <p><code>option=value</code>
The option/value pair will be provided to every module.
Modules that do not accept an option with this name will
ignore it.
</p>
</li>
<li> <p><code>option</code>
The option will be provided to every module with a value
of &quot;1&quot;.
</p>
</li>
<li> <p><code>!option</code>
The option will be provided to every module with a NULL
value.
</p>
</li>
<li> <p><code>module:option=value</code>, <code>module:option</code>, <code>module:!option</code>
As above, but the corresponding option and value will be
provided only to modules whose name matches module.
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_read_set_options&amp;sektion=3&amp;format=html">read options</a> for available read options
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_write_set_options&amp;sektion=3&amp;format=html">write options</a> for available write options
</p>
</li></ul>
</td></tr>
<tr><td><code id="archive_extract_+3A_strip_components">strip_components</code></td>
<td>
<p>Remove the specified number of leading path
elements. Pathnames with fewer elements will be silently skipped.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>files</code> is <code>NULL</code> (the default) all files will be extracted.
</p>


<h3>Value</h3>

<p>The filenames extracted (invisibly).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- system.file(package = "archive", "extdata", "data.zip")
d &lt;- tempfile()

# When called with default arguments extracts all files in the archive.
archive_extract(a, d)
list.files(d)
unlink(d)

# Can also specify one or more files to extract
d &lt;- tempfile()
archive_extract(a, d, c("iris.csv", "airquality.csv"))
list.files(d)
unlink(d)
</code></pre>

<hr>
<h2 id='archive_read'>Create a readable connection to a file in an archive.</h2><span id='topic+archive_read'></span>

<h3>Description</h3>

<p>Create a readable connection to a file in an archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archive_read(
  archive,
  file = 1L,
  mode = "r",
  format = NULL,
  filter = NULL,
  options = character()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="archive_read_+3A_archive">archive</code></td>
<td>
<p><code>character(1)</code> The archive filename or an <code>archive</code> object.</p>
</td></tr>
<tr><td><code id="archive_read_+3A_file">file</code></td>
<td>
<p><code>character(1) || integer(1)</code> The filename within the archive,
specified either by filename or by position.</p>
</td></tr>
<tr><td><code id="archive_read_+3A_mode">mode</code></td>
<td>
<p><code>character(1)</code> A description of how to open the
connection (if it should be opened initially).  See section
‘Modes’ in <code><a href="base.html#topic+connections">base::connections()</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="archive_read_+3A_format">format</code></td>
<td>
<p><code>character(1)</code> default: <code>NULL</code> The archive format, one of &lsquo;7zip&rsquo;, &lsquo;cab&rsquo;, &lsquo;cpio&rsquo;, &lsquo;iso9660&rsquo;, &lsquo;lha&rsquo;, &lsquo;mtree&rsquo;, &lsquo;shar&rsquo;, &lsquo;rar&rsquo;, &lsquo;raw&rsquo;, &lsquo;tar&rsquo;, &lsquo;xar&rsquo;, &lsquo;zip&rsquo;, &lsquo;warc&rsquo;.</p>
</td></tr>
<tr><td><code id="archive_read_+3A_filter">filter</code></td>
<td>
<p><code>character(1)</code> default: <code>NULL</code> The archive filter, one of &lsquo;none&rsquo;, &lsquo;gzip&rsquo;, &lsquo;bzip2&rsquo;, &lsquo;compress&rsquo;, &lsquo;lzma&rsquo;, &lsquo;xz&rsquo;, &lsquo;uuencode&rsquo;, &lsquo;lzip&rsquo;, &lsquo;lrzip&rsquo;, &lsquo;lzop&rsquo;, &lsquo;grzip&rsquo;, &lsquo;lz4&rsquo;, &lsquo;zstd&rsquo;.</p>
</td></tr>
<tr><td><code id="archive_read_+3A_options">options</code></td>
<td>
<p><code>character()</code> default: <code>character(0)</code> Options to pass to the filter or format.
The list of available options are documented in
options can have one of the following forms:
</p>

<ul>
<li> <p><code>option=value</code>
The option/value pair will be provided to every module.
Modules that do not accept an option with this name will
ignore it.
</p>
</li>
<li> <p><code>option</code>
The option will be provided to every module with a value
of &quot;1&quot;.
</p>
</li>
<li> <p><code>!option</code>
The option will be provided to every module with a NULL
value.
</p>
</li>
<li> <p><code>module:option=value</code>, <code>module:option</code>, <code>module:!option</code>
As above, but the corresponding option and value will be
provided only to modules whose name matches module.
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_read_set_options&amp;sektion=3&amp;format=html">read options</a> for available read options
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_write_set_options&amp;sektion=3&amp;format=html">write options</a> for available write options
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>An 'archive_read' connection to the file within the archive to be read.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- system.file(package = "archive", "extdata", "data.zip")
# Show files in archive
a

# By default reads the first file in the archive.
read.csv(archive_read(a), nrows = 3)

# Can also specify a filename directly
read.csv(archive_read(a, "mtcars.csv"), nrows = 3)

# Or by position
read.csv(archive_read(a, 3), nrows = 3)

# Explicitly specify the format and filter if automatic detection fails.
read.csv(archive_read(a, format = "zip"), nrows = 3)
</code></pre>

<hr>
<h2 id='archive_write'>Create a writable connection to a file in an archive.</h2><span id='topic+archive_write'></span>

<h3>Description</h3>

<p>Create a writable connection to a file in an archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archive_write(
  archive,
  file,
  mode = "w",
  format = NULL,
  filter = NULL,
  options = character()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="archive_write_+3A_archive">archive</code></td>
<td>
<p><code>character(1)</code> The archive filename or an <code>archive</code> object.</p>
</td></tr>
<tr><td><code id="archive_write_+3A_file">file</code></td>
<td>
<p><code>character(1) || integer(1)</code> The filename within the archive,
specified either by filename or by position.</p>
</td></tr>
<tr><td><code id="archive_write_+3A_mode">mode</code></td>
<td>
<p><code>character(1)</code> A description of how to open the
connection (if it should be opened initially).  See section
‘Modes’ in <code><a href="base.html#topic+connections">base::connections()</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="archive_write_+3A_format">format</code></td>
<td>
<p><code>character(1)</code> default: <code>NULL</code> The archive format, one of &lsquo;7zip&rsquo;, &lsquo;cab&rsquo;, &lsquo;cpio&rsquo;, &lsquo;iso9660&rsquo;, &lsquo;lha&rsquo;, &lsquo;mtree&rsquo;, &lsquo;shar&rsquo;, &lsquo;rar&rsquo;, &lsquo;raw&rsquo;, &lsquo;tar&rsquo;, &lsquo;xar&rsquo;, &lsquo;zip&rsquo;, &lsquo;warc&rsquo;.</p>
</td></tr>
<tr><td><code id="archive_write_+3A_filter">filter</code></td>
<td>
<p><code>character(1)</code> default: <code>NULL</code> The archive filter, one of &lsquo;none&rsquo;, &lsquo;gzip&rsquo;, &lsquo;bzip2&rsquo;, &lsquo;compress&rsquo;, &lsquo;lzma&rsquo;, &lsquo;xz&rsquo;, &lsquo;uuencode&rsquo;, &lsquo;lzip&rsquo;, &lsquo;lrzip&rsquo;, &lsquo;lzop&rsquo;, &lsquo;grzip&rsquo;, &lsquo;lz4&rsquo;, &lsquo;zstd&rsquo;.</p>
</td></tr>
<tr><td><code id="archive_write_+3A_options">options</code></td>
<td>
<p><code>character()</code> default: <code>character(0)</code> Options to pass to the filter or format.
The list of available options are documented in
options can have one of the following forms:
</p>

<ul>
<li> <p><code>option=value</code>
The option/value pair will be provided to every module.
Modules that do not accept an option with this name will
ignore it.
</p>
</li>
<li> <p><code>option</code>
The option will be provided to every module with a value
of &quot;1&quot;.
</p>
</li>
<li> <p><code>!option</code>
The option will be provided to every module with a NULL
value.
</p>
</li>
<li> <p><code>module:option=value</code>, <code>module:option</code>, <code>module:!option</code>
As above, but the corresponding option and value will be
provided only to modules whose name matches module.
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_read_set_options&amp;sektion=3&amp;format=html">read options</a> for available read options
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_write_set_options&amp;sektion=3&amp;format=html">write options</a> for available write options
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>format</code> and <code>filter</code> are <code>NULL</code>, they will be set automatically based on
the file extension given in <code>file</code> when writing and automatically detected
using
<a href="https://github.com/libarchive/libarchive/wiki/FormatDetection">Robust automatic format detection</a>
when reading.
</p>
<p>For traditional zip archives <code><a href="#topic+archive_write">archive_write()</a></code> creates a connection which
writes the data to the specified file directly. For other archive formats
the file size must be known when the archive is created, so the data is
first written to a scratch file on disk and then added to the archive. This
scratch file is automatically removed when writing is complete.
</p>


<h3>Value</h3>

<p>An 'archive_write' connection to the file within the archive to be written.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Archive format and filters can be set automatically from the file extensions.
f1 &lt;- tempfile(fileext = ".tar.gz")

write.csv(mtcars, archive_write(f1, "mtcars.csv"))
archive(f1)
unlink(f1)

# They can also be specified explicitly
f2 &lt;- tempfile()
write.csv(mtcars, archive_write(f2, "mtcars.csv", format = "tar", filter = "bzip2"))
archive(f2)
unlink(f2)

# You can also pass additional options to control things like compression level
f3 &lt;- tempfile(fileext = ".tar.gz")
write.csv(mtcars, archive_write(f3, "mtcars.csv", options = "compression-level=2"))
archive(f3)
unlink(f3)
</code></pre>

<hr>
<h2 id='archive_write_dir'>Add files to a new archive</h2><span id='topic+archive_write_dir'></span><span id='topic+archive_write_files'></span>

<h3>Description</h3>

<p><code>archive_write_files()</code> adds one or more files to a new archive.
<code>archive_write_dir()</code> adds all the file(s) in a directory to a new archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archive_write_dir(
  archive,
  dir,
  format = NULL,
  filter = NULL,
  options = character(),
  ...,
  recursive = TRUE,
  full.names = FALSE
)

archive_write_files(
  archive,
  files,
  format = NULL,
  filter = NULL,
  options = character()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="archive_write_dir_+3A_archive">archive</code></td>
<td>
<p><code>character(1)</code> The archive filename or an <code>archive</code> object.</p>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_dir">dir</code></td>
<td>
<p><code>character(1)</code> The directory of files to add.</p>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_format">format</code></td>
<td>
<p><code>character(1)</code> default: <code>NULL</code> The archive format, one of &lsquo;7zip&rsquo;, &lsquo;cab&rsquo;, &lsquo;cpio&rsquo;, &lsquo;iso9660&rsquo;, &lsquo;lha&rsquo;, &lsquo;mtree&rsquo;, &lsquo;shar&rsquo;, &lsquo;rar&rsquo;, &lsquo;raw&rsquo;, &lsquo;tar&rsquo;, &lsquo;xar&rsquo;, &lsquo;zip&rsquo;, &lsquo;warc&rsquo;.</p>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_filter">filter</code></td>
<td>
<p><code>character(1)</code> default: <code>NULL</code> The archive filter, one of &lsquo;none&rsquo;, &lsquo;gzip&rsquo;, &lsquo;bzip2&rsquo;, &lsquo;compress&rsquo;, &lsquo;lzma&rsquo;, &lsquo;xz&rsquo;, &lsquo;uuencode&rsquo;, &lsquo;lzip&rsquo;, &lsquo;lrzip&rsquo;, &lsquo;lzop&rsquo;, &lsquo;grzip&rsquo;, &lsquo;lz4&rsquo;, &lsquo;zstd&rsquo;.</p>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_options">options</code></td>
<td>
<p><code>character()</code> default: <code>character(0)</code> Options to pass to the filter or format.
The list of available options are documented in
options can have one of the following forms:
</p>

<ul>
<li> <p><code>option=value</code>
The option/value pair will be provided to every module.
Modules that do not accept an option with this name will
ignore it.
</p>
</li>
<li> <p><code>option</code>
The option will be provided to every module with a value
of &quot;1&quot;.
</p>
</li>
<li> <p><code>!option</code>
The option will be provided to every module with a NULL
value.
</p>
</li>
<li> <p><code>module:option=value</code>, <code>module:option</code>, <code>module:!option</code>
As above, but the corresponding option and value will be
provided only to modules whose name matches module.
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_read_set_options&amp;sektion=3&amp;format=html">read options</a> for available read options
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_write_set_options&amp;sektion=3&amp;format=html">write options</a> for available write options
</p>
</li></ul>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_...">...</code></td>
<td>
<p>additional parameters passed to <code>base::dir</code>.</p>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_recursive">recursive</code></td>
<td>
<p>logical.  Should the listing recurse into directories?</p>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_full.names">full.names</code></td>
<td>
<p>a logical value.  If <code>TRUE</code>, the directory
path is prepended to the file names to give a relative file path.
If <code>FALSE</code>, the file names (rather than paths) are returned.</p>
</td></tr>
<tr><td><code id="archive_write_dir_+3A_files">files</code></td>
<td>
<p><code>character()</code> One or more files to add to the archive.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An 'archive' object representing the new archive (invisibly).
</p>
<p>An 'archive' object representing the new archive (invisibly).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (archive:::libarchive_version() &gt; "3.2.0") {
# write some files to a directory
d &lt;- tempfile()
dir.create(d)
old &lt;- setwd(d)

write.csv(iris, file.path(d, "iris.csv"))
write.csv(mtcars, file.path(d, "mtcars.csv"))
write.csv(airquality, file.path(d, "airquality.csv"))

# Add some to a new archive
a &lt;- archive_write_files("data.tar.gz", c("iris.csv", "mtcars.csv"))
setwd(old)
a

# Add all files in a directory
a &lt;- archive_write_dir("data.zip", d)
a

unlink("data.zip")
}
</code></pre>

<hr>
<h2 id='file_read'>Construct a connections for (possibly compressed) files.</h2><span id='topic+file_read'></span><span id='topic+file_connections'></span><span id='topic+file_write'></span>

<h3>Description</h3>

<p>They are functionally equivalent to calling <a href="#topic+archive_read">archive_read</a> or
<a href="#topic+archive_write">archive_write</a> using <code style="white-space: pre;">&#8288;format = "raw", archive = file&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_read(file, mode = "r", filter = NULL, options = character())

file_write(file, mode = "w", filter = NULL, options = character())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_read_+3A_file">file</code></td>
<td>
<p><code>character(1) || integer(1)</code> The filename within the archive,
specified either by filename or by position.</p>
</td></tr>
<tr><td><code id="file_read_+3A_mode">mode</code></td>
<td>
<p><code>character(1)</code> A description of how to open the
connection (if it should be opened initially).  See section
‘Modes’ in <code><a href="base.html#topic+connections">base::connections()</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="file_read_+3A_filter">filter</code></td>
<td>
<p><code>character(1)</code> default: <code>NULL</code> The archive filter, one of &lsquo;none&rsquo;, &lsquo;gzip&rsquo;, &lsquo;bzip2&rsquo;, &lsquo;compress&rsquo;, &lsquo;lzma&rsquo;, &lsquo;xz&rsquo;, &lsquo;uuencode&rsquo;, &lsquo;lzip&rsquo;, &lsquo;lrzip&rsquo;, &lsquo;lzop&rsquo;, &lsquo;grzip&rsquo;, &lsquo;lz4&rsquo;, &lsquo;zstd&rsquo;.</p>
</td></tr>
<tr><td><code id="file_read_+3A_options">options</code></td>
<td>
<p><code>character()</code> default: <code>character(0)</code> Options to pass to the filter or format.
The list of available options are documented in
options can have one of the following forms:
</p>

<ul>
<li> <p><code>option=value</code>
The option/value pair will be provided to every module.
Modules that do not accept an option with this name will
ignore it.
</p>
</li>
<li> <p><code>option</code>
The option will be provided to every module with a value
of &quot;1&quot;.
</p>
</li>
<li> <p><code>!option</code>
The option will be provided to every module with a NULL
value.
</p>
</li>
<li> <p><code>module:option=value</code>, <code>module:option</code>, <code>module:!option</code>
As above, but the corresponding option and value will be
provided only to modules whose name matches module.
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_read_set_options&amp;sektion=3&amp;format=html">read options</a> for available read options
See <a href="https://man.freebsd.org/cgi/man.cgi?query=archive_write_set_options&amp;sektion=3&amp;format=html">write options</a> for available write options
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p><code>file_write()</code> returns an writable output connection,
<code>file_read()</code> returns a readable input connection.
</p>


<h3>Value</h3>

<p>An 'archive_read' connection (for <code>file_read()</code>) or an 'archive_write' connection (for <code>file_write()</code>) to the file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (archive:::libarchive_version() &gt; "3.2.0") {
# Write bzip2, base 64 encoded data and use high compression
write.csv(mtcars,
  file_write("mtcars.bz2",
    filter = c("uuencode", "bzip2"),
    options = "compression-level=9"
  )
)

# Read it back
read.csv(file_read("mtcars.bz2"), row.names = 1, nrows = 3)
unlink("mtcars.bz2")
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

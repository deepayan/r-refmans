<!DOCTYPE html><html><head><title>Help for package PointedSDMs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PointedSDMs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BBA'><p>Dataset of setophaga caerulescens obtained from the Pennsylvania Atlas of Breeding Birds.</p></a></li>
<li><a href='#BBS'><p>Dataset of setophaga caerulescens obtained from the North American Breeding Bird survey across Pennsylvania state.</p></a></li>
<li><a href='#BBSColinusVirginianus'><p>Dataset of Colinus Virginianus obtained from the North American Breeding Bird survey across Alabama state.</p></a></li>
<li><a href='#blockedCV'><p><em>blockedCV</em>: run spatial blocked cross-validation on the integrated model.</p></a></li>
<li><a href='#blockedCV-class'><p>Export class blockedCV</p></a></li>
<li><a href='#bruSDM_predict-class'><p>Export class predict_bru_sdm</p></a></li>
<li><a href='#bruSDM-class'><p>Export bru_sdm class</p></a></li>
<li><a href='#changeCoords'><p><em>changeCoords</em>: function used to change coordinate names.</p></a></li>
<li><a href='#checkCoords'><p><em>checkCoords</em>: function used to check coordinate names.</p></a></li>
<li><a href='#checkVar'><p><em>checkVar</em>: Function used to check variable names.</p></a></li>
<li><a href='#data2ENV'><p><em>data2ENV</em>: function used to move objects from one environment to another.</p></a></li>
<li><a href='#dataOrganize'><p>R6 class to assist in reformatting the data to be used in dataSDM.</p></a></li>
<li><a href='#dataSDM'><p>R6 class for creating a <code>dataSDM</code> object.</p></a></li>
<li><a href='#dataSet'><p>Internal function used to standardize datasets, as well as assign metadata.</p></a></li>
<li><a href='#datasetOut'><p><em>datasetOut</em>: function that removes a dataset out of the main model, and calculates some cross-validation score.</p></a></li>
<li><a href='#datasetOut-class'><p>Export class bru_sdm_leave_one_out</p></a></li>
<li><a href='#eBird'><p>data.frame object containing solitary tinamou observations from eBird</p></a></li>
<li><a href='#elev_raster'><p>Raster object containing the elevation across Pennsylvania state.</p></a></li>
<li><a href='#fitISDM'><p><em>fitISDM</em>: function used to run the integrated model.</p></a></li>
<li><a href='#Gbif'><p>data.frame object containing solitary tinamou observations from Gbif</p></a></li>
<li><a href='#intModel'><p><em>intModel</em>: Function used to initialize the integrated species distribution model.</p></a></li>
<li><a href='#Koala'><p>Dataset of Eucalyptus globulus (common name: blue gum) sightings collected across the Koala conservation reserve on Phillip island (Australia) between 1993 and 2004. Two marks are considered from this dataset: &quot;koala&quot; which describes the number of koala visits to each tree, and &quot;food&quot; which is some index of the palatability of the leaves.</p></a></li>
<li><a href='#makeLhoods'><p><em>makeLhoods</em>: function to make likelihoods.</p></a></li>
<li><a href='#nameChanger'><p><em>nameChanger</em>: function to change a variable name.</p></a></li>
<li><a href='#NLCD_canopy_raster'><p>Raster object containing the canopy cover across Pennsylvania state.</p></a></li>
<li><a href='#Parks'><p>data.frame object containing solitary tinamou observations from Parks</p></a></li>
<li><a href='#plot.bruSDM_predict'><p>Generic plot function for <code>predict_bru_sdm</code>.</p></a></li>
<li><a href='#predict.bruSDM'><p>Generic predict function for <code>bru_SDM</code> objects.</p></a></li>
<li><a href='#print.blockedCV'><p>Print function for <code>blockedCV</code>.</p></a></li>
<li><a href='#print.bruSDM'><p>Generic print function for <code>bruSDM</code>.</p></a></li>
<li><a href='#print.bruSDM_predict'><p>Generic print function for <code>bru_sdm_predict</code>.</p></a></li>
<li><a href='#print.datasetOut'><p>Generic print function for <code>datasetOut</code>.</p></a></li>
<li><a href='#region'><p>sf object containing the boundary region for solitary tinamouc</p></a></li>
<li><a href='#runModel'><p><em>runModel</em>: function used to run the integrated model. Note that this function is depreciated, and will be removed in a later version of the package.</p></a></li>
<li><a href='#SetophagaData'><p>List of all data objects used for the Setophaga vignette.</p></a></li>
<li><a href='#SolitaryTinamou'><p>List of all data objects used for the solitary tinamou vignette.</p></a></li>
<li><a href='#SolTinCovariates'><p>spatRaster object containing covariate values</p></a></li>
<li><a href='#summary.bruSDM'><p>Generic summary function for <code>bruSDM</code>.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fit Models Derived from Point Processes to Species Distributions
using 'inlabru'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philip Mostert &lt;philip.s.mostert@ntnu.no&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/PhilipMostert/PointedSDMs">https://github.com/PhilipMostert/PointedSDMs</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/PhilipMostert/PointedSDMs/issues">https://github.com/PhilipMostert/PointedSDMs/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Integrated species distribution modeling is a rising field in quantitative ecology thanks to significant rises in the quantity of data available, increases in computational speed and the proven benefits of using such models. 
  Despite this, the general software to help ecologists construct such models in an easy-to-use framework is lacking. 
  We therefore introduce the R package 'PointedSDMs': which provides the tools to help ecologists set up integrated models and perform inference on them.
  There are also functions within the package to help run spatial cross-validation for model selection, as well as generic plotting and predicting functions.
  An introduction to these methods is discussed in Issac, Jarzyna, Keil, Dambly, Boersch-Supan, Browning, Freeman, Golding, Guillera-Arroita, Henrys, Jarvis, Lahoz-Monfort, Pagel, Pescott, Schmucki, Simmonds and Oâ€™Hara (2020) &lt;<a href="https://doi.org/10.1016%2Fj.tree.2019.08.006">doi:10.1016/j.tree.2019.08.006</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1), stats, sf, inlabru (&ge; 2.8.0), R6 (&ge; 2.5),
methods,</td>
</tr>
<tr>
<td>Imports:</td>
<td>terra, ggplot2, raster, sp (&ge; 1.4-5), R.devices, blockCV (&ge;
3.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), sn, INLA (&ge; 21.08.31), rasterVis,
ggmap, ggpolypath, RColorBrewer, cowplot, knitr, kableExtra,
rmarkdown, spocc, covr</td>
</tr>
<tr>
<td>Additional_repositories:</td>
<td><a href="https://inla.r-inla-download.org/R/testing">https://inla.r-inla-download.org/R/testing</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-02 08:50:51 UTC; philism</td>
</tr>
<tr>
<td>Author:</td>
<td>Philip Mostert [aut, cre],
  Bob O'hara [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-02 09:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='BBA'>Dataset of setophaga caerulescens obtained from the Pennsylvania Atlas of Breeding Birds.</h2><span id='topic+BBA'></span>

<h3>Description</h3>

<p>Dataset of setophaga caerulescens obtained from the Pennsylvania Atlas of Breeding Birds.
</p>


<h3>References</h3>

<p><a href="http://www.pabirdatlas.psu.edu">http://www.pabirdatlas.psu.edu</a>
</p>

<hr>
<h2 id='BBS'>Dataset of setophaga caerulescens obtained from the North American Breeding Bird survey across Pennsylvania state.</h2><span id='topic+BBS'></span>

<h3>Description</h3>

<p>Dataset of setophaga caerulescens obtained from the North American Breeding Bird survey across Pennsylvania state.
</p>


<h3>References</h3>

<p><a href="https://www.pwrc.usgs.gov/bbs/">https://www.pwrc.usgs.gov/bbs/</a>
</p>

<hr>
<h2 id='BBSColinusVirginianus'>Dataset of Colinus Virginianus obtained from the North American Breeding Bird survey across Alabama state.</h2><span id='topic+BBSColinusVirginianus'></span>

<h3>Description</h3>

<p>Dataset of Colinus Virginianus obtained from the North American Breeding Bird survey across Alabama state.
</p>


<h3>References</h3>

<p><a href="https://www.pwrc.usgs.gov/bbs/">https://www.pwrc.usgs.gov/bbs/</a>
</p>

<hr>
<h2 id='blockedCV'><em>blockedCV</em>: run spatial blocked cross-validation on the integrated model.</h2><span id='topic+blockedCV'></span>

<h3>Description</h3>

<p>This function is used to perform spatial blocked cross-validation with regards to model selection for the integrated model. It does so by leaving out a block of data in the full model, running a model with the remaining data, and then calculating the deviance information criteria (DIC) as a score of model fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blockedCV(data, options = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="blockedCV_+3A_data">data</code></td>
<td>
<p>An object produced by <code><a href="#topic+intModel">intModel</a></code>. Requires the slot function, <code>.$spatialBlock</code> to be run first in order to specify how the data in the model is blocked.</p>
</td></tr>
<tr><td><code id="blockedCV_+3A_options">options</code></td>
<td>
<p>A list of <span class="pkg">INLA</span> or <span class="pkg">inlabru</span> options to be used in the model. Defaults to <code>list()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>blockedCV</code>, which is essentially a list of DIC values obtained from each iteration of the model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 if(requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj)
 
 #Set up spatial block
 organizedData$spatialBlock(k = 2, rows = 2, cols = 1)
 
 #Run spatial block cross-validation
 blocked &lt;- blockedCV(organizedData)
 
 #Print summary
 blocked
   
 }

## End(Not run)

</code></pre>

<hr>
<h2 id='blockedCV-class'>Export class blockedCV</h2><span id='topic+blockedCV-class'></span>

<h3>Description</h3>

<p>Export class blockedCV
</p>

<hr>
<h2 id='bruSDM_predict-class'>Export class predict_bru_sdm</h2><span id='topic+bruSDM_predict-class'></span>

<h3>Description</h3>

<p>Export class predict_bru_sdm
</p>

<hr>
<h2 id='bruSDM-class'>Export bru_sdm class</h2><span id='topic+bruSDM-class'></span>

<h3>Description</h3>

<p>Export bru_sdm class
</p>

<hr>
<h2 id='changeCoords'><em>changeCoords</em>: function used to change coordinate names.</h2><span id='topic+changeCoords'></span>

<h3>Description</h3>

<p>An internal function used to change the coordinate names for datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeCoords(data, oldcoords, newcoords)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeCoords_+3A_data">data</code></td>
<td>
<p>A list of datasets.</p>
</td></tr>
<tr><td><code id="changeCoords_+3A_oldcoords">oldcoords</code></td>
<td>
<p>The old coordinate names.</p>
</td></tr>
<tr><td><code id="changeCoords_+3A_newcoords">newcoords</code></td>
<td>
<p>The new coordinate names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data.frame or spatial objects with the coordinate names changed.
</p>

<hr>
<h2 id='checkCoords'><em>checkCoords</em>: function used to check coordinate names.</h2><span id='topic+checkCoords'></span>

<h3>Description</h3>

<p>An internal function used to check if all the coordinates are the same.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkCoords(data, coords)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkCoords_+3A_data">data</code></td>
<td>
<p>A list of datasets.</p>
</td></tr>
<tr><td><code id="checkCoords_+3A_coords">coords</code></td>
<td>
<p>A vector of length 2 of the coordinate names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical variable.
</p>

<hr>
<h2 id='checkVar'><em>checkVar</em>: Function used to check variable names.</h2><span id='topic+checkVar'></span>

<h3>Description</h3>

<p>Internal function used to check if variable is in dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkVar(data, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkVar_+3A_data">data</code></td>
<td>
<p>A list of datasets.</p>
</td></tr>
<tr><td><code id="checkVar_+3A_var">var</code></td>
<td>
<p>A variable name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical variable
</p>

<hr>
<h2 id='data2ENV'><em>data2ENV</em>: function used to move objects from one environment to another.</h2><span id='topic+data2ENV'></span>

<h3>Description</h3>

<p>Internal function: used to assign objects specified in bruSDM to the dataSDM/blockedCV function environments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data2ENV(data, env)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data2ENV_+3A_data">data</code></td>
<td>
<p>bruSDM data file to be used in the integrated model.</p>
</td></tr>
<tr><td><code id="data2ENV_+3A_env">env</code></td>
<td>
<p>Environment where the objects should be assigned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Assignment of the relevant spatial fields to the specified environment.
</p>

<hr>
<h2 id='dataOrganize'>R6 class to assist in reformatting the data to be used in dataSDM.</h2><span id='topic+dataOrganize'></span>

<h3>Description</h3>

<p>Internal functions used to temporarily store data and other information before adding to dataSDM.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-dataOrganize-makeData"><code>dataOrganize$makeData()</code></a>
</p>
</li>
<li> <p><a href="#method-dataOrganize-makeSpecies"><code>dataOrganize$makeSpecies()</code></a>
</p>
</li>
<li> <p><a href="#method-dataOrganize-makeMultinom"><code>dataOrganize$makeMultinom()</code></a>
</p>
</li>
<li> <p><a href="#method-dataOrganize-makeFormulas"><code>dataOrganize$makeFormulas()</code></a>
</p>
</li>
<li> <p><a href="#method-dataOrganize-makeComponents"><code>dataOrganize$makeComponents()</code></a>
</p>
</li>
<li> <p><a href="#method-dataOrganize-makeLhoods"><code>dataOrganize$makeLhoods()</code></a>
</p>
</li>
<li> <p><a href="#method-dataOrganize-clone"><code>dataOrganize$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-dataOrganize-makeData"></a>



<h4>Method <code>makeData()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataOrganize$makeData(
  datapoints,
  datanames,
  coords,
  proj,
  marktrialname,
  paresp,
  countsresp,
  trialname,
  speciesname,
  marks,
  pointcovnames,
  markfamily,
  temporalvar,
  offsetname
)</pre></div>


<hr>
<a id="method-dataOrganize-makeSpecies"></a>



<h4>Method <code>makeSpecies()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataOrganize$makeSpecies(speciesname)</pre></div>


<hr>
<a id="method-dataOrganize-makeMultinom"></a>



<h4>Method <code>makeMultinom()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataOrganize$makeMultinom(multinomVars, return, oldVars)</pre></div>


<hr>
<a id="method-dataOrganize-makeFormulas"></a>



<h4>Method <code>makeFormulas()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataOrganize$makeFormulas(
  spatcovs,
  speciesname,
  paresp,
  countresp,
  marks,
  marksspatial,
  speciesintercept,
  speciesenvironment,
  spatial,
  intercept,
  temporalname,
  speciesindependent,
  markintercept,
  pointcovs,
  speciesspatial
)</pre></div>


<hr>
<a id="method-dataOrganize-makeComponents"></a>



<h4>Method <code>makeComponents()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataOrganize$makeComponents(
  spatial,
  intercepts,
  datanames,
  marks,
  speciesname,
  multinomnames,
  pointcovariates,
  covariatenames,
  covariateclass,
  marksspatial,
  marksintercept,
  temporalname,
  speciesspatial,
  speciesenvironment,
  speciesintercept,
  numtime,
  temporalmodel,
  offsetname,
  copymodel,
  speciesindependent
)</pre></div>


<hr>
<a id="method-dataOrganize-makeLhoods"></a>



<h4>Method <code>makeLhoods()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataOrganize$makeLhoods(
  mesh,
  ips,
  paresp,
  ntrialsvar,
  markstrialsvar,
  speciesname
)</pre></div>


<hr>
<a id="method-dataOrganize-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataOrganize$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='dataSDM'>R6 class for creating a <code>dataSDM</code> object.</h2><span id='topic+dataSDM'></span>

<h3>Description</h3>

<p>A data object containing the data and the relevant information about the integrated model. The function <code><a href="#topic+intModel">intModel</a></code> acts as a wrapper in creating one of these objects. The output of this object has additional functions within the object which allow for further specification and customization of the integrated model.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-dataSDM-print"><code>dataSDM$print()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-plot"><code>dataSDM$plot()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-addData"><code>dataSDM$addData()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-addBias"><code>dataSDM$addBias()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-updateFormula"><code>dataSDM$updateFormula()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-changeComponents"><code>dataSDM$changeComponents()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-priorsFixed"><code>dataSDM$priorsFixed()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-specifySpatial"><code>dataSDM$specifySpatial()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-changeLink"><code>dataSDM$changeLink()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-spatialBlock"><code>dataSDM$spatialBlock()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-addSamplers"><code>dataSDM$addSamplers()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-new"><code>dataSDM$new()</code></a>
</p>
</li>
<li> <p><a href="#method-dataSDM-samplingBias"><code>dataSDM$samplingBias()</code></a>
</p>
</li></ul>


<hr>
<a id="method-dataSDM-print"></a>



<h4>Method <code>print()</code></h4>

<p>Prints the datasets, their data type and the number of observations, as well as the marks and their respective families.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Not used.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-dataSDM-plot"></a>



<h4>Method <code>plot()</code></h4>

<p>Makes a plot of the points surrounded by the boundary of the region where they were collected. The points may either be plotted based on which dataset they come from, or which species group they are part of (if <code>speciesName</code> is non-<code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>).
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$plot(datasetNames, Species = FALSE, Boundary = TRUE, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasetNames</code></dt><dd><p>Name of the datasets to plot. If this argument is missing, the function will plot all the data available to the model.</p>
</dd>
<dt><code>Species</code></dt><dd><p>Logical: should the points be plotted based on the species name. Defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>Boundary</code></dt><dd><p>Logical: should a boundary (created using the <code>Mesh</code> object) be used in the plot. Defaults to <code>TRUE</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Not used.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A ggplot object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>
 if (requireNamespace('INLA')) {
   
 #Get Data
 library(ggplot2)
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
  #Create plot of data
  organizedData$plot()

}
</pre>
</div>


<hr>
<a id="method-dataSDM-addData"></a>



<h4>Method <code>addData()</code></h4>

<p>Function used to add additional datasets to the <code>dataSDM</code> object. This function should be used if the user would like to add any additional datasets to the integrated model, but do not have the same standardized variable names as those added initially with <code><a href="#topic+intModel">intModel</a></code>. Use <code>?intModel</code> for a more comprehensive description on what each argument in this function is used for.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$addData(
  ...,
  responseCounts,
  responsePA,
  trialsPA,
  markNames,
  markFamily,
  pointCovariates,
  trialsMarks,
  speciesName,
  temporalName,
  Coordinates,
  Offset
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>The datasets to be added to the integrated model: should be either <code>sf</code>, <code>data.frame</code> or <code>SpatialPoints*</code> objects, or a list of objects from these classes.</p>
</dd>
<dt><code>responseCounts</code></dt><dd><p>The name of the response variable for the counts data.</p>
</dd>
<dt><code>responsePA</code></dt><dd><p>The name of the response variable for the presence absence data.</p>
</dd>
<dt><code>trialsPA</code></dt><dd><p>The name of the trials variable for the presence absence data.</p>
</dd>
<dt><code>markNames</code></dt><dd><p>The names of the marks found in the data.</p>
</dd>
<dt><code>markFamily</code></dt><dd><p>The associated distributions of the marks.</p>
</dd>
<dt><code>pointCovariates</code></dt><dd><p>The additional, non-spatial covariates describing the data.</p>
</dd>
<dt><code>trialsMarks</code></dt><dd><p>The name of the trials variable for the binomial marks.</p>
</dd>
<dt><code>speciesName</code></dt><dd><p>The name of the species variable included in the data. Used to make a stacked species distribution model.</p>
</dd>
<dt><code>temporalName</code></dt><dd><p>The name of the temporal variable in the datasets.</p>
</dd>
<dt><code>Coordinates</code></dt><dd><p>A vector of length 2 describing the names of the coordinates of the data.</p>
</dd>
<dt><code>Offset</code></dt><dd><p>Name of the offset column in the dataset</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre> 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 
 #Only select eBird data
 ebird &lt;- SolitaryTinamou$datasets$eBird
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(ebird, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj)
                             
 #Print summary
 organizedData
 
 #Add new dataset
 Parks = SolitaryTinamou$datasets$Parks
 organizedData$addData(Parks, responsePA = 'Present')
 
 #Print summary
 organizedData
   
 }
</pre>
</div>


<hr>
<a id="method-dataSDM-addBias"></a>



<h4>Method <code>addBias()</code></h4>

<p>Function used to add additional spatial fields (called <em>bias fields</em>) to a selected dataset present in the integrated model. <em>Bias fields</em> are typically used to account for sampling biases in opportunistic citizen science data in the absence of any covariate to do such.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$addBias(
  datasetNames = NULL,
  allPO = FALSE,
  biasField = NULL,
  copyModel = FALSE,
  shareModel = FALSE,
  temporalModel = list(model = "ar1")
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasetNames</code></dt><dd><p>A vector of dataset names (class <code>character</code>) for which a bias field needs to be added to. If <code>NULL</code> (default), then <code>allPO</code> has to be <code>TRUE</code>.</p>
</dd>
<dt><code>allPO</code></dt><dd><p>Logical: should a bias field be added to all datasets classified as presence only in the integrated model. Defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>biasField</code></dt><dd><p>An <code>inla.spde</code> object used to describe the bias field. Defaults to <code>NULL</code> which uses <code><a href="INLA.html#topic+inla.spde2.matern">inla.spde2.matern</a></code> to create a Matern model for the field.</p>
</dd>
<dt><code>shareModel</code></dt><dd><p>Share a bias field across the datasets specified with <code>datasetNames</code>. Defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>temporalModel</code></dt><dd><p>List of model specifications given to the control.group argument in the time effect component. Defaults to <code>list(model = 'ar1')</code>; see <code><a href="INLA.html#topic+control.group">control.group</a></code> from the <span class="pkg">INLA</span> package for more details. <code>temporalName</code> needs to be specified in <code>intModel</code> prior.</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre> 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
#Add bias field to eBird records
organizedData$addBias(datasetNames = 'eBird')

}
</pre>
</div>


<hr>
<a id="method-dataSDM-updateFormula"></a>



<h4>Method <code>updateFormula()</code></h4>

<p>Function used to update the formula for a selected observation model. The function is designed to work similarly to the generic <code>update</code> formula, and should be used to thin terms out of a process from the full model specified in <code><a href="#topic+intModel">intModel</a></code>. The function also allows the user to add their own formula to the model, such that they can include non-linear components in the model. The function can also be used to print out the formula for a process by not specifying the <code>Formula</code> or <code>newFormula</code> arguments.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$updateFormula(
  datasetName = NULL,
  Points = TRUE,
  speciesName = NULL,
  markName = NULL,
  Formula,
  allProcesses = FALSE,
  newFormula
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasetName</code></dt><dd><p>Name of the dataset (class <code>character</code>) for which the formula needs to be changed.</p>
</dd>
<dt><code>Points</code></dt><dd><p>Logical: should the formula be changed for the points (or otherwise, a marked process). Defaults to <code>TRUE</code>. If <code>FALSE</code>, then <code>markNames</code> needs to be non-<code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>.</p>
</dd>
<dt><code>speciesName</code></dt><dd><p>Name of the species (class <code>character</code>) to change the formula for. Defaults to <code>NULL</code>. If <code>NULL</code> and <code>speciesName</code> is non-<code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>, will update the formula for all species within the dataset. Cannot be non-<code>NULL</code> if <code>speciesName</code> is <code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>.</p>
</dd>
<dt><code>markName</code></dt><dd><p>Name of the mark (class <code>character</code>) to change the formula for. Defaults to <code>NULL</code>. If <code>NULL</code> and <code>markNames</code> is non-<code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>, will update the formula for all marks within the dataset. Cannot be non-<code>NULL</code> if <code>markNames</code> is <code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>.</p>
</dd>
<dt><code>Formula</code></dt><dd><p>An updated formula to give to the process. The syntax provided for the formula in this argument should be identical to the formula specification as in base <strong>R</strong>. Should be used to thin terms out of a formula but could be used to add terms as well. If adding new terms not specified in <code>intModel</code>, remember to add the associated component using <code>.$addComponents</code> as well.</p>
</dd>
<dt><code>allProcesses</code></dt><dd><p>Logical argument: if <code>TRUE</code> changes the formulas for all of the processes in a dataset. Defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>newFormula</code></dt><dd><p>Completely change the formula for a process &ndash; primarily used to add non-linear components into the formula. Note: all terms need to be correctly specified here.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>If <code>Formula</code> and <code>newFormula</code> are missing, will print out the formula for the specified processes.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present',
                           pointsSpatial = 'individual')

 #Remove Forest from eBird
 organizedData$updateFormula(datasetName = 'eBird', Formula = ~ . - Forest)
 
 #Add some scaling to Forest for Parks
 organizedData$updateFormula('Parks', newFormula = ~ I(. +(Forest+1e-6)*scaling))
 
 #Now dd scaling to components
 organizedData$changeComponents(addComponent = 'scaling') 
 
}

</pre>
</div>


<hr>
<a id="method-dataSDM-changeComponents"></a>



<h4>Method <code>changeComponents()</code></h4>

<p>Function to add and specify custom components to model, which are required by <span class="pkg">inlabru</span>. The main purpose of the function is to re-specify or completely change components already in the model, however the user can also add completely new components to the model as well. In this case, the components need to be added to the correct formulas in the model using the <code>.$updateFormula</code> function. If <code>addComponent</code> and <code>removeComponent</code> are both missing, the function will print out the components to be supplied to <span class="pkg">inlabru</span>'s <code><a href="inlabru.html#topic+bru">bru</a></code> function.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$changeComponents(addComponent, removeComponent, print = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>addComponent</code></dt><dd><p>Component to add to the integrated model. Note that if the user is re-specifying a component already present in the model, they do not need to remove the old component using <code>removeComponent</code>.</p>
</dd>
<dt><code>removeComponent</code></dt><dd><p>Component (or just the name of a component) present in the model which should be removed.</p>
</dd>
<dt><code>print</code></dt><dd><p>Logical: should the updated components be printed. Defaults to <code>TRUE</code>.</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{

 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present')

 #Remove Forest from components
 organizedData$changeComponents(removeComponent = 'Forest')

}

}
</pre>
</div>


<hr>
<a id="method-dataSDM-priorsFixed"></a>



<h4>Method <code>priorsFixed()</code></h4>

<p>Function to change priors for the fixed (and possibly random) effects of the model.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$priorsFixed(
  Effect,
  Species = NULL,
  datasetName = NULL,
  mean.linear = 0,
  prec.linear = 0.001
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>Effect</code></dt><dd><p>Name of the fixed effect covariate to change the prior for. Can take on <code>'intercept'</code>, which will change the specification for an intercept (specified by one of <code>species</code> or <code>datasetName</code>).</p>
</dd>
<dt><code>Species</code></dt><dd><p>Name of the species (class <code>character</code>) for which the prior should change. Defaults to <code>NULL</code> which will change the prior for all species added to the model.</p>
</dd>
<dt><code>datasetName</code></dt><dd><p>Name of the dataset for which the prior of the intercept should change (if fixedEffect = 'intercept'). Defaults to <code>NULL</code> which will change the prior effect of the intercepts for all the datasets in the model.</p>
</dd>
<dt><code>mean.linear</code></dt><dd><p>Mean value for the prior of the fixed effect. Defaults to <code>0</code>.</p>
</dd>
<dt><code>prec.linear</code></dt><dd><p>Precision value for the prior of the fixed effect. Defaults to <code>0.001</code>.</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre> if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- terra::rast(
 system.file(
 'extdata/SolitaryTinamouCovariates.tif', 
 package = "PointedSDMs"))$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present',
                           pointsSpatial = 'individual')

 #Add prior to Forest
 organizedData$priorsFixed(Effect = 'Forest', mean.linear = 2, prec.linear = 0.1)

}
</pre>
</div>


<hr>
<a id="method-dataSDM-specifySpatial"></a>



<h4>Method <code>specifySpatial()</code></h4>

<p>Function to specify random fields in the model using penalizing complexity (PC) priors for the parameters.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$specifySpatial(
  sharedSpatial = FALSE,
  datasetName,
  Species,
  Mark,
  Bias,
  PC = TRUE,
  Copy = NULL,
  Remove = FALSE,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>sharedSpatial</code></dt><dd><p>Logical: specify the shared spatial field in the model. Requires <code>pointsSpatial == 'shared'</code> in <code><a href="#topic+intModel">intModel</a></code>. Defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>datasetName</code></dt><dd><p>Name of which of the datasets' spatial fields to be specified. Requires <code>pointsSpatial = 'individual'</code> in <code><a href="#topic+intModel">intModel</a></code>.</p>
</dd>
<dt><code>Species</code></dt><dd><p>Name of which of the species' spatial field to be specified. Requires <code>speciesName</code> to be non-<code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>.</p>
</dd>
<dt><code>Mark</code></dt><dd><p>Name of which of the mark' spatial field to be specified. Requires <code>markNames</code> to be non-<code>NULL</code> in <code><a href="#topic+intModel">intModel</a></code>.</p>
</dd>
<dt><code>Bias</code></dt><dd><p>Name of the dataset for which the bias field to be specified.</p>
</dd>
<dt><code>PC</code></dt><dd><p>Logical: should the Matern model be specified with pc priors. Defaults to <code>TRUE</code>, which uses <code><a href="INLA.html#topic+inla.spde2.pcmatern">inla.spde2.pcmatern</a></code> to specify the model; otherwise uses <code><a href="INLA.html#topic+inla.spde2.matern">inla.spde2.matern</a></code>.</p>
</dd>
<dt><code>Remove</code></dt><dd><p>Logical: should the chosen spatial field be removed. Requires one of <code>sharedSpatial</code>, <code>species</code>, <code>mark</code> or <code>bias</code> to be non-missing, which chooses which field to remove.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional arguments used by <span class="pkg">INLA</span>'s <code><a href="INLA.html#topic+inla.spde2.pcmatern">inla.spde2.pcmatern</a></code> or <code><a href="INLA.html#topic+inla.spde2.matern">inla.spde2.matern</a></code> function, dependent on the value of <code>PC</code>.</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre> if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present')

 #Specify the shared spatial field
 organizedData$specifySpatial(sharedSpatial = TRUE, PC = TRUE, 
                       prior.range = c(1,0.001),
                       prior.sigma = c(1,0.001))

} 
</pre>
</div>


<hr>
<a id="method-dataSDM-changeLink"></a>



<h4>Method <code>changeLink()</code></h4>

<p>Function used to change the link function for a given process.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$changeLink(datasetName, Species, Mark, Link, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasetName</code></dt><dd><p>Name of the dataset for which the link function needs to be changed.</p>
</dd>
<dt><code>Species</code></dt><dd><p>Name of the species for which the link function needs to be changed.</p>
</dd>
<dt><code>Mark</code></dt><dd><p>Name of the mark for which the link function needs to be changed.</p>
</dd>
<dt><code>Link</code></dt><dd><p>Name of the link function to add to the process. If missing, will print the link function of the specified dataset.</p>
</dd>
<dt><code>...</code></dt><dd><p>Not used</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre>\dontrun{

#Create data object
dataObj &lt;- intModel(...)

#Print link function for a process

dataObj$changeLink(Dataset = Dataset, Species = Species)

#Change link function
dataObj$changeLink(Dataset = Dataset, Species = Species,
                   Link = "log")

}
</pre>
</div>


<hr>
<a id="method-dataSDM-spatialBlock"></a>



<h4>Method <code>spatialBlock()</code></h4>

<p>Function to spatially block the datasets, which will then be used for model cross-validation with <code><a href="#topic+blockedCV">blockedCV</a></code>. See the <code><a href="blockCV.html#topic+spatialBlock">spatialBlock</a></code> function from <span class="pkg">blockCV</span> for how the spatial blocking works and for further details on the function's arguments.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$spatialBlock(k, rows_cols, plot = FALSE, seed = 1234, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>k</code></dt><dd><p>Integer value reflecting the number of folds to use.</p>
</dd>
<dt><code>rows_cols</code></dt><dd><p>Integer value by which the area is divided into longitudinal and latitudinal bins.</p>
</dd>
<dt><code>plot</code></dt><dd><p>Plot the cross-validation folds as well as the points across the boundary. Defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>seed</code></dt><dd><p>Seed used by <span class="pkg">blockCV</span>'s <code><a href="blockCV.html#topic+spatialBlock">spatialBlock</a></code> to make the spatial blocking reproducible across different models. Defaults to <code>1234</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional arguments used by <span class="pkg">blockCV</span>'s <code><a href="blockCV.html#topic+spatialBlock">spatialBlock</a></code>.</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre> if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present',
                           pointsSpatial = 'individual')

 #Specify the spatial block
 organizedData$spatialBlock(k = 2, rows = 2, cols = 1, plot = FALSE)

} 

</pre>
</div>


<hr>
<a id="method-dataSDM-addSamplers"></a>



<h4>Method <code>addSamplers()</code></h4>

<p>Function to add an integration domain for the PO datasets.
</p>


<h5>Usage</h5>

<div class="r"><pre>dataSDM$addSamplers(datasetName, Samplers)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>datasetName</code></dt><dd><p>Name of the dataset for the samplers.</p>
</dd>
<dt><code>Samplers</code></dt><dd><p>A <code>Spatial*</code> object representing the integration domain.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-dataSDM-new"></a>



<h4>Method <code>new()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataSDM$new(
  coordinates,
  projection,
  Inlamesh,
  initialnames,
  responsecounts,
  responsepa,
  speciesindependent,
  marksnames,
  marksfamily,
  pointcovariates,
  speciesintercept,
  trialspa,
  trialsmarks,
  speciesname,
  marksspatial,
  speciesenvironment,
  spatial,
  intercepts,
  spatialcovariates,
  marksintercepts,
  boundary,
  ips,
  temporal,
  temporalmodel,
  speciesspatial,
  offset,
  copymodel
)</pre></div>


<hr>
<a id="method-dataSDM-samplingBias"></a>



<h4>Method <code>samplingBias()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>dataSDM$samplingBias(datasetName, Samplers)</pre></div>




<h3>Note</h3>

<p>The arguments of this function may be missing (ie not provided) if they have already been specified in <code><a href="#topic+intModel">intModel</a></code>, and do not need changing. Therefore this function is useful if there are some variable names not standardized across the datasets; this function will thus standardize the variable names to those provided initially in <code><a href="#topic+intModel">intModel</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## ------------------------------------------------
## Method `dataSDM$plot`
## ------------------------------------------------


 if (requireNamespace('INLA')) {
   
 #Get Data
 library(ggplot2)
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
  #Create plot of data
  organizedData$plot()

}

## ------------------------------------------------
## Method `dataSDM$addData`
## ------------------------------------------------

 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 
 #Only select eBird data
 ebird &lt;- SolitaryTinamou$datasets$eBird
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(ebird, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj)
                             
 #Print summary
 organizedData
 
 #Add new dataset
 Parks = SolitaryTinamou$datasets$Parks
 organizedData$addData(Parks, responsePA = 'Present')
 
 #Print summary
 organizedData
   
 }

## ------------------------------------------------
## Method `dataSDM$addBias`
## ------------------------------------------------

 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
#Add bias field to eBird records
organizedData$addBias(datasetNames = 'eBird')

}

## ------------------------------------------------
## Method `dataSDM$updateFormula`
## ------------------------------------------------


 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present',
                           pointsSpatial = 'individual')

 #Remove Forest from eBird
 organizedData$updateFormula(datasetName = 'eBird', Formula = ~ . - Forest)
 
 #Add some scaling to Forest for Parks
 organizedData$updateFormula('Parks', newFormula = ~ I(. +(Forest+1e-6)*scaling))
 
 #Now dd scaling to components
 organizedData$changeComponents(addComponent = 'scaling') 
 
}


## ------------------------------------------------
## Method `dataSDM$changeComponents`
## ------------------------------------------------

## Not run: 

 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present')

 #Remove Forest from components
 organizedData$changeComponents(removeComponent = 'Forest')

}


## End(Not run)

## ------------------------------------------------
## Method `dataSDM$priorsFixed`
## ------------------------------------------------

 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- terra::rast(
 system.file(
 'extdata/SolitaryTinamouCovariates.tif', 
 package = "PointedSDMs"))$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present',
                           pointsSpatial = 'individual')

 #Add prior to Forest
 organizedData$priorsFixed(Effect = 'Forest', mean.linear = 2, prec.linear = 0.1)

}

## ------------------------------------------------
## Method `dataSDM$specifySpatial`
## ------------------------------------------------

 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present')

 #Specify the shared spatial field
 organizedData$specifySpatial(sharedSpatial = TRUE, PC = TRUE, 
                       prior.range = c(1,0.001),
                       prior.sigma = c(1,0.001))

} 

## ------------------------------------------------
## Method `dataSDM$changeLink`
## ------------------------------------------------

## Not run: 

#Create data object
dataObj &lt;- intModel(...)

#Print link function for a process

dataObj$changeLink(Dataset = Dataset, Species = Species)

#Change link function
dataObj$changeLink(Dataset = Dataset, Species = Species,
                   Link = "log")


## End(Not run)

## ------------------------------------------------
## Method `dataSDM$spatialBlock`
## ------------------------------------------------

 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 Forest &lt;- SolitaryTinamou$covariates$Forest
 
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                           spatialCovariates = Forest,
                           Projection = proj, responsePA = 'Present',
                           pointsSpatial = 'individual')

 #Specify the spatial block
 organizedData$spatialBlock(k = 2, rows = 2, cols = 1, plot = FALSE)

} 

</code></pre>

<hr>
<h2 id='dataSet'>Internal function used to standardize datasets, as well as assign metadata.</h2><span id='topic+dataSet'></span>

<h3>Description</h3>

<p>Internal function used to assist in structuring the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataSet(
  datapoints,
  datanames,
  coords,
  proj,
  pointcovnames,
  paresp,
  countsresp,
  trialname,
  speciesname,
  marks,
  marktrialname,
  markfamily,
  temporalvar,
  offsetname
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataSet_+3A_datapoints">datapoints</code></td>
<td>
<p>A list of datasets as either sf, data.frame or SpatialPoints objects.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_datanames">datanames</code></td>
<td>
<p>A vector of the names of the datasets.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_coords">coords</code></td>
<td>
<p>Names of the coordinates used in the model.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_proj">proj</code></td>
<td>
<p>The projection reference system used in the model.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_pointcovnames">pointcovnames</code></td>
<td>
<p>Name of the point covariates used in the model.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_paresp">paresp</code></td>
<td>
<p>Name of the response variable used by the presence absence datasets.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_countsresp">countsresp</code></td>
<td>
<p>Name of the response variable used by the counts data.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_trialname">trialname</code></td>
<td>
<p>Name of the trial variable used by the presence absence datasets.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_speciesname">speciesname</code></td>
<td>
<p>Name of the species name variable.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_marks">marks</code></td>
<td>
<p>Name of the marks considered in the model.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_marktrialname">marktrialname</code></td>
<td>
<p>Name of the trial variable used by the binomial marks.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_markfamily">markfamily</code></td>
<td>
<p>A vector describing the distribution of the marks.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_temporalvar">temporalvar</code></td>
<td>
<p>Name of the temporal variable.</p>
</td></tr>
<tr><td><code id="dataSet_+3A_offsetname">offsetname</code></td>
<td>
<p>Name of the offset column in the datasets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of relevant metadata
</p>

<hr>
<h2 id='datasetOut'><em>datasetOut</em>: function that removes a dataset out of the main model, and calculates some cross-validation score.</h2><span id='topic+datasetOut'></span>

<h3>Description</h3>

<p>This function calculates the difference in covariate values between a full integrated model and a model with one dataset left out, as well as some cross-validation score, which is used to obtain a score of the relative importance of the dataset in the full model. The score is calculated as follows:
</p>

<ol>
<li><p> Running a new model with one less dataset (from the main model) &ndash; resulting in a reduced model,
</p>
</li>
<li><p> predicting the intensity function at the locations of the left-out dataset with the reduced model,
</p>
</li>
<li><p> using the predicted values as an offset in a new model,
</p>
</li>
<li><p> finding the difference between the marginal-likelihood of the main model (ie the model with all the datasets considered) and the marginal-likelihood of the offset model.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>datasetOut(model, dataset, predictions = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datasetOut_+3A_model">model</code></td>
<td>
<p>Model of class bru_sdm run with multiple datasets.</p>
</td></tr>
<tr><td><code id="datasetOut_+3A_dataset">dataset</code></td>
<td>
<p>Names of the datasets to leave out. If missing, will run for all datasets used in the full model.</p>
</td></tr>
<tr><td><code id="datasetOut_+3A_predictions">predictions</code></td>
<td>
<p>Will new models be used for predictions. If <code>TRUE</code> returns marginals and bru_info in model. Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of inlabru models with the specified dataset left out. If predictions is <code>FALSE</code>, these objects will be missing their <code>bru_info</code> and <code>call</code> lists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
  ##Run the model
  modelRun &lt;- fitISDM(organizedData,
              options = list(control.inla = list(int.strategy = 'eb')))
   
  #Choose dataset to leave out
  eBirdOut &lt;- datasetOut(modelRun, dataset = 'eBird')
  
  #Print datasetOut summary
  eBirdOut
  
  
   
 }

## End(Not run)
</code></pre>

<hr>
<h2 id='datasetOut-class'>Export class bru_sdm_leave_one_out</h2><span id='topic+datasetOut-class'></span>

<h3>Description</h3>

<p>Export class bru_sdm_leave_one_out
</p>

<hr>
<h2 id='eBird'>data.frame object containing solitary tinamou observations from eBird</h2><span id='topic+eBird'></span>

<h3>Description</h3>

<p>data.frame object containing solitary tinamou observations from eBird
</p>


<h3>References</h3>

<p><a href="http://ebird.org/">http://ebird.org/</a>
</p>

<hr>
<h2 id='elev_raster'>Raster object containing the elevation across Pennsylvania state.</h2><span id='topic+elev_raster'></span>

<h3>Description</h3>

<p>Raster object containing the elevation across Pennsylvania state.
</p>


<h3>References</h3>

<p><a href="https://cran.r-project.org/package=elevatr">https://cran.r-project.org/package=elevatr</a>
</p>

<hr>
<h2 id='fitISDM'><em>fitISDM</em>: function used to run the integrated model.</h2><span id='topic+fitISDM'></span>

<h3>Description</h3>

<p>This function takes a <code>intModel</code> object and produces an <code>inlabru</code> model object with additional lists and meta-data added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitISDM(data, options = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitISDM_+3A_data">data</code></td>
<td>
<p>A intModel object to be used in the integrated model.</p>
</td></tr>
<tr><td><code id="fitISDM_+3A_options">options</code></td>
<td>
<p>A list of INLA options used in the model. Defaults to <code>list()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An inlabru model with additional lists containing some more metadata attached.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
  ##Run the model
  modelRun &lt;- fitISDM(organizedData, 
  options = list(control.inla = list(int.strategy = 'eb')))
   
  #Print summary of model
  modelRun
   
 }

## End(Not run)

</code></pre>

<hr>
<h2 id='Gbif'>data.frame object containing solitary tinamou observations from Gbif</h2><span id='topic+Gbif'></span>

<h3>Description</h3>

<p>data.frame object containing solitary tinamou observations from Gbif
</p>


<h3>Source</h3>

<p><a href="https://www.gbif.org/">https://www.gbif.org/</a>
</p>

<hr>
<h2 id='intModel'><em>intModel</em>: Function used to initialize the integrated species distribution model.</h2><span id='topic+intModel'></span>

<h3>Description</h3>

<p>This function is used to create an object containing all the data, metadata and relevant components required for the integrated species distribution model and <span class="pkg">INLA</span> to work.
As a result, the arguments associated with this function are predominantly related to describing variable names within the datasets that are relevant, and arguments related to what terms should be included in the formula for the integrated model. The output of this function is an <code>R6</code> object, and so there are a variety of public methods within the output of this function which can be used to further specify the model (see <code>?dataSDM</code> for a comprehensive description of these public methods).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>intModel(
  ...,
  spatialCovariates = NULL,
  Coordinates,
  Projection,
  Mesh,
  IPS = NULL,
  Boundary = NULL,
  speciesSpatial = "copy",
  speciesIndependent = FALSE,
  markNames = NULL,
  markFamily = NULL,
  pointCovariates = NULL,
  pointsIntercept = TRUE,
  marksIntercept = TRUE,
  speciesEffects = list(randomIntercept = FALSE, Environmental = TRUE),
  Offset = NULL,
  pointsSpatial = "shared",
  marksSpatial = TRUE,
  responseCounts = "counts",
  responsePA = "present",
  trialsPA = NULL,
  trialsMarks = NULL,
  speciesName = NULL,
  temporalName = NULL,
  temporalModel = list(model = "ar1"),
  copyModel = list(beta = list(fixed = FALSE))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="intModel_+3A_...">...</code></td>
<td>
<p>The datasets to be used in the model. May come as either <code>sf</code>, <code>data.frame</code> or <code>SpatialPoints*</code> objects, or as a list of objects with these classes. The classes of the datasets do not necessarily need to be standardized, however the variable names within them often have to be.</p>
</td></tr>
<tr><td><code id="intModel_+3A_spatialcovariates">spatialCovariates</code></td>
<td>
<p>The spatial covariates used in the model. These covariates must be measured at every location (pixel) in the study area, and must be a <code>Raster*</code>, <code>SpatialPixelsDataFrame</code> or <code>SpatialRaster</code> object. Can be either <code>numeric</code>, <code>factor</code> or <code>character</code> data.</p>
</td></tr>
<tr><td><code id="intModel_+3A_coordinates">Coordinates</code></td>
<td>
<p>A vector of length 2 containing the names (class <code>character</code>) of the coordinate variables used in the model.</p>
</td></tr>
<tr><td><code id="intModel_+3A_projection">Projection</code></td>
<td>
<p>The coordinate reference system used by both the spatial points and spatial covariates. Must be of class <code>character</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_mesh">Mesh</code></td>
<td>
<p>An <code>inla.mesh</code> object required for the spatial random fields and the integration points in the model (see <code><a href="INLA.html#topic+inla.mesh.2d">inla.mesh.2d</a></code> from the <span class="pkg">INLA</span> package for more details).</p>
</td></tr>
<tr><td><code id="intModel_+3A_ips">IPS</code></td>
<td>
<p>The integration points to be used in the model (that is, the points on the map where the intensity of the model is calculated). See <code><a href="inlabru.html#topic+ipoints">ipoints</a></code> from the <span class="pkg">inlabru</span> package for more details regarding these points; however defaults to <code>NULL</code> which will create integration points from the <code>Mesh</code> object.</p>
</td></tr>
<tr><td><code id="intModel_+3A_boundary">Boundary</code></td>
<td>
<p>A <code>sf</code> object of the study area. If not missing, this object is used to help create the integration points.</p>
</td></tr>
<tr><td><code id="intModel_+3A_speciesspatial">speciesSpatial</code></td>
<td>
<p>Argument to specify if each species should have their own spatial effect with different hyperparameters to be estimated, of if a the field's should be estimated using <span class="pkg">INLA</span>'s &quot;copy&quot; feature. Possible values include: <code>'individual'</code>, <code>'copy'</code>, <code>'shared'</code> or <code>NULL</code> if no species-specific spatial effects should be estimated.</p>
</td></tr>
<tr><td><code id="intModel_+3A_speciesindependent">speciesIndependent</code></td>
<td>
<p>Logical argument: Should species effects be made independent of one another. Defaults to <code>FALSE</code> which creates effects for each species independently.</p>
</td></tr>
<tr><td><code id="intModel_+3A_marknames">markNames</code></td>
<td>
<p>A vector with the mark names (class <code>character</code>) to be included in the integrated model. Marks are variables which are used to describe the individual points in the model (for example, in the field of ecology the size of the species or its feeding type could be considered). Defaults to <code>NULL</code>, however if this argument is non-<code>NULL</code>, the model run will become a marked point process. The marks must be included in the same data object as the points.</p>
</td></tr>
<tr><td><code id="intModel_+3A_markfamily">markFamily</code></td>
<td>
<p>A vector with the statistical families (class <code>character</code>) assumed for the marks. Must be the same length as markNames, and the position of the mark in the vector <code>markName</code> is associated with the position of the family in <code>markFamily</code>. Defaults to <code>NULL</code> which assigns each mark as &quot;Gaussian&quot;.</p>
</td></tr>
<tr><td><code id="intModel_+3A_pointcovariates">pointCovariates</code></td>
<td>
<p>The non-spatial covariates to be included in the integrated model (for example, in the field of ecology the distance to the nearest road or time spent sampling could be considered). These covariates must be included in the same data object as the points.</p>
</td></tr>
<tr><td><code id="intModel_+3A_pointsintercept">pointsIntercept</code></td>
<td>
<p>Logical argument: should the points be modeled with intercepts. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_marksintercept">marksIntercept</code></td>
<td>
<p>Logical argument: should the marks be modeled with intercepts. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_specieseffects">speciesEffects</code></td>
<td>
<p>List specifying if intercept terms and environments effects should be made for the species. Defaults to <code>list(randomIntercept = FALSE, Environmental = TRUE)</code>. <code>randomIntercept</code> may take on three values: <code>TRUE</code> which creates a random intercept for each species, <code>FALSE</code> which creates fixed intercepts for each species, of <code>NULL</code> which removes all species level intercepts. Note that if <code>randomIntercept = NULL</code> and <code>pointsIntercept = TRUE</code>, dataset specific intercept terms will be created.</p>
</td></tr>
<tr><td><code id="intModel_+3A_offset">Offset</code></td>
<td>
<p>Name of the offset variable (class <code>character</code>) in the datasets. Defaults to <code>NULL</code>; if the argument is non-<code>NULL</code>, the variable name needs to be standardized across datasets (but does not need to be included in all datasets). The offset variable will be transformed onto the log-scale in the integrated model.</p>
</td></tr>
<tr><td><code id="intModel_+3A_pointsspatial">pointsSpatial</code></td>
<td>
<p>Argument to determine whether the spatial field is shared between the datasets, or if each dataset has its own unique spatial field. The datasets may share a spatial field with <span class="pkg">INLA</span>'s &quot;copy&quot; feature if the argument is set to <code>copy</code>. May take on the values: <code>"shared"</code>, <code>"individual"</code>, <code>"copy"</code> or <code>NULL</code> if no spatial field is required for the model. Defaults to <code>"shared"</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_marksspatial">marksSpatial</code></td>
<td>
<p>Logical argument: should the marks have their own spatial field. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_responsecounts">responseCounts</code></td>
<td>
<p>Name of the response variable in the counts/abundance datasets. This variable name needs to be standardized across all counts datasets used in the integrated model. Defaults to <code>'counts'</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_responsepa">responsePA</code></td>
<td>
<p>Name of the response variable (class <code>character</code>) in the presence absence/detection non-detection datasets. This variable name needs to be standardized across all present absence datasets. Defaults to <code>'present'</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_trialspa">trialsPA</code></td>
<td>
<p>Name of the trials response variable (class <code>character</code>) for the presence absence datasets. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_trialsmarks">trialsMarks</code></td>
<td>
<p>Name of the trials response variable (class <code>character</code>) for the binomial marks (if included). Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_speciesname">speciesName</code></td>
<td>
<p>Name of the species variable name (class <code>character</code>). Specifying this argument turns the model into a stacked species distribution model, and calculates covariate values for the individual species, as well as a species group model in the shared spatial field. Defaults to <code>NULL</code></p>
</td></tr>
<tr><td><code id="intModel_+3A_temporalname">temporalName</code></td>
<td>
<p>Name of the temporal variable (class <code>character</code>) in the model. This variable is required to be in all the datasets. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="intModel_+3A_temporalmodel">temporalModel</code></td>
<td>
<p>List of model specifications given to the control.group argument in the time effect component. Defaults to <code>list(model = 'ar1')</code>; see <code><a href="INLA.html#topic+control.group">control.group</a></code> from the <span class="pkg">INLA</span> package for more details.</p>
</td></tr>
<tr><td><code id="intModel_+3A_copymodel">copyModel</code></td>
<td>
<p>List of model specifications given to the hyper parameters for the  <code>"copy"</code> model. Defaults to <code>list(beta = list(fixed = FALSE))</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+dataSDM">dataSDM</a></code> object (class <code>R6</code>). Use <code>?dataSDM</code> to get a comprehensive description of the slot functions associated with this object.
</p>


<h3>Note</h3>

<p>The idea with this function is to describe the full model: that is, all the covariates and spatial effects will appear in all the formulas for the datasets and species.
If some of these terms should not be included in certain observation models in the integrated model, they can be thinned out using the <code>.$updateFormula</code> function.
Note: the point covariate and mark terms will only be included in the formulas for where they are present in a given dataset, and so these terms do not need to be thinned out if they are not required by certain observation models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set base model up
 baseModel &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
 #Print summary
 baseModel
 
 #Set up model with dataset specific spatial fields
 
 indSpat &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                     Projection = proj, pointsSpatial = 'individual', responsePA = 'Present')
                     
 #Model with offset variable
 offSet &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                     Projection = proj, Offset = 'area', responsePA = 'Present')
                     
 #Assume area as a mark
 markModel &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                     Projection = proj, markNames = 'area', markFamily = 'gamma',
                     responsePA = 'Present')
                      
 }

</code></pre>

<hr>
<h2 id='Koala'>Dataset of Eucalyptus globulus (common name: blue gum) sightings collected across the Koala conservation reserve on Phillip island (Australia) between 1993 and 2004. Two marks are considered from this dataset: &quot;koala&quot; which describes the number of koala visits to each tree, and &quot;food&quot; which is some index of the palatability of the leaves.</h2><span id='topic+Koala'></span>

<h3>Description</h3>

<p>Dataset of Eucalyptus globulus (common name: blue gum) sightings collected across the Koala conservation reserve on Phillip island (Australia) between 1993 and 2004. Two marks are considered from this dataset: &quot;koala&quot; which describes the number of koala visits to each tree, and &quot;food&quot; which is some index of the palatability of the leaves.
</p>


<h3>Format</h3>

<p><code>eucTrees</code> is a <code>data.frame</code> object (1284 observations; 6 variables) with the following columns:
</p>

<dl>
<dt>E</dt><dd><p>Latitude of the observation.</p>
</dd>
<dt>N</dt><dd><p>Longitude of the observation.</p>
</dd>
<dt>FOOD</dt><dd><p>Some value of the palatability of the leaves of the trees.</p>
</dd>
<dt>koala</dt><dd><p>The number of koala sightings per tree.</p>
</dd>
<dt>nitrogen</dt><dd><p>Total nitrogen (mg.g-1 DM).</p>
</dd>
<dt>dbh</dt><dd><p>Diameter at breast hight of the trees (cm).</p>
</dd>
</dl>



<h3>References</h3>

<p>Moore, B.D., Lawler, I.R., Wallis, I.R., Collin, B.M. and Foley, W.J. (2010). Palatability mapping: a koalaâ€™s eye view of spatial variation in habitat quality. Ecology 91 (11): 3165-3176.
</p>

<hr>
<h2 id='makeLhoods'><em>makeLhoods</em>: function to make likelihoods.</h2><span id='topic+makeLhoods'></span>

<h3>Description</h3>

<p>Function to make the datasets into likelihoods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeLhoods(
  data,
  formula,
  family,
  mesh,
  ips,
  paresp,
  ntrialsvar,
  markstrialsvar,
  speciesname,
  speciesindex,
  samplers,
  pointcovs = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeLhoods_+3A_data">data</code></td>
<td>
<p>A list of sf objects containing the datasets for which likelihoods need to be constructed.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_formula">formula</code></td>
<td>
<p>A list of formulas to add to the likelihoods.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_family">family</code></td>
<td>
<p>A list of vectors containing the families within each dataset.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_mesh">mesh</code></td>
<td>
<p>An inla.mesh object.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_ips">ips</code></td>
<td>
<p>Integration points used.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_paresp">paresp</code></td>
<td>
<p>The response variable name for the presence absence datasets.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_ntrialsvar">ntrialsvar</code></td>
<td>
<p>The trials variable name for the presence absence datasets.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_markstrialsvar">markstrialsvar</code></td>
<td>
<p>The trial variable name for the binomial marks.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_speciesname">speciesname</code></td>
<td>
<p>The name of the species variable used.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_speciesindex">speciesindex</code></td>
<td>
<p>A vector containing the numeric index of where the species occurs in the data</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_samplers">samplers</code></td>
<td>
<p>A list of integration domains for the datasets.</p>
</td></tr>
<tr><td><code id="makeLhoods_+3A_pointcovs">pointcovs</code></td>
<td>
<p>A vector of the point covariates used in the model.</p>
</td></tr>
</table>

<hr>
<h2 id='nameChanger'><em>nameChanger</em>: function to change a variable name.</h2><span id='topic+nameChanger'></span>

<h3>Description</h3>

<p>An internal function used to change the name of a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nameChanger(data, oldName, newName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nameChanger_+3A_data">data</code></td>
<td>
<p>A list of datasets.</p>
</td></tr>
<tr><td><code id="nameChanger_+3A_oldname">oldName</code></td>
<td>
<p>The old variable name.</p>
</td></tr>
<tr><td><code id="nameChanger_+3A_newname">newName</code></td>
<td>
<p>The new variable name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of data.frame or spatial objects with the name of the variable changes.
</p>

<hr>
<h2 id='NLCD_canopy_raster'>Raster object containing the canopy cover across Pennsylvania state.</h2><span id='topic+NLCD_canopy_raster'></span>

<h3>Description</h3>

<p>Raster object containing the canopy cover across Pennsylvania state.
</p>


<h3>References</h3>

<p><a href="https://cran.r-project.org/package=FedData">https://cran.r-project.org/package=FedData</a>
</p>

<hr>
<h2 id='Parks'>data.frame object containing solitary tinamou observations from Parks</h2><span id='topic+Parks'></span>

<h3>Description</h3>

<p>data.frame object containing solitary tinamou observations from Parks
</p>


<h3>Source</h3>

<p><a href="https://www.gbif.org/">https://www.gbif.org/</a>
</p>

<hr>
<h2 id='plot.bruSDM_predict'>Generic plot function for <code>predict_bru_sdm</code>.</h2><span id='topic+plot.bruSDM_predict'></span>

<h3>Description</h3>

<p>Plot for predict_bru_sdm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bruSDM_predict'
plot(
  x,
  whattoplot = c("mean"),
  cols = NULL,
  layout = NULL,
  colourLow = NULL,
  colourHigh = NULL,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.bruSDM_predict_+3A_x">x</code></td>
<td>
<p>A bruSDM_predict object.</p>
</td></tr>
<tr><td><code id="plot.bruSDM_predict_+3A_whattoplot">whattoplot</code></td>
<td>
<p>One of the following statistics to plot: &quot;mean&quot;, &quot;sd&quot;, &quot;q0.025&quot;, &quot;median&quot;,&quot;q0.975&quot;, &quot;smin&quot;, &quot;smax&quot;, &quot;cv&quot;, &quot;var&quot;</p>
</td></tr>
<tr><td><code id="plot.bruSDM_predict_+3A_cols">cols</code></td>
<td>
<p>Number of columns required for the plotting. Used by inlabru's multiplot function.</p>
</td></tr>
<tr><td><code id="plot.bruSDM_predict_+3A_layout">layout</code></td>
<td>
<p>Layout of the plots. Used by inlabru's multiplot function.</p>
</td></tr>
<tr><td><code id="plot.bruSDM_predict_+3A_colourlow">colourLow</code></td>
<td>
<p>Colour for the low values in the predictions (see ?scale_colour_gradient from <code>ggplot2</code>). Defaults to <code>NULL</code>. If non-<code>NULL</code>, <code>colourHigh</code> is required.</p>
</td></tr>
<tr><td><code id="plot.bruSDM_predict_+3A_colourhigh">colourHigh</code></td>
<td>
<p>Colour for the high values in the predictions (see ?scale_colour_gradient from <code>ggplot2</code>). Defaults to <code>NULL</code>. If non-<code>NULL</code>, <code>colourLow</code> is required.</p>
</td></tr>
<tr><td><code id="plot.bruSDM_predict_+3A_plot">plot</code></td>
<td>
<p>Should the plots be printed, defaults to <code>TRUE</code>. If <code>FALSE</code> will  produce a list of ggplot objects.</p>
</td></tr>
<tr><td><code id="plot.bruSDM_predict_+3A_...">...</code></td>
<td>
<p>Argument not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
  ##Run the model
  modelRun &lt;- fitISDM(organizedData, options = list(control.inla = list(int.strategy = 'eb')))
   
  #Predict spatial field on linear scale
  predictions &lt;- predict(modelRun, mesh = mesh, spatial = TRUE, fun = 'linear')
   
  #Make generic plot of predictions
  plot(predictions, colourHigh = 'red', colourLow = 'orange')
 
 }

## End(Not run)

</code></pre>

<hr>
<h2 id='predict.bruSDM'>Generic predict function for <code>bru_SDM</code> objects.</h2><span id='topic+predict.bruSDM'></span>

<h3>Description</h3>

<p>Predict function for the object produced by <code><a href="#topic+fitISDM">fitISDM</a></code>. Should act identically to <span class="pkg">inlabru</span>'s generic predict function if wanted, but has additional arguments to help predict certain components created by the model. This is needed since <code><a href="#topic+intModel">intModel</a></code> creates variable names which might not be directly apparent to the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bruSDM'
predict(
  object,
  data = NULL,
  formula = NULL,
  mesh = NULL,
  mask = NULL,
  temporal = FALSE,
  covariates = NULL,
  spatial = FALSE,
  intercepts = FALSE,
  datasets = NULL,
  species = NULL,
  marks = NULL,
  biasfield = FALSE,
  biasnames = NULL,
  predictor = FALSE,
  fun = "linear",
  format = "sf",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.bruSDM_+3A_object">object</code></td>
<td>
<p>A <code>bru_sdm</code> objects.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_data">data</code></td>
<td>
<p>Data containing points of the map with which to predict on. May be <code>NULL</code> if one of <code>mesh</code> or <code>mask</code> is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_formula">formula</code></td>
<td>
<p>Formula to predict. May be <code>NULL</code> if other arguments: <code>covariates</code>, <code>spatial</code>, <code>intercepts</code> are not <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_mesh">mesh</code></td>
<td>
<p>An <code>inla.mesh</code> object.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_mask">mask</code></td>
<td>
<p>A mask of the study background. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_temporal">temporal</code></td>
<td>
<p>Make predictions for the temporal component of the model.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_covariates">covariates</code></td>
<td>
<p>Name of covariates to predict.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_spatial">spatial</code></td>
<td>
<p>Logical: include spatial effects in prediction. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_intercepts">intercepts</code></td>
<td>
<p>Logical: include intercept terms in prediction. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_datasets">datasets</code></td>
<td>
<p>Names of the datasets to include intercept and spatial term.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_species">species</code></td>
<td>
<p>Names of the species to predict. Default of <code>NULL</code> results in all species being predicted.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_marks">marks</code></td>
<td>
<p>Names of the marks to include intercept and spatial term.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_biasfield">biasfield</code></td>
<td>
<p>Logical include bias field in prediction. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_biasnames">biasnames</code></td>
<td>
<p>Names of the datasets to include bias term. Defaults to <code>NULL</code>. Note: the chosen dataset needs to be run with a bias field first; this can be done using <code>.$addBias</code> with the object produced by <code><a href="#topic+intModel">intModel</a></code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_predictor">predictor</code></td>
<td>
<p>Should all terms (except the bias terms) included in the linear predictor be used in the predictions. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_fun">fun</code></td>
<td>
<p>Function used to predict. Set to <code>'linear'</code> if effects on the linear scale are desired.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_format">format</code></td>
<td>
<p>Class of the data for which to predict on. Must be one of <code>'sp'</code>, <code>'sf'</code> or <code>'terra'</code>. Defaults to <code>'sf'</code>.</p>
</td></tr>
<tr><td><code id="predict.bruSDM_+3A_...">...</code></td>
<td>
<p>Additional arguments used by the inlabru <code>predict</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predict for bru_sdm
</p>


<h3>Value</h3>

<p>A list of inlabru predict objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
  ##Run the model
  modelRun &lt;- fitISDM(organizedData, options = list(control.inla = list(int.strategy = 'eb')))
   
  #Predict spatial field on linear scale
  predictions &lt;- predict(modelRun, mesh = mesh, spatial = TRUE, fun = 'linear')
   
 }

## End(Not run)

</code></pre>

<hr>
<h2 id='print.blockedCV'>Print function for <code>blockedCV</code>.</h2><span id='topic+print.blockedCV'></span>

<h3>Description</h3>

<p>Print for blockedCV
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'blockedCV'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.blockedCV_+3A_x">x</code></td>
<td>
<p>A blockedCV object.</p>
</td></tr>
<tr><td><code id="print.blockedCV_+3A_...">...</code></td>
<td>
<p>Unused argument.</p>
</td></tr>
</table>

<hr>
<h2 id='print.bruSDM'>Generic print function for <code>bruSDM</code>.</h2><span id='topic+print.bruSDM'></span>

<h3>Description</h3>

<p>Print method for bru_sdm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bruSDM'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.bruSDM_+3A_x">x</code></td>
<td>
<p>bruSDM object.</p>
</td></tr>
<tr><td><code id="print.bruSDM_+3A_...">...</code></td>
<td>
<p>Un used argument.</p>
</td></tr>
</table>

<hr>
<h2 id='print.bruSDM_predict'>Generic print function for <code>bru_sdm_predict</code>.</h2><span id='topic+print.bruSDM_predict'></span>

<h3>Description</h3>

<p>Generic print function for <code>bru_sdm_predict</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bruSDM_predict'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.bruSDM_predict_+3A_x">x</code></td>
<td>
<p>bruSDM_predict object</p>
</td></tr>
<tr><td><code id="print.bruSDM_predict_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>

<hr>
<h2 id='print.datasetOut'>Generic print function for <code>datasetOut</code>.</h2><span id='topic+print.datasetOut'></span>

<h3>Description</h3>

<p>Print for bru_sdm_leave_one_out
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'datasetOut'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.datasetOut_+3A_x">x</code></td>
<td>
<p>datasetOut object.</p>
</td></tr>
<tr><td><code id="print.datasetOut_+3A_...">...</code></td>
<td>
<p>Unused argument.</p>
</td></tr>
</table>

<hr>
<h2 id='region'>sf object containing the boundary region for solitary tinamouc</h2><span id='topic+region'></span>

<h3>Description</h3>

<p>sf object containing the boundary region for solitary tinamouc
</p>


<h3>Source</h3>

<p><a href="https://github.com/oharar/PointedSDMs">https://github.com/oharar/PointedSDMs</a>
</p>

<hr>
<h2 id='runModel'><em>runModel</em>: function used to run the integrated model. Note that this function is depreciated, and will be removed in a later version of the package.</h2><span id='topic+runModel'></span>

<h3>Description</h3>

<p>This function takes a <code>intModel</code> object and produces an <code>inlabru</code> model object with additional lists and meta-data added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runModel(data, options = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runModel_+3A_data">data</code></td>
<td>
<p>A intModel object to be used in the integrated model.</p>
</td></tr>
<tr><td><code id="runModel_+3A_options">options</code></td>
<td>
<p>A list of INLA options used in the model. Defaults to <code>list()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An inlabru model with additional lists containing some more metadata attached.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 
 if (requireNamespace('INLA')) {
   
 #Get Data
 data("SolitaryTinamou")
 proj &lt;- "+proj=longlat +ellps=WGS84"
 data &lt;- SolitaryTinamou$datasets
 mesh &lt;- SolitaryTinamou$mesh
 mesh$crs &lt;- proj
 
 #Set model up
 organizedData &lt;- intModel(data, Mesh = mesh, Coordinates = c('X', 'Y'),
                             Projection = proj, responsePA = 'Present')
 
  ##Run the model
  modelRun &lt;- runModel(organizedData, 
  options = list(control.inla = list(int.strategy = 'eb')))
   
  #Print summary of model
  modelRun
   
 }

## End(Not run)

</code></pre>

<hr>
<h2 id='SetophagaData'>List of all data objects used for the Setophaga vignette.</h2><span id='topic+SetophagaData'></span>

<h3>Description</h3>

<p>List of all data objects used for the Setophaga vignette.
</p>

<hr>
<h2 id='SolitaryTinamou'>List of all data objects used for the solitary tinamou vignette.</h2><span id='topic+SolitaryTinamou'></span>

<h3>Description</h3>

<p>List of all data objects used for the solitary tinamou vignette.
</p>

<hr>
<h2 id='SolTinCovariates'>spatRaster object containing covariate values</h2><span id='topic+SolTinCovariates'></span>

<h3>Description</h3>

<p>spatRaster object containing covariate values
</p>


<h3>Source</h3>

<p><a href="https://github.com/oharar/PointedSDMs">https://github.com/oharar/PointedSDMs</a>
</p>

<hr>
<h2 id='summary.bruSDM'>Generic summary function for <code>bruSDM</code>.</h2><span id='topic+summary.bruSDM'></span>

<h3>Description</h3>

<p>Summary for bru_sdm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bruSDM'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.bruSDM_+3A_object">object</code></td>
<td>
<p>bruSDM object.</p>
</td></tr>
<tr><td><code id="summary.bruSDM_+3A_...">...</code></td>
<td>
<p>Un used argument</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

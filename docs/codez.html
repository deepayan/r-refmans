<!DOCTYPE html><html><head><title>Help for package codez</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {codez}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#codez'><p>codez</p></a></li>
<li><a href='#amzn_aapl_fb'><p>amzn_aapl_fb data set</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Seq2Seq Encoder-Decoder Model for Time-Feature Analysis Based on
Tensorflow</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Giancarlo Vercellino &lt;giancarlo.vercellino@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Proposes Seq2seq Time-Feature Analysis using an Encoder-Decoder to project into latent space and a Forward Network to predict the next sequence.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>purrr (&ge; 0.3.4), abind (&ge; 1.4-5), ggplot2 (&ge; 3.3.6), readr
(&ge; 2.1.2), fANCOVA (&ge; 0.6-1), imputeTS (&ge; 3.2), modeest (&ge;
2.4.0), scales (&ge; 1.1.1), tictoc (&ge; 1.0.1), tensorflow (&ge;
2.9.0), keras (&ge; 2.9.0), moments (&ge; 0.14), narray (&ge;
0.4.1.1), fastDummies (&ge; 1.6.3), entropy (&ge; 1.3.1),
philentropy (&ge; 0.5.0), greybox (&ge; 1.0.1), lubridate (&ge;
1.7.10)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rpubs.com/giancarlo_vercellino/codez">https://rpubs.com/giancarlo_vercellino/codez</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), reticulate (&ge; 1.26)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-23 08:43:28 UTC; gvercellino</td>
</tr>
<tr>
<td>Author:</td>
<td>Giancarlo Vercellino [aut, cre, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-23 15:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='codez'>codez</h2><span id='topic+codez'></span><span id='topic+codez-package'></span>

<h3>Description</h3>

<p>Seq2seq Time-Feature Analysis using an Encoder-Decoder to project into latent space and a Forward Network to predict the next sequence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codez(
  df,
  seq_len = NULL,
  n_windows = 10,
  latent = NULL,
  smoother = FALSE,
  n_samp = 30,
  autoencoder_layers_n = NULL,
  autoencoder_layers_size = NULL,
  autoencoder_activ = NULL,
  forward_net_layers_n = NULL,
  forward_net_layers_size = NULL,
  forward_net_activ = NULL,
  forward_net_reg_L1 = NULL,
  forward_net_reg_L2 = NULL,
  forward_net_drop = NULL,
  loss_metric = "mae",
  autoencoder_optimizer = NULL,
  forward_net_optimizer = NULL,
  epochs = 100,
  patience = 10,
  holdout = 0.5,
  verbose = FALSE,
  ci = 0.8,
  error_scale = "naive",
  error_benchmark = "naive",
  dates = NULL,
  seed = 42
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codez_+3A_df">df</code></td>
<td>
<p>A data frame with time features on columns. They could be numeric variables or categorical, but not both.</p>
</td></tr>
<tr><td><code id="codez_+3A_seq_len">seq_len</code></td>
<td>
<p>Positive integer. Time-step number of the forecasting sequence. Default: NULL (random selection within 2 to max preset boundary).</p>
</td></tr>
<tr><td><code id="codez_+3A_n_windows">n_windows</code></td>
<td>
<p>Positive integer. Number of validation windows to test prediction error. Default: 10.</p>
</td></tr>
<tr><td><code id="codez_+3A_latent">latent</code></td>
<td>
<p>Positive integer. Dimensions of the latent space for encoding-decoding operations. Default: NULL (random selection within preset boundaries)</p>
</td></tr>
<tr><td><code id="codez_+3A_smoother">smoother</code></td>
<td>
<p>Logical. Perform optimal smoothing using standard loess for each time feature. Default: FALSE</p>
</td></tr>
<tr><td><code id="codez_+3A_n_samp">n_samp</code></td>
<td>
<p>Positive integer. Number of samples for random search. Default: 30.</p>
</td></tr>
<tr><td><code id="codez_+3A_autoencoder_layers_n">autoencoder_layers_n</code></td>
<td>
<p>Positive integer. Number of layers for the encoder-decoder model. Default: NULL (random selection within preset boundaries)</p>
</td></tr>
<tr><td><code id="codez_+3A_autoencoder_layers_size">autoencoder_layers_size</code></td>
<td>
<p>Positive integer. Numbers of nodes for the encoder-decoder model. Default: NULL (random selection within preset boundaries)</p>
</td></tr>
<tr><td><code id="codez_+3A_autoencoder_activ">autoencoder_activ</code></td>
<td>
<p>String. Activation function to be used by the encoder-decoder model. Implemented functions are: &quot;linear&quot;, &quot;relu&quot;, &quot;leaky_relu&quot;, &quot;selu&quot;, &quot;elu&quot;, &quot;sigmoid&quot;, &quot;tanh&quot;, &quot;swish&quot;, &quot;gelu&quot;. Default: NULL (random selection within standard activations)</p>
</td></tr>
<tr><td><code id="codez_+3A_forward_net_layers_n">forward_net_layers_n</code></td>
<td>
<p>Positive integer. Number of layers for the forward net model. Default: NULL (random selection within preset boundaries)</p>
</td></tr>
<tr><td><code id="codez_+3A_forward_net_layers_size">forward_net_layers_size</code></td>
<td>
<p>Positive integer. Numbers of nodes for the forward net model. Default: NULL (random selection within preset boundaries)</p>
</td></tr>
<tr><td><code id="codez_+3A_forward_net_activ">forward_net_activ</code></td>
<td>
<p>String. Activation function to be used by the forward net model. Implemented functions are: &quot;linear&quot;, &quot;relu&quot;, &quot;leaky_relu&quot;, &quot;selu&quot;, &quot;elu&quot;, &quot;sigmoid&quot;, &quot;tanh&quot;, &quot;swish&quot;, &quot;gelu&quot;. Default: NULL (random selection within standard activations)</p>
</td></tr>
<tr><td><code id="codez_+3A_forward_net_reg_l1">forward_net_reg_L1</code></td>
<td>
<p>Positive numeric between. Weights for L1 regularization. Default: NULL (random selection within preset boundaries).</p>
</td></tr>
<tr><td><code id="codez_+3A_forward_net_reg_l2">forward_net_reg_L2</code></td>
<td>
<p>Positive numeric between. Weights for L2 regularization. Default: NULL (random selection within preset boundaries).</p>
</td></tr>
<tr><td><code id="codez_+3A_forward_net_drop">forward_net_drop</code></td>
<td>
<p>Positive numeric between 0 and 1. Value for the dropout parameter for each layer of the forward net model (for example, a neural net with 3 layers may have dropout = c(0, 0.5, 0.3)). Default: NULL (random selection within preset boundaries).</p>
</td></tr>
<tr><td><code id="codez_+3A_loss_metric">loss_metric</code></td>
<td>
<p>String. Loss function for both models. Available metrics: &quot;mse&quot;, &quot;mae&quot;, &quot;mape&quot;. Default: &quot;mae&quot;.</p>
</td></tr>
<tr><td><code id="codez_+3A_autoencoder_optimizer">autoencoder_optimizer</code></td>
<td>
<p>String. Optimization method for autoencoder. Implemented methods are: &quot;adam&quot;, &quot;adadelta&quot;, &quot;adagrad&quot;, &quot;rmsprop&quot;, &quot;sgd&quot;, &quot;nadam&quot;, &quot;adamax&quot;. Default: NULL (random selection within standard optimizers).</p>
</td></tr>
<tr><td><code id="codez_+3A_forward_net_optimizer">forward_net_optimizer</code></td>
<td>
<p>String. Optimization method for forward net. Implemented methods are: &quot;adam&quot;, &quot;adadelta&quot;, &quot;adagrad&quot;, &quot;rmsprop&quot;, &quot;sgd&quot;, &quot;nadam&quot;, &quot;adamax&quot;. Default: NULL (random selection within standard optimizers).</p>
</td></tr>
<tr><td><code id="codez_+3A_epochs">epochs</code></td>
<td>
<p>Positive integer. Default: 100.</p>
</td></tr>
<tr><td><code id="codez_+3A_patience">patience</code></td>
<td>
<p>Positive integer. Waiting time (in epochs) before evaluating the overfit performance. Default: 10.</p>
</td></tr>
<tr><td><code id="codez_+3A_holdout">holdout</code></td>
<td>
<p>Positive numeric between 0 and 1. Holdout sample for validation. Default: 0.5.</p>
</td></tr>
<tr><td><code id="codez_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Default: FALSE.</p>
</td></tr>
<tr><td><code id="codez_+3A_ci">ci</code></td>
<td>
<p>Positive numeric. Confidence interval. Default: 0.8</p>
</td></tr>
<tr><td><code id="codez_+3A_error_scale">error_scale</code></td>
<td>
<p>String. Scale for the scaled error metrics (for continuous variables). Two options: &quot;naive&quot; (average of naive one-step absolute error for the historical series) or &quot;deviation&quot; (standard error of the historical series). Default: &quot;naive&quot;.</p>
</td></tr>
<tr><td><code id="codez_+3A_error_benchmark">error_benchmark</code></td>
<td>
<p>String. Benchmark for the relative error metrics (for continuous variables). Two options: &quot;naive&quot; (sequential extension of last value) or &quot;average&quot; (mean value of true sequence). Default: &quot;naive&quot;.</p>
</td></tr>
<tr><td><code id="codez_+3A_dates">dates</code></td>
<td>
<p>Date. Vector with dates for time features.</p>
</td></tr>
<tr><td><code id="codez_+3A_seed">seed</code></td>
<td>
<p>Positive integer. Random seed. Default: 42.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list including:
</p>

<ul>
<li><p> history: a table with the sampled models, hyper-parameters, validation errors
</p>
</li>
<li><p> best_model: results for the best selected model according to the weighted average rank, including:
</p>

<ul>
<li><p> predictions: for continuous variables, min, max, q25, q50, q75, quantiles at selected ci, mean, sd, mode, skewness, kurtosis, IQR to range, risk ratio, upside probability and divergence for each point fo predicted sequences; for factor variables, min, max, q25, q50, q75, quantiles at selected ci, proportions, difformity (deviation of proportions normalized over the maximum possible deviation), entropy, upgrade probability and divergence for each point fo predicted sequences
</p>
</li>
<li><p> testing_errors: testing errors for each time feature for the best selected model (for continuous variables: me, mae, mse, rmsse, mpe, mape, rmae, rrmse, rame, mase, smse, sce, gmrae; for factor variables: czekanowski, tanimoto, cosine, hassebrook, jaccard, dice, canberra, gower, lorentzian, clark)
</p>
</li>
<li><p> plots: standard plots with confidence interval for each time feature
</p>
</li></ul>

</li>
<li><p> time_log
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Giancarlo Vercellino <a href="mailto:giancarlo.vercellino@gmail.com">giancarlo.vercellino@gmail.com</a> [copyright holder]
</p>
<p>Giancarlo Vercellino <a href="mailto:giancarlo.vercellino@gmail.com">giancarlo.vercellino@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rpubs.com/giancarlo_vercellino/codez">https://rpubs.com/giancarlo_vercellino/codez</a>
</p>
</li></ul>


<hr>
<h2 id='amzn_aapl_fb'>amzn_aapl_fb data set</h2><span id='topic+amzn_aapl_fb'></span>

<h3>Description</h3>

<p>A data frame with the close prices for Amazon, Google and Facebook.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amzn_aapl_fb
</code></pre>


<h3>Format</h3>

<p>A data frame with 4 columns and 1798 rows.
</p>


<h3>Source</h3>

<p>Yahoo Finance
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

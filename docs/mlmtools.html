<!DOCTYPE html><html lang="en"><head><title>Help for package mlmtools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mlmtools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#betweenPlot'><p>Plots Between Group Associations</p></a></li>
<li><a href='#caterpillarPlot'><p>Caterpillar Plot</p></a></li>
<li><a href='#center'><p>Centers variables for mixed effects models</p></a></li>
<li><a href='#ICCm'><p>Computes ICC values for mixed-effects models</p></a></li>
<li><a href='#instruction'><p>Instruction Data</p></a></li>
<li><a href='#mlm_assumptions'><p>Reports the output of testing all assumptions for a multilevel model</p></a></li>
<li><a href='#prints'><p>S3Methods for Printing</p></a></li>
<li><a href='#reporting'><p>Reporting Data</p></a></li>
<li><a href='#rsqmlm'><p>Calculates R-squared from lmer models</p></a></li>
<li><a href='#varCompare'><p>Compares variance explained for two mixed effects models</p></a></li>
<li><a href='#withinPlot'><p>Plots Within Group Associations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Multi-Level Model Assessment Kit</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Laura Jamison &lt;lj5yn@virginia.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Multilevel models (mixed effects models) are the statistical tool of choice for analyzing multilevel data (Searle et al, 2009). These models account for the correlated nature of observations within higher level units by adding group-level error terms that augment the singular residual error of a standard OLS regression. Multilevel and mixed effects models often require specialized data pre-processing and further post-estimation derivations and graphics to gain insight into model results. The package presented here, 'mlmtools', is a suite of pre- and post-estimation tools for multilevel models in 'R'. Package implements post-estimation tools designed to work with models estimated using 'lme4&rdquo;s (Bates et al., 2014) lmer() function, which fits linear mixed effects regression models. Searle, S. R., Casella, G., &amp; McCulloch, C. E. (2009, ISBN:978-0470009598). Bates, D., MÃ¤chler, M., Bolker, B., &amp; Walker, S. (2014) &lt;<a href="https://doi.org/10.18637%2Fjss.v067.i01">doi:10.18637/jss.v067.i01</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>lme4,stats,ggplot2</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-26 01:08:39 UTC; laurajamison</td>
</tr>
<tr>
<td>Author:</td>
<td>Laura Jamison [aut, cre],
  Jessica Mazen [aut],
  Erik Ruzek [aut],
  Gus Sjobeck [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-26 06:22:36 UTC</td>
</tr>
</table>
<hr>
<h2 id='betweenPlot'>Plots Between Group Associations</h2><span id='topic+betweenPlot'></span>

<h3>Description</h3>

<p>Plots the between-group associations between an outcome and predictor variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>betweenPlot(
  x,
  y,
  grouping,
  dataset,
  xlab = x,
  ylab = y,
  between_title = "Between-Group Association Plot",
  point_color = "gray40",
  line_color = "black",
  se = FALSE,
  full_range = FALSE,
  lty = 1,
  size = 2
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="betweenPlot_+3A_x">x</code></td>
<td>
<p>Predictor variable.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_y">y</code></td>
<td>
<p>Outcome variable.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_grouping">grouping</code></td>
<td>
<p>Grouping variable.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_dataset">dataset</code></td>
<td>
<p>A dataset containing the predictor, outcome, and grouping variables.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_xlab">xlab</code></td>
<td>
<p>Character vector specifying the horizontal axis label.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_ylab">ylab</code></td>
<td>
<p>Character vector specifying the vertical axis label.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_between_title">between_title</code></td>
<td>
<p>Character vector specifying the title for the between group plot.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_point_color">point_color</code></td>
<td>
<p>Color for points.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_line_color">line_color</code></td>
<td>
<p>Color for lines.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_se">se</code></td>
<td>
<p>A logical value indicating whether confidence intervals should be displayed.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_full_range">full_range</code></td>
<td>
<p>A logical value indicating whether the fit line should span the full range of the plot or just the data.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_lty">lty</code></td>
<td>
<p>Line type.</p>
</td></tr>
<tr><td><code id="betweenPlot_+3A_size">size</code></td>
<td>
<p>Width of fit line.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces a plot of the between-group associations between an outcome and predictor variable.
</p>


<h3>References</h3>

<p>Chow, S., Gilmore, R. O., Hallquist, M., Ram, N., &amp; Brinberg, M. (2019). Introduction to multilevel model and interactions. GitHub. https://github.com/psu-psychology/r-bootcamp-2019/blob/master/talks/RBootcamp_MLMInteractions_2019_0820_Final2.Rmd
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read in data
data(instruction)
# Produce between plot
betweenPlot(x = "mathkind", y = "mathgain", grouping = "classid",
dataset = instruction, xlab = "Kindergarten Math Score",
ylab = "Gain in Math Score")

</code></pre>

<hr>
<h2 id='caterpillarPlot'>Caterpillar Plot</h2><span id='topic+caterpillarPlot'></span>

<h3>Description</h3>

<p>Plots empirical Bayes both point prediction and prediction intervals for each random effect parameter across all groups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>caterpillarPlot(
  model,
  grouping,
  title = print(grouping),
  tall = TRUE,
  grey = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="caterpillarPlot_+3A_model">model</code></td>
<td>
<p>A given lmer model.</p>
</td></tr>
<tr><td><code id="caterpillarPlot_+3A_grouping">grouping</code></td>
<td>
<p>The name of the grouping variable of interest, as a character string.</p>
</td></tr>
<tr><td><code id="caterpillarPlot_+3A_title">title</code></td>
<td>
<p>The title of the plot.</p>
</td></tr>
<tr><td><code id="caterpillarPlot_+3A_tall">tall</code></td>
<td>
<p>Logical argument specifying whether the plot should be plotted vertically or horizontally.</p>
</td></tr>
<tr><td><code id="caterpillarPlot_+3A_grey">grey</code></td>
<td>
<p>Logical argument specifying whether the intervals should be plotted in color or greyscale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces a caterpillar plot.
</p>


<h3>References</h3>

<p>Rabe-Hesketh S, Skrondal A (2012). Multilevel and Longitudinal Modeling Using Stata, Volumes I and II, Third Edition. 3 edition edition. Stata Press. ISBN 978-1-59718-108-2.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read in data
data(instruction)
# Create model
mod &lt;- lme4::lmer(mathgain ~ (1 | classid), data = instruction)
# Produce caterpillar plot
caterpillarPlot(mod, title = "title", grouping = "classid", grey = TRUE)

</code></pre>

<hr>
<h2 id='center'>Centers variables for mixed effects models</h2><span id='topic+center'></span>

<h3>Description</h3>

<p>Centers variables using the group-mean (person-mean) centering approach for mixed-effects models, and adds these variables to the data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>center(
  dataset,
  x,
  grouping,
  type = "mean",
  standardize = FALSE,
  centerResult = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="center_+3A_dataset">dataset</code></td>
<td>
<p>A dataset containing the variables to be centered and the grouping variable</p>
</td></tr>
<tr><td><code id="center_+3A_x">x</code></td>
<td>
<p>The variable or variables to be centered</p>
</td></tr>
<tr><td><code id="center_+3A_grouping">grouping</code></td>
<td>
<p>The variable or variables that define the grouping structure of the data</p>
</td></tr>
<tr><td><code id="center_+3A_type">type</code></td>
<td>
<p>a function to compute the grouping summary variable</p>
</td></tr>
<tr><td><code id="center_+3A_standardize">standardize</code></td>
<td>
<p>a logical value indicating whether x should be standardized before the computaion proceeds</p>
</td></tr>
<tr><td><code id="center_+3A_centerresult">centerResult</code></td>
<td>
<p>a logical value indicating whether resulting grouping summary variable values should be centered at 0</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Creates two new variables in the data frame - a mean of the desired variable computed for each unique value in the grouping variable and a deviation score for each observation within the grouping variable that is that observation's raw score subtracted from the group mean.
</p>


<h3>References</h3>

<p>Enders, C. &amp; Tofighi, D. (2007). Centering predictor variables in cross-sectional multilevel models: A new look at an old problem. Psychological Methods, 12(2), 121â138
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(instruction)
#Center student level socioeconomic status, "ses", around class mean "ses"
### To repress output: use invisible()
center(dataset = instruction, x = "ses", grouping = "classid")
#Center class-level variable teacher's mathematic prepartion,
# mathprep, around school mean "mathprep"
center(dataset = instruction, x = "mathprep", grouping = "schoolid")

</code></pre>

<hr>
<h2 id='ICCm'>Computes ICC values for mixed-effects models</h2><span id='topic+ICCm'></span>

<h3>Description</h3>

<p>Computes ICC values for lme4-fitted mixed-effects models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ICCm(model, re_type = c("NA"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ICCm_+3A_model">model</code></td>
<td>
<p>A linear mixed-effects model of class lmerMod or lmerModLmerTest</p>
</td></tr>
<tr><td><code id="ICCm_+3A_re_type">re_type</code></td>
<td>
<p>A value indicating whether a model with two random effects is nested or cross-classified</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>re_type</code> is &quot;NA&quot;, the proportion of variance at the random effect is computed.
</p>
<p>If re_type = &quot;nested&quot;, the likeness of y scores in the same level 3 unit (the proportion of variance at Level3_factor), the likeness of y scores in the same level 2 units in the same level 3 unit (proportion of variance at Level3_factor and Level2_factor), and the likeness of level 2 units in the same level 3 unit (proportion of Level2_factor variance at Level3_factor) are computed.
</p>
<p>If re_type = &quot;cc&quot;, the likeness of y scores in the same C1_factor unit (correlation between outcome values of units in same C1_factor but different C2_factor), the likeness of y scores in the same C2_factor (correlation between outcome values of units in the same C2_factor but different C2_factor), and the likeness of y scores in the same C1_factor and C2_factor combination (correlation between outcome values of units in the same C2_factor and C2_factor) are computed.
</p>


<h3>References</h3>

<p>Snijders, T. A. B. &amp; Bosker, R. J. (2012). Multilevel Analysis (2nd Ed.). Sage Publications Ltd.
Goldstein, H., Browne, W., &amp; Rasbash, J. (2002). Partitioning variation in multilevel models. Understanding statistics: statistical issues in psychology, education, and the social sciences, 1(4), 223-231.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Gaussian
## Read in data
data(instruction)
## Create model
mod &lt;- lme4::lmer(mathgain ~ (1 | classid), data = instruction)
## Estimate ICC
ICCm(mod)

# Logistic
## Read in data
data(reporting)
## Create model
mod &lt;- lme4::glmer(mention.outliers ~ Basics + (1 | Journal), data = reporting, family = "binomial")
## Estimate ICC
ICCm(mod)

</code></pre>

<hr>
<h2 id='instruction'>Instruction Data</h2><span id='topic+instruction'></span>

<h3>Description</h3>

<p>Data from a study on instructional improvement across 312 classrooms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(instruction)
</code></pre>


<h3>Format</h3>

<p>A data frame with 1190 observations on the following 8 variables.
</p>

<dl>
<dt><code>female</code></dt><dd><p>Dummy variable for being female</p>
</dd>
<dt><code>mathkind</code></dt><dd><p>Math achievement score in the spring of kindergarten</p>
</dd>
<dt><code>mathgain</code></dt><dd><p>Gain in math achievement score from spring of kindergarten to spring of first grade</p>
</dd>
<dt><code>ses</code></dt><dd><p>Socioeconomic status</p>
</dd>
<dt><code>mathprep</code></dt><dd><p>First grade teacher's mathematic preparation (based on number of courses taken)</p>
</dd>
<dt><code>classid</code></dt><dd><p>Classroom identifier</p>
</dd>
<dt><code>schoolid</code></dt><dd><p>School identifier</p>
</dd>
<dt><code>childid</code></dt><dd><p>Student identifier</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.stata-press.com/data/mlmus3/instruction.dta">Stata Press</a>
</p>


<h3>References</h3>

<p>Rabe-Hesketh, Sophia, and Brian Everitt. Handbook of statistical analyses using Stata. CRC Press, 2003.
</p>
<p>Hill, H. C., Rowan, B., &amp; Ball, D. L. (2005). Effects of teachersâ mathematical knowledge for teaching on student achievement. American educational research journal, 42(2), 371-406.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(instruction)
</code></pre>

<hr>
<h2 id='mlm_assumptions'>Reports the output of testing all assumptions for a multilevel model</h2><span id='topic+mlm_assumptions'></span>

<h3>Description</h3>

<p>Reports the results from testing all assumptions of a multilevel model and provides suggestions if an assumption is not passed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mlm_assumptions(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mlm_assumptions_+3A_model">model</code></td>
<td>
<p>A linear mixed-effects model of class lmerMod, lmerModLmerTest, or glmerMod of type binomial.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tests the relevant assumptions of the specified multilevel model.
</p>


<h3>References</h3>

<p>Glaser, R. E. (2006). Leveneâs Robust Test of Homogeneity of Variances. Encyclopedia of Statistical Sciences. 6.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read in data
data(instruction)
# Create model
mod &lt;- lme4::lmer(mathgain ~ mathkind + (1 | classid), data = instruction)
# Evaluate assumptions
mlm_assumptions(mod)

</code></pre>

<hr>
<h2 id='prints'>S3Methods for Printing</h2><span id='topic+prints'></span><span id='topic+print.center'></span><span id='topic+print.ICCm'></span><span id='topic+print.rsqmlm'></span><span id='topic+print.varCompare'></span>

<h3>Description</h3>

<p>Prints for <code>mlmtools</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'center'
print(x, ...)

## S3 method for class 'ICCm'
print(x, ...)

## S3 method for class 'rsqmlm'
print(x, ...)

## S3 method for class 'varCompare'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prints_+3A_x">x</code></td>
<td>
<p>Object from <code>mlmtools</code> package</p>
</td></tr>
<tr><td><code id="prints_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints <code>mlmtools</code> object
</p>

<hr>
<h2 id='reporting'>Reporting Data</h2><span id='topic+reporting'></span>

<h3>Description</h3>

<p>Data from a study on the reporting rates of outliers with data on 2235 experiments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(reporting)
</code></pre>


<h3>Format</h3>

<p>A data frame with 2235 observations on the following 18 variables.
</p>

<dl>
<dt><code>Reference.Code</code></dt><dd><p>Bibtex reference code for the article</p>
</dd>
<dt><code>year</code></dt><dd><p>Year of publication</p>
</dd>
<dt><code>time.pulled</code></dt><dd><p>Year article was pulled for these data</p>
</dd>
<dt><code>Type</code></dt><dd><p>Type of psychological journal</p>
</dd>
<dt><code>Journal</code></dt><dd><p>Journal of publication</p>
</dd>
<dt><code>authors</code></dt><dd><p>Authors</p>
</dd>
<dt><code>article</code></dt><dd><p>Title of article</p>
</dd>
<dt><code>original.sample.size</code></dt><dd><p>Original sample size from the article</p>
</dd>
<dt><code>mention.outliers</code></dt><dd><p>Whether or not the article mentioned outliers</p>
</dd>
<dt><code>final.sample.size</code></dt><dd><p>Final sample size from the article</p>
</dd>
<dt><code>number.outliers</code></dt><dd><p>Number of outliers identified by the article</p>
</dd>
<dt><code>Basics</code></dt><dd><p>Whether or not they ran basic statistics (e.g., descriptive statistics, z scores, t tests, and correlations)</p>
</dd>
<dt><code>ANOVA</code></dt><dd><p>Whether or not they ran ANOVA</p>
</dd>
<dt><code>Regression</code></dt><dd><p>Whether or not they ran a regression</p>
</dd>
<dt><code>ChiSquare</code></dt><dd><p>Whether or not they ran a chi-squared test</p>
</dd>
<dt><code>Nonparametric</code></dt><dd><p>Whether or not they ran a nonparametric test</p>
</dd>
<dt><code>Modeling</code></dt><dd><p>Whether or not they used structural equation modeling</p>
</dd>
<dt><code>BayesOther</code></dt><dd><p>Whether or not they used Bayes or another form of analysis</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/doomlab/Outliers/tree/master/paper">GitHub</a>
</p>


<h3>References</h3>

<p>Valentine, K. D., Buchanan, E. M., Cunningham, A., Hopke, T., Wikowsky, A., &amp; Wilson, H. (2021). Have psychologists increased reporting of outliers in response to the reproducibility crisis?. Social and Personality Psychology Compass, 15(5), e12591.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(reporting)
</code></pre>

<hr>
<h2 id='rsqmlm'>Calculates R-squared from lmer models</h2><span id='topic+rsqmlm'></span>

<h3>Description</h3>

<p>Calculates variance explained by lme4-fitted mixed-effects models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsqmlm(model, by_cluster = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsqmlm_+3A_model">model</code></td>
<td>
<p>A linear mixed-effects model of class lmerMod or lmerModLmerTest</p>
</td></tr>
<tr><td><code id="rsqmlm_+3A_by_cluster">by_cluster</code></td>
<td>
<p>Logical, if TRUE returns variance explained at each level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Computes the percent variance explained by the model.
</p>


<h3>References</h3>

<p>Nakagawa, S., Johnson, P. C., &amp; Schielzeth, H. (2017). The coefficient of determination R 2 and intra-class correlation coefficient from generalized linear mixed-effects models revisited and expanded. Journal of the Royal Society Interface, 14(134), 20170213.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read in data
data(instruction)
# Center mathkind by classid
center(dataset = instruction, x = "mathkind", grouping = "classid")
# Create model
mod &lt;- lme4::lmer(mathgain ~ classid_mathkind.cmn +
classid_mathkind.devcmn + (1 | classid), data = instruction)
# Calculate r-squared
### To repress output: use invisible()
rsq &lt;- rsqmlm(mod)
rsq
rsq$marginal
rsq$conditional

</code></pre>

<hr>
<h2 id='varCompare'>Compares variance explained for two mixed effects models</h2><span id='topic+varCompare'></span>

<h3>Description</h3>

<p>Compares variance explained by additional fixed effects for two lme4-fitted mixed-effects models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>varCompare(model1, model2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="varCompare_+3A_model1">model1</code></td>
<td>
<p>A linear mixed-effects model of class lmerMod or lmerModLmerTest</p>
</td></tr>
<tr><td><code id="varCompare_+3A_model2">model2</code></td>
<td>
<p>A linear mixed-effects model of class lmerMod or lmerModLmerTest</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specifically,  1-(total variance for less parsimonious model/total variance for more parsimonious model).
</p>


<h3>Value</h3>

<p>Computes the percent increase in variance explained by the less parsimonious (more complicated) model compared to the more parsimonious (less complicated) model.
</p>


<h3>References</h3>

<p>Snijders, T. A. B. &amp; Bosker, R. J. (2012). Multilevel Analysis (2nd Ed.). Sage Publications Ltd.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read in data
data(instruction)
# Create null model
mod0 &lt;- lme4::lmer(mathgain ~ (1 | classid), data = instruction)
# Create model of interest
mod1 &lt;- lme4::lmer(mathgain ~ mathkind + (1 | classid), data = instruction)
# Compare variance explained
### To repress output: use invisible()
varCompare(mod0, mod1)

</code></pre>

<hr>
<h2 id='withinPlot'>Plots Within Group Associations</h2><span id='topic+withinPlot'></span>

<h3>Description</h3>

<p>Plots the within-group associations between an outcome and predictor variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>withinPlot(
  x,
  y,
  grouping,
  dataset,
  xlab = x,
  ylab = y,
  within_title = "Within-Group Association Plot",
  point_color = "gray40",
  line_color = "black",
  se = FALSE,
  full_range = FALSE,
  lty = 1,
  size = 2
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="withinPlot_+3A_x">x</code></td>
<td>
<p>Predictor variable.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_y">y</code></td>
<td>
<p>Outcome variable.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_grouping">grouping</code></td>
<td>
<p>Grouping variable (individual may be grouping variable).</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_dataset">dataset</code></td>
<td>
<p>A dataset containing the predictor, outcome, and grouping variables.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_xlab">xlab</code></td>
<td>
<p>Character vector specifying the horizontal axis label.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_ylab">ylab</code></td>
<td>
<p>Character vector specifying the vertical axis label.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_within_title">within_title</code></td>
<td>
<p>Character vector specifying the title for the within group plot.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_point_color">point_color</code></td>
<td>
<p>Color for points.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_line_color">line_color</code></td>
<td>
<p>Color for lines.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_se">se</code></td>
<td>
<p>A logical value indicating whether confidence intervals should be displayed.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_full_range">full_range</code></td>
<td>
<p>A logical value indicating whether the fit line should span the full range of the plot or just the data.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_lty">lty</code></td>
<td>
<p>Line type.</p>
</td></tr>
<tr><td><code id="withinPlot_+3A_size">size</code></td>
<td>
<p>Width of fit line.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Produces a plot of the within-group associations between an outcome and predictor variable.
</p>


<h3>References</h3>

<p>Chow, S., Gilmore, R. O., Hallquist, M., Ram, N., &amp; Brinberg, M. (2019). Introduction to multilevel model and interactions. GitHub. https://github.com/psu-psychology/r-bootcamp-2019/blob/master/talks/RBootcamp_MLMInteractions_2019_0820_Final2.Rmd
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read in data
data(instruction)
# Create within plot
mathkind_withinPlot &lt;- withinPlot(x = "mathkind", y = "mathgain",
grouping = "classid", dataset = instruction,
xlab = "Kindergarten Math Score", ylab = "Gain in Math Score")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

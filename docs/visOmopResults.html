<!DOCTYPE html><html><head><title>Help for package visOmopResults</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {visOmopResults}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#visOmopResults-package'><p>visOmopResults: Graphs and Tables for OMOP Results</p></a></li>
<li><a href='#additionalColumns'><p>Identify additional columns in an omop result object</p></a></li>
<li><a href='#addSettings'><p>Add settings columns to a summaries_result object.</p></a></li>
<li><a href='#filterSettings'><p>Filter a summarised_result</p></a></li>
<li><a href='#formatEstimateName'><p>Formats estimate_name and estimate_value column</p></a></li>
<li><a href='#formatEstimateValue'><p>Formats the estimate_value column</p></a></li>
<li><a href='#formatHeader'><p>Create a header for gt and flextable objects.</p></a></li>
<li><a href='#formatTable'><p>Format a summarised_result object into a gt, flextable or tibble object</p></a></li>
<li><a href='#fxTable'><p>Creates a flextable object from a dataframe</p></a></li>
<li><a href='#groupColumns'><p>Identify group columns in an omop result object</p></a></li>
<li><a href='#gtTable'><p>Creates a gt object from a dataframe</p></a></li>
<li><a href='#mockSummarisedResult'><p>A summarised_result object filled with mock data</p></a></li>
<li><a href='#optionsVisOmopTable'><p>Additional arguments for the function visOmopTable</p></a></li>
<li><a href='#pivotEstimates'><p>Set estimates as columns</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#splitAdditional'><p>Split additional_name and additional_level columns</p></a></li>
<li><a href='#splitAll'><p>Split group, strata and additional at once.</p></a></li>
<li><a href='#splitGroup'><p>Split group_name and group_level columns</p></a></li>
<li><a href='#splitNameLevel'><p>Split name and level columns into the columns</p></a></li>
<li><a href='#splitStrata'><p>Split strata_name and strata_level columns</p></a></li>
<li><a href='#strataColumns'><p>Identify strata columns in an omop result object</p></a></li>
<li><a href='#tidy.summarised_result'><p>Get a tidy visualization of a summarised_result object</p></a></li>
<li><a href='#uniteAdditional'><p>Unite one or more columns in additional_name-additional_level format</p></a></li>
<li><a href='#uniteGroup'><p>Unite one or more columns in group_name-group_level format</p></a></li>
<li><a href='#uniteNameLevel'><p>Unite one or more columns in name-level format</p></a></li>
<li><a href='#uniteStrata'><p>Unite one or more columns in strata_name-strata_level format</p></a></li>
<li><a href='#visOmopTable'><p>Format a summarised_result object into a gt, flextable or tibble object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Graphs and Tables for OMOP Results</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Núria Mercadé-Besora &lt;nuria.mercadebesora@ndorms.ox.ac.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides methods to transform omop_result objects into
    formatted tables and figures, facilitating the visualization of study
    results working with the Observational Medical Outcomes Partnership
    (OMOP) Common Data Model.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://darwin-eu.github.io/visOmopResults/">https://darwin-eu.github.io/visOmopResults/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/darwin-eu/visOmopResults/issues">https://github.com/darwin-eu/visOmopResults/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, generics, glue, lifecycle, omopgenerics (&ge;
0.2.0), rlang, stringr, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>flextable (&ge; 0.9.5), gt, officer, knitr, rmarkdown, testthat
(&ge; 3.0.0), tibble, covr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-02 14:08:28 UTC; nuriamb</td>
</tr>
<tr>
<td>Author:</td>
<td>Marti Catala <a href="https://orcid.org/0000-0003-3308-9905"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Núria Mercadé-Besora
    <a href="https://orcid.org/0009-0006-7948-3747"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-02 14:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='visOmopResults-package'>visOmopResults: Graphs and Tables for OMOP Results</h2><span id='topic+visOmopResults'></span><span id='topic+visOmopResults-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides methods to transform omop_result objects into formatted tables and figures, facilitating the visualization of study results working with the Observational Medical Outcomes Partnership (OMOP) Common Data Model.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Núria Mercadé-Besora <a href="mailto:nuria.mercadebesora@ndorms.ox.ac.uk">nuria.mercadebesora@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0009-0006-7948-3747">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Marti Catala <a href="mailto:marti.catalasabate@ndorms.ox.ac.uk">marti.catalasabate@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-3308-9905">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://darwin-eu.github.io/visOmopResults/">https://darwin-eu.github.io/visOmopResults/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/darwin-eu/visOmopResults/issues">https://github.com/darwin-eu/visOmopResults/issues</a>
</p>
</li></ul>


<hr>
<h2 id='additionalColumns'>Identify additional columns in an omop result object</h2><span id='topic+additionalColumns'></span>

<h3>Description</h3>

<p>Identifies and returns the unique values in additional_name
column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>additionalColumns(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="additionalColumns_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unique values of the additional name column.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  additionalColumns()

</code></pre>

<hr>
<h2 id='addSettings'>Add settings columns to a summaries_result object.</h2><span id='topic+addSettings'></span>

<h3>Description</h3>

<p>Add settings columns to a summaries_result object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSettings(result, columns = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addSettings_+3A_result">result</code></td>
<td>
<p>A summarised_result object.</p>
</td></tr>
<tr><td><code id="addSettings_+3A_columns">columns</code></td>
<td>
<p>Settings to be added as columns, by default all settings will
be added.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised_result object with the added setting columns.
</p>

<hr>
<h2 id='filterSettings'>Filter a summarised_result</h2><span id='topic+filterSettings'></span>

<h3>Description</h3>

<p>Filter a summarised_result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filterSettings(result, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterSettings_+3A_result">result</code></td>
<td>
<p>A summarised_result object.</p>
</td></tr>
<tr><td><code id="filterSettings_+3A_...">...</code></td>
<td>
<p>Expressions that return a logical value (columns in settings are
used to evaluate the expression), and are defined in terms of the variables
in .data. If multiple expressions are included, they are combined with the &amp;
operator. Only rows for which all conditions evaluate to TRUE are kept.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised_result object with only the result_id rows that fulfill
the required specified settings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
library(omopgenerics)

x &lt;- tibble(
  "result_id" = as.integer(c(1, 2)),
  "cdm_name" = c("cprd", "eunomia"),
  "group_name" = "sex",
  "group_level" = "male",
  "strata_name" = "sex",
  "strata_level" = "male",
  "variable_name" = "Age group",
  "variable_level" = "10 to 50",
  "estimate_name" = "count",
  "estimate_type" = "numeric",
  "estimate_value" = "5",
  "additional_name" = "overall",
  "additional_level" = "overall"
) |&gt;
  newSummarisedResult(settings = tibble(
  "result_id" = c(1, 2), "custom" = c("A", "B")
))

x

x |&gt; filterSettings(custom == "A")

</code></pre>

<hr>
<h2 id='formatEstimateName'>Formats estimate_name and estimate_value column</h2><span id='topic+formatEstimateName'></span>

<h3>Description</h3>

<p>Formats estimate_name and estimate_value columns by changing the name of the
estimate name and/or joining different estimates together in a single row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatEstimateName(
  result,
  estimateNameFormat = NULL,
  keepNotFormatted = TRUE,
  useFormatOrder = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatEstimateName_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
<tr><td><code id="formatEstimateName_+3A_estimatenameformat">estimateNameFormat</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="formatEstimateName_+3A_keepnotformatted">keepNotFormatted</code></td>
<td>
<p>Whether to keep rows not formatted.</p>
</td></tr>
<tr><td><code id="formatEstimateName_+3A_useformatorder">useFormatOrder</code></td>
<td>
<p>Whether to use the order in which estimate names
appear in the estimateNameFormat (TRUE), or use the order in the
input dataframe (FALSE).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised_result object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>result &lt;- mockSummarisedResult()
result |&gt;
  formatEstimateName(
    estimateNameFormat = c(
      "N (%)" = "&lt;count&gt; (&lt;percentage&gt;%)", "N" = "&lt;count&gt;"
    ),
    keepNotFormatted = FALSE
  )

</code></pre>

<hr>
<h2 id='formatEstimateValue'>Formats the estimate_value column</h2><span id='topic+formatEstimateValue'></span>

<h3>Description</h3>

<p>Formats the estimate_value column of summarised_result object by editing
number of decimals, decimal and thousand/millions separator marks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatEstimateValue(
  result,
  decimals = c(integer = 0, numeric = 2, percentage = 1, proportion = 3),
  decimalMark = ".",
  bigMark = ","
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatEstimateValue_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
<tr><td><code id="formatEstimateValue_+3A_decimals">decimals</code></td>
<td>
<p>Number of decimals per estimate type (integer, numeric,
percentage, proportion), estimate name, or all estimate values (introduce the
number of decimals).</p>
</td></tr>
<tr><td><code id="formatEstimateValue_+3A_decimalmark">decimalMark</code></td>
<td>
<p>Decimal separator mark.</p>
</td></tr>
<tr><td><code id="formatEstimateValue_+3A_bigmark">bigMark</code></td>
<td>
<p>Thousand and millions separator mark.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A summarised_result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>result &lt;- mockSummarisedResult()

result |&gt; formatEstimateValue(decimals = 1)

result |&gt; formatEstimateValue(decimals = c(integer = 0, numeric = 1))

result |&gt;
  formatEstimateValue(decimals = c(numeric = 1, count = 0))
</code></pre>

<hr>
<h2 id='formatHeader'>Create a header for gt and flextable objects.</h2><span id='topic+formatHeader'></span>

<h3>Description</h3>

<p>Pivots a summarised_result object based on the column names in header,
generating specific column names for subsequent header formatting in
gtTable and fxTable functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatHeader(
  result,
  header,
  delim = "\n",
  includeHeaderName = TRUE,
  includeHeaderKey = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatHeader_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
<tr><td><code id="formatHeader_+3A_header">header</code></td>
<td>
<p>Names of the columns to make headers. Names that doesn't
correspond to a column of the table result, will be used as headers at the
defined position.</p>
</td></tr>
<tr><td><code id="formatHeader_+3A_delim">delim</code></td>
<td>
<p>Delimiter to use to separate headers.</p>
</td></tr>
<tr><td><code id="formatHeader_+3A_includeheadername">includeHeaderName</code></td>
<td>
<p>Whether to include the column name as header.</p>
</td></tr>
<tr><td><code id="formatHeader_+3A_includeheaderkey">includeHeaderKey</code></td>
<td>
<p>Whether to include the header key (header,
header_name, header_level) before each header type in the column names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with rows pivotted into columns with key names for
subsequent header formatting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>result &lt;- mockSummarisedResult()

result |&gt;
  formatHeader(
    header = c(
      "Study cohorts", "group_level", "Study strata", "strata_name",
      "strata_level"
    ),
    includeHeaderName = FALSE
  )
</code></pre>

<hr>
<h2 id='formatTable'>Format a summarised_result object into a gt, flextable or tibble object</h2><span id='topic+formatTable'></span>

<h3>Description</h3>

<p><code>formatTable()</code> was renamed to <code>visOmopTable()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatTable(
  result,
  formatEstimateName,
  header,
  split,
  groupColumn = NULL,
  type = "gt",
  renameColumns = NULL,
  minCellCount = lifecycle::deprecated(),
  excludeColumns = c("result_id", "estimate_type"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatTable_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
<tr><td><code id="formatTable_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="formatTable_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order (<code>cdm_name</code>, <code>group</code>, <code>strata</code>, <code>additional</code>,
<code>variable</code>, <code>estimate</code>, and <code>settings</code>).</p>
</td></tr>
<tr><td><code id="formatTable_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="formatTable_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Columns to use as group labels. By default the name of the
new group will be the column names separated by &quot;_&quot;. To specify a new
grouping name enter a named list such as:
list(<code>newGroupName</code> = c(&quot;variable_name&quot;, &quot;variable_level&quot;))</p>
</td></tr>
<tr><td><code id="formatTable_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="formatTable_+3A_renamecolumns">renameColumns</code></td>
<td>
<p>Named vector to customise column names, for instance:
c(&quot;Database name&quot; = &quot;cdm_name&quot;)). By default column names are transformed to
sentence case.</p>
</td></tr>
<tr><td><code id="formatTable_+3A_mincellcount">minCellCount</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Suppression of
estimates when counts &lt; minCellCount should be done before with
<code>ompogenerics::suppress()</code>.</p>
</td></tr>
<tr><td><code id="formatTable_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="formatTable_+3A_.options">.options</code></td>
<td>
<p>Named list with additional formatting options.
visOmopResults::optionsVisOmopTable() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Value</h3>

<p>A tibble, gt, or flextable object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt; formatTable(
  formatEstimateName = c("N%" = "&lt;count&gt; (&lt;percentage&gt;)",
                         "N" = "&lt;count&gt;",
                         "Mean (SD)" = "&lt;mean&gt; (&lt;sd&gt;)"),
  header = c("group"),
  split = c("group","strata",  "additional")
)

</code></pre>

<hr>
<h2 id='fxTable'>Creates a flextable object from a dataframe</h2><span id='topic+fxTable'></span>

<h3>Description</h3>

<p>Creates a flextable object from a dataframe using a delimiter to span
the header, and allows to easily customise table style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fxTable(
  x,
  delim = "\n",
  style = "default",
  na = "-",
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  groupColumn = NULL,
  groupNameCol = lifecycle::deprecated(),
  groupAsColumn = FALSE,
  groupNameAsColumn = lifecycle::deprecated(),
  groupOrder = NULL,
  colsToMergeRows = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fxTable_+3A_x">x</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_delim">delim</code></td>
<td>
<p>Delimiter.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_style">style</code></td>
<td>
<p>Named list that specifies how to style the different parts of
the gt table. Accepted entries are: title, subtitle, header, header_name,
header_level, column_name, group_label, and body. Alternatively, use
&quot;default&quot; to get visOmopResults style, or NULL for flextable style.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_na">na</code></td>
<td>
<p>How to display missing values.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_title">title</code></td>
<td>
<p>Title of the table, or NULL for no title.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_subtitle">subtitle</code></td>
<td>
<p>Subtitle of the table, or NULL for no subtitle.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_caption">caption</code></td>
<td>
<p>Caption for the table, or NULL for no caption. Text in
markdown formatting style (e.g. <code style="white-space: pre;">&#8288;*Your caption here*&#8288;</code> for caption in
italics).</p>
</td></tr>
<tr><td><code id="fxTable_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_groupnamecol">groupNameCol</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> This argument was
renamed to &quot;groupColumn&quot; for consistency throughout the package functions.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_groupascolumn">groupAsColumn</code></td>
<td>
<p>Whether to display the group labels as a column
(TRUE) or rows (FALSE).</p>
</td></tr>
<tr><td><code id="fxTable_+3A_groupnameascolumn">groupNameAsColumn</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> This argument was
renamed to &quot;groupAsColumn&quot; for consistency with the argument &quot;groupColumn&quot;.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_grouporder">groupOrder</code></td>
<td>
<p>Order in which to display group labels.</p>
</td></tr>
<tr><td><code id="fxTable_+3A_colstomergerows">colsToMergeRows</code></td>
<td>
<p>Names of the columns to merge vertically
when consecutive row cells have identical values. Alternatively, use
&quot;all_columns&quot; to apply this merging to all columns, or use NULL to indicate
no merging.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flextable object.
</p>
<p>A flextable object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  formatEstimateValue(decimals = c(integer = 0, numeric = 1)) |&gt;
  formatHeader(header = c("Study strata", "strata_name", "strata_level"),
               includeHeaderName = FALSE) |&gt;
  fxTable(
    style = "default",
    na = "--",
    title = "fxTable example",
    subtitle = NULL,
    caption = NULL,
    groupColumn = "group_level",
    groupAsColumn = TRUE,
    groupOrder = c("cohort1", "cohort2"),
    colsToMergeRows = "all_columns"
 )

</code></pre>

<hr>
<h2 id='groupColumns'>Identify group columns in an omop result object</h2><span id='topic+groupColumns'></span>

<h3>Description</h3>

<p>Identifies and returns the unique values in group_name column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>groupColumns(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="groupColumns_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unique values of the group name column.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  groupColumns()

</code></pre>

<hr>
<h2 id='gtTable'>Creates a gt object from a dataframe</h2><span id='topic+gtTable'></span>

<h3>Description</h3>

<p>Creates a flextable object from a dataframe using a delimiter to span
the header, and allows to easily customise table style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtTable(
  x,
  delim = "\n",
  style = "default",
  na = "-",
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  groupColumn = NULL,
  groupNameCol = lifecycle::deprecated(),
  groupAsColumn = FALSE,
  groupNameAsColumn = lifecycle::deprecated(),
  groupOrder = NULL,
  colsToMergeRows = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gtTable_+3A_x">x</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_delim">delim</code></td>
<td>
<p>Delimiter.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_style">style</code></td>
<td>
<p>Named list that specifies how to style the different parts of
the gt table. Accepted entries are: title, subtitle, header, header_name,
header_level, column_name, group_label, and body. Alternatively, use
&quot;default&quot; to get visOmopResults style, or NULL for gt style</p>
</td></tr>
<tr><td><code id="gtTable_+3A_na">na</code></td>
<td>
<p>How to display missing values.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_title">title</code></td>
<td>
<p>Title of the table, or NULL for no title.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_subtitle">subtitle</code></td>
<td>
<p>Subtitle of the table, or NULL for no subtitle.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_caption">caption</code></td>
<td>
<p>Caption for the table, or NULL for no caption. Text in
markdown formatting style (e.g. <code style="white-space: pre;">&#8288;*Your caption here*&#8288;</code> for caption in
italics).</p>
</td></tr>
<tr><td><code id="gtTable_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Column to use as group labels.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_groupnamecol">groupNameCol</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> This argument was
renamed to &quot;groupColumn&quot; for consistency throughout the package functions.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_groupascolumn">groupAsColumn</code></td>
<td>
<p>Whether to display the group labels as a column
(TRUE) or rows (FALSE).</p>
</td></tr>
<tr><td><code id="gtTable_+3A_groupnameascolumn">groupNameAsColumn</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> This argument was
renamed to &quot;groupAsColumn&quot; for consistency with the argument &quot;groupColumn&quot;.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_grouporder">groupOrder</code></td>
<td>
<p>Order in which to display group labels.</p>
</td></tr>
<tr><td><code id="gtTable_+3A_colstomergerows">colsToMergeRows</code></td>
<td>
<p>Names of the columns to merge vertically
when consecutive row cells have identical values. Alternatively, use
&quot;all_columns&quot; to apply this merging to all columns, or use NULL to indicate
no merging.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>gt object.
</p>
<p>A gt table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  formatEstimateValue(decimals = c(integer = 0, numeric = 1)) |&gt;
  formatHeader(header = c("Study strata", "strata_name", "strata_level"),
              includeHeaderName = FALSE) |&gt;
  gtTable(
    style = list("header" = list(
      gt::cell_fill(color = "#d9d9d9"),
      gt::cell_text(weight = "bold")),
      "header_level" = list(gt::cell_fill(color = "#e1e1e1"),
                            gt::cell_text(weight = "bold")),
      "column_name" = list(gt::cell_text(weight = "bold")),
      "title" = list(gt::cell_text(weight = "bold"),
                     gt::cell_fill(color = "#c8c8c8")),
      "group_label" = gt::cell_fill(color = "#e1e1e1")),
    na = "--",
    title = "gtTable example",
    subtitle = NULL,
    caption = NULL,
    groupColumn = "group_level",
    groupAsColumn = FALSE,
    groupOrder = c("cohort1", "cohort2"),
    colsToMergeRows = "all_columns"
  )

</code></pre>

<hr>
<h2 id='mockSummarisedResult'>A summarised_result object filled with mock data</h2><span id='topic+mockSummarisedResult'></span>

<h3>Description</h3>

<p>Creates an object of the class summarised_result with mock data
for illustration purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockSummarisedResult()
</code></pre>


<h3>Value</h3>

<p>An object of the class summarised_result with mock data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult()


</code></pre>

<hr>
<h2 id='optionsVisOmopTable'>Additional arguments for the function visOmopTable</h2><span id='topic+optionsVisOmopTable'></span>

<h3>Description</h3>

<p>It provides a list of allowed inputs for .option argument in
visOmopTable and their given default value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optionsVisOmopTable()
</code></pre>


<h3>Value</h3>

<p>The default .options named list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
optionsVisOmopTable()
}


</code></pre>

<hr>
<h2 id='pivotEstimates'>Set estimates as columns</h2><span id='topic+pivotEstimates'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Pivot the estimates as new columns in result table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pivotEstimates(result, pivotEstimatesBy = "estimate_name", nameStyle = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pivotEstimates_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
<tr><td><code id="pivotEstimates_+3A_pivotestimatesby">pivotEstimatesBy</code></td>
<td>
<p>Names from which pivot wider the estimate values. If
NULL the table will not be pivotted.</p>
</td></tr>
<tr><td><code id="pivotEstimates_+3A_namestyle">nameStyle</code></td>
<td>
<p>Name style (glue package specifications) to customise names
when pivotting estimates. If NULL standard tidyr::pivot_wider formatting will
be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>result &lt;- mockSummarisedResult()
result |&gt; pivotEstimates()

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+tidy'></span><span id='topic+settings'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+tidy">tidy</a></code></p>
</dd>
<dt>omopgenerics</dt><dd><p><code><a href="omopgenerics.html#topic+settings">settings</a></code></p>
</dd>
</dl>

<hr>
<h2 id='splitAdditional'>Split additional_name and additional_level columns</h2><span id='topic+splitAdditional'></span>

<h3>Description</h3>

<p>Pivots the input dataframe so the values of the column additional_name are
transformed into columns that contain values from the additional_level column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitAdditional(
  result,
  keep = FALSE,
  fill = "overall",
  overall = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitAdditional_+3A_result">result</code></td>
<td>
<p>A dataframe with at least the columns additional_name and
additional_level.</p>
</td></tr>
<tr><td><code id="splitAdditional_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original group_name and group_level columns.</p>
</td></tr>
<tr><td><code id="splitAdditional_+3A_fill">fill</code></td>
<td>
<p>Optionally, a character that specifies what value should be
filled in with when missing.</p>
</td></tr>
<tr><td><code id="splitAdditional_+3A_overall">overall</code></td>
<td>
<p>deprecated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  splitAdditional()

</code></pre>

<hr>
<h2 id='splitAll'>Split group, strata and additional at once.</h2><span id='topic+splitAll'></span>

<h3>Description</h3>

<p>Pivots the input dataframe so group, strata and additional name columns are
transformed into columns that contain values from the corresponding level
columns (group, strata, and additional).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitAll(
  result,
  keep = FALSE,
  fill = "overall",
  overall = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitAll_+3A_result">result</code></td>
<td>
<p>A summarised_result object.</p>
</td></tr>
<tr><td><code id="splitAll_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original group_name and group_level columns.</p>
</td></tr>
<tr><td><code id="splitAll_+3A_fill">fill</code></td>
<td>
<p>Optionally, a character that specifies what value should be
filled in with when missing.</p>
</td></tr>
<tr><td><code id="splitAll_+3A_overall">overall</code></td>
<td>
<p>deprecated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with group, strata and additional name as columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  splitAll()

</code></pre>

<hr>
<h2 id='splitGroup'>Split group_name and group_level columns</h2><span id='topic+splitGroup'></span>

<h3>Description</h3>

<p>Pivots the input dataframe so the values of the column group_name are
transformed into columns that contain values from the group_level column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitGroup(
  result,
  keep = FALSE,
  fill = "overall",
  overall = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitGroup_+3A_result">result</code></td>
<td>
<p>A dataframe with at least the columns group_name and
group_level.</p>
</td></tr>
<tr><td><code id="splitGroup_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original group_name and group_level columns.</p>
</td></tr>
<tr><td><code id="splitGroup_+3A_fill">fill</code></td>
<td>
<p>Optionally, a character that specifies what value should be
filled in with when missing.</p>
</td></tr>
<tr><td><code id="splitGroup_+3A_overall">overall</code></td>
<td>
<p>deprecated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  splitGroup()

</code></pre>

<hr>
<h2 id='splitNameLevel'>Split name and level columns into the columns</h2><span id='topic+splitNameLevel'></span>

<h3>Description</h3>

<p>Pivots the input dataframe so the values of the name columns are transformed
into columns, which values come from the specified level column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitNameLevel(
  result,
  name = "group_name",
  level = "group_level",
  keep = FALSE,
  fill = "overall",
  overall = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitNameLevel_+3A_result">result</code></td>
<td>
<p>A summarised_result object.</p>
</td></tr>
<tr><td><code id="splitNameLevel_+3A_name">name</code></td>
<td>
<p>Column with the names.</p>
</td></tr>
<tr><td><code id="splitNameLevel_+3A_level">level</code></td>
<td>
<p>Column with the levels.</p>
</td></tr>
<tr><td><code id="splitNameLevel_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original group_name and group_level columns.</p>
</td></tr>
<tr><td><code id="splitNameLevel_+3A_fill">fill</code></td>
<td>
<p>Optionally, a character that specifies what value should be
filled in with when missing.</p>
</td></tr>
<tr><td><code id="splitNameLevel_+3A_overall">overall</code></td>
<td>
<p>deprecated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with the specified name column values as columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  splitNameLevel(name = "group_name",
                 level = "group_level",
                 keep = FALSE)

</code></pre>

<hr>
<h2 id='splitStrata'>Split strata_name and strata_level columns</h2><span id='topic+splitStrata'></span>

<h3>Description</h3>

<p>Pivots the input dataframe so the values of the column strata_name are
transformed into columns that contain values from the strata_level column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitStrata(
  result,
  keep = FALSE,
  fill = "overall",
  overall = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitStrata_+3A_result">result</code></td>
<td>
<p>A dataframe with at least the columns strata_name and
strata_level.</p>
</td></tr>
<tr><td><code id="splitStrata_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original group_name and group_level columns.</p>
</td></tr>
<tr><td><code id="splitStrata_+3A_fill">fill</code></td>
<td>
<p>Optionally, a character that specifies what value should be
filled in with when missing.</p>
</td></tr>
<tr><td><code id="splitStrata_+3A_overall">overall</code></td>
<td>
<p>deprecated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  splitStrata()

</code></pre>

<hr>
<h2 id='strataColumns'>Identify strata columns in an omop result object</h2><span id='topic+strataColumns'></span>

<h3>Description</h3>

<p>Identifies and returns the unique values in strata_name column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strataColumns(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strataColumns_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unique values of the strata name column.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
  strataColumns()

</code></pre>

<hr>
<h2 id='tidy.summarised_result'>Get a tidy visualization of a summarised_result object</h2><span id='topic+tidy.summarised_result'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Provides tools for obtaining a tidy version of a summarised_result object. If
the summarised results object contains settings, these will be transformed
into columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summarised_result'
tidy(
  x,
  splitGroup = TRUE,
  splitStrata = TRUE,
  splitAdditional = TRUE,
  addSettings = TRUE,
  pivotEstimatesBy = "estimate_name",
  nameStyle = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy.summarised_result_+3A_x">x</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
<tr><td><code id="tidy.summarised_result_+3A_splitgroup">splitGroup</code></td>
<td>
<p>If TRUE it will split the group name-level column pair.</p>
</td></tr>
<tr><td><code id="tidy.summarised_result_+3A_splitstrata">splitStrata</code></td>
<td>
<p>If TRUE it will split the group name-level column pair.</p>
</td></tr>
<tr><td><code id="tidy.summarised_result_+3A_splitadditional">splitAdditional</code></td>
<td>
<p>If TRUE it will split the group name-level column pair.</p>
</td></tr>
<tr><td><code id="tidy.summarised_result_+3A_addsettings">addSettings</code></td>
<td>
<p>Whether to add settings as columns or not.</p>
</td></tr>
<tr><td><code id="tidy.summarised_result_+3A_pivotestimatesby">pivotEstimatesBy</code></td>
<td>
<p>Names from which pivot wider the estimate values. If
NULL the table will not be pivotted.</p>
</td></tr>
<tr><td><code id="tidy.summarised_result_+3A_namestyle">nameStyle</code></td>
<td>
<p>Name style (glue package specifications) to customise names
when pivotting estimates. If NULL standard tidyr::pivot_wider formatting will
be used.</p>
</td></tr>
<tr><td><code id="tidy.summarised_result_+3A_...">...</code></td>
<td>
<p>For compatibility (not used).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>result &lt;- mockSummarisedResult()

result |&gt; tidy()

</code></pre>

<hr>
<h2 id='uniteAdditional'>Unite one or more columns in additional_name-additional_level format</h2><span id='topic+uniteAdditional'></span>

<h3>Description</h3>

<p>Unites targeted table columns into additional_name-additional_level columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uniteAdditional(
  x,
  cols = character(0),
  keep = FALSE,
  ignore = c(NA, "overall")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uniteAdditional_+3A_x">x</code></td>
<td>
<p>Tibble or dataframe.</p>
</td></tr>
<tr><td><code id="uniteAdditional_+3A_cols">cols</code></td>
<td>
<p>Columns to aggregate.</p>
</td></tr>
<tr><td><code id="uniteAdditional_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original columns.</p>
</td></tr>
<tr><td><code id="uniteAdditional_+3A_ignore">ignore</code></td>
<td>
<p>Level values to ignore.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the new columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- dplyr::tibble(
  variable = "number subjects",
  value = c(10, 15, 40, 78),
  sex = c("Male", "Female", "Male", "Female"),
  age_group = c("&lt;40", "&gt;40", "&gt;40", "&lt;40")
)

x |&gt;
  uniteAdditional(c("sex", "age_group"))

</code></pre>

<hr>
<h2 id='uniteGroup'>Unite one or more columns in group_name-group_level format</h2><span id='topic+uniteGroup'></span>

<h3>Description</h3>

<p>Unites targeted table columns into group_name-group_level columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uniteGroup(x, cols = character(0), keep = FALSE, ignore = c(NA, "overall"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uniteGroup_+3A_x">x</code></td>
<td>
<p>Tibble or dataframe.</p>
</td></tr>
<tr><td><code id="uniteGroup_+3A_cols">cols</code></td>
<td>
<p>Columns to aggregate.</p>
</td></tr>
<tr><td><code id="uniteGroup_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original columns.</p>
</td></tr>
<tr><td><code id="uniteGroup_+3A_ignore">ignore</code></td>
<td>
<p>Level values to ignore.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the new columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- dplyr::tibble(
  variable = "number subjects",
  value = c(10, 15, 40, 78),
  sex = c("Male", "Female", "Male", "Female"),
  age_group = c("&lt;40", "&gt;40", "&gt;40", "&lt;40")
)

x |&gt;
  uniteGroup(c("sex", "age_group"))

</code></pre>

<hr>
<h2 id='uniteNameLevel'>Unite one or more columns in name-level format</h2><span id='topic+uniteNameLevel'></span>

<h3>Description</h3>

<p>Unites targeted table columns into a pair of name-level columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uniteNameLevel(
  x,
  cols = character(0),
  name = "group_name",
  level = "group_level",
  keep = FALSE,
  ignore = c(NA, "overall")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uniteNameLevel_+3A_x">x</code></td>
<td>
<p>A dataframe.</p>
</td></tr>
<tr><td><code id="uniteNameLevel_+3A_cols">cols</code></td>
<td>
<p>Columns to aggregate.</p>
</td></tr>
<tr><td><code id="uniteNameLevel_+3A_name">name</code></td>
<td>
<p>Column name of the <code>name</code> column.</p>
</td></tr>
<tr><td><code id="uniteNameLevel_+3A_level">level</code></td>
<td>
<p>Column name of the <code>level</code> column.</p>
</td></tr>
<tr><td><code id="uniteNameLevel_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original columns.</p>
</td></tr>
<tr><td><code id="uniteNameLevel_+3A_ignore">ignore</code></td>
<td>
<p>Level values to ignore.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the new columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- dplyr::tibble(
  variable = "number subjects",
  value = c(10, 15, 40, 78),
  sex = c("Male", "Female", "Male", "Female"),
  age_group = c("&lt;40", "&gt;40", "&gt;40", "&lt;40")
)

x |&gt;
  uniteNameLevel(
    cols = c("sex", "age_group"),
    name = "new_column_name",
    level = "new_column_level"
  )

</code></pre>

<hr>
<h2 id='uniteStrata'>Unite one or more columns in strata_name-strata_level format</h2><span id='topic+uniteStrata'></span>

<h3>Description</h3>

<p>Unites targeted table columns into strata_name-strata_level columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uniteStrata(x, cols = character(0), keep = FALSE, ignore = c(NA, "overall"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uniteStrata_+3A_x">x</code></td>
<td>
<p>Tibble or dataframe.</p>
</td></tr>
<tr><td><code id="uniteStrata_+3A_cols">cols</code></td>
<td>
<p>Columns to aggregate.</p>
</td></tr>
<tr><td><code id="uniteStrata_+3A_keep">keep</code></td>
<td>
<p>Whether to keep the original columns.</p>
</td></tr>
<tr><td><code id="uniteStrata_+3A_ignore">ignore</code></td>
<td>
<p>Level values to ignore.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the new columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- dplyr::tibble(
  variable = "number subjects",
  value = c(10, 15, 40, 78),
  sex = c("Male", "Female", "Male", "Female"),
  age_group = c("&lt;40", "&gt;40", "&gt;40", "&lt;40")
)

x |&gt;
  uniteStrata(c("sex", "age_group"))

</code></pre>

<hr>
<h2 id='visOmopTable'>Format a summarised_result object into a gt, flextable or tibble object</h2><span id='topic+visOmopTable'></span>

<h3>Description</h3>

<p>Format a summarised_result object into a gt, flextable or tibble object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>visOmopTable(
  result,
  formatEstimateName,
  header,
  split,
  groupColumn = NULL,
  type = "gt",
  renameColumns = NULL,
  showMinCellCount = TRUE,
  minCellCount = lifecycle::deprecated(),
  excludeColumns = c("result_id", "estimate_type"),
  .options = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="visOmopTable_+3A_result">result</code></td>
<td>
<p>A summarised_result.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_formatestimatename">formatEstimateName</code></td>
<td>
<p>Named list of estimate name's to join, sorted by
computation order. Indicate estimate_name's between &lt;...&gt;.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_header">header</code></td>
<td>
<p>A vector containing which elements should go into the header
in order (<code>cdm_name</code>, <code>group</code>, <code>strata</code>, <code>additional</code>,
<code>variable</code>, <code>estimate</code>, and <code>settings</code>).</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_split">split</code></td>
<td>
<p>A vector containing the name-level groups to split (&quot;group&quot;,
&quot;strata&quot;, &quot;additional&quot;), or an empty character vector to not split.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_groupcolumn">groupColumn</code></td>
<td>
<p>Columns to use as group labels. By default the name of the
new group will be the column names separated by &quot;_&quot;. To specify a new
grouping name enter a named list such as:
list(<code>newGroupName</code> = c(&quot;variable_name&quot;, &quot;variable_level&quot;))</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_type">type</code></td>
<td>
<p>Type of desired formatted table, possibilities: &quot;gt&quot;,
&quot;flextable&quot;, &quot;tibble&quot;.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_renamecolumns">renameColumns</code></td>
<td>
<p>Named vector to customise column names, for instance:
c(&quot;Database name&quot; = &quot;cdm_name&quot;)). By default column names are transformed to
sentence case.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_showmincellcount">showMinCellCount</code></td>
<td>
<p>If TRUE, suppressed estimates will be indicated with
&quot;&lt;{minCellCount}&quot;, otherwise the default na defined in <code>.options</code> will
be used.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_mincellcount">minCellCount</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Suppression of
estimates when counts &lt; minCellCount should be done before with
<code>ompogenerics::suppress()</code>.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_excludecolumns">excludeColumns</code></td>
<td>
<p>Columns to drop from the output table.</p>
</td></tr>
<tr><td><code id="visOmopTable_+3A_.options">.options</code></td>
<td>
<p>Named list with additional formatting options.
visOmopResults::optionsVisOmopTable() shows allowed arguments and
their default values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble, gt, or flextable object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mockSummarisedResult() |&gt;
visOmopTable(
  formatEstimateName = c("N%" = "&lt;count&gt; (&lt;percentage&gt;)",
                         "N" = "&lt;count&gt;",
                         "Mean (SD)" = "&lt;mean&gt; (&lt;sd&gt;)"),
  header = c("group"),
  split = c("group","strata",  "additional")
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package CBCgrps</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CBCgrps}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CBCgrps2.8-package'>
<p>Compare Baseline Characteristics Between Groups</p></a></li>
<li><a href='#df'>
<p>simulated dataset as a working example</p></a></li>
<li><a href='#dt'>
<p>simulated dataset as a working example</p></a></li>
<li><a href='#multigrps'>
<p>Compare Baseline Characteristics between three or more groups</p></a></li>
<li><a href='#twogrps'>
<p>Compare Baseline Characteristics between two groups</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Compare Baseline Characteristics Between Groups</td>
</tr>
<tr>
<td>Version:</td>
<td>2.8.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-4-16</td>
</tr>
<tr>
<td>Author:</td>
<td>Zhongheng Zhang, 
    Sir Run Run Shaw hospital, 
    Zhejiang university school of medicine</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zhongheng Zhang &lt;zh_zhang1984@zju.edu.cn&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0), nortest (&ge; 1.0-4)</td>
</tr>
<tr>
<td>Description:</td>
<td>Compare baseline characteristics between two or more groups. The variables being compared can be factor and numeric variables. The function will automatically judge the type and distribution of the variables, and make statistical description and bivariate analysis. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-15 05:20:58 UTC; zhang</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-15 06:00:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='CBCgrps2.8-package'>
Compare Baseline Characteristics Between Groups
</h2><span id='topic+CBCgrps'></span>

<h3>Description</h3>

<p>The package aims to automate the process of comparing Baseline Characteristics between groups.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
In clinical studies emplying electronic medical records, the variables to be investigated are usually large in number. It is sometimes cumbersome to compare these variables between two or more groups one by one. I design this package to automate the process of statistical description and bivariate statistical inference. 
</p>


<h3>Author(s)</h3>

<p>Zhongheng Zhang
Department of emergency medicine, Sir Run-Run Shaw Hospital, Zhejiang University School of Medicine, Hangzhou, 310016, China.
<a href="mailto:zh_zhang1984@zju.edu.cn">zh_zhang1984@zju.edu.cn</a>
Maintainer: Zhongheng Zhang
</p>


<h3>References</h3>

<p>Zhang Z. Univariate description and bivariate statistical inference: the first step delving into data.Ann Transl Med. 2016 Mar;4(5):91.
</p>
<p>Zhang Z, Gayle AA, Wang J, Zhang H, Cardinal-Fernasndez P. Comparing baseline characteristics between groups: an introduction to the CBCgrps package. Ann Transl Med. 2017 Dec;5(24):484. doi: 10.21037/atm.2017.09.39.
</p>


<h3>See Also</h3>

<p>No ther reference.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(df)	
a&lt;-twogrps(df,"mort")
</code></pre>

<hr>
<h2 id='df'>
simulated dataset as a working example
</h2><span id='topic+df'></span>

<h3>Description</h3>

<p>A data frame with 1000 observations on the following 7 variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("df")</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 observations on the following 7 variables.
</p>

<dl>
<dt><code>crp</code></dt><dd><p>a numeric vector, C-reactive protein measured in mg/l</p>
</dd>
<dt><code>hb</code></dt><dd><p>a numeric vector, hemoglobin</p>
</dd>
<dt><code>ddimer</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>wbc</code></dt><dd><p>a numeric vector, white blood cell</p>
</dd>
<dt><code>comorbid</code></dt><dd><p>a factor with levels <code>cirrhosis</code> <code>COPD</code> <code>diabetes</code> <code>heartfailure</code> <code>hypertension</code> <code>renalfailure</code> <code>stroke</code></p>
</dd>
<dt><code>sex</code></dt><dd><p>a factor with levels <code>female</code> <code>male</code></p>
</dd>
<dt><code>mort</code></dt><dd><p>a factor with levels <code>alive</code> <code>dead</code></p>
</dd>
</dl>



<h3>Details</h3>

<p>The dataset is generated as a working example without clinical relevance. 
</p>


<h3>Source</h3>

<p>Simulated dataset without sources.
</p>


<h3>References</h3>

<p>simulated dataset without reference.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(df)
## maybe str(df) ; plot(df) ...
</code></pre>

<hr>
<h2 id='dt'>
simulated dataset as a working example
</h2><span id='topic+dt'></span>

<h3>Description</h3>

<p>A data frame with 500 observations on the following 8 variables. Missing values are also present
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("dt")</code></pre>


<h3>Format</h3>

<p>A data frame with 500 observations on the following 8 variables.
</p>

<dl>
<dt><code>crp</code></dt><dd><p>a numeric vector, C-reactive protein measured in mg/l, with missing values</p>
</dd>
<dt><code>vaso</code></dt><dd><p>a factor with two levels <code>Yes</code> <code>No</code>, indicating the use of vasopressor or not</p>
</dd>
<dt><code>wbc</code></dt><dd><p>a numeric vector, white blood cell count</p>
</dd>
<dt><code>lac</code></dt><dd><p>a numeric vector, serum lactate</p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector, age in years</p>
</dd>
<dt><code>type</code></dt><dd><p>a factor with levels <code>surgery</code> <code>medical</code> <code>emergency</code></p>
</dd>
<dt><code>gender</code></dt><dd><p>a factor with levels <code>female</code> <code>male</code></p>
</dd>
<dt><code>mort</code></dt><dd><p>an integer with two values <code>1</code> <code>0</code></p>
</dd>
</dl>



<h3>Details</h3>

<p>The dataset is generated as a working example without clinical relevance. 
</p>


<h3>Source</h3>

<p>Simulated dataset without sources.
</p>


<h3>References</h3>

<p>simulated dataset without reference.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dt)
## maybe str(df) ; plot(df) ...
</code></pre>

<hr>
<h2 id='multigrps'>
Compare Baseline Characteristics between three or more groups
</h2><span id='topic+multigrps'></span>

<h3>Description</h3>

<p>The main function of the CBCgrps package. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multigrps(df, gvar, p.rd = 3, varlist = NULL,
    skewvar=NULL, norm.rd = 2, 
    sk.rd = 2, tabNA = "no", cat.rd = 0, pnormtest = 0.05,
    maxfactorlevels = 30, 
    minfactorlevels = 10, sim = FALSE, workspace = 2e+05,
    ShowStatistic = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multigrps_+3A_df">df</code></td>
<td>

<p>The data frame on which statistical descroption and inference are performed.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_gvar">gvar</code></td>
<td>

<p>The group variable.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_p.rd">p.rd</code></td>
<td>

<p>Decimal space of p value to be displayed. If the p value is less than the minimum value of that decimal space, it will print less than that value. For instance, if p.rd = 3 and p = 0.00045, then it will print &quot;&lt;0.001&quot; in the p column of the table. 
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_varlist">varlist</code></td>
<td>

<p>Specify a vector of variable names to be compared between groups (i.e. not all variables in the *df* will be compared and users can choose which variables to be compared). This argument also allows to specify the order in which the variables will appear in the table. It will issue an error message if varlist contains variable names not found in the df.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_skewvar">skewvar</code></td>
<td>

<p>Specify a vector of variable names which are considered to be not normally distributed. This function is useful for some large datasets where the normality test is too sensitive and users may want to specify skew variables by their own judgement. skewvar is NULL by default. If it is not NULL and skew data were specified by the users, the statistical test for normality is switched off. 
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_norm.rd">norm.rd</code></td>
<td>

<p>Decimal space of normally distributed numeric variables to be displayed.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_sk.rd">sk.rd</code></td>
<td>

<p>Decimal space of skewed numeric variables to be displayed.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_tabna">tabNA</code></td>
<td>

<p>Weather categorical variables with NA be displayed or not. &quot;no&quot; to be omitted, &quot;ifany&quot; to be displayed. The default value is &quot;no&quot;.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_cat.rd">cat.rd</code></td>
<td>

<p>Decimal space of categorical variables (the proportion) to be displayed.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_pnormtest">pnormtest</code></td>
<td>

<p>Significance level for the normal test. It is 0.05 by convention (default). However, for some large datasets the test will be too sensitive that only a small deviation in magnitude from the normal distribution will give a p value less than 0.05. In this situation, users can specify smaller significance level. Note that the normality test will no longer be used to judge the normality if the skewvar argument is not NULL.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_maxfactorlevels">maxfactorlevels</code></td>
<td>

<p>The maximum levels for factor variables, the default is 30. The argument is used to avoid treating date or time variables as factor variables. 
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_minfactorlevels">minfactorlevels</code></td>
<td>

<p>If a numeric variable has only several values, it is treated as categorical variable. The default value is 10.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_sim">sim</code></td>
<td>

<p>a logical indicating whether to compute p-values by Monte Carlo simulation, in larger than 2 by 2 tables. The default is FALSE. 
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_workspace">workspace</code></td>
<td>

<p>If the fisher.test() fucntion requires more workspace, it can be defined here. The default is workspace euqals to 2e+05.
</p>
</td></tr>
<tr><td><code id="multigrps_+3A_showstatistic">ShowStatistic</code></td>
<td>

<p>logic value for whether showing statistics or not. The defaule is FALSE for not showing statistics. Statistics is used for statistical inference such as F value for Chi-square test and T value for student t test. No statistic will be shown because Fisher's exact test jumps past a test statistic and goes straight to a p-value. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function compares differences in categorical and continuous variables between three or more groups. The function automatically judges the distribution of the continuous variable and use appropriate description for them. Chi-square test is used for categorical data. Analysis of variance is used for normally distributed numeric data. Kruskal-Wallis rank sum test is used for non-normally distributed data. 
It is common that some categorical variables contain numeric or integer values. For example, the gender variable may contain values 1 and 2, representing male and female respectively. Such a variable can be identified by counting the number of integer values. Thus, the minfactorlevels argument is used to define the minimum value for a variable to be considered as numeric variable.
For some large dataset, the normality test is extremely sensitive that a small deviation from normal distribution will lead to the rejection of the null hypothesis of normality. In such a circumstance, users may opt to switch off the normality test by explicitly specify the skewed data (i.e. skewvar=some variables names) or set a smaller p value for normal test (i.e. pnormtest=0.0001).
</p>


<h3>Value</h3>

<table>
<tr><td><code>Table</code></td>
<td>
<p>The table with string values. The mean and standard error are put in a single cell, and connected by plus and minus symbol.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>No further notes
</p>


<h3>Author(s)</h3>

<p>Zhongheng Zhang
Department of emergency medicine, Sir Run-Run Shaw Hospital, Zhejiang University School of Medicine, Hangzhou, 310016, China.
<a href="mailto:zh_zhang1984@zju.edu.cn">zh_zhang1984@zju.edu.cn</a> 
</p>


<h3>References</h3>

<p>Myles Hollander and Douglas A. Wolfe (1973), Nonparametric Statistical Methods. New York: John Wiley&amp;Sons. Pages 115-120.
</p>
<p>Zhang Z. Univariate description and bivariate statistical inference: the first step delving into data.Ann Transl Med. 2016 Mar;4(5):91.
</p>
<p>Zhang Z, Gayle AA, Wang J, Zhang H, Cardinal-Fernasndez P. Comparing baseline characteristics between groups: an introduction to the CBCgrps package. Ann Transl Med. 2017 Dec;5(24):484. doi: 10.21037/atm.2017.09.39.
</p>


<h3>See Also</h3>

<p>No other reference
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(df)	
b&lt;-multigrps(df,"comorbid")
print(b,quote=TRUE)
</code></pre>

<hr>
<h2 id='twogrps'>
Compare Baseline Characteristics between two groups
</h2><span id='topic+twogrps'></span>

<h3>Description</h3>

<p>The main function of the CBCgrps package. The function compares differences in categorical and continuous variables between two groups. The function automatically judges the distribution of the continuous variable and use appropriate description for them. Wilcoxon rank sum test is employed for non-normal data. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>twogrps(df, gvar, varlist = NULL, p.rd = 3, 
    skewvar=NULL, norm.rd = 2, 
    sk.rd = 2, tabNA = "no", cat.rd = 0, pnormtest = 0.05,
    maxfactorlevels = 30, minfactorlevels = 10, sim = FALSE, 
    workspace = 2e+05,ShowStatistic = F,ExtractP = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="twogrps_+3A_df">df</code></td>
<td>

<p>The data frame on which statistical descroption and inference are performed.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_gvar">gvar</code></td>
<td>

<p>The group variable.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_p.rd">p.rd</code></td>
<td>

<p>Decimal space of p value to be displayed. If the p value is less than the minimum value of that decimal space, it will print less than that value. For instance, if p.rd = 3 and p = 0.00045, then it will print &quot;&lt;0.001&quot; in the p column of the table. 
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_varlist">varlist</code></td>
<td>

<p>Specify a vector of variable names to be compared between groups (i.e. not all variables in the df will be compared and users can choose which variables to be compared). This argument also allows to specify the order in which the variables will appear in the table.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_skewvar">skewvar</code></td>
<td>

<p>Specify a vector of variable names which are considered to be not normally distributed. This function is useful for some large datasets where the normality test is too sensitive and users may want to specify skew variables by their own judgement. skewvar is NULL by default. If it is not NULL and skew data were specified by the users, the statistical test for normality is switched off. 
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_norm.rd">norm.rd</code></td>
<td>

<p>Decimal space of normally distributed numeric variables to be displayed.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_sk.rd">sk.rd</code></td>
<td>

<p>Decimal space of skewed numeric variables to be displayed.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_tabna">tabNA</code></td>
<td>

<p>Weather categorical variables with NA be displayed or not. &quot;no&quot; to be omitted, &quot;ifany&quot; to be displayed. The default value is &quot;no&quot;.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_cat.rd">cat.rd</code></td>
<td>

<p>Decimal space of categorical variables (the proportion) to be displayed.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_pnormtest">pnormtest</code></td>
<td>

<p>Significance level for the normal test. It is 0.05 by convention (default). However, for some large datasets the test will be too sensitive that only a small deviation in magnitude from the normal distribution will give a p value less than 0.05. In this situation, users can specify smaller significance level. Note that the normality test will be switched off by specifying skewvar argument.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_maxfactorlevels">maxfactorlevels</code></td>
<td>

<p>The maximum levels for factor variables, the default is 30. The argument is used to avoid treating date or time variables as factor variables. 
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_minfactorlevels">minfactorlevels</code></td>
<td>

<p>If a numeric variable has only several values, it is treated as categorical variable. The default value is 10.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_sim">sim</code></td>
<td>

<p>A logical indicating whether to compute p-values by Monte Carlo simulation, in larger than 2 by 2 tables. The default is FALSE.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_workspace">workspace</code></td>
<td>

<p>If the fisher.test() fucntion requires more workspace, it can be defined here. The default is workspace=2e+05.
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_showstatistic">ShowStatistic</code></td>
<td>

<p>logic value for whether showing statistics or not. The defaule is FALSE for not showing statistics. Statistics is used for statistical inference such as F value for Chi-square test and T value for student t test. No statistic will be shown because Fisher's exact test jumps past a test statistic and goes straight to a p-value. 
</p>
</td></tr>
<tr><td><code id="twogrps_+3A_extractp">ExtractP</code></td>
<td>

<p>Some variables with p value less than a certain threshoud can be extracted for subsequent multivariate regression modeling. The parameter specifies the threshoud of p value for a variable to be extrtacted.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is common that some categorical variables contain numeric or integer values. For example, the gender variable may contain values 1 and 2, representing male and female respectively. Such a variable can be identified by counting the number of integer values. Thus, the minfactorlevels argument is used to define the minimum value for a variable to be considered as numeric variable.
</p>


<h3>Value</h3>

<table>
<tr><td><code>Table</code></td>
<td>
<p>A table with string values. The mean and standard error are put in a single cell, and connected by plus and minus symbol.</p>
</td></tr>
<tr><td><code>VarExtract</code></td>
<td>
<p>A character vector containing variable names. These extracted variables have p value less than ExtractP in univariate analysis.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>No further notes
</p>


<h3>Author(s)</h3>

<p>Zhongheng Zhang
Department of emergency medicine, Sir Run-Run Shaw Hospital, Zhejiang University School of Medicine, Hangzhou, 310016, China.
<a href="mailto:zh_zhang1984@zju.edu.cn">zh_zhang1984@zju.edu.cn</a> 
</p>


<h3>References</h3>

<p>Zhang Z. Univariate description and bivariate statistical inference: the first step delving into data.Ann Transl Med. 2016 Mar;4(5):91. 
</p>
<p>Zhang Z, Gayle AA, Wang J, Zhang H, Cardinal-Fernandez P. Comparing baseline characteristics between groups: an introduction to the CBCgrps package. Ann Transl Med. 2017 Dec;5(24):484. doi: 10.21037/atm.2017.09.39.
</p>


<h3>See Also</h3>

<p>No other reference
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(df)	
a&lt;-twogrps(df,"mort")
print(a,quote = TRUE)
# define skewed variables manually
print(twogrps(df,"mort",skewvar=c("crp","wbc")),
      quote = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

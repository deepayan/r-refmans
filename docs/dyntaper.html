<!DOCTYPE html><html><head><title>Help for package dyntaper</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dyntaper}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dyntaper-package'><p>dyntaper: Dynamic Stem Profile Models, AKA Tree Taper Equations</p></a></li>
<li><a href='#brink'><p>Small taper dataset from Brink and von Gadow (1986).</p></a></li>
<li><a href='#decay'><p>Decay function delta</p></a></li>
<li><a href='#hlevel'><p>Height level for given diameter or area.</p></a></li>
<li><a href='#Id'><p>Integral of decay function.</p></a></li>
<li><a href='#Idd'><p>Double integral of decay function.</p></a></li>
<li><a href='#taper'><p>Tree taper (or profile) equation.</p></a></li>
<li><a href='#tbase'><p>Unscaled base taper curve of cross-sectional area vs height level.</p></a></li>
<li><a href='#volume'><p>Volume between two height levels.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Dynamic Stem Profile Models, AKA Tree Taper Equations</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs calculations with tree taper (or stem
    profile) equations, including model fitting. The package
    implements the methods from García, O. (2015) "Dynamic
    modelling of tree form"
    <a href="http://mcfns.net/index.php/Journal/article/view/MCFNS7.1_2">http://mcfns.net/index.php/Journal/article/view/MCFNS7.1_2</a>.
    The models are parsimonious, describe well the tree bole shape
    over its full length, and are consistent with wood formation
    mechanisms through time.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, lattice</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ogarciav/dyntaper">https://github.com/ogarciav/dyntaper</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ogarciav/dyntaper/issues">https://github.com/ogarciav/dyntaper/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-12 03:55:06 UTC; oscar</td>
</tr>
<tr>
<td>Author:</td>
<td>Oscar Garcia <a href="https://orcid.org/0000-0002-8995-1341"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Oscar Garcia &lt;garcia@dasometrics.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-14 08:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dyntaper-package'>dyntaper: Dynamic Stem Profile Models, AKA Tree Taper Equations</h2><span id='topic+dyntaper'></span><span id='topic+dyntaper-package'></span>

<h3>Description</h3>

<p>Performs calculations with tree taper (or stem profile) equations, including model fitting. The package implements the methods from García, O. (2015) &quot;Dynamic modelling of tree form&quot; <a href="http://mcfns.net/index.php/Journal/article/view/MCFNS7.1_2">http://mcfns.net/index.php/Journal/article/view/MCFNS7.1_2</a>. The models are parsimonious, describe well the tree bole shape over its full length, and are consistent with wood formation mechanisms through time.
</p>


<h3>Details</h3>

<p>The main functions relevant to the user are
</p>

<ul>
<li> <p><code><a href="#topic+taper">taper</a></code>: Calculates diameters or cross-sectional areas
for given height levels.
</p>
</li>
<li> <p><code><a href="#topic+hlevel">hlevel</a></code>: Calculates the height level for a given
diameter or cross-sectional area.
</p>
</li>
<li> <p><code><a href="#topic+volume">volume</a></code>: Calculates the volume between two given height
levels.
</p>
</li></ul>

<p>The package includes a small example dataset, <code><a href="#topic+brink">brink</a></code>.
</p>
<p>For a tutorial, see the vignette: <code>vignette("dyntaper", package="dyntaper")</code>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Oscar Garcia <a href="mailto:garcia@dasometrics.net">garcia@dasometrics.net</a> (<a href="https://orcid.org/0000-0002-8995-1341">ORCID</a>)
</p>


<h3>References</h3>

<p>García, O. (2015) &quot;Dynamic modelling of tree form&quot;. <em>Mathematical
and Computational Forestry &amp; Natural-Resource Sciences (MCFNS) 7</em>(1), 9–15.
(<a href="http://mcfns.net/index.php/Journal/article/view/MCFNS7.1_2">http://mcfns.net/index.php/Journal/article/view/MCFNS7.1_2</a>).
</p>
<p>Koirala, A., Montes, C. R., Bullock, B. P. and Wagle, B. H. (2021) &quot;Developing
taper equations for planted teak (<em>Tectona grandis</em> L. f.) trees of
central lowland Nepal&quot;. <em>Trees, Forests and People 5</em>.
(<a href="https://doi.org/10.1016/j.tfp.2021.100103">doi:10.1016/j.tfp.2021.100103</a>).
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ogarciav/dyntaper">https://github.com/ogarciav/dyntaper</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ogarciav/dyntaper/issues">https://github.com/ogarciav/dyntaper/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>   dfir &lt;- c(2.569, 0, 1.042, 0.3012, -1)  # params. for D.fir in B.C.
   height &lt;- 32; dbh &lt;- 24;  k &lt;- 0.956  # k is a bark conversion factor
   # Plot a taper curve (inside-bark diameter over height levels):
   curve(
     taper(h, height, k*dbh, dfir, 1.3),  # 1.3 m is the breast height
   from = 0, to = 32, xname = "h")
   # Height level for a diameter of 10 cm (i.b.):
   (h10 &lt;- hlevel(10, height, k*dbh, dfir, 1.3))
   # Volume from a 30 cm stump to a 10 cm diameter limit:
   volume(0.3, h10, height, k*dbh, dfir, 1.3, 100)

</code></pre>

<hr>
<h2 id='brink'>Small taper dataset from Brink and von Gadow (1986).</h2><span id='topic+brink'></span>

<h3>Description</h3>

<p>Taper measurements on 10 <em>Eucalyptus cloeziana</em> trees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brink
</code></pre>


<h3>Format</h3>

<p>A data frame with 108 rows and 5 variables:
</p>

<dl>
<dt>Tree</dt><dd><p>tree identification number (factor)</p>
</dd>
<dt>h</dt><dd><p>height level, meters</p>
</dd>
<dt>dib</dt><dd><p>diameter inside bark, centimeters</p>
</dd>
<dt>Dob</dt><dd><p>dbh outside bark, cm (breast height is 1.35 m)</p>
</dd>
<dt>H</dt><dd><p>total height, meters</p>
</dd>
</dl>



<h3>Source</h3>

<p>Brink, C. and von Gadow, K. (1986) &quot;On the use of growth and decay
functions for modelling stem profiles&quot;. <em>EDV in Medizin und Biologi
17</em>, 20-27
</p>

<hr>
<h2 id='decay'>Decay function delta</h2><span id='topic+decay'></span>

<h3>Description</h3>

<p>Calculates <code class="reqn">(1 - p*x)_+^{1/p}</code>, or its limit <code class="reqn">exp(-x)</code>
when <code class="reqn">p</code> tends to 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decay(x, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="decay_+3A_x">x</code></td>
<td>
<p>Input value(s), possibly a vector.</p>
</td></tr>
<tr><td><code id="decay_+3A_p">p</code></td>
<td>
<p>Parameter.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Perhaps overkill, but uses <code>log1p()</code> function for better
accuracy than the more obvious formula.
</p>


<h3>Value</h3>

<p>Decay function value(s).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   decay(2, 0) == exp(-2)
   decay(1.5, 0.5)
   decay(2.5, 0.5)
   decay(2.5, -0.5)
   for(p in seq(1, -1, -0.5)) curve(decay(x, p), 0, 3, add=(p != 1))

</code></pre>

<hr>
<h2 id='hlevel'>Height level for given diameter or area.</h2><span id='topic+hlevel'></span>

<h3>Description</h3>

<p>Find the height level at which the tree reaches a given diameter (if
<code>area == FALSE</code>, default) or a given cross-sectional area (if
<code>area == TRUE</code>).
That is, the inverse of <code>taper()</code>, except that a vector argument
is not allowed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hlevel(ds, H, D, b, bh, area = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hlevel_+3A_ds">ds</code></td>
<td>
<p>The given diameter or area.</p>
</td></tr>
<tr><td><code id="hlevel_+3A_h">H</code></td>
<td>
<p>Tree total height.</p>
</td></tr>
<tr><td><code id="hlevel_+3A_d">D</code></td>
<td>
<p>Tree diameter at breast height.</p>
</td></tr>
<tr><td><code id="hlevel_+3A_b">b</code></td>
<td>
<p>Vector with the 5 parameters.</p>
</td></tr>
<tr><td><code id="hlevel_+3A_bh">bh</code></td>
<td>
<p>Breast height. Typically 1.2, 1.3 or 1.4 m, or 4.5 ft.</p>
</td></tr>
<tr><td><code id="hlevel_+3A_area">area</code></td>
<td>
<p>If TRUE, '<code>ds</code>' is a cross-sectional area, otherwise a
diameter. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Height level corresponding to '<code>ds</code>' if any, otherwise <code>NA</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   b &lt;- c(2.569, 0, 1.042, 0.3012, -1)  # parameters
   Dib &lt;- 0.956 * 24  # convert dbh outside bark to inside bark 
   hlevel(15, 32, Dib, b, 1.3)  # height where the diameter is 15
   hlevel(24, 32, Dib, b, 1.3)  # breast height
   hlevel(35, 32, Dib, b, 1.3)  # height where the diameter is 35

</code></pre>

<hr>
<h2 id='Id'>Integral of decay function.</h2><span id='topic+Id'></span>

<h3>Description</h3>

<p>Integral of decay function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Id(x, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Id_+3A_x">x</code></td>
<td>
<p>Input value(s), possibly a vector.</p>
</td></tr>
<tr><td><code id="Id_+3A_p">p</code></td>
<td>
<p>Parameter.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Integral of the decay function between 0 and x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   Id(2, 0)
   Id(1.5,0.5)
   Id(2.5, 0.5)
   Id(2.5, -0.5)
   for(p in seq(1, -1, -0.5)) curve(Id(x, p), 0, 3, add=(p != 1))

</code></pre>

<hr>
<h2 id='Idd'>Double integral of decay function.</h2><span id='topic+Idd'></span>

<h3>Description</h3>

<p>Double integral of decay function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Idd(x, p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Idd_+3A_x">x</code></td>
<td>
<p>Input value(s), possibly a vector.</p>
</td></tr>
<tr><td><code id="Idd_+3A_p">p</code></td>
<td>
<p>Parameter.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Iterated integral of the decay function between 0 and x,
that is, the integral of Id(x, p).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   Idd(2, 0)
   Idd(1.5,0.5)
   Idd(2.5, -1)
   Idd(2.5, -0.5)
   for(p in seq(1, -1, -0.5)) curve(Idd(x, p), 0, 3, add=(p != 1))

</code></pre>

<hr>
<h2 id='taper'>Tree taper (or profile) equation.</h2><span id='topic+taper'></span>

<h3>Description</h3>

<p>Returns the diameter or cross-sectional area at one or more hight levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taper(h, H, D, b, bh, area = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taper_+3A_h">h</code></td>
<td>
<p>Height level(s), possibly a vector.</p>
</td></tr>
<tr><td><code id="taper_+3A_h">H</code></td>
<td>
<p>Tree total height.</p>
</td></tr>
<tr><td><code id="taper_+3A_d">D</code></td>
<td>
<p>Tree diameter at breast height (dbh).</p>
</td></tr>
<tr><td><code id="taper_+3A_b">b</code></td>
<td>
<p>Vector with the 5 parameters.</p>
</td></tr>
<tr><td><code id="taper_+3A_bh">bh</code></td>
<td>
<p>Breast height. Typically 1.2, 1.3 or 1.4 m, or 4.5 ft.</p>
</td></tr>
<tr><td><code id="taper_+3A_area">area</code></td>
<td>
<p>If TRUE, returns cross-sectional areas, otherwise returns
diameters. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Diameter(s) at level(s) '<code>h</code>' if '<code>area</code>' is FALSE,
otherwise cross-sectional area(s).
</p>


<h3>Note</h3>

<p>Diameters or areas are either all outside bark, or all inside bark.
A dbh outside bark can be used with an inside-bark taper equation through
a substitution <code>D -&gt; k * D</code>, where <code>k</code> is an outside to inside
bark conversion factor.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  curve(taper(x, 32, 0.956*24, c(2.569, 0, 1.042, 0.3012, -1), 1.3), 0, 32)

</code></pre>

<hr>
<h2 id='tbase'>Unscaled base taper curve of cross-sectional area vs height level.</h2><span id='topic+tbase'></span>

<h3>Description</h3>

<p>Unscaled base taper curve of cross-sectional area vs height level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbase(h, H, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbase_+3A_h">h</code></td>
<td>
<p>Height level(s), possibly a vector.</p>
</td></tr>
<tr><td><code id="tbase_+3A_h">H</code></td>
<td>
<p>Tree total height.</p>
</td></tr>
<tr><td><code id="tbase_+3A_b">b</code></td>
<td>
<p>Vector with the 5 parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Value(s) proportional to the area(s) at the level(s) <code>h</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    tbase(16, 32, c(2.569, 0, 1.042, 0.3012, -1))

</code></pre>

<hr>
<h2 id='volume'>Volume between two height levels.</h2><span id='topic+volume'></span>

<h3>Description</h3>

<p>Volume between two height levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume(h1, h2, H, D, b, bh, rhd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="volume_+3A_h1">h1</code>, <code id="volume_+3A_h2">h2</code></td>
<td>
<p>The two height levels.</p>
</td></tr>
<tr><td><code id="volume_+3A_h">H</code></td>
<td>
<p>Tree total height.</p>
</td></tr>
<tr><td><code id="volume_+3A_d">D</code></td>
<td>
<p>Tree diameter at breast height.</p>
</td></tr>
<tr><td><code id="volume_+3A_b">b</code></td>
<td>
<p>Vector with the 5 parameters.</p>
</td></tr>
<tr><td><code id="volume_+3A_bh">bh</code></td>
<td>
<p>Breast height. Typically 1.2, 1.3 or 1.4 m, or 4.5 ft.</p>
</td></tr>
<tr><td><code id="volume_+3A_rhd">rhd</code></td>
<td>
<p>Ratio between the height and diameter units. E.g., 100
for m and cm, or 12 for feet and inches.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Volume between <code>h1</code> and <code>h2</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   b &lt;- c(2.569, 0, 1.042, 0.3012, -1)  # parameters
   Dib &lt;- 0.956 * 24  # convert dbh outside bark to inside bark 
   volume(0, 32, 32, Dib, b, 1.3, 100)  # total volume
   h15 &lt;- hlevel(15, 32, Dib, b, 1.3)  # height for diameter 15
   volume(0.3, h15, 32, Dib, b, 1.3, 100)  # volume between stump and h15

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package varhandle</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {varhandle}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#varhandle-package'>
<p>A Package to Work and Handle Variables Easier, Convenient and Flawless</p></a></li>
<li><a href='#check.numeric'><p>Check the vector's possibility to convert to numeric</p></a></li>
<li><a href='#inspect.na'><p>inspect matrix or data.frame regarding NAs</p></a></li>
<li><a href='#pin.na'><p>Pinpoint NAs in a vector, matrix or data.frame</p></a></li>
<li><a href='#rm.all.but'>
<p>Remove all variables except those that you mention</p></a></li>
<li><a href='#save.var'><p>Save variables separate files</p></a></li>
<li><a href='#to.dummy'><p>Convert categorical vector into dummy binary dataframe</p></a></li>
<li><a href='#unfactor'><p>Convert factor into appropriate class</p></a></li>
<li><a href='#var.info'><p>Get a detailed list of variables</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.0.6</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-30</td>
</tr>
<tr>
<td>Title:</td>
<td>Functions for Robust Variable Handling</td>
</tr>
<tr>
<td>Author:</td>
<td>Mehrad Mahmoudian [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mehrad Mahmoudian &lt;m.mahmoudian@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.1),</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, graphics</td>
</tr>
<tr>
<td>Description:</td>
<td>Variables are the fundamental parts of each programming language but handling them efficiently might be frustrating for programmers. This package contains some functions to help user (especially data explorers) to make more sense of their variables and take the most out of variables and hardware resources. These functions are written and crafted since 2014 with years of experience in statistical data analysis on high-dimensional data, and for each of them there was a need. Functions in this package are supposed to be efficient and easy to use, hence they will be frequently updated to make them more convenient.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://codeberg.org/mehrad/varhandle">https://codeberg.org/mehrad/varhandle</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://codeberg.org/mehrad/varhandle/issues">https://codeberg.org/mehrad/varhandle/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-30 19:00:43 UTC; mehrad</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-30 19:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='varhandle-package'>
A Package to Work and Handle Variables Easier, Convenient and Flawless
</h2><span id='topic+varhandle-package'></span><span id='topic+varhandle'></span>

<h3>Description</h3>

<p>A collection of functions for working and handling variables easier, convenient and flawless in R programming environment. It is suitable for Projects: Small to semi-large projects with massive amount of data. Programmers: Programming and exploring data on the fly or preparing and assembling a pipeline.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
    Package: </td><td style="text-align: left;"> varhandle</td>
</tr>
<tr>
 <td style="text-align: left;">
    Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
    Version: </td><td style="text-align: left;"> 2.0.6</td>
</tr>
<tr>
 <td style="text-align: left;">
    Date: </td><td style="text-align: left;"> 2023-09-30</td>
</tr>
<tr>
 <td style="text-align: left;">
    License: </td><td style="text-align: left;"> GPL (&gt;=2)</td>
</tr>
<tr>
 <td style="text-align: left;">
    </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Mehrad Mahmoudian [aut, cre]
Who to complain to &lt;m.mahmoudian@gmail.com&gt;
Reporting issues: https://codeberg.org/mehrad/varhandle/issues
</p>

<hr>
<h2 id='check.numeric'>Check the vector's possibility to convert to numeric</h2><span id='topic+check.numeric'></span>

<h3>Description</h3>


<p>This function gets a character or factor vector and checks if all the value can be safely converted to numeric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    check.numeric(v=NULL, na.rm=FALSE, only.integer=FALSE, exceptions=c(""),
                  ignore.whitespace=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check.numeric_+3A_v">v</code></td>
<td>


<p>The character vector or factor vector. (Mandatory)
</p>
</td></tr>
<tr><td><code id="check.numeric_+3A_na.rm">na.rm</code></td>
<td>

<p>logical. Should the function ignore NA? Default value is FALSE since NA can be converted to numeric. (Optional)
</p>
</td></tr>
<tr><td><code id="check.numeric_+3A_only.integer">only.integer</code></td>
<td>

<p>logical. Only check for integers and do not accept floating point. Default value is FALSE. (Optional)
</p>
</td></tr>
<tr><td><code id="check.numeric_+3A_exceptions">exceptions</code></td>
<td>

<p>A character vector containing the strings that should be considered as valid to be converted to numeric. (Optional)
</p>
</td></tr>
<tr><td><code id="check.numeric_+3A_ignore.whitespace">ignore.whitespace</code></td>
<td>

<p>logical. Ignore leading and tailing whitespace characters before assessing if the vector can be converted to numeric. Default value is TRUE. (Optional)
</p>
</td></tr>
</table>


<h3>Details</h3>


<p>This function checks if it is safe to convert the vector to numeric and this conversion will not end up in producing NA. In nutshell this function tries to make sure provided vector contains numbers but in a non-numeric class. See example for better understanding.
</p>
<p>This function can be configured to only accept integer numbers and ignoring those with decimal point (by setting the argument 'only.integer' to 'TRUE'). It can also ignore NA values ('na.rm' argument) and ignore heading/tailing whitespaces ('ignore.whitespace' argument).
</p>
<p>There is also room to manually define exceptions to be considered as numbers (exceptions argument).
</p>


<h3>Value</h3>






<p>The function return a logical vector. TRUE for all the elements in the given vector if they are safe to be converted into numeric in R (does not turned into NA).
Remember that '&quot;&quot;' and '&quot;   &quot;' can be converted to numeric safely (without getting the &quot;NAs introduced by coercion&quot; error), but their value would be NA.
</p>
<p>In case of a integer, numeric or logical vector, the function simply returns all TRUE logical vector.
</p>


<h3>Author(s)</h3>

<p>Mehrad Mahmoudian
</p>


<h3>See Also</h3>


<p><code><a href="base.html#topic+as.numeric">as.numeric</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    # Create a vector with NA
    a &lt;- as.character(c(1:5, NA, seq(from=6, to=7, by=0.2)))
    # see what we created
    print(a)
    # check if the vector is all numbers (not ignoring NAs)
    check.numeric(a)
    # check if the vector is all numbers (ignoring NAs)
    check.numeric(a, na.rm=TRUE)
    # if all the items in vector a are safe for numeric conversion
    if(all(check.numeric(a))){
        # convert the vector to numeric
        a &lt;- as.numeric(a)
    }

    # create a complicated vector
    b &lt;- c("1", "2.2", "3.", ".4", ".5.", "..6", "seven", "00008",
       "90000", "-10", "+11", "12-", "--13", "++14", NA, "",
       " 7 ", "   ", "8e2", "8.6e-10", "-8.6e+10", "e3")

    # show in proper format
    print(data.frame(value=b, check.numeric=check.numeric(b), converted=as.numeric(b)))
        #       value check.numeric converted
        # 1         1          TRUE   1.0e+00
        # 2       2.2          TRUE   2.2e+00
        # 3        3.          TRUE   3.0e+00
        # 4        .4          TRUE   4.0e-01
        # 5       .5.         FALSE        NA
        # 6       ..6         FALSE        NA
        # 7     seven         FALSE        NA
        # 8     00008          TRUE   8.0e+00
        # 9     90000          TRUE   9.0e+04
        # 10      -10          TRUE  -1.0e+01
        # 11      +11          TRUE   1.1e+01
        # 12      12-         FALSE        NA
        # 13     --13         FALSE        NA
        # 14     ++14         FALSE        NA
        # 15     &lt;NA&gt;          TRUE        NA
        # 16                   TRUE        NA
        # 17       7           TRUE   7.0e+00
        # 18                   TRUE        NA
        # 19      8e2          TRUE   8.0e+02
        # 20  8.6e-10          TRUE   8.6e-10
        # 21 -8.6e+10          TRUE  -8.6e+10
        # 22       e3         FALSE        NA

    # remember that "" and "   " can be converted to numeric safely, but their value would be NA.
</code></pre>

<hr>
<h2 id='inspect.na'>inspect matrix or data.frame regarding NAs</h2><span id='topic+inspect.na'></span>

<h3>Description</h3>


<p>This function provides a summary of NAs in a given matrix or data.frame
either feature-wise (by column) or sample-wise (by row). It can also provide a barplot and/or histogram regarding this statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    inspect.na(d, hist=FALSE, summary=TRUE, byrow=FALSE, barplot=TRUE, na.value = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inspect.na_+3A_d">d</code></td>
<td>


<p>A data.frame or matrix which you want to get the summary of NAs in it (Mandatory)
</p>
</td></tr>
<tr><td><code id="inspect.na_+3A_hist">hist</code></td>
<td>

<p>logical. Should the function plot histogram. Default is FALSE. (Optional)
</p>
</td></tr>
<tr><td><code id="inspect.na_+3A_summary">summary</code></td>
<td>

<p>logical. Should the function returns the result dataframe. Default is TRUE. (Optional)
</p>
</td></tr>
<tr><td><code id="inspect.na_+3A_byrow">byrow</code></td>
<td>

<p>logical. Should the function perform row-wise. Default is FALSE. (Optional)
</p>
</td></tr>
<tr><td><code id="inspect.na_+3A_barplot">barplot</code></td>
<td>

<p>logical. Should the function plot barplot. Default is TRUE. (Optional)
</p>
</td></tr>
<tr><td><code id="inspect.na_+3A_na.value">na.value</code></td>
<td>

<p>A vector containing the value that should be considered as missing
value. The default is NA, but you can add to it or change it to your
preference. See the example. (Optional)
</p>
</td></tr>
</table>


<h3>Details</h3>


<p>This function provides a quick and easy way to see how much missing values (e.g NA) exist in a data.frame or matrix. This function is designed to make the data exploration easier since missing values are one of the most problematic part in lated stages of analysis.
</p>


<h3>Value</h3>






<p>The function provides a data.frame (in case summary argument is set to TRUE) containing column or row index, name, number_of_NAs and ratio_of_NA. In case the function does not find any NA, it will return NULL in case it need to be checked by is.null().
</p>
<p>The barplot generated by this function is presenting column names or row names which contain NAs with their NA ratio to the total number of items in that row or column. The plot also colors the bars based on their NA ratio:
* Gray less than and equal to 10%
* Yellow for &gt;10% and &lt;30%
* Orange for &gt;30% and &lt;50%
* Red for &gt;50%
The plot also has horizontal lines at 10%, 20%, 30% and 50% to make the plot easier to read.
</p>
<p>The histogram generated by this function is meant to provide an overview of how NAs are distributed in the input data. This plot presents all the columns or rows regardless of having NA values or not. This plot is more useful when used for small number of rows or columns.
</p>


<h3>Author(s)</h3>


<p>Mehrad Mahmoudian
</p>


<h3>See Also</h3>


<p><code><a href="#topic+pin.na">pin.na</a></code>
<code><a href="Matrix.html#topic+is.na">is.na</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    # get some data
    my_iris &lt;- iris
    # add 20 NAs randomly
    for(i in 1:260){
        my_iris[sample(1:nrow(my_iris), 2), sample(c(1,2,3,1,3,3,3), 1)] &lt;- NA
    }

    # now we can inspect the NAs
    inspect.na(my_iris)
    # plot the histogram
    inspect.na(my_iris, hist=TRUE, barplot=FALSE)
</code></pre>

<hr>
<h2 id='pin.na'>Pinpoint NAs in a vector, matrix or data.frame</h2><span id='topic+pin.na'></span>

<h3>Description</h3>


<p>This function finds NAs (or defined missing values) in a vector, data.frame
or matrix and returns a data.frame which contains two columns that includes
the row number and column number of each NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    pin.na(x, na.value = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pin.na_+3A_x">x</code></td>
<td>


<p>A vector, data.frame or matrix which you want to pinpoint its NAs.
(Mandatory)
</p>
</td></tr>
<tr><td><code id="pin.na_+3A_na.value">na.value</code></td>
<td>

<p>A vector containing the value that should be considered as missing
value. The default is NA, but you can add to it or change it to your
preference. See the example. (Optional)
</p>
</td></tr>
</table>


<h3>Details</h3>


<p>This function provides a quick and easy way to locate and pinpoint NAs in a given vector, data.frame or matrix.
This function is also used in <code><a href="#topic+inspect.na">inspect.na</a></code> function of this package.
</p>


<h3>Value</h3>






<p>If a vector is given, the index of NAs will be returned in a numeric vector format. In case of a given matrix or data.frame the function will return a data.frame with two columns, one indicating the row number and one indicating the column number. Each row will represent a location of a NA.
In case no NA is found, the function will return NULL which makes it easy to use in if conditions using <code><a href="base.html#topic+is.null">is.null</a></code>.
</p>


<h3>Author(s)</h3>


<p>Mehrad Mahmoudian
</p>


<h3>See Also</h3>


<p><code><a href="Matrix.html#topic+is.na">is.na</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    ## generate some variables
    # create a vector
    var1 &lt;- 1:30
    # add NA at random places
    var1[runif(7, 1, 30)] &lt;- NA
    # pinpoint NAs
    pin.na(var1)
    
    # create a matrix
    var2 &lt;- matrix(runif(100, 10, 99), nrow = 10)
    # add NA at random places
    var2[runif(9, 1, 100)] &lt;- NA
    # pinpoint NAs
    pin.na(var2)
    
    ## define your own missing values:
    var2[runif(5, 1, 100)] &lt;- "."
    pin.na(var2, na.value = c(NA, "."))


</code></pre>

<hr>
<h2 id='rm.all.but'>
Remove all variables except those that you mention
</h2><span id='topic+rm.all.but'></span>

<h3>Description</h3>

<p>This function removes all existing variables (in the defined environment) except the variables given to it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    rm.all.but(keep=NULL, envir=.GlobalEnv, keep_functions=TRUE, gc_limit=100,
               regex="auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm.all.but_+3A_keep">keep</code></td>
<td>

<p>A vector containing the name of variables which you wish to keep and not remove or a regular expression to match variables you want to keep. Variable names and regular expressions can be used combined if the argument 'regex=&quot;auto&quot;'. (Mandatory)
</p>
</td></tr>
<tr><td><code id="rm.all.but_+3A_envir">envir</code></td>
<td>

<p>The environment that this function should be functional in, search in and act in. (Optional)
</p>
</td></tr>
<tr><td><code id="rm.all.but_+3A_keep_functions">keep_functions</code></td>
<td>

<p>A logical vector of length 1 indicating exclusion of function variables from removal. (optional)
</p>
</td></tr>
<tr><td><code id="rm.all.but_+3A_gc_limit">gc_limit</code></td>
<td>

<p>A numeric vector of length 1 indicating the threshold for garbage collection in Megabyte (MB) scale. (Optional)
</p>
</td></tr>
<tr><td><code id="rm.all.but_+3A_regex">regex</code></td>
<td>

<p>A vector with length 1 to define whether the function use regular expression in keep (TRUE or FALSE) or auto detect (&quot;auto&quot;)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>While working with R it happens that users generates an accumulate many variables and at some point they just want to keep some of them and remove the rest to make the workspace clean and reduce memory usage. This is where this function comes in to keep those variables user wants and remove the rest.
</p>
<p>Two criteria can be used as filtering the variables you wish to keep:
</p>
<p>* variable names
* regular expression
</p>
<p>These can be also used in combination in any order. You can also have multiple regular expressions to match different variable names.
</p>
<p>The garbage collection will run if the size of removed variables exceed the 'gc_limit' parameter and will tell R to give back the amount of occupied memory by removed variables to the system. This comes handy since usually removed variables are created temporarily and removing them should free up the memory.
</p>


<h3>Author(s)</h3>

<p>Mehrad Mahmoudian
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+remove">remove</a></code>
<code><a href="base.html#topic+gc">gc</a></code>
<code><a href="utils.html#topic+object.size">object.size</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    # create some variable
    for(i in  names(iris)){
    	assign(i, iris[,i])
    }
    # see the list of variables
    ls()
    # remove every variable except Petal.Length, Petal.Width and i
    rm.all.but(c("Petal*", "i"))
    # see which variable are left
    ls()
</code></pre>

<hr>
<h2 id='save.var'>Save variables separate files</h2><span id='topic+save.var'></span>

<h3>Description</h3>

<p>This function gets a list of variables as a character vector and save each variable name in a separate file, so that they can be loaded separately.</p>


<h3>Usage</h3>

<pre><code class='language-R'>    save.var(varlist = ls(envir = as.environment(.GlobalEnv)),
             path = getwd(), newdir = TRUE, newdirtag = NULL, envir = .GlobalEnv)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save.var_+3A_varlist">varlist</code></td>
<td>

<p>Character vector containing variable names. If not provided the function will use all the variables of the environment. (Optional)
</p>
</td></tr>
<tr><td><code id="save.var_+3A_path">path</code></td>
<td>

<p>Path to folder that you want to save the files in. If not provided, the current working directory will be used. (Optional)
</p>
</td></tr>
<tr><td><code id="save.var_+3A_newdir">newdir</code></td>
<td>

<p>Logical vector of length 1 indicating whether you want to create a subdirectory to store your variable files in. This subdirectory will have the execution time (%Y%m%d-%H%M%S) as folder name in combination with a text tag ('newdirtag') if provided. (Optional)
</p>
</td></tr>
<tr><td><code id="save.var_+3A_newdirtag">newdirtag</code></td>
<td>

<p>Character string used in combination with 'newdir=TRUE' to tag the time based folder name with a custom name. If not provided no tag will be used and the folder name will just have the time format. (Optional)
</p>
</td></tr>
<tr><td><code id="save.var_+3A_envir">envir</code></td>
<td>

<p>Character string providing target environment in R session. The default is the Global Environment. (Optional)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used for saving variables in batch into separate files in an organized way. This specifically comes handy when you generate many variables either dynamically or manually and you want to save them for later use and empty your memory. Saving variables in separate files help finding them as a file easier and faster and also reduces the loading time of the variable since you are also loading those that you want to use.
</p>
<p>The save.var function has the feature to save the variables in subfolder to help user manage different version of same variable which are related to different runs.
</p>


<h3>Author(s)</h3>

<p>Mehrad Mahmoudian
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+save.image">save.image</a></code>, <code><a href="base.html#topic+save">save</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate variables dynamically
lapply(letters, function(x){assign(x=x, value=rnorm(1), env=globalenv())})

    ## Not run: 
        # simple usage
        save.var()
        # specify a list of variables with tag
        save.var(varlist=c("a","e","i","o","u"), newdirtag="just_vowels")
    
## End(Not run)
</code></pre>

<hr>
<h2 id='to.dummy'>Convert categorical vector into dummy binary dataframe</h2><span id='topic+to.dummy'></span>

<h3>Description</h3>


<p>This function gets a vector that contains some categories and convert it to dummy columns (also known as binary columns). The number of output columns is equal to the input categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    to.dummy(v, prefix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to.dummy_+3A_v">v</code></td>
<td>


<p>A character, numeric or factor vector that contains the categories. (Mandatory)
</p>
</td></tr>
<tr><td><code id="to.dummy_+3A_prefix">prefix</code></td>
<td>


<p>A character string to attach to the beginning of the column names to prevent confusion or conflicts. (Mandatory)
</p>
</td></tr>
</table>


<h3>Details</h3>


<p>This function simplifies the procedure of making data ready for those learning algorithms or methods that cannot handle categorical columns. It works by getting a character, numeric or factor vector and convert it to some columns that each of which represent a category from the input vector. For example a vector of eye color with different categories like Black, Brown, Blue, Green will be transformed into a dataframe with 4 columns and each column has value of 1 for samples that have that specific eye color.
</p>


<h3>Value</h3>






<p>A data.frame is returned which only contains 0 and 1 as values. Number of this data.frame columns is equal to number of categories in the original input vector.
</p>


<h3>Author(s)</h3>

<p>Mehrad Mahmoudian
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    # load a dataframe (from base package)
    data(iris)
    
    # see the actual values of the categorical column
    print(iris$Species)
    
    # convert to dummy
    binary_species &lt;- to.dummy(iris$Species, "species")
    # view the first few lines of the binary_species data.frame
    head(binary_species)
</code></pre>

<hr>
<h2 id='unfactor'>Convert factor into appropriate class</h2><span id='topic+unfactor'></span>

<h3>Description</h3>


<p>This function gets a factor vector, data.frame or matrix (that contains factor columns), detects the real class of the values and convert factor to the real class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    unfactor(obj, auto_class_conversion = TRUE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unfactor_+3A_obj">obj</code></td>
<td>


<p>The factor vector, data.frame or matrix. (Mandatory)
</p>
</td></tr>
<tr><td><code id="unfactor_+3A_auto_class_conversion">auto_class_conversion</code></td>
<td>


<p>Whether or not the function should automatically convert numbers to numeric. If set to FALSE, it will return all columns as class characters. Default is TRUE. (Optional)
</p>
</td></tr>
<tr><td><code id="unfactor_+3A_verbose">verbose</code></td>
<td>


<p>Whether or not the function should be verbose, meaning it should message user about the details of operation. Default is FALSE. (Optional)
</p>
</td></tr>
</table>


<h3>Details</h3>


<p>This function turns factors to their real values. When a data.frame is given, the function detects factor columns and unfactor them, so you can give the whole data.frame and the function takes care of the rest.
The values' real class detection mechanism is in a way that if everything in that column or vector are numbers and a decimal character, it change it to numeric otherwise it will be changed to character vector.
This functionality can be turned off by setting the 'auto_class_conversion' argument to FALSE
</p>


<h3>Value</h3>






<p>In case of providing a vector as an input, a character vector or numeric vector. This depends on the type of values the input variable contains. Check the details section for detailed information.
In case of providing a data.frame, the same data.frame will be returned but with converted columns.
In case there is nothing to get converted from factors, the function peacefully exits. You can get the details of the steps in form of message if you set the 'verbose' argument to TRUE.
</p>


<h3>Note</h3>


<p>In case you have any issues with the function, please report to:
https://bitbucket.org/mehrad_mahmoudian/varhandle/issues
</p>


<h3>Author(s)</h3>

<p>Mehrad Mahmoudian
</p>


<h3>See Also</h3>


<p><code><a href="base.html#topic+as.character">as.character</a></code>, <code><a href="base.html#topic+as.numeric">as.numeric</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    # load a dataframe (from base package)
    data(iris)
    
    # see the actual values of the categorical column
    class(iris$Species)
    
    # use vector as input
    species &lt;- unfactor(iris$Species)
    # check the class
    class(species)
    
    # use data.frame as input
    my_iris &lt;- data.frame(Sepal.Length=factor(iris$Sepal.Length), sample_id=factor(1:nrow(iris)))
    my_iris &lt;- unfactor(my_iris)
    # check the class
    class(my_iris)
    class(my_iris$Sepal.Length)
    class(my_iris$sample_id)
</code></pre>

<hr>
<h2 id='var.info'>Get a detailed list of variables</h2><span id='topic+var.info'></span>

<h3>Description</h3>


<p>This function provides a detailed information of variables in the specified environment. If no environment and list of variables provided for the function, it will consider all existing variables in global environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    var.info(list="ALL", regex = NULL, envir=.GlobalEnv, human.readable=TRUE,
             sortby="size", decreasing=TRUE, n=Inf, beautify = FALSE,
             progressbar = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var.info_+3A_list">list</code></td>
<td>

<p>A list of variables which you want to get information for. If not specified, it gets all variables (Optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_regex">regex</code></td>
<td>

<p>A regular expression to be applied on the list of variables. This is very useful for example when 'list = &quot;ALL&quot;'. (Optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_envir">envir</code></td>
<td>

<p>The environment in which you want this function to be functional. (Optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_human.readable">human.readable</code></td>
<td>

<p>If you want to have the variable size in human readable format (Kb, Mb, etc.). (Optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_sortby">sortby</code></td>
<td>

<p>The name of a column that you wish to sort the output with. If not specified the result will be sorted by &quot;size&quot;. Valid options are &quot;name&quot;, &quot;class&quot;, &quot;size&quot; or &quot;detail&quot;. (Optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_decreasing">decreasing</code></td>
<td>

<p>A logical parameter (TRUE/FALSE) indicating that you want the sort to be done decreasingly or  increasingly. If not specified it is TRUE. (Optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_n">n</code></td>
<td>

<p>Number of desired rows in output If you want to have top 10, n should be equal to 10. If not specified the output will include all variables. (Optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_beautify">beautify</code></td>
<td>

<p>A Logical parameter indicating whether the output should beautified. At the moment it just adds a up/down triangle in the column name, showing the sort direction and based which column the table is sorted. Default value is FALSE. See Details for more information. (optional)
</p>
</td></tr>
<tr><td><code id="var.info_+3A_progressbar">progressbar</code></td>
<td>

<p>A Logical parameter indicating whether user wants to see progressbar or not. Default value is FALSE. See Details for more information. (optional)
</p>
</td></tr>
</table>


<h3>Details</h3>


<p>This function is a quick way to have some basic information about a list of variables. By modifying and changing the default parameters, you can narrow down the variables you are investigating. The main objective of this function is providing the following information about the variables in an easy and intuitive way:
class
size (amount of memory the variable has occupied)
detail (dimension for data.frame and matrices and length of vectors)
</p>
<p>In case the variable is a matrix or data.frame, in detail column the dimension will be provided, if it is a vector, the length will be reported, otherwise you will see NA in detail column for that specific variable.
</p>
<p>This function is usually very quick but in case of having many variables in the environment, it might take some time, hence a progressbar is implemented to inform user about the process.
</p>


<h3>Value</h3>






<p>The output will be a sorted data.frame with 4 columns. The &quot;name&quot; column contains the name of each variable, column &quot;class&quot; contains the class of each variable, columns &quot;size&quot; show the amount of memory the variable is occupying (it can be configured to be in bytes or human readable format. for this use the human.readable parameter.) and &quot;detail&quot; column includes variable-specific information (for matrices and data.frames the dimension and for vectors their list will be reported.)
</p>


<h3>Author(s)</h3>

<p>Mehrad Mahmoudian
</p>


<h3>See Also</h3>


<p><code><a href="base.html#topic+class">class</a></code>, <code><a href="utils.html#topic+object.size">object.size</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    ###### generate some variables ######
    # a data.frame
    data(iris)
    
    # some character vector
    for(i in 1:5){
        assign(letters[i], paste("some random text:",
                                 paste0(letters[runif(5, 1, 26)],
                                 collapse="")))
    }
    
    # a list
    f &lt;- lapply(5:10, function(x){paste("some random text:",
                                  paste0(letters[runif(5, 1, 26)],
                                  collapse=""))})


    ###### demo of this function ######
    # basic usage
    var.info()
    
    # the sorting
    var.info(sortby="name", decreasing=FALSE)
    
    # select using regular expression
    var.info(regex="^i")
    
    # having the top 5 objects that use most memory in a beautified output
    var.info(n=5, sortby="size", decreasing=TRUE, beautify=TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

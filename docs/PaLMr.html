<!DOCTYPE html><html lang="en"><head><title>Help for package PaLMr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PaLMr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#palm.connect'><p>Set up and connect to the Google PaLM 2 text model.</p></a></li>
<li><a href='#palm.txt'><p>Generate text using the Google PaLM 2 text model based on a prompt</p></a></li>
<li><a href='#palm.txt.explain.code'><p>Explain code based on a query using the Google PaLM 2 text model</p></a></li>
<li><a href='#palm.txt.fix.grammar'><p>Fix grammar and rewrite text using the Google PaLM 2 text model</p></a></li>
<li><a href='#palm.txt.get.reference'><p>Get references based on a query using the Google PaLM 2 text model</p></a></li>
<li><a href='#palm.txt.optimize.code'><p>Optimize code based on a query using the Google PaLM 2 text model.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface for 'Google Pathways Language Model 2 (PaLM 2)'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Li Yuan &lt;lyuan@gd.edu.kg&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>'Google Pathways Language Model 2 (PaLM 2)' as a coding and writing assistant designed for 'R'. With a range of functions, including natural language processing and coding optimization, to assist 'R' developers in simplifying tedious coding tasks and content searching.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/licenses/by/4.0">CC BY 4.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://palmr.ly.gd.edu.kg/">https://palmr.ly.gd.edu.kg/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/lygitdata/PaLMr/issues">https://github.com/lygitdata/PaLMr/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.0</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-22 04:23:40 UTC; lp130</td>
</tr>
<tr>
<td>Author:</td>
<td>Li Yuan <a href="https://orcid.org/0009-0008-1075-9922"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-22 04:42:44 UTC</td>
</tr>
</table>
<hr>
<h2 id='palm.connect'>Set up and connect to the Google PaLM 2 text model.</h2><span id='topic+palm.connect'></span>

<h3>Description</h3>

<p>This function establishes a connection to the Google PaLM text model by specifying the API key, and model version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palm.connect(version, api, proxy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="palm.connect_+3A_version">version</code></td>
<td>
<p>A character string representing the model version to use, either <code>"v1beta2"</code> or <code>"v1beta3"</code>.</p>
</td></tr>
<tr><td><code id="palm.connect_+3A_api">api</code></td>
<td>
<p>A character string representing the API key for accessing the Google PaLM 2 text model.
The API key should be 39 characters long and must be of the &quot;character&quot; class.</p>
</td></tr>
<tr><td><code id="palm.connect_+3A_proxy">proxy</code></td>
<td>
<p>A boolean value indicating whether to use a proxy for accessing the API
URL (default is <code>FALSE</code>). If your local internet cannot access the APIs, set this
parameter to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function performs the necessary setup to connect to the Google PaLM 2 text model. It validates the provided API key and
checks the correctness of the model version. If the input is valid, it constructs the API request and sends
it to the PaLM 2 API endpoint.
</p>
<p>If an error occurs during the API request, such as an invalid API key or input parameters, an error message is displayed.
If the API request is successful, the function prints the model details to the console and returns a character vector
with the API key, model version, and model type.
</p>


<h3>Value</h3>

<p>If successful, the function returns a character vector containing the API key, model version, and proxy status.
If the API response indicates an error, the function stops execution and provides an error message.
</p>


<h3>See Also</h3>

<p><a href="https://palmr.ly.gd.edu.kg/documentation/">PaLMr - Documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Connect to the model, replace API_KEY with your api key
palm.model = palm.connect("v1beta2",
                          "API_KEY",
                          FALSE)
palm.model

## End(Not run)

</code></pre>

<hr>
<h2 id='palm.txt'>Generate text using the Google PaLM 2 text model based on a prompt</h2><span id='topic+palm.txt'></span>

<h3>Description</h3>

<p>This function sends a prompt to the Google PaLM 2 text model and generates text as a response. It allows customization of the
generated text using various parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palm.txt(
  model.parameter,
  prompt,
  temperature = 0.7,
  maxOutputTokens = 1024,
  topP = 0.95,
  topK = 40,
  htUnspecified = "meda",
  htDerogatory = "meda",
  htToxicity = "meda",
  htViolence = "meda",
  htSexual = "meda",
  htMedical = "meda",
  htDangerous = "meda"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="palm.txt_+3A_model.parameter">model.parameter</code></td>
<td>
<p>A character vector containing the API key, model version, and proxy status. Model version and type
are specified by Google. See function <code><a href="#topic+palm.connect">palm.connect</a></code> for detail.</p>
</td></tr>
<tr><td><code id="palm.txt_+3A_prompt">prompt</code></td>
<td>
<p>A character string representing the query or prompt for text generation. The length of the query should
be between 1 and 8196 characters, inclusive.</p>
</td></tr>
<tr><td><code id="palm.txt_+3A_temperature">temperature</code></td>
<td>
<p>A numeric value between 0.0 and 1.0, inclusive (default: 0.7). Controls the randomness of the generated text.
A higher value (e.g., 0.9) results in more creative responses, while a lower value (e.g., 0.3) produces more
straightforward text.</p>
</td></tr>
<tr><td><code id="palm.txt_+3A_maxoutputtokens">maxOutputTokens</code></td>
<td>
<p>An integer value (default: 1024). Specifies the maximum number of tokens to
include in the generated text.</p>
</td></tr>
<tr><td><code id="palm.txt_+3A_topp">topP</code></td>
<td>
<p>A numeric value (default: 0.95). Defines the maximum cumulative probability of tokens
considered when sampling. It controls the diversity of the text generated.</p>
</td></tr>
<tr><td><code id="palm.txt_+3A_topk">topK</code></td>
<td>
<p>An integer value (default: 40). Sets the maximum number of tokens to consider
when sampling.</p>
</td></tr>
<tr><td><code id="palm.txt_+3A_htunspecified">htUnspecified</code></td>
<td>
<p>Safety setting threshold for unspecified harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt_+3A_htderogatory">htDerogatory</code></td>
<td>
<p>Safety setting threshold for derogatory harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt_+3A_httoxicity">htToxicity</code></td>
<td>
<p>Safety setting threshold for toxicity harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt_+3A_htviolence">htViolence</code></td>
<td>
<p>Safety setting threshold for violence harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt_+3A_htsexual">htSexual</code></td>
<td>
<p>Safety setting threshold for sexual harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt_+3A_htmedical">htMedical</code></td>
<td>
<p>Safety setting threshold for medical harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt_+3A_htdangerous">htDangerous</code></td>
<td>
<p>Safety setting threshold for dangerous harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function interacts with the Google PaLM model by sending a query using the specified parameters. It allows you
to customize the generated text by adjusting the 'temperature', 'maxOutputTokens', 'topP', 'topK', and safety settings.
</p>
<p>If the function is successful, it returns a character string containing the generated text. If an error occurs during
the API request, it will stop execution and provide an error message.
</p>
<p>The 'model.parameter' argument should be a character vector with the API key, model version, and model type provided by
Google. You can obtain this information by following the instructions provided by Google for using the PaLM API.
</p>
<p>The safety settings control the content's safety level based on different harm categories. Harm thresholds are
specified as per Google's guidelines and can be customized to control the content generated.
</p>


<h3>Value</h3>

<p>A character string generated by the Google PaLM 2 API based on the provided prompt and parameters.
</p>


<h3>See Also</h3>

<p><a href="https://palmr.ly.gd.edu.kg/documentation/">PaLMr - Documentation</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/SafetySetting">Safety Setting - Google AI for Developers</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/HarmCategory">HarmCategory - Google AI for Developers</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Connect to the model, replace API_KEY with your api key
palm.model = palm.connect("v1beta2",
                          "API_KEY",
                          FALSE)

prompt = "Write a story about a magic backpack."
generated.text = palm.txt(palm.model,
                          prompt)
cat(generated.text)

## End(Not run)

</code></pre>

<hr>
<h2 id='palm.txt.explain.code'>Explain code based on a query using the Google PaLM 2 text model</h2><span id='topic+palm.txt.explain.code'></span>

<h3>Description</h3>

<p>This function sends a query with a code snippet to the Google PaLM 2 text model and generates a detailed explanation of the code. It supports
various programming languages and allows you to customize the explanation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palm.txt.explain.code(
  model.parameter,
  prompt,
  language = "R",
  temperature = 0.7,
  maxOutputTokens = 1024,
  topP = 0.95,
  topK = 40,
  htUnspecified = "meda",
  htDerogatory = "meda",
  htToxicity = "meda",
  htViolence = "meda",
  htSexual = "meda",
  htMedical = "meda",
  htDangerous = "meda"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="palm.txt.explain.code_+3A_model.parameter">model.parameter</code></td>
<td>
<p>A character vector containing the API key, model version, and proxy status. Model version and type
are specified by Google. See function <code><a href="#topic+palm.connect">palm.connect</a></code> for detail.</p>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_prompt">prompt</code></td>
<td>
<p>A character string representing the code snippet for explanation. The length of the code snippet should be between
1 and 8196 characters, inclusive.</p>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_language">language</code></td>
<td>
<p>A character string specifying the programming language used in the code (default: &quot;R&quot;).</p>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_temperature">temperature</code></td>
<td>
<p>A numeric value between 0.0 and 1.0, inclusive (default: 0.7). Controls the randomness of the generated explanation.
A higher value (e.g., 0.9) results in more creative responses, while a lower value (e.g., 0.3) produces more straightforward explanations.</p>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_maxoutputtokens">maxOutputTokens</code></td>
<td>
<p>An integer value (default: 1024). Specifies the maximum number of tokens to include
in the generated explanation.</p>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_topp">topP</code></td>
<td>
<p>A numeric value (default: 0.95). Defines the maximum cumulative probability of tokens considered
when sampling. It controls the diversity of the explanation generated.</p>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_topk">topK</code></td>
<td>
<p>An integer value (default: 40). Sets the maximum number of tokens to consider when sampling.</p>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_htunspecified">htUnspecified</code></td>
<td>
<p>Safety setting threshold for unspecified harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_htderogatory">htDerogatory</code></td>
<td>
<p>Safety setting threshold for derogatory harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_httoxicity">htToxicity</code></td>
<td>
<p>Safety setting threshold for toxicity harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_htviolence">htViolence</code></td>
<td>
<p>Safety setting threshold for violence harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_htsexual">htSexual</code></td>
<td>
<p>Safety setting threshold for sexual harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_htmedical">htMedical</code></td>
<td>
<p>Safety setting threshold for medical harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.explain.code_+3A_htdangerous">htDangerous</code></td>
<td>
<p>Safety setting threshold for dangerous harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function interacts with the Google PaLM model by sending a code query to explain code. It allows you to customize the generated
code explanations by specifying the programming language, and additional parameters like temperature, token limits, and safety settings.
</p>
<p>If the function is successful, it returns a detailed explanation of the provided code as a character string. If an error occurs during the
API request, it will stop execution and provide an error message.
</p>
<p>The 'model.parameter' argument should be a character vector with the API key, model version, and model type provided by
Google. You can obtain this information by following the instructions provided by Google for using the PaLM API.
</p>
<p>The safety settings control the content's safety level based on different harm categories. Harm thresholds are
specified as per Google's guidelines and can be customized to control the content generated.
</p>


<h3>Value</h3>

<p>A character string containing the detailed explanation of the provided code snippet based on the query and parameters.
</p>


<h3>See Also</h3>

<p><a href="https://palmr.ly.gd.edu.kg/documentation/">PaLMr - Documentation</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/SafetySetting">Safety Setting - Google AI for Developers</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/HarmCategory">HarmCategory - Google AI for Developers</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Connect to the model, replace API_KEY with your api key
palm.model = palm.connect("v1beta2",
                          "API_KEY",
                          FALSE)

prompt = "foo &lt;- function(n) {
            if (n &lt;= 0) {
              return(0)
            } else if (n == 1) {
              return(1)
            } else {
              return(foo(n - 1) + foo(n - 2))
            }
          }"
code.explanation = palm.txt.explain.code(palm.model,
                                         prompt)
cat(code.explanation)

## End(Not run)

</code></pre>

<hr>
<h2 id='palm.txt.fix.grammar'>Fix grammar and rewrite text using the Google PaLM 2 text model</h2><span id='topic+palm.txt.fix.grammar'></span>

<h3>Description</h3>

<p>This function sends a query with grammatical issues to the Google PaLM 2 text model and generates corrected text as a response.
It allows customization of the generated text using various parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palm.txt.fix.grammar(
  model.parameter,
  prompt,
  temperature = 0.7,
  maxOutputTokens = 1024,
  topP = 0.95,
  topK = 40,
  htUnspecified = "meda",
  htDerogatory = "meda",
  htToxicity = "meda",
  htViolence = "meda",
  htSexual = "meda",
  htMedical = "meda",
  htDangerous = "meda"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="palm.txt.fix.grammar_+3A_model.parameter">model.parameter</code></td>
<td>
<p>A character vector containing the API key, model version, and proxy status. Model version and type
are specified by Google. See function <code><a href="#topic+palm.connect">palm.connect</a></code> for detail.</p>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_prompt">prompt</code></td>
<td>
<p>A character string representing the code snippet for explanation. The length of the code snippet should be between
1 and 8196 characters, inclusive.</p>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_temperature">temperature</code></td>
<td>
<p>A numeric value between 0.0 and 1.0, inclusive (default: 0.7). Controls the randomness of the generated text.
A higher value (e.g., 0.9) results in more creative responses, while a lower value (e.g., 0.3) produces more straightforward text.</p>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_maxoutputtokens">maxOutputTokens</code></td>
<td>
<p>An integer value (default: 1024). Specifies the maximum number of tokens to
include in the generated text.</p>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_topp">topP</code></td>
<td>
<p>A numeric value (default: 0.95). Defines the maximum cumulative probability of tokens
considered when sampling. It controls the diversity of the text generated.</p>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_topk">topK</code></td>
<td>
<p>An integer value (default: 40). Sets the maximum number of tokens to consider
when sampling.</p>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_htunspecified">htUnspecified</code></td>
<td>
<p>Safety setting threshold for unspecified harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_htderogatory">htDerogatory</code></td>
<td>
<p>Safety setting threshold for derogatory harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_httoxicity">htToxicity</code></td>
<td>
<p>Safety setting threshold for toxicity harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_htviolence">htViolence</code></td>
<td>
<p>Safety setting threshold for violence harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_htsexual">htSexual</code></td>
<td>
<p>Safety setting threshold for sexual harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_htmedical">htMedical</code></td>
<td>
<p>Safety setting threshold for medical harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.fix.grammar_+3A_htdangerous">htDangerous</code></td>
<td>
<p>Safety setting threshold for dangerous harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function interacts with the Google PaLM model by sending a query with grammatical issues using the specified parameters.
It allows you to customize the generated text by adjusting the 'temperature', 'maxOutputTokens', 'topP', 'topK', and safety settings.
</p>
<p>If the function is successful, it returns a character string containing the rewritten text with corrected grammar.
If an error occurs during the API request, it will stop execution and provide an error message.
</p>
<p>The 'model.parameter' argument should be a character vector with the API key, model version, and model type provided by
Google. You can obtain this information by following the instructions provided by Google for using the PaLM API.
</p>
<p>The safety settings control the content's safety level based on different harm categories. Harm thresholds are
specified as per Google's guidelines and can be customized to control the content generated.
</p>


<h3>Value</h3>

<p>A character string containing the rewritten text with corrected grammar, generated by the Google PaLM API
based on the provided query and parameters.
</p>


<h3>See Also</h3>

<p><a href="https://palmr.ly.gd.edu.kg/documentation/">PaLMr - Documentation</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/SafetySetting">Safety Setting - Google AI for Developers</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/HarmCategory">HarmCategory - Google AI for Developers</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Connect to the model, replace API_KEY with your api key
palm.model = palm.connect("v1beta2",
                          "API_KEY",
                          FALSE)

prompt = "Yesterday, I will buy a book for my younger sister as his birthday gift.
          They were very happen when seeing this gift earlier today."
correct.text = palm.txt.fix.grammar(palm.model,
                                    prompt)
cat(correct.text)

## End(Not run)

</code></pre>

<hr>
<h2 id='palm.txt.get.reference'>Get references based on a query using the Google PaLM 2 text model</h2><span id='topic+palm.txt.get.reference'></span>

<h3>Description</h3>

<p>This function sends a query to the Google PaLM 2 text model and generates a list of references based on the query. It allows customization of the
generated references and supports various citation styles and source types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palm.txt.get.reference(
  model.parameter,
  prompt,
  source.type = "articles",
  source.date = "most recent",
  n.source = 5,
  citation.style = "APA7",
  temperature = 0.7,
  maxOutputTokens = 1024,
  topP = 0.95,
  topK = 40,
  htUnspecified = "meda",
  htDerogatory = "meda",
  htToxicity = "meda",
  htViolence = "meda",
  htSexual = "meda",
  htMedical = "meda",
  htDangerous = "meda"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="palm.txt.get.reference_+3A_model.parameter">model.parameter</code></td>
<td>
<p>A character vector containing the API key, model version, and proxy status. Model version and type
are specified by Google. See function <code><a href="#topic+palm.connect">palm.connect</a></code> for detail.</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_prompt">prompt</code></td>
<td>
<p>A character string representing the code snippet for explanation. The length of the code snippet should be between
1 and 8196 characters, inclusive.</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_source.type">source.type</code></td>
<td>
<p>A character string specifying the type of sources to search for (default: &quot;articles&quot;).</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_source.date">source.date</code></td>
<td>
<p>A character string specifying the date range for the sources (default: &quot;most recent&quot;).</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_n.source">n.source</code></td>
<td>
<p>An integer value specifying the number of sources to retrieve (default: 5).</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_citation.style">citation.style</code></td>
<td>
<p>A character string specifying the citation style for the references (default: &quot;APA7&quot;).</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_temperature">temperature</code></td>
<td>
<p>A numeric value between 0.0 and 1.0, inclusive (default: 0.7). Controls the randomness of the generated references.
A higher value (e.g., 0.9) results in more creative responses, while a lower value (e.g., 0.3) produces more straightforward references.</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_maxoutputtokens">maxOutputTokens</code></td>
<td>
<p>An integer value (default: 1024). Specifies the maximum number of tokens to include in the generated references.</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_topp">topP</code></td>
<td>
<p>A numeric value between (default: 0.95). Defines the maximum cumulative probability of tokens considered when sampling.
It controls the diversity of the references generated.</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_topk">topK</code></td>
<td>
<p>An integer value between (default: 40). Sets the maximum number of tokens to consider when sampling.</p>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_htunspecified">htUnspecified</code></td>
<td>
<p>Safety setting threshold for unspecified harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_htderogatory">htDerogatory</code></td>
<td>
<p>Safety setting threshold for derogatory harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_httoxicity">htToxicity</code></td>
<td>
<p>Safety setting threshold for toxicity harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_htviolence">htViolence</code></td>
<td>
<p>Safety setting threshold for violence harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_htsexual">htSexual</code></td>
<td>
<p>Safety setting threshold for sexual harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_htmedical">htMedical</code></td>
<td>
<p>Safety setting threshold for medical harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.get.reference_+3A_htdangerous">htDangerous</code></td>
<td>
<p>Safety setting threshold for dangerous harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function interacts with the Google PaLM model by sending a query to find references. It allows you to customize the generated
references by specifying the number of sources, citation style, source type, date range, and safety settings.
</p>
<p>If the function is successful, it returns a character vector containing the generated references. If an error occurs during the
API request, it will stop execution and provide an error message.
</p>
<p>The 'model.parameter' argument should be a character vector with the API key, model version, and model type provided by
Google. You can obtain this information by following the instructions provided by Google for using the PaLM API.
</p>
<p>The safety settings control the content's safety level based on different harm categories. Harm thresholds are
specified as per Google's guidelines and can be customized to control the content generated.
</p>


<h3>Value</h3>

<p>A character string containing the generated references based on the provided query and parameters.
</p>


<h3>See Also</h3>

<p><a href="https://palmr.ly.gd.edu.kg/documentation/">PaLMr - Documentation</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/SafetySetting">Safety Setting - Google AI for Developers</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/HarmCategory">HarmCategory - Google AI for Developers</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Connect to the model, replace API_KEY with your api key
palm.model = palm.connect("v1beta2",
                          "API_KEY",
                          FALSE)

correct.text = palm.txt.get.reference(palm.model,
                                      "H5N1 in the United States")
cat(correct.text)

## End(Not run)

</code></pre>

<hr>
<h2 id='palm.txt.optimize.code'>Optimize code based on a query using the Google PaLM 2 text model.</h2><span id='topic+palm.txt.optimize.code'></span>

<h3>Description</h3>

<p>This function sends a query with a code snippet to the Google PaLM 2 text model and generates an optimized version of the code. You can specify the programming language and the aspect you want to optimize (e.g., &quot;runtime&quot; or &quot;memory&quot;). The optimized code is provided along with the original code for comparison.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palm.txt.optimize.code(
  model.parameter,
  prompt,
  goal,
  language = "R",
  temperature = 0.7,
  maxOutputTokens = 1024,
  topP = 0.95,
  topK = 40,
  htUnspecified = "meda",
  htDerogatory = "meda",
  htToxicity = "meda",
  htViolence = "meda",
  htSexual = "meda",
  htMedical = "meda",
  htDangerous = "meda"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="palm.txt.optimize.code_+3A_model.parameter">model.parameter</code></td>
<td>
<p>A character vector containing the API key, model version, and proxy status. Model version and type
are specified by Google. See function <code><a href="#topic+palm.connect">palm.connect</a></code> for detail.</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_prompt">prompt</code></td>
<td>
<p>A character string representing the code snippet for explanation. The length of the code snippet should be between
1 and 8196 characters, inclusive.</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_goal">goal</code></td>
<td>
<p>A character string specifying the aspect you want to optimize.</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_language">language</code></td>
<td>
<p>A character string specifying the programming language used in the code (default: &quot;R&quot;).</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_temperature">temperature</code></td>
<td>
<p>A numeric value (default: 0.7). Controls the randomness of the generated optimization.
A higher value (e.g., 0.9) results in more creative optimizations, while a lower value (e.g., 0.3) produces more straightforward optimizations.</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_maxoutputtokens">maxOutputTokens</code></td>
<td>
<p>An integer value between 1 and 1024, inclusive (default: 1024). Specifies the maximum number of tokens to include
in the generated optimization.</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_topp">topP</code></td>
<td>
<p>A numeric value (default: 0.95). Defines the maximum cumulative probability of tokens considered
when sampling. It controls the diversity of the optimization generated.</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_topk">topK</code></td>
<td>
<p>An integer value (default: 40). Sets the maximum number of tokens to consider when sampling.</p>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_htunspecified">htUnspecified</code></td>
<td>
<p>Safety setting threshold for unspecified harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_htderogatory">htDerogatory</code></td>
<td>
<p>Safety setting threshold for derogatory harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_httoxicity">htToxicity</code></td>
<td>
<p>Safety setting threshold for toxicity harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_htviolence">htViolence</code></td>
<td>
<p>Safety setting threshold for violence harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_htsexual">htSexual</code></td>
<td>
<p>Safety setting threshold for sexual harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_htmedical">htMedical</code></td>
<td>
<p>Safety setting threshold for medical harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="palm.txt.optimize.code_+3A_htdangerous">htDangerous</code></td>
<td>
<p>Safety setting threshold for dangerous harm. The default threshold is &quot;meda&quot;. Valid options are as follows.
</p>

<dl>
<dt>&quot;unsp&quot;</dt><dd><p>HARM_BLOCK_THRESHOLD_UNSPECIFIED</p>
</dd>
<dt>&quot;lowa&quot;</dt><dd><p>BLOCK_LOW_AND_ABOVE</p>
</dd>
<dt>&quot;meda&quot;</dt><dd><p>BLOCK_MEDIUM_AND_ABOVE</p>
</dd>
<dt>&quot;high&quot;</dt><dd><p>BLOCK_ONLY_HIGH</p>
</dd>
<dt>&quot;none&quot;</dt><dd><p>BLOCK_NONE</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function interacts with the Google PaLM model by sending a code query for code optimization. It allows you to customize the generated
code optimizations by specifying the programming language, optimization aspect, and additional parameters like temperature, token limits,
and safety settings.
</p>
<p>If the function is successful, it returns an optimized version of the provided code as a character string. If an error occurs during the
API request, it will stop execution and provide an error message.
</p>
<p>The 'model.parameter' argument should be a character vector with the API key, model version, and model type provided by
Google. You can obtain this information by following the instructions provided by Google for using the PaLM API.
</p>
<p>The safety settings control the content's safety level based on different harm categories. Harm thresholds are
specified as per Google's guidelines and can be customized to control the content generated.
</p>


<h3>Value</h3>

<p>A character string containing the optimized version of the provided code snippet based on the query and parameters.
</p>


<h3>See Also</h3>

<p><a href="https://palmr.ly.gd.edu.kg/documentation/">PaLMr - Documentation</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/SafetySetting">Safety Setting - Google AI for Developers</a>
</p>
<p><a href="https://ai.google.dev/api/rest/v1beta/HarmCategory">HarmCategory - Google AI for Developers</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Connect to the model, replace API_KEY with your api key
palm.model = palm.connect("v1beta2",
                          "API_KEY",
                          FALSE)

prompt = "foo &lt;- function(n) {
            if (n &lt;= 0) {
              return(0)
            } else if (n == 1) {
              return(1)
            } else {
              return(foo(n - 1) + foo(n - 2))
            }
          }"
code.optimization = palm.txt.optimize.code(palm.model,
                                           "Improve the runtime.",
                                           prompt)
cat(code.optimization)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

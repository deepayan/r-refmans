<!DOCTYPE html><html lang="en"><head><title>Help for package rmdl</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rmdl}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rmdl-package'><p>rmdl package</p></a></li>
<li><a href='#construct_table_from_formulas'><p>Restructure formulas to fit within a model table</p></a></li>
<li><a href='#construct_table_from_models'><p>Restructure models to fit within a model table</p>
Passes information to <code>new_model_table()</code> for initialization</a></li>
<li><a href='#data_helpers'><p>Data summarization and classification methods</p></a></li>
<li><a href='#describe'><p>Describe attributes of a <code>tm</code> vector</p></a></li>
<li><a href='#df_reconstruct'><p>If objects are model tables, attributes are carried over to subset object</p></a></li>
<li><a href='#dplyr_extensions'><p>Extending <code>dplyr</code> for <code>tm</code> class</p></a></li>
<li><a href='#estimate_interaction'><p>Estimating interaction effect estimates</p></a></li>
<li><a href='#fmls'><p>Vectorized formulas</p></a></li>
<li><a href='#formula_helpers'><p>Tools for working with formula-like objects</p></a></li>
<li><a href='#labeled_formulas_to_named_list'><p>Convert labeling formulas to named lists</p></a></li>
<li><a href='#mdl_tbl'><p>Model tables</p></a></li>
<li><a href='#model_table_helpers'><p>Model table helper functions</p></a></li>
<li><a href='#model_table_reconstructable'><p>Can <code>mdl_tbl</code> be reconstructed based on invariants?</p></a></li>
<li><a href='#models'><p>Model Prototypes</p></a></li>
<li><a href='#patterns'><p>Apply patterns to formulas</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#rmdl-vctrs'><p>Internal vctrs methods</p></a></li>
<li><a href='#tm'><p>Create vectorized terms</p></a></li>
<li><a href='#update.tm'><p>Update <code>tm</code> objects</p></a></li>
<li><a href='#validate_model_table'><p>Model table object validation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Language to Manage Many Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A system for describing and manipulating the many models that are
    generated in causal inference and data analysis projects, as based on the
		causal theory and criteria of Austin Bradford Hill (1965) 
		&lt;<a href="https://doi.org/10.1177%2F003591576505800503">doi:10.1177/003591576505800503</a>&gt;. This system includes the addition of 
		formal attributes that modify base 'R' objects, including terms and 
		formulas, with a focus on variable roles in the "do-calculus" of modeling,
		as described in Pearl (2010) &lt;<a href="https://doi.org/10.2202%2F1557-4679.1203">doi:10.2202/1557-4679.1203</a>&gt;. For example, the 
		definition of exposure, outcome, and interaction are  implicit in the roles 
		variables take in a formula. These premises allow for a more fluent modeling
		approach focusing on variable relationships, and assessing effect 
		modification, as described by VanderWeele and Robins (2007) 
		&lt;<a href="https://doi.org/10.1097%2FEDE.0b013e318127181b">doi:10.1097/EDE.0b013e318127181b</a>&gt;. The essential goal is to help 
		contextualize formulas and models in causality-oriented workflows.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0), vctrs (&ge; 0.5.0), tibble (&ge; 3.0.0),</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, generics, methods, dplyr, broom, tidyr, rlang,
pillar, purrr, janitor</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), covr, cli, rmarkdown, knitr, ggplot2,
gt, survival, cmprsk, tidycmprsk</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/shah-in-boots/rmdl">https://github.com/shah-in-boots/rmdl</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/shah-in-boots/rmdl/issues">https://github.com/shah-in-boots/rmdl/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-02 16:48:30 UTC; asshah4</td>
</tr>
<tr>
<td>Author:</td>
<td>Anish S. Shah <a href="https://orcid.org/0000-0002-9729-1558"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Anish S. Shah &lt;ashah282@uic.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-02 22:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rmdl-package'>rmdl package</h2><span id='topic+rmdl'></span><span id='topic+rmdl-package'></span>

<h3>Description</h3>

<p>A system for describing and manipulating the many models that are generated in causal inference and data analysis projects, as based on the causal theory and criteria of Austin Bradford Hill (1965) <a href="https://doi.org/10.1177/003591576505800503">doi:10.1177/003591576505800503</a>. This system includes the addition of formal attributes that modify base 'R' objects, including terms and formulas, with a focus on variable roles in the &quot;do-calculus&quot; of modeling, as described in Pearl (2010) <a href="https://doi.org/10.2202/1557-4679.1203">doi:10.2202/1557-4679.1203</a>. For example, the definition of exposure, outcome, and interaction are implicit in the roles variables take in a formula. These premises allow for a more fluent modeling approach focusing on variable relationships, and assessing effect modification, as described by VanderWeele and Robins (2007) <a href="https://doi.org/10.1097/EDE.0b013e318127181b">doi:10.1097/EDE.0b013e318127181b</a>. The essential goal is to help contextualize formulas and models in causality-oriented workflows.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Anish S. Shah <a href="mailto:ashah282@uic.edu">ashah282@uic.edu</a> (<a href="https://orcid.org/0000-0002-9729-1558">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/shah-in-boots/rmdl">https://github.com/shah-in-boots/rmdl</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/shah-in-boots/rmdl/issues">https://github.com/shah-in-boots/rmdl/issues</a>
</p>
</li></ul>


<hr>
<h2 id='construct_table_from_formulas'>Restructure formulas to fit within a model table</h2><span id='topic+construct_table_from_formulas'></span>

<h3>Description</h3>

<p>Restructure formulas to fit within a model table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>construct_table_from_formulas(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="construct_table_from_formulas_+3A_x">x</code></td>
<td>
<p>Vector of <code>fmls</code> objects</p>
</td></tr>
</table>

<hr>
<h2 id='construct_table_from_models'>Restructure models to fit within a model table
Passes information to <code>new_model_table()</code> for initialization</h2><span id='topic+construct_table_from_models'></span>

<h3>Description</h3>

<p>Restructure models to fit within a model table
Passes information to <code>new_model_table()</code> for initialization
</p>


<h3>Usage</h3>

<pre><code class='language-R'>construct_table_from_models(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="construct_table_from_models_+3A_x">x</code></td>
<td>
<p>Vector of <code>mdl</code> objects</p>
</td></tr>
</table>

<hr>
<h2 id='data_helpers'>Data summarization and classification methods</h2><span id='topic+data_helpers'></span><span id='topic+number_of_missing'></span><span id='topic+is_dichotomous'></span>

<h3>Description</h3>

<p>These related functions are intended to analyze a single data vector (e.g.
column from a dataset) and help predict its classification, or other relevant
attributes. These are simple yet opionated convenience functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>number_of_missing(x)

is_dichotomous(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="data_helpers_+3A_x">x</code></td>
<td>
<p>A vector of any of the atomic types (see [<code><a href="base.html#topic+vector">base::vector()</a></code>])</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions that are currently supported are:
</p>

<ul>
<li> <p><code>number_of_missing()</code> returns the number of missing values in a vector
</p>
</li>
<li> <p><code>is_dichotomous()</code> returns TRUE if the vector is dichotomous, FALSE otherwise
</p>
</li></ul>



<h3>Value</h3>

<p>Returns a single value determined by the individual functions
</p>

<hr>
<h2 id='describe'>Describe attributes of a <code>tm</code> vector</h2><span id='topic+describe'></span>

<h3>Description</h3>

<p>Describe attributes of a <code>tm</code> vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describe(x, property)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="describe_+3A_x">x</code></td>
<td>
<p>A vector <code>tm</code> objects</p>
</td></tr>
<tr><td><code id="describe_+3A_property">property</code></td>
<td>
<p>A character vector of the following attributes of a <code>tm</code>
object: role, side, label, group, description, type, distribution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>term = property</code> pairs, where the term is the name of the
element (e.g. could be the &lsquo;role&rsquo; of the term).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- .o(output) ~ .x(input) + .m(mediator) + random
t &lt;- tm(f)
describe(t, "role")

</code></pre>

<hr>
<h2 id='df_reconstruct'>If objects are model tables, attributes are carried over to subset object</h2><span id='topic+df_reconstruct'></span>

<h3>Description</h3>

<p>If objects are model tables, attributes are carried over to subset object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_reconstruct(x, to)
</code></pre>

<hr>
<h2 id='dplyr_extensions'>Extending <code>dplyr</code> for <code>tm</code> class</h2><span id='topic+dplyr_extensions'></span><span id='topic+filter.tm'></span>

<h3>Description</h3>

<p>The <code>filter()</code> function extension subsets <code>tm</code> that satisfy set conditions.
To be retained, the <code>tm</code> object must produce a value of <code>TRUE</code> for all conditions.
Note that when a condition evaluates to <code>NA</code>, the row will be dropped, unlike
base subsetting with <code>[</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tm'
filter(.data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dplyr_extensions_+3A_.data">.data</code></td>
<td>
<p>A data frame, data frame extension (e.g. a tibble), or a
lazy data frame (e.g. from dbplyr or dtplyr). See <em>Methods</em>, below, for
more details.</p>
</td></tr>
<tr><td><code id="dplyr_extensions_+3A_...">...</code></td>
<td>
<p>&lt;<code><a href="rlang.html#topic+args_data_masking">data-masking</a></code>&gt; Expressions that
return a logical value, and are defined in terms of the variables in
<code>.data</code>. If multiple expressions are included, they are combined with the
<code>&amp;</code> operator. Only rows for which all conditions evaluate to <code>TRUE</code> are
kept.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same type as <code>.data</code>. The output as the following properties:
</p>

<ul>
<li> <p><code>tm</code> objects are a subset of the input, but appear in the same order
</p>
</li>
<li><p> Underlying <code>data.frame</code> columns are not modified
</p>
</li>
<li><p> Underlying <code>data.frame</code> object's attributes are preserved
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+filter">dplyr::filter()</a></code> for examples of generic implementation
</p>

<hr>
<h2 id='estimate_interaction'>Estimating interaction effect estimates</h2><span id='topic+estimate_interaction'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>When using categorical interaction terms in a <code>mdl_tbl</code> object, estimates
on interaction terms and their confidence intervals can be evaluated. The
effect of interaction on the estimates is based on the levels of interaction
term. The estimates and intervals can be derived through the
<code>estimate_interaction()</code> function. The approach is based on the method
described by Figueiras et al. (1998).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimate_interaction(object, exposure, interaction, conf_level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimate_interaction_+3A_object">object</code></td>
<td>
<p>A <code>mdl_tbl</code> object subset to a single row</p>
</td></tr>
<tr><td><code id="estimate_interaction_+3A_exposure">exposure</code></td>
<td>
<p>The exposure variable in the model</p>
</td></tr>
<tr><td><code id="estimate_interaction_+3A_interaction">interaction</code></td>
<td>
<p>The interaction variable in the model</p>
</td></tr>
<tr><td><code id="estimate_interaction_+3A_conf_level">conf_level</code></td>
<td>
<p>The confidence level for the confidence interval</p>
</td></tr>
<tr><td><code id="estimate_interaction_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>estimate_interaction()</code> requires a <code>mdl_tbl</code> object that is a
single row in length. Filtering the <code>mdl_tbl</code> should occur prior to
passing it to this function. Additionally, this function assumes the
interaction term is binary. If it is categorical, the current
recommendation is to use dummy variables for the corresponding levels prior
to modeling.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with <code>n = levels(interaction)</code> rows (for the
presence or absence of the interaction term) and <code>n = 5</code> columns:
</p>

<ul>
<li><p> estimate: beta coefficient for the interaction effect based on level
</p>
</li>
<li><p> conf_low: lower bound of confidence interval for the estimate
</p>
</li>
<li><p> conf_high: higher bound of confidence interval for the estimate
</p>
</li>
<li><p> p_value: p-value for the overall interaction effect <em>across levels</em>
</p>
</li>
<li><p> nobs: number of observations within the interaction level
</p>
</li>
<li><p> level: level of the interaction term
</p>
</li></ul>



<h3>References</h3>

<p>A. Figueiras, J. M. Domenech-Massons, and Carmen Cadarso, 'Regression models:
calculating the confidence intervals of effects in the presence of
interactions', Statistics in Medicine, 17, 2099-2105 (1998)
</p>

<hr>
<h2 id='fmls'>Vectorized formulas</h2><span id='topic+fmls'></span><span id='topic+is_fmls'></span><span id='topic+key_terms'></span>

<h3>Description</h3>

<p>This function defines a modified <code>formula</code> class that has been
vectorized. The <code>fmls</code> serves as a set of instructions or a <em>script</em> for the
formula and its tm. It expands upon the functionality of formulas,
allowing for additional descriptions and relationships to exist between the
tm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmls(
  x = unspecified(),
  pattern = c("direct", "sequential", "parallel", "fundamental"),
  ...
)

is_fmls(x)

key_terms(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fmls_+3A_x">x</code></td>
<td>
<p>Objects of the following types can be used as inputs
</p>

<ul>
<li> <p><code>tm</code>
</p>
</li>
<li> <p><code>formula</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="fmls_+3A_pattern">pattern</code></td>
<td>
<p>A <code>character</code> from the following choices for pattern
expansion. This is how the formula will be expanded, and decides how the
covariates will incorporated. See the details for further explanation.
</p>

<ul>
<li><p> direct: the covariates will all be included in each formula
</p>
</li>
<li><p> sequential: the covariates will be added sequentially, one by one, or by groups, as indicated
</p>
</li>
<li><p> parallel: the covariates or groups of covariates will be placed in parallel
</p>
</li>
<li><p> fundamental: every formula will be decomposed to a single outcome and predictor in an atomic fashion
</p>
</li></ul>
</td></tr>
<tr><td><code id="fmls_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to or from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is not meant to supersede a <code><a href="stats.html#topic+formula">stats::formula()</a></code> object, but provide a
series of relationships that can be helpful in causal modeling. All <code>fmls</code>
can be converted to a traditional <code>formula</code> with ease. The base for this
object is built on the <code><a href="#topic+tm">tm()</a></code> object.
</p>


<h3>Value</h3>

<p>An object of class <code>fmls</code>
</p>


<h3>Patterns</h3>

<p>The expansion pattern allows for instructions on how the covariates should be
included in different formulas. Below, assuming that <em>x1</em>, <em>x2</em>, and <em>x3</em> are
covariates...
</p>
<p style="text-align: center;"><code class="reqn">y = x1 + x2 + x3</code>
</p>

<p><strong>Direct</strong>:
</p>
<p style="text-align: center;"><code class="reqn">y = x1 + x2 + x3</code>
</p>

<p><strong>Seqential</strong>:
</p>
<p style="text-align: center;"><code class="reqn">y = x1</code>
</p>

<p style="text-align: center;"><code class="reqn">y = x1 + x2</code>
</p>

<p style="text-align: center;"><code class="reqn">y = x1 + x2 + x3</code>
</p>

<p><strong>Parallel</strong>:
</p>
<p style="text-align: center;"><code class="reqn">y = x1</code>
</p>

<p style="text-align: center;"><code class="reqn">y = x2</code>
</p>

<p style="text-align: center;"><code class="reqn">y = x3</code>
</p>



<h3>Roles</h3>

<p>Specific roles the variable plays within the formula. These are of particular
importance, as they serve as special terms that can effect how a formula is
interpreted.</p>

<table>
<tr>
 <td style="text-align: left;">
   Role </td><td style="text-align: left;"> Shortcut </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
   outcome </td><td style="text-align: left;"> <code>.o(...)</code> </td><td style="text-align: left;"> <strong>outcome</strong> ~ exposure </td>
</tr>
<tr>
 <td style="text-align: left;">
   exposure </td><td style="text-align: left;"> <code>.x(...)</code> </td><td style="text-align: left;"> outcome ~ <strong>exposure</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   predictor </td><td style="text-align: left;"> <code>.p(...)</code> </td><td style="text-align: left;"> outcome ~ exposure + <strong>predictor</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   confounder </td><td style="text-align: left;"> <code>.c(...)</code> </td><td style="text-align: left;"> outcome + exposure ~ <strong>confounder</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   mediator </td><td style="text-align: left;"> <code>.m(...)</code> </td><td style="text-align: left;"> outcome <strong>mediator</strong> exposure </td>
</tr>
<tr>
 <td style="text-align: left;">
   interaction </td><td style="text-align: left;"> <code>.i(...)</code> </td><td style="text-align: left;"> outcome ~ exposure * <strong>interaction</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   strata </td><td style="text-align: left;"> <code>.s(...)</code> </td><td style="text-align: left;"> outcome ~ exposure / <strong>strata</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   group </td><td style="text-align: left;"> <code>.g(...)</code> </td><td style="text-align: left;"> outcome ~ exposure + <strong>group</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <em>unknown</em> </td><td style="text-align: left;"> <code>-</code> </td><td style="text-align: left;"> not yet assigned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Formulas can be condensed by applying their specific role to individual runes
as a function/wrapper. For example, <code>y ~ .x(x1) + x2 + x3</code>. This would
signify that <code>x1</code> has the specific role of an <em>exposure</em>.
</p>
<p>Grouped variables are slightly different in that they are placed together in
a hierarchy or tier. To indicate the group and the tier, the shortcut can
have an <code>integer</code> following the <code>.g</code>. If no number is given, then it is
assumed they are all on the same tier. Ex: <code>y ~ x1 + .g1(x2) + .g1(x3)</code>
</p>
<p><strong>Warning</strong>: Only a single shortcut can be applied to a variable within a
formula directly.
</p>


<h3>Pluralized Labeling Arguments</h3>

<p>For a single argument, e.g. for the <code>tm.formula()</code> method, such as to
identify variable <strong>X</strong> as an exposure, a <code>formula</code> should be given with the
term of interest on the <em>LHS</em>, and the description or instruction on the
<em>RHS</em>. This would look like <code>role = "exposure" ~ X</code>.
</p>
<p>For the arguments that would be dispatched for objects that are plural, e.g.
containing multiple terms, each <code>formula()</code> should be placed within a
<code>list()</code>. For example, the <strong>role</strong> argument would be written:
</p>
<p><code>role = list(X ~ "exposure", M ~ "mediator", C ~ "confounder")</code>
</p>
<p>Further implementation details can be seen in the implementation of
<code><a href="#topic+labeled_formulas_to_named_list">labeled_formulas_to_named_list()</a></code>.
</p>

<hr>
<h2 id='formula_helpers'>Tools for working with formula-like objects</h2><span id='topic+formula_helpers'></span><span id='topic+lhs'></span><span id='topic+rhs'></span><span id='topic+rhs.formula'></span><span id='topic+lhs.formula'></span>

<h3>Description</h3>

<p>Tools for working with formula-like objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs(x, ...)

rhs(x, ...)

## S3 method for class 'formula'
rhs(x, ...)

## S3 method for class 'formula'
lhs(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formula_helpers_+3A_x">x</code></td>
<td>
<p>A formula-like object</p>
</td></tr>
<tr><td><code id="formula_helpers_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to or from other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> describing part of a <code>formula</code> or <code>fmls</code> object
</p>

<hr>
<h2 id='labeled_formulas_to_named_list'>Convert labeling formulas to named lists</h2><span id='topic+labeled_formulas_to_named_list'></span>

<h3>Description</h3>

<p>Take list of formulas, or a similar construct, and returns a named list. The
convention here is similar to reading from left to right, where the name or
position is the term is the on the <em>LHS</em> and the output label or target
instruction is on the <em>RHS</em>.
</p>
<p>If no label is desired, then the <em>LHS</em> can be left empty, such as <code>~ x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labeled_formulas_to_named_list(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="labeled_formulas_to_named_list_+3A_x">x</code></td>
<td>
<p>An argument that may represent a formula to label variables, or can
be converted to one. This includes, <code>list</code>, <code>formula</code>, or
<code>character</code> objects. Other types will error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with the index as a <code>character</code> representing the term
or variable of interest, and the value at that position as a <code>character</code>
representing the label value.
</p>

<hr>
<h2 id='mdl_tbl'>Model tables</h2><span id='topic+mdl_tbl'></span><span id='topic+model_table'></span><span id='topic+is_model_table'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>The <code>model_table()</code> or <code>mdl_tbl()</code> function creates a <code>mdl_tbl</code> object that
is composed of either <code>fmls</code> objects or <code>mdl</code> objects, which are
thin/informative wrappers for generic formulas and hypothesis-based models.
The <code>mdl_tbl</code> is a data frame of model information, such as model fit,
parameter estimates, and summary statistics about a model, or a formula if it
has not yet been fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mdl_tbl(..., data = NULL)

model_table(..., data = NULL)

is_model_table(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mdl_tbl_+3A_...">...</code></td>
<td>
<p>Named or unnamed <code>mdl</code> or <code>fmls</code> objects</p>
</td></tr>
<tr><td><code id="mdl_tbl_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> or <code>tbl_df</code> object, named correspondingly to
the underlying data used in the models (to help match)</p>
</td></tr>
<tr><td><code id="mdl_tbl_+3A_x">x</code></td>
<td>
<p>A <code>mdl_tbl</code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The table itself allows for ease of organization of model information and has
three additional, major components (stored as scalar attributes).
</p>

<ol>
<li><p> A formula matrix that describes the terms used in each model, and how they
are combined.
</p>
</li>
<li><p> A term table that describes the terms and their properties and/or labels.
</p>
</li>
<li><p> A list of datasets used for the analyses that can help support additional diagnostic testing.
</p>
</li></ol>

<p>We go into further detail in the sections below.
</p>


<h3>Value</h3>

<p>A <code>mdl_tbl</code> object, which is essentially a <code>data.frame</code> with
additional information on the relevant data, terms, and formulas used to
generate the models.
</p>


<h3>Data List</h3>

<p>NA
</p>


<h3>Term Table</h3>

<p>NA
</p>


<h3>Formula Matrix</h3>

<p>NA
</p>

<hr>
<h2 id='model_table_helpers'>Model table helper functions</h2><span id='topic+model_table_helpers'></span><span id='topic+attach_data'></span><span id='topic+flatten_models'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>These functions are used to help manage the <code>mdl_tbl</code> object. They allow
for specific manipulation of the internal components, and are intended to
generally extend the functionality of the object.
</p>

<ul>
<li> <p><code>attach_data()</code>: Attaches a dataset to a <code>mdl_tbl</code> object
</p>
</li>
<li> <p><code>flatten_models()</code>: Flattens a <code>mdl_tbl</code> object down to its specific parameters
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>attach_data(x, data, ...)

flatten_models(x, exponentiate = FALSE, which = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_table_helpers_+3A_x">x</code></td>
<td>
<p>A <code>mdl_tbl</code> object</p>
</td></tr>
<tr><td><code id="model_table_helpers_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> object that has been used by models</p>
</td></tr>
<tr><td><code id="model_table_helpers_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to or from other methods</p>
</td></tr>
<tr><td><code id="model_table_helpers_+3A_exponentiate">exponentiate</code></td>
<td>
<p>A <code>logical</code> value that determines whether to exponentiate
the estimates of the models. Default is <code>FALSE</code>. If <code>TRUE</code>, the user can specify
which models to exponentiate by name using the <strong>which</strong> argument.</p>
</td></tr>
<tr><td><code id="model_table_helpers_+3A_which">which</code></td>
<td>
<p>A <code>character</code> vector of model names to exponentiate. Default is <code>NULL</code>. If <strong>exponentiate</strong> is set to <code>TRUE</code> and <strong>which</strong> is set to <code>NULL</code>, then all estimates will be exponentiated, which is often a <em>bad idea</em>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>When using <code>attach_data()</code>, this returns a modified version of the
<code>mdl_tbl</code> object however with the dataset attached. When using the
<code>flatten_models()</code> function, this returns a simplified <code>data.frame</code> of the
original model table that contains the model-level and parameter-level
statistics.
</p>


<h3>Attaching Data</h3>

<p>When models are built, oftentimes the included matrix of data is available
within the raw model, however when handling many models, this can be
expensive in terms of memory and space. By attaching datasets independently
that persist regardless of the underlying models, and by knowing which models
used which datasets, it can be ease to back-transform information.
</p>


<h3>Flattening Models</h3>

<p>A <code>mdl_tbl</code> object can be flattened to its specific parameters, their
estimates, and model-level summary statistics. This function additionally
helps by allowing for exponentiation of estimates when deemed appropriate.
The user can specify which models to exponentiate by name. This heavily
relies on the <code><a href="broom.html#topic+reexports">broom::tidy()</a></code> functionality.
</p>

<hr>
<h2 id='model_table_reconstructable'>Can <code>mdl_tbl</code> be reconstructed based on invariants?</h2><span id='topic+model_table_reconstructable'></span>

<h3>Description</h3>

<p>Can <code>mdl_tbl</code> be reconstructed based on invariants?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_table_reconstructable(x, to)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_table_reconstructable_+3A_x">x</code></td>
<td>
<p>data frame that will have invariants checked</p>
</td></tr>
<tr><td><code id="model_table_reconstructable_+3A_to">to</code></td>
<td>
<p>the tibble subclass of <code>mdl_tbl</code> that would be reconstructed</p>
</td></tr>
</table>

<hr>
<h2 id='models'>Model Prototypes</h2><span id='topic+models'></span><span id='topic+mdl'></span><span id='topic+mdl.character'></span><span id='topic+mdl.lm'></span><span id='topic+mdl.glm'></span><span id='topic+mdl.coxph'></span><span id='topic+mdl.default'></span><span id='topic+model'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mdl(x = unspecified(), ...)

## S3 method for class 'character'
mdl(
  x,
  formulas,
  parameter_estimates = data.frame(),
  summary_info = list(),
  data_name,
  strata_variable = NA_character_,
  strata_level = NA_character_,
  ...
)

## S3 method for class 'lm'
mdl(
  x = unspecified(),
  formulas = fmls(),
  data_name = character(),
  strata_variable = character(),
  strata_level = character(),
  ...
)

## S3 method for class 'glm'
mdl(
  x = unspecified(),
  formulas = fmls(),
  data_name = character(),
  strata_variable = character(),
  strata_level = character(),
  ...
)

## S3 method for class 'coxph'
mdl(
  x = unspecified(),
  formulas = fmls(),
  data_name = character(),
  strata_variable = character(),
  strata_level = character(),
  ...
)

## Default S3 method:
mdl(x, ...)

model(x = unspecified(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="models_+3A_x">x</code></td>
<td>
<p>Model object or representation</p>
</td></tr>
<tr><td><code id="models_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to or from other methods</p>
</td></tr>
<tr><td><code id="models_+3A_formulas">formulas</code></td>
<td>
<p>Formula(s) given as either an <code>formula</code> or as a <code>fmls</code> object</p>
</td></tr>
<tr><td><code id="models_+3A_parameter_estimates">parameter_estimates</code></td>
<td>
<p>A <code>data.frame</code> that contains columns
representing terms and individual estimates or coefficients, can be
accompanied by additional statistic columns. By default, assumes
</p>

<ul>
<li> <p><strong>term</strong> = term name
</p>
</li>
<li> <p><strong>estimate</strong> = estimate or coefficient
</p>
</li></ul>
</td></tr>
<tr><td><code id="models_+3A_summary_info">summary_info</code></td>
<td>
<p>A <code>list</code> that contains columns representing
summary statistic of a model. By default, assumes...
</p>

<ul>
<li> <p><strong>nobs</strong> = number of observations
</p>
</li>
<li> <p><strong>degrees_freedom</strong> = degrees of freedom
</p>
</li>
<li> <p><strong>statistic</strong> = test statistic
</p>
</li>
<li> <p><strong>p_value</strong> = p-value for overall model
</p>
</li>
<li> <p><strong>var_cov</strong> = variance-covariance matrix for predicted coefficients
</p>
</li></ul>
</td></tr>
<tr><td><code id="models_+3A_data_name">data_name</code></td>
<td>
<p>String representing name of dataset that was used</p>
</td></tr>
<tr><td><code id="models_+3A_strata_variable">strata_variable</code></td>
<td>
<p>String of a term that served as a stratifying
variable</p>
</td></tr>
<tr><td><code id="models_+3A_strata_level">strata_level</code></td>
<td>
<p>Value of the level of the term specified by
<code>strata_variable</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the <code>mdl</code> class, which is essentially an equal-length
list of parameters that describe a single model. It retains the original
formula call and the related roles in the formula.
</p>

<hr>
<h2 id='patterns'>Apply patterns to formulas</h2><span id='topic+patterns'></span><span id='topic+apply_pattern'></span><span id='topic+apply_fundamental_pattern'></span><span id='topic+apply_direct_pattern'></span><span id='topic+apply_sequential_pattern'></span><span id='topic+apply_parallel_pattern'></span><span id='topic+apply_rolling_interaction_pattern'></span>

<h3>Description</h3>

<p>The family of <code style="white-space: pre;">&#8288;apply_*_pattern()&#8288;</code> functions that are used to expand <code>fmls</code>
by specified patterns. These functions are not intended to be used directly
but as internal functions. They have been exposed to allow for potential
user-defined use cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_pattern(x, pattern)

apply_fundamental_pattern(x)

apply_direct_pattern(x)

apply_sequential_pattern(x)

apply_parallel_pattern(x)

apply_rolling_interaction_pattern(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="patterns_+3A_x">x</code></td>
<td>
<p>A <code>tm</code> object</p>
</td></tr>
<tr><td><code id="patterns_+3A_pattern">pattern</code></td>
<td>
<p>A character string that specifies the pattern to use</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently supported patterns are: fundamental, direct, sequential, parallel.
</p>


<h3>Value</h3>

<p>Returns a <code>tbl_df</code> object that has special column names and rows.
Each row is essentially a precursor to a new formula.
</p>
<p>These columns and rows must be present to be used with the <code>fmls()</code>
function, and generally are the expected result of the specified pattern.
They will undergo further internal modification prior to being turned into
a <code>fmls</code> object, but this is an developer consideration. If developing a
pattern, please use this guide to ensure that the output is compatible with
the <code>fmls()</code> function.
</p>

<ul>
<li><p> outcome: a single term that is the expected outcome variable
</p>
</li>
<li><p> exposure: a single term that is the expected exposure variable, which may not be present in every row
</p>
</li>
<li><p> covariate_*: the covariates expand based on the number that are present (e.g. &quot;covariate_1&quot;, &quot;covariate_2&quot;, etc)
</p>
</li></ul>


<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+fit'></span><span id='topic+tidy'></span><span id='topic+glance'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+fit">fit</a></code>, <code><a href="generics.html#topic+glance">glance</a></code>, <code><a href="generics.html#topic+tidy">tidy</a></code></p>
</dd>
</dl>

<hr>
<h2 id='rmdl-vctrs'>Internal vctrs methods</h2><span id='topic+rmdl-vctrs'></span>

<h3>Description</h3>

<p>Internal vctrs methods
</p>

<hr>
<h2 id='tm'>Create vectorized terms</h2><span id='topic+tm'></span><span id='topic+tm.character'></span><span id='topic+tm.formula'></span><span id='topic+tm.fmls'></span><span id='topic+tm.tm'></span><span id='topic+tm.default'></span><span id='topic+is_tm'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tm(x = unspecified(), ...)

## S3 method for class 'character'
tm(
  x,
  role = character(),
  side = character(),
  label = character(),
  group = integer(),
  type = character(),
  distribution = character(),
  description = character(),
  transformation = character(),
  ...
)

## S3 method for class 'formula'
tm(
  x,
  role = formula(),
  label = formula(),
  group = formula(),
  type = formula(),
  distribution = formula(),
  description = formula(),
  transformation = formula(),
  ...
)

## S3 method for class 'fmls'
tm(x, ...)

## S3 method for class 'tm'
tm(x, ...)

## Default S3 method:
tm(x = unspecified(), ...)

is_tm(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tm_+3A_x">x</code></td>
<td>
<p>An object that can be coerced to a <code>tm</code> object.</p>
</td></tr>
<tr><td><code id="tm_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to or from other methods</p>
</td></tr>
<tr><td><code id="tm_+3A_role">role</code></td>
<td>
<p>Specific roles the variable plays within the formula. These are
of particular importance, as they serve as special terms that can effect
how a formula is interpreted. Please see the <em>Roles</em> section below for
further details. The options for roles are as below:
</p>

<ul>
<li><p> outcome
</p>
</li>
<li><p> exposure
</p>
</li>
<li><p> predictor
</p>
</li>
<li><p> confounder
</p>
</li>
<li><p> mediator
</p>
</li>
<li><p> interaction
</p>
</li>
<li><p> strata
</p>
</li>
<li><p> group
</p>
</li>
<li><p> unknown
</p>
</li></ul>
</td></tr>
<tr><td><code id="tm_+3A_side">side</code></td>
<td>
<p>Which side of a formula should the term be on. Options are
<code>c("left", "right", "meta", "unknown")</code>. The <em>meta</em> option refers to a term
that may apply globally to other terms.</p>
</td></tr>
<tr><td><code id="tm_+3A_label">label</code></td>
<td>
<p>Display-quality label describing the variable</p>
</td></tr>
<tr><td><code id="tm_+3A_group">group</code></td>
<td>
<p>Grouping variable name for modeling or placing terms together.
An integer value is given to identify which group the term will be in. The
hierarchy will be <code>1</code> to <code>n</code> incrementally.</p>
</td></tr>
<tr><td><code id="tm_+3A_type">type</code></td>
<td>
<p>Type of variable, either categorical (qualitative) or
continuous (quantitative)</p>
</td></tr>
<tr><td><code id="tm_+3A_distribution">distribution</code></td>
<td>
<p>How the variable itself is more specifically
subcategorized, e.g. ordinal, continuous, dichotomous, etc</p>
</td></tr>
<tr><td><code id="tm_+3A_description">description</code></td>
<td>
<p>Option for further descriptions or definitions needed for
the tm, potentially part of a data dictionary</p>
</td></tr>
<tr><td><code id="tm_+3A_transformation">transformation</code></td>
<td>
<p>Modification of the term to be applied when
combining with data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A vectorized term object that allows for additional information to be carried
with the variable name.
</p>
<p>This is not meant to replace traditional <code><a href="stats.html#topic+terms">stats::terms()</a></code>, but to supplement
it using additional information that is more informative for causal modeling.
</p>


<h3>Value</h3>

<p>A <code>tm</code> object, which is a series of individual terms with
corresponding attributes, including the role, formula side, label,
grouping, and other related features.
</p>


<h3>Roles</h3>

<p>Specific roles the variable plays within the formula. These are of particular
importance, as they serve as special terms that can effect how a formula is
interpreted.</p>

<table>
<tr>
 <td style="text-align: left;">
   Role </td><td style="text-align: left;"> Shortcut </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
   outcome </td><td style="text-align: left;"> <code>.o(...)</code> </td><td style="text-align: left;"> <strong>outcome</strong> ~ exposure </td>
</tr>
<tr>
 <td style="text-align: left;">
   exposure </td><td style="text-align: left;"> <code>.x(...)</code> </td><td style="text-align: left;"> outcome ~ <strong>exposure</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   predictor </td><td style="text-align: left;"> <code>.p(...)</code> </td><td style="text-align: left;"> outcome ~ exposure + <strong>predictor</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   confounder </td><td style="text-align: left;"> <code>.c(...)</code> </td><td style="text-align: left;"> outcome + exposure ~ <strong>confounder</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   mediator </td><td style="text-align: left;"> <code>.m(...)</code> </td><td style="text-align: left;"> outcome <strong>mediator</strong> exposure </td>
</tr>
<tr>
 <td style="text-align: left;">
   interaction </td><td style="text-align: left;"> <code>.i(...)</code> </td><td style="text-align: left;"> outcome ~ exposure * <strong>interaction</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   strata </td><td style="text-align: left;"> <code>.s(...)</code> </td><td style="text-align: left;"> outcome ~ exposure / <strong>strata</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   group </td><td style="text-align: left;"> <code>.g(...)</code> </td><td style="text-align: left;"> outcome ~ exposure + <strong>group</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <em>unknown</em> </td><td style="text-align: left;"> <code>-</code> </td><td style="text-align: left;"> not yet assigned </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Formulas can be condensed by applying their specific role to individual runes
as a function/wrapper. For example, <code>y ~ .x(x1) + x2 + x3</code>. This would
signify that <code>x1</code> has the specific role of an <em>exposure</em>.
</p>
<p>Grouped variables are slightly different in that they are placed together in
a hierarchy or tier. To indicate the group and the tier, the shortcut can
have an <code>integer</code> following the <code>.g</code>. If no number is given, then it is
assumed they are all on the same tier. Ex: <code>y ~ x1 + .g1(x2) + .g1(x3)</code>
</p>
<p><strong>Warning</strong>: Only a single shortcut can be applied to a variable within a
formula directly.
</p>


<h3>Pluralized Labeling Arguments</h3>

<p>For a single argument, e.g. for the <code>tm.formula()</code> method, such as to
identify variable <strong>X</strong> as an exposure, a <code>formula</code> should be given with the
term of interest on the <em>LHS</em>, and the description or instruction on the
<em>RHS</em>. This would look like <code>role = "exposure" ~ X</code>.
</p>
<p>For the arguments that would be dispatched for objects that are plural, e.g.
containing multiple terms, each <code>formula()</code> should be placed within a
<code>list()</code>. For example, the <strong>role</strong> argument would be written:
</p>
<p><code>role = list(X ~ "exposure", M ~ "mediator", C ~ "confounder")</code>
</p>
<p>Further implementation details can be seen in the implementation of
<code><a href="#topic+labeled_formulas_to_named_list">labeled_formulas_to_named_list()</a></code>.
</p>

<hr>
<h2 id='update.tm'>Update <code>tm</code> objects</h2><span id='topic+update.tm'></span>

<h3>Description</h3>

<p>This updates properties or attributes of a <code>tm</code> vector. This only updates
objects that already exist.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tm'
update(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update.tm_+3A_object">object</code></td>
<td>
<p>A <code>tm</code> object</p>
</td></tr>
<tr><td><code id="update.tm_+3A_...">...</code></td>
<td>
<p>A series of <code>field = term ~ value</code> pairs that represent the
attribute to be updated. Can have a value of <code>NA</code> if the goal is to
remove an attribute or property.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tm</code> object with updated attributes
</p>

<hr>
<h2 id='validate_model_table'>Model table object validation</h2><span id='topic+validate_model_table'></span>

<h3>Description</h3>

<p>Model table object validation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_model_table(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_model_table_+3A_x">x</code></td>
<td>
<p>data frame that will have invariants checked</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

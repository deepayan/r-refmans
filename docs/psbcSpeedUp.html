<!DOCTYPE html><html><head><title>Help for package psbcSpeedUp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {psbcSpeedUp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#psbcSpeedUp'><p>Function to Fit the Bayesian Cox Lasso Model</p></a></li>
<li><a href='#coef.psbcSpeedUp'><p>coef method for class <code>psbcSpeedUp</code></p></a></li>
<li><a href='#exampleData'><p>Simulated data set</p></a></li>
<li><a href='#plot.psbcSpeedUp'><p>create a plot of estimated coefficients</p></a></li>
<li><a href='#plotBrier'><p>Time-dependent Brier scores</p></a></li>
<li><a href='#predict.psbcSpeedUp'><p>Predict survival risk</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Penalized Semiparametric Bayesian Cox Models</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.7</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-07-01</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ocbe-uio/psbcSpeedUp">https://github.com/ocbe-uio/psbcSpeedUp</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ocbe-uio/psbcSpeedUp/issues">https://github.com/ocbe-uio/psbcSpeedUp/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Algorithms to speed up the Bayesian Lasso Cox model (Lee et al., Int J Biostat, 2011 &lt;<a href="https://doi.org/10.2202%2F1557-4679.1301">doi:10.2202/1557-4679.1301</a>&gt;) and the Bayesian Lasso Cox with mandatory variables (Zucknick et al. Biometrical J, 2015 &lt;<a href="https://doi.org/10.1002%2Fbimj.201400160">doi:10.1002/bimj.201400160</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Copyright:</td>
<td>The C++ files pugixml.cpp, pugixml.h and pugiconfig.h are
with Copyright (C) 2006-2018 Arseny Kapoulkine and Copyright
(C) 2003 Kristen Wegner.</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo (&ge; 0.9.000)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, xml2, ggplot2, GGally, MASS, survival, riskRegression,
utils, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-01 08:43:13 UTC; zhiz</td>
</tr>
<tr>
<td>Author:</td>
<td>Zhi Zhao [aut, cre],
  Manuela Zucknick [aut],
  Maral Saadati [aut],
  Axel Benner [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zhi Zhao &lt;zhi.zhao@medisin.uio.no&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-01 09:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='psbcSpeedUp'>Function to Fit the Bayesian Cox Lasso Model</h2><span id='topic+psbcSpeedUp'></span><span id='topic+psbcSpeedUp-package'></span>

<h3>Description</h3>

<p>This a speed-up and extended version of the function <code>psbcGL()</code> in the R package <code>psbcGrouup</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psbcSpeedUp(
  survObj = NULL,
  p = 0,
  q = 0,
  hyperpar = list(),
  nIter = 1,
  burnin = 0,
  thin = 1,
  rw = FALSE,
  outFilePath,
  tmpFolder = "tmp/"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="psbcSpeedUp_+3A_survobj">survObj</code></td>
<td>
<p>a list containing observed data from <code>n</code> subjects;
<code>t</code>, <code>di</code>, <code>x</code>. See details for more information</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_p">p</code></td>
<td>
<p>number of covariates for variable selection</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_q">q</code></td>
<td>
<p>number of mandatory covariates</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_hyperpar">hyperpar</code></td>
<td>
<p>a list containing prior parameter values; among
<code>c('groupInd', 'beta.ini', 'eta0', 'kappa0', 'c0', 'r', 'delta',
'lambdaSq', 'sigmaSq', 'tauSq', 's', 'h', 'beta.prop.var',
'beta.clin.var')</code>. See details for more information</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_niter">nIter</code></td>
<td>
<p>the number of iterations of the chain</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_burnin">burnin</code></td>
<td>
<p>number of iterations to discard at the start of the chain.
Default is 0</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_thin">thin</code></td>
<td>
<p>thinning MCMC intermediate results to be stored</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_rw">rw</code></td>
<td>
<p>when setting to &quot;TRUE&quot;, the conventional random walk Metropolis
Hastings algorithm is used. Otherwise, the mean and the variance of the
proposal density is updated using the jumping rule described in
Lee et al. (2011)</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_outfilepath">outFilePath</code></td>
<td>
<p>path to where the output files are to be written</p>
</td></tr>
<tr><td><code id="psbcSpeedUp_+3A_tmpfolder">tmpFolder</code></td>
<td>
<p>the path to a temporary folder where intermediate data
files are stored (will be erased at the end of the chain). It is specified
relative to <code>outFilePath</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>psbcSpeedUp
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>t</code> </td><td style="text-align: left;"> a vector of <code>n</code> times to the event </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>di</code> </td><td style="text-align: left;"> a vector of <code>n</code> censoring indicators for the event time (1=event occurred, 0=censored) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>x</code> </td><td style="text-align: left;"> covariate matrix, <code>n</code> observations by <code>p</code> variables</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>groupInd</code> </td><td style="text-align: left;"> a vector of <code>p</code> group indicator for each variable</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>beta.ini</code> </td><td style="text-align: left;"> the starting values for coefficients <code class="reqn">\beta</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>eta0</code> </td><td style="text-align: left;"> scale parameter of gamma process prior for the cumulative baseline hazard, <code class="reqn">\eta_0 &gt; 0</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>kappa0</code> </td><td style="text-align: left;"> shape parameter of gamma process prior for the cumulative baseline hazard, <code class="reqn">\kappa_0 &gt; 0</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>c0</code> </td><td style="text-align: left;"> the confidence parameter of gamma process prior for the cumulative baseline hazard, <code class="reqn">c_0 &gt; 0</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>r</code> </td><td style="text-align: left;"> the shape parameter of the gamma prior for <code class="reqn">\lambda^2</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>delta</code> </td><td style="text-align: left;"> the rate parameter of the gamma prior for <code class="reqn">\lambda^2</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>lambdaSq</code> </td><td style="text-align: left;"> the starting value for <code class="reqn">\lambda^2</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>sigmaSq</code> </td><td style="text-align: left;"> the starting value for <code class="reqn">\sigma^2</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>tauSq</code> </td><td style="text-align: left;"> the starting values for <code class="reqn">\tau^2</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>s</code> </td><td style="text-align: left;"> the set of time partitions for specification of the cumulative baseline hazard function</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>h</code> </td><td style="text-align: left;"> the starting values for <code class="reqn">h</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>beta.prop.var</code> </td><td style="text-align: left;"> the variance of the proposal density for <code class="reqn">\beta</code> in a random walk M-H sampler</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>beta.clin.var</code> </td><td style="text-align: left;"> the starting value for the variance of <code class="reqn">\beta</code></td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>An object of class <code>psbcSpeedUp</code> is saved as
<code>obj_psbcSpeedUp.rda</code> in the output file, including the following components:
</p>

<ul>
<li><p> input - a list of all input parameters by the user
</p>
</li>
<li><p> output - a list of the all output estimates:
</p>

<ul>
<li><p> &quot;<code>beta.p</code>&quot; - a matrix with MCMC intermediate estimates of the regression coefficients.
</p>
</li>
<li><p> &quot;<code>h.p</code>&quot; - a matrix with MCMC intermediate estimates of the increments in the cumulative baseline hazard in each interval.
</p>
</li>
<li><p> &quot;<code>tauSq.p</code>&quot; - a vector MCMC intermediate estimates of the hyperparameter &quot;tauSq&quot;.
</p>
</li>
<li><p> &quot;<code>sigmaSq.p</code>&quot; - a vector MCMC intermediate estimates of the hyperparameter &quot;sigmaSq&quot;.
</p>
</li>
<li><p> &quot;<code>lambdaSq.p</code>&quot; - a vector MCMC intermediate estimates of the hyperparameter &quot;lambdaSq&quot;.
</p>
</li>
<li><p> &quot;<code>accept.rate</code>&quot; - a vector acceptance rates of individual regression coefficients.
</p>
</li></ul>

</li>
<li><p> call - the matched call.
</p>
</li></ul>



<h3>References</h3>

<p>Lee KH, Chakraborty S, and Sun J (2011). Bayesian Variable
Selection in Semiparametric Proportional Hazards Model for High Dimensional
Survival Data. <em>The International Journal of Biostatistics</em>, 7(1):1-32.
</p>
<p>Zucknick M, Saadati M, and Benner A (2015). Nonidentical twins:
Comparison of frequentist and Bayesian lasso for Cox models.
<em>Biometrical Journal</em>, 57(6):959â€“81.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load the example dataset
data("exampleData", package = "psbcSpeedUp")
p &lt;- exampleData$p
q &lt;- exampleData$q
survObj &lt;- exampleData[1:3]

# Set hyperparameters
mypriorPara &lt;- list(
  "groupInd" = 1:p, "eta0" = 0.02, "kappa0" = 1, "c0" = 2, "r" = 10 / 9,
  "delta" = 1e-05, "lambdaSq" = 1, "sigmaSq" = runif(1, 0.1, 10),
  "beta.prop.var" = 1, "beta.clin.var" = 1
)


# run Bayesian Lasso Cox
library("psbcSpeedUp")
set.seed(123)
fitBayesCox &lt;- psbcSpeedUp(survObj,
  p = p, q = q, hyperpar = mypriorPara,
  nIter = 10, burnin = 0, outFilePath = tempdir()
)
plot(fitBayesCox, color = "blue")


</code></pre>

<hr>
<h2 id='coef.psbcSpeedUp'>coef method for class <code>psbcSpeedUp</code></h2><span id='topic+coef.psbcSpeedUp'></span>

<h3>Description</h3>

<p>Extract the point estimates of the regression coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'psbcSpeedUp'
coef(object, type = "mean", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.psbcSpeedUp_+3A_object">object</code></td>
<td>
<p>an object of class <code>psbcSpeedUp</code></p>
</td></tr>
<tr><td><code id="coef.psbcSpeedUp_+3A_type">type</code></td>
<td>
<p>type of point estimates of regressions. One of
<code>c("mean", "median")</code>. Default is <code>mean</code></p>
</td></tr>
<tr><td><code id="coef.psbcSpeedUp_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Estimated coefficients are from an object of class <code>psbcSpeedUp</code>.
If the <code>psbcSpeedUp</code> specified data standardization, the fitted values
are base based on standardized data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load the example dataset
data("exampleData", package = "psbcSpeedUp")
p &lt;- exampleData$p
q &lt;- exampleData$q
survObj &lt;- exampleData[1:3]

# Set hyperparameters
mypriorPara &lt;- list(
  "groupInd" = 1:p, "eta0" = 0.02, "kappa0" = 1, "c0" = 2, "r" = 10 / 9,
  "delta" = 1e-05, "lambdaSq" = 1, "sigmaSq" = runif(1, 0.1, 10),
  "beta.prop.var" = 1, "beta.clin.var" = 1
)


# run Bayesian Lasso Cox
library("psbcSpeedUp")
set.seed(123)
fitBayesCox &lt;- psbcSpeedUp(survObj,
  p = p, q = q, hyperpar = mypriorPara,
  nIter = 10, burnin = 0, outFilePath = tempdir()
)
coef(fitBayesCox)


</code></pre>

<hr>
<h2 id='exampleData'>Simulated data set</h2><span id='topic+exampleData'></span>

<h3>Description</h3>

<p>Simulated data set for a quick test. The data set is a list with six
components: survival times <code>"t"</code>, event status <code>"di"</code>, covariates
<code>"x"</code>, number of genomics variables <code>"p"</code>, number of clinical
variables <code>"1"</code> and true effects of covariates <code>"beta_true"</code>.
The R code for generating the simulated data is given in the Examples
paragraph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleData
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 6.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example dataset
data("exampleData", package = "psbcSpeedUp")
str(exampleData)

# ===============
# The code below is to show how to generate the dataset "exampleData.rda"
# ===============

requireNamespace("MASS", quietly = TRUE)

########################### Predefined Functions

Expo &lt;- function(times, surv) {
  z1 &lt;- -log(surv[1])
  t1 &lt;- times[1]
  lambda &lt;- z1 / (t1)
  list(rate = lambda)
}

Weibull &lt;- function(times, surv) {
  z1 &lt;- -log(surv[1])
  z2 &lt;- -log(surv[2])
  t1 &lt;- times[1]
  t2 &lt;- times[2]
  gamma &lt;- log(z2 / z1) / log(t2 / t1)
  lambda &lt;- z1 / (t1^gamma)
  list(scale = lambda, shape = gamma)
}

########################### Problem Dimensions
n &lt;- 200
p &lt;- 30
q &lt;- 5
s &lt;- 10

############################ Simulate a set of n x p covariates

# effects
bg &lt;- c(0.75, -0.75, 0.5, -0.5, 0.25, -0.25, rep(0, p - 6))
bc &lt;- c(-1.0, 1.0, 0.3, 0, -0.3)
bX &lt;- c(bg, bc)

# covariates
# genomic
means &lt;- rep(0, p)
Sigma &lt;- diag(1, p)
Xg &lt;- MASS::mvrnorm(n, means, Sigma)
# clinical
x1 &lt;- rbinom(n = n, size = 1, prob = 0.7)
x2 &lt;- rbinom(n = n, size = 1, prob = 0.3)
x3 &lt;- rnorm(n = n, mean = 0, sd = 1)
x4 &lt;- rnorm(n = n, mean = 0, sd = 1)
x5 &lt;- rnorm(n = n, mean = 0, sd = 1)
Xc &lt;- cbind(x1, x2, x3, x4, x5)
# all
X &lt;- data.frame(Xg, Xc)
names(X) &lt;- c(paste("G", 1:p, sep = ""), paste("C", 1:q, sep = ""))
X &lt;- scale(X)

# censoring function
# - follow-up time 36 to 72 months
# - administrative censoring: uniform data entry (cens1)
# - loss to follow-up: exponential, 20% loss in 72 months (cens2)
ACT &lt;- 36
FUT &lt;- 72
cens.start &lt;- FUT
cens.end &lt;- ACT + FUT
cens1 &lt;- runif(n, cens.start, cens.end)
loss &lt;- Expo(times = 72, surv = 0.8)
cens2 &lt;- rexp(n, rate = loss$rate)
cens &lt;- pmin(cens1, cens2)

# survival distribution (Weibull, survival probs 0.5 and 0.9 at 12 and 36 months)
h0 &lt;- round(log(2) / 36, 2)
surv &lt;- Weibull(times = c(12, 36), surv = c(0.9, 0.5))

dt &lt;- (-log(runif(n)) * (1 / surv$scale) * exp(-as.matrix(X) %*% bX))^(1 / surv$shape)

# survival object
status &lt;- ifelse(dt &lt;= cens, 1, 0)
os &lt;- pmin(dt, cens)

exampleData &lt;- list("t" = os, "di" = status, "x" = X, "beta_true" = bX)

</code></pre>

<hr>
<h2 id='plot.psbcSpeedUp'>create a plot of estimated coefficients</h2><span id='topic+plot.psbcSpeedUp'></span>

<h3>Description</h3>

<p>Plot point estimates of regression coefficients and 95% credible intervals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'psbcSpeedUp'
plot(x, type = "mean", interval = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.psbcSpeedUp_+3A_x">x</code></td>
<td>
<p>an object of class <code>psbcSpeedUp</code> or a matrix. If <code>x</code>
is a matrix, use <code>psbcSpeedUp:::plot.psbcSpeedUp(x)</code></p>
</td></tr>
<tr><td><code id="plot.psbcSpeedUp_+3A_type">type</code></td>
<td>
<p>type of point estimates of regression coefficients. One of
<code>c("mean", "median")</code>. Default is <code>mean</code></p>
</td></tr>
<tr><td><code id="plot.psbcSpeedUp_+3A_interval">interval</code></td>
<td>
<p>logical argument to show 95% credible intervals. Default
is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="plot.psbcSpeedUp_+3A_...">...</code></td>
<td>
<p>additional arguments sent to <code>ggplot2::geom_point()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load the example dataset
data("exampleData", package = "psbcSpeedUp")
p &lt;- exampleData$p
q &lt;- exampleData$q
survObj &lt;- exampleData[1:3]

# Set hyperparameters
mypriorPara &lt;- list(
  "groupInd" = 1:p, "eta0" = 0.02, "kappa0" = 1, "c0" = 2, "r" = 10 / 9,
  "delta" = 1e-05, "lambdaSq" = 1, "sigmaSq" = runif(1, 0.1, 10),
  "beta.prop.var" = 1, "beta.clin.var" = 1
)


# run Bayesian Lasso Cox
library("psbcSpeedUp")
set.seed(123)
fitBayesCox &lt;- psbcSpeedUp(survObj,
  p = p, q = q, hyperpar = mypriorPara,
  nIter = 10, burnin = 0, outFilePath = tempdir()
)
plot(fitBayesCox, color = "blue")


</code></pre>

<hr>
<h2 id='plotBrier'>Time-dependent Brier scores</h2><span id='topic+plotBrier'></span>

<h3>Description</h3>

<p>Predict time-dependent Brier scores based on Cox regression models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotBrier(object, survObj.new = NULL, method = "mean", times = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotBrier_+3A_object">object</code></td>
<td>
<p>fitted object obtained with <code>psbcSpeedUp</code></p>
</td></tr>
<tr><td><code id="plotBrier_+3A_survobj.new">survObj.new</code></td>
<td>
<p>a list containing observed data from new subjects with
components <code>t</code>, <code>di</code>, <code>x</code>. If <code>NULL</code>, the prediction is
based on the training data</p>
</td></tr>
<tr><td><code id="plotBrier_+3A_method">method</code></td>
<td>
<p>option to use the posterior mean (<code>"mean"</code>) of coefficients
for prediction or Bayesian model averaging (<code>"BMA"</code>) for prediction</p>
</td></tr>
<tr><td><code id="plotBrier_+3A_times">times</code></td>
<td>
<p>maximum time point to evaluate the prediction</p>
</td></tr>
<tr><td><code id="plotBrier_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>psbcSpeedUp
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load the example dataset
data("exampleData", package = "psbcSpeedUp")
p &lt;- exampleData$p
q &lt;- exampleData$q
survObj &lt;- exampleData[1:3]

# Set hyperparameters
mypriorPara &lt;- list(
  "groupInd" = 1:p, "eta0" = 0.02, "kappa0" = 1, "c0" = 2, "r" = 10 / 9,
  "delta" = 1e-05, "lambdaSq" = 1, "sigmaSq" = runif(1, 0.1, 10),
  "beta.prop.var" = 1, "beta.clin.var" = 1)


# run Bayesian Lasso Cox
library("psbcSpeedUp")
set.seed(123)
fitBayesCox &lt;- psbcSpeedUp(survObj,
  p = p, q = q, hyperpar = mypriorPara,
  nIter = 10, burnin = 0, outFilePath = tempdir()
)
# predict survival probabilities of the train data
plotBrier(fitBayesCox, times = 80)


</code></pre>

<hr>
<h2 id='predict.psbcSpeedUp'>Predict survival risk</h2><span id='topic+predict.psbcSpeedUp'></span>

<h3>Description</h3>

<p>Predict survival probability, (cumulative) hazard or (integrated) Brier scores based on Cox regression models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'psbcSpeedUp'
predict(
  object,
  survObj.new = NULL,
  type = "brier",
  method = "mean",
  times = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.psbcSpeedUp_+3A_object">object</code></td>
<td>
<p>fitted object obtained with <code>psbcSpeedUp</code></p>
</td></tr>
<tr><td><code id="predict.psbcSpeedUp_+3A_survobj.new">survObj.new</code></td>
<td>
<p>a list containing observed data from new subjects with
components <code>t</code>, <code>di</code>, <code>x</code>. If <code>NULL</code>, the prediction is
based on the training data. If <code>type</code> is among
<code>c("hazard", "cumhazard", "survival")</code>, only <code>survObj.new$x</code> is needed</p>
</td></tr>
<tr><td><code id="predict.psbcSpeedUp_+3A_type">type</code></td>
<td>
<p>option to chose for predicting survival probabilities (one of
<code>c('hazard','cumhazard','survival')</code>) or brier scores (<code>type="brier"</code>)</p>
</td></tr>
<tr><td><code id="predict.psbcSpeedUp_+3A_method">method</code></td>
<td>
<p>option to use the posterior mean (<code>"mean"</code>) of coefficients
for prediction or Bayesian model averaging (<code>"BMA"</code>) for prediction</p>
</td></tr>
<tr><td><code id="predict.psbcSpeedUp_+3A_times">times</code></td>
<td>
<p>time points at which to evaluate the risks. If <code>NULL</code>
(default), the event/censoring times are used. If <code>type="brier"</code>, the
largest one of the <code>times</code> is used</p>
</td></tr>
<tr><td><code id="predict.psbcSpeedUp_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>psbcSpeedUp
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load the example dataset
data("exampleData", package = "psbcSpeedUp")
p &lt;- exampleData$p
q &lt;- exampleData$q
survObj &lt;- exampleData[1:3]

# Set hyperparameters
mypriorPara &lt;- list(
  "groupInd" = 1:p, "eta0" = 0.02, "kappa0" = 1, "c0" = 2, "r" = 10 / 9,
  "delta" = 1e-05, "lambdaSq" = 1, "sigmaSq" = runif(1, 0.1, 10),
  "beta.prop.var" = 1, "beta.clin.var" = 1)


# run Bayesian Lasso Cox
library("psbcSpeedUp")
library("survival")
set.seed(123)
fitBayesCox &lt;- psbcSpeedUp(survObj,
  p = p, q = q, hyperpar = mypriorPara,
  nIter = 10, burnin = 0, outFilePath = tempdir()
)
# predict survival probabilities of the train data
predict(fitBayesCox)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package BAwiR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BAwiR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BAwiR-package'>
<p>Analysis of Basketball Data</p></a></li>
<li><a href='#acb_games_1718'>
<p>ACB games 2017-2018</p></a></li>
<li><a href='#acb_games_2223_coach'>
<p>ACB coaches in the 2022-2023 season.</p></a></li>
<li><a href='#acb_games_2223_info'>
<p>ACB games 2022-2023, days and codes.</p></a></li>
<li><a href='#acb_players_1718'>
<p>ACB players 2017-2018</p></a></li>
<li><a href='#acb_shields'>
<p>Shields of the ACB teams</p></a></li>
<li><a href='#acb_vbc_cz_pbp_2223'>
<p>ACB play-by-play data, 2022-2023, Valencia Basket-Casademont Zaragoza</p></a></li>
<li><a href='#acb_vbc_cz_sl_2223'>
<p>ACB starting lineups, 2022-2023, Valencia Basket-Casademont Zaragoza</p></a></li>
<li><a href='#capit_two_words'><p>Capitalize two-word strings</p></a></li>
<li><a href='#do_add_adv_stats'><p>Advanced statistics</p></a></li>
<li><a href='#do_clutch_time'><p>Get games with clutch time</p></a></li>
<li><a href='#do_EPS'><p>Efficient Points Scored (EPS)</p></a></li>
<li><a href='#do_four_factors_df'><p>Four factors data frame</p></a></li>
<li><a href='#do_ft_fouls'><p>Compute free throw fouls</p></a></li>
<li><a href='#do_join_games_bio'><p>Join games and players' info</p></a></li>
<li><a href='#do_lineup'><p>Compute ACB lineups</p></a></li>
<li><a href='#do_map_nats'><p>Data frame for the nationalities map</p></a></li>
<li><a href='#do_OE'><p>Offensive Efficiency (OE)</p></a></li>
<li><a href='#do_offensive_fouls'><p>Compute offensive fouls</p></a></li>
<li><a href='#do_possession'><p>Compute when possessions start</p></a></li>
<li><a href='#do_prepare_data'><p>Prepare ACB play-by-play data</p></a></li>
<li><a href='#do_prepare_data_or'><p>Prepare data for the offensive rebounds computation</p></a></li>
<li><a href='#do_prepare_data_to'><p>Prepare data for the timeouts computation</p></a></li>
<li><a href='#do_process_acb_pbp'><p>Processing of the ACB website play-by-play data</p></a></li>
<li><a href='#do_reb_off_success'><p>Check if scoring after offensive rebounds</p></a></li>
<li><a href='#do_scraping_games'><p>Player game finder data</p></a></li>
<li><a href='#do_scraping_rosters'><p>Players profile data</p></a></li>
<li><a href='#do_stats'><p>Accumulated or average statistics</p></a></li>
<li><a href='#do_stats_per_period'><p>Compute stats per period</p></a></li>
<li><a href='#do_stats_teams'><p>Accumulated and average statistics for teams</p></a></li>
<li><a href='#do_sub_lineup'><p>Compute ACB sub-lineups</p></a></li>
<li><a href='#do_time_out_success'><p>Check if timeouts resulted in scoring</p></a></li>
<li><a href='#eurocup_games_1718'>
<p>Eurocup games 2017-2018</p></a></li>
<li><a href='#eurocup_players_1718'>
<p>Eurocup players 2017-2018</p></a></li>
<li><a href='#euroleague_games_1718'>
<p>Euroleague games 2017-2018</p></a></li>
<li><a href='#euroleague_players_1718'>
<p>Euroleague players 2017-2018</p></a></li>
<li><a href='#get_barplot_monthly_stats'><p>Barplots with monthly stats</p></a></li>
<li><a href='#get_bubble_plot'><p>Basketball bubble plot</p></a></li>
<li><a href='#get_four_factors_plot'><p>Four factors plot</p></a></li>
<li><a href='#get_games_rosters'><p>Get all games and rosters</p></a></li>
<li><a href='#get_heatmap_bb'><p>Basketball heatmap</p></a></li>
<li><a href='#get_map_nats'><p>Nationalities map</p></a></li>
<li><a href='#get_pop_pyramid'><p>Population pyramid</p></a></li>
<li><a href='#get_shooting_plot'><p>Shooting plot</p></a></li>
<li><a href='#get_similar_players'><p>Similar players to archetypoids</p></a></li>
<li><a href='#get_similar_teams'><p>Similar teams to archetypoids</p></a></li>
<li><a href='#get_stats_seasons'><p>Season-by-season stats</p></a></li>
<li><a href='#get_table_results'><p>League cross table</p></a></li>
<li><a href='#join_players_bio_age_acb'><p>Join ACB games and players' info</p></a></li>
<li><a href='#join_players_bio_age_euro'><p>Join Euroleague and Eurocup games and players' info</p></a></li>
<li><a href='#scraping_games_acb'><p>ACB player game finder data</p></a></li>
<li><a href='#scraping_games_acb_old'><p>Old ACB player game finder data</p></a></li>
<li><a href='#scraping_games_euro'><p>Euroleague and Eurocup player game finder data</p></a></li>
<li><a href='#scraping_rosters_acb'><p>ACB players' profile</p></a></li>
<li><a href='#scraping_rosters_euro'><p>Euroleague and Eurocup players' profile</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analysis of Basketball Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-09</td>
</tr>
<tr>
<td>Author:</td>
<td>Guillermo Vinue</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Guillermo Vinue &lt;Guillermo.Vinue@uv.es&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Collection of tools to work with European basketball data. Functions available are related to friendly 
	web scraping, data management and visualization. Data were obtained from <a href="https://www.euroleaguebasketball.net/euroleague/">https://www.euroleaguebasketball.net/euroleague/</a>, 
	<a href="https://www.euroleaguebasketball.net/eurocup/">https://www.euroleaguebasketball.net/eurocup/</a> and <a href="https://www.acb.com/">https://www.acb.com/</a>, following the instructions 
        of their respectives robots.txt files, when available. Box score data are available for the three leagues. 
	Play-by-play data are also available for the Spanish league. Methods for analysis include a population pyramid, 
	2D plots, circular plots of players' percentiles, plots of players' monthly/yearly stats, team heatmaps, 
	team shooting plots, team four factors plots, cross-tables with the results of regular season games,
	maps of nationalities, combinations of lineups, possessions-related variables, timeouts,
	performance by periods, personal fouls and offensive rebounds. 
	Please see Vinue (2020) &lt;<a href="https://doi.org/10.1089%2Fbig.2018.0124">doi:10.1089/big.2018.0124</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.uv.es/vivigui/basketball_platform.html">https://www.uv.es/vivigui/basketball_platform.html</a>,
<a href="https://www.uv.es/vivigui/">https://www.uv.es/vivigui/</a>, <a href="https://www.R-project.org">https://www.R-project.org</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Anthropometry, plyr, dplyr, ggplot2, grid, httr, lubridate,
magrittr, purrr, qdapRegex, readr, reshape2, rvest, rworldmap,
scales, stringi, stringr, tibble, tidyr, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, markdown, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-09 12:08:24 UTC; guillevinue</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-09 13:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='BAwiR-package'>
Analysis of Basketball Data
</h2><span id='topic+BAwiR-package'></span>

<h3>Description</h3>

<p>Collection of tools to work with European basketball data. Functions available are related to friendly 
web scraping, data management and visualization. Data were obtained from 
&lt;https://www.euroleaguebasketball.net/euroleague/&gt;, 
&lt;https://www.euroleaguebasketball.net/eurocup/&gt; and &lt;https://www.acb.com/&gt;, following the instructions 
of their respectives robots.txt files, when available. Box score data are available for the three leagues. 
Play-by-play data are also available for the Spanish league. Methods for analysis include a population pyramid, 
2D plots, circular plots of players' percentiles, plots of players' monthly/yearly stats, team heatmaps, 
team shooting plots, team four factors plots, cross-tables with the results of regular season games,
maps of nationalities, combinations of lineups, possessions-related variables, timeouts, performance by periods, personal fouls and offensive rebounds. 
Please see Vinue (2020) &lt;doi:10.1089/big.2018.0124&gt;.    
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: BAwiR</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: 1.3.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: 2024-01-09</td>
</tr>
<tr>
 <td style="text-align: left;">
License: GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: yes</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyData: yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>acb_games_1718: ACB games 2017-2018.<br />
acb_games_2223_coach: ACB coaches in the 2022-2023 season.<br />
acb_games_2223_info: ACB games 2022-2023, days and codes.<br />
acb_players_1718: ACB players 2017-2018.<br />
acb_shields: Shields of the ACB teams.<br />
acb_vbc_cz_pbp_2223: ACB play-by-play data, 2022-2023, Valencia Basket-Casademont Zaragoza.<br />
acb_vbc_cz_sl_2223: ACB starting lineups, 2022-2023, Valencia Basket-Casademont Zaragoza.<br />
capit_two_words: Capitalize two-word strings.<br />
do_add_adv_stats:	Advanced statistics.<br />
do_clutch_time: Get games with clutch time.<br />
do_EPS: Efficient Points Scored (EPS). <br />
do_four_factors_df:	Four factors data frame.<br />
do_ft_fouls: Compute free throw fouls.<br />
do_join_games_bio: Join games and players' info.<br />
do_lineup: Compute ACB lineups.<br />
do_map_nats: Data frame for the nationalities map.<br />
do_OE: Offensive Efficiency (OE). <br />
do_offensive_fouls: Compute offensive fouls.<br />
do_possession: Compute when possessions start.<br />
do_prepare_data: Prepare ACB play-by-play data.<br />
do_prepare_data_or: Prepare data for the offensive rebounds computation.<br />
do_prepare_data_to: Prepare data for the timeouts computation.<br />
do_process_acb_pbp: Processing of the ACB website play-by-play data.<br />
do_reb_off_success: Check if scoring after offensive rebounds.<br />
do_scraping_games: Player game finder data.<br />
do_scraping_rosters: Players profile data.<br />
do_stats: Accumulated or average statistics.<br />
do_stats_per_period: Compute stats per period.<br />
do_stats_teams: Accumulated and average statistics for teams.<br />
do_sub_lineup: Compute ACB sub-lineups.<br />
do_time_out_success: Check if timeouts resulted in scoring.<br />
eurocup_games_1718: Eurocup games 2017-2018.<br />
eurocup_players_1718:	Eurocup players 2017-2018.<br />
euroleague_games_1718: Euroleague games 2017-2018.<br />
euroleague_players_1718:	Euroleague players 2017-2018.<br />
get_barplot_monthly_stats: Barplots with monthly stats.<br />
get_bubble_plot: Basketball bubble plot.<br />
get_four_factors_plot: Four factors plot.<br />
get_games_rosters: Get all games and rosters.<br />
get_heatmap_bb: Basketball heatmap.<br />  
get_map_nats: Nationalities map.<br />
get_pop_pyramid: ACB population pyramid.<br />
get_shooting_plot: Shooting plot.<br />
get_similar_players: Similar players to archetypoids.<br />
get_similar_teams: Similar teams to archetypoids.<br />
get_stats_seasons: Season-by-season stats.<br />
get_table_results: League cross table.<br />
join_players_bio_age_acb: Join ACB games and players' info.<br />
join_players_bio_age_euro: Join Euroleague and Eurocup games and players' info.<br />
scraping_games_acb: ACB player game finder data.<br />
scraping_games_acb_old: Old ACB player game finder data.<br />
scraping_games_euro: Euroleague and Eurocup player game finder data.<br />
scraping_rosters_acb: ACB players' profile.<br />
scraping_rosters_euro: Euroleague and Eurocup players' profile.<br />
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue &lt;Guillermo.Vinue@uv.es&gt;, &lt;guillermovinue@gmail.com&gt;
</p>


<h3>References</h3>

<p>Vinue, G., (2020). A Web Application for Interactive Visualization of European Basketball Data, Big Data 8(1), 70-86. http://doi.org/10.1089/big.2018.0124, https://www.uv.es/vivigui/AppEuroACB.html
</p>

<hr>
<h2 id='acb_games_1718'>
ACB games 2017-2018
</h2><span id='topic+acb_games_1718'></span>

<h3>Description</h3>

<p>Games of the first seventeen days of the ACB 2017-2018 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acb_games_1718</code></pre>


<h3>Format</h3>

<p>Data frame with 3939 rows and 38 columns.</p>


<h3>Source</h3>

<p><a href="https://www.acb.com/">https://www.acb.com/</a></p>

<hr>
<h2 id='acb_games_2223_coach'>
ACB coaches in the 2022-2023 season.
</h2><span id='topic+acb_games_2223_coach'></span>

<h3>Description</h3>

<p>Coach for each team in all the games of the ACB 2022-2023 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acb_games_2223_coach</code></pre>


<h3>Format</h3>

<p>Data frame with 612 rows and 4 columns.</p>


<h3>Note</h3>

<p>The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Source</h3>

<p><a href="https://www.acb.com/">https://www.acb.com/</a></p>

<hr>
<h2 id='acb_games_2223_info'>
ACB games 2022-2023, days and codes.
</h2><span id='topic+acb_games_2223_info'></span>

<h3>Description</h3>

<p>Game codes, games and days from the ACB 2022-2023 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acb_games_2223_info</code></pre>


<h3>Format</h3>

<p>Data frame with 306 rows and 3 columns.</p>


<h3>Note</h3>

<p>The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Source</h3>

<p><a href="https://www.acb.com/">https://www.acb.com/</a></p>

<hr>
<h2 id='acb_players_1718'>
ACB players 2017-2018
</h2><span id='topic+acb_players_1718'></span>

<h3>Description</h3>

<p>Players corresponding to the games of the first seventeen 
days of the ACB 2017-2018 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acb_players_1718</code></pre>


<h3>Format</h3>

<p>Data frame with 255 rows and 7 columns.</p>


<h3>Source</h3>

<p><a href="https://www.acb.com/">https://www.acb.com/</a></p>

<hr>
<h2 id='acb_shields'>
Shields of the ACB teams
</h2><span id='topic+acb_shields'></span>

<h3>Description</h3>

<p>Links to the official shields of the ACB teams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acb_shields</code></pre>


<h3>Format</h3>

<p>Data frame with 20 rows and 2 columns.</p>


<h3>Source</h3>

<p><a href="https://www.acb.com/">https://www.acb.com/</a></p>

<hr>
<h2 id='acb_vbc_cz_pbp_2223'>
ACB play-by-play data, 2022-2023, Valencia Basket-Casademont Zaragoza
</h2><span id='topic+acb_vbc_cz_pbp_2223'></span>

<h3>Description</h3>

<p>Play-by-play data from the game Valencia Basket-Casademont Zaragoza 
from the ACB 2022-2023 season. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acb_vbc_cz_pbp_2223</code></pre>


<h3>Format</h3>

<p>Data frame with 466 rows and 9 columns.</p>


<h3>Note</h3>

<p>Actions are given in Spanish. A bilingual basketball vocabulary (Spanish/English)
is provided in <a href="https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx">https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx</a>.
The <strong>game_code</strong> column allows us to detect the source website, namely,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Source</h3>

<p><a href="https://www.acb.com/">https://www.acb.com/</a></p>

<hr>
<h2 id='acb_vbc_cz_sl_2223'>
ACB starting lineups, 2022-2023, Valencia Basket-Casademont Zaragoza
</h2><span id='topic+acb_vbc_cz_sl_2223'></span>

<h3>Description</h3>

<p>Starting lineups in each period from the game Valencia Basket-Casademont Zaragoza 
from the ACB 2022-2023 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acb_vbc_cz_sl_2223</code></pre>


<h3>Format</h3>

<p>Data frame with 40 rows and 9 columns.</p>


<h3>Note</h3>

<p>The <strong>action</strong> column refers to starting lineup (<em>Quinteto inicial</em>, in Spanish).
The initial score in each period does not really matter for the creation of this data set.
The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Source</h3>

<p><a href="https://www.acb.com/">https://www.acb.com/</a></p>

<hr>
<h2 id='capit_two_words'>Capitalize two-word strings</h2><span id='topic+capit_two_words'></span>

<h3>Description</h3>

<p>Ancillary function to capitalize the first letter of both words in a 
two-word string. This can be used for example to capitalize the teams 
names for the plots title.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>capit_two_words(two_word_string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="capit_two_words_+3A_two_word_string">two_word_string</code></td>
<td>
<p>Two-word string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector with the two words capitalized.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>capit_two_words("valencia basket")

</code></pre>

<hr>
<h2 id='do_add_adv_stats'>Advanced statistics</h2><span id='topic+do_add_adv_stats'></span>

<h3>Description</h3>

<p>This function adds to the whole data frame the advanced statistics 
for every player in every game.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_add_adv_stats(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_add_adv_stats_+3A_df">df</code></td>
<td>
<p>Data frame with the games and the players info.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The advanced statistics computed are as follows:
</p>

<ul>
<li><p> GameSc: Game Score.
</p>
</li>
<li><p> PIE: Player Impact Estimate.
</p>
</li>
<li><p> EFGPerc: Effective Field Goal Percentage.
</p>
</li>
<li><p> ThreeRate: Three points attempted regarding the total field goals attempted.
</p>
</li>
<li><p> FRate: Free Throws made regarding the total field goals attempted.
</p>
</li>
<li><p> STL_TOV: Steal to Turnover Ratio.
</p>
</li>
<li><p> AST_TOV: Assist to Turnover Ratio.
</p>
</li>
<li><p> PPS: Points Per Shot.
</p>
</li>
<li><p> OE: Offensive Efficiency.
</p>
</li>
<li><p> EPS: Efficient Points Scored. 
</p>
</li></ul>

<p>The detailed definition of some of these stats can be found at
<a href="https://www.basketball-reference.com/about/glossary.html">https://www.basketball-reference.com/about/glossary.html</a> and
<a href="https://www.nba.com/stats/help/glossary/">https://www.nba.com/stats/help/glossary/</a>.
</p>


<h3>Value</h3>

<p>Data frame.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_OE">do_OE</a></code>, <code><a href="#topic+do_EPS">do_EPS</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
          
</code></pre>

<hr>
<h2 id='do_clutch_time'>Get games with clutch time</h2><span id='topic+do_clutch_time'></span>

<h3>Description</h3>

<p>Obtain the games that have clutch time. The clutch time is the game situation when the 
scoring margin is within 5 points with five or fewer minutes remaining in a game.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_clutch_time(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_clutch_time_+3A_data">data</code></td>
<td>
<p>Source play-by-play data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame of the game that has clutch time.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df0 &lt;- do_clutch_time(acb_vbc_cz_pbp_2223)
#df0 # If no rows, that means that the game did not have clutch time.

</code></pre>

<hr>
<h2 id='do_EPS'>Efficient Points Scored (EPS)</h2><span id='topic+do_EPS'></span>

<h3>Description</h3>

<p>A limitation of <code><a href="#topic+do_OE">do_OE</a></code> is that it doesn't rely on the quantity
of the player's offense production, that's to say, whether the player 
provides a lot of offense or not. In addition, it does not give credit 
for free-throws. An extension of <code><a href="#topic+do_OE">do_OE</a></code> has been defined: 
the Efficient Points Scored (EPS), which is the result of the product of 
OE and points scored. Points scored counts free-throws, two-point and 
three-point field goals. A factor <em>F</em> is also added to put the adjusted 
total points on a points scored scale. With the factor <em>F</em>, the sum of the 
EPS scores for all players in a given season is equal to the sum of the 
league total points scored in that season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_EPS(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_EPS_+3A_df">df</code></td>
<td>
<p>Data frame with the games and the players info.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>EPS values.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>References</h3>

<p>Shea, S., Baker, C., (2013). Basketball Analytics: 
Objective and Efficient Strategies for Understanding 
How Teams Win. Lake St. Louis, MO: Advanced Metrics, LLC.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_OE">do_OE</a></code>, <code><a href="#topic+do_add_adv_stats">do_add_adv_stats</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
do_EPS(df1)[1]

</code></pre>

<hr>
<h2 id='do_four_factors_df'>Four factors data frame</h2><span id='topic+do_four_factors_df'></span>

<h3>Description</h3>

<p>This function computes team's offense and defense four factors.
The four factors are Effective Field Goal Percentage (EFGP), 
Turnover Percentage (TOVP), Offensive Rebound Percentage (ORBP) and
Free Throws Rate (FTRate). They are well defined at 
<a href="http://www.rawbw.com/~deano/articles/20040601_roboscout.htm">http://www.rawbw.com/~deano/articles/20040601_roboscout.htm</a> and 
<a href="https://www.basketball-reference.com/about/factors.html">https://www.basketball-reference.com/about/factors.html</a>.
</p>
<p>As a summary, EFGP is a measure of shooting efficiency; TOVP is
the percentage of possessions where the team missed the ball, see
<a href="https://www.nba.com/thunder/news/stats101.html">https://www.nba.com/thunder/news/stats101.html</a> to read about 
the 0.44 coefficient; ORBP measures how many rebounds were offensive 
from the total of available rebounds; Finally, FTRate is a measure of both 
how often a team gets to the line and how often they make them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_four_factors_df(df_games, teams)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_four_factors_df_+3A_df_games">df_games</code></td>
<td>
<p>Data frame with the games, players info, advanced stats and
eventually recoded teams names.</p>
</td></tr>
<tr><td><code id="do_four_factors_df_+3A_teams">teams</code></td>
<td>
<p>Teams names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Instead of defining the Offensive and Defensive Rebound Percentage
as mentioned in the previous links, I have computed just the Offensive
Rebound Percentage for the team and for its rivals. This makes easier
to have four facets, one per factor, in the ggplot.
</p>
<p>In order to establish the team rankings, we have to consider these facts:
In defense (accumulated statistics of the opponent teams to the team of interest), 
the best team in each factor is the one that allows the smallest EFGP, the biggest TOVP, 
the smallest ORBP and the smallest FTRate, respectively.
</p>
<p>In offense (accumulated statistics of the team of interest), the best team in each factor 
is the one that has the biggest EFGP, the smallest TOVP, 
the biggest ORBP and the biggest FTRate, respectively.
</p>


<h3>Value</h3>

<p>A list with two data frames, <code>df_rank</code> and <code>df_no_rank</code>. 
Both have the same columns:
</p>

<ul>
<li><p> Team: Team name.
</p>
</li>
<li><p> Type: Either Defense or Offense.
</p>
</li>
<li><p> EFGP, ORBP, TOVP and FTRate.
</p>
</li></ul>

<p>The <code>df_rank</code> data frame contains the team ranking label for 
each statistic between parentheses. Therefore, <code>df_no_rank</code> is used
to create the ggplot with the numerical values and <code>df_rank</code> is
used to add the ranking labels.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_four_factors_plot">get_four_factors_plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
# When only one team is selected the rankings between parentheses
# do not reflect the real rankings regarding all the league teams.
# The rankings are computed with respect to the number of teams 
# passed as an argument.
df_four_factors &lt;- do_four_factors_df(df1, "Valencia")

</code></pre>

<hr>
<h2 id='do_ft_fouls'>Compute free throw fouls</h2><span id='topic+do_ft_fouls'></span>

<h3>Description</h3>

<p>Compute how many 1-,2- and 3-free throw fouls has committed or 
received every player.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_ft_fouls(data, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_ft_fouls_+3A_data">data</code></td>
<td>
<p>Play-by-play data.</p>
</td></tr>
<tr><td><code id="do_ft_fouls_+3A_type">type</code></td>
<td>
<p>Either 'comm' (for committed) or 'rec' (for received).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with the following columns:
</p>

<p><strong>team</strong>: Name of the team.
<strong>player</strong>: Name of the player.
<strong>n_ft_fouls_x</strong>: Number of free throw fouls committed or received.
<strong>n_ft_x</strong>: Number of free throws given or got.
<strong>n_ft_char</strong>: Type of free throw. Options can be 1TL, 2TL and 3TL.
<strong>n</strong>: Number of free throws of each type.

</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df01 &lt;- do_ft_fouls(acb_vbc_cz_pbp_2223, "comm")
#df01  
 
df02 &lt;- do_ft_fouls(acb_vbc_cz_pbp_2223, "rec")
#df02

</code></pre>

<hr>
<h2 id='do_join_games_bio'>Join games and players' info</h2><span id='topic+do_join_games_bio'></span>

<h3>Description</h3>

<p>This function calls the needed ancillary functions to join the games played 
by all the players in the desired competition (currently ACB, Euroleague
and Eurocup) with their personal details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_join_games_bio(competition, df_games, df_rosters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_join_games_bio_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;ACB&quot;, &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="do_join_games_bio_+3A_df_games">df_games</code></td>
<td>
<p>Data frame with the games.</p>
</td></tr>
<tr><td><code id="do_join_games_bio_+3A_df_rosters">df_rosters</code></td>
<td>
<p>Data frame with the biography of the roster players.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+join_players_bio_age_acb">join_players_bio_age_acb</a></code>, <code><a href="#topic+join_players_bio_age_euro">join_players_bio_age_euro</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
          
</code></pre>

<hr>
<h2 id='do_lineup'>Compute ACB lineups</h2><span id='topic+do_lineup'></span>

<h3>Description</h3>

<p>Compute all the lineups that a given team shows during a game.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_lineup(data, day_num, game_code, team_sel, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_lineup_+3A_data">data</code></td>
<td>
<p>Play-by-play prepared data from a given game.</p>
</td></tr>
<tr><td><code id="do_lineup_+3A_day_num">day_num</code></td>
<td>
<p>Day number.</p>
</td></tr>
<tr><td><code id="do_lineup_+3A_game_code">game_code</code></td>
<td>
<p>Game code.</p>
</td></tr>
<tr><td><code id="do_lineup_+3A_team_sel">team_sel</code></td>
<td>
<p>One of the teams' names involved in the game.</p>
</td></tr>
<tr><td><code id="do_lineup_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Decide if information of the computations
must be provided or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame. Each row is a different lineup. This is the meaning of the 
columns that might not be explanatory by themselves:
</p>

<p><strong>team_in</strong>: Time point when that lineup starts playing together.
<strong>team_out</strong>: Time point when that lineup stops playing together 
(because there is a substitution).
<strong>num_players</strong>: Number of players forming the lineup (must be 5 in this case).
<strong>time_seconds</strong>: Total of seconds that the lineup played.
<strong>diff_points</strong>: Game score in the time that the lineup played.
<strong>plus_minus</strong>: Plus/minus achieved by the lineup. This is the difference
between the game score of the previous lineup and of the current one.
<strong>plus_minus_poss</strong>: Plus/minus per possession.

</p>


<h3>Note</h3>

<p>A possession lasts 24 seconds in the ACB league.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df0 &lt;- acb_vbc_cz_pbp_2223

day_num &lt;- unique(acb_vbc_cz_pbp_2223$day)
game_code &lt;- unique(acb_vbc_cz_pbp_2223$game_code)

acb_games_2223_sl &lt;- acb_vbc_cz_sl_2223 %&gt;%
  filter(period == "1C")

df1 &lt;- do_prepare_data(df0, day_num, 
                       acb_games_2223_sl, acb_games_2223_info,
                       game_code)
                
df2 &lt;- do_lineup(df1, day_num, game_code, "Valencia Basket", FALSE)    
#df2

</code></pre>

<hr>
<h2 id='do_map_nats'>Data frame for the nationalities map</h2><span id='topic+do_map_nats'></span>

<h3>Description</h3>

<p>This function prepares the data frame with the nationalities
to be mapped with <code><a href="#topic+get_map_nats">get_map_nats</a></code>. It is used inside it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_map_nats(df_stats)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_map_nats_+3A_df_stats">df_stats</code></td>
<td>
<p>Data frame with the statistics and the
corrected nationalities.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with the following elements:
</p>

<ul>
<li><p> df_all: Data frame with each country, its latitudes and
longitudes and whether it must be coloured or not (depending on
if there are players from that country).
</p>
</li>
<li><p> countr_num: Vector with the countries from where there are
players and the number of them.
</p>
</li>
<li><p> leng: Number of countries in the world.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_map_nats">get_map_nats</a></code>
</p>

<hr>
<h2 id='do_OE'>Offensive Efficiency (OE)</h2><span id='topic+do_OE'></span>

<h3>Description</h3>

<p>Offensive Efficiency (OE) is a measure to evaluate the quality of 
offense produced. OE counts the total number of successful offensive 
possessions the player was involved in, regarding the player's total 
number of potential ends of possession. 
</p>
<p>This measure is used in the definition of <code><a href="#topic+do_EPS">do_EPS</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_OE(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_OE_+3A_df">df</code></td>
<td>
<p>Data frame with the games and the players info.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>OE values.
</p>


<h3>Note</h3>

<p>When either both the numerator and denominator of the OE expression 
are 0 or just the denominator is 0, the function returns a 0.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>References</h3>

<p>Shea, S., Baker, C., (2013). Basketball Analytics: 
Objective and Efficient Strategies for Understanding 
How Teams Win. Lake St. Louis, MO: Advanced Metrics, LLC.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_EPS">do_EPS</a></code>, <code><a href="#topic+do_add_adv_stats">do_add_adv_stats</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
# Players with OE = 0:
# df1[55, c("Player.x", "FG", "AST", "FGA", "ORB", "TOV")]
# Player.x     FG  AST  FGA  ORB  TOV
# Triguero, J.  0    0    0    0    0
# OE can be greater than 1, for example:
# df1[17, c("Player.x", "FG", "AST", "FGA", "ORB", "TOV")]
# Player.x        FG  AST  FGA  ORB  TOV
# Diagne, Moussa   3    0    3    1    0
do_OE(df1[1,])

</code></pre>

<hr>
<h2 id='do_offensive_fouls'>Compute offensive fouls</h2><span id='topic+do_offensive_fouls'></span>

<h3>Description</h3>

<p>Compute how many offensive fouls has committed or received every player.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_offensive_fouls(data, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_offensive_fouls_+3A_data">data</code></td>
<td>
<p>Play-by-play data.</p>
</td></tr>
<tr><td><code id="do_offensive_fouls_+3A_type">type</code></td>
<td>
<p>Either 'comm' (for committed) or 'rec' (for received).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with the following columns:
</p>

<p><strong>team</strong>: Name of the team.
<strong>player</strong>: Name of the player.
<strong>n_offensive_fouls_x</strong>: Number of offensive fouls.

</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df01 &lt;- do_offensive_fouls(acb_vbc_cz_pbp_2223, "comm")
#df01

df02 &lt;- do_offensive_fouls(acb_vbc_cz_pbp_2223, "rec")
#df02

</code></pre>

<hr>
<h2 id='do_possession'>Compute when possessions start</h2><span id='topic+do_possession'></span>

<h3>Description</h3>

<p>Compute when the possession starts for each team during each period of a game.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_possession(data, period_sel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_possession_+3A_data">data</code></td>
<td>
<p>Play-by-play prepared data from a given game.</p>
</td></tr>
<tr><td><code id="do_possession_+3A_period_sel">period_sel</code></td>
<td>
<p>Period of interest. Options can be &quot;xC&quot;, where x=1,2,3,4.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.  This is the meaning of the columns that might not be 
explanatory by themselves:
</p>

<p><strong>time_start</strong>: Time point when the action starts.
<strong>time_end</strong>: Time point when the action ends.
<strong>poss_time</strong>: Duration of the possession.
<strong>possession</strong>: Indicates when the possession starts. This is encoded
with the Spanish word <em>inicio</em> (<em>start</em>, in English).
<strong>points</strong>: Number of points scored from a given action.

</p>


<h3>Note</h3>

<p>1. A possession lasts 24 seconds in the ACB league.
</p>
<p>2. Actions are given in Spanish. A bilingual basketball vocabulary (Spanish/English)
is provided in <a href="https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx">https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx</a>.
</p>
<p>3. The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df0 &lt;- acb_vbc_cz_pbp_2223

day_num &lt;- unique(acb_vbc_cz_pbp_2223$day)
game_code &lt;- unique(acb_vbc_cz_pbp_2223$game_code)

acb_games_2223_sl &lt;- acb_vbc_cz_sl_2223 %&gt;%
  dplyr::filter(period == "1C")

df1 &lt;- do_prepare_data(df0, day_num, 
                       acb_games_2223_sl, acb_games_2223_info,
                       game_code)
                       
df2 &lt;- do_possession(df1, "1C")                         
#df2

</code></pre>

<hr>
<h2 id='do_prepare_data'>Prepare ACB play-by-play data</h2><span id='topic+do_prepare_data'></span>

<h3>Description</h3>

<p>Prepare the ACB play-by-play data to be analyzed in further steps. 
It involves correcting some inconsistencies and filtering some
unnecessary information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_prepare_data(data, day_num, data_gsl, data_ginfo, game_code_excel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_prepare_data_+3A_data">data</code></td>
<td>
<p>Source play-by-play data from a given game.</p>
</td></tr>
<tr><td><code id="do_prepare_data_+3A_day_num">day_num</code></td>
<td>
<p>Day number.</p>
</td></tr>
<tr><td><code id="do_prepare_data_+3A_data_gsl">data_gsl</code></td>
<td>
<p>Games' starting lineups.</p>
</td></tr>
<tr><td><code id="do_prepare_data_+3A_data_ginfo">data_ginfo</code></td>
<td>
<p>Games' basic information.</p>
</td></tr>
<tr><td><code id="do_prepare_data_+3A_game_code_excel">game_code_excel</code></td>
<td>
<p>Game code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame. Each row represents the action happened in the game. It has
associated a player, a time point and the game score. The <strong>team</strong> 
column refers to the team to which the player belongs.
</p>


<h3>Note</h3>

<p>1. Actions are given in Spanish. A bilingual basketball vocabulary (Spanish/English)
is provided in <a href="https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx">https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx</a>.
</p>
<p>2. The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df0 &lt;- acb_vbc_cz_pbp_2223

day_num &lt;- unique(acb_vbc_cz_pbp_2223$day)
game_code &lt;- unique(acb_vbc_cz_pbp_2223$game_code)

acb_games_2223_sl &lt;- acb_vbc_cz_sl_2223 %&gt;%
  filter(period == "1C")

df1 &lt;- do_prepare_data(df0, day_num, 
                       acb_games_2223_sl, acb_games_2223_info,
                       game_code)
#df1                        

</code></pre>

<hr>
<h2 id='do_prepare_data_or'>Prepare data for the offensive rebounds computation</h2><span id='topic+do_prepare_data_or'></span>

<h3>Description</h3>

<p>The computation of the scoring after offensive rebounds requires a 
specifical data preparation. This function does this data processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_prepare_data_or(data, rm_overtime, data_ginfo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_prepare_data_or_+3A_data">data</code></td>
<td>
<p>Source play-by-play data from a given game.</p>
</td></tr>
<tr><td><code id="do_prepare_data_or_+3A_rm_overtime">rm_overtime</code></td>
<td>
<p>Logical. Decide to remove overtimes or not.</p>
</td></tr>
<tr><td><code id="do_prepare_data_or_+3A_data_ginfo">data_ginfo</code></td>
<td>
<p>Games' basic information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame. Each row represents the action happened in the game. 
The <strong>points</strong> column is added to transform the action
that finished in scoring into numbers.
</p>


<h3>Note</h3>

<p>1. Actions are given in Spanish. A bilingual basketball vocabulary (Spanish/English)
is provided in <a href="https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx">https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx</a>.
</p>
<p>2. The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_reb_off_success">do_reb_off_success</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df0 &lt;- acb_vbc_cz_pbp_2223

df1 &lt;- do_prepare_data_or(df0, TRUE, acb_games_2223_info)
#df1                     

</code></pre>

<hr>
<h2 id='do_prepare_data_to'>Prepare data for the timeouts computation</h2><span id='topic+do_prepare_data_to'></span>

<h3>Description</h3>

<p>The computation of the successful timeouts requires a specific data
preparation. This function does this data processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_prepare_data_to(data, rm_overtime, data_ginfo, data_gcoach)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_prepare_data_to_+3A_data">data</code></td>
<td>
<p>Source play-by-play data from a given game.</p>
</td></tr>
<tr><td><code id="do_prepare_data_to_+3A_rm_overtime">rm_overtime</code></td>
<td>
<p>Logical. Decide to remove overtimes or not.</p>
</td></tr>
<tr><td><code id="do_prepare_data_to_+3A_data_ginfo">data_ginfo</code></td>
<td>
<p>Games' basic information.</p>
</td></tr>
<tr><td><code id="do_prepare_data_to_+3A_data_gcoach">data_gcoach</code></td>
<td>
<p>Coach of each team in each day.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame. Each row represents the action happened in the game. 
The <strong>team</strong> column refers in this case both to the team to 
which the player belongs and the coach of that team. In addition,
a <strong>points</strong> column is added to transform the action
that finished in scoring into numbers .
</p>


<h3>Note</h3>

<p>1. Actions are given in Spanish. A bilingual basketball vocabulary (Spanish/English)
is provided in <a href="https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx">https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx</a>.
</p>
<p>2. The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_time_out_success">do_time_out_success</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df0 &lt;- acb_vbc_cz_pbp_2223

df1 &lt;- do_prepare_data_to(df0, TRUE, acb_games_2223_info, acb_games_2223_coach)
#df1                        

</code></pre>

<hr>
<h2 id='do_process_acb_pbp'>Processing of the ACB website play-by-play data</h2><span id='topic+do_process_acb_pbp'></span>

<h3>Description</h3>

<p>This function disentangles the play-by-play data coming from the ACB website and 
creates a common data structure in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_process_acb_pbp(game_elem, day, game_code, period, acb_shields, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_process_acb_pbp_+3A_game_elem">game_elem</code></td>
<td>
<p>Character with the tangled play-by-play data.</p>
</td></tr>
<tr><td><code id="do_process_acb_pbp_+3A_day">day</code></td>
<td>
<p>Day of the game.</p>
</td></tr>
<tr><td><code id="do_process_acb_pbp_+3A_game_code">game_code</code></td>
<td>
<p>Game code.</p>
</td></tr>
<tr><td><code id="do_process_acb_pbp_+3A_period">period</code></td>
<td>
<p>Period of the game.</p>
</td></tr>
<tr><td><code id="do_process_acb_pbp_+3A_acb_shields">acb_shields</code></td>
<td>
<p>Data frame with the links to the shields of the ACB teams.</p>
</td></tr>
<tr><td><code id="do_process_acb_pbp_+3A_verbose">verbose</code></td>
<td>
<p>Logical to display processing information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with eight columns: 
</p>

<ul>
<li><p> period: Period of the game.
</p>
</li>
<li><p> time_point: Time point when the basketball action happens.
</p>
</li>
<li><p> player: Player who performs the action.
</p>
</li>
<li><p> action: Basketball action.
</p>
</li>
<li><p> local_score: Local score at that time point.
</p>
</li>
<li><p> visitor_score: Visitor score at that time point.
</p>
</li>
<li><p> day: Day of the game.
</p>
</li>
<li><p> game_code: Game code.
</p>
</li></ul>



<h3>Note</h3>

<p>1. Actions are given in Spanish. A bilingual basketball vocabulary (Spanish/English)
is provided in <a href="https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx">https://www.uv.es/vivigui/docs/basketball_dictionary.xlsx</a>.
</p>
<p>2. The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Load packages required:
library(RSelenium)

# Provide the day and game code:
day &lt;- "24"
game_code &lt;- "103170"

# Open an Internet server:
rD &lt;- rsDriver(browser = "firefox", chromever = NULL)

# Follow this procedure on the server:
# 1. Copy and paste the game link https://jv.acb.com/es/103170/jugadas
# 2. Click on each period, starting with 1C.
# 3. Scroll down to the first row of data.
# 4. Go back to R and run the following code:
 
# Set the remote driver:
remDr &lt;- rD$client

# Get the play-by-play data:
game_elem &lt;- remDr$getPageSource()[[1]]

# Close the client and the server:
remDr$close()
rD$server$stop()

period &lt;- "1C"
data_game &lt;- do_process_acb_pbp(game_elem, day, game_code, 
                                period, acb_shields, FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='do_reb_off_success'>Check if scoring after offensive rebounds</h2><span id='topic+do_reb_off_success'></span>

<h3>Description</h3>

<p>For each team and player, locate the position of offensive rebounds 
and check if they resulted in scoring points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_reb_off_success(data, day_num, game_code, team_sel, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_reb_off_success_+3A_data">data</code></td>
<td>
<p>Play-by-play prepared data from a given game.</p>
</td></tr>
<tr><td><code id="do_reb_off_success_+3A_day_num">day_num</code></td>
<td>
<p>Day number.</p>
</td></tr>
<tr><td><code id="do_reb_off_success_+3A_game_code">game_code</code></td>
<td>
<p>Game code.</p>
</td></tr>
<tr><td><code id="do_reb_off_success_+3A_team_sel">team_sel</code></td>
<td>
<p>One of the teams' names involved in the game.</p>
</td></tr>
<tr><td><code id="do_reb_off_success_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Decide if information of the computations
must be provided or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with two data frames, one for the results for the team (<strong>stats_team</strong>) 
and the other for the players (<strong>stats_player</strong>).
The team data frame shows the number of offensive rebounds, the number of those
that finished in scoring (and the percentage associated) and the total of points 
scored.
The player data frame shows the player who grabbed the offensive rebound, the 
player who scored and how many points.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_prepare_data_or">do_prepare_data_or</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df0 &lt;- acb_vbc_cz_pbp_2223

day_num &lt;- unique(acb_vbc_cz_pbp_2223$day)
game_code &lt;- unique(acb_vbc_cz_pbp_2223$game_code)

df1 &lt;- do_prepare_data_or(df0, TRUE, acb_games_2223_info)

df2 &lt;- do_reb_off_success(df1, day_num, game_code, "Valencia Basket", FALSE)
#df2                        

</code></pre>

<hr>
<h2 id='do_scraping_games'>Player game finder data</h2><span id='topic+do_scraping_games'></span>

<h3>Description</h3>

<p>This function calls the needed ancillary functions to scrape the player game 
finder data for the desired competition (currently, ACB, Euroleague and Eurocup).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_scraping_games(competition, type_league, nums, year, verbose, accents, r_user)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_scraping_games_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;ACB&quot;, &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="do_scraping_games_+3A_type_league">type_league</code></td>
<td>
<p>String. If <code>competition</code> is ACB, to scrape 
ACB league games (&quot;ACB&quot;), Copa del Rey games (&quot;CREY&quot;) or Supercopa games (&quot;SCOPA&quot;).</p>
</td></tr>
<tr><td><code id="do_scraping_games_+3A_nums">nums</code></td>
<td>
<p>Numbers corresponding to the website from which scraping.</p>
</td></tr>
<tr><td><code id="do_scraping_games_+3A_year">year</code></td>
<td>
<p>If <code>competition</code> is either Euroleague or Eurocup, the year
when the season starts is needed. 2017 refers to 2017-2018 and so on.</p>
</td></tr>
<tr><td><code id="do_scraping_games_+3A_verbose">verbose</code></td>
<td>
<p>Should R report information on progress? Default TRUE.</p>
</td></tr>
<tr><td><code id="do_scraping_games_+3A_accents">accents</code></td>
<td>
<p>If <code>competition</code> is ACB, should we keep the Spanish accents? 
The recommended option is to remove them, so default FALSE.</p>
</td></tr>
<tr><td><code id="do_scraping_games_+3A_r_user">r_user</code></td>
<td>
<p>Email to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the player game finder data for the competition selected.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+scraping_games_acb">scraping_games_acb</a></code>, <code><a href="#topic+scraping_games_euro">scraping_games_euro</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Not needed to scrape every time the package is checked, built and installed.
df1 &lt;- do_scraping_games(competition = "ACB", type_league = "ACB", nums = 62001,
                         year = "2017-2018", verbose = TRUE, accents = FALSE, 
                         r_user = "guillermo.vinue@uv.es")
                         
df1_eur &lt;- do_scraping_games(competition = "Euroleague", nums = 1,
                         year = "2017", verbose = TRUE,
                         r_user = "guillermo.vinue@uv.es")                          

## End(Not run)                          

</code></pre>

<hr>
<h2 id='do_scraping_rosters'>Players profile data</h2><span id='topic+do_scraping_rosters'></span>

<h3>Description</h3>

<p>This function calls the needed ancillary functions to scrape the players' profile 
data for the desired competition (currently, ACB, Euroleague and Eurocup).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_scraping_rosters(competition, pcode, verbose, accents, year, r_user)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_scraping_rosters_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;ACB&quot;, &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="do_scraping_rosters_+3A_pcode">pcode</code></td>
<td>
<p>Code corresponding to the player's website to scrape.</p>
</td></tr>
<tr><td><code id="do_scraping_rosters_+3A_verbose">verbose</code></td>
<td>
<p>Should R report information on progress? Default TRUE.</p>
</td></tr>
<tr><td><code id="do_scraping_rosters_+3A_accents">accents</code></td>
<td>
<p>If <code>competition</code> is ACB, should we keep the Spanish accents? 
The recommended option is to remove them, so default FALSE.</p>
</td></tr>
<tr><td><code id="do_scraping_rosters_+3A_year">year</code></td>
<td>
<p>If <code>competition</code> is either Euroleague or Eurocup, the year
when the season starts is needed. 2017 refers to 2017-2018 and so on.</p>
</td></tr>
<tr><td><code id="do_scraping_rosters_+3A_r_user">r_user</code></td>
<td>
<p>Email to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the players' information.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+scraping_games_acb">scraping_games_acb</a></code>, <code><a href="#topic+scraping_rosters_euro">scraping_rosters_euro</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Not needed to scrape every time the package is checked, built and installed.
df_bio &lt;- do_scraping_rosters(competition = "ACB", pcode = "56C", 
                              verbose = TRUE, accents = FALSE, 
                              r_user = "guillermo.vinue@uv.es")
                              
df_bio_eur &lt;- do_scraping_rosters(competition = "Euroleague", pcode = "007969", 
                              year = "2017", verbose = TRUE, 
                              r_user = "guillermo.vinue@uv.es")                               

## End(Not run)                               

</code></pre>

<hr>
<h2 id='do_stats'>Accumulated or average statistics</h2><span id='topic+do_stats'></span>

<h3>Description</h3>

<p>This function computes either the total or the average statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_stats(df_games, type_stats = "Total", season, competition, type_season)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_stats_+3A_df_games">df_games</code></td>
<td>
<p>Data frame with the games, players info, advanced stats and
eventually recoded teams names.</p>
</td></tr>
<tr><td><code id="do_stats_+3A_type_stats">type_stats</code></td>
<td>
<p>String. In English, the options are &quot;Total&quot; and &quot;Average&quot; and in
Spanish, the options are &quot;Totales&quot; and &quot;Promedio&quot;.</p>
</td></tr>
<tr><td><code id="do_stats_+3A_season">season</code></td>
<td>
<p>String indicating the season, for example, 2017-2018.</p>
</td></tr>
<tr><td><code id="do_stats_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;ACB&quot;, &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="do_stats_+3A_type_season">type_season</code></td>
<td>
<p>String with the round of competition, for example regular season
or playoffs and so on.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compet &lt;- "ACB"
df &lt;- do_join_games_bio(compet, acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
df2 &lt;- do_stats(df1, "Total", "2017-2018", compet, "Regular Season")
        
</code></pre>

<hr>
<h2 id='do_stats_per_period'>Compute stats per period</h2><span id='topic+do_stats_per_period'></span>

<h3>Description</h3>

<p>Compute time played and points scored for a player of interest in any period
of the game.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_stats_per_period(data, day_num, game_code, team_sel, period_sel, player_sel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_stats_per_period_+3A_data">data</code></td>
<td>
<p>Prepared data from a given game.</p>
</td></tr>
<tr><td><code id="do_stats_per_period_+3A_day_num">day_num</code></td>
<td>
<p>Day number.</p>
</td></tr>
<tr><td><code id="do_stats_per_period_+3A_game_code">game_code</code></td>
<td>
<p>Game code.</p>
</td></tr>
<tr><td><code id="do_stats_per_period_+3A_team_sel">team_sel</code></td>
<td>
<p>One of the teams' names involved in the game.</p>
</td></tr>
<tr><td><code id="do_stats_per_period_+3A_period_sel">period_sel</code></td>
<td>
<p>Period of interest. Options can be &quot;xC&quot;, where x=1,2,3,4.</p>
</td></tr>
<tr><td><code id="do_stats_per_period_+3A_player_sel">player_sel</code></td>
<td>
<p>Player of interest.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with one row and mainly time played (seconds and minutes) and points
scored by the player of interest in the period of interest.
</p>


<h3>Note</h3>

<p>The <strong>game_code</strong> column allows us to detect the source website, for example,
<a href="https://jv.acb.com/es/103389/jugadas">https://jv.acb.com/es/103389/jugadas</a>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df0 &lt;- acb_vbc_cz_pbp_2223

day_num &lt;- unique(acb_vbc_cz_pbp_2223$day)
game_code &lt;- unique(acb_vbc_cz_pbp_2223$game_code)

# Remove overtimes:
rm_overtime &lt;- TRUE
if (rm_overtime) {
 df0 &lt;- df0 %&gt;%
   filter(!grepl("PR", period)) %&gt;%
   mutate(period = as.character(period))
}
 
team_sel &lt;- "Valencia Basket" # "Casademont Zaragoza"
period_sel &lt;- "1C"            # "4C"
player_sel &lt;- "Webb"          # "Mara"
 
df1 &lt;- df0 %&gt;%
  filter(team == team_sel) %&gt;%
  filter(!action %in% c("D - Descalificante - No TL", "Altercado no TL")) 
   
df2 &lt;- df1 %&gt;%
  filter(period == period_sel)
   
df0_inli_team &lt;- acb_vbc_cz_sl_2223 %&gt;% 
   filter(team == team_sel, period == period_sel)
 
df3 &lt;- do_prepare_data(df2, day_num, 
                       df0_inli_team, acb_games_2223_info,
                       game_code)
                        
df4 &lt;- do_stats_per_period(df3, day_num, game_code, team_sel, period_sel, player_sel)
#df4

</code></pre>

<hr>
<h2 id='do_stats_teams'>Accumulated and average statistics for teams</h2><span id='topic+do_stats_teams'></span>

<h3>Description</h3>

<p>This function computes the total and average statistics for every team.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_stats_teams(df_games, season, competition, type_season)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_stats_teams_+3A_df_games">df_games</code></td>
<td>
<p>Data frame with the games, players info, advanced stats and
eventually recoded teams names.</p>
</td></tr>
<tr><td><code id="do_stats_teams_+3A_season">season</code></td>
<td>
<p>String indicating the season, for example, 2017-2018.</p>
</td></tr>
<tr><td><code id="do_stats_teams_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;ACB&quot;, &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="do_stats_teams_+3A_type_season">type_season</code></td>
<td>
<p>String with the round of competition, for example regular season
or playoffs and so on.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements:
</p>

<ul>
<li><p> df_team_total: Data frame with the total statistics for every team.
</p>
</li>
<li><p> df_team_mean: Data frame with the average statistics for every team.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compet &lt;- "ACB"
df &lt;- do_join_games_bio(compet, acb_games_1718, acb_players_1718)
df$Compet &lt;- compet
df_teams &lt;- do_stats_teams(df, "2017-2018", "ACB", "Regular Season")
# Total statistics:
#df_teams$df_team_total
# Average statistics:
#df_teams$df_team_mean

</code></pre>

<hr>
<h2 id='do_sub_lineup'>Compute ACB sub-lineups</h2><span id='topic+do_sub_lineup'></span>

<h3>Description</h3>

<p>Compute all the sub-lineups that a given team shows during a game. They can
be made up of four, three or two players.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_sub_lineup(data, elem_choose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_sub_lineup_+3A_data">data</code></td>
<td>
<p>Data frame with the lineups (quintets).</p>
</td></tr>
<tr><td><code id="do_sub_lineup_+3A_elem_choose">elem_choose</code></td>
<td>
<p>Numeric: 4, 3 or 2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame. Each row is a different sub-lineup. This is the meaning of the 
columns that might not be explanatory by themselves:
</p>

<p><strong>team_in</strong>: Time point when that sub-lineup starts playing together.
<strong>team_out</strong>: Time point when that sub-lineup stops playing together 
(because there is a substitution).
<strong>time_seconds</strong>: Total of seconds that the sub-lineup played.
<strong>plus_minus</strong>: Plus/minus achieved by the sub-lineup. This is the difference
between the game score of the previous lineup and of the current one.
<strong>plus_minus_poss</strong>: Plus/minus per possession.

</p>


<h3>Note</h3>

<p>A possession lasts 24 seconds in the ACB league.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
df0 &lt;- acb_vbc_cz_pbp_2223

day_num &lt;- unique(acb_vbc_cz_pbp_2223$day)
game_code &lt;- unique(acb_vbc_cz_pbp_2223$game_code)

acb_games_2223_sl &lt;- acb_vbc_cz_sl_2223 %&gt;%
  filter(period == "1C")

df1 &lt;- do_prepare_data(df0, day_num, 
                       acb_games_2223_sl, acb_games_2223_info,
                       game_code)
                
df2 &lt;- do_lineup(df1, day_num, game_code, "Valencia Basket", FALSE)    

df3 &lt;- do_sub_lineup(df2, 4)
#df3

</code></pre>

<hr>
<h2 id='do_time_out_success'>Check if timeouts resulted in scoring</h2><span id='topic+do_time_out_success'></span>

<h3>Description</h3>

<p>For each team, locate the position of timeouts and check if they 
resulted in scoring points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_time_out_success(data, day_num, game_code, team_sel, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_time_out_success_+3A_data">data</code></td>
<td>
<p>Prepared data from a given game.</p>
</td></tr>
<tr><td><code id="do_time_out_success_+3A_day_num">day_num</code></td>
<td>
<p>Day number.</p>
</td></tr>
<tr><td><code id="do_time_out_success_+3A_game_code">game_code</code></td>
<td>
<p>Game code.</p>
</td></tr>
<tr><td><code id="do_time_out_success_+3A_team_sel">team_sel</code></td>
<td>
<p>One of the teams' names involved in the game.</p>
</td></tr>
<tr><td><code id="do_time_out_success_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Decide if information of the computations
must be provided or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.  This is the meaning of the columns:
</p>

<p><strong>day</strong>: Day number.
<strong>game_code</strong>: Game code.
<strong>team</strong>: Name of the corresponding team and coach.
<strong>times_out_requested</strong>: Number of timeouts requested in the game.
<strong>times_out_successful</strong>: Number of timeouts that resulted in scoring.
<strong>times_out_successful_perc</strong>: Percentage of successful timeouts.
<strong>points_scored</strong>: Total of points achieved after the timeouts.

</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_prepare_data_to">do_prepare_data_to</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df0 &lt;- acb_vbc_cz_pbp_2223

day_num &lt;- unique(acb_vbc_cz_pbp_2223$day)
game_code &lt;- unique(acb_vbc_cz_pbp_2223$game_code)

df1 &lt;- do_prepare_data_to(df0, TRUE, acb_games_2223_info, acb_games_2223_coach)

# sort(unique(df1$team))
# "Casademont Zaragoza_Porfirio Fisac" "Valencia Basket_Alex Mumbru"

df2 &lt;- do_time_out_success(df1, day_num, game_code, 
                           "Casademont Zaragoza_Porfirio Fisac", FALSE)
#df2

</code></pre>

<hr>
<h2 id='eurocup_games_1718'>
Eurocup games 2017-2018
</h2><span id='topic+eurocup_games_1718'></span>

<h3>Description</h3>

<p>Games of the ten days of regular season and the first three days of top 16 
of the Eurocup 2017-2018 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eurocup_games_1718</code></pre>


<h3>Format</h3>

<p>Data frame with 3604 rows and 38 columns.</p>


<h3>Source</h3>

<p><a href="https://www.euroleaguebasketball.net/eurocup/">https://www.euroleaguebasketball.net/eurocup/</a></p>

<hr>
<h2 id='eurocup_players_1718'>
Eurocup players 2017-2018
</h2><span id='topic+eurocup_players_1718'></span>

<h3>Description</h3>

<p>Players corresponding to the games of the ten days of regular season 
and the first three days of top 16 of the Eurocup 2017-2018 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eurocup_players_1718</code></pre>


<h3>Format</h3>

<p>Data frame with 351 rows and 7 columns.</p>


<h3>Source</h3>

<p><a href="https://www.euroleaguebasketball.net/eurocup/">https://www.euroleaguebasketball.net/eurocup/</a></p>

<hr>
<h2 id='euroleague_games_1718'>
Euroleague games 2017-2018
</h2><span id='topic+euroleague_games_1718'></span>

<h3>Description</h3>

<p>Games of the first nineteen days of the Euroleague 2017-2018 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>euroleague_games_1718</code></pre>


<h3>Format</h3>

<p>Data frame with 3932 rows and 38 columns.</p>


<h3>Source</h3>

<p><a href="https://www.euroleaguebasketball.net/euroleague/">https://www.euroleaguebasketball.net/euroleague/</a></p>

<hr>
<h2 id='euroleague_players_1718'>
Euroleague players 2017-2018
</h2><span id='topic+euroleague_players_1718'></span>

<h3>Description</h3>

<p>Players corresponding to the games of the first nineteen days of the 
Euroleague 2017-2018 season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>euroleague_players_1718</code></pre>


<h3>Format</h3>

<p>Data frame with 245 rows and 7 columns.</p>


<h3>Source</h3>

<p><a href="https://www.euroleaguebasketball.net/euroleague/">https://www.euroleaguebasketball.net/euroleague/</a></p>

<hr>
<h2 id='get_barplot_monthly_stats'>Barplots with monthly stats</h2><span id='topic+get_barplot_monthly_stats'></span>

<h3>Description</h3>

<p>In all the available basketball websites, the stats are presented for the whole
number of games played. This function represents a barplot with the players' stats 
for each month, which is very useful to analyse the players' evolution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_barplot_monthly_stats(df_stats, title, size_text = 2.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_barplot_monthly_stats_+3A_df_stats">df_stats</code></td>
<td>
<p>Data frame with the statistics.</p>
</td></tr>
<tr><td><code id="get_barplot_monthly_stats_+3A_title">title</code></td>
<td>
<p>Plot title.</p>
</td></tr>
<tr><td><code id="get_barplot_monthly_stats_+3A_size_text">size_text</code></td>
<td>
<p>Label size for each bar. Default 2.5.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Graphical device.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+capit_two_words">capit_two_words</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)
compet &lt;- "ACB"
df &lt;- do_join_games_bio(compet, acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)

months &lt;- c(df %&gt;% distinct(Month))$Month
months_order &lt;- c("September", "October", "November", "December", 
                  "January", "February", "March", "April", "May", "June")
months_plot &lt;- match(months_order, months)
months_plot1 &lt;- months_plot[!is.na(months_plot)]
months_plot2 &lt;- months[months_plot1]

df3_m &lt;- df1 %&gt;%
filter(Team == "Real_Madrid", 
      Player.x == "Doncic, Luka") %&gt;%
 group_by(Month) %&gt;%
 do(do_stats(., "Average", "2017-2018", "ACB", "Regular Season")) %&gt;%
 ungroup() %&gt;%
 mutate(Month = factor(Month, levels = months_plot2)) %&gt;%
 arrange(Month)

stats &lt;- c("GP", "MP", "PTS", "FGA", "FGPerc", "ThreePA", 
           "ThreePPerc", "FTA", "FTPerc",
           "TRB", "ORB", "AST", "TOV", "STL")
           
df3_m1 &lt;- df3_m %&gt;%
  select(1:5, stats, 46:50)
get_barplot_monthly_stats(df3_m1, paste("; ACB", "2017-2018", "Average", sep = " ; "), 
                          2.5)

# For all teams and players:
teams &lt;- as.character(sort(unique(df1$Team)))
df3_m &lt;- df1 %&gt;%
filter(Team == teams[13]) %&gt;%
 group_by(Month) %&gt;%
 do(do_stats(., "Average", "2017-2018", "ACB", "Regular Season")) %&gt;%
 ungroup() %&gt;%
 mutate(Month = factor(Month, levels = months_plot2)) %&gt;%
 arrange(Month)

df3_m1 &lt;- df3_m %&gt;%
  select(1:5, stats, 46:50)

for (i in unique(df3_m1$Name)) {
  print(i)
  print(get_barplot_monthly_stats(df3_m1 %&gt;% filter(Name == i), 
                                  paste(" ; ACB", "2017-2018", "Average", sep = " ; "), 
                                  2.5))
}

## End(Not run)

</code></pre>

<hr>
<h2 id='get_bubble_plot'>Basketball bubble plot</h2><span id='topic+get_bubble_plot'></span>

<h3>Description</h3>

<p>This plot is a representation of the percentiles of all statistics 
for a particular player. The figure shows four cells. The first box 
contains the percentiles between 0 and 24. The second, between 25 and 49. 
The third, between 50 and 74 and the fourth, between 75 and 100. The
percentiles are computed with the function 
<code><a href="Anthropometry.html#topic+percentilsArchetypoid">percentilsArchetypoid</a></code>.
Boxes of the same percentile category are in the same color in the interests
of easy understanding.
</p>
<p>This type of visualization allows the user to analyze each player in a very 
simple way, since a general idea of those aspects of the game in which the 
player excels can be obtained.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bubble_plot(df_stats, player, descr_stats, size_text, size_text_x, size_legend)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_bubble_plot_+3A_df_stats">df_stats</code></td>
<td>
<p>Data frame with the statistics.</p>
</td></tr>
<tr><td><code id="get_bubble_plot_+3A_player">player</code></td>
<td>
<p>Player.</p>
</td></tr>
<tr><td><code id="get_bubble_plot_+3A_descr_stats">descr_stats</code></td>
<td>
<p>Description of the statistics for the legend.</p>
</td></tr>
<tr><td><code id="get_bubble_plot_+3A_size_text">size_text</code></td>
<td>
<p>Text size inside each box.</p>
</td></tr>
<tr><td><code id="get_bubble_plot_+3A_size_text_x">size_text_x</code></td>
<td>
<p>Stats labels size.</p>
</td></tr>
<tr><td><code id="get_bubble_plot_+3A_size_legend">size_legend</code></td>
<td>
<p>Legend size.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the example shown below, it can be seen that Alberto Abalde has a percentile of 
x in free throws percentage. This means that the x percent of league players has a fewer 
percentage than him, while there is a (100-x) percent who has a bigger percentage.
</p>


<h3>Value</h3>

<p>Graphical device.
</p>


<h3>Author(s)</h3>

<p>This function has been created using the code from this website:
<a href="https://www.r-bloggers.com/2017/01/visualizing-the-best/">https://www.r-bloggers.com/2017/01/visualizing-the-best/</a>.
</p>


<h3>See Also</h3>

<p><code><a href="Anthropometry.html#topic+percentilsArchetypoid">percentilsArchetypoid</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
compet &lt;- "ACB"
df &lt;- do_join_games_bio(compet, acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
df2 &lt;- do_stats(df1, "Total", "2017-2018", compet, "Regular Season")
# When choosing a subset of stats, follow the order in which they appear
# in the data frame.
stats &lt;- c("GP", "MP", "PTS", "FGA", "FGPerc", "ThreePA", "ThreePPerc", 
           "FTA", "FTPerc", "TRB", "ORB", "AST", "STL", "TOV")
df2_1 &lt;- df2[, c(1:5, which(colnames(df2) %in% stats), 46:49)]
descr_stats &lt;- c("Games played", "Minutes played", "Points", 
                "Field goals attempted", "Field goals percentage", 
                "3-point field goals attempted", "3-point percentage", 
                "FTA: Free throws attempted", "Free throws percentage", 
                "Total rebounds", "Offensive rebounds", 
                "Assists", "Steals", "Turnovers")
get_bubble_plot(df2_1, "Abalde, Alberto", descr_stats, 6, 10, 12)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_four_factors_plot'>Four factors plot</h2><span id='topic+get_four_factors_plot'></span>

<h3>Description</h3>

<p>Once computed the team's factors and its rankings with 
<code><a href="#topic+do_four_factors_df">do_four_factors_df</a></code>, this function represents them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_four_factors_plot(df_rank, df_no_rank, team, language)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_four_factors_plot_+3A_df_rank">df_rank</code></td>
<td>
<p>Data frame with the team's offense and 
defense four factors and its ranking labels.</p>
</td></tr>
<tr><td><code id="get_four_factors_plot_+3A_df_no_rank">df_no_rank</code></td>
<td>
<p>Data frame with the team's offense and 
defense four factors.</p>
</td></tr>
<tr><td><code id="get_four_factors_plot_+3A_team">team</code></td>
<td>
<p>Team name. Multiple teams can be chosen.</p>
</td></tr>
<tr><td><code id="get_four_factors_plot_+3A_language">language</code></td>
<td>
<p>Language labels. Current options are 'en' for English
and 'es' for Spanish.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Graphical device.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_four_factors_df">do_four_factors_df</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
team &lt;- "Valencia"
df_four_factors &lt;- do_four_factors_df(df1, team)
# If only one team is represented the ranking between parentheses is just one.
get_four_factors_plot(df_four_factors$df_rank, 
                      df_four_factors$df_no_rank, team, "en")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_games_rosters'>Get all games and rosters</h2><span id='topic+get_games_rosters'></span>

<h3>Description</h3>

<p>This function is to get all the games and rosters of the 
competition selected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_games_rosters(competition, type_league, nums, verbose = TRUE, 
                         accents = FALSE, r_user, df0, df_bio0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_games_rosters_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;ACB&quot;, &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="get_games_rosters_+3A_type_league">type_league</code></td>
<td>
<p>String. If <code>competition</code> is ACB, to scrape 
ACB league games (&quot;ACB&quot;), Copa del Rey games (&quot;CREY&quot;) or Supercopa games (&quot;SCOPA&quot;).</p>
</td></tr>
<tr><td><code id="get_games_rosters_+3A_nums">nums</code></td>
<td>
<p>Numbers corresponding to the website from which scraping.</p>
</td></tr>
<tr><td><code id="get_games_rosters_+3A_verbose">verbose</code></td>
<td>
<p>Should R report information on progress? Default TRUE.</p>
</td></tr>
<tr><td><code id="get_games_rosters_+3A_accents">accents</code></td>
<td>
<p>If <code>competition</code> is ACB, should we keep the Spanish accents? 
The recommended option is to remove them, so default FALSE.</p>
</td></tr>
<tr><td><code id="get_games_rosters_+3A_r_user">r_user</code></td>
<td>
<p>Email to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
<tr><td><code id="get_games_rosters_+3A_df0">df0</code></td>
<td>
<p>Data frame to save the games data.</p>
</td></tr>
<tr><td><code id="get_games_rosters_+3A_df_bio0">df_bio0</code></td>
<td>
<p>Data frame to save the rosters data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(readr)
# 1. The first time, all the historical data until the last games played can be 
# directly scraped. 

# ACB seasons available and corresponding games numbers:
acb_nums &lt;- list(30001:30257, 31001:31262, 32001:32264, 33001:33492, 34001:34487,
                 35001:35494, 36001:36498, 37001:37401, 38001:38347, 39001:39417,
                 40001:40415, 41001:41351, 42001:42350, 43001:43339, 44001:44341,
                 45001:45339, 46001:46339, 47001:47339, 48001:48341, 49001:49341,
                 50001:50339, 51001:51340, 52001:52327, 53001:53294, 54001:54331,
                 55001:55331, 56001:56333, 57001:57333, 58001:58332, 59001:59331,
                 60001:60332, 61001:61298, 
                 62001:62135)
names(acb_nums) &lt;- paste(as.character(1985:2017), as.character(1986:2018), sep = "-")

df0 &lt;- data.frame()
df_bio0 &lt;- data.frame(CombinID = NA, Player = NA, Position = NA, 
                      Height = NA, Date_birth = NA, 
                      Nationality = NA, Licence = NA, Website_player = NA)
                      
# All the games and players:
get_data &lt;- get_games_rosters(competition = "ACB", type_league = "ACB", 
                              nums = acb_nums, verbose = TRUE, accents = FALSE, 
                              r_user = "guillermo.vinue@uv.es", 
                              df0 = df0, df_bio0 = df_bio0)
acb_games &lt;- get_data$df0
acb_players &lt;- get_data$df_bio0
write_csv(acb_games, path = "acb_games.csv")
write_csv(acb_players, path = "acb_players.csv")        

# 2. Then, in order to scrape new games as they are played, the df0 and df_bio0 objects are
# the historical games and rosters:
acb_nums &lt;- list(62136:62153)
names(acb_nums) &lt;- "2017-2018"
df0 &lt;- read_csv("acb_games.csv", guess_max = 1e5)
df_bio0 &lt;- read_csv("acb_players.csv", guess_max = 1e3)
get_data &lt;- get_games_rosters(competition = "ACB", type_league = "ACB", 
                              nums = acb_nums, verbose = TRUE, accents = FALSE, 
                              r_user = "guillermo.vinue@uv.es", 
                              df0 = df0, df_bio0 = df_bio0)

# -----                               

# ACB Copa del Rey seasons available and corresponding games numbers (rosters were 
already downloaded with the ACB league):
acb_crey_nums &lt;- list(50001:50004, 51001:51007, 52001:52007, 53033:53039, 
                      54033:54039, 55033:55040, 56033:56040, 57029:57036, 
                      58025:58032, 59038:59045, 60001:60008, 61001:61007, 
                      62001:62007, 63001:63007, 64001:64007, 65001:65007, 
                      66001:66007, 67001:67007, 68001:68007, 69001:69007, 
                      70001:70007, 71001:71007, 72001:72007, 73001:73007, 
                      74001:74007, 75001:75007, 76001:76007, 77001:77007, 
                      78001:78007, 79001:79007, 80001:80007, 81001:81007)
names(acb_crey_nums) &lt;- paste(as.character(1985:2016), as.character(1986:2017), sep = "-")

df0 &lt;- data.frame()
get_data &lt;- get_games_rosters(competition = "ACB", type_league = "CREY", 
                              nums = acb_crey_nums, verbose = TRUE, accents = FALSE, 
                              r_user = "guillermo.vinue@uv.es", 
                              df0 = df0, df_bio0 = NULL)
acb_crey_games &lt;- get_data$df0
write_csv(acb_crey_games, path = "acb_crey_games.csv")

# -----  

# ACB Supercopa seasons available and corresponding games numbers (rosters were 
already downloaded with the ACB league):
acb_scopa_nums &lt;- list(1001, 2001, 3001, 4001, 5001:5004, 6001:6004, 
                       7001:7003, 9001:9003, 10001:10003, 11001:11003,
                       12001:12003, 13001:13003, 14001:14003, 15001:15003, 
                       16001:16003, 17001:17003, 18001:18003, 19001:19003)
# I haven't found the data for the supercopa in Bilbao 2007 ; 8001:8003
# http://www.acb.com/fichas/SCOPA8001.php
names(acb_scopa_nums) &lt;- c(paste(as.character(1984:1987), as.character(1985:1988), sep = "-"),
                           paste(as.character(2004:2006), as.character(2005:2007), sep = "-"),
                           paste(as.character(2008:2018), as.character(2009:2019), sep = "-"))
                           
df0 &lt;- data.frame()
get_data &lt;- get_games_rosters(competition = "ACB", type_league = "SCOPA", 
                              nums = acb_scopa_nums, verbose = TRUE, accents = FALSE, 
                              r_user = "guillermo.vinue@uv.es", 
                              df0 = df0, df_bio0 = NULL)
acb_scopa_games &lt;- get_data$df0
write_csv(acb_scopa_games, path = "acb_scopa_games.csv")

# -----  

# Euroleague seasons available and corresponding games numbers:
euroleague_nums &lt;- list(1:128,
                        1:263, 1:250, 1:251, 1:253, 1:253, 1:188, 1:189, 
                        1:188, 1:188, 1:231, 1:231, 1:231, 1:229, 1:220, 
                        1:220, 1:275, 1:169)
names(euroleague_nums) &lt;- 2017:2000

df0 &lt;- data.frame()
df_bio0 &lt;- data.frame(CombinID = NA, Player = NA, Position = NA, 
                     Height = NA, Date_birth = NA, 
                     Nationality = NA, Website_player = NA)
get_data &lt;- get_games_rosters(competition = "Euroleague", nums = euroleague_nums, 
                              verbose = TRUE, r_user = "guillermo.vinue@uv.es", 
                              df0 = df0, df_bio0 = df_bio0)
euroleague_games &lt;- get_data$df0
euroleague_players &lt;- get_data$df_bio0
write_csv(euroleague_games, path = "euroleague_games.csv")
write_csv(euroleague_players, path = "euroleague_players.csv")                         

# ----- 

# Eurocup seasons available and corresponding games numbers:
eurocup_nums &lt;- list(1:128,
                     2:186, 1:306, 1:306, 1:366, 1:157, 1:156, 1:156, 1:156, 
                     1:151, 1:326, 1:149, 1:149, 1:239, 1:209, 1:150)
names(eurocup_nums) &lt;- 2017:2002

df0 &lt;- data.frame()
df_bio0 &lt;- data.frame(CombinID = NA, Player = NA, Position = NA, 
                     Height = NA, Date_birth = NA, 
                     Nationality = NA, Website_player = NA)
get_data &lt;- get_games_rosters(competition = "Eurocup", nums = eurocup_nums, 
                              verbose = TRUE, r_user = "guillermo.vinue@uv.es", 
                              df0 = df0, df_bio0 = df_bio0)
eurocup_games &lt;- get_data$df0
eurocup_players &lt;- get_data$df_bio0
write_csv(eurocup_games, path = "eurocup_games.csv")
write_csv(eurocup_players, path = "eurocup_players.csv") 


## End(Not run)

</code></pre>

<hr>
<h2 id='get_heatmap_bb'>Basketball heatmap</h2><span id='topic+get_heatmap_bb'></span>

<h3>Description</h3>

<p>The heatmap created with this function allows the user to easily represent
the stats for each player. The more intense the color, the more the player
highlights in the statistic considered. The plot can be ordered by any
statistic. If all the statistics are represented, the offensive statistics are 
grouped in red, the defensive in green, the rest in purple and the advanced in pink.
Otherwise, the default color is red.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_heatmap_bb(df_stats, team, levels_stats = NULL, stat_ord, base_size = 9, title)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_heatmap_bb_+3A_df_stats">df_stats</code></td>
<td>
<p>Data frame with the statistics.</p>
</td></tr>
<tr><td><code id="get_heatmap_bb_+3A_team">team</code></td>
<td>
<p>Team.</p>
</td></tr>
<tr><td><code id="get_heatmap_bb_+3A_levels_stats">levels_stats</code></td>
<td>
<p>Statistics classified in several categories to plot.
If this is NULL, all the statistics are included in the data frame. Otherwise,
the user can define a vector with the variables to represent.</p>
</td></tr>
<tr><td><code id="get_heatmap_bb_+3A_stat_ord">stat_ord</code></td>
<td>
<p>To sort the heatmap on one particular statistic.</p>
</td></tr>
<tr><td><code id="get_heatmap_bb_+3A_base_size">base_size</code></td>
<td>
<p>Sets the font size in the theme used. Default 9.</p>
</td></tr>
<tr><td><code id="get_heatmap_bb_+3A_title">title</code></td>
<td>
<p>Plot title.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Graphical device.
</p>


<h3>Author(s)</h3>

<p>This function has been created using the code from these websites:
<a href="https://learnr.wordpress.com/2010/01/26/ggplot2-quick-heatmap-plotting/">https://learnr.wordpress.com/2010/01/26/ggplot2-quick-heatmap-plotting/</a> and 
<a href="https://stackoverflow.com/questions/13016022/ggplot2-heatmaps-using-different-gradients-for-categories/13016912">https://stackoverflow.com/questions/13016022/ggplot2-heatmaps-using-different-gradients-for-categories/13016912</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
compet &lt;- "ACB"
df &lt;- do_join_games_bio(compet, acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
df2 &lt;- do_stats(df1, "Total", "2017-2018", compet, "Regular Season")
teams &lt;- as.character(rev(sort(unique(df2$Team))))
get_heatmap_bb(df2, teams[6], NULL, "MP", 9, paste(compet, "2017-2018", "Total", sep = " "))

## End(Not run)

</code></pre>

<hr>
<h2 id='get_map_nats'>Nationalities map</h2><span id='topic+get_map_nats'></span>

<h3>Description</h3>

<p>A world map is represented. The countries from where there are players 
in the competition selected are in green color.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_map_nats(df_stats)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_map_nats_+3A_df_stats">df_stats</code></td>
<td>
<p>Data frame with the statistics and the corrected nationalities.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Graphical device.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_map_nats">do_map_nats</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
compet &lt;- "ACB"
df &lt;- do_join_games_bio(compet, acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
df2 &lt;- do_stats(df1, "Total", "2017-2018", compet, "Regular Season")
get_map_nats(df2)

## End(Not run)
        
</code></pre>

<hr>
<h2 id='get_pop_pyramid'>Population pyramid</h2><span id='topic+get_pop_pyramid'></span>

<h3>Description</h3>

<p>This is the code to get a population pyramid with the number of both Spanish 
and foreigner players along the seasons for the ACB league. 
This aids in discussion of nationality imbalance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pop_pyramid(df, title, language)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_pop_pyramid_+3A_df">df</code></td>
<td>
<p>Data frame that contains the ACB players' nationality.</p>
</td></tr>
<tr><td><code id="get_pop_pyramid_+3A_title">title</code></td>
<td>
<p>Title of the plot</p>
</td></tr>
<tr><td><code id="get_pop_pyramid_+3A_language">language</code></td>
<td>
<p>String, &quot;eng&quot; for English labels; &quot;esp&quot; for Spanish labels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Graphical device.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 # Load the data_app_acb file with the ACB games 
 # from seasons 1985-1986 to 2017-2018:
 load(url("http://www.uv.es/vivigui/softw/data_app_acb.RData"))
 title &lt;- " Number of Spanish and foreign players along the ACB seasons \n Data from www.acb.com"
 get_pop_pyramid(data_app_acb, title, "eng")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_shooting_plot'>Shooting plot</h2><span id='topic+get_shooting_plot'></span>

<h3>Description</h3>

<p>This plot represents the number of shots attempted and scored by every 
player of the same team, together with the scoring percentage. 
The players are sortered by percentage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_shooting_plot(df_stats, team, type_shot, min_att, title, language)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_shooting_plot_+3A_df_stats">df_stats</code></td>
<td>
<p>Data frame with the statistics.</p>
</td></tr>
<tr><td><code id="get_shooting_plot_+3A_team">team</code></td>
<td>
<p>Team.</p>
</td></tr>
<tr><td><code id="get_shooting_plot_+3A_type_shot">type_shot</code></td>
<td>
<p>Numeric with values 1-2-3: 1 refers to free throws,
2 refers to two point shots and 3 refers to three points shots.</p>
</td></tr>
<tr><td><code id="get_shooting_plot_+3A_min_att">min_att</code></td>
<td>
<p>Minimum number of attempts by the player to
be represented in the plot.</p>
</td></tr>
<tr><td><code id="get_shooting_plot_+3A_title">title</code></td>
<td>
<p>Plot title.</p>
</td></tr>
<tr><td><code id="get_shooting_plot_+3A_language">language</code></td>
<td>
<p>Language labels. Current options are 'en' for English
and 'es' for Spanish.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Graphical device.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
compet &lt;- "ACB"
df &lt;- do_join_games_bio(compet, acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
df2 &lt;- do_stats(df1, "Total", "2017-2018", compet, "Regular Season")
get_shooting_plot(df2, "Valencia", 3, 1, 
                  paste("Valencia", compet, "2017-2018", sep = " "), "en")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_similar_players'>Similar players to archetypoids</h2><span id='topic+get_similar_players'></span>

<h3>Description</h3>

<p>Similar players to the archetypoids computed with 
<code><a href="Anthropometry.html#topic+archetypoids">archetypoids</a></code> according to a similarity threshold.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_similar_players(atype, threshold, alphas, cases, data, variables, compet, season)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_similar_players_+3A_atype">atype</code></td>
<td>
<p>Number assigned to the archetypoid (1:length(<code>cases</code>)) from which
searching the players who most resemble to it.</p>
</td></tr>
<tr><td><code id="get_similar_players_+3A_threshold">threshold</code></td>
<td>
<p>Similarity threshold.</p>
</td></tr>
<tr><td><code id="get_similar_players_+3A_alphas">alphas</code></td>
<td>
<p>Alpha values of all the players.</p>
</td></tr>
<tr><td><code id="get_similar_players_+3A_cases">cases</code></td>
<td>
<p>Archetypoids.</p>
</td></tr>
<tr><td><code id="get_similar_players_+3A_data">data</code></td>
<td>
<p>Data frame with the statistics.</p>
</td></tr>
<tr><td><code id="get_similar_players_+3A_variables">variables</code></td>
<td>
<p>Statistics used to compute the archetypoids.</p>
</td></tr>
<tr><td><code id="get_similar_players_+3A_compet">compet</code></td>
<td>
<p>Competition.</p>
</td></tr>
<tr><td><code id="get_similar_players_+3A_season">season</code></td>
<td>
<p>Season.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with the features of the similar players.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="Anthropometry.html#topic+archetypoids">archetypoids</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(s0 &lt;- Sys.time())
# Turn off temporarily some negligible warnings from the 
# archetypes package to avoid missunderstandings. The code works well.
library(Anthropometry)
df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df1 &lt;- do_add_adv_stats(df)
df2 &lt;- do_stats(df1, "Total", "2017-2018", "ACB", "Regular Season")
df3 &lt;- df2[which(df2$Position == "Guard")[1:31], c("MP", "PTS", "Name")]
preproc &lt;- preprocessing(df3[,1:2], stand = TRUE, percAccomm = 1)
set.seed(4321)
suppressWarnings(lass &lt;- stepArchetypesRawData(preproc$data, 1:2, 
                numRep = 20, verbose = FALSE))
res &lt;- archetypoids(2, preproc$data, huge = 200, step = FALSE, ArchObj = lass,
                    nearest = "cand_ns", sequ = TRUE)
# The S3 class of anthrCases from Anthropometry has been updated.
cases &lt;- anthrCases(res) 
df3[cases,] # https://github.com/r-quantities/units/issues/225
alphas &lt;- round(res$alphas, 4)
df3_aux &lt;- df2[which(df2$Position == "Guard")[1:31], ]
get_similar_players(1, 0.99, alphas, cases, df3_aux, c("MP", "PTS"), 
                    unique(df3_aux$Compet), unique(df3_aux$Season))
s1 &lt;- Sys.time() - s0
s1                    

</code></pre>

<hr>
<h2 id='get_similar_teams'>Similar teams to archetypoids</h2><span id='topic+get_similar_teams'></span>

<h3>Description</h3>

<p>Similar teams to the archetypoids computed with 
<code><a href="Anthropometry.html#topic+archetypoids">archetypoids</a></code> according to a similarity threshold.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_similar_teams(atype, threshold, alphas, cases, data, variables)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_similar_teams_+3A_atype">atype</code></td>
<td>
<p>Number assigned to the archetypoid (1:length(<code>cases</code>)) from which
searching the players who most resemble to it.</p>
</td></tr>
<tr><td><code id="get_similar_teams_+3A_threshold">threshold</code></td>
<td>
<p>Similarity threshold.</p>
</td></tr>
<tr><td><code id="get_similar_teams_+3A_alphas">alphas</code></td>
<td>
<p>Alpha values of all the players.</p>
</td></tr>
<tr><td><code id="get_similar_teams_+3A_cases">cases</code></td>
<td>
<p>Archetypoids.</p>
</td></tr>
<tr><td><code id="get_similar_teams_+3A_data">data</code></td>
<td>
<p>Data frame with the statistics.</p>
</td></tr>
<tr><td><code id="get_similar_teams_+3A_variables">variables</code></td>
<td>
<p>Statistics used to compute the archetypoids.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with the features of the similar teams.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="Anthropometry.html#topic+archetypoids">archetypoids</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
(s0 &lt;- Sys.time())
library(Anthropometry)
df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df$Compet &lt;- "ACB"
df_teams &lt;- do_stats_teams(df, "2017-2018", "ACB", "Regular Season")
df_team_total &lt;- df_teams$df_team_total

df3 &lt;- df_team_total[, c("PTS", "PTSrv", "Team")]
preproc &lt;- preprocessing(df3[,1:2], stand = TRUE, percAccomm = 1)
set.seed(4321)
lass &lt;- stepArchetypesRawData(preproc$data, 1:2, numRep = 20, verbose = FALSE)
res &lt;- archetypoids(2, preproc$data, huge = 200, step = FALSE, ArchObj = lass,
                    nearest = "cand_ns", sequ = TRUE)
cases &lt;- anthrCases(res)
df3[cases,]
alphas &lt;- round(res$alphas, 4)

get_similar_teams(1, 0.95, alphas, cases, df_team_total, c("PTS", "PTSrv"))
s1 &lt;- Sys.time() - s0
s1

## End(Not run)                     

</code></pre>

<hr>
<h2 id='get_stats_seasons'>Season-by-season stats</h2><span id='topic+get_stats_seasons'></span>

<h3>Description</h3>

<p>This function represents the average values of a set of statistics 
for certain players in every season where the players played. It gives
an idea of the season-by-season performance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_stats_seasons(df, competition, player, variabs, type_season, add_text, show_x_axis)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_stats_seasons_+3A_df">df</code></td>
<td>
<p>Data frame with the games and the players info.</p>
</td></tr>
<tr><td><code id="get_stats_seasons_+3A_competition">competition</code></td>
<td>
<p>Competition.</p>
</td></tr>
<tr><td><code id="get_stats_seasons_+3A_player">player</code></td>
<td>
<p>Players's names.</p>
</td></tr>
<tr><td><code id="get_stats_seasons_+3A_variabs">variabs</code></td>
<td>
<p>Vector with the statistics to plot.</p>
</td></tr>
<tr><td><code id="get_stats_seasons_+3A_type_season">type_season</code></td>
<td>
<p>String with the round of competition, for example regular season
or playoffs and so on.</p>
</td></tr>
<tr><td><code id="get_stats_seasons_+3A_add_text">add_text</code></td>
<td>
<p>Boolean. Should text be added to the plot points?</p>
</td></tr>
<tr><td><code id="get_stats_seasons_+3A_show_x_axis">show_x_axis</code></td>
<td>
<p>Boolean. Should x-axis labels be shown in the plot?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with two elements:
</p>

<ul>
<li><p> gg Graphical device.
</p>
</li>
<li><p> df_gg Data frame associated with the plot.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
competition &lt;- "ACB"
df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df$Compet &lt;- competition
player &lt;- "Carroll, Jaycee"
variabs &lt;- c("GP", "MP", "PTS", "EFGPerc", "TRB", "AST", "TOV", "PIR")
plot_yearly &lt;- get_stats_seasons(df, competition, player, variabs, "All", TRUE, TRUE)
plot_yearly$gg
# There are only games from the regular season in this demo data frame.
plot_yearly1 &lt;- get_stats_seasons(df, competition, player, variabs, "Regular Season", 
                                  TRUE, TRUE)
plot_yearly1$gg

## End(Not run)

</code></pre>

<hr>
<h2 id='get_table_results'>League cross table</h2><span id='topic+get_table_results'></span>

<h3>Description</h3>

<p>The league results are represented with a cross table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table_results(df, competition, season)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_results_+3A_df">df</code></td>
<td>
<p>Data frame with the games and the players info.</p>
</td></tr>
<tr><td><code id="get_table_results_+3A_competition">competition</code></td>
<td>
<p>Competition.</p>
</td></tr>
<tr><td><code id="get_table_results_+3A_season">season</code></td>
<td>
<p>Season.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with these two elements:
</p>

<ul>
<li><p> plot_teams Graphical device with the cross table.
</p>
</li>
<li><p> wins_teams Vector with the team wins.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df &lt;- do_join_games_bio("ACB", acb_games_1718, acb_players_1718)
df$Compet &lt;- "ACB"

gg &lt;- get_table_results(df, "ACB", "2017-2018")

gg$wins_teams
gg$plot_teams

## End(Not run)

</code></pre>

<hr>
<h2 id='join_players_bio_age_acb'>Join ACB games and players' info</h2><span id='topic+join_players_bio_age_acb'></span>

<h3>Description</h3>

<p>This function joins the ACB games with the players' bio 
and computes the players' age at each game.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>join_players_bio_age_acb(df_games, df_rosters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="join_players_bio_age_acb_+3A_df_games">df_games</code></td>
<td>
<p>Data frame with the games.</p>
</td></tr>
<tr><td><code id="join_players_bio_age_acb_+3A_df_rosters">df_rosters</code></td>
<td>
<p>Data frame with the biography of the roster players.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_join_games_bio">do_join_games_bio</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- join_players_bio_age_acb(acb_games_1718, acb_players_1718)
          
</code></pre>

<hr>
<h2 id='join_players_bio_age_euro'>Join Euroleague and Eurocup games and players' info</h2><span id='topic+join_players_bio_age_euro'></span>

<h3>Description</h3>

<p>This function joins the Euroleague/Eurocup games with the players' bio 
and computes the players' age at each game.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>join_players_bio_age_euro(df_games, df_rosters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="join_players_bio_age_euro_+3A_df_games">df_games</code></td>
<td>
<p>Data frame with the games.</p>
</td></tr>
<tr><td><code id="join_players_bio_age_euro_+3A_df_rosters">df_rosters</code></td>
<td>
<p>Data frame with the biography of the roster players.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_join_games_bio">do_join_games_bio</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- join_players_bio_age_euro(euroleague_games_1718, euroleague_players_1718)
          
</code></pre>

<hr>
<h2 id='scraping_games_acb'>ACB player game finder data</h2><span id='topic+scraping_games_acb'></span>

<h3>Description</h3>

<p>This is the new function to obtain the ACB box score data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scraping_games_acb(code, game_id, season = "2020-2021", 
                   type_season = "Regular Season",
                   user_email, user_agent_goo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scraping_games_acb_+3A_code">code</code></td>
<td>
<p>Game code.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_+3A_game_id">game_id</code></td>
<td>
<p>Game id.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_+3A_season">season</code></td>
<td>
<p>Season, e.g. 2022-2023.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_+3A_type_season">type_season</code></td>
<td>
<p>Type of season, e.g. 'Regular season'.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_+3A_user_email">user_email</code></td>
<td>
<p>Email's user to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_+3A_user_agent_goo">user_agent_goo</code></td>
<td>
<p>User-agent to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the player game finder data (box score data).
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+scraping_games_acb_old">scraping_games_acb_old</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Not needed to scrape every time the package is checked, built and installed.
user_email &lt;- "yours"       
user_agent_goo &lt;- "yours" 
df1 &lt;- scraping_games_acb("103350", 1, "2022_2023", "Regular Season",
                          user_email, user_agent_goo)

## End(Not run)                           

</code></pre>

<hr>
<h2 id='scraping_games_acb_old'>Old ACB player game finder data</h2><span id='topic+scraping_games_acb_old'></span>

<h3>Description</h3>

<p>This function allowed us to get all the player game finder data for 
all the desired ACB seasons available from: 
<a href="https://www.acb.com">https://www.acb.com</a>. It was an old version that worked before the
internal structure of the ACB website changed. The updated function is
now <code><a href="#topic+scraping_games_acb">scraping_games_acb</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scraping_games_acb_old(type_league, nums, year, verbose = TRUE, 
                       accents = FALSE, r_user = "guillermo.vinue@uv.es")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scraping_games_acb_old_+3A_type_league">type_league</code></td>
<td>
<p>String. If <code>competition</code> is ACB, to scrape 
ACB league games (&quot;ACB&quot;), Copa del Rey games (&quot;CREY&quot;) or Supercopa games (&quot;SCOPA&quot;).</p>
</td></tr>
<tr><td><code id="scraping_games_acb_old_+3A_nums">nums</code></td>
<td>
<p>Numbers corresponding to the website to scrape.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_old_+3A_year">year</code></td>
<td>
<p>Season, e.g. 2017-2018.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_old_+3A_verbose">verbose</code></td>
<td>
<p>Should R report information on progress? Default TRUE.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_old_+3A_accents">accents</code></td>
<td>
<p>Should we keep the Spanish accents? The recommended 
option is to remove them, so default FALSE.</p>
</td></tr>
<tr><td><code id="scraping_games_acb_old_+3A_r_user">r_user</code></td>
<td>
<p>Email to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The official website of the Spanish basketball league ACB used to present the
statistics of each game in a php website, such as:
https://www.acb.com/fichas/LACB62090.php.
</p>
<p>In some cases, https://www.acb.com/fichas/LACB60315.php
didn't exist, so for these cases is where we can use the 
<code>httr</code> package.
</p>


<h3>Value</h3>

<p>A data frame with the player game finder data.
</p>


<h3>Note</h3>

<p>In addition to use the email address to stay identifiable, the function also 
contains two headers regarding the R platform and version used.
</p>
<p>Furthermore, even though in the robots.txt file at 
<a href="https://www.acb.com/robots.txt">https://www.acb.com/robots.txt</a>, there is no information about scraping
limitations and all robots are allowed to have complete access,
the function also includes the command <code>Sys.sleep(2)</code>
to pause between requests for 2 seconds. In this way, we don't bother the server 
with multiple requests and we do carry out a friendly scraping.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_scraping_games">do_scraping_games</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Not needed to scrape every time the package is checked, built and installed.
df1 &lt;- scraping_games_acb_old(type_league = "ACB", nums = 62001:62002, year = "2017-2018",
                              verbose = TRUE, accents = FALSE, 
                              r_user = "guillermo.vinue@uv.es")

## End(Not run)                           

</code></pre>

<hr>
<h2 id='scraping_games_euro'>Euroleague and Eurocup player game finder data</h2><span id='topic+scraping_games_euro'></span>

<h3>Description</h3>

<p>This function should allow us to get all the player game finder data for 
all the desired Euroleague and Eurocup seasons available from
<a href="https://www.euroleaguebasketball.net/euroleague/game-center/">https://www.euroleaguebasketball.net/euroleague/game-center/</a> and
<a href="https://www.euroleaguebasketball.net/eurocup/game-center/">https://www.euroleaguebasketball.net/eurocup/game-center/</a>, respectively. 
</p>
<p>NOTE (2023): The Euroleague and Eurocup websites have changed their format, so 
this function will need to be updated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scraping_games_euro(competition, nums, year, verbose = TRUE,
                    r_user = "guillermo.vinue@uv.es")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scraping_games_euro_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="scraping_games_euro_+3A_nums">nums</code></td>
<td>
<p>Numbers corresponding to the website from which scraping.</p>
</td></tr>
<tr><td><code id="scraping_games_euro_+3A_year">year</code></td>
<td>
<p>Year when the season starts. 2017 refers to 2017-2018 and so on.</p>
</td></tr>
<tr><td><code id="scraping_games_euro_+3A_verbose">verbose</code></td>
<td>
<p>Should R report information on progress? Default TRUE.</p>
</td></tr>
<tr><td><code id="scraping_games_euro_+3A_r_user">r_user</code></td>
<td>
<p>Email to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the examples in <code><a href="#topic+get_games_rosters">get_games_rosters</a></code> to see the game numbers
to scrape in each season.
</p>


<h3>Value</h3>

<p>A data frame with the player game finder data.
</p>


<h3>Note</h3>

<p>In addition to use the email address to stay identifiable, the function also 
contains two headers regarding the R platform and version used.
</p>
<p>Furthermore, in the robots.txt file located at
<a href="https://www.euroleaguebasketball.net/robots.txt">https://www.euroleaguebasketball.net/robots.txt</a>
there is no Crawl-delay field. However, we assume crawlers to pause between 
requests for 15 seconds. This is done by adding to the function the command
<code>Sys.sleep(15)</code>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_scraping_games">do_scraping_games</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Not needed to scrape every time the package is checked, built and installed.
# It takes 15 seconds.
df1 &lt;- do_scraping_games(competition = "Euroleague", nums = 1:2, 
                         year = "2017", verbose = TRUE, r_user = 
                         "guillermo.vinue@uv.es")

## End(Not run)

</code></pre>

<hr>
<h2 id='scraping_rosters_acb'>ACB players' profile</h2><span id='topic+scraping_rosters_acb'></span>

<h3>Description</h3>

<p>This function allows us to obtain the basic information of each player, 
including his birth date. Then, we will be able to compute the age that 
each player had in the date that he played each game. 
The website used to collect information is <a href="https://www.acb.com">https://www.acb.com</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scraping_rosters_acb(pcode, verbose = TRUE, accents = FALSE, 
                     r_user = "guillermo.vinue@uv.es")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scraping_rosters_acb_+3A_pcode">pcode</code></td>
<td>
<p>Code corresponding to the player's website to scrape.</p>
</td></tr>
<tr><td><code id="scraping_rosters_acb_+3A_verbose">verbose</code></td>
<td>
<p>Should R report information on progress? Default TRUE.</p>
</td></tr>
<tr><td><code id="scraping_rosters_acb_+3A_accents">accents</code></td>
<td>
<p>Should we keep the Spanish accents? The recommended 
option is to remove them, so default FALSE.</p>
</td></tr>
<tr><td><code id="scraping_rosters_acb_+3A_r_user">r_user</code></td>
<td>
<p>Email user to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some players have a particular licence, which does not necessarily match with their
nationality, in order not to be considered as a foreign player, according to the 
current ACB rules.
</p>


<h3>Value</h3>

<p>Data frame with eight columns: 
</p>

<ul>
<li><p> CombinID: Unique ID to identify the players.
</p>
</li>
<li><p> Player: Player's name.
</p>
</li>
<li><p> Position: Player's position on the court.
</p>
</li>
<li><p> Height: Player's height.
</p>
</li>
<li><p> Date_birth: Player's birth date.
</p>
</li>
<li><p> Nationality: Player's nationality.
</p>
</li>
<li><p> Licence: Player's licence.
</p>
</li>
<li><p> Website_player: Website.
</p>
</li></ul>



<h3>Note</h3>

<p>In addition to use the email address to stay identifiable, the function also 
contains two headers regarding the R platform and version used.
</p>
<p>Furthermore, even though in the robots.txt file at 
<a href="https://www.acb.com/robots.txt">https://www.acb.com/robots.txt</a>, there is no information about scraping
limitations and all robots are allowed to have complete access,
the function also includes the command <code>Sys.sleep(2)</code>
to pause between requests for 2 seconds. In this way, we don't bother the server 
with multiple requests and we do carry out a friendly scraping.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_scraping_rosters">do_scraping_rosters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Not needed to scrape every time the package is checked, built and installed.
df_bio &lt;- scraping_rosters_acb("56C", verbose = TRUE, accents = FALSE, 
                               r_user = "guillermo.vinue@uv.es")

## End(Not run)

</code></pre>

<hr>
<h2 id='scraping_rosters_euro'>Euroleague and Eurocup players' profile</h2><span id='topic+scraping_rosters_euro'></span>

<h3>Description</h3>

<p>This function should allow us to obtain the basic information of each 
Euroleague/Eurocup player, including his birth date. Then, we will 
be able to compute the age that each player had in the date that he 
played each game. The websites used to collect information are
<a href="https://www.euroleaguebasketball.net/euroleague/">https://www.euroleaguebasketball.net/euroleague/</a> and 
<a href="https://www.euroleaguebasketball.net/eurocup/">https://www.euroleaguebasketball.net/eurocup/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scraping_rosters_euro(competition, pcode, year, verbose = TRUE, 
                      r_user = "guillermo.vinue@uv.es")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scraping_rosters_euro_+3A_competition">competition</code></td>
<td>
<p>String. Options are &quot;Euroleague&quot; and &quot;Eurocup&quot;.</p>
</td></tr>
<tr><td><code id="scraping_rosters_euro_+3A_pcode">pcode</code></td>
<td>
<p>Code corresponding to the player's website to scrape.</p>
</td></tr>
<tr><td><code id="scraping_rosters_euro_+3A_year">year</code></td>
<td>
<p>Year when the season starts. 2017 refers to 2017-2018 and so on.</p>
</td></tr>
<tr><td><code id="scraping_rosters_euro_+3A_verbose">verbose</code></td>
<td>
<p>Should R report information on progress? Default TRUE.</p>
</td></tr>
<tr><td><code id="scraping_rosters_euro_+3A_r_user">r_user</code></td>
<td>
<p>Email user to identify the user when doing web scraping. 
This is a polite way to do web scraping and to certify that the user 
is working as transparently as possible with a research purpose.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with seven columns: 
</p>

<ul>
<li><p> CombinID: Unique ID to identify the players.
</p>
</li>
<li><p> Player: Player's name.
</p>
</li>
<li><p> Position: Player's position on the court.
</p>
</li>
<li><p> Height: Player's height.
</p>
</li>
<li><p> Date_birth: Player's birth date.
</p>
</li>
<li><p> Nationality Player's nationality.
</p>
</li>
<li><p> Website_player: Website.
</p>
</li></ul>



<h3>Note</h3>

<p>In addition to use the email address to stay identifiable, the function also 
contains two headers regarding the R platform and version used.
</p>
<p><a href="https://www.euroleaguebasketball.net/robots.txt">https://www.euroleaguebasketball.net/robots.txt</a>
there is no Crawl-delay field. However, we assume crawlers to pause between 
requests for 15 seconds. This is done by adding to the function the command
<code>Sys.sleep(15)</code>.
</p>


<h3>Author(s)</h3>

<p>Guillermo Vinue
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_scraping_rosters">do_scraping_rosters</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Not needed to scrape every time the package is checked, built and installed.
# It takes 15 seconds.
df_bio &lt;- scraping_rosters_euro("Euroleague", "005791", "2017", verbose = TRUE,
                                 r_user = "guillermo.vinue@uv.es")

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

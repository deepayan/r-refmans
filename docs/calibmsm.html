<!DOCTYPE html><html><head><title>Help for package calibmsm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {calibmsm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calc_aj'><p>Estimate Aalen-Johansen estimator for a cohort of individuals</p></a></li>
<li><a href='#calc_pv_aj'><p>Estimate pseudo-values for the transition probabilities based on the Aalen-Johansen estimator</p></a></li>
<li><a href='#calc_weights'><p>Calculate inverse probability of censoring weights at time <code>t</code>.</p></a></li>
<li><a href='#calib_blr'><p>Estimate calibration curves for a multistate model using binary logistic regression calibration techniques and inverse probability of censoring weights.'</p></a></li>
<li><a href='#calib_mlr'><p>Create data for calibration curves using a multinomial logistic regression framework with inverse probability of censoring weights</p></a></li>
<li><a href='#calib_pv'><p>Estimate calibration curves for a multistate model using pseudo-values.</p></a></li>
<li><a href='#calibmsm-package'><p>calibmsm: Calibration Plots for the Transition Probabilities from Multistate Models</p></a></li>
<li><a href='#ebmtcal'><p>European Group for Blood and Marrow Transplantation data</p></a></li>
<li><a href='#extract_ids_states'><p>Identify patids for individuals in state j at time t</p></a></li>
<li><a href='#msebmtcal'><p>European Group for Blood and Marrow Transplantation data</p></a></li>
<li><a href='#msebmtcal.cmprsk'><p>European Group for Blood and Marrow Transplantation data in competing risks format, for transitions out of the initial state only</p></a></li>
<li><a href='#plot.calib_blr'><p>Plots calibration curves estimated using <code>calib_blr</code>.</p></a></li>
<li><a href='#plot.calib_mlr'><p>Plots calibration scatter plots estimated using <code>calib_mlr</code>.</p></a></li>
<li><a href='#plot.calib_pv'><p>Plots calibration curves estimated using <code>calib_pv</code>.</p></a></li>
<li><a href='#tp.cmprsk.j0'><p>Predicted risks for a competing risks model out of state j = 0</p></a></li>
<li><a href='#tps0'><p>Predicted transition probabilities out of transplant state made at time s = 0</p></a></li>
<li><a href='#tps100'><p>Predicted transition probabilities out of every state made at time s = 100</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Calibration Plots for the Transition Probabilities from
Multistate Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Assess the calibration of an existing (i.e. previously developed) multistate
  model through calibration plots. 
  Calibration is assessed using one of three methods. 1) Calibration methods for 
  binary logistic regression models applied at a fixed time point in conjunction 
  with inverse probability of censoring weights. 2) Calibration methods for 
  multinomial logistic regression models applied at a fixed time point in conjunction 
  with inverse probability of censoring weights. 3) Pseudo-values estimated using 
  the Aalen-Johansen estimator of observed risk. All methods are applied in conjunction
  with landmarking when required. These calibration plots evaluate the calibration 
  (in a validation cohort of interest) of the transition probabilities estimated from an 
  existing multistate model. While package development has focused on multistate 
  models, calibration plots can be produced for any model which utilises information 
  post baseline to update predictions (e.g. dynamic models); competing risks models; 
  or standard single outcome survival models, where predictions can be made at 
  any landmark time. The underpinning methodology is currently undergoing peer review; see Pate et al. (2023) &lt;<a href="https://arxiv.org/abs/2308.13394">arXiv:2308.13394</a>&gt;
  and Pate et al. (2023) <a href="https://alexpate30.github.io/calibmsm/articles/Overview.html">https://alexpate30.github.io/calibmsm/articles/Overview.html</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, dplyr, ggplot2, ggpubr, Hmisc, magrittr, mstate, rms,
stats, survival, tidyr, VGAM</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://alexpate30.github.io/calibmsm/">https://alexpate30.github.io/calibmsm/</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-30 11:37:05 UTC; mbrxsap3</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexander Pate <a href="https://orcid.org/0000-0002-0849-3458"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Glen P Martin <a href="https://orcid.org/0000-0002-3410-9472"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [fnd, rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexander Pate &lt;alexander.pate@manchester.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-30 19:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='calc_aj'>Estimate Aalen-Johansen estimator for a cohort of individuals</h2><span id='topic+calc_aj'></span>

<h3>Description</h3>

<p>Estimates Aalen-Johansen estimator for the transition probabilities in cohort data.mstate.
Estimates transition probabilities at time t if in state j at time 0
The Aalen-Johansen estimator for the entire cohort (including individual person_id.eval)
is inputted manually (obs.aj), to speed up computational time if calculating pseudo-values
for multiple individuals from the same cohort.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_aj(data.mstate, tmat, t, j)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_aj_+3A_data.mstate">data.mstate</code></td>
<td>
<p>Validation data in <code>msdata</code> format</p>
</td></tr>
<tr><td><code id="calc_aj_+3A_tmat">tmat</code></td>
<td>
<p>Transition probability matrix</p>
</td></tr>
<tr><td><code id="calc_aj_+3A_t">t</code></td>
<td>
<p>Follow up time at which calibration is to be assessed</p>
</td></tr>
<tr><td><code id="calc_aj_+3A_j">j</code></td>
<td>
<p>Landmark state at which predictions were made</p>
</td></tr>
</table>

<hr>
<h2 id='calc_pv_aj'>Estimate pseudo-values for the transition probabilities based on the Aalen-Johansen estimator</h2><span id='topic+calc_pv_aj'></span>

<h3>Description</h3>

<p>Estimates the pseudo-values for an individual (person_id.eval) from cohort data.mstate.
Calculates psuedo-values for transition probabilities at time t if in state j at time 0
The Aalen-Johansen estimator for the entire cohort (including individual person_id.eval)
is inputted manually (obs.aj), to speed up computaitonal time if calculating pseudo-values
for multiple individuals from the same cohort.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_pv_aj(person_id.eval, data.mstate, obs.aj, tmat, n.cohort, t, j)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_pv_aj_+3A_person_id.eval">person_id.eval</code></td>
<td>
<p>id of individual to calculate the pseudo-value for</p>
</td></tr>
<tr><td><code id="calc_pv_aj_+3A_data.mstate">data.mstate</code></td>
<td>
<p>Validation data in <code>msdata</code> format</p>
</td></tr>
<tr><td><code id="calc_pv_aj_+3A_obs.aj">obs.aj</code></td>
<td>
<p>Aalen-Johansen estimator of the transition probabilities in the entire cohort (not excluding person_id.eval)</p>
</td></tr>
<tr><td><code id="calc_pv_aj_+3A_tmat">tmat</code></td>
<td>
<p>Transition probability matrix</p>
</td></tr>
<tr><td><code id="calc_pv_aj_+3A_n.cohort">n.cohort</code></td>
<td>
<p>Size of cohort (number of unique entries in data.mstate)</p>
</td></tr>
<tr><td><code id="calc_pv_aj_+3A_t">t</code></td>
<td>
<p>Follow up time at which calibration is to be assessed</p>
</td></tr>
<tr><td><code id="calc_pv_aj_+3A_j">j</code></td>
<td>
<p>Landmark state at which predictions were made</p>
</td></tr>
</table>

<hr>
<h2 id='calc_weights'>Calculate inverse probability of censoring weights at time <code>t</code>.</h2><span id='topic+calc_weights'></span>

<h3>Description</h3>

<p>Estimates the inverse probability of censoring weights by fitting a cox-propotinal hazards model
in a landmark cohort of individuals. Primarily used internally, this function has
been exported to allow users to reproduce results in the vignette when
estimating confidence intervals using bootstrapping manually.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_weights(
  data.mstate,
  data.raw,
  covs = NULL,
  t,
  s,
  landmark.type = "state",
  j = NULL,
  max.weight = 10,
  stabilised = FALSE,
  max.follow = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_weights_+3A_data.mstate">data.mstate</code></td>
<td>
<p>Validation data in msdata format</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_data.raw">data.raw</code></td>
<td>
<p>Validation data in data.frame (one row per individual)</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_covs">covs</code></td>
<td>
<p>Character vector of variable names to adjust for when calculating inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_t">t</code></td>
<td>
<p>Follow up time at which to calculate weights</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_s">s</code></td>
<td>
<p>Landmark time at which predictions were made</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_landmark.type">landmark.type</code></td>
<td>
<p>Whether weights are estimated in all individuals uncensored at time s ('all') or only in individuals uncensored and in state j at time s ('state')</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_j">j</code></td>
<td>
<p>Landmark state at which predictions were made (only required in landmark.type = 'state')</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_max.weight">max.weight</code></td>
<td>
<p>Maximum bound for weights</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_stabilised">stabilised</code></td>
<td>
<p>Indicates whether weights should be stabilised or not</p>
</td></tr>
<tr><td><code id="calc_weights_+3A_max.follow">max.follow</code></td>
<td>
<p>Maximum follow up for model calculating inverse probability of censoring weights. Reducing this to <code>t</code> + 1 may aid in the proportional hazards assumption being met in this model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Estimates inverse probability of censoring weights (Hernan M, Robins J, 2020).
Fits a cox proportional hazards model to individuals in a landmark cohort, predicting the probability of being censored
at time <code>t</code>. This landmark cohort may either be all individuals uncensored at time <code>s</code>, or those uncensored
and in state <code>j</code> at time <code>s</code>. All predictors in <code>w.covs</code> are assumed to have a linear effect on the hazard.
Weights are estimated for all individuals in <code>data.raw</code>, even if they will not be used in the analysis as they do not meet the landmarking
requirements. If an individual enters an absorbing state prior to <code>t</code>, we estimate the probability of being censored
before the time of entry into the absorbing state, rather than at <code>t</code>. Details on all the above this are provided in
vignette <em>overview</em>.
</p>


<h3>Value</h3>

<p>A dataframe with three columns. <code>id</code> corresponds to the patient ids from <code>data.raw</code>. <code>ipcw</code> contains the inverse probability
of censoring weights (specifically the inverse of the probability of being uncesored). <code>pcw = 1/ipcw</code>. If <code>stabilised = TRUE</code> was specified,
a fourth variable <code>ipcw.stab</code> will be returned, which is the stabilised inverse probability of censoring weights.
</p>


<h3>References</h3>

<p>Hernan M, Robins J (2020). “12.2 Estimating IP weights via modeling.” In <em>Causal Inference:
What If</em>, chapter 12.2. Chapman Hall/CRC, Boca Raton.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Estimate inverse probability of censoring weights for individual in cohort ebmtcal.
# Specifically the probability of being uncensored at t = 1826 days.
# Weights are estimated using a model fitted in all individuals uncensored at time s = 0.
weights.manual &lt;-
calc_weights(data.mstate = msebmtcal,
  data.raw = ebmtcal,
  covs = c("year", "agecl", "proph", "match"),
  t = 1826,
  s = 0,
  landmark.type = "state",
  j = 1)

 str(weights.manual)

</code></pre>

<hr>
<h2 id='calib_blr'>Estimate calibration curves for a multistate model using binary logistic regression calibration techniques and inverse probability of censoring weights.'</h2><span id='topic+calib_blr'></span>

<h3>Description</h3>

<p>Creates the underlying data for the calibration curves. <code>calib_blr</code>
estimates the observed event probabilities for a given set of predicted transition probabilities
in a cohort of interest. This is done using techniques for assessing calibration of binary logistic regression models,
in combination with inverse probability of censoring weights and landmarking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calib_blr(
  data.mstate,
  data.raw,
  j,
  s,
  t,
  tp.pred,
  curve.type = "rcs",
  rcs.nk = 3,
  loess.span = 0.75,
  loess.degree = 2,
  weights = NULL,
  w.function = NULL,
  w.covs = NULL,
  w.landmark.type = "state",
  w.max = 10,
  w.stabilised = FALSE,
  w.max.follow = NULL,
  CI = FALSE,
  CI.type = "bootstrap",
  CI.R.boot = NULL,
  data.pred.plot = NULL,
  transitions.out = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calib_blr_+3A_data.mstate">data.mstate</code></td>
<td>
<p>Validation data in <code>msdata</code> format</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_data.raw">data.raw</code></td>
<td>
<p>Validation data in <code>data.frame</code> (one row per individual)</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_j">j</code></td>
<td>
<p>Landmark state at which predictions were made</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_s">s</code></td>
<td>
<p>Landmark time at which predictions were made</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_t">t</code></td>
<td>
<p>Follow up time at which calibration is to be assessed</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_tp.pred">tp.pred</code></td>
<td>
<p>Matrix of predicted transition probabilities at time t, if in state j at time s. There must be a seperate column for the predicted transition probabilities into every state, even if these predicted transition probabilities are 0.</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_curve.type">curve.type</code></td>
<td>
<p>Whether calibration curves are estimated using restricted cubic splines ('rcs') or loess smoothers ('loess')</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_rcs.nk">rcs.nk</code></td>
<td>
<p>Number of knots when curves are estimated using restricted cubic splines</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_loess.span">loess.span</code></td>
<td>
<p>Span when curves are estimated using loess smoothers</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_loess.degree">loess.degree</code></td>
<td>
<p>Degree when curves are estimated. using loess smoothers</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_weights">weights</code></td>
<td>
<p>Vector of inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_w.function">w.function</code></td>
<td>
<p>Custom function for estimating the inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_w.covs">w.covs</code></td>
<td>
<p>Character vector of variable names to adjust for when calculating inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_w.landmark.type">w.landmark.type</code></td>
<td>
<p>Whether weights are estimated in all individuals uncensored at time s ('all') or only in individuals uncensored and in state j at time s ('state')</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_w.max">w.max</code></td>
<td>
<p>Maximum bound for inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_w.stabilised">w.stabilised</code></td>
<td>
<p>Indicates whether inverse probability of censoring weights should be stabilised or not</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_w.max.follow">w.max.follow</code></td>
<td>
<p>Maximum follow up for model calculating inverse probability of censoring weights. Reducing this to <code>t</code> + 1 may aid in the proportional hazards assumption being met in this model.</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_ci">CI</code></td>
<td>
<p>Size of confidence intervals as a %</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_ci.type">CI.type</code></td>
<td>
<p>Method for estimating confidence interval (currently restricted to <code>bootstrap</code>)</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_ci.r.boot">CI.R.boot</code></td>
<td>
<p>Number of bootstrap replicates when estimating the confidence interval for the calibration curve</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_data.pred.plot">data.pred.plot</code></td>
<td>
<p>Data frame or matrix of predicted risks for each possible transition over which to plot the calibration curves. Must have one column for every possible transition.</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_transitions.out">transitions.out</code></td>
<td>
<p>Transitions for which to calculate calibration curves. Will do all possible transitions if left as NULL.</p>
</td></tr>
<tr><td><code id="calib_blr_+3A_...">...</code></td>
<td>
<p>Extra arguments to be passed to w.function (custom function for estimating weights)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Observed event probabilities at time <code>t</code> are estimated for predicted
transition probabilities <code>tp.pred</code> out of state <code>j</code> at time <code>s</code>.
<code>calib_blr</code> estimates calibration curves using techniques for assessing the calibration of binary logistic
regression models (Van Calster et al., 2016). A choice between restricted cubic splines and loess
smoothers for estimating the calibration curve can be made using <code>curve.type</code>.
Landmarking is applied to only assess calibration in individuals who are uncensored
and in state <code>j</code> at time <code>s</code>. Censoring is dealt with using inverse probability of
censoring weights (Hernan M, Robins J, 2020).
</p>
<p>Two datasets for the same cohort of inidividuals must be provided. Firstly <code>data.mstate</code> must be a dataset of class <code>msdata</code>,
generated using the <code>[mstate]</code> package. This dataset is used to apply the landmarking. Secondly, <code>data.raw</code> must be
a <code>data.frame</code> with one row per individual, containing the desired variables for estimating the weights, and variables for the time
until censoring (<code>dtcens</code>), and an indicator for censoring <code>dtcens.s</code>, where (<code>dtcens.s = 1</code>) if
an individual is censored at time <code>dtcens</code>, and <code>dtcens.s = 0</code> otherwise. When an individual
enters an absorbing state, this prevents censoring from happening (i.e. dtcens.s = 0). Unless the user specifies
the weights using <code>weights</code>, the weights are
estimated using a cox-proportional hazard model, assuming a linear
functional form of the variables defined in <code>w.covs</code>. We urge users to
specify their own model for estimating the weights. The <code>weights</code> argument
must be a vector with length equal to the number of rows of <code>data.raw</code>. Confidence intervals for
the calibration curves can be estimated using bootstrapping. This procedure
uses the internal method for estimating weights, we therefore encourage
users to specify their own bootstrapping procedure, which incorporates their
own model for estimating the weights. Details on how to do this are provided
in the vignette <em>BLR-IPCW-manual-bootstrap</em>.
</p>
<p>The calibration curves can be plotted using <code><a href="#topic+plot.calib_blr">plot.calib_blr</a></code>.
</p>


<h3>Value</h3>

<p><code><a href="#topic+calib_blr">calib_blr</a></code> returns a list containing two elements:
<code>plotdata</code> and <code>metadata</code>. The <code>plotdata</code> element contains the
data for the calibration curves. This will itself be a list with each element
containing calibration plot data for the transition probabilities into each of the possible
states. Each list element contains patient ids (<code>id</code>) from <code>data.raw</code>, the predicted
transition probabilities (<code>pred</code>) and the estimated observed event
probabilities (<code>obs</code>). If a confidence interval is requested, upper (<code>obs.upper</code>)
and lower (<code>obs.lower</code>) bounds for the observed event probabilities are also returned.
If data.pred.plot is defined manually, column (<code>id</code>) is not returned.
The <code>metadata</code> element contains metadata including: a vector of the possible transitions,
a vector of which transitions calibration curves have been estimated for, the
size of the confidence interval, the method for estimating the calibration curve
and other user specified information.
</p>


<h3>References</h3>

<p>Hernan M, Robins J (2020). “12.2 Estimating IP weights via modeling.” In <em>Causal Inference:
What If</em>, chapter 12.2. Chapman Hall/CRC, Boca Raton.
</p>
<p>Van Calster B, Nieboer D, Vergouwe Y, De Cock B, Pencina MJ, Steyerberg EW (2016). “A
calibration hierarchy for risk models was defined: From utopia to empirical data.” <em>Journal
of Clinical Epidemiology</em>, 74, 167–176. ISSN 18785921. doi:10.1016/j.jclinepi.2015.
12.005. URL http://dx.doi.org/10.1016/j.jclinepi.2015.12.005
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Estimate BLR-IPCW calibration curves for the predicted transition
# probabilities at time t = 1826, when predictions were made at time
# s = 0 in state j = 1. These predicted transition probabilities are stored in tps0.

# Extract the predicted transition probabilities out of state j = 1
tp.pred &lt;- dplyr::select(dplyr::filter(tps0, j == 1), any_of(paste("pstate", 1:6, sep = "")))

# Now estimate the observed event probabilities for each possible transition.
# 95% confidence intervals are estimated using bootstrapping with 200
# bootstrap repicates. In practice we recommend using a higher number.
dat.calib.blr &lt;-
calib_blr(data.mstate = msebmtcal,
 data.raw = ebmtcal,
 j=1,
 s=0,
 t = 1826,
 tp.pred = tp.pred,
 w.covs = c("year", "agecl", "proph", "match"))

# The data for each calibration curve are stored in the "plotdata" list
# element.
str(dat.calib.blr)

</code></pre>

<hr>
<h2 id='calib_mlr'>Create data for calibration curves using a multinomial logistic regression framework with inverse probability of censoring weights</h2><span id='topic+calib_mlr'></span>

<h3>Description</h3>

<p>Creates the underlying data for the calibration plots. Observed event
probabilities at time <code>t</code> are estimated for inputted predicted
transition probabilities <code>tp.pred</code> out of state <code>j</code> at time <code>s</code>.
<code>calib_mlr</code> estimates calibration scatter plots using a multinomial logistic
framework in combination with landmarking and inverse probability of
censoring weights.
</p>
<p>Two datasets for the same cohort of inidividuals must be provided. A <code>msdata</code>
format dataset generated using the <code>mstate</code> package. A <code>data.frame</code> with one
row per individual, relevant variables for estimating the weights, and a time
until censoring varaible (<code>dtcens</code>) and indicator (<code>dtcens.s</code>). Weights are
estimated using a cox-proportional hazard model and assuming linear
functional form of the variables defined in <code>w.covs</code>. We urge users to
specify their own modwl for estimating the weights. Confidence intervals for
the calibration scatter plots cannot be produced as it is currently unclear how
to present such data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calib_mlr(
  data.mstate,
  data.raw,
  j,
  s,
  t,
  tp.pred,
  smoother.type = "sm.ps",
  ps.int = 4,
  degree = 3,
  s.df = 4,
  niknots = 4,
  weights = NULL,
  w.function = NULL,
  w.covs = NULL,
  w.landmark.type = "state",
  w.max = 10,
  w.stabilised = FALSE,
  w.max.follow = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calib_mlr_+3A_data.mstate">data.mstate</code></td>
<td>
<p>Validation data in <code>msdata</code> format</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_data.raw">data.raw</code></td>
<td>
<p>Validation data in <code>data.frame</code> (one row per individual)</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_j">j</code></td>
<td>
<p>Landmark state at which predictions were made</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_s">s</code></td>
<td>
<p>Landmark time at which predictions were made</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_t">t</code></td>
<td>
<p>Follow up time at which calibration is to be assessed</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_tp.pred">tp.pred</code></td>
<td>
<p>Vector of predicted transition probabilities at time t</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_smoother.type">smoother.type</code></td>
<td>
<p>Type of smoothing applied. Takes values <code>s</code> (see <code><a href="VGAM.html#topic+s">s</a></code>), <code>sm.ps</code> (see <code><a href="VGAM.html#topic+sm.ps">sm.ps</a></code>) or <code>sm.os</code> (see <code><a href="VGAM.html#topic+sm.os">sm.os</a></code>).</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_ps.int">ps.int</code></td>
<td>
<p>the number of equally-spaced B spline intervals in the vector spline smoother (see <code><a href="VGAM.html#topic+sm.ps">sm.ps</a></code>)</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_degree">degree</code></td>
<td>
<p>the degree of B-spline basis in the vector spline smoother (see <code><a href="VGAM.html#topic+sm.ps">sm.ps</a></code>)</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_s.df">s.df</code></td>
<td>
<p>degrees of freedom of vector spline (see <code><a href="VGAM.html#topic+s">s</a></code>)</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_niknots">niknots</code></td>
<td>
<p>number of interior knots (see <code><a href="VGAM.html#topic+sm.os">sm.os</a></code>)</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_weights">weights</code></td>
<td>
<p>Vector of inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_w.function">w.function</code></td>
<td>
<p>Custom function for estimating the inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_w.covs">w.covs</code></td>
<td>
<p>Character vector of variable names to adjust for when calculating inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_w.landmark.type">w.landmark.type</code></td>
<td>
<p>Whether weights are estimated in all individuals uncensored at time s ('all') or only in individuals uncensored and in state j at time s ('state')</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_w.max">w.max</code></td>
<td>
<p>Maximum bound for inverse probability of censoring weights</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_w.stabilised">w.stabilised</code></td>
<td>
<p>Indicates whether inverse probability of censoring weights should be stabilised or not</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_w.max.follow">w.max.follow</code></td>
<td>
<p>Maximum follow up for model calculating inverse probability of censoring weights. Reducing this to <code>t</code> + 1 may aid in the proportional hazards assumption being met in this model.</p>
</td></tr>
<tr><td><code id="calib_mlr_+3A_...">...</code></td>
<td>
<p>Extra arguments to be passed to w.function (custom function for estimating weights)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Observed event probabilities at time <code>t</code> are estimated for predicted
transition probabilities <code>tp.pred</code> out of state <code>j</code> at time <code>s</code>.
<code>calib_mlr</code> estimates calibration scatter plots uses a technique for assessing the calibration of multinomial logistic
regression models, namely the nominal calibration framework of van Hoorde et al. (2014, 2015).
Landmarking (van Houwelingen HC, 2007) is applied to only assess calibration in individuals who are uncensored
and in state <code>j</code> at time <code>s</code>. Censoring is dealt with using inverse probability of
censoring weights (Hernan M, Robins J, 2020).
</p>
<p>Two datasets for the same cohort of inidividuals must be provided. Firstly <code>data.mstate</code> must be a dataset of class <code>msdata</code>,
generated using the <code>[mstate]</code> package. This dataset is used to apply the landmarking. Secondly, <code>data.raw</code> must be
a <code>data.frame</code> with one row per individual, containing the desired variables for estimating the weights, and variables for the time
until censoring (<code>dtcens</code>), and an indicator for censoring <code>dtcens.s</code>, where (<code>dtcens.s = 1</code>) if
an individual is censored at time <code>dtcens</code>, and <code>dtcens.s = 0</code> otherwise. When an individual
enters an absorbing state, this prevents censoring from happening (i.e. dtcens.s = 0). Unless the user specifies
the weights using <code>weights</code>, the weights are
estimated using a cox-proportional hazard model, assuming a linear
functional form of the variables defined in <code>w.covs</code>. We urge users to
specify their own model for estimating the weights. The <code>weights</code> argument
must be a vector with length equal to the number of rows of <code>data.raw</code>.
</p>
<p>Confidence intervals cannot be generated for the calibration scatter plots. While
confidence intervals could be estimated for each data point, it is not clear how
these would be plotted cohesively.
</p>
<p>Calibration plots cannot be produced for specific transitions (i.e. <code>transitions.out</code>
in <code><a href="#topic+calib_blr">calib_blr</a></code>) because the nominal calibration framework (van Hoorde et al., 2014, 2015) assesses
the calibration of all states simultaneously.
</p>
<p>The calibration scatter plots can be plotted using <code><a href="#topic+plot.calib_mlr">plot.calib_mlr</a></code>.
</p>


<h3>Value</h3>

<p><code><a href="#topic+calib_mlr">calib_mlr</a></code> returns a list containing two elements:
<code>plotdata</code> and <code>metadata</code>. The <code>plotdata</code> element contains the
data for the calibration scatter plots This will itself be a list with each element
containing the data for the transition probabilities into each of the possible
states. Each list element contains patient ids (<code>id</code>), the predicted
transition probabilities (<code>pred</code>) and the estimated observed event
probabilities (<code>obs</code>). The <code>metadata</code> element contains metadata
including a vector of the possible transitions and other user specified information.
</p>


<h3>References</h3>

<p>Hernan M, Robins J (2020). “12.2 Estimating IP weights via modeling.” In <em>Causal Inference:
What If</em>, chapter 12.2. Chapman Hall/CRC, Boca Raton.
</p>
<p>Van Hoorde K, Vergouwe Y, Timmerman D, Van Huffel S, Steyerberg W, Van Calster B
(2014). “Assessing calibration of multinomial risk prediction models.” <em>Statistics in Medicine</em>,
33(15), 2585–2596. doi:10.1002/sim.6114.
</p>
<p>Van Hoorde K, Van Huffel S, Timmerman D, Bourne T, Van Calster B (2015).
“A spline-based tool to assess and visualize the calibration of multiclass risk predictions.”
<em>Journal of Biomedical Informatics</em>, 54, 283–293. ISSN 15320464. doi:10.1016/j.jbi.2014.12.016.
URL http://dx.doi.org/10.1016/j.jbi.2014.12.016.
</p>
<p>van Houwelingen HC (2007). “Dynamic Prediction by Landmarking in Event History Analysis.”
<em>Scandinavian Journal of Statistics</em>, 34(1), 70–85.
</p>
<p>Yee TW (2015). <em>Vector Generalized Linear and Additive Models</em>. 1 edition.
Springer New, NY. ISBN 978-1-4939-4198-8. doi:10.1007/978-1-4939-2818-7.
URL https://link.springer.com/book/10.1007/978-1-4939-2818-7.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using competing risks data out of initial state (see vignette: ... -in-competing-risk-setting).
# Estimate and plot MLR-IPCW calibration scatter plots for the predicted transition
# probabilities at time t = 1826, when predictions were made at time
# s = 0 in state j = 1. These predicted transition probabilities are stored in tp.cmprsk.j0.

# To minimise example time we reduce the datasets to 150 individuals.
# Extract the predicted transition probabilities out of state j = 1 for first 150 individuals
tp.pred &lt;- tp.cmprsk.j0 |&gt;
 dplyr::filter(id %in% 1:150) |&gt;
 dplyr::select(any_of(paste("pstate", 1:6, sep = "")))
# Reduce ebmtcal to first 150 individuals
ebmtcal &lt;- ebmtcal |&gt; dplyr::filter(id %in% 1:150)
# Reduce msebmtcal.cmprsk to first 150 individuals
msebmtcal.cmprsk &lt;- msebmtcal.cmprsk |&gt; dplyr::filter(id %in% 1:150)

# Now estimate the observed event probabilities for each possible transition.
dat.calib.mlr &lt;-
calib_mlr(data.mstate = msebmtcal.cmprsk,
 data.raw = ebmtcal,
 j=1,
 s=0,
 t = 1826,
 tp.pred = tp.pred,
 w.covs = c("year", "agecl", "proph", "match"),
 ps.int = 2,
 degree = 2)

# The data for each calibration scatter plots are stored in the "plotdata"
# list element.
str(dat.calib.mlr)

</code></pre>

<hr>
<h2 id='calib_pv'>Estimate calibration curves for a multistate model using pseudo-values.</h2><span id='topic+calib_pv'></span>

<h3>Description</h3>

<p>Creates the underlying data for the calibration curves. <code>calib_pv</code>
estimates the
observed event probabilities for a given set of predicted transition probabilities
in a cohort of interest. This is done using techniques for assessing calibration of binary logistic regression models,
in combination with inverse probability of censoring weights and landmarking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calib_pv(
  data.mstate,
  data.raw,
  j,
  s,
  t,
  tp.pred,
  curve.type = "rcs",
  rcs.nk = 3,
  loess.span = 0.75,
  loess.degree = 2,
  group.vars = NULL,
  n.pctls = NULL,
  CI = FALSE,
  CI.type = "parametric",
  CI.R.boot = NULL,
  data.pred.plot = NULL,
  transitions.out = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calib_pv_+3A_data.mstate">data.mstate</code></td>
<td>
<p>Validation data in <code>msdata</code> format</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_data.raw">data.raw</code></td>
<td>
<p>Validation data in <code>data.frame</code> (one row per individual)</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_j">j</code></td>
<td>
<p>Landmark state at which predictions were made</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_s">s</code></td>
<td>
<p>Landmark time at which predictions were made</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_t">t</code></td>
<td>
<p>Follow up time at which calibration is to be assessed</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_tp.pred">tp.pred</code></td>
<td>
<p>Matrix of predicted transition probabilities at time t, if in state j at time s. There must be a seperate column for the predicted transition probabilities into every state, even if these predicted transition probabilities are 0.</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_curve.type">curve.type</code></td>
<td>
<p>Whether calibration curves are estimated using restricted cubic splines ('rcs') or loess smoothers ('loess')</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_rcs.nk">rcs.nk</code></td>
<td>
<p>Number of knots when curves are estimated using restricted cubic splines</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_loess.span">loess.span</code></td>
<td>
<p>Span when curves are estimated using loess smoothers</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_loess.degree">loess.degree</code></td>
<td>
<p>Degree when curves are estimated. using loess smoothers</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_group.vars">group.vars</code></td>
<td>
<p>Baseline variables to define groups within which to estimate pseudo-values</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_n.pctls">n.pctls</code></td>
<td>
<p>Number of percentiles to group individuals by with respect to predicted transition probabilities when estimating pseudo-values</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_ci">CI</code></td>
<td>
<p>Size of confidence intervals as a %</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_ci.type">CI.type</code></td>
<td>
<p>Method for estimating confidence interval (<code>bootstrap</code> or <code>parametric</code>)</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_ci.r.boot">CI.R.boot</code></td>
<td>
<p>Number of bootstrap replicates when estimating the confidence interval for the calibration curve using bootstrapping</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_data.pred.plot">data.pred.plot</code></td>
<td>
<p>Data frame or matrix of predicted risks for each possible transition over which to plot the calibration curves. Must have one column for every possible transition.</p>
</td></tr>
<tr><td><code id="calib_pv_+3A_transitions.out">transitions.out</code></td>
<td>
<p>Transitions for which to calculate calibration curves. Will do all possible transitions if left as NULL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Observed event probabilities at time <code>t</code> are estimated for predicted
transition probabilities <code>tp.pred</code> out of state <code>j</code> at time <code>s</code>.
<code>calib_pv</code> estimates the observed event probabilities using pseudo-values (Andersen PK, Pohar Perme M, 2010)
calculated using the Aalen-Johansen estimator (Aalen OO, Johansen S, 1978)
Calibration curves are generated by regressing the pseudo-values on the predicted transition probabilities.
Currently calibration curves can be produced using loess smoothers or restricted cubic splines.
This will be updated to include restricted cubic splines. Landmarking (van Houwelingen HC, 2007) is applied to only assess calibration
in individuals who are uncensored and in state <code>j</code> at time <code>s</code>.
</p>
<p>Two datasets for the same cohort of inidividuals must be provided. Firstly <code>data.mstate</code> must be a dataset of class <code>msdata</code>,
generated using the <code>[mstate]</code> package. This dataset is used to apply the landmarking. Secondly, <code>data.raw</code> must be
a <code>data.frame</code> with one row per individual, containing the desired variables for
calculating pseudo-values within (no baseline variables required if <code>group.vars = NULL</code>).
Confidence intervals for the calibration curves can be estimated using bootstrapping.
</p>
<p>The calibration curves can be plotted using <code><a href="#topic+plot.calib_pv">plot.calib_pv</a></code>.
</p>


<h3>Value</h3>

<p><code><a href="#topic+calib_pv">calib_pv</a></code> returns a list containing two elements:
<code>plotdata</code> and <code>metadata</code>. The <code>plotdata</code> element contains the
data for the calibration curves. This will itself be a list with each element
containing calibration plot data for the transition probabilities into each of the possible
states. Each list element contains patient ids (<code>id</code>) from <code>data.raw</code>, the predicted
transition probabilities (<code>pred</code>) and the estimated observed event
probabilities (<code>obs</code>). If a confidence interval is requested, upper (<code>obs.upper</code>)
and lower (<code>obs.lower</code>) bounds for the observed event probabilities are also returned.
If data.pred.plot is defined manually, column (<code>id</code>) is not returned.
The <code>metadata</code> element contains metadata including: a vector of the possible transitions,
a vector of which transitions calibration curves have been estimated for, the
size of the confidence interval, the method for estimating the calibration curve
and other user specified information.
</p>


<h3>References</h3>

<p>Aalen OO, Johansen S. An Empirical Transition Matrix for Non-Homogeneous Markov Chains Based on Censored Observations.
<em>Scand J Stat</em>. 1978;5(3):141-150.
</p>
<p>Andersen PK, Pohar Perme M. Pseudo-observations in survival analysis.
<em>Stat Methods Med Res</em>. 2010;19(1):71-99. doi:10.1177/0962280209105020
</p>
<p>van Houwelingen HC (2007). “Dynamic Prediction by Landmarking in Event History Analysis.”
<em>Scandinavian Journal of Statistics</em>, 34(1), 70–85.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using competing risks data out of initial state.
# See vignette: comparison-with-graphical-calibration-curves-in-competing-risk-setting.
# Estimate pseudo-value calibration curves for the predicted transition
# probabilities at time t = 1826, when predictions were made at time
# s = 0 in state j = 1. These predicted transition probabilities are stored in tp.cmprsk.j0.

# To minimise example time we reduce the datasets to 50 individuals.
# Extract the predicted transition probabilities out of state j = 1 for first 50 individuals
tp.pred &lt;- tp.cmprsk.j0 |&gt;
 dplyr::filter(id %in% 1:50) |&gt;
 dplyr::select(any_of(paste("pstate", 1:6, sep = "")))
# Reduce ebmtcal to first 50 individuals
ebmtcal &lt;- ebmtcal |&gt; dplyr::filter(id %in% 1:50)
# Reduce msebmtcal.cmprsk to first 50 individuals
msebmtcal.cmprsk &lt;- msebmtcal.cmprsk |&gt; dplyr::filter(id %in% 1:50)

# Now estimate the observed event probabilities for each possible transition.
dat.calib.pv &lt;- calib_pv(data.mstate = msebmtcal.cmprsk,
  data.raw = ebmtcal,
  j = 1,
  s = 0,
  t = 1826,
  tp.pred = tp.pred,
  curve.type = "loess",
  loess.span = 1,
  loess.degree = 1)

# The data for each calibration curve are stored in the "plotdata" list
# element.
str(dat.calib.pv)

</code></pre>

<hr>
<h2 id='calibmsm-package'>calibmsm: Calibration Plots for the Transition Probabilities from Multistate Models</h2><span id='topic+calibmsm'></span><span id='topic+calibmsm-package'></span>

<h3>Description</h3>

<p>Assess the calibration of an existing (i.e. previously developed) multistate model through calibration plots. Calibration is assessed using one of three methods. 1) Calibration methods for binary logistic regression models applied at a fixed time point in conjunction with inverse probability of censoring weights. 2) Calibration methods for multinomial logistic regression models applied at a fixed time point in conjunction with inverse probability of censoring weights. 3) Pseudo-values estimated using the Aalen-Johansen estimator of observed risk. All methods are applied in conjunction with landmarking when required. These calibration plots evaluate the calibration (in a validation cohort of interest) of the transition probabilities estimated from an existing multistate model. While package development has focused on multistate models, calibration plots can be produced for any model which utilises information post baseline to update predictions (e.g. dynamic models); competing risks models; or standard single outcome survival models, where predictions can be made at any landmark time. The underpinning methodology is currently undergoing peer review; see Pate et al. (2023) <a href="https://arxiv.org/abs/2308.13394">arXiv:2308.13394</a> and Pate et al. (2023) <a href="https://alexpate30.github.io/calibmsm/articles/Overview.html">https://alexpate30.github.io/calibmsm/articles/Overview.html</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Alexander Pate <a href="mailto:alexander.pate@manchester.ac.uk">alexander.pate@manchester.ac.uk</a> (<a href="https://orcid.org/0000-0002-0849-3458">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Glen P Martin <a href="mailto:glen.martin@manchester.ac.uk">glen.martin@manchester.ac.uk</a> (<a href="https://orcid.org/0000-0002-3410-9472">ORCID</a>) [funder, reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://alexpate30.github.io/calibmsm/">https://alexpate30.github.io/calibmsm/</a>
</p>
</li></ul>


<hr>
<h2 id='ebmtcal'>European Group for Blood and Marrow Transplantation data</h2><span id='topic+ebmtcal'></span>

<h3>Description</h3>

<p>A data frame of 2,279 individuals with blood cancer who have undergone a transplant.
This data is identical to the <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code> data, except two extra variables have
been derived, time until censoring and a censoring indicator, which are required
to assess calibration using some of the methods in <code>calibmsm</code>. Code for the derivation
of this dataset is provided in the source code for the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ebmtcal
</code></pre>


<h3>Format</h3>



<h4>'ebmtcal'</h4>

<p>A data frame with 2,279 rows and 17 columns:
</p>

<dl>
<dt>id</dt><dd><p>Patient indentifier</p>
</dd>
<dt>rec, rec.s</dt><dd><p>Time until and event indicator for recovery variable</p>
</dd>
<dt>ae, ae.s</dt><dd><p>Time until and event indicator for adverse event variable</p>
</dd>
<dt>recae, recae.s</dt><dd><p>Time until and event indicator for recovery + adverse event variable</p>
</dd>
<dt>rel, rel.s</dt><dd><p>Time until and event indicator for relapse variable</p>
</dd>
<dt>srv, srv.s</dt><dd><p>Time until and event indicator for death variable</p>
</dd>
<dt>year</dt><dd><p>Year of transplant</p>
</dd>
<dt>agecl</dt><dd><p>Age at transplant</p>
</dd>
<dt>proph</dt><dd><p>Prophylaxis</p>
</dd>
<dt>match</dt><dd><p>Donor-recipient match</p>
</dd>
<dt>dtcens</dt><dd><p>Time of censoring</p>
</dd>
<dt>dtcens.s</dt><dd><p>Event indicator, 1:censoring occured, 0: absorbing state entered before censoring occured</p>
</dd>
</dl>




<h3>Source</h3>

<p>This dataset was derived from data made available within the <code>mstate</code> package, see <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code>.
The data was originally provided by the European Group for Blood and Marrow Transplantation (https://www.ebmt.org/).
We reiterate the source statement given by the developers of <code>mstate</code>:
&quot;We acknowledge the European Society for Blood and Marrow Transplantation (EBMT)
for making available these data. Disclaimer: these data were simplified for the
purpose of illustration of the analysis of competing risks and multi-state models
and do not reflect any real life situation. No clinical conclusions should be
drawn from these data.&quot;
</p>


<h3>References</h3>

<p>EBMT (2023). “Data from the European Society for Blood and Marrow Transplantation.”
URL https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html.
</p>
<p>de Wreede LC, Fiocco M, Putter H (2011). “mstate: An R Package for the Analysis of
Competing Risks and Multi-State Models.” <em>Journal of Statistical Software</em>, 38(7).
</p>

<hr>
<h2 id='extract_ids_states'>Identify patids for individuals in state j at time t</h2><span id='topic+extract_ids_states'></span>

<h3>Description</h3>

<p>Extract patids for individuals in state j at time t from a dataset in 'msdata'
format. Used internally in calib_blr, calib_mlr and calib_pv.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_ids_states(data.mstate, tmat, j, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_ids_states_+3A_data.mstate">data.mstate</code></td>
<td>
<p>Validation data in <code>msdata</code> format</p>
</td></tr>
<tr><td><code id="extract_ids_states_+3A_tmat">tmat</code></td>
<td>
<p>Transition probability matrix</p>
</td></tr>
<tr><td><code id="extract_ids_states_+3A_j">j</code></td>
<td>
<p>State j</p>
</td></tr>
<tr><td><code id="extract_ids_states_+3A_t">t</code></td>
<td>
<p>Follow up time</p>
</td></tr>
</table>

<hr>
<h2 id='msebmtcal'>European Group for Blood and Marrow Transplantation data</h2><span id='topic+msebmtcal'></span>

<h3>Description</h3>

<p>The <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code> data converted into <code>msdata</code> format (see <code><a href="mstate.html#topic+msprep">msprep</a></code>),
using the processes implemented in the <code>mstate</code> package. Code for the derivation
of this dataset is provided in the source code for the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msebmtcal
</code></pre>


<h3>Format</h3>



<h4>'msebmtcal'</h4>

<p>A data frame in <code>msdata</code> format (see <code><a href="mstate.html#topic+msprep">msprep</a></code>) with 15,512 rows and 8 columns:
</p>

<dl>
<dt>id</dt><dd><p>Patient indentifier</p>
</dd>
<dt>from</dt><dd><p>transition from state</p>
</dd>
<dt>to</dt><dd><p>transition to state</p>
</dd>
<dt>trans</dt><dd><p>transition number</p>
</dd>
<dt>Tstart</dt><dd><p>time entered state 'from'</p>
</dd>
<dt>Tstop</dt><dd><p>time leaving state 'from'</p>
</dd>
<dt>time</dt><dd><p>time in state 'from'</p>
</dd>
<dt>status</dt><dd><p>event indicator, 1:transitioned to state 'to'</p>
</dd>
</dl>




<h3>Source</h3>

<p>This dataset was derived from data made available within the <code>mstate</code> package, see <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code>.
The data was originally provided by the European Group for Blood and Marrow Transplantation (https://www.ebmt.org/).
We reiterate the source statement given by the developers of <code>mstate</code>:
&quot;We acknowledge the European Society for Blood and Marrow Transplantation (EBMT)
for making available these data. Disclaimer: these data were simplified for the
purpose of illustration of the analysis of competing risks and multi-state models
and do not reflect any real life situation. No clinical conclusions should be
drawn from these data.&quot;
</p>


<h3>References</h3>

<p>EBMT (2023). “Data from the European Society for Blood and Marrow Transplantation.”
URL https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html.
</p>
<p>de Wreede LC, Fiocco M, Putter H (2011). “mstate: An R Package for the Analysis of
Competing Risks and Multi-State Models.” <em>Journal of Statistical Software</em>, 38(7).
</p>

<hr>
<h2 id='msebmtcal.cmprsk'>European Group for Blood and Marrow Transplantation data in competing risks format, for transitions out of the initial state only</h2><span id='topic+msebmtcal.cmprsk'></span>

<h3>Description</h3>

<p>Used in vignette: Comparison-with-graphical-calibration-curves-in-competing-risks-setting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msebmtcal.cmprsk
</code></pre>


<h3>Format</h3>



<h4>'msebmtcal.cmprsk'</h4>

<p>A data frame with 9,116 rows and 8 columns:
</p>

<dl>
<dt>id</dt><dd><p>Patient indentifier</p>
</dd>
<dt>from</dt><dd><p>transition from state</p>
</dd>
<dt>to</dt><dd><p>transition to state</p>
</dd>
<dt>trans</dt><dd><p>transition number</p>
</dd>
<dt>Tstart</dt><dd><p>time entered state 'from'</p>
</dd>
<dt>Tstop</dt><dd><p>time leaving state 'from'</p>
</dd>
<dt>time</dt><dd><p>time in state 'from'</p>
</dd>
<dt>status</dt><dd><p>event indicator, 1:transitioned to state 'to'</p>
</dd>
</dl>




<h3>Details</h3>

<p>The <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code> data converted into <code>msdata</code> format (see <code><a href="mstate.html#topic+msprep">msprep</a></code>),
where all subsequent states are considered absorbing states. i.e. only transitions out of the initial state are considered,
meaning this data constitutes a competing risks model out of the initial state. Code for the derivation
of this dataset is provided in the source code for the package.
</p>


<h3>Source</h3>

<p>This dataset was derived from data made available within the <code>mstate</code> package, see <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code>.
The data was originally provided by the European Group for Blood and Marrow Transplantation (https://www.ebmt.org/).
We reiterate the source statement given by the developers of <code>mstate</code>:
&quot;We acknowledge the European Society for Blood and Marrow Transplantation (EBMT)
for making available these data. Disclaimer: these data were simplified for the
purpose of illustration of the analysis of competing risks and multi-state models
and do not reflect any real life situation. No clinical conclusions should be
drawn from these data.&quot;
</p>


<h3>References</h3>

<p>EBMT (2023). “Data from the European Society for Blood and Marrow Transplantation.”
URL https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html.
</p>
<p>de Wreede LC, Fiocco M, Putter H (2011). “mstate: An R Package for the Analysis of
Competing Risks and Multi-State Models.” <em>Journal of Statistical Software</em>, 38(7).
</p>

<hr>
<h2 id='plot.calib_blr'>Plots calibration curves estimated using <code><a href="#topic+calib_blr">calib_blr</a></code>.</h2><span id='topic+plot.calib_blr'></span>

<h3>Description</h3>

<p>Plots calibration curves for the transition probabilities of a multistate model
estimated using <code><a href="#topic+calib_blr">calib_blr</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'calib_blr'
plot(x, ..., combine = TRUE, ncol = NULL, nrow = NULL, transparency.rug = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.calib_blr_+3A_x">x</code></td>
<td>
<p>Object of class 'calib_blr' generated from <code><a href="#topic+calib_blr">calib_blr</a></code>.</p>
</td></tr>
<tr><td><code id="plot.calib_blr_+3A_...">...</code></td>
<td>
<p>Other</p>
</td></tr>
<tr><td><code id="plot.calib_blr_+3A_combine">combine</code></td>
<td>
<p>Whether to combine into one plot using ggarrange, or return as a list of individual plots</p>
</td></tr>
<tr><td><code id="plot.calib_blr_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns for combined calibration plot</p>
</td></tr>
<tr><td><code id="plot.calib_blr_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows for combined calibration plot</p>
</td></tr>
<tr><td><code id="plot.calib_blr_+3A_transparency.rug">transparency.rug</code></td>
<td>
<p>Degree of transparency for the density rug plot along each axis</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>combine = TRUE</code>, returns an object of classes <code>gg</code>, <code>ggplot</code>, and <code>ggarrange</code>,
as all ggplots have been combined into one object. If <code>combine = FALSE</code>, returns an object of
class <code>list</code>, each element containing an object of class <code>gg</code> and <code>ggplot</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Estimate and plot BLR-IPCW calibration curves for the predicted transition
# probabilities at time t = 1826, when predictions were made at time
# s = 0 in state j = 1. These predicted transition probabilities are stored in tps0.

# Extract the predicted transition probabilities out of state j = 1
tp.pred &lt;- dplyr::select(dplyr::filter(tps0, j == 1), any_of(paste("pstate", 1:6, sep = "")))

# Now estimate the observed event probabilities for each possible transition.
dat.calib.blr &lt;-
calib_blr(data.mstate = msebmtcal,
 data.raw = ebmtcal,
 j=1,
 s=0,
 t = 1826,
 tp.pred = tp.pred,
 w.covs = c("year", "agecl", "proph", "match"))

 # These are then plotted
 plot(dat.calib.blr, combine = TRUE, nrow = 2, ncol = 3)

</code></pre>

<hr>
<h2 id='plot.calib_mlr'>Plots calibration scatter plots estimated using <code><a href="#topic+calib_mlr">calib_mlr</a></code>.</h2><span id='topic+plot.calib_mlr'></span>

<h3>Description</h3>

<p>Plots calibration scatter plots for the transition probabilities of a multistate model
estimated using <code><a href="#topic+calib_mlr">calib_mlr</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'calib_mlr'
plot(
  x,
  ...,
  combine = TRUE,
  ncol = NULL,
  nrow = NULL,
  transparency.plot = 0.25,
  transparency.rug = 0.1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.calib_mlr_+3A_x">x</code></td>
<td>
<p>Object of class 'calib_mlr' generated from <code><a href="#topic+calib_mlr">calib_mlr</a></code></p>
</td></tr>
<tr><td><code id="plot.calib_mlr_+3A_...">...</code></td>
<td>
<p>Other</p>
</td></tr>
<tr><td><code id="plot.calib_mlr_+3A_combine">combine</code></td>
<td>
<p>Whether to combine into one plot using ggarrange, or return as a list of individual plots</p>
</td></tr>
<tr><td><code id="plot.calib_mlr_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns for combined calibration plot</p>
</td></tr>
<tr><td><code id="plot.calib_mlr_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows for combined calibration plot</p>
</td></tr>
<tr><td><code id="plot.calib_mlr_+3A_transparency.plot">transparency.plot</code></td>
<td>
<p>Degree of transparency for the calibration scatter plot</p>
</td></tr>
<tr><td><code id="plot.calib_mlr_+3A_transparency.rug">transparency.rug</code></td>
<td>
<p>Degree of transparency for the density rug plot along each axis</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>combine = TRUE</code>, returns an object of classes <code>gg</code>, <code>ggplot</code>, and <code>ggarrange</code>,
as all ggplots have been combined into one object. If <code>combine = FALSE</code>, returns an object of
class <code>list</code>, each element containing an object of class <code>gg</code> and <code>ggplot</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using competing risks data out of initial state (see vignette: ... -in-competing-risk-setting).
# Estimate and plot MLR-IPCW calibration scatter plots for the predicted transition
# probabilities at time t = 1826, when predictions were made at time
# s = 0 in state j = 1. These predicted transition probabilities are stored in tp.cmprsk.j0.

# To minimise example time we reduce the datasets to 150 individuals.
# Extract the predicted transition probabilities out of state j = 1 for first 150 individuals
tp.pred &lt;- tp.cmprsk.j0 |&gt;
 dplyr::filter(id %in% 1:150) |&gt;
 dplyr::select(any_of(paste("pstate", 1:6, sep = "")))
# Reduce ebmtcal to first 150 individuals
ebmtcal &lt;- ebmtcal |&gt; dplyr::filter(id %in% 1:150)
# Reduce msebmtcal.cmprsk to first 150 individuals
msebmtcal.cmprsk &lt;- msebmtcal.cmprsk |&gt; dplyr::filter(id %in% 1:150)

# Now estimate the observed event probabilities for each possible transition.
dat.calib.mlr &lt;-
calib_mlr(data.mstate = msebmtcal.cmprsk,
 data.raw = ebmtcal,
 j=1,
 s=0,
 t = 1826,
 tp.pred = tp.pred,
 w.covs = c("year", "agecl", "proph", "match"),
 ps.int = 2,
 degree = 2)

 # These are then plotted
 plot(dat.calib.mlr, combine = TRUE, nrow = 2, ncol = 3)

</code></pre>

<hr>
<h2 id='plot.calib_pv'>Plots calibration curves estimated using <code><a href="#topic+calib_pv">calib_pv</a></code>.</h2><span id='topic+plot.calib_pv'></span>

<h3>Description</h3>

<p>Plots calibration curves for the transition probabilities of a multistate model
estimated using <code><a href="#topic+calib_pv">calib_pv</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'calib_pv'
plot(x, ..., combine = TRUE, ncol = NULL, nrow = NULL, transparency.rug = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.calib_pv_+3A_x">x</code></td>
<td>
<p>Object of class 'calib_pseudo' generated from <code><a href="#topic+calib_pv">calib_pv</a></code>.</p>
</td></tr>
<tr><td><code id="plot.calib_pv_+3A_...">...</code></td>
<td>
<p>Other</p>
</td></tr>
<tr><td><code id="plot.calib_pv_+3A_combine">combine</code></td>
<td>
<p>Whether to combine into one plot using ggarrange, or return as a list of individual plots</p>
</td></tr>
<tr><td><code id="plot.calib_pv_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns for combined calibration plot</p>
</td></tr>
<tr><td><code id="plot.calib_pv_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows for combined calibration plot</p>
</td></tr>
<tr><td><code id="plot.calib_pv_+3A_transparency.rug">transparency.rug</code></td>
<td>
<p>Degree of transparency for the density rug plot along each axis</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>combine = TRUE</code>, returns an object of classes <code>gg</code>, <code>ggplot</code>, and <code>ggarrange</code>,
as all ggplots have been combined into one object. If <code>combine = FALSE</code>, returns an object of
class <code>list</code>, each element containing an object of class <code>gg</code> and <code>ggplot</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using competing risks data out of initial state (see vignette: ... -in-competing-risk-setting).
# Estimate and plot pseudo-value calibration curves for the predicted transition
# probabilities at time t = 1826, when predictions were made at time
# s = 0 in state j = 1. These predicted transition probabilities are stored in tp.cmprsk.j0.

# To minimise example time we reduce the datasets to 50 individuals.
# Extract the predicted transition probabilities out of state j = 1 for first 50 individuals
tp.pred &lt;- tp.cmprsk.j0 |&gt;
 dplyr::filter(id %in% 1:50) |&gt;
 dplyr::select(any_of(paste("pstate", 1:6, sep = "")))
# Reduce ebmtcal to first 50 individuals
ebmtcal &lt;- ebmtcal |&gt; dplyr::filter(id %in% 1:50)
# Reduce msebmtcal.cmprsk to first 50 individuals
msebmtcal.cmprsk &lt;- msebmtcal.cmprsk |&gt; dplyr::filter(id %in% 1:50)

# Now estimate the observed event probabilities for each possible transition.
dat.calib.pv &lt;- calib_pv(data.mstate = msebmtcal.cmprsk,
  data.raw = ebmtcal,
  j = 1,
  s = 0,
  t = 1826,
  tp.pred = tp.pred,
  curve.type = "loess",
  loess.span = 1,
  loess.degree = 1)

 # These are then plotted
 plot(dat.calib.pv, combine = TRUE, nrow = 2, ncol = 3)

</code></pre>

<hr>
<h2 id='tp.cmprsk.j0'>Predicted risks for a competing risks model out of state j = 0</h2><span id='topic+tp.cmprsk.j0'></span>

<h3>Description</h3>

<p>Used in vignette: Comparison-with-graphical-calibration-curves-in-competing-risks-setting.
Data frame containing the predicted transition probabilities out of state j = 1
made at time s = 0, for a competing risks model out of the initial state (see <code><a href="#topic+msebmtcal.cmprsk">msebmtcal.cmprsk</a></code>).
The predicted transition probabilities were estimated by fitting
a competing risks model to the <code><a href="#topic+msebmtcal.cmprsk">msebmtcal.cmprsk</a></code> data using a leave-one-out approach.
Code for deriving this dataset is provided in the source code for <code>calibmsm</code>. Code for the derivation
of this dataset is provided in the source code for the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tp.cmprsk.j0
</code></pre>


<h3>Format</h3>



<h4>'tp.cmprsk.j0'</h4>

<p>A data frame with 2,279 rows and 13 columns:
</p>

<dl>
<dt>id</dt><dd><p>Patient indentifier</p>
</dd>
<dt>pstate1, pstate2, pstate3, pstate4, pstate5, pstate6</dt><dd><p>Predicted transition probabilities of transitions into states 1 to 6</p>
</dd>
<dt>se1, se2, se3, se4, se5, se6</dt><dd><p>Standard error of the predicted transition probabilities of transitions into states 1 to 6</p>
</dd>
</dl>




<h3>Source</h3>

<p>This dataset was derived from data made available within the <code>mstate</code> package, see <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code>.
The data was originally provided by the European Group for Blood and Marrow Transplantation (https://www.ebmt.org/).
We reiterate the source statement given by the developers of <code>mstate</code>:
&quot;We acknowledge the European Society for Blood and Marrow Transplantation (EBMT)
for making available these data. Disclaimer: these data were simplified for the
purpose of illustration of the analysis of competing risks and multi-state models
and do not reflect any real life situation. No clinical conclusions should be
drawn from these data.&quot;
</p>


<h3>References</h3>

<p>EBMT (2023). “Data from the European Society for Blood and Marrow Transplantation.”
URL https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html.
</p>
<p>de Wreede LC, Fiocco M, Putter H (2011). “mstate: An R Package for the Analysis of
Competing Risks and Multi-State Models.” <em>Journal of Statistical Software</em>, 38(7).
</p>

<hr>
<h2 id='tps0'>Predicted transition probabilities out of transplant state made at time s = 0</h2><span id='topic+tps0'></span>

<h3>Description</h3>

<p>Data frame containing the predicted transition probabilities out of state j = 1
made at time s = 0. The predicted transition probabilities were estimated by fitting
a multistate model to the <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code> data using a leave-one-out approach.
Code for deriving this dataset is provided in the source code for <code>calibmsm</code>. Code for the derivation
of this dataset is provided in the source code for the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tps0
</code></pre>


<h3>Format</h3>



<h4>'tps0'</h4>

<p>A data frame with 13,674 (CHANGE) rows and 14 columns:
</p>

<dl>
<dt>id</dt><dd><p>Patient indentifier</p>
</dd>
<dt>pstate1, pstate2, pstate3, pstate4, pstate5, pstate6</dt><dd><p>Predicted transition probabilities of transitions into states 1 to 6</p>
</dd>
<dt>se1, se2, se3, se4, se5, se6</dt><dd><p>Standard error of the predicted transition probabilities of transitions into states 1 to 6</p>
</dd>
<dt>j</dt><dd><p>State from which the predicted transition probabilities are estimated from</p>
</dd>
</dl>




<h3>Source</h3>

<p>This dataset was derived from data made available within the <code>mstate</code> package, see <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code>.
The data was originally provided by the European Group for Blood and Marrow Transplantation (https://www.ebmt.org/).
We reiterate the source statement given by the developers of <code>mstate</code>:
&quot;We acknowledge the European Society for Blood and Marrow Transplantation (EBMT)
for making available these data. Disclaimer: these data were simplified for the
purpose of illustration of the analysis of competing risks and multi-state models
and do not reflect any real life situation. No clinical conclusions should be
drawn from these data.&quot;
</p>


<h3>References</h3>

<p>EBMT (2023). “Data from the European Society for Blood and Marrow Transplantation.”
URL https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html.
</p>
<p>de Wreede LC, Fiocco M, Putter H (2011). “mstate: An R Package for the Analysis of
Competing Risks and Multi-State Models.” <em>Journal of Statistical Software</em>, 38(7).
</p>

<hr>
<h2 id='tps100'>Predicted transition probabilities out of every state made at time s = 100</h2><span id='topic+tps100'></span>

<h3>Description</h3>

<p>Data frame containing the predicted transition probabilities out of states 1 (transplant),
2 (adverse event), 3 (recovery) and 4 (adverse event + recovery), made at time s = 100.
The predicted transition probabilities were estimated by fitting a multistate model
to the <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code> data using a leave-one-out approach. Code for deriving
this dataset is provided in the source code for <code>calibmsm</code>. Code for derivation
of this dataset is provided in the source code for the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tps100
</code></pre>


<h3>Format</h3>



<h4>'tps100'</h4>

<p>A data frame with 13,674 (CHANGE) rows and 14 columns:
</p>

<dl>
<dt>id</dt><dd><p>Patient indentifier</p>
</dd>
<dt>pstate1, pstate2, pstate3, pstate4, pstate5, pstate6</dt><dd><p>Predicted transition probabilities of transitions into states 1 to 6</p>
</dd>
<dt>se1, se2, se3, se4, se5, se6</dt><dd><p>Standard error of the predicted transition probabilities of transitions into states 1 to 6</p>
</dd>
<dt>j</dt><dd><p>State from which the predicted transition probabilities are estimated from</p>
</dd>
</dl>




<h3>Source</h3>

<p>This dataset was derived from data made available within the <code>mstate</code> package, see <code><a href="mstate.html#topic+ebmt4">ebmt4</a></code>.
The data was originally provided by the European Group for Blood and Marrow Transplantation (https://www.ebmt.org/).
We reiterate the source statement given by the developers of <code>mstate</code>:
&quot;We acknowledge the European Society for Blood and Marrow Transplantation (EBMT)
for making available these data. Disclaimer: these data were simplified for the
purpose of illustration of the analysis of competing risks and multi-state models
and do not reflect any real life situation. No clinical conclusions should be
drawn from these data.&quot;
</p>


<h3>References</h3>

<p>EBMT (2023). “Data from the European Society for Blood and Marrow Transplantation.”
URL https://search.r-project.org/CRAN/refmans/mstate/html/EBMT-data.html.
</p>
<p>de Wreede LC, Fiocco M, Putter H (2011). “mstate: An R Package for the Analysis of
Competing Risks and Multi-State Models.” <em>Journal of Statistical Software</em>, 38(7).
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

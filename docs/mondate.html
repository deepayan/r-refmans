<!DOCTYPE html><html lang="en"><head><title>Help for package mondate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mondate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+5B-methods'><p>Extraction Method for Mondates</p></a></li>
<li><a href='#add'><p>Add numerics to mondates using day-of-month logic</p></a></li>
<li><a href='#Arith-methods'><p>Methods for Function Group Arith on mondate Objects</p></a></li>
<li><a href='#array-method'><p>Array Methods</p></a></li>
<li><a href='#as.data.frame+20method'>
<p>Coerce a mondate to a Data Frame</p></a></li>
<li><a href='#as.difftime'><p>Difftime with units Months and Years</p></a></li>
<li><a href='#as.list+20method'>
<p>Construct a list from a mondate</p></a></li>
<li><a href='#as.mondate'>
<p>As.Mondate Method</p></a></li>
<li><a href='#Coersion-from-mondate+20methods'><p>Coersion Methods for Mondates</p></a></li>
<li><a href='#Combining-methods'><p>Methods for Combining Mondates</p></a></li>
<li><a href='#Compare-methods'><p>Comparison Methods</p></a></li>
<li><a href='#cut.mondate'><p>Convert a mondate Object to a Factor</p></a></li>
<li><a href='#diff.mondate'>
<p>'diff' for package mondate</p></a></li>
<li><a href='#difftime-class'><p>Class &quot;difftime&quot;</p></a></li>
<li><a href='#displayFormat-methods'><p>Methods to Access 'displayFormat' Property</p></a></li>
<li><a href='#format.mondate'><p>Format a mondate</p></a></li>
<li><a href='#funcNULL-class'><p>Class &quot;funcNULL&quot;</p></a></li>
<li><a href='#matrix-methods'><p>Matrix Methods for Mondate's</p></a></li>
<li><a href='#Miscellaneous-methods'><p>Miscellaneous Methods for mondate's</p></a></li>
<li><a href='#mondate-class'><p>Class &quot;mondate&quot;</p></a></li>
<li><a href='#mondate-methods'><p>Create an instance of the mondate class</p></a></li>
<li><a href='#names+20method'>
<p>Assign names to a mondate.</p></a></li>
<li><a href='#print-methods'><p>Methods to Display a Mondate</p></a></li>
<li><a href='#seq.mondate'>
<p>Mondate Sequence Generation</p></a></li>
<li><a href='#subtract'><p>Subtract numerics from mondates using day-of-month logic</p></a></li>
<li><a href='#Summary-methods'><p>Summary Methods</p></a></li>
<li><a href='#timeunits-methods'><p>Methods to Access 'timeunits' Property</p></a></li>
<li><a href='#year-month-day-methods'><p>Useful Methods for Class mondate</p></a></li>
<li><a href='#YearQuartersFormat'><p>Formatting Functions for mondate Objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Keep Track of Dates in Terms of Months</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-06</td>
</tr>
<tr>
<td>Author:</td>
<td>Dan Murphy</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dan Murphy &lt;chiefmurphy@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Keep track of dates in terms of fractional calendar months 
  per Damien Laker "Time Calculations for Annualizing Returns: the Need for Standardization", 
  The Journal of Performance Measurement, 2008.
  Model dates as of close of business.
  Perform date arithmetic in units of "months" and "years".
  Allow "infinite" dates to model "ultimate" time.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.mozilla.org/en-US/MPL/2.0/">MPL-2.0</a> | file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.R-project.org">https://www.R-project.org</a>, <a href="https://github.com/chiefmurph/mondate">https://github.com/chiefmurph/mondate</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Depends:</td>
<td>utils, methods, R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>zoo</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-06 20:00:38 UTC; chief</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-06 20:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+5B-methods'>Extraction Method for Mondates</h2><span id='topic++5B-methods'></span><span id='topic++5B+2Cmondate-method'></span><span id='topic+head'></span><span id='topic+head.mondate'></span><span id='topic+tail'></span><span id='topic+tail.mondate'></span>

<h3>Description</h3>

<p>Methods to extract portions of a <code>mondate</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mondate'
head(x, ...)
## S3 method for class 'mondate'
tail(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B5B-methods_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>.
</p>
</td></tr>
<tr><td><code id="+2B5B-methods_+3A_...">...</code></td>
<td>

<p>See the <code>base</code> functions for details.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Whether the <code>mondate x</code> is shaped as a <code>vector</code> or a <code>matrix</code>, 
the <code>head</code> and <code>rbind</code> methods will behave just as they
would if <code>x</code> were <code>numeric</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>[(x = "mondate")</code></dt><dd>
<p>See <code>[</code> for more details.
</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>(m&lt;-structure(mondate.ymd(2001:2010,12,31),names=LETTERS[1:10]))
m[1]
m[2:5]
head(m)
tail(m,2)

(M&lt;-cbind(m-12,m,m+12, deparse.level=2))  # a matrix
M[1:5,1:2]    # '[' works with matrix mondates
head(M,2)  # as does 'head'

</code></pre>

<hr>
<h2 id='add'>Add numerics to mondates using day-of-month logic</h2><span id='topic+add'></span>

<h3>Description</h3>

<p>Add numerics to mondates. 
When units = &quot;months&quot; or &quot;years&quot; and the <code>numeric</code> is a whole number
the result has the same 
day of the month subject to the number of days in the month,
thus abandoning <code>mondate</code>'s
approach of representing days as fractional months.
See examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add(e1, e2, units, forcelastday = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_+3A_e1">e1</code></td>
<td>
<p>a <code>mondate</code>
</p>
</td></tr>
<tr><td><code id="add_+3A_e2">e2</code></td>
<td>
<p>a<code>numeric</code>
</p>
</td></tr>
<tr><td><code id="add_+3A_units">units</code></td>
<td>

<p>Anything allowed by <code>base:::as.difftime</code>.
In addition, can be &quot;months&quot; or &quot;years&quot;.
If missing, defaults to <code>timeunits(e1)</code>.
</p>
</td></tr>
<tr><td><code id="add_+3A_forcelastday">forcelastday</code></td>
<td>

<p>If FALSE, the result will have the same day of the month subject to
the number of days in the month.
If TRUE, the day of the month of the result will be the last day of the
month if <code>e1</code> is on the last day of the month.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>mondate</code>.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- mondate(0:12)
add(x, 1)             # The third date will the the 29th of March
x &lt;- mondate.ymd(2013, 1:11, 15)
add(x, 1)             # Always the 15th of the month. Compare to ...
x + 1
stopifnot(add(x, 13, units = "months") == mondate.ymd(2014, 2:12, 15))

</code></pre>

<hr>
<h2 id='Arith-methods'>Methods for Function Group Arith on mondate Objects</h2><span id='topic+Arith-methods'></span><span id='topic+Arith+2Cmondate+2Cmondate-method'></span><span id='topic+Arith+2Cmondate+2Cnumeric-method'></span><span id='topic+Arith+2Cnumeric+2Cmondate-method'></span><span id='topic+Arith+2Cmondate+2Carray-method'></span><span id='topic+Arith+2Carray+2Cmondate-method'></span><span id='topic+MonthsBetween'></span><span id='topic+MonthsBetween-methods'></span><span id='topic+MonthsBetween+2Cmondate+2Cmondate-method'></span><span id='topic+YearsBetween'></span><span id='topic+YearsBetween-methods'></span><span id='topic+YearsBetween+2Cmondate+2Cmondate-method'></span><span id='topic+DaysBetween'></span><span id='topic+DaysBetween-methods'></span><span id='topic+DaysBetween+2Cmondate+2Cmondate-method'></span><span id='topic++2B-methods'></span><span id='topic++2B+2Cmondate+2Cdifftime-method'></span><span id='topic+--methods'></span><span id='topic+-+2Cmondate+2Cdifftime-method'></span><span id='topic+-+2Cmondate+2Cmondate-method'></span>

<h3>Description</h3>

<p>Arithmetic methods for class <code>mondate</code>.
Includes three special &quot;units between&quot; methods.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(e1 = "mondate", e2 = "mondate")</code></dt><dd>
<p>Performs arithmetic operations on two <code>mondate</code>s. 
The result will be <code>numeric</code> with attribute <code>timeunits</code>
belonging to the slot of the first argument 
(with a warning if the two arguments have different <code>timeunits</code>).
The only operation that would seem useful for two 
<code>mondate</code>s is subtraction.
</p>
</dd>
<dt><code>signature(e1 = "mondate", e2 = "numeric")</code></dt><dd>
</dd>
<dt><code>signature(e1 = "numeric", e2 = "mondate")</code></dt><dd>
</dd>
<dt><code>signature(e1 = "mondate", e2 = "array")</code></dt><dd>
</dd>
<dt><code>signature(e1 = "array", e2 = "mondate")</code></dt><dd>
<p>Performs arithmetic operations of a <code>numeric</code> on a 
<code>mondate</code> where the units
of the <code>numeric</code> is taken from the 
<code>timeunits</code> slot of the <code>mondate</code>.
The result will be a <code>mondate</code> with the same properties 
as the <code>mondate</code>
in the function call.
</p>
<p>The only operations that would seem useful for a <code>mondate</code> and a numeric
are addition and subtraction.
</p>
<p>Most of the time it is expected that <code>timeunits</code>=&quot;months&quot; so that, 
for example,
adding/subtracting a number to/from that <code>mondate</code> adds/subtracts that
number of months.
If the <code>mondate</code>'s <code>timeunits</code>=&quot;years&quot; 
then the perceived intention is to
add/subtract that number of years. 
To accomplish that, the <code>mondate</code>'s numeric 
value is divided by 12, the operation is performed, and the result converted
to a <code>mondate</code>.
If the <code>mondate</code>'s <code>timeunits</code>=&quot;days&quot;, 
then the <code>mondate</code>'s value is converted to the number
of days since the start of the millennium, 
the operation is performed
(e.g., the <code>numeric</code> number of days is added or subtracted), 
and the result converted to a <code>mondate</code>. 
(See the <code>convert</code> option of the <code>as.numeric("mondate")</code> function.)
</p>
</dd>
<dt><code>+signature(e1 = "mondate", e2 = "difftime")</code></dt><dd>
</dd>
<dt><code>-signature(e1 = "mondate", e2 = "difftime")</code></dt><dd>
<p>Use a difftime object to add and subtract
secs, days, weeks, months, and years
to or from a <code>mondate</code>.
</p>
</dd>
<dt><code>-signature(e1 = "mondate", e2 = "mondate")</code></dt><dd>
<p>Returns a difftime object equal to the signed number of units between
<code>e1</code> and <code>e2</code>, 
where &quot;units&quot; = <code>timeunits(e1)</code>, with a warning
if <code>e1</code> and <code>e2</code> have differing <code>timeunits</code>.
</p>
</dd>
<dt><code>MonthsBetween(from = "mondate", to = "mondate")</code></dt><dd>
<p>Same as <code>abs(from - to)</code> in months.
</p>
</dd>
<dt><code>YearsBetween(from = "mondate", to = "mondate")</code></dt><dd>
<p>Same as <code>abs(from - to)</code> in years, 
which is also the number of months between divided by 12.
</p>
</dd>
<dt><code>DaysBetween(from = "mondate", to = "mondate")</code></dt><dd>
<p>Same as <code>abs(from - to)</code> in days,
which is also the difference between the <code>as.Date</code>
representation of <code>from</code> and <code>to</code>.
</p>
</dd>
</dl>


<h3>See Also</h3>

<p><code><a href="methods.html#topic+Arith">Arith</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>M &lt;- mondate("1-1-2010") # will display in U.S. date format
M - 1:12 # the 1st of the month for all months in 2009
       # in reverse chronological order; inherits M's displayFormat

x &lt;- mondate(matrix(12 * 1:4, 2, 2)) # 2x2 matrix of 2000-2003 year ends
x                                
y &lt;- x + 12                          # one year later, also a matrix
y
y - x                      # 2x2 matrix of 12s, with an attribute ("months")
MonthsBetween(x, y)        # same, without the attribute
YearsBetween(x, y)
DaysBetween(x, y)

## Use difftime object to add, subtract secs, days, weeks, months, years
x &lt;- mondate(1)            # January 31, 2000
y &lt;- as.difftime(1, units = "days")
x + y
x - y
yw &lt;- as.difftime(1, units = "weeks")
x + yw
x - yw
x + as.difftime(1, , "days")
x + as.difftime(86400, , "secs")

x &lt;- mondate.ymd(2012, 2, 29)  # leap day
x + as.difftime(1, , "years")  # last day of February 2013, not a leap day
x - as.difftime(1, , "months") # not the last day of January

</code></pre>

<hr>
<h2 id='array-method'>Array Methods</h2><span id='topic+array-methods'></span><span id='topic+array+2Cmondate-method'></span><span id='topic+array'></span>

<h3>Description</h3>

<p>Apply array attributes to a <code>mondate</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>array(data = NA, dim = length(data), dimnames = NULL)</code></dt><dd>
<p>Shapes <code>mondate</code> <code>data</code> as a matrix. 
Inherits the <code>mondate</code>'s other properties.
See <code><a href="#topic+array">array</a></code> for further details.
</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>M &lt;- mondate.mdy(12, 31, 2006:2011, timeunits = "years") # 6 year-ends
array(M, c(2,3))
</code></pre>

<hr>
<h2 id='as.data.frame+20method'>
Coerce a mondate to a Data Frame
</h2><span id='topic+as.data.frame.mondate'></span>

<h3>Description</h3>

<p>Function to coerce a mondate for containment in a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mondate'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.data.frame+2B20method_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>.
</p>
</td></tr>
<tr><td><code id="as.data.frame+2B20method_+3A_row.names">row.names</code></td>
<td>

<p><code>NULL</code> or a character vector giving the row names 
for the data frame. 
Missing values are not allowed.
</p>
</td></tr>
<tr><td><code id="as.data.frame+2B20method_+3A_optional">optional</code></td>
<td>

<p>logical. 
See <code>base::as.data.frame</code> for details.
</p>
</td></tr>
<tr><td><code id="as.data.frame+2B20method_+3A_...">...</code></td>
<td>

<p>optional additional arguments to be passed to or from methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Although users would normally call <code>data.frame</code>, 
the <code>as.data.frame</code> function is the underlying workhorse that
enables a <code>mondate</code> to be stored in a <code>data.frame</code>.
When array-shaped mondates are stored, 
the number of rows is retained and if the dimension &gt; 2 it is 
&quot;flattened&quot; in the
usual <code>data.frame</code> sense.
The <code>mondate</code> method is fashioned after 
the <code>as.data.frame.Date</code> method.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+data.frame">data.frame</a></code>,
<code><a href="base.html#topic+as.data.frame">as.data.frame</a></code>,
<code><a href="base.html#topic+format">format</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>YE &lt;- mondate.mdy(12, 31, 2001:2005)
data.frame(yearend = YE, value = 1000 * 1.05^(1:5)) # 5% annual inflation
</code></pre>

<hr>
<h2 id='as.difftime'>Difftime with units Months and Years</h2><span id='topic+as.difftime'></span>

<h3>Description</h3>

<p>Expand difftime units to include months and years .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.difftime(tim, format = "%X", units = "auto")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.difftime_+3A_tim">tim</code></td>
<td>

<p>character string or numeric value specifying a time interval.
</p>
</td></tr>
<tr><td><code id="as.difftime_+3A_format">format</code></td>
<td>

<p>character specifying the format of tim: see <a href="base.html#topic+strptime">strptime</a>.
The default is a locale-specific time format.
</p>
</td></tr>
<tr><td><code id="as.difftime_+3A_units">units</code></td>
<td>

<p>Anything allowed by <a href="base.html#topic+as.difftime">as.difftime</a>.
In addition, can be &quot;months&quot; or &quot;years&quot; in which case 
<code>tim</code> must be numeric.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Primarily used to facilitate adding months and years to 
<code>mondate</code>s.
See <a href="base.html#topic+as.difftime">as.difftime</a>.
</p>


<h3>Value</h3>

<p>See <a href="base.html#topic+as.difftime">as.difftime</a>.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy.
</p>


<h3>See Also</h3>

<p>Base <code><a href="#topic+as.difftime">as.difftime</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- mondate(0:12)
y &lt;- as.difftime(1, , "months")
x + y
x - y
</code></pre>

<hr>
<h2 id='as.list+20method'>
Construct a list from a mondate
</h2><span id='topic+as.list.mondate'></span>

<h3>Description</h3>

<p>Function to construct a list from a mondate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mondate'
as.list(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.list+2B20method_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>.
</p>
</td></tr>
<tr><td><code id="as.list+2B20method_+3A_...">...</code></td>
<td>

<p>optional additional arguments to be passed to or from methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Constructs a list from a mondate object.
The length of the list equals the length of <code>x</code>.
Each sublist contains an individual element of <code>x</code>.
This method is most useful when a mondate is the <code>X</code> argument
of one of the <code>*apply</code> functions.
See an example of a recommended call to <code>sapply</code> in &quot;Examples&quot; below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>YE &lt;- mondate.mdy(12, 31, 2011:2012)
sapply(YE, class)    # "mondate" "mondate"
sapply(YE, month)   # same as month(YE)
month(YE)
</code></pre>

<hr>
<h2 id='as.mondate'>
As.Mondate Method
</h2><span id='topic+as.mondate'></span>

<h3>Description</h3>

<p>Coerce an object to class mondate. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.mondate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.mondate_+3A_x">x</code></td>
<td>

<p>an <span class="rlang"><b>R</b></span> object.
</p>
</td></tr>
<tr><td><code id="as.mondate_+3A_...">...</code></td>
<td>

<p>optional arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a convenience function that simply calls the 
appropriate <code>mondate</code> conversion method depending
on the class of <code>x</code>.
</p>


<h3>Value</h3>

<p>A <code>mondate</code> if coersion is successful.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mondate-methods">mondate-methods</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- as.Date("2012-12-31")
as.mondate(y)
</code></pre>

<hr>
<h2 id='Coersion-from-mondate+20methods'>Coersion Methods for Mondates</h2><span id='topic+as.character.mondate'></span><span id='topic+as.numeric+2Cmondate-method'></span><span id='topic+as.Date.mondate'></span><span id='topic+as.POSIXct.mondate'></span><span id='topic+as.POSIXlt.mondate'></span>

<h3>Description</h3>

<p>Methods to coerce a <code>mondate</code> to other R objects.
Currently that includes numbers, characters, 
and three classes of dates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ## S3 method for class 'mondate'
as.character(x, format, ...)
 ## S3 method for class 'mondate'
as.Date(x, ...)
 ## S3 method for class 'mondate'
as.POSIXct(x, ...)
 ## S3 method for class 'mondate'
as.POSIXlt(x, ...)
 ## S4 method for signature 'mondate'
as.numeric(x, convert = FALSE, stripdim = FALSE,  
               timeunits = c("months", "years", "days"), 
               ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Coersion-from-mondate+2B20methods_+3A_x">x</code></td>
<td>
<p>a mondate</p>
</td></tr>
<tr><td><code id="Coersion-from-mondate+2B20methods_+3A_format">format</code></td>
<td>
<p>the format to give the Date representation of x</p>
</td></tr>
<tr><td><code id="Coersion-from-mondate+2B20methods_+3A_...">...</code></td>
<td>
<p>arguments passed to and from other methods</p>
</td></tr>
<tr><td><code id="Coersion-from-mondate+2B20methods_+3A_convert">convert</code></td>
<td>
<p>See Methods</p>
</td></tr>
<tr><td><code id="Coersion-from-mondate+2B20methods_+3A_stripdim">stripdim</code></td>
<td>
<p>See Methods</p>
</td></tr>
<tr><td><code id="Coersion-from-mondate+2B20methods_+3A_timeunits">timeunits</code></td>
<td>
<p>See Methods</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt><code>as.character(x = "mondate", format, ...)</code></dt><dd>
<p>Coerce <code>mondate</code> to class <code>character</code>.
Uses the <code>format</code> function.
</p>

<dl>
<dt><code>format</code></dt><dd>
<p>If <code>missing</code> the value is drawn from 
the <code>displayFormat</code> property of <code>x</code>.
</p>
</dd>
<dt><code>...</code></dt><dd>
<p>arguments passed to other methods (e.g., <code>format</code>).
</p>
</dd>
</dl>

</dd>
<dt><code>as.numeric(x = "mondate",</code></dt><dd> 
<p><code>convert=FALSE, stripdim=FALSE, </code>
<code>timeunits=c("months", "years", "days"), ...)</code>
Coerce <code>mondate</code> to class <code>numeric</code>.
</p>

<dl>
<dt><code>convert:</code></dt><dd> 
<p><code>FALSE</code> (the default)
is equivalent to <code>getDataPart</code>.
If <code>TRUE</code> the result will be converted to
the number of years since 
the beginning of the millennium if
<code>timeunits</code>=&quot;years&quot;;
to the number of days since
the beginning of the millennium if
<code>timeunits</code>=&quot;days&quot;.
Also in the case that <code>convert=TRUE</code>
the <code>numeric</code> returned will have
&quot;timeunits&quot; as an attribute.
</p>
</dd>
<dt><code>stripdim:</code></dt><dd> 
<p><code>FALSE</code> (the default)
retains the array attributes <code>dim</code> and <code>dimnames</code>.
If <code>TRUE</code> the dimension attributes are stripped,
which is the default behavior of <code>base::as.numeric</code>.
</p>
</dd>
<dt><code>timeunits</code></dt><dd>
<p>If <code>missing</code> the value is drawn from 
the property of the <code>mondate</code>.
</p>
</dd>
</dl>

</dd>
<dt><code>as.Date(x = "mondate")</code></dt><dd>
<p>Coerce <code>mondate</code> to class <code>Date</code>
</p>
</dd>
<dt><code>as.POSIXlt(x = "mondate")</code></dt><dd>
<p>Coerce <code>mondate</code> to class <code>POSIXlt</code>
</p>
</dd>
<dt><code>as.POSIXct(x = "mondate")</code></dt><dd>
<p>Coerce <code>mondate</code> to class <code>POSIXct</code>
</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>(b&lt;-mondate(1))              # end of first month of current millennium
as.numeric(b)                # 1
as.character(b)              # December 31, 2000 in date format of locale
as.character(b, format="%b-%Y")  # "Dec-2000"
as.numeric(b, convert=TRUE, timeunits="years") # converts to 1/12 "years"
(b&lt;-mondate(1, timeunits="days")) # end of first day of millennium
as.numeric(b)                # 1/31
as.numeric(b, convert=TRUE)  # 1 (with a "days" attribute)
as.Date(b)                   # displays as "2000-01-31"
as.POSIXct(b)                # displays as "2000-01-31 UTC"
weekdays(as.POSIXct(b))      # January 31, 2000 was a "Saturday" (in English)
as.POSIXlt(b)$hour           # zero, as are ...$min and ...$sec
</code></pre>

<hr>
<h2 id='Combining-methods'>Methods for Combining Mondates</h2><span id='topic+c-methods'></span><span id='topic+c+2Cmondate-method'></span><span id='topic+cbindmondate'></span><span id='topic+rbindmondate'></span><span id='topic+rep.mondate'></span>

<h3>Description</h3>

<p>Methods to combine <code>mondate</code>s.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> cbindmondate(..., deparse.level = 1)
 rbindmondate(..., deparse.level = 1)
 ## S3 method for class 'mondate'
rep(x, ...)
 ## S4 method for signature 'mondate'
c(x, ..., recursive = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Combining-methods_+3A_x">x</code></td>
<td>
<p>a mondate</p>
</td></tr>
<tr><td><code id="Combining-methods_+3A_deparse.level">deparse.level</code></td>
<td>
<p>see <code>base::cbind</code></p>
</td></tr>
<tr><td><code id="Combining-methods_+3A_recursive">recursive</code></td>
<td>
<p>see <code>base::c</code></p>
</td></tr>
<tr><td><code id="Combining-methods_+3A_...">...</code></td>
<td>
<p>arguments passed to and from other methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The package calls <code>setGeneric("c-rbind")</code>.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>c-rbindmondate(...)</code></td>
<td>

<p>The <code>cbindmondate</code> and <code>rbindmondate</code> functions
are similar to the <code>base</code> <code>cbind</code> and <code>rbind</code> functions,
respectively,
to combine the arguments.
If all arguments are <code>mondate</code>s
then the result is converted to a <code>mondate</code>
with <code>displayFormat</code> and <code>timeunits</code> properties
equal to those of the first argument in <code>...</code>.
If not all arguments are <code>mondate</code>s
then the result is a <code>data.frame</code> by virtue of the call
<code>cbind.data.frame(...)</code>.
</p>
</td></tr>
</table>
<p>A <code>mondate</code> (or a data.frame from 
<code>c-rbindmondate</code> when ... holds non-<code>mondate</code> arguments).
For <code>c</code> and <code>rep</code>, a <code>vector</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>c(x = "mondate", ...)</code></dt><dd>
<p>Combine <code>mondate</code>s into a <code>vector</code>. 
<code>...</code> any R object(s) that can
be coerced to a <code>mondate</code>.
The behavior mimics that of the <code>base</code> function.
The result will be a <code>mondate</code> with properties equal to those of 
<code>x</code>.
</p>
</dd>
<dt><code>rep(x = "mondate", ...)</code></dt><dd>
<p>Replicates a <code>mondate</code>.
The behavior mimics that of the <code>base</code> function.
See <code><a href="base.html#topic+rep">rep</a></code> for further details.
The result will be a <code>mondate</code> with properties equal to those of 
<code>x</code>.
</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- mondate(1:6) # first 6 month-ends of the year 2000
c(x,x+6)          # all month-ends of 2000
c(0,x)            # result is "numeric", as determined by the first argument

M&lt;-mondate.ymd(2001:2005,12,31) # 5 year-ends
names(M)&lt;-LETTERS[1:5]
cbindmondate(M)                      # as a 5x1 matrix
rbindmondate(M,M)
begin_date &lt;- M-12
cbindmondate(begin_date,end_date=M)  # 5 pairs of year boundary-dates. Columns 
                              # are "automatically" named in the default case 
                              # (all mondates with timeunits="months").
dayt &lt;- as.Date("2010-6-30")
cbindmondate(x,mondate(dayt))        # column names show as 'x' and blank
cbindmondate(x=x,DateColumn=mondate("2010-6-30")) # both columns are named

rep(mondate("2010-2-14"), 3)

(M&lt;-seq(from=mondate("1/1/2010"),length=2)) # Jan. and Feb. 1st
rep(M,3)                                    # three pairs
rep(M,each=3)                               # three Jan.'s, three Feb.'s
</code></pre>

<hr>
<h2 id='Compare-methods'>Comparison Methods</h2><span id='topic+Compare-methods'></span><span id='topic+Compare+2Cmondate+2Cmondate-method'></span>

<h3>Description</h3>

<p>Methods for the <code>Compare</code> group of functions.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(e1 = "mondate", e2 = "mondate")</code></dt><dd>
<p>compares two <code>mondate</code>s.
The usual recycling rules apply to the shorter of the two <code>mondate</code>s.
The result will be logical. 
The usual rules apply as to the shape of the result.
</p>
</dd>
</dl>


<h3>See Also</h3>

<p><code><a href="methods.html#topic+Compare">Compare</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>A&lt;-mondate.ymd(2001:2003,12,31) # three year ends
B&lt;-mondate.ymd(2001:2003, 6,30) # three mid-years
B&lt;A                             # c(TRUE, TRUE, TRUE)
</code></pre>

<hr>
<h2 id='cut.mondate'>Convert a mondate Object to a Factor</h2><span id='topic+cut'></span><span id='topic+cut.mondate'></span>

<h3>Description</h3>

<p>Method for <code>cut</code> applied to mondate objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ## S3 method for class 'mondate'
cut(x, breaks, labels = NULL, 
      include.lowest = TRUE, right = TRUE, 
      start.on.monday = TRUE, attr.breaks = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cut.mondate_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>
</p>
</td></tr>
<tr><td><code id="cut.mondate_+3A_breaks">breaks</code></td>
<td>

<p>a vector of cut points or number giving the number of intervals which x 
is to be cut into or an interval specification, 
one of &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;quarter&quot; or &quot;year&quot;, 
optionally preceded by an integer and a space, 
or followed by &quot;s&quot; (pluralized).
</p>
</td></tr>
<tr><td><code id="cut.mondate_+3A_labels">labels</code></td>
<td>

<p>labels for the levels of the resulting category. 
By default, labels are constructed from the right-hand end of the intervals 
(which are included for the default value of right). 
If <code>labels = FALSE</code>, simple integer codes are returned instead of a factor. 
</p>
</td></tr>
<tr><td><code id="cut.mondate_+3A_include.lowest">include.lowest</code></td>
<td>

<p>logical, indicating if an 'x[i]' equal to the lowest 
(or highest, for <code>right = FALSE</code>) 'breaks' value should be included.
</p>
</td></tr>
<tr><td><code id="cut.mondate_+3A_right">right</code></td>
<td>

<p>logical, indicating if the intervals should be closed on the right 
(and open on the left) or vice versa.
</p>
</td></tr>
<tr><td><code id="cut.mondate_+3A_start.on.monday">start.on.monday</code></td>
<td>

<p>logical. If <code>breaks = "weeks"</code>, should the week start on Mondays or Sundays?
</p>
</td></tr>
<tr><td><code id="cut.mondate_+3A_attr.breaks">attr.breaks</code></td>
<td>

<p>logical. If <code>TRUE</code> the result has a &quot;breaks&quot; attribute which is
a <code>mondate</code> whose pairwise values determine a covering of <code>x</code>.
Most helpful when <code>breaks</code> = 
&quot;days&quot;, &quot;weeks&quot;, &quot;months&quot;, &quot;quarters&quot;, or &quot;years&quot;.
</p>
</td></tr>
<tr><td><code id="cut.mondate_+3A_...">...</code></td>
<td>

<p>optional arguments passed to or from other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Convert a <code>mondate</code> to a factor where,
in the &quot;end-of-business-day&quot; spirit of <code>mondate</code>,
the levels are labeled by the last day in the period.
If <code>right = FALSE</code> the levels are labeled by the first day in the period.
</p>
<p>For <code>numeric</code> breaks &ndash; which case also includes <code>mondate</code>s &ndash; 
the method calls <code>cut.default</code> and the intervals encoded in the levels 
are converted to date format using <code>mondate</code> logic.
In the spirit of <code>mondate</code>, the default 
<code>right = TRUE</code> ensures that the intervals are left-open/right-closed.
The default <code>include.lowest = TRUE</code>
ensures that <code>min(x)</code> is included in the first interval.
</p>
<p>For breaks = &quot;days&quot; or &quot;weeks&quot;, the method calls cut(as.Date(x)).
For breaks = &quot;months&quot;, &quot;quarters&quot;, and &quot;years&quot;, 
numeric breaks are determined from the range of x.
</p>
<p>If <code>breaks</code> is preceded by an integer, call it <code>step</code>,
then the period of the first level is determined by <code>min(x)</code>
and subsequent &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;quarter&quot;, and &quot;year&quot; periods
are determined sequentially per
seq(min(x), max(x), by = step).
</p>
<p>When <code>attr.breaks = TRUE</code>, the result will have a &quot;breaks&quot; attribute
(attr(., &quot;breaks&quot;)) which pairwise &quot;cover&quot; <code>x</code>.
Such &quot;breaks&quot; are suitable be use by 'hist', for example.
</p>
<p>In all cases, the formats of the dates representing the levels are 
inherited from <code>displayFormat(x)</code>.
Accordingly, if such resulting potential levels would be non-unique, 
<code>cut.mondate</code> resorts to the fall-back scheme of <code>cut.default</code>,
i.e., &quot;labels such as &quot;Range3&quot; will be used.&quot;
</p>


<h3>Value</h3>

<p>A factor is returned, unless <code>labels = FALSE</code> which returns the integer level codes.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy. Many thanks to the R-development team for cut and cut.Date.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cut">cut</a></code> and <code><a href="base.html#topic+cut.Date">cut.Date</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- mondate(0:12)
cut(x, breaks = 4)
cut(x, mondate.ymd(1999) + c(0, 3, 6, 9, 12)) # same as above

# days
x &lt;- mondate.ymd(2013, 1, 1:7)
cut(x, breaks = "days")

# weeks
x &lt;- mondate.ymd(2013, 1, 1:31)  # days in January 2013
cut(x, breaks = "weeks") # labeled by the first 5 Sundays of 2013
cut(x, breaks = "2 weeks") # labeled by 2nd, 4th, and 6th Sundays of 2013

# months
x &lt;- mondate.ymd(2013, 1:12, 15) # 15th day of each month in 2013
cut(x, breaks = "months") # labeled by last day of the month
cut(x, breaks = "months", right = FALSE) # labeled by first day of the month
cut(x, breaks = "2 months") # labeled by last day of the month
x1 &lt;- mondate.ymd(2008, 6)
x2 &lt;- mondate.ymd(2008:2011, 6)
cx1 &lt;- cut(x1, "month", right = FALSE)
cx2 &lt;- cut(x2, "month", right = FALSE)
stopifnot(levels(cx1)[cx1] == levels(cx2)[cx2[1]])

# quarters
x &lt;- mondate.ymd(2013, 1:12, 15) # 15th day of each month in 2013
cut(x, "quarters")       # labeled by last day of the quarter
cut(x, "quarters", right = FALSE) # labeled by first day of the quarter
cut(x, "2 quarters")
cut(x, "2 quarters", right = FALSE) # labeled by first day of the quarter

# years
m &lt;- mondate(0:12)
cut(m, "years")           # labeled by last day of the year
cut(m, "years", right = FALSE) # labeled by last day of the year
displayFormat(m) &lt;- "%Y"
cut(m, "years")           # labeled by just the year
x &lt;- mondate.ymd(2008:2013, 6)
cut(x, "years")                  # 6 levels labeled by last day of the year
cut(x, "years", right = FALSE)   # 6 levels labeled by first day of the year
cut(x, "3 years")                # 2 levels
cut(x, "3 years", right = FALSE) # 2 levels
x1 &lt;- mondate.ymd(2008, 12)
x2 &lt;- mondate.ymd(2008:2011, 12)
cx1 &lt;- cut(x1, "year", right = FALSE)
cx2 &lt;- cut(x2, "year", right = FALSE)
stopifnot(levels(cx1)[cx1] == levels(cx2)[cx2[1]])
</code></pre>

<hr>
<h2 id='diff.mondate'>
'diff' for package mondate
</h2><span id='topic+diff.mondate'></span>

<h3>Description</h3>

<p>Returns suitably lagged and iterated differences of an object of class <b>mondate</b>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mondate'
diff(x, lag = 1L, differences = 1L, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="diff.mondate_+3A_x">x</code></td>
<td>

<p>a mondate vector or matrix containing the values to be differenced.
</p>
</td></tr>
<tr><td><code id="diff.mondate_+3A_lag">lag</code></td>
<td>

<p>an integer indicating which lag to use.
</p>
</td></tr>
<tr><td><code id="diff.mondate_+3A_differences">differences</code></td>
<td>

<p>an integer indicating the order of the difference.
</p>
</td></tr>
<tr><td><code id="diff.mondate_+3A_...">...</code></td>
<td>

<p>further arguments to be passed to or from methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the <code>diff</code> function in <code>base</code>.
</p>


<h3>Value</h3>

<p>If <code>x</code> is a vector of length <code>n</code> and <code>differences=1</code>, 
then the computed result is equal to the successive differences 
<code>x[(1+lag):n] - x[1:(n-lag)]</code>.
</p>
<p>If <code>difference</code> is larger than one this algorithm is applied 
recursively to <code>x</code>. 
Note that the returned value is a vector which is shorter than <code>x</code>.
</p>
<p>If <code>x</code> is a matrix then the difference operations 
are carried out on each column separately.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+diff">diff</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>evalDate&lt;-mondate(c(12+12*1:10))  # year ends 2001, ..., 2010
diff(evalDate)                    # vector of length 9 holding the number 12, 
                                  # with "timeunits" attribute = "months"
</code></pre>

<hr>
<h2 id='difftime-class'>Class &quot;difftime&quot;</h2><span id='topic+difftime-class'></span>

<h3>Description</h3>

<p>Register old-style (a.k.a. 'S3') class as a formally defined class. 
</p>


<h3>Author(s)</h3>

<p>Dan Murphy
</p>

<hr>
<h2 id='displayFormat-methods'>Methods to Access 'displayFormat' Property</h2><span id='topic+displayFormat-methods'></span><span id='topic+displayFormat+2Cmondate-method'></span><span id='topic+displayFormat+2CANY-method'></span><span id='topic+displayFormat'></span><span id='topic+displayFormat+3C--methods'></span><span id='topic+displayFormat+3C-+2Cmondate-method'></span><span id='topic+displayFormat+3C-'></span>

<h3>Description</h3>

<p>Methods to get and set the <code>displayFormat</code> value of a <code>mondate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'mondate'
displayFormat(x)
## S4 method for signature 'ANY'
displayFormat(x)
## S4 replacement method for signature 'mondate'
displayFormat(x)&lt;-value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="displayFormat-methods_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>.
</p>
</td></tr>
<tr><td><code id="displayFormat-methods_+3A_value">value</code></td>
<td>

<p>For the &quot;get&quot; method, 
a <code>character</code> string indicating the date format with which to
display the <code>mondate</code>.
Choices are currently
</p>

<ol>
<li><p> &quot;%m/%d/%Y&quot;
</p>
</li>
<li><p> &quot;%m-%d-%Y&quot;
</p>
</li>
<li><p> &quot;%Y-%m-%d&quot;
</p>
</li>
<li><p> &quot;%Y/%m/%d&quot;
</p>
</li></ol>

<p>If <code>x</code> is not a <code>mondate</code>, 
the &quot;get&quot; value returned is <code>NULL</code>.
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The <code>mondateDisplayFormat</code> versions have been deprecated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x&lt;-mondate("2010-6-30")            # The middle of 2010
displayFormat(x)                   # "%Y-%m-%d"
displayFormat(x) &lt;- "%m/%d/%Y"
x                                  # x now displays as 06/30/2010
</code></pre>

<hr>
<h2 id='format.mondate'>Format a mondate</h2><span id='topic+format.mondate'></span>

<h3>Description</h3>

<p>Function to format a <code>mondate</code> into its character
representation according to the <code>displayFormat</code> property.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mondate'
format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.mondate_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>.
</p>
</td></tr>
<tr><td><code id="format.mondate_+3A_...">...</code></td>
<td>

<p>further arguments passed to or from other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more details see <code><a href="base.html#topic+format">format</a></code> and especially <code><a href="base.html#topic+strptime">strptime</a></code>.
</p>


<h3>Value</h3>

<p><code>character</code> representation of the <code>mondate</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+strptime">strptime</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(b&lt;-mondate(1))   # end of first month of millennium
format(b)         # "01/31/2000" -- with quotes -- in the U.S. locale
format(b, format="%Y-%m-%d")  # "2000-12-31"
</code></pre>

<hr>
<h2 id='funcNULL-class'>Class &quot;funcNULL&quot;</h2><span id='topic+funcNULL-class'></span>

<h3>Description</h3>

<p>A class representing a function for special <code>mondate</code> formatting 
if necessary or NULL if not.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy
</p>

<hr>
<h2 id='matrix-methods'>Matrix Methods for Mondate's</h2><span id='topic+matrix-methods'></span><span id='topic+matrix+2Cmondate-method'></span><span id='topic+matrix'></span>

<h3>Description</h3>

<p>Apply matrix attributes to a <code>mondate</code>.
</p>


<h3>Methods</h3>


<dl>
<dt><code>matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL)</code></dt><dd>
<p>Shapes <code>mondate</code> <code>data</code> as a matrix. 
Inherits the <code>mondate</code>'s other properties.
See <code><a href="#topic+matrix">matrix</a></code> for further details.
</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- mondate.mdy(12, 31, 2001:2006) # 6 year-ends
matrix(m)                           # a one-column matrix
matrix(m, 2, byrow=TRUE)            # a two-row matrix stored in row-order
</code></pre>

<hr>
<h2 id='Miscellaneous-methods'>Miscellaneous Methods for mondate's</h2><span id='topic+mean.mondate'></span><span id='topic+pmean'></span><span id='topic+pmean-methods'></span><span id='topic+pmean+2Cmondate-method'></span><span id='topic+unique.mondate'></span><span id='topic+quarters.mondate'></span>

<h3>Description</h3>

<p>Miscellaneous <code>mondate</code> methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ## S3 method for class 'mondate'
mean(x, trim = 0, na.rm = FALSE, ...)
 ## S3 method for class 'mondate'
unique(x, ...)
 ## S3 method for class 'mondate'
quarters(x, abbreviate)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Miscellaneous-methods_+3A_x">x</code></td>
<td>
<p>a mondate</p>
</td></tr>
<tr><td><code id="Miscellaneous-methods_+3A_trim">trim</code></td>
<td>
<p>see <code>base::mean</code></p>
</td></tr>
<tr><td><code id="Miscellaneous-methods_+3A_na.rm">na.rm</code></td>
<td>
<p>see <code>base::mean</code></p>
</td></tr>
<tr><td><code id="Miscellaneous-methods_+3A_abbreviate">abbreviate</code></td>
<td>
<p><code>logical</code>. Should the names be abbreviated?</p>
</td></tr>
<tr><td><code id="Miscellaneous-methods_+3A_...">...</code></td>
<td>
<p>arguments passed to and from other methods</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt><code>mean(x = "mondate", ...)</code></dt><dd>
<p>Calculate the mean date of <code>mondate</code>s. 
Arguments <code>trim</code> and <code>na.rm</code> have the usual meaning
(see <code>base::mean</code>).
</p>
</dd>
<dt><code>pmean(... = "mondate")</code></dt><dd>
<p>Calculate the &quot;parallel&quot; mean date of <code>mondate</code>s. 
Arguments in <code>...</code>
must all be <code>mondate</code>s.
Result will be a <code>mondate</code>
with properties equal to those of the first
<code>mondate</code> in <code>...</code>.
</p>
</dd>
<dt><code>unique(x = "mondate", ...)</code></dt><dd>
<p>Returns a <code>mondate</code> but with duplicate
elements/rows removed.
For an explanation of the arguments in <code>...</code>, 
see <code>base::unique</code>.
</p>
</dd>
<dt><code>quarters(x = "mondate", abbreviate)</code></dt><dd>
<p>Returns a <code>character</code> vector of &quot;Q1&quot; to &quot;Q4&quot;.
See <code><a href="base.html#topic+quarters">quarters</a></code>.
</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>(M&lt;-mondate.mdy(12,31,2001:2003))
mean(M)                           # the middle value, Dec. 31, 2002
(M&lt;-c(M,mondate.mdy(12,31,2004))) # tack on another yearend
mean(M)                           # mid-year 2003
mean(M,12)                        # 12 is coerced to Dec. 31, 2000, so the 
                                  # mean is again Dec. 31, 2002

x &lt;- mondate.ymd(2001:2005,12)    # five year ends
y &lt;- x-12                         # one year earlier
pmean(x,y)                        # 2001-06-30 ... 2005-06-30

unique(M,M)                       # just M
(M&lt;-matrix(M,nrow=2))             # now a matrix
rbind(M,M)                        # 2 M's, stacked
unique(rbind(M,M))                # M again, still a matrix

m &lt;- mondate.ymd(2013, 1:12)      # end of the months of 2013
quarters(m)
</code></pre>

<hr>
<h2 id='mondate-class'>Class &quot;mondate&quot;</h2><span id='topic+mondate-class'></span>

<h3>Description</h3>

<p>A <code>mondate</code> represents a date as a <code>numeric</code> equalling
the number of months since the beginning of
the current millennium (the &quot;mondate epoch&quot;). 
Somewhat arbitrarily, 
and at the risk of reopening a decade-old debate, 
&quot;the beginning of the current millennium&quot;
is defined as the instant between December 31, 1999
and January 1, 2000.
</p>
<p>The need for a &quot;mondate&quot; class arises in the area of actuarial analysis,
and other areas of financial modeling that need to reconcile
to a company's book of accounts.
Its motivation is based on the following presumptions:
</p>

<ol>
<li><p> Business accounting-wise, the closing of the books for a month, 
quarter, and year are the important milestones for measuring time.
</p>
</li>
<li><p> For accountants &ndash; and actuaries &ndash; it is usually not important
to measure events on an hourly basis.
</p>
</li>
<li><p> All events that occur during a business day, up to and including 
the closing of the books for a day, are all &quot;accounted for&quot; as
having occurred &quot;at the same time.&quot;
</p>
</li></ol>

<p>To appreciate the difficulty in measuring the passage of time in days,
note that there are typically three fewer days in the first half of the year
(January 1 through June 30) than there are in the second half.
Yet accountants will say that on June 30th the year is half over.
For another example,  
note that &ndash; 
with the exception of July/August and December/January &ndash; 
the same days of the month for two consecutive months are not 
one &quot;month&quot; apart if measured in days because, with those exceptions,
consecutive months contain differing numbers of days,
so which of the two months do you choose as the yardstick?
Since changes in accounts over the course of a month, quarter and year
are the amounts by which financial results are measured,
it is important to be able to measure the passage of time 
where a year is comprised of twelve months of equal &quot;accounting weight.&quot;
</p>
<p>That gives rise to a date as measured in months, coined &quot;mondate&quot;.
</p>
<p>A <code>mondate</code> is simply a real number whose fractional part represents 
the fraction of the month as of the end of the day. 
E.g., the fractional part of January 1st = 1/31; the fractional part of 
February 1st = 1/28 or 1/29, depending on the year.
A <code>mondate</code> which is a whole number 
(i.e., no fractional part) corresponds to a month
that is fully completed, whose subsequent month has not yet begun;
i.e., the instant in time between
one month and the next. 
</p>
<p>The length of time (in months) between <code>mondate x</code> and 
<code>mondate y</code> is simply <code>y-x</code>.
An interval of time is represented in a mathematical sense
by the half-open/half-closed 
interval <strong>(x,y]</strong>. 
For example, calendar year 2009 is
the interval
</p>

<table>
<tr>
 <td style="text-align: center;"> 
<strong>(2008-12-31, 2009-12-31]</strong>
</td>
</tr>

</table>

<p>i.e., all
events <em>after</em> the close of business <strong>2008-12-31</strong>
and <em>through and including</em> the close
of business <strong>2009-12-31</strong>.
The mondate vector
</p>

<table>
<tr>
 <td style="text-align: center;"> 
c(mondate("2008-12-31"), mondate("2009-12-31"))
</td>
</tr>

</table>

<p>could be used to represent such an interval.
</p>
<p>A <code>mondate</code> allows &quot;infinite dates&quot;,
which are helpful constructs for modeling &quot;ultimate&quot; events
in actuarial, longitudinal, and time series analyses
(see the <code>mondate</code> method for signature &quot;numeric&quot;).
</p>
<p>A <code>mondate</code> has two important properties (in S4 parlance, &quot;slots&quot;).
The first is <code>displayFormat</code> which is the format 
of the date when the <code>mondate</code> is printed or <code>show</code>n.
The other is <code>timeunits</code> which is the &quot;units&quot; reported 
when date arithmetic is performed.
The default units is &quot;months&quot;, but &quot;years&quot; and &quot;days&quot; are also allowed, 
in which case the difference of two dates, say, would be reported
in &quot;years&quot; or &quot;days&quot;, respectively.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>mondate(x, ...)</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>.Data</code>:</dt><dd><p>Object of class <code>"numeric"</code> or a numeric array </p>
</dd>
<dt><code>displayFormat</code>:</dt><dd><p>Object of class <code>"character"</code>.
The is the format of the date when displayed. 
Currently, there are four choices:
</p>

<ol>
<li><p> &quot;
</p>
</li>
<li><p> &quot;
</p>
</li>
<li><p> &quot;
</p>
</li>
<li><p> &quot;
</p>
</li></ol>

<p>Currently, the default displayFormat for a &quot;United States&quot; locale is
mm/dd/YYYY (&quot;
in all other locales YYYY-mm-dd (&quot;
The default can be changed to another format
using <code>options(mondate.displayFormat = myFormat)</code>.
See Examples.
</p>
</dd>
<dt><code>timeunits</code>:</dt><dd><p>Object of class <code>"character"</code>
There are three options:
</p>

<dl>
<dt>&quot;months&quot;:</dt><dd><p>the default</p>
</dd>
<dt>&quot;years&quot;:</dt><dd><p>although it is assumed that &quot;month&quot; 
is the fundamental unit of time, 
sometimes it is more convenient to report the result of 
date arithmetic in terms of &quot;years&quot;, 
for example, in actuarial analyses when 
events are measured over the course of years, not months. 
Of course, one &quot;year&quot; = twelve &quot;months&quot;.
</p>
</dd>
<dt>&quot;days&quot;:</dt><dd><p>mostly for convenience when the number of days
between events needs to be reported.
Of course, unlike with &quot;years&quot;, there is no simple relationship
between &quot;days&quot; and &quot;months&quot; &ndash; it depends on the month and year of
the date.
If the <em>fundamental</em> unit of time for a particular problem 
is &quot;days&quot;, not &quot;months&quot;, then a different date class
(e.g., class <code>Date</code>) might be a better tool for modeling
the passage of time for that problem.
</p>
</dd>
</dl>

<p>The default can be changed to a different unit
using the <code>options(mondate.timeunits = myUnits)</code> command.
See Examples.
</p>
</dd>
<dt><code>formatFUN</code>:</dt><dd><p>Object of class <code>"funcNULL"</code>
Use this slot to store a function to format a <code>mondate</code>.
See Examples.
</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>c("numeric","array")</code>, from data part.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy
</p>


<h3>References</h3>

<p>For information about how month-based time measurement can help with
standardizing rates of return, see Damien Laker, 
&quot;Time Calculations for Annualizing Returns: 
the Need for Standardization,&quot;
<em>The Journal of Performance Measurement</em>, Summer 2008, pp. 45-54.
</p>


<h3>See Also</h3>

<p><code><a href="zoo.html#topic+yearmon">yearmon</a></code> in the zoo package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See the \code{mondate-methods} section for an
# explanation of the \code{mondate} method below.

# January 1, 2010 in US displayFormat
mondate("1-1-2010") 

# generate 10 random dates in calendar year 2000; will be
# displayed in local format
mondate(runif(10,0,12)) 

# Change the default format so that the character representation of the date
#   sorts in chronological order.
options(mondate.displayFormat = "%Y-%m-%d")
# January
mondate(runif(10,0,12)) 

# generate 10 random dates in calendar year 2010;
# date arithmetic results will be reported in units of "years"
mondate(10+runif(10),timeunits="years") 
</code></pre>

<hr>
<h2 id='mondate-methods'>Create an instance of the mondate class</h2><span id='topic+mondate'></span><span id='topic+mondate-methods'></span><span id='topic+mondate+2CANY-method'></span><span id='topic+mondate+2Carray-method'></span><span id='topic+mondate+2Ccharacter-method'></span><span id='topic+mondate+2Cfactor-method'></span><span id='topic+mondate+2CDate-method'></span><span id='topic+mondate+2Cmondate-method'></span><span id='topic+mondate+2Cnumeric-method'></span><span id='topic+mondate+2Cmatrix-method'></span><span id='topic+mondate+2CPOSIXt-method'></span><span id='topic+mondate+2Cmissing-method'></span>

<h3>Description</h3>

<p>All purpose <b>mondate</b> constructor / coercer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    mondate(x, 
      displayFormat = getOption("mondate.displayFormat", 
                                default = .get.default.displayFormat()), 
      timeunits = getOption("mondate.timeunits",
                            default = .get.default.timeunits()),
      ...)
    ## S4 method for signature 'mondate'
mondate(x, displayFormat, timeunits, formatFUN, ...)
    ## S4 method for signature 'numeric'
mondate(x, displayFormat, timeunits, ...)
    ## S4 method for signature 'Date'
mondate(x, displayFormat, timeunits, ...)
    ## S4 method for signature 'POSIXt'
mondate(x, displayFormat, timeunits, ...)
    ## S4 method for signature 'character'
mondate(x, displayFormat = "keep", timeunits, format, ...)
    ## S4 method for signature 'array'
mondate(x, displayFormat, timeunits, ...)
    ## S4 method for signature 'missing'
mondate(x, displayFormat, timeunits, ...)
    ## S4 method for signature 'ANY'
mondate(x, displayFormat, timeunits, ...)
    </code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mondate-methods_+3A_x">x</code></td>
<td>

<p>an <span class="rlang"><b>R</b></span> object to convert to a <code>mondate</code>. 
Can be another <code>mondate</code>,
a character representing a date, a date, a numeric, or an object which
converts to a numeric with as.numeric(x).
More details below.
</p>
</td></tr>
<tr><td><code id="mondate-methods_+3A_displayformat">displayFormat</code></td>
<td>

<p>character string representing the date format with which to display 
the <code>mondate</code>. 
The default.displayFormat is determined 
at the time an instance is created
according to Sys.getlocale(&quot;LC_TIME&quot;):
if it contains the words &quot;United States&quot;, the default will be 
&quot;%m/%d/%Y&quot; 
<br />
(MM/DD/YYYY), otherwise &quot;%Y-%m-%d&quot; (YYYY-MM-DD). 
Other choices are &quot;%m-%d-%Y&quot; and &quot;%Y/%m/%d&quot;.
See &quot;Details&quot; section for how to change defaults.
</p>
</td></tr>
<tr><td><code id="mondate-methods_+3A_timeunits">timeunits</code></td>
<td>

<p>character string &quot;months&quot; (default), &quot;years&quot;, or &quot;days&quot; indicating the units
in which date arithmetic will be carried out.
</p>
</td></tr>
<tr><td><code id="mondate-methods_+3A_formatfun">formatFUN</code></td>
<td>

<p>format function for converting a mondate to character. 
In case of conversion from <code>mondate</code>, default is to inherit
the value.
</p>
</td></tr>
<tr><td><code id="mondate-methods_+3A_format">format</code></td>
<td>

<p>format string for converting a character to a Date 
(using <code>as.Date, x, format, ...</code>)
from which the mondate value is determined.
</p>
</td></tr>
<tr><td><code id="mondate-methods_+3A_...">...</code></td>
<td>

<p>arguments to be passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Package users can change the default values of 
<code>displayFormat</code> and <code>timeunits</code> using <code>options()</code> with the names
&quot;mondate.displayFormat&quot; and &quot;mondate.timeunits&quot;, respectively.
Warning! Use with care! 
No checks are performed if and when the options are established.
It is up to the user to ensure the new defaults are valid &ndash; 
<code>displayFormat</code> must be appropriate for formatting dates in <span class="rlang"><b>R</b></span> and 
<code>timeunits</code> must be one of
&quot;months&quot;, &quot;years&quot;, or &quot;days&quot;.
See an example below.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "mondate")</code></dt><dd>
<p>For <code>mondate</code> x, this could be a way to copy a <code>mondate</code>
and perhaps change 
the <code>mondate</code>'s <code>displayFormat</code> or <code>timeunits</code> slots
in the process.
For any class that extends <code>mondate</code>,
use of this method will return the underlying mondate class without
additional slots (if any) of the subclass.
</p>
</dd>
<dt><code>signature(x = "numeric")</code></dt><dd>
<p>For <code>numeric</code> x, the simplest case is when <code>timeunits</code> = &quot;months&quot;, 
in which case
the value of x and properties <code>displayFormat</code> and <code>timeunits</code> 
are simply stored. 
If <code>timeunits</code> = &quot;years&quot; then it 
is presumed that the value of x represents the number of years since the
beginning of the millennium, 
in which case the value of x is multiplied by 12
and then stored. 
If <code>timeunits</code> = &quot;days&quot; then it is presumed 
that the value of x represents the number of days since the beginning
of the millennium, 
in which case the value is calculated using <code>as.Date</code>.
Note that infinite values of <code>x</code> are allowed, 
helpful in actuarial 
(&quot;at ultimate&quot;)
longitudinal, and time series modeling.
</p>
</dd>
<dt><code>signature(x = "Date")</code></dt><dd>
</dd>
<dt><code>signature(x = "POSIXt")</code></dt><dd>
<p>For a date x, <code>as.POSIXlt</code> is used to convert to an ISO standard date,
from which the number of months of that day since the beginning of the
millennium is calculated. 
</p>
</dd>
<dt><code>signature(x = "character")</code></dt><dd>
<p>If <code>format</code> is provided, then that format
is used to attempt to convert the character value to a date.
Otherwise, 
characters are converted to dates using the first format found in the 
set of valid formats 
that successfully converts the first non-NA entry in <code>x</code>, 
and that format is retained as the
<code>displayFormat</code> of the result unless
the user explicitly provides a value for <code>displayFormat</code>.
The current set of valid formats is
&quot;%m/%d/%Y&quot;, &quot;%m-%d-%Y&quot;, &quot;%Y-%m-%d&quot;, and &quot;%Y/%m/%d&quot;.
If any entries of <code>x</code> do not convert successfully, 
those entries get the value <code>NA</code> and a warning is issued.
Finally, if <code>format</code> is not provided and
none of the valid formats successfully converts <code>x</code> to a date, 
then as a last resort
the character string is attempted to be coerced to a 
<code>numeric</code> and then
to a <code>mondate</code>.
</p>
</dd>
<dt><code>signature(x = "factor")</code></dt><dd>
<p>The <code>character</code> method is run on <code>as.character(x)</code>.
</p>
</dd>
<dt><code>signature(x = "array")</code></dt><dd>
<p>If an object <code>x</code> is an <code>array</code>, 
then this method enables the <code>mondate</code> to inherit its shape. 
After that, other &quot;signatures&quot; take over.
</p>
</dd>
<dt><code>signature(x = "missing")</code></dt><dd>
<p>Enables the call <code>mondate()</code> to work.
Useful for prototypes, e.g.
Body of method is simply <code>new("mondate")</code>.
</p>
</dd>
<dt><code>signature(x = "ANY")</code></dt><dd>
<p>For any other class of x an attempt will be made to convert
to <code>Date</code> (&quot;<code>as.Date(x)</code>&quot;). 
If unsuccessful, an attempt will be made to convert to <code>numeric</code>;
if successful, a warning will be issued to check the results
relative to the <code>numeric</code> conversion, otherwise execution will
be <code>stop</code>ped.
</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="base.html#topic+POSIXt">POSIXt</a></code>, <code><a href="zoo.html#topic+yearmon">yearmon</a></code>, <code><a href="zoo.html#topic+yearqtr">yearqtr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mondate("1-31-2010") # Jan. 31, 2010
mondate(60)          # 60 months after 12/31/1999, so Dec. 31, 2004
dat &lt;- as.Date("2010-1-31")
(M &lt;- mondate(dat))    # Jan. 31, 2010
x &lt;- 12 * 1:6
mondate(x)           # first 6 yearends in 2000's
y &lt;- x + 12
mondate(cbind(x,y))  # bounding dates of first 6 years of millennium
(y &lt;- mondate(1:6,timeunits="years")) # first 6 yearends, 'years' timeunits 
# The results of date arithmetic on y will be displayed in "years".
# E.g., the differences of y can be calculated as:
tail(y,-1) - head(y,-1)# vector of five 1's, with "timeunits" attribute = "years"
as.numeric(x)
as.numeric(y)        # the underlying numeric representations are the same

# Demonstrating "infinite" dates
y &lt;- c(y,Inf)
y                    # last element shows as Inf
tail(y,-1) - head(y,-1)# last element is now infinity

# The zoo examples point out a difference between zoo and mondate.
#   zoo assumes that the zero-th part of a month or quarter is the first
#   day of the month or quarter, whereas mondate assumes that it is 
#   the instant before the first day of the month or quarter.
# Since frac=0 is zoo's as.Date coersion default, a month or quarter in 
#   zoo's sense converts to the end of the first day rather than
#   the beginning.
library(zoo)
x &lt;- ts(1:10, frequency = 4, start = c(1959, 2)) # starting 2nd qtr of 1959
x
# There is no method for class 'ts' so x is coerced (successfully) 
#   because that class has an as.Date method, but with a warning.
# The result is a vector of length 10 representing the close of business
#   at the end of the first day of each of the given quarters.
mondate(x)      

# The yearmon class will identify any day in June 2010 with that month.
as.yearmon("2010-6-15") 
mondate(as.yearmon("2010-6-15"))         # end of first day of June 2010
mondate(as.yearmon("2010-6-15", frac=1)) # end of  last day of June 2010
mondate(as.yearqtr("2010-2", frac=1))    # same

# The if missing, displayFormat will be determined from the character input
x &lt;- mondate("2010-12-31")
x               # x displays in the input European format
# The provided, displayFormat must match the format of the character input
#   or NA's will result.
mondate("2010-12-31", displayFormat = "%m-%d-%Y") # results in NA

# Always display x using just the year
x &lt;- mondate(as.Date("2012-3-1"), displayFormat="%Y")
x                # shows as the year 2012, but month and day are nevertheless retained
month(x)         # 3
day(x)           # 1

# Change the default displayFormat to only display the year and month
options(mondate.displayFormat = "%Y-%m")
y &lt;- mondate(as.Date("2013-12-31"))
y
# mondate: timeunits="months"
# [1] 2013-12
# Previous mondate instances retain their display formats:
x
# mondate: timeunits="months"
# [1] 2012



</code></pre>

<hr>
<h2 id='names+20method'>
Assign names to a mondate.
</h2><span id='topic+names+3C-.mondate'></span>

<h3>Description</h3>

<p>Function to assign names to a mondate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 replacement method for class 'mondate'
names(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="names+2B20method_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>.
</p>
</td></tr>
<tr><td><code id="names+2B20method_+3A_value">value</code></td>
<td>

<p>the names to assign to <code>x</code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assigns the names attribute to the .Data part of <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>YE &lt;- mondate.mdy(12, 31, 2011:2012)
names(YE) &lt;- c("A", "B")
</code></pre>

<hr>
<h2 id='print-methods'>Methods to Display a Mondate</h2><span id='topic+print.mondate'></span><span id='topic+show+2Cmondate-method'></span>

<h3>Description</h3>

<p>Methods to display a <code>mondate</code> in an R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>    ## S3 method for class 'mondate'
print(x, ...)
    ## S4 method for signature 'mondate'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print-methods_+3A_x">x</code></td>
<td>
<p>a mondate</p>
</td></tr>
<tr><td><code id="print-methods_+3A_object">object</code></td>
<td>
<p>a mondate</p>
</td></tr>
<tr><td><code id="print-methods_+3A_...">...</code></td>
<td>
<p>arguments passed to and from other methods</p>
</td></tr>
</table>


<h3>Methods</h3>


<dl>
<dt><code>print(x = "mondate", ...)</code></dt><dd>
<p>Print the date in its character representation using the
<br /> 
<code>displayFormat</code> property. 
Uses the <code>noquote</code> function. 
Arguments in <code>...</code> are passed to <code>base::print</code>.
</p>
</dd>
<dt><code>show(object = "mondate")</code></dt><dd>
<p>Same as <code>print</code> above,
but with a &quot;header&quot; showing the 
<code>timeunits</code> property. 
</p>
</dd>
</dl>

<hr>
<h2 id='seq.mondate'>
Mondate Sequence Generation
</h2><span id='topic+seq'></span><span id='topic+seq.mondate'></span>

<h3>Description</h3>

<p>Generate regular <code>mondate</code> sequences. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mondate'
seq(from, to, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seq.mondate_+3A_from">from</code></td>
<td>

<p>a <code>mondate</code>. May be &quot;missing&quot;.
</p>
</td></tr>
<tr><td><code id="seq.mondate_+3A_to">to</code></td>
<td>

<p>a <code>mondate</code>. May be &quot;missing&quot;.
</p>
</td></tr>
<tr><td><code id="seq.mondate_+3A_...">...</code></td>
<td>

<p>optional arguments passed to <code>seq.default</code>,
including <code>by</code>, <code>length.out</code>, and <code>along.with</code>.
See <code><a href="#topic+seq">seq</a></code> for more details.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more details about sequence generation, see <code><a href="#topic+seq">seq</a></code>.
</p>
<p>If <code>from</code> and <code>to</code> are both provided,
the <code>displayFormat</code> and <code>timeunits</code> properties are
taken from <code>from</code>, 
without a warning if <code>from</code>'s properties differ from 
<code>to</code>'s.
</p>


<h3>Value</h3>

<p>A <code>mondate</code> vector with <code>displayFormat</code> and <code>timeunits</code>
from argument <code>from</code>, if provided, otherwise from argument <code>to</code>.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy
</p>


<h3>See Also</h3>

<p><code><a href="#topic+seq">seq</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x&lt;-mondate.ymd(2010,1)
x                          # January 31, 2010
y&lt;-mondate.ymd(2010,12)
y                          # December 31, 2010
seq(from=x, to=y)  # all month-ends in 2010
# 8 quarter-ends beginning 1st quarter 2009; US displayFormat
seq(mondate("3/31/2009"), by=3, length.out=8) 
# 8 quarter-ends ending year-end 2009; non-US displayFormat
seq(to=mondate("2009/12/31"), by=3, length.out=8) 
</code></pre>

<hr>
<h2 id='subtract'>Subtract numerics from mondates using day-of-month logic</h2><span id='topic+subtract'></span>

<h3>Description</h3>

<p>Subtract numerics from mondates. 
When units = &quot;months&quot; and the <code>numeric</code> is a whole number
the result has the same 
day of the month subject to the number of days in the month,
thus abandoning <code>mondate</code>'s
approach of representing days as fractional months.
See examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subtract(e1, e2, units, forcelastday = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subtract_+3A_e1">e1</code></td>
<td>
<p>a <code>mondate</code>
</p>
</td></tr>
<tr><td><code id="subtract_+3A_e2">e2</code></td>
<td>
<p>a<code>numeric</code>
</p>
</td></tr>
<tr><td><code id="subtract_+3A_units">units</code></td>
<td>

<p>Anything allowed by <code>base:::as.difftime</code>.
In addition, can be &quot;months&quot; or &quot;years&quot;.
If missing, defaults to <code>timeunits(e1)</code>.
</p>
</td></tr>
<tr><td><code id="subtract_+3A_forcelastday">forcelastday</code></td>
<td>

<p>If FALSE, the result will have the same day of the month subject to
the numbere of days in the month.
If TRUE, the day of the month of the result will be the last day of the
month if <code>e1</code> is on the last day of the month.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>mondate</code>.
</p>


<h3>Author(s)</h3>

<p>Dan Murphy.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- mondate(0:12)
subtract(x, 1)             # The third date will the the 29th of March
x &lt;- mondate.ymd(2013, 2:12, 15)
subtract(x, 1)             # Always the 15th of the month. Compare to ...
x - 1
stopifnot(subtract(x, 1, units = "months") == mondate.ymd(2013, 1:11, 15))

</code></pre>

<hr>
<h2 id='Summary-methods'>Summary Methods</h2><span id='topic+Summary-methods'></span><span id='topic+Summary+2Cmondate-method'></span>

<h3>Description</h3>

<p>Methods for the <code>Summary</code> group of functions.
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "mondate")</code></dt><dd>
<p>summarizes a <code>mondate</code>.
</p>
<p>The result will be a <code>mondate</code> with the same 
<code>displayFormat</code> and <code>timeunits</code> properties. 
</p>
<p>The usual rules apply as to the shape of the result.
</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>A&lt;-mondate.ymd(2001:2010,12,31) # ten yearends
min(A)                  # December 31, 2001
max(A)                  # December 31, 2010
range(A)
</code></pre>

<hr>
<h2 id='timeunits-methods'>Methods to Access 'timeunits' Property</h2><span id='topic+timeunits-methods'></span><span id='topic+timeunits+2Cmondate-method'></span><span id='topic+timeunits+2CANY-method'></span><span id='topic+timeunits'></span><span id='topic+timeunits+3C--methods'></span><span id='topic+timeunits+3C-+2Cmondate-method'></span><span id='topic+timeunits+3C-'></span>

<h3>Description</h3>

<p>Methods to get and set the <code>timeunits</code> value of a <code>mondate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'mondate'
timeunits(x)
## S4 method for signature 'ANY'
timeunits(x)
## S4 replacement method for signature 'mondate'
timeunits(x)&lt;-value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="timeunits-methods_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code>.
</p>
</td></tr>
<tr><td><code id="timeunits-methods_+3A_value">value</code></td>
<td>

<p>For the &quot;get&quot; method, 
a <code>character</code> string indicating the units with which to measure
time as a result of operations on a <code>mondate</code>.
Choices are currently
</p>

<ol>
<li><p> &quot;months&quot;
</p>
</li>
<li><p> &quot;years&quot;
</p>
</li>
<li><p> &quot;days&quot;
</p>
</li></ol>

<p>If <code>x</code> is not a <code>mondate</code>, 
the &quot;get&quot; value returned is <code>NULL</code>.
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The <code>mondateTimeunits</code> versions have been deprecated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- mondate("2010-6-30") # The middle of 2010
timeunits(x)              # "months"
y &lt;- x + 12               # One year (12 months) later.
timeunits(y)              # "months"
y - x                     # Result is 12 months
timeunits(y) &lt;- "years"
y - x                     # Result is 1 year, with a warning because 
                          # x@timeunits != y@timeunits. Units of result
                          # comes from the first argument.
timeunits(y) &lt;- "days"
suppressWarnings(y - x)   # Result is 365 days -- warning suppressed
</code></pre>

<hr>
<h2 id='year-month-day-methods'>Useful Methods for Class mondate</h2><span id='topic+year-methods'></span><span id='topic+year+2Cmondate-method'></span><span id='topic+year+2CDate-method'></span><span id='topic+year+2CPOSIXt-method'></span><span id='topic+year'></span><span id='topic+quarter-methods'></span><span id='topic+quarter+2Cmondate-method'></span><span id='topic+quarter+2CDate-method'></span><span id='topic+quarter+2CPOSIXt-method'></span><span id='topic+quarter'></span><span id='topic+month-methods'></span><span id='topic+month+2Cmondate-method'></span><span id='topic+month+2CDate-method'></span><span id='topic+month+2CPOSIXt-method'></span><span id='topic+month'></span><span id='topic+day-methods'></span><span id='topic+day+2Cmondate-method'></span><span id='topic+day+2CDate-method'></span><span id='topic+day+2CPOSIXt-method'></span><span id='topic+day'></span><span id='topic+mondate.mdy'></span><span id='topic+mondate.ymd'></span><span id='topic+ymd'></span>

<h3>Description</h3>

<p>The methods in this section facilitate 
year-, month-, day-, and quarter-number extraction from objects that represent dates, 
as well as 
<code>mondate</code> construction
using the year, month, and day numbers of the date 
(as those numbers would be seen in the character representation of the date,
i.e.., &quot;January&quot; = 1 and the first day of a month = 1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>year(x, ...)
month(x, ...)
day(x, ...)
quarter(x, ...)
ymd(x)

mondate.mdy(m, d, y, ...)

mondate.ymd(y, m, d, ...)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="year-month-day-methods_+3A_x">x</code></td>
<td>

<p>an object of class <code>mondate</code>, <code>Date</code>, or <code>POSIXt</code>
</p>
</td></tr>
<tr><td><code id="year-month-day-methods_+3A_m">m</code></td>
<td>

<p>the month: 1, ..., 12.
If &quot;missing&quot; and <code>d</code> is also &quot;missing&quot;, 
<code>m=12</code> by default.
</p>
</td></tr>
<tr><td><code id="year-month-day-methods_+3A_d">d</code></td>
<td>

<p>the day: 1, ..., 31, depending on the month. 
If &quot;missing&quot; in the case of <code>mondate.ymd</code>,
the last day of the month is inserted.
</p>
</td></tr>
<tr><td><code id="year-month-day-methods_+3A_y">y</code></td>
<td>

<p>the four-digit year.
</p>
</td></tr>
<tr><td><code id="year-month-day-methods_+3A_...">...</code></td>
<td>

<p>For <code>year</code>, <code>month</code>, and <code>day</code>,
not used.
For <code>mondate.mdy</code> and <code>mondate.ymd</code>
arguments to be passed to the <code>mondate</code> constructor,
e.g., <code>displayFormat</code> and <code>timeunits</code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>year</code> returns the year <code>numeric</code> (e.g., 2000).
</p>
<p><code>month</code> returns the month <code>numeric</code> 1, ..., 12.
</p>
<p><code>day</code> returns the <code>numeric</code> day of the month.
</p>
<p><code>quarter</code> returns the <code>numeric</code> calendar quarter of the year:
1 for January - March, 2 for April - June, etc.
</p>
<p><code>ymd</code> returns a matrix with the number of rows equal to the
length of <code>x</code>,
with appropriately-named 
columns 1 through 3 holding the <code>year</code>,
<code>month</code>, and <code>day</code>, respectively
and with &quot;rownames&quot; equal to <code>names(x)</code>.
</p>
<p><code>mondate.mdy</code> and <code>mondate.ymd</code> return <code>mondate</code>s with the given
month, day, and year. 
Arguments <code>m</code>, <code>d</code>, and <code>y</code> may have length &gt; 1;
the usual recycling rules apply.
</p>
<p>The <code>mondate.ymd</code> function has a bit more functionality.
If <code>d</code> is &quot;missing&quot; in a call to <code>mondate.ymd</code> then the date
returned will be the last day of month <code>m</code> in year <code>y</code>.
If <code>m</code> is also missing, 
then the date returned will be the last day of the year.
If any of <code>y</code>, <code>m</code>, or <code>d</code> are <code>NA</code>
the result will be an all-<code>NA</code> vector.
And if <code>y=+-Inf</code> then the result will be an &quot;infinite&quot; mondate vector,
overriding other rules included herein.
The length of a vector result is determined 
using the usual recycling rules
as though a valid, finite scalar had been inserted instead of
<code>NA</code> or <code>+-Inf</code>.
See the <b>Examples</b> section.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>M &lt;- mondate.mdy(6,30,2008)
year(M)     # 2008
month(M)    # 6
day(M)      # 30

mondate.ymd(2008,6,30)  # ditto
mondate.ymd(2008,6)     # ditto; 'day' argument is "missing" so
                        # returns the last day of the month
mondate.ymd(2008,1:12)  # all month-ends of 2008, a leapyear
# year-ends 2001 through 2013, displaying only the 4-digit year when shown
mondate.ymd(2001:2013, displayFormat = "%Y")
mondate.ymd(2010:2012, NA) # NA mondate vector of length 3
mondate.ymd(Inf,11,31)  # An infinite mondate even though only 30 days in 
                        # November
                        
x &lt;- mondate.ymd(2013, 1:12) # month-ends in 2013
# Give x some shape
dim(x) &lt;- 3:4
dimnames(x) &lt;- list(A = letters[1:3], B = LETTERS[1:4])
# Return the quarter numbers in an array with the same shape and dimnames
quarter(x) 
</code></pre>

<hr>
<h2 id='YearQuartersFormat'>Formatting Functions for mondate Objects</h2><span id='topic+YearQuartersFormat'></span>

<h3>Description</h3>

<p>Functions to format a <code>mondate</code> into its character
representation according to the <code>displayFormat</code> property.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>YearQuartersFormat(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="YearQuartersFormat_+3A_x">x</code></td>
<td>

<p>a <code>mondate</code> or a <code>Date</code> or a <code>POSIXt</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>YearQuartersFormat is an example of a special formatting function
that can be provided to a <code>mondate</code> object when created.
It will represent the date as YYYYQ* where * is 1-4.
See Examples
</p>


<h3>Examples</h3>

<pre><code class='language-R'>b &lt;- mondate(1:12, formatFUN = YearQuartersFormat)   # end of first 12 months of 2000
b         
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

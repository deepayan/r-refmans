<!DOCTYPE html><html lang="en"><head><title>Help for package causact</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {causact}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#causact-package'><p>causact: Fast, Easy, and Visual Bayesian Inference</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>The magrittr pipe</p></a></li>
<li><a href='#addPriorGroups'><p>Group together latent parameters by prior distribution.</p></a></li>
<li><a href='#baseballData'><p>Dataframe of 12,145 observations of baseball games in 2010 - 2014</p></a></li>
<li><a href='#beachLocDF'><p>Dataframe where each row represents data about one of the 26 mile markers (fake) from mile 0 to mile 2.5 along the Ocean City, MD beach/boardwalk.</p></a></li>
<li><a href='#carModelDF'><p>Dataframe of 1000 (fake) observations of whether certain car buyers were willing to get information on a credit card speciailizing in rewards for adventure travellers.</p></a></li>
<li><a href='#check_r_causact_env'><p>Check if 'r-causact' Conda environment exists</p></a></li>
<li><a href='#chimpanzeesDF'><p>Data from behavior trials in a captive group of chimpanzees, housed in Lousiana. From Silk et al. 2005. Nature 437:1357-1359 and further popularized in McElreath, Richard. Statistical rethinking: A Bayesian course with examples in R and Stan. CRC press, 2020.  Experiment</p></a></li>
<li><a href='#corruptDF'><p>Dataframe of 174 observations where information on the human developmet index (HDI)</p>
and the corruption perceptions index (CPI) both exist.
Each observation is a country.</a></li>
<li><a href='#dag_create'><p>Create a graph object for drawing a DAG.</p></a></li>
<li><a href='#dag_diagrammer'><p>Convert graph to Diagrammer object for visualization</p></a></li>
<li><a href='#dag_dim'><p>Add dimension information to <code>causact_graph</code></p></a></li>
<li><a href='#dag_edge'><p>Add edge (or edges) between nodes</p></a></li>
<li><a href='#dag_greta'><p>Generate a representative sample of the posterior distribution</p></a></li>
<li><a href='#dag_merge'><p>Merge two non-intersecting <code>causact_graph</code> objects</p></a></li>
<li><a href='#dag_node'><p>Add a node to an existing <code>causact_graph</code> object</p></a></li>
<li><a href='#dag_numpyro'><p>Generate a representative sample of the posterior distribution</p></a></li>
<li><a href='#dag_plate'><p>Create a plate representation for repeated nodes.</p></a></li>
<li><a href='#dag_render'><p>Render the graph as an htmlwidget</p></a></li>
<li><a href='#dagp_plot'><p>Plot posterior distribution from dataframe of posterior draws.</p></a></li>
<li><a href='#delivDF'><p>117,790 line items associated with 23,339 shipments.</p></a></li>
<li><a href='#distributions'><p>probability distributions</p></a></li>
<li><a href='#gymDF'><p>Dataframe of 44 observations of free crossfit classes data</p>
Each observation indicates how many students that participated in the free
month of crossfit signed up for the monthly membership afterwards</a></li>
<li><a href='#houseDF'><p>Dataframe of 1,460 observations of home sales in Ames, Iowa.  Known as The Ames Housing dataset, it was compiled by Dean De Cock for use in data science education.</p>
Each observation is a home sale.  See <code>houseDFDescr</code> for more info.</a></li>
<li><a href='#houseDFDescr'><p>Dataframe of 523 descriptions of data values from &quot;The Ames Housing dataset&quot;, compiled by Dean De Cock for use in data science education.</p>
Each observation is a possible value from a variable in the <code>houseDF</code> dataset.</a></li>
<li><a href='#install_causact_deps'><p>Install causact's python dependencies like numpyro, arviz, and xarray.</p></a></li>
<li><a href='#meaningfulLabels'><p>Store meaningful parameter labels</p></a></li>
<li><a href='#prodLineDF'><p>Product line and product category assignments for 12,026 partID's.</p></a></li>
<li><a href='#rbern'><p>The Bernoulli Distribution</p></a></li>
<li><a href='#schoolsDF'><p>This example, often referred to as 8-schools, was popularized by its inclusion in Bayesian Data Analysis (Gelman, Carlin, &amp; Rubin 1997).</p></a></li>
<li><a href='#setDirectedGraphTheme'><p>Set DiagrammeR defaults for graphical models</p></a></li>
<li><a href='#ticketsDF'><p>Dataframe of 55,167 observations of the number of tickets</p>
written by NYC precincts each day
Data modified from https://github.com/stan-dev/stancon_talks/tree/master/2018/Contributed-Talks/01_auerbach which originally sourced data from https://opendata.cityofnewyork.us/</a></li>
<li><a href='#totalBeachgoersRepSample'><p>A representative sample from a random variable that represents the annual number of beach goers to Ocean City, MD beaches on hot days.  Think of this representative sample as coming from either a prior or posterior distribution.  An example using this sample is can be found in The Business Analyst's Guide To Business Analytics at https://www.causact.com/.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fast, Easy, and Visual Bayesian Inference</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.7</td>
</tr>
<tr>
<td>Description:</td>
<td>Accelerate Bayesian analytics workflows in 'R' through interactive modelling,
    visualization, and inference. Define probabilistic graphical models using directed
    acyclic graphs (DAGs) as a unifying language for business stakeholders, statisticians, 
    and programmers. This package relies on interfacing with the 'numpyro' python package. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/flyaflya/causact">https://github.com/flyaflya/causact</a>, <a href="https://www.causact.com/">https://www.causact.com/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/flyaflya/causact/issues">https://github.com/flyaflya/causact/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Python and numpyro are needed for Bayesian
inference computations; python (&gt;= 3.8) with header files and
shared library; numpyro (= v0.12.1;
https://https://num.pyro.ai/en/latest/index.html); arviz (=
v0.15.1; https://https://python.arviz.org/en/stable/)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>DiagrammeR (&ge; 1.0.9), dplyr (&ge; 1.0.8), magrittr (&ge; 1.5),
ggplot2 (&ge; 3.4.0), rlang (&ge; 1.0.2), purrr (&ge; 1.0.0), tidyr
(&ge; 1.1.4), igraph (&ge; 1.2.7), stringr (&ge; 1.4.1), cowplot (&ge;
1.1.0), forcats (&ge; 0.5.0), rstudioapi (&ge; 0.11), lifecycle (&ge;
1.0.2), reticulate (&ge; 1.30)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, covr, testthat (&ge; 3.0.0), rmarkdown, extraDistr,
mvtnorm</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/reticulate:</td>
<td>list( packages = list( list(package = "jax[cpu]",
pip = TRUE), list(package = "numpyro[cpu]", pip = TRUE),
list(package = "arviz", pip = TRUE) ) )</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-15 20:58:39 UTC; ajf</td>
</tr>
<tr>
<td>Author:</td>
<td>Adam Fleischhacker [aut, cre, cph],
  Daniela Dapena [ctb],
  Rose Nguyen [ctb],
  Jared Sharpe [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Adam Fleischhacker &lt;ajf@udel.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-15 21:20:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='causact-package'>causact: Fast, Easy, and Visual Bayesian Inference</h2><span id='topic+causact'></span><span id='topic+causact-package'></span>

<h3>Description</h3>

<p>Accelerate Bayesian analytics workflows in 'R' through interactive modelling, visualization, and inference. Define probabilistic graphical models using directed acyclic graphs (DAGs) as a unifying language for business stakeholders, statisticians, and programmers. This package relies on interfacing with the 'numpyro' python package.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Adam Fleischhacker <a href="mailto:ajf@udel.edu">ajf@udel.edu</a> [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Daniela Dapena [contributor]
</p>
</li>
<li><p> Rose Nguyen [contributor]
</p>
</li>
<li><p> Jared Sharpe [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/flyaflya/causact">https://github.com/flyaflya/causact</a>
</p>
</li>
<li> <p><a href="https://www.causact.com/">https://www.causact.com/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/flyaflya/causact/issues">https://github.com/flyaflya/causact/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>The magrittr pipe</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>causact uses the pipe function,
<code style="white-space: pre;">&#8288;\%&gt;\%&#8288;</code> to turn function composition into a
series of imperative statements.
</p>


<h3>Value</h3>

<p>Pipe a value forward into a function- or call expression and return the function on the <code>rhs</code> with the <code>lhs</code> used as the first argument.
</p>

<hr>
<h2 id='addPriorGroups'>Group together latent parameters by prior distribution.</h2><span id='topic+addPriorGroups'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Add a column to a tidy dataframe of draws that groups parameters by their prior distribution.  All parameters with the same prior distribution receive the same index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addPriorGroups(drawsDF)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addPriorGroups_+3A_drawsdf">drawsDF</code></td>
<td>
<p>the dataframe created by  <code>dag_numpyro()</code> where each row represents one draw of MCMC output.  Two columns are expected, <code>param</code> - the parameter name, <code>value</code> - the realized value, and a third column, <code>priorGroup</code>, is appended as an integer grouping parameters by their prior distributions. The data for this third column is stored in an environment called <code>cacheEnv</code> when the <code>dag_numpyro()</code> function is called.  Any parameters with the same prior end up in the same prior group; used by <code>dagp_plot()</code> to group parameters when plotted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tidy dataframe of posterior draws. Useful for passing to <code>dagp_plot()</code> or for creating plots using <code>ggplot()</code>.
</p>

<hr>
<h2 id='baseballData'>Dataframe of 12,145 observations of baseball games in 2010 - 2014</h2><span id='topic+baseballData'></span>

<h3>Description</h3>

<p>Dataframe of 12,145 observations of baseball games in 2010 - 2014
</p>


<h3>Usage</h3>

<pre><code class='language-R'>baseballData
</code></pre>


<h3>Format</h3>

<p>A data frame with 12145 rows and 5 variables:
</p>

<dl>
<dt>Date</dt><dd><p>date game was played</p>
</dd>
<dt>Home</dt><dd><p>abbreviation for home team (i.e. stadium where game played)</p>
</dd>
<dt>Visitor</dt><dd><p>abbreviation for visiting team</p>
</dd>
<dt>HomeScore</dt><dd><p>Runs scored by the home team</p>
</dd>
<dt>VisitorScore</dt><dd><p>Runs scored by the visiting team</p>
</dd>
</dl>


<hr>
<h2 id='beachLocDF'>Dataframe where each row represents data about one of the 26 mile markers (fake) from mile 0 to mile 2.5 along the Ocean City, MD beach/boardwalk.</h2><span id='topic+beachLocDF'></span>

<h3>Description</h3>

<p>Dataframe where each row represents data about one of the 26 mile markers (fake) from mile 0 to mile 2.5 along the Ocean City, MD beach/boardwalk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beachLocDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 26 rows and 3 variables:
</p>

<dl>
<dt>mileMarker</dt><dd><p>a number representing a location on the Ocean City beach/boardwalk.</p>
</dd>
<dt>beachgoerProb </dt><dd><p>The probability of any Ocean City, MD beachgoer (during the hot swimming days) exiting the beach at that mile marker.</p>
</dd>
<dt>expenseEst</dt><dd><p>The estimated annual expenses of running a business at that location on the beach.  It is assumed a large portion of the expense is based on commercial rental rates at that location.  More populated locations tend to have higher expenses.</p>
</dd>
</dl>


<hr>
<h2 id='carModelDF'>Dataframe of 1000 (fake) observations of whether certain car buyers were willing to get information on a credit card speciailizing in rewards for adventure travellers.</h2><span id='topic+carModelDF'></span>

<h3>Description</h3>

<p>Dataframe of 1000 (fake) observations of whether certain car buyers were willing to get information on a credit card speciailizing in rewards for adventure travellers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>carModelDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 3 variables:
</p>

<dl>
<dt>customerID</dt><dd><p>a unique id of a potential credit card customer.  They just bought a car and are asked if they want information on the credit card.</p>
</dd>
<dt>carModel</dt><dd><p>The model of car purchased.</p>
</dd>
<dt>getCard</dt><dd><p>Whether the customer expressed interest in hearing more about the card.</p>
</dd>
</dl>


<hr>
<h2 id='check_r_causact_env'>Check if 'r-causact' Conda environment exists</h2><span id='topic+check_r_causact_env'></span>

<h3>Description</h3>

<p>Check if 'r-causact' Conda environment exists
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_r_causact_env()
</code></pre>

<hr>
<h2 id='chimpanzeesDF'>Data from behavior trials in a captive group of chimpanzees, housed in Lousiana. From Silk et al. 2005. Nature 437:1357-1359 and further popularized in McElreath, Richard. Statistical rethinking: A Bayesian course with examples in R and Stan. CRC press, 2020.  Experiment</h2><span id='topic+chimpanzeesDF'></span>

<h3>Description</h3>

<p>Data from behavior trials in a captive group of chimpanzees, housed in Lousiana. From Silk et al. 2005. Nature 437:1357-1359 and further popularized in McElreath, Richard. Statistical rethinking: A Bayesian course with examples in R and Stan. CRC press, 2020.  Experiment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chimpanzeesDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 504 rows and 9 variables:
</p>

<dl>
<dt>actor</dt><dd><p>name of actor</p>
</dd>
<dt>recipient</dt><dd><p>name of recipient (NA for partner absent condition)</p>
</dd>
<dt>condition</dt><dd><p>partner absent (0), partner present (1)</p>
</dd>
<dt>block</dt><dd><p>block of trials (each actor x each recipient 1 time)</p>
</dd>
<dt>trial</dt><dd><p>trial number (by chimp = ordinal sequence of trials for each chimp, ranges from 1-72; partner present trials were interspersed with partner absent trials)</p>
</dd>
<dt>prosoc_left</dt><dd><p>prosocial_left : 1 if prosocial (1/1) option was on left</p>
</dd>
<dt>chose_prosoc</dt><dd><p>choice chimp made (0 = 1/0 option, 1 = 1/1 option)</p>
</dd>
<dt>pulled_left</dt><dd><p>which side did chimp pull (1 = left, 0 = right)</p>
</dd>
<dt>treatment</dt><dd><p>narrative description combining condition and prosoc_left that describes the side the prosical food option was on and whether a partner was present</p>
</dd>
</dl>



<h3>Source</h3>

<p>Silk et al. 2005. Nature 437:1357-1359..
</p>

<hr>
<h2 id='corruptDF'>Dataframe of 174 observations where information on the human developmet index (HDI)
and the corruption perceptions index (CPI) both exist.
Each observation is a country.</h2><span id='topic+corruptDF'></span>

<h3>Description</h3>

<p>Dataframe of 174 observations where information on the human developmet index (HDI)
and the corruption perceptions index (CPI) both exist.
Each observation is a country.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corruptDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 174 rows and 7 variables:
</p>

<dl>
<dt>country</dt><dd><p>country name</p>
</dd>
<dt>region</dt><dd><p>region name as given with CPI rating</p>
</dd>
<dt>countryCode</dt><dd><p>three letter abbreviation for country</p>
</dd>
<dt>regionCode</dt><dd><p>four letter or less abbreviation for country</p>
</dd>
<dt>population</dt><dd><p>2017 country population</p>
</dd>
<dt>CPI2017</dt><dd><p>The Corruption Perceptions Index score for 2017: A country/territory’s score indicates the perceived level of public sector corruption on a scale of 0-100, where 0 means that a country is perceived as highly corrupt and a 100 means that a country is perceived as very clean. </p>
</dd>
<dt>HDI2017</dt><dd><p>The human development index score for 2017: the Human Development Index (HDI) is a measure of achievement in the basic dimensions of human development across countries.  It is an index made from a simple unweighted average of a nation’s longevity, education and income and is widely accepted in development discourse.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.transparency.org/en/cpi/2017">https://www.transparency.org/en/cpi/2017</a> CPI data available from https://www.transparency.org/en/cpi/2017.  Accessed Feb 24, 2024. Consumer Perception Index 2017 by Transparency International is licensed under CC-BY- ND 4.0.
</p>
<p><a href="https://hdr.undp.org/data-center/human-development-index#/indicies/HDI">https://hdr.undp.org/data-center/human-development-index#/indicies/HDI</a> HDA data accessed on Oct 1, 2018.
</p>
<p><a href="https://data.worldbank.org/">https://data.worldbank.org/</a> Population data accessed on Oct 1, 2018.
</p>

<hr>
<h2 id='dag_create'>Create a graph object for drawing a DAG.</h2><span id='topic+dag_create'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Generates a <code>causact_graph</code> graph object that is set-up for drawing DAG graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_create()
</code></pre>


<h3>Value</h3>

<p>a list object of class <code>causact_graph</code> consisting of 6 dataframes.  Each data frame is responsible for storing information about nodes, edges, plates, and the relationships among them.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># With `dag_create()` we can create an empty graph and
# add in nodes (`dag_node()`), add edges (`dag_edge`), and
# view the graph with `dag_render()`.
dag_create()
</code></pre>

<hr>
<h2 id='dag_diagrammer'>Convert graph to Diagrammer object for visualization</h2><span id='topic+dag_diagrammer'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Convert a <code>causact_graph</code> to a <code>DiagrammeR</code> object for visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_diagrammer(
  graph,
  wrapWidth = 24,
  shortLabel = FALSE,
  fillColor = "aliceblue",
  fillColorObs = "cadetblue"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_diagrammer_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>causact_graph</code> created using <code>dag_create()</code>.</p>
</td></tr>
<tr><td><code id="dag_diagrammer_+3A_wrapwidth">wrapWidth</code></td>
<td>
<p>a required character label that describes the node.</p>
</td></tr>
<tr><td><code id="dag_diagrammer_+3A_shortlabel">shortLabel</code></td>
<td>
<p>a longer more descriptive character label for the node.</p>
</td></tr>
<tr><td><code id="dag_diagrammer_+3A_fillcolor">fillColor</code></td>
<td>
<p>a valid R color to be used as the default node fill color.</p>
</td></tr>
<tr><td><code id="dag_diagrammer_+3A_fillcolorobs">fillColorObs</code></td>
<td>
<p>a valid R color to be used as the fill color for observed nodes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a graph object of class <code>dgr_graph</code>.  Useful for further customizing graph displays using the <code>DiagrammeR</code> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("DiagrammeR")
dag_create() %&gt;%
dag_node("Get Card","y",
         rhs = bernoulli(theta),
         data = carModelDF$getCard) %&gt;%
  dag_diagrammer() %&gt;%
  render_graph(title = "DiagrammeR Version of causact_graph")
</code></pre>

<hr>
<h2 id='dag_dim'>Add dimension information to <code>causact_graph</code></h2><span id='topic+dag_dim'></span>

<h3>Description</h3>

<p>Internal function that is used as part of rendering graph or running greta.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_dim(graph)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_dim_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>causact_graph</code> created using <code>dag_create()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a graph object of class <code>causact_graph</code> with populated dimension information.
</p>

<hr>
<h2 id='dag_edge'>Add edge (or edges) between nodes</h2><span id='topic+dag_edge'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>With a graph object of class <code>causact_graph</code> created from <code>dag_create</code>, add an edge between nodes in the graph.  Vector recycling is used for all arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_edge(graph, from, to, type = as.character(NA))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_edge_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>causact_graph</code>.</p>
</td></tr>
<tr><td><code id="dag_edge_+3A_from">from</code></td>
<td>
<p>a character vector representing the parent nodes label or description from which the edge is connected.</p>
</td></tr>
<tr><td><code id="dag_edge_+3A_to">to</code></td>
<td>
<p>the child node label or description from which the edge is connected.</p>
</td></tr>
<tr><td><code id="dag_edge_+3A_type">type</code></td>
<td>
<p>character string used to represent the DiagrammeR line type (e.g. <code>"solid"</code>).  Use <code>type = "extract"</code> to encourage causact to only pass indexed elements of the parent node to each instance of the child node.  Specify <code>type = "solid"</code> to override any automated extract behavior.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a graph object of class <code>dgr_graph</code> with additional edges created by this function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a graph with 2 connected nodes
dag_create() %&gt;%
  dag_node("X") %&gt;%
  dag_node("Y") %&gt;%
  dag_edge(from = "X", to = "Y") %&gt;%
  dag_render(shortLabel = TRUE)
</code></pre>

<hr>
<h2 id='dag_greta'>Generate a representative sample of the posterior distribution</h2><span id='topic+dag_greta'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#defunct"><img src="../help/figures/lifecycle-defunct.svg" alt='[Defunct]' /></a>
</p>
<p>This function is currently defunct.  It has been superseded by <code>dag_numpyro()</code> because of tricky and sometimes unresolvable installation issues related to the greta package's use of tensorflow.  If the greta package resolves those issues, this function may return, but please use <code>dag_numpyro()</code> as a direct replacement.
</p>
<p>Generate a representative sample of the posterior distribution.  The input graph object should be of class <code>causact_graph</code> and created using <code>dag_create()</code>.  The specification of a completely consistent joint distribution is left to the user.  Helpful error messages are scheduled for future versions of the <code>causact</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_greta(graph, mcmc = TRUE, meaningfulLabels = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_greta_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>causact_graph</code> representing a complete and conistent specification of a joint distribution.</p>
</td></tr>
<tr><td><code id="dag_greta_+3A_mcmc">mcmc</code></td>
<td>
<p>a logical value indicating whether to sample from the posterior distribution.  When <code>mcmc=FALSE</code>, the greta code is printed to the console, but not executed.  The user can cut and paste the code to another script for running line-by-line.  This option is most useful for debugging purposes. When <code>mcmc=TRUE</code>, the code is executed and outputs a dataframe of posterior draws.</p>
</td></tr>
<tr><td><code id="dag_greta_+3A_meaningfullabels">meaningfulLabels</code></td>
<td>
<p>a logical value indicating whether to replace the indexed variable names in <code>draws</code> with abbreviated names representing the factor value corresponding to the index.  This argument is treated as <code>TRUE</code> regardless of user input.  The ability to retain numerical indexing will be in a subsequent release.</p>
</td></tr>
<tr><td><code id="dag_greta_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed onto <code>greta::mcmc()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>mcmc=TRUE</code>, returns a dataframe of posterior distribution samples corresponding to the input <code>causact_graph</code>.  Each column is a parameter and each row a draw from the posterior sample output.  If <code>mcmc=FALSE</code>, running <code>dag_greta</code> returns a character string of code that would help the user create three objects representing the posterior distribution:
</p>

<ol>
<li> <p><code>draws</code>:  An mcmc.list object containing raw output from the HMCMC sampler used by <code>greta</code>.
</p>
</li>
<li> <p><code>drawsDF</code>:  A wide data frame with all latent variables as columns and all draws as rows.  This data frame is useful for calculations based on the posterior
</p>
</li>
<li> <p><code>tidyDrawsDF</code>:  A long data frame with each draw represented on one line.  This data frame is useful for plotting posterior distributions.
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(greta)
graph = dag_create() %&gt;%
  dag_node("Get Card","y",
           rhs = bernoulli(theta),
           data = carModelDF$getCard) %&gt;%
  dag_node(descr = "Card Probability by Car",label = "theta",
           rhs = beta(2,2),
           child = "y") %&gt;%
  dag_node("Car Model","x",
           data = carModelDF$carModel,
           child = "y") %&gt;%
  dag_plate("Car Model","x",
            data = carModelDF$carModel,
            nodeLabels = "theta")

graph %&gt;% dag_render()
gretaCode = graph %&gt;% dag_greta(mcmc=FALSE)
## default functionality returns a data frame
# below requires Tensorflow installation
drawsDF = graph %&gt;% dag_greta()
drawsDF %&gt;% dagp_plot()

## End(Not run)
</code></pre>

<hr>
<h2 id='dag_merge'>Merge two non-intersecting <code>causact_graph</code> objects</h2><span id='topic+dag_merge'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Generates a single <code>causact_graph</code> graph object that combines multiple graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_merge(graph1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_merge_+3A_graph1">graph1</code></td>
<td>
<p>A causact_graph objects to be merged with</p>
</td></tr>
<tr><td><code id="dag_merge_+3A_...">...</code></td>
<td>
<p>As many causact_graph's as wish to be merged</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a merged graph object of class <code>causact_graph</code>.  Useful for creating simple graphs and then merging them into a more complex structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># With `dag_merge()` we
# reset the node ID's and all other item ID's,
# bind together the rows of all given graphs, and
# add in nodes and edges later
# with other functions
# to connect the graph.
#
# THE GRAPHS TO BE MERGED MUST BE DISJOINT
# THERE CAN BE NO IDENTICAL NODES OR PLATES
# IN EACH GRAPH TO BE MERGED, AT THIS TIME


g1 = dag_create() %&gt;%
 dag_node("Demand for A","dA",
           rhs = normal(15,4)) %&gt;%
  dag_node("Supply for A","sA",
           rhs = uniform(0,100)) %&gt;%
  dag_node("Profit for A","pA",
           rhs = min(sA,dA)) %&gt;%
  dag_edge(from = c("dA","sA"),to = c("pA"))


g2 &lt;- dag_create() %&gt;%
  dag_node("Demand for B","dB",
           rhs = normal(20,8)) %&gt;%
  dag_node("Supply for B","sB",
           rhs = uniform(0,100)) %&gt;%
  dag_node("Profit for B","pB",
           rhs = min(sB,dB)) %&gt;%
  dag_edge(from = c("dB","sB"),to = c("pB"))

g1 %&gt;% dag_merge(g2) %&gt;%
  dag_node("Total Profit", "TP",
           rhs = sum(pA,pB)) %&gt;%
  dag_edge(from=c("pA","pB"), to=c("TP")) %&gt;%
  dag_render()
</code></pre>

<hr>
<h2 id='dag_node'>Add a node to an existing <code>causact_graph</code> object</h2><span id='topic+dag_node'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Add a node to an existing <code>causact_graph</code> object. The graph object should be of class <code>causact_graph</code> and created using <code>dag_create()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_node(
  graph,
  descr = as.character(NA),
  label = as.character(NA),
  rhs = NA,
  child = as.character(NA),
  data = NULL,
  obs = FALSE,
  keepAsDF = FALSE,
  extract = as.logical(NA),
  dec = FALSE,
  det = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_node_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>causact_graph</code>.  An initial object gets created using <code>dag_create()</code>.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_descr">descr</code></td>
<td>
<p>a longer more descriptive character label for the node.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_label">label</code></td>
<td>
<p>a shorter character label for referencing the node (e.g. &quot;X&quot;,&quot;beta&quot;).  Labels with <code>.</code> in the name will be replaced by <code style="white-space: pre;">&#8288;_&#8288;</code> to ensure inter-operability with Python.  Additionally, Python reserved words, like <code>lambda</code> should not be used.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_rhs">rhs</code></td>
<td>
<p>either a distribution such as <code style="white-space: pre;">&#8288;uniform, normal, lognormal, bernoulli,&#8288;</code> etc. or an R expression. Valid values include <code>normal(mu,sigma)</code>, <code>normal</code>, and <code>normal(6,2)</code>.  R computation/expression examples include <code>alpha+beta*x</code>,<code>c(int, coefs)</code>, or <code>1 / exp(-(alpha + beta * x))</code>.  Concatenation using <code>c()</code> is NOT supported.  If a distribution is given, this is a random/stochastic node, if a formula is given it is a deterministic node once given the values of its parents.  Quotes should not be used as all function/computations should consist of R objects, functions, and constants.  Common R arithmetic and geometric operators are supported, but less common R expressions may yield errors when running <code>dag_numpyro()</code>.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_child">child</code></td>
<td>
<p>an optional character vector of existing node labels.  Directed edges from the newly created node to the supplied nodes will be created.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_data">data</code></td>
<td>
<p>a vector or data frame (with observations in rows and variables in columns).</p>
</td></tr>
<tr><td><code id="dag_node_+3A_obs">obs</code></td>
<td>
<p>a logical value indicating whether the node is observed.  Assumed to be <code>TRUE</code> when <code>data</code> argument is given.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_keepasdf">keepAsDF</code></td>
<td>
<p>a logical value indicating whether the <code>data</code> argument should be split into one random variable node per column or kept together as a random matrix for matrix computation.  Defaults to creating one node per column of the data frame.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_extract">extract</code></td>
<td>
<p>a logical value.  When TRUE, child nodes will try to extract an indexed value from this node.  When FALSE, the entire random object (e.g. scalar, vector, matrix) is passed to children nodes.  Only use this argument when overriding default behavior seen using <code>dag_render()</code>.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_dec">dec</code></td>
<td>
<p>a logical value indicating whether the node is a decision node.  Used to show nodes as rectangles instead of ovals when using <code>dag_render()</code>.</p>
</td></tr>
<tr><td><code id="dag_node_+3A_det">det</code></td>
<td>
<p>a logical value indicating whether the node is a deterministic function of its parents  Used to draw a double-line (i.e. peripheries = 2) around a shape when using <code>dag_render()</code>.  Assumed to be <code>TRUE</code> when <code>rhs</code> is a formula.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a graph object of class <code>causact_graph</code> with an additional node(s).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an empty graph and add 2 nodes by using
# the `dag_node()` function twice
graph2 = dag_create() %&gt;%
  dag_node("Get Card","y",
         rhs = bernoulli(theta),
         data = carModelDF$getCard) %&gt;%
  dag_node(descr = "Card Probability by Car",label = "theta",
           rhs = beta(2,2),
           child = "y")
graph2 %&gt;% dag_render()


# The Eight Schools Example from Gelman et al.:

schools_dat &lt;- data.frame(y = c(28,  8, -3,  7, -1,  1, 18, 12),
sigma = c(15, 10, 16, 11,  9, 11, 10, 18), schoolName = paste0("School",1:8))

graph = dag_create() %&gt;%
  dag_node("Treatment Effect","y",
           rhs = normal(theta, sigma),
           data = schools_dat$y) %&gt;%
  dag_node("Std Error of Effect Estimates","sigma",
           data = schools_dat$sigma,
           child = "y") %&gt;%
  dag_node("Exp. Treatment Effect","theta",
           child = "y",
           rhs = avgEffect + schoolEffect) %&gt;%
  dag_node("Pop Treatment Effect","avgEffect",
           child = "theta",
           rhs = normal(0,30)) %&gt;%
  dag_node("School Level Effects","schoolEffect",
           rhs = normal(0,30),
           child = "theta") %&gt;%
  dag_plate("Observation","i",nodeLabels = c("sigma","y","theta")) %&gt;%
  dag_plate("School Name","school",
            nodeLabels = "schoolEffect",
            data = schools_dat$schoolName,
            addDataNode = TRUE)

graph %&gt;% dag_render()
## Not run: 
# below requires Tensorflow installation
drawsDF = graph %&gt;% dag_numpyro(mcmc=TRUE)
tidyDrawsDF %&gt;% dagp_plot()

## End(Not run)
</code></pre>

<hr>
<h2 id='dag_numpyro'>Generate a representative sample of the posterior distribution</h2><span id='topic+dag_numpyro'></span>

<h3>Description</h3>

<p>Generate a representative sample of the posterior distribution.  The input graph object should be of class <code>causact_graph</code> and created using <code>dag_create()</code>.  The specification of a completely consistent joint distribution is left to the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_numpyro(
  graph,
  mcmc = TRUE,
  num_warmup = 1000,
  num_samples = 4000,
  seed = 1234567
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_numpyro_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>causact_graph</code> representing a complete and conistent specification of a joint distribution.</p>
</td></tr>
<tr><td><code id="dag_numpyro_+3A_mcmc">mcmc</code></td>
<td>
<p>a logical value indicating whether to sample from the posterior distribution.  When <code>mcmc=FALSE</code>, the numpyro code is printed to the console, but not executed.  The user can cut and paste the code to another script for running line-by-line.  This option is most useful for debugging purposes. When <code>mcmc=TRUE</code>, the code is executed and outputs a dataframe of posterior draws.</p>
</td></tr>
<tr><td><code id="dag_numpyro_+3A_num_warmup">num_warmup</code></td>
<td>
<p>an integer value for the number of initial steps that will be discarded while the markov chain finds its way into the typical set.</p>
</td></tr>
<tr><td><code id="dag_numpyro_+3A_num_samples">num_samples</code></td>
<td>
<p>an integer value for the number of samples.</p>
</td></tr>
<tr><td><code id="dag_numpyro_+3A_seed">seed</code></td>
<td>
<p>an integer-valued random seed that serves as a starting point for a random number generator. By setting the seed to a specific value, you can ensure the reproducibility and consistency of your results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>mcmc=TRUE</code>, returns a dataframe of posterior distribution samples corresponding to the input <code>causact_graph</code>.  Each column is a parameter and each row a draw from the posterior sample output.  If <code>mcmc=FALSE</code>, running <code>dag_numpyro</code> returns a character string of code that would help the user generate the posterior distribution; useful for debugging.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>graph = dag_create() %&gt;%
  dag_node("Get Card","y",
           rhs = bernoulli(theta),
           data = carModelDF$getCard) %&gt;%
  dag_node(descr = "Card Probability by Car",label = "theta",
           rhs = beta(2,2),
           child = "y") %&gt;%
  dag_node("Car Model","x",
           data = carModelDF$carModel,
           child = "y") %&gt;%
  dag_plate("Car Model","x",
            data = carModelDF$carModel,
            nodeLabels = "theta")

graph %&gt;% dag_render()
numpyroCode = graph %&gt;% dag_numpyro(mcmc=FALSE)
## Not run: 
## default functionality returns a data frame
# below requires numpyro installation
drawsDF = graph %&gt;% dag_numpyro()
drawsDF %&gt;% dagp_plot()

## End(Not run)
</code></pre>

<hr>
<h2 id='dag_plate'>Create a plate representation for repeated nodes.</h2><span id='topic+dag_plate'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Given a graph object of class <code>causact_graph</code>, create collections of nodes that should be repeated i.e. represent multiple instances of a random variable, random vector, or random matrix.  When nodes are on more than one plate, graph rendering will treat each unique combination of plates as separate plates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_plate(
  graph,
  descr,
  label,
  nodeLabels,
  data = as.character(NA),
  addDataNode = FALSE,
  rhs = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_plate_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>dgr_graph</code> created using <code>dag_create()</code>.</p>
</td></tr>
<tr><td><code id="dag_plate_+3A_descr">descr</code></td>
<td>
<p>a longer more descriptive label for the cluster/plate.</p>
</td></tr>
<tr><td><code id="dag_plate_+3A_label">label</code></td>
<td>
<p>a short character string to use as an index.  Any <code>.</code> in the names is automatically replaced by <code style="white-space: pre;">&#8288;_&#8288;</code> for interoperability with Python.</p>
</td></tr>
<tr><td><code id="dag_plate_+3A_nodelabels">nodeLabels</code></td>
<td>
<p>a character vector of node labels or descriptions to include in the list of nodes.</p>
</td></tr>
<tr><td><code id="dag_plate_+3A_data">data</code></td>
<td>
<p>a vector representing the categorical data whose unique values become the plate index.  To use with <code>addDataNode = TRUE</code>, this vector should represent observations of a variable that can be coerced to a factor.</p>
</td></tr>
<tr><td><code id="dag_plate_+3A_adddatanode">addDataNode</code></td>
<td>
<p>a logical value.  When <code>addDataNode = TRUE</code>, the code attempts to add a node of observed data that is used as an index for extracting the correct parameter from parent nodes that are on the newly created plate.  Verify the graphical model using <code>dag_render()</code> to ensure correct behavior.</p>
</td></tr>
<tr><td><code id="dag_plate_+3A_rhs">rhs</code></td>
<td>
<p>Optional <code>rhs</code> expression for when <code>addDataNode = TRUE</code>.  This can be either a  distribution such as <code style="white-space: pre;">&#8288;uniform, normal, lognormal, bernoulli,&#8288;</code> etc. or an R expression. Distribution arguments are optional.  Valid values include <code>normal(mu,sigma)</code>, <code>normal</code>, and <code>normal(6,2)</code>.  R computation/expression examples include <code>alpha+beta*x</code>.  If a distribution is given, this is a random/stochastic node, if a formula is given it is a deterministic node once given the values of its parents.  Quotes should not be used as all function/computations should consist of R objects, functions, and constants.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an expansion of the input <code>causact_graph</code> object with an added plate representing the repetition of <code>nodeLabels</code> for each unique value of <code>data</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># single plate example
graph = dag_create() %&gt;%
dag_node("Get Card","y",
         rhs = bernoulli(theta),
         data = carModelDF$getCard) %&gt;%
  dag_node(descr = "Card Probability by Car",label = "theta",
           rhs = beta(2,2),
           child = "y") %&gt;%
  dag_node("Car Model","x",
           data = carModelDF$carModel,
           child = "y") %&gt;%
  dag_plate("Car Model","x",
            data = carModelDF$carModel,
            nodeLabels = "theta")
graph %&gt;% dag_render()

# multiple plate example
library(dplyr)
poolTimeGymDF = gymDF %&gt;%
mutate(stretchType = ifelse(yogaStretch == 1,
                            "Yoga Stretch",
                            "Traditional")) %&gt;%
group_by(gymID,stretchType,yogaStretch) %&gt;%
  summarize(nTrialCustomers = sum(nTrialCustomers),
            nSigned = sum(nSigned))
graph = dag_create() %&gt;%
  dag_node("Cust Signed","k",
           rhs = binomial(n,p),
           data = poolTimeGymDF$nSigned) %&gt;%
  dag_node("Probability of Signing","p",
           rhs = beta(2,2),
           child = "k") %&gt;%
  dag_node("Trial Size","n",
           data = poolTimeGymDF$nTrialCustomers,
           child = "k") %&gt;%
  dag_plate("Yoga Stretch","x",
            nodeLabels = c("p"),
            data = poolTimeGymDF$stretchType,
            addDataNode = TRUE) %&gt;%
  dag_plate("Observation","i",
            nodeLabels = c("x","k","n")) %&gt;%
  dag_plate("Gym","j",
            nodeLabels = "p",
            data = poolTimeGymDF$gymID,
            addDataNode = TRUE)
graph %&gt;% dag_render()
</code></pre>

<hr>
<h2 id='dag_render'>Render the graph as an htmlwidget</h2><span id='topic+dag_render'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Using a <code>causact_graph</code> object, render the graph in the RStudio Viewer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dag_render(
  graph,
  shortLabel = FALSE,
  wrapWidth = 24,
  width = NULL,
  height = NULL,
  fillColor = "aliceblue",
  fillColorObs = "cadetblue"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dag_render_+3A_graph">graph</code></td>
<td>
<p>a graph object of class <code>dgr_graph</code>.</p>
</td></tr>
<tr><td><code id="dag_render_+3A_shortlabel">shortLabel</code></td>
<td>
<p>a logical value.  If set to <code>TRUE</code>, distribution and formula information is suppressed.  Meant for communication with non-statistical stakeholders.</p>
</td></tr>
<tr><td><code id="dag_render_+3A_wrapwidth">wrapWidth</code></td>
<td>
<p>a numeric value.  Used to restrict width of nodes.  Default is wrap text after 24 characters.</p>
</td></tr>
<tr><td><code id="dag_render_+3A_width">width</code></td>
<td>
<p>a numeric value.  an optional parameter for specifying the width of the resulting graphic in pixels.</p>
</td></tr>
<tr><td><code id="dag_render_+3A_height">height</code></td>
<td>
<p>a numeric value.  an optional parameter for specifying the height of the resulting graphic in pixels.</p>
</td></tr>
<tr><td><code id="dag_render_+3A_fillcolor">fillColor</code></td>
<td>
<p>a valid R color to be used as the default node fill color during <code>dag_render()</code>.</p>
</td></tr>
<tr><td><code id="dag_render_+3A_fillcolorobs">fillColorObs</code></td>
<td>
<p>a valid R color to be used as the fill color for observed nodes during <code>dag_render()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <code>grViz</code> and <code>htmlwidget</code> that is also rendered in the RStudio viewer for interactive buidling of graphical models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Render a simple graph
dag_create() %&gt;%
  dag_node("Demand","X") %&gt;%
  dag_node("Price","Y", child = "X") %&gt;%
  dag_render()

# Hide the mathematical details of a graph
dag_create() %&gt;%
  dag_node("Demand","X") %&gt;%
  dag_node("Price","Y", child = "X") %&gt;%
  dag_render(shortLabel = TRUE)
</code></pre>

<hr>
<h2 id='dagp_plot'>Plot posterior distribution from dataframe of posterior draws.</h2><span id='topic+dagp_plot'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Plot the posterior distribution of all latent parameters using a dataframe of posterior draws from a <code>causact_graph</code> model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dagp_plot(drawsDF, densityPlot = FALSE, abbrevLabels = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dagp_plot_+3A_drawsdf">drawsDF</code></td>
<td>
<p>the dataframe output of <code>dag_numpyro(mcmc=TRUE)</code> where each column is a parameter and each row a single draw from a representative sample.</p>
</td></tr>
<tr><td><code id="dagp_plot_+3A_densityplot">densityPlot</code></td>
<td>
<p>If <code>TRUE</code>, each parameter gets its own density plot.  If <code>FALSE</code> (recommended usage), parameters are grouped into facets based on whether they share the same prior or not.  10 and 90 percent credible intervals are displayed for the posterior distributions.</p>
</td></tr>
<tr><td><code id="dagp_plot_+3A_abbrevlabels">abbrevLabels</code></td>
<td>
<p>If <code>TRUE</code>, long labels on the plot are abbreviated to 10 characters.  If <code>FALSE</code> the entire label is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a credible interval plot of all latent posterior distribution parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A simple example
posteriorDF = data.frame(x = rnorm(100),
y = rexp(100),
z = runif(100))
posteriorDF %&gt;%
dagp_plot(densityPlot = TRUE)

# More complicated example requiring 'numpyro'
## Not run: 
# Create a 2 node graph
graph = dag_create() %&gt;%
  dag_node("Get Card","y",
         rhs = bernoulli(theta),
         data = carModelDF$getCard) %&gt;%
  dag_node(descr = "Card Probability by Car",label = "theta",
           rhs = beta(2,2),
           child = "y")
graph %&gt;% dag_render()

# below requires Tensorflow installation
drawsDF = graph %&gt;% dag_numpyro(mcmc=TRUE)
drawsDF %&gt;% dagp_plot()

## End(Not run)

# A multiple plate example
library(dplyr)
poolTimeGymDF = gymDF %&gt;%
mutate(stretchType = ifelse(yogaStretch == 1,
                            "Yoga Stretch",
                            "Traditional")) %&gt;%
group_by(gymID,stretchType,yogaStretch) %&gt;%
  summarize(nTrialCustomers = sum(nTrialCustomers),
            nSigned = sum(nSigned))
graph = dag_create() %&gt;%
  dag_node("Cust Signed","k",
           rhs = binomial(n,p),
           data = poolTimeGymDF$nSigned) %&gt;%
  dag_node("Probability of Signing","p",
           rhs = beta(2,2),
           child = "k") %&gt;%
  dag_node("Trial Size","n",
           data = poolTimeGymDF$nTrialCustomers,
           child = "k") %&gt;%
  dag_plate("Yoga Stretch","x",
            nodeLabels = c("p"),
            data = poolTimeGymDF$stretchType,
            addDataNode = TRUE) %&gt;%
  dag_plate("Observation","i",
            nodeLabels = c("x","k","n")) %&gt;%
  dag_plate("Gym","j",
            nodeLabels = "p",
            data = poolTimeGymDF$gymID,
            addDataNode = TRUE)
graph %&gt;% dag_render()
## Not run: 
# below requires Tensorflow installation
drawsDF = graph %&gt;% dag_numpyro(mcmc=TRUE)
drawsDF %&gt;% dagp_plot()

## End(Not run)
</code></pre>

<hr>
<h2 id='delivDF'>117,790 line items associated with 23,339 shipments.</h2><span id='topic+delivDF'></span>

<h3>Description</h3>

<p>A dataset containing the line items, mostly parts, asssociated
with 23,339 shipments from a US-based warehouse.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delivDF
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) with 117,790 rows and 5 variables:
</p>

<dl>
<dt>shipID</dt><dd><p>unique ID for each shipment</p>
</dd>
<dt>plannedShipDate</dt><dd><p>shipment date promised to customer</p>
</dd>
<dt>actualShipDate</dt><dd><p>date the shipment was actually shipped</p>
</dd>
<dt>partID</dt><dd><p>unique part identifier</p>
</dd>
<dt>quantity</dt><dd><p>quantity of partID in shipment</p>
</dd>
</dl>



<h3>Source</h3>

<p>Adam Fleischhacker
</p>

<hr>
<h2 id='distributions'>probability distributions</h2><span id='topic+distributions'></span><span id='topic+uniform'></span><span id='topic+normal'></span><span id='topic+lognormal'></span><span id='topic+bernoulli'></span><span id='topic+binomial'></span><span id='topic+negative_binomial'></span><span id='topic+poisson'></span><span id='topic+gamma'></span><span id='topic+inverse_gamma'></span><span id='topic+weibull'></span><span id='topic+exponential'></span><span id='topic+pareto'></span><span id='topic+student'></span><span id='topic+laplace'></span><span id='topic+beta'></span><span id='topic+cauchy'></span><span id='topic+chi_squared'></span><span id='topic+logistic'></span><span id='topic+multivariate_normal'></span><span id='topic+lkj_correlation'></span><span id='topic+multinomial'></span><span id='topic+categorical'></span><span id='topic+dirichlet'></span>

<h3>Description</h3>

<p>These functions can be used to define random variables in a
causact model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uniform(min, max, dim = NULL)

normal(mean, sd, dim = NULL, truncation = c(-Inf, Inf))

lognormal(meanlog, sdlog, dim = NULL)

bernoulli(prob, dim = NULL)

binomial(size, prob, dim = NULL)

negative_binomial(size, prob, dim = NULL)

poisson(lambda, dim = NULL)

gamma(shape, rate, dim = NULL)

inverse_gamma(alpha, beta, dim = NULL, truncation = c(0, Inf))

weibull(shape, scale, dim = NULL)

exponential(rate, dim = NULL)

pareto(a, b, dim = NULL)

student(df, mu, sigma, dim = NULL, truncation = c(-Inf, Inf))

laplace(mu, sigma, dim = NULL, truncation = c(-Inf, Inf))

beta(shape1, shape2, dim = NULL)

cauchy(location, scale, dim = NULL, truncation = c(-Inf, Inf))

chi_squared(df, dim = NULL)

logistic(location, scale, dim = NULL, truncation = c(-Inf, Inf))

multivariate_normal(mean, Sigma, dimension = NULL)

lkj_correlation(eta, dimension = 2)

multinomial(size, prob, dimension = NULL)

categorical(prob, dimension = NULL)

dirichlet(alpha, dimension = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="distributions_+3A_min">min</code>, <code id="distributions_+3A_max">max</code></td>
<td>
<p>scalar values giving optional limits to <code>uniform</code>
variables. Like <code>lower</code> and <code>upper</code>, these must be specified as
numerics, unlike <code>lower</code> and <code>upper</code>, they must be finite.
<code>min</code> must always be less than <code>max</code>.</p>
</td></tr>
<tr><td><code id="distributions_+3A_dim">dim</code></td>
<td>
<p>Currently ignored.  If <code>dag_greta</code> becomes functional again, this specifies the dimensions of the greta array to be returned, either a scalar
or a vector of positive integers. See details.</p>
</td></tr>
<tr><td><code id="distributions_+3A_mean">mean</code>, <code id="distributions_+3A_meanlog">meanlog</code>, <code id="distributions_+3A_location">location</code>, <code id="distributions_+3A_mu">mu</code></td>
<td>
<p>unconstrained parameters</p>
</td></tr>
<tr><td><code id="distributions_+3A_sd">sd</code>, <code id="distributions_+3A_sdlog">sdlog</code>, <code id="distributions_+3A_sigma">sigma</code>, <code id="distributions_+3A_lambda">lambda</code>, <code id="distributions_+3A_shape">shape</code>, <code id="distributions_+3A_rate">rate</code>, <code id="distributions_+3A_df">df</code>, <code id="distributions_+3A_scale">scale</code>, <code id="distributions_+3A_shape1">shape1</code>, <code id="distributions_+3A_shape2">shape2</code>, <code id="distributions_+3A_alpha">alpha</code>, <code id="distributions_+3A_beta">beta</code>, <code id="distributions_+3A_a">a</code>, <code id="distributions_+3A_b">b</code>, <code id="distributions_+3A_eta">eta</code>, <code id="distributions_+3A_size">size</code></td>
<td>
<p>positive parameters, <code>alpha</code> must be a vector for <code>dirichlet</code>.</p>
</td></tr>
<tr><td><code id="distributions_+3A_truncation">truncation</code></td>
<td>
<p>a length-two vector giving values between which to truncate
the distribution.</p>
</td></tr>
<tr><td><code id="distributions_+3A_prob">prob</code></td>
<td>
<p>probability parameter (<code style="white-space: pre;">&#8288;0 &lt; prob &lt; 1&#8288;</code>), must be a vector for
<code>multinomial</code> and <code>categorical</code></p>
</td></tr>
<tr><td><code id="distributions_+3A_sigma">Sigma</code></td>
<td>
<p>positive definite variance-covariance matrix parameter</p>
</td></tr>
<tr><td><code id="distributions_+3A_dimension">dimension</code></td>
<td>
<p>Currently ignored.  If <code>dag_greta</code> becomes functional again, this specifies, the dimension of a multivariate distribution</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The discrete probability distributions (<code>bernoulli</code>,
<code>binomial</code>, <code>negative_binomial</code>, <code>poisson</code>,
<code>multinomial</code>, <code>categorical</code>) can
be used when they have fixed values, but not as unknown variables.
</p>
<p>For univariate distributions <code>dim</code> gives the dimensions of the array to create. Each element will be (independently)
distributed according to the distribution. <code>dim</code> can also be left at
its default of <code>NULL</code>, in which case the dimension will be detected
from the dimensions of the parameters (provided they are compatible with
one another).
</p>
<p>For multivariate distributions (<code>multivariate_normal()</code>,
<code>multinomial()</code>, <code>categorical()</code>, and <code>dirichlet()</code>
each row of the output and parameters
corresponds to an independent realisation. If a single realisation or
parameter value is specified, it must therefore be a row vector (see
example). <code>n_realisations</code> gives the number of rows/realisations, and
<code>dimension</code> gives the dimension of the distribution. I.e. a bivariate
normal distribution would be produced with <code>multivariate_normal(..., dimension = 2)</code>. The dimension can usually be detected from the parameters.
</p>
<p><code>multinomial()</code> does not check that observed values sum to
<code>size</code>, and <code>categorical()</code> does not check that only one of the
observed entries is 1. It's the user's responsibility to check their data
matches the distribution!
</p>
<p>Wherever possible, the parameterizations and argument names of <code>causact</code>
distributions match commonly used R functions for distributions, such as
those in the <code>stats</code> or <code>extraDistr</code> packages. The following
table states the distribution function to which causact's implementation
corresponds (this code largely borrowed from the greta package):
</p>

<table>
<tr>
 <td style="text-align: left;"> causact </td><td style="text-align: left;"> reference</td>
</tr>
<tr>
 <td style="text-align: left;"> <code>uniform</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Uniform">stats::dunif</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>normal</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Normal">stats::dnorm</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>lognormal</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Lognormal">stats::dlnorm</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>bernoulli</code> </td><td style="text-align: left;">
<a href="extraDistr.html#topic+Bernoulli">extraDistr::dbern</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>binomial</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Binomial">stats::dbinom</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>beta_binomial</code> </td><td style="text-align: left;">
<a href="extraDistr.html#topic+BetaBinom">extraDistr::dbbinom</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>negative_binomial</code>
</td><td style="text-align: left;"> <a href="stats.html#topic+NegBinomial">stats::dnbinom</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>hypergeometric</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Hypergeometric">stats::dhyper</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>poisson</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Poisson">stats::dpois</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>gamma</code> </td><td style="text-align: left;">
<a href="stats.html#topic+GammaDist">stats::dgamma</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>inverse_gamma</code> </td><td style="text-align: left;">
<a href="extraDistr.html#topic+InvGamma">extraDistr::dinvgamma</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>weibull</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Weibull">stats::dweibull</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>exponential</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Exponential">stats::dexp</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>pareto</code> </td><td style="text-align: left;">
<a href="extraDistr.html#topic+Pareto">extraDistr::dpareto</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>student</code> </td><td style="text-align: left;">
<a href="extraDistr.html#topic+LocationScaleT">extraDistr::dlst</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>laplace</code> </td><td style="text-align: left;">
<a href="extraDistr.html#topic+Laplace">extraDistr::dlaplace</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>beta</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Beta">stats::dbeta</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>cauchy</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Cauchy">stats::dcauchy</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>chi_squared</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Chisquare">stats::dchisq</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>logistic</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Logistic">stats::dlogis</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>f</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Fdist">stats::df</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>multivariate_normal</code> </td><td style="text-align: left;">
<a href="mvtnorm.html#topic+Mvnorm">mvtnorm::dmvnorm</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>multinomial</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Multinom">stats::dmultinom</a></td>
</tr>
<tr>
 <td style="text-align: left;"> <code>categorical</code> </td><td style="text-align: left;">
<a href="stats.html#topic+Multinom">stats::dmultinom</a> (size = 1)</td>
</tr>
<tr>
 <td style="text-align: left;"> <code>dirichlet</code>
</td><td style="text-align: left;"> <a href="extraDistr.html#topic+Dirichlet">extraDistr::ddirichlet</a></td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# a uniform parameter constrained to be between 0 and 1
phi &lt;- uniform(min = 0, max = 1)

# a length-three variable, with each element following a standard normal
# distribution
alpha &lt;- normal(0, 1, dim = 3)

# a length-three variable of lognormals
sigma &lt;- lognormal(0, 3, dim = 3)

# a hierarchical uniform, constrained between alpha and alpha + sigma,
eta &lt;- alpha + uniform(0, 1, dim = 3) * sigma

# a hierarchical distribution
mu &lt;- normal(0, 1)
sigma &lt;- lognormal(0, 1)
theta &lt;- normal(mu, sigma)

# a vector of 3 variables drawn from the same hierarchical distribution
thetas &lt;- normal(mu, sigma, dim = 3)

# a matrix of 12 variables drawn from the same hierarchical distribution
thetas &lt;- normal(mu, sigma, dim = c(3, 4))

# a multivariate normal variable, with correlation between two elements
# note that the parameter must be a row vector
Sig &lt;- diag(4)
Sig[3, 4] &lt;- Sig[4, 3] &lt;- 0.6
theta &lt;- multivariate_normal(t(rep(mu, 4)), Sig)

# 10 independent replicates of that
theta &lt;- multivariate_normal(t(rep(mu, 4)), Sig, n_realisations = 10)

# 10 multivariate normal replicates, each with a different mean vector,
# but the same covariance matrix
means &lt;- matrix(rnorm(40), 10, 4)
theta &lt;- multivariate_normal(means, Sig, n_realisations = 10)
dim(theta)

# a Wishart variable with the same covariance parameter
theta &lt;- wishart(df = 5, Sigma = Sig)

## End(Not run)
</code></pre>

<hr>
<h2 id='gymDF'>Dataframe of 44 observations of free crossfit classes data
Each observation indicates how many students that participated in the free
month of crossfit signed up for the monthly membership afterwards</h2><span id='topic+gymDF'></span>

<h3>Description</h3>

<p>Dataframe of 44 observations of free crossfit classes data
Each observation indicates how many students that participated in the free
month of crossfit signed up for the monthly membership afterwards
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gymDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 44 rows and 5 variables:
</p>

<dl>
<dt>gymID</dt><dd><p>unique gym identifier</p>
</dd>
<dt>nTrialCustomers</dt><dd><p>number of unique customers taking free trial classes</p>
</dd>
<dt>nSigned</dt><dd><p>number of customers from trial that sign up for membership</p>
</dd>
<dt>yogaStretch</dt><dd><p>whether trial classes included a yoga type stretch</p>
</dd>
<dt>timePeriod</dt><dd><p>month number, since inception of company, for which trial period was offered</p>
</dd>
</dl>


<hr>
<h2 id='houseDF'>Dataframe of 1,460 observations of home sales in Ames, Iowa.  Known as The Ames Housing dataset, it was compiled by Dean De Cock for use in data science education.
Each observation is a home sale.  See <code>houseDFDescr</code> for more info.</h2><span id='topic+houseDF'></span>

<h3>Description</h3>

<p>Dataframe of 1,460 observations of home sales in Ames, Iowa.  Known as The Ames Housing dataset, it was compiled by Dean De Cock for use in data science education.
Each observation is a home sale.  See <code>houseDFDescr</code> for more info.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>houseDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 1,460 rows and 37 variables:
</p>

<dl>
<dt>SalePrice</dt><dd><p>the property's sale price in dollars. This is the target variable</p>
</dd>
<dt>MSSubClass</dt><dd><p>The building class</p>
</dd>
<dt>MSZoning</dt><dd><p>The general zoning classification</p>
</dd>
<dt>LotFrontage</dt><dd><p>Linear feet of street connected to property</p>
</dd>
<dt>LotArea</dt><dd><p>Lot size in square feet</p>
</dd>
<dt>Street</dt><dd><p>Type of road access</p>
</dd>
<dt>LotShape</dt><dd><p>General shape of property</p>
</dd>
<dt>Utilities</dt><dd><p>Type of utilities available</p>
</dd>
<dt>LotConfig</dt><dd><p>Lot configuration</p>
</dd>
<dt>Neighborhood</dt><dd><p>Physical locations within Ames city limits</p>
</dd>
<dt>BldgType</dt><dd><p>Type of dwelling</p>
</dd>
<dt>HouseStyle</dt><dd><p>Style of dwelling</p>
</dd>
<dt>OverallQual</dt><dd><p>Overall material and finish quality</p>
</dd>
<dt>OverallCond</dt><dd><p>Overall condition rating</p>
</dd>
<dt>YearBuilt</dt><dd><p>Original construction date</p>
</dd>
<dt>YearRemodAdd</dt><dd><p>Remodel date</p>
</dd>
<dt>ExterQual</dt><dd><p>Exterior material quality</p>
</dd>
<dt>ExterCond</dt><dd><p>Present condition of the material on the exterior</p>
</dd>
<dt>BsmtQual</dt><dd><p>Height of the basement</p>
</dd>
<dt>BsmtCond</dt><dd><p>General condition of the basement</p>
</dd>
<dt>BsmtExposure</dt><dd><p>Walkout or garden level basement walls</p>
</dd>
<dt>BsmtUnfSF</dt><dd><p>Unfinished square feet of basement area</p>
</dd>
<dt>TotalBsmtSF</dt><dd><p>Total square feet of basement area</p>
</dd>
<dt>1stFlrSF</dt><dd><p>First Floor square feet</p>
</dd>
<dt>2ndFlrSF</dt><dd><p>Second floor square feet</p>
</dd>
<dt>LowQualFinSF</dt><dd><p>Low quality finished square feet (all floors)</p>
</dd>
<dt>GrLivArea</dt><dd><p>Above grade (ground) living area square feet</p>
</dd>
<dt>FullBath</dt><dd><p>Full bathrooms above grade</p>
</dd>
<dt>HalfBath</dt><dd><p>Half baths above grade</p>
</dd>
<dt>BedroomAbvGr</dt><dd><p>Number of bedrooms above basement level</p>
</dd>
<dt>TotRmsAbvGrd</dt><dd><p>Total rooms above grade (does not include bathrooms)</p>
</dd>
<dt>Functional</dt><dd><p>Home functionality rating</p>
</dd>
<dt>GarageCars</dt><dd><p>Size of garage in car capacity</p>
</dd>
<dt>MoSold</dt><dd><p>Month Sold</p>
</dd>
<dt>YrSold</dt><dd><p>Year Sold</p>
</dd>
<dt>SaleType</dt><dd><p>Type of sale</p>
</dd>
<dt>SaleCondition</dt><dd><p>Condition of sale</p>
</dd>
</dl>



<h3>Source</h3>

<p>Accessed Jan 22, 2019. Kaggle dataset on &quot;House Prices: Advanced Regression Techniques&quot;.
</p>

<hr>
<h2 id='houseDFDescr'>Dataframe of 523 descriptions of data values from &quot;The Ames Housing dataset&quot;, compiled by Dean De Cock for use in data science education.
Each observation is a possible value from a variable in the <code>houseDF</code> dataset.</h2><span id='topic+houseDFDescr'></span>

<h3>Description</h3>

<p>Dataframe of 523 descriptions of data values from &quot;The Ames Housing dataset&quot;, compiled by Dean De Cock for use in data science education.
Each observation is a possible value from a variable in the <code>houseDF</code> dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>houseDFDescr
</code></pre>


<h3>Format</h3>

<p>A data frame with 260 rows and 2 variables:
</p>

<dl>
<dt>varName</dt><dd><p>the name and description of a variable stored in the <code>houseDF</code> dataset</p>
</dd>
<dt>varValueDescr</dt><dd><p>The value and accompanying interpretation for values in the <code>houseDF</code> dataset</p>
</dd>
</dl>



<h3>Source</h3>

<p>Accessed Jan 22, 2019. Kaggle dataset on &quot;House Prices: Advanced Regression Techniques&quot;.
</p>

<hr>
<h2 id='install_causact_deps'>Install causact's python dependencies like numpyro, arviz, and xarray.</h2><span id='topic+install_causact_deps'></span>

<h3>Description</h3>

<p><code>install_causact_deps()</code> installs python, the numpyro and arviz packages, and their
direct dependencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_causact_deps()
</code></pre>


<h3>Details</h3>

<p>You may be prompted to download and install miniconda if reticulate
did not find a non-system installation of python. Miniconda is the
only supported installation method for users, as it ensures that the R
python installation is isolated from other python installations. All python
packages will by default be installed into a self-contained conda or venv
environment named &quot;r-causact&quot;. Note that &quot;conda&quot; is the only supported method for install.
</p>
<p>If you initially declined the miniconda installation prompt, you can later
manually install miniconda by running <code><a href="reticulate.html#topic+install_miniconda">reticulate::install_miniconda()</a></code>.
</p>
<p>If you manually configure a python environment with the required
dependencies, you can tell R to use it by pointing reticulate at it,
commonly by setting an environment variable:
</p>
<div class="sourceCode R"><pre>Sys.setenv("RETICULATE_PYTHON" = "~/path/to/python-env/bin/python")
</pre></div>

<hr>
<h2 id='meaningfulLabels'>Store meaningful parameter labels</h2><span id='topic+meaningfulLabels'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Store meaningful parameter labels as as part of running <code>dag_numpyro()</code>.  When <code>numpyro</code> creates posterior distributions for multi-dimensional parameters, it creates an often meaningless number system for the parameter (e.g. beta[1,1], beta[2,1], etc.).  Since parameter dimensionality is often determined by a <code>factor</code>, this function creates labels from the factors unqiue values.  <code>replaceLabels()</code> applies the text labels stored using this function to the <code>numpyro</code> output.  The meaningful parameter names are stored in an environment, <code>cacheEnv</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meaningfulLabels(graph)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meaningfulLabels_+3A_graph">graph</code></td>
<td>
<p>a <code>causact_graph</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame <code>meaningfulLabels</code> stored in an environment named <code>cacheEnv</code> that contains a lookup table between greta labels and meaningful labels.
</p>

<hr>
<h2 id='prodLineDF'>Product line and product category assignments for 12,026 partID's.</h2><span id='topic+prodLineDF'></span>

<h3>Description</h3>

<p>A dataset containing partID attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prodLineDF
</code></pre>


<h3>Format</h3>

<p>A data frame (tibble) with 117,790 rows and 5 variables:
</p>

<dl>
<dt>partID</dt><dd><p>unique part identifier</p>
</dd>
<dt>productLine</dt><dd><p>a product line associated with the partID</p>
</dd>
<dt>prodCategory</dt><dd><p>a product category associated with the partID</p>
</dd>
</dl>



<h3>Source</h3>

<p>Adam Fleischhacker
</p>

<hr>
<h2 id='rbern'>The Bernoulli Distribution</h2><span id='topic+rbern'></span>

<h3>Description</h3>

<p>#' <a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>Density, distribution function, quantile function and random generation for the benoulli distribution with parameter <code>prob</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbern(n, prob)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rbern_+3A_n">n</code></td>
<td>
<p>number of observations. If <code>length(n) &gt; 1</code>, the length is taken to be the number required.</p>
</td></tr>
<tr><td><code id="rbern_+3A_prob">prob</code></td>
<td>
<p>probability of success of each trial</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of 0's and 1's representing failure and success.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Return a random result of a Bernoulli trial given `prob`.
rbern(n =1, prob = 0.5)
</code></pre>

<hr>
<h2 id='schoolsDF'>This example, often referred to as 8-schools, was popularized by its inclusion in Bayesian Data Analysis (Gelman, Carlin, &amp; Rubin 1997).</h2><span id='topic+schoolsDF'></span>

<h3>Description</h3>

<p>This example, often referred to as 8-schools, was popularized by its inclusion in Bayesian Data Analysis (Gelman, Carlin, &amp; Rubin 1997).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>schoolsDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 8 rows and 3 variables:
</p>

<dl>
<dt>y</dt><dd><p>estimated treatment effect at a particular school</p>
</dd>
<dt>sigma</dt><dd><p>standard error of the treamtment effect estimate</p>
</dd>
<dt>schoolName</dt><dd><p>an identifier for the school represented by this row</p>
</dd>
</dl>


<hr>
<h2 id='setDirectedGraphTheme'>Set DiagrammeR defaults for graphical models</h2><span id='topic+setDirectedGraphTheme'></span>

<h3>Description</h3>

<p><code>setDirectedGraph</code> returns a graph with good defaults.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setDirectedGraphTheme(
  dgrGraph,
  fillColor = "aliceblue",
  fillColorObs = "cadetblue"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setDirectedGraphTheme_+3A_dgrgraph">dgrGraph</code></td>
<td>
<p>A DiagrammeR graph</p>
</td></tr>
<tr><td><code id="setDirectedGraphTheme_+3A_fillcolor">fillColor</code></td>
<td>
<p>Default R color for filling nodes.</p>
</td></tr>
<tr><td><code id="setDirectedGraphTheme_+3A_fillcolorobs">fillColorObs</code></td>
<td>
<p>R color for filling obeserved nodes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An updated version of <code>dgrGraph</code> with good defaults for
graphical models.
</p>
<p>return a <code>dgrGraph</code> object with the color and shape defaults used by the <code>causact</code> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(DiagrammeR)
create_graph() %&gt;% add_node() %&gt;% render_graph()  # default DiagrammeR aesthetics
create_graph() %&gt;% add_node() %&gt;% setDirectedGraphTheme() %&gt;% render_graph() ## causact aesthetics
</code></pre>

<hr>
<h2 id='ticketsDF'>Dataframe of 55,167 observations of the number of tickets
written by NYC precincts each day
Data modified from https://github.com/stan-dev/stancon_talks/tree/master/2018/Contributed-Talks/01_auerbach which originally sourced data from https://opendata.cityofnewyork.us/</h2><span id='topic+ticketsDF'></span>

<h3>Description</h3>

<p>Dataframe of 55,167 observations of the number of tickets
written by NYC precincts each day
Data modified from https://github.com/stan-dev/stancon_talks/tree/master/2018/Contributed-Talks/01_auerbach which originally sourced data from https://opendata.cityofnewyork.us/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ticketsDF
</code></pre>


<h3>Format</h3>

<p>A data frame with 55167 rows and 4 variables:
</p>

<dl>
<dt>precinct</dt><dd><p>unique precinct identifier representing precinct of issuing officer</p>
</dd>
<dt>date</dt><dd><p>the date on which ticket violations occurred</p>
</dd>
<dt>month_year</dt><dd><p>the month_year extracted from date column</p>
</dd>
<dt>daily_tickets</dt><dd><p>Number of tickets issued out of precinct on this day</p>
</dd>
</dl>


<hr>
<h2 id='totalBeachgoersRepSample'>A representative sample from a random variable that represents the annual number of beach goers to Ocean City, MD beaches on hot days.  Think of this representative sample as coming from either a prior or posterior distribution.  An example using this sample is can be found in The Business Analyst's Guide To Business Analytics at https://www.causact.com/.</h2><span id='topic+totalBeachgoersRepSample'></span>

<h3>Description</h3>

<p>A representative sample from a random variable that represents the annual number of beach goers to Ocean City, MD beaches on hot days.  Think of this representative sample as coming from either a prior or posterior distribution.  An example using this sample is can be found in The Business Analyst's Guide To Business Analytics at https://www.causact.com/.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>totalBeachgoersRepSample
</code></pre>


<h3>Format</h3>

<p>A 4,000 element vector.
</p>

<dl>
<dt>totalBeachgoersRepSample</dt><dd><p>a draw from a representative sample of total beachgoers to Ocean City, MD.</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

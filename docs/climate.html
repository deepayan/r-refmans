<!DOCTYPE html><html lang="en"><head><title>Help for package climate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {climate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#climate-package'><p>climate: Interface to Download Meteorological (and Hydrological) Datasets</p></a></li>
<li><a href='#co2_demo'><p>Examplary CO2 dataset from Mauna Loa Observatory (NOAA dataset)</p></a></li>
<li><a href='#hydro_imgw'><p>Hydrological data from IMGW</p></a></li>
<li><a href='#hydro_imgw_daily'><p>Daily hydrological data</p></a></li>
<li><a href='#hydro_imgw_monthly'><p>Monthly hydrological data</p></a></li>
<li><a href='#hydro_shortening_imgw'><p>Shortening column names for hydrological variables</p></a></li>
<li><a href='#imgw_hydro_abbrev'><p>Definitions of hydrological parameters used for shortening column names</p>
from the danepubliczne.imgw.pl collection</a></li>
<li><a href='#imgw_hydro_stations'><p>Location of the hydrological stations from the danepubliczne.imgw.pl collection</p></a></li>
<li><a href='#imgw_meteo_abbrev'><p>Definitions of meteorological parameters used for shortening column names</p>
for the meteorological data from the danepubliczne.imgw.pl collection</a></li>
<li><a href='#imgw_meteo_stations'><p>Location of the meteorological stations from the danepubliczne.imgw.pl collection</p></a></li>
<li><a href='#meteo_imgw'><p>Meteorological data from the IMGW-PIB official repository</p></a></li>
<li><a href='#meteo_imgw_daily'><p>Daily IMGW meteorological data</p></a></li>
<li><a href='#meteo_imgw_datastore'><p>IMGW meteorological data from the IMGW datastore repository</p></a></li>
<li><a href='#meteo_imgw_hourly'><p>Hourly IMGW meteorological data</p></a></li>
<li><a href='#meteo_imgw_monthly'><p>Monthly IMGW meteorological data</p></a></li>
<li><a href='#meteo_noaa_co2'><p>CO2 Mauna Loa (NOAA) dataset</p></a></li>
<li><a href='#meteo_noaa_hourly'><p>Hourly NOAA Integrated Surface Hourly (ISH) meteorological data</p></a></li>
<li><a href='#meteo_ogimet'><p>Scrapping meteorological (Synop) data from the Ogimet webpage</p></a></li>
<li><a href='#meteo_shortening_imgw'><p>Shortening column names for meteorological variables</p></a></li>
<li><a href='#nearest_stations_imgw'><p>List of nearby meteorological or hydrological IMGW-PIB stations in Poland</p></a></li>
<li><a href='#nearest_stations_noaa'><p>List of nearby SYNOP stations for a defined geographical location</p></a></li>
<li><a href='#nearest_stations_ogimet'><p>List of nearby synop stations for a defined geographical location</p></a></li>
<li><a href='#ogimet_daily'><p>Scrapping daily meteorological (Synop) data from the Ogimet webpage</p></a></li>
<li><a href='#ogimet_hourly'><p>Scrapping hourly meteorological (Synop) data from the Ogimet webpage</p></a></li>
<li><a href='#profile_demo'><p>Exemplary sounding profile from University of Wyoming dataset</p></a></li>
<li><a href='#sounding_wyoming'><p>Sounding data</p></a></li>
<li><a href='#spheroid_dist'><p>Distance between two points on a spheroid</p></a></li>
<li><a href='#stations_meteo_imgw_telemetry'><p>IMGW telemetry stations</p></a></li>
<li><a href='#stations_ogimet'><p>Scrapping a list of meteorological (Synop) stations for a defined country from the Ogimet webpage</p></a></li>
<li><a href='#test_url'><p>Download file in a graceful way</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Interface to Download Meteorological (and Hydrological) Datasets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Automatize downloading of meteorological and hydrological data from publicly available repositories:
    OGIMET (<a href="http://ogimet.com/index.phtml.en">http://ogimet.com/index.phtml.en</a>), 
    University of Wyoming - atmospheric vertical profiling data (<a href="http://weather.uwyo.edu/upperair/">http://weather.uwyo.edu/upperair/</a>),
    Polish Institute of Meteorology and Water Management - National Research Institute (<a href="https://danepubliczne.imgw.pl">https://danepubliczne.imgw.pl</a>),
    and National Oceanic &amp; Atmospheric Administration (NOAA).
    This package also allows for searching geographical coordinates for each observation and calculate distances to the nearest stations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>XML, httr, curl, data.table, stringi</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, knitr, maps, testthat, tidyr, rmarkdown</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bczernecki/climate">https://github.com/bczernecki/climate</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/bczernecki/climate/issues">https://github.com/bczernecki/climate/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-20 12:48:54 UTC; bartosz</td>
</tr>
<tr>
<td>Author:</td>
<td>Bartosz Czernecki <a href="https://orcid.org/0000-0001-6496-1386"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Arkadiusz Głogowski
    <a href="https://orcid.org/0000-0002-7587-8892"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jakub Nowosad <a href="https://orcid.org/0000-0002-1057-3721"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  IMGW-PIB [ctb] (source of the data)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bartosz Czernecki &lt;nwp@amu.edu.pl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-20 13:10:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='climate-package'>climate: Interface to Download Meteorological (and Hydrological) Datasets</h2><span id='topic+climate'></span><span id='topic+climate-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Automatize downloading of meteorological and hydrological data from publicly available repositories: OGIMET (<a href="http://ogimet.com/index.phtml.en">http://ogimet.com/index.phtml.en</a>), University of Wyoming - atmospheric vertical profiling data (<a href="http://weather.uwyo.edu/upperair/">http://weather.uwyo.edu/upperair/</a>), Polish Institute of Meteorology and Water Management - National Research Institute (<a href="https://danepubliczne.imgw.pl">https://danepubliczne.imgw.pl</a>), and National Oceanic &amp; Atmospheric Administration (NOAA). This package also allows for searching geographical coordinates for each observation and calculate distances to the nearest stations.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Bartosz Czernecki <a href="mailto:nwp@amu.edu.pl">nwp@amu.edu.pl</a> (<a href="https://orcid.org/0000-0001-6496-1386">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Arkadiusz Głogowski <a href="mailto:arkadiusz.glogowski@upwr.edu.pl">arkadiusz.glogowski@upwr.edu.pl</a> (<a href="https://orcid.org/0000-0002-7587-8892">ORCID</a>)
</p>
</li>
<li><p> Jakub Nowosad <a href="mailto:nowosad.jakub@gmail.com">nowosad.jakub@gmail.com</a> (<a href="https://orcid.org/0000-0002-1057-3721">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> IMGW-PIB (source of the data) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/bczernecki/climate">https://github.com/bczernecki/climate</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/bczernecki/climate/issues">https://github.com/bczernecki/climate/issues</a>
</p>
</li></ul>


<hr>
<h2 id='co2_demo'>Examplary CO2 dataset from Mauna Loa Observatory (NOAA dataset)</h2><span id='topic+co2_demo'></span>

<h3>Description</h3>

<p>The object contains pre-downloaded CO2 dataset from Mauna Loa observatory
The snapshot was taken 2020/05/05.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>co2_demo
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 745 rows and 7 columns.
</p>


<h3>Value</h3>

<p>data.frame with historical CO2 concentrations
data(co2_demo)
head(co2_demo)
</p>

<hr>
<h2 id='hydro_imgw'>Hydrological data from IMGW</h2><span id='topic+hydro_imgw'></span>

<h3>Description</h3>

<p>Downloading daily, and monthly hydrological data from the measurement stations
available in the danepubliczne.imgw.pl collection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hydro_imgw(
  interval,
  year,
  coords = FALSE,
  value = "H",
  station = NULL,
  col_names = "short",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hydro_imgw_+3A_interval">interval</code></td>
<td>
<p>temporal resolution of the data (&quot;daily&quot; or &quot;monthly&quot;)</p>
</td></tr>
<tr><td><code id="hydro_imgw_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="hydro_imgw_+3A_coords">coords</code></td>
<td>
<p>add coordinates of the stations (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="hydro_imgw_+3A_value">value</code></td>
<td>
<p>type of data (can be: state - &quot;H&quot; (default), flow - &quot;Q&quot;, or
temperature - &quot;T&quot;)</p>
</td></tr>
<tr><td><code id="hydro_imgw_+3A_station">station</code></td>
<td>
<p>vector of hydrological stations danepubliczne.imgw.pl;
can be given as station name with CAPITAL LETTERS (character)
It accepts either names (characters in CAPITAL LETTERS) or stations' IDs (numeric)</p>
</td></tr>
<tr><td><code id="hydro_imgw_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible: &quot;short&quot; - default,
values with shorten names, &quot;full&quot; - full English description,
&quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="hydro_imgw_+3A_...">...</code></td>
<td>
<p>other parameters that may be passed to the 'shortening'
function that shortens column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns describing the hydrological parameters
(e.g. flow, water level) where each row represent a measurement,
depending on the interval, at a given hour, month or year.
If <code>coords = TRUE</code> additional two columns with geographic coordinates are added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  x = hydro_imgw("monthly", year = 1999)
  head(x)

</code></pre>

<hr>
<h2 id='hydro_imgw_daily'>Daily hydrological data</h2><span id='topic+hydro_imgw_daily'></span>

<h3>Description</h3>

<p>Downloading daily hydrological data from the danepubliczne.imgw.pl collection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hydro_imgw_daily(
  year,
  coords = FALSE,
  station = NULL,
  col_names = "short",
  allow_failure = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hydro_imgw_daily_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="hydro_imgw_daily_+3A_coords">coords</code></td>
<td>
<p>add coordinates of the stations (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="hydro_imgw_daily_+3A_station">station</code></td>
<td>
<p>name or ID of hydrological station(s).
It accepts names (characters in CAPITAL LETTERS) or stations' IDs (numeric)</p>
</td></tr>
<tr><td><code id="hydro_imgw_daily_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible:
&quot;short&quot; - default, values with shorten names,
&quot;full&quot; - full English description,
&quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="hydro_imgw_daily_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
<tr><td><code id="hydro_imgw_daily_+3A_...">...</code></td>
<td>
<p>other parameters that may be passed to the 'shortening' function that shortens column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with historical hydrological data for the daily time interval
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  daily = hydro_imgw_daily(year = 2000)


</code></pre>

<hr>
<h2 id='hydro_imgw_monthly'>Monthly hydrological data</h2><span id='topic+hydro_imgw_monthly'></span>

<h3>Description</h3>

<p>Downloading monthly hydrological data from the danepubliczne.imgw.pl collection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hydro_imgw_monthly(
  year,
  coords = FALSE,
  station = NULL,
  col_names = "short",
  allow_failure = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hydro_imgw_monthly_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="hydro_imgw_monthly_+3A_coords">coords</code></td>
<td>
<p>add coordinates of the stations (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="hydro_imgw_monthly_+3A_station">station</code></td>
<td>
<p>name or ID of hydrological station(s).
It accepts names (characters in CAPITAL LETTERS) or stations' IDs (numeric)</p>
</td></tr>
<tr><td><code id="hydro_imgw_monthly_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible:
&quot;short&quot; - default, values with shorten names,
&quot;full&quot; - full English description,
&quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="hydro_imgw_monthly_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
<tr><td><code id="hydro_imgw_monthly_+3A_...">...</code></td>
<td>
<p>other parameters that may be passed to the 'shortening' function that shortens column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with historical hydrological data for the monthly summaries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  monthly = hydro_imgw_monthly(year = 2000)


</code></pre>

<hr>
<h2 id='hydro_shortening_imgw'>Shortening column names for hydrological variables</h2><span id='topic+hydro_shortening_imgw'></span>

<h3>Description</h3>

<p>Shortening column names of hydrological parameters to improve the readability of downloaded dataset from
the danepubliczne.imgw.pl collection and removing duplicated column names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hydro_shortening_imgw(data, col_names = "short", remove_duplicates = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hydro_shortening_imgw_+3A_data">data</code></td>
<td>
<p>downloaded dataset with original column names</p>
</td></tr>
<tr><td><code id="hydro_shortening_imgw_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible: &quot;short&quot; - default,
values with shorten names,
&quot;full&quot; - full English description,
&quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="hydro_shortening_imgw_+3A_remove_duplicates">remove_duplicates</code></td>
<td>
<p>whether to remove duplicated column names
(default TRUE - i.e., columns with duplicated names are deleted)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with shorten names of hydrological parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  monthly = data = hydro_imgw("monthly", year = 1969, col_names = "polish")
  
  if (is.data.frame(monthly)) {
  abbr = hydro_shortening_imgw(data = monthly,
      col_names = "full",
      remove_duplicates = TRUE)
  head(abbr)
  }


</code></pre>

<hr>
<h2 id='imgw_hydro_abbrev'>Definitions of hydrological parameters used for shortening column names
from the danepubliczne.imgw.pl collection</h2><span id='topic+imgw_hydro_abbrev'></span>

<h3>Description</h3>

<p>The object contains 3 columns that are currently used for improving
readability of the downloaded dataset:
fullname, abbr_eng, and fullname_eng
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imgw_hydro_abbrev
</code></pre>


<h3>Format</h3>

<p>The data contains a data.frame with ca. 20 elements described in three ways:
</p>

<dl>
<dt>fullname</dt><dd><p>original column names as downloaded from the repository</p>
</dd>
<dt>abbr_eng</dt><dd><p>shorten column names with abbreviations derived from the most popular scheme used for meteorological parameters</p>
</dd>
<dt>fullname_eng</dt><dd><p>detailed description of downloaded meteorological variables</p>
</dd>
</dl>

<p>The object is created mostly to be used altogether with the hydro_shortening_imgw() function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(imgw_hydro_abbrev)
head(imgw_hydro_abbrev)
</code></pre>

<hr>
<h2 id='imgw_hydro_stations'>Location of the hydrological stations from the danepubliczne.imgw.pl collection</h2><span id='topic+imgw_hydro_stations'></span>

<h3>Description</h3>

<p>The object contains weather stations
coordinates, ID numbers, and elevations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imgw_hydro_stations
</code></pre>


<h3>Format</h3>

<p>The data contains a data.frame with 1304 obs. of 3 variables:
</p>

<dl>
<dt>id</dt><dd><p>Station ID</p>
</dd>
<dt>X</dt><dd><p>Longitude</p>
</dd>
<dt>Y</dt><dd><p>Latitude</p>
</dd>
</dl>

<p>The object is in the geographic coordinates using WGS84 (EPSG:4326).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(imgw_hydro_stations)
head(imgw_hydro_stations)
</code></pre>

<hr>
<h2 id='imgw_meteo_abbrev'>Definitions of meteorological parameters used for shortening column names
for the meteorological data from the danepubliczne.imgw.pl collection</h2><span id='topic+imgw_meteo_abbrev'></span>

<h3>Description</h3>

<p>The object contains 3 columns that are currently used for improving
readability of the downloaded dataset:
fullname, abbr_eng, and fullname_eng
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imgw_meteo_abbrev
</code></pre>


<h3>Format</h3>

<p>The data contains a data.frame with ca. 250 elements described in three ways:
</p>

<dl>
<dt>fullname</dt><dd><p>original column names as downloaded from the repository</p>
</dd>
<dt>abbr_eng</dt><dd><p>shorten column names with abbreviations derived from the most
popular scheme used for meteorological parameters</p>
</dd>
<dt>fullname_eng</dt><dd><p>detailed description of downloaded meteorological variables</p>
</dd>
</dl>

<p>The object is created mostly to be used altogether with the meteo_shortening_imgw
function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(imgw_meteo_abbrev)
head(imgw_meteo_abbrev)
</code></pre>

<hr>
<h2 id='imgw_meteo_stations'>Location of the meteorological stations from the danepubliczne.imgw.pl collection</h2><span id='topic+imgw_meteo_stations'></span>

<h3>Description</h3>

<p>The object contains weather stations
coordinates, ID numbers, and elevations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imgw_meteo_stations
</code></pre>


<h3>Format</h3>

<p>The data contains a data.frame with 1998 obs. of 3 variables:
</p>

<dl>
<dt>id</dt><dd><p>Station ID</p>
</dd>
<dt>X</dt><dd><p>Longitude</p>
</dd>
<dt>Y</dt><dd><p>Latitude</p>
</dd>
<dt>station</dt><dd><p>Station name</p>
</dd>
<dt>id2</dt><dd><p>IMGW-PIB ID for station rank</p>
</dd>
</dl>

<p>The object is in the geographic coordinates using WGS84 (EPSG:4326).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(imgw_meteo_stations)
head(imgw_meteo_stations)
</code></pre>

<hr>
<h2 id='meteo_imgw'>Meteorological data from the IMGW-PIB official repository</h2><span id='topic+meteo_imgw'></span>

<h3>Description</h3>

<p>Downloading hourly, daily, and monthly meteorological data from the
SYNOP / CLIMATE / PRECIP stations available in the danepubliczne.imgw.pl collection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_imgw(
  interval,
  rank = "synop",
  year,
  status = FALSE,
  coords = FALSE,
  station = NULL,
  col_names = "short",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_imgw_+3A_interval">interval</code></td>
<td>
<p>temporal resolution of the data (&quot;hourly&quot;, &quot;daily&quot;, &quot;monthly&quot;)</p>
</td></tr>
<tr><td><code id="meteo_imgw_+3A_rank">rank</code></td>
<td>
<p>rank of the stations: &quot;synop&quot; (default), &quot;climate&quot; or &quot;precip&quot;</p>
</td></tr>
<tr><td><code id="meteo_imgw_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="meteo_imgw_+3A_status">status</code></td>
<td>
<p>leave the columns with measurement and observation statuses
(default status = FALSE - i.e. the status columns are deleted)</p>
</td></tr>
<tr><td><code id="meteo_imgw_+3A_coords">coords</code></td>
<td>
<p>add coordinates of the station (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="meteo_imgw_+3A_station">station</code></td>
<td>
<p>vector of hydrological stations danepubliczne.imgw.pl
can be name of station CAPITAL LETTERS(character).
It accepts names (characters in CAPITAL LETTERS) or stations' IDs (numeric)</p>
</td></tr>
<tr><td><code id="meteo_imgw_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible: &quot;short&quot; - default, values with shorten names,
&quot;full&quot; - full English description, &quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="meteo_imgw_+3A_...">...</code></td>
<td>
<p>other parameters that may be passed to the 'shortening' function that shortens column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns describing the meteorological parameters
(e.g. temperature, wind speed, precipitation) where each row represent a measurement,
depending on the interval, at a given hour, month or year.
If <code>coords = TRUE</code> additional two
columns with geographic coordinates are added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  x = meteo_imgw("monthly", year = 2018, coords = TRUE)
  head(x)

</code></pre>

<hr>
<h2 id='meteo_imgw_daily'>Daily IMGW meteorological data</h2><span id='topic+meteo_imgw_daily'></span>

<h3>Description</h3>

<p>Downloading daily (meteorological) data from the SYNOP / CLIMATE / PRECIP stations
available in the danepubliczne.imgw.pl collection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_imgw_daily(
  rank = "synop",
  year,
  status = FALSE,
  coords = FALSE,
  station = NULL,
  col_names = "short",
  allow_failure = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_imgw_daily_+3A_rank">rank</code></td>
<td>
<p>rank of the stations: &quot;synop&quot; (default), &quot;climate&quot;, or &quot;precip&quot;</p>
</td></tr>
<tr><td><code id="meteo_imgw_daily_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="meteo_imgw_daily_+3A_status">status</code></td>
<td>
<p>leave the columns with measurement and observation statuses
(default status = FALSE - i.e. the status columns are deleted)</p>
</td></tr>
<tr><td><code id="meteo_imgw_daily_+3A_coords">coords</code></td>
<td>
<p>add coordinates of the station (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="meteo_imgw_daily_+3A_station">station</code></td>
<td>
<p>name of meteorological station(s).
It accepts names (characters in CAPITAL LETTERS); Stations' IDs (numeric) are no longer valid</p>
</td></tr>
<tr><td><code id="meteo_imgw_daily_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible:
&quot;short&quot; - default, values with shorten names,
&quot;full&quot; - full English description,
&quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="meteo_imgw_daily_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
<tr><td><code id="meteo_imgw_daily_+3A_...">...</code></td>
<td>
<p>other parameters that may be passed to the 'shortening' function that
shortens column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with a daily meteorological measurements
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  daily = meteo_imgw_daily(rank = "climate", year = 2000)


</code></pre>

<hr>
<h2 id='meteo_imgw_datastore'>IMGW meteorological data from the IMGW datastore repository</h2><span id='topic+meteo_imgw_datastore'></span>

<h3>Description</h3>

<p>Downloading hourly (meteorological) data from the telemetric stations
available in the danepubliczne.imgw.pl/datastore collection since 2008.
Most parameters are collected with 10 minutes interval and thus it is recommended to download only the mandatory years, parameters or stations.
For example, 1 year of data with all available parameters requires processing around 4GB of uncompressed data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_imgw_datastore(
  year,
  parameters = NULL,
  stations = NULL,
  coords = TRUE,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_imgw_datastore_+3A_year">year</code></td>
<td>
<p>numeric vector of years to be downloaded (e.g., 2022:2023)</p>
</td></tr>
<tr><td><code id="meteo_imgw_datastore_+3A_parameters">parameters</code></td>
<td>

<ul>
<li><p> character vector describing which parameters to be downloaded. Default <code>NULL</code> means to download all available.
</p>

<ol>
<li><p> &quot;wd&quot; - wind direction (degrees)
</p>
</li>
<li><p> &quot;t2m&quot; - temperature at 2 metres above ground level (degree Celsius)
</p>
</li>
<li><p> &quot;t0m&quot; - ground temperature (degree Celsius)
</p>
</li>
<li><p> &quot;rr_24h&quot; - precipitation totals for last 24 hours (mm)
</p>
</li>
<li><p> &quot;rr_1h&quot; - precipitation totals for last 1 hour (mm)
</p>
</li>
<li><p> &quot;rr_10min&quot; - precipitation totals for last 10 minutes (mm)
</p>
</li>
<li><p> &quot;ws&quot; - wind speed (m/s)
</p>
</li>
<li><p> &quot;ws_max&quot; - maximum wind speed for last 10 minutes (m/s)
</p>
</li>
<li><p> &quot;gust&quot; - wind gust (if present) (m/s)
</p>
</li>
<li><p> &quot;rh&quot; - relative humidity (%)
</p>
</li>
<li><p> &quot;water_in_snow&quot; - water equivalent of melted snow cover (mm)
</p>
</li></ol>

</li></ul>
</td></tr>
<tr><td><code id="meteo_imgw_datastore_+3A_stations">stations</code></td>
<td>

<ul>
<li><p> character vector with station names as visible in the <code>meteo_imgw_telemetry_stations()</code>.
Default <code>NULL</code> means to download data for all available stations.
</p>
</li></ul>
</td></tr>
<tr><td><code id="meteo_imgw_datastore_+3A_coords">coords</code></td>
<td>

<ul>
<li><p> logical - whether to append the dataset with station full name, longitude, latitude and altitude. Default: TRUE
</p>
</li></ul>
</td></tr>
<tr><td><code id="meteo_imgw_datastore_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data from the IMGW automated (telemetry) systems are non validated by experts and may contain invalid values.
</p>


<h3>Value</h3>

<p>data.frame with a raw meteorological measurements in 10-min intervals.
Please note that this dataset is not validated by experts and may contain invalid values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
imgw_telemetry = meteo_imgw_datastore(year = 2022:2023,
                                      parameters = "t2m",
                                      stations = c("HALA GĄSIENICOWA",
                                                   "DOLINA 5 STAWÓW"),
                                      coords = TRUE)


</code></pre>

<hr>
<h2 id='meteo_imgw_hourly'>Hourly IMGW meteorological data</h2><span id='topic+meteo_imgw_hourly'></span>

<h3>Description</h3>

<p>Downloading hourly (meteorological) data from the SYNOP / CLIMATE / PRECIP stations
available in the danepubliczne.imgw.pl collection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_imgw_hourly(
  rank = "synop",
  year,
  status = FALSE,
  coords = FALSE,
  station = NULL,
  col_names = "short",
  allow_failure = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_imgw_hourly_+3A_rank">rank</code></td>
<td>
<p>rank of the stations: &quot;synop&quot; (default), &quot;climate&quot;, or &quot;precip&quot;</p>
</td></tr>
<tr><td><code id="meteo_imgw_hourly_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="meteo_imgw_hourly_+3A_status">status</code></td>
<td>
<p>leave the columns with measurement and observation statuses
(default status = FALSE - i.e. the status columns are deleted)</p>
</td></tr>
<tr><td><code id="meteo_imgw_hourly_+3A_coords">coords</code></td>
<td>
<p>add coordinates of the station (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="meteo_imgw_hourly_+3A_station">station</code></td>
<td>
<p>name or ID of meteorological station(s).
It accepts names (characters in CAPITAL LETTERS) or stations' IDs (numeric)</p>
</td></tr>
<tr><td><code id="meteo_imgw_hourly_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible: &quot;short&quot; - default,
values with shorten names, &quot;full&quot; - full English description,
&quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="meteo_imgw_hourly_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
<tr><td><code id="meteo_imgw_hourly_+3A_...">...</code></td>
<td>
<p>other parameters that may be passed to the 'shortening'
function that shortens column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>meteorological data for the hourly time interval
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  hourly = meteo_imgw_hourly(rank = "climate", year = 1984)
  head(hourly)


</code></pre>

<hr>
<h2 id='meteo_imgw_monthly'>Monthly IMGW meteorological data</h2><span id='topic+meteo_imgw_monthly'></span>

<h3>Description</h3>

<p>Downloading monthly (meteorological) data from the
SYNOP / CLIMATE / PRECIP stations available in the danepubliczne.imgw.pl collection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_imgw_monthly(
  rank = "synop",
  year,
  status = FALSE,
  coords = FALSE,
  station = NULL,
  col_names = "short",
  allow_failure = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_imgw_monthly_+3A_rank">rank</code></td>
<td>
<p>rank of the stations: &quot;synop&quot; (default), &quot;climate&quot;, or &quot;precip&quot;</p>
</td></tr>
<tr><td><code id="meteo_imgw_monthly_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="meteo_imgw_monthly_+3A_status">status</code></td>
<td>
<p>leave the columns with measurement and observation statuses
(default status = FALSE - i.e. the status columns are deleted)</p>
</td></tr>
<tr><td><code id="meteo_imgw_monthly_+3A_coords">coords</code></td>
<td>
<p>add coordinates of the station (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="meteo_imgw_monthly_+3A_station">station</code></td>
<td>
<p>name or ID of meteorological station(s).
It accepts names (characters in CAPITAL LETTERS) or stations' IDs (numeric).
Please note that station names may change over time and thus sometimes 2 names
are required in some cases, e.g. <code>c("POZNAŃ", "POZNAŃ-ŁAWICA")</code>.</p>
</td></tr>
<tr><td><code id="meteo_imgw_monthly_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible: &quot;short&quot; - default,
values with shorten names, &quot;full&quot; - full English description,
&quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="meteo_imgw_monthly_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure.
By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
<tr><td><code id="meteo_imgw_monthly_+3A_...">...</code></td>
<td>
<p>other parameters that may be passed to the
'shortening' function that shortens column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>meteorological data with monthly summaries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  monthly = meteo_imgw_monthly(rank = "climate", year = 1969)
  head(monthly)

  # a descriptive (long) column names:
  monthly2 = meteo_imgw_monthly(rank = "synop", year = 2018,
         col_names = "full")
  head(monthly2)


</code></pre>

<hr>
<h2 id='meteo_noaa_co2'>CO2 Mauna Loa (NOAA) dataset</h2><span id='topic+meteo_noaa_co2'></span>

<h3>Description</h3>

<p>Carbon Dioxide (CO2) monthly measurements from Mauna Loa observatory.
The source file is available at: ftp://aftp.cmdl.noaa.gov/products/trends/co2/co2_mm_mlo.txt with all further details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_noaa_co2()
</code></pre>


<h3>Details</h3>

<p>Data from March 1958 through April 1974 have been obtained by C. David Keeling
of the Scripps Institution of Oceanography (SIO) and were obtained from the
Scripps website (scrippsco2.ucsd.edu).
</p>
<p>The &quot;average&quot; column contains the monthly mean CO2 mole fraction determined
from daily averages.  The mole fraction of CO2, expressed as parts per million
(ppm) is the number of molecules of CO2 in every one million molecules of dried
air (water vapor removed).  If there are missing days concentrated either early
or late in the month, the monthly mean is corrected to the middle of the month
using the average seasonal cycle.  Missing months are denoted by -99.99.
The &quot;interpolated&quot; column includes average values from the preceding column
and interpolated values where data are missing.  Interpolated values are
computed in two steps.  First, we compute for each month the average seasonal
cycle in a 7-year window around each monthly value.  In this way the seasonal
cycle is allowed to change slowly over time.  We then determine the &quot;trend&quot;
value for each month by removing the seasonal cycle; this result is shown in
the &quot;trend&quot; column.  Trend values are linearly interpolated for missing months.
The interpolated monthly mean is then the sum of the average seasonal cycle
value and the trend value for the missing month.
NOTE: In general, the data presented for the last year are subject to change,
depending on recalibration of the reference gas mixtures used, and other quality
control procedures. Occasionally, earlier years may also be changed for the same
reasons.  Usually these changes are minor.
CO2 expressed as a mole fraction in dry air, micromol/mol, abbreviated as ppm
</p>


<h3>Value</h3>

<p>Data frame with historical CO2 concentrations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  co2 = meteo_noaa_co2()
  head(co2)


</code></pre>

<hr>
<h2 id='meteo_noaa_hourly'>Hourly NOAA Integrated Surface Hourly (ISH) meteorological data</h2><span id='topic+meteo_noaa_hourly'></span>

<h3>Description</h3>

<p>Downloading hourly (meteorological) data from the SYNOP stations available in the NOAA ISD collection.
Some stations in the dataset are dated back even up to 1900.
By default only records that follow FM-12 (SYNOP) convention are processed.
Further details available at: https://www1.ncdc.noaa.gov/pub/data/noaa/readme.txt
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_noaa_hourly(
  station = NULL,
  year = 2019,
  fm12 = TRUE,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_noaa_hourly_+3A_station">station</code></td>
<td>
<p>ID of meteorological station(s) (characters). Find your station's ID at: https://www1.ncdc.noaa.gov/pub/data/noaa/isd-history.txt</p>
</td></tr>
<tr><td><code id="meteo_noaa_hourly_+3A_year">year</code></td>
<td>
<p>vector of years (e.g., 1966:2000)</p>
</td></tr>
<tr><td><code id="meteo_noaa_hourly_+3A_fm12">fm12</code></td>
<td>
<p>use only FM-12 (SYNOP) records (TRUE by default)</p>
</td></tr>
<tr><td><code id="meteo_noaa_hourly_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with historical meteorological data in hourly intervals
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# London-Heathrow, United Kingdom
  noaa = meteo_noaa_hourly(station = "037720-99999", year = 1949)

</code></pre>

<hr>
<h2 id='meteo_ogimet'>Scrapping meteorological (Synop) data from the Ogimet webpage</h2><span id='topic+meteo_ogimet'></span>

<h3>Description</h3>

<p>Downloading hourly or daily (meteorological) data from the Synop stations available at https://www.ogimet.com/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_ogimet(
  interval,
  date = c(Sys.Date() - 30, Sys.Date()),
  coords = FALSE,
  station,
  precip_split = TRUE,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_ogimet_+3A_interval">interval</code></td>
<td>
<p>'daily' or 'hourly' dataset to retrieve - given as character</p>
</td></tr>
<tr><td><code id="meteo_ogimet_+3A_date">date</code></td>
<td>
<p>start and finish date (e.g., date = c(&quot;2018-05-01&quot;, &quot;2018-07-01&quot;)) - character or Date class object. If not provided last 30 days are used.</p>
</td></tr>
<tr><td><code id="meteo_ogimet_+3A_coords">coords</code></td>
<td>
<p>add geographical coordinates of the station (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="meteo_ogimet_+3A_station">station</code></td>
<td>
<p>WMO ID of meteorological station(s). Character or numeric vector</p>
</td></tr>
<tr><td><code id="meteo_ogimet_+3A_precip_split">precip_split</code></td>
<td>
<p>whether to split precipitation fields into 6/12/24h</p>
</td></tr>
<tr><td><code id="meteo_ogimet_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE
numeric fields (logical value TRUE (default) or FALSE); valid only for hourly time step</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame of measured values with columns describing the meteorological parameters (e.g. air temperature, wind speed, cloudines).
Depending on the interval, at a given hour or day. Different parameters are returned for daily and hourly datasets.
</p>

<ol>
<li><p> station_ID - WMO station identifier
</p>
</li>
<li><p> Lon - longitude
</p>
</li>
<li><p> Lat - latitude
</p>
</li>
<li><p> Date - date (and time) of observations
</p>
</li>
<li><p> TC - air temperature at 2 metres  above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> TdC - dew point temperature at 2 metres  above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> TmaxC - maximum air temperature at 2 metres  above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> TminC - minimum air temperature at 2 metres  above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> ddd - wind direction
</p>
</li>
<li><p> ffkmh - wind speed in km/h
</p>
</li>
<li><p> Gustkmh - wind gust in km/h
</p>
</li>
<li><p> P0hpa - air pressure at elevation of the station in hPa
</p>
</li>
<li><p> PseahPa - sea level pressure in hPa
</p>
</li>
<li><p> PTnd - pressure tendency in hPa
</p>
</li>
<li><p> Nt - total cloud cover
</p>
</li>
<li><p> Nh - cloud cover by high-level cloud fraction
</p>
</li>
<li><p> HKm - height of cloud base
</p>
</li>
<li><p> InsoD1 - insolation in hours
</p>
</li>
<li><p> Viskm - visibility in kilometres
</p>
</li>
<li><p> Snowcm - depth of snow cover in centimetres
</p>
</li>
<li><p> pr6 - precicipitation totals in 6 hours
</p>
</li>
<li><p> pr12 - precicipitation totals in 12 hours
</p>
</li>
<li><p> pr24 - precicipitation totals in 24 hours
</p>
</li>
<li><p> TemperatureCAvg - average air temperature at 2 metres above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> TemperatureCMax - maximum air temperature at 2 metres above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> TemperatureCMin - minimum air temperature at 2 metres above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> TdAvgC - average dew point temperature at 2 metres above ground level. Values given in Celsius degrees
</p>
</li>
<li><p> HrAvg - average relative humidity. Values given in %
</p>
</li>
<li><p> WindkmhDir - wind direction
</p>
</li>
<li><p> WindkmhInt - wind speed in km/h
</p>
</li>
<li><p> WindkmhGust - wind gust in km/h
</p>
</li>
<li><p> PresslevHp - Sea level pressure in hPa
</p>
</li>
<li><p> Precmm - precipitation totals in mm
</p>
</li>
<li><p> TotClOct - total cloudiness in octants
</p>
</li>
<li><p> lowClOct - cloudiness by low level clouds in octants
</p>
</li>
<li><p> SunD1h - sunshine duration in hours
</p>
</li>
<li><p> PreselevHp - atmospheric pressure measured at altitude of station in hPa
</p>
</li>
<li><p> SnowDepcm - depth of snow cover in centimetres
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>
  # downloading daily data for New York - La Guardia (last 30 days by default)
  new_york = meteo_ogimet(interval = "daily", 
                          station = 72503, 
                          coords = TRUE)


</code></pre>

<hr>
<h2 id='meteo_shortening_imgw'>Shortening column names for meteorological variables</h2><span id='topic+meteo_shortening_imgw'></span>

<h3>Description</h3>

<p>Shortening column names of meteorological parameters to improve the readability of downloaded dataset from the danepubliczne.imgw.pl collection and removing duplicated column names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meteo_shortening_imgw(data, col_names = "short", remove_duplicates = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="meteo_shortening_imgw_+3A_data">data</code></td>
<td>
<p>downloaded dataset with original column names</p>
</td></tr>
<tr><td><code id="meteo_shortening_imgw_+3A_col_names">col_names</code></td>
<td>
<p>three types of column names possible: &quot;short&quot; - default, values with shorten names, &quot;full&quot; - full English description, &quot;polish&quot; - original names in the dataset</p>
</td></tr>
<tr><td><code id="meteo_shortening_imgw_+3A_remove_duplicates">remove_duplicates</code></td>
<td>
<p>whether to remove duplicated column names (default TRUE - i.e., columns with duplicated names are deleted)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with modified names of meteorological parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  monthly = meteo_imgw("monthly", rank = "climate", year = 1969)
  
  abbr = meteo_shortening_imgw(data = monthly,
      col_names = "full", 
      remove_duplicates = TRUE)
  head(abbr)


</code></pre>

<hr>
<h2 id='nearest_stations_imgw'>List of nearby meteorological or hydrological IMGW-PIB stations in Poland</h2><span id='topic+nearest_stations_imgw'></span>

<h3>Description</h3>

<p>Returns a data frame of meteorological or hydrological stations with their coordinates in particular year.
The returned object is valid only for a given year and type of stations (e.g. &quot;synop&quot;, &quot;climate&quot; or &quot;precip&quot;). If <code>add_map = TRUE</code> additional map of downloaded data is added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nearest_stations_imgw(
  type = "meteo",
  rank = "synop",
  year = 2018,
  add_map = TRUE,
  point = NULL,
  no_of_stations = 50,
  allow_failure = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nearest_stations_imgw_+3A_type">type</code></td>
<td>
<p>data name; &quot;meteo&quot; (default), &quot;hydro&quot;</p>
</td></tr>
<tr><td><code id="nearest_stations_imgw_+3A_rank">rank</code></td>
<td>
<p>rank of the stations: &quot;synop&quot; (default), &quot;climate&quot;, or &quot;precip&quot;; Only valid if type = &quot;meteo&quot;</p>
</td></tr>
<tr><td><code id="nearest_stations_imgw_+3A_year">year</code></td>
<td>
<p>select year for searching nearest station</p>
</td></tr>
<tr><td><code id="nearest_stations_imgw_+3A_add_map">add_map</code></td>
<td>
<p>logical - whether to draw a map for a returned data frame (requires maps/mapdata packages)</p>
</td></tr>
<tr><td><code id="nearest_stations_imgw_+3A_point">point</code></td>
<td>
<p>a vector of two coordinates (longitude, latitude) for a point we want to find nearest stations to (e.g. c(15, 53)); If not provided calculated as a mean longitude and latitude for the entire dataset</p>
</td></tr>
<tr><td><code id="nearest_stations_imgw_+3A_no_of_stations">no_of_stations</code></td>
<td>
<p>how many nearest stations will be returned from the given geographical coordinates. 50 used by default</p>
</td></tr>
<tr><td><code id="nearest_stations_imgw_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
<tr><td><code id="nearest_stations_imgw_+3A_...">...</code></td>
<td>
<p>extra arguments to be provided to the <code><a href="graphics.html#topic+plot.default">graphics::plot()</a></code> function (only if add_map = TRUE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with a list of nearest stations. Each row represents metadata for station which collected measurements in a given year. Particular columns contain stations metadata (e.g. station ID, geographical coordinates, official name, distance in kilometers from a given coordinates).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  df =  nearest_stations_imgw(type = "meteo", 
  rank = "synop",
  year = 2018,
  point = c(17, 52),
  add_map = TRUE, 
  no_of_stations = 4)


</code></pre>

<hr>
<h2 id='nearest_stations_noaa'>List of nearby SYNOP stations for a defined geographical location</h2><span id='topic+nearest_stations_noaa'></span>

<h3>Description</h3>

<p>Returns a data frame of meteorological stations with their coordinates and distance from a given location based on the noaa website.
The returned list is valid only for a given day.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nearest_stations_noaa(
  country,
  date = Sys.Date(),
  add_map = TRUE,
  point = NULL,
  no_of_stations = 10,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nearest_stations_noaa_+3A_country">country</code></td>
<td>
<p>country name (e.g., &quot;SRI LANKA&quot;). Single entries allowed only.</p>
</td></tr>
<tr><td><code id="nearest_stations_noaa_+3A_date">date</code></td>
<td>
<p>optionally, a day when measurements were done in all available locations; current Sys.Date used by default</p>
</td></tr>
<tr><td><code id="nearest_stations_noaa_+3A_add_map">add_map</code></td>
<td>
<p>logical - whether to draw a map for a returned data frame (requires maps/mapdata packages)</p>
</td></tr>
<tr><td><code id="nearest_stations_noaa_+3A_point">point</code></td>
<td>
<p>a vector of two coordinates (longitude, latitude) for a point we want to find
nearest stations to (e.g. c(80, 6)). If not provided the query will be based on a mean longitude and latitude among available dataset.</p>
</td></tr>
<tr><td><code id="nearest_stations_noaa_+3A_no_of_stations">no_of_stations</code></td>
<td>
<p>how many nearest stations will be returned from the given geographical coordinates; default 30</p>
</td></tr>
<tr><td><code id="nearest_stations_noaa_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to allow or stop on failure. By default set to TRUE. For debugging purposes change to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with number of nearest station according to given point columns describing stations parameters
(e.g.  ID station, distance from point, geographic coordinates, etc.) where each row represent a measurement,
each station which has a measurements on selected date. If <code>add_map = TRUE</code> additional map of downloaded data is added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  nearest_stations_noaa(country = "SRI LANKA", 
  point = c(80, 6),
  add_map = TRUE, 
  no_of_stations = 10)
  
  uk_stations = nearest_stations_noaa(country = "UNITED KINGDOM", no_of_stations = 100)


</code></pre>

<hr>
<h2 id='nearest_stations_ogimet'>List of nearby synop stations for a defined geographical location</h2><span id='topic+nearest_stations_ogimet'></span>

<h3>Description</h3>

<p>Returns a data frame of meteorological stations with their coordinates and distance from a given location based on the ogimet webpage.
The returned list is valid only for a given day.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nearest_stations_ogimet(
  country = "United Kingdom",
  date = Sys.Date(),
  add_map = FALSE,
  point = c(2, 50),
  no_of_stations = 10,
  allow_failure = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nearest_stations_ogimet_+3A_country">country</code></td>
<td>
<p>country name; for more than two words they need to be seperated with a plus character (e.g., &quot;United+Kingdom&quot;).
It is possible to provide more than one country combined into a vector</p>
</td></tr>
<tr><td><code id="nearest_stations_ogimet_+3A_date">date</code></td>
<td>
<p>optionally, a day when measurements were done in all available locations; current Sys.Date used by default</p>
</td></tr>
<tr><td><code id="nearest_stations_ogimet_+3A_add_map">add_map</code></td>
<td>
<p>logical - whether to draw a map for a returned data frame (requires maps/mapdata packages)</p>
</td></tr>
<tr><td><code id="nearest_stations_ogimet_+3A_point">point</code></td>
<td>
<p>a vector of two coordinates (longitude, latitude) for a point we want to find nearest stations to (e.g. c(0, 0))</p>
</td></tr>
<tr><td><code id="nearest_stations_ogimet_+3A_no_of_stations">no_of_stations</code></td>
<td>
<p>how many nearest stations will be returned from the given geographical coordinates</p>
</td></tr>
<tr><td><code id="nearest_stations_ogimet_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
<tr><td><code id="nearest_stations_ogimet_+3A_...">...</code></td>
<td>
<p>extra arguments to be provided to the <code><a href="graphics.html#topic+plot.default">graphics::plot()</a></code> function (only if add_map = TRUE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with number of nearest station according to given point columns describing stations parameters
(e.g. ID station, distance from point in km, geographic coordinates, etc.). Each row represent a measurement,
each station which has a measurements on selected date. If <code>add_map = TRUE</code> additional map of downloaded data is added.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  nearest_stations_ogimet(country = "United Kingdom", 
                          point = c(-2, 50),
                          add_map = TRUE, 
                          no_of_stations = 50, 
                          allow_failure = TRUE,
                          main = "Meteo stations in UK")


</code></pre>

<hr>
<h2 id='ogimet_daily'>Scrapping daily meteorological (Synop) data from the Ogimet webpage</h2><span id='topic+ogimet_daily'></span>

<h3>Description</h3>

<p>Downloading daily (meteorological) data from the Synop stations available in the https://www.ogimet.com/ repository.
The data are processed only if temperature or precipitation fields are present.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ogimet_daily(
  date = c(Sys.Date() - 30, Sys.Date()),
  coords = FALSE,
  station = NA,
  hour = 6,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ogimet_daily_+3A_date">date</code></td>
<td>
<p>start and finish of date (e.g., date = c(&quot;2018-05-01&quot;,&quot;2018-07-01&quot;) ). By default last 30 days.</p>
</td></tr>
<tr><td><code id="ogimet_daily_+3A_coords">coords</code></td>
<td>
<p>add geographical coordinates of the station (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="ogimet_daily_+3A_station">station</code></td>
<td>
<p>WMO ID of meteorological station(s). Character or numeric vector</p>
</td></tr>
<tr><td><code id="ogimet_daily_+3A_hour">hour</code></td>
<td>
<p>time for which the daily raport is generated. Set default as hour = 6 (i.e. 6 UTC)</p>
</td></tr>
<tr><td><code id="ogimet_daily_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with historical meteorological data for the daily summaries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  # downloading daily summaries for last 30 days. station: New York - La Guardia
  new_york = ogimet_daily(station = 72503, coords = TRUE)


</code></pre>

<hr>
<h2 id='ogimet_hourly'>Scrapping hourly meteorological (Synop) data from the Ogimet webpage</h2><span id='topic+ogimet_hourly'></span>

<h3>Description</h3>

<p>Downloading hourly (meteorological) data from the Synop stations available in the https://www.ogimet.com/ repository
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ogimet_hourly(
  date = c(Sys.Date() - 30, Sys.Date()),
  coords = FALSE,
  station = 12330,
  precip_split = TRUE,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ogimet_hourly_+3A_date">date</code></td>
<td>
<p>start and finish of date (e.g., date = c(&quot;2018-05-01&quot;,&quot;2018-07-01&quot;) ); By default last 30 days are taken</p>
</td></tr>
<tr><td><code id="ogimet_hourly_+3A_coords">coords</code></td>
<td>
<p>add geographical coordinates of the station (logical value TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="ogimet_hourly_+3A_station">station</code></td>
<td>
<p>WMO ID of meteorological station(s). Character or numeric vector</p>
</td></tr>
<tr><td><code id="ogimet_hourly_+3A_precip_split">precip_split</code></td>
<td>
<p>whether to split precipitation fields into 6/12/24h; default: TRUE</p>
</td></tr>
<tr><td><code id="ogimet_hourly_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error).
For debugging purposes change to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with historical meteorological data for hourly time interval
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  # downloading data for Poznan-Lawica, Poland
  poznan = ogimet_hourly(station = 12330, coords = TRUE)


</code></pre>

<hr>
<h2 id='profile_demo'>Exemplary sounding profile from University of Wyoming dataset</h2><span id='topic+profile_demo'></span>

<h3>Description</h3>

<p>The object contains pre-downloaded atmospheric (sounding) profile for Leba, PL rawinsonde station.
The measurement was taken 2000/03/23 at 00 UTC.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>profile_demo
</code></pre>


<h3>Format</h3>

<p>The data contains list of two data.frames as derived using sounding_wyoming() function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(profile_demo)
head(profile_demo)
</code></pre>

<hr>
<h2 id='sounding_wyoming'>Sounding data</h2><span id='topic+sounding_wyoming'></span>

<h3>Description</h3>

<p>Downloading the measurements of the vertical profile of atmosphere (also known as sounding data). Data can be retrieved using TEMP and BUFR sounding formatting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sounding_wyoming(
  wmo_id,
  yy,
  mm,
  dd,
  hh,
  min = 0,
  bufr = FALSE,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sounding_wyoming_+3A_wmo_id">wmo_id</code></td>
<td>
<p>international WMO station code (World Meteorological Organization ID); For Polish stations: Leba - 12120, Legionowo - 12374, Wrocław- 12425</p>
</td></tr>
<tr><td><code id="sounding_wyoming_+3A_yy">yy</code></td>
<td>
<p>year - single number</p>
</td></tr>
<tr><td><code id="sounding_wyoming_+3A_mm">mm</code></td>
<td>
<p>month - single number denoting month</p>
</td></tr>
<tr><td><code id="sounding_wyoming_+3A_dd">dd</code></td>
<td>
<p>day - single number denoting day</p>
</td></tr>
<tr><td><code id="sounding_wyoming_+3A_hh">hh</code></td>
<td>
<p>hour - single number denoting initial hour of sounding; for most stations this measurement is done twice a day (i.e. at 12 and 00 UTC), sporadically 4 times a day</p>
</td></tr>
<tr><td><code id="sounding_wyoming_+3A_min">min</code></td>
<td>
<p>minute - single number denoting initial minute of sounding; applies only to BUFR soundings.</p>
</td></tr>
<tr><td><code id="sounding_wyoming_+3A_bufr">bufr</code></td>
<td>

<ul>
<li><p> BUFR or TEMP sounding to be decoded. By default TEMP is used. For BUFR soundings use <code>bufr = TRUE</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="sounding_wyoming_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns two lists with values described at: weather.uwyo.edu ; The first list contains:
</p>

<ol>
<li><p> PRES - Pressure (hPa)
</p>
</li>
<li><p> HGHT - Height (metres)
</p>
</li>
<li><p> TEMP - Temperature (C)
</p>
</li>
<li><p> DWPT - Dew point (C)
</p>
</li>
<li><p> RELH - Relative humidity (%)
</p>
</li>
<li><p> MIXR - Mixing ratio (g/kg)
</p>
</li>
<li><p> DRCT - Wind direction (deg)
</p>
</li>
<li><p> SKNT - Wind speed (knots)
</p>
</li>
<li><p> THTA = (K)
</p>
</li>
<li><p> THTE = (K)
</p>
</li>
<li><p> THTV = (K)
</p>
</li></ol>

<p>The second list contains metadata and calculated thermodynamic / atmospheric instability indices (for TEMP soundings only)
</p>
<p>A list of 2 data.frames where first data frame represents parameters of upper parts o with columns describing the meteorogical parameters (e.g. temperature, air pressure) where each row represent a measurement,
depending on the height. Second data.frame presents a description of the conditions under which the sounding was carried out.
</p>


<h3>Source</h3>

<p>http://weather.uwyo.edu/upperair/sounding.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##############################################################################
# download data for Station 45004 starting 1120Z 11 Jul 2021; Kowloon, HONG KONG, CHINA
# using TEMP and BUFR sounding formats
##############################################################################
  TEMP = sounding_wyoming(wmo_id = 45004, yy = 2021, mm = 07, dd = 17, 
                          hh = 12, min = 00)
  head(TEMP[[1]])
  
  BUFR = sounding_wyoming(wmo_id = 45004, yy = 2021, mm = 07, dd = 17, 
                          hh = 12, min = 00, bufr = TRUE)
  head(BUFR[[1]])


##############################################################################
### example with a random date to download sounding from LEBA, PL station: ###
##############################################################################

  profile = sounding_wyoming(wmo_id = 12120, 
                             yy = sample(2000:2019,1),
                             mm = sample(1:12,1), 
                             dd = sample(1:20,1), 
                             hh = 0)
  # plot(profile[[1]]$HGHT, profile[[1]]$PRES, type = 'l')


</code></pre>

<hr>
<h2 id='spheroid_dist'>Distance between two points on a spheroid</h2><span id='topic+spheroid_dist'></span>

<h3>Description</h3>

<p>Calculate the distance between two points on the surface of a spheroid
using Vincenty's formula. This function can be used when GIS libraries
for calculating distance are not available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spheroid_dist(p1, p2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spheroid_dist_+3A_p1">p1</code></td>
<td>
<p>coordinates of the first point in decimal degrees (LON, LAT)</p>
</td></tr>
<tr><td><code id="spheroid_dist_+3A_p2">p2</code></td>
<td>
<p>coordinates of the second point in decimal degrees (LON, LAT)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numerical vector with distance between two locations (in kilometers)
</p>


<h3>Examples</h3>

<pre><code class='language-R'> p1 = c(18.633333, 54.366667) # longitude and latitude for Gdansk, PL
 p2 = c(17.016667, 54.466667) # longitude and latitude for Slupsk, PL
 spheroid_dist(p1, p2)
 
</code></pre>

<hr>
<h2 id='stations_meteo_imgw_telemetry'>IMGW telemetry stations</h2><span id='topic+stations_meteo_imgw_telemetry'></span>

<h3>Description</h3>

<p>Retrieving current metadata for stations used in the telemetric systems of the IMGW-PIB datastore (danepubliczne.imgw.pl/datastore)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stations_meteo_imgw_telemetry()
</code></pre>


<h3>Value</h3>

<p>data table with metadata for over 500 stations.
Metadata contains: station ID, station name, river, latitude, longitude, altitude
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  telemetry_stations = stations_meteo_imgw_telemetry()


</code></pre>

<hr>
<h2 id='stations_ogimet'>Scrapping a list of meteorological (Synop) stations for a defined country from the Ogimet webpage</h2><span id='topic+stations_ogimet'></span>

<h3>Description</h3>

<p>Returns a list of meteorological stations with their coordinates from the Ogimet webpage. The returned list is valid only for a given day
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stations_ogimet(
  country = "United Kingdom",
  date = Sys.Date(),
  add_map = FALSE,
  allow_failure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stations_ogimet_+3A_country">country</code></td>
<td>
<p>country name; Every word must be written with capital letters (e.g. &quot;United Kingdom&quot;)</p>
</td></tr>
<tr><td><code id="stations_ogimet_+3A_date">date</code></td>
<td>
<p>a day when measurements were done in all available locations</p>
</td></tr>
<tr><td><code id="stations_ogimet_+3A_add_map">add_map</code></td>
<td>
<p>logical - whether to draw a map based on downloaded dataset (requires <code>maps</code> package)</p>
</td></tr>
<tr><td><code id="stations_ogimet_+3A_allow_failure">allow_failure</code></td>
<td>
<p>logical - whether to proceed or stop on failure. By default set to TRUE (i.e. don't stop on error). For debugging purposes change to FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns describing the synoptic stations in selected countries where each row represent a statation.
If <code>add_map = TRUE</code> additional map of downloaded data is visualized.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  stations_ogimet(country = "Australia", add_map = TRUE)


</code></pre>

<hr>
<h2 id='test_url'>Download file in a graceful way</h2><span id='topic+test_url'></span>

<h3>Description</h3>

<p>Function for downloading &amp; testing url/internet connection according to CRAN policy
Example solution strongly based on
https://community.rstudio.com/t/internet-resources-should-fail-gracefully/49199/12
as suggested by kvasilopoulos
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_url(link, output, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_url_+3A_link">link</code></td>
<td>
<p>character vector with URL to check</p>
</td></tr>
<tr><td><code id="test_url_+3A_output">output</code></td>
<td>
<p>character vector for output file name</p>
</td></tr>
<tr><td><code id="test_url_+3A_quiet">quiet</code></td>
<td>
<p>logical vector (TRUE or FALSE) to be passed to curl_download function.
FALSE by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 link = "https://www1.ncdc.noaa.gov/pub/data/noaa/2019/123300-99999-2019.gz"
 output = tempfile()
 test_url(link = link, output = output)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package audiometry</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {audiometry}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#audiometry'><p>audiometry</p></a></li>
<li><a href='#boltzmann'><p>Boltzmann's function</p></a></li>
<li><a href='#gg_freiburg'><p>Freiburger Sprachtest data with ggplot2</p></a></li>
<li><a href='#gg_pta'><p>Make a primer for pure tone audiograms with ggplot2</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Standard Conform Pure Tone Audiometry (PTA) Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Bernhard Lehnert</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bernhard Lehnert &lt;bernhard.lehnert@med.uni-greifswald.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitates plotting audiometric data (mostly) by preparing the coordinate system according to standards, given e. g. in American Speech-Language-Hearing Association (2005), &lt;<a href="https://doi.org/10.1044%2Fpolicy.GL2005-00014">doi:10.1044/policy.GL2005-00014</a>&gt;.</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, ggbeeswarm, ggthemes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-06-02 10:28:13 UTC; eins</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-06-02 11:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='audiometry'>audiometry</h2><span id='topic+audiometry'></span><span id='topic+audiometry-package'></span>

<h3>Description</h3>

<p>a package for standard confirm pur tone audiomety data visualisation
using the versatile <code>ggplot2</code> package.
</p>


<h3>Details</h3>

<p>Right now this is almost only about the <code>gg_pta</code> function to start a
ggplot with pure tone audiometry data so that the reference frame looks
familiar to audiologists and ent doctors.
</p>

<hr>
<h2 id='boltzmann'>Boltzmann's function</h2><span id='topic+boltzmann'></span>

<h3>Description</h3>

<p>s-shaped curve , originally used as discrimination function to draw
the &quot;normal&quot; curves in the Freiburger Sprachtest before I could find
the official norm values. Could still be usefull for someone seeking
to add something like that to her plots be it as example or for simulation.
The function is given as
y = (exp(-4*(L-L_50))\*s_50)^-1
this is similar to a logistic regression result but with parameterization
that is expecially usefull here:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boltzmann(L, L_50 = 18.4, s_50 = 0.08)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="boltzmann_+3A_l">L</code></td>
<td>
<p>sound pressure level for which the intelligibility is to be computed</p>
</td></tr>
<tr><td><code id="boltzmann_+3A_l_50">L_50</code></td>
<td>
<p>sound pressure level at 50% intelligibility</p>
</td></tr>
<tr><td><code id="boltzmann_+3A_s_50">s_50</code></td>
<td>
<p>intelligibility at L_50, happens to be 8% in Freiburger Zahlentest
and 5% in Freiburger Einsilbertest (values taken from S. Hoth, Der Freiburger
Sprachtest, HNO 2016, 64:540-48).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>predicted intelligibility
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Freiburger Einsilbertest has L_50 = 29.3 dB and s_50 at 5 %/dB.
# Compute the expected intelligibility at 20, 30 and 40 dB SPL

boltzmann(L = c(20, 30, 40), L_50 = 29.3, s_50 = .05)
</code></pre>

<hr>
<h2 id='gg_freiburg'>Freiburger Sprachtest data with ggplot2</h2><span id='topic+gg_freiburg'></span>

<h3>Description</h3>

<p>Draws the most influential speech intelligibility test in German
speaking countries.
This function serves as a starting point for plotting data in way that
reflects the usual representation of Freiburger Sprachtest results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_freiburg(
  data = data.frame(),
  mapping = aes(),
  horizontal = FALSE,
  xlab = "Sprachschallpegel [dB]",
  ylab = "Sprachverstehen [%]",
  x_ticks_at = seq(0, 110, 10),
  y_ticks_at = seq(0, 100, 20),
  plot_reference = TRUE,
  plot_reference_lwd_1 = 0.8,
  plot_reference_lwd_2 = 0.8,
  plot_reference_color_1 = "darkgrey",
  plot_reference_color_2 = "darkgrey",
  plot_discr_loss_scale = TRUE,
  plot_discr_loss_scale_values = seq(0, 90, 10),
  plot_discr_loss_scale_color = "darkgrey",
  NC_alpha = NULL,
  HV_color = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gg_freiburg_+3A_data">data</code></td>
<td>
<p>a data.frame that is given to ggplot for initialization</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_mapping">mapping</code></td>
<td>
<p>same as mapping in ggplot2::ggplot</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_horizontal">horizontal</code></td>
<td>
<p>logical whether to orient the plot horizontally</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_xlab">xlab</code></td>
<td>
<p>label on the x axis</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_ylab">ylab</code></td>
<td>
<p>label on the y axis</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_x_ticks_at">x_ticks_at</code></td>
<td>
<p>vector of x values where numbers on x axis should appear. This
is seq(0, 110, 10) in the DIN but c(0, seq(5, 120, 15)) in Muster 13.</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_y_ticks_at">y_ticks_at</code></td>
<td>
<p>corresponding to x_ticks_at for the y axis. Set to seq(0,100,10)
to mimick the DIN, seq(0, 100, 20) to mimick Muster 13.</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_reference">plot_reference</code></td>
<td>
<p>logical whether to plot the normal hearing curves for numbers and
syllables</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_reference_lwd_1">plot_reference_lwd_1</code></td>
<td>
<p>line width for reference line 1</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_reference_lwd_2">plot_reference_lwd_2</code></td>
<td>
<p>line width for reference line 2</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_reference_color_1">plot_reference_color_1</code></td>
<td>
<p>line color for reference line 1</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_reference_color_2">plot_reference_color_2</code></td>
<td>
<p>line color for reference line 2</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_discr_loss_scale">plot_discr_loss_scale</code></td>
<td>
<p>logical whether to print discrimination loss values in the middle of the plot (likely to change in later versions)</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_discr_loss_scale_values">plot_discr_loss_scale_values</code></td>
<td>
<p>numeric vector of discrimination loss values (likely to change in later versions)</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_plot_discr_loss_scale_color">plot_discr_loss_scale_color</code></td>
<td>
<p>color value of discrimination loss values (likely to change in later versions)</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_nc_alpha">NC_alpha</code></td>
<td>
<p>deprecated parameter that was used only in version 0.2.0</p>
</td></tr>
<tr><td><code id="gg_freiburg_+3A_hv_color">HV_color</code></td>
<td>
<p>deprecated parameter that was used only in version 0.2.0</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot suitable for adding Freiburger Sprachtest data as geom_*
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
data.frame(loud = c(20, 35, 50, 65), perc = c(0,10,65,100)) |&gt;
gg_freiburg(aes(x = loud, y = perc)) +
  geom_point() +
    geom_line()


id = gl(25,4)
gender=gl(2,25, label =c("Frauen", "M\u00e4nner"))
x = rep(c(35, 50, 65, 80), 25)
y = 100*boltzmann(jitter(x,3), 45, .03)
example &lt;- data.frame(Patient=id, Geschlecht = gender, x=x, y=y)
p &lt;- gg_freiburg() +
        geom_boxplot(aes(x = x, y = y, group = x), example) +
        geom_line(aes(x = x, y = y, color = Geschlecht, group = id), example)
print(p)

gg_freiburg(plot_reference_lwd_1 = 2.5, plot_reference_lwd_2 = 3,
           plot_reference_color_1 = "green", plot_reference_color_2 = "pink")
</code></pre>

<hr>
<h2 id='gg_pta'>Make a primer for pure tone audiograms with ggplot2</h2><span id='topic+gg_pta'></span>

<h3>Description</h3>

<p>Call this to start building a plot based on pure tone audiometry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_pta(
  data = data.frame(),
  theme = theme_light,
  lettermark = NULL,
  lettermarksize = 30,
  xlab = "Frequency in Hertz (Hz)",
  ylab = "Hearing Levels in Decibels (dB)",
  xlim = c(125, 8000),
  xbreaks = c(125, 250, 500, 1000, 2000, 4000, 8000),
  minor_xbreaks = c(750, 1500, 3000),
  x_base_lwd = 1,
  xlabels = c("125", "250", "500", "1000", "2000", "4000", "8000"),
  ylim = c(120, -10),
  yposition = "left"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gg_pta_+3A_data">data</code></td>
<td>
<p>data.frame that contains the data, later to be added to the plot.
If no such data.frame is available, can be data = data.frame(0)</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_theme">theme</code></td>
<td>
<p>theme for plotting in ggplot2. Can be set to NULL.
A different theme can always be added later</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_lettermark">lettermark</code></td>
<td>
<p>either &quot;R&quot; or &quot;L&quot; or c(&quot;R&quot;, &quot;L&quot;) to add a letter
describing the left or right side (see lettermarksize)</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_lettermarksize">lettermarksize</code></td>
<td>
<p>size of letter for lettermark</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_xlab">xlab</code></td>
<td>
<p>string containing the x axis label</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_ylab">ylab</code></td>
<td>
<p>string containing the y axis label</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_xlim">xlim</code></td>
<td>
<p>limits of the frequencies displayed at the x axis.</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_xbreaks">xbreaks</code></td>
<td>
<p>frequencies at which major line breaks should be drawn. Must be
of same length as <code>xlabels</code></p>
</td></tr>
<tr><td><code id="gg_pta_+3A_minor_xbreaks">minor_xbreaks</code></td>
<td>
<p>frequencies at which minor line breaks should be drawn</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_x_base_lwd">x_base_lwd</code></td>
<td>
<p>if positive, a line to mark the 0 dB threshold level
is drawn, the line width of which is given by x_base_lwd. Set to -1 to
turn the line of</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_xlabels">xlabels</code></td>
<td>
<p>vector of strings as frequency axis labels. Must be of same length
as <code>xbreaks</code>.</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_ylim">ylim</code></td>
<td>
<p>limits of the decibels on the y axis</p>
</td></tr>
<tr><td><code id="gg_pta_+3A_yposition">yposition</code></td>
<td>
<p>side on which to label the y axis: either &quot;right&quot; or &quot;left&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is called instead of ggplot2::ggplot with a data.frame and will
return a ggplot with fixed axes, fixed axis ratio, ...
</p>


<h3>Value</h3>

<p>a ggplot with standard axis ratio, given axis etc. to add geoms to
</p>


<h3>Author(s)</h3>

<p>Bernhard Lehnert
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
fig1 &lt;- gg_pta(data.frame())
print(fig1)

fig2 &lt;- gg_pta(data.frame(), xlab="Frequency [Hz]", xlim=c(125,12000),
               xbreaks = c(125, 250, 500, 1000, 2000, 4000, 8000, 12000),
               xlabels = c("125", "250", "500", "1k", "2k", "4k", "8k", "12k"))
print(fig2)

expl &lt;- data.frame(x=rep(c(500, 1000, 2000, 4000), 200),
                   y=5 + 70*rbeta(200,1,5))
fig3 &lt;- gg_pta(expl, lettermark = "R",
               xlab="frecuencia", ylab="volumen") +
             geom_boxplot(aes(x=x, y=y, group=x)) +
             theme_grey()
print(fig3)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package biostat3</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {biostat3}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addIndicators'>
<p>Utility to add indicators from a data-frame based on a formula.</p></a></li>
<li><a href='#biostat3-package'>
<p>Utility Functions, Datasets and Extended Examples for Survival Analysis</p></a></li>
<li><a href='#brv'>
<p>Bereavement dataset</p></a></li>
<li><a href='#colon'>
<p>Colon cancer dataset</p></a></li>
<li><a href='#colon_sample'>
<p>Sample from the <code>colon</code> dataset used for teaching.</p></a></li>
<li><a href='#coxphHaz'>
<p>Smoothed hazard estimates for <code>coxph</code></p></a></li>
<li><a href='#diet'>
<p>Diet data set</p></a></li>
<li><a href='#eform'>
<p>Calculate the exponential form for coefficients and their confidence intervals using either profile likelihood-based or Wald-based confidence intervals.</p></a></li>
<li><a href='#lifetab'><p> Create cohort life table</p></a></li>
<li><a href='#lifetab2'>
<p>Formula wrapper for <code>lifetab</code> from the</p>
<code>KMsurv</code> package.</a></li>
<li><a href='#lincom'>
<p>Linear combination of regression parameters.</p></a></li>
<li><a href='#melanoma'>
<p>Melanoma cancer dataset</p></a></li>
<li><a href='#muhaz2'>
<p>Formula wrapper for the <code>muhaz</code> function from the</p>
<code>muhaz</code> package.</a></li>
<li><a href='#poisson.ci'>
<p>Exact Poisson confidence intervals.</p></a></li>
<li><a href='#popmort'>
<p>popmort dataset, with population-based mortality rates</p></a></li>
<li><a href='#smoothHaz'>
<p>Simple implementation for kernel density smoothing of the Nelson-Aalen</p>
estimator.</a></li>
<li><a href='#survPHplot'>
<p>Plot to assess non-proportionality</p></a></li>
<li><a href='#survRate'>
<p>Describe rates</p></a></li>
<li><a href='#utilities'>
<p>Utility functions for the <code>biostat3</code> package</p></a></li>
<li><a href='#year'>
<p>Convert a <code>Date</code> vector to a numeric vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Utility Functions, Datasets and Extended Examples for Survival
Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-27</td>
</tr>
<tr>
<td>Description:</td>
<td>Utility functions, datasets and extended examples for survival analysis. This extends a range of other packages, some simple wrappers for time-to-event analyses, datasets, and extensive examples in HTML with R scripts. The package also supports the course Biostatistics III entitled "Survival analysis for epidemiologists in R".</td>
</tr>
<tr>
<td>Depends:</td>
<td>survival, R (&ge; 3.5), MASS, methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>muhaz, graphics, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>car, bshazard, rstpm2, Epi, dplyr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-27 09:21:58 UTC; marcle</td>
</tr>
<tr>
<td>Author:</td>
<td>Annika Tillander [ctb],
  Andreas Karlsson [aut],
  Johan Zetterqvist [ctb],
  Peter Strom [ctb],
  Benedicte Delcoigne [ctb],
  Mark Clements [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mark Clements &lt;mark.clements@ki.se&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-27 10:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='addIndicators'>
Utility to add indicators from a data-frame based on a formula.
</h2><span id='topic+addIndicators'></span>

<h3>Description</h3>

<p>Column-bind a model matrix to the source data-frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addIndicators(data, formula, drop.intercept = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addIndicators_+3A_data">data</code></td>
<td>

<p>source data-frame or matrix.
</p>
</td></tr>
<tr><td><code id="addIndicators_+3A_formula">formula</code></td>
<td>

<p>model formula used to add columns.
</p>
</td></tr>
<tr><td><code id="addIndicators_+3A_drop.intercept">drop.intercept</code></td>
<td>

<p>logical as to whether to drop the column named '(Intercept)'.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calls <code>model.matrix</code>, conditionally checks for and removes '(Intercept)', and binds with the original data-frame (or matrix).
</p>


<h3>Value</h3>

<p>data-frame or matrix.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>addIndicators(data.frame(f = c("a","a","b")), ~f+0)
</code></pre>

<hr>
<h2 id='biostat3-package'>
Utility Functions, Datasets and Extended Examples for Survival Analysis
</h2><span id='topic+biostat3-package'></span><span id='topic+biostat3'></span>

<h3>Description</h3>

<p>Utility functions, datasets and extended examples for survival analysis. This extends a range of other packages, some simple wrappers for time-to-event analyses, datasets, and extensive examples in HTML with R scripts. The package also supports the course Biostatistics III entitled &quot;Survival analysis for epidemiologists in R&quot;.
</p>


<h3>Author(s)</h3>

<p>Annika Tillander [ctb],
  Andreas Karlsson [aut],
  Johan Zetterqvist [ctb],
  Peter Strom [ctb],
  Benedicte Delcoigne [ctb],
  Mark Clements [aut, cre]
</p>
<p>Maintainer: Mark Clements &lt;mark.clements@ki.se&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  plot(muhaz2(Surv(surv_mm, status == "Dead: cancer")~1, melanoma))
</code></pre>

<hr>
<h2 id='brv'>
Bereavement dataset
</h2><span id='topic+brv'></span>

<h3>Description</h3>

<p>Bereavement dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("brv")</code></pre>


<h3>Format</h3>

<p>A data frame with 399 observations on the following 11 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector the id of a subject</p>
</dd>
<dt><code>couple</code></dt><dd><p>a numeric vector for the id of a couple</p>
</dd>
<dt><code>dob</code></dt><dd><p>a Date for the date of birth</p>
</dd>
<dt><code>doe</code></dt><dd><p>a Date for the date of entry into study</p>
</dd>
<dt><code>dox</code></dt><dd><p>a Date for the date of exit from study</p>
</dd>
<dt><code>dosp</code></dt><dd><p>a Date for the date of bereavement</p>
</dd>
<dt><code>fail</code></dt><dd><p>a numeric vector for status at study exit 0=alive 1=died</p>
</dd>
<dt><code>group</code></dt><dd><p>a numeric vector for Group</p>
</dd>
<dt><code>disab</code></dt><dd><p>a numeric vector for disability level</p>
</dd>
<dt><code>health</code></dt><dd><p>a numeric vector for perceived health status</p>
</dd>
<dt><code>sex</code></dt><dd><p>a numeric vector for sex 1=M 2=F</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(brv)
## maybe str(brv) ; plot(brv) ...
</code></pre>

<hr>
<h2 id='colon'>
Colon cancer dataset
</h2><span id='topic+colon'></span>

<h3>Description</h3>

<p>Colon cancer dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("colon")</code></pre>


<h3>Format</h3>

<p>A data frame with 15564 observations on the following 18 variables.
</p>

<dl>
<dt><code>sex</code></dt><dd><p>a factor with levels <code>Male</code> <code>Female</code></p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>stage</code></dt><dd><p>a factor with levels <code>Unknown</code> <code>Localised</code> <code>Regional</code> <code>Distant</code></p>
</dd>
<dt><code>mmdx</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>yydx</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>surv_mm</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>surv_yy</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>status</code></dt><dd><p>a factor with levels <code>Alive</code> <code>Dead: cancer</code> <code>Dead: other</code> <code>Lost to follow-up</code></p>
</dd>
<dt><code>subsite</code></dt><dd><p>a factor with levels <code>Coecum and ascending</code> <code>Transverse</code> <code>Descending and sigmoid</code> <code>Other and NOS</code></p>
</dd>
<dt><code>year8594</code></dt><dd><p>a factor with levels <code>Diagnosed 75-84</code> <code>Diagnosed 85-94</code></p>
</dd>
<dt><code>agegrp</code></dt><dd><p>a factor with levels <code>0-44</code> <code>45-59</code> <code>60-74</code> <code>75+</code></p>
</dd>
<dt><code>dx</code></dt><dd><p>a Date</p>
</dd>
<dt><code>exit</code></dt><dd><p>a Date</p>
</dd>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>ydx</code></dt><dd><p>a numeric vector for continuous year of diagnosis</p>
</dd>
<dt><code>yexit</code></dt><dd><p>a numeric vector for continuous year of exit</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(colon)
## maybe str(colon) ; plot(colon) ...
</code></pre>

<hr>
<h2 id='colon_sample'>
Sample from the <code><a href="#topic+colon">colon</a></code> dataset used for teaching. 
</h2><span id='topic+colon_sample'></span>

<h3>Description</h3>

<p>Sample from the <code><a href="#topic+colon">colon</a></code> dataset used for teaching. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("colon_sample")</code></pre>


<h3>Format</h3>

<p>A data frame with 35 observations on the following 9 variables.
</p>

<dl>
<dt><code>sex</code></dt><dd><p>a factor with levels <code>Male</code> <code>Female</code></p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>stage</code></dt><dd><p>a factor with levels <code>Unknown</code> <code>Localised</code> <code>Regional</code> <code>Distant</code></p>
</dd>
<dt><code>mmdx</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>yydx</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>surv_mm</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>surv_yy</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>status</code></dt><dd><p>a factor with levels <code>Alive</code> <code>Dead: cancer</code> <code>Dead: other</code> <code>Lost to follow-up</code></p>
</dd>
<dt><code>subsite</code></dt><dd><p>a factor with levels <code>Coecum and ascending</code> <code>Transverse</code> <code>Descending and sigmoid</code> <code>Other and NOS</code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(colon_sample)
## maybe str(colon_sample) ; plot(colon_sample) ...
</code></pre>

<hr>
<h2 id='coxphHaz'>
Smoothed hazard estimates for <code>coxph</code>
</h2><span id='topic+coxphHaz'></span><span id='topic+print.coxphHaz'></span><span id='topic+plot.coxphHaz'></span><span id='topic+plot.coxphHazList'></span><span id='topic+lines.coxphHazList'></span><span id='topic+as.data.frame.coxphHaz'></span><span id='topic+as.data.frame.coxphHazList'></span>

<h3>Description</h3>

<p>Smoothed hazard estimates for <code>coxph</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coxphHaz(object, newdata, n.grid = 300, kernel = "epanechnikov", from,
to, ...)
## S3 method for class 'coxphHaz'
print(x, digits=NULL, ...)
## S3 method for class 'coxphHaz'
plot(x, xlab="Time", ylab="Hazard", type="l", ...)
## S3 method for class 'coxphHazList'
plot(x, xlab="Time", ylab="Hazard", type="l",
                  col=1:length(x), lty=1, legend.args=list(), ...)
## S3 method for class 'coxphHazList'
lines(x, ...)
## S3 method for class 'coxphHaz'
as.data.frame(x, row.names=NULL, optional=FALSE, level=0.95, ...)
## S3 method for class 'coxphHazList'
as.data.frame(x, row.names=NULL, optional=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coxphHaz_+3A_object">object</code></td>
<td>

<p><code>coxph</code> object
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_newdata">newdata</code></td>
<td>

<p>data-frame with covariates for prediction
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_n.grid">n.grid</code></td>
<td>

<p>the number of grid values for which the hazard is calculated
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_kernel">kernel</code></td>
<td>

<p>the kernel used for smoothing
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_from">from</code></td>
<td>

<p>argument for <code>density</code>. Defaults to the minimum time.
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_to">to</code></td>
<td>

<p>argument for <code>density</code>. Defaults to the maximum time.
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_x">x</code></td>
<td>

<p>object
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_digits">digits</code></td>
<td>

<p>argument passed to <code>print.density</code>
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_col">col</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_lty">lty</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_xlab">xlab</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_ylab">ylab</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_type">type</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_level">level</code></td>
<td>

<p>level for confidence intervals (default=0.95)
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_row.names">row.names</code></td>
<td>

<p><code>NULL</code> or a character vector giving the row names for the
data frame.  Missing values are not allowed.
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_optional">optional</code></td>
<td>

<p>logical. If <code>TRUE</code>, setting row names and converting column
names (to syntactic names: see <code>make.names</code>) is optional.
Note that all of R's <code>base</code> package <code>as.data.frame()</code> methods
use <code>optional</code> only for column names treatment, basically
with the meaning of <code>data.frame(*, check.names = !optional)</code>.
See also the <code>make.names</code> argument of the <code>matrix</code> method.
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_legend.args">legend.args</code></td>
<td>

<p>a list of options that are passed to the legend call. Defaults are
<code>list(x="topright",legend=strata(attr(x,"newdata")),col=col,lty=lty)</code>.
</p>
</td></tr>
<tr><td><code id="coxphHaz_+3A_...">...</code></td>
<td>

<p>other arguments. For <code>coxphHaz</code>, these arguments are passed to
<code>density</code>. For the <code>plot</code> and <code>lines</code> methods, these are
passed to the relevant <code>plot</code>, <code>matplot</code> and <code>matlines</code> functions.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Smooth hazard estimates from a Cox model using kernel smoothing of the
Nelson-Aalen estimator.
</p>


<h3>Value</h3>

<p>The <code>coxphHaz</code> function returns either a class of type
<code>c("coxphHaz","density")</code> when <code>newdata</code> has one row or, for multiple rows in
<code>newdata</code>, a class of type <code>"coxphHazList"</code>, which is a list of
type <code>c("coxphHaz","density")</code>.
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+coxph">coxph</a></code>, <code><a href="survival.html#topic+survfit">survfit</a></code>, <code><a href="stats.html#topic+density">density</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- coxph(Surv(surv_mm/12,status=="Dead: cancer")~agegrp, data=colon)
newdata &lt;- data.frame(agegrp=levels(colon$agegrp))
haz &lt;- suppressWarnings(coxphHaz(fit,newdata))
plot(haz, xlab="Time since diagnosis (years)")
</code></pre>

<hr>
<h2 id='diet'>
Diet data set
</h2><span id='topic+diet'></span>

<h3>Description</h3>

<p>Diet data set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("diet")</code></pre>


<h3>Format</h3>

<p>A data frame with 337 observations on the following 15 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>chd</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>y</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>hieng</code></dt><dd><p>a factor with levels <code>low</code> <code>high</code></p>
</dd>
<dt><code>energy</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>job</code></dt><dd><p>a factor with levels <code>driver</code> <code>conductor</code> <code>bank</code></p>
</dd>
<dt><code>month</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>height</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>weight</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>doe</code></dt><dd><p>a Date for date of study entry</p>
</dd>
<dt><code>dox</code></dt><dd><p>a Date for date of study exit</p>
</dd>
<dt><code>dob</code></dt><dd><p>a Date for date of birth</p>
</dd>
<dt><code>yob</code></dt><dd><p>a numeric vector for continuous year of birth</p>
</dd>
<dt><code>yoe</code></dt><dd><p>a numeric vector for continuous year of entry</p>
</dd>
<dt><code>yox</code></dt><dd><p>a numeric vector for continuous year of exit</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(diet)
## maybe str(diet) ; plot(diet) ...
</code></pre>

<hr>
<h2 id='eform'>
Calculate the exponential form for coefficients and their confidence intervals using either profile likelihood-based or Wald-based confidence intervals.
</h2><span id='topic+eform'></span><span id='topic+eform.default'></span><span id='topic+irr'></span><span id='topic+or'></span>

<h3>Description</h3>

<p><code>irr</code> and <code>or</code> use eform with a different name for the estimator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eform(object, ...)
## Default S3 method:
eform(object, parm, level = 0.95, method =
c("Delta","Profile"), name = "exp(beta)", ...)
irr(..., name = "IRR")
or(..., name = "OR")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eform_+3A_object">object</code></td>
<td>

<p>A fitted model object with <code>coef</code> and <code>confint</code> methods
</p>
</td></tr>
<tr><td><code id="eform_+3A_parm">parm</code></td>
<td>

<p>a specification of which parameters are to be given confidence intervals, either a vector of numbers or a vector of names. If missing, all parameters are considered.
</p>
</td></tr>
<tr><td><code id="eform_+3A_level">level</code></td>
<td>

<p>the confidence level required
</p>
</td></tr>
<tr><td><code id="eform_+3A_method">method</code></td>
<td>

<p>string to determine method to use the delta method (<code>stats::confint.default</code>), which assumes that the parameters are asymptotically normal, or profile likelihood-based confidence intervals (<code>MASS:::confint.gllm</code>), respectively.
</p>
</td></tr>
<tr><td><code id="eform_+3A_name">name</code></td>
<td>

<p>name of the estimator.
</p>
</td></tr>
<tr><td><code id="eform_+3A_...">...</code></td>
<td>

<p>arguments to pass from <code>irr</code> or <code>or</code> to <code>eform</code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix (or vector) with columns giving lower and upper confidence limits for each parameter. These will be labelled as (1-level)/2 and 1 - (1-level)/2 in 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## from example(glm)
counts &lt;- c(18,17,15,20,10,20,25,13,12)
outcome &lt;- gl(3, 1, 9); treatment &lt;- gl(3, 3)
glm.D93 &lt;- glm(counts ~ outcome + treatment, family = poisson())
eform(glm.D93) 
eform(glm.D93, method="Profile") 
</code></pre>

<hr>
<h2 id='lifetab'> Create cohort life table </h2><span id='topic+lifetab'></span>

<h3>Description</h3>

<p>Create cohort life table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lifetab(tis, ninit, nlost, nevent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lifetab_+3A_tis">tis</code></td>
<td>
<p> a vector of end points of time intervals, whose length is
1 greater than nlost and nevent. </p>
</td></tr>
<tr><td><code id="lifetab_+3A_ninit">ninit</code></td>
<td>
<p> the number of subjects initially entering the study. </p>
</td></tr>
<tr><td><code id="lifetab_+3A_nlost">nlost</code></td>
<td>
<p> a vector of the number of individuals lost follow or
withdrawn alive for whatever reason. </p>
</td></tr>
<tr><td><code id="lifetab_+3A_nevent">nevent</code></td>
<td>
<p> a vector of the number of individuals who experienced
the event </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a minor update of the <code>lifetab</code> function from the
<span class="pkg">KMsurv</span> package, where the start and stop times of the intervals
are now included in the return value.
</p>


<h3>Value</h3>

<p>A data.frame with the following columns:
</p>
<table>
<tr><td><code>tstart</code></td>
<td>
<p> interval start time.</p>
</td></tr>
<tr><td><code>tstop</code></td>
<td>
<p> interval end time.</p>
</td></tr>
<tr><td><code>nsubs</code></td>
<td>
<p> the number of subject entering the intervals
who have not experienced the event.</p>
</td></tr>
<tr><td><code>nlost</code></td>
<td>
<p> the number of individuals lost follow or
withdrawn alive for whatever reason. </p>
</td></tr>
<tr><td><code>nrisk</code></td>
<td>
<p> the estimated number of individuals at risk of
experiencing the event. </p>
</td></tr>
<tr><td><code>nevent</code></td>
<td>
<p> the number of individuals who experienced
the event. </p>
</td></tr>
<tr><td><code>surv</code></td>
<td>
<p> the estimated survival function at the start
of the intervals. </p>
</td></tr>
<tr><td><code>pdf</code></td>
<td>
<p> the estimated probability density function at
the midpoint of the intervals. </p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p> the estimated hazard rate at the midpoint
of the intervals. </p>
</td></tr>
<tr><td><code>se.surv</code></td>
<td>
<p> the estimated standard deviation of survival at the
beginning of the intervals. </p>
</td></tr>
<tr><td><code>se.pdf</code></td>
<td>
<p> the estimated standard deviation of the prbability
density function at the midpoint of the intervals. </p>
</td></tr>
<tr><td><code>se.hazard</code></td>
<td>
<p> the estimated standard deviation of the hazard
function at the midpoint of the intervals</p>
</td></tr>
</table>
<p>The row.names are the intervals.
</p>


<h3>Author(s)</h3>

<p> Jun Yan <a href="mailto:jyan@stat.uconn.edu">jyan@stat.uconn.edu</a> </p>


<h3>Examples</h3>

<pre><code class='language-R'>tis &lt;- c(0, 2, 3, 5, 7, 11, 17, 25, 37, 53, NA)
nsubs &lt;- c(927, 848, 774, 649, 565, 449, 296, 186, 112, 27)
nlost &lt;- c(2, 3, 6, 9, 7, 5, 3, rep(0, 3))
nevent &lt;- c(77, 71, 119, 75, 109, 148, 107, 74, 85, 27)

lifetab(tis, nsubs[1], nlost, nevent)
</code></pre>

<hr>
<h2 id='lifetab2'>
Formula wrapper for <code><a href="#topic+lifetab">lifetab</a></code> from the
<code>KMsurv</code> package.
</h2><span id='topic+lifetab2'></span><span id='topic+plot.lifetab2'></span><span id='topic+lines.lifetab2'></span>

<h3>Description</h3>

<p>Calculate a life table using the actuarial method using a formula and a
data-frame with optional breaks. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lifetab2(formula, data, subset, breaks = NULL)
## S3 method for class 'lifetab2'
plot(x, y=NULL, ...)
## S3 method for class 'lifetab2'
lines(x, y=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lifetab2_+3A_formula">formula</code></td>
<td>

<p>formula with the left-hand side being a <code>Surv</code> object, including a time and event indicator, and the right-hand side indicated stratification.
</p>
</td></tr>
<tr><td><code id="lifetab2_+3A_data">data</code></td>
<td>

<p>optional <code>data.frame</code> for the <code>Surv</code> object. If this is not provided, then the parent frame
is used for the <code>Surv</code> object.
</p>
</td></tr>
<tr><td><code id="lifetab2_+3A_subset">subset</code></td>
<td>

<p>optional <code>subset</code> statement
</p>
</td></tr>
<tr><td><code id="lifetab2_+3A_breaks">breaks</code></td>
<td>

<p>optional numeric vector of breaks. If this is not provided, then the
unique time values from the <code>Surv</code> object are used together
with <code>Inf</code>.
</p>
</td></tr>
<tr><td><code id="lifetab2_+3A_x">x</code></td>
<td>
<p><code>lifetab2</code> object</p>
</td></tr>
<tr><td><code id="lifetab2_+3A_y">y</code></td>
<td>
<p>unused argument (part of the generic function)</p>
</td></tr>
<tr><td><code id="lifetab2_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code>lifetab</code> for details. This wrapper is meant to make
life easier.
</p>
<p>A copy of the <code>lifetab</code> function has been included in
the <span class="pkg">biostat3</span> package to reduce dependencies.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> as per <code><a href="#topic+lifetab">lifetab</a></code>.
</p>


<h3>Author(s)</h3>

<p>Mark Clements for the wrapper.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## we can use unique transformed times (colon_sample)
lifetab2(Surv(floor(surv_yy),status=="Dead: cancer")~1, colon_sample)

## we can also use the breaks argument (colon)
lifetab2(Surv(surv_yy,status=="Dead: cancer")~1, colon, breaks=0:10)
</code></pre>

<hr>
<h2 id='lincom'>
Linear combination of regression parameters.
</h2><span id='topic+lincom'></span>

<h3>Description</h3>

<p>Using results calculated by the <code>linearHypothesis</code> function in
the <code>car</code> package, calculate a linear combination of regression parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lincom(model, specification, level = 0.95, eform = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lincom_+3A_model">model</code></td>
<td>

<p>regression model object (as per the <code>model</code> argument in <code>linearHypothesis</code>)
</p>
</td></tr>
<tr><td><code id="lincom_+3A_specification">specification</code></td>
<td>

<p>specification of the linear combination. This is the same as a
single component of the <code>hypothesis.matrix</code> argument in <code>linearHypothesis</code>.
</p>
</td></tr>
<tr><td><code id="lincom_+3A_level">level</code></td>
<td>

<p>the confidence level required
</p>
</td></tr>
<tr><td><code id="lincom_+3A_eform">eform</code></td>
<td>

<p>logical for whether to exponentiate the confidence interval (default=FALSE)
</p>
</td></tr>
<tr><td><code id="lincom_+3A_...">...</code></td>
<td>

<p>other arguments to the <code>linearHypothesis</code> function.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Multiple specifications of linear combinations are called individually.
</p>


<h3>Value</h3>

<p>A matrix with columns including the estimate, a normal-based confidence interval,
test statistic and p-values.
</p>


<h3>See Also</h3>

<p>See Also <code>linearHypothesis</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  fit &lt;- glm(chd ~ hieng*job + offset(log(y)), data=diet, family=poisson)
  lincom(fit, c("hienghigh+hienghigh:jobconductor",
                "hienghigh+hienghigh:jobbank"),
         eform=TRUE)
</code></pre>

<hr>
<h2 id='melanoma'>
Melanoma cancer dataset
</h2><span id='topic+melanoma'></span>

<h3>Description</h3>

<p>Melanoma cancer dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("melanoma")</code></pre>


<h3>Format</h3>

<p>A data frame with 7775 observations on the following 18 variables.
</p>

<dl>
<dt><code>sex</code></dt><dd><p>a factor with levels <code>Male</code> <code>Female</code></p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>stage</code></dt><dd><p>a factor with levels <code>Unknown</code> <code>Localised</code> <code>Regional</code> <code>Distant</code></p>
</dd>
<dt><code>mmdx</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>yydx</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>surv_mm</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>surv_yy</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>status</code></dt><dd><p>a factor with levels <code>Alive</code> <code>Dead: cancer</code> <code>Dead: other</code> <code>Lost to follow-up</code></p>
</dd>
<dt><code>subsite</code></dt><dd><p>a factor with levels <code>Head and Neck</code> <code>Trunk</code> <code>Limbs</code> <code>Multiple and NOS</code></p>
</dd>
<dt><code>year8594</code></dt><dd><p>a factor with levels <code>Diagnosed 75-84</code> <code>Diagnosed 85-94</code></p>
</dd>
<dt><code>dx</code></dt><dd><p>a Date</p>
</dd>
<dt><code>exit</code></dt><dd><p>a Date</p>
</dd>
<dt><code>agegrp</code></dt><dd><p>a factor with levels <code>0-44</code> <code>45-59</code> <code>60-74</code> <code>75+</code></p>
</dd>
<dt><code>id</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>ydx</code></dt><dd><p>a numeric vector for continuous year of diagnosis</p>
</dd>
<dt><code>yexit</code></dt><dd><p>a numeric vector for continuous year of exit</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(melanoma)
## maybe str(melanoma) ; plot(melanoma) ...
</code></pre>

<hr>
<h2 id='muhaz2'>
Formula wrapper for the <code>muhaz</code> function from the
<code>muhaz</code> package.
</h2><span id='topic+muhaz2'></span><span id='topic+plot.muhaz2'></span><span id='topic+plot.muhazList'></span><span id='topic+lines.muhazList'></span><span id='topic+lines.muhaz2'></span><span id='topic+summary.muhazList'></span><span id='topic+as.data.frame.muhaz'></span><span id='topic+as.data.frame.muhazList'></span>

<h3>Description</h3>

<p>Formula wrapper for the <code>muhaz</code> function from the
<code>muhaz</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>muhaz2(formula, data, subset, max.time, ...)
## S3 method for class 'muhaz2'
plot(x, haz.scale=1, ylab="Hazard", ylim=NULL, log="", ...)
## S3 method for class 'muhazList'
plot(x, lty=1:5, col=1:length(x), log="", legend.args=list(), ...)
## S3 method for class 'muhaz2'
lines(x, ..., haz.scale = 1)
## S3 method for class 'muhazList'
lines(x, lty=1, col=1:length(x), ...)
## S3 method for class 'muhazList'
summary(object, ...)
## S3 method for class 'muhazList'
as.data.frame(x, row.names, optional, ...)
## S3 method for class 'muhaz'
as.data.frame(x, row.names, optional, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="muhaz2_+3A_formula">formula</code></td>
<td>

<p>formula with the left-hand side being a <code>Surv</code> object, including a time and event indicator, and the right-hand side indicated stratification.
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_data">data</code></td>
<td>

<p>optional <code>data.frame</code> for the <code>Surv</code> object. If this is not provided, then the parent frame
is used for the <code>Surv</code> object.
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_subset">subset</code></td>
<td>

<p>subset predictate for the dataset
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_max.time">max.time</code></td>
<td>

<p>maximum follow-up time for the hazards
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_ylab">ylab</code></td>
<td>

<p>graphics argument for ylab (y-axis label)
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_lty">lty</code></td>
<td>

<p>graphics argument for line type
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_col">col</code></td>
<td>

<p>graphics argument for line colour
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_legend.args">legend.args</code></td>
<td>

<p>a list of options that are passed to the legend call. Defaults are <code>list(x="topright",legend=names(x),col=col,lty=lty)</code>.
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_haz.scale">haz.scale</code></td>
<td>

<p>scale for the hazard in the plot
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_row.names">row.names</code></td>
<td>

<p>not currently used
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_object">object</code></td>
<td>

<p>muhazList object
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_ylim">ylim</code></td>
<td>

<p>graphics argument for the limits of the y axis
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_log">log</code></td>
<td>

<p>graphics argument for a log transformation of the x or y axes
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_x">x</code></td>
<td>

<p>muhazList or muhaz object
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_optional">optional</code></td>
<td>

<p>not currently used
</p>
</td></tr>
<tr><td><code id="muhaz2_+3A_...">...</code></td>
<td>

<p>other arguments
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For a single strata, this is a <code>muhaz</code> object. For multiple strata, this is a <code>muhazList</code> object, which includes methods for 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  plot(muhaz2(Surv(surv_mm, status == "Dead: cancer")~1, melanoma))
</code></pre>

<hr>
<h2 id='poisson.ci'>
Exact Poisson confidence intervals.
</h2><span id='topic+poisson.ci'></span>

<h3>Description</h3>

<p>A wrapper for the <code><a href="stats.html#topic+poisson.test">poisson.test</a></code> that allows for vector values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poisson.ci(x, T = 1, conf.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="poisson.ci_+3A_x">x</code></td>
<td>

<p>number of events.</p>
</td></tr>
<tr><td><code id="poisson.ci_+3A_t">T</code></td>
<td>

<p>time base for event count. 
</p>
</td></tr>
<tr><td><code id="poisson.ci_+3A_conf.level">conf.level</code></td>
<td>

<p>confidence level for the returned confidence interval.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This uses <code>stats::poisson.test</code> for the calculations.
</p>


<h3>Value</h3>

<p>A matrix (or vector) with columns giving lower and upper confidence limits for each parameter. These will be labelled as (1-level)/2 and 1 - (1-level)/2 in % (by default 2.5% and 97.5%).</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+poisson.test">poisson.test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### These are paraphrased from data sets in the ISwR package

## SMR, Welsh Nickel workers
poisson.ci(137, 24.19893)

## eba1977, compare Fredericia to other three cities for ages 55-59
poisson.ci(c(11, 6+8+7), c(800, 1083+1050+878))
</code></pre>

<hr>
<h2 id='popmort'>
popmort dataset, with population-based mortality rates
</h2><span id='topic+popmort'></span>

<h3>Description</h3>

<p>popmort dataset, with population-based mortality rates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("popmort")</code></pre>


<h3>Format</h3>

<p>A data frame with 10600 observations on the following 5 variables.
</p>

<dl>
<dt><code>sex</code></dt><dd><p>a numeric vector</p>
</dd>
<dt>&lsquo;<span class="samp">&#8288;_year&#8288;</span>&rsquo;</dt><dd><p>a numeric vector</p>
</dd>
<dt>&lsquo;<span class="samp">&#8288;_age&#8288;</span>&rsquo;</dt><dd><p>a numeric vector</p>
</dd>
<dt><code>prob</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>rate</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(popmort)
## maybe str(popmort) ; plot(popmort) ...
</code></pre>

<hr>
<h2 id='smoothHaz'>
Simple implementation for kernel density smoothing of the Nelson-Aalen
estimator. 
</h2><span id='topic+smoothHaz'></span><span id='topic+plot.smoothHaz'></span>

<h3>Description</h3>

<p>Simple implementation for kernel density smoothing of the Nelson-Aalen
estimator. Prefer <code>muhaz</code> for right censored data and
<code>bshazard</code> for left truncated and right censored data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smoothHaz(object, n.grid = 300, kernel = "epanechnikov",
          from = NULL, to = NULL, min.n.risk = 1, ...)
## S3 method for class 'smoothHaz'
plot(x, xlab = "Time", ylab = "Hazard", type = "l", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="smoothHaz_+3A_object">object</code></td>
<td>

<p><code>survfit</code> object
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_n.grid">n.grid</code></td>
<td>

<p>number of grid points; passed to <code>density</code>
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_kernel">kernel</code></td>
<td>

<p>kernel used; passed to <code>density</code>
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_from">from</code></td>
<td>

<p>left boundary; passed to <code>density</code>
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_to">to</code></td>
<td>

<p>right boundary; passed to <code>density</code>
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_min.n.risk">min.n.risk</code></td>
<td>

<p>minimum number at risk
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_x">x</code></td>
<td>

<p>object of class <code>smoothHaz</code>
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_xlab">xlab</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_ylab">ylab</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_type">type</code></td>
<td>

<p>graphics argument
</p>
</td></tr>
<tr><td><code id="smoothHaz_+3A_...">...</code></td>
<td>

<p>Other arguments
</p>
</td></tr>
</table>

<hr>
<h2 id='survPHplot'>
Plot to assess non-proportionality
</h2><span id='topic+survPHplot'></span>

<h3>Description</h3>

<p>Plot of log(time) versus -log(-log(survival)) to assess
non-proportionality. A constant distance between curves suggest proportionality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survPHplot(formula, data, subset, contrasts, weights, col = 1:5,
           lty = 1:5, pch = 19, xlab = "Time (log scale)",
           ylab = "-log(-log(Survival))", log = "x",
           legend.args = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survPHplot_+3A_formula">formula</code></td>
<td>

<p>either (i) formula with a <code>Surv</code> object on the left-hand-side and
stratification covariates on the right-hand-side, or (ii) a <code>survfit</code> object
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_data">data</code></td>
<td>

<p>data argument passed to <code>survfit</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_subset">subset</code></td>
<td>

<p>subset argument passed to <code>survfit</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_contrasts">contrasts</code></td>
<td>

<p>contrasts argument passed to <code>survfit</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_weights">weights</code></td>
<td>

<p>weights argument passed to <code>survfit</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_col">col</code></td>
<td>

<p>colours of the curves passed to <code>lines</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_lty">lty</code></td>
<td>

<p>line type of the curves passed to <code>lines</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_pch">pch</code></td>
<td>

<p>pch for the curves passed to <code>points</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_xlab">xlab</code></td>
<td>

<p>xlab graphics argument passed to <code>plot.default</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_ylab">ylab</code></td>
<td>

<p>ylab graphics argument passed to <code>plot.default</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_log">log</code></td>
<td>

<p>log graphics argument passed to <code>plot.default</code>
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_legend.args">legend.args</code></td>
<td>

<p>list of arguments passed to <code>legend</code>. These arguments update the
base arguments, which are
<code>list(x="topright",legend=names(survfit$strata),col=col,lty=lty,pch=pch)</code> 
</p>
</td></tr>
<tr><td><code id="survPHplot_+3A_...">...</code></td>
<td>

<p>Other arguments passed to <code>plot.default</code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default plot is to use straight lines between the transformed
survival values for each strata, rather than using steps.
</p>


<h3>Value</h3>

<p>Primary purpose is for plotting (side effect). The return value is
initial plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>survPHplot(Surv(surv_mm/12, status == "Dead: cancer") ~ year8594,
           data=colon, subset=(stage=="Localised"),
           legend.args=list(bty="n"))
</code></pre>

<hr>
<h2 id='survRate'>
Describe rates
</h2><span id='topic+survRate'></span>

<h3>Description</h3>

<p>Describe rates using the <code><a href="survival.html#topic+Surv">Surv</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survRate(formula, data, subset, addvars = TRUE, ci=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survRate_+3A_formula">formula</code></td>
<td>

<p>formula with the left-hand-side being a <code><a href="survival.html#topic+Surv">Surv</a></code> function and
the right-hand-side being any stratification variables.
</p>
</td></tr>
<tr><td><code id="survRate_+3A_data">data</code></td>
<td>

<p>source dataset
</p>
</td></tr>
<tr><td><code id="survRate_+3A_subset">subset</code></td>
<td>

<p>subset conditions for the source dataset
</p>
</td></tr>
<tr><td><code id="survRate_+3A_addvars">addvars</code></td>
<td>

<p>logical for whether to add the stratification variables to the output
(default=TRUE). This is useful for subsequent analysis.
</p>
</td></tr>
<tr><td><code id="survRate_+3A_ci">ci</code></td>
<td>

<p>logical for whether to calculate the confidence interval (default=TRUE). 
</p>
</td></tr>
<tr><td><code id="survRate_+3A_...">...</code></td>
<td>

<p>other arguments to the <code><a href="stats.html#topic+poisson.test">poisson.test</a></code> function for
calculation of the confidence intervals.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data-frame with columns <code>tstop</code>, <code>event</code>, <code>rate</code>,
<code>lower</code> and <code>upper</code>. Covariates are appended if
<code>addvar=TRUE</code>.
</p>
<p>Confidence intervals use <code>stats::poisson.test</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## incidence rates for CHD for low- or high-energy diets
survRate(Surv(y,chd) ~ hieng, data=diet)
</code></pre>

<hr>
<h2 id='utilities'>
Utility functions for the <code>biostat3</code> package
</h2><span id='topic+updateList'></span><span id='topic+format_perc'></span>

<h3>Description</h3>

<p>Utility functions for the <code>biostat3</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateList(object, ...)
format_perc(probs, digits)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utilities_+3A_object">object</code></td>
<td>

<p>base object (list)
</p>
</td></tr>
<tr><td><code id="utilities_+3A_...">...</code></td>
<td>

<p>arguments to update
</p>
</td></tr>
<tr><td><code id="utilities_+3A_probs">probs</code></td>
<td>

<p>probability to express as a percentage
</p>
</td></tr>
<tr><td><code id="utilities_+3A_digits">digits</code></td>
<td>

<p>number of significant digits
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Update the names in the base <code>object</code> list that are specified in
the arguments to update.
</p>


<h3>Value</h3>

<p>list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  updateList(list(a=1,b=2), a=10, c=30)
</code></pre>

<hr>
<h2 id='year'>
Convert a <code>Date</code> vector to a numeric vector
</h2><span id='topic+year'></span>

<h3>Description</h3>

<p>Convert a <code>Date</code> vector to a numeric vector (either continuous or truncated).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>year(date, trunc = FALSE, year.length = 365.24)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="year_+3A_date">date</code></td>
<td>

<p>Date vector
</p>
</td></tr>
<tr><td><code id="year_+3A_trunc">trunc</code></td>
<td>

<p>logical for whether to truncate the date to a whole year or consider the
date as a double (default).
</p>
</td></tr>
<tr><td><code id="year_+3A_year.length">year.length</code></td>
<td>

<p>assumed length of a year
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the double calculation, we use (truncated year of Date) + (date - 1 Jan of Year)/year.length.
</p>


<h3>Value</h3>

<p>numeric vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  c(year(as.Date("2001-07-01")),year(as.Date("2001-01-01"),trunc=TRUE))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

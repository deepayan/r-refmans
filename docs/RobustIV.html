<!DOCTYPE html><html><head><title>Help for package RobustIV</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RobustIV}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#endo.test'><p>Endogeneity test in high dimensions</p></a></li>
<li><a href='#lineardata'><p>lineardata</p></a></li>
<li><a href='#SearchingSampling'><p>Searching-Sampling</p></a></li>
<li><a href='#summary.endotest'><p>Summary of endotest</p></a></li>
<li><a href='#summary.SS'><p>Summary of SS</p></a></li>
<li><a href='#summary.TSHT'><p>Summary of TSHT</p></a></li>
<li><a href='#TSHT'><p>Two-Stage Hard Thresholding</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Robust Instrumental Variable Methods in Linear Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Inference for the treatment effect with possibly invalid instrumental variables via TSHT('Guo et al.' (2016) &lt;<a href="https://arxiv.org/abs/1603.05224">arXiv:1603.05224</a>&gt;) and SearchingSampling('Guo' (2021) &lt;<a href="https://arxiv.org/abs/2104.06911">arXiv:2104.06911</a>&gt;), which are effective for both low- and high-dimensional covariates and instrumental variables; test of endogeneity in high dimensions ('Guo et al.' (2016) &lt;<a href="https://arxiv.org/abs/1609.06713">arXiv:1609.06713</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/zijguo/RobustIV">https://github.com/zijguo/RobustIV</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>glmnet, MASS, Matrix, igraph, intervals, CVXR</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-12-13 13:20:08 UTC; taehyeon</td>
</tr>
<tr>
<td>Author:</td>
<td>Taehyeon Koo [aut],
  Zhenyu Wang [aut],
  Hyunseung Kang [ctb],
  Dylan Small [ctb],
  Zijian Guo [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zijian Guo &lt;zijguo@stat.rutgers.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-12-20 01:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='endo.test'>Endogeneity test in high dimensions</h2><span id='topic+endo.test'></span>

<h3>Description</h3>

<p>Conduct the endogeneity test with high dimensional and possibly invalid instrumental variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>endo.test(
  Y,
  D,
  Z,
  X,
  intercept = TRUE,
  invalid = FALSE,
  method = c("Fast.DeLasso", "DeLasso", "OLS"),
  voting = c("MP", "MaxClique"),
  alpha = 0.05,
  tuning.1st = NULL,
  tuning.2nd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="endo.test_+3A_y">Y</code></td>
<td>
<p>The outcome observation, a vector of length <code class="reqn">n</code>.</p>
</td></tr>
<tr><td><code id="endo.test_+3A_d">D</code></td>
<td>
<p>The treatment observation, a vector of length <code class="reqn">n</code>.</p>
</td></tr>
<tr><td><code id="endo.test_+3A_z">Z</code></td>
<td>
<p>The instrument observation of dimension <code class="reqn">n \times p_z</code>.</p>
</td></tr>
<tr><td><code id="endo.test_+3A_x">X</code></td>
<td>
<p>The covariates observation of dimension <code class="reqn">n \times p_x</code>.</p>
</td></tr>
<tr><td><code id="endo.test_+3A_intercept">intercept</code></td>
<td>
<p>Whether the intercept is included. (default = <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="endo.test_+3A_invalid">invalid</code></td>
<td>
<p>If <code>TRUE</code>, the method is robust to the presence of possibly invalid IVs; If <code>FALSE</code>, the method assumes all IVs to be valid. (default = <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="endo.test_+3A_method">method</code></td>
<td>
<p>The method used to estimate the reduced form parameters. <code>"OLS"</code> stands for ordinary least squares, <code>"DeLasso"</code> stands for the debiased Lasso estimator, and <code>"Fast.DeLasso"</code> stands for the debiased Lasso estimator with fast algorithm. (default = <code>"Fast.DeLasso"</code>)</p>
</td></tr>
<tr><td><code id="endo.test_+3A_voting">voting</code></td>
<td>
<p>The voting option used to estimate valid IVs. <code>'MP'</code> stnads for majority and plurality voting, <code>'MaxClique'</code> stands for maximum clique in the IV voting matrix. (default = <code>'MP'</code>)</p>
</td></tr>
<tr><td><code id="endo.test_+3A_alpha">alpha</code></td>
<td>
<p>The significance level for the confidence interval. (default = <code>0.05</code>)</p>
</td></tr>
<tr><td><code id="endo.test_+3A_tuning.1st">tuning.1st</code></td>
<td>
<p>The tuning parameter used in the 1st stage to select relevant instruments. If <code>NULL</code>, it will be generated data-dependently, see Details. (default=<code>NULL</code>)</p>
</td></tr>
<tr><td><code id="endo.test_+3A_tuning.2nd">tuning.2nd</code></td>
<td>
<p>The tuning parameter used in the 2nd stage to select valid instruments. If <code>NULL</code>, it will be generated data-dependently, see Details. (default=<code>NULL</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>voting = MaxClique</code> and there are multiple maximum cliques, the null hypothesis is rejected if one of maximum clique rejects the null.
As for tuning parameter in the 1st stage and 2nd stage, if do not specify, for method &quot;OLS&quot; we adopt <code class="reqn">\sqrt{\log n}</code> for both tuning parameters, and for other methods
we adopt <code class="reqn">\max{(\sqrt{2.01 \log p_z}, \sqrt{\log n})}</code> for both tuning parameters.
</p>


<h3>Value</h3>

<p><code>endo.test</code> returns an object of class &quot;endotest&quot;, which is a list containing the following components:
</p>
<table>
<tr><td><code>Q</code></td>
<td>
<p>The test statistic.</p>
</td></tr>
<tr><td><code>Sigma12</code></td>
<td>
<p>The estimated covaraince of the regression errors.</p>
</td></tr>
<tr><td><code>SHat</code></td>
<td>
<p>The set of selected relevant IVs.</p>
</td></tr>
<tr><td><code>VHat</code></td>
<td>
<p>The set of selected vaild IVs.</p>
</td></tr>
<tr><td><code>p.value</code></td>
<td>
<p>The p-value of the endogeneity test.</p>
</td></tr>
<tr><td><code>check</code></td>
<td>
<p>The indicator that <code class="reqn">H_0:\Sigma_{12}=0</code> is rejected.</p>
</td></tr>
</table>


<h3>References</h3>


<p>Guo, Z., Kang, H., Tony Cai, T. and Small, D.S. (2018), Testing endogeneity with high dimensional covariates, <em>Journal of Econometrics</em>, Elsevier, vol. 207(1), pages 175-187. <br />

</p>


<h3>Examples</h3>

<pre><code class='language-R'>
n = 500; L = 11; s = 3; k = 10; px = 10;
beta = 1; gamma = c(rep(1,k),rep(0,L-k))
phi&lt;-(1/px)*seq(1,px)+0.5; psi&lt;-(1/px)*seq(1,px)+1
epsilonSigma = matrix(c(1,0.8,0.8,1),2,2)
Z = matrix(rnorm(n*L),n,L)
X = matrix(rnorm(n*px),n,px)
epsilon = MASS::mvrnorm(n,rep(0,2),epsilonSigma)
D =  0.5 + Z %*% gamma + X %*% psi + epsilon[,1]
Y = -0.5 + Z %*% c(rep(1,s),rep(0,L-s)) + D * beta + X %*% phi + epsilon[,2]
endo.test.model &lt;- endo.test(Y,D,Z,X,invalid = TRUE)
summary(endo.test.model)


</code></pre>

<hr>
<h2 id='lineardata'>lineardata</h2><span id='topic+lineardata'></span>

<h3>Description</h3>

<p>Psuedo data provided by Youjin Lee, which is generated mimicing the structure of Framingham Heart Study data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(lineardata)
</code></pre>


<h3>Format</h3>

<p>A data.frame with 1445 observations on 12 variables:
</p>

<ul>
<li> <p><strong>Y:</strong> The globulin level.
</p>
</li>
<li> <p><strong>D:</strong> The LDL-C level.
</p>
</li>
<li> <p><strong>Z.1:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>Z.2:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>Z.3:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>Z.4:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>Z.5:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>Z.6:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>Z.7:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>Z.8:</strong> SNP genotypes.
</p>
</li>
<li> <p><strong>age:</strong> the age of the subject.
</p>
</li>
<li> <p><strong>sex:</strong> the sex of the subject.
</p>
</li></ul>



<h3>Source</h3>

<p>The Framingham Heart Study data supported by the National Heart, Lung, and Blood Institute (NHLBI) in collaboration with Boston University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(lineardata)
</code></pre>

<hr>
<h2 id='SearchingSampling'>Searching-Sampling</h2><span id='topic+SearchingSampling'></span>

<h3>Description</h3>

<p>Construct Searching and Sampling confidence intervals for the causal effect, which provides the robust inference of the treatment effect in the presence of invalid instrumental variables in both low-dimensional and high-dimensional settings. It is robust to the mistakes in separating valid and invalid instruments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SearchingSampling(
  Y,
  D,
  Z,
  X = NULL,
  intercept = TRUE,
  method = c("OLS", "DeLasso", "Fast.DeLasso"),
  robust = TRUE,
  Sampling = TRUE,
  alpha = 0.05,
  CI.init = NULL,
  a = 0.6,
  rho = NULL,
  M = 1000,
  prop = 0.1,
  filtering = TRUE,
  tuning.1st = NULL,
  tuning.2nd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SearchingSampling_+3A_y">Y</code></td>
<td>
<p>The outcome observation, a vector of length <code class="reqn">n</code>.</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_d">D</code></td>
<td>
<p>The treatment observation, a vector of length <code class="reqn">n</code>.</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_z">Z</code></td>
<td>
<p>The instrument observation of dimension <code class="reqn">n \times p_z</code>.</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_x">X</code></td>
<td>
<p>The covariates observation of dimension <code class="reqn">n \times p_x</code>.</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_intercept">intercept</code></td>
<td>
<p>Whether the intercept is included. (default = <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_method">method</code></td>
<td>
<p>The method used to estimate the reduced form parameters. <code>"OLS"</code> stands for ordinary least squares, <code>"DeLasso"</code> stands for the debiased Lasso estimator, and <code>"Fast.DeLasso"</code> stands for the debiased Lasso estimator with fast algorithm. (default = <code>"OLS"</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_robust">robust</code></td>
<td>
<p>If <code>TRUE</code>, the method is robust to heteroskedastic errors. If <code>FALSE</code>, the method assumes homoskedastic errors.  (default = <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_sampling">Sampling</code></td>
<td>
<p>If <code>TRUE</code>, use the proposed sampling method; else use the proposed searching method. (default=<code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_alpha">alpha</code></td>
<td>
<p>The significance level (default=<code>0.05</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_ci.init">CI.init</code></td>
<td>
<p>An initial range for beta. If <code>NULL</code>, it will be generated automatically. (default=<code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_a">a</code></td>
<td>
<p>The grid size for constructing beta grids. (default=<code>0.6</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_rho">rho</code></td>
<td>
<p>The shrinkage parameter for the sampling method. (default=<code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_m">M</code></td>
<td>
<p>The resampling size for the sampling method. (default = <code>1000</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_prop">prop</code></td>
<td>
<p>The proportion of non-empty intervals used for the sampling method. (default=<code>0.1</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_filtering">filtering</code></td>
<td>
<p>Filtering the resampled data or not. (default=<code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_tuning.1st">tuning.1st</code></td>
<td>
<p>The tuning parameter used in the 1st stage to select relevant instruments. If <code>NULL</code>, it will be generated data-dependently, see Details. (default=<code>NULL</code>)</p>
</td></tr>
<tr><td><code id="SearchingSampling_+3A_tuning.2nd">tuning.2nd</code></td>
<td>
<p>The tuning parameter used in the 2nd stage to select valid instruments. If <code>NULL</code>, it will be generated data-dependently, see Details. (default=<code>NULL</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>robust = TRUE</code>, the <code>method</code> will be input as <code>’OLS’</code>. For <code>rho</code>, <code>M</code>, <code>prop</code>, and <code>filtering</code>, they are required only for <code>Sampling = TRUE</code>.
As for tuning parameter in the 1st stage and 2nd stage, if do not specify, for method &quot;OLS&quot; we adopt <code class="reqn">\sqrt{\log n}</code> for both tuning parameters, and for other methods
we adopt <code class="reqn">\max{(\sqrt{2.01 \log p_z}, \sqrt{\log n})}</code> for both tuning parameters.
</p>


<h3>Value</h3>

<p><code>SearchingSampling</code> returns an object of class &quot;SS&quot;, which is a list containing the following components:
</p>
<table>
<tr><td><code>ci</code></td>
<td>
<p>1-alpha confidence interval for beta.</p>
</td></tr>
<tr><td><code>SHat</code></td>
<td>
<p>The set of selected relevant IVs.</p>
</td></tr>
<tr><td><code>VHat</code></td>
<td>
<p>The initial set of selected relevant and valid IVs.</p>
</td></tr>
<tr><td><code>check</code></td>
<td>
<p>The indicator that the plurality rule is satisfied.</p>
</td></tr>
</table>


<h3>References</h3>


<p>Guo, Z. (2021), Causal Inference with Invalid Instruments: Post-selection Problems and A Solution Using Searching and Sampling, Preprint <em>arXiv:2104.06911</em>. <br />

</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("lineardata")
Y &lt;- lineardata[,"Y"]
D &lt;- lineardata[,"D"]
Z &lt;- as.matrix(lineardata[,c("Z.1","Z.2","Z.3","Z.4","Z.5","Z.6","Z.7","Z.8")])
X &lt;- as.matrix(lineardata[,c("age","sex")])
Searching.model &lt;- SearchingSampling(Y,D,Z,X, Sampling = FALSE)
summary(Searching.model)
Sampling.model &lt;- SearchingSampling(Y,D,Z,X)
summary(Sampling.model)


</code></pre>

<hr>
<h2 id='summary.endotest'>Summary of endotest</h2><span id='topic+summary.endotest'></span>

<h3>Description</h3>

<p>Summary function for endo.test
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'endotest'
summary(object, ...)
</code></pre>


<h3>Value</h3>

<p>No return value, called for summary.
</p>

<hr>
<h2 id='summary.SS'>Summary of SS</h2><span id='topic+summary.SS'></span>

<h3>Description</h3>

<p>Summary function for SearchingSampling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SS'
summary(object, ...)
</code></pre>


<h3>Value</h3>

<p>No return value, called for summary.
</p>

<hr>
<h2 id='summary.TSHT'>Summary of TSHT</h2><span id='topic+summary.TSHT'></span>

<h3>Description</h3>

<p>Summary function for TSHT
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'TSHT'
summary(object, ...)
</code></pre>


<h3>Value</h3>

<p>No return value, called for summary.
</p>

<hr>
<h2 id='TSHT'>Two-Stage Hard Thresholding</h2><span id='topic+TSHT'></span>

<h3>Description</h3>

<p>Perform Two-Stage Hard Thresholding method, which provides the robust inference of the treatment effect in the presence of invalid instrumental variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TSHT(
  Y,
  D,
  Z,
  X,
  intercept = TRUE,
  method = c("OLS", "DeLasso", "Fast.DeLasso"),
  voting = c("MaxClique", "MP", "Conservative"),
  robust = TRUE,
  alpha = 0.05,
  tuning.1st = NULL,
  tuning.2nd = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TSHT_+3A_y">Y</code></td>
<td>
<p>The outcome observation, a vector of length <code class="reqn">n</code>.</p>
</td></tr>
<tr><td><code id="TSHT_+3A_d">D</code></td>
<td>
<p>The treatment observation, a vector of length <code class="reqn">n</code>.</p>
</td></tr>
<tr><td><code id="TSHT_+3A_z">Z</code></td>
<td>
<p>The instrument observation of dimension <code class="reqn">n \times p_z</code>.</p>
</td></tr>
<tr><td><code id="TSHT_+3A_x">X</code></td>
<td>
<p>The covariates observation of dimension <code class="reqn">n \times p_x</code>.</p>
</td></tr>
<tr><td><code id="TSHT_+3A_intercept">intercept</code></td>
<td>
<p>Whether the intercept is included. (default = <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="TSHT_+3A_method">method</code></td>
<td>
<p>The method used to estimate the reduced form parameters. <code>"OLS"</code> stands for ordinary least squares, <code>"DeLasso"</code> stands for the debiased Lasso estimator, and <code>"Fast.DeLasso"</code> stands for the debiased Lasso estimator with fast algorithm. (default = <code>"OLS"</code>)</p>
</td></tr>
<tr><td><code id="TSHT_+3A_voting">voting</code></td>
<td>
<p>The voting option used to estimate valid IVs. <code>'MP'</code> stands for majority and plurality voting, <code>'MaxClique'</code> stands for finding maximal clique in the IV voting matrix, and <code>'Conservative'</code> stands for conservative voting procedure. Conservative voting is used to get an initial estimator of valid IVs in the Searching-Sampling method. (default= <code>'MaxClique'</code>).</p>
</td></tr>
<tr><td><code id="TSHT_+3A_robust">robust</code></td>
<td>
<p>If <code>TRUE</code>, the method is robust to heteroskedastic errors. If <code>FALSE</code>, the method assumes homoskedastic errors. (default = <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="TSHT_+3A_alpha">alpha</code></td>
<td>
<p>The significance level for the confidence interval. (default = <code>0.05</code>)</p>
</td></tr>
<tr><td><code id="TSHT_+3A_tuning.1st">tuning.1st</code></td>
<td>
<p>The tuning parameter used in the 1st stage to select relevant instruments. If <code>NULL</code>, it will be generated data-dependently, see Details. (default=<code>NULL</code>)</p>
</td></tr>
<tr><td><code id="TSHT_+3A_tuning.2nd">tuning.2nd</code></td>
<td>
<p>The tuning parameter used in the 2nd stage to select valid instruments. If <code>NULL</code>, it will be generated data-dependently, see Details. (default=<code>NULL</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>robust = TRUE</code>, the <code>method</code> will be input as <code>’OLS’</code>.
When <code>voting = MaxClique</code> and there are multiple maximum cliques, <code>betaHat</code>,<code>beta.sdHat</code>,<code>ci</code>, and <code>VHat</code> will be list objects
where each element of list corresponds to each maximum clique.
As for tuning parameter in the 1st stage and 2nd stage, if do not specify, for method &quot;OLS&quot; we adopt <code class="reqn">\sqrt{\log n}</code> for both tuning parameters, and for other methods
we adopt <code class="reqn">\max{(\sqrt{2.01 \log p_z}, \sqrt{\log n})}</code> for both tuning parameters.
</p>


<h3>Value</h3>

<p><code>TSHT</code> returns an object of class &quot;TSHT&quot;, which is a list containing the following components:
</p>
<table>
<tr><td><code>betaHat</code></td>
<td>
<p>The estimate of treatment effect.</p>
</td></tr>
<tr><td><code>beta.sdHat</code></td>
<td>
<p>The estimated standard error of <code>betaHat</code>.</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>The 1-alpha confidence interval for <code>beta</code>.</p>
</td></tr>
<tr><td><code>SHat</code></td>
<td>
<p>The set of selected relevant IVs.</p>
</td></tr>
<tr><td><code>VHat</code></td>
<td>
<p>The set of selected relevant and valid IVs.</p>
</td></tr>
<tr><td><code>voting.mat</code></td>
<td>
<p>The voting matrix.</p>
</td></tr>
<tr><td><code>check</code></td>
<td>
<p>The indicator that the majority rule is satisfied.</p>
</td></tr>
</table>


<h3>References</h3>


<p>Guo, Z., Kang, H., Tony Cai, T. and Small, D.S. (2018), Confidence intervals for causal effects with invalid instruments by using two-stage hard thresholding with voting, <em>J. R. Stat. Soc. B</em>, 80: 793-815. <br />

</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("lineardata")
Y &lt;- lineardata[,"Y"]
D &lt;- lineardata[,"D"]
Z &lt;- as.matrix(lineardata[,c("Z.1","Z.2","Z.3","Z.4","Z.5","Z.6","Z.7","Z.8")])
X &lt;- as.matrix(lineardata[,c("age","sex")])
TSHT.model &lt;- TSHT(Y=Y,D=D,Z=Z,X=X)
summary(TSHT.model)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

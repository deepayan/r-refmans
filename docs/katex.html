<!DOCTYPE html><html><head><title>Help for package katex</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {katex}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#katex'><p>Tex math rendering in R</p></a></li>
<li><a href='#math_to_rd'><p>Display math in R documentation</p></a></li>
<li><a href='#pandoc'><p>Renders math in HTML document</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Rendering Math to HTML, 'MathML', or R-Documentation Format</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Convert latex math expressions to HTML and 'MathML' for use in 
    markdown documents or package manual pages. The rendering is done in 
    R using the V8 engine (i.e. server-side), which eliminates the need 
    for embedding the 'MathJax' library into your web pages. In addition
    a 'math-to-rd' wrapper is provided to automatically render beautiful
    math in R documentation files.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/katex/">https://docs.ropensci.org/katex/</a>,
<a href="https://github.com/ropensci/katex">https://github.com/ropensci/katex</a>
<a href="https://katex.org/docs/options.html">https://katex.org/docs/options.html</a> (upstream)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/katex/issues">https://github.com/ropensci/katex/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>V8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-28 13:14:52 UTC; jeroen</td>
</tr>
<tr>
<td>Author:</td>
<td>Jeroen Ooms <a href="https://orcid.org/0000-0002-4035-0289"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Khan Academy and other contributors [cph] (KaTeX JavaScript library)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jeroen Ooms &lt;jeroen@berkeley.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-28 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='katex'>Tex math rendering in R</h2><span id='topic+katex'></span><span id='topic+katex_html'></span><span id='topic+katex_mathml'></span><span id='topic+example_math'></span>

<h3>Description</h3>

<p>Converts tex-style math expressions to html and mathml for use in manual pages or
markdown documents.
The conversion is done in R using V8 (&quot;server-side&quot;), hence the resulting fragment can
be inserted into an HTML document without the need for a JavaScript library like MathJax.
Only the <a href="https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css">katex.css</a>
style file is required in the final html document.
Use <a href="#topic+math_to_rd">math_to_rd</a> for embedding math into R documentation (<code>.rd</code>) pages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>katex_html(
  tex,
  displayMode = TRUE,
  ...,
  include_css = FALSE,
  preview = interactive()
)

katex_mathml(tex, displayMode = TRUE, ...)

example_math()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="katex_+3A_tex">tex</code></td>
<td>
<p>input string with tex math expression.</p>
</td></tr>
<tr><td><code id="katex_+3A_displaymode">displayMode</code></td>
<td>
<p>render math in centered 2D layout, similar to <code style="white-space: pre;">&#8288;$$&#8288;</code> in tex.
Set to <code>FALSE</code> to render (non-centered) inline layout for use in text.
For pdf output, this corresponds to the <code style="white-space: pre;">&#8288;\deqn{}&#8288;</code> and <code style="white-space: pre;">&#8288;\eqn{}&#8288;</code> macros, see
<a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Mathematics">WRE 2.6: Mathematics</a></p>
</td></tr>
<tr><td><code id="katex_+3A_...">...</code></td>
<td>
<p>additional html rendering options passed to
<a href="https://katex.org/docs/options.html">katex.render</a></p>
</td></tr>
<tr><td><code id="katex_+3A_include_css">include_css</code></td>
<td>
<p>adds the katex css file to the output.
This is only required once per html webpage. Set to <code>FALSE</code> if you include css
files into the your html head some other way.</p>
</td></tr>
<tr><td><code id="katex_+3A_preview">preview</code></td>
<td>
<p>open an HTML preview page showing the snipped in the browser</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Refer to the upstream <a href="https://katex.org/docs/support_table.html">katex support table</a> for
the full list of supported tex functions that can be rendered to html using katex.
</p>
<p>By default, <a href="#topic+katex_html">katex_html</a> returns a mix of HTML for visual rendering and includes
MathML for accessibility. To only get html, pass <code>output="html"</code> in the extra options,
see also the <a href="https://katex.org/docs/options.html">katex documentation</a>.
</p>


<h3>Value</h3>

<p>a string with a html/mathml fragment
</p>


<h3>See Also</h3>

<p>Other katex: 
<code><a href="#topic+math_to_rd">math_to_rd</a>()</code>,
<code><a href="#topic+pandoc">pandoc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Basic examples
html &lt;- katex_html(example_math())
mathml &lt;- katex_mathml(example_math())

# Example from katex.org homepage:
macros &lt;- list("\\f" = "#1f(#2)")
math &lt;- "\\f\\relax{x} = \\int_{-\\infty}^\\infty \\f\\hat\\xi\\,e^{2 \\pi i \\xi x} \\,d\\xi"
html &lt;- katex_html(math,  macros = macros)
mathml &lt;- katex_mathml(math,  macros = macros)
</code></pre>

<hr>
<h2 id='math_to_rd'>Display math in R documentation</h2><span id='topic+math_to_rd'></span>

<h3>Description</h3>

<p>Helper function to insert tex math expressions into R documentation (<code>.rd</code>) files.
Uses Katex rendering for documentation in html format, and the appropriate latex
macros for documentation rendered in pdf or plain-text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>math_to_rd(tex, ascii = tex, displayMode = TRUE, ..., include_css = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="math_to_rd_+3A_tex">tex</code></td>
<td>
<p>input string with tex math expression.</p>
</td></tr>
<tr><td><code id="math_to_rd_+3A_ascii">ascii</code></td>
<td>
<p>alternate text-only representation of the input math to show in
documentation rendered to plain text format.</p>
</td></tr>
<tr><td><code id="math_to_rd_+3A_displaymode">displayMode</code></td>
<td>
<p>render math in centered 2D layout, similar to <code style="white-space: pre;">&#8288;$$&#8288;</code> in tex.
Set to <code>FALSE</code> to render (non-centered) inline layout for use in text.
For pdf output, this corresponds to the <code style="white-space: pre;">&#8288;\deqn{}&#8288;</code> and <code style="white-space: pre;">&#8288;\eqn{}&#8288;</code> macros, see
<a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Mathematics">WRE 2.6: Mathematics</a></p>
</td></tr>
<tr><td><code id="math_to_rd_+3A_...">...</code></td>
<td>
<p>additional html rendering options passed to
<a href="https://katex.org/docs/options.html">katex.render</a></p>
</td></tr>
<tr><td><code id="math_to_rd_+3A_include_css">include_css</code></td>
<td>
<p>adds the katex css file to the output.
This is only required once per html webpage. Set to <code>FALSE</code> if you include css
files into the your html head some other way.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>math_to_rd()</code> inside <code style="white-space: pre;">&#8288;\Sexpr&#8288;</code> to embed math in your R package documentation
pages. For example the code below can be inserted in your <code>rd</code> (or roxygen)
source code:
</p>
<div class="sourceCode"><pre>\Sexpr[results=rd, stage=build]{
  katex::math_to_rd(katex::example_math())
}
</pre></div>
<p>Which results in the following output:
</p>

<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css" data-external="1">
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mi>σ</mi><msqrt><mrow><mn>2</mn><mi>π</mi></mrow></msqrt></mrow></mfrac><msup><mi>e</mi><mrow><mo>−</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo stretchy="false">(</mo><mfrac><mrow><mi>x</mi><mo>−</mo><mi>μ</mi></mrow><mi>σ</mi></mfrac><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msup></mrow><annotation encoding="application/x-tex">f(x)= {\frac{1}{\sigma\sqrt{2\pi}}}e^{- {\frac {1}{2}} (\frac {x-\mu}{\sigma})^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2514em;vertical-align:-0.93em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.2028em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9072em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span><span style="top:-2.8672em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.1328em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0369em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.879em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">σ</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.4624em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">μ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>

<p>Optionally you can specify an alternate ascii representation that will be shown in
the plain-text format rendering of the documentation:
</p>
<div class="sourceCode"><pre>\Sexpr[results=rd, stage=build]{
  katex::math_to_rd('E=MC^2', 'E=mc²')
}
</pre></div>

<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.3/dist/katex.min.css" data-external="1">
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mi>M</mi><msup><mi>C</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">E=MC^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span>

<p>If no ascii representation is given, the input tex in displayed verbatim into the
plain-text documentation.
</p>


<h3>Value</h3>

<p>a string with an rd fragment to be included in R documentation
</p>


<h3>Note for Windows</h3>

<p>On Windows, R versions before 4.1.2 had a <a href="https://bugs.r-project.org/show_bug.cgi?id=18152">bug</a>
which could lead to incorrect HTML encoding for <code style="white-space: pre;">&#8288;\Sexpr{}&#8288;</code> output.
As a workaround, we automatically escape non-ascii html characters
on these versions of R. Linux and MacOS are unaffected.
</p>


<h3>See Also</h3>

<p>Other katex: 
<code><a href="#topic+katex">katex</a></code>,
<code><a href="#topic+pandoc">pandoc</a></code>
</p>

<hr>
<h2 id='pandoc'>Renders math in HTML document</h2><span id='topic+pandoc'></span><span id='topic+render_math_in_html'></span>

<h3>Description</h3>

<p>Reads an html file and substitutes elements of class <code>"math display"</code> and
<code>"math inline"</code> with rendered html math. This is mainly intended as a
post-processing step for pandoc, which generates such html for equations.
As a result the math can be displayed without the need for including the
mathjax library in the html document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_math_in_html(
  input,
  output = NULL,
  ...,
  throwOnError = FALSE,
  include_css = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pandoc_+3A_input">input</code></td>
<td>
<p>path to the html input file</p>
</td></tr>
<tr><td><code id="pandoc_+3A_output">output</code></td>
<td>
<p>path to the output html file, or NULL to return as string</p>
</td></tr>
<tr><td><code id="pandoc_+3A_...">...</code></td>
<td>
<p>additional html rendering options passed to
<a href="https://katex.org/docs/options.html">katex.render</a></p>
</td></tr>
<tr><td><code id="pandoc_+3A_throwonerror">throwOnError</code></td>
<td>
<p>should invalid math raise an error in R? See <a href="https://katex.org/docs/options.html">katex options</a></p>
</td></tr>
<tr><td><code id="pandoc_+3A_include_css">include_css</code></td>
<td>
<p>automatically inject the required katex css in the html head</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other katex: 
<code><a href="#topic+katex">katex</a></code>,
<code><a href="#topic+math_to_rd">math_to_rd</a>()</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

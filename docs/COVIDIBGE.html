<!DOCTYPE html><html><head><title>Help for package COVIDIBGE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {COVIDIBGE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#covid_deflator'><p>Add deflator variables to PNAD COVID19 microdata</p></a></li>
<li><a href='#covid_design'><p>Create PNAD COVID19 survey object with its sample design</p></a></li>
<li><a href='#covid_example'><p>Get the path of the PNAD COVID19 toy example files</p></a></li>
<li><a href='#covid_labeller'><p>Label categorical variables from PNAD COVID19 microdata</p></a></li>
<li><a href='#get_covid'><p>Download, label, deflate and create survey design object for PNAD COVID19 microdata</p></a></li>
<li><a href='#read_covid'><p>Read PNAD COVID19 microdata</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Downloading, Reading and Analyzing PNAD COVID19 Microdata</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools for downloading, reading and analyzing the COVID19 National
  Household Sample Survey - PNAD COVID19, a household survey from Brazilian Institute
  of Geography and Statistics - IBGE. The data must be downloaded from the official
  website <a href="https://www.ibge.gov.br/">https://www.ibge.gov.br/</a>. Further analysis must be made using package 'survey'.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, magrittr, projmgr, RCurl, readr, readxl, survey,
tibble, timeDate, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>convey, SIPDIBGE, srvyr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Author:</td>
<td>Gabriel Assuncao [aut, cre],
  Luna Hidalgo [aut],
  Douglas Braga [ctb],
  Viviane Quintaes [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gabriel Assuncao &lt;pacotesipd@ibge.gov.br&gt;</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Gabriel-Assuncao/COVIDIBGE/issues">https://github.com/Gabriel-Assuncao/COVIDIBGE/issues</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-01 13:34:54 UTC; gabriel.assuncao</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-01 15:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='covid_deflator'>Add deflator variables to PNAD COVID19 microdata</h2><span id='topic+covid_deflator'></span>

<h3>Description</h3>

<p>This function adds deflator variables to PNAD COVID19 microdata. For deflation of income variables, the documentation provided through the following address must be used: <a href="https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Documentacao/COVIDIBGE_Deflator.pdf">https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Documentacao/COVIDIBGE_Deflator.pdf</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covid_deflator(data_covid, deflator.file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covid_deflator_+3A_data_covid">data_covid</code></td>
<td>
<p>A tibble of PNAD COVID19 microdata read with <code>read_covid</code> function.</p>
</td></tr>
<tr><td><code id="covid_deflator_+3A_deflator.file">deflator.file</code></td>
<td>
<p>The deflator file for selected survey available on official website: (select the deflator zip file) - <a href="https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Documentacao/">https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Documentacao/</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the data provided from PNAD COVID19 survey and the deflator variables added for use.
</p>


<h3>Note</h3>

<p>For more information, visit the survey official website &lt;<a href="https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e">https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e</a>&gt; and consult the other functions of this package, described below.
</p>


<h3>See Also</h3>

<p><a href="#topic+get_covid">get_covid</a> for downloading, labeling, deflating and creating survey design object for PNAD COVID19 microdata.<br /> <a href="#topic+read_covid">read_covid</a> for reading PNAD COVID19 microdata.<br /> <a href="#topic+covid_labeller">covid_labeller</a> for labeling categorical variables from PNAD COVID19 microdata.<br /> <a href="#topic+covid_design">covid_design</a> for creating PNAD COVID19 survey design object.<br /> <a href="#topic+covid_example">covid_example</a> for getting the path of the PNAD COVID19 toy example files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using data read from disk
data_path &lt;- covid_example(path="exampledata.csv")
dictionary.path &lt;- covid_example(path="dictionaryexample.xls")
deflator.path &lt;- covid_example(path="deflatorexample.xls")
covid.df &lt;- read_covid(microdata=data_path, vars=c("C001","C002"))
covid.df &lt;- covid_labeller(data_covid=covid.df, dictionary.file=dictionary.path)
covid.df &lt;- covid_deflator(data_covid=covid.df, deflator.file=deflator.path)

# Downloading data
covid.df2 &lt;- get_covid(year=2020, month=5, vars=c("C001","C002"),
                       labels=TRUE, deflator=FALSE, design=FALSE,
                       reload=TRUE, curlopts=list(), savedir=tempdir())
deflator.path2 &lt;- covid_example(path="deflatorexample.xls")
covid.df2 &lt;- covid_deflator(data_covid=covid.df2, deflator.file=deflator.path2)
</code></pre>

<hr>
<h2 id='covid_design'>Create PNAD COVID19 survey object with its sample design</h2><span id='topic+covid_design'></span>

<h3>Description</h3>

<p>This function creates PNAD COVID19 survey object with its sample design for analysis using <code>survey</code> package functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covid_design(data_covid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covid_design_+3A_data_covid">data_covid</code></td>
<td>
<p>A tibble of PNAD COVID19 microdata read with <code>read_covid</code> function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>survey.design</code> or <code>svyrep.design</code> with the data from PNAD COVID19 and its sample design.
</p>


<h3>Note</h3>

<p>For more information, visit the survey official website &lt;<a href="https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e">https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e</a>&gt; and consult the other functions of this package, described below.
</p>


<h3>See Also</h3>

<p><a href="#topic+get_covid">get_covid</a> for downloading, labeling, deflating and creating survey design object for PNAD COVID19 microdata.<br /> <a href="#topic+read_covid">read_covid</a> for reading PNAD COVID19 microdata.<br /> <a href="#topic+covid_labeller">covid_labeller</a> for labeling categorical variables from PNAD COVID19 microdata.<br /> <a href="#topic+covid_deflator">covid_deflator</a> for adding deflator variables to PNAD COVID19 microdata.<br /> <a href="#topic+covid_example">covid_example</a> for getting the path of the PNAD COVID19 toy example files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using data read from disk
data_path &lt;- covid_example(path="exampledata.csv")
dictionary.path &lt;- covid_example(path="dictionaryexample.xls")
deflator.path &lt;- covid_example(path="deflatorexample.xls")
covid.df &lt;- read_covid(microdata=data_path, vars=c("C001","C002"))
covid.df &lt;- covid_labeller(data_covid=covid.df, dictionary.file=dictionary.path)
covid.df &lt;- covid_deflator(data_covid=covid.df, deflator.file=deflator.path)

covid.svy &lt;- covid_design(data_covid=covid.df)
# Calculating proportion of people temporarily away from work
if (!is.null(covid.svy)) survey::svymean(x=~C002, design=covid.svy, na.rm=TRUE)

# Downloading data
covid.df2 &lt;- get_covid(year=2020, month=5, vars=c("C001","C002"),
                       labels=TRUE, deflator=TRUE, design=FALSE,
                       reload=TRUE, curlopts=list(), savedir=tempdir())
covid.svy2 &lt;- covid_design(data_covid=covid.df2)
# Calculating proportion of people temporarily away from work
if (!is.null(covid.svy2)) survey::svymean(x=~C002, design=covid.svy2, na.rm=TRUE)
</code></pre>

<hr>
<h2 id='covid_example'>Get the path of the PNAD COVID19 toy example files</h2><span id='topic+covid_example'></span>

<h3>Description</h3>

<p>This function provides the path of the microdata from month 5 of year 2020 of the PNAD COVID19 toy example files, loaded with this package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covid_example(path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covid_example_+3A_path">path</code></td>
<td>
<p>Name of file. If <code>NULL</code>, the PNAD COVID19 toy example files names will be listed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with names of all the available PNAD COVID19 toy example files or the path for specific requested PNAD COVID19 toy example file.
</p>


<h3>Note</h3>

<p>For more information, visit the survey official website &lt;<a href="https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e">https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e</a>&gt; and consult the other functions of this package, described below.
</p>


<h3>See Also</h3>

<p><a href="#topic+get_covid">get_covid</a> for downloading, labeling, deflating and creating survey design object for PNAD COVID19 microdata.<br /> <a href="#topic+read_covid">read_covid</a> for reading PNAD COVID19 microdata.<br /> <a href="#topic+covid_labeller">covid_labeller</a> for labeling categorical variables from PNAD COVID19 microdata.<br /> <a href="#topic+covid_deflator">covid_deflator</a> for adding deflator variables to PNAD COVID19 microdata.<br /> <a href="#topic+covid_design">covid_design</a> for creating PNAD COVID19 survey design object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>covid_example()
covid_example(path="exampledata.csv")
covid_example(path="dictionaryexample.xls")
covid_example(path="deflatorexample.xls")
</code></pre>

<hr>
<h2 id='covid_labeller'>Label categorical variables from PNAD COVID19 microdata</h2><span id='topic+covid_labeller'></span>

<h3>Description</h3>

<p>This function labels categorical variables from PNAD COVID19 microdata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covid_labeller(data_covid, dictionary.file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covid_labeller_+3A_data_covid">data_covid</code></td>
<td>
<p>A tibble of PNAD COVID19 microdata read with <code>read_covid</code> function.</p>
</td></tr>
<tr><td><code id="covid_labeller_+3A_dictionary.file">dictionary.file</code></td>
<td>
<p>The dictionary file for selected survey available on official website: (select a dictionary xls file) - <a href="https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Documentacao/">https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Documentacao/</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the data provided from PNAD COVID19 survey and its categorical variables as factors with related labels.
</p>


<h3>Note</h3>

<p>For more information, visit the survey official website &lt;<a href="https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e">https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e</a>&gt; and consult the other functions of this package, described below.
</p>


<h3>See Also</h3>

<p><a href="#topic+get_covid">get_covid</a> for downloading, labeling, deflating and creating survey design object for PNAD COVID19 microdata.<br /> <a href="#topic+read_covid">read_covid</a> for reading PNAD COVID19 microdata.<br /> <a href="#topic+covid_deflator">covid_deflator</a> for adding deflator variables to PNAD COVID19 microdata.<br /> <a href="#topic+covid_design">covid_design</a> for creating PNAD COVID19 survey design object.<br /> <a href="#topic+covid_example">covid_example</a> for getting the path of the PNAD COVID19 toy example files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using data read from disk
data_path &lt;- covid_example(path="exampledata.csv")
dictionary.path &lt;- covid_example(path="dictionaryexample.xls")
covid.df &lt;- read_covid(microdata=data_path, vars=c("C001","C002"))
covid.df &lt;- covid_labeller(data_covid=covid.df, dictionary.file=dictionary.path)

# Downloading data
covid.df2 &lt;- get_covid(year=2020, month=5, vars=c("C001","C002"),
                       labels=FALSE, deflator=FALSE, design=FALSE,
                       reload=TRUE, curlopts=list(), savedir=tempdir())
dictionary.path2 &lt;- covid_example(path="dictionaryexample.xls")
covid.df2 &lt;- covid_labeller(data_covid=covid.df2, dictionary.file=dictionary.path2)
</code></pre>

<hr>
<h2 id='get_covid'>Download, label, deflate and create survey design object for PNAD COVID19 microdata</h2><span id='topic+get_covid'></span>

<h3>Description</h3>

<p>Core function of package. With this function only, the user can download a PNAD COVID19 microdata from a month and get a sample design object ready to use with <code>survey</code> package functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_covid(
  year,
  month,
  vars = NULL,
  labels = TRUE,
  deflator = TRUE,
  design = TRUE,
  reload = TRUE,
  curlopts = list(),
  savedir = tempdir()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_covid_+3A_year">year</code></td>
<td>
<p>The year of the data to be downloaded. Must be a number equal to 2020. Vector not accepted.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_month">month</code></td>
<td>
<p>The month of the year of the data to be downloaded. Must be number from 5 to 11. Vector not accepted.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_vars">vars</code></td>
<td>
<p>Vector of variable names to be kept for analysis. Default is to keep all variables.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_labels">labels</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, categorical variables will presented as factors with labels corresponding to the survey's dictionary.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_deflator">deflator</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, deflator variables will be available for use in the microdata.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_design">design</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, will return an object of class <code>survey.design</code> or <code>svyrep.design</code>. It is strongly recommended to keep this parameter as <code>TRUE</code> for further analysis. If <code>FALSE</code>, only the microdata will be returned.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_reload">reload</code></td>
<td>
<p>Logical value. If <code>TRUE</code>, will re-download the files even if they already exist in the save directory. If <code>FALSE</code>, will be checked if the files already exist in the save directory and the download will not be performed repeatedly, be careful with coinciding names of microdata files.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_curlopts">curlopts</code></td>
<td>
<p>A named list object identifying the curl options for the handle when using functions from <code>RCurl</code> package.</p>
</td></tr>
<tr><td><code id="get_covid_+3A_savedir">savedir</code></td>
<td>
<p>Directory to save the downloaded data. Default is to use a temporary directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>survey.design</code> or <code>svyrep.design</code> with the data from PNAD COVID19 and its sample design, or a tibble with selected variables of the microdata, including the necessary survey design ones.
</p>


<h3>Note</h3>

<p>For more information, visit the survey official website &lt;<a href="https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e">https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e</a>&gt; and consult the other functions of this package, described below.
</p>


<h3>See Also</h3>

<p><a href="#topic+read_covid">read_covid</a> for reading PNAD COVID19 microdata.<br /> <a href="#topic+covid_labeller">covid_labeller</a> for labeling categorical variables from PNAD COVID19 microdata.<br /> <a href="#topic+covid_deflator">covid_deflator</a> for adding deflator variables to PNAD COVID19 microdata.<br /> <a href="#topic+covid_design">covid_design</a> for creating PNAD COVID19 survey design object.<br /> <a href="#topic+covid_example">covid_example</a> for getting the path of the PNAD COVID19 toy example files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
covid.svy &lt;- get_covid(year=2020, month=5, vars=c("C001","C002"),
                       labels=TRUE, deflator=TRUE, design=TRUE,
                       reload=TRUE, curlopts=list(), savedir=tempdir())
# Calculating proportion of people temporarily away from work
if (!is.null(covid.svy)) survey::svymean(x=~C002, design=covid.svy, na.rm=TRUE)
</code></pre>

<hr>
<h2 id='read_covid'>Read PNAD COVID19 microdata</h2><span id='topic+read_covid'></span>

<h3>Description</h3>

<p>This function reads PNAD COVID19 microdata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_covid(microdata, vars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_covid_+3A_microdata">microdata</code></td>
<td>
<p>A comma-separated values file containing microdata from PNAD COVID19 survey, available on official website: (select a microdata file) - <a href="https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Dados/">https://ftp.ibge.gov.br/Trabalho_e_Rendimento/Pesquisa_Nacional_por_Amostra_de_Domicilios_PNAD_COVID19/Microdados/Dados/</a>.</p>
</td></tr>
<tr><td><code id="read_covid_+3A_vars">vars</code></td>
<td>
<p>Vector of variable names to be kept for analysis. Default is to keep all variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with selected variables of the microdata, including the necessary survey design ones.
</p>


<h3>Note</h3>

<p>For more information, visit the survey official website &lt;<a href="https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e">https://www.ibge.gov.br/estatisticas/investigacoes-experimentais/estatisticas-experimentais/27946-divulgacao-semanal-pnadcovid1?t=o-que-e</a>&gt; and consult the other functions of this package, described below.
</p>


<h3>See Also</h3>

<p><a href="#topic+get_covid">get_covid</a> for downloading, labeling, deflating and creating survey design object for PNAD COVID19 microdata.<br /> <a href="#topic+covid_labeller">covid_labeller</a> for labeling categorical variables from PNAD COVID19 microdata.<br /> <a href="#topic+covid_deflator">covid_deflator</a> for adding deflator variables to PNAD COVID19 microdata.<br /> <a href="#topic+covid_design">covid_design</a> for creating PNAD COVID19 survey design object.<br /> <a href="#topic+covid_example">covid_example</a> for getting the path of the PNAD COVID19 toy example files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_path &lt;- covid_example(path="exampledata.csv")
covid.df &lt;- read_covid(microdata=data_path, vars=c("C001","C002"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package hpfilter</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hpfilter}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#hpfilter-package'><p>hpfilter: The One- And Two-Sided Hodrick-Prescott Filter</p></a></li>
<li><a href='#GDPEU'><p>Real Gross Domestic Product for European Union (28 countries)</p></a></li>
<li><a href='#hp1'><p>One-Sided HP Filter</p></a></li>
<li><a href='#hp2'><p>Two-Sided HP Filter</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>The One- And Two-Sided Hodrick-Prescott Filter</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexandru Monahov</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexandru Monahov &lt;alexandru.monahov@proton.me&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.alexandrumonahov.eu.org/projects">https://www.alexandrumonahov.eu.org/projects</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Provides two functions that implement the one-sided and
    two-sided versions of the Hodrick-Prescott filter. The one-sided
    version is a Kalman filter-based implementation, whereas the two-
    sided version uses sparse matrices for improved efficiency.
    References:
    Hodrick, R. J., and Prescott, E. C. (1997) &lt;<a href="https://doi.org/10.2307%2F2953682">doi:10.2307/2953682</a>&gt;
    Mcelroy, T. (2008) &lt;<a href="https://doi.org/10.1111%2Fj.1368-423X.2008.00230.x">doi:10.1111/j.1368-423X.2008.00230.x</a>&gt;
    Meyer-Gohde, A. (2010) <a href="https://ideas.repec.org/c/dge/qmrbcd/181.html">https://ideas.repec.org/c/dge/qmrbcd/181.html</a>
    For more references, see the vignette.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-28 16:20:57 UTC; Admin</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-28 16:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='hpfilter-package'>hpfilter: The One- And Two-Sided Hodrick-Prescott Filter</h2><span id='topic+hpfilter'></span><span id='topic+hpfilter-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides two functions that implement the one-sided and two-sided versions of the Hodrick-Prescott filter. The one-sided version is a Kalman filter-based implementation, whereas the two- sided version uses sparse matrices for improved efficiency. References: Hodrick, R. J., and Prescott, E. C. (1997) <a href="https://doi.org/10.2307/2953682">doi:10.2307/2953682</a> Mcelroy, T. (2008) <a href="https://doi.org/10.1111/j.1368-423X.2008.00230.x">doi:10.1111/j.1368-423X.2008.00230.x</a> Meyer-Gohde, A. (2010) <a href="https://ideas.repec.org/c/dge/qmrbcd/181.html">https://ideas.repec.org/c/dge/qmrbcd/181.html</a> For more references, see the vignette.
</p>


<h3>Details</h3>

<p>hp1 - runs the one-sided HP filter
</p>
<p>hp2 - runs the two-sided HP filter
</p>
<p>GDPEU - contains a sample GDP dataset
</p>
<p>This package implements in R a version of the HP filter very close to that
specified by Meyer-Gohde, A. (2010). Please see the &quot;References&quot; section
for more details.
</p>


<h3>Author(s)</h3>

<p>Alexandru Monahov
</p>


<h3>Source</h3>

<p>Copyright Alexandru Monahov, 2023. You may use, modify and redistribute
this code, provided that you give credit to the author and make any derivative
work available to the public for free.
</p>


<h3>References</h3>

<p>Balcilar, M. (2019). Miscellaneous Time Series Filters ‘mFilter’.
CRAN R Package Library.
</p>
<p>Drehmann, M., and Yetman, J. (2018). Why You Should Use the Hodrick-Prescott
Filter – at Least to Generate Credit Gaps. BIS Working Paper No. 744.
</p>
<p>Eurostat (2023), Real Gross Domestic Product for European Union (28 countries)
[CLVMNACSCAB1GQEU28], National Accounts - GDP.
</p>
<p>Hamilton, J. D. (2017). ‘Why You Should Never Use the Hodrick-Prescott Filter’.
Working Paper Series. National Bureau of Economic Research, May 2017.
</p>
<p>Hodrick, R. J., and Prescott, E. C. (1997). Postwar U.S. Business Cycles: An
Empirical Investigation. Journal of Money, Credit, and Banking 29: 1-16.
</p>
<p>Hyeongwoo, K. (2004). &quot;Hodrick–Prescott Filter&quot;. Notes, Auburn University.
</p>
<p>Mcelroy, T. (2008). Exact formulas for the Hodrick-Prescott Filter.
Econometrics Journal. 11. 209-217.
</p>
<p>Meyer-Gohde, A. (2010). Matlab code for one-sided HP-filters. QM&amp;RBC Codes 181,
Quantitative Macroeconomics &amp; Real Business Cycles.
</p>
<p>Ravn, M., and Uhlig, H. (2002). On adjusting the Hodrick-Prescott filter for
the frequency of observations, The Review of Economics and Statistics 2002;
84 (2): 371–376.
</p>
<p>Shea, J. (2021). neverhpfilter: An Alternative to the Hodrick-Prescott Filter.
CRAN R Package Library.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://www.alexandrumonahov.eu.org/projects">https://www.alexandrumonahov.eu.org/projects</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Generate sample data
set.seed(10)
y &lt;- as.data.frame(rev(diffinv(rnorm(100)))[1:100])+30

# Run hpfilter functions
hp1(y, lambda = 400000) # Calculate the one-sided HP filter using a
                        # smoothing parameter of 400000

hp2(y, lambda = 1600)   # Calculate the two-sided HP filter using a
                        # smoothing parameter of 1600

</code></pre>

<hr>
<h2 id='GDPEU'>Real Gross Domestic Product for European Union (28 countries)</h2><span id='topic+GDPEU'></span>

<h3>Description</h3>

<p>Units:  Millions of Chained 2010 Euros, Seasonally Adjusted
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(GDPEU)
</code></pre>


<h3>Format</h3>

<p>A dataframe containing:
**gdp**  the seasonally-adjusted real Gross Domestic Product for 28
European Union countries
**date**  the date of each observation
</p>


<h3>Details</h3>

<p>Frequency:  Quarterly
</p>
<p>Eurostat unit ID: CLV10_MNAC
Eurostat item ID = B1GQ
Eurostat country ID: EU28
</p>
<p>Seasonally and calendar adjusted data.
</p>
<p>For euro area member states, the national currency series are converted into
euros using the irrevocably fixed exchange rate. This preserves the same
growth rates than for the previous national currency series. Both series
coincide for years after accession to the euro area but differ for earlier
years due to market exchange rate movements.
</p>
<p>European Union (28 countries): Belgium, Denmark, Germany, Ireland, Greece,
Spain, France, Italy, Luxembourg, the Netherlands, Portugal, the United
Kingdom, Austria, Finland, Sweden, Cyprus, the Czech Republic, Estonia,
Hungary, Latvia, Lithuania, Malta, Poland, Slovenia, Slovakia, Bulgaria,
Romania, and Croatia.
</p>
<p>Copyright, European Union, http://ec.europa.eu, 1995-2016. Complete terms of
use are available at http://ec.europa.eu/geninfo/legal_notices_en.htm#copyright
</p>


<h3>Source</h3>

<p><a href="https://fred.stlouisfed.org/series/CLVMNACSCAB1GQEU28">Data</a> retrieved from FRED, Federal Reserve Bank of St. Louis.
</p>


<h3>References</h3>

<p>Eurostat, Real Gross Domestic Product for European Union (28 countries) [CLVMNACSCAB1GQEU28]
(<a href="https://ec.europa.eu/eurostat/en/web/main/data">Eurostat</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the dataset
data(GDPEU)

# Plot the y series
plot(GDPEU$date, GDPEU$y, type="l")

# Remove the date column if not needed and store in a df object
df &lt;- GDPEU[,-1]

</code></pre>

<hr>
<h2 id='hp1'>One-Sided HP Filter</h2><span id='topic+hp1'></span>

<h3>Description</h3>

<p>hp1 applies a one-sided Hodrick-Prescott filter derived using the Kalman
filter to separate a time series into trend and cyclical components. The
smoothing parameter should reflect the cyclical duration or frequency of
the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hp1(y, lambda = 1600, x_user = NA, P_user = NA, discard = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hp1_+3A_y">y</code></td>
<td>
<p>a dataframe of size Txn, where &quot;T&quot; is the number of observations
for each variable (number of rows) and &quot;n&quot; - the number of variables in
the dataframe (number of columns).</p>
</td></tr>
<tr><td><code id="hp1_+3A_lambda">lambda</code></td>
<td>
<p>the smoothing parameter; a numeric scalar which takes the
default value of 1600, if unspecified by the user.</p>
</td></tr>
<tr><td><code id="hp1_+3A_x_user">x_user</code></td>
<td>
<p>user defined initial values of the state estimate for each
variable in y. Takes the form of a 2xn matrix. Since the underlying state
vector is 2x1, two values are needed for each variable in y. By default:
if no values are provided, backwards extrapolations based on the first two
observations are used.</p>
</td></tr>
<tr><td><code id="hp1_+3A_p_user">P_user</code></td>
<td>
<p>a structural array with n elements, each of which being a 2x2
matrix of initial MSE estimates for each variable in y. By default: if no
values are provided, a matrix with relatively large variances is used.</p>
</td></tr>
<tr><td><code id="hp1_+3A_discard">discard</code></td>
<td>
<p>the number of discard periods, expressed as a numeric scalar.
The user specified amount of values will be discarded from the start of the
sample, resulting in output matrices of size (T-discard)xn. By default: if
no values are provided, is set to 0.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The length of the time series should be greater than four and the
value of the smoothing parameter greater than zero for the code to function.
Of course, having a sufficiently long time series is paramount to achieving
meaningful results.
</p>


<h3>Value</h3>

<p>a (T-discard)xn dataframe, containing the trend data
</p>


<h3>Author(s)</h3>

<p>Alexandru Monahov, &lt;https://www.alexandrumonahov.eu.org/&gt;
</p>


<h3>References</h3>

<p>Balcilar, M. (2019). Miscellaneous Time Series Filters 'mFilter'. CRAN R Package Library.
</p>
<p>Drehmann, M., and Yetman, J. (2018). Why You Should Use the Hodrick-Prescott Filter - at Least to Generate Credit Gaps. BIS Working Paper No. 744.
</p>
<p>Eurostat (2023), Real Gross Domestic Product for European Union (28 countries) [CLVMNACSCAB1GQEU28], National Accounts - GDP.
</p>
<p>Hamilton, J. D. (2017). Why You Should Never Use the Hodrick-Prescott Filter. Working Paper Series. National Bureau of Economic Research, May 2017.
</p>
<p>Hodrick, R. J., and Prescott, E. C. (1997). Postwar U.S. Business Cycles: An Empirical Investigation. Journal of Money, Credit, and Banking 29: 1-16.
</p>
<p>Hyeongwoo, K. (2004). &quot;Hodrick-Prescott Filter&quot;. Notes, Auburn University.
</p>
<p>Mcelroy, T. (2008). Exact formulas for the Hodrick-Prescott Filter. Econometrics Journal. 11. 209-217.
</p>
<p>Meyer-Gohde, A. (2010). Matlab code for one-sided HP-filters. QM&amp;RBC Codes 181, Quantitative Macroeconomics &amp; Real Business Cycles.
</p>
<p>Ravn, M., and Uhlig, H. (2002). On adjusting the Hodrick-Prescott filter for the frequency of observations, The Review of Economics and Statistics 2002; 84 (2): 371-376.
</p>
<p>Shea, J. (2021). neverhpfilter: An Alternative to the Hodrick-Prescott Filter. CRAN R Package Library.
</p>


<h3>See Also</h3>

<p>[hp2()]
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate the data and plot it
set.seed(10)
y &lt;- as.data.frame(rev(diffinv(rnorm(100)))[1:100])+30
colnames(y) &lt;- "gdp"
plot(y$gdp, type="l")

# Apply the HP filter to the data
ytrend = hp1(y)
ycycle = y - ytrend

# Plot the three resulting series
plot(y$gdp, type="l", col="black", lty=1, ylim=c(-10,30))
lines(ytrend$gdp, col="#066462")
polygon(c(1, seq(ycycle$gdp), length(ycycle$gdp)), c(0, ycycle$gdp, 0), col = "#E0F2F1")
legend("bottom", horiz=TRUE, cex=0.75, c("y", "ytrend", "ycycle"), lty = 1,
       col = c("black", "#066462", "#75bfbd"))

</code></pre>

<hr>
<h2 id='hp2'>Two-Sided HP Filter</h2><span id='topic+hp2'></span>

<h3>Description</h3>

<p>hp2 applies a standard two-sided Hodrick-Prescott filter using sparse
matrices to help reduce the compute time for large datasets. The smoothing
parameter should reflect the cyclical duration or frequency of the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hp2(y, lambda = 1600)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hp2_+3A_y">y</code></td>
<td>
<p>a dataframe of size Txn, where &quot;T&quot; is the number of observations
for each variable (number of rows) and &quot;n&quot; - the number of variables in
the dataframe (number of columns).</p>
</td></tr>
<tr><td><code id="hp2_+3A_lambda">lambda</code></td>
<td>
<p>the smoothing parameter; a numeric scalar which takes the
default value of 1600, if unspecified by the user.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The length of the time series should be greater than four and the
value of the smoothing parameter greater than zero for the code to function.
Of course, having a sufficiently long time series is paramount to achieving
meaningful results.
</p>


<h3>Value</h3>

<p>a Txn dataframe, containing the trend data
</p>


<h3>Author(s)</h3>

<p>Alexandru Monahov, &lt;https://www.alexandrumonahov.eu.org/&gt;
</p>


<h3>References</h3>

<p>Balcilar, M. (2019). Miscellaneous Time Series Filters 'mFilter'. CRAN R Package Library.
</p>
<p>Drehmann, M., and Yetman, J. (2018). Why You Should Use the Hodrick-Prescott Filter - at Least to Generate Credit Gaps. BIS Working Paper No. 744.
</p>
<p>Eurostat (2023), Real Gross Domestic Product for European Union (28 countries) [CLVMNACSCAB1GQEU28], National Accounts - GDP.
</p>
<p>Hamilton, J. D. (2017). Why You Should Never Use the Hodrick-Prescott Filter. Working Paper Series. National Bureau of Economic Research, May 2017.
</p>
<p>Hodrick, R. J., and Prescott, E. C. (1997). Postwar U.S. Business Cycles: An Empirical Investigation. Journal of Money, Credit, and Banking 29: 1-16.
</p>
<p>Hyeongwoo, K. (2004). &quot;Hodrick-Prescott Filter&quot;. Notes, Auburn University.
</p>
<p>Mcelroy, T. (2008). Exact formulas for the Hodrick-Prescott Filter. Econometrics Journal. 11. 209-217.
</p>
<p>Meyer-Gohde, A. (2010). Matlab code for one-sided HP-filters. QM&amp;RBC Codes 181, Quantitative Macroeconomics &amp; Real Business Cycles.
</p>
<p>Ravn, M., and Uhlig, H. (2002). On adjusting the Hodrick-Prescott filter for the frequency of observations, The Review of Economics and Statistics 2002; 84 (2): 371-376.
</p>
<p>Shea, J. (2021). neverhpfilter: An Alternative to the Hodrick-Prescott Filter. CRAN R Package Library.
</p>


<h3>See Also</h3>

<p>[hp1()]
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate the data and plot it
set.seed(10)
y &lt;- as.data.frame(rev(diffinv(rnorm(100)))[1:100])+30
colnames(y) &lt;- "gdp"
plot(y$gdp, type="l")

# Apply the HP filter to the data
ytrend = hp2(y)
ycycle = y - ytrend

# Plot the three resulting series
plot(y$gdp, type="l", col="black", lty=1, ylim=c(-10,30))
lines(ytrend$gdp, col="#066462")
polygon(c(1, seq(ycycle$gdp), length(ycycle$gdp)), c(0, ycycle$gdp, 0), col = "#E0F2F1")
legend("bottom", horiz=TRUE, cex=0.75, c("y", "ytrend", "ycycle"), lty = 1,
       col = c("black", "#066462", "#75bfbd"))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

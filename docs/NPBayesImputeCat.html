<!DOCTYPE html><html><head><title>Help for package NPBayesImputeCat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {NPBayesImputeCat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#compute_probs'>
<p>Estimating marginal and joint probabilities in imputed or synthetic datasets</p></a></li>
<li><a href='#CreateModel'>
<p>Create and initialize the Lcm model object</p></a></li>
<li><a href='#DPMPM_nozeros_imp'>
<p>Use DPMPM models to impute missing data where there are no structural zeros</p></a></li>
<li><a href='#DPMPM_nozeros_syn'>
<p>Use DPMPM models to synthesize data where there are no structural zeros</p></a></li>
<li><a href='#DPMPM_zeros_imp'>
<p>Use DPMPM models to impute missing data where there are no structural zeros</p></a></li>
<li><a href='#fit_GLMs'>
<p>Fit GLM models for imputed or synthetic datasets</p></a></li>
<li><a href='#GetDataFrame'>
<p>Convert imputed data to a dataframe, using the same setting from original input data.</p></a></li>
<li><a href='#GetMCZ'>
<p>Convert disjointed structrual zeros to a dataframe, using the same setting from original structrual zero data.</p></a></li>
<li><a href='#kstar_MCMCdiag'>
<p>Perform MCMC diagnostics for kstar</p></a></li>
<li><a href='#Lcm'><p>Class <code>"Rcpp_Lcm"</code></p></a></li>
<li><a href='#marginal_compare_all_imp'>
<p>Plot estimated marginal probabilities from observed data vs imputed datasets</p></a></li>
<li><a href='#marginal_compare_all_syn'>
<p>Plot estimated marginal probabilities from observed data vs synthetic datasets</p></a></li>
<li><a href='#MCZ'>
<p>Example dataframe for structrual zeros based on the NYMockexample dataset.</p></a></li>
<li><a href='#NPBayesImputeCat-package'>
<p>Bayesian Multiple Imputation for Large-Scale Categorical Data with Structural Zeros</p></a></li>
<li><a href='#pool_estimated_probs'>
<p>Pool probability estimates from imputed or synthetic datasets</p></a></li>
<li><a href='#pool_fitted_GLMs'>
<p>Pool estimates of fitted GLM models in imputed or synthetic datasets</p></a></li>
<li><a href='#Rcpp_Lcm-class'>
<p>Rcpp implemenation of the Lcm functions</p></a></li>
<li><a href='#ss16pusa_ds_MCZ'>
<p>Example dataframe for structrual zeros based on the ss16pusa_sample_zeros dataset.</p></a></li>
<li><a href='#ss16pusa_mi_MCZ'>
<p>Example dataframe for structrual zeros based on the ss16pusa_sample_zeros dataset.</p></a></li>
<li><a href='#ss16pusa_sample_nozeros'>
<p>Example dataframe for input categorical data without structural zeros (without missing values).</p></a></li>
<li><a href='#ss16pusa_sample_nozeros_miss'>
<p>Example dataframe for input categorical data without structural zeros (with missing values).</p></a></li>
<li><a href='#ss16pusa_sample_zeros'>
<p>Example dataframe for input categorical data with structural zeros (without missing values).</p></a></li>
<li><a href='#ss16pusa_sample_zeros_miss'>
<p>Example dataframe for input categorical data with structural zeros (with missing values).</p></a></li>
<li><a href='#UpdateX'>
<p>Allow user to update the model with data matrix of same kind.</p></a></li>
<li><a href='#X'>
<p>Example dataframe for input categorical data with missing values based on the NYMockexample dataset.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Non-Parametric Bayesian Multiple Imputation for Categorical Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-10-03</td>
</tr>
<tr>
<td>Author:</td>
<td>Quanli Wang, Daniel Manrique-Vallier, Jerome P. Reiter and Jingchen Hu</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jingchen Hu &lt;jingchen.monika.hu@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>These routines create multiple imputations of missing at random categorical data, and create multiply imputed synthesis of categorical data, with or without structural zeros. Imputations and syntheses are based on Dirichlet process mixtures of multinomial distributions, which is a non-parametric Bayesian modeling approach that allows for flexible joint modeling, described in Manrique-Vallier and Reiter (2014) &lt;<a href="https://doi.org/10.1080%2F10618600.2013.844700">doi:10.1080/10618600.2013.844700</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>Rcpp (&ge; 0.10.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, rlang, reshape2, ggplot2, dplyr, bayesplot</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RcppModules:</td>
<td>clcm</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-03 13:07:34 UTC; qw2192</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-03 13:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='compute_probs'>
Estimating marginal and joint probabilities in imputed or synthetic datasets
</h2><span id='topic+compute_probs'></span>

<h3>Description</h3>

<p>Estimating marginal and joint probabilities in imputed or synthetic datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_probs(InputData, varlist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_probs_+3A_inputdata">InputData</code></td>
<td>
<p>a list of imputed or synthetic datasets</p>
</td></tr>
<tr><td><code id="compute_probs_+3A_varlist">varlist</code></td>
<td>
<p>a list of variable names (or combination of names) to evaluate (marginal or joint) probabilities for</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Results: a list of marginal and joint probability results after combining rules
</p>

<hr>
<h2 id='CreateModel'>
Create and initialize the Lcm model object
</h2><span id='topic+CreateModel'></span>

<h3>Description</h3>

<p>CreateModel creates and initializes an Lcm <a href="#topic+Lcm">Lcm</a> object for non-parametric multiple imputation of discrete multivariate categorical data with or without structural zeros.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CreateModel(X, MCZ, K, Nmax, aalpha, balpha,seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CreateModel_+3A_x">X</code></td>
<td>
<p>a data frame with the dataset with missing values. All variables must be unordered factors.</p>
</td></tr>
<tr><td><code id="CreateModel_+3A_mcz">MCZ</code></td>
<td>
<p>a dataframe with the definition of the structural zeros. Placeholder components are represented with NAs. Variables in MCZ must be factors with the same levels as X. Rows do not need to define disjoint regions of the contingency table. See Manrique-Vallier and Reiter (2014) for details of the definition of structural zeros.  MCZ should be set to NULL when there are no structure zeros.</p>
</td></tr>
<tr><td><code id="CreateModel_+3A_k">K</code></td>
<td>
<p>the maximum number of mixture components.</p>
</td></tr>
<tr><td><code id="CreateModel_+3A_nmax">Nmax</code></td>
<td>
<p>An upper truncation limit for the augmented sample size. This parameter will be ignored(set to 0) when there is no structural zeros.</p>
</td></tr>
<tr><td><code id="CreateModel_+3A_aalpha">aalpha</code></td>
<td>
<p>the hyper parameter 'a' for alpha in stick-breaking prior distribution.</p>
</td></tr>
<tr><td><code id="CreateModel_+3A_balpha">balpha</code></td>
<td>
<p>the hyper parameter 'b' for alpha in stick-breaking prior distribution.</p>
</td></tr>
<tr><td><code id="CreateModel_+3A_seed">seed</code></td>
<td>
<p>the random seed for sampling. When setting to NULL(default), the random seed will be set randomly.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function should be the first function one should call to use the 'NPBayesImputeCat'
library. The returned model is a Lcm object. See ?Lcm
for more details on the fields available and their arguments. </p>


<h3>Value</h3>

<p>CreateModel returns an Lcm object. The returned model object will be referenced in all subsequent calls.
</p>


<h3>References</h3>

<p>Manrique-Vallier, D. and Reiter, J.P. (2013), &quot;Bayesian Estimation of Discrete Multivariate Latent Structure Models with Structural Zeros&quot;, JCGS. 
<br /><br />
Si, Y. and Reiter, J.P. (2013), &quot;Nonparametric Bayesian multiple imputation for incomplete categorical variables in large-scale assessment surveys&quot;, Journal of Educational and Behavioral Statistics, 38, 499 - 521 
<br /><br />
Manrique-Vallier, D. and Reiter, J.P. (2014), &quot;Bayesian Multiple Imputation for Large-Scale Categorical Data with Structural Zeros&quot;, Survey Methodology.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(NPBayesImputeCat)
#Please use NYexample data set for a more realistic example
data('NYMockexample')

#create the model
model &lt;- CreateModel(X,MCZ,10,10000,0.25,0.25,8888)

#run 1 burnins, 2 mcmc iterations and thin every 2 iterations
model$Run(1,2,2,FALSE)

#retrieve parameters from the final iteration
result &lt;- model$snapshot

#convert ImputedX matrix to dataframe, using proper factors/names etc.
ImputedX &lt;- GetDataFrame(result$ImputedX,X)
#View(ImputedX)
</code></pre>

<hr>
<h2 id='DPMPM_nozeros_imp'>
Use DPMPM models to impute missing data where there are no structural zeros
</h2><span id='topic+DPMPM_nozeros_imp'></span>

<h3>Description</h3>

<p>Use DPMPM models to impute missing data where there are no structural zeros
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DPMPM_nozeros_imp(X, nrun, burn, thin, K, aalpha, balpha, m, seed, silent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DPMPM_nozeros_imp_+3A_x">X</code></td>
<td>
<p>data frame for the data containing missing values</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_nrun">nrun</code></td>
<td>
<p>number of mcmc iterations</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_burn">burn</code></td>
<td>
<p>number of burn-in iterations</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_thin">thin</code></td>
<td>
<p>thining parameter for outputing iterations</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_k">K</code></td>
<td>
<p>number of latent classes</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_aalpha">aalpha</code></td>
<td>
<p>the hyperparameters in stick-breaking prior distribution for alpha</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_balpha">balpha</code></td>
<td>
<p>the hyperparameters in stick-breaking prior distribution for alpha</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_m">m</code></td>
<td>
<p>number of imputations</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_seed">seed</code></td>
<td>
<p>choice of random seed</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_imp_+3A_silent">silent</code></td>
<td>
<p>Default to TRUE. Set this parameter to FALSE if more iteration info are to be printed</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>impdata</code></td>
<td>
<p>m imputed datasets</p>
</td></tr>
<tr><td><code>origdata</code></td>
<td>
<p>original data containing missing values</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>saved posterior draws of alpha, which can be used to check MCMC convergence</p>
</td></tr>
<tr><td><code>kstar</code></td>
<td>
<p>saved number of occupied mixture components, which can be used to track whether K is large enough</p>
</td></tr>
</table>

<hr>
<h2 id='DPMPM_nozeros_syn'>
Use DPMPM models to synthesize data where there are no structural zeros
</h2><span id='topic+DPMPM_nozeros_syn'></span>

<h3>Description</h3>

<p>Use DPMPM models to synthesize data where there are no structural zeros
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DPMPM_nozeros_syn(X, dj, nrun, burn, thin, K, aalpha, balpha, m, vars, seed, silent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DPMPM_nozeros_syn_+3A_x">X</code></td>
<td>
<p>data frame for the original data</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_dj">dj</code></td>
<td>
<p>a vector recording the number of categories of the variables</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_nrun">nrun</code></td>
<td>
<p>number of mcmc iterations</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_burn">burn</code></td>
<td>
<p>number of burn-in iterations</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_thin">thin</code></td>
<td>
<p>thining parameter for outputing iterations</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_k">K</code></td>
<td>
<p>number of latent classes</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_aalpha">aalpha</code></td>
<td>
<p>the hyperparameters in stick-breaking prior distribution for alpha</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_balpha">balpha</code></td>
<td>
<p>the hyperparameters in stick-breaking prior distribution for alpha</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_m">m</code></td>
<td>
<p>number of synthetic datasets</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_vars">vars</code></td>
<td>
<p>the names of variables to be synthesized</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_seed">seed</code></td>
<td>
<p>choice of random seed</p>
</td></tr>
<tr><td><code id="DPMPM_nozeros_syn_+3A_silent">silent</code></td>
<td>
<p>Default to TRUE. Set this parameter to FALSE if more iteration info are to be printed</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>syndata</code></td>
<td>
<p>m  synthetic datasets</p>
</td></tr>
<tr><td><code>origdata</code></td>
<td>
<p>original data</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>saved posterior draws of alpha, which can be used to check MCMC convergence</p>
</td></tr>
<tr><td><code>kstar</code></td>
<td>
<p>saved number of occupied mixture components, which can be used to track whether K is large enough</p>
</td></tr>
</table>

<hr>
<h2 id='DPMPM_zeros_imp'>
Use DPMPM models to impute missing data where there are no structural zeros
</h2><span id='topic+DPMPM_zeros_imp'></span>

<h3>Description</h3>

<p>Use DPMPM models to impute missing data where there are no structural zeros
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DPMPM_zeros_imp(X, MCZ, Nmax, nrun, burn, thin, K, aalpha, balpha, m, seed, silent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DPMPM_zeros_imp_+3A_x">X</code></td>
<td>
<p>data frame for the data containing missing values</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_mcz">MCZ</code></td>
<td>
<p>data frame containing the structural zeros definition</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_nmax">Nmax</code></td>
<td>
<p>an upper truncation limit for the augmented sample size</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_nrun">nrun</code></td>
<td>
<p>number of mcmc iterations</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_burn">burn</code></td>
<td>
<p>number of burn-in iterations</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_thin">thin</code></td>
<td>
<p>thining parameter for outputing iterations</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_k">K</code></td>
<td>
<p>number of latent classes</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_aalpha">aalpha</code></td>
<td>
<p>the hyperparameters in stick-breaking prior distribution for alpha</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_balpha">balpha</code></td>
<td>
<p>the hyperparameters in stick-breaking prior distribution for alpha</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_m">m</code></td>
<td>
<p>number of imputations</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_seed">seed</code></td>
<td>
<p>choice of random seed</p>
</td></tr>
<tr><td><code id="DPMPM_zeros_imp_+3A_silent">silent</code></td>
<td>
<p>Default to TRUE. Set this parameter to FALSE if more iteration info are to be printed</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>impdata</code></td>
<td>
<p>m imputed datasets</p>
</td></tr>
<tr><td><code>origdata</code></td>
<td>
<p>original data containing missing values</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>save posterior draws of alpha, which can be used to check MCMC convergence</p>
</td></tr>
<tr><td><code>kstar</code></td>
<td>
<p>saved number of occupied mixture components, which can be used to track whether K is large enough</p>
</td></tr>
<tr><td><code>Nmax</code></td>
<td>
<p>saved posterior draws of the augmented sample size, which can be used to check MCMC convergence</p>
</td></tr>
</table>

<hr>
<h2 id='fit_GLMs'>
Fit GLM models for imputed or synthetic datasets
</h2><span id='topic+fit_GLMs'></span>

<h3>Description</h3>

<p>Fit GLM models for imputed or synthetic datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_GLMs(InputData, exp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_GLMs_+3A_inputdata">InputData</code></td>
<td>
<p>a list of imputed or synthetic datasets</p>
</td></tr>
<tr><td><code id="fit_GLMs_+3A_exp">exp</code></td>
<td>
<p>GLM expression (for polr and nnet, those libraries should be loaded first)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Results: a list of GLM results
</p>

<hr>
<h2 id='GetDataFrame'>
Convert imputed data to a dataframe, using the same setting from original input data.
</h2><span id='topic+GetDataFrame'></span>

<h3>Description</h3>

<p>This is a utility function to convert the imputed data matrix to a dataframe. This function will be implemented as a RCPP internal function later on.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetDataFrame(dest, from, cols = 1:NCOL(from))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetDataFrame_+3A_dest">dest</code></td>
<td>
<p>the imputed output data matrix. </p>
</td></tr>
<tr><td><code id="GetDataFrame_+3A_from">from</code></td>
<td>
<p>the original input dataframe. </p>
</td></tr>
<tr><td><code id="GetDataFrame_+3A_cols">cols</code></td>
<td>
<p>optinal. Always use default for now.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The returned dataframe object for imputed data. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(NPBayesImputeCat)
#Please use NYexample data set for a more realistic example
data('NYMockexample')

#create the model
model &lt;- CreateModel(X,MCZ,10,10000,0.25,0.25,8888)

#run 1 burnins, 2 mcmc iterations and thin every 2 iterations
model$Run(1,2,2,TRUE)

#retrieve parameters from the final iteration
result &lt;- model$snapshot

#convert ImputedX matrix to dataframe, using proper factors/names etc.
ImputedX &lt;- GetDataFrame(result$ImputedX,X)
#View(ImputedX)
</code></pre>

<hr>
<h2 id='GetMCZ'>
Convert disjointed structrual zeros to a dataframe, using the same setting from original structrual zero data. 
</h2><span id='topic+GetMCZ'></span>

<h3>Description</h3>

<p>This is a utility function to convert the disjointed structrual zero matrix to a dataframe. This function will be implemented as a RCPP internal function later on.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetMCZ(dest, from, mcz, cols = 1:NCOL(from))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetMCZ_+3A_dest">dest</code></td>
<td>

<p>the output data matrix for disjointed structrual zeros.
</p>
</td></tr>
<tr><td><code id="GetMCZ_+3A_from">from</code></td>
<td>
<p>the original input dataframe.</p>
</td></tr>
<tr><td><code id="GetMCZ_+3A_mcz">mcz</code></td>
<td>
<p>the original input dataframe for structrual zeros.</p>
</td></tr>
<tr><td><code id="GetMCZ_+3A_cols">cols</code></td>
<td>
<p>optinal. Always use default for now.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The returned dataframe object for disjointed structrual zeros.</p>


<h3>References</h3>

<p>Manrique-Vallier, D. and Reiter, J.P. (2013), &quot;Bayesian Estimation of Discrete Multivariate Latent Structure Models with Structural Zeros&quot;, JCGS. 
<br /><br />
Si, Y. and Reiter, J.P. (2013), &quot;Nonparametric Bayesian multiple imputation for incomplete categorical variables in large-scale assessment surveys&quot;, Journal of Educational and Behavioral Statistics, 38, 499 - 521 
<br /><br />
Manrique-Vallier, D. and Reiter, J.P. (2014), &quot;Bayesian Multiple Imputation for Large-Scale Categorical Data with Structural Zeros&quot;, Survey Methodology.
</p>

<hr>
<h2 id='kstar_MCMCdiag'>
Perform MCMC diagnostics for kstar
</h2><span id='topic+kstar_MCMCdiag'></span>

<h3>Description</h3>

<p>A helper function to perform MCMC diagnostics for kstar
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kstar_MCMCdiag(kstar, nrun, burn, thin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kstar_MCMCdiag_+3A_kstar">kstar</code></td>
<td>
<p>the vector output of kstar from running the DPMPM model</p>
</td></tr>
<tr><td><code id="kstar_MCMCdiag_+3A_nrun">nrun</code></td>
<td>
<p>number of MCMC iterations used in running the DPMPM model</p>
</td></tr>
<tr><td><code id="kstar_MCMCdiag_+3A_burn">burn</code></td>
<td>
<p>number of burn-in iterations used in running the DPMPM model</p>
</td></tr>
<tr><td><code id="kstar_MCMCdiag_+3A_thin">thin</code></td>
<td>
<p>number of thinning used in running the DPMPM model</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Traceplot</code></td>
<td>
<p>the traceplot of kstar post burn-in and thinning</p>
</td></tr>
<tr><td><code>Autocorrplot</code></td>
<td>
<p>the autocorrelation plot of kstar post burn-in and thinning</p>
</td></tr>
</table>

<hr>
<h2 id='Lcm'>Class <code>"Rcpp_Lcm"</code></h2><span id='topic+Lcm'></span>

<h3>Description</h3>

<p>This class implements the MCMC sampler for non-parametric imputation of discrete multivariate data described in Manrique-Vallier and Reiter (2014). It provides methods for updating and monitoring the sampler. 
</p>


<h3>Details</h3>

<p>Rcpp_lcm objects should be created with <a href="#topic+CreateModel">CreateModel</a>. Please see the examples in the demo folder for more detailed explanation on model fitting and parameter tracing.
</p>


<h3>Extends</h3>

<p>Class <code>"<a href="Rcpp.html#topic+C+2B+2BObject-class">C++Object</a>"</code>, directly.
</p>
<p>All reference classes extend and inherit methods from <code>"<a href="methods.html#topic+envRefClass-class">envRefClass</a>"</code>.
</p>


<h3>Fields</h3>


<dl>
<dt><code>CurrentIteration</code>:</dt><dd><p>the total number of iterations that have been run so far.</p>
</dd>
<dt><code>EnableTracer</code>:</dt><dd><p>to check tracer status or to enable/disable the tracer.</p>
</dd>
<dt><code>MCZ</code>:</dt><dd><p>the disjointed structural zero matrix.</p>
</dd>
<dt><code>snapshot</code>:</dt><dd><p>retrieve a list with the current state of all the parameters in the sampler, including the imputed sample. A call the the &quot;snapshot&quot; method returns a list with the following components:</p>

<dl>
<dt>alpha:</dt><dd><p>the concentration parameter of the stick breaking prior.</p>
</dd>
<dt>k_star:</dt><dd><p>the effective number number of latent classes (mixture components)</p>
</dd>
<dt>Nmis: </dt><dd><p>the size of the augmented sample.</p>
</dd>
<dt>nu: </dt><dd><p>a vector with the mixture weights</p>
</dd>
<dt>z: </dt><dd><p>a matrix with the current latent class assignment of each member of the sample</p>
</dd>
<dt>ImputedX: </dt><dd><p>the current raw imputed dataset. Use <a href="#topic+GetDataFrame">GetDataFrame</a> to convert the raw data to a data frame of factors as defined in the input data set.</p>
</dd>
<dt>psi:</dt><dd><p>The conditional multinomial probabilties. A Lmax * K * J array, where Lmax is the maximum number of levels of all discrete factors in the dataset, J is the number of factors in the dataset, and K is the number of latent classes. Since variables might have different numbers of levels, unused entries in the first dimension are filled with NAs to complete Lmax.</p>
</dd>
</dl>

</dd>
<dt><code>traceable</code>:</dt><dd><p>list of model parameters that can be traced by the tracer.</p>
</dd>
<dt><code>traced</code>:</dt><dd><p>list of model parameters that are traced.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt><code>SetTrace(paralist,num_of_iterations)</code>:</dt><dd><p>set parameters to be traced.</p>

<dl>
<dt>paralist:</dt><dd><p>a list of parameters to be traced.</p>
</dd>
<dt>num_of_iterations:</dt><dd><p>the maximum number of traced iterations.</p>
</dd>
</dl>

</dd>
<dt><code>Run(burnin, iter, thinning,silent)</code>:</dt><dd><p>run MCMC iterations.
</p>

<dl>
<dt>burnin:</dt><dd><p>number of burn in iterations.</p>
</dd>
<dt>iter:</dt><dd><p>number of MCMC iterations.</p>
</dd>
<dt>thinning:</dt><dd><p>thinning parameter.</p>
</dd>
<dt>silent:</dt><dd><p>boolean indication if more iteration should be printed.</p>
</dd>
</dl>

</dd>
<dt><code>Resume()</code>:</dt><dd><p>resume from an interrupted call to run method.</p>
</dd>
<dt><code>Parameters(paralist)</code>:</dt><dd><p>retrieve a selected list of model parameters from last MCMC iteration.</p>

<dl>
<dt>paralist:</dt><dd><p>a list of parameters to be traced.</p>
</dd>
</dl>

</dd>
<dt><code>GetTrace()</code>:</dt><dd><p>retrieve all traced iterations. Returns a list with all the parameters set using the method SetTrace(). See description of snapshotreference method for a description of the parameters.  </p>
</dd>
</dl>



<h3>References</h3>

<p>Manrique-Vallier, D. and Reiter, J.P. (2013), &quot;Bayesian Estimation of Discrete Multivariate Latent Structure Models with Structural Zeros&quot;, JCGS. 
<br /><br />
Si, Y. and Reiter, J.P. (2013), &quot;Nonparametric Bayesian multiple imputation for incomplete categorical variables in large-scale assessment surveys&quot;, Journal of Educational and Behavioral Statistics, 38, 499 - 521 
<br /><br />
Manrique-Vallier, D. and Reiter, J.P. (2014), &quot;Bayesian Multiple Imputation for Large-Scale Categorical Data with Structural Zeros&quot;, Survey Methodology.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(NPBayesImputeCat)
#Please use NYexample data set for a more realistic example
data('NYMockexample')

#create the model
model &lt;- CreateModel(X,MCZ,10,10000,0.25,0.25,8888)

#run 1 burnins, 2 mcmc iterations and thin every 2 iterations
model$Run(1,2,2,TRUE)

#retrieve parameters from the final iteration
result &lt;- model$snapshot

#convert ImputedX matrix to dataframe, using proper factors/names etc.
ImputedX &lt;- GetDataFrame(result$ImputedX,X)
#View(ImputedX)
</code></pre>

<hr>
<h2 id='marginal_compare_all_imp'>
Plot estimated marginal probabilities from observed data vs imputed datasets
</h2><span id='topic+marginal_compare_all_imp'></span>

<h3>Description</h3>

<p>Plot estimated marginal probabilities from observed data vs imputed datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>marginal_compare_all_imp(obsdata, impdata, vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="marginal_compare_all_imp_+3A_obsdata">obsdata</code></td>
<td>
<p>he observed data</p>
</td></tr>
<tr><td><code id="marginal_compare_all_imp_+3A_impdata">impdata</code></td>
<td>
<p>the list of m imputed datasets</p>
</td></tr>
<tr><td><code id="marginal_compare_all_imp_+3A_vars">vars</code></td>
<td>
<p>the variable of interest</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Plot</code></td>
<td>
<p>the barplot</p>
</td></tr>
<tr><td><code>Comparison</code></td>
<td>
<p>a table of marginal probabilies from observed data vs imputed datasets</p>
</td></tr>
</table>

<hr>
<h2 id='marginal_compare_all_syn'>
Plot estimated marginal probabilities from observed data vs synthetic datasets
</h2><span id='topic+marginal_compare_all_syn'></span>

<h3>Description</h3>

<p>Plot estimated marginal probabilities from observed data vs synthetic datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>marginal_compare_all_syn(obsdata, syndata, vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="marginal_compare_all_syn_+3A_obsdata">obsdata</code></td>
<td>
<p>the observed data</p>
</td></tr>
<tr><td><code id="marginal_compare_all_syn_+3A_syndata">syndata</code></td>
<td>
<p>the list of m imputed datasets</p>
</td></tr>
<tr><td><code id="marginal_compare_all_syn_+3A_vars">vars</code></td>
<td>
<p>the variable of interest</p>
</td></tr>
</table>


<h3>Value</h3>

 <table>
<tr><td><code>Plot</code></td>
<td>
<p>the barplot</p>
</td></tr>
<tr><td><code>Comparison</code></td>
<td>
<p>a table of marginal probabilies from observed data vs imputed datasets</p>
</td></tr>
</table>

<hr>
<h2 id='MCZ'>
Example dataframe for structrual zeros based on the NYMockexample dataset.
</h2><span id='topic+MCZ'></span>

<h3>Description</h3>

<p>Example dataframe for structrual zeros based on the NYMockexample dataset. It contains 8 structural zero cases with 10 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> AGE = 15 and EDUC = 8</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> AGE = 16 and VESTAT = 2</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> OWNERSHIP = 0 and MORTGAGE = 4</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,4] </td><td style="text-align: left;"> AGE = 17 and EDUC = 11 </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,5] </td><td style="text-align: left;"> AGE = [36, 50] and EMPSTAT = 0</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,6] </td><td style="text-align: left;"> AGE &gt; 70 and DISABWRK = 0</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,7] </td><td style="text-align: left;"> AGE &lt; 15 and EDUC = 10 </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,8] </td><td style="text-align: left;"> OWNERSHIP = 2 and MORTGAGE = 1 </td>
</tr>
<tr>
 <td style="text-align: right;">
  </td>
</tr>

</table>


<hr>
<h2 id='NPBayesImputeCat-package'>
Bayesian Multiple Imputation for Large-Scale Categorical Data with Structural Zeros
</h2><span id='topic+NPBayesImputeCat-package'></span><span id='topic+NPBayesImputeCat'></span>

<h3>Description</h3>

<p>This package implements a fully Bayesian, joint modeling approach to multiple imputation
for categorical data based on latent class models with structural zeros. The idea is to model the implied
contingency table of the categorical variables as a mixture of independent multinomial distributions,
estimating the mixture distributions nonparametrically with Dirichlet process prior
distributions. Mixtures of multinomials can describe arbitrarily complex dependencies and
are computationally expedient, so that they are effective general purpose multiple imputation
engines. In contrast to other approaches based on loglinear models or chained equations,
the mixture models avoid the need to specify (potentially many) models, which can be a
very time-consuming task with no guarantee of a theoretically coherent set of models. The
package is designed to include for structural zeros, i.e., certain combinations of variables are not possible
a priori.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> NPBayesImputeCat</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.4</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-06-30</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL(&gt;=3) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Quanli Wang, Daniel Manrique-Vallier, Jerome P. Reiter and Jingchen Hu
</p>
<p>Maintainer: Quanli Wang&lt;quanli@stat.duke.edu&gt;
</p>


<h3>References</h3>

<p>Manrique-Vallier, D. and Reiter, J.P. (2013), &quot;Bayesian Estimation of Discrete Multivariate Latent Structure Models with Structural Zeros&quot;, JCGS. 
<br /><br />
Si, Y. and Reiter, J.P. (2013), &quot;Nonparametric Bayesian multiple imputation for incomplete categorical variables in large-scale assessment surveys&quot;, Journal of Educational and Behavioral Statistics, 38, 499 - 521 
<br /><br />
Manrique-Vallier, D. and Reiter, J.P. (2014), &quot;Bayesian Multiple Imputation for Large-Scale Categorical Data with Structural Zeros&quot;, Survey Methodology.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(NPBayesImputeCat)
#Please use NYexample data set for a more realistic example
data('NYMockexample')

#create the model
model &lt;- CreateModel(X,MCZ,10,10000,0.25,0.25,8888)

#run 1 burnins, 2 mcmc iterations and thin every 2 iterations
model$Run(1,2,2,TRUE)

#retrieve parameters from the final iteration
result &lt;- model$snapshot

#convert ImputedX matrix to dataframe, using proper factors/names etc.
ImputedX &lt;- GetDataFrame(result$ImputedX,X)
#View(ImputedX)

#Most exhauststic examples can be found in the demo below
#demo(example_short)
#demo(example)

</code></pre>

<hr>
<h2 id='pool_estimated_probs'>
Pool probability estimates from imputed or synthetic datasets
</h2><span id='topic+pool_estimated_probs'></span>

<h3>Description</h3>

<p>Pool probability estimates from imputed or synthetic datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pool_estimated_probs(ComputeProbsResults, method = 
                      c("imputation", "synthesis_full", "synthesis_partial"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pool_estimated_probs_+3A_computeprobsresults">ComputeProbsResults</code></td>
<td>
<p>output from the compute_probs function</p>
</td></tr>
<tr><td><code id="pool_estimated_probs_+3A_method">method</code></td>
<td>
<p>choose between &quot;imputation&quot;, &quot;synthesis_full&quot;, &quot;synthesis_partial&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Results: a list of marginal and joint probability results after combining rules</p>

<hr>
<h2 id='pool_fitted_GLMs'>
Pool estimates of fitted GLM models in imputed or synthetic datasets
</h2><span id='topic+pool_fitted_GLMs'></span>

<h3>Description</h3>

<p>Pool estimates of fitted GLM models in imputed or synthetic datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pool_fitted_GLMs(GLMResults, method = 
                      c("imputation", "synthesis_full", "synthesis_partial"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pool_fitted_GLMs_+3A_glmresults">GLMResults</code></td>
<td>
<p>output from the fit_GLMs function</p>
</td></tr>
<tr><td><code id="pool_fitted_GLMs_+3A_method">method</code></td>
<td>
<p>choose between &quot;imputation&quot;, &quot;synthesis_full&quot;, &quot;synthesis_partial&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Results: a list of GLM results after combining rules</p>

<hr>
<h2 id='Rcpp_Lcm-class'>
Rcpp implemenation of the <a href="#topic+Lcm">Lcm</a> functions
</h2><span id='topic+Rcpp_Lcm-class'></span>

<h3>Description</h3>

<p>This is the Rcpp implementation of the model class Lcm. All exposed functions and properties are documented in <a href="#topic+Lcm">Lcm</a>.
</p>

<hr>
<h2 id='ss16pusa_ds_MCZ'>
Example dataframe for structrual zeros based on the ss16pusa_sample_zeros dataset.
</h2><span id='topic+ss16pusa_ds_MCZ'></span>

<h3>Description</h3>

<p>Example dataframe for structrual zeros based on the ss16pusa_sample_zeros dataset. It contains 8 structural zero cases with 5 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Bachelor's degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Doctorate degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Master's degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,4] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Professional degree </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,5] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Bachelor's degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,6] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Doctorate degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,7] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Master's degree </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,8] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Professional degree </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='ss16pusa_mi_MCZ'>
Example dataframe for structrual zeros based on the ss16pusa_sample_zeros dataset.
</h2><span id='topic+ss16pusa_mi_MCZ'></span>

<h3>Description</h3>

<p>Example dataframe for structrual zeros based on the ss16pusa_sample_zeros dataset. It contains 8 structural zero cases with 5 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Bachelor's degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Doctorate degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Master's degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,4] </td><td style="text-align: left;"> AGEP = 16 and SCHL = Professional degree </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,5] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Bachelor's degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,6] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Doctorate degree</td>
</tr>
<tr>
 <td style="text-align: right;">
    [,7] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Master's degree </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,8] </td><td style="text-align: left;"> AGEP = 17 and SCHL = Professional degree </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='ss16pusa_sample_nozeros'>
Example dataframe for input categorical data without structural zeros (without missing values).
</h2><span id='topic+ss16pusa_sample_nozeros'></span>

<h3>Description</h3>

<p>Example dataframe for input categorical data without structural zeros (without missing values). It contains 1000 observations and 3 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> MAR </td><td style="text-align: left;"> marital status </td><td style="text-align: left;"> 5 levels: Married; Widowed; Divorced; Separated; Never married. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> SEX    </td><td style="text-align: left;"> sex </td><td style="text-align: left;"> 2 levels: Male; Female. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> WKL   </td><td style="text-align: left;"> When last worked </td><td style="text-align: left;"> 3 levels: Within the last 12 months; 1-5 years ago; </td>
</tr>
<tr>
 <td style="text-align: right;">
         </td><td style="text-align: left;">    </td><td style="text-align: left;">   </td><td style="text-align: left;"> Over 5 years ago or never worked. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='ss16pusa_sample_nozeros_miss'>
Example dataframe for input categorical data without structural zeros (with missing values).
</h2><span id='topic+ss16pusa_sample_nozeros_miss'></span>

<h3>Description</h3>

<p>Example dataframe for input categorical data without structural zeros (with missing values). It contains 1000 observations and 3 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> MAR </td><td style="text-align: left;"> marital status </td><td style="text-align: left;"> 5 levels: Married; Widowed; Divorced; Separated; Never married. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> SEX    </td><td style="text-align: left;"> sex </td><td style="text-align: left;"> 2 levels: Male; Female. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> WKL   </td><td style="text-align: left;"> When last worked </td><td style="text-align: left;"> 3 levels: Within the last 12 months; 1-5 years ago; </td>
</tr>
<tr>
 <td style="text-align: right;">
         </td><td style="text-align: left;">       </td><td style="text-align: left;">                 </td><td style="text-align: left;">  Over 5 years ago or never worked. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='ss16pusa_sample_zeros'>
Example dataframe for input categorical data with structural zeros (without missing values).
</h2><span id='topic+ss16pusa_sample_zeros'></span>

<h3>Description</h3>

<p>Example dataframe for input categorical data with structural zeros (without missing values). It contains 1000 observations and 5 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> AGEP  </td><td style="text-align: left;"> age </td><td style="text-align: left;"> 7 levels: 16; 17; [18, 24]; [25, 35]; [36, 50]; [51, 70]; (70, ). </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> MAR </td><td style="text-align: left;"> marital status </td><td style="text-align: left;"> 5 levels: Married; Widowed; Divorced; Separated; </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;"> </td><td style="text-align: left;">  </td><td style="text-align: left;"> Never married. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> SCHL    </td><td style="text-align: left;"> educational attainment </td><td style="text-align: left;"> 9 levels: Up to K0; Some K12, no diploma;   </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  High school diploma or GED; Some college, no degree;   </td>
</tr>
<tr>
 <td style="text-align: right;">
      </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  Associate's degree; Bachelor's degree; Master's degree;  </td>
</tr>
<tr>
 <td style="text-align: right;">
       </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;"> Professional degree; Doctorate degree. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,4] </td><td style="text-align: left;"> SEX    </td><td style="text-align: left;"> sex </td><td style="text-align: left;"> 2 levels: Male; Female. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,5] </td><td style="text-align: left;"> WKL   </td><td style="text-align: left;"> When last worked </td><td style="text-align: left;"> 3 levels: Within the last 12 months; 1-5 years ago;  </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  Over 5 years ago or never worked. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='ss16pusa_sample_zeros_miss'>
Example dataframe for input categorical data with structural zeros (with missing values).
</h2><span id='topic+ss16pusa_sample_zeros_miss'></span>

<h3>Description</h3>

<p>Example dataframe for input categorical data with structural zeros (with missing values). It contains 1000 observations and 5 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> AGEP </td><td style="text-align: left;"> age </td><td style="text-align: left;"> 7 levels: 16; 17; [18, 24]; [25, 35]; [36, 50]; [51, 70]; (70, ). </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> MAR </td><td style="text-align: left;"> marital status </td><td style="text-align: left;"> 5 levels: Married; Widowed; Divorced; Separated; </td>
</tr>
<tr>
 <td style="text-align: right;">
         </td><td style="text-align: left;"> </td><td style="text-align: left;"> </td><td style="text-align: left;"> Never married. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> SCHL    </td><td style="text-align: left;"> educational attainment </td><td style="text-align: left;"> 9 levels: Up to K0; Some K12, no diploma;  </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">     </td><td style="text-align: left;">  </td><td style="text-align: left;"> High school diploma or GED; Some college, no degree;   </td>
</tr>
<tr>
 <td style="text-align: right;">
      </td><td style="text-align: left;">     </td><td style="text-align: left;">  </td><td style="text-align: left;"> Associate's degree; Bachelor's degree; Master's degree;  </td>
</tr>
<tr>
 <td style="text-align: right;">
    </td><td style="text-align: left;">     </td><td style="text-align: left;">  </td><td style="text-align: left;"> Professional degree; Doctorate degree. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,4] </td><td style="text-align: left;"> SEX    </td><td style="text-align: left;"> sex </td><td style="text-align: left;"> 2 levels: Male; Female. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,5] </td><td style="text-align: left;"> WKL   </td><td style="text-align: left;"> When last worked </td><td style="text-align: left;"> 3 levels: Within the last 12 months; 1-5 years ago; </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;"> Over 5 years ago or never worked. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


<hr>
<h2 id='UpdateX'>
Allow user to update the model with data matrix of same kind.
</h2><span id='topic+UpdateX'></span>

<h3>Description</h3>

<p>Allow user to replace initial matrix with a new data matrix of same size and same number of factors. This is not intended for general use and is only useful for very specific circumstance. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>UpdateX(model, X)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="UpdateX_+3A_model">model</code></td>
<td>
<p>The Rcpp model object created by the CreateModel function.</p>
</td></tr>
<tr><td><code id="UpdateX_+3A_x">X</code></td>
<td>
<p>a data frame with the dataset with missing values. All variables must be unordered factors.</p>
</td></tr>
</table>

<hr>
<h2 id='X'>
Example dataframe for input categorical data with missing values based on the NYMockexample dataset.
</h2><span id='topic+X'></span>

<h3>Description</h3>

<p>Example dataframe for input categorical data with missing values based on the NYMockexample dataset. It contains 2000 observations and 10 variables.
</p>

<table>
<tr>
 <td style="text-align: right;">
    [,1] </td><td style="text-align: left;"> OWNERSHIP  </td><td style="text-align: left;"> ownership of dwelling </td><td style="text-align: left;"> 3 levels: N/A; Owned or being bought (loan); </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">   </td><td style="text-align: left;">  </td><td style="text-align: left;">  Rented. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,2] </td><td style="text-align: left;"> MORTGAGE </td><td style="text-align: left;"> mortgate status </td><td style="text-align: left;"> 4 levels: N/A; No, owned free and clear; </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  Yes, mortgaged / deed of trust or similar debt;  </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  Yes, contract to purchase. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,3] </td><td style="text-align: left;"> AGE    </td><td style="text-align: left;"> age </td><td style="text-align: left;"> 9 levels: [0, 14]; 15; 16; 17; [18, 24]; [25, 35]; [36, 50];  </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">    </td><td style="text-align: left;"> </td><td style="text-align: left;"> 9  [51, 70]; [71, ). </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,4] </td><td style="text-align: left;"> SEX    </td><td style="text-align: left;"> sex </td><td style="text-align: left;"> 2 levels: Male; Female. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,5] </td><td style="text-align: left;"> MARST   </td><td style="text-align: left;"> martial status </td><td style="text-align: left;"> 6 levels: Married, spouse present; Married, spouse absent; </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">   </td><td style="text-align: left;">  </td><td style="text-align: left;"> Separated; Divorced; Widowed; Never married / single. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,6] </td><td style="text-align: left;"> RACESING     </td><td style="text-align: left;"> single race identification </td><td style="text-align: left;"> 5 levels: White; Black; American Indian / Alaska Native;</td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">     </td><td style="text-align: left;">  </td><td style="text-align: left;">   Asian and / or Pacific Islander; Other race, non-Hispanic. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,7] </td><td style="text-align: left;"> EDUC        </td><td style="text-align: left;"> educational attainment </td><td style="text-align: left;"> 11 levels: N/A or no schooling; Nursery school to grade 4;  </td>
</tr>
<tr>
 <td style="text-align: right;">
      </td><td style="text-align: left;">     </td><td style="text-align: left;">   </td><td style="text-align: left;">  Grade 5, 6, 7, or 8; Grade 9; Grade 10; Grade 11; </td>
</tr>
<tr>
 <td style="text-align: right;">
      </td><td style="text-align: left;">     </td><td style="text-align: left;">   </td><td style="text-align: left;">  Grade 12; 1 year of college; 2 years of college;  </td>
</tr>
<tr>
 <td style="text-align: right;">
      </td><td style="text-align: left;">     </td><td style="text-align: left;">   </td><td style="text-align: left;">  4 years of college; 5+ years of college. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,8] </td><td style="text-align: left;"> EMPSTAT   </td><td style="text-align: left;"> employment status </td><td style="text-align: left;"> 4 levels: N/A; Employed; Unemployed; Not in labor force. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,9] </td><td style="text-align: left;"> DISABWRK </td><td style="text-align: left;"> work disability status </td><td style="text-align: left;"> 3 levels: N/A; No disability that affects work; </td>
</tr>
<tr>
 <td style="text-align: right;">
     </td><td style="text-align: left;">  </td><td style="text-align: left;">  </td><td style="text-align: left;">  Disability causes difficulty working. </td>
</tr>
<tr>
 <td style="text-align: right;">
    [,10] </td><td style="text-align: left;"> VESTAT </td><td style="text-align: left;"> veteran status </td><td style="text-align: left;"> 3 levels: N/A; Not a veteran; Veteran. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

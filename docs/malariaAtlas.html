<!DOCTYPE html><html><head><title>Help for package malariaAtlas</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {malariaAtlas}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.MAPraster'><p>Convert Raster objects into MAPraster objects</p></a></li>
<li><a href='#as.MAPshp'><p>Convert SpatialPolygon objects into MAPshp objects</p></a></li>
<li><a href='#as.pr.points'><p>Convert data.frames to pr.points objects.</p></a></li>
<li><a href='#as.vectorpoints'><p>Convert data.frames to vector.points objects.</p></a></li>
<li><a href='#autoplot_MAPraster'><p>Quickly visualise Rasters downloaded from MAP</p></a></li>
<li><a href='#autoplot.MAPraster'><p>Quickly visualise Rasters downloaded from MAP</p></a></li>
<li><a href='#autoplot.MAPshp'><p>Create a basic plot to visualise downloaded shapefiles</p></a></li>
<li><a href='#autoplot.pr.points'><p>Create a basic plot showing locations of downloaded PR points</p></a></li>
<li><a href='#autoplot.sf'><p>Create a basic plot to visualise downloaded shapefiles</p></a></li>
<li><a href='#autoplot.SpatRaster'><p>Quickly visualise Rasters downloaded from MAP</p></a></li>
<li><a href='#autoplot.SpatRasterCollection'><p>Quickly visualise Rasters downloaded from MAP</p></a></li>
<li><a href='#autoplot.vector.points'><p>Create a basic plot showing locations of downloaded Vector points</p></a></li>
<li><a href='#build_bbox_filter'><p>Builds a filter to be used with getFeatures, that will filter based on the given bounding box.</p></a></li>
<li><a href='#build_cql_bbox_filter'><p>Builds a CQL filter to be used with getFeatures, that will filter based on the given bounding box.</p></a></li>
<li><a href='#build_cql_filter'><p>Builds a cql filter to be used with getFeatures, that will filter based on the given list of values.</p></a></li>
<li><a href='#build_cql_time_filter'><p>Builds a cql filter to be used with getFeatures, that will filter based on the time range</p>
provided by start_date and end_date.</a></li>
<li><a href='#callGetFeaturesWithFilters'><p>Calls getFeatures on the given type with the given filters, where they are not NULL.</p></a></li>
<li><a href='#clean_mosquito_names'><p>Function to clean up a bunch of mess in the mosquito names.</p></a></li>
<li><a href='#combine_cql_filters'><p>Builds a cql filter from a list of cql sub filters</p></a></li>
<li><a href='#convert_to_date_with_trycatch'><p>Tries to convert character into a Date object. If this fails, the program will be stopped and an error message</p>
shown to the user</a></li>
<li><a href='#convertPrevalence'><p>convert prevalences from one age range to another</p></a></li>
<li><a href='#extractLayerValues'><p>Returns a data.frame of the extracted raster values with columns for layerName, year, value, long and lat.</p></a></li>
<li><a href='#extractRaster'><p>Extract pixel values from MAP rasters using point coordinates.</p></a></li>
<li><a href='#fetchCountriesGivenDatasetId'><p>Get the list of available countries for a given dataset_id in the Explorer workspace,</p></a></li>
<li><a href='#fillDHSCoordinates'><p>Add DHS locations to malaria data</p></a></li>
<li><a href='#get_name_from_wfs_feature_type_id'><p>Get the name from a wfs feature type id.</p></a></li>
<li><a href='#get_wcs_client_from_raster_id'><p>Get the WCS client for a raster ID.</p></a></li>
<li><a href='#get_wcs_clients'><p>WCS clients lazily created or from cache</p></a></li>
<li><a href='#get_wcs_coverage_summary_from_raster_id'><p>Get the WCS coverage summary for a raster ID.</p></a></li>
<li><a href='#get_wfs_clients'><p>WFS clients lazily created or from cache</p></a></li>
<li><a href='#get_wms_clients'><p>WMS clients lazily created or from cache</p></a></li>
<li><a href='#get_workspace_and_version_from_coverage_id'><p>Get the workspace and version from a raster id.</p></a></li>
<li><a href='#get_workspace_and_version_from_wfs_feature_type_id'><p>Get the workspace and version from a wfs feature type id.</p></a></li>
<li><a href='#getLatestVersionForAdminData'><p>Get the latest version of admin boundary data</p></a></li>
<li><a href='#getLatitudeColumn'><p>Returns the best latitude column name in df data.frame, if one exists.</p></a></li>
<li><a href='#getLongitudeColumn'><p>Returns the best longitude column name in df data.frame, if one exists.</p></a></li>
<li><a href='#getMinAndMaxYear'><p>Gets the minimum and maximum year for the time dimension values of a WMS Layer.</p></a></li>
<li><a href='#getPR'><p>Download PR points from the MAP database</p></a></li>
<li><a href='#getPropertiesForAdminLevel'><p>Gets the property string to provide to getFeatures input propertyName, given an admin level.</p></a></li>
<li><a href='#getRaster'><p>Download Rasters produced by the Malaria Atlas Project</p></a></li>
<li><a href='#getRasterDatasetIdFromSurface'><p>Gets the rasters dataset id, given a surface (title). If more than one rasters have that surface/title, then the one with</p>
the most recent version is selected. If there are no matches, the program will stop with a relevant message.</a></li>
<li><a href='#getShp'><p>Download MAPadmin2013 Administrative Boundary Shapefiles from the MAP geoserver</p></a></li>
<li><a href='#getSpBbox'><p>Return sp style bbox</p></a></li>
<li><a href='#getVecOcc'><p>Download Vector Occurrence points from the MAP database</p>
<code>getVecOcc</code> downloads all publicly available vector occurrence points for a specified country (or countries) and returns this as a dataframe.
<code>country</code> and <code>ISO</code> refer to countries and a lower-level administrative regions such as French Guiana.</a></li>
<li><a href='#isAvailable'><p>Available data to download from the MAP geoserver.</p></a></li>
<li><a href='#isAvailable_pr'><p>Check whether PR points are available for a given location</p></a></li>
<li><a href='#isAvailable_vec'><p>Check whether Vector Occurrence points are available for a given location</p></a></li>
<li><a href='#listData'><p>Deprecated function. Please instead use listPRPointCountries for pr points, listVecOccPointCountries for vector points, listRaster for raster and listShp for shape.</p></a></li>
<li><a href='#listFeatureTypeDatasetsFromWorkspace'><p>List all datasets from the Web Feature Services provided by the Malaria Atlas Project within the given workspace.</p></a></li>
<li><a href='#listPoints'><p>Deprecated function. Please instead use listPRPointCountries for pr points, and listVecOccPointCountries for vector points</p></a></li>
<li><a href='#listPRPointCountries'><p>List countries where there is pr point data available</p></a></li>
<li><a href='#listPRPointVersions'><p>List all dataset versions from the Web Feature Services provided by the Malaria Atlas Project within the Parasite Rate workspace.</p></a></li>
<li><a href='#listRaster'><p>List all MAP Rasters available to download.</p></a></li>
<li><a href='#listShp'><p>List administrative units for which shapefiles are stored on the MAP geoserver.</p></a></li>
<li><a href='#listShpVersions'><p>List all versions of admin unit shapes from the Web Feature Services provided by the Malaria Atlas Project within the Admin Units workspace.</p></a></li>
<li><a href='#listSpecies'><p>list all species which have occurrence data within the MAP database.</p></a></li>
<li><a href='#listVecOccPointCountries'><p>List countries where there is vector occurrence point data available</p></a></li>
<li><a href='#listVecOccPointVersions'><p>List all dataset versions from the Web Feature Services provided by the Malaria Atlas Project within the Vector Occurrence workspace.</p></a></li>
<li><a href='#makeSpatRasterAutoplot'><p>Create a single (sub) plot for a SpatRaster</p></a></li>
<li><a href='#malariaAtlas'><p>An R interface to open-access malaria data, hosted by the Malaria Atlas Project.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>An R Interface to Open-Access Malaria Data, Hosted by the
'Malaria Atlas Project'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A suite of tools to allow you to download all 
  publicly available parasite rate survey points, mosquito occurrence points and raster surfaces from 
  the 'Malaria Atlas Project' <a href="https://malariaatlas.org/">https://malariaatlas.org/</a> servers as well as utility functions for plotting
  the downloaded data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>xml2, gridExtra, httr, dplyr, tidyr, methods, stats, utils,
rlang, sf, lifecycle, terra, tidyterra, ows4R, future.apply,
lubridate, jsonlite, stringr</td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, palettetown, magrittr, tibble,
rdhs (&ge; 0.8.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/malaria-atlas-project/malariaAtlas">https://github.com/malaria-atlas-project/malariaAtlas</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/malaria-atlas-project/malariaAtlas/issues">https://github.com/malaria-atlas-project/malariaAtlas/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-27 06:06:22 UTC; mvandenberg</td>
</tr>
<tr>
<td>Author:</td>
<td>Mauricio van den Berg [aut, cre],
  Sarah Connor [aut],
  Daniel Pfeffer <a href="https://orcid.org/0000-0002-2204-3488"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Tim Lucas <a href="https://orcid.org/0000-0003-4694-8107"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Daniel May <a href="https://orcid.org/0000-0003-0005-2452"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Suzanne Keddie <a href="https://orcid.org/0000-0003-1254-7794"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Jen Rozier <a href="https://orcid.org/0000-0002-2610-7557"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Oliver Watson <a href="https://orcid.org/0000-0003-2374-0741"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Harry Gibson <a href="https://orcid.org/0000-0001-6779-3250"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Nick Golding [ctb],
  David Smith [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mauricio van den Berg &lt;mauricio.vandenberg@telethonkids.org.au&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-27 06:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.MAPraster'>Convert Raster objects into MAPraster objects</h2><span id='topic+as.MAPraster'></span>

<h3>Description</h3>

<p><code>as.MAPraster</code> converts a RasterLayer or RasterStack object into a 'MAPraster' object (data.frame) for easy plotting with ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.MAPraster(raster_object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.MAPraster_+3A_raster_object">raster_object</code></td>
<td>
<p>RasterLayer or Rasterstack object to convert into a MAPraster.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>as.MAPraster</code> returns a MAPraster object (data.frame) containing the below columns.
</p>

<ol>
<li> <p><code>x</code> - x coordinates of raster pixels
</p>
</li>
<li> <p><code>y</code> - y coordinates of raster pixels
</p>
</li>
<li> <p><code>z</code> - value of raster pixels
</p>
</li>
<li> <p><code>raster_name</code> - name of raster for which values are stored in z
</p>
</li></ol>



<h3>See Also</h3>

<p><code><a href="#topic+getRaster">getRaster</a></code>:
</p>
<p>to download rasters directly from MAP.
</p>
<p><code><a href="#topic+as.MAPraster">as.MAPraster</a></code>:
</p>
<p>to convert RasterLayer/RasterStack objects into a 'MAPraster' object (data.frame) for easy plotting with ggplot.
</p>
<p><code><a href="#topic+autoplot.MAPraster">autoplot.MAPraster</a></code>:
</p>
<p>to quickly visualise MAPraster objects created using <code>as.MAPraster</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Download PfPR2-10 Raster for Madagascar in 2015 and visualise this on a map.
## Not run: 
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")
MDG_PfPR2_10 &lt;- getRaster(surface = "Plasmodium falciparum PR2-10", shp = MDG_shp, year = 2015)
MDG_PfPR2_10 &lt;- as.MAPraster(MDG_PfPR2_10)
autoplot(MDG_PfPR2_10)
## End(Not run)

#Download global raster of G6PD deficiency from Howes et al 2012 and visualise this on a map.
## Not run: 
G6PDd_global &lt;- getRaster(surface = "G6PD Deficiency Allele Frequency")
G6PDd_global &lt;- as.MAPraster(G6PDd_global)
autoplot(G6PDd_global)
## End(Not run)

</code></pre>

<hr>
<h2 id='as.MAPshp'>Convert SpatialPolygon objects into MAPshp objects</h2><span id='topic+as.MAPshp'></span>

<h3>Description</h3>

<p><code>as.MAPshp</code> converts a SpatialPolygon or SpatialPolygonsDataframe object downloaded using getShp into a 'MAPshp object (data.frame) for easy plotting with ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.MAPshp(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.MAPshp_+3A_object">object</code></td>
<td>
<p>SpatialPolygon or SpatialPolygonsDataframe object to convert into a 'MAPshp'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>as.MAPshp</code> returns a MAPshp object (data.frame) containing the below columns.
</p>

<ol>
<li> <p><code>country_id</code> ISO-3 code of given administrative unit (or the ISO code of parent unit for administrative-level 1 units).
</p>
</li>
<li> <p><code>gaul_code</code> GAUL code of given administrative unit.
</p>
</li>
<li> <p><code>admn_level</code> administrative level of the given administrative unit - either 0 (national) or 1 (first-level division)
</p>
</li>
<li> <p><code>parent_id</code> GAUL code of parent administrative unit of a given polygon (for admin0 polygons, PARENT_ID = 0).
</p>
</li>
<li> <p><code>country_level</code> composite <code>country_id</code>_<code>admn_level</code> field.
</p>
</li></ol>



<h3>See Also</h3>

<p><code><a href="#topic+autoplot.MAPshp">autoplot.MAPshp</a></code>
</p>
<p>to download rasters directly from MAP.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Download shapefiles for Madagascar and visualise these on a map.

## Not run: 
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")
MDG_shp &lt;- as.MAPshp(MDG_shp)
autoplot(MDG_shp)

## End(Not run)

</code></pre>

<hr>
<h2 id='as.pr.points'>Convert data.frames to pr.points objects.</h2><span id='topic+as.pr.points'></span>

<h3>Description</h3>

<p>Will create empty columns for any missing columns expected in a pr.points data.frame.
This function is particularly useful for use with packages like dplyr that strip
objects of their classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.pr.points(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.pr.points_+3A_x">x</code></td>
<td>
<p>A data.frame</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>#Download PfPR data for Nigeria and Cameroon and map the locations of these points using autoplot
## Not run: 
library(dplyr)
NGA_CMR_PR &lt;- getPR(country = c("Nigeria", "Cameroon"), species = "Pf")

# Filter the data frame then readd pr.points class so that autoplot can be used.
NGA_CMR_PR %&gt;%
  filter(year_start &gt; 2010) %&gt;%
  as.pr.points %&gt;%
  autoplot


## End(Not run)
</code></pre>

<hr>
<h2 id='as.vectorpoints'>Convert data.frames to vector.points objects.</h2><span id='topic+as.vectorpoints'></span>

<h3>Description</h3>

<p>Will create empty columns for any missing columns expected in a vector.points data.frame.
This function is particularly useful for use with packages like dplyr that strip
objects of their classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.vectorpoints(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.vectorpoints_+3A_x">x</code></td>
<td>
<p>A data.frame</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)
Brazil_vec &lt;- getVecOcc(country = "Brazil")

# Filter data.frame then readd vector points class so autoplot can be used.
Brazil_vec %&gt;%
  filter(sample_method1 == 'larval collection') %&gt;%
  as.vectorpoints %&gt;%
  autoplot

## End(Not run)
</code></pre>

<hr>
<h2 id='autoplot_MAPraster'>Quickly visualise Rasters downloaded from MAP</h2><span id='topic+autoplot_MAPraster'></span>

<h3>Description</h3>

<p><code>autoplot_MAPraster</code> is a wrapper for <code><a href="#topic+autoplot.MAPraster">autoplot.MAPraster</a></code> that calls
<code><a href="#topic+as.MAPraster">as.MAPraster</a></code> to allow automatic map creation for RasterLayer/RasterStack
objects downloaded from MAP.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>autoplot_MAPraster(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot_MAPraster_+3A_object">object</code></td>
<td>
<p>RasterLayer/RasterStack object to be visualised.</p>
</td></tr>
<tr><td><code id="autoplot_MAPraster_+3A_...">...</code></td>
<td>
<p>other optional arguments to autoplot.MAPraster (e.g. shp_df, legend_title, page_title...)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot_MAPraster</code> returns a list of plots (gg objects) for each supplied raster.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getRaster">getRaster</a></code>:
</p>
<p>to download rasters directly from MAP.
</p>
<p><code><a href="#topic+as.MAPraster">as.MAPraster</a></code>:
</p>
<p>to convert RasterLayer/RasterStack objects into a 'MAPraster' object (data.frame) for
easy plotting with ggplot.
</p>
<p><code><a href="#topic+autoplot.MAPraster">autoplot.MAPraster</a></code>:
</p>
<p>to quickly visualise MAPraster objects created using <code>as.MAPraster</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#Download PfPR2-10 Raster (Bhatt et al 2015) and raw survey points for Madagascar in
#  2013 and visualise these together on a map.

# Download madagascar shapefile to use for raster download.
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")

# Download PfPR2-10 Raster for 2013 &amp; plot this
MDG_PfPR2_10 &lt;- getRaster(surface = "Plasmodium falciparum PR2-10", shp = MDG_shp, year = 2013)
# p &lt;- autoplot_MAPraster(MDG_PfPR2_10)

# Download raw PfPR survey points &amp; plot these over the top of the raster
pr &lt;- getPR(country = c("Madagascar"), species = "Pf")
# p[[1]] +
# geom_point(data = pr[pr$year_start==2013,],
#            aes(longitude, latitude, fill = positive / examined, size = examined), shape = 21) +
#   scale_size_continuous(name = "Survey Size") +
#   scale_fill_distiller(name = "PfPR", palette = "RdYlBu") +
#   ggtitle("Raw PfPR Survey points\n + Modelled PfPR 2-10 in Madagascar in 2013")
## End(Not run)


# Download global raster of G6PD deficiency (Howes et al 2012) and visualise this on a map.
## Not run: 
G6PDd_global &lt;- getRaster(surface = "G6PD Deficiency Allele Frequency")
#autoplot_MAPraster(G6PDd_global)

## End(Not run)

</code></pre>

<hr>
<h2 id='autoplot.MAPraster'>Quickly visualise Rasters downloaded from MAP</h2><span id='topic+autoplot.MAPraster'></span>

<h3>Description</h3>

<p><code>autoplot.MAPraster</code> creates a map of all rasters in a MAPraster object and
displays these in a grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MAPraster'
autoplot(
  object,
  ...,
  shp_df = NULL,
  legend_title = "",
  plot_titles = TRUE,
  fill_scale_transform = "identity",
  fill_colour_palette = "RdYlBu",
  printed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.MAPraster_+3A_object">object</code></td>
<td>
<p>MAPraster object to be visualised.</p>
</td></tr>
<tr><td><code id="autoplot.MAPraster_+3A_...">...</code></td>
<td>
<p>Other arguments passed to specific methods</p>
</td></tr>
<tr><td><code id="autoplot.MAPraster_+3A_shp_df">shp_df</code></td>
<td>
<p>Shapefile(s) (data.frame) to plot with downloaded raster.</p>
</td></tr>
<tr><td><code id="autoplot.MAPraster_+3A_legend_title">legend_title</code></td>
<td>
<p>String used as title for all colour scale legends.</p>
</td></tr>
<tr><td><code id="autoplot.MAPraster_+3A_plot_titles">plot_titles</code></td>
<td>
<p>Plot name of raster object as header for each individual raster plot?</p>
</td></tr>
<tr><td><code id="autoplot.MAPraster_+3A_fill_scale_transform">fill_scale_transform</code></td>
<td>
<p>String givning a transformation for the fill aesthetic.
See the trans argument in <code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="autoplot.MAPraster_+3A_fill_colour_palette">fill_colour_palette</code></td>
<td>
<p>String referring to a colorbrewer palette to be used for raster colour scale.</p>
</td></tr>
<tr><td><code id="autoplot.MAPraster_+3A_printed">printed</code></td>
<td>
<p>Logical vector indicating whether to print maps of supplied rasters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.MAPraster</code> returns a list of plots (gg objects) for each
supplied raster.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getRaster">getRaster</a></code>:
</p>
<p>to download rasters directly from MAP.
</p>
<p><code><a href="#topic+as.MAPraster">as.MAPraster</a></code>:
</p>
<p>to convert RasterLayer/RasterStack objects into a 'MAPraster' object
(data.frame) for easy plotting with ggplot.
</p>
<p><code><a href="#topic+autoplot.MAPraster">autoplot.MAPraster</a></code>:
</p>
<p>to quickly visualise MAPraster objects created using <code>as.MAPraster</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download PfPR2-10 Raster (Bhatt et al 2015) and raw survey points
#   for Madagascar in 2013 and visualise these together on a map.

# Download madagascar shapefile to use for raster download.
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")

# Download PfPR2-10 Raster for 2013 &amp; plot this
MDG_PfPR2_10 &lt;- getRaster(surface = "Plasmodium falciparum PR2-10", 
                          shp = MDG_shp, year = 2013)
p &lt;- autoplot(MDG_PfPR2_10, shp_df = MDG_shp)

# Download raw PfPR survey points &amp; plot these over the top of the raster
pr &lt;- getPR(country = c("Madagascar"), species = "Pf")

# Download global raster of G6PD deficiency (Howes et al 2012) and visualise this on a map.
G6PDd_global &lt;- getRaster(surface = "G6PD Deficiency Allele Frequency")
autoplot(G6PDd_global)

## End(Not run)

</code></pre>

<hr>
<h2 id='autoplot.MAPshp'>Create a basic plot to visualise downloaded shapefiles</h2><span id='topic+autoplot.MAPshp'></span>

<h3>Description</h3>

<p><code>autoplot.MAPshp</code> creates a map of shapefiles downloaded using getShp.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MAPshp'
autoplot(object, ..., map_title = NULL, facet = FALSE, printed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.MAPshp_+3A_object">object</code></td>
<td>
<p>A MAPshp object downloaded using <code><a href="#topic+getShp">getShp</a></code> with format = &quot;df&quot; specified.</p>
</td></tr>
<tr><td><code id="autoplot.MAPshp_+3A_...">...</code></td>
<td>
<p>Other arguments passed to specific methods</p>
</td></tr>
<tr><td><code id="autoplot.MAPshp_+3A_map_title">map_title</code></td>
<td>
<p>Custom title used for the plot.</p>
</td></tr>
<tr><td><code id="autoplot.MAPshp_+3A_facet">facet</code></td>
<td>
<p>If TRUE, splits map into a separate facet for each administrative level.</p>
</td></tr>
<tr><td><code id="autoplot.MAPshp_+3A_printed">printed</code></td>
<td>
<p>Should the plot print to graphics device.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.MAPshp</code> returns a map (gg object) of the supplied MAPShp dataframe.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")
autoplot(as.MAPshp(MDG_shp))

## End(Not run)

</code></pre>

<hr>
<h2 id='autoplot.pr.points'>Create a basic plot showing locations of downloaded PR points</h2><span id='topic+autoplot.pr.points'></span>

<h3>Description</h3>

<p><code>autoplot.pr.points</code> creates a map of PR points downloaded from MAP.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pr.points'
autoplot(
  object,
  ...,
  shp_df = NULL,
  admin_level = "admin0",
  map_title = "PR Survey Locations",
  fill_legend_title = "Raw PR",
  fill_scale_transform = "identity",
  facet = NULL,
  hide_confidential = FALSE,
  printed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.pr.points_+3A_object">object</code></td>
<td>
<p>a pr.points object downloaded using <code><a href="#topic+getPR">getPR</a></code></p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_...">...</code></td>
<td>
<p>Other arguments passed to specific methods</p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_shp_df">shp_df</code></td>
<td>
<p>Shapefile(s) (data.frame) to plot with downloaded points. (If not specified automatically uses getShp() for all countries included in pr.points object).</p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_admin_level">admin_level</code></td>
<td>
<p>the administrative level used for plotting administrative boundaries; either <code>"admin0"</code>; <code>"admin1"</code> OR <code>"both"</code></p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_map_title">map_title</code></td>
<td>
<p>custom title used for the plot</p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_fill_legend_title">fill_legend_title</code></td>
<td>
<p>Add a title to the legend.</p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_fill_scale_transform">fill_scale_transform</code></td>
<td>
<p>String givning a transformation for the fill aesthetic.
See the trans argument in <code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_facet">facet</code></td>
<td>
<p>if TRUE, splits map into a separate facet for each malaria species; by default FALSE if only one species is present in object, TRUE if both P. falciparum and P. vivax data are present in object.</p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_hide_confidential">hide_confidential</code></td>
<td>
<p>if TRUE, removes confidential points from the map</p>
</td></tr>
<tr><td><code id="autoplot.pr.points_+3A_printed">printed</code></td>
<td>
<p>Should the plot be printed to the graphics device.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.pr.points</code> returns a plots (gg object) for the supplied pr.points dataframe.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
PfPR_surveys_NGA &lt;- getPR(country = c("Nigeria"), species = "Pf")
autoplot(PfPR_surveys_NGA)

# Download PfPR2-10 Raster (Bhatt et al. 2015) and raw survey points for Madagascar in
#   2013 and visualise these together on a map.

# Download madagascar shapefile to use for raster download.
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")

# Download PfPR2-10 Raster for 2013 &amp; plot this
MDG_PfPR2_10 &lt;- getRaster(surface = "Plasmodium falciparum PR2-10", shp = MDG_shp, year = 2013)
p &lt;- autoplot(MDG_PfPR2_10)

# Download raw PfPR survey points &amp; plot these over the top of the raster
pr &lt;- getPR(country = c("Madagascar"), species = "Pf")
# p[[1]] +
# geom_point(data = pr[pr$year_start==2013,],
#            aes(longitude, latitude, fill = positive / examined,
#                size = examined), shape = 21) +
#   scale_size_continuous(name = "Survey Size") +
#   scale_fill_distiller(name = "PfPR", palette = "RdYlBu") +
#   ggtitle("Raw PfPR Survey points\n + Modelled PfPR 2-10 in Madagascar in 2013")

## End(Not run)

</code></pre>

<hr>
<h2 id='autoplot.sf'>Create a basic plot to visualise downloaded shapefiles</h2><span id='topic+autoplot.sf'></span>

<h3>Description</h3>

<p><code>autoplot.sf</code> creates a map of shapefiles downloaded using getShp.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sf'
autoplot(object, ..., map_title = NULL, facet = FALSE, printed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.sf_+3A_object">object</code></td>
<td>
<p>A sf object downloaded using <code><a href="#topic+getShp">getShp</a></code>.</p>
</td></tr>
<tr><td><code id="autoplot.sf_+3A_...">...</code></td>
<td>
<p>Other arguments passed to specific methods</p>
</td></tr>
<tr><td><code id="autoplot.sf_+3A_map_title">map_title</code></td>
<td>
<p>Custom title used for the plot.</p>
</td></tr>
<tr><td><code id="autoplot.sf_+3A_facet">facet</code></td>
<td>
<p>If TRUE, splits map into a separate facet for each administrative level.</p>
</td></tr>
<tr><td><code id="autoplot.sf_+3A_printed">printed</code></td>
<td>
<p>Should the plot print to graphics device.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.sf</code> returns a map of the supplied sf object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")
autoplot(MDG_shp)

## End(Not run)

</code></pre>

<hr>
<h2 id='autoplot.SpatRaster'>Quickly visualise Rasters downloaded from MAP</h2><span id='topic+autoplot.SpatRaster'></span>

<h3>Description</h3>

<p><code>autoplot.SpatRaster</code> creates a map of all rasters in a SpatRaster object and
displays these in a grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SpatRaster'
autoplot(
  object,
  ...,
  shp_df = NULL,
  legend_title = "",
  plot_titles = TRUE,
  fill_scale_transform = "identity",
  fill_colour_palette = "RdYlBu",
  printed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.SpatRaster_+3A_object">object</code></td>
<td>
<p>SpatRaster object to be visualised.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRaster_+3A_...">...</code></td>
<td>
<p>Other arguments passed to specific methods</p>
</td></tr>
<tr><td><code id="autoplot.SpatRaster_+3A_shp_df">shp_df</code></td>
<td>
<p>Shapefile(s) (data.frame) to plot with downloaded raster.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRaster_+3A_legend_title">legend_title</code></td>
<td>
<p>String used as title for all colour scale legends.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRaster_+3A_plot_titles">plot_titles</code></td>
<td>
<p>Plot name of raster object as header for each individual raster plot?</p>
</td></tr>
<tr><td><code id="autoplot.SpatRaster_+3A_fill_scale_transform">fill_scale_transform</code></td>
<td>
<p>String givning a transformation for the fill aesthetic.
See the trans argument in <code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRaster_+3A_fill_colour_palette">fill_colour_palette</code></td>
<td>
<p>String referring to a colorbrewer palette to be used for raster colour scale.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRaster_+3A_printed">printed</code></td>
<td>
<p>Logical vector indicating whether to print maps of supplied rasters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.SpatRaster</code> returns a list of plots (gg objects) for each
supplied raster.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getRaster">getRaster</a></code>:
</p>
<p>to download rasters directly from MAP.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download PfPR2-10 Raster (Bhatt et al 2015) and raw survey points
#   for Madagascar in 2013 and visualise these together on a map.

# Download madagascar shapefile to use for raster download.
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")

# Download PfPR2-10 Raster for 2013 &amp; plot this
MDG_PfPR2_10 &lt;- getRaster(surface = "Plasmodium falciparum PR2-10", 
                          shp = MDG_shp, year = 2013)
p &lt;- autoplot(MDG_PfPR2_10, shp_df = MDG_shp)

# Download raw PfPR survey points &amp; plot these over the top of the raster
pr &lt;- getPR(country = c("Madagascar"), species = "Pf")
# p[[1]] + geom_point(data = pr[pr$year_start==2013,],
#            aes(longitude, latitude, fill = positive / examined,
#                size = examined), shape = 21) +
#   scale_size_continuous(name = "Survey Size") +
#    scale_fill_distiller(name = "PfPR", palette = "RdYlBu") +
#    ggtitle("Raw PfPR Survey points\n +
#          Modelled PfPR 2-10 in Madagascar in 2013")


# Download global raster of G6PD deficiency (Howes et al 2012) and visualise this on a map.
G6PDd_global &lt;- getRaster(surface = "G6PD Deficiency Allele Frequency")
autoplot(G6PDd_global)

## End(Not run)

</code></pre>

<hr>
<h2 id='autoplot.SpatRasterCollection'>Quickly visualise Rasters downloaded from MAP</h2><span id='topic+autoplot.SpatRasterCollection'></span>

<h3>Description</h3>

<p><code>autoplot.SpatRasterCollection</code> creates a map of all rasters in a autoplot.SpatRasterCollection object and
displays these in a grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SpatRasterCollection'
autoplot(
  object,
  ...,
  shp_df = NULL,
  legend_title = "",
  plot_titles = TRUE,
  fill_scale_transform = "identity",
  fill_colour_palette = "RdYlBu",
  printed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_object">object</code></td>
<td>
<p>SpatRasterCollection object to be visualised.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_...">...</code></td>
<td>
<p>Other arguments passed to specific methods</p>
</td></tr>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_shp_df">shp_df</code></td>
<td>
<p>Shapefile(s) (data.frame) to plot with downloaded raster.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_legend_title">legend_title</code></td>
<td>
<p>String used as title for all colour scale legends.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_plot_titles">plot_titles</code></td>
<td>
<p>Plot name of raster object as header for each individual raster plot?</p>
</td></tr>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_fill_scale_transform">fill_scale_transform</code></td>
<td>
<p>String givning a transformation for the fill aesthetic.
See the trans argument in <code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_fill_colour_palette">fill_colour_palette</code></td>
<td>
<p>String referring to a colorbrewer palette to be used for raster colour scale.</p>
</td></tr>
<tr><td><code id="autoplot.SpatRasterCollection_+3A_printed">printed</code></td>
<td>
<p>Logical vector indicating whether to print maps of supplied rasters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.SpatRasterCollection</code> returns a list of plots (gg objects) for each
supplied raster.
</p>
<p>gg object
</p>

<hr>
<h2 id='autoplot.vector.points'>Create a basic plot showing locations of downloaded Vector points</h2><span id='topic+autoplot.vector.points'></span>

<h3>Description</h3>

<p><code>autoplot.vector.points</code> creates a map of Vector points downloaded from MAP.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'vector.points'
autoplot(
  object,
  ...,
  shp_df = NULL,
  admin_level = "admin0",
  map_title = "Vector Survey Locations",
  fill_legend_title = "Raw Vetor Occurrences",
  fill_scale_transform = "identity",
  facet = NULL,
  printed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoplot.vector.points_+3A_object">object</code></td>
<td>
<p>a vector.points object downloaded using <code><a href="#topic+getVecOcc">getVecOcc</a></code></p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_...">...</code></td>
<td>
<p>Other arguments passed to specific methods</p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_shp_df">shp_df</code></td>
<td>
<p>Shapefile(s) (data.frame) to plot with downloaded points. (If not specified automatically uses getShp() for all countries included in vector.points object).</p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_admin_level">admin_level</code></td>
<td>
<p>the administrative level used for plotting administrative boundaries; either <code>"admin0"</code>; <code>"admin1"</code> OR <code>"both"</code></p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_map_title">map_title</code></td>
<td>
<p>custom title used for the plot</p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_fill_legend_title">fill_legend_title</code></td>
<td>
<p>Add a title to the legend.</p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_fill_scale_transform">fill_scale_transform</code></td>
<td>
<p>String givning a transformation for the fill aesthetic.
See the trans argument in <code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_facet">facet</code></td>
<td>
<p>if TRUE, splits map into a separate facet for each malaria species; by default FALSE.</p>
</td></tr>
<tr><td><code id="autoplot.vector.points_+3A_printed">printed</code></td>
<td>
<p>Should the plot be printed to the graphics device.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.vector.points</code> returns a plots (gg object) for the supplied vector.points dataframe.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Vector_surveys_NGA_NG &lt;- getVecOcc(country = c("Nigeria", "Niger"))
autoplot(Vector_surveys_NGA_NG)

# Download the predicted distribution of An. dirus species complex Raster and  
#  vector points for Myanmar and visualise these together on a map.

# Download Myanmar shapefile to use for raster download.
MMR_shp &lt;- getShp(ISO = "MMR", admin_level = "admin0")

# Download An. dirus predicted distribution Raster &amp; plot this
MMR_An_dirus &lt;- getRaster(surface = "Anopheles dirus species complex", shp = MMR_shp)
p &lt;- autoplot(MMR_An_dirus, shp_df = MMR_shp, printed = FALSE)

# Download raw occurrence points &amp; plot these over the top of the raster   
species &lt;- getVecOcc(country = "Myanmar", species = "Anopheles dirus")
# p[[1]] +
# geom_point(data = species,
#  aes(longitude,
#   latitude,
#   colour = species))+
#   scale_colour_manual(values = "black", name = "Vector suvery locations")+
# scale_fill_distiller(name = "Predicted distribution of An. dirus complex",
#  palette = "PuBuGn",
#   direction = 1)+
#   ggtitle("Vector Survey points\n + The predicted distribution of An. dirus complex")

## End(Not run)

</code></pre>

<hr>
<h2 id='build_bbox_filter'>Builds a filter to be used with getFeatures, that will filter based on the given bounding box.</h2><span id='topic+build_bbox_filter'></span>

<h3>Description</h3>

<p>Builds a filter to be used with getFeatures, that will filter based on the given bounding box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_bbox_filter(bbox)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_bbox_filter_+3A_bbox">bbox</code></td>
<td>
<p>A matrix representing a bounding box.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The character string of the filter.
</p>

<hr>
<h2 id='build_cql_bbox_filter'>Builds a CQL filter to be used with getFeatures, that will filter based on the given bounding box.</h2><span id='topic+build_cql_bbox_filter'></span>

<h3>Description</h3>

<p>Builds a CQL filter to be used with getFeatures, that will filter based on the given bounding box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_cql_bbox_filter(bbox)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_cql_bbox_filter_+3A_bbox">bbox</code></td>
<td>
<p>A matrix representing a bounding box.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The character string of the CQL filter.
</p>

<hr>
<h2 id='build_cql_filter'>Builds a cql filter to be used with getFeatures, that will filter based on the given list of values.</h2><span id='topic+build_cql_filter'></span>

<h3>Description</h3>

<p>Builds a cql filter to be used with getFeatures, that will filter based on the given list of values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_cql_filter(attribute, values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_cql_filter_+3A_attribute">attribute</code></td>
<td>
<p>A string representing the attribute to filter by</p>
</td></tr>
<tr><td><code id="build_cql_filter_+3A_values">values</code></td>
<td>
<p>A character, or character list, representing one or more values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The character string of the cql filter.
</p>

<hr>
<h2 id='build_cql_time_filter'>Builds a cql filter to be used with getFeatures, that will filter based on the time range
provided by start_date and end_date.</h2><span id='topic+build_cql_time_filter'></span>

<h3>Description</h3>

<p>Builds a cql filter to be used with getFeatures, that will filter based on the time range
provided by start_date and end_date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_cql_time_filter(start_date, end_date)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_cql_time_filter_+3A_start_date">start_date</code></td>
<td>
<p>A Date Object that is the lower bound on the time range (inclusive).</p>
</td></tr>
<tr><td><code id="build_cql_time_filter_+3A_end_date">end_date</code></td>
<td>
<p>A Date Object that is the upper bound on the time range (exclusive).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The character string of the cql filter.
</p>

<hr>
<h2 id='callGetFeaturesWithFilters'>Calls getFeatures on the given type with the given filters, where they are not NULL.</h2><span id='topic+callGetFeaturesWithFilters'></span>

<h3>Description</h3>

<p>Calls getFeatures on the given type with the given filters, where they are not NULL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>callGetFeaturesWithFilters(feature_type, cql_filter, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="callGetFeaturesWithFilters_+3A_feature_type">feature_type</code></td>
<td>
<p>Object of WFSFeatureType.</p>
</td></tr>
<tr><td><code id="callGetFeaturesWithFilters_+3A_cql_filter">cql_filter</code></td>
<td>
<p>A character string that reflects cql filter e.g. &quot;time_start AFTER 2020-00-00T00:00:00Z AND country IN ('Nigeria')&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The features returned from the getFeatures called on the feature_type with the filter where not NULL.
</p>

<hr>
<h2 id='clean_mosquito_names'>Function to clean up a bunch of mess in the mosquito names.</h2><span id='topic+clean_mosquito_names'></span>

<h3>Description</h3>

<p>Function to clean up a bunch of mess in the mosquito names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_mosquito_names(available_rasters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_mosquito_names_+3A_available_rasters">available_rasters</code></td>
<td>
<p>data.frame of available rasters, with a column for title..</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same data.frame inputted, but now with some of the titles corrected.
</p>

<hr>
<h2 id='combine_cql_filters'>Builds a cql filter from a list of cql sub filters</h2><span id='topic+combine_cql_filters'></span>

<h3>Description</h3>

<p>Builds a cql filter from a list of cql sub filters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_cql_filters(filter_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_cql_filters_+3A_filter_list">filter_list</code></td>
<td>
<p>List of characters and NULL objects that represent individual cql filters e.g. list(&quot;time_start AFTER 2020-00-00T00:00:00Z&quot;, NULL, &quot;country IN ('Nigeria')&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If all values in filter_list are null, will return NULL, else will return character of combined filters. e.g. &quot;time_start AFTER 2020-00-00T00:00:00Z AND country IN ('Nigeria')&quot;
</p>

<hr>
<h2 id='convert_to_date_with_trycatch'>Tries to convert character into a Date object. If this fails, the program will be stopped and an error message
shown to the user</h2><span id='topic+convert_to_date_with_trycatch'></span>

<h3>Description</h3>

<p>Tries to convert character into a Date object. If this fails, the program will be stopped and an error message
shown to the user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_to_date_with_trycatch(input, input_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_to_date_with_trycatch_+3A_input">input</code></td>
<td>
<p>A character of length 1, to convert into a Date object.</p>
</td></tr>
<tr><td><code id="convert_to_date_with_trycatch_+3A_input_name">input_name</code></td>
<td>
<p>A character string that reflects the name of the input (to inform the user).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Will return input as a Date is it can be converted into one. Else will stop the program and issue the user with an error message.
</p>

<hr>
<h2 id='convertPrevalence'>convert prevalences from one age range to another</h2><span id='topic+convertPrevalence'></span>

<h3>Description</h3>

<p>convert prevalences from one age range to another
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertPrevalence(
  prevalence,
  age_min_in,
  age_max_in,
  age_min_out = rep(2, length(prevalence)),
  age_max_out = rep(9, length(prevalence)),
  parameters = "Pf_Smith2007",
  sample_weights = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertPrevalence_+3A_prevalence">prevalence</code></td>
<td>
<p>Vector of prevalence values</p>
</td></tr>
<tr><td><code id="convertPrevalence_+3A_age_min_in">age_min_in</code></td>
<td>
<p>Vector of minimum ages sampled</p>
</td></tr>
<tr><td><code id="convertPrevalence_+3A_age_max_in">age_max_in</code></td>
<td>
<p>Vector maximum ages sampled.</p>
</td></tr>
<tr><td><code id="convertPrevalence_+3A_age_min_out">age_min_out</code></td>
<td>
<p>Length 1 numeric or vector of same length as prevalence given the required age range upper bound</p>
</td></tr>
<tr><td><code id="convertPrevalence_+3A_age_max_out">age_max_out</code></td>
<td>
<p>Length 1 numeric or vector of same length as prevalence given the required age range lower bound</p>
</td></tr>
<tr><td><code id="convertPrevalence_+3A_parameters">parameters</code></td>
<td>
<p>Specifies the set of parameters to use in the
model. This can either be &quot;Pf_Smith2007&quot; to use the parameters
for *Plasmodium falciparum* defined in that paper,
&quot;Pv_Gething2012&quot; for the *P. vivax* parameters used in that paper,
or a user-specified vector givng the values of parameters 'b',
's', 'c' and 'alpha', in that order. If specified,</p>
</td></tr>
<tr><td><code id="convertPrevalence_+3A_sample_weights">sample_weights</code></td>
<td>
<p>Must be a vector of length 85 giving the
sample weights for each age category (the proportion of the
population in that age category) . If 'NULL', The sample
weights used in Smith et al. 2007 are used.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Smith, D. L. et al. Standardizing estimates of the
Plasmodium falciparum parasite rate. Malaria Journal 6, 131 (2007).
</p>
<p>Gething, Peter W., et al. &quot;A long neglected world malaria map:
Plasmodium vivax endemicity in 2010.&quot; PLoS neglected tropical
diseases 6.9 (2012): e1814.
</p>
<p>Code written by Nick Golding and Dave Smith
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Convert from prevalence 2 to 5 to prevalence 2 to 10
pr2_10 &lt;- convertPrevalence(0.1, 2, 5, 2, 10)

# Convert many surveys all to 2 to 10.
pr &lt;- runif(20, 0.1, 0.15)
min_in &lt;- sample(1:5, 20, replace = TRUE)
max_in &lt;- rep(8, 20)
min_out &lt;- rep(2, 20)
max_out &lt;- rep(10, 20)
pr_standardised &lt;- convertPrevalence(pr, min_in, max_in,
                                     min_out, max_out)

plot(pr_standardised, pr)
</code></pre>

<hr>
<h2 id='extractLayerValues'>Returns a data.frame of the extracted raster values with columns for layerName, year, value, long and lat.</h2><span id='topic+extractLayerValues'></span>

<h3>Description</h3>

<p>Returns a data.frame of the extracted raster values with columns for layerName, year, value, long and lat.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractLayerValues(points_to_query, dataset_id, year)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractLayerValues_+3A_points_to_query">points_to_query</code></td>
<td>
<p>matrix of points to get raster data for, with first column being the latitude and second being the longitude.</p>
</td></tr>
<tr><td><code id="extractLayerValues_+3A_dataset_id">dataset_id</code></td>
<td>
<p>character representing the dataset id.</p>
</td></tr>
<tr><td><code id="extractLayerValues_+3A_year">year</code></td>
<td>
<p>either a single year, or a list of years, or NA.</p>
</td></tr>
</table>

<hr>
<h2 id='extractRaster'>Extract pixel values from MAP rasters using point coordinates.</h2><span id='topic+extractRaster'></span>

<h3>Description</h3>

<p><code>extractRaster</code> extracts pixel values from MAP rasters at user-specified point locations (without downloading the entire raster).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractRaster(
  df,
  csv_path = NULL,
  surface = NULL,
  year = NULL,
  dataset_id = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractRaster_+3A_df">df</code></td>
<td>
<p>data.frame containing coordinates of input point locations, must contain columns named 'latitude'/'lat'/'x'  AND 'longitude'/'long'/'y')</p>
</td></tr>
<tr><td><code id="extractRaster_+3A_csv_path">csv_path</code></td>
<td>
<p>(optional) user-specified path to which extractRaster coordinates and results are stored.</p>
</td></tr>
<tr><td><code id="extractRaster_+3A_surface">surface</code></td>
<td>
<p>deprecated argument. Please remove it from your code.</p>
</td></tr>
<tr><td><code id="extractRaster_+3A_year">year</code></td>
<td>
<p>for time-varying rasters: if downloading a single surface for one or more years, <code>year</code> should be a vector specifying the desired year(s). if downloading more than one surface, use a list the same length as <code>surface</code>, providing the desired year-range for each time-varying surface in <code>surface</code> or <code>NA</code> for static rasters.</p>
</td></tr>
<tr><td><code id="extractRaster_+3A_dataset_id">dataset_id</code></td>
<td>
<p>A character string specifying the dataset ID(s) of one or more rasters. These dataset ids can be found in the data.frame returned by listRaster, in the dataset_id column e.g. c('Malaria__202206_Global_Pf_Mortality_Count', 'Malaria__202206_Global_Pf_Parasite_Rate')</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>extractRaster</code> returns the input dataframe (<code>df</code>), with the following columns appended, providing values for each raster, location and year.
</p>

<ol>
<li> <p><code>layerName</code> dataset id corresponding to extracted raster values for a given row, check <code><a href="#topic+listRaster">listRaster</a></code> for raster metadata.
</p>
</li>
<li> <p><code>year</code> the year for which raster values were extracted (time-varying rasters only; static rasters do not have this column).
</p>
</li>
<li> <p><code>value</code> the raster value for the pixel in which a given point location falls.
</p>
</li></ol>



<h3>See Also</h3>

<p><code>autoplot</code> method for quick mapping of PR point locations (<code><a href="#topic+autoplot.pr.points">autoplot.pr.points</a></code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Download PfPR data for Nigeria and Cameroon and map the locations of these points using autoplot
## Not run: 
# Get some data and remove rows with NAs in location or examined or positive columns.
NGA_CMR_PR &lt;- getPR(country = c("Nigeria", "Cameroon"), species = "Pf")
complete &lt;- complete.cases(NGA_CMR_PR[, c(4, 5, 16, 17)])
NGA_CMR_PR &lt;- NGA_CMR_PR[complete, ]

# Extract PfPR data at those locations.
data &lt;- extractRaster(df = NGA_CMR_PR[, c('latitude', 'longitude')],
                      dataset_id = 'Malaria__202206_Global_Pf_Parasite_Rate',
                      year=2020)

# Some rasters are stored with NA encoded as -9999
data$value[data$value == -9999] &lt;- NA

# We can quickly plot a summary
plot((NGA_CMR_PR$positive / NGA_CMR_PR$examined) ~ data$value)

## End(Not run)


</code></pre>

<hr>
<h2 id='fetchCountriesGivenDatasetId'>Get the list of available countries for a given dataset_id in the Explorer workspace,</h2><span id='topic+fetchCountriesGivenDatasetId'></span>

<h3>Description</h3>

<p>Get the list of available countries for a given dataset_id in the Explorer workspace,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetchCountriesGivenDatasetId(wfs_client, dataset_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetchCountriesGivenDatasetId_+3A_dataset_id">dataset_id</code></td>
<td>
<p>The dataset id from which to get the list of available countries from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with columns for country, country_id and continent_id
</p>

<hr>
<h2 id='fillDHSCoordinates'>Add DHS locations to malaria data</h2><span id='topic+fillDHSCoordinates'></span>

<h3>Description</h3>

<p>We cannot directly share DHS data. We can share coordinates,
but not the data values. This function attempts to fill
the data gaps directly from the DHS server using the package
rdhs. To use the function you will need to setup an 
account on the DHS website and request any datasets you wish
to use (including requesting the GPS data). Confirmation
can take a few days. Once this has been verified, you should be 
able to use this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fillDHSCoordinates(
  data,
  email = NULL,
  project = NULL,
  cache_path = NULL,
  config_path = NULL,
  global = TRUE,
  verbose_download = FALSE,
  verbose_setup = TRUE,
  data_frame = NULL,
  timeout = 30,
  password_prompt = FALSE,
  prompt = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fillDHSCoordinates_+3A_data">data</code></td>
<td>
<p>Data to add DHS coordinates to</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_email">email</code></td>
<td>
<p>Character for email used to login to the DHS website.</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_project">project</code></td>
<td>
<p>Character for the name of the DHS project from which
datasets should be downloaded.</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_cache_path">cache_path</code></td>
<td>
<p>Character for directory path where datasets and API calls
will be cached. If left bank, a suitable directory will be created within
your user cache directory for your operating system (permission granting).</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_config_path">config_path</code></td>
<td>
<p>Character for where the config file should be saved.
For a global configuration, &lsquo;config_path' must be &rsquo;~/.rdhs.json'.
For a local configuration, &lsquo;config_path' must be &rsquo;rdhs.json'.
If left bank, the config file will be stored within
your user cache directory for your operating system (permission granting).</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_global">global</code></td>
<td>
<p>Logical for the config_path to be interpreted as a global
config path or a local one. Default = TRUE.</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_verbose_download">verbose_download</code></td>
<td>
<p>Logical for dataset download progress bars to be
shown. Default = FALSE.</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_verbose_setup">verbose_setup</code></td>
<td>
<p>Logical for rdhs setup and messages to be printed.
Default = TRUE.</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_data_frame">data_frame</code></td>
<td>
<p>Function with which to convert API calls into. If left
blank <code>data_frame</code> objects are returned. Must be passed as a
character. Examples could be:
<code>data.table::as.data.table</code>
<code>tibble::as.tibble</code></p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_timeout">timeout</code></td>
<td>
<p>Numeric for how long in seconds to wait for the DHS API to
respond. Default = 30.</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_password_prompt">password_prompt</code></td>
<td>
<p>Logical whether user is asked to type their password,
even if they have previously set it. Default = FALSE. Set to TRUE if you
have mistyped your password when using <code>set_rdhs_config</code>.</p>
</td></tr>
<tr><td><code id="fillDHSCoordinates_+3A_prompt">prompt</code></td>
<td>
<p>Logical for whether the user should be prompted for
permission to write to files. This should not need be</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function requires the package <code>rdhs</code> which is currently
only suggested by the package (not a dependency). So you will
need to install it. 
</p>
<p>Note that the <code>project</code> has to be the exact name in your
DHS project.
</p>


<h3>Author(s)</h3>

<p>OJ Watson
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pf &lt;- malariaAtlas::getPR("all",species = "pf")
pf &lt;- fillDHSCoordinates(pf, 
email = "pretend_email@emaildomain.com",
project = "pretend project name")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_name_from_wfs_feature_type_id'>Get the name from a wfs feature type id.</h2><span id='topic+get_name_from_wfs_feature_type_id'></span>

<h3>Description</h3>

<p>Get the name from a wfs feature type id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_name_from_wfs_feature_type_id(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_name_from_wfs_feature_type_id_+3A_id">id</code></td>
<td>
<p>The ID to parse.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A name of the dataset
</p>

<hr>
<h2 id='get_wcs_client_from_raster_id'>Get the WCS client for a raster ID.</h2><span id='topic+get_wcs_client_from_raster_id'></span>

<h3>Description</h3>

<p>Get the WCS client for a raster ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wcs_client_from_raster_id(raster)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_wcs_client_from_raster_id_+3A_raster">raster</code></td>
<td>
<p>The raster ID.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ows4R.html#topic+WCSClient">WCSClient</a> object from the <span class="pkg">ows4R</span> package.
</p>

<hr>
<h2 id='get_wcs_clients'>WCS clients lazily created or from cache</h2><span id='topic+get_wcs_clients'></span>

<h3>Description</h3>

<p>WCS clients lazily created or from cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wcs_clients(logger = NULL)
</code></pre>


<h3>Value</h3>

<p>A list with of WCSClients by workspace
</p>

<hr>
<h2 id='get_wcs_coverage_summary_from_raster_id'>Get the WCS coverage summary for a raster ID.</h2><span id='topic+get_wcs_coverage_summary_from_raster_id'></span>

<h3>Description</h3>

<p>Get the WCS coverage summary for a raster ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wcs_coverage_summary_from_raster_id(raster)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_wcs_coverage_summary_from_raster_id_+3A_raster">raster</code></td>
<td>
<p>The raster ID.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ows4R.html#topic+WCSCoverageSummary">WCSCoverageSummary</a> object from the <span class="pkg">ows4R</span> package.
</p>

<hr>
<h2 id='get_wfs_clients'>WFS clients lazily created or from cache</h2><span id='topic+get_wfs_clients'></span>

<h3>Description</h3>

<p>WFS clients lazily created or from cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wfs_clients(logger = NULL)
</code></pre>


<h3>Value</h3>

<p>A list with of WFSClients by workspace
</p>

<hr>
<h2 id='get_wms_clients'>WMS clients lazily created or from cache</h2><span id='topic+get_wms_clients'></span>

<h3>Description</h3>

<p>WMS clients lazily created or from cache
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_wms_clients(logger = NULL)
</code></pre>


<h3>Value</h3>

<p>A list with of WMSClients by workspace
</p>

<hr>
<h2 id='get_workspace_and_version_from_coverage_id'>Get the workspace and version from a raster id.</h2><span id='topic+get_workspace_and_version_from_coverage_id'></span>

<h3>Description</h3>

<p>Get the workspace and version from a raster id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_workspace_and_version_from_coverage_id(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_workspace_and_version_from_coverage_id_+3A_id">id</code></td>
<td>
<p>The ID to parse.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the workspace and version.
</p>

<hr>
<h2 id='get_workspace_and_version_from_wfs_feature_type_id'>Get the workspace and version from a wfs feature type id.</h2><span id='topic+get_workspace_and_version_from_wfs_feature_type_id'></span>

<h3>Description</h3>

<p>Get the workspace and version from a wfs feature type id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_workspace_and_version_from_wfs_feature_type_id(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_workspace_and_version_from_wfs_feature_type_id_+3A_id">id</code></td>
<td>
<p>The ID to parse.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the workspace and version.
</p>

<hr>
<h2 id='getLatestVersionForAdminData'>Get the latest version of admin boundary data</h2><span id='topic+getLatestVersionForAdminData'></span>

<h3>Description</h3>

<p>Get the latest version of admin boundary data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLatestVersionForAdminData()
</code></pre>


<h3>Value</h3>

<p>The latest version of admin boundary data
</p>

<hr>
<h2 id='getLatitudeColumn'>Returns the best latitude column name in df data.frame, if one exists.</h2><span id='topic+getLatitudeColumn'></span>

<h3>Description</h3>

<p>Returns the best latitude column name in df data.frame, if one exists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLatitudeColumn(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getLatitudeColumn_+3A_df">df</code></td>
<td>
<p>The data.frame, hopefully containing a column for latitude</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the best column name for latitude - 'latitude', 'lat', or 'y' respectively, or NULL if none of these column names exists in df
</p>

<hr>
<h2 id='getLongitudeColumn'>Returns the best longitude column name in df data.frame, if one exists.</h2><span id='topic+getLongitudeColumn'></span>

<h3>Description</h3>

<p>Returns the best longitude column name in df data.frame, if one exists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLongitudeColumn(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getLongitudeColumn_+3A_df">df</code></td>
<td>
<p>The data.frame, hopefully containing a column for longitude.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the best column name for longitude - 'longitude', 'long', or 'x' respectively, or NULL if none of these column names exists in df
</p>

<hr>
<h2 id='getMinAndMaxYear'>Gets the minimum and maximum year for the time dimension values of a WMS Layer.</h2><span id='topic+getMinAndMaxYear'></span>

<h3>Description</h3>

<p>Gets the minimum and maximum year for the time dimension values of a WMS Layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMinAndMaxYear(time_dimension_values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMinAndMaxYear_+3A_time_dimension_values">time_dimension_values</code></td>
<td>
<p>A string or character vector of date strings that represent the time dimension e.g. can be fetched with wms_layer$getTimeDimension()$values.
Can be in the format of &quot;2000-01-01T00:00:00.000Z/2019-01-01T00:00:00.000Z/PT1S&quot; (in which the min year will be 2000 and the max year 2019) or several individual dates, 
for which the min and max year will be calculated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with a value for min and max.
</p>

<hr>
<h2 id='getPR'>Download PR points from the MAP database</h2><span id='topic+getPR'></span>

<h3>Description</h3>

<p><code>getPR</code> downloads all publicly available PR points for a specified country (or countries) and returns this as a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPR(
  country = NULL,
  ISO = NULL,
  continent = NULL,
  species = NULL,
  extent = NULL,
  start_date = NULL,
  end_date = NULL,
  version = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPR_+3A_country">country</code></td>
<td>
<p>string containing name of desired country, e.g. <code> c("Country1", "Country2", ...)</code> OR <code> = "ALL"</code>. (Use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="getPR_+3A_iso">ISO</code></td>
<td>
<p>string containing ISO3 code for desired country, e.g. <code>c("XXX", "YYY", ...)</code> OR <code> = "ALL"</code>. (Use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="getPR_+3A_continent">continent</code></td>
<td>
<p>string containing continent (one of &quot;Africa&quot;, &quot;Americas&quot;, &quot;Asia&quot;, &quot;Oceania&quot;) for desired data, e.g. <code>c("continent1", "continent2", ...)</code>. (Use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="getPR_+3A_species">species</code></td>
<td>
<p>string specifying the Plasmodium species for which to find PR points, options include: <code>"Pf"</code> OR <code>"Pv"</code> OR <code>"BOTH"</code></p>
</td></tr>
<tr><td><code id="getPR_+3A_extent">extent</code></td>
<td>
<p>an object specifying spatial extent within which PR data is desired, as returned by sf::st_bbox() - the first column has the minimum, the second the maximum values; rows 1 &amp; 2 represent the x &amp; y dimensions respectively (matrix(c(&quot;xmin&quot;, &quot;ymin&quot;,&quot;xmax&quot;, &quot;ymax&quot;), nrow = 2, ncol = 2, dimnames = list(c(&quot;x&quot;, &quot;y&quot;), c(&quot;min&quot;, &quot;max&quot;))))</p>
</td></tr>
<tr><td><code id="getPR_+3A_start_date">start_date</code></td>
<td>
<p>string object representing the lower date to filter the PR data by (inclusive) e.g. '2020-01-01'</p>
</td></tr>
<tr><td><code id="getPR_+3A_end_date">end_date</code></td>
<td>
<p>string object representing the upper date to filter the PR data by (exclusive) e.g. '2020-01-01'</p>
</td></tr>
<tr><td><code id="getPR_+3A_version">version</code></td>
<td>
<p>(optional) The PR dataset version to return. If not provided, will just use the most recent version of PR data. (To see available version options, 
use listPRPointVersions)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>country</code> and <code>ISO</code> refer to countries and a lower-level administrative regions such as Mayotte and French Guiana.
While we cannot direectly distribute DHS coordinates, we can distribute the number of examined and positive. If the coordinates
are needed they can be downloaded from www.measuredhs.com, via the rdhs package or using malariaAtlas:fillDHSCoordinates().
</p>


<h3>Value</h3>

<p><code>getPR</code> returns a dataframe containing the below columns, in which each row represents a distinct data point/ study site.
</p>

<ol>
<li> <p><code>dhs_id</code> The dhs survey id if appropriate.
</p>
</li>
<li> <p><code>site_id</code> Unique site identifier
</p>
</li>
<li> <p><code>site_name</code> Name of site.
</p>
</li></ol>



<h3>See Also</h3>

<p><code>autoplot</code> method for quick mapping of PR point locations (<code><a href="#topic+autoplot.pr.points">autoplot.pr.points</a></code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Download PfPR data for Nigeria and Cameroon and map the locations of these points using autoplot
## Not run: 
NGA_CMR_PR &lt;- getPR(country = c("Nigeria", "Cameroon"), species = "Pf")
autoplot(NGA_CMR_PR)

#Download PfPR data for Madagascar and map the locations of these points using autoplot
Madagascar_pr &lt;- getPR(ISO = "MDG", species = "Pv")
autoplot(Madagascar_pr)

getPR(country = "ALL", species = "BOTH")

## End(Not run)


</code></pre>

<hr>
<h2 id='getPropertiesForAdminLevel'>Gets the property string to provide to getFeatures input propertyName, given an admin level.</h2><span id='topic+getPropertiesForAdminLevel'></span>

<h3>Description</h3>

<p>Gets the property string to provide to getFeatures input propertyName, given an admin level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPropertiesForAdminLevel(admin_level)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPropertiesForAdminLevel_+3A_admin_level">admin_level</code></td>
<td>
<p>The admin level as a character - either 'admin0', 'admin1', 'admin2' or 'admin3'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The properrty string to pass to getFeartures as propertyName
</p>

<hr>
<h2 id='getRaster'>Download Rasters produced by the Malaria Atlas Project</h2><span id='topic+getRaster'></span>

<h3>Description</h3>

<p><code>getRaster</code> downloads publicly available MAP rasters for a specific surface &amp; year, clipped to a provided bounding box or shapefile.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getRaster(
  dataset_id = NULL,
  surface = NULL,
  shp = NULL,
  extent = NULL,
  file_path = NULL,
  year = NULL,
  vector_year = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getRaster_+3A_dataset_id">dataset_id</code></td>
<td>
<p>A character string specifying the dataset ID(s) of one or more rasters. These dataset ids can be found in the data.frame returned by listRaster, in the dataset_id column e.g. c('Malaria__202206_Global_Pf_Mortality_Count', 'Malaria__202206_Global_Pf_Parasite_Rate')</p>
</td></tr>
<tr><td><code id="getRaster_+3A_surface">surface</code></td>
<td>
<p>deprecated argument. Please remove it from your code.</p>
</td></tr>
<tr><td><code id="getRaster_+3A_shp">shp</code></td>
<td>
<p>SpatialPolygon(s) object of a shapefile to use when clipping downloaded rasters. (use either <code>shp</code> OR <code>extent</code>; if neither is specified global raster is returned).</p>
</td></tr>
<tr><td><code id="getRaster_+3A_extent">extent</code></td>
<td>
<p>2x2 matrix specifying the spatial extent within which raster data is desired, as returned by sf::st_bbox() - the first column has the minimum, the second the maximum values; rows 1 &amp; 2 represent the x &amp; y dimensions respectively (matrix(c(&quot;xmin&quot;, &quot;ymin&quot;,&quot;xmax&quot;, &quot;ymax&quot;), nrow = 2, ncol = 2, dimnames = list(c(&quot;x&quot;, &quot;y&quot;), c(&quot;min&quot;, &quot;max&quot;)))) (use either <code>shp</code> OR <code>extent</code>; if neither is specified global raster is returned).</p>
</td></tr>
<tr><td><code id="getRaster_+3A_file_path">file_path</code></td>
<td>
<p>string specifying the directory to which raster files will be downloaded, if you want to download them. If none given, rasters will not be saved to files.</p>
</td></tr>
<tr><td><code id="getRaster_+3A_year">year</code></td>
<td>
<p>default = <code>rep(NA, length(dataset_id))</code> (use <code>NA</code> for static rasters); for time-varying rasters: if downloading a single surface for one or more years, <code>year</code> should be a string specifying the desired year(s). if downloading more than one surface, use a list the same length as <code>dataset_id</code>, providing the desired year-range for each time-varying surface in <code>dataset_id</code> or <code>NA</code> for static rasters.</p>
</td></tr>
<tr><td><code id="getRaster_+3A_vector_year">vector_year</code></td>
<td>
<p>deprecated argument. Please remove it from your code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>getRaster</code> returns a SpatRaster for the specified extent. Or a SpatRasterCollection if the two rasters are incompatible in terms of projection/extent/resolution
</p>


<h3>See Also</h3>

<p><code><a href="#topic+autoplot_MAPraster">autoplot_MAPraster</a></code>
</p>
<p>to quickly visualise rasters downloded using <code><a href="#topic+getRaster">getRaster</a></code>.
</p>
<p><code><a href="#topic+as.MAPraster">as.MAPraster</a></code>
</p>
<p>to convert RasterLayer/RasterStack objects into a 'MAPraster' object (data.frame) for
easy plotting with ggplot.
</p>
<p><code><a href="#topic+autoplot.MAPraster">autoplot.MAPraster</a></code>
</p>
<p>to quickly visualise MAPraster objects created using <code>as.MAPraster</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Download PfPR2-10 Raster for Madagascar and visualise this immediately.
## Not run: 
MDG_shp &lt;- getShp(ISO = "MDG", admin_level = "admin0")
MDG_PfPR2_10 &lt;- getRaster(dataset_id = "Malaria__202206_Global_Pf_Parasite_Rate", shp = MDG_shp)
autoplot(MDG_PfPR2_10)

## End(Not run)

</code></pre>

<hr>
<h2 id='getRasterDatasetIdFromSurface'>Gets the rasters dataset id, given a surface (title). If more than one rasters have that surface/title, then the one with
the most recent version is selected. If there are no matches, the program will stop with a relevant message.</h2><span id='topic+getRasterDatasetIdFromSurface'></span>

<h3>Description</h3>

<p>Gets the rasters dataset id, given a surface (title). If more than one rasters have that surface/title, then the one with
the most recent version is selected. If there are no matches, the program will stop with a relevant message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getRasterDatasetIdFromSurface(rasterList, surface)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getRasterDatasetIdFromSurface_+3A_rasterlist">rasterList</code></td>
<td>
<p>data.frame containing available raster information, as returned by listRaster().</p>
</td></tr>
<tr><td><code id="getRasterDatasetIdFromSurface_+3A_surface">surface</code></td>
<td>
<p>character that is the surface/title of the raster.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character that is the dataset id of the raster that matches the given surface.
</p>

<hr>
<h2 id='getShp'>Download MAPadmin2013 Administrative Boundary Shapefiles from the MAP geoserver</h2><span id='topic+getShp'></span>

<h3>Description</h3>

<p><code>getShp</code> downloads a shapefile for a specified country (or countries) and returns this as either a spatialPolygon or data.frame object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getShp(
  country = NULL,
  ISO = NULL,
  extent = NULL,
  admin_level = c("admin0"),
  format = NULL,
  long = NULL,
  lat = NULL,
  version = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getShp_+3A_country">country</code></td>
<td>
<p>string containing name of desired country, e.g. <code> c("Country1", "Country2", ...)</code> OR <code> = "ALL"</code> (use either <code>ISO</code> OR <code>country</code>)</p>
</td></tr>
<tr><td><code id="getShp_+3A_iso">ISO</code></td>
<td>
<p>string containing ISO3 code for desired country, e.g. <code>c("XXX", "YYY", ...)</code> OR <code> = "ALL"</code> (use either <code>ISO</code> OR <code>country</code>)</p>
</td></tr>
<tr><td><code id="getShp_+3A_extent">extent</code></td>
<td>
<p>2x2 matrix specifying the spatial extent within which polygons are desired, as returned by sp::bbox() - the first column has the minimum, the second the maximum values; rows 1 &amp; 2 represent the x &amp; y dimensions respectively (matrix(c(&quot;xmin&quot;, &quot;ymin&quot;,&quot;xmax&quot;, &quot;ymax&quot;), nrow = 2, ncol = 2, dimnames = list(c(&quot;x&quot;, &quot;y&quot;), c(&quot;min&quot;, &quot;max&quot;)))).</p>
</td></tr>
<tr><td><code id="getShp_+3A_admin_level">admin_level</code></td>
<td>
<p>string specifying the administrative level for which shapefile are desired (only &quot;admin0&quot;,&quot;admin1&quot;,&quot;admin2&quot;,&quot;admin3&quot;, or &quot;all&quot; accepted). N.B. Not all administrative levels are available for all countries. Use listShp to check which shapefiles are available. If an administrative level is requested that is not available, the closest available administrative level shapefiles will be returned.</p>
</td></tr>
<tr><td><code id="getShp_+3A_format">format</code></td>
<td>
<p>deprecated argument. Please remove it from your code.</p>
</td></tr>
<tr><td><code id="getShp_+3A_long">long</code></td>
<td>
<p>longitude of a point location falling within the desired shapefile.</p>
</td></tr>
<tr><td><code id="getShp_+3A_lat">lat</code></td>
<td>
<p>latitude of a point location falling within the desired shapefile.</p>
</td></tr>
<tr><td><code id="getShp_+3A_version">version</code></td>
<td>
<p>The admin unit dataset version to return. Is NULL by default, and if left NULL will just use the most recent version of admin unit data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>getShp</code> returns a sf object for requested administrative unit polygons. The following attribute fields are included:
</p>

<ol>
<li> <p><code>iso</code> ISO-3 code of given administrative unit (or the ISO code of parent unit for administrative-level 1 units).
</p>
</li>
<li> <p><code>admn_level</code> administrative level of the given administrative unit - either 0 (national), 1 (first-level division), 2 (second-level division), 3 (third-level division). 
</p>
</li>
<li> <p><code>name_0</code> name of admin0 parent of a given administrative unit (or just shapefile name for admin0 units)
</p>
</li>
<li> <p><code>id_0</code> id code of admin0 parent of the current shapefile (or just shapefile id for admin0 units)
</p>
</li>
<li> <p><code>type_0</code> if applicable, type of administrative unit or admin0 parent
</p>
</li>
<li> <p><code>name_1</code> name of admin1 parent of a given administrative unit (or just shapefile name for admin1 units); NA for admin0 units
</p>
</li>
<li> <p><code>id_1</code> id code of admin1 parent of the current shapefile (or just shapefile id for admin1 units); NA for admin0 units
</p>
</li>
<li> <p><code>type_1</code> if applicable, type of administrative unit or admin1 parent
</p>
</li>
<li> <p><code>name_2</code> name of admin2 parent of a given administrative unit (or just shapefile name for admin2 units); NA for admin0, admin1 units
</p>
</li>
<li> <p><code>id_2</code> id code of admin2 parent of the current shapefile (or just shapefile id for admin2 units); NA for admin0, admin1 units
</p>
</li>
<li> <p><code>type_2</code> if applicable, type of administrative unit or admin2 parent
</p>
</li>
<li> <p><code>name_3</code> name of admin3 parent of a given administrative unit (or just shapefile name for admin3 units); NA for admin0, admin1, admin2 units
</p>
</li>
<li> <p><code>id_3</code> id code of admin3 parent of the current shapefile (or just shapefile id for admin3 units); NA for admin0, admin1, admin2 units
</p>
</li>
<li> <p><code>type_3</code> if applicable, type of administrative unit
</p>
</li>
<li> <p><code>source</code> source of administrative boundaries
</p>
</li>
<li> <p><code>geometry</code> geometry of administrative boundaries
</p>
</li>
<li> <p><code>country_level</code> composite <code>iso</code>_<code>admn_level</code> field.
</p>
</li></ol>



<h3>See Also</h3>

<p><code>autoplot</code> method for quick mapping of PR point locations (<code><a href="#topic+autoplot.pr.points">autoplot.pr.points</a></code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Download PfPR data &amp; associated shapefiles for Nigeria and Cameroon
## Not run: 
NGA_CMR_PR &lt;- getPR(country = c("Nigeria", "Cameroon"), species = "Pf")
NGA_CMR_shp &lt;- getShp(country = c("Nigeria", "Cameroon"))

#Download PfPR data &amp; associated shapefiles for Chad
Chad_PR &lt;- getPR(ISO = "TCD", species = "both")
Chad_shp &lt;- getShp(ISO = "TCD")

#' #Download PfPR data &amp; associated shapefiles defined by extent for Madagascar
MDG_PR &lt;- getPR(country = "Madagascar", species = "Pv")

## End(Not run)


</code></pre>

<hr>
<h2 id='getSpBbox'>Return sp style bbox</h2><span id='topic+getSpBbox'></span>

<h3>Description</h3>

<p>Return sp style bbox
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSpBbox(sfBboxOrShp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSpBbox_+3A_sfbboxorshp">sfBboxOrShp</code></td>
<td>
<p>sf shapefile or result of sf::st_bbox(sf_shp)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>bbox in sp style. A 2x2 matrix - the first column has the minimum, the second the maximum values; rows 1 &amp; 2 represent the x &amp; y dimensions respectively (matrix(c(&quot;xmin&quot;, &quot;ymin&quot;,&quot;xmax&quot;, &quot;ymax&quot;), nrow = 2, ncol = 2, dimnames = list(c(&quot;x&quot;, &quot;y&quot;), c(&quot;min&quot;, &quot;max&quot;))))
</p>

<hr>
<h2 id='getVecOcc'>Download Vector Occurrence points from the MAP database
<code>getVecOcc</code> downloads all publicly available vector occurrence points for a specified country (or countries) and returns this as a dataframe.
<code>country</code> and <code>ISO</code> refer to countries and a lower-level administrative regions such as French Guiana.</h2><span id='topic+getVecOcc'></span>

<h3>Description</h3>

<p>Download Vector Occurrence points from the MAP database
<code>getVecOcc</code> downloads all publicly available vector occurrence points for a specified country (or countries) and returns this as a dataframe.
<code>country</code> and <code>ISO</code> refer to countries and a lower-level administrative regions such as French Guiana.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getVecOcc(
  country = NULL,
  ISO = NULL,
  continent = NULL,
  species = "all",
  extent = NULL,
  start_date = NULL,
  end_date = NULL,
  version = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getVecOcc_+3A_country">country</code></td>
<td>
<p>string containing name of desired country, e.g. <code> c("Country1", "Country2", ...)</code> OR <code> = "ALL"</code>. (Use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="getVecOcc_+3A_iso">ISO</code></td>
<td>
<p>string containing ISO3 code for desired country, e.g. <code>c("XXX", "YYY", ...)</code> OR <code> = "ALL"</code>. (Use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="getVecOcc_+3A_continent">continent</code></td>
<td>
<p>string containing continent (one of &quot;Africa&quot;, &quot;Americas&quot;, &quot;Asia&quot;, &quot;Oceania&quot;) for desired data, e.g. <code>c("continent1", "continent2", ...)</code>. (Use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="getVecOcc_+3A_species">species</code></td>
<td>
<p>string specifying the Anopheles species for which to find vector occurrence points, options include: <code>"Anopheles...."</code> OR <code>"ALL"</code></p>
</td></tr>
<tr><td><code id="getVecOcc_+3A_extent">extent</code></td>
<td>
<p>an object specifying spatial extent within which PR data is desired, as returned by sf::st_bbox(). - the first column has the minimum, the second the maximum values; rows 1 &amp; 2 represent the x &amp; y dimensions respectively (matrix(c(&quot;xmin&quot;, &quot;ymin&quot;,&quot;xmax&quot;, &quot;ymax&quot;), nrow = 2, ncol = 2, dimnames = list(c(&quot;x&quot;, &quot;y&quot;), c(&quot;min&quot;, &quot;max&quot;))))</p>
</td></tr>
<tr><td><code id="getVecOcc_+3A_start_date">start_date</code></td>
<td>
<p>string object representing the lower date to filter the vector occurrence data by (inclusive)</p>
</td></tr>
<tr><td><code id="getVecOcc_+3A_end_date">end_date</code></td>
<td>
<p>string object representing the upper date to filter the vector occurrence data by (exclusive)</p>
</td></tr>
<tr><td><code id="getVecOcc_+3A_version">version</code></td>
<td>
<p>(optional) The vector points dataset version to use. If not provided, will just use the most recent version of vector points data. (To see available version options, 
use listVecOccPointVersions)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>getVecOcc</code> returns a dataframe containing the below columns, in which each row represents a distinct data point/ study site.
</p>

<ol>
<li> <p><code>COLUMNNAME</code> description of contents
</p>
</li>
<li> <p><code>COLUMNNAME</code> description of contents
</p>
</li>
<li> <p><code>COLUMNNAME</code> description of contents
</p>
</li></ol>



<h3>See Also</h3>

<p><code>autoplot</code> method for quick mapping of Vector occurrence point locations (<code><a href="#topic+autoplot.vector.points">autoplot.vector.points</a></code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Download vector occurrence data for Brazil and map the locations using autoplot.vector.points
## Not run: 
Brazil_vec &lt;- getVecOcc(country = "Brazil")
autoplot(Brazil_vec)

# Download vector data for Madagascar and map the locations using autoplot
Madagascar_vec &lt;- getVecOcc(ISO = "MDG", species = "All")
autoplot(Madagascar_vec)

# Subset by extent.
extent_vec &lt;- getVecOcc(extent = matrix(c(100,13,110,18), nrow = 2), species = 'all')

## End(Not run)


</code></pre>

<hr>
<h2 id='isAvailable'>Available data to download from the MAP geoserver.</h2><span id='topic+isAvailable'></span>

<h3>Description</h3>

<p><code>isAvaiable</code> is a wrapper for isAvailable_pr and isAvailable_vec, listing data (PR survey point location data and vector occurrence locations available to download from the MAP geoserver.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isAvailable(
  sourcedata = NULL,
  full_results = FALSE,
  country = NULL,
  ISO = NULL,
  continent = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isAvailable_+3A_sourcedata">sourcedata</code></td>
<td>
<p>One of 'pr points' or 'vector points'</p>
</td></tr>
<tr><td><code id="isAvailable_+3A_full_results">full_results</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
<tr><td><code id="isAvailable_+3A_country">country</code></td>
<td>
<p>string containing name of desired country, e.g. <code> c("Country1", "Country2", ...)</code> OR <code> = "ALL"</code> (use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_+3A_iso">ISO</code></td>
<td>
<p>string containing ISO3 code for desired country, e.g. <code>c("XXX", "YYY", ...)</code> OR <code> = "ALL"</code> (use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_+3A_continent">continent</code></td>
<td>
<p>string containing continent for desired data, e.g. <code>c("continent1", "continent2", ...)</code> (use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_+3A_...">...</code></td>
<td>
<p>passed on to isAvailable_vec and isAvailable_pr</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>isAvailable</code> returns a data.frame detailing the administrative units for which shapefiles are stored on the MAP geoserver.
</p>


<h3>See Also</h3>

<p><code>link{isAvailable_pr}</code>
<code><a href="#topic+isAvailable_vec">isAvailable_vec</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
available_pr_locations &lt;- isAvailable_pr(ISO = 'IDN')
available_vector_locations &lt;- isAvailable_vec(ISO = 'IDN')

## End(Not run)
</code></pre>

<hr>
<h2 id='isAvailable_pr'>Check whether PR points are available for a given location</h2><span id='topic+isAvailable_pr'></span>

<h3>Description</h3>

<p><code>isAvailable_pr</code> checks whether the MAP database contains PR points for the specified country/location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isAvailable_pr(
  sourcedata = NULL,
  country = NULL,
  ISO = NULL,
  continent = NULL,
  full_results = FALSE,
  version = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isAvailable_pr_+3A_sourcedata">sourcedata</code></td>
<td>
<p>deprecated argument. Please remove it from your code.</p>
</td></tr>
<tr><td><code id="isAvailable_pr_+3A_country">country</code></td>
<td>
<p>string containing name of desired country, e.g. <code> c("Country1", "Country2", ...)</code> (use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_pr_+3A_iso">ISO</code></td>
<td>
<p>string containing ISO3 code for desired country, e.g. <code>c("XXX", "YYY", ...)</code> (use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_pr_+3A_continent">continent</code></td>
<td>
<p>string containing name of continent for desired data, e.g. <code>c("Continent1", "Continent2", ...)</code>(use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_pr_+3A_full_results">full_results</code></td>
<td>
<p>By default this is FALSE meaning the function only gives a message outlining whether specified country is available, if <code>full_results == TRUE</code>, the function returns a named list outlining data availability.</p>
</td></tr>
<tr><td><code id="isAvailable_pr_+3A_version">version</code></td>
<td>
<p>(optional) The PR dataset version to use. If not provided, will just use the most recent version of PR data. (To see available version options, 
use listPRPointVersions)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>isAvailable_pr</code> returns a named list of input locations with information regarding data availability.
</p>
<p>if <code>full_results == TRUE</code>, a named list is returned with the following elements:
</p>

<ol>
<li> <p><code>location</code> - specified input locations
</p>
</li>
<li> <p><code>is_available</code>- 1 or 0; indicating whether data is available for this location
</p>
</li>
<li> <p><code>possible_match</code>- agrep-matched country names indicating potential mispellings of countries where is_available == 0; NA if data is available for this location.
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
isAvailable_pr(country = "Suriname")
x &lt;- isAvailable_pr(ISO = "NGA", full_results = TRUE)
x &lt;- isAvailable_pr(continent = "Oceania", full_results = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='isAvailable_vec'>Check whether Vector Occurrence points are available for a given location</h2><span id='topic+isAvailable_vec'></span>

<h3>Description</h3>

<p><code>isAvailable_vec</code> checks whether the MAP database contains Vector Occurrence points for the specified country/location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isAvailable_vec(
  sourcedata = NULL,
  country = NULL,
  ISO = NULL,
  continent = NULL,
  full_results = FALSE,
  version = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isAvailable_vec_+3A_sourcedata">sourcedata</code></td>
<td>
<p>deprecated argument. Please remove it from your code.</p>
</td></tr>
<tr><td><code id="isAvailable_vec_+3A_country">country</code></td>
<td>
<p>string containing name of desired country, e.g. <code> c("Country1", "Country2", ...)</code> (use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_vec_+3A_iso">ISO</code></td>
<td>
<p>string containing ISO3 code for desired country, e.g. <code>c("XXX", "YYY", ...)</code> (use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_vec_+3A_continent">continent</code></td>
<td>
<p>string containing name of continent for desired data, e.g. <code>c("Continent1", "Continent2", ...)</code>(use one of <code>country</code> OR <code>ISO</code> OR <code>continent</code>, not combined)</p>
</td></tr>
<tr><td><code id="isAvailable_vec_+3A_full_results">full_results</code></td>
<td>
<p>By default this is FALSE meaning the function only gives a message outlining whether specified country is available, if <code>full_results == TRUE</code>, the function returns a named list outlining data availability.</p>
</td></tr>
<tr><td><code id="isAvailable_vec_+3A_version">version</code></td>
<td>
<p>(optional) The vector points dataset version to use. If not provided, will just use the most recent version of vector points data. (To see available version options, 
use listVecOccPointVersions)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>isAvailable_Vec</code> returns a named list of input locations with information regarding data availability.
</p>
<p>if <code>full_results == TRUE</code>, a named list is returned with the following elements:
</p>

<ol>
<li> <p><code>location</code> - specified input locations
</p>
</li>
<li> <p><code>is_available</code>- 1 or 0; indicating whether data is available for this location
</p>
</li>
<li> <p><code>possible_match</code>- agrep-matched country names indicating potential mispellings of countries where is_available == 0; NA if data is available for this location.
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
isAvailable_vec(country = "Suriname")
x &lt;- isAvailable_vec(ISO = "NGA", full_results = TRUE)
x &lt;- isAvailable_vec(continent = "Oceania", full_results = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='listData'>Deprecated function. Please instead use listPRPointCountries for pr points, listVecOccPointCountries for vector points, listRaster for raster and listShp for shape.</h2><span id='topic+listData'></span>

<h3>Description</h3>

<p><code>listData</code>  deprecated function Please remove it from your code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listData(datatype, printed = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listData_+3A_datatype">datatype</code></td>
<td>
<p>&quot;pr points&quot;, &quot;vector points&quot; &quot;raster&quot;, or &quot;shape&quot;</p>
</td></tr>
<tr><td><code id="listData_+3A_printed">printed</code></td>
<td>
<p>whether to pretty print the output in console</p>
</td></tr>
<tr><td><code id="listData_+3A_...">...</code></td>
<td>
<p>passed on to listPRPointCountries, listVecOccPointCountries, listShp</p>
</td></tr>
</table>

<hr>
<h2 id='listFeatureTypeDatasetsFromWorkspace'>List all datasets from the Web Feature Services provided by the Malaria Atlas Project within the given workspace.</h2><span id='topic+listFeatureTypeDatasetsFromWorkspace'></span>

<h3>Description</h3>

<p>This function lists minimal information of all the feature datasets from the Web Feature Services provided by the Malaria Atlas Project, in the given workspace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listFeatureTypeDatasetsFromWorkspace(workspace)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listFeatureTypeDatasetsFromWorkspace_+3A_workspace">workspace</code></td>
<td>
<p>Character vector representing the name of the workspace.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns 'id', 'version', and 'workspace' representing the unique identifier, version, and domain of the datasets
</p>

<hr>
<h2 id='listPoints'>Deprecated function. Please instead use listPRPointCountries for pr points, and listVecOccPointCountries for vector points</h2><span id='topic+listPoints'></span>

<h3>Description</h3>

<p><code>listPoints</code> deprecated function Please remove it from your code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listPoints(printed = TRUE, sourcedata, version = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listPoints_+3A_printed">printed</code></td>
<td>
<p>whether to pretty print the output in console</p>
</td></tr>
<tr><td><code id="listPoints_+3A_sourcedata">sourcedata</code></td>
<td>
<p>&quot;pr points&quot; or &quot;vector points&quot;</p>
</td></tr>
<tr><td><code id="listPoints_+3A_version">version</code></td>
<td>
<p>(optional) The PR dataset version to use If not provided, will just use the most recent version of PR data. (To see available version options, 
use listPRPointVersions)</p>
</td></tr>
</table>

<hr>
<h2 id='listPRPointCountries'>List countries where there is pr point data available</h2><span id='topic+listPRPointCountries'></span>

<h3>Description</h3>

<p><code>listPRPointCountries</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listPRPointCountries(printed = TRUE, version = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listPRPointCountries_+3A_printed">printed</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
<tr><td><code id="listPRPointCountries_+3A_version">version</code></td>
<td>
<p>(optional) The PR dataset version to use If not provided, will just use the most recent version of PR data. (To see available version options, 
use listPRPointVersions)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>listPRPointCountries</code> returns a data.frame detailing the countries for which PR points are publicly available.
</p>

<hr>
<h2 id='listPRPointVersions'>List all dataset versions from the Web Feature Services provided by the Malaria Atlas Project within the Parasite Rate workspace.</h2><span id='topic+listPRPointVersions'></span>

<h3>Description</h3>

<p><code>listPRPointVersions</code> lists available versions of parasite rate point data from the Web Feature Services provided by the Malaria Atlas Project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listPRPointVersions(printed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listPRPointVersions_+3A_printed">printed</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with column 'version'
The version can then be provided to other functions to fetch the data within that dataset. e.g. in getPR
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
prDatasets &lt;- listPRPointVersions()

## End(Not run)
</code></pre>

<hr>
<h2 id='listRaster'>List all MAP Rasters available to download.</h2><span id='topic+listRaster'></span>

<h3>Description</h3>

<p><code>listRaster</code> lists all rasters available to download from the Malaria Atlas Project database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listRaster(printed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listRaster_+3A_printed">printed</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>listRaster</code> returns a data.frame detailing the following information for each raster available to download from the Malaria Atlas Project database.
</p>

<ol>
<li> <p><code>dataset_id</code> the unique dataset ID of the raster, which can the be used in functions such as getRaster and extractRaster
</p>
</li>
<li> <p><code>raster_code</code> unique identifier for each raster
</p>
</li>
<li> <p><code>title</code> abbreviated title for each raster, used as <code>surface</code> argument in getRaster()
</p>
</li>
<li> <p><code>title_extended</code> extended title for each raster, detailing raster content
</p>
</li>
<li> <p><code>abstract</code> full description of each raster, outlining raster creation methods, raster content and more.
</p>
</li>
<li> <p><code>citation</code> citation of peer-reviewed article in which each raster has been published
</p>
</li>
<li> <p><code>pub_year</code> year in which raster was published, used as <code>pub_year</code> argument in getRaster() to updated raster versions from their predecessor(s).
</p>
</li>
<li> <p><code>min_raster_year</code> earliest year for which each raster is available
</p>
</li>
<li> <p><code>max_raster_year</code> latest year for which each raster is available
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
available_rasters &lt;- listRaster()

## End(Not run)
</code></pre>

<hr>
<h2 id='listShp'>List administrative units for which shapefiles are stored on the MAP geoserver.</h2><span id='topic+listShp'></span>

<h3>Description</h3>

<p><code>listShp</code> lists all administrative units for which shapefiles are stored on the MAP geoserver.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listShp(printed = TRUE, admin_level = c("admin0", "admin1"), version = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listShp_+3A_printed">printed</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
<tr><td><code id="listShp_+3A_admin_level">admin_level</code></td>
<td>
<p>Specifies which administrative unit level for which to return available polygon shapefiles. A string vector including one or more of<code>"admin0"</code>, <code>"admin1"</code>, <code>"admin2"</code> OR <code>"admin3"</code>. Default: <code>c("admin0", "admin1")</code></p>
</td></tr>
<tr><td><code id="listShp_+3A_version">version</code></td>
<td>
<p>The admin unit dataset version to return. Is NULL by default, and if left NULL will just use the most recent version of admin unit data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>listShp</code> returns a data.frame detailing the administrative units for which shapefiles are stored on the MAP geoserver.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
available_admin_units &lt;- listShp()
available_admin_units &lt;- listShp(admin_level = c('admin2','admin3'), version = '202206')

## End(Not run)
</code></pre>

<hr>
<h2 id='listShpVersions'>List all versions of admin unit shapes from the Web Feature Services provided by the Malaria Atlas Project within the Admin Units workspace.</h2><span id='topic+listShpVersions'></span>

<h3>Description</h3>

<p><code>listShpVersions</code> lists available versions of Admin Unit shapefiles from the Web Feature Services provided by the Malaria Atlas Project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listShpVersions(printed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listShpVersions_+3A_printed">printed</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with column 'version'.
The version can then be provided to other functions to fetch the data within that dataset. e.g. in getShp
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vecOccDatasets &lt;- listShpVersions()

## End(Not run)
</code></pre>

<hr>
<h2 id='listSpecies'>list all species which have occurrence data within the MAP database.</h2><span id='topic+listSpecies'></span>

<h3>Description</h3>

<p><code>listSpecies</code> lists all species occurrence data available to download from the Malaria Atlas Project database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listSpecies(printed = TRUE, version = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listSpecies_+3A_printed">printed</code></td>
<td>
<p>should the list be printed to the database.</p>
</td></tr>
<tr><td><code id="listSpecies_+3A_version">version</code></td>
<td>
<p>(optional) The vector dataset version to use If not provided, will just use the most recent version of vector dataset data. (To see available version options, 
use listVecOccPointVersions)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>listSpecies</code> returns a data.frame detailing the following information for each species available to download from the Malaria Atlas Project database.
</p>

<ol>
<li> <p><code>species</code> string detailing species
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
available_species &lt;- listSpecies()

## End(Not run)

</code></pre>

<hr>
<h2 id='listVecOccPointCountries'>List countries where there is vector occurrence point data available</h2><span id='topic+listVecOccPointCountries'></span>

<h3>Description</h3>

<p><code>listVecOccPointCountries</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listVecOccPointCountries(printed = TRUE, version = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listVecOccPointCountries_+3A_printed">printed</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
<tr><td><code id="listVecOccPointCountries_+3A_version">version</code></td>
<td>
<p>(optional) The vector occurrence dataset version to use If not provided, will just use the most recent version of vector occurrence data. (To see available version options, 
use listVecOccPointVersions)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>listVecOccPointCountries</code> returns a data.frame detailing the countries for which vector occurrence points are publicly available.
</p>

<hr>
<h2 id='listVecOccPointVersions'>List all dataset versions from the Web Feature Services provided by the Malaria Atlas Project within the Vector Occurrence workspace.</h2><span id='topic+listVecOccPointVersions'></span>

<h3>Description</h3>

<p><code>listVecOccPointVersions</code> lists available versions of all the feature datasets in the Vector Occurrence workspace 
from the Web Feature Services provided by the Malaria Atlas Project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listVecOccPointVersions(printed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listVecOccPointVersions_+3A_printed">printed</code></td>
<td>
<p>Should the list be printed to the console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with column 'version'.
The version can then be provided to other functions to fetch the data within that dataset. e.g. in getVecOcc
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vecOccDatasets &lt;- listVecOccPointVersions()

## End(Not run)
</code></pre>

<hr>
<h2 id='makeSpatRasterAutoplot'>Create a single (sub) plot for a SpatRaster</h2><span id='topic+makeSpatRasterAutoplot'></span>

<h3>Description</h3>

<p>Create a single (sub) plot for a SpatRaster
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeSpatRasterAutoplot(
  spatraster,
  rastername,
  shp_df,
  legend_title,
  fill_scale_transform,
  fill_colour_palette,
  plot_titles
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeSpatRasterAutoplot_+3A_spatraster">spatraster</code></td>
<td>
<p>SpatRaster object containing a single layer</p>
</td></tr>
<tr><td><code id="makeSpatRasterAutoplot_+3A_rastername">rastername</code></td>
<td>
<p>raster name, to include in title</p>
</td></tr>
<tr><td><code id="makeSpatRasterAutoplot_+3A_shp_df">shp_df</code></td>
<td>
<p>sf shapefile</p>
</td></tr>
<tr><td><code id="makeSpatRasterAutoplot_+3A_legend_title">legend_title</code></td>
<td>
<p>title for legend</p>
</td></tr>
<tr><td><code id="makeSpatRasterAutoplot_+3A_fill_scale_transform">fill_scale_transform</code></td>
<td>
<p>scale</p>
</td></tr>
<tr><td><code id="makeSpatRasterAutoplot_+3A_fill_colour_palette">fill_colour_palette</code></td>
<td>
<p>palette</p>
</td></tr>
<tr><td><code id="makeSpatRasterAutoplot_+3A_plot_titles">plot_titles</code></td>
<td>
<p>bool, whether to include title</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object
</p>

<hr>
<h2 id='malariaAtlas'>An R interface to open-access malaria data, hosted by the Malaria Atlas Project.</h2><span id='topic+malariaAtlas'></span>

<h3>Description</h3>

<p><code>malariaAtlas</code> provides a suite of tools to allow you to
download all publicly available PR points for a specified country
(or ALL countries) as a dataframe within R.
</p>


<h3>malariaAtlas functions</h3>


<ol>
<li> <p><code>listAll</code> - lists all countries for which there are publicly visible PR datapoints in the MAP database.
</p>
</li>
<li> <p><code>is_available</code> - checks whether the MAP database contains PR points for the specified country/countries.
</p>
</li>
<li> <p><code>getPR</code> - downloads all publicly available PR points for a specified country (or countries) and returns this as a dataframe.
</p>
</li></ol>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

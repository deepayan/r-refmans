<!DOCTYPE html><html lang="en"><head><title>Help for package speccurvieR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {speccurvieR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#speccurvieR-package'><p>speccurvieR: Easy, Fast, and Pretty Specification Curve Analysis</p></a></li>
<li><a href='#bottles'><p>CalCOFI Bottle Data</p></a></li>
<li><a href='#controlExtractor'><p>Extracts the control variable names and coefficients from an lm model</p>
summary.</a></li>
<li><a href='#duplicate_remover'><p>Removes duplicate control variables</p></a></li>
<li><a href='#formula_builder'><p>Builds models formulae with every combination of control variables possible.</p></a></li>
<li><a href='#paste_factory'><p>Paste together controls and independent variable</p></a></li>
<li><a href='#plotAIC'><p>Plots the AIC across model specifications.</p></a></li>
<li><a href='#plotControlDistributions'><p>Plots control variable distributions.</p></a></li>
<li><a href='#plotCurve'><p>Plots a specification curve.</p></a></li>
<li><a href='#plotDeviance'><p>Plots the deviance of residuals across model specifications.</p></a></li>
<li><a href='#plotR2Adj'><p>Plots the adj. R-squared across model specifications.</p></a></li>
<li><a href='#plotRMSE'><p>Plots RMSE across model specifications.</p></a></li>
<li><a href='#plotVars'><p>Plots the variables in each model.</p></a></li>
<li><a href='#sca'><p>Perform specification curve analysis</p></a></li>
<li><a href='#scp'><p>Prepares the output of 'sca()' for plotting.</p></a></li>
<li><a href='#se_boot'><p>Estimates bootstrapped standard errors for regression models</p></a></li>
<li><a href='#se_compare'><p>Compare different kinds of standard errors</p></a></li>
<li><a href='#unAsIs'><p>Removes the 'AsIs' class attribute from the input.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Easy, Fast, and Pretty Specification Curve Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Making specification curve analysis easy, fast, and pretty. It 
  improves upon existing offerings with additional features and 'tidyverse' 
  integration. Users can easily visualize and evaluate how their models behave 
  under different specifications with a high degree of customization. For a 
  description and applications of specification curve analysis see Simonsohn, 
  Simmons, and Nelson (2020) &lt;<a href="https://doi.org/10.1038%2Fs41562-020-0912-z">doi:10.1038/s41562-020-0912-z</a>&gt;.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, magrittr, tidyr, dplyr, stringr, combinat, fixest,
pbapply, parallel, lmtest, sandwich</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/zaynesember/speccurvieR">https://github.com/zaynesember/speccurvieR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/zaynesember/speccurvieR/issues">https://github.com/zaynesember/speccurvieR/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-09 21:14:42 UTC; zayne</td>
</tr>
<tr>
<td>Author:</td>
<td>Zayne Sember [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zayne Sember &lt;zsember@ucsd.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-09 21:30:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='speccurvieR-package'>speccurvieR: Easy, Fast, and Pretty Specification Curve Analysis</h2><span id='topic+speccurvieR'></span><span id='topic+speccurvieR-package'></span>

<h3>Description</h3>

<p>Making specification curve analysis easy, fast, and pretty. It improves upon existing offerings with additional features and 'tidyverse' integration. Users can easily visualize and evaluate how their models behave under different specifications with a high degree of customization. For a description and applications of specification curve analysis see Simonsohn, Simmons, and Nelson (2020) <a href="https://doi.org/10.1038/s41562-020-0912-z">doi:10.1038/s41562-020-0912-z</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Zayne Sember <a href="mailto:zsember@ucsd.edu">zsember@ucsd.edu</a> [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/zaynesember/speccurvieR">https://github.com/zaynesember/speccurvieR</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/zaynesember/speccurvieR/issues">https://github.com/zaynesember/speccurvieR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bottles'>CalCOFI Bottle Data</h2><span id='topic+bottles'></span>

<h3>Description</h3>

<p>A subset of data from the California Cooperative Oceanic Fisheries
Investigations. Each observation describes a sample of ocean water
collected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bottles
</code></pre>


<h3>Format</h3>

<p>## 'bottles'
A data frame with 500 rows and 62 columns:
</p>

<dl>
<dt>Cst_Cnt</dt><dd><p>Cast count</p>
</dd>
<dt>Btl_Cnt</dt><dd><p>Bottle Count</p>
</dd>
<dt>Sta_ID</dt><dd><p>Line and Station</p>
</dd>
<dt>Depth_ID</dt><dd><p>Depth ID</p>
</dd>
<dt>Depthm</dt><dd><p>Bottle depth in meters</p>
</dd>
<dt>T_degC</dt><dd><p>Water temperature in degrees Celsius</p>
</dd>
<dt>Salnty</dt><dd><p>Salinity (Practical Salinity Scale 1978)</p>
</dd>
<dt>O2ml_L</dt><dd><p>Milliliters of oxygen per liter of seawater</p>
</dd>
<dt>STheta</dt><dd><p>Potential Density (Sigma Theta), Kg/M³</p>
</dd>
<dt>O2Sat</dt><dd><p>Oxygen percent saturation</p>
</dd>
<dt>Oxy_µmol/Kg</dt><dd><p>Oxygen micromoles per kilogram seawater</p>
</dd>
<dt>BtlNum</dt><dd><p>Niskin bottle sample was collected from</p>
</dd>
<dt>RecInd</dt><dd><p>Record Indicator</p>
</dd>
<dt>T_prec</dt><dd><p>Temperature Precision</p>
</dd>
<dt>T_qual</dt><dd><p>Quality Code</p>
</dd>
<dt>S_prec</dt><dd><p>Salinity Precision</p>
</dd>
<dt>S_qual</dt><dd><p>Quality Code</p>
</dd>
<dt>P_qual</dt><dd><p>Quality Code</p>
</dd>
<dt>O_qual</dt><dd><p>Quality Code</p>
</dd>
<dt>SThtaq</dt><dd><p>Quality Code</p>
</dd>
<dt>O2Satq</dt><dd><p>Quality Code</p>
</dd>
<dt>ChlorA</dt><dd><p>Micrograms Chlorophyll-a per liter seawater</p>
</dd>
<dt>Chlqua</dt><dd><p>Quality Code</p>
</dd>
<dt>Phaeop</dt><dd><p>Micrograms Phaeopigment per liter seawater</p>
</dd>
<dt>Phaqua</dt><dd><p>Quality Code</p>
</dd>
<dt>PO4uM</dt><dd><p>Micromoles Phosphate per liter of seawater</p>
</dd>
<dt>PO4q</dt><dd><p>Quality Code</p>
</dd>
<dt>SiO3uM</dt><dd><p>Micromoles Silicate per liter of seawater</p>
</dd>
<dt>SiO3qu</dt><dd><p>Quality Code</p>
</dd>
<dt>NO2uM</dt><dd><p>Micromoles Nitrite per liter of seawater</p>
</dd>
<dt>NO2q</dt><dd><p>Quality Code</p>
</dd>
<dt>NO3uM</dt><dd><p>Micromoles Nitrate per liter of seawater</p>
</dd>
<dt>NO3q</dt><dd><p>Quality Code</p>
</dd>
<dt>NH3uM</dt><dd><p>Micromoles Ammonia per liter of seawater</p>
</dd>
<dt>NH3q</dt><dd><p>Quality Code</p>
</dd>
<dt>C14As1</dt><dd><p>14C Assimilation of Replicate 1</p>
</dd>
<dt>C14A1p</dt><dd><p>Precision of 14C Assimilation of Replicate 1</p>
</dd>
<dt>C14A1q</dt><dd><p>Quality Code</p>
</dd>
<dt>C14As2</dt><dd><p>14C Assimilation of Replicate 2</p>
</dd>
<dt>C14A2p</dt><dd><p>Precision of 14C Assimilation of Replicate 2</p>
</dd>
<dt>C14A2q</dt><dd><p>Quality Code</p>
</dd>
<dt>DarkAs</dt><dd><p>14C Assimilation of Dark/Control Bottle</p>
</dd>
<dt>DarkAp</dt><dd><p>Precision of 14C Assimilationof Dark/Control Bottle</p>
</dd>
<dt>Darkaq</dt><dd><p>Quality Code</p>
</dd>
<dt>MeanAs</dt><dd><p>Mean 14C Assimilation of Replicates 1 and 2</p>
</dd>
<dt>MeanAp</dt><dd><p>Precision of Mean 14C Assimilation of Replicates 1 and 2</p>
</dd>
<dt>MeanAq</dt><dd><p>Quality Code</p>
</dd>
<dt>IncTim</dt><dd><p>Elapsed incubation time of primary productivity experiment</p>
</dd>
<dt>LightP</dt><dd><p>Light intensities of the incubation tubes</p>
</dd>
<dt>R_Depth</dt><dd><p>Reported Depth (from pressure) in meters</p>
</dd>
<dt>R_Temp</dt><dd><p>Reported (Potential) Temperature in degrees Celsius</p>
</dd>
<dt>R_Sal</dt><dd><p>Reported Salinity (from Specific Volume Anomoly, M³/Kg)</p>
</dd>
<dt>R_DYNHT</dt><dd><p>Reported Dynamic Height in units of dynamic meters</p>
</dd>
<dt>R_Nuts</dt><dd><p>Reported Ammonium concentration</p>
</dd>
<dt>R_Oxy_µmol/Kg</dt><dd><p>Reported Oxygen micromoles/kilogram</p>
</dd>
<dt>DIC1</dt><dd><p>Dissolved Inorganic Carbon micromoles per kilogram solution</p>
</dd>
<dt>DIC2</dt><dd><p>Dissolved Inorganic Carbon on a replicate sample</p>
</dd>
<dt>TA1</dt><dd><p>Total Alkalinity micromoles per kilogram solution</p>
</dd>
<dt>TA2</dt><dd><p>Total Alkalinity on a replicate sample</p>
</dd>
<dt>pH1</dt><dd><p>pH (the degree of acidity/alkalinity of a solution)</p>
</dd>
<dt>pH2</dt><dd><p>pH on a replicate sample</p>
</dd>
<dt>DIC Quality Comment</dt><dd><p>Quality Comment</p>
</dd>
</dl>



<h3>Source</h3>

<p>&lt;https://calcofi.org/data/oceanographic-data/bottle-database/&gt;
</p>

<hr>
<h2 id='controlExtractor'>Extracts the control variable names and coefficients from an lm model
summary.</h2><span id='topic+controlExtractor'></span>

<h3>Description</h3>

<p>Extracts the control variable names and coefficients from a model summary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>controlExtractor(model, x, feols_model = F)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="controlExtractor_+3A_model">model</code></td>
<td>
<p>A model summary object.</p>
</td></tr>
<tr><td><code id="controlExtractor_+3A_x">x</code></td>
<td>
<p>A string containing the independent variable name.</p>
</td></tr>
<tr><td><code id="controlExtractor_+3A_feols_model">feols_model</code></td>
<td>
<p>An indicator for whether 'model' is a 'fixest::feols()'
model. Defaults to 'FALSE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with two columns, 'term' contains the name of the control
and 'coef' contains the coefficient estimate.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- summary(lm(Salnty ~ STheta + T_degC, bottles))
controlExtractor(model = m, x = "STheta");

m &lt;- summary(lm(Salnty ~ STheta*T_degC + O2Sat, bottles))
controlExtractor(model = m, x = "STheta");
</code></pre>

<hr>
<h2 id='duplicate_remover'>Removes duplicate control variables</h2><span id='topic+duplicate_remover'></span>

<h3>Description</h3>

<p>Removes duplicate control variables from user input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>duplicate_remover(controls, x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="duplicate_remover_+3A_controls">controls</code></td>
<td>
<p>A vector of strings containing control variable names.</p>
</td></tr>
<tr><td><code id="duplicate_remover_+3A_x">x</code></td>
<td>
<p>A string containing the independent variable name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings containing control variable names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>duplicate_remover(controls = c("control1", "control2*control3"),
                  x = "independentVariable");
</code></pre>

<hr>
<h2 id='formula_builder'>Builds models formulae with every combination of control variables possible.</h2><span id='topic+formula_builder'></span>

<h3>Description</h3>

<p>Builds models formulae with every combination of control variables possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formula_builder(y, x, controls, fixedEffects = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="formula_builder_+3A_y">y</code></td>
<td>
<p>A string containing the dependent variable name.</p>
</td></tr>
<tr><td><code id="formula_builder_+3A_x">x</code></td>
<td>
<p>A string containing the independent variable name.</p>
</td></tr>
<tr><td><code id="formula_builder_+3A_controls">controls</code></td>
<td>
<p>A vector of strings containing control variable names.</p>
</td></tr>
<tr><td><code id="formula_builder_+3A_fixedeffects">fixedEffects</code></td>
<td>
<p>A string containing the name of a variable to use for
fixed effects, defaults to 'NA' indicating no fixed
effects desired.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of formula objects using every possible combination of
controls.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formula_builder("dependentVariable", "independentVariable",
                c("control1", "control2"));
formula_builder("dependentVariable", "independentVariable",
                c("control1*control2"), fixedEffects="month");
</code></pre>

<hr>
<h2 id='paste_factory'>Paste together controls and independent variable</h2><span id='topic+paste_factory'></span>

<h3>Description</h3>

<p>'paste_factory()' constructs the right hand side of the regression as a
a string i.e. &quot;x + control1 + control2&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paste_factory(controls, x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="paste_factory_+3A_controls">controls</code></td>
<td>
<p>A vector of strings containing control variable names.</p>
</td></tr>
<tr><td><code id="paste_factory_+3A_x">x</code></td>
<td>
<p>A string containing the independent variable name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string concatenating independent and control variables separated
by '+'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>paste_factory(controls = c("control1", "control2"),
              x = "independentVariable");
</code></pre>

<hr>
<h2 id='plotAIC'>Plots the AIC across model specifications.</h2><span id='topic+plotAIC'></span>

<h3>Description</h3>

<p>plotAIC() plots the Akaike information criterion across model specifications.
Only available for nonlinear regression models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotAIC(sca_data, title = "", showIndex = TRUE, plotVars = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotAIC_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame returned by 'sca()' containing model estimates
from the specification curve analysis.</p>
</td></tr>
<tr><td><code id="plotAIC_+3A_title">title</code></td>
<td>
<p>A string to use as the plot title. Defaults to an empty string,
'&quot;&quot;'.</p>
</td></tr>
<tr><td><code id="plotAIC_+3A_showindex">showIndex</code></td>
<td>
<p>A boolean indicating whether to label the model index on the
the x-axis. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="plotAIC_+3A_plotvars">plotVars</code></td>
<td>
<p>A boolean indicating whether to include a panel on the plot
showing which variables are present in each model. Defaults
to 'TRUE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'plotVars = TRUE' returns a grid grob (i.e. the output of a call
to 'grid.draw'). If 'plotVars =  FALSE' returns a ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotAIC(sca_data = sca(y = "Salnty", x = "T_degC",
                       controls = c("ChlorA", "O2Sat"),
                       data = bottles, progressBar = TRUE, parallel = FALSE),
                     title = "AIC");
plotAIC(sca_data = sca(y = "Salnty", x = "T_degC",
                       controls = c("ChlorA*O2Sat"),
                       data = bottles, progressBar = FALSE,
                       parallel = FALSE),
                       showIndex = FALSE, plotVars = FALSE);
plotAIC(sca_data = sca(y = "Salnty", x = "T_degC",
                         controls = c("ChlorA*NO3uM", "O2Sat*NO3uM"),
                         data = bottles,
                         progressBar = TRUE, parallel = TRUE, workers = 2));
</code></pre>

<hr>
<h2 id='plotControlDistributions'>Plots control variable distributions.</h2><span id='topic+plotControlDistributions'></span>

<h3>Description</h3>

<p>plotControlDistributions() plots the distribution of coefficients for each
control variable included in the model specifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotControlDistributions(sca_data, title = "", type = "density")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotControlDistributions_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame returned by 'sca()' containing model estimates
from the specification curve analysis.</p>
</td></tr>
<tr><td><code id="plotControlDistributions_+3A_title">title</code></td>
<td>
<p>A string to use as the plot title. Defaults to an empty string,
'&quot;&quot;'.</p>
</td></tr>
<tr><td><code id="plotControlDistributions_+3A_type">type</code></td>
<td>
<p>A string indicating what type of distribution plot to produce.
When 'type = &quot;density&quot;' density plots are produced. When
'type = &quot;hist&quot;' or 'type = &quot;histogram&quot;' histograms are produced.
Defaults to '&quot;density&quot;'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotControlDistributions(sca_data = sca(y="Salnty", x="T_degC",
                                    controls = c("ChlorA", "O2Sat"),
                                    data = bottles,
                                    progressBar = TRUE, parallel = FALSE),
                         title = "Control Variable Distributions")
plotControlDistributions(sca_data = sca(y = "Salnty", x="T_degC",
                                    controls = c("ChlorA*O2Sat"),
                                    data = bottles,
                                    progressBar = FALSE, parallel = FALSE),
                         type = "hist")
plotControlDistributions(sca_data = sca(y = "Salnty", x = "T_degC",
                                    controls = c("ChlorA*NO3uM",
                                                 "O2Sat*NO3uM"),
                                    data = bottles, progressBar = TRUE,
                                    parallel = TRUE, workers = 2),
                         type = "density")
</code></pre>

<hr>
<h2 id='plotCurve'>Plots a specification curve.</h2><span id='topic+plotCurve'></span>

<h3>Description</h3>

<p>plotCurve() takes the data frame output of sca() and produces a ggplot of
the independent variable's coefficient (as indicated in the call to sca())
across model specifications. By default a panel is added showing which
control variables are present in each model. Note that the ggplot output by
this function can only be further customized when 'plotVars = FALSE', i.e.
when the control variable panel is not included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCurve(
  sca_data,
  title = "",
  showIndex = TRUE,
  plotVars = TRUE,
  ylab = "Coefficient",
  plotSE = "bar"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotCurve_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame returned by 'sca()' containing model estimates
from the specification curve analysis.</p>
</td></tr>
<tr><td><code id="plotCurve_+3A_title">title</code></td>
<td>
<p>A string to use as the plot title. Defaults to an empty string,
'&quot;&quot;'.</p>
</td></tr>
<tr><td><code id="plotCurve_+3A_showindex">showIndex</code></td>
<td>
<p>A boolean indicating whether to label the model index on the
the x-axis. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="plotCurve_+3A_plotvars">plotVars</code></td>
<td>
<p>A boolean indicating whether to include a panel on the plot
showing which variables are present in each model. Defaults
to 'TRUE'.</p>
</td></tr>
<tr><td><code id="plotCurve_+3A_ylab">ylab</code></td>
<td>
<p>A string to be used as the y-axis label. Defaults to
'&quot;Coefficient&quot;'.</p>
</td></tr>
<tr><td><code id="plotCurve_+3A_plotse">plotSE</code></td>
<td>
<p>A string indicating whether to display standard errors as
bars or plots. For bars 'plotSE = &quot;bar&quot;', for ribbons
'plotSE = &quot;ribbon&quot;'. If any other value is supplied then no
standard errors are included. Defaults to '&quot;bar&quot;'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'plotVars = TRUE' returns a grid grob (i.e. the output of a call
to 'grid.draw'). If 'plotVars =  FALSE' returns a ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotCurve(sca_data = sca(y="Salnty", x="T_degC", c("ChlorA", "O2Sat"),
                         data=bottles, progressBar=TRUE, parallel=FALSE),
                     title = "Salinity and Temperature Models",
                     showIndex = TRUE, plotVars = TRUE,
                     ylab = "Coefficient value", plotSE = "ribbon");
plotCurve(sca_data = sca(y="Salnty", x="T_degC",
                         c("ChlorA*O2Sat", "ChlorA", "O2Sat"),
                         data=bottles, progressBar=FALSE, parallel=FALSE),
                     showIndex = TRUE, plotVars = TRUE,
                     plotSE = "ribbon");
plotCurve(sca_data = sca(y="Salnty", x="T_degC",
                         c("ChlorA*NO3uM", "O2Sat", "ChlorA", "NO3uM"),
                         data=bottles,
                         progressBar = TRUE, parallel = TRUE, workers=2),
          plotSE="");
</code></pre>

<hr>
<h2 id='plotDeviance'>Plots the deviance of residuals across model specifications.</h2><span id='topic+plotDeviance'></span>

<h3>Description</h3>

<p>plotDeviance() plots the deviance of residuals across model specifications.
Only available for linear regression models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotDeviance(sca_data, title = "", showIndex = TRUE, plotVars = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotDeviance_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame returned by 'sca()' containing model estimates
from the specification curve analysis.</p>
</td></tr>
<tr><td><code id="plotDeviance_+3A_title">title</code></td>
<td>
<p>A string to use as the plot title. Defaults to an empty string,
'&quot;&quot;'.</p>
</td></tr>
<tr><td><code id="plotDeviance_+3A_showindex">showIndex</code></td>
<td>
<p>A boolean indicating whether to label the model index on the
the x-axis. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="plotDeviance_+3A_plotvars">plotVars</code></td>
<td>
<p>A boolean indicating whether to include a panel on the plot
showing which variables are present in each model. Defaults
to 'TRUE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'plotVars = TRUE' returns a grid grob (i.e. the output of a call
to 'grid.draw'). If 'plotVars =  FALSE' returns a ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotDeviance(sca_data = sca(y = "Salnty", x = "T_degC",
                            controls = c("ChlorA", "O2Sat"),
                            data = bottles, progressBar = TRUE,
                            parallel = FALSE),
                     title = "Model Deviance");
plotDeviance(sca_data = sca(y = "Salnty", x = "T_degC",
                            controls = c("ChlorA*O2Sat"),
                            data = bottles, progressBar = FALSE,
                            parallel = FALSE),
                     showIndex = FALSE, plotVars = FALSE);
plotDeviance(sca_data = sca(y = "Salnty", x="T_degC",
                         controls = c("ChlorA*NO3uM", "O2Sat*NO3uM"),
                         data = bottles, progressBar = TRUE, parallel = TRUE,
                         workers = 2));
</code></pre>

<hr>
<h2 id='plotR2Adj'>Plots the adj. R-squared across model specifications.</h2><span id='topic+plotR2Adj'></span>

<h3>Description</h3>

<p>plotR2Adj() plots the adjusted R-squared across model specifications. Only
available for linear regression models. Note when fixed effects are
are specified the within adjusted R-squared is used (i.e. 'fixest::r2()'
with 'type=&quot;war2&quot;').
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotR2Adj(sca_data, title = "", showIndex = TRUE, plotVars = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotR2Adj_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame returned by 'sca()' containing model estimates
from the specification curve analysis.</p>
</td></tr>
<tr><td><code id="plotR2Adj_+3A_title">title</code></td>
<td>
<p>A string to use as the plot title. Defaults to an empty string,
'&quot;&quot;'.</p>
</td></tr>
<tr><td><code id="plotR2Adj_+3A_showindex">showIndex</code></td>
<td>
<p>A boolean indicating whether to label the model index on the
the x-axis. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="plotR2Adj_+3A_plotvars">plotVars</code></td>
<td>
<p>A boolean indicating whether to include a panel on the plot
showing which variables are present in each model. Defaults
to 'TRUE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'plotVars = TRUE' returns a grid grob (i.e. the output of a call
to 'grid.draw'). If 'plotVars =  FALSE' returns a ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotR2Adj(sca_data = sca(y = "Salnty", x = "T_degC",
                         controls = c("ChlorA", "O2Sat"),
                         data = bottles, progressBar = TRUE,
                         parallel = FALSE),
                     title = "Adjusted R^2");
plotR2Adj(sca_data = sca(y="Salnty", x="T_degC",
                         controls = c("ChlorA*O2Sat"),
                         data = bottles, progressBar = FALSE,
                         parallel = FALSE),
                     showIndex = FALSE, plotVars = FALSE);
plotR2Adj(sca_data = sca(y = "Salnty", x = "T_degC",
                         controls = c("ChlorA*NO3uM", "O2Sat*NO3uM"),
                         data = bottles,
                         progressBar = TRUE, parallel = TRUE, workers = 2));
</code></pre>

<hr>
<h2 id='plotRMSE'>Plots RMSE across model specifications.</h2><span id='topic+plotRMSE'></span>

<h3>Description</h3>

<p>plotRMSE() plots the root mean square error across model specifications. Only
available for linear regression models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotRMSE(sca_data, title = "", showIndex = TRUE, plotVars = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotRMSE_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame returned by 'sca()' containing model estimates
from the specification curve analysis.</p>
</td></tr>
<tr><td><code id="plotRMSE_+3A_title">title</code></td>
<td>
<p>A string to use as the plot title. Defaults to an empty string,
'&quot;&quot;'.</p>
</td></tr>
<tr><td><code id="plotRMSE_+3A_showindex">showIndex</code></td>
<td>
<p>A boolean indicating whether to label the model index on the
the x-axis. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="plotRMSE_+3A_plotvars">plotVars</code></td>
<td>
<p>A boolean indicating whether to include a panel on the plot
showing which variables are present in each model. Defaults
to 'TRUE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If 'plotVars = TRUE' returns a grid grob (i.e. the output of a call
to 'grid.draw'). If 'plotVars =  FALSE' returns a ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotRMSE(sca_data = sca(y="Salnty", x="T_degC", c("ChlorA", "O2Sat"),
                         data=bottles, progressBar=TRUE, parallel=FALSE),
                     title = "RMSE");
plotRMSE(sca_data = sca(y="Salnty", x="T_degC", c("ChlorA*O2Sat"),
                         data=bottles, progressBar=FALSE, parallel=FALSE),
                     showIndex = FALSE, plotVars = FALSE);
plotRMSE(sca_data = sca(y="Salnty", x="T_degC",
                         c("ChlorA*NO3uM", "O2Sat*NO3uM"), data=bottles,
                         progressBar = TRUE, parallel=TRUE, workers=2));
</code></pre>

<hr>
<h2 id='plotVars'>Plots the variables in each model.</h2><span id='topic+plotVars'></span>

<h3>Description</h3>

<p>plotVars() plots the variables included in each model specification in order
of model index. Returns a ggplot object that can then be combined with the
output of other functions like plotRMSE() if further customization of each
plot is desired.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotVars(sca_data, title = "", colorControls = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotVars_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame returned by 'sca()' containing model estimates
from the specification curve analysis.</p>
</td></tr>
<tr><td><code id="plotVars_+3A_title">title</code></td>
<td>
<p>A string to use as the plot title. Defaults to an empty string,
'&quot;&quot;'.</p>
</td></tr>
<tr><td><code id="plotVars_+3A_colorcontrols">colorControls</code></td>
<td>
<p>A boolean indicating whether to give each variable a
color to improve readability. Defaults to 'FALSE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plotVars(sca_data = sca(y = "Salnty", x = "T_degC",
                        controls = c("ChlorA", "O2Sat"),
                        data = bottles, progressBar = TRUE,
                        parallel = FALSE),
                     title = "Model Variable Specifications");
plotVars(sca_data = sca(y = "Salnty", x = "T_degC",
                        controls = c("ChlorA*O2Sat"),
                        data = bottles, progressBar = FALSE,
                        parallel = FALSE),
                     colorControls = TRUE);
plotVars(sca_data = sca(y = "Salnty", x = "T_degC",
                        controls = c("ChlorA*NO3uM", "O2Sat*NO3uM"),
                        data = bottles,
                        progressBar = TRUE, parallel = TRUE, workers = 2));
</code></pre>

<hr>
<h2 id='sca'>Perform specification curve analysis</h2><span id='topic+sca'></span>

<h3>Description</h3>

<p>sca() is the workhorse function of the package&ndash;this estimates models with every
possible combination of the controls supplied and returns a data frame
where each row contains the pertinent information and parameters for a
given model by default. This data frame can then be input to plotCurve()
or any other plotting function in the package. Alternatively, if
'returnFormulae = TRUE', it returns a list of formula objects with every
possible combination of controls.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sca(
  y,
  x,
  controls,
  data,
  weights = NULL,
  family = "linear",
  link = NULL,
  fixedEffects = NULL,
  returnFormulae = FALSE,
  progressBar = TRUE,
  parallel = FALSE,
  workers = 2
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sca_+3A_y">y</code></td>
<td>
<p>A string containing the column name of the dependent variable in
data.</p>
</td></tr>
<tr><td><code id="sca_+3A_x">x</code></td>
<td>
<p>A string containing the column name of the independent variable in
data.</p>
</td></tr>
<tr><td><code id="sca_+3A_controls">controls</code></td>
<td>
<p>A vector of strings containing the column names of the
control variables in data.</p>
</td></tr>
<tr><td><code id="sca_+3A_data">data</code></td>
<td>
<p>A dataframe containing y, x, controls, and (optionally) the
variables to be used for fixed effects or clustering.</p>
</td></tr>
<tr><td><code id="sca_+3A_weights">weights</code></td>
<td>
<p>Optional string with the column name in 'data' that contains
weights.</p>
</td></tr>
<tr><td><code id="sca_+3A_family">family</code></td>
<td>
<p>A string indicating the family of models to be used. Defaults
to &quot;linear&quot; for OLS regression but supports all families
supported by 'glm()'.</p>
</td></tr>
<tr><td><code id="sca_+3A_link">link</code></td>
<td>
<p>A string specifying the link function to be used for the model.
Defaults to 'NULL' for OLS regression using 'lm()' or
'fixest::feols()' depending on whether fixed effects are supplied.
Supports all link functions supported by the family parameter of
'glm()'.</p>
</td></tr>
<tr><td><code id="sca_+3A_fixedeffects">fixedEffects</code></td>
<td>
<p>A string containing the column name of the variable
in data desired for fixed effects. Defaults to NULL in
which case no fixed effects are included.</p>
</td></tr>
<tr><td><code id="sca_+3A_returnformulae">returnFormulae</code></td>
<td>
<p>A boolean. When 'TRUE' a list of model formula objects
is returned but the models are not estimated. Defaults
to 'FALSE' in which case a dataframe of model results
is returned.</p>
</td></tr>
<tr><td><code id="sca_+3A_progressbar">progressBar</code></td>
<td>
<p>A boolean indicating whether the user wants a progress bar
for model estimation. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="sca_+3A_parallel">parallel</code></td>
<td>
<p>A boolean indicating whether to parallelize model estimation.
Parallelization only offers a speed advantage when a large
(&gt; 1000) number of models is being estimated. Defaults to
'FALSE'.</p>
</td></tr>
<tr><td><code id="sca_+3A_workers">workers</code></td>
<td>
<p>An integer indicating the number of workers to use for
parallelization. Defaults to 2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>When 'returnFormulae' is 'FALSE', a dataframe where each row contains
the independent variable coefficient estimate, standard error,
test statistic, p-value, model specification, and measures of model
fit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sca(y = "Salnty", x = "T_degC", controls = c("ChlorA", "O2Sat"),
    data = bottles, progressBar = TRUE, parallel = FALSE);
sca(y = "Salnty", x = "T_degC", controls = c("ChlorA*NO3uM", "O2Sat*NO3uM"),
    data = bottles, progressBar = TRUE, parallel = TRUE, workers = 2);
sca(y = "Salnty", x = "T_degC", controls = c("ChlorA", "O2Sat*NO3uM"),
    data = bottles, progressBar = TRUE, parallel = FALSE,
    returnFormulae = TRUE);
</code></pre>

<hr>
<h2 id='scp'>Prepares the output of 'sca()' for plotting.</h2><span id='topic+scp'></span>

<h3>Description</h3>

<p>Takes in the data frame output by 'sca()' and returns a list with the data
frame and labels to make a plot to visualize the controls included in each
spec curve model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scp(sca_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scp_+3A_sca_data">sca_data</code></td>
<td>
<p>A data frame output by 'sca'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a data frame, control coefficients, and control
names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>scp(sca(y = "Salnty", x = "T_degC", controls = c("ChlorA", "O2Sat"),
        data = bottles, progressBar=TRUE, parallel=FALSE));
</code></pre>

<hr>
<h2 id='se_boot'>Estimates bootstrapped standard errors for regression models</h2><span id='topic+se_boot'></span>

<h3>Description</h3>

<p>Takes in a data frame, regression formula, and bootstrapping parameters and
estimates bootstrapped standard errors for models with and without fixed
effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>se_boot(data, formula, n_x, n_samples, sample_size, weights = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="se_boot_+3A_data">data</code></td>
<td>
<p>A data frame containing the variables provided in 'formula'.</p>
</td></tr>
<tr><td><code id="se_boot_+3A_formula">formula</code></td>
<td>
<p>A string containing a regression formula, with or without
fixed effects.</p>
</td></tr>
<tr><td><code id="se_boot_+3A_n_x">n_x</code></td>
<td>
<p>An integer representing the number of independent variables in
the regression.</p>
</td></tr>
<tr><td><code id="se_boot_+3A_n_samples">n_samples</code></td>
<td>
<p>An integer indicating how many times the model should be
estimated with a random subset of the data.</p>
</td></tr>
<tr><td><code id="se_boot_+3A_sample_size">sample_size</code></td>
<td>
<p>An integer indicating how many observations are in each
random subset of the data.</p>
</td></tr>
<tr><td><code id="se_boot_+3A_weights">weights</code></td>
<td>
<p>Optional string with the column name in 'data' that contains
weights.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list containing bootstrapped standard errors for each
coefficient.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
se_boot(data = bottles, formula = "Salnty ~ T_degC + ChlorA + O2Sat",
        n_x = 3, n_samples = 4, sample_size = 300)

se_boot(data = data.frame(x1 = rnorm(50000, mean=4, sd=10),
                          x2 = rnorm(50000, sd=50),
                          ID = rep(1:100, 500),
                          area = rep(1:50, 1000),
                          y = rnorm(50000)),
        formula = "y ~ x1 + x2 | ID",
        n_x = 2, n_samples = 10, sample_size = 1000)

</code></pre>

<hr>
<h2 id='se_compare'>Compare different kinds of standard errors</h2><span id='topic+se_compare'></span>

<h3>Description</h3>

<p>se_compare() takes in a regression formula (with or without fixed effects),
data, and the types of standard errors desired, including clustered,
heteroskedasticity-consistent, and bootstrapped. It then returns a data
frame with coefficient and standard error estimates for easy comparison and
plotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>se_compare(
  formula,
  data,
  weights = NULL,
  types = "all",
  cluster = NULL,
  clusteredOnly = FALSE,
  fixedEffectsOnly = FALSE,
  bootSamples = NULL,
  bootSampleSize = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="se_compare_+3A_formula">formula</code></td>
<td>
<p>A string containing a regression formula, with or without
fixed effects.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_data">data</code></td>
<td>
<p>A data frame containing the variables provided in 'formula' and
any clustering variables passed to 'cluster'.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_weights">weights</code></td>
<td>
<p>Optional string with the column name in 'data' that contains
weights.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_types">types</code></td>
<td>
<p>A string or vector of strings specifying what types of
standard errors are desired. Defaults to &quot;all&quot;.
</p>
<p>The following types are supported for non-fixed effects models:
</p>
<p>With clustering: &quot;HC0, &quot;HC1&quot;, &quot;HC2&quot;, &quot;HC3&quot;.
</p>
<p>Without clustering: &quot;iid&quot; (i.e. normal standard errors),
&quot;HC0, &quot;HC1&quot;, &quot;HC2&quot;, &quot;HC3&quot;,
&quot;HC4&quot;, &quot;HC4m&quot;, &quot;HC5&quot;,
&quot;bootstrapped&quot;.
</p>
<p>The following types are supported for fixed effects models:
</p>
<p>With clustering: &quot;CL_FE&quot; (clustered by fixed effects, i.e.
the default standard errors reported by
'feols()' if no clusters are supplied), if
clusters are supplied then the conventional
clustered standard errors from 'feols()' are
estimated for each clustering variable. Two-
way clustered standard errors are not
supported at this time.
</p>
<p>Without clustering: &quot;HC0, &quot;HC1&quot;, &quot;HC2&quot;, &quot;HC3&quot;,
&quot;HC4&quot;, &quot;HC4m&quot;, &quot;HC5&quot;,
&quot;bootstrapped&quot;.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_cluster">cluster</code></td>
<td>
<p>A string or vector of strings specifying variables present in
'data' to be used for clustering standard errors.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_clusteredonly">clusteredOnly</code></td>
<td>
<p>A boolean indicating whether only standard errors with
clustering should be estimated, defaults to 'FALSE'.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_fixedeffectsonly">fixedEffectsOnly</code></td>
<td>
<p>A boolean indicating whether only standard errors for
fixed effects models should be estimated, defaults to
'FALSE'.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_bootsamples">bootSamples</code></td>
<td>
<p>An integer or vector of integers indicating how many times
the model should be estimated with a random subset of the
data. If a vector then every combination of 'bootSamples'
and 'bootSampleSize' are estimated.</p>
</td></tr>
<tr><td><code id="se_compare_+3A_bootsamplesize">bootSampleSize</code></td>
<td>
<p>An integer or vector of integers indicating how many
observations are in each random subset of the data.
If a vector then every combination of 'bootSamples'
and 'bootSampleSize' are estimated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame where row represents an independent variable in the
model and each column a type of standard error. Coefficient estimates
for each variable are also included (column '&quot;estimate&quot;' for
non-fixed effects model and column '&quot;estimate_FE&quot;' for fixed effects
models). Columns are automatically named to specify the standard
error type.
</p>
<p>Some examples:
</p>
<p>&quot;iid&quot; = normal standard errors, i.e. assuming homoskedasticity
</p>
<p>&quot;CL_FE&quot; = standard errors clustered by fixed effects
</p>
<p>&quot;bootstrap_k8n300_FE&quot; =  bootstrapped standard errors for a fixed
effects model where 'bootSamples = 8' and
'bootSampleSize = 300'
</p>
<p>&quot;CL_Depth_ID_FE&quot; = standard errors clustered by the variable
&quot;Depth_ID&quot; for a model with fixed effects
</p>
<p>&quot;HC0_Sta_ID&quot; = HC0 standard errors clustered by the variable
&quot;Sta_ID&quot;
</p>
<p>Note: for fixed effects models the &quot;(Intercept)&quot; row will be all
'NA' because the intercept is not reported by 'feols()' when fixed
effects are present.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
se_compare(formula = "Salnty ~ T_degC + ChlorA + O2Sat | Sta_ID",
           data = bottles, types = "all", cluster = c("Depth_ID", "Sta_ID"),
           fixedEffectsOnly = FALSE, bootSamples=c(4, 8, 10),
           bootSampleSize=c(300, 500))

se_compare(formula = "Salnty ~ T_degC + ChlorA + O2Sat", data = bottles,
           types = "bootstrapped", bootSamples = c(8, 10),
           bootSampleSize = c(300, 500))

se_compare(formula = "Salnty ~ T_degC + ChlorA", data = bottles,
           types = c("HC0", "HC1", "HC3"))

</code></pre>

<hr>
<h2 id='unAsIs'>Removes the 'AsIs' class attribute from the input.</h2><span id='topic+unAsIs'></span>

<h3>Description</h3>

<p>Removes the 'AsIs' class attribute from the input. Taken from:
&lt;https://stackoverflow.com/a/12866609&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unAsIs(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unAsIs_+3A_x">x</code></td>
<td>
<p>An object with the 'AsIs' class attribute.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object without the 'AsIs' class attribute.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>unAsIs(x = I(c(1:4)));
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

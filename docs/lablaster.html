<!DOCTYPE html><html lang="en-GB"><head><title>Help for package lablaster</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lablaster}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#coral6'><p>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a branching coral, identified hereon as “coral6”.</p></a></li>
<li><a href='#endPoint'><p>Detects when the laser ablates through the target sample in a laser ablation mass spectrometry time resolved analysis.</p></a></li>
<li><a href='#foram166shot7'><p>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a planktonic foraminifera</p></a></li>
<li><a href='#foram174shot4'><p>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a planktonic foraminifera</p></a></li>
<li><a href='#foram72shot3'><p>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a planktonic foraminifera</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Laser Ablation Blast Through Endpoint Detection</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-04-17</td>
</tr>
<tr>
<td>Description:</td>
<td>Imports a data frame containing a single time resolved laser ablation mass spectrometry analysis of a foraminifera (or other carbonate shell), then detects when the laser has burnt through the foraminifera test as a function of change in signal over time.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, ggplot2, smooth, scales, stats, rlang</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/alexsb1/lablaster">https://github.com/alexsb1/lablaster</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-17 22:33:35 UTC; Alex</td>
</tr>
<tr>
<td>Author:</td>
<td>Alex Searle-Barnes
    <a href="https://orcid.org/0000-0003-0389-7717"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]
    (URL: https://github.com/alexsb1)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alex Searle-Barnes &lt;c.j.a.searle-barnes@soton.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-17 22:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='coral6'>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a branching coral, identified hereon as “coral6”.</h2><span id='topic+coral6'></span>

<h3>Description</h3>

<p>A fragment of Acropora polystoma coral from Chris Standish.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coral6
</code></pre>


<h3>Format</h3>

<p>A data frame with 300 rows and 5 variables:
</p>

<dl>
<dt>Time</dt><dd><p>time stamp of each observation (in milliseconds)</p>
</dd>
<dt>Mg24</dt><dd><p>raw data for 24Mg</p>
</dd>
<dt>Ca43</dt><dd><p>raw data for 43Ca</p>
</dd>
<dt>Mn55</dt><dd><p>raw data for 55Mn</p>
</dd>
<dt>Sr86</dt><dd><p>raw data for 86Sr</p>
</dd>
</dl>


<hr>
<h2 id='endPoint'>Detects when the laser ablates through the target sample in a laser ablation mass spectrometry time resolved analysis.</h2><span id='topic+endPoint'></span>

<h3>Description</h3>

<p>This function imports a data frame containing a single time resolved laser ablation mass spectrometry analysis of a foraminifera (or other carbonate shell).
It assumes that the first row contains the signal of the target sample and that background correction has already been applied.
<br />
Column names referencing the time stamps and target signal are specified as function arguments.
Then the signal column is evaluated by smoothing the values using a moving average, then scaled between 0-1 and the rate of change over a number of observations.
<br />
The function identifies the maximum rate of signal change, locates the corresponding time stamp and then subtracts the time it took for the laser to blast through the target.
The result (endTime) is the time stamp of the last observation while the laser is still focussed the desired target.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>endPoint(
  detectDf,
  dt = 10,
  smoothing = 5,
  timeCol = "Time",
  signalCol = "Ca44",
  profile = "FLASE",
  timeUnits = "seconds"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="endPoint_+3A_detectdf">detectDf</code></td>
<td>
<p>A data frame containing a single time resolved analysis, with a column referencing time and another with the corresponding measured counts data.</p>
</td></tr>
<tr><td><code id="endPoint_+3A_dt">dt</code></td>
<td>
<p>An integer that controls the number of observations (rows) are used in calculating a rolling lagged difference in 44Ca signal. Using a lower value for a faster blast through of chamber wall can improve end point sensitivity. Default = 10.</p>
</td></tr>
<tr><td><code id="endPoint_+3A_smoothing">smoothing</code></td>
<td>
<p>Controls the length of the moving average filter to apply over the dt period. Default = 5.</p>
</td></tr>
<tr><td><code id="endPoint_+3A_timecol">timeCol</code></td>
<td>
<p>The column title in the data frame identifying the time stamp of the time resolved analysis. Default = &quot;Time&quot;.</p>
</td></tr>
<tr><td><code id="endPoint_+3A_signalcol">signalCol</code></td>
<td>
<p>The column title in the data frame identifying the numerical data used to identify the laser ablation blast through endpoint. This is often 44Ca but could be any column of numerical data that you want to detect the endpoint. Default = &quot;Ca44&quot;.</p>
</td></tr>
<tr><td><code id="endPoint_+3A_profile">profile</code></td>
<td>
<p>Logical. A visualisation of the endpoint detection mechanism as a ggplot2 object. To make this profile plot, set the argument to TRUE, otherwise set it to FALSE. Specifying to not make a plot can save a substantial amount of time. Default = &quot;FALSE&quot;.</p>
</td></tr>
<tr><td><code id="endPoint_+3A_timeunits">timeUnits</code></td>
<td>
<p>The units that the time resolved analysis is measured in. This is the units of the timeCol. This argument is a string and is only necessary if the argument profile = &quot;TRUE&quot;. Default = &quot;seconds&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a data frame containing the columns:
</p>

<ul>
<li><p> dfReturn$detectDf contains a data frame with only the observations between the first data frame row and the endTime.
</p>
</li>
<li><p> dfReturn$startTime contains the earliest time in your TRA as a numerical value.
</p>
</li>
<li><p> df$Return$endTime contains the last time step while the laser is still focussed the desired target in your TRA before the as a numerical value.
</p>
</li>
<li><p> df$Return$profile contains a visualisation of your TRA identifying where the laser ablated through the carbonate shell as a ggplot object. This is only available if a profile was generated using profile = &quot;TRUE&quot;.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>endPoint(detectDf = foram72shot3, dt = 10, smoothing = 5, timeCol = "Time",
 signalCol = "Ca44", profile = "TRUE",  timeUnits = "seconds")
endPoint(detectDf = foram166shot7, dt = 8, smoothing = 7, timeCol = "Time",
 signalCol = "Ca44", profile = "FALSE",  timeUnits = "seconds")
endPoint(detectDf = foram174shot4, dt = 10, smoothing = 5, timeCol = "Time",
 signalCol = "Ca43", profile = "TRUE",  timeUnits = "seconds")
endPoint(detectDf = coral6, dt = 10, smoothing = 5, timeCol = "Time",
 signalCol = "Sr86", profile = "FALSE",  timeUnits = "milliseconds")
</code></pre>

<hr>
<h2 id='foram166shot7'>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a planktonic foraminifera</h2><span id='topic+foram166shot7'></span>

<h3>Description</h3>

<p>The fifth from final chamber of Menardella exilis foraminifera 166, identified hereon as “foram166shot7”.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>foram166shot7
</code></pre>


<h3>Format</h3>

<p>A data frame with 144 rows and 8 variables:
</p>

<dl>
<dt>Time</dt><dd><p>time stamp of each observation (in seconds)</p>
</dd>
<dt>Mg24</dt><dd><p>raw data for 24Mg</p>
</dd>
<dt>Al27</dt><dd><p>raw data for 27Al</p>
</dd>
<dt>Ca43</dt><dd><p>raw data for 43Ca</p>
</dd>
<dt>Ca44</dt><dd><p>raw data for 44Ca</p>
</dd>
<dt>Mn55</dt><dd><p>raw data for 55Mn</p>
</dd>
<dt>Cu65</dt><dd><p>raw data for 65Cu</p>
</dd>
<dt>Sr88</dt><dd><p>raw data for 88Sr</p>
</dd>
</dl>


<hr>
<h2 id='foram174shot4'>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a planktonic foraminifera</h2><span id='topic+foram174shot4'></span>

<h3>Description</h3>

<p>An antepenultimate chamber of Menardella exilis foraminifera 174, identified hereon as “foram174shot4”.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>foram174shot4
</code></pre>


<h3>Format</h3>

<p>A data frame with 144 rows and 8 variables:
</p>

<dl>
<dt>Time</dt><dd><p>time stamp of each observation (in seconds)</p>
</dd>
<dt>Mg24</dt><dd><p>raw data for 24Mg</p>
</dd>
<dt>Al27</dt><dd><p>raw data for 27Al</p>
</dd>
<dt>Ca43</dt><dd><p>raw data for 43Ca</p>
</dd>
<dt>Ca44</dt><dd><p>raw data for 44Ca</p>
</dd>
<dt>Mn55</dt><dd><p>raw data for 55Mn</p>
</dd>
<dt>Cu65</dt><dd><p>raw data for 65Cu</p>
</dd>
<dt>Sr88</dt><dd><p>raw data for 88Sr</p>
</dd>
</dl>


<hr>
<h2 id='foram72shot3'>Time resolved analysis by laser ablation inductively coupled plasma mass spectrometry of a planktonic foraminifera</h2><span id='topic+foram72shot3'></span>

<h3>Description</h3>

<p>An antepenultimate chamber of Menardella exilis foraminifera 72, identified hereon as “foram72shot3”.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>foram72shot3
</code></pre>


<h3>Format</h3>

<p>A data frame with 144 rows and 8 variables:
</p>

<dl>
<dt>Time</dt><dd><p>time stamp of each observation (in seconds)</p>
</dd>
<dt>Mg24</dt><dd><p>raw data for 24Mg</p>
</dd>
<dt>Al27</dt><dd><p>raw data for 27Al</p>
</dd>
<dt>Ca43</dt><dd><p>raw data for 43Ca</p>
</dd>
<dt>Ca44</dt><dd><p>raw data for 44Ca</p>
</dd>
<dt>Mn55</dt><dd><p>raw data for 55Mn</p>
</dd>
<dt>Cu65</dt><dd><p>raw data for 65Cu</p>
</dd>
<dt>Sr88</dt><dd><p>raw data for 88Sr</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

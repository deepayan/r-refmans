<!DOCTYPE html><html lang="en-US"><head><title>Help for package crane</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {crane}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#crane-package'><p>crane: Supplements the 'gtsummary' Package for Pharmaceutical Reporting</p></a></li>
<li><a href='#add_blank_row'><p>Add Blank Row</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#roche_pvalue'><p>Round p-values</p></a></li>
<li><a href='#tbl_demographics'><p>Demographics Table</p></a></li>
<li><a href='#theme_gtsummary_roche'><p>Roche Theme</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Supplements the 'gtsummary' Package for Pharmaceutical Reporting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Tables summarizing clinical trial results are often complex
    and require detailed tailoring prior to submission to a health
    authority.  The 'crane' package supplements the functionality of the
    'gtsummary' package for creating these often highly bespoke tables in
    the pharmaceutical industry.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/insightsengineering/crane">https://github.com/insightsengineering/crane</a>,
<a href="https://insightsengineering.github.io/crane/">https://insightsengineering.github.io/crane/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/insightsengineering/crane/issues">https://github.com/insightsengineering/crane/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.6.4), dplyr (&ge; 1.1.4), flextable (&ge; 0.9.7), gt (&ge;
0.11.1), gtsummary (&ge; 2.1.0), rlang (&ge; 1.1.5)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/Needs/check:</td>
<td>hms</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>rmarkdown, yaml, insightsengineering/nesttemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-21 22:53:07 UTC; sjobergd</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel D. Sjoberg <a href="https://orcid.org/0000-0003-0862-2018"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Emily de la Rua [aut],
  Davide Garolini [aut],
  Abinaya Yogasekaram [aut],
  F. Hoffmann-La Roche AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel D. Sjoberg &lt;danield.sjoberg@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-24 17:00:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='crane-package'>crane: Supplements the 'gtsummary' Package for Pharmaceutical Reporting</h2><span id='topic+crane'></span><span id='topic+crane-package'></span>

<h3>Description</h3>

<p>Tables summarizing clinical trial results are often complex and require detailed tailoring prior to submission to a health authority. The 'crane' package supplements the functionality of the 'gtsummary' package for creating these often highly bespoke tables in the pharmaceutical industry.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel D. Sjoberg <a href="mailto:danield.sjoberg@gmail.com">danield.sjoberg@gmail.com</a> (<a href="https://orcid.org/0000-0003-0862-2018">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Emily de la Rua <a href="mailto:emily.de_la_rua@contractors.roche.com">emily.de_la_rua@contractors.roche.com</a>
</p>
</li>
<li><p> Davide Garolini <a href="mailto:davide.garolini@roche.com">davide.garolini@roche.com</a>
</p>
</li>
<li><p> Abinaya Yogasekaram <a href="mailto:abinaya.yogasekaram@contractors.roche.com">abinaya.yogasekaram@contractors.roche.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/insightsengineering/crane">https://github.com/insightsengineering/crane</a>
</p>
</li>
<li> <p><a href="https://insightsengineering.github.io/crane/">https://insightsengineering.github.io/crane/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/insightsengineering/crane/issues">https://github.com/insightsengineering/crane/issues</a>
</p>
</li></ul>


<hr>
<h2 id='add_blank_row'>Add Blank Row</h2><span id='topic+add_blank_row'></span>

<h3>Description</h3>

<p>Add a blank row below each variable group.
A blank row will not be added to the bottom of the table.
</p>
<p><em>NOTE</em>: For HTML flextable output (which includes the RStudio IDE Viewer),
the blank rows do not render. But they will appear when the
table is rendered to Word.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_blank_row(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_blank_row_+3A_x">x</code></td>
<td>
<p>(<code>gtsummary</code>)<br />
a 'gtsummary' table. The table must include a column named <code>'variable'</code>
in <code>x$table_body</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated 'gtsummary' table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtsummary::trial |&gt;
  tbl_demographics(
    by = trt,
    include = c(age, marker, grade)
  ) |&gt;
  add_blank_row()
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic+all_continuous'></span><span id='topic+all_categorical'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
<dt>gtsummary</dt><dd><p><code><a href="gtsummary.html#topic+select_helpers">all_categorical</a></code>, <code><a href="gtsummary.html#topic+select_helpers">all_continuous</a></code></p>
</dd>
</dl>

<hr>
<h2 id='roche_pvalue'>Round p-values</h2><span id='topic+roche_pvalue'></span><span id='topic+label_roche_pvalue'></span>

<h3>Description</h3>

<p>Round p-values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roche_pvalue(
  x,
  big.mark = ifelse(decimal.mark == ",", " ", ","),
  decimal.mark = getOption("OutDec"),
  ...
)

label_roche_pvalue(
  big.mark = ifelse(decimal.mark == ",", " ", ","),
  decimal.mark = getOption("OutDec"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="roche_pvalue_+3A_x">x</code></td>
<td>
<p>(<code>numeric</code>)<br />
Numeric vector of p-values.</p>
</td></tr>
<tr><td><code id="roche_pvalue_+3A_big.mark">big.mark</code></td>
<td>
<p>(<code>string</code>)<br />
Character used between every 3 digits to separate
hundreds/thousands/millions/etc.
Default is <code>","</code>, except when <code>decimal.mark = ","</code> when the default is a space.</p>
</td></tr>
<tr><td><code id="roche_pvalue_+3A_decimal.mark">decimal.mark</code></td>
<td>
<p>(<code>string</code>)<br />
The character to be used to indicate the numeric decimal point.
Default is <code>"."</code>  or <code>getOption("OutDec")</code></p>
</td></tr>
<tr><td><code id="roche_pvalue_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code>base::format()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of rounded p-values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(0.0000001, 0.123456)

roche_pvalue(x)
label_roche_pvalue()(x)
</code></pre>

<hr>
<h2 id='tbl_demographics'>Demographics Table</h2><span id='topic+tbl_demographics'></span>

<h3>Description</h3>

<p>This is a thin wrapper of <code><a href="gtsummary.html#topic+tbl_summary">gtsummary::tbl_summary()</a></code> with the following differences:
</p>

<ul>
<li><p> Default summary type for continuous variables is <code>'continuous2'</code>.
</p>
</li>
<li><p> Number of non-missing observations is added for each variable by default
and placed on the row under the header.
</p>
</li>
<li><p> The <code style="white-space: pre;">&#8288;tbl_summary(missing*)&#8288;</code> arguments have been renamed to
<code style="white-space: pre;">&#8288;tbl_demographics(nonmissing*)&#8288;</code> with updated default values.
</p>
</li>
<li><p> The default footnotes from <code>tbl_summary()</code> are removed.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>tbl_demographics(
  data,
  by = NULL,
  label = NULL,
  statistic = list(all_continuous() ~ c("{mean} ({sd})", "{median}", "{min} - {max}"),
    all_categorical() ~ "{n} ({p}%)"),
  digits = NULL,
  type = NULL,
  value = NULL,
  nonmissing = c("always", "ifany", "no"),
  nonmissing_text = "n",
  nonmissing_stat = "{N_nonmiss}",
  sort = all_categorical(FALSE) ~ "alphanumeric",
  percent = c("column", "row", "cell"),
  include = everything()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tbl_demographics_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)<br /> A data frame.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_by">by</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
A single column from <code>data</code>. Summary statistics will be stratified by this variable.
Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_label">label</code></td>
<td>
<p>(<code><a href="gtsummary.html#topic+syntax">formula-list-selector</a></code>)<br />
Used to override default labels in summary table, e.g. <code>list(age = "Age, years")</code>.
The default for each variable is the column label attribute, <code>attr(., 'label')</code>.
If no label has been set, the column name is used.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_statistic">statistic</code></td>
<td>
<p>(<code><a href="gtsummary.html#topic+syntax">formula-list-selector</a></code>)<br />
Specifies summary statistics to display for each variable.  The default is
<code>list(all_continuous() ~ "{median} ({p25}, {p75})", all_categorical() ~ "{n} ({p}%)")</code>.
See below for details.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_digits">digits</code></td>
<td>
<p>(<code><a href="gtsummary.html#topic+syntax">formula-list-selector</a></code>)<br />
Specifies how summary statistics are rounded. Values may be either integer(s)
or function(s). If not specified, default formatting is assigned
via <code>assign_summary_digits()</code>. See below for details.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_type">type</code></td>
<td>
<p>(<code><a href="gtsummary.html#topic+syntax">formula-list-selector</a></code>)<br />
Specifies the summary type. Accepted value are
<code>c("continuous", "continuous2", "categorical", "dichotomous")</code>.
If not specified, default type is assigned via
<code>assign_summary_type()</code>. See below for details.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_value">value</code></td>
<td>
<p>(<code><a href="gtsummary.html#topic+syntax">formula-list-selector</a></code>)<br />
Specifies the level of a variable to display on a single row.
The gtsummary type selectors, e.g. <code>all_dichotomous()</code>, cannot be used
with this argument. Default is <code>NULL</code>. See below for details.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_nonmissing">nonmissing</code>, <code id="tbl_demographics_+3A_nonmissing_text">nonmissing_text</code>, <code id="tbl_demographics_+3A_nonmissing_stat">nonmissing_stat</code></td>
<td>
<p>Arguments dictating how and if missing values are presented:
</p>

<ul>
<li> <p><code>nonmissing</code>: must be one of <code>c("always", "ifany", "no")</code>
</p>
</li>
<li> <p><code>nonmissing_text</code>: string indicating text shown on non-missing row. Default is <code>"n"</code>
</p>
</li>
<li> <p><code>nonmissing_stat</code>: statistic to show on non-missing row. Default is <code>"{N_nonmiss}"</code>.
Possible values are <code>N_nonmiss</code>, <code>N_miss</code>, <code>N_obs</code>,, <code>p_nonmiss</code> <code>p_miss</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_sort">sort</code></td>
<td>
<p>(<code><a href="gtsummary.html#topic+syntax">formula-list-selector</a></code>)<br />
Specifies sorting to perform for categorical variables.
Values must be one of <code>c("alphanumeric", "frequency")</code>.
Default is <code>all_categorical(FALSE) ~ "alphanumeric"</code>.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_percent">percent</code></td>
<td>
<p>(<code>string</code>)<br />
Indicates the type of percentage to return.
Must be one of <code>c("column", "row", "cell")</code>. Default is <code>"column"</code>.</p>
</td></tr>
<tr><td><code id="tbl_demographics_+3A_include">include</code></td>
<td>
<p>(<code><a href="dplyr.html#topic+dplyr_tidy_select">tidy-select</a></code>)<br />
Variables to include in the summary table. Default is <code>everything()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 'gtsummary' table
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1 ----------------------------------
gtsummary::trial |&gt;
  tbl_demographics(
    by = trt,
    include = c(age, grade)
  )
</code></pre>

<hr>
<h2 id='theme_gtsummary_roche'>Roche Theme</h2><span id='topic+theme_gtsummary_roche'></span>

<h3>Description</h3>

<p>A gtsummary theme for Roche tables
</p>

<ul>
<li><p> Calls the <code><a href="gtsummary.html#topic+theme_gtsummary">gtsummary::theme_gtsummary_compact()</a></code> theme.
</p>
</li>
<li><p> Uses <code>label_roche_pvalue()</code> as the default formatting function for all p-values.
</p>
</li>
<li><p> Defaults to a mono-spaced font for gt tables.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>theme_gtsummary_roche(set_theme = TRUE, font_size = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_gtsummary_roche_+3A_set_theme">set_theme</code></td>
<td>
<p>(scalar <code>logical</code>)<br />
Logical indicating whether to set the theme. Default is <code>TRUE</code>.
When <code>FALSE</code> the named list of theme elements is returned invisibly</p>
</td></tr>
<tr><td><code id="theme_gtsummary_roche_+3A_font_size">font_size</code></td>
<td>
<p>(scalar <code>numeric</code>)<br />
Numeric font size for compact theme.
Default is 13 for gt tables, and 8 for all other output types</p>
</td></tr>
</table>


<h3>Value</h3>

<p>theme list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>theme_gtsummary_roche()

tbl_demographics(gtsummary::trial, by = trt, include = c(age, grade))

gtsummary::reset_gtsummary_theme()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package fasterize</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fasterize}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fasterize'><p>Rasterize a vector or dataframe object of polygons</p></a></li>
<li><a href='#fasterize-package'><p>fasterize: Fast Polygon to Raster Conversion</p></a></li>
<li><a href='#plot'><p>raster::plot</p></a></li>
<li><a href='#raster'><p>raster::plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Fast Polygon to Raster Conversion</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a drop-in replacement for rasterize() from the 'raster'
   package that takes polygon vector or data frame objects, and is much faster. 
   There is support for the main options provided by the rasterize() function, 
   including setting the field used and background value, and options for 
   aggregating multi-layer rasters. Uses the scan line algorithm attributed to
   Wylie et al. (1967) &lt;<a href="https://doi.org/10.1145%2F1465611.1465619">doi:10.1145/1465611.1465619</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ecohealthalliance/fasterize">https://github.com/ecohealthalliance/fasterize</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ecohealthalliance/fasterize/issues">https://github.com/ecohealthalliance/fasterize/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, microbenchmark, knitr, rmarkdown, sf, spelling,
geos</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, raster (&ge; 2.8-3), wk</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-05 02:23:29 UTC; mdsumner</td>
</tr>
<tr>
<td>Author:</td>
<td>Noam Ross <a href="https://orcid.org/0000-0002-2136-0000"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]
    (Original author),
  Michael Sumner <a href="https://orcid.org/0000-0002-2471-7511"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, ctb],
  Jeroen Ooms [ctb],
  Antoine Stevens [ctb],
  EcoHealth Alliance [cph],
  USAID PREDICT [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Sumner &lt;mdsumner@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-05 05:50:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='fasterize'>Rasterize a vector or dataframe object of polygons</h2><span id='topic+fasterize'></span>

<h3>Description</h3>

<p>Rasterize set of polygons
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fasterize(
  sf,
  raster,
  field = NULL,
  fun = "last",
  background = NA_real_,
  by = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fasterize_+3A_sf">sf</code></td>
<td>
<p>a polygon vector or data frame object with a geometry column of POLYGON and/or
MULTIPOLYGON (equivalent) objects.</p>
</td></tr>
<tr><td><code id="fasterize_+3A_raster">raster</code></td>
<td>
<p>A raster  object. Used as a template for the raster output.
Can be created with <code><a href="raster.html#topic+raster">raster::raster()</a></code>.
The fasterize package provides a method to create a raster object from
an polygon dataset.</p>
</td></tr>
<tr><td><code id="fasterize_+3A_field">field</code></td>
<td>
<p>character (or numeric vector). The name of a column in <code>sf</code>,
providing a value for each of the polygons rasterized. If NULL (default),
all polygons will be given a value of 1.  If a numeric vector this value
will be used as the value given to the pixel.   (No recyling is done).</p>
</td></tr>
<tr><td><code id="fasterize_+3A_fun">fun</code></td>
<td>
<p>character. The name of a function by which to combine overlapping
polygons. Currently takes &quot;sum&quot;, &quot;first&quot;, &quot;last&quot;, &quot;min&quot;, &quot;max&quot;, &quot;count&quot;, or
&quot;any&quot;.  Future versions may include more functions or the ability to pass
custom R/C++ functions. If you need to summarize by a different function,
use <code style="white-space: pre;">&#8288;by=&#8288;</code> to get a RasterBrick and then <code><a href="raster.html#topic+stackApply">raster::stackApply()</a></code> or
<code><a href="raster.html#topic+calc">raster::calc()</a></code> to summarize.</p>
</td></tr>
<tr><td><code id="fasterize_+3A_background">background</code></td>
<td>
<p>numeric. Value to put in the cells that are not covered by
any of the features of x. Default is NA.</p>
</td></tr>
<tr><td><code id="fasterize_+3A_by">by</code></td>
<td>
<p>character.  The name of a column in <code>sf</code> by which to aggregate
layers.  If set, fasterize will return a RasterBrick with as many layers
as unique values of the <code>by</code> column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a high-performance replacement for <code><a href="raster.html#topic+rasterize">raster::rasterize()</a></code>.
</p>
<p>The algorithm is based on the method described in course materials provided
by <a href="https://labs.wsu.edu/wayne-cochran/">Wayne O. Cochran</a>. The algorithm
is originally attributed to
Wylie et al. (1967) <a href="https://doi.org/10.1145/1465611.1465619">doi:10.1145/1465611.1465619</a>.
</p>
<p>Note that original implementation worked only for sf dataframes of class &quot;sf&quot;, but this
now works for any polygon vector (sfc, wkt, wkb, geos) or dataframe with a polygon vector
supported by the wk package handlers.
</p>


<h3>Value</h3>

<p>A raster of the same size, extent, resolution and projection as the
provided raster template.
</p>


<h3>References</h3>

<p>Wylie, C., Romney, G., Evans, D., &amp; Erdahl, A. (1967).
Half-tone perspective drawings by computer. Proceedings of the November
14-16, 1967, Fall Joint Computer Conference. AFIPS '67 (Fall).
<a href="https://doi.org/10.1145/1465611.1465619">doi:10.1145/1465611.1465619</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
library(fasterize)
p1 &lt;- rbind(c(-180,-20), c(-140,55), c(10, 0), c(-140,-60), c(-180,-20))
hole &lt;- rbind(c(-150,-20), c(-100,-10), c(-110,20), c(-150,-20))
p1 &lt;- list(p1, hole)
p2 &lt;- list(rbind(c(-10,0), c(140,60), c(160,0), c(140,-55), c(-10,0)))
p3 &lt;- list(rbind(c(-125,0), c(0,60), c(40,5), c(15,-45), c(-125,0)))
pols &lt;- st_sf(value = rep(1,3),
              geometry = st_sfc(lapply(list(p1, p2, p3), st_polygon)))
r &lt;- raster(pols, res = 1)
r &lt;- fasterize(pols, r, field = "value", fun="sum")
plot(r)
</code></pre>

<hr>
<h2 id='fasterize-package'>fasterize: Fast Polygon to Raster Conversion</h2><span id='topic+fasterize-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Provides a drop-in replacement for rasterize() from the 'raster' package that takes polygon vector or dataframe objects, and is much faster. There is support for the main options provided by the rasterize() function, including setting the field used and background value, and options for aggregating multi-layer rasters. Uses the scan line algorithm attributed to Wylie et al. (1967) <a href="https://doi.org/10.1145/1465611.1465619">doi:10.1145/1465611.1465619</a>.
</p>
<p>Fast polygons-to-raster conversion
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Michael Sumner <a href="mailto:mdsumner@gmail.com">mdsumner@gmail.com</a> (<a href="https://orcid.org/0000-0002-2471-7511">ORCID</a>) [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Noam Ross <a href="mailto:ross@ecohealthalliance.org">ross@ecohealthalliance.org</a> (<a href="https://orcid.org/0000-0002-2136-0000">ORCID</a>) (Original author)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Jeroen Ooms [contributor]
</p>
</li>
<li><p> Antoine Stevens [contributor]
</p>
</li>
<li><p> EcoHealth Alliance [copyright holder]
</p>
</li>
<li><p> USAID PREDICT [funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ecohealthalliance/fasterize">https://github.com/ecohealthalliance/fasterize</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ecohealthalliance/fasterize/issues">https://github.com/ecohealthalliance/fasterize/issues</a>
</p>
</li></ul>


<hr>
<h2 id='plot'>raster::plot</h2><span id='topic+plot'></span>

<h3>Description</h3>

<p>re-exported <code>plot</code> method from <code>raster</code> package to avoid failing
when trying to plot raster objects without having <code>raster</code> loaded
first.
</p>

<hr>
<h2 id='raster'>raster::plot</h2><span id='topic+raster'></span>

<h3>Description</h3>

<p>re-exported <code>raster</code> method from <code>raster</code> package to avoid failing
when trying to plot raster objects without having <code>raster</code> loaded
first.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package CSCNet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CSCNet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#penCSC'><p>penCSC</p></a></li>
<li><a href='#predict.penCSC'><p>predict.penCSC</p></a></li>
<li><a href='#predictRisk.penCSC'><p>predictRisk.penCSC</p></a></li>
<li><a href='#print.penCSC'><p>print.penCSC</p></a></li>
<li><a href='#print.tune_penCSC'><p>print.tune_penCSC</p></a></li>
<li><a href='#tune_penCSC'><p>tune_penCSC</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fitting and Tuning Regularized Cause-Specific Cox Models with
Elastic-Net Penalty</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shahin Roshani &lt;s.roshani@nki.nl&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Flexible tools to fit, tune and obtain absolute risk predictions from regularized cause-specific cox models with elastic-net penalty.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), tidyverse (&ge; 1.3.1), magrittr (&ge; 2.0.3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.9), purrr (&ge; 0.3.4), stringr (&ge; 1.4.0), tibble
(&ge; 3.1.7), survival (&ge; 3.3-1), prodlim (&ge; 2019.11.13),
riskRegression (&ge; 2022.03.22), glmnet (&ge; 4.1-4), caret (&ge;
6.0-92), recipes (&ge; 0.2.0), future (&ge; 1.26.1), furrr (&ge;
0.3.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-08 18:07:36 UTC; s.roshani</td>
</tr>
<tr>
<td>Author:</td>
<td>Shahin Roshani <a href="https://orcid.org/0000-0001-7518-157X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-08 18:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='penCSC'>penCSC</h2><span id='topic+penCSC'></span>

<h3>Description</h3>

<p>Function to fit penalized cause-specific-cox with elastic-net penalty.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>penCSC(
  time,
  status,
  vars.list,
  data,
  alpha.list,
  lambda.list,
  standardize = TRUE,
  keep = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="penCSC_+3A_time">time</code></td>
<td>
<p>A character showing the name of the time variable in the data.</p>
</td></tr>
<tr><td><code id="penCSC_+3A_status">status</code></td>
<td>
<p>A character showing the name of the status/event variable in the data.</p>
</td></tr>
<tr><td><code id="penCSC_+3A_vars.list">vars.list</code></td>
<td>
<p>A named list containing the variables to be included in each cause-specific model. Variables can be vectors of variable names or a one sided formula. Names of the list must be the events and exactly the same as values in the status variable. See 'Examples' for details.</p>
</td></tr>
<tr><td><code id="penCSC_+3A_data">data</code></td>
<td>
<p>A data frame containing the information of the variables.</p>
</td></tr>
<tr><td><code id="penCSC_+3A_alpha.list">alpha.list</code></td>
<td>
<p>A named list containing the single alpha values of each cause-specific model. Names of the list must be the events and exactly the same as values in the status variable. See 'Examples' for details.</p>
</td></tr>
<tr><td><code id="penCSC_+3A_lambda.list">lambda.list</code></td>
<td>
<p>A named list containing the single lambda values of each cause-specific model. Names of the list must be the events and exactly the same as values in the status variable. See 'Examples' for details.</p>
</td></tr>
<tr><td><code id="penCSC_+3A_standardize">standardize</code></td>
<td>
<p>Logical indicating whether the variables must be standardized or not. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="penCSC_+3A_keep">keep</code></td>
<td>
<p>A character vector of the names of variables that should not be shrunk. Default is <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list containing all the information related to the used data and the fitted models for all causes. Use <code>$</code> to explore all the involved information.
</p>


<h3>Author(s)</h3>

<p>Shahin Roshani
</p>


<h3>References</h3>

<p>Friedman J, Hastie T, Tibshirani R (2010). &quot;Regularization Paths for Generalized Linear Models via Coordinate Descent.&quot; Journal of Statistical Software, 33(1), 1-22. <a href="https://doi.org/10.18637/jss.v033.i01">doi:10.18637/jss.v033.i01</a>, <a href="https://www.jstatsoft.org/v33/i01/">https://www.jstatsoft.org/v33/i01/</a>.
</p>
<p>Therneau T (2022). A Package for Survival Analysis in R. R package version 3.3-1, <a href="https://CRAN.R-project.org/package=survival">https://CRAN.R-project.org/package=survival</a>.
</p>
<p>Wickham H, Averick M, Bryan J, Chang W, McGowan L, François R, et al. Welcome to the tidyverse. J Open Source Softw. 2019 Nov 21;4(43):1686.
</p>
<p>Bache S, Wickham H (2022). magrittr: A Forward-Pipe Operator for R. <a href="https://magrittr.tidyverse.org">https://magrittr.tidyverse.org</a>, <a href="https://github.com/tidyverse/magrittr">https://github.com/tidyverse/magrittr</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(riskRegression)

data(Melanoma)

vl &lt;- list('1'=c('age','sex','ulcer','thick'),

          '2'=~age+sex+epicel+thick+ici)

al &lt;- list('1'=0,'2'=.5)

ll &lt;- list('1'=.01,'2'=.04)

penCSC(time='time',status='status',vars.list=vl,

      data=Melanoma,alpha.list=al,lambda.list=ll)

</code></pre>

<hr>
<h2 id='predict.penCSC'>predict.penCSC</h2><span id='topic+predict.penCSC'></span>

<h3>Description</h3>

<p>Flexible prediction method for the objects of class 'penCSC' including the absolute risk prediction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'penCSC'
predict(object, newX, event = NULL, time, type = "lp", reference = "zero", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.penCSC_+3A_object">object</code></td>
<td>
<p>An object of class 'penCSC'.</p>
</td></tr>
<tr><td><code id="predict.penCSC_+3A_newx">newX</code></td>
<td>
<p>A data frame containing the information of variables related to new records. Information of variables not included in the model creation will be ignored.</p>
</td></tr>
<tr><td><code id="predict.penCSC_+3A_event">event</code></td>
<td>
<p>A vector of event codes which we want predictions for. This must be the same as values in the status variable of the data that was used to create the models. If <code>NULL</code>, absolute risk will be calculated for all involved events. Default is <code>NULL</code> which returns values for all involved causes.</p>
</td></tr>
<tr><td><code id="predict.penCSC_+3A_time">time</code></td>
<td>
<p>A vector of time horizons which we want absolute risk predictions at. Only applicable when <code>type='absRisk'</code>.</p>
</td></tr>
<tr><td><code id="predict.penCSC_+3A_type">type</code></td>
<td>
<p>Type of the predictions. Valid values are: <code>'lp'</code> or <code>'link'</code> for linear predictors, <code>'risk'</code> or <code>'response'</code> for <code>exp(lp)</code> and finally <code>'absRisk'</code> for semi-parametric estimates of absolute risk.</p>
</td></tr>
<tr><td><code id="predict.penCSC_+3A_reference">reference</code></td>
<td>
<p>Reference for centering predictions. Valid values are <code>'zero'</code> and <code>'sample'</code>. Default is <code>'zero'</code>. For more information on referencing see details in <code>?predict.coxph</code>.</p>
</td></tr>
<tr><td><code id="predict.penCSC_+3A_...">...</code></td>
<td>
<p>Additional arguments. Not used by <code>predict.penCSC</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing the predictions based on the input arguments.
</p>


<h3>Author(s)</h3>

<p>Shahin Roshani
</p>


<h3>References</h3>

<p>Pfeiffer, R. M., &amp; Gail, M. M. (2017). Absolute risk: Methods and applications in clinical management and public health.
</p>
<p>Aalen, O.O. (1978) Nonparametric Inference for a Family of Counting Processes. The Annals of Statistics, 6, 701-726. <a href="https://doi.org/10.1214/aos/1176344247">doi:10.1214/aos/1176344247</a>.
</p>
<p>Wickham H, Averick M, Bryan J, Chang W, McGowan L, François R, et al. Welcome to the tidyverse. J Open Source Softw. 2019 Nov 21;4(43):1686.
</p>
<p>Bache S, Wickham H (2022). magrittr: A Forward-Pipe Operator for R. <a href="https://magrittr.tidyverse.org">https://magrittr.tidyverse.org</a>, <a href="https://github.com/tidyverse/magrittr">https://github.com/tidyverse/magrittr</a>.
</p>
<p>Friedman J, Hastie T, Tibshirani R (2010). &quot;Regularization Paths for Generalized Linear Models via Coordinate Descent.&quot; Journal of Statistical Software, 33(1), 1-22. <a href="https://doi.org/10.18637/jss.v033.i01">doi:10.18637/jss.v033.i01</a>, <a href="https://www.jstatsoft.org/v33/i01/">https://www.jstatsoft.org/v33/i01/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(riskRegression)

data(Melanoma)

vl &lt;- list('1'=c('age','sex','ulcer','thick'),

          '2'=~age+sex+epicel+thick+ici)

al &lt;- list('1'=0,'2'=.5)

ll &lt;- list('1'=.01,'2'=.04)

penfit &lt;- penCSC(time='time',status='status',vars.list=vl,

                data=Melanoma,alpha.list=al,lambda.list=ll)

predict(penfit,Melanoma[1:5,],type='lp')

predict(penfit,Melanoma[1:5,],type='response')

predict(penfit,Melanoma[1:5,],type='absRisk',event=1:2,time=1825*(1:2))

</code></pre>

<hr>
<h2 id='predictRisk.penCSC'>predictRisk.penCSC</h2><span id='topic+predictRisk.penCSC'></span>

<h3>Description</h3>

<p>predictRisk method for absolute risk prediction. This is mainly for compatibility of 'CSCNet' with functions of 'riskRegression' package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'penCSC'
predictRisk(object, newdata, times, cause, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predictRisk.penCSC_+3A_object">object</code></td>
<td>
<p>An object of class 'penCSC'.</p>
</td></tr>
<tr><td><code id="predictRisk.penCSC_+3A_newdata">newdata</code></td>
<td>
<p>A data frame containing the variable information of new records.</p>
</td></tr>
<tr><td><code id="predictRisk.penCSC_+3A_times">times</code></td>
<td>
<p>A vector of time horizons which we want the absolute risk predictions at.</p>
</td></tr>
<tr><td><code id="predictRisk.penCSC_+3A_cause">cause</code></td>
<td>
<p>A single value indicating the event of interest which we want the absolute risk predictions for. This value should be one of the values in the status variable of the data.</p>
</td></tr>
<tr><td><code id="predictRisk.penCSC_+3A_...">...</code></td>
<td>
<p>Additional arguments. Not used by <code>predictRisk.penCSC</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with columns of absolute risk predictions of individuals for each requested time horizon.
</p>


<h3>Author(s)</h3>

<p>Shahin Roshani
</p>


<h3>References</h3>

<p>Wickham H, Averick M, Bryan J, Chang W, McGowan L, François R, et al. Welcome to the tidyverse. J Open Source Softw. 2019 Nov 21;4(43):1686.
</p>
<p>Bache S, Wickham H (2022). magrittr: A Forward-Pipe Operator for R. <a href="https://magrittr.tidyverse.org">https://magrittr.tidyverse.org</a>, <a href="https://github.com/tidyverse/magrittr">https://github.com/tidyverse/magrittr</a>.
</p>


<h3>See Also</h3>

<p><a href="https://www.rdocumentation.org/packages/riskRegression/versions/1.3.7/topics/predictRisk">https://www.rdocumentation.org/packages/riskRegression/versions/1.3.7/topics/predictRisk</a>
</p>
<p>Details in: <a href="https://rdrr.io/cran/riskRegression/man/Score.html">https://rdrr.io/cran/riskRegression/man/Score.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(riskRegression)

data(Melanoma)

vl &lt;- list('1'=c('age','sex','ulcer','thick'),

          '2'=~age+sex+epicel+thick+ici)

al &lt;- list('1'=0,'2'=.5)

ll &lt;- list('1'=.01,'2'=.04)

penfit &lt;- penCSC(time='time',status='status',vars.list=vl,

                data=Melanoma,alpha.list=al,lambda.list=ll)

predictRisk(penfit,Melanoma[1:5,],times=1825*(1:2),cause=1)

</code></pre>

<hr>
<h2 id='print.penCSC'>print.penCSC</h2><span id='topic+print.penCSC'></span>

<h3>Description</h3>

<p>Internal method for printing the objects of class <code>penCSC</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'penCSC'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.penCSC_+3A_x">x</code></td>
<td>
<p>An object of class <code>penCSC</code>.</p>
</td></tr>
<tr><td><code id="print.penCSC_+3A_...">...</code></td>
<td>
<p>Other arguments. Not used by <code>print.penCSC</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified print of <code>penCSC</code> objects.
</p>


<h3>Author(s)</h3>

<p>Shahin Roshani
</p>

<hr>
<h2 id='print.tune_penCSC'>print.tune_penCSC</h2><span id='topic+print.tune_penCSC'></span>

<h3>Description</h3>

<p>Internal method for printing the objects of class <code>tune_penCSC</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tune_penCSC'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.tune_penCSC_+3A_x">x</code></td>
<td>
<p>An object of class <code>tune_penCSC</code>.</p>
</td></tr>
<tr><td><code id="print.tune_penCSC_+3A_...">...</code></td>
<td>
<p>Other arguments. Not used by <code>print.tune_penCSC</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified print of <code>tune_penCSC</code> objects.
</p>


<h3>Author(s)</h3>

<p>Shahin Roshani
</p>

<hr>
<h2 id='tune_penCSC'>tune_penCSC</h2><span id='topic+tune_penCSC'></span>

<h3>Description</h3>

<p>A flexible function for tuning the involved hyper-parameters of a penalized cause-specific-cox model with elastic net penalty using the linking idea.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tune_penCSC(
  time,
  status,
  vars.list,
  data,
  horizons,
  event,
  rhs = ~1,
  method = "cv",
  k = 10,
  times = 25,
  p = 0.7,
  strat.var = NULL,
  metrics = "Brier",
  final.metric = NULL,
  alpha.grid = NULL,
  lambda.grid = NULL,
  nlambdas.list = NULL,
  grow.by = 0.01,
  standardize = TRUE,
  keep = NULL,
  preProc.fun = function(x) x,
  preProc.fun.test = NULL,
  parallel = FALSE,
  preProc.pkgs = NULL,
  preProc.globals = NULL,
  core.nums = future::availableCores()/2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tune_penCSC_+3A_time">time</code></td>
<td>
<p>A character showing the name of the time variable in the data.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_status">status</code></td>
<td>
<p>A character showing the name of the status/event variable in the data.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_vars.list">vars.list</code></td>
<td>
<p>A named list containing the variables to be included in each cause-specific model. Variables can be vectors of variable names or a one sided formula. Names of the list must be the events and exactly the same as values in the status variable. See 'Examples' for details.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_data">data</code></td>
<td>
<p>A data frame containing the information of the variables.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_horizons">horizons</code></td>
<td>
<p>A vector of time horizons which we want the absolute risk predictions to be evaluated at.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_event">event</code></td>
<td>
<p>The value for event of interest which we want the absolute risk predictions to be evaluated for. This must be one of the values in the status variable of the data.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_rhs">rhs</code></td>
<td>
<p>A right hand sided formula indicating the variables to be used in estimating the inverse probability of censoring weighting (IPCW) model. Default is <code>~1</code>.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_method">method</code></td>
<td>
<p>Resampling method to be used for hyper-parameter tuning. Values can be: <code>'cv'</code> for cross validation, <code>'repcv'</code> for repeated cross validation, <code>'lgocv'</code> for monte-carlo cross validation, <code>'loocv'</code> for leave one out cross validation and <code>'boot'</code> for bootstrap. Default is <code>'cv'</code>.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_k">k</code></td>
<td>
<p>Number of folds. Only applicable for <code>method='cv'</code> and <code>method='repcv'</code>. Default is 10.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_times">times</code></td>
<td>
<p>Repeat number of the resampling process. Only applicable for <code>method='repcv'</code>, <code>method='lgocv'</code> and <code>method='boot'</code>. Default is 25.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_p">p</code></td>
<td>
<p>The fraction of data to be used as the training set during resampling. Only applicable for <code>method='lgocv'</code>. Default is 0.7.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_strat.var">strat.var</code></td>
<td>
<p>A single character indicating name of the strata variable to be used to create resamples. If numerical, groups will be specified based on percentiles. Default is <code>NULL</code> which considers status variable as a factor and creates the resamples based on different levels of it.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_metrics">metrics</code></td>
<td>
<p>Evaluation metric (loss function) to be used. Values can be <code>'Brier'</code> for IPCW brier score, <code>'AUC'</code> for IPCW AUC or a vector of both. Default is <code>'Brier'</code>.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_final.metric">final.metric</code></td>
<td>
<p>The evaluation metric to decide the best hyper-parameters set for the final fits on the whole data. When <code>NULL</code> which is the default value, it takes the value from <code>metrics</code>. If both <code>'Brier'</code> and <code>'AUC'</code> were specified in metrics and <code>final.metric</code> is <code>NULL</code>, <code>'Brier'</code> will be used.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_alpha.grid">alpha.grid</code></td>
<td>
<p>A named list containing a sequence of alpha values to be evaluated for each cause-specific model. Names of the list must be the events and exactly the same as values in the status variable. Default is <code>NULL</code> which orders the function to set <code>seq(0,1,.5)</code> for all cause-specific models. See 'Details' for more information.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_lambda.grid">lambda.grid</code></td>
<td>
<p>A named list containing a sequence of lambda values to be evaluated for each cause-specific model. Names of the list must be the events and exactly the same as values in the status variable. Default is <code>NULL</code> which orders the function to calculate exclusive lambda sequences for all causes. See 'Details' for more information.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_nlambdas.list">nlambdas.list</code></td>
<td>
<p>A names list of single integers indicating the length of lambda sequences which are calculated automatically by the function for each cause. Only applicable when <code>lambda.grid=NULL</code>. Default is NULL which sets all lengths to 5. See 'Details' for more information.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_grow.by">grow.by</code></td>
<td>
<p>Difference between the values in the growing sequence of lambda values to find the maximum value that makes the null model. Only applicable when <code>lambda.grid=NULL</code>. Default is 0.01. See 'Details' for more information.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_standardize">standardize</code></td>
<td>
<p>Logical indicating whether the variables must be standardized or not during model fitting procedures. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_keep">keep</code></td>
<td>
<p>A character vector of the names of variables that should not be shrunk in all model fitting procedures. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_preproc.fun">preProc.fun</code></td>
<td>
<p>A function that accepts a data and returns a modified version of it that has gone through the user's desired pre-processing steps. All modifications from this function will be done during the resampling procedures to avoid data leakage. It will modify all training and test set(s) during the validation unless other argument <code>preProc.fun.test</code> is specified by user and then it only affects the training set(s). Default is <code>function(x) x</code>. Also see the description of <code>preProc.fun.test</code> argument.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_preproc.fun.test">preProc.fun.test</code></td>
<td>
<p>A function the exact same characteristics and description as <code>preProc.fun</code> argument. If user specifies a separate function for <code>preProc.fun.test</code>, it will only affect test set(s) during validation while the function from <code>preProc.fun</code> will affect the training set(s). Default is <code>NULL</code> which means function from <code>preProc.fun</code> will be used on both training and test set(s) during validation. Also see the description of <code>preProc.fun</code> argument.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_parallel">parallel</code></td>
<td>
<p>Logical indicating whether the tuning process should be performed in parallel or not. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_preproc.pkgs">preProc.pkgs</code></td>
<td>
<p>A character vector containing the names of packages that was used in creating user's <code>preProc.fun</code> while using parallel computation. Only applicable if <code>parallel=T</code> and <code>preProc.fun</code> is a user specified function using functions from other packages. See 'Examples' for details.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_preproc.globals">preProc.globals</code></td>
<td>
<p>A character vector containing names of objects included in <code>preProc.fun</code> to be considered as global objects while using parallel computation. The most frequent ones are the names of the user specified pre processing function or functions within this function. Only applicable if <code>parallel=T</code> and <code>preProc.fun</code> is a user specified function. See 'Examples' for details.</p>
</td></tr>
<tr><td><code id="tune_penCSC_+3A_core.nums">core.nums</code></td>
<td>
<p>Number of CPU cores to be used for parallel computation. Only applicable if <code>parallel=T</code>. Default is <code>future::availableCores()/2</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>tune_penCSC</code> has the ability to automatically determine the candidate sequences of alpha &amp; lambda values. Setting any of <code>alpha.grid</code> &amp; <code>lambda.grid</code> to <code>NULL</code> will order the function to calculate them automatically.
The process of determining the lambda values automatically is by:
</p>

<ol>
<li><p> Starting from lambda=0, the algorithm fits LASSO models until finding a lambda value that creates a NULL model where all variables were shrunk to be exactly zero.
</p>
</li>
<li><p> The obtained lambda value will be used as the maximum value of a sequence starting from 0. The length of this sequence is controlled by values in <code>nlambdas.list</code>.
</p>
</li></ol>

<p>This will be done for each cause-specific model to create exclusive sequences of lambdas for each of them.
</p>


<h3>Value</h3>

<p>A list containing the detailed information of the hyper-parameter tuning and the validation process, best combination of hyper-parameters and the final fits based on the whole data using the best obtained hyper-parameters. Use <code>$</code> to explore all the involved information.
</p>


<h3>Author(s)</h3>

<p>Shahin Roshani
</p>


<h3>References</h3>

<p>Friedman J, Hastie T, Tibshirani R (2010). &quot;Regularization Paths for Generalized Linear Models via Coordinate Descent.&quot; Journal of Statistical Software, 33(1), 1-22. <a href="https://doi.org/10.18637/jss.v033.i01">doi:10.18637/jss.v033.i01</a>, <a href="https://www.jstatsoft.org/v33/i01/">https://www.jstatsoft.org/v33/i01/</a>.
</p>
<p>Saadati, M, Beyersmann, J, Kopp-Schneider, A, Benner, A. Prediction accuracy and variable selection for penalized cause-specific hazards models. Biometrical Journal. 2018; 60: 288– 306. <a href="https://doi.org/10.1002/bimj.201600242">doi:10.1002/bimj.201600242</a>.
</p>
<p>Gerds TA, Kattan MW (2021). Medical Risk Prediction Models: With Ties to Machine Learning (1st ed.). Chapman and Hall/CRC. <a href="https://doi.org/10.1201/9781138384484">doi:10.1201/9781138384484</a>
</p>
<p>Pfeiffer, R. M., &amp; Gail, M. M. (2017). Absolute risk: Methods and applications in clinical management and public health.
</p>
<p>Kuhn, M. (2008). Building Predictive Models in R Using the caret Package. Journal of Statistical Software, 28(5), 1–26. <a href="https://doi.org/10.18637/jss.v028.i05">doi:10.18637/jss.v028.i05</a>.
</p>
<p>Bengtsson H (2021). “A Unifying Framework for Parallel and Distributed Processing in R using Futures.” The R Journal, 13(2), 208–227. <a href="https://doi.org/10.32614/RJ-2021-048">doi:10.32614/RJ-2021-048</a>.
</p>
<p>Vaughan D, Dancho M (2022). furrr: Apply Mapping Functions in Parallel using Futures. <a href="https://github.com/DavisVaughan/furrr">https://github.com/DavisVaughan/furrr</a>, <a href="https://furrr.futureverse.org/">https://furrr.futureverse.org/</a>.
</p>
<p>Therneau T (2022). A Package for Survival Analysis in R. R package version 3.3-1, <a href="https://CRAN.R-project.org/package=survival">https://CRAN.R-project.org/package=survival</a>.
</p>
<p>Wickham H, Averick M, Bryan J, Chang W, McGowan L, François R, et al. Welcome to the tidyverse. J Open Source Softw. 2019 Nov 21;4(43):1686.
</p>
<p>Bache S, Wickham H (2022). magrittr: A Forward-Pipe Operator for R. <a href="https://magrittr.tidyverse.org">https://magrittr.tidyverse.org</a>, <a href="https://github.com/tidyverse/magrittr">https://github.com/tidyverse/magrittr</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(riskRegression)

data(Melanoma)

vl &lt;- list('1'=~age+sex+epicel+ici,

          '2'=c('age','ulcer','thick','invasion'))

al &lt;- list('1'=0,'2'=c(.5,1))

#External standardization function with data frame as its input and output

library(recipes)

std.fun &lt;- function(data){

 cont_vars &lt;- data %&gt;% select(where(~is.numeric(.))) %&gt;% names

 cont_vars &lt;- cont_vars[-which(cont_vars %in% c('time','status'))]

 #External functions from recipes package are being used

 recipe(~.,data=data) %&gt;%

   step_center(all_of(cont_vars)) %&gt;%

   step_scale(all_of(cont_vars)) %&gt;%

   prep(training=data) %&gt;% juice

}

set.seed(233)

test &lt;- tune_penCSC(time='time',status='status',vars.list=vl,data=Melanoma,horizons=1825,

                   event=1,method='cv',k=5,metrics='AUC',alpha.grid=al,standardize=FALSE,

                   preProc.fun=std.fun,parallel=TRUE,preProc.pkgs='recipes')

test



</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

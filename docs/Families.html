<!DOCTYPE html><html><head><title>Help for package Families</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Families}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Families-package'><p>Kinship Ties in Virtual Populations</p></a></li>
<li><a href='#Age'><p>Age of ego or kin at given calendar date</p></a></li>
<li><a href='#Alive'><p>Living status of individual at given age or calendar date</p></a></li>
<li><a href='#Db'><p>Date(s) of birth in decimal format</p></a></li>
<li><a href='#Dd'><p>Date(s) of death in decimal format</p></a></li>
<li><a href='#dLH'><p>Individual fertility histories of members of a virtual population. Sample dataset.</p></a></li>
<li><a href='#IDau'><p>IDs of aunts and uncles of ego</p></a></li>
<li><a href='#IDch'><p>IDs of children of ego</p></a></li>
<li><a href='#IDfather'><p>ID of father of ego</p></a></li>
<li><a href='#IDgch'><p>IDs of grandchildren of ego</p></a></li>
<li><a href='#IDmother'><p>ID of mother of ego</p></a></li>
<li><a href='#IDpartner'><p>ID of partner of ego</p></a></li>
<li><a href='#IDsib'><p>IDs of siblings of ego</p></a></li>
<li><a href='#Kin_long'><p>Converts a list vector of kin into a dataframe of kin</p></a></li>
<li><a href='#Nkin'><p>Number of kin of given type</p></a></li>
<li><a href='#PlotAges'><p>Plots age distribution(s) of kin</p></a></li>
<li><a href='#Tests'><p>Checks the input data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Kinship Ties in (Virtual) Multi-Generation Populations</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>msm,reshape,ggplot2,rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown,lubridate,xml2,plyr,VirtualPop</td>
</tr>
<tr>
<td>BuildResaveData:</td>
<td>best</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-13</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Frans Willekens &lt;willekens@nidi.nl&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to study lineages, grandparenthood, loss of close relatives, kinship networks and other topics in multi-generation populations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/willekens/Families/issues">https://github.com/willekens/Families/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-13 07:36:45 UTC; frans</td>
</tr>
<tr>
<td>Author:</td>
<td>Frans Willekens <a href="https://orcid.org/0000-0001-6125-0212"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-13 07:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='Families-package'>Kinship Ties in Virtual Populations</h2><span id='topic+Families-package'></span><span id='topic+FamiliesPop'></span>

<h3>Description</h3>

<p>Tools to study kinship networks, grandparenthood, loss of close relatives and double burden
(presence of children and oldest old parents) in virtual population produced
by ’VirtualPop’.
</p>


<h3>Author(s)</h3>

<p>Frans Willekens &lt;Willekens@nidi.nl&gt;
</p>

<hr>
<h2 id='Age'>Age of ego or kin at given calendar date</h2><span id='topic+Age'></span>

<h3>Description</h3>

<p>Ages are computed from calendar dates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Age(idref, refT)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Age_+3A_idref">idref</code></td>
<td>
<p>vector of IDs of reference population, usually idego</p>
</td></tr>
<tr><td><code id="Age_+3A_reft">refT</code></td>
<td>
<p>Calendar date (decimal date) provided or computed</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Age</code></td>
<td>
<p>Age of kin (or ego). If ego is not yet born or dead at the reference date, the missing data symbol NA is returned.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load data
data(dLH,package="Families")

# Age of ego on January 1, 2100. Ego is individual with ID equal to 1 in dLH
idego &lt;- 1 
age &lt;- Age(idref=idego,refT=2100)

# Age of ego at death of mother
idego &lt;- dLH$ID[dLH$gen==2]
age &lt;- Age(idref=idego,refT=Dd(IDmother(idego)))

# Age of siblings at ego's 20th birthday
idego &lt;- dLH$ID[dLH$gen==2]
# Get IDs of siblings and convert the list object into a dataframe
idsib &lt;- IDsib(idego)
names(idsib$id) &lt;- idego
dfsib &lt;- Kin_long(idsib$id)
colnames(dfsib) &lt;- c("idego","idkin")
# Get ages of siblings at 20th birthday of egos
dfsib$age &lt;- Age(idref=dfsib$idkin,refT=Db(dfsib$idego)+20)

</code></pre>

<hr>
<h2 id='Alive'>Living status of individual at given age or calendar date</h2><span id='topic+Alive'></span>

<h3>Description</h3>

<p>Determines living status of individual at given age or calendar date. The living status is requested for ego or kin. 
If the number provided is less than 200, the number is interpreted as age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Alive(idref, refA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Alive_+3A_idref">idref</code></td>
<td>
<p>vector of IDs.</p>
</td></tr>
<tr><td><code id="Alive_+3A_refa">refA</code></td>
<td>
<p>calendar date (decimal date) or age at which survival status of individuals should be determined. 
Dates can differ between individuals, but number of dates must be same as number of individuals.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>alive_kin</code></td>
<td>
<p>Living status of ego (if id is a vector) or kin (if id is a dataframe)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package="Families")
# Select members of generation 1
idego &lt;- dLH$ID[dLH$gen==1]
# Are egos alive at age 18?
alive &lt;- Alive(idref=idego,refA=18)
# Number alive and deceased
tab &lt;-  table (alive)

## Is ego alive at 18th birthday of oldest child?
date &lt;- sapply(idego,function(x) min(Db(IDch(x))+18))
alive &lt;- Alive(idego,refA=date)

</code></pre>

<hr>
<h2 id='Db'>Date(s) of birth in decimal format</h2><span id='topic+Db'></span>

<h3>Description</h3>

<p>Retrieves date(s) of birth from the database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Db(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Db_+3A_idego">idego</code></td>
<td>
<p>vector of IDs of egos</p>
</td></tr>
<tr><td><code id="Db_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, dLH is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dates of birth (decimal format)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package = "Families")

# Date of birth of first individual in database
d &lt;- dLH
Db(idego=1,d=d) 


</code></pre>

<hr>
<h2 id='Dd'>Date(s) of death in decimal format</h2><span id='topic+Dd'></span>

<h3>Description</h3>

<p>Retrieves date(s) of death from the database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Dd(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Dd_+3A_idego">idego</code></td>
<td>
<p>vector of IDs of egos</p>
</td></tr>
<tr><td><code id="Dd_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, dLH is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Date of death (decimal format)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package = "Families")

# Date of death of first individual in database
Dd(idego=1,d=dLH) 

</code></pre>

<hr>
<h2 id='dLH'>Individual fertility histories of members of a virtual population. Sample dataset.</h2><span id='topic+dLH'></span>

<h3>Description</h3>

<p>Fertility histories based on period data and in the presence of mortality. 
The histories are simulated from age-specific death rates and conditional fertility rates of USA 2021.
The virtual population consists of 5 generations (with selected info on members of the sixth generation). 
The VirtualPop package is used to generate the population.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dLH,package="Families")
</code></pre>


<h3>Format</h3>

<p>A data frame with data of about 7,000 individuals (2000 in initial cohort). </p>

<dl>
<dt>ID</dt><dd><p>Identification number</p>
</dd> 	
<dt>gen</dt><dd><p>Generation</p>
</dd>
<dt>cohort</dt><dd><p>Birth cohort</p>
</dd>
<dt>sex</dt><dd><p>Sex. A factor with levels Males and Females</p>
</dd>
<dt>bdated</dt><dd><p>Date of birth (decimal date)</p>
</dd> 
<dt>ddated</dt><dd><p>Date of death (decimal date)</p>
</dd> 
<dt>x_D</dt><dd><p>Age at death (decimal number)</p>
</dd> 	
<dt>IDmother</dt><dd><p>ID of mother</p>
</dd> 	
<dt>IDfather</dt><dd><p>ID of father</p>
</dd>
<dt>jch</dt><dd><p>Child's line number in the household</p>
</dd>
<dt>IDpartner</dt><dd><p>ID of partner</p>
</dd>
<dt>udated</dt><dd><p>Date of union formation</p>
</dd>
<dt>nch</dt><dd><p>Number of children ever born to woman</p>
</dd></dl>



<h3>Source</h3>

<p>The data for the simulation are period mortality rates by age and sex and 
period fertility rates by age and birth
order for the United States 2021. The data are downloaded from the Human
Mortality Database (HMD) and the Human Fertility Database (HFD).
</p>

<hr>
<h2 id='IDau'>IDs of aunts and uncles of ego</h2><span id='topic+IDau'></span>

<h3>Description</h3>

<p>Retrieves the IDs of ego's aunts and uncles by blood. Partners (in-laws) are not included. 
They are obtained using the IDPartner() function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IDau(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IDau_+3A_idego">idego</code></td>
<td>
<p>Identification number(s) of ego(s).</p>
</td></tr>
<tr><td><code id="IDau_+3A_d">d</code></td>
<td>
<p>Name of database. If missing, dLH is used, if it exists in the global environment (i.e. R workspace). 
Otherwise the dataset dLH distributed with the Families package are used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>IDs of aunts and uncles by blood (without their partner, i.e. in-laws).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package="Families")
set.seed &lt;- 45
idego &lt;- sample(dLH$ID[dLH$gen==3],1)
idau &lt;- IDau (idego)

idego &lt;- dLH$ID[dLH$gen==3]
idau &lt;- IDau (idego,d=dLH)

</code></pre>

<hr>
<h2 id='IDch'>IDs of children of ego</h2><span id='topic+IDch'></span>

<h3>Description</h3>

<p>Retrieves IDs of children of ego(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IDch(idego, d = NULL, keep_ego = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IDch_+3A_idego">idego</code></td>
<td>
<p>ID of ego(s). If the vector idego includes missing elements (NA), they are removed.</p>
</td></tr>
<tr><td><code id="IDch_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, the dataset dLH in the global environment (R workspace) is used. 
If no dLH in the global environment, the database dLH distributed with the Families package is used.</p>
</td></tr>
<tr><td><code id="IDch_+3A_keep_ego">keep_ego</code></td>
<td>
<p>Logical variable. If TRUE, a dataframe of parent-child and father-child dyads is produced. 
It includes, for each ego (parent), ego's ID and the IDs of ego's children.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Two cases:
</p>

<ul>
<li><p> keep_ego=FALSE: IDch() returns the IDs of children. If ego has no children or IDs of children are not
included in database, the missing data symbol NA is returned. The
vector idego may include the IDs of egos who form a couple. In that case, the IDs of their children are included 
only once to prevent double-counting.
</p>
</li>
<li><p> keep_ego=TRUE: IDch() returns a dataframe of parent-child dyads. If idego includes the IDs of egos 
who form a couple, then the IDs of their children are included twice, in the mother-child dyads and
in the father-child dyads. To select the father-child dyads, select the male egos. The dataframe of parent-child
dyads include childless females and males. The dyad has the ID of the female(male) and NA instead of the 
ID of the child. The object returned has the following columns: 
</p>

<ul>
<li><p> ID of ego (parent of child)
</p>
</li>
<li><p> ID of child
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package=("Families"))

IDch(idego=1)
set.seed(43)
id &lt;- sample (dLH$ID[dLH$gen==1],10)
id2 &lt;- IDch(idego=sort(id),keep_ego=TRUE)
id3 &lt;- IDch(id2$idch,keep_ego=TRUE)


</code></pre>

<hr>
<h2 id='IDfather'>ID of father of ego</h2><span id='topic+IDfather'></span>

<h3>Description</h3>

<p>Retrieves the ID of the father of ego or fathers of vector of egos. ID of the father is the
ID of the partner of the mother. If the ID of the father listed in the dataset d differs from 
the ID of the mother's partner, a warning is given.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IDfather(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IDfather_+3A_idego">idego</code></td>
<td>
<p>ID of ego(s)</p>
</td></tr>
<tr><td><code id="IDfather_+3A_d">d</code></td>
<td>
<p>Name of database. If missing the dataset dLH distributed with the Families package is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ID of father or (if keep_ego=TRUE, dataframe with ego-father dyals: ID of ego and ID of
father). Returns NA if ID of father is not included in the database
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package = "Families")

set.seed(31)
idf &lt;- IDfather (idego=sample (dLH$ID[dLH$gen&gt;=2],10))


</code></pre>

<hr>
<h2 id='IDgch'>IDs of grandchildren of ego</h2><span id='topic+IDgch'></span>

<h3>Description</h3>

<p>Retrieves ID of grandchildren of ego or vector of egos
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IDgch(idego, d = NULL, keep_ego = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IDgch_+3A_idego">idego</code></td>
<td>
<p>ID of ego(s)</p>
</td></tr>
<tr><td><code id="IDgch_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, the dataset dLH in the global environment (R workspace) is used. 
If no dLH in the global environment, the database dLH distributed with the Families package is used.</p>
</td></tr>
<tr><td><code id="IDgch_+3A_keep_ego">keep_ego</code></td>
<td>
<p>If keep_ego=TRUE, parent-child-grandchild triads are shown.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Two cases:
</p>

<ul>
<li><p> keep_ego=FALSE: The function IDgch() returns the IDs of grandchildren. If ego has no grandchildren or IDs of grandchildren are not
included in database, the missing data symbol NA is returned. 
</p>
</li>
<li><p> keep_ego=TRUE: IDgch() returns a data frame of 
child-parent-grandparent triads. A triad consists of: 
</p>

<ul>
<li><p>idego  ID of grandparent (ego)
</p>
</li>
<li> <p>idch  ID of child
</p>
</li>
<li> <p>idgch ID of grandchild
</p>
</li>
<li><p>gp     lineage: maternal grandfather, paternal grandmother, etc.
</p>
</li>
<li><p>idMOM  ID of mother of grandchild
</p>
</li>
<li><p>idDAD  ID of father of grandchild
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Load data
data(dLH,package="Families")
IDch(IDch(dLH$ID[dLH$sex=="Female" &amp; dLH$gen==1]))[1]

set.seed(51)
id &lt;- sample (dLH$ID[dLH$gen==1],10)
id2 &lt;- IDgch(idego=sort(id),keep_ego=TRUE)

</code></pre>

<hr>
<h2 id='IDmother'>ID of mother of ego</h2><span id='topic+IDmother'></span>

<h3>Description</h3>

<p>Retrieves the ID of mother of ego or mothers of vector of egos
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IDmother(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IDmother_+3A_idego">idego</code></td>
<td>
<p>ID</p>
</td></tr>
<tr><td><code id="IDmother_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, the dataset dLH in the global environment (R workspace) is used. 
If no dLH in the global environment, the database dLH distributed with the Families package is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ID of mother. Returns NA if ID of mother is not included in the database
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# load the data
data(dLH,package = "Families")
IDmother (sample(dLH$ID[dLH$gen==2],1),d=dLH)


</code></pre>

<hr>
<h2 id='IDpartner'>ID of partner of ego</h2><span id='topic+IDpartner'></span>

<h3>Description</h3>

<p>Retrieves ID of partners of vector of egos #'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IDpartner(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IDpartner_+3A_idego">idego</code></td>
<td>
<p>vector of IDs of egos.</p>
</td></tr>
<tr><td><code id="IDpartner_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, the dataset dLH in the global environment (R workspace) is used. 
If no dLH in the global environment, the database dLH distributed with the Families package is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of IDs of partners
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package = "Families")
# Get ID of partner
IDpartner(idego=1,d=dLH)
IDpartner(idego=c(4,9,NA,30),d=dLH)  

</code></pre>

<hr>
<h2 id='IDsib'>IDs of siblings of ego</h2><span id='topic+IDsib'></span>

<h3>Description</h3>

<p>Retrieves IDs of siblings of ego
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IDsib(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IDsib_+3A_idego">idego</code></td>
<td>
<p>ID of ego</p>
</td></tr>
<tr><td><code id="IDsib_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, the dataset dLH in the global environment (R workspace) is used. 
If no dLH in the global environment, the database dLH distributed with the Families package is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list vector of two elements. 
</p>

<ul>
<li><p> dfsib: dataframe of IDs of ego-sibling dyads. 
</p>
</li>
<li><p> id: vector of IDs of siblings. 
</p>
</li></ul>

<p>Returns NA if ID of sibling cannot be computed because the ID of mother is not included in the database.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(dLH,package="Families")
# IDs of siblings of single member of generation 3
set.seed(34)
idego &lt;- sample(dLH$ID[dLH$gen==3],1)
idsib &lt;- IDsib (idego)

# For each member of generation 2, IDs of siblings
idego &lt;- dLH$ID[dLH$gen==2]
idsib &lt;- IDsib(idego)

</code></pre>

<hr>
<h2 id='Kin_long'>Converts a list vector of kin into a dataframe of kin</h2><span id='topic+Kin_long'></span>

<h3>Description</h3>

<p>Converts a list vector of kin into a dataframe of kin. The dataframe has a &quot;long format&quot;, 
i.e. it has one row for each ego-kin dyad.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Kin_long(idkin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Kin_long_+3A_idkin">idkin</code></td>
<td>
<p>List vector of kin</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe of kin (long format)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(dLH,package="Families")
# IDs of ego and their grandchildren
idego &lt;- dLH$ID[dLH$gen==1]
# IDs of grandchildren of ego 
idgch &lt;- lapply(idego,function(x) IDch(IDch(x)))
names(idgch) &lt;- idego
# Dataframe with ID of grandmother and grandchild
dfgch &lt;- Kin_long(idkin=idgch)[,1:2]

</code></pre>

<hr>
<h2 id='Nkin'>Number of kin of given type</h2><span id='topic+Nkin'></span>

<h3>Description</h3>

<p>Computes, for each ego, number of kin of given type (parents, grandparents, aunts, uncles, siblings, etc.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Nkin(idkin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Nkin_+3A_idkin">idkin</code></td>
<td>
<p>dataframe of IDs of ego and IDs of kin of given type</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Number of kin of given type
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the data
data(dLH,package="Families")
idego &lt;- dLH$ID[dLH$gen==3]
## Number of siblings
idsib &lt;- IDsib(idego)
names(idsib$id) &lt;- idego
nsib &lt;- Nkin(idkin=idsib$d)

</code></pre>

<hr>
<h2 id='PlotAges'>Plots age distribution(s) of kin</h2><span id='topic+PlotAges'></span>

<h3>Description</h3>

<p>Plots one or more age distributions of kin (e.g. males, females; mothers, grandmothers)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotAges(d, xmin = NULL, xmax = NULL, ymax = NULL, legendPos = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotAges_+3A_d">d</code></td>
<td>
<p>Dataframe with at least the following columns: 
</p>

<ul>
<li><p> ID
</p>
</li>
<li><p> Age
</p>
</li>
<li><p> Case. Case is the population category for which age distribution should be drawn (e.g. male, female).
</p>
</li></ul>
</td></tr>
<tr><td><code id="PlotAges_+3A_xmin">xmin</code></td>
<td>
<p>Minimum age to be displayed on x-axis</p>
</td></tr>
<tr><td><code id="PlotAges_+3A_xmax">xmax</code></td>
<td>
<p>Maximum age to be displayed on x-axis</p>
</td></tr>
<tr><td><code id="PlotAges_+3A_ymax">ymax</code></td>
<td>
<p>Maximum value on y-axis (minimum is 0)</p>
</td></tr>
<tr><td><code id="PlotAges_+3A_legendpos">legendPos</code></td>
<td>
<p>Position of legend (position is indicated according to ggplot2 rule)</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>p</code></td>
<td>
<p>syntax to plot age distribution(s)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(dLH,package="Families")
# Age of mother at birth of a child
idego=dLH$ID[dLH$gen==1 &amp; dLH$sex=="Female"]
idch &lt;- IDch(idego,d=dLH)
agem &lt;- dLH$bdated[idch]  - dLH$bdated[IDmother(idch,d=dLH)]
dm &lt;- data.frame(idego=IDmother(idch),Age=agem)
dm$Case &lt;- "Motherhood"

# Age at grandmotherhood
idgch &lt;- IDch(IDch(idego,d=dLH),d=dLH)
agegm &lt;- dLH$bdated[idgch] - dLH$bdated[IDmother(IDmother(idgch,d=dLH),d=dLH)]
dgm &lt;- data.frame(idego=IDmother(IDmother(idgch,d=dLH),d=dLH),Age=agegm)
dgm$Case &lt;- "Grandmotherhood"
d &lt;- rbind (dm,dgm)
d &lt;- d[!is.na(d$Age),]
binwidth &lt;- (max(d$Age,na.rm=TRUE)-min(d$Age,na.rm=TRUE))/60
cas &lt;- unique(d$Case)
d$Case &lt;- factor(d$Case,levels=cas,labels=cas,ordered=TRUE)
library(ggplot2)
p &lt;- PlotAges(d)

</code></pre>

<hr>
<h2 id='Tests'>Checks the input data</h2><span id='topic+Tests'></span>

<h3>Description</h3>

<p>Tests existence of data file and identifies anomalies. If the data file d is null, 
the function checks whether dLH exists in the global environment. 
If it does, d=dLH. If not, the message &quot;Object dLH is not provided and does not exist&quot; 
is displayed and the processing stops. If some values in idego vector are 
missing (are NA) a message is displayed 
and the missing elements are removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Tests(idego, d = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Tests_+3A_idego">idego</code></td>
<td>
<p>ID</p>
</td></tr>
<tr><td><code id="Tests_+3A_d">d</code></td>
<td>
<p>Name of database. If d is missing, the dataset dLH in the global environment (R workspace) is used. 
If no dLH in the global environment, the database dLH distributed with the Families package is used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function Tests() is called in functions starting with ID, e.g. IDmother(). If
the idego vector has values outside the acceptable range or missing values (NA), 
these outvalues are omitted and Tests gives a warning. The warning is not 
exported to the function calling Tests(). It is recommended to call Tests() before
any other function call.
</p>


<h3>Value</h3>

<p>idego and d
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

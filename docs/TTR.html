<!DOCTYPE html><html><head><title>Help for package TTR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {TTR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#adjRatios'><p>Split and dividend adjustment ratios</p></a></li>
<li><a href='#ADX'><p>Welles Wilder's Directional Movement Index</p></a></li>
<li><a href='#aroon'><p>Aroon</p></a></li>
<li><a href='#BBands'><p>Bollinger Bands</p></a></li>
<li><a href='#CCI'><p>Commodity Channel Index</p></a></li>
<li><a href='#chaikinAD'><p>Chaikin Accumulation / Distribution</p></a></li>
<li><a href='#chaikinVolatility'><p>Chaikin Volatility</p></a></li>
<li><a href='#CLV'><p>Close Location Value</p></a></li>
<li><a href='#CMF'><p>Chaikin Money Flow</p></a></li>
<li><a href='#CMO'><p>Chande Momentum Oscillator</p></a></li>
<li><a href='#CTI'><p>Ehler's Correlation Trend Indicator</p></a></li>
<li><a href='#DonchianChannel'><p>Donchian Channel</p></a></li>
<li><a href='#DPO'><p>De-Trended Price Oscillator</p></a></li>
<li><a href='#DVI'><p>DV Intermediate Oscillator</p></a></li>
<li><a href='#EMV'><p>Arms' Ease of Movement Value</p></a></li>
<li><a href='#GMMA'><p>Guppy Multiple Moving Averages</p></a></li>
<li><a href='#keltnerChannels'><p>Keltner Channels</p></a></li>
<li><a href='#KST'><p>Know Sure Thing</p></a></li>
<li><a href='#lags'><p>Miscellaneous Tools</p></a></li>
<li><a href='#MACD'><p>MACD Oscillator</p></a></li>
<li><a href='#MFI'><p>Money Flow Index</p></a></li>
<li><a href='#OBV'><p>On Balance Volume (OBV)</p></a></li>
<li><a href='#PBands'><p>Construct (optionally further smoothed and centered ) volatility bands around</p>
prices</a></li>
<li><a href='#ROC'><p>Rate of Change / Momentum</p></a></li>
<li><a href='#rollSFM'><p>Analysis of Running/Rolling/Moving Windows</p></a></li>
<li><a href='#RSI'><p>Relative Strength Index</p></a></li>
<li><a href='#runPercentRank'><p>Percent Rank over a Moving Window</p></a></li>
<li><a href='#runSum'><p>Analysis of Running/Rolling/Moving Windows</p></a></li>
<li><a href='#SAR'><p>Parabolic Stop-and-Reverse</p></a></li>
<li><a href='#SMA'><p>Moving Averages</p></a></li>
<li><a href='#SNR'><p>Signal to Noise Ratio</p></a></li>
<li><a href='#stoch'><p>Stochastic Oscillator / Stochastic Momentum Index</p></a></li>
<li><a href='#stockSymbols'><p>Fetch Internet Data</p></a></li>
<li><a href='#TDI'><p>Trend Detection Index</p></a></li>
<li><a href='#TR'><p>True Range / Average True Range</p></a></li>
<li><a href='#TRIX'><p>Triple Smoothed Exponential Oscillator</p></a></li>
<li><a href='#TTR'><p>Functions to create Technical Trading Rules (TTR)</p></a></li>
<li><a href='#ttrc'><p>Technical Trading Rule Composite data</p></a></li>
<li><a href='#ultimateOscillator'><p>The Ultimate Oscillator</p></a></li>
<li><a href='#VHF'><p>Vertical Horizontal Filter</p></a></li>
<li><a href='#volatility'><p>Volatility</p></a></li>
<li><a href='#williamsAD'><p>Williams Accumulation / Distribution</p></a></li>
<li><a href='#WPR'><p>William's %R</p></a></li>
<li><a href='#ZigZag'><p>Zig Zag</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Technical Trading Rules</td>
</tr>
<tr>
<td>Version:</td>
<td>0.24.4</td>
</tr>
<tr>
<td>Imports:</td>
<td>xts (&ge; 0.10-0), zoo, curl</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>xts</td>
</tr>
<tr>
<td>Enhances:</td>
<td>quantmod</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RUnit</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of over 50 technical indicators for creating technical trading rules. The package also provides fast implementations of common rolling-window functions, and several volatility calculations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/joshuaulrich/TTR">https://github.com/joshuaulrich/TTR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/joshuaulrich/TTR/issues">https://github.com/joshuaulrich/TTR/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-28 00:12:35 UTC; josh</td>
</tr>
<tr>
<td>Author:</td>
<td>Joshua Ulrich [cre, aut],
  Ethan B. Smith [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joshua Ulrich &lt;josh.m.ulrich@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-28 05:20:21 UTC</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.4.0; x86_64-pc-linux-gnu; 2024-01-02 07:55:10 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='adjRatios'>Split and dividend adjustment ratios</h2><span id='topic+adjRatios'></span><span id='topic+adjust'></span>

<h3>Description</h3>

<p>Create split and dividend adjustment ratio vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjRatios(splits, dividends, close)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adjRatios_+3A_splits">splits</code></td>
<td>
<p>Split series that is coercible to xts.</p>
</td></tr>
<tr><td><code id="adjRatios_+3A_dividends">dividends</code></td>
<td>
<p>Dividend series that is coercible to xts.</p>
</td></tr>
<tr><td><code id="adjRatios_+3A_close">close</code></td>
<td>
<p>Close price series that is coercible to xts.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> If only <code>splits</code> is provided, the resulting object will
only have as many observations as <code>splits</code>.
</p>
</li>
<li><p> If <code>splits</code> and <code>close</code> are provided, the resulting
object will have as many observations as <code>max(NROW(splits),
     NROW(close))</code>.
</p>
</li>
<li> <p><code>close</code> is required if <code>dividends</code> is provided.
</p>
</li></ul>



<h3>Value</h3>

<p>A xts object containing the columns:
</p>

<dl>
<dt> Split </dt><dd><p> The split adjustment ratio. </p>
</dd>
<dt> Div </dt><dd><p> The dividend adjustment ratio. </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>

<hr>
<h2 id='ADX'>Welles Wilder's Directional Movement Index</h2><span id='topic+ADX'></span><span id='topic+DI'></span><span id='topic+DX'></span>

<h3>Description</h3>

<p>Directional Movement Index; developed by J. Welles Wilder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ADX(HLC, n = 14, maType, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ADX_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
<tr><td><code id="ADX_+3A_n">n</code></td>
<td>
<p>Number of periods to use for DX calculation (not ADX calculation).</p>
</td></tr>
<tr><td><code id="ADX_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="ADX_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>DIp</code>/<code>DIn</code> (positive/negative) is the percentage of the true
range that is up/down.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> DIp </dt><dd><p> The positive Direction Index. </p>
</dd>
<dt> DIn </dt><dd><p> The negative Direction Index. </p>
</dd>
<dt> DX </dt><dd><p> The Direction Index. </p>
</dd>
<dt> ADX </dt><dd><p> The Average Direction Index (trend strength). </p>
</dd>
</dl>



<h3>Note</h3>

<p>A buy/sell signal is generated when the +/-DI crosses up over the
-/+DI, when the DX/ADX signals a strong trend.  A high/low DX signals a
strong/weak trend.  DX is usually smoothed with a moving average (i.e. the
ADX).
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/DI.htm">https://www.fmlabs.com/reference/DI.htm</a><br />
<a href="https://www.fmlabs.com/reference/DX.htm">https://www.fmlabs.com/reference/DX.htm</a><br />
<a href="https://www.fmlabs.com/reference/ADX.htm">https://www.fmlabs.com/reference/ADX.htm</a><br />
<a href="https://www.fmlabs.com/reference/ADXR.htm">https://www.fmlabs.com/reference/ADXR.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=49">https://www.metastock.com/Customer/Resources/TAAZ/?p=49</a><br />
<a href="https://www.linnsoft.com/techind/directional-indicator-diplus-diminus">https://www.linnsoft.com/techind/directional-indicator-diplus-diminus</a><br />
<a href="https://www.linnsoft.com/techind/adx-avg-directional-movement">https://www.linnsoft.com/techind/adx-avg-directional-movement</a><br />
<a href="https://www.linnsoft.com/techind/adxr-avg-directional-movement-rating">https://www.linnsoft.com/techind/adxr-avg-directional-movement-rating</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:average_directional_index_adx">https://school.stockcharts.com/doku.php?id=technical_indicators:average_directional_index_adx</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  The DX calculation uses
<code><a href="TTR.html#topic+ATR">ATR</a></code>.  See <code><a href="TTR.html#topic+aroon">aroon</a></code>, <code><a href="TTR.html#topic+CCI">CCI</a></code>,
<code><a href="TTR.html#topic+TDI">TDI</a></code>, <code><a href="TTR.html#topic+VHF">VHF</a></code>, <code><a href="TTR.html#topic+GMMA">GMMA</a></code> for other indicators
that measure trend direction/strength.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 dmi.adx &lt;- ADX(ttrc[,c("High","Low","Close")])

</code></pre>

<hr>
<h2 id='aroon'>Aroon</h2><span id='topic+aroon'></span>

<h3>Description</h3>

<p>The Aroon indicator attempts to identify starting trends.  The indicator
consists of up and down lines, which measure how long it has been since the
highest high/lowest low has occurred in the last <code>n</code> periods.  Developed
by Tushar Chande in 1995.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aroon(HL, n = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aroon_+3A_hl">HL</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains either a
High-Low price series, or a Close price series.</p>
</td></tr>
<tr><td><code id="aroon_+3A_n">n</code></td>
<td>
<p>Number of periods to use in the calculation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Aroon up (down) is the elapsed time, expressed as a percentage, between today
and the highest (lowest) price in the last <code>n</code> periods.  If today's
price is a new high (low) Aroon up (down) will be 100. Each subsequent period
without another new high (low) causes Aroon up (down) to decrease by (1 /
<code>n</code>) x 100.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HL</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> aroonUp </dt><dd><p> The Aroon up indicator. </p>
</dd>
<dt> aroonDn </dt><dd><p> The Aroon down indicator. </p>
</dd>
<dt> oscillator </dt><dd><p> The Aroon oscillator (<code>aroonUp - aroonDn</code>). </p>
</dd>
</dl>



<h3>Note</h3>

<p>If High-Low prices are given, the function calculates the max/min using
the high/low prices.  Otherwise the function calculates the max/min of the
single series.
</p>
<p>Up (down) trends are indicated when the aroonUp(Dn) is between 70 and 100.
Strong trends are indicated when when the aroonUp(Dn) is above 70 while the
aroonDn(Up) is below 30.  Also, crossovers may be useful.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/Aroon.htm">https://www.fmlabs.com/reference/Aroon.htm</a><br />
<a href="https://www.fmlabs.com/reference/AroonOscillator.htm">https://www.fmlabs.com/reference/AroonOscillator.htm</a><br />
<a href="https://www.linnsoft.com/techind/aroon-arn">https://www.linnsoft.com/techind/aroon-arn</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:aroon">https://school.stockcharts.com/doku.php?id=technical_indicators:aroon</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+CCI">CCI</a></code>, <code><a href="TTR.html#topic+ADX">ADX</a></code>, <code><a href="TTR.html#topic+TDI">TDI</a></code>,
<code><a href="TTR.html#topic+VHF">VHF</a></code>, <code><a href="TTR.html#topic+GMMA">GMMA</a></code> for other indicators that measure trend
direction/strength.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 ## Get Data and Indicator ##
 data(ttrc)
 trend &lt;- aroon( ttrc[,c("High", "Low")], n=20 )

</code></pre>

<hr>
<h2 id='BBands'>Bollinger Bands</h2><span id='topic+BBands'></span><span id='topic+bollingerBands'></span>

<h3>Description</h3>

<p>Bollinger Bands are a way to compare a security's volatility and price levels
over a period of time.  Developed by John Bollinger.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BBands(HLC, n = 20, maType, sd = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BBands_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.  If only a univariate series is given, it will be
used.  See details.</p>
</td></tr>
<tr><td><code id="BBands_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="BBands_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="BBands_+3A_sd">sd</code></td>
<td>
<p>The number of standard deviations to use.</p>
</td></tr>
<tr><td><code id="BBands_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bollinger Bands consist of three lines:
</p>
<p>The middle band is generally a 20-period SMA of the typical price ([high +
low + close]/3).  The upper and lower bands are <code>sd</code> standard deviations
(generally 2) above and below the MA.
</p>
<p>The middle band is usually calculated using the typical price, but if a
univariate series (e.g. Close, Weighted Close, Median Price, etc.) is
provided, it will be used instead.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> dn </dt><dd><p> The lower Bollinger Band. </p>
</dd>
<dt> mavg </dt><dd><p> The middle Moving Average (see notes). </p>
</dd>
<dt> up </dt><dd><p> The upper Bollinger Band. </p>
</dd>
<dt> pctB </dt><dd><p> The %B calculation. </p>
</dd>
</dl>



<h3>Note</h3>

<p>Using any moving average other than SMA will result in inconsistencies
between the moving average calculation and the standard deviation
calculation.  Since, by definition, a rolling standard deviation uses a
simple moving average.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/Bollinger.htm">https://www.fmlabs.com/reference/Bollinger.htm</a><br />
<a href="https://www.fmlabs.com/reference/BollingerWidth.htm">https://www.fmlabs.com/reference/BollingerWidth.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=36">https://www.metastock.com/Customer/Resources/TAAZ/?p=36</a><br />
<a href="https://www.linnsoft.com/techind/bollinger-bands">https://www.linnsoft.com/techind/bollinger-bands</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:bollinger_bands">https://school.stockcharts.com/doku.php?id=technical_indicators:bollinger_bands</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:bollinger_band_width">https://school.stockcharts.com/doku.php?id=technical_indicators:bollinger_band_width</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 ## The examples below show the differences between using a
 ## High-Low-Close series, and just a close series when
 ## calculating Bollinger Bands.
 data(ttrc)
 bbands.HLC &lt;- BBands( ttrc[,c("High","Low","Close")] )
 bbands.close &lt;- BBands( ttrc[,"Close"] )
</code></pre>

<hr>
<h2 id='CCI'>Commodity Channel Index</h2><span id='topic+CCI'></span>

<h3>Description</h3>

<p>The Commodity Channel Index (CCI) attempts to identify starting and ending
trends.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CCI(HLC, n = 20, maType, c = 0.015, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CCI_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.  If only a univariate series is given, it will be
used.  See details.</p>
</td></tr>
<tr><td><code id="CCI_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="CCI_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="CCI_+3A_c">c</code></td>
<td>
<p>Constant to apply to the mean deviation.</p>
</td></tr>
<tr><td><code id="CCI_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>CCI relates the current price and the average of price over <code>n</code> periods.
The CCI usually falls in a channel of -100 to 100. A basic CCI trading system
is: Buy (sell) if CCI rises above 100 (falls below -100) and sell (buy) when
it falls below 100 (rises above -100).
</p>
<p>CCI is usually calculated using the typical price, but if a univariate series
(e.g. Close, Weighted Close, Median Price, etc.) is provided, it will be used
instead.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a vector (if
<code>try.xts</code> fails) containing the CCI values.
</p>


<h3>Note</h3>

<p>If <code>HLC</code> is a High-Low-Close matrix, then typical price will be
calculated.  If <code>HLC</code> is a vector, then those values will be used
instead of the typical price.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/CCI.htm">https://www.fmlabs.com/reference/CCI.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=42">https://www.metastock.com/Customer/Resources/TAAZ/?p=42</a><br />
<a href="https://www.linnsoft.com/techind/cci-commodity-channel-index">https://www.linnsoft.com/techind/cci-commodity-channel-index</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:commodity_channel_index_cci">https://school.stockcharts.com/doku.php?id=technical_indicators:commodity_channel_index_cci</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  See <code><a href="TTR.html#topic+aroon">aroon</a></code>,
<code><a href="TTR.html#topic+ADX">ADX</a></code>, <code><a href="TTR.html#topic+TDI">TDI</a></code>, <code><a href="TTR.html#topic+VHF">VHF</a></code>, <code><a href="TTR.html#topic+GMMA">GMMA</a></code>
for other indicators that measure trend direction/strength.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 cci &lt;- CCI(ttrc[,c("High","Low","Close")])

</code></pre>

<hr>
<h2 id='chaikinAD'>Chaikin Accumulation / Distribution</h2><span id='topic+chaikinAD'></span>

<h3>Description</h3>

<p>The Chaikin Accumulation / Distribution (AD) line is a measure of the money
flowing into or out of a security.  It is similar to On Balance Volume (OBV).
Developed by Marc Chaikin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chaikinAD(HLC, volume)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chaikinAD_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
<tr><td><code id="chaikinAD_+3A_volume">volume</code></td>
<td>
<p>Vector or matrix of volume observations corresponding to the
<code>HLC</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The AD line is similar to OBV; the difference is that OBV sums volume
multiplied by +/- 1 if the close is higher/lower than the previous close,
while the AD line multiplies volume by the close location value (CLV).
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> and <code>volume</code> or a
vector (if <code>try.xts</code> fails) containing the accumulation / distribution
values.
</p>


<h3>Note</h3>

<p>The Accumulation/Distribution Line is interpreted by looking for a
divergence in the direction of the indicator relative to price.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/AccumDist.htm">https://www.fmlabs.com/reference/AccumDist.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=27">https://www.metastock.com/Customer/Resources/TAAZ/?p=27</a><br />
<a href="https://www.linnsoft.com/techind/accumulation-distribution">https://www.linnsoft.com/techind/accumulation-distribution</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:accumulation_distribution_line">https://school.stockcharts.com/doku.php?id=technical_indicators:accumulation_distribution_line</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+OBV">OBV</a></code>, and <code><a href="TTR.html#topic+CLV">CLV</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 ad &lt;- chaikinAD(ttrc[,c("High","Low","Close")], ttrc[,"Volume"])

</code></pre>

<hr>
<h2 id='chaikinVolatility'>Chaikin Volatility</h2><span id='topic+chaikinVolatility'></span>

<h3>Description</h3>

<p>Chaikin Volatility measures the rate of change of the security's trading
range.  Developed by Marc Chaikin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chaikinVolatility(HL, n = 10, maType, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chaikinVolatility_+3A_hl">HL</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains High-Low
prices.</p>
</td></tr>
<tr><td><code id="chaikinVolatility_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="chaikinVolatility_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="chaikinVolatility_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Chaikin Volatility indicator defines volatility as an increase in the
difference between the high and low.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HL</code> or a vector (if
<code>try.xts</code> fails) containing the Chaikin Volatility values.
</p>


<h3>Note</h3>

<p>A rapid increase in Chaikin Volatility indicates an approaching bottom.
A slow decrease in Chaikin Volatility indicates an approaching top.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/ChaikinVolatility.htm">https://www.fmlabs.com/reference/ChaikinVolatility.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=120">https://www.metastock.com/Customer/Resources/TAAZ/?p=120</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  See <code><a href="TTR.html#topic+TR">TR</a></code> for another
volatility measure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 volatility &lt;- chaikinVolatility(ttrc[,c("High","Low")])

</code></pre>

<hr>
<h2 id='CLV'>Close Location Value</h2><span id='topic+CLV'></span>

<h3>Description</h3>

<p>The Close Location Value (CLV) relates the day's close to its trading range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CLV(HLC)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CLV_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The CLV will fall in a range of -1 to +1.  If the CLV is +/-1, the close is
at the high/low; if the CLV is 0, the close is directly between the high and
low.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a vector (if
<code>try.xts</code> fails) containing the Close Location Values of a
High-Low-Close price series.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:accumulation_distribution_line">https://school.stockcharts.com/doku.php?id=technical_indicators:accumulation_distribution_line</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+chaikinAD">chaikinAD</a></code>, which uses CLV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 clv &lt;- CLV(ttrc[,c("High","Low","Close")])

</code></pre>

<hr>
<h2 id='CMF'>Chaikin Money Flow</h2><span id='topic+CMF'></span>

<h3>Description</h3>

<p>Chaikin Money Flow compares total volume over the last <code>n</code> time periods
to total volume times the Close Location Value (CLV) over the last <code>n</code>
time periods.  Developed by Marc Chaikin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CMF(HLC, volume, n = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CMF_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
<tr><td><code id="CMF_+3A_volume">volume</code></td>
<td>
<p>Vector or matrix of volume observations corresponding to the
<code>HLC</code> object.</p>
</td></tr>
<tr><td><code id="CMF_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Chaikin Money Flow is calculated by taking dividing the sum of the Chaikin
Accumulation / Distribution line over the past <code>n</code> periods by the sum of
volume over the past <code>n</code> periods.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> and <code>volume</code> or a
vector (if <code>try.xts</code> fails) containing the Chaikin Money Flow values.
</p>


<h3>Note</h3>

<p>When Chaikin Money Flow is above/below +/- 0.25 it is a bullish/bearish
signal.  If Chaikin Money Flow remains below zero while the price is rising,
it indicates a probable reversal.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/ChaikinMoneyFlow.htm">https://www.fmlabs.com/reference/ChaikinMoneyFlow.htm</a><br />
<a href="https://www.linnsoft.com/techind/chaikin-money-flow-cmf">https://www.linnsoft.com/techind/chaikin-money-flow-cmf</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:chaikin_money_flow_cmf">https://school.stockcharts.com/doku.php?id=technical_indicators:chaikin_money_flow_cmf</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+CLV">CLV</a></code>, and <code><a href="TTR.html#topic+chaikinAD">chaikinAD</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 cmf &lt;- CMF(ttrc[,c("High","Low","Close")], ttrc[,"Volume"])

</code></pre>

<hr>
<h2 id='CMO'>Chande Momentum Oscillator</h2><span id='topic+CMO'></span>

<h3>Description</h3>

<p>The Chande Momentum Oscillator (CMO) is a modified RSI.  Developed by Tushar
S. Chande.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CMO(x, n = 14)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CMO_+3A_x">x</code></td>
<td>
<p>Price, volume, etc. series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="CMO_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The CMO divides the total movement by the net movement ([up - down] / [up +
down]), where RSI divides the upward movement by the net movement (up / [up +
down]).
</p>


<h3>Value</h3>

<p>A object of the same class as <code>x</code> or a vector (if <code>try.xts</code>
fails) containing Chande Momentum Oscillator values.
</p>


<h3>Note</h3>

<p>There are several ways to interpret the CMO:
</p>

<ol>
<li><p> Values over/under +/- 50 indicate overbought/oversold conditions.
</p>
</li>
<li><p> High CMO values indicate strong trends.
</p>
</li>
<li><p> When the CMO crosses above/below a moving average of the CMO,
it is a buy/sell signal.
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/CMO.htm">https://www.fmlabs.com/reference/CMO.htm</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+RSI">RSI</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 cmo &lt;- CMO(ttrc[,"Close"])

</code></pre>

<hr>
<h2 id='CTI'>Ehler's Correlation Trend Indicator</h2><span id='topic+CTI'></span>

<h3>Description</h3>

<p>Ehler's Correlation Trend Indicator (CTI) measures the Spearman correlation
of the price with the ideal trend line: a straight line with increasing
slope.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CTI(price, n = 20, slope = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CTI_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="CTI_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
<tr><td><code id="CTI_+3A_slope">slope</code></td>
<td>
<p>Slope of desired trend.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The CTI measures the Spearman correlation between the price and the ideal
trend line with slope of <code>slope</code>, over the past <code>n</code> days.
</p>
<p>See URL in references section for further details.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> or a matrix (if
<code>try.xts</code> fails) with the column:
</p>

<dl>
<dt>cti</dt><dd><p> The Correlation Trend Indicator. </p>
</dd>
</dl>



<h3>Note</h3>

<p>Positive/negative CTI values signal positive/negative correlation with
the desired trend line slope. A simple strategy could be long when the CTI
is positive and, short when it is negative.
</p>


<h3>Author(s)</h3>

<p>Ethan Smith, Joshua Ulrich
</p>


<h3>References</h3>

<p>John Ehlers, Correlation Trend Indicator, Stocks &amp; Commodities May-2020
The following site(s) were used to code/document this indicator:<br />
<a href="https://financial-hacker.com/petra-on-programming-a-unique-trend-indicator/">https://financial-hacker.com/petra-on-programming-a-unique-trend-indicator/</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+aroon">aroon</a></code>, <code><a href="TTR.html#topic+CCI">CCI</a></code>, <code><a href="TTR.html#topic+ADX">ADX</a></code>,
<code><a href="TTR.html#topic+VHF">VHF</a></code>, <code><a href="TTR.html#topic+GMMA">GMMA</a></code>, <code><a href="TTR.html#topic+TDI">TDI</a></code> for other
indicators that measure trend direction/strength.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(ttrc)
cti &lt;- CTI(ttrc[,"Close"], n = 20)

</code></pre>

<hr>
<h2 id='DonchianChannel'>Donchian Channel</h2><span id='topic+DonchianChannel'></span><span id='topic+Donchian'></span>

<h3>Description</h3>

<p>Donchian Channels were created by Richard Donchian and were used to generate
buy and sell signals for the Turtle Trading system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DonchianChannel(HL, n = 10, include.lag = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DonchianChannel_+3A_hl">HL</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains High-Low
prices.</p>
</td></tr>
<tr><td><code id="DonchianChannel_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="DonchianChannel_+3A_include.lag">include.lag</code></td>
<td>
<p>Should values be lagged so that today's prices are not
included in the calculation? See Note.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Donchian Channels consist of two (sometimes three) lines:
</p>
<p>The top line is the highest high of the past <code>n</code> periods.  The bottom
line is the lowest low of the past <code>n</code> periods.  The middle line is the
average of the top and bottom lines.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HL</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> high </dt><dd><p> The highest high series. </p>
</dd>
<dt> mid </dt><dd><p> The average of <code>high</code> and <code>low</code>. </p>
</dd>
<dt> low </dt><dd><p> The lowest low series. </p>
</dd>
</dl>



<h3>Note</h3>

<p>The default of <code>include.lag=FALSE</code> makes <code>DonchainChannel</code>
consistent with other <span class="pkg">TTR</span> functions, in that it includes the current
period in the calculation.
</p>
<p>The default is different than the original calculation, which would calculate
the indicator using periods t-1 through t-n. Setting <code>include.lag=TRUE</code>
will return the result of the original calculation.
</p>
<p>The default of this argument may change in the future.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.linnsoft.com/techind/donchian-channels">https://www.linnsoft.com/techind/donchian-channels</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+BBands">BBands</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 dc &lt;- DonchianChannel( ttrc[,c("High","Low")] )

</code></pre>

<hr>
<h2 id='DPO'>De-Trended Price Oscillator</h2><span id='topic+DPO'></span>

<h3>Description</h3>

<p>The Detrended Price Oscillator (DPO) removes the trend in prices - or other
series - by subtracting a moving average of the price from the price.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DPO(x, n = 10, maType, shift = n/2 + 1, percent = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DPO_+3A_x">x</code></td>
<td>
<p>Price, volume, etc. series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="DPO_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="DPO_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="DPO_+3A_shift">shift</code></td>
<td>
<p>The number of periods to shift the moving average.</p>
</td></tr>
<tr><td><code id="DPO_+3A_percent">percent</code></td>
<td>
<p>logical; if <code>TRUE</code>, the percentage difference between the
slow and fast moving averages is returned, otherwise the difference between
the respective averages is returned.</p>
</td></tr>
<tr><td><code id="DPO_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Detrended Price shows cycles and overbought / oversold conditions.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>x</code> or a vector (if <code>try.xts</code>
fails) containing the DPO values.
</p>


<h3>Warning</h3>

<p>The detrended price oscillator removes the trend in the
series by centering the moving average. Centering the moving average causes it
to include future data. Therefore, even though this indicator looks like a
classic oscillator, it should not be used for trading rule signals.
</p>


<h3>Note</h3>

<p>DPO does not extend to the last date because it is based on a displaced moving
average. The calculation shifts the results <code>shift</code> periods, so the last
<code>shift</code> periods will be zero.<br />
As stated above, the DPO can be used on any univariate series, not just price.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:detrended_price_osci">https://school.stockcharts.com/doku.php?id=technical_indicators:detrended_price_osci</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  See <code><a href="TTR.html#topic+MACD">MACD</a></code> for a general
oscillator.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 priceDPO &lt;- DPO(ttrc[,"Close"])
 volumeDPO &lt;- DPO(ttrc[,"Volume"])

</code></pre>

<hr>
<h2 id='DVI'>DV Intermediate Oscillator</h2><span id='topic+DVI'></span>

<h3>Description</h3>

<p>The DV Intermediate oscillator (DVI) is a very smooth momentum oscillator
that can also be used as a trend indicator.  Created by David Varadi.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DVI(
  price,
  n = 252,
  wts = c(0.8, 0.2),
  smooth = 3,
  magnitude = c(5, 100, 5),
  stretch = c(10, 100, 2),
  exact.multiplier = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DVI_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="DVI_+3A_n">n</code></td>
<td>
<p>Number of periods for the percent rank.</p>
</td></tr>
<tr><td><code id="DVI_+3A_wts">wts</code></td>
<td>
<p>The weight given to the smoothed returns (magnitude) component and
the up/down days (stretch) component, respectively.</p>
</td></tr>
<tr><td><code id="DVI_+3A_smooth">smooth</code></td>
<td>
<p>The number of periods to smooth price.</p>
</td></tr>
<tr><td><code id="DVI_+3A_magnitude">magnitude</code></td>
<td>
<p>A set of 3 periods used to smooth magnitude.</p>
</td></tr>
<tr><td><code id="DVI_+3A_stretch">stretch</code></td>
<td>
<p>A set of 3 periods used to smooth stretch.</p>
</td></tr>
<tr><td><code id="DVI_+3A_exact.multiplier">exact.multiplier</code></td>
<td>
<p>The weight applied to identical values in the window.
See <code>runPercentRank</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The DVI combines smoothed returns over different time windows and the
relative number of up versus down days (stretch) over different time windows.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> or a vector (if
<code>try.xts</code> fails) containing the DVI values.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://cssanalytics.wordpress.com/2009/12/13/what-is-the-dvi/">https://cssanalytics.wordpress.com/2009/12/13/what-is-the-dvi/</a><br />
<a href="https://marketsci.wordpress.com/2010/07/27/css-analytics%E2%80%99-dvi-indicator-revealed/">https://marketsci.wordpress.com/2010/07/27/css-analytics%E2%80%99-dvi-indicator-revealed/</a><br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 dvi &lt;- DVI(ttrc[,"Close"])

</code></pre>

<hr>
<h2 id='EMV'>Arms' Ease of Movement Value</h2><span id='topic+EMV'></span>

<h3>Description</h3>

<p>Arms' Ease of Movement Value (EMV) emphasizes days where the security moves
easily and minimizes days where the security does not move easily.  Developed
by Richard W. Arms, Jr.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EMV(HL, volume, n = 9, maType, vol.divisor = 10000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EMV_+3A_hl">HL</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains High-Low
prices.</p>
</td></tr>
<tr><td><code id="EMV_+3A_volume">volume</code></td>
<td>
<p>Vector or matrix of volume observations corresponding to the
<code>HL</code> object.</p>
</td></tr>
<tr><td><code id="EMV_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="EMV_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="EMV_+3A_vol.divisor">vol.divisor</code></td>
<td>
<p>An increment to make the results larger and easier to work
with.</p>
</td></tr>
<tr><td><code id="EMV_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The EMV is calculated by dividing the midpoint ([high + low]/2) move by the
'Box Ratio' (volume divided by the high minus low).
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HL</code> and <code>volume</code> or a matrix
(if <code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> emv </dt><dd><p> The ease of movement values. </p>
</dd>
<dt> maEMV </dt><dd><p> The smoothed (as specified by <code>ma</code>) ease of movement values. </p>
</dd>
</dl>



<h3>Note</h3>

<p>A buy/sell signal is generated when the EMV crosses above/below zero.
When the EMV hovers around zero, there are small price movements and/or high
volume, and the price is not moving easily.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/ArmsEMV.htm">https://www.fmlabs.com/reference/ArmsEMV.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=51">https://www.metastock.com/Customer/Resources/TAAZ/?p=51</a><br />
<a href="https://www.linnsoft.com/techind/arms-ease-movement">https://www.linnsoft.com/techind/arms-ease-movement</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 emv &lt;- EMV(ttrc[,c("High","Low")], ttrc[,"Volume"])

</code></pre>

<hr>
<h2 id='GMMA'>Guppy Multiple Moving Averages</h2><span id='topic+GMMA'></span><span id='topic+Guppy'></span><span id='topic+guppy'></span>

<h3>Description</h3>

<p>Calculate the Guppy Multiple Moving Average of a series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GMMA(
  x,
  short = c(3, 5, 8, 10, 12, 15),
  long = c(30, 35, 40, 45, 50, 60),
  maType
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GMMA_+3A_x">x</code></td>
<td>
<p>Price, volume, etc. series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="GMMA_+3A_short">short</code></td>
<td>
<p>Vector of short-term periods.</p>
</td></tr>
<tr><td><code id="GMMA_+3A_long">long</code></td>
<td>
<p>Vector of long-term periods.</p>
</td></tr>
<tr><td><code id="GMMA_+3A_matype">maType</code></td>
<td>
<p>Either:
</p>

<ol>
<li><p> A function or a string naming the function to be called.
</p>
</li>
<li><p> A <em>list</em> with the first component like (1) above, and
additional parameters specified as <em>named</em> components.
See Examples.
</p>
</li></ol>
</td></tr>
</table>


<h3>Details</h3>

<p>The Guppy Multiple Moving Average signals a changing trend when the
<code>short</code> and <code>long</code> groups of moving averages intersect.  An up/down
trend exists when the short/long-term moving averages are greater than the
long/short-term averages.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>x</code> or <code>price</code> or a vector
(if <code>try.xts</code> fails) containing the Guppy Multiple Moving Average.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.investopedia.com/terms/g/guppy-multiple-moving-average.asp">https://www.investopedia.com/terms/g/guppy-multiple-moving-average.asp</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+aroon">aroon</a></code>, <code><a href="TTR.html#topic+CCI">CCI</a></code>, <code><a href="TTR.html#topic+ADX">ADX</a></code>,
<code><a href="TTR.html#topic+VHF">VHF</a></code>, <code><a href="TTR.html#topic+TDI">TDI</a></code> for other indicators that measure trend
direction/strength.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 gmma &lt;- GMMA(ttrc[,"Close"])

</code></pre>

<hr>
<h2 id='keltnerChannels'>Keltner Channels</h2><span id='topic+keltnerChannels'></span>

<h3>Description</h3>

<p>Keltner Channels are volatility-based envelopes set above and below a moving
average. This indicator is similar to Bollinger Bands, but Keltner Channels
use the Average True Range (ATR) to set channel distance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keltnerChannels(HLC, n = 20, maType, atr = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keltnerChannels_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices. If only a univariate series is given, it will be used.
See details.</p>
</td></tr>
<tr><td><code id="keltnerChannels_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="keltnerChannels_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="keltnerChannels_+3A_atr">atr</code></td>
<td>
<p>The number of average true range distances to apply.</p>
</td></tr>
<tr><td><code id="keltnerChannels_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the maType function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Keltner Channels are a trend following indicator, and can also be used to
identify overbought and oversold levels when there is no trend.
</p>
<p>Chester Keltner is credited with the original version of Keltner Channels in
his 1960 book. Linda Bradford Raschke introduced the newer version of
Keltner Channels in the 1980s.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt>SMA</dt><dd><p> Simple moving average. </p>
</dd>
<dt>EMA</dt><dd><p> Exponential moving average. </p>
</dd>
</dl>

<table>
<tr><td><code>dn</code></td>
<td>
<p> The lower Keltner Channel. </p>
</td></tr>
<tr><td><code>mavg</code></td>
<td>
<p> The middle moving average. </p>
</td></tr>
<tr><td><code>up</code></td>
<td>
<p> The upper Keltner Channel. </p>
</td></tr>
</table>


<h3>Details </h3>

<p>Keltner Channels consist of three lines:
The middle band is generally a 20-period EMA of the typical price
([high + low + close]/3). The upper and lower bands are multiples of average
true range (usually 2) above and below the MA.
</p>
<p>The middle band is usually calculated using the typical price, but if a
univariate series (e.g. Close, Weighted Close, Median Price, etc.) is
provided, it will be used instead.
</p>


<h3>Author(s)</h3>

<p>Nick Procyk, Joshua Ulrich
</p>
<p>References
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:keltner_channels">https://school.stockcharts.com/doku.php?id=technical_indicators:keltner_channels</a><br />
<a href="https://www.linnsoft.com/techind/keltner-channels-keltu-keltd">https://www.linnsoft.com/techind/keltner-channels-keltu-keltd</a><br />
<a href="https://www.investopedia.com/terms/k/keltnerchannel.asp">https://www.investopedia.com/terms/k/keltnerchannel.asp</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(ttrc)
kc &lt;- keltnerChannels(ttrc[,c("High","Low","Close")])

</code></pre>

<hr>
<h2 id='KST'>Know Sure Thing</h2><span id='topic+KST'></span>

<h3>Description</h3>

<p>The Know Sure Thing (KST) is a smooth, summed, rate of change indicator.
Developed by Martin Pring.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>KST(
  price,
  n = c(10, 10, 10, 15),
  nROC = c(10, 15, 20, 30),
  nSig = 9,
  maType,
  wts = 1:NROW(n),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="KST_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="KST_+3A_n">n</code></td>
<td>
<p>A vector of the number of periods to use in the MA calculations.</p>
</td></tr>
<tr><td><code id="KST_+3A_nroc">nROC</code></td>
<td>
<p>A vector of the number of periods to use in the ROC calculations.</p>
</td></tr>
<tr><td><code id="KST_+3A_nsig">nSig</code></td>
<td>
<p>The number of periods to use for the KST signal line.</p>
</td></tr>
<tr><td><code id="KST_+3A_matype">maType</code></td>
<td>
<p>Either:
</p>

<ol>
<li><p> A function or a string naming the function to be called.
</p>
</li>
<li><p> A <em>list</em> with the first component like (1) above, and
additional parameters specified as <em>named</em> components.
See Examples.
</p>
</li></ol>
</td></tr>
<tr><td><code id="KST_+3A_wts">wts</code></td>
<td>
<p>A vector the same length as <code>n</code>, of the weight for each
period (need not sum to one).</p>
</td></tr>
<tr><td><code id="KST_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function in
case (1) above.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For each day (week, month, etc.), the KST calculates the ROC over several
periods.  Those ROCs are smoothed using the given moving averages, then
multiplied by their respective weighting values.  The resulting values are
summed for each day (month, week, etc.).
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> or a vector (if
<code>try.xts</code> fails) containing the Know Sure Thing values.
</p>


<h3>Note</h3>

<p>The KST indicates bullish/bearish momentum as it crosses above/below
its moving average.  Because the KST tends to lead price action, look for
trend confirmation in the price.
</p>
<p>The default arguments are for the daily KST.  There is also the Long-Term
KST, with arguments: <code>n=c(9, 12, 18, 24)</code> - where the periods are
months, not days - and the moving average periods are 6, 6, 6, and 9 months,
respectively.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://web.archive.org/web/20110715112957/http://www.pring.com/movieweb/daily_kst.htm">https://web.archive.org/web/20110715112957/http://www.pring.com/movieweb/daily_kst.htm</a><br />
<a href="https://web.archive.org/web/20100101162707/http://www.pring.com/movieweb/KST_MCM.htm">https://web.archive.org/web/20100101162707/http://www.pring.com/movieweb/KST_MCM.htm</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  See <code><a href="TTR.html#topic+ROC">ROC</a></code> for the
rate-of-change function.  See <code><a href="TTR.html#topic+MACD">MACD</a></code> for a generic oscillator.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 kst &lt;- KST(ttrc[,"Close"])

 kst4MA &lt;- KST(ttrc[,"Close"],
   maType=list(list(SMA),list(EMA),list(DEMA),list(WMA)))

</code></pre>

<hr>
<h2 id='lags'>Miscellaneous Tools</h2><span id='topic+lags'></span><span id='topic+growth'></span><span id='topic+naCheck'></span>

<h3>Description</h3>

<p>Various functions that may be useful in designing technical trading rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lags(x, n = 1)

growth(price, signals, ...)

naCheck(x, n = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lags_+3A_x">x</code></td>
<td>
<p>Object that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="lags_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
<tr><td><code id="lags_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="lags_+3A_signals">signals</code></td>
<td>
<p>Signals to use (defaults to vector of ones).  Use '0' for no
position, '1' for long position, and '-1' for short position.</p>
</td></tr>
<tr><td><code id="lags_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed from or to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>growth</code> calculates the growth of an investment using given prices and
signals.
</p>
<p><code>lags</code> calculates the lags of a given series.
</p>


<h3>Value</h3>

<p><code>growth</code> returns a vector of the growth of the investment.
</p>
<p><code>lags</code> returns a matrix of lagged values of the original vector.
</p>


<h3>Note</h3>

<p>In <code>growth</code> you can specify the number of periods and type of
compounding to use when calculating returns of the price series via the
<code>'\dots'</code> argument.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>

<hr>
<h2 id='MACD'>MACD Oscillator</h2><span id='topic+MACD'></span>

<h3>Description</h3>

<p>The MACD was developed by Gerald Appel and is probably the most popular price
oscillator.  The MACD function documented in this page compares a fast moving
average (MA) of a series with a slow MA of the same series.  It can be used
as a generic oscillator for any univariate series, not only price.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MACD(x, nFast = 12, nSlow = 26, nSig = 9, maType, percent = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MACD_+3A_x">x</code></td>
<td>
<p>Object that is coercible to xts or matrix; usually price, but can be
volume, etc.</p>
</td></tr>
<tr><td><code id="MACD_+3A_nfast">nFast</code></td>
<td>
<p>Number of periods for fast moving average.</p>
</td></tr>
<tr><td><code id="MACD_+3A_nslow">nSlow</code></td>
<td>
<p>Number of periods for slow moving average.</p>
</td></tr>
<tr><td><code id="MACD_+3A_nsig">nSig</code></td>
<td>
<p>Number of periods for signal moving average.</p>
</td></tr>
<tr><td><code id="MACD_+3A_matype">maType</code></td>
<td>
<p>Either:
</p>

<ol>
<li><p> A function or a string naming the function to be called.
</p>
</li>
<li><p> A <em>list</em> with the first component like (1) above, and
additional parameters specified as <em>named</em> components.
See Examples.
</p>
</li></ol>
</td></tr>
<tr><td><code id="MACD_+3A_percent">percent</code></td>
<td>
<p>logical; if <code>TRUE</code>, the percentage difference between the
fast and slow moving averages is returned, otherwise the difference between
the respective averages is returned.</p>
</td></tr>
<tr><td><code id="MACD_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function in
case (1) above.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The MACD function either subtracts the fast MA from the slow MA, or finds the
rate of change between the fast MA and the slow MA.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>x</code> or a matrix (if <code>try.xts</code>
fails) containing the columns:
</p>

<dl>
<dt> macd </dt><dd><p> The price (volume, etc.) oscillator. </p>
</dd>
<dt> signal </dt><dd><p> The oscillator signal line (a moving average of the oscillator). </p>
</dd>
</dl>



<h3>Note</h3>

<p>The MACD is a special case of the general oscillator applied to price.
The MACD can be used as a general oscillator applied to any series. Time
periods for the MACD are often given as 26 and 12, but the original formula
used exponential constants of 0.075 and 0.15, which are closer to
25.6667 and 12.3333 periods.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:
<br /> Moving Average Convergence/Divergence (MACD):<br />
<a href="https://www.fmlabs.com/reference/MACD.htm">https://www.fmlabs.com/reference/MACD.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=66">https://www.metastock.com/Customer/Resources/TAAZ/?p=66</a><br />
<a href="https://www.linnsoft.com/techind/macd">https://www.linnsoft.com/techind/macd</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:moving_average_convergence_divergence_macd">https://school.stockcharts.com/doku.php?id=technical_indicators:moving_average_convergence_divergence_macd</a><br />
<br /> Price Oscillator:<br />
<a href="https://www.fmlabs.com/reference/PriceOscillator.htm">https://www.fmlabs.com/reference/PriceOscillator.htm</a><br />
<a href="https://www.fmlabs.com/reference/PriceOscillatorPct.htm">https://www.fmlabs.com/reference/PriceOscillatorPct.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=94">https://www.metastock.com/Customer/Resources/TAAZ/?p=94</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:price_oscillators_ppo">https://school.stockcharts.com/doku.php?id=technical_indicators:price_oscillators_ppo</a><br />
<br /> Volume Oscillator:<br />
<a href="https://www.fmlabs.com/reference/PVO.htm">https://www.fmlabs.com/reference/PVO.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=122">https://www.metastock.com/Customer/Resources/TAAZ/?p=122</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)

 macd  &lt;- MACD( ttrc[,"Close"], 12, 26, 9, maType="EMA" )
 macd2 &lt;- MACD( ttrc[,"Close"], 12, 26, 9,
          maType=list(list(SMA), list(EMA, wilder=TRUE), list(SMA)) )

</code></pre>

<hr>
<h2 id='MFI'>Money Flow Index</h2><span id='topic+MFI'></span><span id='topic+moneyFlow'></span>

<h3>Description</h3>

<p>The MFI is a ratio of positive and negative money flow over time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MFI(HLC, volume, n = 14)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MFI_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.  If only a univariate series is given, it will be
used.  See details.</p>
</td></tr>
<tr><td><code id="MFI_+3A_volume">volume</code></td>
<td>
<p>Vector or matrix of volume observations corresponding to
<code>HLC</code> object.</p>
</td></tr>
<tr><td><code id="MFI_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Money Flow (MF) is the product of price and volume.  Positive/negative MF
occur when today's price is higher/lower than yesterday's price.  The MFI is
calculated by dividing positive MF by negative MF for the past <code>n</code>
periods.  It is then scaled between 0 and 100.
</p>
<p>MFI is usually calculated using the typical price, but if a univariate series
(e.g. Close, Weighted Close, Median Price, etc.) is provided, it will be used
instead.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> and <code>volume</code> or a
vector (if <code>try.xts</code> fails) containing the MFI values.
</p>


<h3>Note</h3>

<p>Divergence between MFI and price can be indicative of a reversal.  In
addition, values above/below 80/20 indicate market tops/bottoms.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.fmlabs.com/reference/default.htm?url=MoneyFlowIndex.htm">https://www.fmlabs.com/reference/default.htm?url=MoneyFlowIndex.htm</a><br />
<a href="https://www.linnsoft.com/techind/money-flow-index-mfi">https://www.linnsoft.com/techind/money-flow-index-mfi</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:money_flow_index_mfi">https://school.stockcharts.com/doku.php?id=technical_indicators:money_flow_index_mfi</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+OBV">OBV</a></code> and <code><a href="TTR.html#topic+CMF">CMF</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 mfi &lt;- MFI(ttrc[,c("High","Low","Close")], ttrc[,"Volume"])

</code></pre>

<hr>
<h2 id='OBV'>On Balance Volume (OBV)</h2><span id='topic+OBV'></span>

<h3>Description</h3>

<p>On Balance Volume (OBV) is a measure of the money flowing into or out of a
security.  It is similar to Chaikin Accumulation / Distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OBV(price, volume)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OBV_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="OBV_+3A_volume">volume</code></td>
<td>
<p>Volume series that is coercible to xts or matrix, that
corresponds to price object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OBV is calculated by adding (subtracting) each day's volume to a running
cumulative total when the security's price closes higher (lower).
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> and <code>volume</code> or a
vector (if <code>try.xts</code> fails) containing the OBV values.
</p>


<h3>Note</h3>

<p>OBV is usually compared with the price chart of the underlying security
to look for divergences/confirmation.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/OBV.htm">https://www.fmlabs.com/reference/OBV.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=82">https://www.metastock.com/Customer/Resources/TAAZ/?p=82</a><br />
<a href="https://www.linnsoft.com/techind/balance-open-interest">https://www.linnsoft.com/techind/balance-open-interest</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:on_balance_volume_obv">https://school.stockcharts.com/doku.php?id=technical_indicators:on_balance_volume_obv</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+chaikinAD">chaikinAD</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 obv &lt;- OBV(ttrc[,"Close"], ttrc[,"Volume"])

</code></pre>

<hr>
<h2 id='PBands'>Construct (optionally further smoothed and centered ) volatility bands around
prices</h2><span id='topic+PBands'></span><span id='topic+priceBands'></span>

<h3>Description</h3>

<p>John Bollinger's famous adaptive volatility bands most often use the typical
price of an HLC series, or may be calculated on a univariate price series
(see <code><a href="TTR.html#topic+BBands">BBands</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PBands(
  prices,
  n = 20,
  maType = "SMA",
  sd = 2,
  ...,
  fastn = 2,
  centered = FALSE,
  lavg = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PBands_+3A_prices">prices</code></td>
<td>
<p>A univariate series of prices.</p>
</td></tr>
<tr><td><code id="PBands_+3A_n">n</code></td>
<td>
<p>Number of periods to average over.</p>
</td></tr>
<tr><td><code id="PBands_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="PBands_+3A_sd">sd</code></td>
<td>
<p>The number of standard deviations to use.</p>
</td></tr>
<tr><td><code id="PBands_+3A_...">...</code></td>
<td>
<p>any other pass-thru parameters, usually for function named by
<code>maType</code>.</p>
</td></tr>
<tr><td><code id="PBands_+3A_fastn">fastn</code></td>
<td>
<p>Number of periods to use for smoothing higher-frequency 'noise'.</p>
</td></tr>
<tr><td><code id="PBands_+3A_centered">centered</code></td>
<td>
<p>Whether to center the bands around a series adjusted for high
frequency noise, default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="PBands_+3A_lavg">lavg</code></td>
<td>
<p>Whether to use a longer <code>(n*2)</code> smoothing period for
centering, default <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function applies a second moving average denoted by <code>fastn</code> to
filter out higher-frequency noise, making the bands somewhat more stable to
temporary fluctuations and spikes.
</p>
<p>If <code>centered</code> is <code>TRUE</code>, the function also further smoothes and
centers the bands around a centerline adjusted to remove this higher
frequency noise.  If <code>lavg</code> is also <code>TRUE</code>, the smoothing applied
for the middle band (but not the volatility bands) is doubled to further
smooth the price-response function.
</p>
<p>If you have multiple different price series in <code>prices</code>, and want to use
this function, call this functions using <code>lapply(prices,PBands,...)</code>.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>prices</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> dn </dt><dd><p> The lower price volatility Band. </p>
</dd>
<dt> center </dt><dd><p> The smoothed centerline (see details). </p>
</dd>
<dt> up </dt><dd><p> The upper price volatility Band. </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Brian G. Peterson
</p>


<h3>See Also</h3>

<p><code><a href="TTR.html#topic+BBands">BBands</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
   data(ttrc)
   pbands.close &lt;- PBands( ttrc[,"Close"] )

</code></pre>

<hr>
<h2 id='ROC'>Rate of Change / Momentum</h2><span id='topic+ROC'></span><span id='topic+changes'></span><span id='topic+momentum'></span>

<h3>Description</h3>

<p>Calculate the (rate of) change of a series over <code>n</code> periods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROC(x, n = 1, type = c("continuous", "discrete"), na.pad = TRUE)

momentum(x, n = 1, na.pad = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROC_+3A_x">x</code></td>
<td>
<p>Price, volume, etc. series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="ROC_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
<tr><td><code id="ROC_+3A_type">type</code></td>
<td>
<p>Compounding type; either <code>"continuous"</code> (the default) or
<code>"discrete"</code>.</p>
</td></tr>
<tr><td><code id="ROC_+3A_na.pad">na.pad</code></td>
<td>
<p>Should periods prior to <code>n</code> be appended?  Default is
<code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The ROC indicator provides the percentage difference of a series over two
observations, while the momentum indicator simply provides the difference.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>x</code> or a vector (if <code>try.xts</code>
fails) containing the rate-of-change (or return) values for <code>ROC</code> or a
vector containing the differenced price series for <code>momentum</code>.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 roc &lt;- ROC(ttrc[,"Close"])
 mom &lt;- momentum(ttrc[,"Close"])
</code></pre>

<hr>
<h2 id='rollSFM'>Analysis of Running/Rolling/Moving Windows</h2><span id='topic+rollSFM'></span><span id='topic+rollFun'></span>

<h3>Description</h3>

<p>Various functions to analyze data over a moving window of periods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rollSFM(Ra, Rb, n = 60)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rollSFM_+3A_ra">Ra</code></td>
<td>
<p>Object coercible to xts or matrix, containing the excess
return for an individual security</p>
</td></tr>
<tr><td><code id="rollSFM_+3A_rb">Rb</code></td>
<td>
<p>Object coercible to xts or matrix, containing the market
/ benchmark return</p>
</td></tr>
<tr><td><code id="rollSFM_+3A_n">n</code></td>
<td>
<p>Number of periods to use in the window</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A object of the same class as <code>Ra</code> (and <code>Rb</code>?) or a vector
(if <code>try.xts</code> fails).
</p>

<dl>
<dt>rollSFM</dt><dd><p>returns single-factor model parameters and R-squared
over a n-period moving window.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:
<a href="https://en.wikipedia.org/wiki/Simple_linear_regression">https://en.wikipedia.org/wiki/Simple_linear_regression</a><br />
</p>

<hr>
<h2 id='RSI'>Relative Strength Index</h2><span id='topic+RSI'></span>

<h3>Description</h3>

<p>The Relative Strength Index (RSI) calculates a ratio of the recent upward
price movements to the absolute price movement.  Developed by J. Welles
Wilder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RSI(price, n = 14, maType, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RSI_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="RSI_+3A_n">n</code></td>
<td>
<p>Number of periods for moving averages.</p>
</td></tr>
<tr><td><code id="RSI_+3A_matype">maType</code></td>
<td>
<p>Either:
</p>

<ol>
<li><p> A function or a string naming the function to be called.
</p>
</li>
<li><p> A <em>list</em> with the first component like (1) above, and
additional parameters specified as <em>named</em> components.
See Examples.
</p>
</li></ol>
</td></tr>
<tr><td><code id="RSI_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function in
case (1) above.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The RSI calculation is <code>RSI = 100 - 100 / ( 1 + RS )</code>, where <code>RS</code>
is the smoothed ratio of 'average' gains over 'average' losses.  The
'averages' aren't true averages, since they're divided by the value of
<code>n</code> and not the number of periods in which there are  gains/losses.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> or a vector (if
<code>try.xts</code> fails) containing the RSI values.
</p>


<h3>Note</h3>

<p>The RSI is usually interpreted as an overbought/oversold (over 70 /
below 30) indicator.  Divergence with price may also be useful.  For example,
if price is making new highs/lows, but RSI is not, it could indicate a
reversal.
</p>
<p>You can calculate a stochastic RSI by using the function <code><a href="TTR.html#topic+stoch">stoch</a></code>
on RSI values.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:
<br /> Relative Strength Index:<br />
<a href="https://www.fmlabs.com/reference/RSI.htm">https://www.fmlabs.com/reference/RSI.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=100">https://www.metastock.com/Customer/Resources/TAAZ/?p=100</a><br />
<a href="https://www.linnsoft.com/techind/relative-strength-index-rsi">https://www.linnsoft.com/techind/relative-strength-index-rsi</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:relative_strength_index_rsi">https://school.stockcharts.com/doku.php?id=technical_indicators:relative_strength_index_rsi</a><br />
<br /> Stochastic RSI:<br />
<a href="https://www.fmlabs.com/reference/StochRSI.htm">https://www.fmlabs.com/reference/StochRSI.htm</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:stochrsi">https://school.stockcharts.com/doku.php?id=technical_indicators:stochrsi</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  See <code><a href="TTR.html#topic+CMO">CMO</a></code> for a variation on
RSI.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 price &lt;- ttrc[,"Close"]

 # Default case
 rsi &lt;- RSI(price)

 # Case of one 'maType' for both MAs
 rsiMA1 &lt;- RSI(price, n=14, maType="WMA", wts=ttrc[,"Volume"])

 # Case of two different 'maType's for both MAs
 rsiMA2 &lt;- RSI(price, n=14, maType=list(maUp=list(EMA),maDown=list(WMA)))


</code></pre>

<hr>
<h2 id='runPercentRank'>Percent Rank over a Moving Window</h2><span id='topic+runPercentRank'></span><span id='topic+percentRank'></span><span id='topic+PercentRank'></span>

<h3>Description</h3>

<p>This function computes a running/rolling percentage rank.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runPercentRank(x, n = 260, cumulative = FALSE, exact.multiplier = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runPercentRank_+3A_x">x</code></td>
<td>
<p>Object coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="runPercentRank_+3A_n">n</code></td>
<td>
<p>Number of periods to use in the window or, if
<code>cumulative=TRUE</code>, the number of observations to use before the first
result is returned. Must be between 1 and <code>nrow(x)</code>, inclusive.</p>
</td></tr>
<tr><td><code id="runPercentRank_+3A_cumulative">cumulative</code></td>
<td>
<p>Logical, use from-inception calculation?</p>
</td></tr>
<tr><td><code id="runPercentRank_+3A_exact.multiplier">exact.multiplier</code></td>
<td>
<p>The weight applied to identical values in the window.
Must be between 0 and 1, inclusive. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The computation for a percentage rank can vary depending on the weight given
to values in the window that are equal to the value being ranked. This weight
can be set using the <code>exact.multiplier</code> argument which defaults to 0.5.
</p>
<p><code>exact.multiplier = 0</code> scores equal values in the lookback window as
always being greater than the value being ranked. <code>exact.multiplier = 1</code>
scores equal values as being below the value being ranked. Any multiplier
between 0 and 1 counts that proportion of the equal values as being below
the value being ranked.
</p>
<p>The value of <code>exact.multiplier</code> has the most impact when the window is
relatively small or when the number of discrete values in the window is
small. For non-repeating values, changing <code>exact.multiplier = 0</code> to
<code>exact.multiplier = 1</code> for a window of size <code>N</code> will shift the
resulting percentile rankings by <code>1/N</code>. It is equivalent to changing
the question from, &quot;how many values are &lt; the value&quot; to &quot;how many values
are &lt;= the value&quot;.
</p>


<h3>Value</h3>

<p>A object of percent ranks over a n-period moving window of the same
class as <code>x</code> and <code>y</code> or a vector (if <code>try.xts</code> fails).
</p>


<h3>Note</h3>

<p>This computation is different from the one used in Microsoft Excel's
<code>PERCENTRANK</code> formula. Excel's computation is rather strange and gives
inconsistent results as it uses interpolation to rank values that are not
found within the lookback window.
</p>


<h3>Author(s)</h3>

<p>Charlie Friedemann
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://en.wikipedia.org/wiki/Percentile_rank">https://en.wikipedia.org/wiki/Percentile_rank</a><br />
</p>

<hr>
<h2 id='runSum'>Analysis of Running/Rolling/Moving Windows</h2><span id='topic+runSum'></span><span id='topic+runFun'></span><span id='topic+runMin'></span><span id='topic+runMax'></span><span id='topic+runMean'></span><span id='topic+runMedian'></span><span id='topic+runCov'></span><span id='topic+runCor'></span><span id='topic+runVar'></span><span id='topic+runSD'></span><span id='topic+runMAD'></span><span id='topic+wilderSum'></span>

<h3>Description</h3>

<p>Various functions to analyze data over a moving window of periods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runSum(x, n = 10, cumulative = FALSE)

runMin(x, n = 10, cumulative = FALSE)

runMax(x, n = 10, cumulative = FALSE)

runMean(x, n = 10, cumulative = FALSE)

runMedian(x, n = 10, non.unique = "mean", cumulative = FALSE)

runCov(x, y, n = 10, use = "all.obs", sample = TRUE, cumulative = FALSE)

runCor(x, y, n = 10, use = "all.obs", sample = TRUE, cumulative = FALSE)

runVar(x, y = NULL, n = 10, sample = TRUE, cumulative = FALSE)

runSD(x, n = 10, sample = TRUE, cumulative = FALSE)

runMAD(
  x,
  n = 10,
  center = NULL,
  stat = "median",
  constant = 1.4826,
  non.unique = "mean",
  cumulative = FALSE
)

wilderSum(x, n = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runSum_+3A_x">x</code></td>
<td>
<p>Object coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="runSum_+3A_n">n</code></td>
<td>
<p>Number of periods to use in the window or, if
<code>cumulative=TRUE</code>, the number of observations to use before the first
result is returned. Must be between 1 and <code>nrow(x)</code>, inclusive.</p>
</td></tr>
<tr><td><code id="runSum_+3A_cumulative">cumulative</code></td>
<td>
<p>Logical, use from-inception calculation?</p>
</td></tr>
<tr><td><code id="runSum_+3A_non.unique">non.unique</code></td>
<td>
<p>One of 'mean', 'max', or 'min'; which compute their
respective statistics for the two middle values of even-sized samples.</p>
</td></tr>
<tr><td><code id="runSum_+3A_y">y</code></td>
<td>
<p>Object coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="runSum_+3A_use">use</code></td>
<td>
<p>Only <code>"all.obs"</code> currently implemented.</p>
</td></tr>
<tr><td><code id="runSum_+3A_sample">sample</code></td>
<td>
<p>Logical, sample covariance if <code>TRUE</code> (denominator of
<code>n-1</code>)</p>
</td></tr>
<tr><td><code id="runSum_+3A_center">center</code></td>
<td>
<p>The values to use as the measure of central tendency, around
which to calculate deviations. The default (<code>NULL</code>) uses the median.</p>
</td></tr>
<tr><td><code id="runSum_+3A_stat">stat</code></td>
<td>
<p>Statistic to calculate, one of 'median' or 'mean' (e.g. median
absolute deviation or mean absolute deviation, respectively.)</p>
</td></tr>
<tr><td><code id="runSum_+3A_constant">constant</code></td>
<td>
<p>Scale factor applied to approximate the standard deviation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A object of the same class as <code>x</code> and <code>y</code> or a vector (if
<code>try.xts</code> fails).
</p>

<dl>
<dt>runSum</dt><dd><p>returns sums over a n-period moving window.</p>
</dd>
<dt>runMin</dt><dd><p>returns minimums over a n-period moving window.</p>
</dd>
<dt>runMax</dt><dd><p>returns maximums over a n-period moving window.</p>
</dd>
<dt>runMean</dt><dd><p>returns means over a n-period moving window.</p>
</dd>
<dt>runMedian</dt><dd><p>returns medians over a n-period moving window.</p>
</dd>
<dt>runCov</dt><dd><p>returns covariances over a n-period moving window.</p>
</dd>
<dt>runCor</dt><dd><p>returns correlations over a n-period moving window.</p>
</dd>
<dt>runVar</dt><dd><p>returns variances over a n-period moving window.</p>
</dd>
<dt>runSD</dt><dd><p>returns standard deviations over a n-period moving window.</p>
</dd>
<dt>runMAD</dt><dd><p>returns median/mean absolute deviations over a n-period moving window.</p>
</dd>
<dt>wilderSum</dt><dd><p>retuns a Welles Wilder style weighted sum over a n-period moving window.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>

<hr>
<h2 id='SAR'>Parabolic Stop-and-Reverse</h2><span id='topic+SAR'></span>

<h3>Description</h3>

<p>The Parabolic Stop-and-Reverse calculates a trailing stop.  Developed by J.
Welles Wilder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SAR(HL, accel = c(0.02, 0.2))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SAR_+3A_hl">HL</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains High-Low
prices.</p>
</td></tr>
<tr><td><code id="SAR_+3A_accel">accel</code></td>
<td>
<p>accel[1]: Acceleration factor.<br /> accel[2]: Maximum acceleration
factor.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The calculation for the SAR is quite complex.  See the URLs in the references
section for calculation notes.
</p>
<p>The SAR assumes that you are always in the market, and calculates the Stop
And Reverse point when you would close a long position and open a short
position or vice versa.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HL</code> or a vector (if
<code>try.xts</code> fails) containing the Parabolic Stop and Reverse values.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.linnsoft.com/techind/parabolic-sar-sar">https://www.linnsoft.com/techind/parabolic-sar-sar</a><br />
<a href="https://www.fmlabs.com/reference/SAR.htm">https://www.fmlabs.com/reference/SAR.htm</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:parabolic_sar">https://school.stockcharts.com/doku.php?id=technical_indicators:parabolic_sar</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=87">https://www.metastock.com/Customer/Resources/TAAZ/?p=87</a>
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+ATR">ATR</a></code> and <code><a href="TTR.html#topic+ADX">ADX</a></code>, which were also
developed by Welles Wilder.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 sar &lt;- SAR(ttrc[,c("High","Low")])

</code></pre>

<hr>
<h2 id='SMA'>Moving Averages</h2><span id='topic+SMA'></span><span id='topic+MovingAverages'></span><span id='topic+EMA'></span><span id='topic+WMA'></span><span id='topic+DEMA'></span><span id='topic+GD'></span><span id='topic+T3'></span><span id='topic+EVWMA'></span><span id='topic+ZLEMA'></span><span id='topic+VWAP'></span><span id='topic+VWMA'></span><span id='topic+MA'></span><span id='topic+HMA'></span><span id='topic+ALMA'></span>

<h3>Description</h3>

<p>Calculate various moving averages (MA) of a series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SMA(x, n = 10, ...)

EMA(x, n = 10, wilder = FALSE, ratio = NULL, ...)

DEMA(x, n = 10, v = 1, wilder = FALSE, ratio = NULL)

WMA(x, n = 10, wts = 1:n, ...)

EVWMA(price, volume, n = 10, ...)

ZLEMA(x, n = 10, ratio = NULL, ...)

VWAP(price, volume, n = 10, ...)

HMA(x, n = 20, ...)

ALMA(x, n = 9, offset = 0.85, sigma = 6, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SMA_+3A_x">x</code></td>
<td>
<p>Price, volume, etc. series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="SMA_+3A_n">n</code></td>
<td>
<p>Number of periods to average over. Must be between 1 and
<code>nrow(x)</code>, inclusive.</p>
</td></tr>
<tr><td><code id="SMA_+3A_...">...</code></td>
<td>
<p>any other passthrough parameters</p>
</td></tr>
<tr><td><code id="SMA_+3A_wilder">wilder</code></td>
<td>
<p>logical; if <code>TRUE</code>, a Welles Wilder type EMA will be
calculated; see notes.</p>
</td></tr>
<tr><td><code id="SMA_+3A_ratio">ratio</code></td>
<td>
<p>A smoothing/decay ratio.  <code>ratio</code> overrides <code>wilder</code>
in <code>EMA</code>.</p>
</td></tr>
<tr><td><code id="SMA_+3A_v">v</code></td>
<td>
<p>The 'volume factor' (a number in [0,1]).  See Notes.</p>
</td></tr>
<tr><td><code id="SMA_+3A_wts">wts</code></td>
<td>
<p>Vector of weights.  Length of <code>wts</code> vector must equal the
length of <code>x</code>, or <code>n</code> (the default).</p>
</td></tr>
<tr><td><code id="SMA_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="SMA_+3A_volume">volume</code></td>
<td>
<p>Volume series that is coercible to xts or matrix, that
corresponds to price series, or a constant.  See Notes.</p>
</td></tr>
<tr><td><code id="SMA_+3A_offset">offset</code></td>
<td>
<p>Percentile at which the center of the distribution should occur.</p>
</td></tr>
<tr><td><code id="SMA_+3A_sigma">sigma</code></td>
<td>
<p>Standard deviation of the distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>SMA</code> calculates the arithmetic mean of the series over the past
<code>n</code> observations.
</p>
<p><code>EMA</code> calculates an exponentially-weighted mean, giving more weight to
recent observations.  See Warning section below.
</p>
<p><code>WMA</code> is similar to an EMA, but with linear weighting if the length of
<code>wts</code> is equal to <code>n</code>.  If the length of <code>wts</code> is equal to the
length of <code>x</code>, the WMA will use the values of <code>wts</code> as weights.
</p>
<p><code>DEMA</code> is calculated as: <code>DEMA = (1 + v) * EMA(x,n) -
EMA(EMA(x,n),n) * v</code> (with the corresponding <code>wilder</code> and <code>ratio</code>
arguments).
</p>
<p><code>EVWMA</code> uses volume to define the period of the MA.
</p>
<p><code>ZLEMA</code> is similar to an EMA, as it gives more weight to recent
observations, but attempts to remove lag by subtracting data prior to
<code>(n-1)/2</code> periods (default) to minimize the cumulative effect.
</p>
<p><code>VWMA</code> and <code>VWAP</code> calculate the volume-weighted moving average
price.
</p>
<p><code>HMA</code> a WMA of the difference of two other WMAs, making it very
reponsive.
</p>
<p><code>ALMA</code> inspired by Gaussian filters. Tends to put less weight on most
recent observations, reducing tendency to overshoot.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>x</code> or <code>price</code> or a vector
(if <code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt>SMA</dt><dd><p> Simple moving average. </p>
</dd>
<dt>EMA</dt><dd><p> Exponential moving average. </p>
</dd>
<dt>WMA</dt><dd><p> Weighted moving average. </p>
</dd>
<dt>DEMA</dt><dd><p> Double-exponential moving average. </p>
</dd>
<dt>EVWMA</dt><dd><p> Elastic, volume-weighted moving average. </p>
</dd>
<dt>ZLEMA</dt><dd><p> Zero lag exponential moving average. </p>
</dd>
<dt>VWMA</dt><dd><p> Volume-weighed moving average (same as <code>VWAP</code>). </p>
</dd>
<dt>VWAP</dt><dd><p> Volume-weighed average price (same as <code>VWMA</code>). </p>
</dd>
<dt>VWA</dt><dd><p> Variable-length moving average. </p>
</dd>
<dt>HMA</dt><dd><p> Hull moving average. </p>
</dd>
<dt>ALMA</dt><dd><p> Arnaud Legoux moving average. </p>
</dd>
</dl>



<h3>Warning </h3>

<p>Some indicators (e.g. EMA, DEMA, EVWMA, etc.) are
calculated using the indicators' own previous values, and are therefore
unstable in the short-term.  As the indicator receives more data, its output
becomes more stable.  See example below.
</p>


<h3>Note</h3>

<p>For <code>EMA</code>, <code>wilder=FALSE</code> (the default) uses an exponential
smoothing ratio of <code>2/(n+1)</code>, while <code>wilder=TRUE</code> uses Welles
Wilder's exponential smoothing ratio of <code>1/n</code>. The <code>EMA</code> result
is initialized with the <code>n</code>-period sample average at period <code>n</code>.
The exponential decay is applied from that point forward.
</p>
<p>Since <code>WMA</code> can accept a weight vector of length equal to the length of
<code>x</code> or of length <code>n</code>, it can be used as a regular weighted moving
average (in the case <code>wts=1:n</code>) or as a moving average weighted by
volume, another indicator, etc.
</p>
<p>Since <code>DEMA</code> allows adjusting <code>v</code>, it is technically Tim Tillson's
generalized DEMA (GD).  When <code>v=1</code> (the default), the result is the
standard DEMA.  When <code>v=0</code>, the result is a regular EMA.  All other
values of <code>v</code> return the GD result.  This function can be used to
calculate Tillson's T3 indicator (see example below).  Thanks to John Gavin
for suggesting the generalization.
</p>
<p>For <code>EVWMA</code>, if <code>volume</code> is a series, <code>n</code> should be chosen so
the sum of the volume for <code>n</code> periods approximates the total number of
outstanding shares for the security being averaged.  If <code>volume</code> is a
constant, it should represent the total number of outstanding shares for the
security being averaged.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich, Ivan Popivanov (HMA, ALMA)
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/ExpMA.htm">https://www.fmlabs.com/reference/ExpMA.htm</a><br />
<a href="https://www.fmlabs.com/reference/WeightedMA.htm">https://www.fmlabs.com/reference/WeightedMA.htm</a><br />
<a href="https://www.fmlabs.com/reference/DEMA.htm">https://www.fmlabs.com/reference/DEMA.htm</a><br />
<a href="https://www.fmlabs.com/reference/T3.htm">https://www.fmlabs.com/reference/T3.htm</a><br />
<a href="https://www.linnsoft.com/techind/evwma-elastic-volume-weighted-moving-average">https://www.linnsoft.com/techind/evwma-elastic-volume-weighted-moving-average</a><br />
<a href="https://www.fmlabs.com/reference/ZeroLagExpMA.htm">https://www.fmlabs.com/reference/ZeroLagExpMA.htm</a><br />
<a href="https://www.fmlabs.com/reference/VIDYA.htm">https://www.fmlabs.com/reference/VIDYA.htm</a><br />
<a href="https://www.traderslog.com/hullmovingaverage">https://www.traderslog.com/hullmovingaverage</a><br />
<a href="https://web.archive.org/web/20180222085959/http://arnaudlegoux.com/">https://web.archive.org/web/20180222085959/http://arnaudlegoux.com/</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+wilderSum">wilderSum</a></code>, which is used in calculating a Welles
Wilder type MA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 ema.20 &lt;-   EMA(ttrc[,"Close"], 20)
 sma.20 &lt;-   SMA(ttrc[,"Close"], 20)
 dema.20 &lt;-  DEMA(ttrc[,"Close"], 20)
 evwma.20 &lt;- EVWMA(ttrc[,"Close"], ttrc[,"Volume"], 20)
 zlema.20 &lt;- ZLEMA(ttrc[,"Close"], 20)
 alma &lt;- ALMA(ttrc[,"Close"])
 hma &lt;- HMA(ttrc[,"Close"])

 ## Example of Tim Tillson's T3 indicator
 T3 &lt;- function(x, n=10, v=1) DEMA(DEMA(DEMA(x,n,v),n,v),n,v)
 t3 &lt;- T3(ttrc[,"Close"])

 ## Example of short-term instability of EMA
 ## (and other indicators mentioned above)
 x &lt;- rnorm(100)
 tail( EMA(x[90:100],10), 1 )
 tail( EMA(x[70:100],10), 1 )
 tail( EMA(x[50:100],10), 1 )
 tail( EMA(x[30:100],10), 1 )
 tail( EMA(x[10:100],10), 1 )
 tail( EMA(x[ 1:100],10), 1 )

</code></pre>

<hr>
<h2 id='SNR'>Signal to Noise Ratio</h2><span id='topic+SNR'></span>

<h3>Description</h3>

<p>The n-day SNR for a given market is calculated by taking the absolute
price change over an n-day period and dividing it by the average
n-day volatility.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SNR(HLC, n, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SNR_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
<tr><td><code id="SNR_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="SNR_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to <code><a href="TTR.html#topic+ATR">ATR</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">SNR_n = \frac{|C_t - C_{t-n}|}{ATR_n}
</code>
</p>

<p>Using average true range as the volatility measure captures more of the
intraday and overnight volatility in a way that a measurement of
Close-to-Close price change does not.
</p>
<p>The interpretation is then relatively intuitive: an SNR value of five
indicates that the market has moved five times the volatility (average true
range) over the given look-back period.
</p>


<h3>Value</h3>

<p>A object of the same class as HLC or a matrix (if try.xts fails)
containing the signal to noise ratio.
</p>


<h3>Author(s)</h3>

<p>Peter Carl
</p>


<h3>References</h3>

<p>Skeggs, James and Hill, Alex (2015). Back in Black Part 2: The
Opportunity Set for Trend Following.
</p>

<hr>
<h2 id='stoch'>Stochastic Oscillator / Stochastic Momentum Index</h2><span id='topic+stoch'></span><span id='topic+stochastics'></span><span id='topic+stochastic'></span><span id='topic+SMI'></span><span id='topic++25K'></span><span id='topic++25D'></span>

<h3>Description</h3>

<p>The stochastic oscillator is a momentum indicator that relates the location
of each day's close relative to the high/low range over the past <code>n</code>
periods.  Developed by George C.  Lane in the late 1950s.  The SMI relates
the close to the midpoint of the high/low range.  Developed by William Blau
in 1993.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stoch(
  HLC,
  nFastK = 14,
  nFastD = 3,
  nSlowD = 3,
  maType,
  bounded = TRUE,
  smooth = 1,
  ...
)

SMI(HLC, n = 13, nFast = 2, nSlow = 25, nSig = 9, maType, bounded = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stoch_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.  If only a univariate series is given, it will be
used.  See details.</p>
</td></tr>
<tr><td><code id="stoch_+3A_nfastk">nFastK</code></td>
<td>
<p>Number of periods for fast %K (i.e. the number of past periods
to use).</p>
</td></tr>
<tr><td><code id="stoch_+3A_nfastd">nFastD</code></td>
<td>
<p>Number of periods for fast %D (i.e. the number smoothing
periods to apply to fast %K).</p>
</td></tr>
<tr><td><code id="stoch_+3A_nslowd">nSlowD</code></td>
<td>
<p>Number of periods for slow %D (i.e. the number smoothing
periods to apply to fast %D).</p>
</td></tr>
<tr><td><code id="stoch_+3A_matype">maType</code></td>
<td>
<p>Either:
</p>

<ol>
<li><p> A function or a string naming the function to be called.
</p>
</li>
<li><p> A <em>list</em> with the first component like (1) above, and
additional parameters specified as <em>named</em> components.
See Examples.
</p>
</li></ol>
</td></tr>
<tr><td><code id="stoch_+3A_bounded">bounded</code></td>
<td>
<p>Logical, should current period's values be used in the
calculation?</p>
</td></tr>
<tr><td><code id="stoch_+3A_smooth">smooth</code></td>
<td>
<p>Number of internal smoothing periods to be applied before
calculating FastK. See Details.</p>
</td></tr>
<tr><td><code id="stoch_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function in
case (1) above.</p>
</td></tr>
<tr><td><code id="stoch_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
<tr><td><code id="stoch_+3A_nfast">nFast</code></td>
<td>
<p>Number of periods for initial smoothing.</p>
</td></tr>
<tr><td><code id="stoch_+3A_nslow">nSlow</code></td>
<td>
<p>Number of periods for double smoothing.</p>
</td></tr>
<tr><td><code id="stoch_+3A_nsig">nSig</code></td>
<td>
<p>Number of periods for signal line.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a High-Low-Close series is provided, the indicator is calculated using the
high/low values.  If a vector is provided, the calculation only uses that
series.  This allows stochastics to be calculated for: (1) series that have
no HLC definition (e.g. foreign exchange), and (2) stochastic indicators
(e.g. stochastic RSI - see examples).
</p>
<p>The <code>smooth</code> argument is the number of periods of internal smoothing to
apply to the differences in the high-low-close range before calculating Fast
K.  Thanks to Stanley Neo for the suggestion.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> fastK </dt><dd><p> Stochastic Fast %K </p>
</dd>
<dt> fastD </dt><dd><p> Stochastic Fast %D </p>
</dd>
<dt> slowD </dt><dd><p> Stochastic Slow %D </p>
</dd>
<dt> SMI </dt><dd><p> Stochastic Momentum Index </p>
</dd>
<dt> signal </dt><dd><p> Stochastic Momentum Index signal line </p>
</dd>
</dl>



<h3>Note</h3>

<p>The calculation for William's %R is similar to that of stochastics'
fast %K.
</p>
<p>The value for fast %K will be 0.5 whenever the highest high and
lowest low are the same over the last <code>n</code> periods.
</p>
<p>The stochastic oscillator and SMI calculate relative value of the close
versus the high/low range and the midpoint of the high/low range,
respectively.
</p>
<p>The stochastic oscillator and the stochastic momentum index are interpreted
similarly.  Readings below 20 (above 80) are considered oversold
(overbought).  However, readings below 20 (above 80) are not necessarily
bearish (bullish).  Lane believed some of the best sell (buy) signals
occurred when the oscillator moved from overbought (oversold) back below 80
(above 20).
</p>
<p>For the stochastic oscillator, buy (sell) signals can also be given when %K
crosses above (below) %D.  Crossover signals are quite frequent however,
which may result in whipsaws.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document these
indicators:
<br /> Stochastic Oscillator:<br />
<a href="https://www.fmlabs.com/reference/StochasticOscillator.htm">https://www.fmlabs.com/reference/StochasticOscillator.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=106">https://www.metastock.com/Customer/Resources/TAAZ/?p=106</a><br />
<a href="https://www.linnsoft.com/techind/stochastics">https://www.linnsoft.com/techind/stochastics</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:stochastic_oscillator_fast_slow_and_full">https://school.stockcharts.com/doku.php?id=technical_indicators:stochastic_oscillator_fast_slow_and_full</a><br />
<br /> SMI:<br />
<a href="https://www.fmlabs.com/reference/default.htm?url=SMI.htm">https://www.fmlabs.com/reference/default.htm?url=SMI.htm</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  See <code><a href="TTR.html#topic+WPR">WPR</a></code> to compare it's
results to fast %K.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 stochOSC &lt;- stoch(ttrc[,c("High","Low","Close")])
 stochWPR &lt;- WPR(ttrc[,c("High","Low","Close")])

 plot(tail(stochOSC[,"fastK"], 100), type="l",
     main="Fast %K and Williams %R", ylab="",
     ylim=range(cbind(stochOSC, stochWPR), na.rm=TRUE) )
 lines(tail(stochWPR, 100), col="blue")
 lines(tail(1-stochWPR, 100), col="red", lty="dashed")

 stoch2MA &lt;- stoch( ttrc[,c("High","Low","Close")],
     maType=list(list(SMA), list(EMA, wilder=TRUE), list(SMA)) )

 SMI3MA &lt;- SMI(ttrc[,c("High","Low","Close")],
     maType=list(list(SMA), list(EMA, wilder=TRUE), list(SMA)) )

 stochRSI &lt;- stoch( RSI(ttrc[,"Close"]) )
</code></pre>

<hr>
<h2 id='stockSymbols'>Fetch Internet Data</h2><span id='topic+stockSymbols'></span><span id='topic+WebData'></span><span id='topic+getYahooData'></span>

<h3>Description</h3>

<p>Get investment data from the internet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stockSymbols(
  exchange = c("AMEX", "NASDAQ", "NYSE", "ARCA", "BATS", "IEX"),
  sort.by = c("Exchange", "Symbol"),
  quiet = FALSE
)

getYahooData(
  symbol,
  start,
  end,
  freq = "daily",
  type = "price",
  adjust = TRUE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stockSymbols_+3A_exchange">exchange</code></td>
<td>
<p>Character vector of exchange names on which desired
instrument symbols are traded.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_sort.by">sort.by</code></td>
<td>
<p>Character vector of columns by which returned data will be
sorted.  Must be one or more of <code>"Name"</code>, <code>"Symbol"</code>,
<code>"Market.Cap"</code>, or <code>"Exchange"</code>.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_quiet">quiet</code></td>
<td>
<p>Logical; if <code>TRUE</code>, status messages will be printed to the
console.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_symbol">symbol</code></td>
<td>
<p>Yahoo! Finance instrument symbol.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_start">start</code></td>
<td>
<p>Numeric; first date of desired data, in YYYYMMDD format.
Default is first date of series.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_end">end</code></td>
<td>
<p>Numeric; last date of desired data, in YYYYMMDD format.  Default
is last date of series.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_freq">freq</code></td>
<td>
<p>Desired data frequency.  One of <code>"daily"</code>, <code>"weekly"</code>,
<code>"monthly"</code>.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_type">type</code></td>
<td>
<p>Type of data to return.  One of <code>"price"</code>, or
<code>"split"</code>.  <code>type="split"</code> will return both split and dividend
data.</p>
</td></tr>
<tr><td><code id="stockSymbols_+3A_adjust">adjust</code></td>
<td>
<p>Logical; if <code>TRUE</code>, the Open, High, Low, and Close prices
will be adjusted for dividends and splits, and Volume will be adjusted for
dividends.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>getYahooData</code> fetches individual stock data from the Yahoo! Finance
website.  It also adjusts price for splits and dividends, and volume for
splits.  See the Warning section, and note that it is deprecated in favor
of getSymbols in the quantmod package.
</p>
<p><code>stockSymbols</code> fetches instrument symbols from the nasdaq.com website,
and adjusts the symbols to be compatible with the Yahoo! Finance website.
</p>


<h3>Value</h3>

<p><code>getYahooData</code> returns an xts object containing the columns:
</p>
<p><code>stockSymbols</code> returns a character vector containing all the listed
symbols for the given exchanges.
</p>

<dl>
<dt> Date </dt><dd><p> Trade date, in CCYYMMDD format. </p>
</dd>
<dt> Open </dt><dd><p> Open price. </p>
</dd>
<dt> High </dt><dd><p> High price. </p>
</dd>
<dt> Low </dt><dd><p> Low price. </p>
</dd>
<dt> Close </dt><dd><p> Close price. </p>
</dd>
<dt> Volume </dt><dd><p> Volume. </p>
</dd>
</dl>



<h3>Warning</h3>

<p>As of TTR 0.23-2, <code>getYahooData</code> has been patched to work with changes
to Yahoo Finance, which also included the following changes to the raw data:
</p>

<ul>
<li><p> The adjusted close column appears to no longer include dividend adjustments
</p>
</li>
<li><p> The open, high, and low columns are adjusted for splits, and
</p>
</li>
<li><p> The raw data may contain missing values.
</p>
</li>
<li><p> The raw data may contain errors.
</p>
</li></ul>

<p>As of TTR 0.24.2, <code>stockSymbols</code> began using data from NASDAQ's FTP
site because the data from the original site is no longer available. This
new file does not contain data for the columns: LastSale, MarketCap,
IPOyear, Sector, and Industry. All the columns still appear in the results,#' but all the values in the columns are set to <code>NA</code>.
</p>


<h3>Note</h3>

<p>The symbols returned by <code>stockSymbols</code> may not be in the format
necessary to retrieve data using <code>getYahooData</code>.
</p>
<p><code>getYahooData</code> has only been tested on daily data.  It isn't known if
the function correctly adjusts data for any other frequency.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>


<ul>
<li> <p><a href="https://quant.stackexchange.com/questions/1640/where-to-download-list-of-all-common-stocks-traded-on-nyse-nasdaq-and-amex/1862">Quant StackExchange: Download list of all stock symbols?</a>
</p>
</li>
<li> <p><a href="https://www.nasdaqtrader.com/trader.aspx?id=CQSsymbolconvention">CQS symbol convention</a>
</p>
</li>
<li> <p><a href="https://web.archive.org/web/20111023221931/http://help.yahoo.com/l/us/yahoo/finance/quotes/quote-02.html">Yahoo Finance symbol conventions</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
 ### Note: you must have a working internet
 ### connection for these examples to work!
 if (interactive()) {
   ge &lt;- getYahooData("GE", 19990404, 20050607, adjust = FALSE)

   nyse.symbols &lt;- stockSymbols("NYSE")
 }

</code></pre>

<hr>
<h2 id='TDI'>Trend Detection Index</h2><span id='topic+TDI'></span>

<h3>Description</h3>

<p>The Trend Detection Index (TDI) attempts to identify starting and ending
trends.  Developed by M. H. Pee.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TDI(price, n = 20, multiple = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TDI_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="TDI_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
<tr><td><code id="TDI_+3A_multiple">multiple</code></td>
<td>
<p>Multiple used to calculate (2).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The TDI is the (1) absolute value of the <code>n</code>-day sum of the <code>n</code>-day
momentum, minus the quantity of (2) <code>multiple</code>*<code>n</code>-day sum of the
absolute value of the <code>n</code>-day momentum, minus (3) <code>n</code>-day sum of
the absolute value of the <code>n</code>-day momentum.
</p>
<p>I.e. TDI = (1) - [ (2) - (3) ]
</p>
<p>The direction indicator is the sum of the <code>n</code>-day momentum over the last
<code>n</code> days.
</p>
<p>See URL in references section for further details.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> tdi </dt><dd><p> The Trend Detection Index. </p>
</dd>
<dt> di </dt><dd><p> The Direction Indicator. </p>
</dd>
</dl>



<h3>Note</h3>

<p>Positive/negative TDI values signal a trend/consolidation.  A positive/
negative direction indicator signals a up/down trend.  I.e. buy if the TDI
and the direction indicator are positive, and sell if the TDI is positive
while the direction indicator is negative.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.linnsoft.com/techind/trend-detection-index-tdi">https://www.linnsoft.com/techind/trend-detection-index-tdi</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+aroon">aroon</a></code>, <code><a href="TTR.html#topic+CCI">CCI</a></code>, <code><a href="TTR.html#topic+ADX">ADX</a></code>,
<code><a href="TTR.html#topic+VHF">VHF</a></code>, <code><a href="TTR.html#topic+GMMA">GMMA</a></code> for other indicators that measure trend
direction/strength.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 tdi &lt;- TDI(ttrc[,"Close"], n=30)

</code></pre>

<hr>
<h2 id='TR'>True Range / Average True Range</h2><span id='topic+TR'></span><span id='topic+ATR'></span>

<h3>Description</h3>

<p>True range (TR) is a measure of volatility of a High-Low-Close series;
average true range (ATR) is a Welles Wilder's style moving average of the TR.
Developed by J. Welles Wilder in 1978.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TR(HLC)

ATR(HLC, n = 14, maType, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TR_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
<tr><td><code id="TR_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="TR_+3A_matype">maType</code></td>
<td>
<p>A function or a string naming the function to be called.</p>
</td></tr>
<tr><td><code id="TR_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>TR incorporates yesterday's close in the calculation (high minus low).  E.g.
if yesterday's close was higher than today's high, then the TR would equal
yesterday's close minus today's low.
</p>
<p>The ATR is a component of the Welles Wilder Directional Movement Index
(<code>DX</code>, <code>ADX</code>).
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a matrix (if
<code>try.xts</code> fails) containing the columns:
</p>

<dl>
<dt> tr </dt><dd><p> The true range of the series. </p>
</dd>
<dt> atr </dt><dd><p> The average (as specified by <code>ma</code>) true range of the series. </p>
</dd>
<dt> trueHigh </dt><dd><p> The true high of the series. </p>
</dd>
<dt> trueLow </dt><dd><p> The true low of the series. </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br /> <a href="https://www.fmlabs.com/reference/TR.htm">https://www.fmlabs.com/reference/TR.htm</a><br />
<a href="https://www.fmlabs.com/reference/ATR.htm">https://www.fmlabs.com/reference/ATR.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=35">https://www.metastock.com/Customer/Resources/TAAZ/?p=35</a><br />
<a href="https://www.linnsoft.com/techind/true-range-tr">https://www.linnsoft.com/techind/true-range-tr</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:average_true_range_atr">https://school.stockcharts.com/doku.php?id=technical_indicators:average_true_range_atr</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.  See <code><a href="TTR.html#topic+DX">DX</a></code>, which uses true
range.  See <code><a href="TTR.html#topic+chaikinVolatility">chaikinVolatility</a></code> for another volatility measure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(ttrc)
tr &lt;- TR(ttrc[,c("High","Low","Close")])
atr &lt;- ATR(ttrc[,c("High","Low","Close")], n=14)

</code></pre>

<hr>
<h2 id='TRIX'>Triple Smoothed Exponential Oscillator</h2><span id='topic+TRIX'></span>

<h3>Description</h3>

<p>The TRIX indicator calculates the rate of change of a triple exponential
moving average.  Developed by Jack K. Hutson.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TRIX(price, n = 20, nSig = 9, maType, percent = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TRIX_+3A_price">price</code></td>
<td>
<p>Price series that is coercible to xts or matrix.</p>
</td></tr>
<tr><td><code id="TRIX_+3A_n">n</code></td>
<td>
<p>Number of periods for moving average.</p>
</td></tr>
<tr><td><code id="TRIX_+3A_nsig">nSig</code></td>
<td>
<p>Number of periods for signal line moving average.</p>
</td></tr>
<tr><td><code id="TRIX_+3A_matype">maType</code></td>
<td>
<p>Either:
</p>

<ol>
<li><p> A function or a string naming the function to be called.
</p>
</li>
<li><p> A <em>list</em> with the first component like (1) above, and
additional parameters specified as <em>named</em> components.
See Examples.
</p>
</li></ol>
</td></tr>
<tr><td><code id="TRIX_+3A_percent">percent</code></td>
<td>
<p>logical; if <code>TRUE</code>, the rate of change is calculated
using the <code>ROC</code> function, otherwise the <code>momentum</code> function is
used.</p>
</td></tr>
<tr><td><code id="TRIX_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed to the <code>maType</code> function in
case (1) above.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The TRIX is calculated as follows:<br /> 3MA = <code>MA</code>( <code>MA</code>(
<code>MA</code>(<code>price</code>) ) )<br /> trix = 100 * [ 3MA(t) / 3MA(t-1) - 1 ]
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> or a vector (if
<code>try.xts</code> fails) containing the TRIX values.
</p>


<h3>Note</h3>

<p>Buy/sell signals are generated when the TRIX crosses above/below zero.
A nine-period EMA of the TRIX is used as a default signal line.  Buy/sell
signals are generated when the TRIX crosses above/below the signal line and
is also above/below zero.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.fmlabs.com/reference/default.htm?url=TRIX.htm">https://www.fmlabs.com/reference/default.htm?url=TRIX.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=114">https://www.metastock.com/Customer/Resources/TAAZ/?p=114</a><br />
<a href="https://www.linnsoft.com/techind/trix-triple-smoothed-exponential-oscillator">https://www.linnsoft.com/techind/trix-triple-smoothed-exponential-oscillator</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:trix">https://school.stockcharts.com/doku.php?id=technical_indicators:trix</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+EMA">EMA</a></code>, <code><a href="TTR.html#topic+SMA">SMA</a></code>, etc. for moving average
options; and note Warning section.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 trix  &lt;- TRIX(ttrc[,"Close"])
 trix4 &lt;- TRIX(ttrc[,"Close"],
 maType=list(list(SMA), list(EMA, wilder=TRUE), list(SMA), list(DEMA)))

</code></pre>

<hr>
<h2 id='TTR'>Functions to create Technical Trading Rules (TTR)</h2><span id='topic+TTR'></span><span id='topic+TTR-package'></span>

<h3>Description</h3>

<p>This package contains many of the most popular technical analysis functions,
as well as functions to retrieve U.S. stock symbols, and data from Yahoo
Finance.
</p>


<h3>Details</h3>

<p>Users will probably be most interested in the following functions:<br />
<code><a href="TTR.html#topic+ADX">ADX</a></code><br /> <code><a href="TTR.html#topic+BBands">BBands</a></code><br /> <code><a href="dplyr.html#topic+changes">changes</a></code><br />
<code><a href="TTR.html#topic+MovingAverages">MovingAverages</a></code><br /> <code><a href="TTR.html#topic+MACD">MACD</a></code><br /> <code><a href="TTR.html#topic+RSI">RSI</a></code><br />
<code><a href="TTR.html#topic+runFun">runFun</a></code><br /> <code><a href="TTR.html#topic+stoch">stoch</a></code><br /> <code><a href="TTR.html#topic+VWAP">VWAP</a></code><br />
<code><a href="TTR.html#topic+WebData">WebData</a></code><br />
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>
<p>Maintainer: Joshua Ulrich
</p>


<h3>References</h3>

<p>The following sites were used to code/document this package:<br />
<a href="https://www.fmlabs.com/reference/default.htm">https://www.fmlabs.com/reference/default.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/">https://www.metastock.com/Customer/Resources/TAAZ/</a><br />
<a href="https://www.linnsoft.com/indicators">https://www.linnsoft.com/indicators</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators">https://school.stockcharts.com/doku.php?id=technical_indicators</a><br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)

 # Bollinger Bands
 bbands &lt;- BBands( ttrc[,c("High","Low","Close")] )

 # Directional Movement Index
 adx &lt;- ADX(ttrc[,c("High","Low","Close")])

 # Moving Averages
 ema &lt;- EMA(ttrc[,"Close"], n=20)
 sma &lt;- SMA(ttrc[,"Close"], n=20)

 # MACD
 macd &lt;- MACD( ttrc[,"Close"] )

 # RSI
 rsi &lt;- RSI(ttrc[,"Close"])

 # Stochastics
 stochOsc &lt;- stoch(ttrc[,c("High","Low","Close")])

 ### Note: you must have a working internet connection
 ### for the examples below to work!
 if (interactive()) {
   # Fetch U.S. symbols from the internet
   nyseSymbols &lt;- stockSymbols("NYSE")

   # Fetch Yahoo! Finance data from the internet
   ge &lt;- getYahooData("GE", 19990404, 20050607, adjust = FALSE)
 }

</code></pre>

<hr>
<h2 id='ttrc'>Technical Trading Rule Composite data</h2><span id='topic+ttrc'></span>

<h3>Description</h3>

<p>Historical Open, High, Low, Close, and Volume data for the periods January 2,
1985 to December 31, 2006. Randomly generated.
</p>


<h3>Format</h3>

<p>The format is: </p>

<table>
<tr>
 <td style="text-align: left;"> Date: </td><td style="text-align: left;"> Class 'Date' </td><td style="text-align: left;"> 5480 5481
5482 5485 5486 ...</td>
</tr>
<tr>
 <td style="text-align: left;"> Open: </td><td style="text-align: left;"> num </td><td style="text-align: left;"> 3.18 3.09 3.11 3.09 3.10 ...</td>
</tr>
<tr>
 <td style="text-align: left;">
High: </td><td style="text-align: left;"> num </td><td style="text-align: left;"> 3.18 3.15 3.12 3.12 3.12 ...</td>
</tr>
<tr>
 <td style="text-align: left;"> Low: </td><td style="text-align: left;"> num </td><td style="text-align: left;"> 3.08
3.09 3.08 3.07 3.08 ...</td>
</tr>
<tr>
 <td style="text-align: left;"> Close: </td><td style="text-align: left;"> num </td><td style="text-align: left;"> 3.08 3.11 3.09 3.10 3.11
...</td>
</tr>
<tr>
 <td style="text-align: left;"> Volume: </td><td style="text-align: left;"> num </td><td style="text-align: left;"> 1870906 3099506 2274157 2086758 2166348 ...</td>
</tr>
<tr>
 <td style="text-align: left;"> </td>
</tr>

</table>



<h3>Details</h3>

<p>These data do not represent an actual security.  They are provided so
examples do not necessitate an internet connection.
</p>


<h3>Source</h3>

<p>Randomly generated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 plot(tail(ttrc[,"Close"],100), type="l")
</code></pre>

<hr>
<h2 id='ultimateOscillator'>The Ultimate Oscillator</h2><span id='topic+ultimateOscillator'></span>

<h3>Description</h3>

<p>The Ultimate Oscillator is a momentum oscillator designed to capture momentum across three
different time frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ultimateOscillator(HLC, n = c(7, 14, 28), wts = c(4, 2, 1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ultimateOscillator_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
<tr><td><code id="ultimateOscillator_+3A_n">n</code></td>
<td>
<p>A vector of the number of periods to use for each average calculation.</p>
</td></tr>
<tr><td><code id="ultimateOscillator_+3A_wts">wts</code></td>
<td>
<p>The weights applied to each average.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Created by Larry Williams in 1976.
</p>


<h3>Author(s)</h3>

<p>Ivan Popivanov
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:ultimate_oscillator">https://school.stockcharts.com/doku.php?id=technical_indicators:ultimate_oscillator</a><br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(ttrc)
ult.osc &lt;- ultimateOscillator(ttrc[,c("High","Low","Close")])

</code></pre>

<hr>
<h2 id='VHF'>Vertical Horizontal Filter</h2><span id='topic+VHF'></span>

<h3>Description</h3>

<p>The Vertical Horizontal Filter (VHF) attempts to identify starting and ending
trends.  Developed by Adam White.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VHF(price, n = 28)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VHF_+3A_price">price</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains a Close
price series, or a High-Low-Close price series.</p>
</td></tr>
<tr><td><code id="VHF_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The VHF is calculated by subtracting the <code>n</code>-period lowest low from the
<code>n</code>-period highest high and dividing that result by the <code>n</code>-period
rolling sum of the close price changes.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>price</code> or a vector (if
<code>try.xts</code> fails) containing the VHF values.
</p>


<h3>Note</h3>

<p>If Close prices are given, the function calculates the max/min using
only those prices (the default).  If HLC prices are given, the function
calculates the max/min using the high/low prices (added for flexibility).
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=119">https://www.metastock.com/Customer/Resources/TAAZ/?p=119</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+aroon">aroon</a></code>, <code><a href="TTR.html#topic+CCI">CCI</a></code>, <code><a href="TTR.html#topic+ADX">ADX</a></code>,
<code><a href="TTR.html#topic+TDI">TDI</a></code>, <code><a href="TTR.html#topic+GMMA">GMMA</a></code> for other indicators that measure trend
direction/strength.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 vhf.close &lt;- VHF(ttrc[,"Close"])
 vhf.hilow &lt;- VHF(ttrc[,c("High","Low","Close")])

</code></pre>

<hr>
<h2 id='volatility'>Volatility</h2><span id='topic+volatility'></span><span id='topic+garman.klass'></span><span id='topic+parkinson'></span><span id='topic+rogers.satchell'></span><span id='topic+gk.yz'></span><span id='topic+yang.zhang'></span>

<h3>Description</h3>

<p>Selected volatility estimators/indicators; various authors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volatility(OHLC, n = 10, calc = "close", N = 260, mean0 = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="volatility_+3A_ohlc">OHLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
Open-High-Low-Close prices (or only Close prices, if <code>calc="close"</code>).</p>
</td></tr>
<tr><td><code id="volatility_+3A_n">n</code></td>
<td>
<p>Number of periods for the volatility estimate.</p>
</td></tr>
<tr><td><code id="volatility_+3A_calc">calc</code></td>
<td>
<p>The calculation (type) of estimator to use.</p>
</td></tr>
<tr><td><code id="volatility_+3A_n">N</code></td>
<td>
<p>Number of periods per year.</p>
</td></tr>
<tr><td><code id="volatility_+3A_mean0">mean0</code></td>
<td>
<p>Use a mean of 0 rather than the sample mean.</p>
</td></tr>
<tr><td><code id="volatility_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to/from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Close-to-Close Volatility (<code>calc="close"</code>)<br />
</p>
<p style="text-align: center;"><code class="reqn"> \sigma_{cl} = \sqrt{\frac{N}{n-2} \sum_{i=1}^{n-1}(r_i-\bar{r})^2}
</code>
</p>

<p style="text-align: center;"><code class="reqn">where\;\; r_i = \log \left(\frac{C_i}{C_{i-1}}\right) </code>
</p>

<p style="text-align: center;"><code class="reqn">and\;\; \bar{r} = \frac{r_1+r_2+\ldots +r_{n-1}}{n-1} </code>
</p>

</li>
<li><p> OHLC Volatility: Garman and Klass (<code>calc="garman.klass"</code>)<br /> The
Garman and Klass estimator for estimating historical volatility assumes
Brownian motion with zero drift and no opening jumps (i.e. the opening =
close of the previous period). This estimator is 7.4 times more efficient
than the close-to-close estimator.<br />
</p>
<p style="text-align: center;"><code class="reqn"> \sigma = \sqrt{ \frac{N}{n} \sum
  \left[ \textstyle\frac{1}{2}\displaystyle
    \left( \log \frac{H_i}{L_i} \right)^2  - (2\log 2-1)
    \left( \log \frac{C_i}{O_i} \right)^2 \right] }
</code>
</p>

</li>
<li><p> High-Low Volatility: Parkinson (<code>calc="parkinson"</code>)<br />
The Parkinson formula for estimating the historical volatility of
an underlying based on high and low prices.<br />
</p>
<p style="text-align: center;"><code class="reqn"> \sigma = \sqrt{ \frac{N}{4 n \times \log 2} \sum_{i=1}^{n}
  \left(\log \frac{H_i}{L_i}\right)^2}
</code>
</p>

</li>
<li><p> OHLC Volatility: Rogers and Satchell (<code>calc="rogers.satchell"</code>)<br />
The Roger and Satchell historical volatility estimator allows for non-zero
drift, but assumed no opening jump.<br />
</p>
<p style="text-align: center;"><code class="reqn"> \sigma = \sqrt{ \textstyle\frac{N}{n} \sum \left[
  \log \textstyle\frac{H_i}{C_i} \times \log \textstyle\frac{H_i}{O_i} +
  \log \textstyle\frac{L_i}{C_i} \times \log \textstyle\frac{L_i}{O_i} \right] }
</code>
</p>

</li>
<li><p> OHLC Volatility: Garman and Klass - Yang and Zhang
(<code>calc="gk.yz"</code>)<br /> This estimator is a modified version of the Garman
and Klass estimator that allows for opening gaps.<br />
</p>
<p style="text-align: center;"><code class="reqn"> \sigma = \sqrt{ \textstyle\frac{N}{n} \sum \left[
  \left( \log \textstyle\frac{O_i}{C_{i-1}} \right)^2  +
    \textstyle\frac{1}{2}\displaystyle
  \left( \log \textstyle\frac{H_i}{L_i} \right)^2 - (2 \times \log 2-1)
  \left( \log \textstyle\frac{C_i}{O_i} \right)^2 \right] }
</code>
</p>

</li>
<li><p> OHLC Volatility: Yang and Zhang (<code>calc="yang.zhang"</code>)<br /> The Yang
and Zhang historical volatility estimator has minimum estimation error, and
is independent of drift and opening gaps.  It can be interpreted as a
weighted average of the Rogers and Satchell estimator, the close-open
volatility, and the open-close volatility.
</p>
<p>Users may override the default values of <code class="reqn">\alpha</code> (1.34 by default) or
<code class="reqn">k</code> used in the calculation by specifying <code>alpha</code> or <code>k</code> in
<code>...</code>, respectively. Specifying <code>k</code> will cause <code>alpha</code> to be
ignored, if both are provided.<br />
</p>
<p style="text-align: center;"><code class="reqn"> \sigma^2 = \sigma_o^2 + k\sigma_c^2 + (1-k)\sigma_{rs}^2
</code>
</p>

<p style="text-align: center;"><code class="reqn"> \sigma_o^2 =\textstyle \frac{N}{n-1} \sum
  \left( \log \frac{O_i}{C_{i-1}}-\mu_o \right)^2
</code>
</p>

<p style="text-align: center;"><code class="reqn"> \mu_o=\textstyle \frac{1}{n} \sum \log \frac{O_i}{C_{i-1}} </code>
</p>

<p style="text-align: center;"><code class="reqn"> \sigma_c^2 =\textstyle \frac{N}{n-1} \sum
  \left( \log \frac{C_i}{O_i}-\mu_c \right)^2
</code>
</p>

<p style="text-align: center;"><code class="reqn"> \mu_c=\textstyle \frac{1}{n} \sum \log \frac{C_i}{O_i} </code>
</p>

<p style="text-align: center;"><code class="reqn"> \sigma_{rs}^2 = \textstyle\frac{N}{n} \sum \left(
  \log \textstyle\frac{H_i}{C_i} \times \log \textstyle\frac{H_i}{O_i} +
  \log \textstyle\frac{L_i}{C_i} \times \log \textstyle\frac{L_i}{O_i}
  \right)
</code>
</p>

<p style="text-align: center;"><code class="reqn"> k=\frac{\alpha-1}{alpha+\frac{n+1}{n-1}}
</code>
</p>

</li></ul>



<h3>Value</h3>

<p>A object of the same class as <code>OHLC</code> or a vector (if
<code>try.xts</code> fails) containing the chosen volatility estimator values.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following sites were used to code/document these
indicators. All were created by Thijs van den Berg under the GNU Free
Documentation License and were retrieved on 2008-04-20. The original
links are dead, but can be accessed via internet archives.<br />
<br /> Close-to-Close Volatility (<code>calc="close"</code>):<br />
<a href="https://web.archive.org/web/20100421083157/http://www.sitmo.com/eq/172">https://web.archive.org/web/20100421083157/http://www.sitmo.com/eq/172</a><br />
<br /> OHLC Volatility: Garman Klass (<code>calc="garman.klass"</code>):<br />
<a href="https://web.archive.org/web/20100326172550/http://www.sitmo.com/eq/402">https://web.archive.org/web/20100326172550/http://www.sitmo.com/eq/402</a><br />
<br /> High-Low Volatility: Parkinson (<code>calc="parkinson"</code>):<br />
<a href="https://web.archive.org/web/20100328195855/http://www.sitmo.com/eq/173">https://web.archive.org/web/20100328195855/http://www.sitmo.com/eq/173</a><br />
<br /> OHLC Volatility: Rogers Satchell (<code>calc="rogers.satchell"</code>):<br />
<a href="https://web.archive.org/web/20091002233833/http://www.sitmo.com/eq/414">https://web.archive.org/web/20091002233833/http://www.sitmo.com/eq/414</a><br />
<br /> OHLC Volatility: Garman Klass - Yang Zhang (<code>calc="gk.yz"</code>):<br />
<a href="https://web.archive.org/web/20100326215050/http://www.sitmo.com/eq/409">https://web.archive.org/web/20100326215050/http://www.sitmo.com/eq/409</a><br />
<br /> OHLC Volatility: Yang Zhang (<code>calc="yang.zhang"</code>):<br />
<a href="https://web.archive.org/web/20100326215050/http://www.sitmo.com/eq/409">https://web.archive.org/web/20100326215050/http://www.sitmo.com/eq/409</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+TR">TR</a></code> and <code><a href="TTR.html#topic+chaikinVolatility">chaikinVolatility</a></code> for other
volatility measures.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 ohlc &lt;- ttrc[,c("Open","High","Low","Close")]
 vClose &lt;- volatility(ohlc, calc="close")
 vClose0 &lt;- volatility(ohlc, calc="close", mean0=TRUE)
 vGK &lt;- volatility(ohlc, calc="garman")
 vParkinson &lt;- volatility(ohlc, calc="parkinson")
 vRS &lt;- volatility(ohlc, calc="rogers")

</code></pre>

<hr>
<h2 id='williamsAD'>Williams Accumulation / Distribution</h2><span id='topic+williamsAD'></span>

<h3>Description</h3>

<p>The Williams Accumulation / Distribution (AD) line is a measure of market
momentum.  Developed by Larry Williams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>williamsAD(HLC)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="williamsAD_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Williams AD line differs from OBV and chaikinAD in that it doesn't take
volume into account.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a vector (if
<code>try.xts</code> fails) containing the accumulation / distribution values.
</p>


<h3>Note</h3>

<p>The Accumulation/Distribution Line is interpreted by looking for a
divergence in the direction of the indicator relative to price.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.fmlabs.com/reference/WilliamsAD.htm">https://www.fmlabs.com/reference/WilliamsAD.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=125">https://www.metastock.com/Customer/Resources/TAAZ/?p=125</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+OBV">OBV</a></code>, <code><a href="TTR.html#topic+chaikinAD">chaikinAD</a></code>, and
<code><a href="TTR.html#topic+ATR">ATR</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 ad &lt;- williamsAD(ttrc[,c("High","Low","Close")])

</code></pre>

<hr>
<h2 id='WPR'>William's %R</h2><span id='topic+WPR'></span>

<h3>Description</h3>

<p>William's % R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WPR(HLC, n = 14)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WPR_+3A_hlc">HLC</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains
High-Low-Close prices.  If only a univariate series is given, it will be
used.  See details.</p>
</td></tr>
<tr><td><code id="WPR_+3A_n">n</code></td>
<td>
<p>Number of periods to use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If an High-Low-Close series is provided, the indicator is calculated using
the high/low values.  If a vector is provided, the calculation only uses that
series.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HLC</code> or a vector (if
<code>try.xts</code> fails) containing the William's %R values.
</p>


<h3>Note</h3>

<p>The William's %R calculation is similar to stochastics' fast %K.
</p>
<p>The value for William's %R will be 0.5 whenever the highest high and
lowest low are the same over the last <code>n</code> periods.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.fmlabs.com/reference/WilliamsR.htm">https://www.fmlabs.com/reference/WilliamsR.htm</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=126">https://www.metastock.com/Customer/Resources/TAAZ/?p=126</a><br />
<a href="https://www.linnsoft.com/techind/williams-r-wpr">https://www.linnsoft.com/techind/williams-r-wpr</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:williams_r">https://school.stockcharts.com/doku.php?id=technical_indicators:williams_r</a><br />
</p>


<h3>See Also</h3>

<p>See <code><a href="TTR.html#topic+stoch">stoch</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 data(ttrc)
 stochOsc &lt;- stoch(ttrc[,c("High","Low","Close")])
 stochWPR&lt;- WPR(ttrc[,c("High","Low","Close")])

 plot(tail(stochOsc[,"fastK"], 100), type="l",
     main="Fast %K and Williams %R", ylab="",
     ylim=range(cbind(stochOsc, stochWPR), na.rm=TRUE) )
 lines(tail(stochWPR, 100), col="blue")
 lines(tail(1-stochWPR, 100), col="red", lty="dashed")

</code></pre>

<hr>
<h2 id='ZigZag'>Zig Zag</h2><span id='topic+ZigZag'></span><span id='topic+zigzag'></span>

<h3>Description</h3>

<p>Zig Zag higlights trends by removing price changes smaller than <code>change</code>
and interpolating lines between the extreme points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ZigZag(HL, change = 10, percent = TRUE, retrace = FALSE, lastExtreme = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ZigZag_+3A_hl">HL</code></td>
<td>
<p>Object that is coercible to xts or matrix and contains either a
High-Low price series, or a Close price series.</p>
</td></tr>
<tr><td><code id="ZigZag_+3A_change">change</code></td>
<td>
<p>Minimum price movement, either in dollars or percent (see
<code>percent</code>).</p>
</td></tr>
<tr><td><code id="ZigZag_+3A_percent">percent</code></td>
<td>
<p>Use percentage or dollar change?</p>
</td></tr>
<tr><td><code id="ZigZag_+3A_retrace">retrace</code></td>
<td>
<p>Is <code>change</code> a retracement of the previous move, or an
absolute change from peak to trough?</p>
</td></tr>
<tr><td><code id="ZigZag_+3A_lastextreme">lastExtreme</code></td>
<td>
<p>If the extreme price is the same over multiple periods,
should the extreme price be the first or last observation?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Zig Zag is non-predictive.  The purpose of the Zig Zag is filter noise
and make chart patterns clearer.  It's more a visual tool than an indicator.
</p>


<h3>Value</h3>

<p>A object of the same class as <code>HL</code> or a vector (if
<code>try.xts</code> fails) containing the Zig Zag indicator.
</p>


<h3>Warning</h3>

<p>The last value of the ZigZag indicator is unstable (i.e.
unknown) until the turning point actually occurs. Therefore this indicator
isn't well-suited for use for systematic trading strategies.
</p>


<h3>Note</h3>

<p>If High-Low prices are given, the function calculates the max/min using
the high/low prices.  Otherwise the function calculates the max/min of the
single series.
</p>


<h3>Author(s)</h3>

<p>Joshua Ulrich
</p>


<h3>References</h3>

<p>The following site(s) were used to code/document this
indicator:<br />
<a href="https://www.fmlabs.com/reference/default.htm?url=ZigZag.htm">https://www.fmlabs.com/reference/default.htm?url=ZigZag.htm</a><br />
<a href="https://www.linnsoft.com/techind/zig-zag-indicator-zig-zzo">https://www.linnsoft.com/techind/zig-zag-indicator-zig-zzo</a><br />
<a href="https://www.linnsoft.com/techind/zig-zag-oscillator-indicator-zzo">https://www.linnsoft.com/techind/zig-zag-oscillator-indicator-zzo</a><br />
<a href="https://www.metastock.com/Customer/Resources/TAAZ/?p=127">https://www.metastock.com/Customer/Resources/TAAZ/?p=127</a><br />
<a href="https://school.stockcharts.com/doku.php?id=technical_indicators:zigzag">https://school.stockcharts.com/doku.php?id=technical_indicators:zigzag</a><br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 ## Get Data and Indicator ##
 data(ttrc)
 zz &lt;- ZigZag( ttrc[,c("High", "Low")], change=20 )

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package mapboxer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mapboxer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_circle_layer'><p>Add a circle layer to the map</p></a></li>
<li><a href='#add_control'><p>Add a standard control to the map</p></a></li>
<li><a href='#add_draw_control'><p>Add a draw control to the map (experimental)</p></a></li>
<li><a href='#add_fill_layer'><p>Add a fill layer to the map</p></a></li>
<li><a href='#add_filter_control'><p>Add a filter control to the map</p></a></li>
<li><a href='#add_layer'><p>Add a layer to the map</p></a></li>
<li><a href='#add_line_layer'><p>Add a line layer to the map</p></a></li>
<li><a href='#add_marker'><p>Add a single marker to the map</p></a></li>
<li><a href='#add_mouse_position_control'><p>Add a mouse position control to the map</p></a></li>
<li><a href='#add_popups'><p>Add popups to a layer</p></a></li>
<li><a href='#add_source'><p>Add a Mapbox source to the map</p></a></li>
<li><a href='#add_text_control'><p>Add a text control to the map</p></a></li>
<li><a href='#add_tooltips'><p>Add tooltips to a layer</p></a></li>
<li><a href='#as_mapbox_source'><p>Convert a data object to a Mapbox GeoJSON source</p></a></li>
<li><a href='#basemap_background_style'><p>Create a background style</p></a></li>
<li><a href='#basemap_raster_style'><p>Create a raster style</p></a></li>
<li><a href='#basemaps'><p>A list of basemap style URLs</p></a></li>
<li><a href='#fit_bounds'><p>Fit the map to a bounding box</p></a></li>
<li><a href='#mapbox_source'><p>Create a Mapbox source</p></a></li>
<li><a href='#mapboxer'><p>Create a mapboxer widget</p></a></li>
<li><a href='#mapboxer_proxy'><p>Create a mapboxer proxy object</p></a></li>
<li><a href='#mapboxer-shiny'><p>Shiny bindings for mapboxer</p></a></li>
<li><a href='#motor_vehicle_collisions_nyc'><p>Motor Vehicle Collisions in NYC</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#set_data'><p>Update the data of a Mapbox source</p></a></li>
<li><a href='#set_filter'><p>Set the filter of a layer</p></a></li>
<li><a href='#set_layer_properties'><p>Update layer properties</p></a></li>
<li><a href='#set_style'><p>Set the style of the map</p></a></li>
<li><a href='#set_view_state'><p>Set the view state of the map</p></a></li>
<li><a href='#stamen_raster_tiles'><p>Get Stamen raster tile URLs</p></a></li>
<li><a href='#update_mapboxer'><p>Update a mapboxer proxy object in a Shiny app</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>An R Interface to 'Mapbox GL JS'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-10-28</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan Kuethe &lt;crazycapivara@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Makes 'Mapbox GL JS' <a href="https://docs.mapbox.com/mapbox-gl-js/api/">https://docs.mapbox.com/mapbox-gl-js/api/</a>,
  an open source JavaScript library that uses WebGL to render interactive maps,
  available within R via the 'htmlwidgets' package. Visualizations can be used from the R console,
  in R Markdown documents and in Shiny apps.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, htmlwidgets, htmltools, yaml, purrr, geojsonsf,
methods</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, shiny</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/crazycapivara/mapboxer">https://github.com/crazycapivara/mapboxer</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/crazycapivara/mapboxer/issues">https://github.com/crazycapivara/mapboxer/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-10-28 17:52:19 UTC; gabbo</td>
</tr>
<tr>
<td>Author:</td>
<td>Stefan Kuethe [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-04 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_circle_layer'>Add a circle layer to the map</h2><span id='topic+add_circle_layer'></span>

<h3>Description</h3>

<p>Add a circle layer to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_circle_layer(map, source = NULL, filter = NULL,
  circle_blur = NULL, circle_color = NULL, circle_opacity = NULL,
  circle_pitch_alignment = NULL, circle_pitch_scale = NULL,
  circle_radius = NULL, circle_sort_key = NULL,
  circle_stroke_color = NULL, circle_stroke_opacity = NULL,
  circle_stroke_width = NULL, circle_translate = NULL,
  circle_translate_anchor = NULL, visibility = TRUE, popup = NULL,
  id = "circle-layer")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_circle_layer_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_source">source</code></td>
<td>
<p>A Mapbox source. Uses the source from the <a href="#topic+mapboxer">mapboxer</a> object if no source is supplied.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_filter">filter</code></td>
<td>
<p>A filter expression that is applied to the <code>source</code>.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_blur">circle_blur</code></td>
<td>
<p>(paint) Amount to blur the circle.
1 blurs the circle such that only the centerpoint is full opacity.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_color">circle_color</code></td>
<td>
<p>(paint) The fill color of the circle.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_opacity">circle_opacity</code></td>
<td>
<p>(paint) The opacity at which the circle will be drawn.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_pitch_alignment">circle_pitch_alignment</code></td>
<td>
<p>(paint) Orientation of circle when map is pitched.
One of &quot;map&quot;, &quot;viewport&quot;.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_pitch_scale">circle_pitch_scale</code></td>
<td>
<p>(paint) Controls the scaling behavior of the circle when the map is pitched.
One of &quot;map&quot;, &quot;viewport&quot;.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_radius">circle_radius</code></td>
<td>
<p>(paint) The radius of the circle.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_sort_key">circle_sort_key</code></td>
<td>
<p>(layout) Sorts features in ascending order based on this value.
Features with a higher sort key will appear above features with a lower sort key.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_stroke_color">circle_stroke_color</code></td>
<td>
<p>(paint) The stroke color of the circle.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_stroke_opacity">circle_stroke_opacity</code></td>
<td>
<p>(paint) The opacity of the circle's stroke.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_stroke_width">circle_stroke_width</code></td>
<td>
<p>(paint) The width of the circle's stroke.
Strokes are placed outside of the <code>circle_radius</code>.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_translate">circle_translate</code></td>
<td>
<p>(paint) The geometry's offset.
Values are [x, y] where negatives indicate left and up, respectively.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_circle_translate_anchor">circle_translate_anchor</code></td>
<td>
<p>(paint) Controls the frame of reference for <code>circle_translate</code>.
One of &quot;map&quot;, &quot;viewport&quot;.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_visibility">visibility</code></td>
<td>
<p>(layout) Whether the layer should be displayed.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_popup">popup</code></td>
<td>
<p>A <a href="https://github.com/janl/mustache.js">mustache</a> template
in which the tags refer to the properties of the layer's data object.</p>
</td></tr>
<tr><td><code id="add_circle_layer_+3A_id">id</code></td>
<td>
<p>The unique id of the layer.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#circle">https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#circle</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>map &lt;- as_mapbox_source(motor_vehicle_collisions_nyc) %&gt;%
  mapboxer() %&gt;%
  set_view_state(-73.9165, 40.7114, 11) %&gt;%
  add_circle_layer(
    circle_color = "red",
    circle_radius = 5,
    popup = "{{date}} {{time}}"
  )

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_control'>Add a standard control to the map</h2><span id='topic+add_control'></span><span id='topic+add_navigation_control'></span><span id='topic+add_scale_control'></span><span id='topic+add_fullscreen_control'></span>

<h3>Description</h3>

<p>Add a standard control to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_control(map, control_name, ..., pos = NULL)

add_navigation_control(map, ..., pos = NULL)

add_scale_control(map, ..., pos = NULL)

add_fullscreen_control(map, pos = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_control_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_control_+3A_control_name">control_name</code></td>
<td>
<p>The (class) name of the control.</p>
</td></tr>
<tr><td><code id="add_control_+3A_...">...</code></td>
<td>
<p>The options of the control.</p>
</td></tr>
<tr><td><code id="add_control_+3A_pos">pos</code></td>
<td>
<p>The position of the control. One of <code>top-left</code>, <code>top-right</code>,
<code>bottom-right</code> or <code>bottom-left</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://docs.mapbox.com/mapbox-gl-js/api/markers/">https://docs.mapbox.com/mapbox-gl-js/api/markers/</a> for available options for the used control.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>map &lt;- mapboxer() %&gt;%
  add_navigation_control(
    pos = "top-left",
    showCompass = FALSE
  ) %&gt;%
  add_fullscreen_control() %&gt;%
  add_scale_control(
    unit = "nautical"
  )

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_draw_control'>Add a draw control to the map (experimental)</h2><span id='topic+add_draw_control'></span>

<h3>Description</h3>

<p>Add a draw control to the map (experimental)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_draw_control(map, ..., pos = NULL, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_draw_control_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_draw_control_+3A_...">...</code></td>
<td>
<p>The options of the control.</p>
</td></tr>
<tr><td><code id="add_draw_control_+3A_pos">pos</code></td>
<td>
<p>The position of the control. One of <code>top-left</code>, <code>top-right</code>,
<code>bottom-right</code> or <code>bottom-left</code>.</p>
</td></tr>
<tr><td><code id="add_draw_control_+3A_data">data</code></td>
<td>
<p>A <code>GeoJSON</code> or <code>sf</code> object.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://github.com/mapbox/mapbox-gl-draw/blob/main/docs/API.md">https://github.com/mapbox/mapbox-gl-draw/blob/main/docs/API.md</a>
for available options for the draw control.
</p>

<hr>
<h2 id='add_fill_layer'>Add a fill layer to the map</h2><span id='topic+add_fill_layer'></span>

<h3>Description</h3>

<p>Add a fill layer to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_fill_layer(map, source = NULL, filter = NULL,
  fill_antialias = TRUE, fill_color = NULL, fill_opacity = NULL,
  fill_outline_color = NULL, fill_pattern = NULL,
  fill_sort_key = NULL, fill_translate = NULL,
  fill_translate_anchor = NULL, visibility = TRUE, popup = NULL,
  id = "fill-layer")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_fill_layer_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_source">source</code></td>
<td>
<p>A Mapbox source. Uses the source from the <a href="#topic+mapboxer">mapboxer</a> object if no source is supplied.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_filter">filter</code></td>
<td>
<p>A filter expression that is applied to the <code>source</code>.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_antialias">fill_antialias</code></td>
<td>
<p>(paint) Whether or not the fill should be antialiased.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_color">fill_color</code></td>
<td>
<p>(paint) The color of the filled part of this layer.
This color can be specified as rgba with an alpha component and
the color's opacity will not affect the opacity of the 1px stroke, if it is used.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_opacity">fill_opacity</code></td>
<td>
<p>(paint) The opacity of the entire fill layer.
In contrast to the <code>fill_color</code>, this value will also affect the 1px stroke around the fill,
if the stroke is used.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_outline_color">fill_outline_color</code></td>
<td>
<p>(paint) The outline color of the fill.
Matches the value of <code>fill_color</code> if unspecified.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_pattern">fill_pattern</code></td>
<td>
<p>(paint) Name of image in sprite to use for drawing image fills.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_sort_key">fill_sort_key</code></td>
<td>
<p>(layout) Sorts features in ascending order based on this value.
Features with a higher sort key will appear above features with a lower sort key.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_translate">fill_translate</code></td>
<td>
<p>(paint) The geometry's offset.
Values are [x, y] where negatives indicate left and up, respectively.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_fill_translate_anchor">fill_translate_anchor</code></td>
<td>
<p>(paint) Controls the frame of reference for <code>fill_translate</code>.
One of &quot;map&quot;, &quot;viewport&quot;.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_visibility">visibility</code></td>
<td>
<p>(layout) Whether the layer should be displayed.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_popup">popup</code></td>
<td>
<p>A <a href="https://github.com/janl/mustache.js">mustache</a> template
in which the tags refer to the properties of the layer's data object.</p>
</td></tr>
<tr><td><code id="add_fill_layer_+3A_id">id</code></td>
<td>
<p>The unique id of the layer.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#fill">https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#fill</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> map &lt;- as_mapbox_source(geojsonsf::geo_melbourne) %&gt;%
  mapboxer() %&gt;%
  set_view_state(
    lng =  144.9624,
    lat = -37.8105,
    zoom = 10,
    pitch = 35
  ) %&gt;%
  add_fill_layer(
    fill_color = c("get", "fillColor"),
    fill_opacity = 0.6,
    popup = "Area: {{AREASQKM}} km&lt;sup&gt;2&lt;/sup&gt;",
    # AREASQKM &gt; 5
    filter = list("&gt;", c("get", "AREASQKM"), 5)
  )

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_filter_control'>Add a filter control to the map</h2><span id='topic+add_filter_control'></span>

<h3>Description</h3>

<p>Add a filter control to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_filter_control(map, layer_id, filter = NULL, pos = NULL,
  rows = 1, cols = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_filter_control_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_filter_control_+3A_layer_id">layer_id</code></td>
<td>
<p>The ID of the layer to which the filter is attached.</p>
</td></tr>
<tr><td><code id="add_filter_control_+3A_filter">filter</code></td>
<td>
<p>The initial filter expression.</p>
</td></tr>
<tr><td><code id="add_filter_control_+3A_pos">pos</code></td>
<td>
<p>The position of the control. One of <code>top-left</code>, <code>top-right</code>,
<code>bottom-right</code> or <code>bottom-left</code>.</p>
</td></tr>
<tr><td><code id="add_filter_control_+3A_rows">rows</code></td>
<td>
<p>The number of rows of the textarea input.</p>
</td></tr>
<tr><td><code id="add_filter_control_+3A_cols">cols</code></td>
<td>
<p>The number of columns of the textarea input.</p>
</td></tr>
</table>

<hr>
<h2 id='add_layer'>Add a layer to the map</h2><span id='topic+add_layer'></span>

<h3>Description</h3>

<p>Adds any kind of layer to the map.
The type of the layer is specified by the <code>type</code> property of the
layer definintion.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_layer(map, style, popup = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_layer_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_layer_+3A_style">style</code></td>
<td>
<p>A named list that defines the style of the layer.
See <a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/">https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/</a> for available style options
for the used layer type.</p>
</td></tr>
<tr><td><code id="add_layer_+3A_popup">popup</code></td>
<td>
<p>A <a href="https://github.com/janl/mustache.js">mustache</a> template
in which the tags refer to the properties of the layer's data object.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+add_popups">add_popups</a> for an example of a mustache template used to generate the popup text.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>image_src &lt;- mapbox_source(
  type = "image",
  url = "https://docs.mapbox.com/mapbox-gl-js/assets/radar.gif",
  coordinates = list(
    c(-80.425, 46.437),
    c(-71.516, 46.437),
    c(-71.516, 37.936),
    c(-80.425, 37.936)
  )
)

raster_style &lt;- list(
  id = "overlay",
  type = "raster",
  source = image_src,
  paint = list(
    "raster-opacity" = 0.85
  )
)

map &lt;- mapboxer(
  center = c(-75.789, 41.874),
  zoom = 5
) %&gt;%
  add_layer(raster_style)

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_line_layer'>Add a line layer to the map</h2><span id='topic+add_line_layer'></span>

<h3>Description</h3>

<p>Add a line layer to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_line_layer(map, source = NULL, filter = NULL, line_blur = NULL,
  line_cap = NULL, line_color = NULL, line_dasharray = NULL,
  line_gap_width = NULL, line_gradient = NULL, line_join = NULL,
  line_miter_limit = NULL, line_offset = NULL, line_opacity = NULL,
  line_pattern = NULL, line_round_limit = NULL, line_sort_key = NULL,
  line_translate = NULL, line_translate_anchor = NULL,
  line_width = NULL, visibility = NULL, popup = NULL,
  id = "line-layer")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_line_layer_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_source">source</code></td>
<td>
<p>A Mapbox source. Uses the source from the <a href="#topic+mapboxer">mapboxer</a> object if no source is supplied.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_filter">filter</code></td>
<td>
<p>A filter expression that is applied to the <code>source</code>.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_blur">line_blur</code></td>
<td>
<p>(paint) Blur applied to the line, in pixels.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_cap">line_cap</code></td>
<td>
<p>(layout) The display of line endings.
One of &quot;butt&quot;, &quot;round&quot;, &quot;square&quot;.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_color">line_color</code></td>
<td>
<p>(paint) The color with which the line will be drawn.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_dasharray">line_dasharray</code></td>
<td>
<p>(paint) Specifies the lengths of the alternating dashes
and gaps that form the dash pattern.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_gap_width">line_gap_width</code></td>
<td>
<p>(paint) Draws a line casing outside of a line's actual path.
The value indicates the width of the inner gap.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_gradient">line_gradient</code></td>
<td>
<p>(paint) Defines a gradient with which to color a line feature.
Can only be used with GeoJSON sources that specify <code>lineMetrics = TRUE</code>.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_join">line_join</code></td>
<td>
<p>(layout) The display of lines when joining.
One of &quot;bevel&quot;, &quot;round&quot;, &quot;miter&quot;.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_miter_limit">line_miter_limit</code></td>
<td>
<p>(layout) Used to automatically convert miter joins to bevel joins for sharp angles.
Requires <code>line_join</code> to be &quot;miter&quot;.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_offset">line_offset</code></td>
<td>
<p>(paint) The line's offset.
For linear features, a positive value offsets the line to the right,
relative to the direction of the line, and a negative value to the left.
For polygon features, a positive value results in an inset, and a negative value results in an outset.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_opacity">line_opacity</code></td>
<td>
<p>(paint) The opacity at which the line will be drawn.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_pattern">line_pattern</code></td>
<td>
<p>(paint) Name of image in sprite to use for drawing image lines.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_round_limit">line_round_limit</code></td>
<td>
<p>(layout) Used to automatically convert round joins to miter joins for shallow angles.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_sort_key">line_sort_key</code></td>
<td>
<p>(layout) Sorts features in ascending order based on this value.
Features with a higher sort key will appear above features with a lower sort key.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_translate">line_translate</code></td>
<td>
<p>(paint) The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_translate_anchor">line_translate_anchor</code></td>
<td>
<p>(paint) Controls the frame of reference for <code>line_translate</code>.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_line_width">line_width</code></td>
<td>
<p>(paint) Stroke thickness.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_visibility">visibility</code></td>
<td>
<p>(layout) Whether the layer should be displayed.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_popup">popup</code></td>
<td>
<p>A <a href="https://github.com/janl/mustache.js">mustache</a> template
in which the tags refer to the properties of the layer's data object.</p>
</td></tr>
<tr><td><code id="add_line_layer_+3A_id">id</code></td>
<td>
<p>The unique id of the layer.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#line">https://docs.mapbox.com/mapbox-gl-js/style-spec/layers/#line</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>map &lt;-  as_mapbox_source(geojsonsf::geo_melbourne) %&gt;%
  mapboxer(
    center = c(144.9624, -37.8105),
    zoom = 11,
    pitch = 45
  ) %&gt;%
  add_navigation_control() %&gt;%
  add_line_layer(
    line_color = c("get", "strokeColor"),
    line_width = 2,
    popup = "{{SA2_NAME}}"
  )

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_marker'>Add a single marker to the map</h2><span id='topic+add_marker'></span>

<h3>Description</h3>

<p>Add a single marker to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_marker(map, lng, lat, popup = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_marker_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_marker_+3A_lng">lng</code></td>
<td>
<p>The longitude of the marker.</p>
</td></tr>
<tr><td><code id="add_marker_+3A_lat">lat</code></td>
<td>
<p>The latitude of the marker.</p>
</td></tr>
<tr><td><code id="add_marker_+3A_popup">popup</code></td>
<td>
<p>The popup text (HTML) that is displayed when you click on the marker.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>lng &lt;- -0.09
lat &lt;- 51.5

map &lt;- mapboxer() %&gt;%
  set_view_state(lng, lat) %&gt;%
  add_marker(lng, lat, popup = "You are here!")

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_mouse_position_control'>Add a mouse position control to the map</h2><span id='topic+add_mouse_position_control'></span>

<h3>Description</h3>

<p>Add a mouse position control to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_mouse_position_control(map, mustache_template = NULL, pos = NULL,
  css_text = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_mouse_position_control_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_mouse_position_control_+3A_mustache_template">mustache_template</code></td>
<td>
<p>A <a href="https://github.com/janl/mustache.js">mustache</a> template
that contains the mustache tags <code>lng</code> and <code>lat</code>.</p>
</td></tr>
<tr><td><code id="add_mouse_position_control_+3A_pos">pos</code></td>
<td>
<p>The position of the control. One of <code>top-left</code>, <code>top-right</code>,
<code>bottom-right</code> or <code>bottom-left</code>.</p>
</td></tr>
<tr><td><code id="add_mouse_position_control_+3A_css_text">css_text</code></td>
<td>
<p>A <code>cssText</code> string that will modify the style of the control element.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>map &lt;- mapboxer(zoom = 4) %&gt;%
  add_mouse_position_control(
    mustache_template = "&lt;b&gt;Lng:&lt;/b&gt;{{lng}}, &lt;b&gt;Lat:&lt;/b&gt;{{lat}}",
    pos = "bottom-left"
  )

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_popups'>Add popups to a layer</h2><span id='topic+add_popups'></span>

<h3>Description</h3>

<p>Usually you will add the popups in the <a href="#topic+add_layer">add_layer</a> function by setting the <code>popup</code>
parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_popups(map, layer_id, popup)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_popups_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_popups_+3A_layer_id">layer_id</code></td>
<td>
<p>The ID of the layer to which you want to add the popups.</p>
</td></tr>
<tr><td><code id="add_popups_+3A_popup">popup</code></td>
<td>
<p>A <a href="https://github.com/janl/mustache.js">mustache</a> template
in which the tags refer to the properties of the layer's data object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>LAYER_ID &lt;- "crashes"

mustache_tpl &lt;- "
  &lt;b&gt;Date:&lt;/b&gt; {{date}}&lt;/br&gt;
  &lt;b&gt;Time:&lt;/b&gt; {{time}}&lt;/br&gt;
  &lt;b&gt;Number of persons injured:&lt;/b&gt; {{injured}}
"

map &lt;- motor_vehicle_collisions_nyc %&gt;%
  as_mapbox_source() %&gt;%
  mapboxer(
    center = c(-73.9165, 40.7114),
    zoom = 9
  ) %&gt;%
  add_circle_layer(
    circle_color = "red",
    circle_blur = 1,
    filter = list("&gt;", "injured", 0),
    id = LAYER_ID
  ) %&gt;%
  add_popups(
    LAYER_ID,
    popup = mustache_tpl
  )

if (interactive()) map
</code></pre>

<hr>
<h2 id='add_source'>Add a Mapbox source to the map</h2><span id='topic+add_source'></span>

<h3>Description</h3>

<p>Add a Mapbox source to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_source(map, source, id = "mapboxer")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_source_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_source_+3A_source">source</code></td>
<td>
<p>A Mapbox source.</p>
</td></tr>
<tr><td><code id="add_source_+3A_id">id</code></td>
<td>
<p>The unique id of the data source.</p>
</td></tr>
</table>

<hr>
<h2 id='add_text_control'>Add a text control to the map</h2><span id='topic+add_text_control'></span>

<h3>Description</h3>

<p>Add a text control to the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_text_control(map, text, pos = NULL, css_text = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_text_control_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_text_control_+3A_text">text</code></td>
<td>
<p>The text (HTML) that is displayed.</p>
</td></tr>
<tr><td><code id="add_text_control_+3A_pos">pos</code></td>
<td>
<p>The position of the control. One of <code>top-left</code>, <code>top-right</code>,
<code>bottom-right</code> or <code>bottom-left</code>.</p>
</td></tr>
<tr><td><code id="add_text_control_+3A_css_text">css_text</code></td>
<td>
<p>A <code>cssText</code> string that will modify the style of the control element.</p>
</td></tr>
</table>

<hr>
<h2 id='add_tooltips'>Add tooltips to a layer</h2><span id='topic+add_tooltips'></span>

<h3>Description</h3>

<p>Add tooltips to a layer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_tooltips(map, layer_id, tooltip)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_tooltips_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="add_tooltips_+3A_layer_id">layer_id</code></td>
<td>
<p>The ID of the layer to which you want to add the tooltips.</p>
</td></tr>
<tr><td><code id="add_tooltips_+3A_tooltip">tooltip</code></td>
<td>
<p>A <a href="https://github.com/janl/mustache.js">mustache</a> template
in which the tags refer to the properties of the layer's data object.</p>
</td></tr>
</table>

<hr>
<h2 id='as_mapbox_source'>Convert a data object to a Mapbox GeoJSON source</h2><span id='topic+as_mapbox_source'></span><span id='topic+as_mapbox_source.json'></span><span id='topic+as_mapbox_source.data.frame'></span><span id='topic+as_mapbox_source.sf'></span>

<h3>Description</h3>

<p>Convert a data object to a Mapbox GeoJSON source
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_mapbox_source(data, ...)

## S3 method for class 'json'
as_mapbox_source(data, ...)

## S3 method for class 'data.frame'
as_mapbox_source(data, lng = "lng", lat = "lat",
  ...)

## S3 method for class 'sf'
as_mapbox_source(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_mapbox_source_+3A_data">data</code></td>
<td>
<p>A data frame that contains longitudes and latitudes in separate columns
or an <code>sf</code>-object.</p>
</td></tr>
<tr><td><code id="as_mapbox_source_+3A_...">...</code></td>
<td>
<p>The properties of the source.
See <a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/sources">https://docs.mapbox.com/mapbox-gl-js/style-spec/sources</a> for available options
for the given source type.</p>
</td></tr>
<tr><td><code id="as_mapbox_source_+3A_lng">lng</code></td>
<td>
<p>The name of the column containing the longitudes.</p>
</td></tr>
<tr><td><code id="as_mapbox_source_+3A_lat">lat</code></td>
<td>
<p>The name of the column containing the latitudes.</p>
</td></tr>
</table>

<hr>
<h2 id='basemap_background_style'>Create a background style</h2><span id='topic+basemap_background_style'></span>

<h3>Description</h3>

<p>Creates a background style that can be used as basemap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basemap_background_style(color = "#111", opacity = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basemap_background_style_+3A_color">color</code></td>
<td>
<p>The color of the background.</p>
</td></tr>
<tr><td><code id="basemap_background_style_+3A_opacity">opacity</code></td>
<td>
<p>The opacity of the background.</p>
</td></tr>
</table>

<hr>
<h2 id='basemap_raster_style'>Create a raster style</h2><span id='topic+basemap_raster_style'></span>

<h3>Description</h3>

<p>Creates a raster style that can be used as a basemap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basemap_raster_style(tiles = stamen_raster_tiles("terrain"),
  attribution = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basemap_raster_style_+3A_tiles">tiles</code></td>
<td>
<p>A list of tile URLs.</p>
</td></tr>
<tr><td><code id="basemap_raster_style_+3A_attribution">attribution</code></td>
<td>
<p>The attribution text of the tile layer.</p>
</td></tr>
</table>

<hr>
<h2 id='basemaps'>A list of basemap style URLs</h2><span id='topic+basemaps'></span>

<h3>Description</h3>

<p>A list of basemap style URLs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basemaps
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 2.</p>

<hr>
<h2 id='fit_bounds'>Fit the map to a bounding box</h2><span id='topic+fit_bounds'></span>

<h3>Description</h3>

<p>Fit the map to a bounding box
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_bounds(map, bounds, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_bounds_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="fit_bounds_+3A_bounds">bounds</code></td>
<td>
<p>The bounding box as a vector in [west, south, east, north] order
or a <code>bbox</code> object.</p>
</td></tr>
<tr><td><code id="fit_bounds_+3A_...">...</code></td>
<td>
<p>Optional arguments, see <a href="https://docs.mapbox.com/mapbox-gl-js/api/map/#map#fitbounds">https://docs.mapbox.com/mapbox-gl-js/api/map/#map#fitbounds</a>.</p>
</td></tr>
</table>

<hr>
<h2 id='mapbox_source'>Create a Mapbox source</h2><span id='topic+mapbox_source'></span>

<h3>Description</h3>

<p>Create a Mapbox source
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapbox_source(type, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapbox_source_+3A_type">type</code></td>
<td>
<p>The type of the source, e. g. <code>geojson</code>.</p>
</td></tr>
<tr><td><code id="mapbox_source_+3A_...">...</code></td>
<td>
<p>The properties of the source.
See <a href="https://docs.mapbox.com/mapbox-gl-js/style-spec/sources">https://docs.mapbox.com/mapbox-gl-js/style-spec/sources</a> for available options
for the given source type.</p>
</td></tr>
</table>

<hr>
<h2 id='mapboxer'>Create a mapboxer widget</h2><span id='topic+mapboxer'></span>

<h3>Description</h3>

<p>Create a mapboxer widget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapboxer(source = NULL, style = basemaps$Carto$dark_matter, ...,
  width = NULL, height = NULL, element_id = NULL,
  token = Sys.getenv("MAPBOX_API_TOKEN"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapboxer_+3A_source">source</code></td>
<td>
<p>A <a href="#topic+mapbox_source">mapbox_source</a> that is added to the map with the ID <code>MAPBOXER</code>.</p>
</td></tr>
<tr><td><code id="mapboxer_+3A_style">style</code></td>
<td>
<p>The map's Mapbox style.</p>
</td></tr>
<tr><td><code id="mapboxer_+3A_...">...</code></td>
<td>
<p>The properties of the map, see <a href="https://docs.mapbox.com/mapbox-gl-js/api/map/">https://docs.mapbox.com/mapbox-gl-js/api/map/</a>.</p>
</td></tr>
<tr><td><code id="mapboxer_+3A_width">width</code></td>
<td>
<p>The width of the widget.</p>
</td></tr>
<tr><td><code id="mapboxer_+3A_height">height</code></td>
<td>
<p>The height of the widget.</p>
</td></tr>
<tr><td><code id="mapboxer_+3A_element_id">element_id</code></td>
<td>
<p>The unique ID of the widget.</p>
</td></tr>
<tr><td><code id="mapboxer_+3A_token">token</code></td>
<td>
<p>A Mapbox API access token. Only needed if you want to use styles from Mapbox.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>map &lt;- mapboxer(
  center = c(-73.9165, 40.7114),
  zoom = 10,
  minZoom = 6,
  pitch = 30,
  bearing = 45
)

if (interactive()) map
</code></pre>

<hr>
<h2 id='mapboxer_proxy'>Create a mapboxer proxy object</h2><span id='topic+mapboxer_proxy'></span>

<h3>Description</h3>

<p>Create a <code><a href="#topic+mapboxer">mapboxer</a></code>-like object that can be used to update a mapboxer object
that has already been rendered in a Shiny app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapboxer_proxy(shiny_id, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapboxer_proxy_+3A_shiny_id">shiny_id</code></td>
<td>
<p>The output ID of the mapboxer object that should be updated.</p>
</td></tr>
<tr><td><code id="mapboxer_proxy_+3A_session">session</code></td>
<td>
<p>The current Shiny session object. Usually the default value can be used.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+update_mapboxer">update_mapboxer</a>
</p>

<hr>
<h2 id='mapboxer-shiny'>Shiny bindings for mapboxer</h2><span id='topic+mapboxer-shiny'></span><span id='topic+mapboxerOutput'></span><span id='topic+renderMapboxer'></span>

<h3>Description</h3>

<p>Output and render functions for using mapboxer within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mapboxerOutput(outputId, width = "100%", height = "400px")

renderMapboxer(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mapboxer-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="mapboxer-shiny_+3A_width">width</code>, <code id="mapboxer-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="mapboxer-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a mapboxer</p>
</td></tr>
<tr><td><code id="mapboxer-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="mapboxer-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)
library(mapboxer)

LAYER_ID &lt;- "mvc"

view &lt;- basicPage(
  h1("mapboxer"),
  sliderInput(
    "slider",
    "Number of persons injured",
    min = 0,
    max = max(motor_vehicle_collisions_nyc$injured),
    step = 1,
    value = 0
  ),
  checkboxInput("hide", "Hide layer"),
  mapboxerOutput("map"),
  htmlOutput("datetime")
)

server &lt;- function(input, output) {
  output$map &lt;- renderMapboxer({
      as_mapbox_source(motor_vehicle_collisions_nyc) %&gt;%
      mapboxer(
        center = c(-73.9165, 40.7114),
        zoom = 10,
        style = basemap_raster_style(stamen_raster_tiles())
      ) %&gt;%
      add_circle_layer(
        circle_color = "black",
        popup = "Number of persons injured {{injured}}",
        id = LAYER_ID
      ) %&gt;%
      add_mouse_position_control(
        "Lng: {{lng}}&lt;/br&gt;Lat: {{lat}}",
        css_text = "text-align: left; width: 180px;"
      ) %&gt;%
      add_navigation_control(pos = "top-left")
  })

  observeEvent(input$slider, {
    mapboxer_proxy("map") %&gt;%
      set_filter(LAYER_ID, list("==", "injured", input$slider)) %&gt;%
      update_mapboxer()
  })

  observeEvent(input$hide, {
    mapboxer_proxy("map") %&gt;%
      set_layout_property(LAYER_ID, "visibility", !input$hide) %&gt;%
      update_mapboxer()
  })

  output$datetime &lt;- renderText({
    props &lt;- input$map_onclick$props
    sprintf("&lt;p&gt;%s %s&lt;/p&gt;", props$date, props$time)
  })
}

if (interactive()) shinyApp(view, server)
</code></pre>

<hr>
<h2 id='motor_vehicle_collisions_nyc'>Motor Vehicle Collisions in NYC</h2><span id='topic+motor_vehicle_collisions_nyc'></span>

<h3>Description</h3>

<p>Motor Vehicle Collisions in NYC
</p>


<h3>Usage</h3>

<pre><code class='language-R'>motor_vehicle_collisions_nyc
</code></pre>


<h3>Format</h3>

<p>A data frame with 1601 rows and 6 variables,
where each row is a Motor Vehicle Collision:
</p>

<dl>
<dt>date</dt><dd><p>occurrence date of collision</p>
</dd>
<dt>time</dt><dd><p>occurrence time of collision</p>
</dd>
<dt>lng</dt><dd><p>latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326)</p>
</dd>
<dt>lat</dt><dd><p>longitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326)</p>
</dd>
<dt>injured</dt><dd><p>number of persons injured</p>
</dd>
<dt>killed</dt><dd><p>number of persons killed</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="https://opendata.cityofnewyork.us/">https://opendata.cityofnewyork.us/</a>
</p>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic++25+3C+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code>, <code><a href="magrittr.html#topic++25+3C+3E+25">%&lt;&gt;%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='set_data'>Update the data of a Mapbox source</h2><span id='topic+set_data'></span><span id='topic+set_data.character'></span><span id='topic+set_data.json'></span><span id='topic+set_data.data.frame'></span><span id='topic+set_data.sf'></span>

<h3>Description</h3>

<p>Update the data of a Mapbox source
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_data(map, data, source_id = NULL, ...)

## S3 method for class 'character'
set_data(map, data, source_id = NULL, ...)

## S3 method for class 'json'
set_data(map, data, source_id = NULL, ...)

## S3 method for class 'data.frame'
set_data(map, data, source_id = NULL, lng = "lng",
  lat = "lat", ...)

## S3 method for class 'sf'
set_data(map, data, source_id, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_data_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer_proxy">mapboxer_proxy</a> object.</p>
</td></tr>
<tr><td><code id="set_data_+3A_data">data</code></td>
<td>
<p>A <code>GeoJSON</code> object, an url pointing to an external <code>GeoJSON</code> document,
a data frame that contains longitudes and latitudes in separate columns or an sf-object.</p>
</td></tr>
<tr><td><code id="set_data_+3A_source_id">source_id</code></td>
<td>
<p>The ID of the source whose data should be updated.</p>
</td></tr>
<tr><td><code id="set_data_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
<tr><td><code id="set_data_+3A_lng">lng</code></td>
<td>
<p>The name of the column containing the longitudes.</p>
</td></tr>
<tr><td><code id="set_data_+3A_lat">lat</code></td>
<td>
<p>The name of the column containing the latitudes.</p>
</td></tr>
</table>


<h3>See Also</h3>


<ul>
<li> <p><a href="geojsonsf.html#topic+df_geojson">df_geojson</a>
</p>
</li>
<li> <p><a href="geojsonsf.html#topic+sf_geojson">sf_geojson</a>
</p>
</li></ul>


<hr>
<h2 id='set_filter'>Set the filter of a layer</h2><span id='topic+set_filter'></span>

<h3>Description</h3>

<p>Set the filter of a layer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_filter(map, layer_id, filter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_filter_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="set_filter_+3A_layer_id">layer_id</code></td>
<td>
<p>The ID of the layer whose property should be updated.</p>
</td></tr>
<tr><td><code id="set_filter_+3A_filter">filter</code></td>
<td>
<p>A filter expression that is applied to the <code>source</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='set_layer_properties'>Update layer properties</h2><span id='topic+set_layer_properties'></span><span id='topic+set_paint_property'></span><span id='topic+set_layout_property'></span>

<h3>Description</h3>

<p>Update layer properties
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_paint_property(map, layer_id, property, value)

set_layout_property(map, layer_id, property, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_layer_properties_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="set_layer_properties_+3A_layer_id">layer_id</code></td>
<td>
<p>The ID of the layer whose property should be updated.</p>
</td></tr>
<tr><td><code id="set_layer_properties_+3A_property">property</code></td>
<td>
<p>The name of the property that should be updated.</p>
</td></tr>
<tr><td><code id="set_layer_properties_+3A_value">value</code></td>
<td>
<p>The new value of the property.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>set_paint_property</code>: Update a paint property of a layer.
</p>
</li>
<li> <p><code>set_layout_property</code>: Update a layout property of a layer.
</p>
</li></ul>

<hr>
<h2 id='set_style'>Set the style of the map</h2><span id='topic+set_style'></span>

<h3>Description</h3>

<p>Set the style of the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_style(map, style)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_style_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="set_style_+3A_style">style</code></td>
<td>
<p>The map's Mapbox style.</p>
</td></tr>
</table>

<hr>
<h2 id='set_view_state'>Set the view state of the map</h2><span id='topic+set_view_state'></span>

<h3>Description</h3>

<p>Set the view state of the map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_view_state(map, lng, lat, zoom = 9, pitch = 0, bearing = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_view_state_+3A_map">map</code></td>
<td>
<p>A <a href="#topic+mapboxer">mapboxer</a> object.</p>
</td></tr>
<tr><td><code id="set_view_state_+3A_lng">lng</code></td>
<td>
<p>The longitude of the  geographical center point of the map.</p>
</td></tr>
<tr><td><code id="set_view_state_+3A_lat">lat</code></td>
<td>
<p>The latitude of the geographical center point of the map.</p>
</td></tr>
<tr><td><code id="set_view_state_+3A_zoom">zoom</code></td>
<td>
<p>The zoom level of the map.</p>
</td></tr>
<tr><td><code id="set_view_state_+3A_pitch">pitch</code></td>
<td>
<p>The pitch (tilt) of the map.</p>
</td></tr>
<tr><td><code id="set_view_state_+3A_bearing">bearing</code></td>
<td>
<p>The bearing (rotation) of the map.</p>
</td></tr>
</table>

<hr>
<h2 id='stamen_raster_tiles'>Get Stamen raster tile URLs</h2><span id='topic+stamen_raster_tiles'></span>

<h3>Description</h3>

<p>Get Stamen raster tile URLs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stamen_raster_tiles(theme = c("watercolor"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stamen_raster_tiles_+3A_theme">theme</code></td>
<td>
<p>The theme of the tiles.</p>
</td></tr>
</table>

<hr>
<h2 id='update_mapboxer'>Update a mapboxer proxy object in a Shiny app</h2><span id='topic+update_mapboxer'></span>

<h3>Description</h3>

<p>Update a mapboxer proxy object in a Shiny app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_mapboxer(proxy_obj, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_mapboxer_+3A_proxy_obj">proxy_obj</code></td>
<td>
<p>A <code><a href="#topic+mapboxer_proxy">mapboxer_proxy</a></code> object.</p>
</td></tr>
<tr><td><code id="update_mapboxer_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>
